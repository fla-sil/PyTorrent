{"info": {"author": "trb", "author_email": "sintrb@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "pbus\n===============\nA simple application layer event-bus lib, support redis/mqtt/rabbitmq.\n\nInstall\n===============\n```\n pip install pbus\n```\n\nUseage\n===============\n> 1. Use with Redis/MQTT/RabbitMQ Bus class.\n\nSubscriber\n\n```python\nimport pbus\nbus = pbus.RedisBus(host='127.0.0.1')   # need \"pip install redis\"\n# or\nbus = pbus.MQTTBus(host='127.0.0.1')   # need \"pip install paho-mqtt\"\n# or\nbus = pbus.RabbitMQBus(host='127.0.0.1')   # need \"pip install pika\"\nps = bus.subscriber('test')\nfor data in ps.listen():\n    print(data)\n```\n\nPublish\n```Python\nimport pbus\nbus = pbus.RedisBus(host='127.0.0.1')\n# or\nbus = pbus.MQTTBus(host='127.0.0.1')\n# or\nbus = pbus.RabbitMQBus(host='127.0.0.1')\nbus.publish('test', 'Hello')\n```\n\n> 2. Use with URI(recommend)\n```Python\nimport pbus\nbus = pbus.connect(\"redis://:password@127.0.0.1:6379/2\")    # with db 2\n# or\nbus = pbus.connect(\"mqtt://username:password@127.0.0.1:1883\")    #\n# or \nbus = pbus.connect(\"amqp://username:password@127.0.0.1:5672/myexchange\")    #  with \"myexchange\" exchange\n\n# ...... other code\n\n```\n\n> 3. Test event-bus speed.\n- a. Run consumer client\n```bash\npython -m pbus -u redis://127.0.0.1\n```\n\n- b. Run producer client\n```bash\npython -m pbus -u redis://127.0.0.1 -p\n```\n\nYou will see:\n```\nconnecting to bus redis://127.0.0.1 ...\nconnecte success!\nsubscribing to pbus ...\nsubscribe success!\nwaiting data from pbus\n1 :  count 27748 time: 5000ms speed: 5549/s total 27748\n2 :  count 83135 time: 5000ms speed: 16627/s total 110883\n3 :  count 86416 time: 5000ms speed: 17283/s total 197299\n4 :  count 72546 time: 5000ms speed: 14509/s total 269845\n```\n\nCtrl+C to stop test.\n\n\n[Click to view more information!](https://github.com/sintrb/pbus)\n\n\nCHANGES\n===============\n1.0.0\n\n- First version\n\n1.1.0\n\n- Support MQTT and RabbitMQ\n- Support connect with URI", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/sintrb/pbus/", "keywords": "pbus,bus,event,redis", "license": "", "maintainer": "", "maintainer_email": "", "name": "pbus", "package_url": "https://pypi.org/project/pbus/", "platform": "", "project_url": "https://pypi.org/project/pbus/", "project_urls": {"Homepage": "https://github.com/sintrb/pbus/"}, "release_url": "https://pypi.org/project/pbus/1.1.0/", "requires_dist": null, "requires_python": "", "summary": "A simple application layer event-bus lib, support redis/mqtt/rabbitmq.", "version": "1.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>pbus</h1>\n<p>A simple application layer event-bus lib, support redis/mqtt/rabbitmq.</p>\n<h1>Install</h1>\n<pre><code> pip install pbus\n</code></pre>\n<h1>Useage</h1>\n<blockquote>\n<ol>\n<li>Use with Redis/MQTT/RabbitMQ Bus class.</li>\n</ol>\n</blockquote>\n<p>Subscriber</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">pbus</span>\n<span class=\"n\">bus</span> <span class=\"o\">=</span> <span class=\"n\">pbus</span><span class=\"o\">.</span><span class=\"n\">RedisBus</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">)</span>   <span class=\"c1\"># need \"pip install redis\"</span>\n<span class=\"c1\"># or</span>\n<span class=\"n\">bus</span> <span class=\"o\">=</span> <span class=\"n\">pbus</span><span class=\"o\">.</span><span class=\"n\">MQTTBus</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">)</span>   <span class=\"c1\"># need \"pip install paho-mqtt\"</span>\n<span class=\"c1\"># or</span>\n<span class=\"n\">bus</span> <span class=\"o\">=</span> <span class=\"n\">pbus</span><span class=\"o\">.</span><span class=\"n\">RabbitMQBus</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">)</span>   <span class=\"c1\"># need \"pip install pika\"</span>\n<span class=\"n\">ps</span> <span class=\"o\">=</span> <span class=\"n\">bus</span><span class=\"o\">.</span><span class=\"n\">subscriber</span><span class=\"p\">(</span><span class=\"s1\">'test'</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">data</span> <span class=\"ow\">in</span> <span class=\"n\">ps</span><span class=\"o\">.</span><span class=\"n\">listen</span><span class=\"p\">():</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n</pre>\n<p>Publish</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">pbus</span>\n<span class=\"n\">bus</span> <span class=\"o\">=</span> <span class=\"n\">pbus</span><span class=\"o\">.</span><span class=\"n\">RedisBus</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">)</span>\n<span class=\"c1\"># or</span>\n<span class=\"n\">bus</span> <span class=\"o\">=</span> <span class=\"n\">pbus</span><span class=\"o\">.</span><span class=\"n\">MQTTBus</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">)</span>\n<span class=\"c1\"># or</span>\n<span class=\"n\">bus</span> <span class=\"o\">=</span> <span class=\"n\">pbus</span><span class=\"o\">.</span><span class=\"n\">RabbitMQBus</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">)</span>\n<span class=\"n\">bus</span><span class=\"o\">.</span><span class=\"n\">publish</span><span class=\"p\">(</span><span class=\"s1\">'test'</span><span class=\"p\">,</span> <span class=\"s1\">'Hello'</span><span class=\"p\">)</span>\n</pre>\n<blockquote>\n<ol>\n<li>Use with URI(recommend)</li>\n</ol>\n</blockquote>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">pbus</span>\n<span class=\"n\">bus</span> <span class=\"o\">=</span> <span class=\"n\">pbus</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">\"redis://:password@127.0.0.1:6379/2\"</span><span class=\"p\">)</span>    <span class=\"c1\"># with db 2</span>\n<span class=\"c1\"># or</span>\n<span class=\"n\">bus</span> <span class=\"o\">=</span> <span class=\"n\">pbus</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">\"mqtt://username:password@127.0.0.1:1883\"</span><span class=\"p\">)</span>    <span class=\"c1\">#</span>\n<span class=\"c1\"># or </span>\n<span class=\"n\">bus</span> <span class=\"o\">=</span> <span class=\"n\">pbus</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s2\">\"amqp://username:password@127.0.0.1:5672/myexchange\"</span><span class=\"p\">)</span>    <span class=\"c1\">#  with \"myexchange\" exchange</span>\n\n<span class=\"c1\"># ...... other code</span>\n</pre>\n<blockquote>\n<ol>\n<li>Test event-bus speed.</li>\n</ol>\n</blockquote>\n<ul>\n<li>a. Run consumer client</li>\n</ul>\n<pre>python -m pbus -u redis://127.0.0.1\n</pre>\n<ul>\n<li>b. Run producer client</li>\n</ul>\n<pre>python -m pbus -u redis://127.0.0.1 -p\n</pre>\n<p>You will see:</p>\n<pre><code>connecting to bus redis://127.0.0.1 ...\nconnecte success!\nsubscribing to pbus ...\nsubscribe success!\nwaiting data from pbus\n1 :  count 27748 time: 5000ms speed: 5549/s total 27748\n2 :  count 83135 time: 5000ms speed: 16627/s total 110883\n3 :  count 86416 time: 5000ms speed: 17283/s total 197299\n4 :  count 72546 time: 5000ms speed: 14509/s total 269845\n</code></pre>\n<p>Ctrl+C to stop test.</p>\n<p><a href=\"https://github.com/sintrb/pbus\" rel=\"nofollow\">Click to view more information!</a></p>\n<h1>CHANGES</h1>\n<p>1.0.0</p>\n<ul>\n<li>First version</li>\n</ul>\n<p>1.1.0</p>\n<ul>\n<li>Support MQTT and RabbitMQ</li>\n<li>Support connect with URI</li>\n</ul>\n\n          </div>"}, "last_serial": 5902623, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "080f930a64c5b8d95f15e29a96780d96", "sha256": "e97c94da3c8b7ce6f3cb50569ad0c8ab7dae65ce8b298c03e822334b1f0b9ab8"}, "downloads": -1, "filename": "pbus-1.0.0.tar.gz", "has_sig": false, "md5_digest": "080f930a64c5b8d95f15e29a96780d96", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5411, "upload_time": "2019-09-15T20:00:08", "upload_time_iso_8601": "2019-09-15T20:00:08.745342Z", "url": "https://files.pythonhosted.org/packages/d9/0a/c83a03324cfba9d5e8a8f7d49faa405ad97bbc9ea5fc16832cb0d1a8312e/pbus-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "8b23e7f286fe1d2db873cc676bac4f0a", "sha256": "fb7fe544a8d91c03568f0b2e0297c0694afceea06bd940f3381ab793597aec95"}, "downloads": -1, "filename": "pbus-1.0.1.tar.gz", "has_sig": false, "md5_digest": "8b23e7f286fe1d2db873cc676bac4f0a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3837, "upload_time": "2019-09-15T20:28:27", "upload_time_iso_8601": "2019-09-15T20:28:27.478072Z", "url": "https://files.pythonhosted.org/packages/f5/1d/848c74aaaa93cc964966fd5468532992216da22f422dbc76c730567442e6/pbus-1.0.1.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "7aa561b32ace918c3258c83c4ee5af5f", "sha256": "0dee602b1eeb34d636458aeff317e9762f8c3b9edc487e50cc30145edb42d7da"}, "downloads": -1, "filename": "pbus-1.1.0.tar.gz", "has_sig": false, "md5_digest": "7aa561b32ace918c3258c83c4ee5af5f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9932, "upload_time": "2019-09-29T13:24:55", "upload_time_iso_8601": "2019-09-29T13:24:55.634783Z", "url": "https://files.pythonhosted.org/packages/e2/97/8bf3ef7f51b94fe4e195d7a68439c2704ea722f36ef4e4b57734bf5a90c8/pbus-1.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "7aa561b32ace918c3258c83c4ee5af5f", "sha256": "0dee602b1eeb34d636458aeff317e9762f8c3b9edc487e50cc30145edb42d7da"}, "downloads": -1, "filename": "pbus-1.1.0.tar.gz", "has_sig": false, "md5_digest": "7aa561b32ace918c3258c83c4ee5af5f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9932, "upload_time": "2019-09-29T13:24:55", "upload_time_iso_8601": "2019-09-29T13:24:55.634783Z", "url": "https://files.pythonhosted.org/packages/e2/97/8bf3ef7f51b94fe4e195d7a68439c2704ea722f36ef4e4b57734bf5a90c8/pbus-1.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:57:32 2020"}
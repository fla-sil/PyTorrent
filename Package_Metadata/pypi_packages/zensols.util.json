{"info": {"author": "Paul Landes", "author_email": "landes@mailc.net", "bugtrack_url": null, "classifiers": [], "description": "# Command line, configuration and persistence utilities.\n\n[![Travis CI Build Status][travis-badge]][travis-link]\n[![PyPI][pypi-badge]][pypi-link]\n[![Python 3.7][python37-badge]][python37-link]\n\nCommand line, configuration and persistence utilities generally used for any\nmore than basic application.\n\nThe command line interface library intends to make command line execution and\nconfiguration easy.  The library supports (among other features) an mnemonic\ncentric way to tie a command line an *action* to a Python 3 handler code\nsegment.  Features include:\n\n* Better command line parsing than [optparse].  This a binding to from a\n  command line option using an action mnemonic to invocation of a handler.\n* Better application level support for configuration than [configparser].\n  Specifically, optional configuration and configuration groups.\n\nThis package also has other packages to:\n\n- Streamline in memory and on disk persistence\n- Construct objects using configuration files (both INI and YAML).\n- Multi-processing work with a persistence layer.\n\n\n## Obtaining\n\nThe easiest way to install the command line program is via the `pip` installer:\n```bash\npip3 install zensols.util\n```\n\n\n## Usage\n\nThe easiest to get started is to template out this project with the following\ncommands:\n\n```bash\n# clone the boilerplate repo\ngit clone https://github.com/plandes/template\n# download the boilerplate tool\nwget https://github.com/plandes/clj-mkproj/releases/download/v0.0.7/mkproj.jar\n# create a python template and build it out\njava -jar mkproj.jar config -s template/python\njava -jar mkproj.jar\n```\n\n\n### Command Line Interface\n\nIf you want to skip templating it out (i.e. don't like Java), create a command\nline module:\n\n```python\nfrom zensols.cli import OneConfPerActionOptionsCli\nfrom zensols.cli import SimpleActionCli\nfrom zensols.tools import HelloWorld\n\nVERSION='0.1'\n\nclass ConfAppCommandLine(OneConfPerActionOptionsCli):\n    def __init__(self):\n        cnf = {'executors':\n               [{'name': 'hello',\n                 'executor': lambda params: HelloWorld(**params),\n                 'actions':[{'name': 'doit',\n                             'meth': 'print_message',\n                             'opts': [['-m', '--message', True, # require argument\n                                       {'dest': 'message', 'metavar': 'STRING',\n                                        'help': 'a message to print'}]]}]}],\n               # uncomment to add a configparse (ini format) configuration file\n               # 'config_option': {'name': 'config',\n               #                   'opt': ['-c', '--config', False,\n               #                           {'dest': 'config', 'metavar': 'FILE',\n               #                            'help': 'configuration file'}]},\n               'whine': 1}\n        super(ConfAppCommandLine, self).__init__(cnf, version=VERSION)\n\ndef main():\n    cl = ConfAppCommandLine()\n    cl.invoke()\n```\n\nThis uses the `OneConfPerActionOptionsCliEnv` class, which provides a data\ndriven way of configuring the action based command line.  An extention of this\nclass is the `OneConfPerActionOptionsCliEnv` class, which imports environment\nvariables and allows adding to the configuration via adding a resource like\nfile (i.e. `~/.<program name>rc`) type file.  See the\n\nSee the [command line test cases](test/python/cli_env_test.py) for more\nexamples.\n\n\n## Changelog\n\nAn extensive changelog is available [here](CHANGELOG.md).\n\n\n## License\n\nCopyright (c) 2020 Paul Landes\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\nof the Software, and to permit persons to whom the Software is furnished to do\nso, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n\n<!-- links -->\n[travis-link]: https://travis-ci.org/plandes/util\n[travis-badge]: https://travis-ci.org/plandes/util.svg?branch=master\n[pypi]: https://pypi.org/project/zensols.util/\n[pypi-link]: https://pypi.python.org/pypi/zensols.util\n[pypi-badge]: https://img.shields.io/pypi/v/zensols.util.svg\n[python37-badge]: https://img.shields.io/badge/python-3.7-blue.svg\n[python37-link]: https://www.python.org/downloads/release/python-370\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "https://github.com/plandes/util/releases/download/v1.2.3/zensols.util-1.2.3-py3-none-any.whl", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/plandes/util", "keywords": "tooling", "license": "", "maintainer": "", "maintainer_email": "", "name": "zensols.util", "package_url": "https://pypi.org/project/zensols.util/", "platform": "", "project_url": "https://pypi.org/project/zensols.util/", "project_urls": {"Download": "https://github.com/plandes/util/releases/download/v1.2.3/zensols.util-1.2.3-py3-none-any.whl", "Homepage": "https://github.com/plandes/util"}, "release_url": "https://pypi.org/project/zensols.util/1.2.3/", "requires_dist": ["configparser (==3.5.0)", "PyYAML (>=5.1)", "parse (>=1.9.0)"], "requires_python": "", "summary": "Command line, configuration and persistence utilites generally used for any more than basic application.", "version": "1.2.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Command line, configuration and persistence utilities.</h1>\n<p><a href=\"https://travis-ci.org/plandes/util\" rel=\"nofollow\"><img alt=\"Travis CI Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b502b74aa5df42223d5dae35d4d4a0aec9f35597/68747470733a2f2f7472617669732d63692e6f72672f706c616e6465732f7574696c2e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.python.org/pypi/zensols.util\" rel=\"nofollow\"><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9f6e24425e2b2724cb00a57c7cea11b721fd55ac/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7a656e736f6c732e7574696c2e737667\"></a>\n<a href=\"https://www.python.org/downloads/release/python-370\" rel=\"nofollow\"><img alt=\"Python 3.7\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/99a5180f32db379110e9948c7de1aaf8f77bf2e8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d332e372d626c75652e737667\"></a></p>\n<p>Command line, configuration and persistence utilities generally used for any\nmore than basic application.</p>\n<p>The command line interface library intends to make command line execution and\nconfiguration easy.  The library supports (among other features) an mnemonic\ncentric way to tie a command line an <em>action</em> to a Python 3 handler code\nsegment.  Features include:</p>\n<ul>\n<li>Better command line parsing than [optparse].  This a binding to from a\ncommand line option using an action mnemonic to invocation of a handler.</li>\n<li>Better application level support for configuration than [configparser].\nSpecifically, optional configuration and configuration groups.</li>\n</ul>\n<p>This package also has other packages to:</p>\n<ul>\n<li>Streamline in memory and on disk persistence</li>\n<li>Construct objects using configuration files (both INI and YAML).</li>\n<li>Multi-processing work with a persistence layer.</li>\n</ul>\n<h2>Obtaining</h2>\n<p>The easiest way to install the command line program is via the <code>pip</code> installer:</p>\n<pre>pip3 install zensols.util\n</pre>\n<h2>Usage</h2>\n<p>The easiest to get started is to template out this project with the following\ncommands:</p>\n<pre><span class=\"c1\"># clone the boilerplate repo</span>\ngit clone https://github.com/plandes/template\n<span class=\"c1\"># download the boilerplate tool</span>\nwget https://github.com/plandes/clj-mkproj/releases/download/v0.0.7/mkproj.jar\n<span class=\"c1\"># create a python template and build it out</span>\njava -jar mkproj.jar config -s template/python\njava -jar mkproj.jar\n</pre>\n<h3>Command Line Interface</h3>\n<p>If you want to skip templating it out (i.e. don't like Java), create a command\nline module:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">zensols.cli</span> <span class=\"kn\">import</span> <span class=\"n\">OneConfPerActionOptionsCli</span>\n<span class=\"kn\">from</span> <span class=\"nn\">zensols.cli</span> <span class=\"kn\">import</span> <span class=\"n\">SimpleActionCli</span>\n<span class=\"kn\">from</span> <span class=\"nn\">zensols.tools</span> <span class=\"kn\">import</span> <span class=\"n\">HelloWorld</span>\n\n<span class=\"n\">VERSION</span><span class=\"o\">=</span><span class=\"s1\">'0.1'</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">ConfAppCommandLine</span><span class=\"p\">(</span><span class=\"n\">OneConfPerActionOptionsCli</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">cnf</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'executors'</span><span class=\"p\">:</span>\n               <span class=\"p\">[{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'hello'</span><span class=\"p\">,</span>\n                 <span class=\"s1\">'executor'</span><span class=\"p\">:</span> <span class=\"k\">lambda</span> <span class=\"n\">params</span><span class=\"p\">:</span> <span class=\"n\">HelloWorld</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">params</span><span class=\"p\">),</span>\n                 <span class=\"s1\">'actions'</span><span class=\"p\">:[{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'doit'</span><span class=\"p\">,</span>\n                             <span class=\"s1\">'meth'</span><span class=\"p\">:</span> <span class=\"s1\">'print_message'</span><span class=\"p\">,</span>\n                             <span class=\"s1\">'opts'</span><span class=\"p\">:</span> <span class=\"p\">[[</span><span class=\"s1\">'-m'</span><span class=\"p\">,</span> <span class=\"s1\">'--message'</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"c1\"># require argument</span>\n                                       <span class=\"p\">{</span><span class=\"s1\">'dest'</span><span class=\"p\">:</span> <span class=\"s1\">'message'</span><span class=\"p\">,</span> <span class=\"s1\">'metavar'</span><span class=\"p\">:</span> <span class=\"s1\">'STRING'</span><span class=\"p\">,</span>\n                                        <span class=\"s1\">'help'</span><span class=\"p\">:</span> <span class=\"s1\">'a message to print'</span><span class=\"p\">}]]}]}],</span>\n               <span class=\"c1\"># uncomment to add a configparse (ini format) configuration file</span>\n               <span class=\"c1\"># 'config_option': {'name': 'config',</span>\n               <span class=\"c1\">#                   'opt': ['-c', '--config', False,</span>\n               <span class=\"c1\">#                           {'dest': 'config', 'metavar': 'FILE',</span>\n               <span class=\"c1\">#                            'help': 'configuration file'}]},</span>\n               <span class=\"s1\">'whine'</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">}</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">ConfAppCommandLine</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">cnf</span><span class=\"p\">,</span> <span class=\"n\">version</span><span class=\"o\">=</span><span class=\"n\">VERSION</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"n\">cl</span> <span class=\"o\">=</span> <span class=\"n\">ConfAppCommandLine</span><span class=\"p\">()</span>\n    <span class=\"n\">cl</span><span class=\"o\">.</span><span class=\"n\">invoke</span><span class=\"p\">()</span>\n</pre>\n<p>This uses the <code>OneConfPerActionOptionsCliEnv</code> class, which provides a data\ndriven way of configuring the action based command line.  An extention of this\nclass is the <code>OneConfPerActionOptionsCliEnv</code> class, which imports environment\nvariables and allows adding to the configuration via adding a resource like\nfile (i.e. <code>~/.&lt;program name&gt;rc</code>) type file.  See the</p>\n<p>See the <a href=\"test/python/cli_env_test.py\" rel=\"nofollow\">command line test cases</a> for more\nexamples.</p>\n<h2>Changelog</h2>\n<p>An extensive changelog is available <a href=\"CHANGELOG.md\" rel=\"nofollow\">here</a>.</p>\n<h2>License</h2>\n<p>Copyright (c) 2020 Paul Landes</p>\n<p>Permission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\nof the Software, and to permit persons to whom the Software is furnished to do\nso, subject to the following conditions:</p>\n<p>The above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.</p>\n<p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.</p>\n\n\n          </div>"}, "last_serial": 7176651, "releases": {"1.2.0": [{"comment_text": "", "digests": {"md5": "b87c02d7fdbd1c788ee2d9b4d8df1ed0", "sha256": "8c754a8f9101f7289652e0efcefa173daaf94d1925e435f87737fc214b123c5f"}, "downloads": -1, "filename": "zensols.util-1.2.0-py3.7.egg", "has_sig": false, "md5_digest": "b87c02d7fdbd1c788ee2d9b4d8df1ed0", "packagetype": "bdist_egg", "python_version": "3.7", "requires_python": null, "size": 89392, "upload_time": "2020-04-26T02:35:47", "upload_time_iso_8601": "2020-04-26T02:35:47.563791Z", "url": "https://files.pythonhosted.org/packages/d5/90/83ac75729e171108cd0afb4a7e2073defb4b65884cc36788c1f6b6b135d9/zensols.util-1.2.0-py3.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "2b65fcdd95c73aea793ce169f248d51c", "sha256": "4e24b11bd1cc3e8df873792a488d892dabf03fdee2bcf1ff4098b71b09cd3621"}, "downloads": -1, "filename": "zensols.util-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "2b65fcdd95c73aea793ce169f248d51c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 36799, "upload_time": "2020-04-26T02:35:45", "upload_time_iso_8601": "2020-04-26T02:35:45.428746Z", "url": "https://files.pythonhosted.org/packages/72/79/62b61534f5d6a016ce5caae30b4759b12cbaedd6bf301bed1fe6dee9ae40/zensols.util-1.2.0-py3-none-any.whl", "yanked": false}], "1.2.1": [{"comment_text": "", "digests": {"md5": "51ed0bbf8f7ee8c8b0a44c3805750660", "sha256": "8729718479c20a965e0b844515907a955e108ceb92cd6e2804b1f343427bc12a"}, "downloads": -1, "filename": "zensols.util-1.2.1-py3.7.egg", "has_sig": false, "md5_digest": "51ed0bbf8f7ee8c8b0a44c3805750660", "packagetype": "bdist_egg", "python_version": "3.7", "requires_python": null, "size": 89376, "upload_time": "2020-04-27T01:24:22", "upload_time_iso_8601": "2020-04-27T01:24:22.448343Z", "url": "https://files.pythonhosted.org/packages/b5/54/e2e4ea3c75b2fcc61eb0842db24b85a1d458c6e1cc85a0d2bec91fcee333/zensols.util-1.2.1-py3.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "dbcfd992026b4a49b065d4645b9b87d7", "sha256": "2851af9281924cb573030eb708b83cb5ca402a07d74cab3f6e29c28e82c43f3e"}, "downloads": -1, "filename": "zensols.util-1.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "dbcfd992026b4a49b065d4645b9b87d7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 36796, "upload_time": "2020-04-27T01:24:21", "upload_time_iso_8601": "2020-04-27T01:24:21.178395Z", "url": "https://files.pythonhosted.org/packages/d0/1b/898a02260d8340d83c86c81d360c0d517fd70f2f46e05d9e926fa5154419/zensols.util-1.2.1-py3-none-any.whl", "yanked": false}], "1.2.2": [{"comment_text": "", "digests": {"md5": "9040a3550d0392610f185f2d5842af03", "sha256": "1901099b4a43733060b3dbf0114fc2ed473ea07465598bbd2f511840ea8e79a8"}, "downloads": -1, "filename": "zensols.util-1.2.2-py3.7.egg", "has_sig": false, "md5_digest": "9040a3550d0392610f185f2d5842af03", "packagetype": "bdist_egg", "python_version": "3.7", "requires_python": null, "size": 93499, "upload_time": "2020-05-03T03:35:48", "upload_time_iso_8601": "2020-05-03T03:35:48.686427Z", "url": "https://files.pythonhosted.org/packages/bd/7e/8a8633ddff39888db77979801f0f8f2eb2f82610307465d3c8248fa3d112/zensols.util-1.2.2-py3.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "776d9ae62b97375c804df6e8930e1254", "sha256": "08e40e8207c7afc5ddfcaf6b5cb013bda110e918223d842fe749432bf2f50042"}, "downloads": -1, "filename": "zensols.util-1.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "776d9ae62b97375c804df6e8930e1254", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 38220, "upload_time": "2020-05-03T03:35:47", "upload_time_iso_8601": "2020-05-03T03:35:47.511410Z", "url": "https://files.pythonhosted.org/packages/a2/94/1e488244647ca00e758704f9e6608b3f4bbf5c2afa79c200670f64ac31fd/zensols.util-1.2.2-py3-none-any.whl", "yanked": false}], "1.2.3": [{"comment_text": "", "digests": {"md5": "d421b8b9a88ad62134743b76e7e51938", "sha256": "1e20764381dee9588126f0257ee70324416713d33a077ef0c90c07a200b69595"}, "downloads": -1, "filename": "zensols.util-1.2.3-py3.7.egg", "has_sig": false, "md5_digest": "d421b8b9a88ad62134743b76e7e51938", "packagetype": "bdist_egg", "python_version": "3.7", "requires_python": null, "size": 96099, "upload_time": "2020-05-06T00:12:51", "upload_time_iso_8601": "2020-05-06T00:12:51.204008Z", "url": "https://files.pythonhosted.org/packages/bd/03/dc1a1a5d75d6dfe10e6bdcbb2b591129929032b0c211721fab407ca02c1b/zensols.util-1.2.3-py3.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "d9be9d26fd1de4f56cfdd3a2514cd47d", "sha256": "58dccc8eccd885c11d478d9fff3a373cf70cb3e426f1786354917d956221632b"}, "downloads": -1, "filename": "zensols.util-1.2.3-py3-none-any.whl", "has_sig": false, "md5_digest": "d9be9d26fd1de4f56cfdd3a2514cd47d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 39310, "upload_time": "2020-05-06T00:12:49", "upload_time_iso_8601": "2020-05-06T00:12:49.975515Z", "url": "https://files.pythonhosted.org/packages/65/6c/984e166b5a7a44c57b9d84357819800097e414b448cf8103f5833afc2719/zensols.util-1.2.3-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "d421b8b9a88ad62134743b76e7e51938", "sha256": "1e20764381dee9588126f0257ee70324416713d33a077ef0c90c07a200b69595"}, "downloads": -1, "filename": "zensols.util-1.2.3-py3.7.egg", "has_sig": false, "md5_digest": "d421b8b9a88ad62134743b76e7e51938", "packagetype": "bdist_egg", "python_version": "3.7", "requires_python": null, "size": 96099, "upload_time": "2020-05-06T00:12:51", "upload_time_iso_8601": "2020-05-06T00:12:51.204008Z", "url": "https://files.pythonhosted.org/packages/bd/03/dc1a1a5d75d6dfe10e6bdcbb2b591129929032b0c211721fab407ca02c1b/zensols.util-1.2.3-py3.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "d9be9d26fd1de4f56cfdd3a2514cd47d", "sha256": "58dccc8eccd885c11d478d9fff3a373cf70cb3e426f1786354917d956221632b"}, "downloads": -1, "filename": "zensols.util-1.2.3-py3-none-any.whl", "has_sig": false, "md5_digest": "d9be9d26fd1de4f56cfdd3a2514cd47d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 39310, "upload_time": "2020-05-06T00:12:49", "upload_time_iso_8601": "2020-05-06T00:12:49.975515Z", "url": "https://files.pythonhosted.org/packages/65/6c/984e166b5a7a44c57b9d84357819800097e414b448cf8103f5833afc2719/zensols.util-1.2.3-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 03:17:58 2020"}
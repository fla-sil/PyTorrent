{"info": {"author": "Fatih K\u0131l\u0131\u00e7", "author_email": "m.fatihklc0@gmail.com", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3.2", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# Serviceless Distributor\nThe Serviceless Distributor is a library to help you to run exact functions without any other service.\n\n## How it works?\nIt is simply a decorator which takes arguments and keyword arguments, pickles them and sends them to other nodes with **HTTP** requests.\n\n## Is it efficient to use?\nThe answer is depends on the mode you select. If you set `Distributor.bounce_mode = False` one node need to send data to all nodes **BUT** if you set `Distributor.bounce_mode = True` (which is default) all nodes will send data to next node so all nodes will make only one request instead of `len(SERVICELESS_DISTRIBUTOR_NODES)`.\n\n## Is it secure?\nIt is secure as you keep your **key** as a secret. Library uses `django.core.signing` replica([djangoless-signing](https://github.com/FKLC/djangoless-signing)) to sign and unsign data to make sure data is sent over servers. **BUT** it is always recommended to configure your servers to restrict IPs connecting to this endpoint.\n\n## Quick Start for Flask\n**USE THIS LIBRARY IF YOU AREN'T USING DJANGO** if you are using Django check [django-serviceless-distributor](https://github.com/FKLC/django-serviceless-distributor)\n\n\nInstall library\n```bash\npip install serviceless-distributor\n```\n\nAdd this snippet to your app\n```py\n....\nfrom serviceless_distributor import Distributor\n....\n\n....\n# Key to sign your data\nDistributor.key = b\"literally anything but you'll have to keep it secret\"\n\n# Nodes IPs (Do not use load balancer IP, we couldn't know\n# if all nodes affected if you use load balancer IP)\nDistributor.nodes = [\"http://10.0.0.0\", \"http://10.0.0.1\"]\n\n# Headers to use while sending data\n# (This can be used to change \"Host\" to pass Host restriction)\nDistributor.headers = {}\n....\n\n@app.route(\"/serviceless_distributor\", methods=['POST'])\ndef hello():\n    data = request.form.get('username')\n    if data:\n        Distributor._run_function(data)\n    return \"\"\n```\n\nRegister functions you want to distributed\n```py\nfrom serviceless_distributor import Distributor\n\n@Distributor.register_function()\ndef sum_arguments(*args):\n  return sum(args)\n\n# Or lets suppose you want to distribute an imported function\nfrom some_module import some_function\n\nsome_function = Distributor.register_function()(some_function)\n```\n\n\n### (Not) Frequently Asked Questions\n1. How do I set different node set for diffrent functions?\n    ```py\n    special_nodes = [\"http://10.0.0.0\", \"http://10.0.0.1\"]\n\n    @Distributor.register_function(nodes=special_nodes)\n    def sum_arguments(*args):\n        return sum(args)\n\n    # Or\n    from some_module import some_function\n\n    Distributor.register_function(nodes=special_nodes)(some_function)\n    ```\n\n2. Can I change the path?\n\n    Yes, you can change `Distributor.path` **BUT** also don't forget to change your url config according to the change you made.\n\n3. How many requests sent by library simultaneously?\n\n    It is 10 by default but you can change by setting `Distributor.simultaneous_requests`. **ATTENTION** by simultaneously requests it means distributing registered functions to other nodes. If you run a registered function X times in a row server will send X times of requests. It doesn't create X threads for every registered function run.\n\n4. Is it blocking?\n\n    **No**, it creates threads using `concurrent.futures.ThreadPoolExecutor` and returns the output of registered function.\n\n5. Why should I use this instead of other libraries?\n\n    The only reason could be saving money this is actually why I created that. To me this isn't a good solution when compared to other libraries but the best at least I can do without any other servers.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "https://pypi.org/project/serviceless-distributor/", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/FKLC/serviceless-distributor", "keywords": "", "license": "MIT License", "maintainer": "", "maintainer_email": "", "name": "serviceless-distributor", "package_url": "https://pypi.org/project/serviceless-distributor/", "platform": "", "project_url": "https://pypi.org/project/serviceless-distributor/", "project_urls": {"Download": "https://pypi.org/project/serviceless-distributor/", "Homepage": "https://github.com/FKLC/serviceless-distributor"}, "release_url": "https://pypi.org/project/serviceless-distributor/1.0.101/", "requires_dist": ["requests", "djangoless-signing"], "requires_python": "", "summary": "A simple library to run exact functions over all server nodes without any service", "version": "1.0.101", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Serviceless Distributor</h1>\n<p>The Serviceless Distributor is a library to help you to run exact functions without any other service.</p>\n<h2>How it works?</h2>\n<p>It is simply a decorator which takes arguments and keyword arguments, pickles them and sends them to other nodes with <strong>HTTP</strong> requests.</p>\n<h2>Is it efficient to use?</h2>\n<p>The answer is depends on the mode you select. If you set <code>Distributor.bounce_mode = False</code> one node need to send data to all nodes <strong>BUT</strong> if you set <code>Distributor.bounce_mode = True</code> (which is default) all nodes will send data to next node so all nodes will make only one request instead of <code>len(SERVICELESS_DISTRIBUTOR_NODES)</code>.</p>\n<h2>Is it secure?</h2>\n<p>It is secure as you keep your <strong>key</strong> as a secret. Library uses <code>django.core.signing</code> replica(<a href=\"https://github.com/FKLC/djangoless-signing\" rel=\"nofollow\">djangoless-signing</a>) to sign and unsign data to make sure data is sent over servers. <strong>BUT</strong> it is always recommended to configure your servers to restrict IPs connecting to this endpoint.</p>\n<h2>Quick Start for Flask</h2>\n<p><strong>USE THIS LIBRARY IF YOU AREN'T USING DJANGO</strong> if you are using Django check <a href=\"https://github.com/FKLC/django-serviceless-distributor\" rel=\"nofollow\">django-serviceless-distributor</a></p>\n<p>Install library</p>\n<pre>pip install serviceless-distributor\n</pre>\n<p>Add this snippet to your app</p>\n<pre><span class=\"o\">....</span>\n<span class=\"kn\">from</span> <span class=\"nn\">serviceless_distributor</span> <span class=\"kn\">import</span> <span class=\"n\">Distributor</span>\n<span class=\"o\">....</span>\n\n<span class=\"o\">....</span>\n<span class=\"c1\"># Key to sign your data</span>\n<span class=\"n\">Distributor</span><span class=\"o\">.</span><span class=\"n\">key</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s2\">\"literally anything but you'll have to keep it secret\"</span>\n\n<span class=\"c1\"># Nodes IPs (Do not use load balancer IP, we couldn't know</span>\n<span class=\"c1\"># if all nodes affected if you use load balancer IP)</span>\n<span class=\"n\">Distributor</span><span class=\"o\">.</span><span class=\"n\">nodes</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"http://10.0.0.0\"</span><span class=\"p\">,</span> <span class=\"s2\">\"http://10.0.0.1\"</span><span class=\"p\">]</span>\n\n<span class=\"c1\"># Headers to use while sending data</span>\n<span class=\"c1\"># (This can be used to change \"Host\" to pass Host restriction)</span>\n<span class=\"n\">Distributor</span><span class=\"o\">.</span><span class=\"n\">headers</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n<span class=\"o\">....</span>\n\n<span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">\"/serviceless_distributor\"</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'POST'</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">():</span>\n    <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">form</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">'username'</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">data</span><span class=\"p\">:</span>\n        <span class=\"n\">Distributor</span><span class=\"o\">.</span><span class=\"n\">_run_function</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"s2\">\"\"</span>\n</pre>\n<p>Register functions you want to distributed</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">serviceless_distributor</span> <span class=\"kn\">import</span> <span class=\"n\">Distributor</span>\n\n<span class=\"nd\">@Distributor</span><span class=\"o\">.</span><span class=\"n\">register_function</span><span class=\"p\">()</span>\n<span class=\"k\">def</span> <span class=\"nf\">sum_arguments</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">):</span>\n  <span class=\"k\">return</span> <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Or lets suppose you want to distribute an imported function</span>\n<span class=\"kn\">from</span> <span class=\"nn\">some_module</span> <span class=\"kn\">import</span> <span class=\"n\">some_function</span>\n\n<span class=\"n\">some_function</span> <span class=\"o\">=</span> <span class=\"n\">Distributor</span><span class=\"o\">.</span><span class=\"n\">register_function</span><span class=\"p\">()(</span><span class=\"n\">some_function</span><span class=\"p\">)</span>\n</pre>\n<h3>(Not) Frequently Asked Questions</h3>\n<ol>\n<li>\n<p>How do I set different node set for diffrent functions?</p>\n<pre><span class=\"n\">special_nodes</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"http://10.0.0.0\"</span><span class=\"p\">,</span> <span class=\"s2\">\"http://10.0.0.1\"</span><span class=\"p\">]</span>\n\n<span class=\"nd\">@Distributor</span><span class=\"o\">.</span><span class=\"n\">register_function</span><span class=\"p\">(</span><span class=\"n\">nodes</span><span class=\"o\">=</span><span class=\"n\">special_nodes</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">sum_arguments</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Or</span>\n<span class=\"kn\">from</span> <span class=\"nn\">some_module</span> <span class=\"kn\">import</span> <span class=\"n\">some_function</span>\n\n<span class=\"n\">Distributor</span><span class=\"o\">.</span><span class=\"n\">register_function</span><span class=\"p\">(</span><span class=\"n\">nodes</span><span class=\"o\">=</span><span class=\"n\">special_nodes</span><span class=\"p\">)(</span><span class=\"n\">some_function</span><span class=\"p\">)</span>\n</pre>\n</li>\n<li>\n<p>Can I change the path?</p>\n<p>Yes, you can change <code>Distributor.path</code> <strong>BUT</strong> also don't forget to change your url config according to the change you made.</p>\n</li>\n<li>\n<p>How many requests sent by library simultaneously?</p>\n<p>It is 10 by default but you can change by setting <code>Distributor.simultaneous_requests</code>. <strong>ATTENTION</strong> by simultaneously requests it means distributing registered functions to other nodes. If you run a registered function X times in a row server will send X times of requests. It doesn't create X threads for every registered function run.</p>\n</li>\n<li>\n<p>Is it blocking?</p>\n<p><strong>No</strong>, it creates threads using <code>concurrent.futures.ThreadPoolExecutor</code> and returns the output of registered function.</p>\n</li>\n<li>\n<p>Why should I use this instead of other libraries?</p>\n<p>The only reason could be saving money this is actually why I created that. To me this isn't a good solution when compared to other libraries but the best at least I can do without any other servers.</p>\n</li>\n</ol>\n\n          </div>"}, "last_serial": 5008744, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "56ce4e9be02296719dca7fec15f8fc82", "sha256": "e95bde83c36e77080c0aa92d62c753a238444aaab2c87c774823e317cc103e4e"}, "downloads": -1, "filename": "serviceless_distributor-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "56ce4e9be02296719dca7fec15f8fc82", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5734, "upload_time": "2019-03-30T18:53:50", "upload_time_iso_8601": "2019-03-30T18:53:50.364850Z", "url": "https://files.pythonhosted.org/packages/3f/86/69fc4aa2e1e75e4ebeff1b3dd2ab3f128b70c9d935fc09a664e7463218fe/serviceless_distributor-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "abbe06f6e7e79d773b8db5230230fc3f", "sha256": "4ce8847bc60e8ad252e1a7c8e04ebcbe72527e25445e936d47d97ec3fddcd339"}, "downloads": -1, "filename": "serviceless-distributor-1.0.0.tar.gz", "has_sig": false, "md5_digest": "abbe06f6e7e79d773b8db5230230fc3f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4616, "upload_time": "2019-03-30T18:53:52", "upload_time_iso_8601": "2019-03-30T18:53:52.540082Z", "url": "https://files.pythonhosted.org/packages/2c/34/00408cf3e5302762d77459dc78ab5973f66c79ba87c16e699c95e15cf3dc/serviceless-distributor-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "00de60d36870707b76641abebd4b2939", "sha256": "6481295ba3979fbce07eba8823d27824e780fbb402517fa9c05ddd94e2bbdbae"}, "downloads": -1, "filename": "serviceless_distributor-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "00de60d36870707b76641abebd4b2939", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5746, "upload_time": "2019-03-30T20:41:21", "upload_time_iso_8601": "2019-03-30T20:41:21.838142Z", "url": "https://files.pythonhosted.org/packages/56/ef/92a435cac5df68744dc3c3f79198e03782e350edfbe19b8a4b495e6d015f/serviceless_distributor-1.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b88ba4e8e5f4bbcda25148a9aa9155bd", "sha256": "18c02ea6f1716afb475c3b7e31584199fa4e8f9df32bb06dade54d364e05ebcd"}, "downloads": -1, "filename": "serviceless-distributor-1.0.1.tar.gz", "has_sig": false, "md5_digest": "b88ba4e8e5f4bbcda25148a9aa9155bd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4625, "upload_time": "2019-03-30T20:41:23", "upload_time_iso_8601": "2019-03-30T20:41:23.327981Z", "url": "https://files.pythonhosted.org/packages/d7/f4/9624ff58d5287dc83c88ad5998cf34e86207817fffe692e4311602f66581/serviceless-distributor-1.0.1.tar.gz", "yanked": false}], "1.0.101": [{"comment_text": "", "digests": {"md5": "15beccc2b9c3e333c786bc844172fcca", "sha256": "37f8f4d4d43384e07e6d9ec42920b9b4ebf351f7ba542a1c503c8ec7053f9cd9"}, "downloads": -1, "filename": "serviceless_distributor-1.0.101-py3-none-any.whl", "has_sig": false, "md5_digest": "15beccc2b9c3e333c786bc844172fcca", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5774, "upload_time": "2019-03-31T06:54:01", "upload_time_iso_8601": "2019-03-31T06:54:01.721529Z", "url": "https://files.pythonhosted.org/packages/6e/f9/55c863432633c2f74d97d31afcd37263e1f4db06345e1d730ea6fdb70090/serviceless_distributor-1.0.101-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "edc69cedf0f6fcbbb6d43fe005400421", "sha256": "1a4e44201899c6c590ae0a972e716391ca86edbbc3a2cb7f7b0e2d41e3aa1c08"}, "downloads": -1, "filename": "serviceless-distributor-1.0.101.tar.gz", "has_sig": false, "md5_digest": "edc69cedf0f6fcbbb6d43fe005400421", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4638, "upload_time": "2019-03-31T06:54:03", "upload_time_iso_8601": "2019-03-31T06:54:03.383126Z", "url": "https://files.pythonhosted.org/packages/10/81/e11186b0b66bb8174b68bfd6c548fd8629a95e5542312613dfdd6d800b07/serviceless-distributor-1.0.101.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "15beccc2b9c3e333c786bc844172fcca", "sha256": "37f8f4d4d43384e07e6d9ec42920b9b4ebf351f7ba542a1c503c8ec7053f9cd9"}, "downloads": -1, "filename": "serviceless_distributor-1.0.101-py3-none-any.whl", "has_sig": false, "md5_digest": "15beccc2b9c3e333c786bc844172fcca", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5774, "upload_time": "2019-03-31T06:54:01", "upload_time_iso_8601": "2019-03-31T06:54:01.721529Z", "url": "https://files.pythonhosted.org/packages/6e/f9/55c863432633c2f74d97d31afcd37263e1f4db06345e1d730ea6fdb70090/serviceless_distributor-1.0.101-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "edc69cedf0f6fcbbb6d43fe005400421", "sha256": "1a4e44201899c6c590ae0a972e716391ca86edbbc3a2cb7f7b0e2d41e3aa1c08"}, "downloads": -1, "filename": "serviceless-distributor-1.0.101.tar.gz", "has_sig": false, "md5_digest": "edc69cedf0f6fcbbb6d43fe005400421", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4638, "upload_time": "2019-03-31T06:54:03", "upload_time_iso_8601": "2019-03-31T06:54:03.383126Z", "url": "https://files.pythonhosted.org/packages/10/81/e11186b0b66bb8174b68bfd6c548fd8629a95e5542312613dfdd6d800b07/serviceless-distributor-1.0.101.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:14:57 2020"}
{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": ["Framework :: Django", "License :: Public Domain", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "<!--\nhttps://pypi.org/project/readme-generator/\nhttps://pypi.org/project/python-readme-generator/\n-->\n\n[![](https://img.shields.io/pypi/pyversions/django-github-auth.svg?longCache=True)](https://pypi.org/project/django-github-auth/)\n[![](https://img.shields.io/badge/License-Unlicense-blue.svg?longCache=True)](https://unlicense.org/)\n\n#### Installation\n```bash\n$ [sudo] pip install django-github-auth\n```\n\n#### Examples\nregister github app - [https://github.com/settings/developers](https://github.com/settings/developers)\n\n`settings.py`\n```python\nGITHUB_CLIENT_ID = 'CLIENT_ID'\nGITHUB_SECRET = 'SECRET'\nGITHUB_CALLBACK_URL = '/callback'\n\nGITHUB_SCOPE = [\n    'user',\n    'repo',\n]\n\nAUTH_USER_MODEL = 'users.User'\n```\n\n`views.py`\n```python\nfrom django_github_auth.views import GithubOAuth2CallbackView\n\nfrom apps.core.users.models import User\n\nclass CallbackView(GithubOAuth2CallbackView):\n    def get(self,request, *args, **kwargs):\n        defaults = dict(login=self.data['login'],token=self.token)\n        user,created = User.objects.get_or_create(defaults,id=self.data['id'])\n        self.login(user)\n        return self.redirect('/users/%s/' % self.data['login'])\n```\n\n`urls.py`\n```python\nfrom django_github_auth.views import GithubOAuth2LoginView\nfrom views import CallbackView\n\nurlpatterns = [\n    path('callback', CallbackView.as_view()),\n    path('login', GithubOAuth2LoginView.as_view())\n]\n```\n\n`users/models.py`\n```python\nfrom django.db import models\nfrom django.contrib.auth.models import AbstractBaseUser\n\nclass User(AbstractBaseUser):\n    login = models.TextField(unique=True)\n    password = models.TextField(null=True)\n    last_login = models.DateTimeField(null=True)\n    token = models.TextField()\n\n    USERNAME_FIELD = 'login'\n```\n\n<p align=\"center\">\n    <a href=\"https://pypi.org/project/python-readme-generator/\">python-readme-generator</a>\n</p>", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/andrewp-as-is/django-github-auth.py", "keywords": "django,github,auth", "license": "Unlicense", "maintainer": "", "maintainer_email": "", "name": "django-github-auth", "package_url": "https://pypi.org/project/django-github-auth/", "platform": "", "project_url": "https://pypi.org/project/django-github-auth/", "project_urls": {"Homepage": "https://github.com/andrewp-as-is/django-github-auth.py"}, "release_url": "https://pypi.org/project/django-github-auth/2020.5.4/", "requires_dist": null, "requires_python": "", "summary": "django github auth", "version": "2020.5.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://pypi.org/project/django-github-auth/\" rel=\"nofollow\"><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/343912bab7f7dcdce51ed5da1e28bb4bde7679b5/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f646a616e676f2d6769746875622d617574682e7376673f6c6f6e6743616368653d54727565\"></a>\n<a href=\"https://unlicense.org/\" rel=\"nofollow\"><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f4e8a8f9c20068b8993eef25e402898571038660/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d556e6c6963656e73652d626c75652e7376673f6c6f6e6743616368653d54727565\"></a></p>\n<h4>Installation</h4>\n<pre>$ <span class=\"o\">[</span>sudo<span class=\"o\">]</span> pip install django-github-auth\n</pre>\n<h4>Examples</h4>\n<p>register github app - <a href=\"https://github.com/settings/developers\" rel=\"nofollow\">https://github.com/settings/developers</a></p>\n<p><code>settings.py</code></p>\n<pre><span class=\"n\">GITHUB_CLIENT_ID</span> <span class=\"o\">=</span> <span class=\"s1\">'CLIENT_ID'</span>\n<span class=\"n\">GITHUB_SECRET</span> <span class=\"o\">=</span> <span class=\"s1\">'SECRET'</span>\n<span class=\"n\">GITHUB_CALLBACK_URL</span> <span class=\"o\">=</span> <span class=\"s1\">'/callback'</span>\n\n<span class=\"n\">GITHUB_SCOPE</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"s1\">'user'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'repo'</span><span class=\"p\">,</span>\n<span class=\"p\">]</span>\n\n<span class=\"n\">AUTH_USER_MODEL</span> <span class=\"o\">=</span> <span class=\"s1\">'users.User'</span>\n</pre>\n<p><code>views.py</code></p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_github_auth.views</span> <span class=\"kn\">import</span> <span class=\"n\">GithubOAuth2CallbackView</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">apps.core.users.models</span> <span class=\"kn\">import</span> <span class=\"n\">User</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">CallbackView</span><span class=\"p\">(</span><span class=\"n\">GithubOAuth2CallbackView</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"n\">defaults</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">login</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">'login'</span><span class=\"p\">],</span><span class=\"n\">token</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">token</span><span class=\"p\">)</span>\n        <span class=\"n\">user</span><span class=\"p\">,</span><span class=\"n\">created</span> <span class=\"o\">=</span> <span class=\"n\">User</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get_or_create</span><span class=\"p\">(</span><span class=\"n\">defaults</span><span class=\"p\">,</span><span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">'id'</span><span class=\"p\">])</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">login</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">redirect</span><span class=\"p\">(</span><span class=\"s1\">'/users/</span><span class=\"si\">%s</span><span class=\"s1\">/'</span> <span class=\"o\">%</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">'login'</span><span class=\"p\">])</span>\n</pre>\n<p><code>urls.py</code></p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_github_auth.views</span> <span class=\"kn\">import</span> <span class=\"n\">GithubOAuth2LoginView</span>\n<span class=\"kn\">from</span> <span class=\"nn\">views</span> <span class=\"kn\">import</span> <span class=\"n\">CallbackView</span>\n\n<span class=\"n\">urlpatterns</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s1\">'callback'</span><span class=\"p\">,</span> <span class=\"n\">CallbackView</span><span class=\"o\">.</span><span class=\"n\">as_view</span><span class=\"p\">()),</span>\n    <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s1\">'login'</span><span class=\"p\">,</span> <span class=\"n\">GithubOAuth2LoginView</span><span class=\"o\">.</span><span class=\"n\">as_view</span><span class=\"p\">())</span>\n<span class=\"p\">]</span>\n</pre>\n<p><code>users/models.py</code></p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.contrib.auth.models</span> <span class=\"kn\">import</span> <span class=\"n\">AbstractBaseUser</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">User</span><span class=\"p\">(</span><span class=\"n\">AbstractBaseUser</span><span class=\"p\">):</span>\n    <span class=\"n\">login</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">TextField</span><span class=\"p\">(</span><span class=\"n\">unique</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">password</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">TextField</span><span class=\"p\">(</span><span class=\"n\">null</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">last_login</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">DateTimeField</span><span class=\"p\">(</span><span class=\"n\">null</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">token</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">TextField</span><span class=\"p\">()</span>\n\n    <span class=\"n\">USERNAME_FIELD</span> <span class=\"o\">=</span> <span class=\"s1\">'login'</span>\n</pre>\n<p align=\"center\">\n    <a href=\"https://pypi.org/project/python-readme-generator/\" rel=\"nofollow\">python-readme-generator</a>\n</p>\n\n          </div>"}, "last_serial": 7172335, "releases": {"2020.5.3": [{"comment_text": "", "digests": {"md5": "9867327f424c9de0e45a341d3fc152ed", "sha256": "2c1e53a64e46af2a450f59bcd0a83a40ab7f5cec125eec0f78efdbf6cfa7b457"}, "downloads": -1, "filename": "django-github-auth-2020.5.3.tar.gz", "has_sig": false, "md5_digest": "9867327f424c9de0e45a341d3fc152ed", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2973, "upload_time": "2020-05-04T19:31:38", "upload_time_iso_8601": "2020-05-04T19:31:38.210359Z", "url": "https://files.pythonhosted.org/packages/02/a3/590a75e31aa8995380a1eecd2113c7b165ce93e0c6011de488b65909ba65/django-github-auth-2020.5.3.tar.gz", "yanked": false}], "2020.5.4": [{"comment_text": "", "digests": {"md5": "df0cc3fdcd8e975ae4e510920d1d03f9", "sha256": "cb2549807b17a2b5aa9008679375e8dd67542bb3fc5d003ba7722fe0bd4f51f4"}, "downloads": -1, "filename": "django-github-auth-2020.5.4.tar.gz", "has_sig": false, "md5_digest": "df0cc3fdcd8e975ae4e510920d1d03f9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2983, "upload_time": "2020-05-05T14:25:28", "upload_time_iso_8601": "2020-05-05T14:25:28.699517Z", "url": "https://files.pythonhosted.org/packages/93/1d/affb1704c40f22c39eca49b076cd0b77edc4db659c41ad455a89e9dfe4a5/django-github-auth-2020.5.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "df0cc3fdcd8e975ae4e510920d1d03f9", "sha256": "cb2549807b17a2b5aa9008679375e8dd67542bb3fc5d003ba7722fe0bd4f51f4"}, "downloads": -1, "filename": "django-github-auth-2020.5.4.tar.gz", "has_sig": false, "md5_digest": "df0cc3fdcd8e975ae4e510920d1d03f9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2983, "upload_time": "2020-05-05T14:25:28", "upload_time_iso_8601": "2020-05-05T14:25:28.699517Z", "url": "https://files.pythonhosted.org/packages/93/1d/affb1704c40f22c39eca49b076cd0b77edc4db659c41ad455a89e9dfe4a5/django-github-auth-2020.5.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:35:51 2020"}
{"info": {"author": "Matthias Bussonnier", "author_email": "bussonniermatthias@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License"], "description": "# apply black only on modifed lines.\n\nPOC, still a lot of work. \n\n## what\n\n```\ndarken --since <git commitish>\n```\n\nWill (try to) reformat only modified lines since `<commit-ish>`\n\nor \n```\ndarken --range 12-34,64-67 foo.py\n```\n\nShould only reformat line 12-34 and 64-67 of foo.py.\n\n# how\n\nLooking at black internal it seem relatively hard to pass a flag tell it to only\nrefactor some nodes. But, black support fmt:on/off comments; \n\nSo this : \n\n - insert comments; \n - apply black\n - remove the comments it added. \n - TADA (TM)\n\nLong term API design: \n\nGet - some \u2013\u00a0integration with git; \nI'm thinking something along: \n\n```\n$ darken --since <commitish>\n```\n\nIt would run git in the BG, figure out which files and which lines have changed\nand apply to black to relevant lines. \n\nI'm thinking that if the changed lines represent a significant portion of the\nfile we could expand what need to be reformatted. Th metric for this need to be\ndetermined. I prefer the `$ darken --since` to a `$ darken <a given commit\nonly>` as it will correctly handle many things like merges, multipple-commits\nbranches...etc.\n\n## Issues: \n\nThis is an issue: \n\nhttps://github.com/python/black/issues/560\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Carreau/darken", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "darken", "package_url": "https://pypi.org/project/darken/", "platform": "", "project_url": "https://pypi.org/project/darken/", "project_urls": {"Homepage": "https://github.com/Carreau/darken"}, "release_url": "https://pypi.org/project/darken/0.0.3/", "requires_dist": null, "requires_python": "", "summary": "Apply black only on mdified files", "version": "0.0.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>apply black only on modifed lines.</h1>\n<p>POC, still a lot of work.</p>\n<h2>what</h2>\n<pre><code>darken --since &lt;git commitish&gt;\n</code></pre>\n<p>Will (try to) reformat only modified lines since <code>&lt;commit-ish&gt;</code></p>\n<p>or</p>\n<pre><code>darken --range 12-34,64-67 foo.py\n</code></pre>\n<p>Should only reformat line 12-34 and 64-67 of foo.py.</p>\n<h1>how</h1>\n<p>Looking at black internal it seem relatively hard to pass a flag tell it to only\nrefactor some nodes. But, black support fmt:on/off comments;</p>\n<p>So this :</p>\n<ul>\n<li>insert comments;</li>\n<li>apply black</li>\n<li>remove the comments it added.</li>\n<li>TADA (TM)</li>\n</ul>\n<p>Long term API design:</p>\n<p>Get - some \u2013\u00a0integration with git;\nI'm thinking something along:</p>\n<pre><code>$ darken --since &lt;commitish&gt;\n</code></pre>\n<p>It would run git in the BG, figure out which files and which lines have changed\nand apply to black to relevant lines.</p>\n<p>I'm thinking that if the changed lines represent a significant portion of the\nfile we could expand what need to be reformatted. Th metric for this need to be\ndetermined. I prefer the <code>$ darken --since</code> to a <code>$ darken &lt;a given commit only&gt;</code> as it will correctly handle many things like merges, multipple-commits\nbranches...etc.</p>\n<h2>Issues:</h2>\n<p>This is an issue:</p>\n<p><a href=\"https://github.com/python/black/issues/560\" rel=\"nofollow\">https://github.com/python/black/issues/560</a></p>\n\n          </div>"}, "last_serial": 5329496, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "1a5493a010672bae413d29c938b96735", "sha256": "69aa07a1d071f6c9a1e00dd0c5a63b68b378ee8d908d0bfc29fd37fcb3f917c3"}, "downloads": -1, "filename": "darken-0.0.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "1a5493a010672bae413d29c938b96735", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 4618, "upload_time": "2019-05-28T20:51:47", "upload_time_iso_8601": "2019-05-28T20:51:47.519399Z", "url": "https://files.pythonhosted.org/packages/65/8f/593e63f0e9dde3b1cfdac058fbab744bc79345e4b9254bb57c0f4fdf5942/darken-0.0.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "294290628d2aad7fa46c83ebced803b7", "sha256": "a872c54ad0ae2dc8b8635c625e911f15f82124a00816aa153c94dbc05389bfe8"}, "downloads": -1, "filename": "darken-0.0.1.tar.gz", "has_sig": false, "md5_digest": "294290628d2aad7fa46c83ebced803b7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2900, "upload_time": "2019-05-28T20:51:49", "upload_time_iso_8601": "2019-05-28T20:51:49.922104Z", "url": "https://files.pythonhosted.org/packages/bc/67/e1197163c5947dbb4e9eecc79a3bb42139071830e7e5715beaad86744dcb/darken-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "8c79327a58d66cfdf5bb31b5845aa1cb", "sha256": "82d287e67b2e98b6fb812b70bf73344f4b7033cb644053372f7980d920a6deef"}, "downloads": -1, "filename": "darken-0.0.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "8c79327a58d66cfdf5bb31b5845aa1cb", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 6117, "upload_time": "2019-05-28T23:19:32", "upload_time_iso_8601": "2019-05-28T23:19:32.287358Z", "url": "https://files.pythonhosted.org/packages/59/1d/cada71ec748f4314931cf7c99256cbe45c7676d1299d41740f300b8153a0/darken-0.0.2-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2c6b753a93597ca539289a3982c16be1", "sha256": "f0930b2cb79d1150bbe16096528839cbc250cf1789d069f336b1cd7730b3e513"}, "downloads": -1, "filename": "darken-0.0.2.tar.gz", "has_sig": false, "md5_digest": "2c6b753a93597ca539289a3982c16be1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3486, "upload_time": "2019-05-28T23:19:33", "upload_time_iso_8601": "2019-05-28T23:19:33.784216Z", "url": "https://files.pythonhosted.org/packages/7a/9b/f263a8ccdf333b99cf39b107838b41e11cfdede7834f28ac1852a7c6da3d/darken-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "2d300cbe2ec4f0175e4ff4a4b58eee8b", "sha256": "d8fea6b14cee4f0325e908c7e6e527b1968e6ce425ad8c0872ae1a882bb3efd9"}, "downloads": -1, "filename": "darken-0.0.3-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "2d300cbe2ec4f0175e4ff4a4b58eee8b", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 6756, "upload_time": "2019-05-28T23:24:16", "upload_time_iso_8601": "2019-05-28T23:24:16.620768Z", "url": "https://files.pythonhosted.org/packages/bd/ab/31b215384aa1266f5a6d174bdaef21e2881698c2d5c66e4080ef4f0c5709/darken-0.0.3-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "14dec1f3f127450c51da7b8db7d70aec", "sha256": "43038413d05bb57cf6e3511f64817d500eb02dd3f59f8a36c681b6687da272dc"}, "downloads": -1, "filename": "darken-0.0.3.tar.gz", "has_sig": false, "md5_digest": "14dec1f3f127450c51da7b8db7d70aec", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3588, "upload_time": "2019-05-28T23:24:18", "upload_time_iso_8601": "2019-05-28T23:24:18.140004Z", "url": "https://files.pythonhosted.org/packages/ea/e5/9a103c7318d28199961ca437ed7de7c040441baebbc8a5420725d3f2cc4a/darken-0.0.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "2d300cbe2ec4f0175e4ff4a4b58eee8b", "sha256": "d8fea6b14cee4f0325e908c7e6e527b1968e6ce425ad8c0872ae1a882bb3efd9"}, "downloads": -1, "filename": "darken-0.0.3-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "2d300cbe2ec4f0175e4ff4a4b58eee8b", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 6756, "upload_time": "2019-05-28T23:24:16", "upload_time_iso_8601": "2019-05-28T23:24:16.620768Z", "url": "https://files.pythonhosted.org/packages/bd/ab/31b215384aa1266f5a6d174bdaef21e2881698c2d5c66e4080ef4f0c5709/darken-0.0.3-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "14dec1f3f127450c51da7b8db7d70aec", "sha256": "43038413d05bb57cf6e3511f64817d500eb02dd3f59f8a36c681b6687da272dc"}, "downloads": -1, "filename": "darken-0.0.3.tar.gz", "has_sig": false, "md5_digest": "14dec1f3f127450c51da7b8db7d70aec", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3588, "upload_time": "2019-05-28T23:24:18", "upload_time_iso_8601": "2019-05-28T23:24:18.140004Z", "url": "https://files.pythonhosted.org/packages/ea/e5/9a103c7318d28199961ca437ed7de7c040441baebbc8a5420725d3f2cc4a/darken-0.0.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:40:40 2020"}
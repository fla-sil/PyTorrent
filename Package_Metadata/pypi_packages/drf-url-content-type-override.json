{"info": {"author": "Chris McKenzie", "author_email": "me@christophermckenzie.com", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django", "Intended Audience :: Developers", "Operating System :: OS Independent", "Programming Language :: Python", "Topic :: Internet :: WWW/HTTP"], "description": "DRF URL Content Type Override\n===================================================\n\nDRF URL Content Type Override allows the content type of the request to be overriden with a url parameter.\n\n\nWhy would I need this?\n=============================\nSometimes it makes sense to override the content type specified in the header. For example, some browser's XHR, such as IE9, are unable to support CORS. Pollyfills like, `jQuery-ajaxTransport-XDomainRequest`_ or httpplease's `oldiexdomain.js`_ plug-in get around this by using XDomainRequest, which supports CORS. The problem is XDomainRequest only sends a content type of text/plain in the header. This is problematic when POSTing form data. DRF URL Content Type Override let's you specify a content type which will override the header value.\n\n.. _`jQuery-ajaxTransport-XDomainRequest`: https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest\n.. _`oldiexdomain.js`: https://github.com/matthewwithanm/httpplease.js/blob/master/plugins/oldiexdomain.js\n\n\nInstall\n-------------\n\n.. code-block:: shell\n\n  pip install drf-url-content-type-override\n\nAdd 'DEFAULT_CONTENT_NEGOTIATION_CLASS'\n\n.. code-block:: python\n\n  REST_FRAMEWORK = {\n    'DEFAULT_CONTENT_NEGOTIATION_CLASS': 'drf_url_content_type_override.URLOverrideContentNegotiation',\n  }\n\n\nUsage\n-------------\nExample: Javascript on a different domain from the API.\n\n.. code-block:: javascript\n\n  jquery.ajax({\n    'url': 'http://apidomain.com/api/1/contact?_content_type=application/x-www-form-urlencoded',\n    'type': 'POST',\n    'data': {'name': 'Chris'}\n  })\n\n\nFor more background see https://github.com/tomchristie/django-rest-framework/pull/1731", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "UNKNOWN", "keywords": null, "license": "LICENSE.txt", "maintainer": null, "maintainer_email": null, "name": "drf-url-content-type-override", "package_url": "https://pypi.org/project/drf-url-content-type-override/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/drf-url-content-type-override/", "project_urls": {"Download": "UNKNOWN", "Homepage": "UNKNOWN"}, "release_url": "https://pypi.org/project/drf-url-content-type-override/1.0.0/", "requires_dist": null, "requires_python": null, "summary": "The name says it all.", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"drf-url-content-type-override\">\n<h2>DRF URL Content Type Override</h2>\n<p>DRF URL Content Type Override allows the content type of the request to be overriden with a url parameter.</p>\n</div>\n<div id=\"why-would-i-need-this\">\n<h2>Why would I need this?</h2>\n<p>Sometimes it makes sense to override the content type specified in the header. For example, some browser\u2019s XHR, such as IE9, are unable to support CORS. Pollyfills like, <a href=\"https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest\" rel=\"nofollow\">jQuery-ajaxTransport-XDomainRequest</a> or httpplease\u2019s <a href=\"https://github.com/matthewwithanm/httpplease.js/blob/master/plugins/oldiexdomain.js\" rel=\"nofollow\">oldiexdomain.js</a> plug-in get around this by using XDomainRequest, which supports CORS. The problem is XDomainRequest only sends a content type of text/plain in the header. This is problematic when POSTing form data. DRF URL Content Type Override let\u2019s you specify a content type which will override the header value.</p>\n<div id=\"install\">\n<h3>Install</h3>\n<pre>pip install drf-url-content-type-override\n</pre>\n<p>Add \u2018DEFAULT_CONTENT_NEGOTIATION_CLASS\u2019</p>\n<pre><span class=\"n\">REST_FRAMEWORK</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'DEFAULT_CONTENT_NEGOTIATION_CLASS'</span><span class=\"p\">:</span> <span class=\"s1\">'drf_url_content_type_override.URLOverrideContentNegotiation'</span><span class=\"p\">,</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n<div id=\"usage\">\n<h3>Usage</h3>\n<p>Example: Javascript on a different domain from the API.</p>\n<pre><span class=\"nx\">jquery</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n  <span class=\"s1\">'url'</span><span class=\"o\">:</span> <span class=\"s1\">'http://apidomain.com/api/1/contact?_content_type=application/x-www-form-urlencoded'</span><span class=\"p\">,</span>\n  <span class=\"s1\">'type'</span><span class=\"o\">:</span> <span class=\"s1\">'POST'</span><span class=\"p\">,</span>\n  <span class=\"s1\">'data'</span><span class=\"o\">:</span> <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"o\">:</span> <span class=\"s1\">'Chris'</span><span class=\"p\">}</span>\n<span class=\"p\">})</span>\n</pre>\n<p>For more background see <a href=\"https://github.com/tomchristie/django-rest-framework/pull/1731\" rel=\"nofollow\">https://github.com/tomchristie/django-rest-framework/pull/1731</a></p>\n</div>\n</div>\n\n          </div>"}, "last_serial": 3651974, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "942f87b09c96c188f8e8fc109507a70b", "sha256": "a95acba1690587180205454f5b3d8a15613cec64b51c8e507c3cbdc06d47f701"}, "downloads": -1, "filename": "drf-url-content-type-override-1.0.0.tar.gz", "has_sig": false, "md5_digest": "942f87b09c96c188f8e8fc109507a70b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3403, "upload_time": "2014-12-08T22:26:27", "upload_time_iso_8601": "2014-12-08T22:26:27.437249Z", "url": "https://files.pythonhosted.org/packages/e3/3f/1045c170917032fda04cfdbb47a02749baf59b1714d4e9db6c13978b9f2c/drf-url-content-type-override-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "942f87b09c96c188f8e8fc109507a70b", "sha256": "a95acba1690587180205454f5b3d8a15613cec64b51c8e507c3cbdc06d47f701"}, "downloads": -1, "filename": "drf-url-content-type-override-1.0.0.tar.gz", "has_sig": false, "md5_digest": "942f87b09c96c188f8e8fc109507a70b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3403, "upload_time": "2014-12-08T22:26:27", "upload_time_iso_8601": "2014-12-08T22:26:27.437249Z", "url": "https://files.pythonhosted.org/packages/e3/3f/1045c170917032fda04cfdbb47a02749baf59b1714d4e9db6c13978b9f2c/drf-url-content-type-override-1.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:49:38 2020"}
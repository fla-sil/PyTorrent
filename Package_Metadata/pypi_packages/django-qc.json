{"info": {"author": "Sondre Lilleb\u00f8 Gundersen", "author_email": "sondrelg@live.no", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Environment :: Web Environment", "Framework :: Django", "Framework :: Django :: 2.2", "Framework :: Django :: 3.0", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Natural Language :: English", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Documentation", "Topic :: Software Development", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Libraries :: Application Frameworks", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "#########################\nDjango Query Count Helper\n#########################\n\n.. image:: https://img.shields.io/pypi/v/django-qc.svg\n    :target: https://pypi.org/project/django-qc/\n\n.. image:: https://img.shields.io/pypi/pyversions/django-qc.svg\n    :target: https://pypi.org/project/django-qc/\n\n.. image:: https://img.shields.io/pypi/djversions/django-qc.svg\n    :target: https://pypi.python.org/pypi/django-qc\n\n.. image:: https://codecov.io/gh/sondrelg/django-query-counter/branch/master/graph/badge.svg\n    :target: https://codecov.io/gh/sondrelg/django-query-counter\n\n.. image:: https://img.shields.io/badge/code%20style-black-000000.svg\n    :target: https://pypi.org/project/django-qc/\n\n.. image:: https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit&logoColor=white\n    :target: https://github.com/pre-commit/pre-commit\n\nThis is a simple implementation of the `django_query_analyze` function detailed in\n`The Django Speed Handbook: making a Django app faster <https://openfolder.sh/django-faster-\nspeed-tutorial?utm_campaign=Django%2BNewsletter&utm_medium=email&utm_source=Django_Newsletter_13>`_, featured in the\nDjango newsletter a few weeks back.\n\nThe idea is that you can wrap you pure db-query functions with a decorator, and make sure the function is calling the database as you expect it to.\n\n.. code-block:: python\n\n    from django_qc import db_helper\n    from app.models import Song\n\n    @db_helper(count=1)\n    def get_songs():\n        return serialize_songs(Song.objects.all(), many=True)\n\nSee the original article for a more thorough description of the issue.\n\nSince the Django ORM is lazy, you will likely want to wrap your serializers rather than your queries, if they're not in the same function. For example:\n\n.. code-block:: python\n\n    from django_qc import db_helper\n\n    @db_helper(count=1)\n    def serialize_songs(song: Song)\n        return {\n            'name': song.name,\n            'cd': song.cd.name,\n        }\n\nThis package should only run during development.\n\n************\nInstallation\n************\n\nInstall using pip:\n\n.. code-block:: bash\n\n    pip install django-qc\n\n********\nSettings\n********\n\nThere are three settings that can be configured:\n\n.. code-block:: python\n\n    DB_HELPER {\n        'RAISE_EXC': True,\n        'LOG_EXC': True,\n        'DEBUG': DEBUG\n    }\n\n\n* :code:`RAISE_EXC`\n        Whether or not to raise an error when the specified query count deviates the actual query count.\n\n    Default: True\n\n* :code:`LOG_EXC`\n        Whether or not to log an exception (logger.exception) when the specified query count deviates the actual query count.\n        If you're using Sentry or similar tools, an exception logger will raise an issue in the system.\n        This only applies to when RAISE_EXC is False.\n\n    Default: True\n\n* :code:`DEBUG`\n        Whether or not to check query counts at runtime.\n\n    Default: True\n\n\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "https://pypi.org/project/django-qc", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/sondrelg/django-query-counter", "keywords": "orm,database,queries,testing,performance", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "django-qc", "package_url": "https://pypi.org/project/django-qc/", "platform": "OS Independent", "project_url": "https://pypi.org/project/django-qc/", "project_urls": {"Download": "https://pypi.org/project/django-qc", "Homepage": "https://github.com/sondrelg/django-query-counter"}, "release_url": "https://pypi.org/project/django-qc/0.2.2/", "requires_dist": ["django"], "requires_python": "", "summary": "DB utility to help you catch query inefficiencies in Django.", "version": "0.2.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://pypi.org/project/django-qc/\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/v/django-qc.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/58d0d6966ce8508f76e9750a580896d90aa1928c/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f646a616e676f2d71632e737667\"></a>\n<a href=\"https://pypi.org/project/django-qc/\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/pyversions/django-qc.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2c06662c893d67103bc2c097613eb3f02bfc0b1e/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f646a616e676f2d71632e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/django-qc\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/djversions/django-qc.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ed13cbb6d691e0bd4d2d1ca2401db2282d102b4a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646a76657273696f6e732f646a616e676f2d71632e737667\"></a>\n<a href=\"https://codecov.io/gh/sondrelg/django-query-counter\" rel=\"nofollow\"><img alt=\"https://codecov.io/gh/sondrelg/django-query-counter/branch/master/graph/badge.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dc5a03ebfe295637dc05b8d00ad68cf742285de0/68747470733a2f2f636f6465636f762e696f2f67682f736f6e6472656c672f646a616e676f2d71756572792d636f756e7465722f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"https://pypi.org/project/django-qc/\" rel=\"nofollow\"><img alt=\"https://img.shields.io/badge/code%20style-black-000000.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fbfdc7754183ecf079bc71ddeabaf88f6cbc5c00/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c61636b2d3030303030302e737667\"></a>\n<a href=\"https://github.com/pre-commit/pre-commit\" rel=\"nofollow\"><img alt=\"https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit&amp;logoColor=white\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d861174d9af84b80d393b2e7c89badabc5e04097/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f7072652d2d636f6d6d69742d656e61626c65642d627269676874677265656e3f6c6f676f3d7072652d636f6d6d6974266c6f676f436f6c6f723d7768697465\"></a>\n<p>This is a simple implementation of the <cite>django_query_analyze</cite> function detailed in\n<a href=\"https://openfolder.sh/django-faster-speed-tutorial?utm_campaign=Django%2BNewsletter&amp;utm_medium=email&amp;utm_source=Django_Newsletter_13\" rel=\"nofollow\">The Django Speed Handbook: making a Django app faster</a>, featured in the\nDjango newsletter a few weeks back.</p>\n<p>The idea is that you can wrap you pure db-query functions with a decorator, and make sure the function is calling the database as you expect it to.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_qc</span> <span class=\"kn\">import</span> <span class=\"n\">db_helper</span>\n<span class=\"kn\">from</span> <span class=\"nn\">app.models</span> <span class=\"kn\">import</span> <span class=\"n\">Song</span>\n\n<span class=\"nd\">@db_helper</span><span class=\"p\">(</span><span class=\"n\">count</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_songs</span><span class=\"p\">():</span>\n    <span class=\"k\">return</span> <span class=\"n\">serialize_songs</span><span class=\"p\">(</span><span class=\"n\">Song</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">(),</span> <span class=\"n\">many</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n<p>See the original article for a more thorough description of the issue.</p>\n<p>Since the Django ORM is lazy, you will likely want to wrap your serializers rather than your queries, if they\u2019re not in the same function. For example:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_qc</span> <span class=\"kn\">import</span> <span class=\"n\">db_helper</span>\n\n<span class=\"nd\">@db_helper</span><span class=\"p\">(</span><span class=\"n\">count</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">serialize_songs</span><span class=\"p\">(</span><span class=\"n\">song</span><span class=\"p\">:</span> <span class=\"n\">Song</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"n\">song</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span>\n        <span class=\"s1\">'cd'</span><span class=\"p\">:</span> <span class=\"n\">song</span><span class=\"o\">.</span><span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span>\n    <span class=\"p\">}</span>\n</pre>\n<p>This package should only run during development.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>Install using pip:</p>\n<pre>pip install django-qc\n</pre>\n</div>\n<div id=\"settings\">\n<h2>Settings</h2>\n<p>There are three settings that can be configured:</p>\n<pre><span class=\"n\">DB_HELPER</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'RAISE_EXC'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'LOG_EXC'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'DEBUG'</span><span class=\"p\">:</span> <span class=\"n\">DEBUG</span>\n<span class=\"p\">}</span>\n</pre>\n<ul>\n<li><dl>\n<dt><code>RAISE_EXC</code></dt>\n<dd><blockquote>\n<p>Whether or not to raise an error when the specified query count deviates the actual query count.</p>\n</blockquote>\n<p>Default: True</p>\n</dd>\n</dl>\n</li>\n<li><dl>\n<dt><code>LOG_EXC</code></dt>\n<dd><blockquote>\n<p>Whether or not to log an exception (logger.exception) when the specified query count deviates the actual query count.\nIf you\u2019re using Sentry or similar tools, an exception logger will raise an issue in the system.\nThis only applies to when RAISE_EXC is False.</p>\n</blockquote>\n<p>Default: True</p>\n</dd>\n</dl>\n</li>\n<li><dl>\n<dt><code>DEBUG</code></dt>\n<dd><blockquote>\n<p>Whether or not to check query counts at runtime.</p>\n</blockquote>\n<p>Default: True</p>\n</dd>\n</dl>\n</li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 6894628, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "bf36fead25d2ad7e631eb169625195cb", "sha256": "690ff0e4258ccb283b966aa46726f8452df71b7df3ded8fa20b7002f925c1372"}, "downloads": -1, "filename": "django_qc-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "bf36fead25d2ad7e631eb169625195cb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9835, "upload_time": "2020-03-15T16:30:45", "upload_time_iso_8601": "2020-03-15T16:30:45.889821Z", "url": "https://files.pythonhosted.org/packages/04/b6/9be8ac199406a9c6e7bfd54aa01e2d08bede4943c01cb00a3f75b057345a/django_qc-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "68c7fa862fff2f6709d119255cda7904", "sha256": "1587e770c14be131b4dbe426293b769aae5d861ffeff70abb46e6d16caade1a4"}, "downloads": -1, "filename": "django-qc-0.0.1.tar.gz", "has_sig": false, "md5_digest": "68c7fa862fff2f6709d119255cda7904", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7934, "upload_time": "2020-03-15T16:30:48", "upload_time_iso_8601": "2020-03-15T16:30:48.364429Z", "url": "https://files.pythonhosted.org/packages/27/50/a08532b415a5c4ebe963ee0261dc0bec3c00d0ffda61bc1cfe16f7a2f499/django-qc-0.0.1.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "ba87240f5ebdc8e354de197a0ccbed5e", "sha256": "b4e95abaeed0615433e6a4d82c9aa79c39cf171f619341fc0ec15da40ae9a69b"}, "downloads": -1, "filename": "django_qc-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ba87240f5ebdc8e354de197a0ccbed5e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9926, "upload_time": "2020-03-15T17:15:30", "upload_time_iso_8601": "2020-03-15T17:15:30.391148Z", "url": "https://files.pythonhosted.org/packages/a1/38/01c5de29ff8811c22ee1c267bd226302e3ec239d4d807b83f01402c8a71f/django_qc-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "da522131874354b5787b8ed648184dce", "sha256": "f518c53ffc6f7b4a105d07f0586bc07bf861997bbfa9134dba5098c3f717b69a"}, "downloads": -1, "filename": "django-qc-0.1.0.tar.gz", "has_sig": false, "md5_digest": "da522131874354b5787b8ed648184dce", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8004, "upload_time": "2020-03-15T17:15:31", "upload_time_iso_8601": "2020-03-15T17:15:31.303932Z", "url": "https://files.pythonhosted.org/packages/65/7b/391e6906ef023394bf0d5734f50d0565bb2347a5f603a95a9165de031237/django-qc-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "7b17a615e1460bef73a85bc997563f84", "sha256": "73ef7c1372e933514100e832edf1ebf2e55401617edd0774f826d31558583b59"}, "downloads": -1, "filename": "django_qc-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "7b17a615e1460bef73a85bc997563f84", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9950, "upload_time": "2020-03-26T23:03:26", "upload_time_iso_8601": "2020-03-26T23:03:26.398011Z", "url": "https://files.pythonhosted.org/packages/f6/ef/0f5da3c82e92969fede283818bdddabf8aebe21d2e9795d7e92292ffb33f/django_qc-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5c720a5fd73d6790aa5c391c02f7e88d", "sha256": "4de445e85611269844a4aa20c71244a3b603e35edf57f1f2f149cd406087a9ab"}, "downloads": -1, "filename": "django-qc-0.2.0.tar.gz", "has_sig": false, "md5_digest": "5c720a5fd73d6790aa5c391c02f7e88d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8187, "upload_time": "2020-03-26T23:00:10", "upload_time_iso_8601": "2020-03-26T23:00:10.558778Z", "url": "https://files.pythonhosted.org/packages/9c/38/009908156ae7bd22f1b1e8ebd949bcec3007cad4726f1fe351cbd6453d37/django-qc-0.2.0.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "bd96e23eb0e1b5ccf1e3fec55cee10e1", "sha256": "5f03e54beb3667b2c318caee95fc679209f9d5385cb1a10797af029c94665e5d"}, "downloads": -1, "filename": "django_qc-0.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "bd96e23eb0e1b5ccf1e3fec55cee10e1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9948, "upload_time": "2020-03-26T23:03:27", "upload_time_iso_8601": "2020-03-26T23:03:27.901790Z", "url": "https://files.pythonhosted.org/packages/84/0d/b6554fdbf929723a50e51b9e6480045bdcd07bc0d87a439798e81cb43e81/django_qc-0.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2b30bb69180c121d6a3bce246a129b52", "sha256": "53a56850a82b8be4609dbdb7572dc4bd449affc9e58558fb0c46c33689baf143"}, "downloads": -1, "filename": "django-qc-0.2.1.tar.gz", "has_sig": false, "md5_digest": "2b30bb69180c121d6a3bce246a129b52", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8190, "upload_time": "2020-03-26T23:03:49", "upload_time_iso_8601": "2020-03-26T23:03:49.307269Z", "url": "https://files.pythonhosted.org/packages/8b/b5/85269430793499e3fe94ad0137c17e2b3e1e61dd64fd9adec3d9fcb734d8/django-qc-0.2.1.tar.gz", "yanked": false}], "0.2.2": [{"comment_text": "", "digests": {"md5": "69fd0caa79fae8c7833463fdab1bb916", "sha256": "a82303fb69590f79dc086290745754b6ab8d5eefcac04fb08acf2e0d094a8bf7"}, "downloads": -1, "filename": "django_qc-0.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "69fd0caa79fae8c7833463fdab1bb916", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9956, "upload_time": "2020-03-27T08:45:04", "upload_time_iso_8601": "2020-03-27T08:45:04.713297Z", "url": "https://files.pythonhosted.org/packages/cb/74/ca38f39dc8844f64ac4af739e457221e12819322e18932c01da5a82374b5/django_qc-0.2.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ff43c9a0221b61c785bc8a946d1924ee", "sha256": "0e09f780890a2da728e613485422e364d00209b920456dc520f05a88e2926815"}, "downloads": -1, "filename": "django-qc-0.2.2.tar.gz", "has_sig": false, "md5_digest": "ff43c9a0221b61c785bc8a946d1924ee", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8175, "upload_time": "2020-03-27T08:45:05", "upload_time_iso_8601": "2020-03-27T08:45:05.812162Z", "url": "https://files.pythonhosted.org/packages/24/70/75e326555f337de462866f8d863996668cbf7b349ceca5a5810dd707bb03/django-qc-0.2.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "69fd0caa79fae8c7833463fdab1bb916", "sha256": "a82303fb69590f79dc086290745754b6ab8d5eefcac04fb08acf2e0d094a8bf7"}, "downloads": -1, "filename": "django_qc-0.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "69fd0caa79fae8c7833463fdab1bb916", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9956, "upload_time": "2020-03-27T08:45:04", "upload_time_iso_8601": "2020-03-27T08:45:04.713297Z", "url": "https://files.pythonhosted.org/packages/cb/74/ca38f39dc8844f64ac4af739e457221e12819322e18932c01da5a82374b5/django_qc-0.2.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ff43c9a0221b61c785bc8a946d1924ee", "sha256": "0e09f780890a2da728e613485422e364d00209b920456dc520f05a88e2926815"}, "downloads": -1, "filename": "django-qc-0.2.2.tar.gz", "has_sig": false, "md5_digest": "ff43c9a0221b61c785bc8a946d1924ee", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8175, "upload_time": "2020-03-27T08:45:05", "upload_time_iso_8601": "2020-03-27T08:45:05.812162Z", "url": "https://files.pythonhosted.org/packages/24/70/75e326555f337de462866f8d863996668cbf7b349ceca5a5810dd707bb03/django-qc-0.2.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:54:31 2020"}
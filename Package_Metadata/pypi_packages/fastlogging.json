{"info": {"author": "Martin Bammer", "author_email": "mrbm74@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Software Development :: Build Tools"], "description": "An efficient and feature-rich logging module\n============================================\n\n.. role:: Python(code)\n   :language: Python\n\nThe ``fastlogging`` module is a faster replacement of the standard logging module with a mostly compatible API.\n\nIt comes with the following features:\n\n - (colored, if colorama is installed) logging to console\n - logging to file (maximum file size with rotating/history feature can be configured)\n - old log files can be compressed (the compression algorithm can be configured)\n - count same successive messages within a 30s time frame and log only once the message with the counted value.\n - log domains\n - log to different files\n - writing to log files is done in (per file) background threads, if configured\n - configure callback function for custom detection of same successive log messages\n - configure callback function for custom message formatter\n - configure callback function for custom log writer\n\nThe API is described `here <doc/API.rst>`_.\n\nInstallation\n------------\n\nSimply run\n\n.. code-block:: Python\n\n    python setup.py install --user\n\nor create a wheel and install it.\n\n.. code-block:: Python\n\n    python setup.py bdist_wheel\n\nAn optimized version of ``fastlogging`` will be installed if package **cython** is installed.\nIf you need a pure python version of the ``fastlogging`` module then add option **nocython**.\n\nUsage\n-----\n\n.. code-block:: Python\n\n    from fastlogging import LogInit\n\n    logger = LogInit(pathName=\"/tmp/example1.log\", console=True, colors=True)\n    logger.debug(\"This is a debug message.\")\n    logger.info(\"This is an info message.\")\n    logger.warning(\"This is a warning message.\")\n    logger.rotate()\n    logger.fatal(\"This is a fatal message.\")\n    logger.shutdown()\n\nThe example above writes all messages to a file and to the console. On the console the messages are printed\nwith colors. With the rotate call the log file is renamed to `example1.log.1` and a new log file is created.\n\nThe second example creates a server socket on localhost and writes all messages to a log file for 15 seconds.\n\n.. code-block:: Python\n\n    import os\n    import time\n\n    from fastlogging import LogInit\n\n    addr = \"127.0.0.1\"\n    port = 12345\n    pathName = \"C:/temp/server.log\" if os.name == 'nt' else \"/tmp/server.log\"\n    logger = LogInit(pathName=pathName, server=(addr, port))\n    logger.info(\"Logging started.\")\n    logger.debug(\"This is a debug message.\")\n    logger.info(\"This is an info message.\")\n    logger.warning(\"This is a warning message.\")\n    time.sleep(15)\n    logger.info(\"Shutdown logging.\")\n    logger.shutdown()\n\n\nAnd now the third example connects to the log server and sends 300000 messages.\n\n.. code-block:: Python\n\n    import os\n    import time\n\n    from fastlogging import LogInit\n\n    addr = \"127.0.0.1\"\n    port = 12345\n    logger = LogInit(connect=(addr, port, \"HELLO%d\" % os.getpid()))\n    for i in range(100000):\n        logger.debug(\"This is a DBG message %d.\" % i)\n        logger.info(\"This is an INF message %d.\" % i)\n        logger.warning(\"This is a WRN message %d.\" % i)\n    time.sleep(10.0)\n    logger.shutdown()\n\nThe messages are sent in blocks to improve speed.\n\nOptimizing for speed\n--------------------\n\nAs you can see in the charts below fastlogging is much faster than the default logging module which comes\nwith Python (red bar).\n\nYou also can see that using threads can be slower than writing logs directly to the\nfile, because of additional overhead. So threads should only be used if you've got a slow disk and lot's of\nmessages to log.\n\nThere are 3 more bars which show even better performance. To understand the optimizations a deeper look into\na logging line has to be done.\n\nLet's analyze what is going on when the following code line is executed:\n\n.. code-block:: Python\n\n    logger.debug(\"This is a debug message.\")\n\nThe Python interpreter first creates a tuple for the positioned arguments and a dictionary for the named\narguments. Then it calls method ``info``. In method ``info`` the log level is checked against the severity.\nOnly if the severity is high enough the message will be logged.\n\nNow what if we set a **if** before the above line?\n\n.. code-block:: Python\n\n    if logger.level <= DEBUG:\n        logger.debug(\"This is a debug message.\")\n\nRunning benchmarks will show us that the code runs faster now if the log level is higher than DEBUG.\nNormally we need debug messages only in case of development or bugfixing. So it makes sense to optimize\nsuch lines. But doing this manually is awkward and bloats the code.\n\nTo simplify this task the ``fastlogging`` module comes with an `AST optimizer <doc/Optimize.rst>`_ which does the work for you.\n\n\nBenchmarks\n----------\n\nThe following benchmarks were measured on Ubuntu 18.10 with a Ryzen 7 CPU and an SSD.\n\nYou can see that ``fastlogging`` is **~5x** faster when rotating is disabled and **>13x** faster in case of log rotating.\n\n\n\n.. figure:: doc/benchmarks/log.png\n\n   Benchmark results with a single log files\n\n.. figure:: doc/benchmarks/rotate.png\n\n   Benchmark results with rotating log files", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "https://github.com/brmmm3/fastlogging/releases/download/0.9.2/fastlogging-0.9.2.tar.gz", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/brmmm3/fastlogging", "keywords": "fast logging", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "fastlogging", "package_url": "https://pypi.org/project/fastlogging/", "platform": "", "project_url": "https://pypi.org/project/fastlogging/", "project_urls": {"Download": "https://github.com/brmmm3/fastlogging/releases/download/0.9.2/fastlogging-0.9.2.tar.gz", "Homepage": "https://github.com/brmmm3/fastlogging"}, "release_url": "https://pypi.org/project/fastlogging/0.9.2/", "requires_dist": null, "requires_python": "", "summary": "A faster replacement of the standard logging module.", "version": "0.9.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>The <tt>fastlogging</tt> module is a faster replacement of the standard logging module with a mostly compatible API.</p>\n<p>It comes with the following features:</p>\n<blockquote>\n<ul>\n<li>(colored, if colorama is installed) logging to console</li>\n<li>logging to file (maximum file size with rotating/history feature can be configured)</li>\n<li>old log files can be compressed (the compression algorithm can be configured)</li>\n<li>count same successive messages within a 30s time frame and log only once the message with the counted value.</li>\n<li>log domains</li>\n<li>log to different files</li>\n<li>writing to log files is done in (per file) background threads, if configured</li>\n<li>configure callback function for custom detection of same successive log messages</li>\n<li>configure callback function for custom message formatter</li>\n<li>configure callback function for custom log writer</li>\n</ul>\n</blockquote>\n<p>The API is described <a href=\"doc/API.rst\" rel=\"nofollow\">here</a>.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>Simply run</p>\n<pre><span class=\"n\">python</span> <span class=\"n\">setup</span><span class=\"o\">.</span><span class=\"n\">py</span> <span class=\"n\">install</span> <span class=\"o\">--</span><span class=\"n\">user</span>\n</pre>\n<p>or create a wheel and install it.</p>\n<pre><span class=\"n\">python</span> <span class=\"n\">setup</span><span class=\"o\">.</span><span class=\"n\">py</span> <span class=\"n\">bdist_wheel</span>\n</pre>\n<p>An optimized version of <tt>fastlogging</tt> will be installed if package <strong>cython</strong> is installed.\nIf you need a pure python version of the <tt>fastlogging</tt> module then add option <strong>nocython</strong>.</p>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">fastlogging</span> <span class=\"kn\">import</span> <span class=\"n\">LogInit</span>\n\n<span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"n\">LogInit</span><span class=\"p\">(</span><span class=\"n\">pathName</span><span class=\"o\">=</span><span class=\"s2\">\"/tmp/example1.log\"</span><span class=\"p\">,</span> <span class=\"n\">console</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">colors</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s2\">\"This is a debug message.\"</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s2\">\"This is an info message.\"</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">warning</span><span class=\"p\">(</span><span class=\"s2\">\"This is a warning message.\"</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">rotate</span><span class=\"p\">()</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">fatal</span><span class=\"p\">(</span><span class=\"s2\">\"This is a fatal message.\"</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">shutdown</span><span class=\"p\">()</span>\n</pre>\n<p>The example above writes all messages to a file and to the console. On the console the messages are printed\nwith colors. With the rotate call the log file is renamed to <cite>example1.log.1</cite> and a new log file is created.</p>\n<p>The second example creates a server socket on localhost and writes all messages to a log file for 15 seconds.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"kn\">import</span> <span class=\"nn\">time</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">fastlogging</span> <span class=\"kn\">import</span> <span class=\"n\">LogInit</span>\n\n<span class=\"n\">addr</span> <span class=\"o\">=</span> <span class=\"s2\">\"127.0.0.1\"</span>\n<span class=\"n\">port</span> <span class=\"o\">=</span> <span class=\"mi\">12345</span>\n<span class=\"n\">pathName</span> <span class=\"o\">=</span> <span class=\"s2\">\"C:/temp/server.log\"</span> <span class=\"k\">if</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"s1\">'nt'</span> <span class=\"k\">else</span> <span class=\"s2\">\"/tmp/server.log\"</span>\n<span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"n\">LogInit</span><span class=\"p\">(</span><span class=\"n\">pathName</span><span class=\"o\">=</span><span class=\"n\">pathName</span><span class=\"p\">,</span> <span class=\"n\">server</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">addr</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"p\">))</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s2\">\"Logging started.\"</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s2\">\"This is a debug message.\"</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s2\">\"This is an info message.\"</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">warning</span><span class=\"p\">(</span><span class=\"s2\">\"This is a warning message.\"</span><span class=\"p\">)</span>\n<span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mi\">15</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s2\">\"Shutdown logging.\"</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">shutdown</span><span class=\"p\">()</span>\n</pre>\n<p>And now the third example connects to the log server and sends 300000 messages.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"kn\">import</span> <span class=\"nn\">time</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">fastlogging</span> <span class=\"kn\">import</span> <span class=\"n\">LogInit</span>\n\n<span class=\"n\">addr</span> <span class=\"o\">=</span> <span class=\"s2\">\"127.0.0.1\"</span>\n<span class=\"n\">port</span> <span class=\"o\">=</span> <span class=\"mi\">12345</span>\n<span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"n\">LogInit</span><span class=\"p\">(</span><span class=\"n\">connect</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">addr</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"p\">,</span> <span class=\"s2\">\"HELLO</span><span class=\"si\">%d</span><span class=\"s2\">\"</span> <span class=\"o\">%</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getpid</span><span class=\"p\">()))</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">100000</span><span class=\"p\">):</span>\n    <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s2\">\"This is a DBG message </span><span class=\"si\">%d</span><span class=\"s2\">.\"</span> <span class=\"o\">%</span> <span class=\"n\">i</span><span class=\"p\">)</span>\n    <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s2\">\"This is an INF message </span><span class=\"si\">%d</span><span class=\"s2\">.\"</span> <span class=\"o\">%</span> <span class=\"n\">i</span><span class=\"p\">)</span>\n    <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">warning</span><span class=\"p\">(</span><span class=\"s2\">\"This is a WRN message </span><span class=\"si\">%d</span><span class=\"s2\">.\"</span> <span class=\"o\">%</span> <span class=\"n\">i</span><span class=\"p\">)</span>\n<span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mf\">10.0</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">shutdown</span><span class=\"p\">()</span>\n</pre>\n<p>The messages are sent in blocks to improve speed.</p>\n</div>\n<div id=\"optimizing-for-speed\">\n<h2>Optimizing for speed</h2>\n<p>As you can see in the charts below fastlogging is much faster than the default logging module which comes\nwith Python (red bar).</p>\n<p>You also can see that using threads can be slower than writing logs directly to the\nfile, because of additional overhead. So threads should only be used if you\u2019ve got a slow disk and lot\u2019s of\nmessages to log.</p>\n<p>There are 3 more bars which show even better performance. To understand the optimizations a deeper look into\na logging line has to be done.</p>\n<p>Let\u2019s analyze what is going on when the following code line is executed:</p>\n<pre><span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s2\">\"This is a debug message.\"</span><span class=\"p\">)</span>\n</pre>\n<p>The Python interpreter first creates a tuple for the positioned arguments and a dictionary for the named\narguments. Then it calls method <tt>info</tt>. In method <tt>info</tt> the log level is checked against the severity.\nOnly if the severity is high enough the message will be logged.</p>\n<p>Now what if we set a <strong>if</strong> before the above line?</p>\n<pre><span class=\"k\">if</span> <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">level</span> <span class=\"o\">&lt;=</span> <span class=\"n\">DEBUG</span><span class=\"p\">:</span>\n    <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s2\">\"This is a debug message.\"</span><span class=\"p\">)</span>\n</pre>\n<p>Running benchmarks will show us that the code runs faster now if the log level is higher than DEBUG.\nNormally we need debug messages only in case of development or bugfixing. So it makes sense to optimize\nsuch lines. But doing this manually is awkward and bloats the code.</p>\n<p>To simplify this task the <tt>fastlogging</tt> module comes with an <a href=\"doc/Optimize.rst\" rel=\"nofollow\">AST optimizer</a> which does the work for you.</p>\n</div>\n<div id=\"benchmarks\">\n<h2>Benchmarks</h2>\n<p>The following benchmarks were measured on Ubuntu 18.10 with a Ryzen 7 CPU and an SSD.</p>\n<p>You can see that <tt>fastlogging</tt> is <strong>~5x</strong> faster when rotating is disabled and <strong>&gt;13x</strong> faster in case of log rotating.</p>\n<div>\n<img alt=\"doc/benchmarks/log.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f7361d959759552eb09eb01cdda519ea062f25eb/646f632f62656e63686d61726b732f6c6f672e706e67\">\n<p>Benchmark results with a single log files</p>\n</div>\n<div>\n<img alt=\"doc/benchmarks/rotate.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8b3436c8a4d7a992d29144833263ce3504ee6d8c/646f632f62656e63686d61726b732f726f746174652e706e67\">\n<p>Benchmark results with rotating log files</p>\n</div>\n</div>\n\n          </div>"}, "last_serial": 6257495, "releases": {"0.9.0": [{"comment_text": "", "digests": {"md5": "92e328f77a1357281a2d42fe6db85695", "sha256": "50ac5c30276e5ca8d701041b6209707399992aadce94d6e174c116a0b26c8b7e"}, "downloads": -1, "filename": "fastlogging-0.9.0-py3-none-any.whl", "has_sig": false, "md5_digest": "92e328f77a1357281a2d42fe6db85695", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 15583, "upload_time": "2019-01-08T11:19:44", "upload_time_iso_8601": "2019-01-08T11:19:44.500192Z", "url": "https://files.pythonhosted.org/packages/ef/f4/bd4695bb0ef947c11be8e00a4b1e6681fe3418d6a3afb8166937e028afad/fastlogging-0.9.0-py3-none-any.whl", "yanked": false}], "0.9.1": [{"comment_text": "", "digests": {"md5": "096a919009c5d345746f21c9316e57db", "sha256": "4f2521a8038598d3fa8a1913f8728e14d1a21a1058f823d2c63a9bf3b5a98b1e"}, "downloads": -1, "filename": "fastlogging-0.9.1.tar.gz", "has_sig": false, "md5_digest": "096a919009c5d345746f21c9316e57db", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 274734, "upload_time": "2019-07-09T08:57:18", "upload_time_iso_8601": "2019-07-09T08:57:18.891217Z", "url": "https://files.pythonhosted.org/packages/ce/28/92c4e9019dffd3067176246f419c5b4c3944fe3cd515df9c45c58d4649fe/fastlogging-0.9.1.tar.gz", "yanked": false}], "0.9.2": [{"comment_text": "", "digests": {"md5": "379e8d60248f27b7963cc8ae7fc010e5", "sha256": "7ab0fc7ca4676e894ff11c7d7f4e4172037ec160c2fe51ab9000d4e121017c63"}, "downloads": -1, "filename": "fastlogging-0.9.2.tar.gz", "has_sig": false, "md5_digest": "379e8d60248f27b7963cc8ae7fc010e5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 274337, "upload_time": "2019-12-07T06:19:51", "upload_time_iso_8601": "2019-12-07T06:19:51.821582Z", "url": "https://files.pythonhosted.org/packages/56/ec/723edb55e4b20816848e6df9b126bc2486890c74048b5a213dfa7ee38f36/fastlogging-0.9.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "379e8d60248f27b7963cc8ae7fc010e5", "sha256": "7ab0fc7ca4676e894ff11c7d7f4e4172037ec160c2fe51ab9000d4e121017c63"}, "downloads": -1, "filename": "fastlogging-0.9.2.tar.gz", "has_sig": false, "md5_digest": "379e8d60248f27b7963cc8ae7fc010e5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 274337, "upload_time": "2019-12-07T06:19:51", "upload_time_iso_8601": "2019-12-07T06:19:51.821582Z", "url": "https://files.pythonhosted.org/packages/56/ec/723edb55e4b20816848e6df9b126bc2486890c74048b5a213dfa7ee38f36/fastlogging-0.9.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:43:29 2020"}
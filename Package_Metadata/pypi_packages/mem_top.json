{"info": {"author": "Denis Ryzhkov", "author_email": "denisr@denisr.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.4", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "Usage::\n\n    pip install mem_top\n    from mem_top import mem_top\n\n    # From time to time:\n    logging.debug(mem_top()) # Or just print().\n\n    # Notice which counters keep increasing over time - they are the suspects.\n\nCounters:\n\n* refs - number of direct references from this object to other objects, like keys and values of dict\n* bytes - size of this object in bytes\n* types - number of objects of this type still kept in memory after garbage collection\n\nReal life example::\n\n    refs:\n    144997  <type 'collections.defaultdict'> defaultdict(<type 'collections.deque'>, {<GearmanJobRequest task='...', unique='.\n    144996  <type 'dict'> {'.:..............:.......': <GearmanJobRequest task='..................', unique='.................\n    18948   <type 'dict'> {...\n    1578    <type 'dict'> {...\n    968     <type 'dict'> {...\n    968     <type 'dict'> {...\n    968     <type 'dict'> {...\n    767     <type 'list'> [...\n    726     <type 'dict'> {...\n    608     <type 'dict'> {...\n\n    types:\n    292499  <type 'dict'>\n    217912  <type 'collections.deque'>\n    72702   <class 'gearman.job.GearmanJob'>\n    72702   <class 'gearman.job.GearmanJobRequest'>\n    12340   <type '...\n    3103    <type '...\n    1112    <type '...\n    855     <type '...\n    767     <type '...\n    532     <type '...\n\n* Noticed a leak of 6GB RAM and counting.\n* Added \"mem_top\" and let it run for a while.\n* When got the result above it became absolutely clear who is leaking here:\n  the Python client of Gearman kept increasing its counters over time.\n* Found its known bug - https://github.com/Yelp/python-gearman/issues/10\n  leaking defaultdict of deques, and a dict of GearmanJobRequest-s,\n  just as the \"mem_top\" showed.\n* Replaced \"python-gearman\" - long story: stale 2.0.2 at PyPI, broken 2.0.X at github, etc.\n* \"mem_top\" confirmed the leak is now completely closed.\n\nUPDATES:\n\n* Pass e.g. ``verbose_types=[dict, list]`` to get their values sorted by repr length in ``verbose_file_name``.\n* Added \"bytes\" top.\n\nSEE ALSO:\n\n* https://docs.python.org/2/library/gc.html#gc.garbage\n* https://pypi.python.org/pypi/objgraph\n\nConfig defaults::\n\n    mem_top(\n        limit=10, width=100, sep='\\n',\n        refs_format='{num}\\t{type} {obj}', bytes_format='{num}\\t {obj}', types_format='{num}\\t {obj}',\n        verbose_types=None, verbose_file_name='/tmp/mem_top',\n    )\n\n\n", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/denis-ryzhkov/mem_top", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "mem_top", "package_url": "https://pypi.org/project/mem_top/", "platform": "", "project_url": "https://pypi.org/project/mem_top/", "project_urls": {"Homepage": "https://github.com/denis-ryzhkov/mem_top"}, "release_url": "https://pypi.org/project/mem_top/0.1.7/", "requires_dist": null, "requires_python": "", "summary": "Shows top suspects for memory leaks in your Python program.", "version": "0.1.7", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Usage:</p>\n<pre>pip install mem_top\nfrom mem_top import mem_top\n\n# From time to time:\nlogging.debug(mem_top()) # Or just print().\n\n# Notice which counters keep increasing over time - they are the suspects.\n</pre>\n<p>Counters:</p>\n<ul>\n<li>refs - number of direct references from this object to other objects, like keys and values of dict</li>\n<li>bytes - size of this object in bytes</li>\n<li>types - number of objects of this type still kept in memory after garbage collection</li>\n</ul>\n<p>Real life example:</p>\n<pre>refs:\n144997  &lt;type 'collections.defaultdict'&gt; defaultdict(&lt;type 'collections.deque'&gt;, {&lt;GearmanJobRequest task='...', unique='.\n144996  &lt;type 'dict'&gt; {'.:..............:.......': &lt;GearmanJobRequest task='..................', unique='.................\n18948   &lt;type 'dict'&gt; {...\n1578    &lt;type 'dict'&gt; {...\n968     &lt;type 'dict'&gt; {...\n968     &lt;type 'dict'&gt; {...\n968     &lt;type 'dict'&gt; {...\n767     &lt;type 'list'&gt; [...\n726     &lt;type 'dict'&gt; {...\n608     &lt;type 'dict'&gt; {...\n\ntypes:\n292499  &lt;type 'dict'&gt;\n217912  &lt;type 'collections.deque'&gt;\n72702   &lt;class 'gearman.job.GearmanJob'&gt;\n72702   &lt;class 'gearman.job.GearmanJobRequest'&gt;\n12340   &lt;type '...\n3103    &lt;type '...\n1112    &lt;type '...\n855     &lt;type '...\n767     &lt;type '...\n532     &lt;type '...\n</pre>\n<ul>\n<li>Noticed a leak of 6GB RAM and counting.</li>\n<li>Added \u201cmem_top\u201d and let it run for a while.</li>\n<li>When got the result above it became absolutely clear who is leaking here:\nthe Python client of Gearman kept increasing its counters over time.</li>\n<li>Found its known bug - <a href=\"https://github.com/Yelp/python-gearman/issues/10\" rel=\"nofollow\">https://github.com/Yelp/python-gearman/issues/10</a>\nleaking defaultdict of deques, and a dict of GearmanJobRequest-s,\njust as the \u201cmem_top\u201d showed.</li>\n<li>Replaced \u201cpython-gearman\u201d - long story: stale 2.0.2 at PyPI, broken 2.0.X at github, etc.</li>\n<li>\u201cmem_top\u201d confirmed the leak is now completely closed.</li>\n</ul>\n<p>UPDATES:</p>\n<ul>\n<li>Pass e.g. <tt><span class=\"pre\">verbose_types=[dict,</span> list]</tt> to get their values sorted by repr length in <tt>verbose_file_name</tt>.</li>\n<li>Added \u201cbytes\u201d top.</li>\n</ul>\n<p>SEE ALSO:</p>\n<ul>\n<li><a href=\"https://docs.python.org/2/library/gc.html#gc.garbage\" rel=\"nofollow\">https://docs.python.org/2/library/gc.html#gc.garbage</a></li>\n<li><a href=\"https://pypi.python.org/pypi/objgraph\" rel=\"nofollow\">https://pypi.python.org/pypi/objgraph</a></li>\n</ul>\n<p>Config defaults:</p>\n<pre>mem_top(\n    limit=10, width=100, sep='\\n',\n    refs_format='{num}\\t{type} {obj}', bytes_format='{num}\\t {obj}', types_format='{num}\\t {obj}',\n    verbose_types=None, verbose_file_name='/tmp/mem_top',\n)\n</pre>\n\n          </div>"}, "last_serial": 3559672, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "18a5af60a4821de5ef6e20e7ca41bf3d", "sha256": "b870ef62fc18b310db61ef16aa982cbbea23aa08ff7b474b2eb1e8067630f61a"}, "downloads": -1, "filename": "mem_top-0.1.0.tar.gz", "has_sig": false, "md5_digest": "18a5af60a4821de5ef6e20e7ca41bf3d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1943, "upload_time": "2014-05-26T18:15:13", "upload_time_iso_8601": "2014-05-26T18:15:13.209784Z", "url": "https://files.pythonhosted.org/packages/2b/d1/db21af230c205e049b5a8fa3d03011964821fad7d547c54ca1be6befd376/mem_top-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "28375713413f222e8a07e5538ef6815a", "sha256": "8dce7c15a6632f44ccbde45089adb195cb645fc0b7866e737a7c27e3f590e491"}, "downloads": -1, "filename": "mem_top-0.1.1.tar.gz", "has_sig": false, "md5_digest": "28375713413f222e8a07e5538ef6815a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2004, "upload_time": "2015-05-18T10:08:55", "upload_time_iso_8601": "2015-05-18T10:08:55.621275Z", "url": "https://files.pythonhosted.org/packages/a0/77/47bfba22d4f53d6b657923c037d68ca0ce284be6c7ab0dab5c6c929b12a8/mem_top-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "78f512c70f05399fb13ea09b0e26c499", "sha256": "80d843d2bc20c7bff26247da76ffcc68564fa16e48a809bb3656d5d29ca8c5d9"}, "downloads": -1, "filename": "mem_top-0.1.2.tar.gz", "has_sig": false, "md5_digest": "78f512c70f05399fb13ea09b0e26c499", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2006, "upload_time": "2015-07-30T07:56:13", "upload_time_iso_8601": "2015-07-30T07:56:13.935358Z", "url": "https://files.pythonhosted.org/packages/42/8c/f1bed5bf17af66cdf6cda7182e00a09463250f3f61995ff2c73b34dc86c9/mem_top-0.1.2.tar.gz", "yanked": false}], "0.1.3": [], "0.1.4": [{"comment_text": "", "digests": {"md5": "e378a23dc187c4bdb422261976c1fd77", "sha256": "60c92c050be27ad170c1583312ff08da6e5dcfbff5395ed6c30e6f6a1ff26980"}, "downloads": -1, "filename": "mem_top-0.1.4.tar.gz", "has_sig": false, "md5_digest": "e378a23dc187c4bdb422261976c1fd77", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2326, "upload_time": "2016-11-20T14:06:26", "upload_time_iso_8601": "2016-11-20T14:06:26.230282Z", "url": "https://files.pythonhosted.org/packages/74/48/472c52ebf0dbc034d795b1e4a09ae4898e1bd8120f52406bafd0d9af02a2/mem_top-0.1.4.tar.gz", "yanked": false}], "0.1.5": [{"comment_text": "", "digests": {"md5": "dbdb2e9fe93d2f0d6c7ffeacbf7c6415", "sha256": "80380f262764232751283c6a926f322b1ce81fd228c43fa797be8f4fd1a4d4d3"}, "downloads": -1, "filename": "mem_top-0.1.5.tar.gz", "has_sig": false, "md5_digest": "dbdb2e9fe93d2f0d6c7ffeacbf7c6415", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2370, "upload_time": "2016-11-20T14:35:31", "upload_time_iso_8601": "2016-11-20T14:35:31.684055Z", "url": "https://files.pythonhosted.org/packages/f5/25/e54221c5ac4a07eebbbef9b11c99408282c338335f80b0114e65b1f3c16d/mem_top-0.1.5.tar.gz", "yanked": false}], "0.1.6": [{"comment_text": "", "digests": {"md5": "797f791971b2ad8cebdb1ba4f5f650e5", "sha256": "ba1b9013e2f3cbb06825db1aa6a8e29a14513fad8aade6bc813232bf78996b2c"}, "downloads": -1, "filename": "mem_top-0.1.6.tar.gz", "has_sig": false, "md5_digest": "797f791971b2ad8cebdb1ba4f5f650e5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2520, "upload_time": "2017-02-28T07:09:16", "upload_time_iso_8601": "2017-02-28T07:09:16.943254Z", "url": "https://files.pythonhosted.org/packages/36/16/36d76dff9f3b530330cdcd72e918d35e7a8add3d75bfb7b20047a50a5fbf/mem_top-0.1.6.tar.gz", "yanked": false}], "0.1.7": [{"comment_text": "", "digests": {"md5": "b9de38b8e6250bd7c8e00ede8ea0f762", "sha256": "8b5683273797cf2c4ddbfa7a3f31e96fbe63c445faf7b573a5f91895fd13f09d"}, "downloads": -1, "filename": "mem_top-0.1.7-py2-none-any.whl", "has_sig": false, "md5_digest": "b9de38b8e6250bd7c8e00ede8ea0f762", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 5492, "upload_time": "2018-02-07T09:05:14", "upload_time_iso_8601": "2018-02-07T09:05:14.340395Z", "url": "https://files.pythonhosted.org/packages/9f/73/cc376738cc91bf0b046ba593f124923e6410248220edb96bbf419c5a416f/mem_top-0.1.7-py2-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b9de38b8e6250bd7c8e00ede8ea0f762", "sha256": "8b5683273797cf2c4ddbfa7a3f31e96fbe63c445faf7b573a5f91895fd13f09d"}, "downloads": -1, "filename": "mem_top-0.1.7-py2-none-any.whl", "has_sig": false, "md5_digest": "b9de38b8e6250bd7c8e00ede8ea0f762", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 5492, "upload_time": "2018-02-07T09:05:14", "upload_time_iso_8601": "2018-02-07T09:05:14.340395Z", "url": "https://files.pythonhosted.org/packages/9f/73/cc376738cc91bf0b046ba593f124923e6410248220edb96bbf419c5a416f/mem_top-0.1.7-py2-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 00:56:18 2020"}
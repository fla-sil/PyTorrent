{"info": {"author": "gsy0911", "author_email": "yoshiki0911@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# azfs\n\n[![CircleCI](https://circleci.com/gh/gsy0911/azfs.svg?style=svg&circle-token=ccd8e1ece489b247bcaac84861ae725b0f89a605)](https://circleci.com/gh/gsy0911/azfs)\n[![codecov](https://codecov.io/gh/gsy0911/azfs/branch/master/graph/badge.svg)](https://codecov.io/gh/gsy0911/azfs)\n\nAzFS is to provide convenient Python read/write functions for Azure Storage Account.\n\nazfs can\n\n* list files in blob,\n* check if file exists,\n* read csv as pd.DataFrame, and json as dict from blob,\n* write pd.DataFrame as csv, and dict as json to blob,\n* and raise lots of exceptions ! (Thank you for your cooperation)\n\n## install\n\n```bash\n$ pip install azfs\n```\n\n## usage\n\n### create the client\n\n```python\nimport azfs\nfrom azure.identity import DefaultAzureCredential\n\n# credential is not required if your environment is on ADD\nazc = azfs.AzFileClient()\n\n# credential is required if your environment is not on ADD\ncredential = \"[your storage account credential]\"\n# or\ncredential = DefaultAzureCredential()\nazc = azfs.AzFileClient(credential=credential)\n\n```\n\n#### types of authorization\n\nCurrently, only support [Azure Active Directory (ADD) token credential](https://docs.microsoft.com/azure/storage/common/storage-auth-aad).\n\n\n### download data\n\nazfs can get csv or json data from blob storage.\n\n```python\nimport azfs\nimport pandas as pd\n\nazc = azfs.AzFileClient()\n\n# read csv as pd.DataFrame\ndf = azc.read_csv(\"https://[storage-account].../*.csv\")\n# or\nwith azc:\n    df = pd.read_csv_az(\"https://[storage-account].../*.csv\")\n\ndata = azc.read_json(\"https://[storage-account].../*.json\")\n```\n\n### upload data\n\n```python\nimport azfs\nimport pandas as pd\n\nazc = azfs.AzFileClient()\n\ndf = pd.DataFrame()\ndata = {\"example\": \"data\"}\n\n# write csv\nazc.write_csv(path=\"https://[storage-account].../*.csv\", df=df)\n# or\nwith azc:\n    df.to_csv_az(path=\"https://[storage-account].../*.csv\", index=False)\n\n# read json as dict\nazc.write_json(path=\"https://[storage-account].../*.json\", data=data)\n```\n\n### enumerating or checking if file exists\n\n```python\nimport azfs\n\nazc = azfs.AzFileClient()\n\n# get file list of blob\nfile_list = azc.ls(\"https://[storage-account].../\")\n\n# check if file exists\nis_exists = azc.exists(\"https://[storage-account].../*.csv\")\n```\n\n### remove, copy files\n\n```python\nimport azfs\n\nazc = azfs.AzFileClient()\n\n# copy file from `src_path` to `dst_path`\nsrc_path = \"https://[storage-account].../from/*.csv\"\ndst_path = \"https://[storage-account].../to/*.csv\"\nis_copied = azc.cp(src_path=src_path, dst_path=dst_path, overwrite=True)\n\n# remove the file\nis_removed = azc.rm(path=src_path)\n```\n\n\n## dependencies\n\n```\npandas >= \"1.0.0\"\nazure-identity >= \"1.3.1\"\nazure-storage-file-datalake >= \"12.0.0\"\nazure-storage-blob >= \"12.3.0\"\n```\n\n## references\n\n* [azure-sdk-for-python/storage](https://github.com/Azure/azure-sdk-for-python/tree/master/sdk/storage)\n* [filesystem_spec](https://github.com/intake/filesystem_spec)\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/gsy0911/azfs", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "azfs", "package_url": "https://pypi.org/project/azfs/", "platform": "", "project_url": "https://pypi.org/project/azfs/", "project_urls": {"Homepage": "https://github.com/gsy0911/azfs"}, "release_url": "https://pypi.org/project/azfs/0.1.1/", "requires_dist": ["pandas (>=1.0.0)", "azure-identity (>=1.3.1)", "azure-storage-file-datalake (>=12.0.0)", "azure-storage-blob (>=12.3.0)"], "requires_python": ">=3.7", "summary": "AzFS is to provide convenient Python read/write functions for Azure Storage Account.", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>azfs</h1>\n<p><a href=\"https://circleci.com/gh/gsy0911/azfs\" rel=\"nofollow\"><img alt=\"CircleCI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/377c101c2dc4f46b5b452b7ea688e2491ad2aa47/68747470733a2f2f636972636c6563692e636f6d2f67682f677379303931312f617a66732e7376673f7374796c653d73766726636972636c652d746f6b656e3d63636438653165636534383962323437626361616338343836316165373235623066383961363035\"></a>\n<a href=\"https://codecov.io/gh/gsy0911/azfs\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6e682fdd3a81739eb8023693cc7c35951b0cda78/68747470733a2f2f636f6465636f762e696f2f67682f677379303931312f617a66732f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a></p>\n<p>AzFS is to provide convenient Python read/write functions for Azure Storage Account.</p>\n<p>azfs can</p>\n<ul>\n<li>list files in blob,</li>\n<li>check if file exists,</li>\n<li>read csv as pd.DataFrame, and json as dict from blob,</li>\n<li>write pd.DataFrame as csv, and dict as json to blob,</li>\n<li>and raise lots of exceptions ! (Thank you for your cooperation)</li>\n</ul>\n<h2>install</h2>\n<pre>$ pip install azfs\n</pre>\n<h2>usage</h2>\n<h3>create the client</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">azfs</span>\n<span class=\"kn\">from</span> <span class=\"nn\">azure.identity</span> <span class=\"kn\">import</span> <span class=\"n\">DefaultAzureCredential</span>\n\n<span class=\"c1\"># credential is not required if your environment is on ADD</span>\n<span class=\"n\">azc</span> <span class=\"o\">=</span> <span class=\"n\">azfs</span><span class=\"o\">.</span><span class=\"n\">AzFileClient</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># credential is required if your environment is not on ADD</span>\n<span class=\"n\">credential</span> <span class=\"o\">=</span> <span class=\"s2\">\"[your storage account credential]\"</span>\n<span class=\"c1\"># or</span>\n<span class=\"n\">credential</span> <span class=\"o\">=</span> <span class=\"n\">DefaultAzureCredential</span><span class=\"p\">()</span>\n<span class=\"n\">azc</span> <span class=\"o\">=</span> <span class=\"n\">azfs</span><span class=\"o\">.</span><span class=\"n\">AzFileClient</span><span class=\"p\">(</span><span class=\"n\">credential</span><span class=\"o\">=</span><span class=\"n\">credential</span><span class=\"p\">)</span>\n</pre>\n<h4>types of authorization</h4>\n<p>Currently, only support <a href=\"https://docs.microsoft.com/azure/storage/common/storage-auth-aad\" rel=\"nofollow\">Azure Active Directory (ADD) token credential</a>.</p>\n<h3>download data</h3>\n<p>azfs can get csv or json data from blob storage.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">azfs</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n\n<span class=\"n\">azc</span> <span class=\"o\">=</span> <span class=\"n\">azfs</span><span class=\"o\">.</span><span class=\"n\">AzFileClient</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># read csv as pd.DataFrame</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">azc</span><span class=\"o\">.</span><span class=\"n\">read_csv</span><span class=\"p\">(</span><span class=\"s2\">\"https://[storage-account].../*.csv\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># or</span>\n<span class=\"k\">with</span> <span class=\"n\">azc</span><span class=\"p\">:</span>\n    <span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">read_csv_az</span><span class=\"p\">(</span><span class=\"s2\">\"https://[storage-account].../*.csv\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">azc</span><span class=\"o\">.</span><span class=\"n\">read_json</span><span class=\"p\">(</span><span class=\"s2\">\"https://[storage-account].../*.json\"</span><span class=\"p\">)</span>\n</pre>\n<h3>upload data</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">azfs</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n\n<span class=\"n\">azc</span> <span class=\"o\">=</span> <span class=\"n\">azfs</span><span class=\"o\">.</span><span class=\"n\">AzFileClient</span><span class=\"p\">()</span>\n\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">()</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">\"example\"</span><span class=\"p\">:</span> <span class=\"s2\">\"data\"</span><span class=\"p\">}</span>\n\n<span class=\"c1\"># write csv</span>\n<span class=\"n\">azc</span><span class=\"o\">.</span><span class=\"n\">write_csv</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"o\">=</span><span class=\"s2\">\"https://[storage-account].../*.csv\"</span><span class=\"p\">,</span> <span class=\"n\">df</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"p\">)</span>\n<span class=\"c1\"># or</span>\n<span class=\"k\">with</span> <span class=\"n\">azc</span><span class=\"p\">:</span>\n    <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">to_csv_az</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"o\">=</span><span class=\"s2\">\"https://[storage-account].../*.csv\"</span><span class=\"p\">,</span> <span class=\"n\">index</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># read json as dict</span>\n<span class=\"n\">azc</span><span class=\"o\">.</span><span class=\"n\">write_json</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"o\">=</span><span class=\"s2\">\"https://[storage-account].../*.json\"</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">data</span><span class=\"p\">)</span>\n</pre>\n<h3>enumerating or checking if file exists</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">azfs</span>\n\n<span class=\"n\">azc</span> <span class=\"o\">=</span> <span class=\"n\">azfs</span><span class=\"o\">.</span><span class=\"n\">AzFileClient</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># get file list of blob</span>\n<span class=\"n\">file_list</span> <span class=\"o\">=</span> <span class=\"n\">azc</span><span class=\"o\">.</span><span class=\"n\">ls</span><span class=\"p\">(</span><span class=\"s2\">\"https://[storage-account].../\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># check if file exists</span>\n<span class=\"n\">is_exists</span> <span class=\"o\">=</span> <span class=\"n\">azc</span><span class=\"o\">.</span><span class=\"n\">exists</span><span class=\"p\">(</span><span class=\"s2\">\"https://[storage-account].../*.csv\"</span><span class=\"p\">)</span>\n</pre>\n<h3>remove, copy files</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">azfs</span>\n\n<span class=\"n\">azc</span> <span class=\"o\">=</span> <span class=\"n\">azfs</span><span class=\"o\">.</span><span class=\"n\">AzFileClient</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># copy file from `src_path` to `dst_path`</span>\n<span class=\"n\">src_path</span> <span class=\"o\">=</span> <span class=\"s2\">\"https://[storage-account].../from/*.csv\"</span>\n<span class=\"n\">dst_path</span> <span class=\"o\">=</span> <span class=\"s2\">\"https://[storage-account].../to/*.csv\"</span>\n<span class=\"n\">is_copied</span> <span class=\"o\">=</span> <span class=\"n\">azc</span><span class=\"o\">.</span><span class=\"n\">cp</span><span class=\"p\">(</span><span class=\"n\">src_path</span><span class=\"o\">=</span><span class=\"n\">src_path</span><span class=\"p\">,</span> <span class=\"n\">dst_path</span><span class=\"o\">=</span><span class=\"n\">dst_path</span><span class=\"p\">,</span> <span class=\"n\">overwrite</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># remove the file</span>\n<span class=\"n\">is_removed</span> <span class=\"o\">=</span> <span class=\"n\">azc</span><span class=\"o\">.</span><span class=\"n\">rm</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"o\">=</span><span class=\"n\">src_path</span><span class=\"p\">)</span>\n</pre>\n<h2>dependencies</h2>\n<pre><code>pandas &gt;= \"1.0.0\"\nazure-identity &gt;= \"1.3.1\"\nazure-storage-file-datalake &gt;= \"12.0.0\"\nazure-storage-blob &gt;= \"12.3.0\"\n</code></pre>\n<h2>references</h2>\n<ul>\n<li><a href=\"https://github.com/Azure/azure-sdk-for-python/tree/master/sdk/storage\" rel=\"nofollow\">azure-sdk-for-python/storage</a></li>\n<li><a href=\"https://github.com/intake/filesystem_spec\" rel=\"nofollow\">filesystem_spec</a></li>\n</ul>\n\n          </div>"}, "last_serial": 7188262, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "d6c7f5410a911746c65b0f16b0bfb9cb", "sha256": "ff4a41459b8a10bc7ff3fda9f8b62eaa7f23cfc7f8b169785d771d701026d722"}, "downloads": -1, "filename": "azfs-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "d6c7f5410a911746c65b0f16b0bfb9cb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 9735, "upload_time": "2020-05-03T10:54:40", "upload_time_iso_8601": "2020-05-03T10:54:40.271857Z", "url": "https://files.pythonhosted.org/packages/de/c3/48c11a80b7ff68119915d808c3efa449e015ef31a610a044449aeaedaf3a/azfs-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1f67123fb83c6bf02cf881db7b504e61", "sha256": "850b6e873332ce6289d199ced037c11c5ae2ec8ddb21c9edc219b41152e0ab32"}, "downloads": -1, "filename": "azfs-0.1.0.tar.gz", "has_sig": false, "md5_digest": "1f67123fb83c6bf02cf881db7b504e61", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7083, "upload_time": "2020-05-03T10:54:42", "upload_time_iso_8601": "2020-05-03T10:54:42.673096Z", "url": "https://files.pythonhosted.org/packages/18/68/8288fe606d200b8b4933fa6a83831ae450f9612b5fee173a7682a5c4cd49/azfs-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "b823f366026aa19102f4b490cf1a4028", "sha256": "e4eac1fac02a375babc315eb1bb0f7b550203724c29eec4e775eb30b6eb09f77"}, "downloads": -1, "filename": "azfs-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "b823f366026aa19102f4b490cf1a4028", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 10724, "upload_time": "2020-05-07T12:53:52", "upload_time_iso_8601": "2020-05-07T12:53:52.627980Z", "url": "https://files.pythonhosted.org/packages/44/87/34298e497aa84388c80619d930c0bd7f0a14dfe777a3cf2e5de0ef2be682/azfs-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "63de33770e8881bbba4aa3fe0376fbb1", "sha256": "10c87332369161a2608b8718752564bb10ec7ccee7e0b8bebe328c431b7a923e"}, "downloads": -1, "filename": "azfs-0.1.1.tar.gz", "has_sig": false, "md5_digest": "63de33770e8881bbba4aa3fe0376fbb1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 8767, "upload_time": "2020-05-07T12:53:55", "upload_time_iso_8601": "2020-05-07T12:53:55.647878Z", "url": "https://files.pythonhosted.org/packages/23/d0/03befe9fb41574c5272449594899108d67e02eee97823599483f76695d0b/azfs-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b823f366026aa19102f4b490cf1a4028", "sha256": "e4eac1fac02a375babc315eb1bb0f7b550203724c29eec4e775eb30b6eb09f77"}, "downloads": -1, "filename": "azfs-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "b823f366026aa19102f4b490cf1a4028", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 10724, "upload_time": "2020-05-07T12:53:52", "upload_time_iso_8601": "2020-05-07T12:53:52.627980Z", "url": "https://files.pythonhosted.org/packages/44/87/34298e497aa84388c80619d930c0bd7f0a14dfe777a3cf2e5de0ef2be682/azfs-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "63de33770e8881bbba4aa3fe0376fbb1", "sha256": "10c87332369161a2608b8718752564bb10ec7ccee7e0b8bebe328c431b7a923e"}, "downloads": -1, "filename": "azfs-0.1.1.tar.gz", "has_sig": false, "md5_digest": "63de33770e8881bbba4aa3fe0376fbb1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 8767, "upload_time": "2020-05-07T12:53:55", "upload_time_iso_8601": "2020-05-07T12:53:55.647878Z", "url": "https://files.pythonhosted.org/packages/23/d0/03befe9fb41574c5272449594899108d67e02eee97823599483f76695d0b/azfs-0.1.1.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:15:29 2020"}
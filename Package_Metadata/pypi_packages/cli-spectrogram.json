{"info": {"author": "Caileigh Fitzgerald", "author_email": "cfitzgerald@whoi.edu", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Console :: Curses", "Operating System :: POSIX :: Linux", "Programming Language :: Python", "Topic :: Scientific/Engineering :: Visualization", "Topic :: Software Development :: User Interfaces"], "description": "# Command Line Interface Spectrogram\n## cli-spectrogram\nSimple python module that creates spectrograms from multi channel hydrophone array data in the command line.\n\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/default.png \"Default view\")\n\n### Purpose\nOur group needed a lightweight, command line tool to look at spectrogram data coming from multi channel hydrophone arrays. \nThis was designed for text or binary files created using the uldaq library. _Link to their source code [here](https://github.com/mccdaq/uldaq)._ \n\n### Example data file with two channels\nThe first column contains voltage readings from channel 1\nThe second column contains voltage readings from channel 2\n_The data points are separated by ','_\n\n```\n0.001782, 0.002414\n0.002414, 0.002414\n0.001641, -0.001416\n0.000060, -0.001416\n-0.001416, -0.001416\n-0.001908, -0.001100\n-0.001100, -0.001100\n```\n\n### Installing cli-spectrogram\ncli-spectrogram is meant to be a standalone tool.\n```\n$ pip install cli-spectrogram \n```\n\n### Running cli-spectrogram\n```\n$ cli_spectrogram --sample-rate 38400 --file-length 1 --source ./examples\n$ cli_spectrogram --help\n\nusage: cli_spectrogram [-h] --sample-rate SAMPLE_RATE --file-length\n                       FILE_LENGTH [-d] [--source SOURCE]\n                       [--threshold-steps THRESHOLD_STEPS]\n                       [-c {1,2,3,4,5,6,7,8}] [-t THRESHOLD_DB]\n                       [-m MARKFREQ_HZ] [--nfft NFFT]\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --sample-rate SAMPLE_RATE\n  --file-length FILE_LENGTH\n                        in seconds\n  -d, --debug           Show debugging print messsages\n  --source SOURCE       Source directory with .txt files\n  --threshold-steps THRESHOLD_STEPS\n                        How many dB above and below threshold\n  -c {1,2,3,4,5,6,7,8}, --display-channel {1,2,3,4,5,6,7,8}\n  -t THRESHOLD_DB, --threshold-db THRESHOLD_DB\n  -m MARKFREQ_HZ, --markfreq-hz MARKFREQ_HZ\n  --nfft NFFT\n```\n\n### Different ways to launch cli-spectrogram\n`$ cli_spectrogram --sample-rate 38400 --file-length 1 --source ./examples `\n\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/default.png \"Default view\")\n\n`$ cli_spectrogram --sample-rate 38400 --file-length 1 --source ./examples --markfreq-hz 2000 --threshold-db 80`\n\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/basic.png \"With threshold passed and mark frequency passed\")\n\n`$ cli_spectrogram --sample-rate 38400 --file-length 1 --source ./examples --markfreq-hz 2000 --threshold-db 80 --threshold-steps 20 `\n\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/thresh_tolerance.png \"With threshold passed and mark frequency passed and threshold steps\")\n\n\n### Navigating the user interface\n__Adjust the Threshold (dB)__\n* press the __'up arrow'__ to increase the threshold dB value by `THRESHOLD_STEPS`.\n* press the __'down arrow'__ to decrease the threshold dB value by `THRESHOLD_STEPS`.\n\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/low_threshold.png \"Low threshold\")\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/medium_threshold.png \"Medium threshold\")\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/high_threshold.png \"High threshold\")\n\n__Adjust the Mark Frequency__\n* press the __'right arrow'__ to increase the mark frequency value by 200Hz.\n* press the __'left arrow'__ to decrease the mark frequency value by 200Hz.\n\n__Toggle Full Screen__ \n* press 'F' or 'f' to toggle full screen mode. In full screen mode there are more rows to the spectrogram but the menu and legend are hidden.\n\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/full_screen.png \"Full screen toggled on\")\n\n__Navigation Mode__ \n* press __'pg up'__ to display the _next_ file. (if you're at the most current file, __'pg up'__ won't do anything).\n* press __'pg down'__ to display the _previous_ file. (if you're at the oldest file, __'pg down'__ won't do anything).\n* press __'escape'__ to exit Navigation mode and return to streaming mode.\n_Note: in Navigation mode, the spectrogram will be displayed for the current file and wait indefinitely. When Streaming mode is resumed, the spectrogram will be of the latest file, NOT where it left off._\n\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/navigation_mode.png \"Navigation mode\")\n\n__Ui Indicators__\n\nLeft column info | Center column legend | Right column help\n------------ | ------------- | -------------\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/left_column.png \"Left column info\") | ![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/center_column.png \"Center column legend\") | ![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/right_column.png \"Right column help\")\nThreshold (dB): Current threshold. | Mode: Streaming OR Navigation | up / down Keys to adjust the threshold\nSample Rate (Hz): Sample rate of collected data. | Color bar for spectrogram | left / right Keys to adjust the frequency marker\nViewing same file: if True, the spectrogram is being re-rendered from the same file. if False, then the spectrogram on display is a new render. | lower bound dB - upper bount dB | pg up/pg down view next file/view prev file\nfile: name of the file that is being rendered. | | ESC Exit navigation mode\ntime: time the file was created/last modified converted to local time | | F/f toggle full screen\nrefresh count: The heartbeat of the app. | |\n\n__Errors and fail states__\n\n* cli-spectrogram has a minimum console size. If you shrink the window past the minimum size, you'll be prompted to resize until the minimum dimensions are met.\n\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/too_small.png \"Terminal too small\")\n\n* If there aren't any files in the log directory, you'll need to restart the cli-spectrogram and provide a directory to `--source` that has the text/binary files generated by the uldaq library; however, if files are added to the directory while in this state, cli-spectrogram will return to/start streaming.\n\n![](https://raw.githubusercontent.com/caileighf/cli-spectrogram/master/images/no_files.png \"No log files\")\n\n\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "https://github.com/caileighf/cli-spectrogram/archive/1.0.0.tar.gz", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/caileighf/cli-spectrogram", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "cli-spectrogram", "package_url": "https://pypi.org/project/cli-spectrogram/", "platform": "", "project_url": "https://pypi.org/project/cli-spectrogram/", "project_urls": {"Download": "https://github.com/caileighf/cli-spectrogram/archive/1.0.0.tar.gz", "Homepage": "https://github.com/caileighf/cli-spectrogram"}, "release_url": "https://pypi.org/project/cli-spectrogram/1.0.0/", "requires_dist": ["numpy", "pathlib"], "requires_python": ">=2.7", "summary": "Simple python module that creates spectrograms from multi channel hydrophone array data in the command line.", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Command Line Interface Spectrogram</h1>\n<h2>cli-spectrogram</h2>\n<p>Simple python module that creates spectrograms from multi channel hydrophone array data in the command line.</p>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5776b1c87c3cf5dd2d2f85151c21619d708be9d5/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f64656661756c742e706e67\"></p>\n<h3>Purpose</h3>\n<p>Our group needed a lightweight, command line tool to look at spectrogram data coming from multi channel hydrophone arrays.\nThis was designed for text or binary files created using the uldaq library. <em>Link to their source code <a href=\"https://github.com/mccdaq/uldaq\" rel=\"nofollow\">here</a>.</em></p>\n<h3>Example data file with two channels</h3>\n<p>The first column contains voltage readings from channel 1\nThe second column contains voltage readings from channel 2\n<em>The data points are separated by ','</em></p>\n<pre><code>0.001782, 0.002414\n0.002414, 0.002414\n0.001641, -0.001416\n0.000060, -0.001416\n-0.001416, -0.001416\n-0.001908, -0.001100\n-0.001100, -0.001100\n</code></pre>\n<h3>Installing cli-spectrogram</h3>\n<p>cli-spectrogram is meant to be a standalone tool.</p>\n<pre><code>$ pip install cli-spectrogram \n</code></pre>\n<h3>Running cli-spectrogram</h3>\n<pre><code>$ cli_spectrogram --sample-rate 38400 --file-length 1 --source ./examples\n$ cli_spectrogram --help\n\nusage: cli_spectrogram [-h] --sample-rate SAMPLE_RATE --file-length\n                       FILE_LENGTH [-d] [--source SOURCE]\n                       [--threshold-steps THRESHOLD_STEPS]\n                       [-c {1,2,3,4,5,6,7,8}] [-t THRESHOLD_DB]\n                       [-m MARKFREQ_HZ] [--nfft NFFT]\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --sample-rate SAMPLE_RATE\n  --file-length FILE_LENGTH\n                        in seconds\n  -d, --debug           Show debugging print messsages\n  --source SOURCE       Source directory with .txt files\n  --threshold-steps THRESHOLD_STEPS\n                        How many dB above and below threshold\n  -c {1,2,3,4,5,6,7,8}, --display-channel {1,2,3,4,5,6,7,8}\n  -t THRESHOLD_DB, --threshold-db THRESHOLD_DB\n  -m MARKFREQ_HZ, --markfreq-hz MARKFREQ_HZ\n  --nfft NFFT\n</code></pre>\n<h3>Different ways to launch cli-spectrogram</h3>\n<p><code>$ cli_spectrogram --sample-rate 38400 --file-length 1 --source ./examples</code></p>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5776b1c87c3cf5dd2d2f85151c21619d708be9d5/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f64656661756c742e706e67\"></p>\n<p><code>$ cli_spectrogram --sample-rate 38400 --file-length 1 --source ./examples --markfreq-hz 2000 --threshold-db 80</code></p>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fc2c1df7d3907063836da10250be6a6b692c28fb/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f62617369632e706e67\"></p>\n<p><code>$ cli_spectrogram --sample-rate 38400 --file-length 1 --source ./examples --markfreq-hz 2000 --threshold-db 80 --threshold-steps 20</code></p>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0799ad15e6c615e8c1e61f0cd50d8cc2df9143ea/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f7468726573685f746f6c6572616e63652e706e67\"></p>\n<h3>Navigating the user interface</h3>\n<p><strong>Adjust the Threshold (dB)</strong></p>\n<ul>\n<li>press the <strong>'up arrow'</strong> to increase the threshold dB value by <code>THRESHOLD_STEPS</code>.</li>\n<li>press the <strong>'down arrow'</strong> to decrease the threshold dB value by <code>THRESHOLD_STEPS</code>.</li>\n</ul>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1f6bc2d355520443dc5ef5e524d90264635f914b/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f6c6f775f7468726573686f6c642e706e67\">\n<img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9392775b114882abfd0b759fa7dca39008aa5765/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f6d656469756d5f7468726573686f6c642e706e67\">\n<img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/198c02dd23fcfc62c820cf52f4a3e7b2cd73d865/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f686967685f7468726573686f6c642e706e67\"></p>\n<p><strong>Adjust the Mark Frequency</strong></p>\n<ul>\n<li>press the <strong>'right arrow'</strong> to increase the mark frequency value by 200Hz.</li>\n<li>press the <strong>'left arrow'</strong> to decrease the mark frequency value by 200Hz.</li>\n</ul>\n<p><strong>Toggle Full Screen</strong></p>\n<ul>\n<li>press 'F' or 'f' to toggle full screen mode. In full screen mode there are more rows to the spectrogram but the menu and legend are hidden.</li>\n</ul>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b22e3f274fcfd31552578d614fe39869d02ffd9c/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f66756c6c5f73637265656e2e706e67\"></p>\n<p><strong>Navigation Mode</strong></p>\n<ul>\n<li>press <strong>'pg up'</strong> to display the <em>next</em> file. (if you're at the most current file, <strong>'pg up'</strong> won't do anything).</li>\n<li>press <strong>'pg down'</strong> to display the <em>previous</em> file. (if you're at the oldest file, <strong>'pg down'</strong> won't do anything).</li>\n<li>press <strong>'escape'</strong> to exit Navigation mode and return to streaming mode.\n<em>Note: in Navigation mode, the spectrogram will be displayed for the current file and wait indefinitely. When Streaming mode is resumed, the spectrogram will be of the latest file, NOT where it left off.</em></li>\n</ul>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/57e879a19a7274a4575ca8f86db0c77b281b0650/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f6e617669676174696f6e5f6d6f64652e706e67\"></p>\n<p><strong>Ui Indicators</strong></p>\n<table>\n<thead>\n<tr>\n<th>Left column info</th>\n<th>Center column legend</th>\n<th>Right column help</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d10cd16293184ce9dcf685b26f85ba38fcf0cd11/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f6c6566745f636f6c756d6e2e706e67\"></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6fe0c1a34854ef176d60f36f3289a06b0442ed8c/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f63656e7465725f636f6c756d6e2e706e67\"></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8ad9fe540694a31af93b2a275a142346c2f3d1cf/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f72696768745f636f6c756d6e2e706e67\"></td>\n</tr>\n<tr>\n<td>Threshold (dB): Current threshold.</td>\n<td>Mode: Streaming OR Navigation</td>\n<td>up / down Keys to adjust the threshold</td>\n</tr>\n<tr>\n<td>Sample Rate (Hz): Sample rate of collected data.</td>\n<td>Color bar for spectrogram</td>\n<td>left / right Keys to adjust the frequency marker</td>\n</tr>\n<tr>\n<td>Viewing same file: if True, the spectrogram is being re-rendered from the same file. if False, then the spectrogram on display is a new render.</td>\n<td>lower bound dB - upper bount dB</td>\n<td>pg up/pg down view next file/view prev file</td>\n</tr>\n<tr>\n<td>file: name of the file that is being rendered.</td>\n<td></td>\n<td>ESC Exit navigation mode</td>\n</tr>\n<tr>\n<td>time: time the file was created/last modified converted to local time</td>\n<td></td>\n<td>F/f toggle full screen</td>\n</tr>\n<tr>\n<td>refresh count: The heartbeat of the app.</td>\n<td></td>\n<td></td>\n</tr></tbody></table>\n<p><strong>Errors and fail states</strong></p>\n<ul>\n<li>cli-spectrogram has a minimum console size. If you shrink the window past the minimum size, you'll be prompted to resize until the minimum dimensions are met.</li>\n</ul>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5cca992b710cc2ff79193de0f3aeb85f4a3c5a50/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f746f6f5f736d616c6c2e706e67\"></p>\n<ul>\n<li>If there aren't any files in the log directory, you'll need to restart the cli-spectrogram and provide a directory to <code>--source</code> that has the text/binary files generated by the uldaq library; however, if files are added to the directory while in this state, cli-spectrogram will return to/start streaming.</li>\n</ul>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9de04ddb9d03d6d3cc23cbd850cd1cba09059e60/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6361696c65696768662f636c692d7370656374726f6772616d2f6d61737465722f696d616765732f6e6f5f66696c65732e706e67\"></p>\n\n          </div>"}, "last_serial": 6753048, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "d6fcdb8d7193a0eaf5a0b419c024d154", "sha256": "42eb89ce257332e4d13176bc69568e62d4bddee2b38c47d0254fd1bd1ab0f71b"}, "downloads": -1, "filename": "cli_spectrogram-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "d6fcdb8d7193a0eaf5a0b419c024d154", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=2.7", "size": 20623, "upload_time": "2020-03-05T03:59:15", "upload_time_iso_8601": "2020-03-05T03:59:15.336225Z", "url": "https://files.pythonhosted.org/packages/48/4f/ff032e90d16d660064e6a1f5699caacb55f5f009fc5a3b55b1ce6f674066/cli_spectrogram-1.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "19aec093f3276bdce6bca21d9687e3a4", "sha256": "4a35d21e1acbf0d70453e9b7dc2576489ba56e6cf1023d93fc65ca6c0f111156"}, "downloads": -1, "filename": "cli-spectrogram-1.0.0.tar.gz", "has_sig": false, "md5_digest": "19aec093f3276bdce6bca21d9687e3a4", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 9045, "upload_time": "2020-03-05T03:59:17", "upload_time_iso_8601": "2020-03-05T03:59:17.246775Z", "url": "https://files.pythonhosted.org/packages/c8/45/54174f697afbd09dd6874a332aad53aa440292dc4cfa7443637386dbb0bd/cli-spectrogram-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "d6fcdb8d7193a0eaf5a0b419c024d154", "sha256": "42eb89ce257332e4d13176bc69568e62d4bddee2b38c47d0254fd1bd1ab0f71b"}, "downloads": -1, "filename": "cli_spectrogram-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "d6fcdb8d7193a0eaf5a0b419c024d154", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=2.7", "size": 20623, "upload_time": "2020-03-05T03:59:15", "upload_time_iso_8601": "2020-03-05T03:59:15.336225Z", "url": "https://files.pythonhosted.org/packages/48/4f/ff032e90d16d660064e6a1f5699caacb55f5f009fc5a3b55b1ce6f674066/cli_spectrogram-1.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "19aec093f3276bdce6bca21d9687e3a4", "sha256": "4a35d21e1acbf0d70453e9b7dc2576489ba56e6cf1023d93fc65ca6c0f111156"}, "downloads": -1, "filename": "cli-spectrogram-1.0.0.tar.gz", "has_sig": false, "md5_digest": "19aec093f3276bdce6bca21d9687e3a4", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 9045, "upload_time": "2020-03-05T03:59:17", "upload_time_iso_8601": "2020-03-05T03:59:17.246775Z", "url": "https://files.pythonhosted.org/packages/c8/45/54174f697afbd09dd6874a332aad53aa440292dc4cfa7443637386dbb0bd/cli-spectrogram-1.0.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:18:56 2020"}
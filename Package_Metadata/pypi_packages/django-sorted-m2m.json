{"info": {"author": "Gregor M\u00fcllegger", "author_email": "gregor@muellegger.de", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Web Environment", "Framework :: Django", "Framework :: Django :: 1.8", "Framework :: Django :: 1.9", "Framework :: Django :: 2.0", "Framework :: Django :: 2.1", "Framework :: Django :: 2.2", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Natural Language :: English", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": "=================\ndjango-sorted-m2m\n=================\n\n|build-status|\n\nThis project is a fork of `django-sortedm2m <http://github.com/gregmuellegger/django-sortedm2m>`_ with added support of Django 2.2 thanks to the code of `@joehybird <https://github.com/joehybird>`_.\nIt is published on PyPI under the name *django-sorted-m2m* (note the additional - betweeen sorted and m2m)\n\n------------\n\n``sortedm2m`` is a drop-in replacement for django's own ``ManyToManyField``.\nThe provided ``SortedManyToManyField`` behaves like the original one but\nremembers the order of added relations.\n\nUsecases\n========\n\nImagine that you have a gallery model and a photo model. Usually you want a\nrelation between these models so you can add multiple photos to one gallery\nbut also want to be able to have the same photo on many galleries.\n\nThis is where you usually can use many to many relation. The downside is that\ndjango's default implementation doesn't provide a way to order the photos in\nthe gallery. So you only have a random ordering which is not suitable in most\ncases.\n\nYou can work around this limitation by using the ``SortedManyToManyField``\nprovided by this package as drop in replacement for django's\n``ManyToManyField``.\n\nRequirements\n============\n\n**django-sortedm2m** runs on Python 2.7, 3.6, 3.7 and up. Django 1.11 and up\nis required\n\nUsage\n=====\n\nUse ``SortedManyToManyField`` like ``ManyToManyField`` in your models::\n\n    from django.db import models\n    from sortedm2m.fields import SortedManyToManyField\n\n    class Photo(models.Model):\n        name = models.CharField(max_length=50)\n        image = models.ImageField(upload_to='...')\n\n    class Gallery(models.Model):\n        name = models.CharField(max_length=50)\n        photos = SortedManyToManyField(Photo)\n\nIf you use the relation in your code like the following, it will remember the\norder in which you have added photos to the gallery. ::\n\n    gallery = Gallery.objects.create(name='Photos ordered by name')\n    for photo in Photo.objects.order_by('name'):\n        gallery.photos.add(photo)\n\n``SortedManyToManyField``\n-------------------------\n\nYou can use the following arguments to modify the default behavior:\n\n``sorted``\n~~~~~~~~~~\n\n**Default:** ``True``\n\nYou can set the ``sorted`` to ``False`` which will force the\n``SortedManyToManyField`` in behaving like Django's original\n``ManyToManyField``. No ordering will be performed on relation nor will the\nintermediate table have a database field for storing ordering information.\n\n``sort_value_field_name``\n~~~~~~~~~~~~~~~~~~~~~~~~~\n\n**Default:** ``'sort_value'``\n\nSpecifies how the field is called in the intermediate database table by which\nthe relationship is ordered. You can change its name if you have a legacy\ndatabase that you need to integrate into your application.\n\n``base_class``\n~~~~~~~~~~~~~~\n\n**Default:** ``None``\n\nYou can set the ``base_class``, which is the base class of the through model of\nthe sortedm2m relationship between models to an abstract base class containing\na ``__str__`` method to improve the string representations of sortedm2m\nrelationships.\n\n.. note::\n\n    You also could use it to add additional fields to the through model. But\n    please beware: These fields will not be created or modified by an\n    automatically created migration. You will need to take care of migrations\n    yourself. In most cases when you want to add another field, consider\n    *not* using sortedm2m but use a ordinary Django ManyToManyField and\n    specify `your own through model`_.\n    \n.. _your own through model: https://docs.djangoproject.com/en/1.11/ref/models/fields/#django.db.models.ManyToManyField.through\n\nMigrating a ``ManyToManyField`` to be a ``SortedManyToManyField``\n=================================================================\n\nIf you are using Django's migration framework and want to change a\n``ManyToManyField`` to be a ``SortedManyToManyField`` (or the other way\naround), you will find that a migration created by Django's ``makemigrations``\nwill not work as expected.\n\nIn order to migrate a ``ManyToManyField`` to a ``SortedManyToManyField``, you\nchange the field in your models to be a ``SortedManyToManyField`` as\nappropriate and create a new migration with ``manage.py makemigrations``.\nBefore applying it, edit the migration file and change in the ``operations``\nlist ``migrations.AlterField`` to ``AlterSortedManyToManyField`` (import it\nfrom ``sortedm2m.operations``).  This operation will take care of changing the\nintermediate tables, add the ordering field and fill in default values.\n\nAdmin\n=====\n\n``SortedManyToManyField`` provides a custom widget which can be used to sort\nthe selected items. It renders a list of checkboxes that can be sorted by\ndrag'n'drop.\n\nTo use the widget in the admin you need to add ``sortedm2m`` to your\nINSTALLED_APPS settings, like::\n\n   INSTALLED_APPS = (\n       'django.contrib.auth',\n       'django.contrib.contenttypes',\n       'django.contrib.sessions',\n       'django.contrib.sites',\n       'django.contrib.messages',\n       'django.contrib.staticfiles',\n       'django.contrib.admin',\n   \n       'sortedm2m',\n\n       '...',\n   )\n\nOtherwise it will not find the css and js files needed to sort by drag'n'drop.\n\nFinally, make sure *not* to have the model listed in any ``filter_horizontal``\nor ``filter_vertical`` tuples inside of your ``ModelAdmin`` definitions.\n\nIf you did it right, you'll wind up with something like this:\n\n.. image:: http://i.imgur.com/HjIW7MI.jpg\n\nIt's also possible to use the ``SortedManyToManyField`` with admin's\n``raw_id_fields`` option in the ``ModelAdmin`` definition. Add the name of the\n``SortedManyToManyField`` to this list to get a simple text input field. The\norder in which the ids are entered into the input box is used to sort the\nitems of the sorted m2m relation.\n\nExample::\n\n    from django.contrib import admin\n\n    class GalleryAdmin(admin.ModelAdmin):\n        raw_id_fields = ('photos',)\n\nContribute\n==========\n\nYou can find the latest development version on github_. Get there and fork it,\nfile bugs or send me nice wishes.\n\n.. _github: https://github.com/Ponytech/django-sorted-m2m\n\nRunning the tests\n-----------------\n\nI recommend to use ``tox`` to run the tests for all relevant python versions\nall at once. Therefore install ``tox`` with ``pip install tox``, then type in\nthe root directory of the ``django-sortedm2m`` checkout::\n\n   tox\n\nHowever using tox will not include the tests that run against a PostgreSQL\ndatabase. The project therefore contains a ``Vagrantfile`` that uses vagrant_\nto setup a virtual machine including a working PostgreSQL installation. To\nrun the postgres tests, please `install vagrant`_ and then run::\n\n   make test-postgres\n\nThis will bring up and provision the virtual machine and runs the testsuite\nagainst a PostgreSQL database.\n\n.. _vagrant: http://www.vagrantup.com/\n.. _install vagrant: http://www.vagrantup.com/downloads\n\nGet in touch\n------------\n\nFeel free to drop me a message about critique or feature requests. You can get\nin touch with me by mail_ or twitter_.\n\n.. _mail: mailto:hello@ponytech.net\n.. _twitter: http://twitter.com/Ponytech_net\n\n.. |pypi-badge| image:: https://img.shields.io/pypi/v/django-sorted-m2m.svg\n   :alt: PyPI Release\n   :target: https://pypi.python.org/pypi/django-sorted-m2m\n\n.. |build-status| image:: https://travis-ci.org/Ponytech/django-sorted-m2m.png\n   :alt: Build Status\n   :target: https://travis-ci.org/Ponytech/django-sorted-m2m\n\n\nChangelog\n=========\n\n2.0.0\n-----\n\n- Drop support until Django 1.5 to 1.10\n- Drop support of python 2.6, 3.3, 3.4 & pypy\n- Add support of Django 2.0, 2.1 & 2.2\n- Add support or python 3.7\n- Huge code cleanup to remove old compatibility code\n- Add support of custom through models (only for Django >= 2.2)\n\n1.5.0\n-----\n\n* `#101`_: Add support for a custom base class for the many to many intermediate\n  class. See the README for documentation. Thank you Rohith Asrk for the patch.\n* `#87`_: Fix ``AlterSortedManyToManyField`` operation to support custom set\n  ``_sort_field_name``.\n\n.. _#101: https://github.com/gregmuellegger/django-sortedm2m/pull/101\n.. _#87: https://github.com/gregmuellegger/django-sortedm2m/issues/87\n\n1.4.0\n-----\n\n* `#104`_: Add compatibility for Django 1.10 and 1.11!\n  Thank you Frankie Dintino for the patch.\n* `#94`_: Add french translation files. Mainly for strings in the admin.\n  Thanks to ppython for the patch.\n* `#93`_: Prevent users from accidentally importing and using\n  ``ManyToManyField`` instead of ``SortedManyToManyField`` from ``sortedm2m``.\n  Thanks Dayne May for the patch.\n\n.. _#104: https://github.com/gregmuellegger/django-sortedm2m/pull/104\n.. _#94: https://github.com/gregmuellegger/django-sortedm2m/pull/94\n.. _#93: https://github.com/gregmuellegger/django-sortedm2m/pull/93\n\n1.3.3\n-----\n\n* `#91`_ & `#92`_: Fix admin widget, when used with Django 1.10. The add a new\n  item opup was not closing. Thanks to Tipuch for the patch.\n\n.. _#91: https://github.com/gregmuellegger/django-sortedm2m/issues/91\n.. _#92: https://github.com/gregmuellegger/django-sortedm2m/pull/92\n\n1.3.2\n-----\n\n* `#80`_ & `#83`_: Fix ``SortedMultipleChoiceField.clean`` if the validated\n  value is ``None``. Thanks to Alex Mannhold for the patch.\n\n.. _#80: https://github.com/gregmuellegger/django-sortedm2m/issues/80\n.. _#83: https://github.com/gregmuellegger/django-sortedm2m/pull/83\n\n1.3.1\n-----\n\n* `#57`_ & `#81`_: Fix add related object popup error prevents operation when\n  no related objects already exist. Thanks to Vadim Sikora for the fix.\n\n.. _#57: https://github.com/gregmuellegger/django-sortedm2m/issue/57\n.. _#81: https://github.com/gregmuellegger/django-sortedm2m/pull/81\n\n1.3.0\n-----\n\n* `#79`_: Use `.sortedm2m-item` selector in the widget's JavaScript code to\n  target the list items. This was previously `ul.sortedm2m li`. This improves\n  compatibility other markup that does not want to use `ul`/`li` tags. Thanks\n  to Michal Dabski for the patch.\n\n  **Note:** If you use custom markup with the JavaScript code, you need to make\n  sure that the items now have the `sortedm2m-item` class name.\n\n* `#76`_: Add support for to_field_name to SortedMultipleChoiceField. Thanks\n  to Conrad Kramer for the patch.\n\n.. _#76: https://github.com/gregmuellegger/django-sortedm2m/pull/76\n.. _#79: https://github.com/gregmuellegger/django-sortedm2m/pull/79\n\n1.2.2\n-----\n\n* `#75`_: Fix \"add another\" admin popup. It didn't refresh the list of items in Django\n  1.8+. Thanks to Vadim Sikora for the patch.\n\n.. _#75: https://github.com/gregmuellegger/django-sortedm2m/pull/75\n\n1.2.1\n-----\n\n* *skipped*\n\n1.2.0\n-----\n\n* Dropping Python 3.2 support. It has reached end of life in February 2016.\n\n1.1.2\n-----\n\n* `#71`_: Don't break collectstatic for some cases. Therefore we removed the\n  STATIC_URL prefix from the form media definition in\n  ``SortedCheckboxSelectMultiple``. Thanks to Kirill Ermolov for the\n  patch.\n\n.. _#71: https://github.com/gregmuellegger/django-sortedm2m/issues/71\n\n1.1.1\n-----\n\n* `#70`_: CSS fix for Django 1.9 new admin design. Thanks to Maarten Draijer\n  for the patch.\n\n.. _#70: https://github.com/gregmuellegger/django-sortedm2m/pull/70\n\n1.1.0\n-----\n\n* `#59`_, `#65`_, `#68`_: Django 1.9 support. Thanks to Scott Kyle and Jasper Maes for\n  patches.\n* `#67`_: Support for disabling migrations for some models, that can be\n  decided by Django's DB router (with the ``allow_migrate_model`` method).\n  Thanks to @hstanev for the patch.\n\n.. _#59: https://github.com/gregmuellegger/django-sortedm2m/pull/59\n.. _#65: https://github.com/gregmuellegger/django-sortedm2m/pull/65\n.. _#67: https://github.com/gregmuellegger/django-sortedm2m/pull/67\n.. _#68: https://github.com/gregmuellegger/django-sortedm2m/pull/68\n\n1.0.2\n-----\n\n* `#56`_: Fix bug where order is wrong after adding objects. That had to do\n  with using the ``count`` of the m2m objects for the next ``sort_value``\n  value. We now use the corret ``Max`` aggregation to make sure that newly\n  added objects will be in order. Thanks to Scott Kyle for the report and\n  patch.\n\n.. _#56: https://github.com/gregmuellegger/django-sortedm2m/pull/56\n\n1.0.1\n-----\n\n* Performance fix for sorted m2m admin widget. See `#54`_ for details. Thanks\n  to Jonathan Liuti for fixing this.\n\n.. _#54: https://github.com/gregmuellegger/django-sortedm2m/pull/54\n\n1.0.0\n-----\n\n* Hooray, we officially declare **django-sortedm2m** to be stable and\n  promise to be backwards compatible to new releases (we already doing good\n  since since the beginning in that regard).\n* Django 1.8 support for ``AlterSortedManyToManyField`` operation. Thanks to\n  Nicolas Tr\u00e9segnie for starting the implementation.\n\n0.10.0\n------\n\n* The creation of the sortedm2m intermediate model and database table is now\n  fully done inside of the ``SortedManyToManyField`` class. That makes it much\n  easier to modify the creation of this when creating a custom subclass of this\n  field. See `#49`_ for an example usecase.\n* Adding support for the custom field arguments like ``sorted`` and\n  ``sort_value_field_name`` in Django 1.7 migrations. Thanks to Christian\n  Kohlstedde for the patch.\n\n.. _#49: https://github.com/gregmuellegger/django-sortedm2m/issues/49\n\n0.9.5\n-----\n\n* Fixing ``setup.py`` when run on a system that does not use UTF-8 as default\n  encoding. See `#48`_ for details. Thanks to Richard Mitchell for the patch.\n\n.. _#48: https://github.com/gregmuellegger/django-sortedm2m/pull/48\n\n0.9.4\n-----\n\n* Fix: ``SortedMultipleChoiceField`` did not properly report changes of the\n  data to ``Form.changed_data``. Thanks to @smcoll for the patch.\n\n0.9.3\n-----\n\n* Fix: ``AlterSortedManyToManyField`` operation failed for postgres databases.\n* Testing against MySQL databases.\n\n0.9.2\n-----\n\n* Fix: ``AlterSortedManyToManyField`` operation failed for many to many fields\n  which already contained some data.\n\n0.9.1\n-----\n\n* Fix: When using the sortable admin widget, deselecting an item in the list\n  had not effect. Thank you to madEng84 for the report and patch!\n\n0.9.0\n-----\n\n* Adding ``AlterSortedManyToManyField`` migration operation that allows you to\n  migrate from ``ManyToManyField`` to ``SortedManyToManyField`` and vice\n  versa. Thanks to Joaqu\u00edn P\u00e9rez for the patch!\n* Fix: Supporting migrations in Django 1.7.4.\n* Fix: The admin widget is not broken anymore for dynamically added inline\n  forms. Thanks to Rub\u00e9n D\u00edaz for the patch!\n\n0.8.1\n-----\n\n* Adding support for Django 1.7 migrations. Thanks to Patryk Hes and Richard\n  Barran for their reports.\n* Adding czech translations. Thanks to @cuchac for the pull request.\n\n0.8.0\n-----\n\n* Adding support for Django 1.7 and dropping support for Django 1.4.\n\n0.7.0\n-----\n\n* Adding support for ``prefetch_related()``. Thanks to Marcin Ossowski for\n  the idea and patch.\n\n0.6.1\n-----\n\n* Correct escaping of *for* attribute in label for the sortedm2m widget. Thanks\n  to Mystic-Mirage for the report and fix.\n\n0.6.0 \n-----\n\n* Python 3 support!\n* Better widget. Thanks to Mike Knoop for the initial patch.\n\n0.5.0\n-----\n\n* Django 1.5 support. Thanks to Antti Kaihola for the patches.\n* Dropping Django 1.3 support. Please use django-sortedm2m<0.5 if you need to\n  use Django 1.3.\n* Adding support for a ``sort_value_field_name`` argument in\n  ``SortedManyToManyField``. Thanks to Trey Hunner for the idea.\n\n0.4.0\n-----\n\n* Django 1.4 support. Thanks to Flavio Curella for the patch.\n* south support is only enabled if south is actually in your INSTALLED_APPS\n  setting. Thanks to tcmb for the report and Florian Ilgenfritz for the patch.\n\n0.3.3\n-----\n\n* South support (via monkeypatching, but anyway... it's there!). Thanks to\n  Chris Church for the patch. South migrations won't pick up a changed\n  ``sorted`` argument though.\n\n0.3.2\n-----\n\n* Use already included jQuery version in global scope and don't override with\n  django's version. Thank you to Hendrik van der Linde for reporting this\n  issue.\n\n0.3.1\n-----\n\n* Fixed packaging error.\n\n0.3.0\n-----\n\n* Heavy internal refactorings. These were necessary to solve a problem with\n  ``SortedManyToManyField`` and a reference to ``'self'``.\n\n0.2.5\n-----\n\n* Forgot to exclude debug print/console.log statements from code. Sorry.\n\n0.2.4\n-----\n\n* Fixing problems with ``SortedCheckboxSelectMultiple`` widget, especially in\n  admin where a \"create and add another item\" popup is available.\n\n0.2.3\n-----\n\n* Fixing issue with primary keys instead of model instances for ``.add()`` and\n  ``.remove()`` methods in ``SortedRelatedManager``.\n\n0.2.2\n-----\n\n* Fixing validation error for ``SortedCheckboxSelectMultiple``. It caused\n  errors if only one value was passed.\n\n0.2.1\n-----\n\n* Removed unnecessary reference of jquery ui css file in\n  ``SortedCheckboxSelectMultiple``. Thanks to Klaas van Schelven and Yuwei Yu\n  for the hint.\n\n0.2.0\n-----\n\n* Added a widget for use in admin.", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Ponytech/django-sorted-m2m", "keywords": "", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "django-sorted-m2m", "package_url": "https://pypi.org/project/django-sorted-m2m/", "platform": "", "project_url": "https://pypi.org/project/django-sorted-m2m/", "project_urls": {"Homepage": "https://github.com/Ponytech/django-sorted-m2m"}, "release_url": "https://pypi.org/project/django-sorted-m2m/2.0.0/", "requires_dist": null, "requires_python": "", "summary": "Drop-in replacement for django's many to many field with sorted relations.", "version": "2.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://travis-ci.org/Ponytech/django-sorted-m2m\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/76b8a4544b5075a397308118aed4c5cc9372393d/68747470733a2f2f7472617669732d63692e6f72672f506f6e79746563682f646a616e676f2d736f727465642d6d326d2e706e67\"></a></p>\n<p>This project is a fork of <a href=\"http://github.com/gregmuellegger/django-sortedm2m\" rel=\"nofollow\">django-sortedm2m</a> with added support of Django 2.2 thanks to the code of <a href=\"https://github.com/joehybird\" rel=\"nofollow\">@joehybird</a>.\nIt is published on PyPI under the name <em>django-sorted-m2m</em> (note the additional - betweeen sorted and m2m)</p>\n<hr class=\"docutils\">\n<p><tt>sortedm2m</tt> is a drop-in replacement for django\u2019s own <tt>ManyToManyField</tt>.\nThe provided <tt>SortedManyToManyField</tt> behaves like the original one but\nremembers the order of added relations.</p>\n<div id=\"usecases\">\n<h2>Usecases</h2>\n<p>Imagine that you have a gallery model and a photo model. Usually you want a\nrelation between these models so you can add multiple photos to one gallery\nbut also want to be able to have the same photo on many galleries.</p>\n<p>This is where you usually can use many to many relation. The downside is that\ndjango\u2019s default implementation doesn\u2019t provide a way to order the photos in\nthe gallery. So you only have a random ordering which is not suitable in most\ncases.</p>\n<p>You can work around this limitation by using the <tt>SortedManyToManyField</tt>\nprovided by this package as drop in replacement for django\u2019s\n<tt>ManyToManyField</tt>.</p>\n</div>\n<div id=\"requirements\">\n<h2>Requirements</h2>\n<p><strong>django-sortedm2m</strong> runs on Python 2.7, 3.6, 3.7 and up. Django 1.11 and up\nis required</p>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>Use <tt>SortedManyToManyField</tt> like <tt>ManyToManyField</tt> in your models:</p>\n<pre>from django.db import models\nfrom sortedm2m.fields import SortedManyToManyField\n\nclass Photo(models.Model):\n    name = models.CharField(max_length=50)\n    image = models.ImageField(upload_to='...')\n\nclass Gallery(models.Model):\n    name = models.CharField(max_length=50)\n    photos = SortedManyToManyField(Photo)\n</pre>\n<p>If you use the relation in your code like the following, it will remember the\norder in which you have added photos to the gallery.</p>\n<pre>gallery = Gallery.objects.create(name='Photos ordered by name')\nfor photo in Photo.objects.order_by('name'):\n    gallery.photos.add(photo)\n</pre>\n<div id=\"sortedmanytomanyfield\">\n<h3><tt>SortedManyToManyField</tt></h3>\n<p>You can use the following arguments to modify the default behavior:</p>\n<div id=\"sorted\">\n<h4><tt>sorted</tt></h4>\n<p><strong>Default:</strong> <tt>True</tt></p>\n<p>You can set the <tt>sorted</tt> to <tt>False</tt> which will force the\n<tt>SortedManyToManyField</tt> in behaving like Django\u2019s original\n<tt>ManyToManyField</tt>. No ordering will be performed on relation nor will the\nintermediate table have a database field for storing ordering information.</p>\n</div>\n<div id=\"sort-value-field-name\">\n<h4><tt>sort_value_field_name</tt></h4>\n<p><strong>Default:</strong> <tt>'sort_value'</tt></p>\n<p>Specifies how the field is called in the intermediate database table by which\nthe relationship is ordered. You can change its name if you have a legacy\ndatabase that you need to integrate into your application.</p>\n</div>\n<div id=\"base-class\">\n<h4><tt>base_class</tt></h4>\n<p><strong>Default:</strong> <tt>None</tt></p>\n<p>You can set the <tt>base_class</tt>, which is the base class of the through model of\nthe sortedm2m relationship between models to an abstract base class containing\na <tt>__str__</tt> method to improve the string representations of sortedm2m\nrelationships.</p>\n<div>\n<p>Note</p>\n<p>You also could use it to add additional fields to the through model. But\nplease beware: These fields will not be created or modified by an\nautomatically created migration. You will need to take care of migrations\nyourself. In most cases when you want to add another field, consider\n<em>not</em> using sortedm2m but use a ordinary Django ManyToManyField and\nspecify <a href=\"https://docs.djangoproject.com/en/1.11/ref/models/fields/#django.db.models.ManyToManyField.through\" rel=\"nofollow\">your own through model</a>.</p>\n</div>\n</div>\n</div>\n</div>\n<div id=\"migrating-a-manytomanyfield-to-be-a-sortedmanytomanyfield\">\n<h2>Migrating a <tt>ManyToManyField</tt> to be a <tt>SortedManyToManyField</tt></h2>\n<p>If you are using Django\u2019s migration framework and want to change a\n<tt>ManyToManyField</tt> to be a <tt>SortedManyToManyField</tt> (or the other way\naround), you will find that a migration created by Django\u2019s <tt>makemigrations</tt>\nwill not work as expected.</p>\n<p>In order to migrate a <tt>ManyToManyField</tt> to a <tt>SortedManyToManyField</tt>, you\nchange the field in your models to be a <tt>SortedManyToManyField</tt> as\nappropriate and create a new migration with <tt>manage.py makemigrations</tt>.\nBefore applying it, edit the migration file and change in the <tt>operations</tt>\nlist <tt>migrations.AlterField</tt> to <tt>AlterSortedManyToManyField</tt> (import it\nfrom <tt>sortedm2m.operations</tt>).  This operation will take care of changing the\nintermediate tables, add the ordering field and fill in default values.</p>\n</div>\n<div id=\"admin\">\n<h2>Admin</h2>\n<p><tt>SortedManyToManyField</tt> provides a custom widget which can be used to sort\nthe selected items. It renders a list of checkboxes that can be sorted by\ndrag\u2019n\u2019drop.</p>\n<p>To use the widget in the admin you need to add <tt>sortedm2m</tt> to your\nINSTALLED_APPS settings, like:</p>\n<pre>INSTALLED_APPS = (\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.sites',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'django.contrib.admin',\n\n    'sortedm2m',\n\n    '...',\n)\n</pre>\n<p>Otherwise it will not find the css and js files needed to sort by drag\u2019n\u2019drop.</p>\n<p>Finally, make sure <em>not</em> to have the model listed in any <tt>filter_horizontal</tt>\nor <tt>filter_vertical</tt> tuples inside of your <tt>ModelAdmin</tt> definitions.</p>\n<p>If you did it right, you\u2019ll wind up with something like this:</p>\n<img alt=\"http://i.imgur.com/HjIW7MI.jpg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a7fdd25b08e67659f365648699cedff6bbeabb60/687474703a2f2f692e696d6775722e636f6d2f486a4957374d492e6a7067\">\n<p>It\u2019s also possible to use the <tt>SortedManyToManyField</tt> with admin\u2019s\n<tt>raw_id_fields</tt> option in the <tt>ModelAdmin</tt> definition. Add the name of the\n<tt>SortedManyToManyField</tt> to this list to get a simple text input field. The\norder in which the ids are entered into the input box is used to sort the\nitems of the sorted m2m relation.</p>\n<p>Example:</p>\n<pre>from django.contrib import admin\n\nclass GalleryAdmin(admin.ModelAdmin):\n    raw_id_fields = ('photos',)\n</pre>\n</div>\n<div id=\"contribute\">\n<h2>Contribute</h2>\n<p>You can find the latest development version on <a href=\"https://github.com/Ponytech/django-sorted-m2m\" rel=\"nofollow\">github</a>. Get there and fork it,\nfile bugs or send me nice wishes.</p>\n<div id=\"running-the-tests\">\n<h3>Running the tests</h3>\n<p>I recommend to use <tt>tox</tt> to run the tests for all relevant python versions\nall at once. Therefore install <tt>tox</tt> with <tt>pip install tox</tt>, then type in\nthe root directory of the <tt><span class=\"pre\">django-sortedm2m</span></tt> checkout:</p>\n<pre>tox\n</pre>\n<p>However using tox will not include the tests that run against a PostgreSQL\ndatabase. The project therefore contains a <tt>Vagrantfile</tt> that uses <a href=\"http://www.vagrantup.com/\" rel=\"nofollow\">vagrant</a>\nto setup a virtual machine including a working PostgreSQL installation. To\nrun the postgres tests, please <a href=\"http://www.vagrantup.com/downloads\" rel=\"nofollow\">install vagrant</a> and then run:</p>\n<pre>make test-postgres\n</pre>\n<p>This will bring up and provision the virtual machine and runs the testsuite\nagainst a PostgreSQL database.</p>\n</div>\n<div id=\"get-in-touch\">\n<h3>Get in touch</h3>\n<p>Feel free to drop me a message about critique or feature requests. You can get\nin touch with me by <a href=\"mailto:hello%40ponytech.net\">mail</a> or <a href=\"http://twitter.com/Ponytech_net\" rel=\"nofollow\">twitter</a>.</p>\n</div>\n</div>\n<div id=\"changelog\">\n<h2>Changelog</h2>\n<div id=\"id1\">\n<h3>2.0.0</h3>\n<ul>\n<li>Drop support until Django 1.5 to 1.10</li>\n<li>Drop support of python 2.6, 3.3, 3.4 &amp; pypy</li>\n<li>Add support of Django 2.0, 2.1 &amp; 2.2</li>\n<li>Add support or python 3.7</li>\n<li>Huge code cleanup to remove old compatibility code</li>\n<li>Add support of custom through models (only for Django &gt;= 2.2)</li>\n</ul>\n</div>\n<div id=\"id2\">\n<h3>1.5.0</h3>\n<ul>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/101\" rel=\"nofollow\">#101</a>: Add support for a custom base class for the many to many intermediate\nclass. See the README for documentation. Thank you Rohith Asrk for the patch.</li>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/issues/87\" rel=\"nofollow\">#87</a>: Fix <tt>AlterSortedManyToManyField</tt> operation to support custom set\n<tt>_sort_field_name</tt>.</li>\n</ul>\n</div>\n<div id=\"id5\">\n<h3>1.4.0</h3>\n<ul>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/104\" rel=\"nofollow\">#104</a>: Add compatibility for Django 1.10 and 1.11!\nThank you Frankie Dintino for the patch.</li>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/94\" rel=\"nofollow\">#94</a>: Add french translation files. Mainly for strings in the admin.\nThanks to ppython for the patch.</li>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/93\" rel=\"nofollow\">#93</a>: Prevent users from accidentally importing and using\n<tt>ManyToManyField</tt> instead of <tt>SortedManyToManyField</tt> from <tt>sortedm2m</tt>.\nThanks Dayne May for the patch.</li>\n</ul>\n</div>\n<div id=\"id9\">\n<h3>1.3.3</h3>\n<ul>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/issues/91\" rel=\"nofollow\">#91</a> &amp; <a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/92\" rel=\"nofollow\">#92</a>: Fix admin widget, when used with Django 1.10. The add a new\nitem opup was not closing. Thanks to Tipuch for the patch.</li>\n</ul>\n</div>\n<div id=\"id12\">\n<h3>1.3.2</h3>\n<ul>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/issues/80\" rel=\"nofollow\">#80</a> &amp; <a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/83\" rel=\"nofollow\">#83</a>: Fix <tt>SortedMultipleChoiceField.clean</tt> if the validated\nvalue is <tt>None</tt>. Thanks to Alex Mannhold for the patch.</li>\n</ul>\n</div>\n<div id=\"id15\">\n<h3>1.3.1</h3>\n<ul>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/issue/57\" rel=\"nofollow\">#57</a> &amp; <a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/81\" rel=\"nofollow\">#81</a>: Fix add related object popup error prevents operation when\nno related objects already exist. Thanks to Vadim Sikora for the fix.</li>\n</ul>\n</div>\n<div id=\"id18\">\n<h3>1.3.0</h3>\n<ul>\n<li><p><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/79\" rel=\"nofollow\">#79</a>: Use <cite>.sortedm2m-item</cite> selector in the widget\u2019s JavaScript code to\ntarget the list items. This was previously <cite>ul.sortedm2m li</cite>. This improves\ncompatibility other markup that does not want to use <cite>ul</cite>/<cite>li</cite> tags. Thanks\nto Michal Dabski for the patch.</p>\n<p><strong>Note:</strong> If you use custom markup with the JavaScript code, you need to make\nsure that the items now have the <cite>sortedm2m-item</cite> class name.</p>\n</li>\n<li><p><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/76\" rel=\"nofollow\">#76</a>: Add support for to_field_name to SortedMultipleChoiceField. Thanks\nto Conrad Kramer for the patch.</p>\n</li>\n</ul>\n</div>\n<div id=\"id21\">\n<h3>1.2.2</h3>\n<ul>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/75\" rel=\"nofollow\">#75</a>: Fix \u201cadd another\u201d admin popup. It didn\u2019t refresh the list of items in Django\n1.8+. Thanks to Vadim Sikora for the patch.</li>\n</ul>\n</div>\n<div id=\"id23\">\n<h3>1.2.1</h3>\n<ul>\n<li><em>skipped</em></li>\n</ul>\n</div>\n<div id=\"id24\">\n<h3>1.2.0</h3>\n<ul>\n<li>Dropping Python 3.2 support. It has reached end of life in February 2016.</li>\n</ul>\n</div>\n<div id=\"id25\">\n<h3>1.1.2</h3>\n<ul>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/issues/71\" rel=\"nofollow\">#71</a>: Don\u2019t break collectstatic for some cases. Therefore we removed the\nSTATIC_URL prefix from the form media definition in\n<tt>SortedCheckboxSelectMultiple</tt>. Thanks to Kirill Ermolov for the\npatch.</li>\n</ul>\n</div>\n<div id=\"id27\">\n<h3>1.1.1</h3>\n<ul>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/70\" rel=\"nofollow\">#70</a>: CSS fix for Django 1.9 new admin design. Thanks to Maarten Draijer\nfor the patch.</li>\n</ul>\n</div>\n<div id=\"id29\">\n<h3>1.1.0</h3>\n<ul>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/59\" rel=\"nofollow\">#59</a>, <a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/65\" rel=\"nofollow\">#65</a>, <a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/68\" rel=\"nofollow\">#68</a>: Django 1.9 support. Thanks to Scott Kyle and Jasper Maes for\npatches.</li>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/67\" rel=\"nofollow\">#67</a>: Support for disabling migrations for some models, that can be\ndecided by Django\u2019s DB router (with the <tt>allow_migrate_model</tt> method).\nThanks to @hstanev for the patch.</li>\n</ul>\n</div>\n<div id=\"id34\">\n<h3>1.0.2</h3>\n<ul>\n<li><a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/56\" rel=\"nofollow\">#56</a>: Fix bug where order is wrong after adding objects. That had to do\nwith using the <tt>count</tt> of the m2m objects for the next <tt>sort_value</tt>\nvalue. We now use the corret <tt>Max</tt> aggregation to make sure that newly\nadded objects will be in order. Thanks to Scott Kyle for the report and\npatch.</li>\n</ul>\n</div>\n<div id=\"id36\">\n<h3>1.0.1</h3>\n<ul>\n<li>Performance fix for sorted m2m admin widget. See <a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/54\" rel=\"nofollow\">#54</a> for details. Thanks\nto Jonathan Liuti for fixing this.</li>\n</ul>\n</div>\n<div id=\"id38\">\n<h3>1.0.0</h3>\n<ul>\n<li>Hooray, we officially declare <strong>django-sortedm2m</strong> to be stable and\npromise to be backwards compatible to new releases (we already doing good\nsince since the beginning in that regard).</li>\n<li>Django 1.8 support for <tt>AlterSortedManyToManyField</tt> operation. Thanks to\nNicolas Tr\u00e9segnie for starting the implementation.</li>\n</ul>\n</div>\n<div id=\"id39\">\n<h3>0.10.0</h3>\n<ul>\n<li>The creation of the sortedm2m intermediate model and database table is now\nfully done inside of the <tt>SortedManyToManyField</tt> class. That makes it much\neasier to modify the creation of this when creating a custom subclass of this\nfield. See <a href=\"https://github.com/gregmuellegger/django-sortedm2m/issues/49\" rel=\"nofollow\">#49</a> for an example usecase.</li>\n<li>Adding support for the custom field arguments like <tt>sorted</tt> and\n<tt>sort_value_field_name</tt> in Django 1.7 migrations. Thanks to Christian\nKohlstedde for the patch.</li>\n</ul>\n</div>\n<div id=\"id41\">\n<h3>0.9.5</h3>\n<ul>\n<li>Fixing <tt>setup.py</tt> when run on a system that does not use UTF-8 as default\nencoding. See <a href=\"https://github.com/gregmuellegger/django-sortedm2m/pull/48\" rel=\"nofollow\">#48</a> for details. Thanks to Richard Mitchell for the patch.</li>\n</ul>\n</div>\n<div id=\"id43\">\n<h3>0.9.4</h3>\n<ul>\n<li>Fix: <tt>SortedMultipleChoiceField</tt> did not properly report changes of the\ndata to <tt>Form.changed_data</tt>. Thanks to @smcoll for the patch.</li>\n</ul>\n</div>\n<div id=\"id44\">\n<h3>0.9.3</h3>\n<ul>\n<li>Fix: <tt>AlterSortedManyToManyField</tt> operation failed for postgres databases.</li>\n<li>Testing against MySQL databases.</li>\n</ul>\n</div>\n<div id=\"id45\">\n<h3>0.9.2</h3>\n<ul>\n<li>Fix: <tt>AlterSortedManyToManyField</tt> operation failed for many to many fields\nwhich already contained some data.</li>\n</ul>\n</div>\n<div id=\"id46\">\n<h3>0.9.1</h3>\n<ul>\n<li>Fix: When using the sortable admin widget, deselecting an item in the list\nhad not effect. Thank you to madEng84 for the report and patch!</li>\n</ul>\n</div>\n<div id=\"id47\">\n<h3>0.9.0</h3>\n<ul>\n<li>Adding <tt>AlterSortedManyToManyField</tt> migration operation that allows you to\nmigrate from <tt>ManyToManyField</tt> to <tt>SortedManyToManyField</tt> and vice\nversa. Thanks to Joaqu\u00edn P\u00e9rez for the patch!</li>\n<li>Fix: Supporting migrations in Django 1.7.4.</li>\n<li>Fix: The admin widget is not broken anymore for dynamically added inline\nforms. Thanks to Rub\u00e9n D\u00edaz for the patch!</li>\n</ul>\n</div>\n<div id=\"id48\">\n<h3>0.8.1</h3>\n<ul>\n<li>Adding support for Django 1.7 migrations. Thanks to Patryk Hes and Richard\nBarran for their reports.</li>\n<li>Adding czech translations. Thanks to @cuchac for the pull request.</li>\n</ul>\n</div>\n<div id=\"id49\">\n<h3>0.8.0</h3>\n<ul>\n<li>Adding support for Django 1.7 and dropping support for Django 1.4.</li>\n</ul>\n</div>\n<div id=\"id50\">\n<h3>0.7.0</h3>\n<ul>\n<li>Adding support for <tt>prefetch_related()</tt>. Thanks to Marcin Ossowski for\nthe idea and patch.</li>\n</ul>\n</div>\n<div id=\"id51\">\n<h3>0.6.1</h3>\n<ul>\n<li>Correct escaping of <em>for</em> attribute in label for the sortedm2m widget. Thanks\nto Mystic-Mirage for the report and fix.</li>\n</ul>\n</div>\n<div id=\"id52\">\n<h3>0.6.0</h3>\n<ul>\n<li>Python 3 support!</li>\n<li>Better widget. Thanks to Mike Knoop for the initial patch.</li>\n</ul>\n</div>\n<div id=\"id53\">\n<h3>0.5.0</h3>\n<ul>\n<li>Django 1.5 support. Thanks to Antti Kaihola for the patches.</li>\n<li>Dropping Django 1.3 support. Please use django-sortedm2m&lt;0.5 if you need to\nuse Django 1.3.</li>\n<li>Adding support for a <tt>sort_value_field_name</tt> argument in\n<tt>SortedManyToManyField</tt>. Thanks to Trey Hunner for the idea.</li>\n</ul>\n</div>\n<div id=\"id54\">\n<h3>0.4.0</h3>\n<ul>\n<li>Django 1.4 support. Thanks to Flavio Curella for the patch.</li>\n<li>south support is only enabled if south is actually in your INSTALLED_APPS\nsetting. Thanks to tcmb for the report and Florian Ilgenfritz for the patch.</li>\n</ul>\n</div>\n<div id=\"id55\">\n<h3>0.3.3</h3>\n<ul>\n<li>South support (via monkeypatching, but anyway\u2026 it\u2019s there!). Thanks to\nChris Church for the patch. South migrations won\u2019t pick up a changed\n<tt>sorted</tt> argument though.</li>\n</ul>\n</div>\n<div id=\"id56\">\n<h3>0.3.2</h3>\n<ul>\n<li>Use already included jQuery version in global scope and don\u2019t override with\ndjango\u2019s version. Thank you to Hendrik van der Linde for reporting this\nissue.</li>\n</ul>\n</div>\n<div id=\"id57\">\n<h3>0.3.1</h3>\n<ul>\n<li>Fixed packaging error.</li>\n</ul>\n</div>\n<div id=\"id58\">\n<h3>0.3.0</h3>\n<ul>\n<li>Heavy internal refactorings. These were necessary to solve a problem with\n<tt>SortedManyToManyField</tt> and a reference to <tt>'self'</tt>.</li>\n</ul>\n</div>\n<div id=\"id59\">\n<h3>0.2.5</h3>\n<ul>\n<li>Forgot to exclude debug print/console.log statements from code. Sorry.</li>\n</ul>\n</div>\n<div id=\"id60\">\n<h3>0.2.4</h3>\n<ul>\n<li>Fixing problems with <tt>SortedCheckboxSelectMultiple</tt> widget, especially in\nadmin where a \u201ccreate and add another item\u201d popup is available.</li>\n</ul>\n</div>\n<div id=\"id61\">\n<h3>0.2.3</h3>\n<ul>\n<li>Fixing issue with primary keys instead of model instances for <tt>.add()</tt> and\n<tt>.remove()</tt> methods in <tt>SortedRelatedManager</tt>.</li>\n</ul>\n</div>\n<div id=\"id62\">\n<h3>0.2.2</h3>\n<ul>\n<li>Fixing validation error for <tt>SortedCheckboxSelectMultiple</tt>. It caused\nerrors if only one value was passed.</li>\n</ul>\n</div>\n<div id=\"id63\">\n<h3>0.2.1</h3>\n<ul>\n<li>Removed unnecessary reference of jquery ui css file in\n<tt>SortedCheckboxSelectMultiple</tt>. Thanks to Klaas van Schelven and Yuwei Yu\nfor the hint.</li>\n</ul>\n</div>\n<div id=\"id64\">\n<h3>0.2.0</h3>\n<ul>\n<li>Added a widget for use in admin.</li>\n</ul>\n</div>\n</div>\n\n          </div>"}, "last_serial": 5380490, "releases": {"2.0.0": [{"comment_text": "", "digests": {"md5": "e15f4429b4b094f6c9083d14e78a7fc4", "sha256": "f0dcdccd20c0ecf3c70a1cca3c0914c8240dff3d19b6af8e8200c4c912564f90"}, "downloads": -1, "filename": "django-sorted-m2m-2.0.0.tar.gz", "has_sig": false, "md5_digest": "e15f4429b4b094f6c9083d14e78a7fc4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30969, "upload_time": "2019-06-10T09:26:56", "upload_time_iso_8601": "2019-06-10T09:26:56.423014Z", "url": "https://files.pythonhosted.org/packages/2e/e9/79336f19bc3b4e1a235fbd5c40d4c14c3bd456d40ab67eb19a2599c23268/django-sorted-m2m-2.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e15f4429b4b094f6c9083d14e78a7fc4", "sha256": "f0dcdccd20c0ecf3c70a1cca3c0914c8240dff3d19b6af8e8200c4c912564f90"}, "downloads": -1, "filename": "django-sorted-m2m-2.0.0.tar.gz", "has_sig": false, "md5_digest": "e15f4429b4b094f6c9083d14e78a7fc4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30969, "upload_time": "2019-06-10T09:26:56", "upload_time_iso_8601": "2019-06-10T09:26:56.423014Z", "url": "https://files.pythonhosted.org/packages/2e/e9/79336f19bc3b4e1a235fbd5c40d4c14c3bd456d40ab67eb19a2599c23268/django-sorted-m2m-2.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:53:04 2020"}
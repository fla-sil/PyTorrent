{"info": {"author": "Marcin Kasperski", "author_email": "Marcin.Kasperski@mekk.waw.pl", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Console", "Intended Audience :: Developers", "License :: DFSG approved", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python :: 2", "Programming Language :: Python :: 3", "Topic :: Software Development :: Version Control"], "description": ".. -*- mode: rst; compile-command: \"rst2html README.txt README.html\" -*-\n\n====================================\nMercurial OnRemote extension\n====================================\n\nExecute some Mercurial command on remote repository (ssh/local repositories only).\n\n.. contents::\n   :local:\n   :depth: 2\n\n.. sectnum::\n\nExample\n=====================\n\nMy two main use cases:\n\n- update remote directory after pushing::\n\n    hg push staging\n    hg onremote staging update -r tip \n\n- check status and possibly commit in remote directory::\n\n    hg onremote rhdevel status\n    hg onremote rhdevel commit -m 'Forgotten typo'\n\nIn those examples ``staging`` and ``rhdevel`` are remote paths, mapped\nto urls like ``ssh://some.machine.net/repos/myrepo`` (local paths work\ntoo). \n\nExplicit path works too, but is much less handy::\n\n    hg onremote ssh://euler.mydev.net/repos/myrepo   status\n\nArguments\n======================\n\nGeneral command syntax::\n\n    hg onremote \u00abremote\u00bb \u00abcommand\u00bb \u00abarguments\u00bb\n\nwhere ``\u00abremote\u00bb`` is remote repository alias or path, and remaining arguments\nconstitute normal mercurial command.\n\nOption ``--ssh`` can be used just like with push or pull::\n \n    hg onremote --ssh /custom/ssh staging status\n\n\nHow does it work\n=================================================\n\nThe extension simply resolves the specified path, and:\n\n- if it maps to local directory, executes ``hg --cwd that/directory \u00abcommand\u00bb \u00abarguments\u00bb``\n\n- if it maps to ssh path, executes ``ssh that/machine hg --cwd that/directory \u00abcommand\u00bb \u00abarguments\u00bb``\n\n- elsewhere (``http`` or other remote) it refuses to work.\n\nThere is nothing particularly magical, the extension is intended to\nsave some keystrokes and avoid flow interruption (I wrote it mainly\nto stop writing various *push and update* shell scripts).\n\n.. caution::\n\n   You need true ssh access to have it working. Remote repositories,\n   from ``bitbucket`` to ``mercurial-server`` installations will usually\n   reject attempts to run commands (as one could expect).\n\n\nConfiguration\n=================================================\n\nThere is currently no dedicated configuration. \n\nStandard mercurial settings are used to decide how to call\n``ssh`` and which remote command to call to spawn Mercurial (see\n``ssh`` and ``remotecmd`` settings in ``[ui]`` section). \nThis way ``onremote`` uses the same ``ssh`` command\nwhich is used by ``hg push`` and ``hg pull``, and the same\nmercurial name.\n\n\nProblems and limitations\n=================================================\n\nInteractive commands may fail to work properly due to lack\nof fully working console. \nI recommend avoiding commands which trigger interactive prompts\nor editor spawns. If you try ``hg onremote commit`` add ``-m \"Some message\"``.\n\n.. note::\n\n   At the moment OnRemote doesn't initialize full terminal support\n   (technically, doesn't add ``ssh -t`` or similar). It may\n   change in the future.\n\nInstallation\n=================================================\n\nMercurial \u2265 3.4 is required (attempts to run on older version will\nresult in crashes) and Mercurial \u2265 4.5 is strongly recommended\n(versions 3.4-4.4 involve some hacks which may fail for more\ncomplicated arguments).\n\nLinux/Unix (from PyPI)\n~~~~~~~~~~~~~~~~~~~~~~\n\nIf you have working ``pip`` or ``easy_install``::\n\n    pip install --user mercurial_on_remote\n\nor maybe::\n\n    sudo pip install mercurial_on_remote\n\n(or use ``easy_install`` instead of ``pip``). Then activate by::\n\n    [extensions]\n    mercurial_on_remote =\n\nTo upgrade, repeat the same command with ``--upgrade`` option, for\nexample::\n\n    pip install --user --upgrade mercurial_on_remote\n\nLinux/Unix (from source)\n~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nIf you don't have ``pip``, or wish to follow development more closely:\n\n- clone both this repository and `mercurial_extension_utils`_ and put\n  them in the same directory, for example::\n\n    cd ~/sources\n    hg clone https://bitbucket.org/Mekk/mercurial-extension_utils/\n    hg clone https://bitbucket.org/Mekk/mercurial-on_remote/\n\n- update to newest tags,\n\n- activate by::\n\n    [extensions]\n    mercurial_on_remote = ~/sources/mercurial-on_remote/mercurial_on_remote.py\n\nTo upgrade, pull and update.\n\nSee `mercurial_extension_utils`_ for longer description of this kind\nof installation.\n\nWindows\n~~~~~~~~~~~~~~~~~~~~~~~\n\nIf you have any Python installed, you may install with ``pip``::\n\n    pip install mercurial_on_remote\n\nStill, as Mercurial (whether taken from TortoiseHg_, or own package)\nuses it's own bundled Python, you must activate by specifying the path::\n\n    [extensions]\n    mercurial_on_remote = C:/Python27/Lib/site-packages/mercurial_on_remote.py\n    ;; Or wherever pip installed it\n\nTo upgrade to new version::\n\n    pip --upgrade mercurial_on_remote\n\nIf you don't have any Python, clone repositories::\n\n    cd c:\\hgplugins\n    hg clone https://bitbucket.org/Mekk/mercurial-extension_utils/\n    hg clone https://bitbucket.org/Mekk/mercurial-on_remote/\n\nupdate to tagged versions and activate by path::\n\n    [extensions]\n    mercurial_on_remote = C:/hgplugins/mercurial-on_remote/mercurial_on_remote.py\n    ;; Or wherever you cloned\n\nSee `mercurial_extension_utils`_ documentation for more details on\nWindows installation. \n\nHistory\n==================================================\n\nSee `HISTORY.txt`_\n\nDevelopment, bug reports, enhancement suggestions\n===================================================\n\nDevelopment is tracked on BitBucket, see \nhttp://bitbucket.org/Mekk/mercurial-on_remote/\n\nUse BitBucket issue tracker for bug reports and enhancement\nsuggestions.\n\nAdditional notes\n================\n\nInformation about this extension is also available\non Mercurial Wiki: http://mercurial.selenic.com/wiki/OnRemoteExtension\n\nCheck also `other Mercurial extensions I wrote`_.\n\n.. _other Mercurial extensions I wrote: http://mekk.bitbucket.io/mercurial.html\n\n.. _Mercurial: http://mercurial.selenic.com\n.. _HISTORY.txt: http://bitbucket.org/Mekk/mercurial-all-dirs/src/tip/HISTORY.txt\n.. _mercurial_extension_utils: https://bitbucket.org/Mekk/mercurial-extension_utils/\n\n.. _TortoiseHg: http://tortoisehg.bitbucket.org/\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://bitbucket.org/Mekk/mercurial-on_remote", "keywords": "mercurial subdirs multi alias", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "mercurial_on_remote", "package_url": "https://pypi.org/project/mercurial_on_remote/", "platform": "", "project_url": "https://pypi.org/project/mercurial_on_remote/", "project_urls": {"Homepage": "http://bitbucket.org/Mekk/mercurial-on_remote"}, "release_url": "https://pypi.org/project/mercurial_on_remote/1.0.1/", "requires_dist": null, "requires_python": "", "summary": "Mercurial OnRemote Extension", "version": "1.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Execute some Mercurial command on remote repository (ssh/local repositories only).</p>\n<div id=\"contents\">\n<ul>\n<li><a href=\"#example\" id=\"id1\" rel=\"nofollow\">1\u00a0\u00a0\u00a0Example</a></li>\n<li><a href=\"#arguments\" id=\"id2\" rel=\"nofollow\">2\u00a0\u00a0\u00a0Arguments</a></li>\n<li><a href=\"#how-does-it-work\" id=\"id3\" rel=\"nofollow\">3\u00a0\u00a0\u00a0How does it work</a></li>\n<li><a href=\"#configuration\" id=\"id4\" rel=\"nofollow\">4\u00a0\u00a0\u00a0Configuration</a></li>\n<li><a href=\"#problems-and-limitations\" id=\"id5\" rel=\"nofollow\">5\u00a0\u00a0\u00a0Problems and limitations</a></li>\n<li><a href=\"#installation\" id=\"id6\" rel=\"nofollow\">6\u00a0\u00a0\u00a0Installation</a><ul>\n<li><a href=\"#linux-unix-from-pypi\" id=\"id7\" rel=\"nofollow\">6.1\u00a0\u00a0\u00a0Linux/Unix (from PyPI)</a></li>\n<li><a href=\"#linux-unix-from-source\" id=\"id8\" rel=\"nofollow\">6.2\u00a0\u00a0\u00a0Linux/Unix (from source)</a></li>\n<li><a href=\"#windows\" id=\"id9\" rel=\"nofollow\">6.3\u00a0\u00a0\u00a0Windows</a></li>\n</ul>\n</li>\n<li><a href=\"#history\" id=\"id10\" rel=\"nofollow\">7\u00a0\u00a0\u00a0History</a></li>\n<li><a href=\"#development-bug-reports-enhancement-suggestions\" id=\"id11\" rel=\"nofollow\">8\u00a0\u00a0\u00a0Development, bug reports, enhancement suggestions</a></li>\n<li><a href=\"#additional-notes\" id=\"id12\" rel=\"nofollow\">9\u00a0\u00a0\u00a0Additional notes</a></li>\n</ul>\n</div>\n<div id=\"example\">\n<h2><a href=\"#id1\" rel=\"nofollow\">1\u00a0\u00a0\u00a0Example</a></h2>\n<p>My two main use cases:</p>\n<ul>\n<li><p>update remote directory after pushing:</p>\n<pre>hg push staging\nhg onremote staging update -r tip\n</pre>\n</li>\n<li><p>check status and possibly commit in remote directory:</p>\n<pre>hg onremote rhdevel status\nhg onremote rhdevel commit -m 'Forgotten typo'\n</pre>\n</li>\n</ul>\n<p>In those examples <tt>staging</tt> and <tt>rhdevel</tt> are remote paths, mapped\nto urls like <tt><span class=\"pre\">ssh://some.machine.net/repos/myrepo</span></tt> (local paths work\ntoo).</p>\n<p>Explicit path works too, but is much less handy:</p>\n<pre>hg onremote ssh://euler.mydev.net/repos/myrepo   status\n</pre>\n</div>\n<div id=\"arguments\">\n<h2><a href=\"#id2\" rel=\"nofollow\">2\u00a0\u00a0\u00a0Arguments</a></h2>\n<p>General command syntax:</p>\n<pre>hg onremote \u00abremote\u00bb \u00abcommand\u00bb \u00abarguments\u00bb\n</pre>\n<p>where <tt>\u00abremote\u00bb</tt> is remote repository alias or path, and remaining arguments\nconstitute normal mercurial command.</p>\n<p>Option <tt><span class=\"pre\">--ssh</span></tt> can be used just like with push or pull:</p>\n<pre>hg onremote --ssh /custom/ssh staging status\n</pre>\n</div>\n<div id=\"how-does-it-work\">\n<h2><a href=\"#id3\" rel=\"nofollow\">3\u00a0\u00a0\u00a0How does it work</a></h2>\n<p>The extension simply resolves the specified path, and:</p>\n<ul>\n<li>if it maps to local directory, executes <tt>hg <span class=\"pre\">--cwd</span> that/directory \u00abcommand\u00bb \u00abarguments\u00bb</tt></li>\n<li>if it maps to ssh path, executes <tt>ssh that/machine hg <span class=\"pre\">--cwd</span> that/directory \u00abcommand\u00bb \u00abarguments\u00bb</tt></li>\n<li>elsewhere (<tt>http</tt> or other remote) it refuses to work.</li>\n</ul>\n<p>There is nothing particularly magical, the extension is intended to\nsave some keystrokes and avoid flow interruption (I wrote it mainly\nto stop writing various <em>push and update</em> shell scripts).</p>\n<div>\n<p>Caution!</p>\n<p>You need true ssh access to have it working. Remote repositories,\nfrom <tt>bitbucket</tt> to <tt><span class=\"pre\">mercurial-server</span></tt> installations will usually\nreject attempts to run commands (as one could expect).</p>\n</div>\n</div>\n<div id=\"configuration\">\n<h2><a href=\"#id4\" rel=\"nofollow\">4\u00a0\u00a0\u00a0Configuration</a></h2>\n<p>There is currently no dedicated configuration.</p>\n<p>Standard mercurial settings are used to decide how to call\n<tt>ssh</tt> and which remote command to call to spawn Mercurial (see\n<tt>ssh</tt> and <tt>remotecmd</tt> settings in <tt>[ui]</tt> section).\nThis way <tt>onremote</tt> uses the same <tt>ssh</tt> command\nwhich is used by <tt>hg push</tt> and <tt>hg pull</tt>, and the same\nmercurial name.</p>\n</div>\n<div id=\"problems-and-limitations\">\n<h2><a href=\"#id5\" rel=\"nofollow\">5\u00a0\u00a0\u00a0Problems and limitations</a></h2>\n<p>Interactive commands may fail to work properly due to lack\nof fully working console.\nI recommend avoiding commands which trigger interactive prompts\nor editor spawns. If you try <tt>hg onremote commit</tt> add <tt><span class=\"pre\">-m</span> \"Some message\"</tt>.</p>\n<div>\n<p>Note</p>\n<p>At the moment OnRemote doesn\u2019t initialize full terminal support\n(technically, doesn\u2019t add <tt>ssh <span class=\"pre\">-t</span></tt> or similar). It may\nchange in the future.</p>\n</div>\n</div>\n<div id=\"installation\">\n<h2><a href=\"#id6\" rel=\"nofollow\">6\u00a0\u00a0\u00a0Installation</a></h2>\n<p>Mercurial \u2265 3.4 is required (attempts to run on older version will\nresult in crashes) and Mercurial \u2265 4.5 is strongly recommended\n(versions 3.4-4.4 involve some hacks which may fail for more\ncomplicated arguments).</p>\n<div id=\"linux-unix-from-pypi\">\n<h3><a href=\"#id7\" rel=\"nofollow\">6.1\u00a0\u00a0\u00a0Linux/Unix (from PyPI)</a></h3>\n<p>If you have working <tt>pip</tt> or <tt>easy_install</tt>:</p>\n<pre>pip install --user mercurial_on_remote\n</pre>\n<p>or maybe:</p>\n<pre>sudo pip install mercurial_on_remote\n</pre>\n<p>(or use <tt>easy_install</tt> instead of <tt>pip</tt>). Then activate by:</p>\n<pre>[extensions]\nmercurial_on_remote =\n</pre>\n<p>To upgrade, repeat the same command with <tt><span class=\"pre\">--upgrade</span></tt> option, for\nexample:</p>\n<pre>pip install --user --upgrade mercurial_on_remote\n</pre>\n</div>\n<div id=\"linux-unix-from-source\">\n<h3><a href=\"#id8\" rel=\"nofollow\">6.2\u00a0\u00a0\u00a0Linux/Unix (from source)</a></h3>\n<p>If you don\u2019t have <tt>pip</tt>, or wish to follow development more closely:</p>\n<ul>\n<li><p>clone both this repository and <a href=\"https://bitbucket.org/Mekk/mercurial-extension_utils/\" rel=\"nofollow\">mercurial_extension_utils</a> and put\nthem in the same directory, for example:</p>\n<pre>cd ~/sources\nhg clone https://bitbucket.org/Mekk/mercurial-extension_utils/\nhg clone https://bitbucket.org/Mekk/mercurial-on_remote/\n</pre>\n</li>\n<li><p>update to newest tags,</p>\n</li>\n<li><p>activate by:</p>\n<pre>[extensions]\nmercurial_on_remote = ~/sources/mercurial-on_remote/mercurial_on_remote.py\n</pre>\n</li>\n</ul>\n<p>To upgrade, pull and update.</p>\n<p>See <a href=\"https://bitbucket.org/Mekk/mercurial-extension_utils/\" rel=\"nofollow\">mercurial_extension_utils</a> for longer description of this kind\nof installation.</p>\n</div>\n<div id=\"windows\">\n<h3><a href=\"#id9\" rel=\"nofollow\">6.3\u00a0\u00a0\u00a0Windows</a></h3>\n<p>If you have any Python installed, you may install with <tt>pip</tt>:</p>\n<pre>pip install mercurial_on_remote\n</pre>\n<p>Still, as Mercurial (whether taken from <a href=\"http://tortoisehg.bitbucket.org/\" rel=\"nofollow\">TortoiseHg</a>, or own package)\nuses it\u2019s own bundled Python, you must activate by specifying the path:</p>\n<pre>[extensions]\nmercurial_on_remote = C:/Python27/Lib/site-packages/mercurial_on_remote.py\n;; Or wherever pip installed it\n</pre>\n<p>To upgrade to new version:</p>\n<pre>pip --upgrade mercurial_on_remote\n</pre>\n<p>If you don\u2019t have any Python, clone repositories:</p>\n<pre>cd c:\\hgplugins\nhg clone https://bitbucket.org/Mekk/mercurial-extension_utils/\nhg clone https://bitbucket.org/Mekk/mercurial-on_remote/\n</pre>\n<p>update to tagged versions and activate by path:</p>\n<pre>[extensions]\nmercurial_on_remote = C:/hgplugins/mercurial-on_remote/mercurial_on_remote.py\n;; Or wherever you cloned\n</pre>\n<p>See <a href=\"https://bitbucket.org/Mekk/mercurial-extension_utils/\" rel=\"nofollow\">mercurial_extension_utils</a> documentation for more details on\nWindows installation.</p>\n</div>\n</div>\n<div id=\"history\">\n<h2><a href=\"#id10\" rel=\"nofollow\">7\u00a0\u00a0\u00a0History</a></h2>\n<p>See <a href=\"http://bitbucket.org/Mekk/mercurial-all-dirs/src/tip/HISTORY.txt\" rel=\"nofollow\">HISTORY.txt</a></p>\n</div>\n<div id=\"development-bug-reports-enhancement-suggestions\">\n<h2><a href=\"#id11\" rel=\"nofollow\">8\u00a0\u00a0\u00a0Development, bug reports, enhancement suggestions</a></h2>\n<p>Development is tracked on BitBucket, see\n<a href=\"http://bitbucket.org/Mekk/mercurial-on_remote/\" rel=\"nofollow\">http://bitbucket.org/Mekk/mercurial-on_remote/</a></p>\n<p>Use BitBucket issue tracker for bug reports and enhancement\nsuggestions.</p>\n</div>\n<div id=\"additional-notes\">\n<h2><a href=\"#id12\" rel=\"nofollow\">9\u00a0\u00a0\u00a0Additional notes</a></h2>\n<p>Information about this extension is also available\non Mercurial Wiki: <a href=\"http://mercurial.selenic.com/wiki/OnRemoteExtension\" rel=\"nofollow\">http://mercurial.selenic.com/wiki/OnRemoteExtension</a></p>\n<p>Check also <a href=\"http://mekk.bitbucket.io/mercurial.html\" rel=\"nofollow\">other Mercurial extensions I wrote</a>.</p>\n</div>\n\n          </div>"}, "last_serial": 6486870, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "25027057d18f0caa50f032206e6ced08", "sha256": "2a450c0748cf0c65e885e57fbdc79a004a2b1546e73adca4249bb361521d0b26"}, "downloads": -1, "filename": "mercurial_on_remote-1.0.0.tar.gz", "has_sig": false, "md5_digest": "25027057d18f0caa50f032206e6ced08", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18424, "upload_time": "2020-01-20T12:45:40", "upload_time_iso_8601": "2020-01-20T12:45:40.909949Z", "url": "https://files.pythonhosted.org/packages/01/69/458118f6575a57975ae8af7cad08cb123055393ee151766a0b6ad21bb67a/mercurial_on_remote-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "5fc4fcbf04be9d97bf0049ab18c52417", "sha256": "a8f3845b98a7f767dcfc7de39348fafed2ef017f8728ce2cf01b3ac76d8e4638"}, "downloads": -1, "filename": "mercurial_on_remote-1.0.1.tar.gz", "has_sig": false, "md5_digest": "5fc4fcbf04be9d97bf0049ab18c52417", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17419, "upload_time": "2020-01-20T13:01:51", "upload_time_iso_8601": "2020-01-20T13:01:51.336513Z", "url": "https://files.pythonhosted.org/packages/54/95/2fbb2a9e54ab3f52969964347585ee823af559e8cd3d5abcddfd019f0b0e/mercurial_on_remote-1.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5fc4fcbf04be9d97bf0049ab18c52417", "sha256": "a8f3845b98a7f767dcfc7de39348fafed2ef017f8728ce2cf01b3ac76d8e4638"}, "downloads": -1, "filename": "mercurial_on_remote-1.0.1.tar.gz", "has_sig": false, "md5_digest": "5fc4fcbf04be9d97bf0049ab18c52417", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17419, "upload_time": "2020-01-20T13:01:51", "upload_time_iso_8601": "2020-01-20T13:01:51.336513Z", "url": "https://files.pythonhosted.org/packages/54/95/2fbb2a9e54ab3f52969964347585ee823af559e8cd3d5abcddfd019f0b0e/mercurial_on_remote-1.0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:56:10 2020"}
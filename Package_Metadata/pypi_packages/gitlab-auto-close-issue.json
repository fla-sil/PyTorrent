{"info": {"author": "Haseeb Majid", "author_email": "me@haseebmajid.dev", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "Operating System :: OS Independent", "Programming Language :: Python", "Topic :: Software Development :: Libraries :: Python Modules"], "description": ".. image:: https://gitlab.com/gitlab-automation-toolkit/gitlab-auto-close-issue/badges/master/pipeline.svg\n   :target: https://gitlab.com/gitlab-automation-toolkit/gitlab-auto-close-issue\n   :alt: Pipeline Status\n\n.. image:: https://img.shields.io/pypi/l/gitlab-auto-close-issue.svg\n   :target: https://pypi.org/project/gitlab-auto-close-issue/\n   :alt: PyPI Project License\n\n.. image:: https://img.shields.io/pypi/v/gitlab-auto-close-issue.svg\n   :target: https://pypi.org/project/gitlab-auto-close-issue/\n   :alt: PyPI Project Version\n\n.. image:: https://readthedocs.org/projects/gitlab-auto-close-issue/badge/?version=latest\n   :target: https://gitlab-auto-close-issue.readthedocs.io/en/latest/?badge=latest\n   :alt: Documentation Status\n\ngitlab-auto-close-issue\n=======================\n\nThis is a simple Python cli script that allows you close issues on GitLab automatically. It is intended to be\nused during your CI/CD. However you can chose to use it however you wish.\n\nUsage\n-----\n\nFirst you need to create a personal access token, `more information here\n<https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html>`_. With the scope ``api``, so it can close the issue for you.\n\n.. code-block:: bash\n\n  pip install gitlab-auto-close-issue\n  gitlab_auto_close_issue --help\n\n  Usage: gitlab_auto_close_issue [OPTIONS]\n\n    GitLab Auto Close Issue\n\n  Options:\n    --private-token TEXT     Private GITLAB token, used to authenticate when\n                            calling the auto issue close API.  [required]\n    --project-id INTEGER     The project ID on GitLab to create the auto close API for.\n                            [required]\n    --gitlab-url TEXT       The GitLab URL.\n                            [required]\n    -i, --issue TEXT         The Issue ID to close.  [required]\n    -r, --remove-label TEXT  The labels to remove from (all) the issue(s) before\n                            closing it.\n    --help                   Show this message and exit.\n\n.. code-block:: bash\n\n    $ gitlab_auto_close_issue --private-token xxx  --project-url https://gitlab.com/hmajid2301/test \\\n      --project-id 14416075 --issue 1 --remove-label bug\n\nGitLab CI\n*********\n\nSet a secret variable in your GitLab project with your private token. Name it ``GITLAB_PRIVATE_TOKEN`` (``CI/CD > Environment Variables``).\nThis is necessary to close the issue on your behalf.\nMore information `click here <https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html>`_.\nThis access token is passed to the script with the ``--private-token`` argument.\nAn example CI using this can be found\n`here <https://gitlab.com/hmajid2301/stegappasaurus/blob/a22b7dc80f86b471d8a2eaa7b7eadb7b492c53c7/.gitlab-ci.yml>`_,\nlook for the ``close:issue`` job.\n\nAdd the following to your ``.gitlab-ci.yml`` file:\n\n.. code-block:: yaml\n\n  stages:\n    - post\n\n  close:issue:\n    image: registry.gitlab.com/gitlab-automation-toolkit/gitlab-auto-close-issue\n    stage: post\n    before_script: []\n    script:\n      - gitlab_auto_close_issue --issue 1 --remove-label \"Doing\" --remove-label \"To Do\"\n\nPredefined Variables\n^^^^^^^^^^^^^^^^^^^^\n\nPlease note some of the arguments can be filled in using environment variables defined during GitLab CI.\nFor more information `click here <https://docs.gitlab.com/ee/ci/variables/predefined_variables.html>_`.\n\n* If ``--private-token`` is not set the script will look for the ENV variable ``GITLAB_PRIVATE_TOKEN``\n* If ``--source-branch`` is not set the script will look for the ENV variable ``CI_COMMIT_REF_NAME``\n* If ``--project-id`` is not set it will look for for the ENV variable ``CI_PROJECT_ID``\n* If ``--gitlab-url`` is not set it will look for for the ENV variable ``CI_PROJECT_URL``\n* If ``--user-id`` is not set it will look for for the ENV variable ``GITLAB_USER_ID``\n\n\nSetup Development Environment\n==============================\n\n.. code-block:: bash\n\n  git clone git@gitlab.com:gitlab-automation-toolkit/gitlab-auto-close-issue.git\n  cd gitlab-auto-close-issue\n  pip install tox\n  make virtualenv\n  make install-dev\n\n\nChangelog\n=========\n\nYou can find the `changelog here <https://gitlab.com/gitlab-automation-toolkit/gitlab-auto-close-issue/blob/master/CHANGELOG.md>`_.", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.com/gitlab-automation-toolkit/gitlab-auto-close-issue", "keywords": "", "license": "Apache License", "maintainer": "", "maintainer_email": "", "name": "gitlab-auto-close-issue", "package_url": "https://pypi.org/project/gitlab-auto-close-issue/", "platform": "", "project_url": "https://pypi.org/project/gitlab-auto-close-issue/", "project_urls": {"Homepage": "https://gitlab.com/gitlab-automation-toolkit/gitlab-auto-close-issue"}, "release_url": "https://pypi.org/project/gitlab-auto-close-issue/1.0.0/", "requires_dist": null, "requires_python": "~=3.7", "summary": "Python script which will automatically close issues on GitLab for you.", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://gitlab.com/gitlab-automation-toolkit/gitlab-auto-close-issue\" rel=\"nofollow\"><img alt=\"Pipeline Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/66695aeffac095ada5cef619a01abfa2e2005763/68747470733a2f2f6769746c61622e636f6d2f6769746c61622d6175746f6d6174696f6e2d746f6f6c6b69742f6769746c61622d6175746f2d636c6f73652d69737375652f6261646765732f6d61737465722f706970656c696e652e737667\"></a>\n<a href=\"https://pypi.org/project/gitlab-auto-close-issue/\" rel=\"nofollow\"><img alt=\"PyPI Project License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3a70e5d5dc7f8c8b801bf4d2f964fadf59b93dda/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f6769746c61622d6175746f2d636c6f73652d69737375652e737667\"></a>\n<a href=\"https://pypi.org/project/gitlab-auto-close-issue/\" rel=\"nofollow\"><img alt=\"PyPI Project Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a0d514933b1e50a66b1da5f28f748208bd802630/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6769746c61622d6175746f2d636c6f73652d69737375652e737667\"></a>\n<a href=\"https://gitlab-auto-close-issue.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8aae5c63375f7fc30fb1becbdf1363dc7da64e19/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f6769746c61622d6175746f2d636c6f73652d69737375652f62616467652f3f76657273696f6e3d6c6174657374\"></a>\n<div id=\"gitlab-auto-close-issue\">\n<h2>gitlab-auto-close-issue</h2>\n<p>This is a simple Python cli script that allows you close issues on GitLab automatically. It is intended to be\nused during your CI/CD. However you can chose to use it however you wish.</p>\n<div id=\"usage\">\n<h3>Usage</h3>\n<p>First you need to create a personal access token, <a href=\"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html\" rel=\"nofollow\">more information here</a>. With the scope <tt>api</tt>, so it can close the issue for you.</p>\n<pre>pip install gitlab-auto-close-issue\ngitlab_auto_close_issue --help\n\nUsage: gitlab_auto_close_issue <span class=\"o\">[</span>OPTIONS<span class=\"o\">]</span>\n\n  GitLab Auto Close Issue\n\nOptions:\n  --private-token TEXT     Private GITLAB token, used to authenticate when\n                          calling the auto issue close API.  <span class=\"o\">[</span>required<span class=\"o\">]</span>\n  --project-id INTEGER     The project ID on GitLab to create the auto close API <span class=\"k\">for</span>.\n                          <span class=\"o\">[</span>required<span class=\"o\">]</span>\n  --gitlab-url TEXT       The GitLab URL.\n                          <span class=\"o\">[</span>required<span class=\"o\">]</span>\n  -i, --issue TEXT         The Issue ID to close.  <span class=\"o\">[</span>required<span class=\"o\">]</span>\n  -r, --remove-label TEXT  The labels to remove from <span class=\"o\">(</span>all<span class=\"o\">)</span> the issue<span class=\"o\">(</span>s<span class=\"o\">)</span> before\n                          closing it.\n  --help                   Show this message and exit.\n</pre>\n<pre>$ gitlab_auto_close_issue --private-token xxx  --project-url https://gitlab.com/hmajid2301/test <span class=\"se\">\\\n</span>  --project-id <span class=\"m\">14416075</span> --issue <span class=\"m\">1</span> --remove-label bug\n</pre>\n<div id=\"gitlab-ci\">\n<h4>GitLab CI</h4>\n<p>Set a secret variable in your GitLab project with your private token. Name it <tt>GITLAB_PRIVATE_TOKEN</tt> (<tt>CI/CD &gt; Environment Variables</tt>).\nThis is necessary to close the issue on your behalf.\nMore information <a href=\"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html\" rel=\"nofollow\">click here</a>.\nThis access token is passed to the script with the <tt><span class=\"pre\">--private-token</span></tt> argument.\nAn example CI using this can be found\n<a href=\"https://gitlab.com/hmajid2301/stegappasaurus/blob/a22b7dc80f86b471d8a2eaa7b7eadb7b492c53c7/.gitlab-ci.yml\" rel=\"nofollow\">here</a>,\nlook for the <tt>close:issue</tt> job.</p>\n<p>Add the following to your <tt><span class=\"pre\">.gitlab-ci.yml</span></tt> file:</p>\n<pre><span class=\"nt\">stages</span><span class=\"p\">:</span>\n  <span class=\"p-Indicator\">-</span> <span class=\"l-Scalar-Plain\">post</span>\n\n<span class=\"l-Scalar-Plain\">close:issue</span><span class=\"p-Indicator\">:</span>\n  <span class=\"nt\">image</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">registry.gitlab.com/gitlab-automation-toolkit/gitlab-auto-close-issue</span>\n  <span class=\"nt\">stage</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">post</span>\n  <span class=\"nt\">before_script</span><span class=\"p\">:</span> <span class=\"p-Indicator\">[]</span>\n  <span class=\"nt\">script</span><span class=\"p\">:</span>\n    <span class=\"p-Indicator\">-</span> <span class=\"l-Scalar-Plain\">gitlab_auto_close_issue --issue 1 --remove-label \"Doing\" --remove-label \"To Do\"</span>\n</pre>\n<div id=\"predefined-variables\">\n<h5>Predefined Variables</h5>\n<p>Please note some of the arguments can be filled in using environment variables defined during GitLab CI.\nFor more information <cite>click here &lt;https://docs.gitlab.com/ee/ci/variables/predefined_variables.html&gt;_</cite>.</p>\n<ul>\n<li>If <tt><span class=\"pre\">--private-token</span></tt> is not set the script will look for the ENV variable <tt>GITLAB_PRIVATE_TOKEN</tt></li>\n<li>If <tt><span class=\"pre\">--source-branch</span></tt> is not set the script will look for the ENV variable <tt>CI_COMMIT_REF_NAME</tt></li>\n<li>If <tt><span class=\"pre\">--project-id</span></tt> is not set it will look for for the ENV variable <tt>CI_PROJECT_ID</tt></li>\n<li>If <tt><span class=\"pre\">--gitlab-url</span></tt> is not set it will look for for the ENV variable <tt>CI_PROJECT_URL</tt></li>\n<li>If <tt><span class=\"pre\">--user-id</span></tt> is not set it will look for for the ENV variable <tt>GITLAB_USER_ID</tt></li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<div id=\"setup-development-environment\">\n<h2>Setup Development Environment</h2>\n<pre>git clone git@gitlab.com:gitlab-automation-toolkit/gitlab-auto-close-issue.git\n<span class=\"nb\">cd</span> gitlab-auto-close-issue\npip install tox\nmake virtualenv\nmake install-dev\n</pre>\n</div>\n<div id=\"changelog\">\n<h2>Changelog</h2>\n<p>You can find the <a href=\"https://gitlab.com/gitlab-automation-toolkit/gitlab-auto-close-issue/blob/master/CHANGELOG.md\" rel=\"nofollow\">changelog here</a>.</p>\n</div>\n\n          </div>"}, "last_serial": 6033975, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "446856d3b139ce3024995240a7b8dafe", "sha256": "cc284748b8893dab6999c7dfef75e19c1f4e1215260e6442c45a992688d2e170"}, "downloads": -1, "filename": "gitlab-auto-close-issue-0.1.0.tar.gz", "has_sig": false, "md5_digest": "446856d3b139ce3024995240a7b8dafe", "packagetype": "sdist", "python_version": "source", "requires_python": "~=3.7", "size": 3576, "upload_time": "2019-09-20T18:58:19", "upload_time_iso_8601": "2019-09-20T18:58:19.516870Z", "url": "https://files.pythonhosted.org/packages/38/f6/9007c74e4a8ba798192b0633336e964286a41c03cf1640bce696e994ccc7/gitlab-auto-close-issue-0.1.0.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "528eacb7989b7779d77136da13a3e14d", "sha256": "9da21de5ce7ade926db4a7e7236b97c7cf1e2616b6badfd79566f0093f3741b7"}, "downloads": -1, "filename": "gitlab-auto-close-issue-1.0.0.tar.gz", "has_sig": false, "md5_digest": "528eacb7989b7779d77136da13a3e14d", "packagetype": "sdist", "python_version": "source", "requires_python": "~=3.7", "size": 4174, "upload_time": "2019-10-26T14:34:16", "upload_time_iso_8601": "2019-10-26T14:34:16.638540Z", "url": "https://files.pythonhosted.org/packages/28/74/2b04311bfeb672ba7135784d9351b357836bbd0d9a6c39b84508765568c7/gitlab-auto-close-issue-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "528eacb7989b7779d77136da13a3e14d", "sha256": "9da21de5ce7ade926db4a7e7236b97c7cf1e2616b6badfd79566f0093f3741b7"}, "downloads": -1, "filename": "gitlab-auto-close-issue-1.0.0.tar.gz", "has_sig": false, "md5_digest": "528eacb7989b7779d77136da13a3e14d", "packagetype": "sdist", "python_version": "source", "requires_python": "~=3.7", "size": 4174, "upload_time": "2019-10-26T14:34:16", "upload_time_iso_8601": "2019-10-26T14:34:16.638540Z", "url": "https://files.pythonhosted.org/packages/28/74/2b04311bfeb672ba7135784d9351b357836bbd0d9a6c39b84508765568c7/gitlab-auto-close-issue-1.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:56:56 2020"}
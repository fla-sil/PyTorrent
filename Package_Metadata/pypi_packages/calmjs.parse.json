{"info": {"author": "Tommy Yu", "author_email": "tommy.yu@auckland.ac.nz", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: JavaScript", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "calmjs.parse\n============\n\nA collection of parsers and helper libraries for understanding\nECMAScript; a near feature complete fork of |slimit|_.  A CLI front-end\nfor this package is shipped separately as |crimp|_.\n\n.. image:: https://travis-ci.org/calmjs/calmjs.parse.svg?branch=1.2.4\n    :target: https://travis-ci.org/calmjs/calmjs.parse\n.. image:: https://ci.appveyor.com/api/projects/status/5dj8dnu9gmj02msu/branch/1.2.4?svg=true\n    :target: https://ci.appveyor.com/project/metatoaster/calmjs-parse/branch/1.2.4\n.. image:: https://coveralls.io/repos/github/calmjs/calmjs.parse/badge.svg?branch=1.2.4\n    :target: https://coveralls.io/github/calmjs/calmjs.parse?branch=1.2.4\n\n.. |calmjs.parse| replace:: ``calmjs.parse``\n.. |crimp| replace:: ``crimp``\n.. |ply| replace:: ``ply``\n.. |slimit| replace:: ``slimit``\n.. _crimp: https://pypi.python.org/pypi/crimp\n.. _ply: https://pypi.python.org/pypi/ply\n.. _slimit: https://pypi.python.org/pypi/slimit\n\n\nIntroduction\n------------\n\nFor any kind of build system that operates with JavaScript code in\nconjunction with a module system, the ability to understand what modules\na given set of sources require or provide is paramount.  As the Calmjs\nproject provides a framework that produces and consume these module\ndefinitions, the the ability to have a comprehensive understanding of\ngiven JavaScript sources is a given.  This goal was originally achieved\nusing |slimit|_, a JavaScript minifier library that also provided a\ncomprehensive parser class that was built using Python Lex-Yacc (i.e.\n|ply|_).\n\nHowever, as of mid-2017, it was noted that |slimit| remained in a\nminimum state of maintenance for more than four years (its most recent\nrelease, 0.8.1, was made 2013-03-26), along with a number of serious\noutstanding issues have left unattended and unresolved for the duration\nof that time span.  As the development of the Calmjs framework require\nthose issues to be rectified as soon as possible, a decision to fork the\nparser portion of |slimit| was made. This was done in order to cater to\nthe interests current to Calmjs project at that moment in time.\n\nThe fork was initial cut from another fork of |slimit| (specifically\n`lelit/slimit <https://github.com/lelit/slimit>`_), as it introduced and\naggregated a number of bug fixes from various sources.  To ensure a\nbetter quality control and assurance, a number of problematic changes\nintroduced by that fork were removed.   Also, new tests were created to\nbring coverage to full, and issues reported on the |slimit| tracker were\nnoted and formalized into test cases where applicable.  Finally, grammar\nrules were updated to ensure better conformance with the ECMA-262 (ES5)\nspecification.\n\nThe goal of |calmjs.parse| is to provide a similar API that |slimit| had\nprovided, except done in a much more extensible manner with more\ncorrectness checks in place.  This however resulted in some operations\nthat might take longer than what |slimit| had achieved, such as the\npretty printing of output.\n\nA CLI front-end that makes use of this package is provided through\n|crimp|_.\n\n\nInstallation\n------------\n\nThe following command may be executed to source the latest stable\nversion of |calmjs.parse| wheel from PyPI for installation into the\ncurrent Python environment.\n\n.. code:: console\n\n    $ pip install calmjs.parse\n\nAs this package uses |ply|, it requires the generation of optimization\nmodules for its lexer.  The wheel distribution of |calmjs.parse| does\nnot require this extra step as it contains these pre-generated modules\nfor |ply| up to version 3.11 (the latest version available at the time\nof previous release), however the source tarball or if |ply| version\nthat is installed lies outside of the supported versions, the following\ncaveats will apply.\n\nIf a more recent release of |ply| becomes available and the environment\nupgrades to that version, those pre-generated modules may become\nincompatible, which may result in a decreased performance and/or errors.\nA corrective action can be achieved through a `manual optimization`_\nstep if a newer version of |calmjs.parse| is not available, or |ply| may\nbe downgraded back to version 3.11 if possible.\n\nOnce the package is installed, the installation may be `tested`_ or be\n`used directly`_.\n\nAlternative installation methods (for developers, advanced users)\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nDevelopment is still ongoing with |calmjs.parse|, for the latest\nfeatures and bug fixes, the development version may be installed through\ngit like so:\n\n.. code:: console\n\n    $ pip install git+https://github.com/calmjs/calmjs.parse.git#egg=calmjs.parse\n\nAlternatively, the git repository can be cloned directly and execute\n``python setup.py develop`` while inside the root of the source\ndirectory.\n\nA manual optimization step may need to be performed for platforms and\nsystems that do not have utf8 as their default encoding.\n\nManual optimization\n~~~~~~~~~~~~~~~~~~~\n\nAs lex and yacc require the generation of symbol tables, a way to\noptimize the performance is to cache the results.  For |ply|, this is\ndone using an auto-generated module.  However, the generated file is\nmarked with a version number, as the results may be specific to the\ninstalled version of |ply|.  In |calmjs.parse| this is handled by giving\nthem a name specific to the version of |ply| and the major Python\nversion, as both together does result in subtle differences in the\noutputs and expectations of the auto-generated modules.\n\nTypically, the process for this optimization is automatic and a correct\nsymbol table will be generated, however there are cases where this will\nfail, so for this reason |calmjs.parse| provide a helper module and\nexecutable that can be optionally invoked to ensure that the correct\nencoding be used to generate that file.  Other reasons where this may be\nnecessary is to allow system administrators to do so for their end\nusers, as they may not have write privileges at that level.\n\nTo execute the optimizer from the shell, the provided helper script may\nbe used like so:\n\n.. code:: console\n\n    $ python -m calmjs.parse.parsers.optimize\n\nIf warnings appear that warn that tokens are defined but not used, they\nmay be safely ignored.\n\nThis step is generally optionally for users who installed this package\nfrom PyPI via a Python wheel, provided the caveats as outlined in the\ninstallation section are addressed.\n\n.. _tested:\n\nTesting the installation\n~~~~~~~~~~~~~~~~~~~~~~~~\n\nTo ensure that the |calmjs.parse| installation is functioning correctly,\nthe built-in testsuite can be executed by the following:\n\n.. code:: console\n\n    $ python -m unittest calmjs.parse.tests.make_suite\n\nIf there are failures, please file an issue on the `issue tracker\n<https://github.com/calmjs/calmjs.parse/issues>`_ with the full\ntraceback, and/or the method of installation.  Please also include\napplicable information about the environment, such as the version of\nthis software, Python version, operating system environments, the\nversion of |ply| that was installed, plus other information related to\nthe issue at hand.\n\n\nUsage\n-----\n\n.. _used directly:\n\nAs this is a parser library, no executable shell commands are provided.\nThere is however a helper callable object provided at the top level for\nimmediate access to the parsing feature.  It may be used like so:\n\n.. code:: pycon\n\n    >>> from calmjs.parse import es5\n    >>> program_source = u'''\n    ... // simple program\n    ... var main = function(greet) {\n    ...     var hello = \"hello \" + greet;\n    ...     return hello;\n    ... };\n    ... console.log(main('world'));\n    ... '''\n    >>> program = es5(program_source)\n    >>> # for a simple repr-like nested view of the ast\n    >>> program  # equivalent to repr(program)\n    <ES5Program @3:1 ?children=[\n      <VarStatement @3:1 ?children=[\n        <VarDecl @3:5 identifier=<Identifier ...>, initializer=<FuncExpr ...>>\n      ]>,\n      <ExprStatement @7:1 expr=<FunctionCall @7:1 args=<Arguments ...>,\n        identifier=<DotAccessor ...>>>\n    ]>\n    >>> # automatic reconstruction of ast into source, without having to\n    >>> # call something like `.to_ecma()`\n    >>> print(program)  # equivalent to str(program)\n    var main = function(greet) {\n      var hello = \"hello \" + greet;\n      return hello;\n    };\n    console.log(main('world'));\n\n    >>>\n\nPlease note the change in indentation as the default printer has its own\nindentation scheme.  If comments are needed, the parser can be called\nusing ``with_comments=True``:\n\n.. code:: pycon\n\n    >>> program_wc = es5(program_source, with_comments=True)\n    >>> print(program_wc)\n    // simple program\n    var main = function(greet) {\n      var hello = \"hello \" + greet;\n      return hello;\n    };\n    console.log(main('world'));\n\n    >>>\n\nAlso note that there are limitations with the capturing of comments as\ndocumented in the `Limitations`_ section.\n\nThe parser classes are organized under the ``calmjs.parse.parsers``\nmodule, with each language being under their own module.  A\ncorresponding lexer class with the same name is also provided under the\n``calmjs.parse.lexers`` module.  For the moment, only ES5 support is\nimplemented.\n\nPretty/minified printing\n~~~~~~~~~~~~~~~~~~~~~~~~\n\nThere is also a set of pretty printing helpers for turning the AST back\ninto a string.  These are available as functions or class constructors,\nand are produced by composing various lower level classes available in\nthe ``calmjs.parse.unparsers`` and related modules.\n\nThere is a default short-hand helper for turning the previously produced\nAST back into a string, which can be manually invoked with certain\nparameters, such as what characters to use for indentation: (note that\nthe ``__str__`` call implicitly invoked through ``print`` shown\npreviously is implemented through this).\n\n.. code:: pycon\n\n    >>> from calmjs.parse.unparsers.es5 import pretty_print\n    >>> print(pretty_print(program, indent_str='    '))\n    var main = function(greet) {\n        var hello = \"hello \" + greet;\n        return hello;\n    };\n    console.log(main('world'));\n\n    >>>\n\nThere is also one for printing without any unneeded whitespaces, works\nas a source minifier:\n\n.. code:: pycon\n\n    >>> from calmjs.parse.unparsers.es5 import minify_print\n    >>> print(minify_print(program))\n    var main=function(greet){var hello=\"hello \"+greet;return hello;};...\n    >>> print(minify_print(program, obfuscate=True, obfuscate_globals=True))\n    var a=function(b){var a=\"hello \"+b;return a;};console.log(a('world'));\n\nNote that in the second example, the ``obfuscate_globals`` option was\nonly enabled to demonstrate the source obfuscation on the global scope,\nand this is generally not an option that should be enabled on production\nlibrary code that is meant to be reused by other packages (other sources\nreferencing the original unobfuscated names will be unable to do so).\n\nAlternatively, direct invocation on a raw string can be done using the\nattributes provided under the same name as the above base objects that\nwere imported initially.  Relevant keyword arguments would be diverted\nto the appropriate underlying functions, for example:\n\n.. code:: pycon\n\n    >>> # pretty print without comments being parsed\n    >>> print(es5.pretty_print(program_source))\n    var main = function(greet) {\n      var hello = \"hello \" + greet;\n      return hello;\n    };\n    console.log(main('world'));\n\n    >>> # pretty print with comments parsed\n    >>> print(es5.pretty_print(program_source, with_comments=True))\n    // simple program\n    var main = function(greet) {\n      var hello = \"hello \" + greet;\n      return hello;\n    };\n    console.log(main('world'));\n\n    >>> # minify print\n    >>> print(es5.minify_print(program_source, obfuscate=True))\n    var main=function(b){var a=\"hello \"+b;return a;};console.log(main('world'));\n\nSource map generation\n~~~~~~~~~~~~~~~~~~~~~\n\nFor the generation of source maps, a lower level unparser instance can\nbe constructed through one of the printer factory functions.  Passing\nin an AST node will produce a generator which produces tuples containing\nthe yielded text fragment, plus other information which will aid in the\ngeneration of source maps.  There are helper functions from the\n``calmjs.parse.sourcemap`` module can be used like so to write the\nregenerated source code to some stream, along with processing the\nresults into a sourcemap file.  An example:\n\n.. code:: pycon\n\n    >>> import json\n    >>> from io import StringIO\n    >>> from calmjs.parse.unparsers.es5 import pretty_printer\n    >>> from calmjs.parse.sourcemap import encode_sourcemap, write\n    >>> stream_p = StringIO()\n    >>> print_p = pretty_printer()\n    >>> rawmap_p, _, names_p = write(print_p(program), stream_p)\n    >>> sourcemap_p = encode_sourcemap(\n    ...     'demo.min.js', rawmap_p, ['custom_name.js'], names_p)\n    >>> print(json.dumps(sourcemap_p, indent=2, sort_keys=True))\n    {\n      \"file\": \"demo.min.js\",\n      \"mappings\": \"AAEA;IACI;IACA;AACJ;AACA;\",\n      \"names\": [],\n      \"sources\": [\n        \"custom_name.js\"\n      ],\n      \"version\": 3\n    }\n    >>> print(stream_p.getvalue())\n    var main = function(greet) {\n    ...\n\nLikewise, this works similarly for the minify printer, which provides\nthe ability to create out a minified output with unneeded whitespaces\nremoved and identifiers obfuscated with the shortest possible value.\n\nNote that in previous example, the second return value in the write\nmethod was not used and that a custom value was passed in.  This is\nsimply due to how the ``program`` was generated from a string and thus\nthe ``sourcepath`` attribute was not assigned with a usable value for\npopulating the ``\"sources\"`` list in the resulting source map.  For the\nfollowing example, assign a value to that attribute on the program\ndirectly.\n\n.. code:: pycon\n\n    >>> from calmjs.parse.unparsers.es5 import minify_printer\n    >>> program.sourcepath = 'demo.js'  # say this was opened there\n    >>> stream_m = StringIO()\n    >>> print_m = minify_printer(obfuscate=True, obfuscate_globals=True)\n    >>> sourcemap_m = encode_sourcemap(\n    ...     'demo.min.js', *write(print_m(program), stream_m))\n    >>> print(json.dumps(sourcemap_m, indent=2, sort_keys=True))\n    {\n      \"file\": \"demo.min.js\",\n      \"mappings\": \"AAEA,IAAIA,CAAK,CAAE,SAASC,CAAK,CAAE,CACvB,...,YAAYF,CAAI\",\n      \"names\": [\n        \"main\",\n        \"greet\",\n        \"hello\"\n      ],\n      \"sources\": [\n        \"demo.js\"\n      ],\n      \"version\": 3\n    }\n    >>> print(stream_m.getvalue())\n    var a=function(b){var a=\"hello \"+b;return a;};console.log(a('world'));\n\nA high level API for working with named streams (i.e. opened files, or\nstream objects like ``io.StringIO`` assigned with a name attribute) is\nprovided by the ``read`` and ``write`` functions from ``io`` module.\nThe following example shows how to use the function to read from a\nstream and write out the relevant items back out to the write only\nstreams:\n\n.. code:: pycon\n\n    >>> from calmjs.parse import io\n    >>> h4_program_src = open('/tmp/html4.js')\n    >>> h4_program_min = open('/tmp/html4.min.js', 'w+')\n    >>> h4_program_map = open('/tmp/html4.min.js.map', 'w+')\n    >>> h4_program = io.read(es5, h4_program_src)\n    >>> print(h4_program)\n    var bold = function(s) {\n      return '<b>' + s + '</b>';\n    };\n    var italics = function(s) {\n      return '<i>' + s + '</i>';\n    };\n    >>> io.write(print_m, h4_program, h4_program_min, h4_program_map)\n    >>> pos = h4_program_map.seek(0)\n    >>> print(h4_program_map.read())\n    {\"file\": \"html4.min.js\", \"mappings\": ..., \"version\": 3}\n    >>> pos = h4_program_min.seek(0)\n    >>> print(h4_program_min.read())\n    var b=function(a){return'<b>'+a+'</b>';};var a=function(a){...};\n    //# sourceMappingURL=html4.min.js.map\n\nFor a simple concatenation of multiple sources into one file, along with\ninline source map (i.e. where the sourceMappingURL is a ``data:`` URL of\nthe base64 encoding of the JSON string), the following may be done:\n\n.. code:: pycon\n\n    >>> files = [open('/tmp/html4.js'), open('/tmp/legacy.js')]\n    >>> combined = open('/tmp/combined.js', 'w+')\n    >>> io.write(print_p, (io.read(es5, f) for f in files), combined, combined)\n    >>> pos = combined.seek(0)\n    >>> print(combined.read())\n    var bold = function(s) {\n        return '<b>' + s + '</b>';\n    };\n    var italics = function(s) {\n        return '<i>' + s + '</i>';\n    };\n    var marquee = function(s) {\n        return '<marquee>' + s + '</marquee>';\n    };\n    var blink = function(s) {\n        return '<blink>' + s + '</blink>';\n    };\n    //# sourceMappingURL=data:application/json;base64;...\n\nIn this example, the ``io.write`` function was provided with the pretty\nunparser, an generator expression that will produce the two ASTs from\nthe two source files, and then both the target and sourcemap argument\nare identical, which forces the source map generator to generate the\nbase64 encoding.\n\nDo note that if multiple ASTs were supplied to a minifying printer with\nglobals being obfuscated, the resulting script will have the earlier\nobfuscated global names mangled by later ones, as the unparsing is done\nseparately by the ``io.write`` function.\n\n\nAdvanced usage\n--------------\n\nLower level unparsing API\n~~~~~~~~~~~~~~~~~~~~~~~~~\n\nNaturally, the printers demonstrated previously are constructed using\nthe underlying Unparser class, which in turn bridges together the walk\nfunction and the Dispatcher class found in the walker module.  The walk\nfunction walks through the AST node with an instance of the Dispatcher\nclass, which provides a description of all node types for the particular\ntype of AST node provided, along with the relevant handlers.  These\nhandlers can be set up using existing rule provider functions.  For\ninstance, a printer for obfuscating identifier names while maintaining\nindentation for the output of an ES5 AST can be constructed like so:\n\n.. code:: pycon\n\n    >>> from calmjs.parse.unparsers.es5 import Unparser\n    >>> from calmjs.parse.rules import indent\n    >>> from calmjs.parse.rules import obfuscate\n    >>> pretty_obfuscate = Unparser(rules=(\n    ...     # note that indent must come after, so that the whitespace\n    ...     # handling rules by indent will shadow over the minimum set\n    ...     # provided by obfuscate.\n    ...     obfuscate(obfuscate_globals=False),\n    ...     indent(indent_str='    '),\n    ... ))\n    >>> math_module = es5(u'''\n    ... (function(root) {\n    ...   var fibonacci = function(count) {\n    ...     if (count < 2)\n    ...       return count;\n    ...     else\n    ...       return fibonacci(count - 1) + fibonacci(count - 2);\n    ...   };\n    ...\n    ...   var factorial = function(n) {\n    ...     if (n < 1)\n    ...       throw new Error('factorial where n < 1 not supported');\n    ...     else if (n == 1)\n    ...       return 1;\n    ...     else\n    ...       return n * factorial(n - 1);\n    ...   }\n    ...\n    ...   root.fibonacci = fibonacci;\n    ...   root.factorial = factorial;\n    ... })(window);\n    ...\n    ... var value = window.factorial(5) / window.fibonacci(5);\n    ... console.log('the value is ' + value);\n    ... ''')\n    >>> print(''.join(c.text for c in pretty_obfuscate(math_module)))\n    (function(b) {\n        var a = function(b) {\n            if (b < 2) return b;\n            else return a(b - 1) + a(b - 2);\n        };\n        var c = function(a) {\n            if (a < 1) throw new Error('factorial where n < 1 not supported');\n            else if (a == 1) return 1;\n            else return a * c(a - 1);\n        };\n        b.fibonacci = a;\n        b.factorial = c;\n    })(window);\n    var value = window.factorial(5) / window.fibonacci(5);\n    console.log('the value is ' + value);\n\nEach of the rules (functions) have specific options that are set using\nspecific keyword arguments, details are documented in their respective\ndocstrings.\n\nTree walking\n~~~~~~~~~~~~\n\nAST (Abstract Syntax Tree) generic walker classes are defined under the\nappropriate named modules ``calmjs.parse.walkers``.  Two default walker\nclasses are supplied.  One of them is the ``ReprWalker`` class which was\npreviously demonstrated.  The other is the ``Walker`` class, which\nsupplies a collection of generic tree walking methods for a tree of AST\nnodes.  The following is an example usage on how one might extract all\nObject assignments from a given script file:\n\n.. code:: pycon\n\n    >>> from calmjs.parse import es5\n    >>> from calmjs.parse.asttypes import Object, VarDecl, FunctionCall\n    >>> from calmjs.parse.walkers import Walker\n    >>> walker = Walker()\n    >>> declarations = es5(u'''\n    ... var i = 1;\n    ... var s = {\n    ...     a: \"test\",\n    ...     o: {\n    ...         v: \"value\"\n    ...     }\n    ... };\n    ... foo({foo: \"bar\"});\n    ... function bar() {\n    ...     var t = {\n    ...         foo: \"bar\",\n    ...     };\n    ...     return t;\n    ... }\n    ... foo.bar = bar;\n    ... foo.bar();\n    ... ''')\n    >>> # print out the object nodes that were part of some assignments\n    >>> for node in walker.filter(declarations, lambda node: (\n    ...         isinstance(node, VarDecl) and\n    ...         isinstance(node.initializer, Object))):\n    ...     print(node.initializer)\n    ...\n    {\n      a: \"test\",\n      o: {\n        v: \"value\"\n      }\n    }\n    {\n      foo: \"bar\"\n    }\n    >>> # print out all function calls\n    >>> for node in walker.filter(declarations, lambda node: (\n    ...         isinstance(node, FunctionCall))):\n    ...     print(node.identifier)\n    ...\n    foo\n    foo.bar\n\nFurther details and example usage can be consulted from the various\ndocstrings found within the module.\n\nLimitations\n-----------\n\nComments currently may be incomplete\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nDue to the implementation of the lexer/parser along with how the ast\nnode types have been implemented, there are restrictions on where the\ncomments may be exposed if enabled.  Currently, such limitations exists\nfor nodes that are created by production rules that consume multiple\nlexer tokens at once - only comments preceding the first token will be\ncaptured, with all remaining comments discarded.\n\nFor example, this limitation means that any comments before the ``else``\ntoken will be omitted (as the comment will be provided by the ``if``\ntoken), as the production rule for an ``If`` node consumes both these\ntokens and the node as implemented only provides a single slot for\ncomments.  Likewise, any comments before the ``:`` token in a ternary\nstatement will also be discarded as that is the second token consumed\nby the production rule that produces a ``Conditional`` node.\n\nTroubleshooting\n---------------\n\nInstantiation of parser classes fails with ``UnicodeEncodeError``\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nFor platforms or systems that do not have utf8 configured as the default\nencoding, the automatic table generation may fail when constructing a\nparser instance.  An example:\n\n.. code:: pycon\n\n    >>> from calmjs.parse.parsers import es5\n    >>> parser = es5.Parser()\n    Traceback (most recent call last):\n      ...\n      File \"c:\\python35\\....\\ply\\lex.py\", line 1043, in lex\n        lexobj.writetab(lextab, outputdir)\n      File \"c:\\python35\\....\\ply\\lex.py\", line 195, in writetab\n        tf.write('_lexstatere   = %s\\n' % repr(tabre))\n      File \"c:\\python35\\lib\\encodings\\cp1252.py\", line 19, in encode\n        return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n    UnicodeEncodeError: 'charmap' codec can't encode character '\\u02c1' ...\n\nA workaround helper script is provided, it may be executed like so:\n\n.. code:: console\n\n    $ python -m calmjs.parse.parsers.optimize\n\nFurther details on this topic may be found in the `manual optimization`_\nsection of this document.\n\nSlow performance\n~~~~~~~~~~~~~~~~\n\nAs this program is basically fully decomposed into very small functions,\nthis result in massive performance penalties as compared to other\nimplementations due to function calls being one of the most expensive\noperations in Python.  It may be possible to further optimize the\ndefinitions within the description in the Dispatcher by combining all\nthe resolved generator functions for each asttype Node type, however\nthis will may require both the token and layout functions not having\narguments with name collisions, and the new function will take in all\nof those arguments in one go.\n\n\nContribute\n----------\n\n- Issue Tracker: https://github.com/calmjs/calmjs.parse/issues\n- Source Code: https://github.com/calmjs/calmjs.parse\n\n\nLegal\n-----\n\nThe |calmjs.parse| package is copyright (c) 2017 Auckland Bioengineering\nInstitute, University of Auckland.  The |calmjs.parse| package is\nlicensed under the MIT license (specifically, the Expat License), which\nis also the same license that the package |slimit| was released under.\n\nThe lexer, parser and the other types definitions portions were\noriginally imported from the |slimit| package; |slimit| is copyright (c)\nRuslan Spivak.\n\nThe Calmjs project is copyright (c) 2017 Auckland Bioengineering\nInstitute, University of Auckland.\n\nChangelog\n=========\n\n1.2.4 - 2020-03-17\n------------------\n\n- Correct usage of ``__doc__`` to support level 2 optimized mode.  [\n  `#29 <https://github.com/calmjs/calmjs.parse/issues/29>`_\n  `#30 <https://github.com/calmjs/calmjs.parse/issues/30>`_\n  ]\n- Corrected some minor string definition syntax, where raw string prefix\n  should be used but was not previously.\n\n1.2.2 - 2020-01-18\n------------------\n\n- Correctly include LICENSE file in sdist.  [\n  `#27 <https://github.com/calmjs/calmjs.parse/issues/27>`_\n  `#28 <https://github.com/calmjs/calmjs.parse/issues/28>`_\n  ]\n- Include the correct test data general form for some previously added\n  test cases to better accommodate already planned future features.\n\n1.2.1 - 2019-11-21\n------------------\n\n- Fix the issue of failures with regex statement that occur due to lexer\n  being in a state where the disambiguation between REGEX or DIV token\n  types is not immediately possible, as tokens such as RBRACE, PLUSPLUS\n  or MINUSMINUS must be consumed by parser in order to be disambiguated,\n  but due to the lookahead nature done by yacc, the DIV token will be\n  prematurely produced and the only way to achieve this is during the\n  error handling stage.  [\n  `#25 <https://github.com/calmjs/calmjs.parse/issues/25>`_\n  `#26 <https://github.com/calmjs/calmjs.parse/issues/26>`_\n  ]\n- Part of the previous fix also removed newline or comment tokens from\n  being reported as part of parsing error messages.\n\n1.2.0 - 2019-08-15\n------------------\n\n- Partial support for parsing of comments.  Currently not all comments\n  will be captured during parsing, due to the desire to simplify access\n  of them through the ``asttypes.Node`` instances with the generic\n  ``comments`` attribute provided by it.  [\n  `#24 <https://github.com/calmjs/calmjs.parse/issues/24>`_\n  ]\n\n  - Enabled by passing ``with_comments=True`` to the parser..\n  - The limitation lies in the fact that if a node has multiple token\n    slots (e.g. ``if...else``), the comments that lie immediate before\n    the first will be captured, while the comments that lie immediate to\n    the subsequent ones will be omitted.  The fix would involve\n    providing a full syntax tree node types, and that the parser rules\n    would need to be implemented in a more amenable manner such that the\n    generation of such could be done.\n  - All comments that lie immediately before the node are accessible\n    using the ``comments`` attribute.\n  - These comments nodes will not be yielded via the children() method.\n  - Various features and methods have been updated to account for\n    comments.  Notably, sourcemap generation will be able to deal with\n    source fragments that contain newlines provided that both colno and\n    lineno are provided.\n\n- Correctly fail on incorrect hexadecimal/unicode escape sequences while\n  reporting the specific character location; also report on the starting\n  position of an unterminated string literal.  [\n  `#23 <https://github.com/calmjs/calmjs.parse/issues/23>`_\n  ]\n\n1.1.3 - 2018-11-08\n------------------\n\n- Correct issues with certain non-optional spaces being omitted for the\n  minify print cases, which caused malformed outputs.  [\n  `#22 <https://github.com/calmjs/calmjs.parse/issues/22>`_\n  ]\n\n1.1.2 - 2018-08-20\n------------------\n\n- Default repr on synthetic nodes or nodes without column or row number\n  assigned should no longer error.  [\n  `#20 <https://github.com/calmjs/calmjs.parse/issues/20>`_\n  ]\n- The same line terminator regex introduced in 1.1.0 used for line\n  continuation in strings now applied to the line terminator pattern to\n  the lexer, such that the line numbering is corrected for the Windows\n  specific <CR><LF> sequence.  [\n  `#21 <https://github.com/calmjs/calmjs.parse/issues/21>`_\n  ]\n\n1.1.1 - 2018-08-11\n------------------\n\n- Ensure that the accounting of layout rule chunks is done correctly in\n  the case where layout handlers specified a tuple of layout rules for\n  combined handling.  [\n  `#19 <https://github.com/calmjs/calmjs.parse/issues/19>`_\n  ]\n\n  - The issue caused by this error manifest severely in the case where\n    multiple layout rule tokens are produced in a manner that repeats\n    a pattern that also have a layout handler rule for them, which\n    does not typically happen for normal code with the standard printers\n    (as layout chunks are many and they generally do not result in a\n    repeated pattern that gets consumed).  However this is severely\n    manifested in the case of minified output with semicolons dropped,\n    as that basically guarantee that any series of closing blocks that\n    fit the pattern to be simply dropped.\n\n1.1.0 - 2018-08-07\n------------------\n\n- Correct the implementation of line continuation in strings.  This also\n  meant a change in the minify unparser so that it will continue to\n  remove the line continuation sequences.  [\n  `#16 <https://github.com/calmjs/calmjs.parse/issues/16>`_\n  ]\n\n- Correct the implementation of ASI (automatic semicolon insertion) by\n  introducing a dedicated token type, such that the production of\n  empty statement can no longer happen and that distinguishes it from\n  production of statements that should not have ASI applied, such that\n  incorrectly successful parsing due to this issue will no longer\n  result.  [\n  `#18 <https://github.com/calmjs/calmjs.parse/issues/18>`_\n  `rspivak/slimit#29 <https://github.com/rspivak/slimit/issues/29>`_\n  `rspivak/slimit#101 <https://github.com/rspivak/slimit/issues/101>`_\n  ]\n\n1.0.1 - 2018-04-19\n------------------\n\n- Ensure that the es5 Unparser pass on the prewalk_hooks argument in\n  its constructor.\n- Minor packaging fixes; also include optimization modules for ply-3.11.\n\n1.0.0 - 2017-09-26\n------------------\n\nFull support for sourcemaps; changes that make it possible follows:\n\n- High level read/write functionality provided by a new ``io`` module.\n- There is now a ``Deferrable`` rule type for marking certain Tokens\n  that need extra handling.  The support for this has changed the\n  various API that deals with setting up of this.\n- For support of the sourcemap generation, a number of new ruletypes\n  have been added.\n- The sourcemap write function had its argument order modified to\n  better support the sourcepath tracking feature of input Nodes.  Its\n  return value also now match the ordering of the encode_sourcemap\n  function.\n- The chunk types in ruletypes have been renamed, and also a new type\n  called StreamFragment is introduced, so that multiple sources output\n  to a single stream can be properly tracked by the source mapping\n  processes.\n- `rspivak/slimit#66 <https://github.com/rspivak/slimit/issues/66>`_\n  should be fully supported now.\n\nMinify printer now has ability to shorten/obfuscate identifiers:\n\n- Provide a name obfuscation function for shortening identifiers, to\n  further achieve minified output.  Note that this does not yet fully\n  achieve the level of minification ``slimit`` had; future versions\n  may implement this functionality as various AST transformations.\n- Also provided ability to drop unneeded semicolons.\n\nOther significant changes:\n\n- Various changes to internal class and function names for the 1.0.0\n  release.  A non exhaustive listing of changes to modules relative to\n  the root of this package name as compared to previous major release\n  follows:\n\n  ``asttypes``\n    - All ``slimit`` compatibility features removed.\n    - ``Switch`` (the incorrect version) removed.\n    - ``SwitchStatement`` -> ``Switch``\n    - ``SetPropAssign`` constructor: ``parameters`` -> ``parameter``\n    - ``UnaryOp`` -> ``UnaryExpr``\n    - Other general deprecated features also removed.\n  ``factory``\n    - ``Factory`` -> ``SRFactory``\n  ``visitors``\n    - Removed (details follow).\n  ``walkers``\n    - ``visitors.generic.ReprVisitor`` -> ``walkers.ReprWalker``\n  ``layouts``\n    - Module was split and reorganised; the simple base ones can be\n      found in ``handlers.core``, the indentation related features are\n      now in ``handlers.indentation``.\n  ``unparsers.base``\n    - ``.default_layout_handlers`` -> ``handlers.core.default_rules``\n    - ``.minimum_layout_handlers`` -> ``handlers.core.minimum_rules``\n  ``unparsers.prettyprint``\n    - Renamed to ``unparsers.walker``.\n    - The implementation was actually standard tree walking, no\n      correctly implemented visitor functions/classes were ever present.\n  ``vlq``\n    - ``.create_sourcemap`` -> ``sourcemap.create_sourcemap``\n\n- Broke up the visitors class as they weren't really visitors as\n  described.  The new implementations (calmjs.parse-0.9.0) were really\n  walkers, so move them to that name and leave it at that.  Methods\n  were also renamed to better reflect their implementation and purpose.\n- Many slimit compatibility modules, classes and incorrectly implemented\n  functionalities removed.\n- The usage of the Python 3 ``str`` type (``unicode`` in Python 2) is\n  now enforced for the parser, to avoid various failure cases where\n  mismatch types occur.\n- The base Node asttype has a sourcepath attribute which is to be used\n  for tracking the original source of the node; if assigned, all its\n  subnodes without sourcepath defined should be treated as from that\n  source.\n- Also provide an even higher level function for usage with streams\n  through the ``calmjs.parse.io`` module.\n- Semicolons and braces added as structures to be rendered.\n\nBug fixes:\n\n- Functions starting with a non-word character will now always have a\n  whitespace rendered before it to avoid syntax error.\n- Correct an incorrect iterator usage in the walk function.\n- Ensure List separators don't use the rowcol positions of a subsequent\n  Elision node.\n- Lexer will only report real lexer tokens on errors (ASI generated\n  tokens are now dropped as they don't exist in the original source\n  which results in confusing rowcol reporting).\n- `rspivak/slimit#57 <https://github.com/rspivak/slimit/issues/57>`_,\n  as it turns out ``'\\0'`` is not considered to be octal, but is a <NUL>\n  character, which the rule to parse was not actually included in the\n  lexer patches that were pulled in previous to this version.\n- `rspivak/slimit#75 <https://github.com/rspivak/slimit/issues/75>`_,\n  Option for shadowing of names of named closures, which is now disabled\n  by default (obfuscated named closures will not be shadowed by other\n  obfuscated names in children).\n- Expressions can no longer contain an unnamed function.\n\n0.10.1 - 2017-08-26\n-------------------\n\n- Corrected the line number reporting for the lexer, and correct the\n  propagation of that to the parser and the Node subclasses.  Fixes the\n  incorrect implementation added by `moses-palmer/slimit@8f9a39c7769\n  <https://github.com/moses-palmer/slimit/commit/8f9a39c7769>`_ (where\n  the line numbers are tabulated incorrectly when comments are present,\n  and also the yacc tracking added by `moses-palmer/slimit@6aa92d68e0\n  <https://github.com/moses-palmer/slimit/commit/6aa92d68e0>`_ (where\n  the custom lexer class does not provide the position attributes\n  required by ply).\n- Implemented bookkeeping of column numbers.\n- Made other various changes to AST but for compatibility reasons (to\n  not force a major semver bump) they are only enabled with a flag to\n  the ES5 parser.\n- Corrected a fault with how switch/case statements are handled in a way\n  that may break compatibility; fixes are only enabled when flagged.\n  `rspivak/slimit#94 <https://github.com/rspivak/slimit/issues/94>`_\n- The repr form of Node now shows the line/col number info by default;\n  the visit method of the ReprVisitor class have not been changed, only\n  the invocation of it via the callable form has as that is the call\n  target for __repr__.  This is a good time to mention that named\n  methods afford the most control for usage as documented already.\n- Parsers now accept an asttypes module during its construction.\n- Provide support for source map generation classes.\n- Introduced a flexible visitor function/state class that accepts a\n  definition of rules for the generation of chunk tuples that are\n  compatible for the source map generation.  A new way for pretty\n  printing and minification can be achieved using this module.\n\n0.9.0 - 2017-06-09\n------------------\n\n- Initial release of the fork of ``slimit.parser`` and its parent\n  modules as ``calmjs.parse``.\n- This release brings in a number of bug fixes that were available via\n  other forks of ``slimit``, with modifications or even a complete\n  revamp.\n- Issues addressed includes:\n\n  - `rspivak/slimit#52 <https://github.com/rspivak/slimit/issues/52>`_,\n    `rspivak/slimit#59 <https://github.com/rspivak/slimit/issues/59>`_,\n    `rspivak/slimit#81 <https://github.com/rspivak/slimit/issues/81>`_,\n    `rspivak/slimit#90 <https://github.com/rspivak/slimit/issues/90>`_\n    (relating to conformance of ecma-262 7.6 identifier names)\n  - `rspivak/slimit#54 <https://github.com/rspivak/slimit/issues/54>`_\n    (fixed by tracking scope and executable current token in lexer)\n  - `rspivak/slimit#57 <https://github.com/rspivak/slimit/issues/57>`_,\n    `rspivak/slimit#70 <https://github.com/rspivak/slimit/issues/70>`_\n    (octal encoding (e.g \\0), from `redapple/slimit@a93204577f\n    <https://github.com/redapple/slimit/commit/a93204577f>`_)\n  - `rspivak/slimit#62 <https://github.com/rspivak/slimit/issues/62>`_\n    (formalized into a unittest that passed)\n  - `rspivak/slimit#73 <https://github.com/rspivak/slimit/issues/73>`_\n    (specifically the desire for a better repr; the minifier bits are\n    not relevant to this package)\n  - `rspivak/slimit#79 <https://github.com/rspivak/slimit/pull/79>`_\n    (tab module handling was completely reimplemented)\n  - `rspivak/slimit#82 <https://github.com/rspivak/slimit/issues/82>`_\n    (formalized into a unittest that passed)\n\n- Include various changes gathered by `rspivak/slimit#65\n  <https://github.com/rspivak/slimit/pull/65>`_, which may be the source\n  of some of the fixes listed above.\n\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/calmjs/calmjs.parse", "keywords": "", "license": "mit", "maintainer": "", "maintainer_email": "", "name": "calmjs.parse", "package_url": "https://pypi.org/project/calmjs.parse/", "platform": "", "project_url": "https://pypi.org/project/calmjs.parse/", "project_urls": {"Homepage": "https://github.com/calmjs/calmjs.parse"}, "release_url": "https://pypi.org/project/calmjs.parse/1.2.4/", "requires_dist": ["setuptools", "ply (>=3.6)"], "requires_python": "", "summary": "Various parsers for ECMA standards.", "version": "1.2.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"calmjs-parse\">\n<h2>calmjs.parse</h2>\n<p>A collection of parsers and helper libraries for understanding\nECMAScript; a near feature complete fork of <a href=\"https://pypi.python.org/pypi/slimit\" rel=\"nofollow\"><tt>slimit</tt></a>.  A CLI front-end\nfor this package is shipped separately as <a href=\"https://pypi.python.org/pypi/crimp\" rel=\"nofollow\"><tt>crimp</tt></a>.</p>\n<a href=\"https://travis-ci.org/calmjs/calmjs.parse\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/calmjs/calmjs.parse.svg?branch=1.2.4\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ab5c2b1a1803c1bbbd3a0bb7cc1770281dd7f61e/68747470733a2f2f7472617669732d63692e6f72672f63616c6d6a732f63616c6d6a732e70617273652e7376673f6272616e63683d312e322e34\"></a>\n<a href=\"https://ci.appveyor.com/project/metatoaster/calmjs-parse/branch/1.2.4\" rel=\"nofollow\"><img alt=\"https://ci.appveyor.com/api/projects/status/5dj8dnu9gmj02msu/branch/1.2.4?svg=true\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a664a740cfc817d27f4424450b734c63db69d89b/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f35646a38646e7539676d6a30326d73752f6272616e63682f312e322e343f7376673d74727565\"></a>\n<a href=\"https://coveralls.io/github/calmjs/calmjs.parse?branch=1.2.4\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/github/calmjs/calmjs.parse/badge.svg?branch=1.2.4\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e3e7fc71d2518cc80b6bd62922f9a11e3129c33d/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f63616c6d6a732f63616c6d6a732e70617273652f62616467652e7376673f6272616e63683d312e322e34\"></a>\n<div id=\"introduction\">\n<h3>Introduction</h3>\n<p>For any kind of build system that operates with JavaScript code in\nconjunction with a module system, the ability to understand what modules\na given set of sources require or provide is paramount.  As the Calmjs\nproject provides a framework that produces and consume these module\ndefinitions, the the ability to have a comprehensive understanding of\ngiven JavaScript sources is a given.  This goal was originally achieved\nusing <a href=\"https://pypi.python.org/pypi/slimit\" rel=\"nofollow\"><tt>slimit</tt></a>, a JavaScript minifier library that also provided a\ncomprehensive parser class that was built using Python Lex-Yacc (i.e.\n<a href=\"https://pypi.python.org/pypi/ply\" rel=\"nofollow\"><tt>ply</tt></a>).</p>\n<p>However, as of mid-2017, it was noted that <tt>slimit</tt> remained in a\nminimum state of maintenance for more than four years (its most recent\nrelease, 0.8.1, was made 2013-03-26), along with a number of serious\noutstanding issues have left unattended and unresolved for the duration\nof that time span.  As the development of the Calmjs framework require\nthose issues to be rectified as soon as possible, a decision to fork the\nparser portion of <tt>slimit</tt> was made. This was done in order to cater to\nthe interests current to Calmjs project at that moment in time.</p>\n<p>The fork was initial cut from another fork of <tt>slimit</tt> (specifically\n<a href=\"https://github.com/lelit/slimit\" rel=\"nofollow\">lelit/slimit</a>), as it introduced and\naggregated a number of bug fixes from various sources.  To ensure a\nbetter quality control and assurance, a number of problematic changes\nintroduced by that fork were removed.   Also, new tests were created to\nbring coverage to full, and issues reported on the <tt>slimit</tt> tracker were\nnoted and formalized into test cases where applicable.  Finally, grammar\nrules were updated to ensure better conformance with the ECMA-262 (ES5)\nspecification.</p>\n<p>The goal of <tt>calmjs.parse</tt> is to provide a similar API that <tt>slimit</tt> had\nprovided, except done in a much more extensible manner with more\ncorrectness checks in place.  This however resulted in some operations\nthat might take longer than what <tt>slimit</tt> had achieved, such as the\npretty printing of output.</p>\n<p>A CLI front-end that makes use of this package is provided through\n<a href=\"https://pypi.python.org/pypi/crimp\" rel=\"nofollow\"><tt>crimp</tt></a>.</p>\n</div>\n<div id=\"installation\">\n<h3>Installation</h3>\n<p>The following command may be executed to source the latest stable\nversion of <tt>calmjs.parse</tt> wheel from PyPI for installation into the\ncurrent Python environment.</p>\n<pre><span class=\"gp\">$</span> pip install calmjs.parse\n</pre>\n<p>As this package uses <tt>ply</tt>, it requires the generation of optimization\nmodules for its lexer.  The wheel distribution of <tt>calmjs.parse</tt> does\nnot require this extra step as it contains these pre-generated modules\nfor <tt>ply</tt> up to version 3.11 (the latest version available at the time\nof previous release), however the source tarball or if <tt>ply</tt> version\nthat is installed lies outside of the supported versions, the following\ncaveats will apply.</p>\n<p>If a more recent release of <tt>ply</tt> becomes available and the environment\nupgrades to that version, those pre-generated modules may become\nincompatible, which may result in a decreased performance and/or errors.\nA corrective action can be achieved through a <a href=\"#manual-optimization\" rel=\"nofollow\">manual optimization</a>\nstep if a newer version of <tt>calmjs.parse</tt> is not available, or <tt>ply</tt> may\nbe downgraded back to version 3.11 if possible.</p>\n<p>Once the package is installed, the installation may be <a href=\"#tested\" rel=\"nofollow\">tested</a> or be\n<a href=\"#used-directly\" rel=\"nofollow\">used directly</a>.</p>\n<div id=\"alternative-installation-methods-for-developers-advanced-users\">\n<h4>Alternative installation methods (for developers, advanced users)</h4>\n<p>Development is still ongoing with <tt>calmjs.parse</tt>, for the latest\nfeatures and bug fixes, the development version may be installed through\ngit like so:</p>\n<pre><span class=\"gp\">$</span> pip install git+https://github.com/calmjs/calmjs.parse.git#egg<span class=\"o\">=</span>calmjs.parse\n</pre>\n<p>Alternatively, the git repository can be cloned directly and execute\n<tt>python setup.py develop</tt> while inside the root of the source\ndirectory.</p>\n<p>A manual optimization step may need to be performed for platforms and\nsystems that do not have utf8 as their default encoding.</p>\n</div>\n<div id=\"manual-optimization\">\n<h4>Manual optimization</h4>\n<p>As lex and yacc require the generation of symbol tables, a way to\noptimize the performance is to cache the results.  For <tt>ply</tt>, this is\ndone using an auto-generated module.  However, the generated file is\nmarked with a version number, as the results may be specific to the\ninstalled version of <tt>ply</tt>.  In <tt>calmjs.parse</tt> this is handled by giving\nthem a name specific to the version of <tt>ply</tt> and the major Python\nversion, as both together does result in subtle differences in the\noutputs and expectations of the auto-generated modules.</p>\n<p>Typically, the process for this optimization is automatic and a correct\nsymbol table will be generated, however there are cases where this will\nfail, so for this reason <tt>calmjs.parse</tt> provide a helper module and\nexecutable that can be optionally invoked to ensure that the correct\nencoding be used to generate that file.  Other reasons where this may be\nnecessary is to allow system administrators to do so for their end\nusers, as they may not have write privileges at that level.</p>\n<p>To execute the optimizer from the shell, the provided helper script may\nbe used like so:</p>\n<pre><span class=\"gp\">$</span> python -m calmjs.parse.parsers.optimize\n</pre>\n<p>If warnings appear that warn that tokens are defined but not used, they\nmay be safely ignored.</p>\n<p>This step is generally optionally for users who installed this package\nfrom PyPI via a Python wheel, provided the caveats as outlined in the\ninstallation section are addressed.</p>\n</div>\n<div id=\"testing-the-installation\">\n<span id=\"tested\"></span><h4>Testing the installation</h4>\n<p>To ensure that the <tt>calmjs.parse</tt> installation is functioning correctly,\nthe built-in testsuite can be executed by the following:</p>\n<pre><span class=\"gp\">$</span> python -m unittest calmjs.parse.tests.make_suite\n</pre>\n<p>If there are failures, please file an issue on the <a href=\"https://github.com/calmjs/calmjs.parse/issues\" rel=\"nofollow\">issue tracker</a> with the full\ntraceback, and/or the method of installation.  Please also include\napplicable information about the environment, such as the version of\nthis software, Python version, operating system environments, the\nversion of <tt>ply</tt> that was installed, plus other information related to\nthe issue at hand.</p>\n</div>\n</div>\n<div id=\"usage\">\n<h3>Usage</h3>\n<p id=\"used-directly\">As this is a parser library, no executable shell commands are provided.\nThere is however a helper callable object provided at the top level for\nimmediate access to the parsing feature.  It may be used like so:</p>\n<pre><span class=\"kn\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse</span> <span class=\"kn\">import</span> <span class=\"n\">es5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">program_source</span> <span class=\"o\">=</span> <span class=\"sa\">u</span><span class=\"s1\">'''\n</span><span class=\"gp\">... </span><span class=\"s1\">// simple program\n</span><span class=\"gp\">... </span><span class=\"s1\">var main = function(greet) {\n</span><span class=\"gp\">... </span><span class=\"s1\">    var hello = \"hello \" + greet;\n</span><span class=\"gp\">... </span><span class=\"s1\">    return hello;\n</span><span class=\"gp\">... </span><span class=\"s1\">};\n</span><span class=\"gp\">... </span><span class=\"s1\">console.log(main('world'));\n</span><span class=\"gp\">... </span><span class=\"s1\">'''</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">program</span> <span class=\"o\">=</span> <span class=\"n\">es5</span><span class=\"p\">(</span><span class=\"n\">program_source</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># for a simple repr-like nested view of the ast</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">program</span>  <span class=\"c1\"># equivalent to repr(program)</span>\n<span class=\"go\">&lt;ES5Program @3:1 ?children=[\n  &lt;VarStatement @3:1 ?children=[\n    &lt;VarDecl @3:5 identifier=&lt;Identifier ...&gt;, initializer=&lt;FuncExpr ...&gt;&gt;\n  ]&gt;,\n  &lt;ExprStatement @7:1 expr=&lt;FunctionCall @7:1 args=&lt;Arguments ...&gt;,\n    identifier=&lt;DotAccessor ...&gt;&gt;&gt;\n]&gt;\n</span><span class=\"c1\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># automatic reconstruction of ast into source, without having to</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># call something like `.to_ecma()`</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">program</span><span class=\"p\">)</span>  <span class=\"c1\"># equivalent to str(program)</span>\n<span class=\"go\">var main = function(greet) {\n  var hello = \"hello \" + greet;\n  return hello;\n};\nconsole.log(main('world'));\n\n&gt;&gt;&gt;</span>\n</pre>\n<p>Please note the change in indentation as the default printer has its own\nindentation scheme.  If comments are needed, the parser can be called\nusing <tt>with_comments=True</tt>:</p>\n<pre><span class=\"n\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">program_wc</span> <span class=\"o\">=</span> <span class=\"n\">es5</span><span class=\"p\">(</span><span class=\"n\">program_source</span><span class=\"p\">,</span> <span class=\"n\">with_comments</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">program_wc</span><span class=\"p\">)</span>\n<span class=\"go\">// simple program\nvar main = function(greet) {\n  var hello = \"hello \" + greet;\n  return hello;\n};\nconsole.log(main('world'));\n\n&gt;&gt;&gt;</span>\n</pre>\n<p>Also note that there are limitations with the capturing of comments as\ndocumented in the <a href=\"#limitations\" rel=\"nofollow\">Limitations</a> section.</p>\n<p>The parser classes are organized under the <tt>calmjs.parse.parsers</tt>\nmodule, with each language being under their own module.  A\ncorresponding lexer class with the same name is also provided under the\n<tt>calmjs.parse.lexers</tt> module.  For the moment, only ES5 support is\nimplemented.</p>\n<div id=\"pretty-minified-printing\">\n<h4>Pretty/minified printing</h4>\n<p>There is also a set of pretty printing helpers for turning the AST back\ninto a string.  These are available as functions or class constructors,\nand are produced by composing various lower level classes available in\nthe <tt>calmjs.parse.unparsers</tt> and related modules.</p>\n<p>There is a default short-hand helper for turning the previously produced\nAST back into a string, which can be manually invoked with certain\nparameters, such as what characters to use for indentation: (note that\nthe <tt>__str__</tt> call implicitly invoked through <tt>print</tt> shown\npreviously is implemented through this).</p>\n<pre><span class=\"kn\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.unparsers.es5</span> <span class=\"kn\">import</span> <span class=\"n\">pretty_print</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">pretty_print</span><span class=\"p\">(</span><span class=\"n\">program</span><span class=\"p\">,</span> <span class=\"n\">indent_str</span><span class=\"o\">=</span><span class=\"s1\">'    '</span><span class=\"p\">))</span>\n<span class=\"go\">var main = function(greet) {\n    var hello = \"hello \" + greet;\n    return hello;\n};\nconsole.log(main('world'));\n\n&gt;&gt;&gt;</span>\n</pre>\n<p>There is also one for printing without any unneeded whitespaces, works\nas a source minifier:</p>\n<pre><span class=\"kn\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.unparsers.es5</span> <span class=\"kn\">import</span> <span class=\"n\">minify_print</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">minify_print</span><span class=\"p\">(</span><span class=\"n\">program</span><span class=\"p\">))</span>\n<span class=\"go\">var main=function(greet){var hello=\"hello \"+greet;return hello;};...\n</span><span class=\"nb\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">minify_print</span><span class=\"p\">(</span><span class=\"n\">program</span><span class=\"p\">,</span> <span class=\"n\">obfuscate</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">obfuscate_globals</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>\n<span class=\"go\">var a=function(b){var a=\"hello \"+b;return a;};console.log(a('world'));</span>\n</pre>\n<p>Note that in the second example, the <tt>obfuscate_globals</tt> option was\nonly enabled to demonstrate the source obfuscation on the global scope,\nand this is generally not an option that should be enabled on production\nlibrary code that is meant to be reused by other packages (other sources\nreferencing the original unobfuscated names will be unable to do so).</p>\n<p>Alternatively, direct invocation on a raw string can be done using the\nattributes provided under the same name as the above base objects that\nwere imported initially.  Relevant keyword arguments would be diverted\nto the appropriate underlying functions, for example:</p>\n<pre><span class=\"c1\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># pretty print without comments being parsed</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">es5</span><span class=\"o\">.</span><span class=\"n\">pretty_print</span><span class=\"p\">(</span><span class=\"n\">program_source</span><span class=\"p\">))</span>\n<span class=\"go\">var main = function(greet) {\n  var hello = \"hello \" + greet;\n  return hello;\n};\nconsole.log(main('world'));\n\n</span><span class=\"c1\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># pretty print with comments parsed</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">es5</span><span class=\"o\">.</span><span class=\"n\">pretty_print</span><span class=\"p\">(</span><span class=\"n\">program_source</span><span class=\"p\">,</span> <span class=\"n\">with_comments</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>\n<span class=\"go\">// simple program\nvar main = function(greet) {\n  var hello = \"hello \" + greet;\n  return hello;\n};\nconsole.log(main('world'));\n\n</span><span class=\"c1\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># minify print</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">es5</span><span class=\"o\">.</span><span class=\"n\">minify_print</span><span class=\"p\">(</span><span class=\"n\">program_source</span><span class=\"p\">,</span> <span class=\"n\">obfuscate</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>\n<span class=\"go\">var main=function(b){var a=\"hello \"+b;return a;};console.log(main('world'));</span>\n</pre>\n</div>\n<div id=\"source-map-generation\">\n<h4>Source map generation</h4>\n<p>For the generation of source maps, a lower level unparser instance can\nbe constructed through one of the printer factory functions.  Passing\nin an AST node will produce a generator which produces tuples containing\nthe yielded text fragment, plus other information which will aid in the\ngeneration of source maps.  There are helper functions from the\n<tt>calmjs.parse.sourcemap</tt> module can be used like so to write the\nregenerated source code to some stream, along with processing the\nresults into a sourcemap file.  An example:</p>\n<pre><span class=\"kn\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">json</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">io</span> <span class=\"kn\">import</span> <span class=\"n\">StringIO</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.unparsers.es5</span> <span class=\"kn\">import</span> <span class=\"n\">pretty_printer</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.sourcemap</span> <span class=\"kn\">import</span> <span class=\"n\">encode_sourcemap</span><span class=\"p\">,</span> <span class=\"n\">write</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">stream_p</span> <span class=\"o\">=</span> <span class=\"n\">StringIO</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">print_p</span> <span class=\"o\">=</span> <span class=\"n\">pretty_printer</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rawmap_p</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">,</span> <span class=\"n\">names_p</span> <span class=\"o\">=</span> <span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">print_p</span><span class=\"p\">(</span><span class=\"n\">program</span><span class=\"p\">),</span> <span class=\"n\">stream_p</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sourcemap_p</span> <span class=\"o\">=</span> <span class=\"n\">encode_sourcemap</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">'demo.min.js'</span><span class=\"p\">,</span> <span class=\"n\">rawmap_p</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'custom_name.js'</span><span class=\"p\">],</span> <span class=\"n\">names_p</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">sourcemap_p</span><span class=\"p\">,</span> <span class=\"n\">indent</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">sort_keys</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>\n<span class=\"go\">{\n  \"file\": \"demo.min.js\",\n  \"mappings\": \"AAEA;IACI;IACA;AACJ;AACA;\",\n  \"names\": [],\n  \"sources\": [\n    \"custom_name.js\"\n  ],\n  \"version\": 3\n}\n</span><span class=\"nb\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">stream_p</span><span class=\"o\">.</span><span class=\"n\">getvalue</span><span class=\"p\">())</span>\n<span class=\"go\">var main = function(greet) {\n</span><span class=\"gp\">...</span>\n</pre>\n<p>Likewise, this works similarly for the minify printer, which provides\nthe ability to create out a minified output with unneeded whitespaces\nremoved and identifiers obfuscated with the shortest possible value.</p>\n<p>Note that in previous example, the second return value in the write\nmethod was not used and that a custom value was passed in.  This is\nsimply due to how the <tt>program</tt> was generated from a string and thus\nthe <tt>sourcepath</tt> attribute was not assigned with a usable value for\npopulating the <tt>\"sources\"</tt> list in the resulting source map.  For the\nfollowing example, assign a value to that attribute on the program\ndirectly.</p>\n<pre><span class=\"kn\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.unparsers.es5</span> <span class=\"kn\">import</span> <span class=\"n\">minify_printer</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">program</span><span class=\"o\">.</span><span class=\"n\">sourcepath</span> <span class=\"o\">=</span> <span class=\"s1\">'demo.js'</span>  <span class=\"c1\"># say this was opened there</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">stream_m</span> <span class=\"o\">=</span> <span class=\"n\">StringIO</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">print_m</span> <span class=\"o\">=</span> <span class=\"n\">minify_printer</span><span class=\"p\">(</span><span class=\"n\">obfuscate</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">obfuscate_globals</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sourcemap_m</span> <span class=\"o\">=</span> <span class=\"n\">encode_sourcemap</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">'demo.min.js'</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">print_m</span><span class=\"p\">(</span><span class=\"n\">program</span><span class=\"p\">),</span> <span class=\"n\">stream_m</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">sourcemap_m</span><span class=\"p\">,</span> <span class=\"n\">indent</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">sort_keys</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>\n<span class=\"go\">{\n  \"file\": \"demo.min.js\",\n  \"mappings\": \"AAEA,IAAIA,CAAK,CAAE,SAASC,CAAK,CAAE,CACvB,...,YAAYF,CAAI\",\n  \"names\": [\n    \"main\",\n    \"greet\",\n    \"hello\"\n  ],\n  \"sources\": [\n    \"demo.js\"\n  ],\n  \"version\": 3\n}\n</span><span class=\"nb\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">stream_m</span><span class=\"o\">.</span><span class=\"n\">getvalue</span><span class=\"p\">())</span>\n<span class=\"go\">var a=function(b){var a=\"hello \"+b;return a;};console.log(a('world'));</span>\n</pre>\n<p>A high level API for working with named streams (i.e. opened files, or\nstream objects like <tt>io.StringIO</tt> assigned with a name attribute) is\nprovided by the <tt>read</tt> and <tt>write</tt> functions from <tt>io</tt> module.\nThe following example shows how to use the function to read from a\nstream and write out the relevant items back out to the write only\nstreams:</p>\n<pre><span class=\"kn\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse</span> <span class=\"kn\">import</span> <span class=\"n\">io</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">h4_program_src</span> <span class=\"o\">=</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'/tmp/html4.js'</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">h4_program_min</span> <span class=\"o\">=</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'/tmp/html4.min.js'</span><span class=\"p\">,</span> <span class=\"s1\">'w+'</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">h4_program_map</span> <span class=\"o\">=</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'/tmp/html4.min.js.map'</span><span class=\"p\">,</span> <span class=\"s1\">'w+'</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">h4_program</span> <span class=\"o\">=</span> <span class=\"n\">io</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"n\">es5</span><span class=\"p\">,</span> <span class=\"n\">h4_program_src</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">h4_program</span><span class=\"p\">)</span>\n<span class=\"go\">var bold = function(s) {\n  return '&lt;b&gt;' + s + '&lt;/b&gt;';\n};\nvar italics = function(s) {\n  return '&lt;i&gt;' + s + '&lt;/i&gt;';\n};\n</span><span class=\"n\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">io</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">print_m</span><span class=\"p\">,</span> <span class=\"n\">h4_program</span><span class=\"p\">,</span> <span class=\"n\">h4_program_min</span><span class=\"p\">,</span> <span class=\"n\">h4_program_map</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pos</span> <span class=\"o\">=</span> <span class=\"n\">h4_program_map</span><span class=\"o\">.</span><span class=\"n\">seek</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">h4_program_map</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">())</span>\n<span class=\"go\">{\"file\": \"html4.min.js\", \"mappings\": ..., \"version\": 3}\n</span><span class=\"n\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pos</span> <span class=\"o\">=</span> <span class=\"n\">h4_program_min</span><span class=\"o\">.</span><span class=\"n\">seek</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">h4_program_min</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">())</span>\n<span class=\"go\">var b=function(a){return'&lt;b&gt;'+a+'&lt;/b&gt;';};var a=function(a){...};\n//# sourceMappingURL=html4.min.js.map</span>\n</pre>\n<p>For a simple concatenation of multiple sources into one file, along with\ninline source map (i.e. where the sourceMappingURL is a <tt>data:</tt> URL of\nthe base64 encoding of the JSON string), the following may be done:</p>\n<pre><span class=\"n\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">files</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'/tmp/html4.js'</span><span class=\"p\">),</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'/tmp/legacy.js'</span><span class=\"p\">)]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">combined</span> <span class=\"o\">=</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'/tmp/combined.js'</span><span class=\"p\">,</span> <span class=\"s1\">'w+'</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">io</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">print_p</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">io</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"n\">es5</span><span class=\"p\">,</span> <span class=\"n\">f</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">f</span> <span class=\"ow\">in</span> <span class=\"n\">files</span><span class=\"p\">),</span> <span class=\"n\">combined</span><span class=\"p\">,</span> <span class=\"n\">combined</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pos</span> <span class=\"o\">=</span> <span class=\"n\">combined</span><span class=\"o\">.</span><span class=\"n\">seek</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">combined</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">())</span>\n<span class=\"go\">var bold = function(s) {\n    return '&lt;b&gt;' + s + '&lt;/b&gt;';\n};\nvar italics = function(s) {\n    return '&lt;i&gt;' + s + '&lt;/i&gt;';\n};\nvar marquee = function(s) {\n    return '&lt;marquee&gt;' + s + '&lt;/marquee&gt;';\n};\nvar blink = function(s) {\n    return '&lt;blink&gt;' + s + '&lt;/blink&gt;';\n};\n//# sourceMappingURL=data:application/json;base64;...</span>\n</pre>\n<p>In this example, the <tt>io.write</tt> function was provided with the pretty\nunparser, an generator expression that will produce the two ASTs from\nthe two source files, and then both the target and sourcemap argument\nare identical, which forces the source map generator to generate the\nbase64 encoding.</p>\n<p>Do note that if multiple ASTs were supplied to a minifying printer with\nglobals being obfuscated, the resulting script will have the earlier\nobfuscated global names mangled by later ones, as the unparsing is done\nseparately by the <tt>io.write</tt> function.</p>\n</div>\n</div>\n<div id=\"advanced-usage\">\n<h3>Advanced usage</h3>\n<div id=\"lower-level-unparsing-api\">\n<h4>Lower level unparsing API</h4>\n<p>Naturally, the printers demonstrated previously are constructed using\nthe underlying Unparser class, which in turn bridges together the walk\nfunction and the Dispatcher class found in the walker module.  The walk\nfunction walks through the AST node with an instance of the Dispatcher\nclass, which provides a description of all node types for the particular\ntype of AST node provided, along with the relevant handlers.  These\nhandlers can be set up using existing rule provider functions.  For\ninstance, a printer for obfuscating identifier names while maintaining\nindentation for the output of an ES5 AST can be constructed like so:</p>\n<pre><span class=\"kn\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.unparsers.es5</span> <span class=\"kn\">import</span> <span class=\"n\">Unparser</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.rules</span> <span class=\"kn\">import</span> <span class=\"n\">indent</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.rules</span> <span class=\"kn\">import</span> <span class=\"n\">obfuscate</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pretty_obfuscate</span> <span class=\"o\">=</span> <span class=\"n\">Unparser</span><span class=\"p\">(</span><span class=\"n\">rules</span><span class=\"o\">=</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"c1\"># note that indent must come after, so that the whitespace</span>\n<span class=\"gp\">... </span>    <span class=\"c1\"># handling rules by indent will shadow over the minimum set</span>\n<span class=\"gp\">... </span>    <span class=\"c1\"># provided by obfuscate.</span>\n<span class=\"gp\">... </span>    <span class=\"n\">obfuscate</span><span class=\"p\">(</span><span class=\"n\">obfuscate_globals</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>    <span class=\"n\">indent</span><span class=\"p\">(</span><span class=\"n\">indent_str</span><span class=\"o\">=</span><span class=\"s1\">'    '</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">math_module</span> <span class=\"o\">=</span> <span class=\"n\">es5</span><span class=\"p\">(</span><span class=\"sa\">u</span><span class=\"s1\">'''\n</span><span class=\"gp\">... </span><span class=\"s1\">(function(root) {\n</span><span class=\"gp\">... </span><span class=\"s1\">  var fibonacci = function(count) {\n</span><span class=\"gp\">... </span><span class=\"s1\">    if (count &lt; 2)\n</span><span class=\"gp\">... </span><span class=\"s1\">      return count;\n</span><span class=\"gp\">... </span><span class=\"s1\">    else\n</span><span class=\"gp\">... </span><span class=\"s1\">      return fibonacci(count - 1) + fibonacci(count - 2);\n</span><span class=\"gp\">... </span><span class=\"s1\">  };\n</span><span class=\"gp\">...</span><span class=\"s1\">\n</span><span class=\"gp\">... </span><span class=\"s1\">  var factorial = function(n) {\n</span><span class=\"gp\">... </span><span class=\"s1\">    if (n &lt; 1)\n</span><span class=\"gp\">... </span><span class=\"s1\">      throw new Error('factorial where n &lt; 1 not supported');\n</span><span class=\"gp\">... </span><span class=\"s1\">    else if (n == 1)\n</span><span class=\"gp\">... </span><span class=\"s1\">      return 1;\n</span><span class=\"gp\">... </span><span class=\"s1\">    else\n</span><span class=\"gp\">... </span><span class=\"s1\">      return n * factorial(n - 1);\n</span><span class=\"gp\">... </span><span class=\"s1\">  }\n</span><span class=\"gp\">...</span><span class=\"s1\">\n</span><span class=\"gp\">... </span><span class=\"s1\">  root.fibonacci = fibonacci;\n</span><span class=\"gp\">... </span><span class=\"s1\">  root.factorial = factorial;\n</span><span class=\"gp\">... </span><span class=\"s1\">})(window);\n</span><span class=\"gp\">...</span><span class=\"s1\">\n</span><span class=\"gp\">... </span><span class=\"s1\">var value = window.factorial(5) / window.fibonacci(5);\n</span><span class=\"gp\">... </span><span class=\"s1\">console.log('the value is ' + value);\n</span><span class=\"gp\">... </span><span class=\"s1\">'''</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">text</span> <span class=\"k\">for</span> <span class=\"n\">c</span> <span class=\"ow\">in</span> <span class=\"n\">pretty_obfuscate</span><span class=\"p\">(</span><span class=\"n\">math_module</span><span class=\"p\">)))</span>\n<span class=\"go\">(function(b) {\n    var a = function(b) {\n        if (b &lt; 2) return b;\n        else return a(b - 1) + a(b - 2);\n    };\n    var c = function(a) {\n        if (a &lt; 1) throw new Error('factorial where n &lt; 1 not supported');\n        else if (a == 1) return 1;\n        else return a * c(a - 1);\n    };\n    b.fibonacci = a;\n    b.factorial = c;\n})(window);\nvar value = window.factorial(5) / window.fibonacci(5);\nconsole.log('the value is ' + value);</span>\n</pre>\n<p>Each of the rules (functions) have specific options that are set using\nspecific keyword arguments, details are documented in their respective\ndocstrings.</p>\n</div>\n<div id=\"tree-walking\">\n<h4>Tree walking</h4>\n<p>AST (Abstract Syntax Tree) generic walker classes are defined under the\nappropriate named modules <tt>calmjs.parse.walkers</tt>.  Two default walker\nclasses are supplied.  One of them is the <tt>ReprWalker</tt> class which was\npreviously demonstrated.  The other is the <tt>Walker</tt> class, which\nsupplies a collection of generic tree walking methods for a tree of AST\nnodes.  The following is an example usage on how one might extract all\nObject assignments from a given script file:</p>\n<pre><span class=\"kn\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse</span> <span class=\"kn\">import</span> <span class=\"n\">es5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.asttypes</span> <span class=\"kn\">import</span> <span class=\"n\">Object</span><span class=\"p\">,</span> <span class=\"n\">VarDecl</span><span class=\"p\">,</span> <span class=\"n\">FunctionCall</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.walkers</span> <span class=\"kn\">import</span> <span class=\"n\">Walker</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">walker</span> <span class=\"o\">=</span> <span class=\"n\">Walker</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">declarations</span> <span class=\"o\">=</span> <span class=\"n\">es5</span><span class=\"p\">(</span><span class=\"sa\">u</span><span class=\"s1\">'''\n</span><span class=\"gp\">... </span><span class=\"s1\">var i = 1;\n</span><span class=\"gp\">... </span><span class=\"s1\">var s = {\n</span><span class=\"gp\">... </span><span class=\"s1\">    a: \"test\",\n</span><span class=\"gp\">... </span><span class=\"s1\">    o: {\n</span><span class=\"gp\">... </span><span class=\"s1\">        v: \"value\"\n</span><span class=\"gp\">... </span><span class=\"s1\">    }\n</span><span class=\"gp\">... </span><span class=\"s1\">};\n</span><span class=\"gp\">... </span><span class=\"s1\">foo({foo: \"bar\"});\n</span><span class=\"gp\">... </span><span class=\"s1\">function bar() {\n</span><span class=\"gp\">... </span><span class=\"s1\">    var t = {\n</span><span class=\"gp\">... </span><span class=\"s1\">        foo: \"bar\",\n</span><span class=\"gp\">... </span><span class=\"s1\">    };\n</span><span class=\"gp\">... </span><span class=\"s1\">    return t;\n</span><span class=\"gp\">... </span><span class=\"s1\">}\n</span><span class=\"gp\">... </span><span class=\"s1\">foo.bar = bar;\n</span><span class=\"gp\">... </span><span class=\"s1\">foo.bar();\n</span><span class=\"gp\">... </span><span class=\"s1\">'''</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># print out the object nodes that were part of some assignments</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">node</span> <span class=\"ow\">in</span> <span class=\"n\">walker</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">declarations</span><span class=\"p\">,</span> <span class=\"k\">lambda</span> <span class=\"n\">node</span><span class=\"p\">:</span> <span class=\"p\">(</span>\n<span class=\"gp\">... </span>        <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">,</span> <span class=\"n\">VarDecl</span><span class=\"p\">)</span> <span class=\"ow\">and</span>\n<span class=\"gp\">... </span>        <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"o\">.</span><span class=\"n\">initializer</span><span class=\"p\">,</span> <span class=\"n\">Object</span><span class=\"p\">))):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"o\">.</span><span class=\"n\">initializer</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">{\n  a: \"test\",\n  o: {\n    v: \"value\"\n  }\n}\n{\n  foo: \"bar\"\n}\n</span><span class=\"c1\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># print out all function calls</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">node</span> <span class=\"ow\">in</span> <span class=\"n\">walker</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">declarations</span><span class=\"p\">,</span> <span class=\"k\">lambda</span> <span class=\"n\">node</span><span class=\"p\">:</span> <span class=\"p\">(</span>\n<span class=\"gp\">... </span>        <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">,</span> <span class=\"n\">FunctionCall</span><span class=\"p\">))):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"o\">.</span><span class=\"n\">identifier</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">foo\nfoo.bar</span>\n</pre>\n<p>Further details and example usage can be consulted from the various\ndocstrings found within the module.</p>\n</div>\n</div>\n<div id=\"limitations\">\n<h3>Limitations</h3>\n<h3 id=\"comments-currently-may-be-incomplete\"><span class=\"section-subtitle\">Comments currently may be incomplete</span></h3>\n<p>Due to the implementation of the lexer/parser along with how the ast\nnode types have been implemented, there are restrictions on where the\ncomments may be exposed if enabled.  Currently, such limitations exists\nfor nodes that are created by production rules that consume multiple\nlexer tokens at once - only comments preceding the first token will be\ncaptured, with all remaining comments discarded.</p>\n<p>For example, this limitation means that any comments before the <tt>else</tt>\ntoken will be omitted (as the comment will be provided by the <tt>if</tt>\ntoken), as the production rule for an <tt>If</tt> node consumes both these\ntokens and the node as implemented only provides a single slot for\ncomments.  Likewise, any comments before the <tt>:</tt> token in a ternary\nstatement will also be discarded as that is the second token consumed\nby the production rule that produces a <tt>Conditional</tt> node.</p>\n</div>\n<div id=\"troubleshooting\">\n<h3>Troubleshooting</h3>\n<div id=\"instantiation-of-parser-classes-fails-with-unicodeencodeerror\">\n<h4>Instantiation of parser classes fails with <tt>UnicodeEncodeError</tt></h4>\n<p>For platforms or systems that do not have utf8 configured as the default\nencoding, the automatic table generation may fail when constructing a\nparser instance.  An example:</p>\n<pre><span class=\"kn\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">calmjs.parse.parsers</span> <span class=\"kn\">import</span> <span class=\"n\">es5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">parser</span> <span class=\"o\">=</span> <span class=\"n\">es5</span><span class=\"o\">.</span><span class=\"n\">Parser</span><span class=\"p\">()</span>\n<span class=\"gt\">Traceback (most recent call last):\n</span>  <span class=\"c\">...</span>\n  File <span class=\"nb\">\"c:\\python35\\....\\ply\\lex.py\"</span>, line <span class=\"m\">1043</span>, in <span class=\"n\">lex</span>\n    <span class=\"n\">lexobj</span><span class=\"o\">.</span><span class=\"n\">writetab</span><span class=\"p\">(</span><span class=\"n\">lextab</span><span class=\"p\">,</span> <span class=\"n\">outputdir</span><span class=\"p\">)</span>\n  File <span class=\"nb\">\"c:\\python35\\....\\ply\\lex.py\"</span>, line <span class=\"m\">195</span>, in <span class=\"n\">writetab</span>\n    <span class=\"n\">tf</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s1\">'_lexstatere   = </span><span class=\"si\">%s</span><span class=\"se\">\\n</span><span class=\"s1\">'</span> <span class=\"o\">%</span> <span class=\"nb\">repr</span><span class=\"p\">(</span><span class=\"n\">tabre</span><span class=\"p\">))</span>\n  File <span class=\"nb\">\"c:\\python35\\lib\\encodings\\cp1252.py\"</span>, line <span class=\"m\">19</span>, in <span class=\"n\">encode</span>\n    <span class=\"k\">return</span> <span class=\"n\">codecs</span><span class=\"o\">.</span><span class=\"n\">charmap_encode</span><span class=\"p\">(</span><span class=\"nb\">input</span><span class=\"p\">,</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">errors</span><span class=\"p\">,</span><span class=\"n\">encoding_table</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"gr\">UnicodeEncodeError</span>: <span class=\"n\">'charmap' codec can't encode character '\\u02c1' ...</span>\n</pre>\n<p>A workaround helper script is provided, it may be executed like so:</p>\n<pre><span class=\"gp\">$</span> python -m calmjs.parse.parsers.optimize\n</pre>\n<p>Further details on this topic may be found in the <a href=\"#manual-optimization\" rel=\"nofollow\">manual optimization</a>\nsection of this document.</p>\n</div>\n<div id=\"slow-performance\">\n<h4>Slow performance</h4>\n<p>As this program is basically fully decomposed into very small functions,\nthis result in massive performance penalties as compared to other\nimplementations due to function calls being one of the most expensive\noperations in Python.  It may be possible to further optimize the\ndefinitions within the description in the Dispatcher by combining all\nthe resolved generator functions for each asttype Node type, however\nthis will may require both the token and layout functions not having\narguments with name collisions, and the new function will take in all\nof those arguments in one go.</p>\n</div>\n</div>\n<div id=\"contribute\">\n<h3>Contribute</h3>\n<ul>\n<li>Issue Tracker: <a href=\"https://github.com/calmjs/calmjs.parse/issues\" rel=\"nofollow\">https://github.com/calmjs/calmjs.parse/issues</a></li>\n<li>Source Code: <a href=\"https://github.com/calmjs/calmjs.parse\" rel=\"nofollow\">https://github.com/calmjs/calmjs.parse</a></li>\n</ul>\n</div>\n<div id=\"legal\">\n<h3>Legal</h3>\n<p>The <tt>calmjs.parse</tt> package is copyright (c) 2017 Auckland Bioengineering\nInstitute, University of Auckland.  The <tt>calmjs.parse</tt> package is\nlicensed under the MIT license (specifically, the Expat License), which\nis also the same license that the package <tt>slimit</tt> was released under.</p>\n<p>The lexer, parser and the other types definitions portions were\noriginally imported from the <tt>slimit</tt> package; <tt>slimit</tt> is copyright (c)\nRuslan Spivak.</p>\n<p>The Calmjs project is copyright (c) 2017 Auckland Bioengineering\nInstitute, University of Auckland.</p>\n</div>\n</div>\n<div id=\"changelog\">\n<h2>Changelog</h2>\n<div id=\"id1\">\n<h3>1.2.4 - 2020-03-17</h3>\n<ul>\n<li>Correct usage of <tt>__doc__</tt> to support level 2 optimized mode.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/29\" rel=\"nofollow\">#29</a>\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/30\" rel=\"nofollow\">#30</a>\n]</li>\n<li>Corrected some minor string definition syntax, where raw string prefix\nshould be used but was not previously.</li>\n</ul>\n</div>\n<div id=\"id4\">\n<h3>1.2.2 - 2020-01-18</h3>\n<ul>\n<li>Correctly include LICENSE file in sdist.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/27\" rel=\"nofollow\">#27</a>\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/28\" rel=\"nofollow\">#28</a>\n]</li>\n<li>Include the correct test data general form for some previously added\ntest cases to better accommodate already planned future features.</li>\n</ul>\n</div>\n<div id=\"id7\">\n<h3>1.2.1 - 2019-11-21</h3>\n<ul>\n<li>Fix the issue of failures with regex statement that occur due to lexer\nbeing in a state where the disambiguation between REGEX or DIV token\ntypes is not immediately possible, as tokens such as RBRACE, PLUSPLUS\nor MINUSMINUS must be consumed by parser in order to be disambiguated,\nbut due to the lookahead nature done by yacc, the DIV token will be\nprematurely produced and the only way to achieve this is during the\nerror handling stage.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/25\" rel=\"nofollow\">#25</a>\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/26\" rel=\"nofollow\">#26</a>\n]</li>\n<li>Part of the previous fix also removed newline or comment tokens from\nbeing reported as part of parsing error messages.</li>\n</ul>\n</div>\n<div id=\"id10\">\n<h3>1.2.0 - 2019-08-15</h3>\n<ul>\n<li>Partial support for parsing of comments.  Currently not all comments\nwill be captured during parsing, due to the desire to simplify access\nof them through the <tt>asttypes.Node</tt> instances with the generic\n<tt>comments</tt> attribute provided by it.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/24\" rel=\"nofollow\">#24</a>\n]<ul>\n<li>Enabled by passing <tt>with_comments=True</tt> to the parser..</li>\n<li>The limitation lies in the fact that if a node has multiple token\nslots (e.g. <tt><span class=\"pre\">if...else</span></tt>), the comments that lie immediate before\nthe first will be captured, while the comments that lie immediate to\nthe subsequent ones will be omitted.  The fix would involve\nproviding a full syntax tree node types, and that the parser rules\nwould need to be implemented in a more amenable manner such that the\ngeneration of such could be done.</li>\n<li>All comments that lie immediately before the node are accessible\nusing the <tt>comments</tt> attribute.</li>\n<li>These comments nodes will not be yielded via the children() method.</li>\n<li>Various features and methods have been updated to account for\ncomments.  Notably, sourcemap generation will be able to deal with\nsource fragments that contain newlines provided that both colno and\nlineno are provided.</li>\n</ul>\n</li>\n<li>Correctly fail on incorrect hexadecimal/unicode escape sequences while\nreporting the specific character location; also report on the starting\nposition of an unterminated string literal.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/23\" rel=\"nofollow\">#23</a>\n]</li>\n</ul>\n</div>\n<div id=\"id13\">\n<h3>1.1.3 - 2018-11-08</h3>\n<ul>\n<li>Correct issues with certain non-optional spaces being omitted for the\nminify print cases, which caused malformed outputs.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/22\" rel=\"nofollow\">#22</a>\n]</li>\n</ul>\n</div>\n<div id=\"id15\">\n<h3>1.1.2 - 2018-08-20</h3>\n<ul>\n<li>Default repr on synthetic nodes or nodes without column or row number\nassigned should no longer error.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/20\" rel=\"nofollow\">#20</a>\n]</li>\n<li>The same line terminator regex introduced in 1.1.0 used for line\ncontinuation in strings now applied to the line terminator pattern to\nthe lexer, such that the line numbering is corrected for the Windows\nspecific &lt;CR&gt;&lt;LF&gt; sequence.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/21\" rel=\"nofollow\">#21</a>\n]</li>\n</ul>\n</div>\n<div id=\"id18\">\n<h3>1.1.1 - 2018-08-11</h3>\n<ul>\n<li>Ensure that the accounting of layout rule chunks is done correctly in\nthe case where layout handlers specified a tuple of layout rules for\ncombined handling.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/19\" rel=\"nofollow\">#19</a>\n]<ul>\n<li>The issue caused by this error manifest severely in the case where\nmultiple layout rule tokens are produced in a manner that repeats\na pattern that also have a layout handler rule for them, which\ndoes not typically happen for normal code with the standard printers\n(as layout chunks are many and they generally do not result in a\nrepeated pattern that gets consumed).  However this is severely\nmanifested in the case of minified output with semicolons dropped,\nas that basically guarantee that any series of closing blocks that\nfit the pattern to be simply dropped.</li>\n</ul>\n</li>\n</ul>\n</div>\n<div id=\"id20\">\n<h3>1.1.0 - 2018-08-07</h3>\n<ul>\n<li>Correct the implementation of line continuation in strings.  This also\nmeant a change in the minify unparser so that it will continue to\nremove the line continuation sequences.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/16\" rel=\"nofollow\">#16</a>\n]</li>\n<li>Correct the implementation of ASI (automatic semicolon insertion) by\nintroducing a dedicated token type, such that the production of\nempty statement can no longer happen and that distinguishes it from\nproduction of statements that should not have ASI applied, such that\nincorrectly successful parsing due to this issue will no longer\nresult.  [\n<a href=\"https://github.com/calmjs/calmjs.parse/issues/18\" rel=\"nofollow\">#18</a>\n<a href=\"https://github.com/rspivak/slimit/issues/29\" rel=\"nofollow\">rspivak/slimit#29</a>\n<a href=\"https://github.com/rspivak/slimit/issues/101\" rel=\"nofollow\">rspivak/slimit#101</a>\n]</li>\n</ul>\n</div>\n<div id=\"id23\">\n<h3>1.0.1 - 2018-04-19</h3>\n<ul>\n<li>Ensure that the es5 Unparser pass on the prewalk_hooks argument in\nits constructor.</li>\n<li>Minor packaging fixes; also include optimization modules for ply-3.11.</li>\n</ul>\n</div>\n<div id=\"id24\">\n<h3>1.0.0 - 2017-09-26</h3>\n<p>Full support for sourcemaps; changes that make it possible follows:</p>\n<ul>\n<li>High level read/write functionality provided by a new <tt>io</tt> module.</li>\n<li>There is now a <tt>Deferrable</tt> rule type for marking certain Tokens\nthat need extra handling.  The support for this has changed the\nvarious API that deals with setting up of this.</li>\n<li>For support of the sourcemap generation, a number of new ruletypes\nhave been added.</li>\n<li>The sourcemap write function had its argument order modified to\nbetter support the sourcepath tracking feature of input Nodes.  Its\nreturn value also now match the ordering of the encode_sourcemap\nfunction.</li>\n<li>The chunk types in ruletypes have been renamed, and also a new type\ncalled StreamFragment is introduced, so that multiple sources output\nto a single stream can be properly tracked by the source mapping\nprocesses.</li>\n<li><a href=\"https://github.com/rspivak/slimit/issues/66\" rel=\"nofollow\">rspivak/slimit#66</a>\nshould be fully supported now.</li>\n</ul>\n<p>Minify printer now has ability to shorten/obfuscate identifiers:</p>\n<ul>\n<li>Provide a name obfuscation function for shortening identifiers, to\nfurther achieve minified output.  Note that this does not yet fully\nachieve the level of minification <tt>slimit</tt> had; future versions\nmay implement this functionality as various AST transformations.</li>\n<li>Also provided ability to drop unneeded semicolons.</li>\n</ul>\n<p>Other significant changes:</p>\n<ul>\n<li><p>Various changes to internal class and function names for the 1.0.0\nrelease.  A non exhaustive listing of changes to modules relative to\nthe root of this package name as compared to previous major release\nfollows:</p>\n<dl>\n<dt><tt>asttypes</tt></dt>\n<dd><ul>\n<li>All <tt>slimit</tt> compatibility features removed.</li>\n<li><tt>Switch</tt> (the incorrect version) removed.</li>\n<li><tt>SwitchStatement</tt> -&gt; <tt>Switch</tt></li>\n<li><tt>SetPropAssign</tt> constructor: <tt>parameters</tt> -&gt; <tt>parameter</tt></li>\n<li><tt>UnaryOp</tt> -&gt; <tt>UnaryExpr</tt></li>\n<li>Other general deprecated features also removed.</li>\n</ul>\n</dd>\n<dt><tt>factory</tt></dt>\n<dd><ul>\n<li><tt>Factory</tt> -&gt; <tt>SRFactory</tt></li>\n</ul>\n</dd>\n<dt><tt>visitors</tt></dt>\n<dd><ul>\n<li>Removed (details follow).</li>\n</ul>\n</dd>\n<dt><tt>walkers</tt></dt>\n<dd><ul>\n<li><tt>visitors.generic.ReprVisitor</tt> -&gt; <tt>walkers.ReprWalker</tt></li>\n</ul>\n</dd>\n<dt><tt>layouts</tt></dt>\n<dd><ul>\n<li>Module was split and reorganised; the simple base ones can be\nfound in <tt>handlers.core</tt>, the indentation related features are\nnow in <tt>handlers.indentation</tt>.</li>\n</ul>\n</dd>\n<dt><tt>unparsers.base</tt></dt>\n<dd><ul>\n<li><tt>.default_layout_handlers</tt> -&gt; <tt>handlers.core.default_rules</tt></li>\n<li><tt>.minimum_layout_handlers</tt> -&gt; <tt>handlers.core.minimum_rules</tt></li>\n</ul>\n</dd>\n<dt><tt>unparsers.prettyprint</tt></dt>\n<dd><ul>\n<li>Renamed to <tt>unparsers.walker</tt>.</li>\n<li>The implementation was actually standard tree walking, no\ncorrectly implemented visitor functions/classes were ever present.</li>\n</ul>\n</dd>\n<dt><tt>vlq</tt></dt>\n<dd><ul>\n<li><tt>.create_sourcemap</tt> -&gt; <tt>sourcemap.create_sourcemap</tt></li>\n</ul>\n</dd>\n</dl>\n</li>\n<li><p>Broke up the visitors class as they weren\u2019t really visitors as\ndescribed.  The new implementations (calmjs.parse-0.9.0) were really\nwalkers, so move them to that name and leave it at that.  Methods\nwere also renamed to better reflect their implementation and purpose.</p>\n</li>\n<li><p>Many slimit compatibility modules, classes and incorrectly implemented\nfunctionalities removed.</p>\n</li>\n<li><p>The usage of the Python 3 <tt>str</tt> type (<tt>unicode</tt> in Python 2) is\nnow enforced for the parser, to avoid various failure cases where\nmismatch types occur.</p>\n</li>\n<li><p>The base Node asttype has a sourcepath attribute which is to be used\nfor tracking the original source of the node; if assigned, all its\nsubnodes without sourcepath defined should be treated as from that\nsource.</p>\n</li>\n<li><p>Also provide an even higher level function for usage with streams\nthrough the <tt>calmjs.parse.io</tt> module.</p>\n</li>\n<li><p>Semicolons and braces added as structures to be rendered.</p>\n</li>\n</ul>\n<p>Bug fixes:</p>\n<ul>\n<li>Functions starting with a non-word character will now always have a\nwhitespace rendered before it to avoid syntax error.</li>\n<li>Correct an incorrect iterator usage in the walk function.</li>\n<li>Ensure List separators don\u2019t use the rowcol positions of a subsequent\nElision node.</li>\n<li>Lexer will only report real lexer tokens on errors (ASI generated\ntokens are now dropped as they don\u2019t exist in the original source\nwhich results in confusing rowcol reporting).</li>\n<li><a href=\"https://github.com/rspivak/slimit/issues/57\" rel=\"nofollow\">rspivak/slimit#57</a>,\nas it turns out <tt>'\\0'</tt> is not considered to be octal, but is a &lt;NUL&gt;\ncharacter, which the rule to parse was not actually included in the\nlexer patches that were pulled in previous to this version.</li>\n<li><a href=\"https://github.com/rspivak/slimit/issues/75\" rel=\"nofollow\">rspivak/slimit#75</a>,\nOption for shadowing of names of named closures, which is now disabled\nby default (obfuscated named closures will not be shadowed by other\nobfuscated names in children).</li>\n<li>Expressions can no longer contain an unnamed function.</li>\n</ul>\n</div>\n<div id=\"id25\">\n<h3>0.10.1 - 2017-08-26</h3>\n<ul>\n<li>Corrected the line number reporting for the lexer, and correct the\npropagation of that to the parser and the Node subclasses.  Fixes the\nincorrect implementation added by <a href=\"https://github.com/moses-palmer/slimit/commit/8f9a39c7769\" rel=\"nofollow\">moses-palmer/slimit@8f9a39c7769</a> (where\nthe line numbers are tabulated incorrectly when comments are present,\nand also the yacc tracking added by <a href=\"https://github.com/moses-palmer/slimit/commit/6aa92d68e0\" rel=\"nofollow\">moses-palmer/slimit@6aa92d68e0</a> (where\nthe custom lexer class does not provide the position attributes\nrequired by ply).</li>\n<li>Implemented bookkeeping of column numbers.</li>\n<li>Made other various changes to AST but for compatibility reasons (to\nnot force a major semver bump) they are only enabled with a flag to\nthe ES5 parser.</li>\n<li>Corrected a fault with how switch/case statements are handled in a way\nthat may break compatibility; fixes are only enabled when flagged.\n<a href=\"https://github.com/rspivak/slimit/issues/94\" rel=\"nofollow\">rspivak/slimit#94</a></li>\n<li>The repr form of Node now shows the line/col number info by default;\nthe visit method of the ReprVisitor class have not been changed, only\nthe invocation of it via the callable form has as that is the call\ntarget for __repr__.  This is a good time to mention that named\nmethods afford the most control for usage as documented already.</li>\n<li>Parsers now accept an asttypes module during its construction.</li>\n<li>Provide support for source map generation classes.</li>\n<li>Introduced a flexible visitor function/state class that accepts a\ndefinition of rules for the generation of chunk tuples that are\ncompatible for the source map generation.  A new way for pretty\nprinting and minification can be achieved using this module.</li>\n</ul>\n</div>\n<div id=\"id26\">\n<h3>0.9.0 - 2017-06-09</h3>\n<ul>\n<li>Initial release of the fork of <tt>slimit.parser</tt> and its parent\nmodules as <tt>calmjs.parse</tt>.</li>\n<li>This release brings in a number of bug fixes that were available via\nother forks of <tt>slimit</tt>, with modifications or even a complete\nrevamp.</li>\n<li>Issues addressed includes:<ul>\n<li><a href=\"https://github.com/rspivak/slimit/issues/52\" rel=\"nofollow\">rspivak/slimit#52</a>,\n<a href=\"https://github.com/rspivak/slimit/issues/59\" rel=\"nofollow\">rspivak/slimit#59</a>,\n<a href=\"https://github.com/rspivak/slimit/issues/81\" rel=\"nofollow\">rspivak/slimit#81</a>,\n<a href=\"https://github.com/rspivak/slimit/issues/90\" rel=\"nofollow\">rspivak/slimit#90</a>\n(relating to conformance of ecma-262 7.6 identifier names)</li>\n<li><a href=\"https://github.com/rspivak/slimit/issues/54\" rel=\"nofollow\">rspivak/slimit#54</a>\n(fixed by tracking scope and executable current token in lexer)</li>\n<li><a href=\"https://github.com/rspivak/slimit/issues/57\" rel=\"nofollow\">rspivak/slimit#57</a>,\n<a href=\"https://github.com/rspivak/slimit/issues/70\" rel=\"nofollow\">rspivak/slimit#70</a>\n(octal encoding (e.g 0), from <a href=\"https://github.com/redapple/slimit/commit/a93204577f\" rel=\"nofollow\">redapple/slimit@a93204577f</a>)</li>\n<li><a href=\"https://github.com/rspivak/slimit/issues/62\" rel=\"nofollow\">rspivak/slimit#62</a>\n(formalized into a unittest that passed)</li>\n<li><a href=\"https://github.com/rspivak/slimit/issues/73\" rel=\"nofollow\">rspivak/slimit#73</a>\n(specifically the desire for a better repr; the minifier bits are\nnot relevant to this package)</li>\n<li><a href=\"https://github.com/rspivak/slimit/pull/79\" rel=\"nofollow\">rspivak/slimit#79</a>\n(tab module handling was completely reimplemented)</li>\n<li><a href=\"https://github.com/rspivak/slimit/issues/82\" rel=\"nofollow\">rspivak/slimit#82</a>\n(formalized into a unittest that passed)</li>\n</ul>\n</li>\n<li>Include various changes gathered by <a href=\"https://github.com/rspivak/slimit/pull/65\" rel=\"nofollow\">rspivak/slimit#65</a>, which may be the source\nof some of the fixes listed above.</li>\n</ul>\n</div>\n</div>\n\n          </div>"}, "last_serial": 6827634, "releases": {"0.10.0": [{"comment_text": "", "digests": {"md5": "578f3451d6fe4b4174e4eafc115ee430", "sha256": "fa1a77001fce9895ec4471c8554a5d7720692c201b1100a277dd45cfb1f23129"}, "downloads": -1, "filename": "calmjs.parse-0.10.0-py3-none-any.whl", "has_sig": false, "md5_digest": "578f3451d6fe4b4174e4eafc115ee430", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 316842, "upload_time": "2017-08-26T07:47:29", "upload_time_iso_8601": "2017-08-26T07:47:29.174043Z", "url": "https://files.pythonhosted.org/packages/99/c6/20189862e9a1dfa6502e04a61efe2a24aa52ec30373b463c1a0ab94cba5c/calmjs.parse-0.10.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8ade57c1ca2fc4f5c7edb873a52ac1ba", "sha256": "0fc7026fcd4499162d1f4460030bbb05298d1817ac293669752d038f434f63e3"}, "downloads": -1, "filename": "calmjs.parse-0.10.0.zip", "has_sig": false, "md5_digest": "8ade57c1ca2fc4f5c7edb873a52ac1ba", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 119072, "upload_time": "2017-08-26T07:47:33", "upload_time_iso_8601": "2017-08-26T07:47:33.415603Z", "url": "https://files.pythonhosted.org/packages/d2/96/b84f2988d7e34aa797baf4c0c0f2439e8ffea173ce5cc4cc7055fac69459/calmjs.parse-0.10.0.zip", "yanked": false}], "0.10.1": [{"comment_text": "", "digests": {"md5": "b9069bc63b1d3d4da58e962598c2bcb5", "sha256": "73ba3c207865357811989a796bcb2f6849a3a50dafc4829fb0ae9b92f1a39e48"}, "downloads": -1, "filename": "calmjs.parse-0.10.1-py3-none-any.whl", "has_sig": false, "md5_digest": "b9069bc63b1d3d4da58e962598c2bcb5", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 316833, "upload_time": "2017-08-26T08:07:52", "upload_time_iso_8601": "2017-08-26T08:07:52.316077Z", "url": "https://files.pythonhosted.org/packages/fc/9e/9e81173c8179b5aab5a6506828e147722d1d7be6caf0ca55ac01f6ac0624/calmjs.parse-0.10.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5672b2592d5fe923a2566c9508527ace", "sha256": "b5c3b4e75b2d41da33f8d4082f04ca72fc866d9529b13921184ee78d1fa50caa"}, "downloads": -1, "filename": "calmjs.parse-0.10.1.zip", "has_sig": false, "md5_digest": "5672b2592d5fe923a2566c9508527ace", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 119056, "upload_time": "2017-08-26T08:07:55", "upload_time_iso_8601": "2017-08-26T08:07:55.715845Z", "url": "https://files.pythonhosted.org/packages/c8/33/13471cfca7e025e7f4c707d006152a285d14b461732768d148c21967a78f/calmjs.parse-0.10.1.zip", "yanked": false}], "0.9.0": [{"comment_text": "", "digests": {"md5": "e7c57203d320a746c6594c51407cbe67", "sha256": "df48fa7dfdace3e918010587cfd3e1bf51f222054d818dda770a4c639cd37ac0"}, "downloads": -1, "filename": "calmjs.parse-0.9.0-py2-none-any.whl", "has_sig": false, "md5_digest": "e7c57203d320a746c6594c51407cbe67", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 170276, "upload_time": "2017-06-09T10:20:06", "upload_time_iso_8601": "2017-06-09T10:20:06.449802Z", "url": "https://files.pythonhosted.org/packages/38/ff/d87a5796de860991157898f30289c1da481b1d0d307bfce10ced28f15ddc/calmjs.parse-0.9.0-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "afc2b0a080368007fab05e11336770ca", "sha256": "fdc109c970afeda7bdf04f291019b52a6c0a8587913255143a529e554fb469e4"}, "downloads": -1, "filename": "calmjs.parse-0.9.0-py3-none-any.whl", "has_sig": false, "md5_digest": "afc2b0a080368007fab05e11336770ca", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 164012, "upload_time": "2017-06-09T10:20:10", "upload_time_iso_8601": "2017-06-09T10:20:10.203659Z", "url": "https://files.pythonhosted.org/packages/f9/73/4c4a1141070945d383128d1fe07a551fac74950e4277119c63a4ca44bf93/calmjs.parse-0.9.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1af890e080eb6f5685fc4543fb927573", "sha256": "6d0b2269c85d092f50fab74f6a4aae595d62307a2b7f8538b8f54194ae50547e"}, "downloads": -1, "filename": "calmjs.parse-0.9.0.zip", "has_sig": false, "md5_digest": "1af890e080eb6f5685fc4543fb927573", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 70891, "upload_time": "2017-06-09T10:20:13", "upload_time_iso_8601": "2017-06-09T10:20:13.365871Z", "url": "https://files.pythonhosted.org/packages/20/b6/b9fd4f727a3898796c1fa76fd707c1a5bddc31aad167968a85f8234b59af/calmjs.parse-0.9.0.zip", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "96818f8a150b1b06baa59b2474568764", "sha256": "df727b227cb799cac9cd0c07abf76968192a885c6acc9e5cc74ff4e391990179"}, "downloads": -1, "filename": "calmjs.parse-1.0.0-py2-none-any.whl", "has_sig": false, "md5_digest": "96818f8a150b1b06baa59b2474568764", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 249824, "upload_time": "2017-09-26T13:15:32", "upload_time_iso_8601": "2017-09-26T13:15:32.818477Z", "url": "https://files.pythonhosted.org/packages/6a/a6/9e13174046ca8de96ece8a1caaad13642b1f4295b6eb00640adb2f5a86de/calmjs.parse-1.0.0-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "df0b7eb9917e534e87bfac4f7f059320", "sha256": "8de08b9cb3c89987cd5e4699dba28d5318e6d4f25b2c072f15a60931cb609502"}, "downloads": -1, "filename": "calmjs.parse-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "df0b7eb9917e534e87bfac4f7f059320", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 243665, "upload_time": "2017-09-26T13:15:35", "upload_time_iso_8601": "2017-09-26T13:15:35.957226Z", "url": "https://files.pythonhosted.org/packages/57/2a/f9be500f2628897aad44f0bd3abd7e2e50584c5737bae21d02d36f4008b5/calmjs.parse-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "52475c4b933e6568f0de3436b70dd24d", "sha256": "d8f71b21b638bb9b146eb10c15d18ebe0aae0002fa43dbdd58f4fbf0eb246ebf"}, "downloads": -1, "filename": "calmjs.parse-1.0.0.zip", "has_sig": false, "md5_digest": "52475c4b933e6568f0de3436b70dd24d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 156988, "upload_time": "2017-09-26T13:15:38", "upload_time_iso_8601": "2017-09-26T13:15:38.637268Z", "url": "https://files.pythonhosted.org/packages/7b/f9/6de51a24db36df2c2f8fa00d682d0f59b1ff9f27be1fe8257191ee445f14/calmjs.parse-1.0.0.zip", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "b15d70493ee78d9441a9c9866838afbd", "sha256": "bb1326bf181775ceda8fa90ce68f2725b9f3d3909fd0577c7393c25a73840be6"}, "downloads": -1, "filename": "calmjs.parse-1.0.1-py2-none-any.whl", "has_sig": false, "md5_digest": "b15d70493ee78d9441a9c9866838afbd", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 267416, "upload_time": "2018-04-19T02:51:54", "upload_time_iso_8601": "2018-04-19T02:51:54.786840Z", "url": "https://files.pythonhosted.org/packages/a7/94/12fb5408f487ff381c28980e0b9089b8453b30a12661b377145b9f424357/calmjs.parse-1.0.1-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1b42a151a96fea8e5d524a4440a5aede", "sha256": "8ccfa995cb53fa63723693c7bc9e8d32123d6dce72f34ff9ffb769c20e258021"}, "downloads": -1, "filename": "calmjs.parse-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "1b42a151a96fea8e5d524a4440a5aede", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 261162, "upload_time": "2018-04-19T02:51:52", "upload_time_iso_8601": "2018-04-19T02:51:52.683516Z", "url": "https://files.pythonhosted.org/packages/bb/25/5583fcb77e5bcb53818e6b6dfae8af56eef0ecd5c27bf545e04a6e6d77a9/calmjs.parse-1.0.1-py3-none-any.whl", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "208bbb87f1d2ddc18baab3a4590874e4", "sha256": "87d3c5251099c0126eca2077a0da036297ef1490bc02bbf26cd0ef54ee6b9f85"}, "downloads": -1, "filename": "calmjs.parse-1.1.0-py2-none-any.whl", "has_sig": false, "md5_digest": "208bbb87f1d2ddc18baab3a4590874e4", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 268855, "upload_time": "2018-08-07T08:13:24", "upload_time_iso_8601": "2018-08-07T08:13:24.299908Z", "url": "https://files.pythonhosted.org/packages/c2/79/ddf89b756c61f5f85852ee0cf6ea67d2589ecb164b355d84e6383ce89db9/calmjs.parse-1.1.0-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f150b11791de3b1dc55959c451aee231", "sha256": "0e69bd8d7991d5411012f9a6f8a402a10ff43ae87ad5569bf2b457ba274a649e"}, "downloads": -1, "filename": "calmjs.parse-1.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "f150b11791de3b1dc55959c451aee231", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 260443, "upload_time": "2018-08-07T08:13:26", "upload_time_iso_8601": "2018-08-07T08:13:26.863271Z", "url": "https://files.pythonhosted.org/packages/02/0b/8bbaaadaecb0acd4dd63e1a4d6861e82aab6c4b72c97095e0ab260a5ab36/calmjs.parse-1.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a97ee21f3f3fc5291cc1aa626c221adc", "sha256": "2210e474a3e65cbc8049439082d4ff5573130904724407cb42f6de4d2d9389b5"}, "downloads": -1, "filename": "calmjs.parse-1.1.0.zip", "has_sig": false, "md5_digest": "a97ee21f3f3fc5291cc1aa626c221adc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 160216, "upload_time": "2018-08-07T08:13:29", "upload_time_iso_8601": "2018-08-07T08:13:29.264596Z", "url": "https://files.pythonhosted.org/packages/e0/1c/41f050f9c4c71ed38e55bf9f9e1c58fc88241fd27d38bffb67ee6cdca027/calmjs.parse-1.1.0.zip", "yanked": false}], "1.1.1": [{"comment_text": "", "digests": {"md5": "5fc7c0380da9cb7ec2b0d0a2542bbcf5", "sha256": "711a3377247fc4531f5b1fb82eadb14ebf69d2c3f9f42a2b9b8a56e76bfb0b3f"}, "downloads": -1, "filename": "calmjs.parse-1.1.1-py2-none-any.whl", "has_sig": false, "md5_digest": "5fc7c0380da9cb7ec2b0d0a2542bbcf5", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 269491, "upload_time": "2018-08-11T05:07:29", "upload_time_iso_8601": "2018-08-11T05:07:29.565831Z", "url": "https://files.pythonhosted.org/packages/54/af/7d60b85edc2ae96c93830c4f43f3d41a8913cd8f6305a25e75a19c1aa614/calmjs.parse-1.1.1-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bacca925abc275459c1732988f35e862", "sha256": "527a404ed3e5c1be6bba7b20d7946bac5e6f81c56488c4943f562fecd618b0c8"}, "downloads": -1, "filename": "calmjs.parse-1.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "bacca925abc275459c1732988f35e862", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 261079, "upload_time": "2018-08-11T05:07:32", "upload_time_iso_8601": "2018-08-11T05:07:32.110729Z", "url": "https://files.pythonhosted.org/packages/d0/bd/9960e3cbc9b072ea5f7f4f01307ba1721338f486d146ec0b9d67b09a097a/calmjs.parse-1.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "286136b70f7daa63c0496b2e8ff5bf37", "sha256": "d67172b8de958aad4d70fd44c95b3b7d43b9336fb943fd9ab66d51011a1c96af"}, "downloads": -1, "filename": "calmjs.parse-1.1.1.zip", "has_sig": false, "md5_digest": "286136b70f7daa63c0496b2e8ff5bf37", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 161446, "upload_time": "2018-08-11T05:07:34", "upload_time_iso_8601": "2018-08-11T05:07:34.313667Z", "url": "https://files.pythonhosted.org/packages/c2/98/20dad518f8f80a987d326164b488ea628509de4f9d8509268f8248bf4011/calmjs.parse-1.1.1.zip", "yanked": false}], "1.1.2": [{"comment_text": "", "digests": {"md5": "534976c54d27ce2422c9a52821a7dfec", "sha256": "2f594686c93f4532903859a1bf1d6bc25f1e893250222775fab920bc3cf6d2bb"}, "downloads": -1, "filename": "calmjs.parse-1.1.2-py2-none-any.whl", "has_sig": false, "md5_digest": "534976c54d27ce2422c9a52821a7dfec", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 270049, "upload_time": "2018-08-20T06:19:46", "upload_time_iso_8601": "2018-08-20T06:19:46.697290Z", "url": "https://files.pythonhosted.org/packages/ce/8f/8b26cdd7fdcbe755d962e41a318278c18ea0488f0244bd9cec077c8a3b4a/calmjs.parse-1.1.2-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5577c50b37c283db267ce9f4a1359cd0", "sha256": "e72ad7bee3f9211afbc874f7d4c1debadb44bf42e2c267657008d777a3d24665"}, "downloads": -1, "filename": "calmjs.parse-1.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "5577c50b37c283db267ce9f4a1359cd0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 261648, "upload_time": "2018-08-20T06:19:48", "upload_time_iso_8601": "2018-08-20T06:19:48.860904Z", "url": "https://files.pythonhosted.org/packages/8f/44/11ebb8affee51f3562e5cea93f6e8852ed2eb2d29fd6a6bf6c451f04cb81/calmjs.parse-1.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "27ade7a6fb82d6134d1fed5e384efd84", "sha256": "28d0f6fcf746d53fa913c07d3f87e5851aaea2bde15a4649d194e024bd75327c"}, "downloads": -1, "filename": "calmjs.parse-1.1.2.zip", "has_sig": false, "md5_digest": "27ade7a6fb82d6134d1fed5e384efd84", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 162360, "upload_time": "2018-08-20T06:19:51", "upload_time_iso_8601": "2018-08-20T06:19:51.037512Z", "url": "https://files.pythonhosted.org/packages/e5/be/d848fad51eb29250c5577c96aa9c6e5f74c3885727fd163e169523b3d36d/calmjs.parse-1.1.2.zip", "yanked": false}], "1.1.3": [{"comment_text": "", "digests": {"md5": "eced83ffcaf528988024b022ed259bc4", "sha256": "38e4f481f6dafdde02edb8f18fa9d331052aed5516c3692d42a8b564b657fa92"}, "downloads": -1, "filename": "calmjs.parse-1.1.3-py2-none-any.whl", "has_sig": false, "md5_digest": "eced83ffcaf528988024b022ed259bc4", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 271363, "upload_time": "2018-11-08T10:19:00", "upload_time_iso_8601": "2018-11-08T10:19:00.615910Z", "url": "https://files.pythonhosted.org/packages/7a/0e/9902f7e95220a4ea99975537e30450f0b6ea071b7821e2a8d3cd7c3f6149/calmjs.parse-1.1.3-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "81420e3cc151fcdcf1a59ba6f8a025b7", "sha256": "a50e7acb34b5d8f434c3650321fcaba7fb2e77507f00abb28bd5e2a23957e245"}, "downloads": -1, "filename": "calmjs.parse-1.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "81420e3cc151fcdcf1a59ba6f8a025b7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 262961, "upload_time": "2018-11-08T10:19:03", "upload_time_iso_8601": "2018-11-08T10:19:03.286468Z", "url": "https://files.pythonhosted.org/packages/72/ba/8d8441bed01c74c318eb0e1d5a2d3379e9b1c54b662306127afa72db9343/calmjs.parse-1.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8e9f5620c0279fa9017c4371bc326006", "sha256": "76232d1fc7a0f8dca4acf48a4d4bc8620a42e480de398a2d1d02a9a0a7407967"}, "downloads": -1, "filename": "calmjs.parse-1.1.3.zip", "has_sig": false, "md5_digest": "8e9f5620c0279fa9017c4371bc326006", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 163009, "upload_time": "2018-11-08T10:19:05", "upload_time_iso_8601": "2018-11-08T10:19:05.201595Z", "url": "https://files.pythonhosted.org/packages/4f/62/9d1ccda112bab9341845b1638cea5c0452fb6581444c27381575fbbac327/calmjs.parse-1.1.3.zip", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "1adb500e03c7466512090021268d4491", "sha256": "c51bf82b6ba969a09717bb0c5da3233bb3f1daec2a23cb314d48fea4f649f963"}, "downloads": -1, "filename": "calmjs.parse-1.2.0-py2-none-any.whl", "has_sig": false, "md5_digest": "1adb500e03c7466512090021268d4491", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 276555, "upload_time": "2019-08-15T04:39:41", "upload_time_iso_8601": "2019-08-15T04:39:41.701481Z", "url": "https://files.pythonhosted.org/packages/50/ad/babd61aa3df78a99d5784b0179b7fc24f583aec4170f0f20353591bc373e/calmjs.parse-1.2.0-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "42008cb0282dffb2d9bdc080b12c5ba0", "sha256": "d90dceda51d5c6c4ebb9b9b61e0c04e7da9914d7c2eee0c0bc5d77bdbb870940"}, "downloads": -1, "filename": "calmjs.parse-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "42008cb0282dffb2d9bdc080b12c5ba0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 268158, "upload_time": "2019-08-15T04:39:44", "upload_time_iso_8601": "2019-08-15T04:39:44.872587Z", "url": "https://files.pythonhosted.org/packages/6f/ca/a6fd14ecd2f278eaab697cde56db9be971a3b86c1e673f2888bcfbcf19cf/calmjs.parse-1.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5faa7cfc1d0ad11e659598584fefb3f2", "sha256": "a2327b902dfce5d01d3f88c270367acedc44c6702f3a50d06ede183604a916b6"}, "downloads": -1, "filename": "calmjs.parse-1.2.0.zip", "has_sig": false, "md5_digest": "5faa7cfc1d0ad11e659598584fefb3f2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 170775, "upload_time": "2019-08-15T04:39:48", "upload_time_iso_8601": "2019-08-15T04:39:48.324853Z", "url": "https://files.pythonhosted.org/packages/b0/d3/f1679ac6445738b81444aed2f9cd098ea4ab53ca7a02d13ae8c54df92b98/calmjs.parse-1.2.0.zip", "yanked": false}], "1.2.1": [{"comment_text": "", "digests": {"md5": "4cb16408fceb7e4930eba34c30761b36", "sha256": "e2e1ad74ab82f1c224221d7bb14118547b50648216c4f14f573527fbdcf5a4c0"}, "downloads": -1, "filename": "calmjs.parse-1.2.1-py2-none-any.whl", "has_sig": false, "md5_digest": "4cb16408fceb7e4930eba34c30761b36", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 279895, "upload_time": "2019-11-21T04:29:34", "upload_time_iso_8601": "2019-11-21T04:29:34.882518Z", "url": "https://files.pythonhosted.org/packages/3e/48/f67466ee250e87cde233b55c56f4163d6d2c9f82578f7f4bb000e72c892a/calmjs.parse-1.2.1-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4541f6b4c440c0346ee0d6fcfe870163", "sha256": "1a2e6bf19763f4ac9ae4eb7efa7df2baa63fd003e64c4cbae9fe9cfa3d785df8"}, "downloads": -1, "filename": "calmjs.parse-1.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "4541f6b4c440c0346ee0d6fcfe870163", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 271491, "upload_time": "2019-11-21T04:29:38", "upload_time_iso_8601": "2019-11-21T04:29:38.310642Z", "url": "https://files.pythonhosted.org/packages/1f/91/ceb71a8d2129be23f30bdbdf11b3bf2c6d658215de113dec679c71a93994/calmjs.parse-1.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7e192e84a59713edf4e65092833bf3ab", "sha256": "cd5463de673b12d753f9446e5df5d72d61f238f08ad484b344d69b3833da5b57"}, "downloads": -1, "filename": "calmjs.parse-1.2.1.zip", "has_sig": false, "md5_digest": "7e192e84a59713edf4e65092833bf3ab", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 173943, "upload_time": "2019-11-21T04:29:41", "upload_time_iso_8601": "2019-11-21T04:29:41.578858Z", "url": "https://files.pythonhosted.org/packages/a2/77/c35d1d420b1581336762c83ffc999a5948205cd8882711b63c7b8ad1f430/calmjs.parse-1.2.1.zip", "yanked": false}], "1.2.2": [{"comment_text": "", "digests": {"md5": "a4e6273d3b4a0f0b6b5173f05c51f298", "sha256": "321841cf168bea4404f07399752e1d8cbfb2f9d8fcdc1f0ecefb5e5bd9213169"}, "downloads": -1, "filename": "calmjs.parse-1.2.2-py2-none-any.whl", "has_sig": false, "md5_digest": "a4e6273d3b4a0f0b6b5173f05c51f298", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 279989, "upload_time": "2020-01-24T00:13:33", "upload_time_iso_8601": "2020-01-24T00:13:33.396736Z", "url": "https://files.pythonhosted.org/packages/f0/5f/0440dbe7cc73460a55dc9dc36bd3a01c9f4c30163cb99fa32e0b178519e4/calmjs.parse-1.2.2-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8501e78846c68ef3e0cd634dfc77fa4d", "sha256": "9bb7c833966b55c13869c605767514d4e58431624bc6ee9ea22115ce4d901099"}, "downloads": -1, "filename": "calmjs.parse-1.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "8501e78846c68ef3e0cd634dfc77fa4d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 271584, "upload_time": "2020-01-24T00:13:36", "upload_time_iso_8601": "2020-01-24T00:13:36.490537Z", "url": "https://files.pythonhosted.org/packages/03/2d/f0af58f79826b99ff02db2be91aae154d2a346cb3d213684cef02c1a9802/calmjs.parse-1.2.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1d446c1876247e0193b56ea8e326326b", "sha256": "ffd0267315f1486f14baca38f95cb1161e06d5950b66fe915c8e464f2c5fe2db"}, "downloads": -1, "filename": "calmjs.parse-1.2.2.zip", "has_sig": false, "md5_digest": "1d446c1876247e0193b56ea8e326326b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 175054, "upload_time": "2020-01-24T00:13:39", "upload_time_iso_8601": "2020-01-24T00:13:39.989877Z", "url": "https://files.pythonhosted.org/packages/8f/e4/4d08908ff5b3082b314ab6592f4968df026bc6e2f257f872dee49bfdf556/calmjs.parse-1.2.2.zip", "yanked": false}], "1.2.3": [{"comment_text": "", "digests": {"md5": "6f1b100bce7567ff79572fa58e7d1ec4", "sha256": "3e5d5f6ae1fcb818a5986ee249c9b9b62931fc1188c982f1278728dbeb3ea3c1"}, "downloads": -1, "filename": "calmjs.parse-1.2.3-py2-none-any.whl", "has_sig": false, "md5_digest": "6f1b100bce7567ff79572fa58e7d1ec4", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 280041, "upload_time": "2020-03-17T09:52:39", "upload_time_iso_8601": "2020-03-17T09:52:39.297404Z", "url": "https://files.pythonhosted.org/packages/9e/5f/f1d284a5f01247e61f26b7cb191824b5cdf5bc16cbd6766237a154d4232a/calmjs.parse-1.2.3-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "949663d241b72d28fa1f8f9663a4d27f", "sha256": "5e04e8ffae075264cb953ae9465d8bb00c0149ad44452bf31a45116690779738"}, "downloads": -1, "filename": "calmjs.parse-1.2.3-py3-none-any.whl", "has_sig": false, "md5_digest": "949663d241b72d28fa1f8f9663a4d27f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 271637, "upload_time": "2020-03-17T09:52:42", "upload_time_iso_8601": "2020-03-17T09:52:42.621094Z", "url": "https://files.pythonhosted.org/packages/fd/c1/4a0b6ee877f5bf32222e99092934d28a66f48ba9b67970cfc5b4a08fd908/calmjs.parse-1.2.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6f294473cc24ae8694bc79df3f0e175a", "sha256": "1b34a7bd566451b360852fd69285ad5a82ab46e93b4cede9ac2d454a9853c1fb"}, "downloads": -1, "filename": "calmjs.parse-1.2.3.zip", "has_sig": false, "md5_digest": "6f294473cc24ae8694bc79df3f0e175a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 175231, "upload_time": "2020-03-17T09:52:45", "upload_time_iso_8601": "2020-03-17T09:52:45.520486Z", "url": "https://files.pythonhosted.org/packages/ab/bf/200b2997fe1b16eda12ecaa6ef2c82989c99172947a56e2703738b1ecd82/calmjs.parse-1.2.3.zip", "yanked": false}], "1.2.4": [{"comment_text": "", "digests": {"md5": "1f02fda4cefef72af8b2801e467e980a", "sha256": "19d71667ecae22467b85d5b18394d1de730bab6142edb55551e398cde4e6735b"}, "downloads": -1, "filename": "calmjs.parse-1.2.4-py2-none-any.whl", "has_sig": false, "md5_digest": "1f02fda4cefef72af8b2801e467e980a", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 280092, "upload_time": "2020-03-17T10:27:09", "upload_time_iso_8601": "2020-03-17T10:27:09.271534Z", "url": "https://files.pythonhosted.org/packages/27/8d/a3745cf555944416dd03fc048c29d5dd00b1e4d8c5b0f9f972e8477019e2/calmjs.parse-1.2.4-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0ebd2296d9f1031c129b40f075c6ad7b", "sha256": "708e8952d5cb49a40dbad02db46a8294e9a09c17cb1d37282c7cfe9e1a81c68b"}, "downloads": -1, "filename": "calmjs.parse-1.2.4-py3-none-any.whl", "has_sig": false, "md5_digest": "0ebd2296d9f1031c129b40f075c6ad7b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 271685, "upload_time": "2020-03-17T10:27:11", "upload_time_iso_8601": "2020-03-17T10:27:11.943020Z", "url": "https://files.pythonhosted.org/packages/6c/4c/d69c582086f7e22fa0158cf594f9aaa7495a503bfb00fc5be4a7746be28e/calmjs.parse-1.2.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8b7f303cc1fc4343720094cae444f127", "sha256": "c60a9a9d5733e602a652f7cd4a7e6a4f29433d2c0c3f8a91262604e39ca771c5"}, "downloads": -1, "filename": "calmjs.parse-1.2.4.zip", "has_sig": false, "md5_digest": "8b7f303cc1fc4343720094cae444f127", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 175371, "upload_time": "2020-03-17T10:27:14", "upload_time_iso_8601": "2020-03-17T10:27:14.626899Z", "url": "https://files.pythonhosted.org/packages/5b/5b/0e88e56ddf44d04456e85e3a6726175f7ef367c5733bac2bfc558e2dbf08/calmjs.parse-1.2.4.zip", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "1f02fda4cefef72af8b2801e467e980a", "sha256": "19d71667ecae22467b85d5b18394d1de730bab6142edb55551e398cde4e6735b"}, "downloads": -1, "filename": "calmjs.parse-1.2.4-py2-none-any.whl", "has_sig": false, "md5_digest": "1f02fda4cefef72af8b2801e467e980a", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 280092, "upload_time": "2020-03-17T10:27:09", "upload_time_iso_8601": "2020-03-17T10:27:09.271534Z", "url": "https://files.pythonhosted.org/packages/27/8d/a3745cf555944416dd03fc048c29d5dd00b1e4d8c5b0f9f972e8477019e2/calmjs.parse-1.2.4-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0ebd2296d9f1031c129b40f075c6ad7b", "sha256": "708e8952d5cb49a40dbad02db46a8294e9a09c17cb1d37282c7cfe9e1a81c68b"}, "downloads": -1, "filename": "calmjs.parse-1.2.4-py3-none-any.whl", "has_sig": false, "md5_digest": "0ebd2296d9f1031c129b40f075c6ad7b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 271685, "upload_time": "2020-03-17T10:27:11", "upload_time_iso_8601": "2020-03-17T10:27:11.943020Z", "url": "https://files.pythonhosted.org/packages/6c/4c/d69c582086f7e22fa0158cf594f9aaa7495a503bfb00fc5be4a7746be28e/calmjs.parse-1.2.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8b7f303cc1fc4343720094cae444f127", "sha256": "c60a9a9d5733e602a652f7cd4a7e6a4f29433d2c0c3f8a91262604e39ca771c5"}, "downloads": -1, "filename": "calmjs.parse-1.2.4.zip", "has_sig": false, "md5_digest": "8b7f303cc1fc4343720094cae444f127", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 175371, "upload_time": "2020-03-17T10:27:14", "upload_time_iso_8601": "2020-03-17T10:27:14.626899Z", "url": "https://files.pythonhosted.org/packages/5b/5b/0e88e56ddf44d04456e85e3a6726175f7ef367c5733bac2bfc558e2dbf08/calmjs.parse-1.2.4.zip", "yanked": false}], "timestamp": "Thu May  7 22:35:36 2020"}
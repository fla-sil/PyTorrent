{"info": {"author": "Bart Machielsen", "author_email": "bartmachielsen@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# SupermarketConnector\n\n![Publish](https://github.com/bartmachielsen/SupermarktConnector/workflows/Publish/badge.svg)\n\nCollecting product information from Dutch supermarkets: Albert Heijn and Jumbo\n\n## Getting Started\nInstall the Pip package\n```bash\npip install supermarktconnector\n```\n\n## Sample\nImport the jumbo connector and search for a product\n```python\nfrom supermarktconnector.jumbo import JumboConnector\nconnector = JumboConnector()\nconnector.search_products(query='Smint', size=1, page=0)\n```\n```json\n{\n  \"products\": {\n    \"data\": [\n      {\n        \"id\": \"70942PAK\",\n        \"title\": \"Smint Peppermint Sugarfree 100 Stuks 2 x 35g\",\n        \"quantityOptions\": [\n          {\n            \"defaultAmount\": 1,\n            \"minimumAmount\": 1,\n            \"amountStep\": 1,\n            \"unit\": \"pieces\",\n            \"maximumAmount\": 99\n          }\n        ],\n        \"prices\": {\n          \"price\": {\n            \"currency\": \"EUR\",\n            \"amount\": 365\n          },\n          \"unitPrice\": {\n            \"unit\": \"kg\",\n            \"price\": {\n              \"currency\": \"EUR\",\n              \"amount\": 5214\n            }\n          }\n        },\n        \"available\": true,\n        \"productType\": \"Product\",\n        \"quantity\": \"2 x 35 g\",\n        \"imageInfo\": {\n          \"primaryView\": [\n            {\n              \"url\": \"https://ish-images-static.prod.cloud.jumbo.com/product_images/240420200540_70942PAK-1_360x360.png\",\n              \"height\": 360,\n              \"width\": 360\n            }\n          ]\n        }\n      }\n    ]\n  }\n}\n```\n\nYou can also get the different product-categories:\n```python\nfrom supermarktconnector.ah import AHConnector\nconnector = AHConnector()\nconnector.get_categories()\n```\n```json\n[\n  {\n    \"id\": 6401,\n    \"name\": \"Aardappel, groente, fruit\",\n    \"images\": [\n      {\n        \"height\": 400,\n        \"width\": 600,\n        \"url\": \"https://static.ahold.com//cmgtcontent/media//002304400/000/002304468_001_groenten-fruit.png\"\n      }\n    ],\n    \"nix18\": false\n  }\n]\n```\n\n## Deprecated\n### X-Digest (Albert Heijn)\nThe Albert Heijn used a special X-Digest for verifying that the app data traffic was coming from the backend, in the new versions this has been removed.\n\n_This X-Digest is an hashed value that uses SHA1 to check if the request is valid and made by the original android app. The logic behind this hash is:_\n\n`X_DIGEST = URL + PARAMETERS + USERNAME + POST_BODY (Max 1000 bytes) + SECRET_PASSWORD`\n\n### Price differences (Jumbo)\nIn the past all the the jumbo stores where divided over 5 different categories, with each category a different price for some of the products. The token used for store identification is no longer working in the new versions, It might be handled on the backend.\n\nI created an [interactive map](https://www.google.com/maps/d/u/0/edit?mid=1uPq5t6Ymcjs9TbrNbyAl5uS08sY&ll=51.93466534760809%2C6.304439426712179&z=8) which sorts all the stores by category.\n\n![Jumbo prices](/jumbo-prices.jpg)\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/bartmachielsen/SupermarktConnector", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "supermarktconnector", "package_url": "https://pypi.org/project/supermarktconnector/", "platform": "", "project_url": "https://pypi.org/project/supermarktconnector/", "project_urls": {"Homepage": "https://github.com/bartmachielsen/SupermarktConnector"}, "release_url": "https://pypi.org/project/supermarktconnector/0.3/", "requires_dist": null, "requires_python": "", "summary": "Collecting product information from Dutch supermarkets: Albert Heijn and Jumbo", "version": "0.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>SupermarketConnector</h1>\n<p><img alt=\"Publish\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f09b3ff527ef645718dfbfda12386ad55012c4e8/68747470733a2f2f6769746875622e636f6d2f626172746d61636869656c73656e2f53757065726d61726b74436f6e6e6563746f722f776f726b666c6f77732f5075626c6973682f62616467652e737667\"></p>\n<p>Collecting product information from Dutch supermarkets: Albert Heijn and Jumbo</p>\n<h2>Getting Started</h2>\n<p>Install the Pip package</p>\n<pre>pip install supermarktconnector\n</pre>\n<h2>Sample</h2>\n<p>Import the jumbo connector and search for a product</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">supermarktconnector.jumbo</span> <span class=\"kn\">import</span> <span class=\"n\">JumboConnector</span>\n<span class=\"n\">connector</span> <span class=\"o\">=</span> <span class=\"n\">JumboConnector</span><span class=\"p\">()</span>\n<span class=\"n\">connector</span><span class=\"o\">.</span><span class=\"n\">search_products</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"o\">=</span><span class=\"s1\">'Smint'</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">page</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n</pre>\n<pre><span class=\"p\">{</span>\n  <span class=\"nt\">\"products\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"data\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"70942PAK\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"title\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Smint Peppermint Sugarfree 100 Stuks 2 x 35g\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"quantityOptions\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"defaultAmount\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"minimumAmount\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"amountStep\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"unit\"</span><span class=\"p\">:</span> <span class=\"s2\">\"pieces\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"maximumAmount\"</span><span class=\"p\">:</span> <span class=\"mi\">99</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">\"prices\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">\"price\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"currency\"</span><span class=\"p\">:</span> <span class=\"s2\">\"EUR\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"amount\"</span><span class=\"p\">:</span> <span class=\"mi\">365</span>\n          <span class=\"p\">},</span>\n          <span class=\"nt\">\"unitPrice\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"unit\"</span><span class=\"p\">:</span> <span class=\"s2\">\"kg\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"price\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n              <span class=\"nt\">\"currency\"</span><span class=\"p\">:</span> <span class=\"s2\">\"EUR\"</span><span class=\"p\">,</span>\n              <span class=\"nt\">\"amount\"</span><span class=\"p\">:</span> <span class=\"mi\">5214</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">\"available\"</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"productType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Product\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"quantity\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2 x 35 g\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"imageInfo\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">\"primaryView\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://ish-images-static.prod.cloud.jumbo.com/product_images/240420200540_70942PAK-1_360x360.png\"</span><span class=\"p\">,</span>\n              <span class=\"nt\">\"height\"</span><span class=\"p\">:</span> <span class=\"mi\">360</span><span class=\"p\">,</span>\n              <span class=\"nt\">\"width\"</span><span class=\"p\">:</span> <span class=\"mi\">360</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">]</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre>\n<p>You can also get the different product-categories:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">supermarktconnector.ah</span> <span class=\"kn\">import</span> <span class=\"n\">AHConnector</span>\n<span class=\"n\">connector</span> <span class=\"o\">=</span> <span class=\"n\">AHConnector</span><span class=\"p\">()</span>\n<span class=\"n\">connector</span><span class=\"o\">.</span><span class=\"n\">get_categories</span><span class=\"p\">()</span>\n</pre>\n<pre><span class=\"p\">[</span>\n  <span class=\"p\">{</span>\n    <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"mi\">6401</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Aardappel, groente, fruit\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"images\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">\"height\"</span><span class=\"p\">:</span> <span class=\"mi\">400</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"width\"</span><span class=\"p\">:</span> <span class=\"mi\">600</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://static.ahold.com//cmgtcontent/media//002304400/000/002304468_001_groenten-fruit.png\"</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">],</span>\n    <span class=\"nt\">\"nix18\"</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">]</span>\n</pre>\n<h2>Deprecated</h2>\n<h3>X-Digest (Albert Heijn)</h3>\n<p>The Albert Heijn used a special X-Digest for verifying that the app data traffic was coming from the backend, in the new versions this has been removed.</p>\n<p><em>This X-Digest is an hashed value that uses SHA1 to check if the request is valid and made by the original android app. The logic behind this hash is:</em></p>\n<p><code>X_DIGEST = URL + PARAMETERS + USERNAME + POST_BODY (Max 1000 bytes) + SECRET_PASSWORD</code></p>\n<h3>Price differences (Jumbo)</h3>\n<p>In the past all the the jumbo stores where divided over 5 different categories, with each category a different price for some of the products. The token used for store identification is no longer working in the new versions, It might be handled on the backend.</p>\n<p>I created an <a href=\"https://www.google.com/maps/d/u/0/edit?mid=1uPq5t6Ymcjs9TbrNbyAl5uS08sY&amp;ll=51.93466534760809%2C6.304439426712179&amp;z=8\" rel=\"nofollow\">interactive map</a> which sorts all the stores by category.</p>\n<p><img alt=\"Jumbo prices\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/05d05e94af744a7054c0e5394236b65e0e835714/2f6a756d626f2d7072696365732e6a7067\"></p>\n\n          </div>"}, "last_serial": 7155819, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "310ce7783325370fef2b535b7dd58320", "sha256": "f4669c8c008b86969d76571e52b95c210e701d15fa4d5ca1866960774f2674c7"}, "downloads": -1, "filename": "supermarktconnector-0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "310ce7783325370fef2b535b7dd58320", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5293, "upload_time": "2020-05-03T09:22:53", "upload_time_iso_8601": "2020-05-03T09:22:53.932887Z", "url": "https://files.pythonhosted.org/packages/5f/7f/c251dfb495a5896f3be3ba2983552f59022a2a50e347d4debb07ea59e164/supermarktconnector-0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3f9586821a7f3b589a8bead6545f0a27", "sha256": "2db3157d7b80530bad2192b50e6dd613f9998e0b441468f829cf1955862d74e4"}, "downloads": -1, "filename": "supermarktconnector-0.1.tar.gz", "has_sig": false, "md5_digest": "3f9586821a7f3b589a8bead6545f0a27", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3889, "upload_time": "2020-05-03T09:22:55", "upload_time_iso_8601": "2020-05-03T09:22:55.778871Z", "url": "https://files.pythonhosted.org/packages/18/2c/1d0c1cbd6edacbfdde6bb04892efb9a9060f6c35b2f1c7fb1c66e78a0c36/supermarktconnector-0.1.tar.gz", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "b0854ab1653a08335de479a33e6dc10a", "sha256": "88dbafdad620421152d942fb98b62011a9d23d92fb8f71ac5747eef2dd37a319"}, "downloads": -1, "filename": "supermarktconnector-0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "b0854ab1653a08335de479a33e6dc10a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5532, "upload_time": "2020-05-03T09:43:42", "upload_time_iso_8601": "2020-05-03T09:43:42.524219Z", "url": "https://files.pythonhosted.org/packages/52/ee/cb0784fd955df9595fee334e573d64f92a6dfb3b6b5a3cf95402c2605982/supermarktconnector-0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1830cca3c7377e1801a501ef7ff9cd2c", "sha256": "fcb28d311f0ee46c58903c97d3c523dcf9f3306e83b55e881876f2575d4823ea"}, "downloads": -1, "filename": "supermarktconnector-0.2.tar.gz", "has_sig": false, "md5_digest": "1830cca3c7377e1801a501ef7ff9cd2c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4808, "upload_time": "2020-05-03T09:43:43", "upload_time_iso_8601": "2020-05-03T09:43:43.371582Z", "url": "https://files.pythonhosted.org/packages/60/c9/7de1c18041af36cc6935e35ccf3c943e125eff4ebe2a8b076cc9ace395d1/supermarktconnector-0.2.tar.gz", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "78ef725a1f431cc9824d87ba5d00a197", "sha256": "ef9e5e69559faf85702c2871ab02528dd278ba66a357462973a4de4fbd92a1a5"}, "downloads": -1, "filename": "supermarktconnector-0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "78ef725a1f431cc9824d87ba5d00a197", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 6363, "upload_time": "2020-05-03T09:58:25", "upload_time_iso_8601": "2020-05-03T09:58:25.790358Z", "url": "https://files.pythonhosted.org/packages/9e/59/6af7e81434b25d3b956ab12e7597a5518edb1cbcb1b3b6ba4d82338ee259/supermarktconnector-0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8bf2304ea3386e233a6277bde074884a", "sha256": "37a620b4cbe5335d5dc3a09fd400d85682975132f1f70f217a3c5b0659a06c05"}, "downloads": -1, "filename": "supermarktconnector-0.3.tar.gz", "has_sig": false, "md5_digest": "8bf2304ea3386e233a6277bde074884a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4812, "upload_time": "2020-05-03T09:58:26", "upload_time_iso_8601": "2020-05-03T09:58:26.844109Z", "url": "https://files.pythonhosted.org/packages/ea/2b/97be9be54299a252af32588715729f6df8bfb60cf1a14aa1ac1e356ba2ef/supermarktconnector-0.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "78ef725a1f431cc9824d87ba5d00a197", "sha256": "ef9e5e69559faf85702c2871ab02528dd278ba66a357462973a4de4fbd92a1a5"}, "downloads": -1, "filename": "supermarktconnector-0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "78ef725a1f431cc9824d87ba5d00a197", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 6363, "upload_time": "2020-05-03T09:58:25", "upload_time_iso_8601": "2020-05-03T09:58:25.790358Z", "url": "https://files.pythonhosted.org/packages/9e/59/6af7e81434b25d3b956ab12e7597a5518edb1cbcb1b3b6ba4d82338ee259/supermarktconnector-0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8bf2304ea3386e233a6277bde074884a", "sha256": "37a620b4cbe5335d5dc3a09fd400d85682975132f1f70f217a3c5b0659a06c05"}, "downloads": -1, "filename": "supermarktconnector-0.3.tar.gz", "has_sig": false, "md5_digest": "8bf2304ea3386e233a6277bde074884a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4812, "upload_time": "2020-05-03T09:58:26", "upload_time_iso_8601": "2020-05-03T09:58:26.844109Z", "url": "https://files.pythonhosted.org/packages/ea/2b/97be9be54299a252af32588715729f6df8bfb60cf1a14aa1ac1e356ba2ef/supermarktconnector-0.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:00:14 2020"}
{"info": {"author": "Baptiste Candellier", "author_email": "outadoc@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "# Linkpy - Access your Linky data via Python\n## What is this?\nThis Python 3 library allows you to retrieve your Linky power consumption data\nwithout any hardware, just a connection to your Enedis account.\n\nThis module was previously part of Linkindle and was extracted for better \nmodularity and easier usage.\n\n## How to install\n```bash\npip3 install linkpy\n```\n\n## Help, it's not working!\n1. First, check that the Enedis website itself is working.\n2. You might need to accept updated terms and conditions on the website. Linkpy won't work until you do.\n3. Check that you have the latest version of this package. As Enedis changes its website, stuff can and occasionally does break.\n4. If everything else fails, you can [report an issue](https://github.com/outadoc/linkindle/issues). I'll try to get to it on my free time, but contributions are welcome!\n\n## How to use\n```python\nfrom linkpy import Linky, LinkyLoginException, LinkyServiceException\n\ntry:\n    linky = Linky()\n    linky.login(USERNAME, PASSWORD)\n\n    today = datetime.date.today()\n    res_year = linky.get_data_per_year()\n\n    # 6 months ago - today\n    res_month = linky.get_data_per_month(dtostr(\n        today - relativedelta(months=6)), dtostr(today))\n\n    # One month ago - yesterday\n    res_day = linky.get_data_per_day(\n                dtostr(today - relativedelta(days=1, months=1)),\n                dtostr(today - relativedelta(days=1)))\n\n    # Yesterday - today\n    res_hour = linky.get_data_per_hour(\n                dtostr(today - relativedelta(days=1)), \n                dtostr(today))\nexcept LinkyLoginException as exc:\n    logging.error(exc)\n\nexcept LinkyServiceException as exc:\n    logging.error(exc)\n```\n\n## Example\nSee my [Linkindle project](https://github.com/outadoc/linkindle) for a real-life\nexample.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/outadoc/linkindle", "keywords": "linky enedis edf erdf pylinky linkindle energy meter linkpy", "license": "GPLv3+", "maintainer": "", "maintainer_email": "", "name": "linkpy", "package_url": "https://pypi.org/project/linkpy/", "platform": "", "project_url": "https://pypi.org/project/linkpy/", "project_urls": {"Bug Tracker": "https://github.com/outadoc/linkindle/issues", "Homepage": "https://github.com/outadoc/linkindle", "Source Code": "https://github.com/outadoc/linkindle"}, "release_url": "https://pypi.org/project/linkpy/1.0/", "requires_dist": null, "requires_python": "", "summary": "This module allows you to retrieve your Linky consumption data from your Enedis account.", "version": "1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Linkpy - Access your Linky data via Python</h1>\n<h2>What is this?</h2>\n<p>This Python 3 library allows you to retrieve your Linky power consumption data\nwithout any hardware, just a connection to your Enedis account.</p>\n<p>This module was previously part of Linkindle and was extracted for better\nmodularity and easier usage.</p>\n<h2>How to install</h2>\n<pre>pip3 install linkpy\n</pre>\n<h2>Help, it's not working!</h2>\n<ol>\n<li>First, check that the Enedis website itself is working.</li>\n<li>You might need to accept updated terms and conditions on the website. Linkpy won't work until you do.</li>\n<li>Check that you have the latest version of this package. As Enedis changes its website, stuff can and occasionally does break.</li>\n<li>If everything else fails, you can <a href=\"https://github.com/outadoc/linkindle/issues\" rel=\"nofollow\">report an issue</a>. I'll try to get to it on my free time, but contributions are welcome!</li>\n</ol>\n<h2>How to use</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">linkpy</span> <span class=\"kn\">import</span> <span class=\"n\">Linky</span><span class=\"p\">,</span> <span class=\"n\">LinkyLoginException</span><span class=\"p\">,</span> <span class=\"n\">LinkyServiceException</span>\n\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"n\">linky</span> <span class=\"o\">=</span> <span class=\"n\">Linky</span><span class=\"p\">()</span>\n    <span class=\"n\">linky</span><span class=\"o\">.</span><span class=\"n\">login</span><span class=\"p\">(</span><span class=\"n\">USERNAME</span><span class=\"p\">,</span> <span class=\"n\">PASSWORD</span><span class=\"p\">)</span>\n\n    <span class=\"n\">today</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"o\">.</span><span class=\"n\">today</span><span class=\"p\">()</span>\n    <span class=\"n\">res_year</span> <span class=\"o\">=</span> <span class=\"n\">linky</span><span class=\"o\">.</span><span class=\"n\">get_data_per_year</span><span class=\"p\">()</span>\n\n    <span class=\"c1\"># 6 months ago - today</span>\n    <span class=\"n\">res_month</span> <span class=\"o\">=</span> <span class=\"n\">linky</span><span class=\"o\">.</span><span class=\"n\">get_data_per_month</span><span class=\"p\">(</span><span class=\"n\">dtostr</span><span class=\"p\">(</span>\n        <span class=\"n\">today</span> <span class=\"o\">-</span> <span class=\"n\">relativedelta</span><span class=\"p\">(</span><span class=\"n\">months</span><span class=\"o\">=</span><span class=\"mi\">6</span><span class=\"p\">)),</span> <span class=\"n\">dtostr</span><span class=\"p\">(</span><span class=\"n\">today</span><span class=\"p\">))</span>\n\n    <span class=\"c1\"># One month ago - yesterday</span>\n    <span class=\"n\">res_day</span> <span class=\"o\">=</span> <span class=\"n\">linky</span><span class=\"o\">.</span><span class=\"n\">get_data_per_day</span><span class=\"p\">(</span>\n                <span class=\"n\">dtostr</span><span class=\"p\">(</span><span class=\"n\">today</span> <span class=\"o\">-</span> <span class=\"n\">relativedelta</span><span class=\"p\">(</span><span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">months</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)),</span>\n                <span class=\"n\">dtostr</span><span class=\"p\">(</span><span class=\"n\">today</span> <span class=\"o\">-</span> <span class=\"n\">relativedelta</span><span class=\"p\">(</span><span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)))</span>\n\n    <span class=\"c1\"># Yesterday - today</span>\n    <span class=\"n\">res_hour</span> <span class=\"o\">=</span> <span class=\"n\">linky</span><span class=\"o\">.</span><span class=\"n\">get_data_per_hour</span><span class=\"p\">(</span>\n                <span class=\"n\">dtostr</span><span class=\"p\">(</span><span class=\"n\">today</span> <span class=\"o\">-</span> <span class=\"n\">relativedelta</span><span class=\"p\">(</span><span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)),</span> \n                <span class=\"n\">dtostr</span><span class=\"p\">(</span><span class=\"n\">today</span><span class=\"p\">))</span>\n<span class=\"k\">except</span> <span class=\"n\">LinkyLoginException</span> <span class=\"k\">as</span> <span class=\"n\">exc</span><span class=\"p\">:</span>\n    <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"n\">exc</span><span class=\"p\">)</span>\n\n<span class=\"k\">except</span> <span class=\"n\">LinkyServiceException</span> <span class=\"k\">as</span> <span class=\"n\">exc</span><span class=\"p\">:</span>\n    <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"n\">exc</span><span class=\"p\">)</span>\n</pre>\n<h2>Example</h2>\n<p>See my <a href=\"https://github.com/outadoc/linkindle\" rel=\"nofollow\">Linkindle project</a> for a real-life\nexample.</p>\n\n          </div>"}, "last_serial": 5218885, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "cfcf93bd26a6381f551beecca24cb9c9", "sha256": "a7eec7e1ac692ddc2de017064175aa361691b688153bd91288cb8c0a28d45bd8"}, "downloads": -1, "filename": "linkpy-1.0.tar.gz", "has_sig": false, "md5_digest": "cfcf93bd26a6381f551beecca24cb9c9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4115, "upload_time": "2019-05-02T19:24:23", "upload_time_iso_8601": "2019-05-02T19:24:23.250781Z", "url": "https://files.pythonhosted.org/packages/a6/e0/e571749f3d848245b6fd17ed6a4e597dd655efeb75f71522556875475cb2/linkpy-1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "cfcf93bd26a6381f551beecca24cb9c9", "sha256": "a7eec7e1ac692ddc2de017064175aa361691b688153bd91288cb8c0a28d45bd8"}, "downloads": -1, "filename": "linkpy-1.0.tar.gz", "has_sig": false, "md5_digest": "cfcf93bd26a6381f551beecca24cb9c9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4115, "upload_time": "2019-05-02T19:24:23", "upload_time_iso_8601": "2019-05-02T19:24:23.250781Z", "url": "https://files.pythonhosted.org/packages/a6/e0/e571749f3d848245b6fd17ed6a4e597dd655efeb75f71522556875475cb2/linkpy-1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:45:35 2020"}
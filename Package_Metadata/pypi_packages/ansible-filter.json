{"info": {"author": "Sanan Guliyev", "author_email": "sanan.quliyev@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "[![Travis (.com) branch](https://img.shields.io/travis/com/nl2go/ansible-filter/master)](https://travis-ci.com/nl2go/ansible-filter)\n[![Codecov](https://img.shields.io/codecov/c/github/nl2go/ansible-filter)](https://codecov.io/gh/nl2go/ansible-filter)\n[![Code Climate maintainability](https://img.shields.io/codeclimate/maintainability/nl2go/ansible-filter)](https://codeclimate.com/github/nl2go/ansible-filter)\n[![PyPI](https://img.shields.io/pypi/v/ansible-filter)](https://pypi.org/project/ansible-filter/#history)\n[![PyPI - Downloads](https://img.shields.io/pypi/dm/ansible-filter)](https://pypi.org/project/ansible-filter/#files)\n\n# Ansible Filter\n\nContains [Ansible](https://www.ansible.com/) related filter set for collection/object operations. Aims to extend the official\n[Ansible Filters](https://docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html).\n\nAvailable filters are listed [below](#filters).\n\n## Install\n\n### PyPI\n\n    pip install -U ansible-filter\n\n### Source\n\n    git clone git@github.com:nl2go/ansible-filter.git\n    cd ansible-filter/\n    pip install .\n\n## Filters\n\n### Change Set\nComputes the change set between a list of objects using a key attribute non-recursively.\n\nThe filter arguments `local` and `origin` are non-associative. Objects present at the `origin` but missing\nwithin `local` are considered non managed.\n\nThe result is a change set with a map of lists to:\n\n- `create` - objects to create at `origin`\n- `update` - objects to update at `origin`\n- `delete` - objects to delete at `origin`\n- `noop` - objects with no operation required\n\nUseful to interact with any kind of a stateful API.\n\n\n    from ansible_filter import change_set\n    \n    local = [{ 'id': 1, 'foo': 'bar' }, { 'id': 2, 'foo': 'foo' }, { 'id': 3, 'foz':'baz' }, { 'id': 4, 'state': 'absent' }]\n    origin = [{ 'id': 2, 'foo': 'bar' }, { 'id': 3, 'foz':'baz' }, { 'id': 4, 'x': 'y' }, { 'id': 5, 'foo': 'bar' }]\n    \n    result = change_set.change_set(local, origin, 'id')\n    print(result)  \n    \n    [\n        'create': [{ 'id': 1, 'foo': 'bar' }],\n        'update': [{ 'id': 2, 'foo': 'foo' }],\n        'delete': [{ 'id': 4, 'x': 'y' }],\n        'noop': [{ 'id': 3, 'foz': 'baz' }],\n    ]\n\n### Form URL Encode\nEncodes arbitrary objects to form URL format.\n\n    from ansible_filter import form_urlencode\n    \n    obj = { 'foo': 'bar', 'foz': ['baz'] }\n    \n    result = form_urlencode.form_urlencode(obj)\n    print(result)\n\n    foo=bar&foz[0]=baz&\n\n### Pick\nFilters a list of objects retaining attributes only matching the names passed as argument, non-recursively.\n\n    from ansible_filter import pick\n    \n    elements = [{ 'foo': 'bar', 'foz': 'baz' }]\n    \n    result = pick.pick(elements, ['foo'])\n    print(result)\n\n    [{ 'foo': 'bar' }]\n    \n### Omit\nFilters a list objects omitting attributes matching the names passed as argument, non-recursively.    \n\n    from ansible_filter import omit\n    \n    elements = [{ 'foo': 'bar', 'foz': 'baz' }]\n    \n    result = omit.omit(elements, ['foo'])\n    print(result)\n\n    [{ 'foz': 'baz' }]\n\n### Group By\nGroups elements by key attribute.\n\n    from ansible_filter import group_by\n    \n    left = [{ 'id': '1', 'foo': 'a' }, { 'id': '2', 'foz': 'x' }]\n    right = [{ 'id': '1', 'foo': 'b' }, { 'id': '2', 'foz': 'y' }]\n    \n    result = group_by.group_by(left, right, 'id')\n    print(result)\n\n    [\n        { 'id': '1', 'group': [{ 'id': '1', 'foo': 'a' }, { 'id': '1', 'foo': 'b' }] }, \n        { 'id': '2', 'group': [{ 'id': '2', 'foz': 'x' }, { 'id': '2', 'foz': 'y' }] }\n    ]\n\n### List 2 Dict\nConverts a list to dict by key attribute.\n\n    from ansible_filter import list_to_dict\n    \n    elements = [{ 'id': '1', 'foo': 'bar' }, { 'id': '2', 'foz': 'baz' }]\n    \n    result = list_to_dict.list_to_dict(elements, 'id')\n    print(result)\n    \n    {'1': {'foo': 'bar', 'id': '1'}, '2': {'id': '2', 'foz': 'baz'}}\n\n### Point to Point Connections\nResolves point to point connections between the local and remote hosts.\n\n    from ansible_filter import network\n    \n    remote_hostnames = ['two', 'three']\n    hostname = 'one'\n    hostvars = {\n        'one': {\n            'ansible_default_ipv4': {\n                'interface': 'eth0'\n            },\n            'ansible_eth0': {\n                'ipv4': {\n                    'address': '127.0.0.1',\n                }\n            }\n        },\n        'two': {\n            'ansible_default_ipv4': {\n                'interface': 'eth0'\n            },\n            'ansible_eth0': {\n                'ipv4': {\n                    'address': '127.0.0.2',\n                }\n            }\n        },\n        'three': {\n            'ansible_default_ipv4': {\n                'interface': 'eth0'\n            },\n            'ansible_eth0': {\n                'ipv4': {\n                    'address': '127.0.0.3',\n                }\n            }        \n        }\n    }\n    \n    result = network.get_point_to_point_connections(remote_hostnames, hostname, hostvars)\n\n    [\n      {\n        'remote': {\n          'interface': 'eth0',\n          'hostname': 'two',\n          'address': '127.0.0.2'\n        },\n        'local': {\n          'interface': 'eth0',\n          'hostname': 'one',\n          'address': '127.0.0.1'\n        }\n      },\n      {\n        'remote': {\n          'interface': 'eth0',\n          'hostname': 'three',\n          'address': '127.0.0.3'\n        },\n        'local': {\n          'interface': 'eth0',\n          'hostname': 'one',\n          'address': '127.0.0.1'\n        }\n      }\n    ]\n\n## Links\n\n*   Website: https://newsletter2go.com/\n*   License: [MIT](https://github.com/nl2go/ansible-filter/blob/master/LICENSE.md)\n*   Releases: https://pypi.org/project/ansible-filter/\n*   Code: https://github.com/nl2go/ansible-filter\n*   Issue tracker: https://github.com/nl2go/ansible-filter/issues", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/nl2go/ansible-filter", "keywords": "hetzner ansible filter", "license": "MIT", "maintainer": "Newsletter2Go", "maintainer_email": "ops@newsletter2go.com", "name": "ansible-filter", "package_url": "https://pypi.org/project/ansible-filter/", "platform": "", "project_url": "https://pypi.org/project/ansible-filter/", "project_urls": {"Code": "https://github.com/nl2go/ansible-filter", "Homepage": "https://github.com/nl2go/ansible-filter", "Issue tracker": "https://github.com/nl2go/ansible-filter/issues"}, "release_url": "https://pypi.org/project/ansible-filter/1.1.1/", "requires_dist": null, "requires_python": ">=2.7,!=3.0.*,!=3.1.*,!=3.2.*,!=3.3.*,!=3.4.*,!=3.5.*", "summary": "The filter module for Hetzner", "version": "1.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://travis-ci.com/nl2go/ansible-filter\" rel=\"nofollow\"><img alt=\"Travis (.com) branch\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/684fc3e1ac7a9bd03479b460815d4d467a301064/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f636f6d2f6e6c32676f2f616e7369626c652d66696c7465722f6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/nl2go/ansible-filter\" rel=\"nofollow\"><img alt=\"Codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0a80d4dbc6fb4f80b4048fb55fff152246cba238/68747470733a2f2f696d672e736869656c64732e696f2f636f6465636f762f632f6769746875622f6e6c32676f2f616e7369626c652d66696c746572\"></a>\n<a href=\"https://codeclimate.com/github/nl2go/ansible-filter\" rel=\"nofollow\"><img alt=\"Code Climate maintainability\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8e2e2178de9c3110663fcf67a07d32f94423d115/68747470733a2f2f696d672e736869656c64732e696f2f636f6465636c696d6174652f6d61696e7461696e6162696c6974792f6e6c32676f2f616e7369626c652d66696c746572\"></a>\n<a href=\"https://pypi.org/project/ansible-filter/#history\" rel=\"nofollow\"><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/86705efdefc5cf512796f6f854ec99daecb34c42/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f616e7369626c652d66696c746572\"></a>\n<a href=\"https://pypi.org/project/ansible-filter/#files\" rel=\"nofollow\"><img alt=\"PyPI - Downloads\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2264239249570a8d1c36ca35a9c778f66ce96c19/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f616e7369626c652d66696c746572\"></a></p>\n<h1>Ansible Filter</h1>\n<p>Contains <a href=\"https://www.ansible.com/\" rel=\"nofollow\">Ansible</a> related filter set for collection/object operations. Aims to extend the official\n<a href=\"https://docs.ansible.com/ansible/latest/user_guide/playbooks_filters.html\" rel=\"nofollow\">Ansible Filters</a>.</p>\n<p>Available filters are listed <a href=\"#filters\" rel=\"nofollow\">below</a>.</p>\n<h2>Install</h2>\n<h3>PyPI</h3>\n<pre><code>pip install -U ansible-filter\n</code></pre>\n<h3>Source</h3>\n<pre><code>git clone git@github.com:nl2go/ansible-filter.git\ncd ansible-filter/\npip install .\n</code></pre>\n<h2>Filters</h2>\n<h3>Change Set</h3>\n<p>Computes the change set between a list of objects using a key attribute non-recursively.</p>\n<p>The filter arguments <code>local</code> and <code>origin</code> are non-associative. Objects present at the <code>origin</code> but missing\nwithin <code>local</code> are considered non managed.</p>\n<p>The result is a change set with a map of lists to:</p>\n<ul>\n<li><code>create</code> - objects to create at <code>origin</code></li>\n<li><code>update</code> - objects to update at <code>origin</code></li>\n<li><code>delete</code> - objects to delete at <code>origin</code></li>\n<li><code>noop</code> - objects with no operation required</li>\n</ul>\n<p>Useful to interact with any kind of a stateful API.</p>\n<pre><code>from ansible_filter import change_set\n\nlocal = [{ 'id': 1, 'foo': 'bar' }, { 'id': 2, 'foo': 'foo' }, { 'id': 3, 'foz':'baz' }, { 'id': 4, 'state': 'absent' }]\norigin = [{ 'id': 2, 'foo': 'bar' }, { 'id': 3, 'foz':'baz' }, { 'id': 4, 'x': 'y' }, { 'id': 5, 'foo': 'bar' }]\n\nresult = change_set.change_set(local, origin, 'id')\nprint(result)  \n\n[\n    'create': [{ 'id': 1, 'foo': 'bar' }],\n    'update': [{ 'id': 2, 'foo': 'foo' }],\n    'delete': [{ 'id': 4, 'x': 'y' }],\n    'noop': [{ 'id': 3, 'foz': 'baz' }],\n]\n</code></pre>\n<h3>Form URL Encode</h3>\n<p>Encodes arbitrary objects to form URL format.</p>\n<pre><code>from ansible_filter import form_urlencode\n\nobj = { 'foo': 'bar', 'foz': ['baz'] }\n\nresult = form_urlencode.form_urlencode(obj)\nprint(result)\n\nfoo=bar&amp;foz[0]=baz&amp;\n</code></pre>\n<h3>Pick</h3>\n<p>Filters a list of objects retaining attributes only matching the names passed as argument, non-recursively.</p>\n<pre><code>from ansible_filter import pick\n\nelements = [{ 'foo': 'bar', 'foz': 'baz' }]\n\nresult = pick.pick(elements, ['foo'])\nprint(result)\n\n[{ 'foo': 'bar' }]\n</code></pre>\n<h3>Omit</h3>\n<p>Filters a list objects omitting attributes matching the names passed as argument, non-recursively.</p>\n<pre><code>from ansible_filter import omit\n\nelements = [{ 'foo': 'bar', 'foz': 'baz' }]\n\nresult = omit.omit(elements, ['foo'])\nprint(result)\n\n[{ 'foz': 'baz' }]\n</code></pre>\n<h3>Group By</h3>\n<p>Groups elements by key attribute.</p>\n<pre><code>from ansible_filter import group_by\n\nleft = [{ 'id': '1', 'foo': 'a' }, { 'id': '2', 'foz': 'x' }]\nright = [{ 'id': '1', 'foo': 'b' }, { 'id': '2', 'foz': 'y' }]\n\nresult = group_by.group_by(left, right, 'id')\nprint(result)\n\n[\n    { 'id': '1', 'group': [{ 'id': '1', 'foo': 'a' }, { 'id': '1', 'foo': 'b' }] }, \n    { 'id': '2', 'group': [{ 'id': '2', 'foz': 'x' }, { 'id': '2', 'foz': 'y' }] }\n]\n</code></pre>\n<h3>List 2 Dict</h3>\n<p>Converts a list to dict by key attribute.</p>\n<pre><code>from ansible_filter import list_to_dict\n\nelements = [{ 'id': '1', 'foo': 'bar' }, { 'id': '2', 'foz': 'baz' }]\n\nresult = list_to_dict.list_to_dict(elements, 'id')\nprint(result)\n\n{'1': {'foo': 'bar', 'id': '1'}, '2': {'id': '2', 'foz': 'baz'}}\n</code></pre>\n<h3>Point to Point Connections</h3>\n<p>Resolves point to point connections between the local and remote hosts.</p>\n<pre><code>from ansible_filter import network\n\nremote_hostnames = ['two', 'three']\nhostname = 'one'\nhostvars = {\n    'one': {\n        'ansible_default_ipv4': {\n            'interface': 'eth0'\n        },\n        'ansible_eth0': {\n            'ipv4': {\n                'address': '127.0.0.1',\n            }\n        }\n    },\n    'two': {\n        'ansible_default_ipv4': {\n            'interface': 'eth0'\n        },\n        'ansible_eth0': {\n            'ipv4': {\n                'address': '127.0.0.2',\n            }\n        }\n    },\n    'three': {\n        'ansible_default_ipv4': {\n            'interface': 'eth0'\n        },\n        'ansible_eth0': {\n            'ipv4': {\n                'address': '127.0.0.3',\n            }\n        }        \n    }\n}\n\nresult = network.get_point_to_point_connections(remote_hostnames, hostname, hostvars)\n\n[\n  {\n    'remote': {\n      'interface': 'eth0',\n      'hostname': 'two',\n      'address': '127.0.0.2'\n    },\n    'local': {\n      'interface': 'eth0',\n      'hostname': 'one',\n      'address': '127.0.0.1'\n    }\n  },\n  {\n    'remote': {\n      'interface': 'eth0',\n      'hostname': 'three',\n      'address': '127.0.0.3'\n    },\n    'local': {\n      'interface': 'eth0',\n      'hostname': 'one',\n      'address': '127.0.0.1'\n    }\n  }\n]\n</code></pre>\n<h2>Links</h2>\n<ul>\n<li>Website: <a href=\"https://newsletter2go.com/\" rel=\"nofollow\">https://newsletter2go.com/</a></li>\n<li>License: <a href=\"https://github.com/nl2go/ansible-filter/blob/master/LICENSE.md\" rel=\"nofollow\">MIT</a></li>\n<li>Releases: <a href=\"https://pypi.org/project/ansible-filter/\" rel=\"nofollow\">https://pypi.org/project/ansible-filter/</a></li>\n<li>Code: <a href=\"https://github.com/nl2go/ansible-filter\" rel=\"nofollow\">https://github.com/nl2go/ansible-filter</a></li>\n<li>Issue tracker: <a href=\"https://github.com/nl2go/ansible-filter/issues\" rel=\"nofollow\">https://github.com/nl2go/ansible-filter/issues</a></li>\n</ul>\n\n          </div>"}, "last_serial": 7024921, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "ed52c6d3affa62228a971d5c87fee08e", "sha256": "42001569a88436b0e0a6bcdd5993a0211f86bea809eaa0ca26cf85cc953b2a2b"}, "downloads": -1, "filename": "ansible-filter-1.0.0.tar.gz", "has_sig": false, "md5_digest": "ed52c6d3affa62228a971d5c87fee08e", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7,!=3.0.*,!=3.1.*,!=3.2.*,!=3.3.*,!=3.4.*,!=3.5.*", "size": 5833, "upload_time": "2020-01-28T09:43:12", "upload_time_iso_8601": "2020-01-28T09:43:12.295495Z", "url": "https://files.pythonhosted.org/packages/8d/4f/f460e20a8a0ae547c20d9af9cece283c8d2b2054f23be374fb6f952c96e8/ansible-filter-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "2b8974457c2c59c7ad90729179f1f4a7", "sha256": "44a3582a5e61f75ff9b173819621fc1453161d8f0cc560af576e86dcdaf4bc71"}, "downloads": -1, "filename": "ansible-filter-1.0.1.tar.gz", "has_sig": false, "md5_digest": "2b8974457c2c59c7ad90729179f1f4a7", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7,!=3.0.*,!=3.1.*,!=3.2.*,!=3.3.*,!=3.4.*,!=3.5.*", "size": 5835, "upload_time": "2020-02-03T07:16:57", "upload_time_iso_8601": "2020-02-03T07:16:57.444776Z", "url": "https://files.pythonhosted.org/packages/7d/8a/776089e335ce390bace6f008665f067177dcfb335378f679e85665007967/ansible-filter-1.0.1.tar.gz", "yanked": false}], "1.1.1": [{"comment_text": "", "digests": {"md5": "5974d76807e606d1f44f2cc3062ce31b", "sha256": "0d44bca291f239a4f546b21dc509cbe49a8bad936b1103ba1f2ca69707425556"}, "downloads": -1, "filename": "ansible-filter-1.1.1.tar.gz", "has_sig": false, "md5_digest": "5974d76807e606d1f44f2cc3062ce31b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7,!=3.0.*,!=3.1.*,!=3.2.*,!=3.3.*,!=3.4.*,!=3.5.*", "size": 5846, "upload_time": "2020-04-15T14:13:04", "upload_time_iso_8601": "2020-04-15T14:13:04.262559Z", "url": "https://files.pythonhosted.org/packages/79/5c/a34b1b0586a3b1d3cbd485941f458103296a0e14ee56b3e438a06db9080d/ansible-filter-1.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5974d76807e606d1f44f2cc3062ce31b", "sha256": "0d44bca291f239a4f546b21dc509cbe49a8bad936b1103ba1f2ca69707425556"}, "downloads": -1, "filename": "ansible-filter-1.1.1.tar.gz", "has_sig": false, "md5_digest": "5974d76807e606d1f44f2cc3062ce31b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7,!=3.0.*,!=3.1.*,!=3.2.*,!=3.3.*,!=3.4.*,!=3.5.*", "size": 5846, "upload_time": "2020-04-15T14:13:04", "upload_time_iso_8601": "2020-04-15T14:13:04.262559Z", "url": "https://files.pythonhosted.org/packages/79/5c/a34b1b0586a3b1d3cbd485941f458103296a0e14ee56b3e438a06db9080d/ansible-filter-1.1.1.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:18:04 2020"}
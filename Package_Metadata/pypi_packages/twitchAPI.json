{"info": {"author": "Lena \"Teekeks\" During", "author_email": "info@teawork.de", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Communications", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Libraries :: Application Frameworks", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# Python Twitch API\n\n[![PyPI verion](https://img.shields.io/pypi/v/twitchAPI.svg)](https://pypi.org/project/twitchAPI/) [![PyPI verion](https://img.shields.io/pypi/pyversions/twitchAPI)](https://pypi.org/project/twitchAPI/) [![Twitch API version](https://img.shields.io/badge/twitch%20API%20version-Helix-brightgreen)](https://dev.twitch.tv/docs/api) [![Documentation Status](https://readthedocs.org/projects/pytwitchapi/badge/?version=latest)](https://pytwitchapi.readthedocs.io/en/latest/?badge=latest)\n\n\nThis is a full implementation of the Twitch API and its Webhook in python 3.7.  \n\n\n## Installation\n\nInstall using pip:\n\n```pip install twitchAPI```\n\n## Documentation\n\nA full API documentation can be found [on readthedocs.org](https://pytwitchapi.readthedocs.io/en/latest/index.html).\n\n## Usage\n\n### Basic API calls\n\nSetting up a Instance of the Twitch API and get your User ID:\n\n```python\nfrom twitchAPI.twitch import Twitch\n\n# create instance of twitch API\ntwitch = Twitch('my_app_id', 'my_app_secret')\n\n# get ID of user\nuser_info = twitch.get_users(logins=['my_username'])\nuser_id = user_info[0]['id']\n```\n\n### Authentication\n\nThe Twitch API knows 2 different authentications. App and User Authentication.\nWhich one you need (or if one at all) depends on what calls you want to use.\n\nIts always good to get at least App authentication even for calls where you dont need it since the rate limmits are way better for authenticated calls.\n\n#### App Authentication\n\nApp authentication is super simple, just do the following:\n\n```python\n# add App authentication\ntwitch.authenticate_app([])\n```\n### User Authentication\n\nTo get a user auth token, the user has to explicitly click \"Authorize\" on the twitch website. You can use various online services to generate a token or use my build in authenticator.\nFor my authenticator you have to add the following URL as a \"OAuth Redirect URL\": ```http://localhost:17563```\nYou can set that [here in your twitch dev dashboard](https://dev.twitch.tv/console).\n\n\n```python\nfrom twitchAPI.oauth import UserAuthenticator\nfrom twitch.types import AuthScope\n\ntarget_scope = [AuthScope.READ_BITS]\nauth = UserAuthenticator(twitch, target_scope, force_verify=False)\n# this will open your default browser and prompt you with the twitch verification website\ntoken, refresh_token = auth.authenticate()\n# add User authentication\ntwitch.set_user_authentication(token, target_scope)\n```\n\nYou can reuse this token and use the refresh_token to renew it:\n\n```python\nfrom twitchAPI.oauth import refresh_access_token\nnew_token, new_refresh_token = refresh_access_token('refresh_token', 'client_id', 'client_secret')\n```\n\n\n\n### Webhook\n\n#### Requirements\n\nYou need to have a public IP with a port open. That port will be 80 by default.\nAuthentication is off by default but you can choose to authenticate to use some Webhook Topics or to get more information.  \n**Please note that Your Endpoint URL has to be HTTPS if you choose to authenticate which means that you probably need a reverse proxy like nginx.**\n\n\n### Start Webhook\n\nExample on how to set up a webhook and start it:\n````python\nhook = twitch.get_webhook('https://my.url.com', port=80)\nhook.authenticate(twitch.get_auth_token())\nhook.secret = 'some_fancy_long_secret_string'\nhook.start()\n````\n\n### Subscribing to Webhook Topics\nDefine a callback function and subscribe to a event:\n````python\nfrom uuid import UUID\nfrom pprint import pprint\n\ndef callback_user_changed(uuid: UUID, data: dict) -> None:\n    print(f'Callback for UUID {str(uuid)}')\n    pprint(data)\n\nsuccess, sub_uuid = hook.subscribe_user_changed(user_id, callback_user_changed)\n````\nThe subscription function returns a UUID that identifies this subscription. This means you can use the same callback function for multiple subscriptions.\n\nTo unsubscribe, just use that UUID from the subscription:\n```python\nsuccess = hook.unsubscribe_user_changed(sub_uuid)\n```\n\n### Stopping the Webhook\n\nStopping the webhook:\n```python\nhook.stop()\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Teekeks/pyTwitchAPI", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "twitchAPI", "package_url": "https://pypi.org/project/twitchAPI/", "platform": "", "project_url": "https://pypi.org/project/twitchAPI/", "project_urls": {"Homepage": "https://github.com/Teekeks/pyTwitchAPI"}, "release_url": "https://pypi.org/project/twitchAPI/1.1/", "requires_dist": null, "requires_python": "", "summary": "A Python 3.7 implementation of the Twitch Helix API and its Webhook", "version": "1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Python Twitch API</h1>\n<p><a href=\"https://pypi.org/project/twitchAPI/\" rel=\"nofollow\"><img alt=\"PyPI verion\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b96a748177976879167646391f7f4f83386e0280/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7477697463684150492e737667\"></a> <a href=\"https://pypi.org/project/twitchAPI/\" rel=\"nofollow\"><img alt=\"PyPI verion\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dec03c17b46b8a77b7f8960023877d609ff55883/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f747769746368415049\"></a> <a href=\"https://dev.twitch.tv/docs/api\" rel=\"nofollow\"><img alt=\"Twitch API version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f0cec1af9c31cce948a4da16eea1dda65798bbe0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f74776974636825323041504925323076657273696f6e2d48656c69782d627269676874677265656e\"></a> <a href=\"https://pytwitchapi.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/cb3728257aac0c7452a3145afa4860d503f40496/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f70797477697463686170692f62616467652f3f76657273696f6e3d6c6174657374\"></a></p>\n<p>This is a full implementation of the Twitch API and its Webhook in python 3.7.</p>\n<h2>Installation</h2>\n<p>Install using pip:</p>\n<p><code>pip install twitchAPI</code></p>\n<h2>Documentation</h2>\n<p>A full API documentation can be found <a href=\"https://pytwitchapi.readthedocs.io/en/latest/index.html\" rel=\"nofollow\">on readthedocs.org</a>.</p>\n<h2>Usage</h2>\n<h3>Basic API calls</h3>\n<p>Setting up a Instance of the Twitch API and get your User ID:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">twitchAPI.twitch</span> <span class=\"kn\">import</span> <span class=\"n\">Twitch</span>\n\n<span class=\"c1\"># create instance of twitch API</span>\n<span class=\"n\">twitch</span> <span class=\"o\">=</span> <span class=\"n\">Twitch</span><span class=\"p\">(</span><span class=\"s1\">'my_app_id'</span><span class=\"p\">,</span> <span class=\"s1\">'my_app_secret'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># get ID of user</span>\n<span class=\"n\">user_info</span> <span class=\"o\">=</span> <span class=\"n\">twitch</span><span class=\"o\">.</span><span class=\"n\">get_users</span><span class=\"p\">(</span><span class=\"n\">logins</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'my_username'</span><span class=\"p\">])</span>\n<span class=\"n\">user_id</span> <span class=\"o\">=</span> <span class=\"n\">user_info</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"s1\">'id'</span><span class=\"p\">]</span>\n</pre>\n<h3>Authentication</h3>\n<p>The Twitch API knows 2 different authentications. App and User Authentication.\nWhich one you need (or if one at all) depends on what calls you want to use.</p>\n<p>Its always good to get at least App authentication even for calls where you dont need it since the rate limmits are way better for authenticated calls.</p>\n<h4>App Authentication</h4>\n<p>App authentication is super simple, just do the following:</p>\n<pre><span class=\"c1\"># add App authentication</span>\n<span class=\"n\">twitch</span><span class=\"o\">.</span><span class=\"n\">authenticate_app</span><span class=\"p\">([])</span>\n</pre>\n<h3>User Authentication</h3>\n<p>To get a user auth token, the user has to explicitly click \"Authorize\" on the twitch website. You can use various online services to generate a token or use my build in authenticator.\nFor my authenticator you have to add the following URL as a \"OAuth Redirect URL\": <code>http://localhost:17563</code>\nYou can set that <a href=\"https://dev.twitch.tv/console\" rel=\"nofollow\">here in your twitch dev dashboard</a>.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">twitchAPI.oauth</span> <span class=\"kn\">import</span> <span class=\"n\">UserAuthenticator</span>\n<span class=\"kn\">from</span> <span class=\"nn\">twitch.types</span> <span class=\"kn\">import</span> <span class=\"n\">AuthScope</span>\n\n<span class=\"n\">target_scope</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">AuthScope</span><span class=\"o\">.</span><span class=\"n\">READ_BITS</span><span class=\"p\">]</span>\n<span class=\"n\">auth</span> <span class=\"o\">=</span> <span class=\"n\">UserAuthenticator</span><span class=\"p\">(</span><span class=\"n\">twitch</span><span class=\"p\">,</span> <span class=\"n\">target_scope</span><span class=\"p\">,</span> <span class=\"n\">force_verify</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n<span class=\"c1\"># this will open your default browser and prompt you with the twitch verification website</span>\n<span class=\"n\">token</span><span class=\"p\">,</span> <span class=\"n\">refresh_token</span> <span class=\"o\">=</span> <span class=\"n\">auth</span><span class=\"o\">.</span><span class=\"n\">authenticate</span><span class=\"p\">()</span>\n<span class=\"c1\"># add User authentication</span>\n<span class=\"n\">twitch</span><span class=\"o\">.</span><span class=\"n\">set_user_authentication</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">,</span> <span class=\"n\">target_scope</span><span class=\"p\">)</span>\n</pre>\n<p>You can reuse this token and use the refresh_token to renew it:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">twitchAPI.oauth</span> <span class=\"kn\">import</span> <span class=\"n\">refresh_access_token</span>\n<span class=\"n\">new_token</span><span class=\"p\">,</span> <span class=\"n\">new_refresh_token</span> <span class=\"o\">=</span> <span class=\"n\">refresh_access_token</span><span class=\"p\">(</span><span class=\"s1\">'refresh_token'</span><span class=\"p\">,</span> <span class=\"s1\">'client_id'</span><span class=\"p\">,</span> <span class=\"s1\">'client_secret'</span><span class=\"p\">)</span>\n</pre>\n<h3>Webhook</h3>\n<h4>Requirements</h4>\n<p>You need to have a public IP with a port open. That port will be 80 by default.\nAuthentication is off by default but you can choose to authenticate to use some Webhook Topics or to get more information.<br>\n<strong>Please note that Your Endpoint URL has to be HTTPS if you choose to authenticate which means that you probably need a reverse proxy like nginx.</strong></p>\n<h3>Start Webhook</h3>\n<p>Example on how to set up a webhook and start it:</p>\n<pre><span class=\"n\">hook</span> <span class=\"o\">=</span> <span class=\"n\">twitch</span><span class=\"o\">.</span><span class=\"n\">get_webhook</span><span class=\"p\">(</span><span class=\"s1\">'https://my.url.com'</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">80</span><span class=\"p\">)</span>\n<span class=\"n\">hook</span><span class=\"o\">.</span><span class=\"n\">authenticate</span><span class=\"p\">(</span><span class=\"n\">twitch</span><span class=\"o\">.</span><span class=\"n\">get_auth_token</span><span class=\"p\">())</span>\n<span class=\"n\">hook</span><span class=\"o\">.</span><span class=\"n\">secret</span> <span class=\"o\">=</span> <span class=\"s1\">'some_fancy_long_secret_string'</span>\n<span class=\"n\">hook</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n</pre>\n<h3>Subscribing to Webhook Topics</h3>\n<p>Define a callback function and subscribe to a event:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">uuid</span> <span class=\"kn\">import</span> <span class=\"n\">UUID</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pprint</span> <span class=\"kn\">import</span> <span class=\"n\">pprint</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">callback_user_changed</span><span class=\"p\">(</span><span class=\"n\">uuid</span><span class=\"p\">:</span> <span class=\"n\">UUID</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">:</span> <span class=\"nb\">dict</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'Callback for UUID </span><span class=\"si\">{</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">uuid</span><span class=\"p\">)</span><span class=\"si\">}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n    <span class=\"n\">pprint</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n<span class=\"n\">success</span><span class=\"p\">,</span> <span class=\"n\">sub_uuid</span> <span class=\"o\">=</span> <span class=\"n\">hook</span><span class=\"o\">.</span><span class=\"n\">subscribe_user_changed</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">callback_user_changed</span><span class=\"p\">)</span>\n</pre>\n<p>The subscription function returns a UUID that identifies this subscription. This means you can use the same callback function for multiple subscriptions.</p>\n<p>To unsubscribe, just use that UUID from the subscription:</p>\n<pre><span class=\"n\">success</span> <span class=\"o\">=</span> <span class=\"n\">hook</span><span class=\"o\">.</span><span class=\"n\">unsubscribe_user_changed</span><span class=\"p\">(</span><span class=\"n\">sub_uuid</span><span class=\"p\">)</span>\n</pre>\n<h3>Stopping the Webhook</h3>\n<p>Stopping the webhook:</p>\n<pre><span class=\"n\">hook</span><span class=\"o\">.</span><span class=\"n\">stop</span><span class=\"p\">()</span>\n</pre>\n\n          </div>"}, "last_serial": 6929264, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "38e41c1305c75a0a1da51ca46228e5fd", "sha256": "526fad5246f4ec6705f3f5f570d7197864aa29dff1414b10a2869165bdbc28e0"}, "downloads": -1, "filename": "twitchAPI-0.1.tar.gz", "has_sig": false, "md5_digest": "38e41c1305c75a0a1da51ca46228e5fd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5465, "upload_time": "2020-03-23T20:17:38", "upload_time_iso_8601": "2020-03-23T20:17:38.516514Z", "url": "https://files.pythonhosted.org/packages/cc/d1/9514035488d4203042a914272f5a23eb3d302035ca0b435e133b953fedf9/twitchAPI-0.1.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "b28a5d437bcfbc82b5914820bec6d0eb", "sha256": "82c3c7b93ebbd0f09cb1424cb5b3c7e7d09d630d356cde49b41aa058d157b2e4"}, "downloads": -1, "filename": "twitchAPI-0.2.1.tar.gz", "has_sig": false, "md5_digest": "b28a5d437bcfbc82b5914820bec6d0eb", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2258, "upload_time": "2020-03-24T21:36:17", "upload_time_iso_8601": "2020-03-24T21:36:17.340602Z", "url": "https://files.pythonhosted.org/packages/85/f3/3d82c12221db915a3fd7c587ffb987445c5a00628b0c4318703df3db301d/twitchAPI-0.2.1.tar.gz", "yanked": false}], "1.0": [{"comment_text": "", "digests": {"md5": "a1bba0d9365d92504fa188d257c21fa3", "sha256": "c3b52eebd5182a715a529e4af0ff80aa4c565d58c245b2092fd53ae755c269d0"}, "downloads": -1, "filename": "twitchAPI-1.0.tar.gz", "has_sig": false, "md5_digest": "a1bba0d9365d92504fa188d257c21fa3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3223, "upload_time": "2020-03-28T19:43:18", "upload_time_iso_8601": "2020-03-28T19:43:18.792102Z", "url": "https://files.pythonhosted.org/packages/18/8b/cb0de1d5c3e1298de56db681497c8288212c8edbe82bd5a5397523d33615/twitchAPI-1.0.tar.gz", "yanked": false}], "1.0b1": [{"comment_text": "", "digests": {"md5": "49a01236c53b8ed9f8ee40a18d25a218", "sha256": "6df3df29b2bfeafc48a9dfed9e05b909b0298bdf3f699cca136b7287e33e7304"}, "downloads": -1, "filename": "twitchAPI-1.0b1.tar.gz", "has_sig": false, "md5_digest": "49a01236c53b8ed9f8ee40a18d25a218", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3138, "upload_time": "2020-03-27T23:40:02", "upload_time_iso_8601": "2020-03-27T23:40:02.484649Z", "url": "https://files.pythonhosted.org/packages/8f/cb/a9905f10c62dfdc549da8e141ba9a19fffef154b496f5770681f3feec05b/twitchAPI-1.0b1.tar.gz", "yanked": false}], "1.1": [{"comment_text": "", "digests": {"md5": "c4ab8dda97209882add6f26f2766437c", "sha256": "2db61fe67aabac7c31b8a9e4f1001f797a173d3111a8a769efcf225d7159e360"}, "downloads": -1, "filename": "twitchAPI-1.1.tar.gz", "has_sig": false, "md5_digest": "c4ab8dda97209882add6f26f2766437c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17491, "upload_time": "2020-04-01T17:18:22", "upload_time_iso_8601": "2020-04-01T17:18:22.263188Z", "url": "https://files.pythonhosted.org/packages/60/d0/0a6ad9e459d110994473a5370671c4f55c8b9917b7b414c0e7189a91b8de/twitchAPI-1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "c4ab8dda97209882add6f26f2766437c", "sha256": "2db61fe67aabac7c31b8a9e4f1001f797a173d3111a8a769efcf225d7159e360"}, "downloads": -1, "filename": "twitchAPI-1.1.tar.gz", "has_sig": false, "md5_digest": "c4ab8dda97209882add6f26f2766437c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17491, "upload_time": "2020-04-01T17:18:22", "upload_time_iso_8601": "2020-04-01T17:18:22.263188Z", "url": "https://files.pythonhosted.org/packages/60/d0/0a6ad9e459d110994473a5370671c4f55c8b9917b7b414c0e7189a91b8de/twitchAPI-1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:43:48 2020"}
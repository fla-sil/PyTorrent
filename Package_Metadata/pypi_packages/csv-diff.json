{"info": {"author": "Simon Willison", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "Intended Audience :: End Users/Desktop", "Intended Audience :: Science/Research", "License :: OSI Approved :: Apache Software License", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": "# csv-diff\n\n[![PyPI](https://img.shields.io/pypi/v/csv-diff.svg)](https://pypi.org/project/csv-diff/)\n[![CircleCI](https://circleci.com/gh/simonw/csv-diff.svg?style=svg)](https://circleci.com/gh/simonw/csv-diff)\n[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](https://github.com/simonw/csv-diff/blob/master/LICENSE)\n\nTool for viewing the difference between two CSV files. See [Generating a commit log for San Francisco\u2019s official list of trees](https://simonwillison.net/2019/Mar/13/tree-history/) (and the [sf-tree-history repo commit log](https://github.com/simonw/sf-tree-history/commits)) for background information on this project.\n\n## Installation\n\n    pip install csv-diff\n\n## Usage\n\nConsider two CSV files:\n\n`one.csv`\n\n    id,name,age\n    1,Cleo,4\n    2,Pancakes,2\n\n`two.csv`\n\n    id,name,age\n    1,Cleo,5\n    3,Bailey,1\n\n`csv-diff` can show a human-readable summary of differences between the files:\n\n    $ csv-diff one.csv two.csv --key=id\n    1 row changed, 1 row added, 1 row removed\n\n    1 row changed\n\n      Row 1\n        age: \"4\" => \"5\"\n\n    1 row added\n\n      id: 3\n      name: Bailey\n      age: 1\n\n    1 row removed\n\n      id: 2\n      name: Pancakes\n      age: 2\n\nThe `--key=id` option means that the `id` column should be treated as the unique key, to identify which records have changed.\n\nThe tool will automatically detect if your files are comma- or tab-separated. You can over-ride this automatic detection and force the tool to use a specific format using `--format=tsv` or `--format=csv`.\n\nYou can use the `--json` option to get a machine-readable difference:\n\n    $ csv-diff one.csv two.csv --key=id --json\n    {\n        \"added\": [\n            {\n                \"id\": \"3\",\n                \"name\": \"Bailey\",\n                \"age\": \"1\"\n            }\n        ],\n        \"removed\": [\n            {\n                \"id\": \"2\",\n                \"name\": \"Pancakes\",\n                \"age\": \"2\"\n            }\n        ],\n        \"changed\": [\n            {\n                \"key\": \"1\",\n                \"changes\": {\n                    \"age\": [\n                        \"4\",\n                        \"5\"\n                    ]\n                }\n            }\n        ],\n        \"columns_added\": [],\n        \"columns_removed\": []\n    }\n\n## As a Python library\n\nYou can also import the Python library into your own code like so:\n\n    from csv_diff import load_csv, compare\n    diff = compare(\n        load_csv(open(\"one.csv\"), key=\"id\"),\n        load_csv(open(\"two.csv\"), key=\"id\")\n    )\n\n`diff` will now contain the same data structure as the output in the `--json` example above.\n\nIf the columns in the CSV have changed, those added or removed olumns will be ignored when calculating changes made to specific rows.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/simonw/csv-diff", "keywords": "", "license": "Apache License, Version 2.0", "maintainer": "", "maintainer_email": "", "name": "csv-diff", "package_url": "https://pypi.org/project/csv-diff/", "platform": "", "project_url": "https://pypi.org/project/csv-diff/", "project_urls": {"Homepage": "https://github.com/simonw/csv-diff"}, "release_url": "https://pypi.org/project/csv-diff/0.6/", "requires_dist": ["click", "dictdiffer", "pytest ; extra == 'test'"], "requires_python": "", "summary": "Python CLI tool and library for diffing CSV files", "version": "0.6", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>csv-diff</h1>\n<p><a href=\"https://pypi.org/project/csv-diff/\" rel=\"nofollow\"><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/41275c4ea881c9751d478c612c76cfb967dbd9dc/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6373762d646966662e737667\"></a>\n<a href=\"https://circleci.com/gh/simonw/csv-diff\" rel=\"nofollow\"><img alt=\"CircleCI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/88a5c4e9427becc338c47ffdff3b474e6ba48845/68747470733a2f2f636972636c6563692e636f6d2f67682f73696d6f6e772f6373762d646966662e7376673f7374796c653d737667\"></a>\n<a href=\"https://github.com/simonw/csv-diff/blob/master/LICENSE\" rel=\"nofollow\"><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/bad0ad2a7195b40874e3a10488118122d89489fd/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d417061636865253230322e302d626c75652e737667\"></a></p>\n<p>Tool for viewing the difference between two CSV files. See <a href=\"https://simonwillison.net/2019/Mar/13/tree-history/\" rel=\"nofollow\">Generating a commit log for San Francisco\u2019s official list of trees</a> (and the <a href=\"https://github.com/simonw/sf-tree-history/commits\" rel=\"nofollow\">sf-tree-history repo commit log</a>) for background information on this project.</p>\n<h2>Installation</h2>\n<pre><code>pip install csv-diff\n</code></pre>\n<h2>Usage</h2>\n<p>Consider two CSV files:</p>\n<p><code>one.csv</code></p>\n<pre><code>id,name,age\n1,Cleo,4\n2,Pancakes,2\n</code></pre>\n<p><code>two.csv</code></p>\n<pre><code>id,name,age\n1,Cleo,5\n3,Bailey,1\n</code></pre>\n<p><code>csv-diff</code> can show a human-readable summary of differences between the files:</p>\n<pre><code>$ csv-diff one.csv two.csv --key=id\n1 row changed, 1 row added, 1 row removed\n\n1 row changed\n\n  Row 1\n    age: \"4\" =&gt; \"5\"\n\n1 row added\n\n  id: 3\n  name: Bailey\n  age: 1\n\n1 row removed\n\n  id: 2\n  name: Pancakes\n  age: 2\n</code></pre>\n<p>The <code>--key=id</code> option means that the <code>id</code> column should be treated as the unique key, to identify which records have changed.</p>\n<p>The tool will automatically detect if your files are comma- or tab-separated. You can over-ride this automatic detection and force the tool to use a specific format using <code>--format=tsv</code> or <code>--format=csv</code>.</p>\n<p>You can use the <code>--json</code> option to get a machine-readable difference:</p>\n<pre><code>$ csv-diff one.csv two.csv --key=id --json\n{\n    \"added\": [\n        {\n            \"id\": \"3\",\n            \"name\": \"Bailey\",\n            \"age\": \"1\"\n        }\n    ],\n    \"removed\": [\n        {\n            \"id\": \"2\",\n            \"name\": \"Pancakes\",\n            \"age\": \"2\"\n        }\n    ],\n    \"changed\": [\n        {\n            \"key\": \"1\",\n            \"changes\": {\n                \"age\": [\n                    \"4\",\n                    \"5\"\n                ]\n            }\n        }\n    ],\n    \"columns_added\": [],\n    \"columns_removed\": []\n}\n</code></pre>\n<h2>As a Python library</h2>\n<p>You can also import the Python library into your own code like so:</p>\n<pre><code>from csv_diff import load_csv, compare\ndiff = compare(\n    load_csv(open(\"one.csv\"), key=\"id\"),\n    load_csv(open(\"two.csv\"), key=\"id\")\n)\n</code></pre>\n<p><code>diff</code> will now contain the same data structure as the output in the <code>--json</code> example above.</p>\n<p>If the columns in the CSV have changed, those added or removed olumns will be ignored when calculating changes made to specific rows.</p>\n\n          </div>"}, "last_serial": 6725643, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "94b57db57821643e5995499b7f59bf77", "sha256": "9d0a2c9a4e67c5b9a5fa12224227136ec1e45335f705fc5a232843e8d1733d48"}, "downloads": -1, "filename": "csv_diff-0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "94b57db57821643e5995499b7f59bf77", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9602, "upload_time": "2019-03-13T02:08:40", "upload_time_iso_8601": "2019-03-13T02:08:40.762147Z", "url": "https://files.pythonhosted.org/packages/83/3a/96f8ca9a7b470bad6321c302262b1ebcb901297f3ec49378f94ccd6972de/csv_diff-0.1-py3-none-any.whl", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "bc3d456869269bbd25e2179cdfb1399f", "sha256": "03d7ea821a0f32413cb731c579aea6e109cb3ac0abf529adf15a3a0a7751bf34"}, "downloads": -1, "filename": "csv_diff-0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "bc3d456869269bbd25e2179cdfb1399f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9640, "upload_time": "2019-03-13T05:07:10", "upload_time_iso_8601": "2019-03-13T05:07:10.847269Z", "url": "https://files.pythonhosted.org/packages/1d/1b/af8fcfe538329d6d3b52a8677cc140485145d14438d8d31955fbff42df0c/csv_diff-0.2-py3-none-any.whl", "yanked": false}], "0.3.1": [{"comment_text": "", "digests": {"md5": "71b2d2c86dfcddc86237d33c6cbe16f7", "sha256": "dec9beec48c763dd7cedee5d203a041bcd7bfdfec95739bab852dfc4389ada49"}, "downloads": -1, "filename": "csv_diff-0.3.1-py3-none-any.whl", "has_sig": false, "md5_digest": "71b2d2c86dfcddc86237d33c6cbe16f7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9827, "upload_time": "2019-04-07T19:45:39", "upload_time_iso_8601": "2019-04-07T19:45:39.900645Z", "url": "https://files.pythonhosted.org/packages/04/80/9c3a9f87ae049a21d94fc11043444c916c9073674fd98fef1629f2766533/csv_diff-0.3.1-py3-none-any.whl", "yanked": false}], "0.4": [{"comment_text": "", "digests": {"md5": "2f82a0924a11f965ef98e33b9376e1ef", "sha256": "0725ca6b6d5d9c6cad1547d1fb5880ab26ae6e5bc43a9307f39cdc228f2edadf"}, "downloads": -1, "filename": "csv_diff-0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "2f82a0924a11f965ef98e33b9376e1ef", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10183, "upload_time": "2019-04-12T02:41:34", "upload_time_iso_8601": "2019-04-12T02:41:34.312779Z", "url": "https://files.pythonhosted.org/packages/76/ba/842673a62fe8cebed702c0356bcaabb42a319913fd09fab022ff294737b1/csv_diff-0.4-py3-none-any.whl", "yanked": false}], "0.5": [{"comment_text": "", "digests": {"md5": "5f7fcffa45015042312147a4d16f3ac6", "sha256": "feeb0afcdc50857a7716224d550b60fc3d4815554efcacf83d588f0d0ff7f6d1"}, "downloads": -1, "filename": "csv_diff-0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "5f7fcffa45015042312147a4d16f3ac6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10748, "upload_time": "2019-04-27T18:19:20", "upload_time_iso_8601": "2019-04-27T18:19:20.166581Z", "url": "https://files.pythonhosted.org/packages/b8/b9/19796004a690d9ea69770460ec3c10d0344337826b815242285b4f9dbb52/csv_diff-0.5-py3-none-any.whl", "yanked": false}], "0.5.1": [{"comment_text": "", "digests": {"md5": "e332d52b61136d63241e1cda9ca4c68e", "sha256": "0afb6e42b0e671889ae0d50927a88577501765df03049df7bd6bd3a9fd10a0e8"}, "downloads": -1, "filename": "csv_diff-0.5.1-py3-none-any.whl", "has_sig": false, "md5_digest": "e332d52b61136d63241e1cda9ca4c68e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10777, "upload_time": "2019-04-27T18:25:28", "upload_time_iso_8601": "2019-04-27T18:25:28.366780Z", "url": "https://files.pythonhosted.org/packages/40/cc/6d48401b56c5d9ee49aedc090b2a7ca4ce5888837ad923b19feb9377913f/csv_diff-0.5.1-py3-none-any.whl", "yanked": false}], "0.6": [{"comment_text": "", "digests": {"md5": "837f250634bc68e6b66e1bbb4b89e778", "sha256": "23f0109bfcc53d13b7c4404c8b0a9f187f9fb854e5aa38c35bfdca9786e88f7c"}, "downloads": -1, "filename": "csv_diff-0.6-py3-none-any.whl", "has_sig": false, "md5_digest": "837f250634bc68e6b66e1bbb4b89e778", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11419, "upload_time": "2020-02-29T19:57:19", "upload_time_iso_8601": "2020-02-29T19:57:19.772122Z", "url": "https://files.pythonhosted.org/packages/ff/2c/55f0b563c9fb3722182faab52a89fb864b6aa608452b95677c99dc6666a0/csv_diff-0.6-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "837f250634bc68e6b66e1bbb4b89e778", "sha256": "23f0109bfcc53d13b7c4404c8b0a9f187f9fb854e5aa38c35bfdca9786e88f7c"}, "downloads": -1, "filename": "csv_diff-0.6-py3-none-any.whl", "has_sig": false, "md5_digest": "837f250634bc68e6b66e1bbb4b89e778", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11419, "upload_time": "2020-02-29T19:57:19", "upload_time_iso_8601": "2020-02-29T19:57:19.772122Z", "url": "https://files.pythonhosted.org/packages/ff/2c/55f0b563c9fb3722182faab52a89fb864b6aa608452b95677c99dc6666a0/csv_diff-0.6-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 00:41:41 2020"}
{"info": {"author": "Tim Pietz", "author_email": "tim@pietz.me", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.8"], "description": "# spiegel-scraper\n[![PyPI](https://img.shields.io/pypi/v/spiegel-scraper)](https://pypi.org/project/spiegel-scraper/)\n\nScrape articles and comments from DER SPIEGEL\n\n## Setup\n```bash\npip install spiegel-scraper\n```\n\n## Usage\n```python\nfrom datetime import date\nimport spiegel_scraper as spon\n\n# list all articles from 2020-01-31\narchive_entries = spon.archive.by_date(date(2020, 1, 31))\n# or, for later replication, retrieve and scrape the html instead\narchive_html = spon.archive.html_by_date(date(2020, 1, 31))\narchive_entries_from_html = spon.archive.scrape_html(archive_html)\n\n# fetch one article by url\narticle_url = archive_entries[0]['url']\narticle = spon.article.by_url(article_url)\n# or alternatively using the html\narticle_html = spon.article.html_by_url(article_url)\narticle_from_html = spon.article.scrape_html(article_html)\n\n# retrieve all comments for an article\ncomments = spon.comments.by_article_id(article['id'])\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/ietz/spiegel-scraper", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "spiegel-scraper", "package_url": "https://pypi.org/project/spiegel-scraper/", "platform": "", "project_url": "https://pypi.org/project/spiegel-scraper/", "project_urls": {"Homepage": "https://github.com/ietz/spiegel-scraper"}, "release_url": "https://pypi.org/project/spiegel-scraper/1.1.1/", "requires_dist": ["cssselect", "dateparser", "lxml", "requests", "tldextract"], "requires_python": "", "summary": "Scrape article metadata and comments from DER SPIEGEL", "version": "1.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>spiegel-scraper</h1>\n<p><a href=\"https://pypi.org/project/spiegel-scraper/\" rel=\"nofollow\"><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6feec733c2c9817ba726d046b6473b02e36c742a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7370696567656c2d73637261706572\"></a></p>\n<p>Scrape articles and comments from DER SPIEGEL</p>\n<h2>Setup</h2>\n<pre>pip install spiegel-scraper\n</pre>\n<h2>Usage</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">date</span>\n<span class=\"kn\">import</span> <span class=\"nn\">spiegel_scraper</span> <span class=\"k\">as</span> <span class=\"nn\">spon</span>\n\n<span class=\"c1\"># list all articles from 2020-01-31</span>\n<span class=\"n\">archive_entries</span> <span class=\"o\">=</span> <span class=\"n\">spon</span><span class=\"o\">.</span><span class=\"n\">archive</span><span class=\"o\">.</span><span class=\"n\">by_date</span><span class=\"p\">(</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">2020</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">31</span><span class=\"p\">))</span>\n<span class=\"c1\"># or, for later replication, retrieve and scrape the html instead</span>\n<span class=\"n\">archive_html</span> <span class=\"o\">=</span> <span class=\"n\">spon</span><span class=\"o\">.</span><span class=\"n\">archive</span><span class=\"o\">.</span><span class=\"n\">html_by_date</span><span class=\"p\">(</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">2020</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">31</span><span class=\"p\">))</span>\n<span class=\"n\">archive_entries_from_html</span> <span class=\"o\">=</span> <span class=\"n\">spon</span><span class=\"o\">.</span><span class=\"n\">archive</span><span class=\"o\">.</span><span class=\"n\">scrape_html</span><span class=\"p\">(</span><span class=\"n\">archive_html</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># fetch one article by url</span>\n<span class=\"n\">article_url</span> <span class=\"o\">=</span> <span class=\"n\">archive_entries</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"s1\">'url'</span><span class=\"p\">]</span>\n<span class=\"n\">article</span> <span class=\"o\">=</span> <span class=\"n\">spon</span><span class=\"o\">.</span><span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">by_url</span><span class=\"p\">(</span><span class=\"n\">article_url</span><span class=\"p\">)</span>\n<span class=\"c1\"># or alternatively using the html</span>\n<span class=\"n\">article_html</span> <span class=\"o\">=</span> <span class=\"n\">spon</span><span class=\"o\">.</span><span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">html_by_url</span><span class=\"p\">(</span><span class=\"n\">article_url</span><span class=\"p\">)</span>\n<span class=\"n\">article_from_html</span> <span class=\"o\">=</span> <span class=\"n\">spon</span><span class=\"o\">.</span><span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">scrape_html</span><span class=\"p\">(</span><span class=\"n\">article_html</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># retrieve all comments for an article</span>\n<span class=\"n\">comments</span> <span class=\"o\">=</span> <span class=\"n\">spon</span><span class=\"o\">.</span><span class=\"n\">comments</span><span class=\"o\">.</span><span class=\"n\">by_article_id</span><span class=\"p\">(</span><span class=\"n\">article</span><span class=\"p\">[</span><span class=\"s1\">'id'</span><span class=\"p\">])</span>\n</pre>\n\n          </div>"}, "last_serial": 6563821, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "74abd8db6b792d21e828280cada4fde0", "sha256": "1053ee0ad31be51c42bcc05cba020bf86a6543e30e124f45462e12acb6b4b852"}, "downloads": -1, "filename": "spiegel_scraper-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "74abd8db6b792d21e828280cada4fde0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4674, "upload_time": "2020-02-03T13:26:54", "upload_time_iso_8601": "2020-02-03T13:26:54.300156Z", "url": "https://files.pythonhosted.org/packages/5a/4e/8afeec504dc461604d5c4c9799a616bdc90db2603d3daa31a782e103ab18/spiegel_scraper-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3817e211ed3ee288cf59c99dbcaff24a", "sha256": "2f119a063ed78eadea6c9cd0fc420e7465a8bd851c80d7178880ca765f78e85c"}, "downloads": -1, "filename": "spiegel-scraper-1.0.0.tar.gz", "has_sig": false, "md5_digest": "3817e211ed3ee288cf59c99dbcaff24a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3867, "upload_time": "2020-02-03T13:26:56", "upload_time_iso_8601": "2020-02-03T13:26:56.790076Z", "url": "https://files.pythonhosted.org/packages/87/07/3fb0bc4ba14cb570abf2317b30bcbfcf341f57c48f83a3d4df990cc95226/spiegel-scraper-1.0.0.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "8233db9b2812adfb6fa658298aff01fa", "sha256": "3f05bd627fdc3796b380beb123d2cd42f869d7d52b0162caf6dc82c2262a1f7f"}, "downloads": -1, "filename": "spiegel_scraper-1.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "8233db9b2812adfb6fa658298aff01fa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4796, "upload_time": "2020-02-03T16:52:54", "upload_time_iso_8601": "2020-02-03T16:52:54.149467Z", "url": "https://files.pythonhosted.org/packages/3c/32/09e7c28036e7721f9c209aeda18bbd5f9e6b4a78bc84e33058f43edde166/spiegel_scraper-1.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8d6a3758fa96d5060b95d9d63d5e7d44", "sha256": "def990d5086afc9bc1bb471a034d4e1f75e65f67255f43ddf4d21b08c477ed54"}, "downloads": -1, "filename": "spiegel-scraper-1.1.0.tar.gz", "has_sig": false, "md5_digest": "8d6a3758fa96d5060b95d9d63d5e7d44", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3688, "upload_time": "2020-02-03T16:52:56", "upload_time_iso_8601": "2020-02-03T16:52:56.162194Z", "url": "https://files.pythonhosted.org/packages/65/63/1178caee7c57add9ab94d622373179183b486a974cf99dd9838f99db3b20/spiegel-scraper-1.1.0.tar.gz", "yanked": false}], "1.1.1": [{"comment_text": "", "digests": {"md5": "848d67afafcd65470abe506090da3c86", "sha256": "9239f0f9f10472182c7b40d3c1f87e970ee9e05f050d66ccf9d485d12eff21b0"}, "downloads": -1, "filename": "spiegel_scraper-1.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "848d67afafcd65470abe506090da3c86", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4799, "upload_time": "2020-02-03T16:59:03", "upload_time_iso_8601": "2020-02-03T16:59:03.861193Z", "url": "https://files.pythonhosted.org/packages/1e/bf/08312e038cdc6b699123acebedee3ec0f307653578fc28abbdea25f69fc4/spiegel_scraper-1.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1aab8ebc2a250dd3650a2659d1b734cc", "sha256": "a1ed5d41f5c4cdd61ff2f2c512392f2fcc82255546b4d18177165f0ca2d2e3b7"}, "downloads": -1, "filename": "spiegel-scraper-1.1.1.tar.gz", "has_sig": false, "md5_digest": "1aab8ebc2a250dd3650a2659d1b734cc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4005, "upload_time": "2020-02-03T16:59:05", "upload_time_iso_8601": "2020-02-03T16:59:05.842116Z", "url": "https://files.pythonhosted.org/packages/4d/89/fa1ef8c5e656d0036a6b7e7e9e994324a6b8ef0178db6ee79b9d6b09879d/spiegel-scraper-1.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "848d67afafcd65470abe506090da3c86", "sha256": "9239f0f9f10472182c7b40d3c1f87e970ee9e05f050d66ccf9d485d12eff21b0"}, "downloads": -1, "filename": "spiegel_scraper-1.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "848d67afafcd65470abe506090da3c86", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4799, "upload_time": "2020-02-03T16:59:03", "upload_time_iso_8601": "2020-02-03T16:59:03.861193Z", "url": "https://files.pythonhosted.org/packages/1e/bf/08312e038cdc6b699123acebedee3ec0f307653578fc28abbdea25f69fc4/spiegel_scraper-1.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1aab8ebc2a250dd3650a2659d1b734cc", "sha256": "a1ed5d41f5c4cdd61ff2f2c512392f2fcc82255546b4d18177165f0ca2d2e3b7"}, "downloads": -1, "filename": "spiegel-scraper-1.1.1.tar.gz", "has_sig": false, "md5_digest": "1aab8ebc2a250dd3650a2659d1b734cc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4005, "upload_time": "2020-02-03T16:59:05", "upload_time_iso_8601": "2020-02-03T16:59:05.842116Z", "url": "https://files.pythonhosted.org/packages/4d/89/fa1ef8c5e656d0036a6b7e7e9e994324a6b8ef0178db6ee79b9d6b09879d/spiegel-scraper-1.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:04:52 2020"}
{"info": {"author": "Roman Gladkov", "author_email": "d1fffuz0r@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "Managers for SQLAlchemy.\r\n========================\r\n\r\nManager for model, methods added in runtime to query.\r\n\r\nInstallation\r\n------------\r\n\r\n.. code-block:: console\r\n\r\n    $ [sudo] pip install sqlalchemy-manager\r\n\r\nDocumentation\r\n-------------\r\n\r\nalchmanager.ManagedQuery\r\n----------------------------\r\n\r\nManager for Query.\r\n\r\nExample\r\n-------\r\n\r\n.. code-block:: python\r\n\r\n    from sqlalchemy.orm import sessionmaker\r\n\r\n    from alchmanager import ManagedQuery, ManagedSession\r\n\r\n\r\n    engine = create_engine('sqlite:///:memory:')\r\n    session = sessionmaker(query_cls=ManagedQuery,\r\n                           bind=engine)()\r\n    Base = declarative_base()\r\n\r\n    class MainManager:\r\n\r\n        @staticmethod\r\n        def is_index(query):\r\n            return query.filter_by(is_index=True)\r\n\r\n        @staticmethod\r\n        def is_public(query):\r\n            return query.filter_by(is_public=True)\r\n\r\n    class Test(Base):\r\n        id = Column(Integer, primary_key=True)\r\n        is_public = Column(Boolean, default=False)\r\n        is_index = Column(Boolean)\r\n\r\n        __manager__ = MainManager\r\n\r\n    session.query(Video).is_index().filter_by(id=1).is_public()\r\n\r\nalchmanager.ManagedSession\r\n------------------------------\r\n\r\nManager for Session. Decorator ``load_manager()`` for register methods\r\ninto session.\r\n\r\nExample\r\n-------\r\n\r\n.. code-block:: python\r\n\r\n    from sqlalchemy.orm import sessionmaker\r\n    from alchmanager import ManagedQuery, ManagedSession\r\n\r\n    engine = create_engine('sqlite:///:memory:')\r\n    session = sessionmaker(class_=ManagedSession,\r\n                           bind=engine)()\r\n\r\n\r\n    @session.load_manager()\r\n    class MainSessionManager:\r\n\r\n        @staticmethod\r\n        def published(query):\r\n            return query.filter_by(is_public=True)\r\n\r\n        @staticmethod\r\n        def has_index(query):\r\n            return query.filter_by(is_index=True)\r\n\r\n    session.query(TestModel).has_index().published().count()", "description_content_type": null, "docs_url": null, "download_url": "https://github.com/d1ffuz0r/sqlalchemy-manager/archive/master.zip", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/d1ffuz0r/sqlalchemy-manager", "keywords": "", "license": "UNKNOWN", "maintainer": "Roman Gladkov", "maintainer_email": "", "name": "sqlalchemy-manager", "package_url": "https://pypi.org/project/sqlalchemy-manager/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/sqlalchemy-manager/", "project_urls": {"Download": "https://github.com/d1ffuz0r/sqlalchemy-manager/archive/master.zip", "Homepage": "https://github.com/d1ffuz0r/sqlalchemy-manager"}, "release_url": "https://pypi.org/project/sqlalchemy-manager/0.0.2/", "requires_dist": null, "requires_python": null, "summary": "Manager for SQLAlchemy", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Manager for model, methods added in runtime to query.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre><span class=\"gp\">$</span> <span class=\"o\">[</span>sudo<span class=\"o\">]</span> pip install sqlalchemy-manager\n</pre>\n</div>\n<div id=\"documentation\">\n<h2>Documentation</h2>\n</div>\n<div id=\"alchmanager-managedquery\">\n<h2>alchmanager.ManagedQuery</h2>\n<p>Manager for Query.</p>\n</div>\n<div id=\"example\">\n<h2>Example</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">sqlalchemy.orm</span> <span class=\"kn\">import</span> <span class=\"n\">sessionmaker</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">alchmanager</span> <span class=\"kn\">import</span> <span class=\"n\">ManagedQuery</span><span class=\"p\">,</span> <span class=\"n\">ManagedSession</span>\n\n\n<span class=\"n\">engine</span> <span class=\"o\">=</span> <span class=\"n\">create_engine</span><span class=\"p\">(</span><span class=\"s1\">'sqlite:///:memory:'</span><span class=\"p\">)</span>\n<span class=\"n\">session</span> <span class=\"o\">=</span> <span class=\"n\">sessionmaker</span><span class=\"p\">(</span><span class=\"n\">query_cls</span><span class=\"o\">=</span><span class=\"n\">ManagedQuery</span><span class=\"p\">,</span>\n                       <span class=\"n\">bind</span><span class=\"o\">=</span><span class=\"n\">engine</span><span class=\"p\">)()</span>\n<span class=\"n\">Base</span> <span class=\"o\">=</span> <span class=\"n\">declarative_base</span><span class=\"p\">()</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MainManager</span><span class=\"p\">:</span>\n\n    <span class=\"nd\">@staticmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">is_index</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">query</span><span class=\"o\">.</span><span class=\"n\">filter_by</span><span class=\"p\">(</span><span class=\"n\">is_index</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@staticmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">is_public</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">query</span><span class=\"o\">.</span><span class=\"n\">filter_by</span><span class=\"p\">(</span><span class=\"n\">is_public</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Test</span><span class=\"p\">(</span><span class=\"n\">Base</span><span class=\"p\">):</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">Integer</span><span class=\"p\">,</span> <span class=\"n\">primary_key</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">is_public</span> <span class=\"o\">=</span> <span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">Boolean</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n    <span class=\"n\">is_index</span> <span class=\"o\">=</span> <span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">Boolean</span><span class=\"p\">)</span>\n\n    <span class=\"n\">__manager__</span> <span class=\"o\">=</span> <span class=\"n\">MainManager</span>\n\n<span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"n\">Video</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">is_index</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">filter_by</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">is_public</span><span class=\"p\">()</span>\n</pre>\n</div>\n<div id=\"alchmanager-managedsession\">\n<h2>alchmanager.ManagedSession</h2>\n<p>Manager for Session. Decorator <tt>load_manager()</tt> for register methods\ninto session.</p>\n</div>\n<div id=\"id1\">\n<h2>Example</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">sqlalchemy.orm</span> <span class=\"kn\">import</span> <span class=\"n\">sessionmaker</span>\n<span class=\"kn\">from</span> <span class=\"nn\">alchmanager</span> <span class=\"kn\">import</span> <span class=\"n\">ManagedQuery</span><span class=\"p\">,</span> <span class=\"n\">ManagedSession</span>\n\n<span class=\"n\">engine</span> <span class=\"o\">=</span> <span class=\"n\">create_engine</span><span class=\"p\">(</span><span class=\"s1\">'sqlite:///:memory:'</span><span class=\"p\">)</span>\n<span class=\"n\">session</span> <span class=\"o\">=</span> <span class=\"n\">sessionmaker</span><span class=\"p\">(</span><span class=\"n\">class_</span><span class=\"o\">=</span><span class=\"n\">ManagedSession</span><span class=\"p\">,</span>\n                       <span class=\"n\">bind</span><span class=\"o\">=</span><span class=\"n\">engine</span><span class=\"p\">)()</span>\n\n\n<span class=\"nd\">@session</span><span class=\"o\">.</span><span class=\"n\">load_manager</span><span class=\"p\">()</span>\n<span class=\"k\">class</span> <span class=\"nc\">MainSessionManager</span><span class=\"p\">:</span>\n\n    <span class=\"nd\">@staticmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">published</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">query</span><span class=\"o\">.</span><span class=\"n\">filter_by</span><span class=\"p\">(</span><span class=\"n\">is_public</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@staticmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">has_index</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">query</span><span class=\"o\">.</span><span class=\"n\">filter_by</span><span class=\"p\">(</span><span class=\"n\">is_index</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"n\">TestModel</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">has_index</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">published</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">()</span>\n</pre>\n</div>\n\n          </div>"}, "last_serial": 800003, "releases": {"0.0.2": [{"comment_text": "", "digests": {"md5": "fc1b3573866e38c814a67eb1d48d7c71", "sha256": "c241d8435eeaa14f9d4c320e7f551c4690017b68b2b148742ff32555c95b720f"}, "downloads": -1, "filename": "sqlalchemy-manager-0.0.2.tar.gz", "has_sig": false, "md5_digest": "fc1b3573866e38c814a67eb1d48d7c71", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2913, "upload_time": "2013-04-04T19:09:04", "upload_time_iso_8601": "2013-04-04T19:09:04.667016Z", "url": "https://files.pythonhosted.org/packages/91/34/d06bbc1018d9f387e7fb69d1609b772d27e084f62496c582b767852d6cfd/sqlalchemy-manager-0.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "fc1b3573866e38c814a67eb1d48d7c71", "sha256": "c241d8435eeaa14f9d4c320e7f551c4690017b68b2b148742ff32555c95b720f"}, "downloads": -1, "filename": "sqlalchemy-manager-0.0.2.tar.gz", "has_sig": false, "md5_digest": "fc1b3573866e38c814a67eb1d48d7c71", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2913, "upload_time": "2013-04-04T19:09:04", "upload_time_iso_8601": "2013-04-04T19:09:04.667016Z", "url": "https://files.pythonhosted.org/packages/91/34/d06bbc1018d9f387e7fb69d1609b772d27e084f62496c582b767852d6cfd/sqlalchemy-manager-0.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:03:55 2020"}
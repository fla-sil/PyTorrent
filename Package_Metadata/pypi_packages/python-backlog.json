{"info": {"author": "hassaku63", "author_email": "takuyahashimoto1988@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Natural Language :: Javanese", "Programming Language :: Python"], "description": "# pbl\nBacklog API V2\u5bfe\u5fdc\u306e\u30e9\u30c3\u30d1\u30fc\u30e9\u30a4\u30d6\u30e9\u30ea\n\n# Usage\n\nInstall\n\n```bash\npip install python-backlog\n```\n\n\nCode snipet\n\n```python\nimport base64\nimport json\nfrom backlog.util import load_conf\nfrom backlog.base import BacklogAPI\n\n\ndef main():\n    \"\"\"\n    Load conf.yml\n    \"\"\"\n    conf = load_conf(\"conf.yml\")[\"backlog\"]\n    api = BacklogAPI(conf[\"space\"], conf[\"api_key\"])\n\n    \"\"\"\n    Project API\n    \"\"\"\n    # list project users\n    # https://developer.nulab-inc.com/ja/docs/backlog/api/2/get-project-list/\n    print(\"# list project users\")\n    users = api.project.list_users(\"SampleProject\")\n    print(json.dumps(users, indent=2))\n\n\n    \"\"\"\n    Wiki API\n    \"\"\"\n    # list wikis\n    # https://developer.nulab-inc.com/ja/docs/backlog/api/2/get-wiki-page-list/\n    print(\"# list wikis\")\n    wikis = api.wiki.list(\"SampleProject\")\n    print(json.dumps(wikis[0], indent=2))\n\n    # get attachment\n    # https://developer.nulab-inc.com/ja/docs/backlog/api/2/get-issue-attachment/\n    print(\"# get attachment\")\n    wiki = [w for w in api.wiki.list(\"SampleProject\") if len(w[\"attachments\"]) > 0][0]\n    attachment = api.wiki.get_attachment(\n        wikiId=wiki[\"id\"],\n        attachmentId=wiki[\"attachments\"][0][\"id\"])\n    attachment[\"data\"] = base64.b64encode(attachment[\"data\"]).decode()\n    print(json.dumps(attachment, indent=2))\n\n\nif __name__ == \"__main__\":\n    main()\n```\n\n# Auth\n\nOct 2018, Currently API Key is supported. NOT support OAuth2 yet.\n\nAPI Client object is initialized with arguments credentials(space and api_key).\n\nThis package provides a helper function to loading config yaml. This helper function is provided by `backlog.util.load_conf` .\n\nload_conf takes an argument path to yaml file. By defalt, `./conf.yml` is given.\n\n# See also\n\nQiita https://qiita.com/hassaku_63/items/b9eb2a1c7ecd3c19507d\n\n# Contact\n\nTwitter: [hassaku63](https://twitter.com/hassaku_63)\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "nulab backlog", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "python-backlog", "package_url": "https://pypi.org/project/python-backlog/", "platform": "", "project_url": "https://pypi.org/project/python-backlog/", "project_urls": null, "release_url": "https://pypi.org/project/python-backlog/0.1.3/", "requires_dist": ["requests (>=2.19.1)", "PyYAML (>=3.13)"], "requires_python": "", "summary": "Backlog API v2 wrapper", "version": "0.1.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>pbl</h1>\n<p>Backlog API V2\u5bfe\u5fdc\u306e\u30e9\u30c3\u30d1\u30fc\u30e9\u30a4\u30d6\u30e9\u30ea</p>\n<h1>Usage</h1>\n<p>Install</p>\n<pre>pip install python-backlog\n</pre>\n<p>Code snipet</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">base64</span>\n<span class=\"kn\">import</span> <span class=\"nn\">json</span>\n<span class=\"kn\">from</span> <span class=\"nn\">backlog.util</span> <span class=\"kn\">import</span> <span class=\"n\">load_conf</span>\n<span class=\"kn\">from</span> <span class=\"nn\">backlog.base</span> <span class=\"kn\">import</span> <span class=\"n\">BacklogAPI</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">    Load conf.yml</span>\n<span class=\"sd\">    \"\"\"</span>\n    <span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"n\">load_conf</span><span class=\"p\">(</span><span class=\"s2\">\"conf.yml\"</span><span class=\"p\">)[</span><span class=\"s2\">\"backlog\"</span><span class=\"p\">]</span>\n    <span class=\"n\">api</span> <span class=\"o\">=</span> <span class=\"n\">BacklogAPI</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">[</span><span class=\"s2\">\"space\"</span><span class=\"p\">],</span> <span class=\"n\">conf</span><span class=\"p\">[</span><span class=\"s2\">\"api_key\"</span><span class=\"p\">])</span>\n\n    <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">    Project API</span>\n<span class=\"sd\">    \"\"\"</span>\n    <span class=\"c1\"># list project users</span>\n    <span class=\"c1\"># https://developer.nulab-inc.com/ja/docs/backlog/api/2/get-project-list/</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"# list project users\"</span><span class=\"p\">)</span>\n    <span class=\"n\">users</span> <span class=\"o\">=</span> <span class=\"n\">api</span><span class=\"o\">.</span><span class=\"n\">project</span><span class=\"o\">.</span><span class=\"n\">list_users</span><span class=\"p\">(</span><span class=\"s2\">\"SampleProject\"</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">users</span><span class=\"p\">,</span> <span class=\"n\">indent</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">))</span>\n\n\n    <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">    Wiki API</span>\n<span class=\"sd\">    \"\"\"</span>\n    <span class=\"c1\"># list wikis</span>\n    <span class=\"c1\"># https://developer.nulab-inc.com/ja/docs/backlog/api/2/get-wiki-page-list/</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"# list wikis\"</span><span class=\"p\">)</span>\n    <span class=\"n\">wikis</span> <span class=\"o\">=</span> <span class=\"n\">api</span><span class=\"o\">.</span><span class=\"n\">wiki</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">(</span><span class=\"s2\">\"SampleProject\"</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">wikis</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">indent</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">))</span>\n\n    <span class=\"c1\"># get attachment</span>\n    <span class=\"c1\"># https://developer.nulab-inc.com/ja/docs/backlog/api/2/get-issue-attachment/</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"# get attachment\"</span><span class=\"p\">)</span>\n    <span class=\"n\">wiki</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">w</span> <span class=\"k\">for</span> <span class=\"n\">w</span> <span class=\"ow\">in</span> <span class=\"n\">api</span><span class=\"o\">.</span><span class=\"n\">wiki</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">(</span><span class=\"s2\">\"SampleProject\"</span><span class=\"p\">)</span> <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">w</span><span class=\"p\">[</span><span class=\"s2\">\"attachments\"</span><span class=\"p\">])</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n    <span class=\"n\">attachment</span> <span class=\"o\">=</span> <span class=\"n\">api</span><span class=\"o\">.</span><span class=\"n\">wiki</span><span class=\"o\">.</span><span class=\"n\">get_attachment</span><span class=\"p\">(</span>\n        <span class=\"n\">wikiId</span><span class=\"o\">=</span><span class=\"n\">wiki</span><span class=\"p\">[</span><span class=\"s2\">\"id\"</span><span class=\"p\">],</span>\n        <span class=\"n\">attachmentId</span><span class=\"o\">=</span><span class=\"n\">wiki</span><span class=\"p\">[</span><span class=\"s2\">\"attachments\"</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"s2\">\"id\"</span><span class=\"p\">])</span>\n    <span class=\"n\">attachment</span><span class=\"p\">[</span><span class=\"s2\">\"data\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">base64</span><span class=\"o\">.</span><span class=\"n\">b64encode</span><span class=\"p\">(</span><span class=\"n\">attachment</span><span class=\"p\">[</span><span class=\"s2\">\"data\"</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">attachment</span><span class=\"p\">,</span> <span class=\"n\">indent</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">))</span>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">\"__main__\"</span><span class=\"p\">:</span>\n    <span class=\"n\">main</span><span class=\"p\">()</span>\n</pre>\n<h1>Auth</h1>\n<p>Oct 2018, Currently API Key is supported. NOT support OAuth2 yet.</p>\n<p>API Client object is initialized with arguments credentials(space and api_key).</p>\n<p>This package provides a helper function to loading config yaml. This helper function is provided by <code>backlog.util.load_conf</code> .</p>\n<p>load_conf takes an argument path to yaml file. By defalt, <code>./conf.yml</code> is given.</p>\n<h1>See also</h1>\n<p>Qiita <a href=\"https://qiita.com/hassaku_63/items/b9eb2a1c7ecd3c19507d\" rel=\"nofollow\">https://qiita.com/hassaku_63/items/b9eb2a1c7ecd3c19507d</a></p>\n<h1>Contact</h1>\n<p>Twitter: <a href=\"https://twitter.com/hassaku_63\" rel=\"nofollow\">hassaku63</a></p>\n\n          </div>"}, "last_serial": 5790085, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "3bfabd4b71c0e9397fc5ea3470e4b328", "sha256": "d32d11115f74d7d4acd7202eb1b9e674c695850226f4a9cb4ad79735d14a7cb9"}, "downloads": -1, "filename": "python_backlog-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "3bfabd4b71c0e9397fc5ea3470e4b328", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9255, "upload_time": "2019-09-06T02:35:29", "upload_time_iso_8601": "2019-09-06T02:35:29.056507Z", "url": "https://files.pythonhosted.org/packages/a7/a8/8deb28ac1e6782a831b1c903a80c6748c0a7bc06d947348ab89744276b57/python_backlog-0.1.1-py3-none-any.whl", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "da1a82d9d1396f4669cf9fcef71806a1", "sha256": "4522f3c5e3b56f2985c9ede2a5b1fe79b70c7587d8aafefc36f0c02e753cfd9b"}, "downloads": -1, "filename": "python_backlog-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "da1a82d9d1396f4669cf9fcef71806a1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9148, "upload_time": "2019-09-06T02:47:06", "upload_time_iso_8601": "2019-09-06T02:47:06.429552Z", "url": "https://files.pythonhosted.org/packages/53/6e/3836fd723ad3e1ed58824a5381019225447ed8d88bca67831c2a833f55ce/python_backlog-0.1.2-py3-none-any.whl", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "6432a9a5261468cfec486ec15edc0533", "sha256": "ea229e875d66c44c79027fae681bfcc0b2a9c3d3862e3b3b7e1bec6aa99bb9da"}, "downloads": -1, "filename": "python_backlog-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "6432a9a5261468cfec486ec15edc0533", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9982, "upload_time": "2019-09-06T04:51:56", "upload_time_iso_8601": "2019-09-06T04:51:56.419318Z", "url": "https://files.pythonhosted.org/packages/12/a7/630da11eb7db62f8e36de01dc60c0096fb07169463eaca78b96d21090bcb/python_backlog-0.1.3-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "6432a9a5261468cfec486ec15edc0533", "sha256": "ea229e875d66c44c79027fae681bfcc0b2a9c3d3862e3b3b7e1bec6aa99bb9da"}, "downloads": -1, "filename": "python_backlog-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "6432a9a5261468cfec486ec15edc0533", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9982, "upload_time": "2019-09-06T04:51:56", "upload_time_iso_8601": "2019-09-06T04:51:56.419318Z", "url": "https://files.pythonhosted.org/packages/12/a7/630da11eb7db62f8e36de01dc60c0096fb07169463eaca78b96d21090bcb/python_backlog-0.1.3-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 03:18:47 2020"}
{"info": {"author": "zlyuan", "author_email": "1277260932@qq.com", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Intended Audience :: Developers", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# \u5206\u5e03\u5f0f\u722c\u866b\u7cbe\u7b80\u6846\u67b6\n\n\n###  \u5b89\u88c5\n```\npip install zspider\n```\n\n###  \u6846\u67b6\u4f9d\u8d56\n+ \u7531\u4e8e\u4f7f\u7528\u4e86\u961f\u5217\u7cfb\u7edf, \u6b64\u722c\u866b\u6846\u67b6\u4f9d\u8d56\u4e8essdb\n\n### \u914d\u7f6e\u722c\u866b\u6846\u67b6\n+ \u521b\u5efa\u4e00\u4e2a\u76ee\u5f55, \u8fd9\u4e2a\u76ee\u5f55\u4f5c\u4e3a\u4f60\u7684\u722c\u866b\u7ec4\u7ec7\u4e3b\u8def\u5f84\n\n```\nmkdir /home/myspider\nmkdir /home/myspider/log\nmkdir /home/myspider/spiders\n```\n\n+ \u521b\u5efa\u65e5\u5fd7\u76ee\u5f55, \u6240\u6709\u7684\u722c\u866b\u7684\u65e5\u5fd7\u90fd\u5c06\u5b58\u653e\u5230\u8fd9\u4e2a\u76ee\u5f55\n\n```\ncd /home/myspider\nmkdir log\n```\n\n+ \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\n```\ntouch /etc/zspider/config.ini\n# win\u7cfb\u7edf: \"c:/zspider/config.ini\"\n# \u5176\u4ed6\u7cfb\u7edf: \"/etc/zspider/config.ini\"\n# \u53ef\u4ee5\u4f7f\u7528\u73af\u5883\u53d8\u91cf ZSPIDER_CONFIG \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u8def\u5f84, \u4f18\u5148\u7ea7\u6700\u9ad8\n```\n\n+ \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e3a\u4f60\u7684\u8bbe\u7f6e\n\n```\n[log]\n;\u662f\u5426\u8f93\u51fa\u5230\u6d41\n;write_stream = true\n;\u662f\u5426\u8f93\u51fa\u5230\u6587\u4ef6\n;write_file = true\n;\u65e5\u5fd7\u6587\u4ef6\u8f93\u51fa\u8def\u5f84\n;write_path = /home/myspider/log\n;\u65e5\u5fd7\u7b49\u7ea7\n;log_level = debug\n;\u6bcf\u9694\u51e0\u5929\u5c31\u65b0\u589e\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\n;log_interval = 1\n;\u4fdd\u7559\u51e0\u4e2a\u65e7\u7684\u65e5\u5fd7\u6587\u4ef6\n;log_backupCount = 2\n\n[seed_queue]\n;\u79cd\u5b50\u961f\u5217\u67e5\u8be2\u540e\u7f00, \u8bf7\u4e0d\u8981\u66f4\u6539\u8fd9\u4e2a\u914d\u7f6e, \u9664\u975e\u4f60\u5b8c\u5168\u4e86\u89e3\u6b64\u722c\u866b\u6846\u67b6\u7684\u961f\u5217\u7cfb\u7edf\u662f\u5982\u4f55\u8fd0\u884c\u7684\n;suffix = ['vip', 'd1', 'd2', 'd3', 'seed', 'error']\n\n[public_constant]\n;\u8bf7\u6c42\u7b49\u5f85\u65f6\u95f4\n;req_timeout = 20\n;\u4e00\u6b21\u5b8c\u6574\u7684\u4efb\u52a1\u903b\u8f91\u4e2d\u51fa\u9519\u65f6, \u7b49\u5f85\u4e00\u5b9a\u65f6\u95f4\u540e\u624d\u80fd\u5f00\u59cb\u4e0b\u4e00\u4e2a\u4efb\u52a1\n;spider_err_wait_time = 3\n;\u79cd\u5b50\u961f\u5217\u4e3a\u7a7a\u540e\u722c\u866b\u4f11\u7720\u65f6\u95f4\n;empty_seed_wait_time = 120\n;\u9ed8\u8ba4html\u7f16\u7801\u65b9\u5f0f\n;default_html_encoding = 'utf-8'\n;\u91cd\u8bd5\u7b49\u5f85\u65f6\u95f4\n;retry_wait_fixed = 0.5\n;\u6700\u5927\u5c1d\u8bd5\u6b21\u6570\n;max_attempt_count = 5\n\n[ssdb]\n;\u662f\u5426\u4e3a\u96c6\u7fa4\ncluster = false\n;\u4e3b\u673a\u5730\u5740\nhost = \u4f60\u7684ssdb\u670d\u52a1\u4e3b\u673a\n;\u4e3b\u673a\u7aef\u53e3\nport = \u4f60\u7684ssdb\u670d\u52a1\u7aef\u53e3\n\n[proxy]\n;use_proxy = false\n;\u4ee3\u7406\u83b7\u53d6\u670d\u52a1\u5668ip\u548c\u7aef\u53e3,\u5982(xxx.xxx.xxx:1234)\n;proxy_server =\n;\u4ee3\u7406\u83b7\u53d6\u670d\u52a1\u5668\u8def\u5f84,\u5982(getproxy?format=json)\n;proxy_path =\n;\u65e0\u6cd5\u83b7\u53d6\u4ee3\u7406\u5730\u5740\u65f6\u91cd\u8bd5\u7b49\u5f85\u65f6\u95f4\n;except_wait = 1\n;\u4ee3\u7406\u6a21\u5757\u5305\u540d\n;proxy_pack_name = zspider.proxy_base\n;\u4ee3\u7406\u6a21\u5757\u540d\n;proxy_class_name = proxy_base\n```\n\n# \u5927\u529f\u544a\u6210, \u7ec8\u4e8e\u53ef\u4ee5\u5f00\u59cb\u5236\u4f5c\u722c\u866b\u4e86\n\n### \u4e00\u4e2a\u7b80\u5355\u7684\u722c\u866b\n\n+ \u5728\u722c\u866b\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6 my\\_spider.py, \u5199\u5165\u5982\u4e0b\u5185\u5bb9\n\n```python\nfrom zspider.spider_base import spider_base\n\nclass my_spider(spider_base):\n    spider_name = 'my_spider'\n\n    def start_seed(self):\n        yield self.make_seed('https://pypi.org/project/zspider', self.parser_html, encoding='utf8')\n\n    def parser_html(self, res):\n        self.log.info(res.response_text)\n\nif __name__ == '__main__':\n    a = my_spider()\n    a.yield_for_start_seed()\n    a.run()\n```\n\n+ \u8fd0\u884c\u5b83, \u968f\u540e\u4f60\u53ef\u4ee5\u5728\u63a7\u5236\u53f0\u770b\u5230\u6253\u5370\u51fa\u6765\u7684\u7f51\u9875\u6570\u636e\n\n### \u8fd9\u4e2a\u722c\u866b\u505a\u4e86\u4ec0\u4e48\n```python\n# \u4ece\u722c\u866b\u6846\u67b6zspider\u7684spider_base\u6a21\u5757\u4e2d\u5bfc\u5165spider_base\u7c7b\nfrom zspider.spider_base import spider_base\n\n# \u521b\u5efa\u81ea\u5df1\u7684\u722c\u866b\u7c7b\u5e76\u7ee7\u627fspider_base\nclass my_spider(spider_base):\n    #\u8bbe\u7f6e\u722c\u866b\u7684\u540d\u79f0\u4e3amy_spider, \u6ce8\u610f: \u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u540d\u79f0\u4f1a\u62a5\u9519\n    spider_name = 'my_spider'\n\n    #\u722c\u866b\u5f00\u59cb\u722c\u53d6\u7f51\u9875\u65f6\u603b\u6709\u4e00\u4e2a\u6700\u5f00\u59cb\u7684\u7f51\u5740\u7ed9\u5b83\u6293\u53d6, \u8fd9\u91cc\u63d0\u4ea4\u6700\u5f00\u59cb\u7684\u7f51\u5740\u7ed9\u79cd\u5b50\u961f\u5217\n    def start_seed(self):\n        #\u6784\u5efa\u5e76\u63d0\u4ea4\u4e00\u4e2aurl\u79cd\u5b50\u7ed9\u79cd\u5b50\u961f\u5217, \u8fd9\u4e2a\u79cd\u5b50\u5305\u542b\u4e86\u4e09\u79cd\u57fa\u672c\u4fe1\u606f: \u6293\u53d6\u7684\u7f51\u5740\u662f'https://pypi.org/project/zspider', \u7528parser_html\u51fd\u6570\u6765\u89e3\u6790\u7f51\u9875, \u8fd9\u4e2a\u7f51\u9875\u7684\u7f16\u7801\u662futf8\n        yield self.make_seed('https://pypi.org/project/zspider', self.parser_html, encoding='utf8')\n\n    #\u521b\u5efa\u4e00\u4e2a\u89e3\u6790\u51fd\u6570, \u6b64\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570, \u6b64\u53c2\u6570\u662f_seed.Seed\u7c7b\u7684\u5b9e\u4f8b\n    def parser_html(self, res):\n        #\u5c06\u7f51\u9875\u6570\u636e\u6253\u5370\u51fa\u6765\n        self.log.info(res.response_text)\n\nif __name__ == '__main__':\n    #\u722c\u866b\u5b9e\u4f8b\u5316\n    a = my_spider()\n    #\u5f00\u59cb\u63d0\u4ea4\u521d\u59cb\u79cd\u5b50\n    a.yield_for_start_seed()\n    #\u5f00\u542f\u722c\u866b\n    a.run()\n```\n\n### \u8ba9\u722c\u866b\u4e0d\u505c\u7684\u722c\u4e0b\u53bb\n```\n    #\u5728\u89e3\u6790\u51fd\u6570\u4e2d\n    def parser_html(self, res):\n        urls = []\n        #\u5728\u6b64\u5904\u5199\u5165\u81ea\u5df1\u7684\u89e3\u6790\u4ee3\u7801, \u83b7\u53d6\u8fd9\u4e2a\u7f51\u9875\u7684\u4e00\u4e9burl\u5b58\u5165\u5230urls\u4e2d\n        #\u904d\u5386\u521b\u5efa\u5e76\u63d0\u4ea4url\u79cd\u5b50\n        for url in urls:\n            #\u53bb\u91cd\u68c0\u67e5, \u53ea\u6709\u7b2c\u4e00\u6b21\u68c0\u67e5\u7684\u6570\u636e\u624d\u4f1a\u8fd4\u56deTrue, \u53ef\u4ee5\u9632\u6b62\u5df2\u7ecf\u6293\u53d6\u7684\u9875\u9762\u518d\u6b21\u6293\u53d6\u5bfc\u81f4\u6b7b\u5faa\u73af\n            if self.dup_check(url):\n                #\u8fd9\u91cc\u6ca1\u6709\u5199encoding, \u722c\u866b\u6846\u67b6\u4f1a\u5bf9\u6bcf\u4e00\u4e2a\u7f51\u9875\u81ea\u52a8\u5206\u6790\u51fa\u5408\u9002\u7684\u7f16\u7801\u6765\u89e3\u6790\u7f51\u9875, \u5c31\u50cf\u6d4f\u89c8\u5668\u4e00\u6837\n                yield self.make_seed(url, self.parser_html)\n\n        self.save_result('\u4f60\u60f3\u8981\u4fdd\u5b58\u7684\u6570\u636e, \u5b83\u5e94\u8be5\u662f\u4e00\u4e2adict')\n```\n\n### spider\\_base\u5185\u5efa\u53c2\u6570\u8bf4\u660e\n+ \u6240\u6709\u7684\u91cd\u590d\u53c2\u6570\u9075\u5faa\u5c31\u8fd1\u4f18\u5148\u539f\u5219\n\n\u53c2\u6570\u540d|\u6570\u636e\u7c7b\u578b|\u9ed8\u8ba4\u503c|\u63cf\u8ff0|\u5728make\\_seed\u4e2d<br>\u4e3a\u79cd\u5b50\u5355\u72ec\u8bbe\u7f6e\n--|:--:|:--:|---|:--:\nspider\\_name | str | | \u5fc5\u987b\u8bbe\u7f6e |\nmethod | str | get | \u9ed8\u8ba4\u8bf7\u6c42\u65b9\u5f0f | \u662f\nencoding | str | | \u9ed8\u8ba4\u9875\u9762\u7f16\u7801\u89e3\u7801\u6a21\u5f0f, \u8bbe\u4e3aNone\u7531\u722c\u866b\u6846\u67b6\u81ea\u52a8\u5224\u65ad | \u662f\nbase\\_headers | dict | {} | \u9ed8\u8ba4\u8bf7\u6c42\u5934, \u5141\u8bb8\u7528\u6237\u6dfb\u52a0\u6216\u4fee\u6539\u8bf7\u6c42\u5934, \u5ffd\u7565\u5927\u5c0f\u5199, \u722c\u866b\u6846\u67b6\u4f1a\u81ea\u52a8\u8865\u5168\u5fc5\u987b\u7684\u8bf7\u6c42\u5934\u5b57\u6bb5 | \u662f\ntime\\_out | float | 20 | \u8bf7\u6c42\u8d85\u65f6 | \u662f\nauto\\_cookie_enable | bool | False | \u662f\u5426\u81ea\u52a8\u7ba1\u7406cookie\ncheck\\_html_func | function<br>str | | \u9875\u9762\u89e3\u6790\u9884\u5904\u7406\u51fd\u6570, \u53ef\u80fd\u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u5bfc\u81f4\u9875\u9762\u5185\u5bb9\u4e0d\u662f\u4f60\u9884\u60f3\u7684\u5185\u5bb9, \u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u68c0\u67e5\u9875\u9762\u5185\u5bb9, \u5982\u679c\u4e0d\u662f\u4f60\u60f3\u8981\u7684\u5185\u5bb9\u8bf7\u8fd4\u56deFalse, \u722c\u866b\u6846\u67b6\u4f1a\u66f4\u6362\u4ee3\u7406\u540e\u91cd\u65b0\u6293\u53d6\u6b64\u9875\u9762 | \u662f\nretry\\_http\\_code | list | [] | \u5982\u679c\u9875\u9762\u72b6\u6001\u7801\u5728\u8fd9\u4e2a\u5217\u8868\u4e2d, \u722c\u866b\u6846\u67b6\u4f1a\u91cd\u65b0\u6293\u53d6\u9875\u9762, \u5982404 |\n\n\n### spider\\_base\u65b9\u6cd5\u8bf4\u660e\n+ run\\_of\\_error\\_parser\n> \u4ec5\u4f7f\u7528\u89e3\u6790\u9519\u8beferror\\_parser\u961f\u5217\u8fdb\u884c\u6293\u53d6, \u5bf9\u8c03\u8bd5\u722c\u866b\u5f88\u6709\u5e2e\u52a9\n\n+ run\n> \u8fd0\u884c\u722c\u866b\n\n+ dup\\_check\n> \u53bb\u91cd\u68c0\u67e5, \u53ef\u4ee5\u6709\u6548\u907f\u514d\u91cd\u590d\u6293\u53d6\u9875\u9762\n\n\u53c2\u6570\u540d|\u6570\u636e\u7c7b\u578b|\u9ed8\u8ba4\u503c|\u63cf\u8ff0\n--|:--:|:--:|---\nitem | | | \u5fc5\u987b\u53c2\u6570, \u8fd9\u4e2a\u53c2\u6570\u5728\u8fd0\u7b97\u4e4b\u524d\u4f1a\u8c03\u7528str\u683c\u5f0f\u4e3a\u5b57\u7b26\u4e32, \u7136\u540e\u52a0\u5bc6\u4e3amd5\\_32\u4f4d\u5b57\u7b26\u4e32, \u53ea\u6709\u7b2c\u4e00\u6b21\u8c03\u7528\u53bb\u91cd\u68c0\u67e5\u7684\u6570\u636e\u624d\u4f1a\u8fd4\u56deTrue\ncollname | str | None | \u53ef\u9009\u53c2\u6570, \u53bb\u91cd\u8fc7\u6ee4\u5668\u4f7f\u7528\u54ea\u4e2a\u6587\u6863\u4fdd\u5b58\u88ab\u53bb\u91cd\u7684\u6570\u636e, \u5982\u679c\u8bbe\u4e3aNone, \u6587\u6863\u540d\u9ed8\u8ba4\u4e3a<\u722c\u866b\u540d:dup>\n\n+ clear\\_all\\_queue\n> \u6e05\u9664\u961f\u5217, \u614e\u7528, \u6b64\u51fd\u6570\u4f1a\u5c06\u722c\u866b\u7684\u79cd\u5b50\u5b8c\u5168\u6e05\u9664\n\n\u53c2\u6570\u540d|\u6570\u636e\u7c7b\u578b|\u9ed8\u8ba4\u503c|\u63cf\u8ff0\n--|:--:|:--:|---\nclear\\_parser\\_error | bool | True | \u662f\u5426\u6e05\u9664\u89e3\u6790\u9519\u8bef\u7684\u961f\u5217\nclear\\_dup | bool | True | \u662f\u5426\u6e05\u9664\u53bb\u91cd\u8fc7\u6ee4\u5668\u6587\u6863\n\n\n+ make\\_seed\n> \u6b64\u51fd\u6570\u7528\u6237\u6784\u5efa\u4e00\u4e2aurl\u79cd\u5b50, \u5b83\u5c06\u548c\u9875\u9762\u76f8\u5173\u7684\u4e00\u5207\u4fe1\u606f\u4fdd\u5b58\u5230\u4e00\u4e2a\u79cd\u5b50\u91cc\u9762\n\n\u53c2\u6570\u540d|\u6570\u636e\u7c7b\u578b|\u5fc5\u987b\u53c2\u6570|\u63cf\u8ff0\n--|:--:|:--:|---\nurl | str | | \u8981\u6293\u53d6\u7684\u7f51\u5740, \u5c3d\u91cf\u628ahttp\u6216https\u5199\u5165, \u8fd9\u6837\u6293\u53d6\u66f4\u51c6\u786e, \u5141\u8bb8\u4e3a\u7a7a\nparser\\_func | function<br>str | \u662f | \u8868\u793a\u9875\u9762\u6293\u53d6\u6210\u529f\u540e\u8c03\u7528\u54ea\u4e2a\u89e3\u6790\u51fd\u6570\u6765\u89e3\u6790\u5b83, \u6b64\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570, \u8bf7\u53c2\u8003[\u53ef\u7ee7\u627f\u51fd\u6570\u8bf4\u660e.parser\\_response]\ncheck\\_html\\_func | function<br>str | | \u9875\u9762\u6293\u53d6\u6210\u529f\u540e\u8c03\u7528\u54ea\u4e2a\u9875\u9762\u89e3\u6790\u9884\u5904\u7406\u51fd\u6570, \u6b64\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570, \u8bf7\u53c2\u8003[\u53ef\u7ee7\u627f\u51fd\u6570\u8bf4\u660e.check\\_has\\_need\\_data]\nmeta | python\u57fa\u672c\u7c7b\u578b | | \u6b64\u53c2\u6570\u7528\u4e8e\u4fdd\u5b58\u7528\u6237\u60f3\u8981\u4f20\u9012\u5230\u4e0b\u4e00\u4e2a\u89e3\u6790\u51fd\u6570\u7684\u6570\u636e, \u6ca1\u9519\u5c31\u548cscrapy\u7684meta\u4e00\u6837\nua\\_type | str | | \u968f\u673a\u6d4f\u89c8\u5668\u5934\u7c7b\u578b('pc', 'ua\\_type', 'ios')\nmethod | str | | \u4f7f\u7528\u4ec0\u4e48\u65b9\u5f0f\u8bf7\u6c42url, get\u8fd8\u662fpost, \u5982\u679c\u4e3a\u7a7a\u5219\u4f7f\u7528\u5185\u5efa\u7684\u722c\u866b\u5185\u5efa\u53c2\u6570method, \u8fd8\u662f\u7a7a\u5219\u9ed8\u8ba4\u4e3aget\nparams | | | \u53c2\u8003requests\u7684params\ncookies | dict | | cookies, \u8981\u6c42\u722c\u866b\u5185\u5efa\u53c2\u6570cookie\\_enable\u4e3aTrue\nheaders | dict | | \u8bf7\u6c42\u5934, \u53c2\u8003\u722c\u866b\u5185\u5efa\u53c2\u6570base\\_headers\ndata | | | \u53c2\u8003requests\u7684data\ntimeout | float | | \u9875\u9762\u8bf7\u6c42\u7b49\u5f85\u65f6\u95f4, \u8d85\u65f6\u5219\u8ba4\u4e3a\u8bf7\u6c42\u5931\u8d25, \u8bbe\u4e3a\u7a7a\u62160, \u722c\u866b\u6846\u67b6\u4f1a\u81ea\u52a8\u66f4\u6539\u4e3a20, \u722c\u866b\u4e0d\u5e94\u8be5\u4e00\u76f4\u7b49\u5f85\u4e00\u4e2a\u7f51\u9875\nencoding | str | | \u9875\u9762\u7f16\u7801\u89e3\u7801\u65b9\u5f0f, gbk\u8fd8\u662futf8? \u8bbe\u4e3a\u7a7a\u5219\u4f7f\u7528\u722c\u866b\u5185\u5efa\u53c2\u6570encoding, \u8fd8\u662f\u7a7a\u5219\u7531\u722c\u866b\u6846\u67b6\u667a\u80fd\u5224\u65ad. \u5f53\u9875\u9762\u662f\u56fe\u7247\u6216\u662f\u5176\u4ed6\u975e\u6587\u672c\u9875\u9762\u65f6, \u8bbe\u4e3aFalse\u5173\u95ed\u6b64\u79cd\u5b50\u7684\u89e3\u7801\u529f\u80fd\nproxies | dict | | \u4e3b\u52a8\u4e3a\u6b64\u79cd\u5b50\u8bbe\u7f6e\u4ee3\u7406\n\n\n\n+ yield\\_for\\_start\\_seed\n> \u6839\u636estart\\_url\u51fd\u6570\u63d0\u4ea4\u521d\u59cb\u79cd\u5b50\n\n\u53c2\u6570\u540d|\u6570\u636e\u7c7b\u578b|\u9ed8\u8ba4\u503c|\u63cf\u8ff0\n--|:--:|:--:|---\nforce\\_yield | bool | False | \u662f\u5426\u5f3a\u884c\u63d0\u4ea4\u521d\u59cb\u79cd\u5b50, \u5982\u679c\u4e3aFalse, \u5728\u6240\u6709\u6b63\u5e38\u7684\u79cd\u5b50\u6293\u53d6\u5b8c\u6bd5\u4e4b\u524d\u5ffd\u7565\u672c\u6b21\u64cd\u4f5c, \u5982\u679c\u4e3aTrue, \u4e0d\u7ba1\u662f\u5426\u5b58\u5728\u672a\u6293\u53d6\u5b8c\u6bd5\u7684\u79cd\u5b50\u90fd\u7acb\u5373\u63d0\u4ea4\u521d\u59cb\u79cd\u5b50\n\n### \u53ef\u7ee7\u627f\u51fd\u6570\u8bf4\u660e\n+ spider\\_init\n> \u722c\u866b\u521d\u59cb\u5316\u5b8c\u6210\u540e\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\n\n+ start\\_seed\n> \u63d0\u4ea4\u521d\u59cb\u79cd\u5b50\u51fd\u6570, yield\\_for\\_start\\_seed\u65b9\u6cd5\u4f1a\u8c03\u7528\u6b64\u51fd\u6570, \u6b64\u51fd\u6570\u5141\u8bb8\u63d0\u4ea4\u591a\u4e2a\u521d\u59cb\u79cd\u5b50\n\n+ check\\_has\\_need\\_data\n> \u9875\u9762\u89e3\u6790\u9884\u5904\u7406\u51fd\u6570, \u8981\u4f7f\u7528\u6b64\u51fd\u6570\u5fc5\u987b\u5728\u6784\u5efa\u79cd\u5b50\u7684\u65f6\u5019\u7528\u53c2\u6570check\\_html\\_func\u6307\u660e, \u6216\u8005\u5728spider\\_base\u5185\u5efa\u53c2\u6570\u4e2d\u8bbe\u7f6e\u9ed8\u8ba4\u503c, \u5982\u679c\u4f60\u8fd4\u56de\u4e86False, \u90a3\u4e48\u722c\u866b\u6846\u67b6\u4f1a\u91cd\u65b0\u6293\u53d6\u8fd9\u4e2a\u9875\u9762. \u5982\u679c\u4f60\u7684\u4ee3\u7801\u51fa\u9519\u4e86, \u722c\u866b\u6846\u67b6\u4f1a\u5c06\u8fd9\u4e2a\u79cd\u5b50\u653e\u5165error\u961f\u5217\n\n\u53c2\u6570\u540d|\u6570\u636e\u7c7b\u578b|\u63cf\u8ff0\n--|:--:|---\nres | seed.Seed | \u6b64\u503c\u5305\u542b\u4e86\u6293\u53d6\u6210\u529f\u7684\u9875\u9762\u6570\u636e\u4ee5\u53ca\u539f\u59cb\u79cd\u5b50\u7684\u4fe1\u606f, \u53c2\u8003seed.Seed\u53c2\u6570\u8bf4\u660e. \u5982\u679curl\u662f\u7a7a\u7684, \u90a3\u4e48\u8fd9\u4e2a\u53c2\u6570\u662f\u4e00\u4e2adict, \u8bf7\u53c2\u8003\u539f\u59cb\u4ee3\u7801seed.Seed.\\_\\_attrs\\_dict\\_\\_\n\n+ parser\\_response\n> \u9875\u9762\u89e3\u6790\u51fd\u6570, \u8981\u4f7f\u7528\u6b64\u51fd\u6570\u5fc5\u987b\u5728\u6784\u5efa\u79cd\u5b50\u7684\u65f6\u5019\u7528\u53c2\u6570parser\\_func\u6307\u660e, \u4f60\u53ef\u4ee5\u5728\u6b64\u51fd\u6570\u5185\u6b63\u5f0f\u89e3\u6790\u9875\u9762, \u7136\u540e\u4f7f\u7528yield\u63d0\u4ea4\u79cd\u5b50, \u5982\u679c\u4f60\u7684\u4ee3\u7801\u51fa\u9519\u4e86, \u722c\u866b\u6846\u67b6\u4f1a\u5c06\u8fd9\u4e2a\u79cd\u5b50\u653e\u5165error\\_parser\u961f\u5217\n\n\u53c2\u6570\u540d|\u6570\u636e\u7c7b\u578b|\u63cf\u8ff0\n--|:--:|---\nres | seed.Seed | \u6b64\u503c\u5305\u542b\u4e86\u6293\u53d6\u6210\u529f\u7684\u9875\u9762\u6570\u636e\u4ee5\u53ca\u539f\u59cb\u79cd\u5b50\u7684\u4fe1\u606f, \u53c2\u8003seed.Seed\u53c2\u6570\u8bf4\u660e. \u5982\u679curl\u662f\u7a7a\u7684, \u90a3\u4e48\u8fd9\u4e2a\u53c2\u6570\u662f\u4e00\u4e2adict, \u8bf7\u53c2\u8003\u539f\u59cb\u4ee3\u7801seed.Seed.\\_\\_attrs\\_dict\\_\\_\n\n### seed.Seed\u53c2\u6570\u8bf4\u660e\n+ \u4f60\u6784\u5efa\u79cd\u5b50\u65f6\u4f20\u5165\u7684\u6240\u6709\u53c2\u6570\u90fd\u5c06\u4f1a\u6210\u4e3a\u79cd\u5b50\u5b9e\u4f8b\u7684\u5c5e\u6027, \u5f53\u722c\u866b\u6846\u67b6\u4f7f\u7528\u8fd9\u4e2a\u79cd\u5b50\u6210\u529f\u6293\u53d6\u9875\u9762\u540e, \u4ee5\u4e0b\u5c5e\u6027\u5c06\u53ef\u7528\n\n\u53c2\u6570\u540d|\u6570\u636e\u7c7b\u578b|\u63cf\u8ff0\n--|:--:|---\nresponse | | \u8bf7\u53c2\u8003requests.Request\nresponse\\_text | str | \u7f51\u9875\u6e90\u4ee3\u7801\nresponse\\_etree | | \u8bf7\u53c2\u8003lxml.etree.\\_Element\nresponse\\_json | dict | \u5c06\u7f51\u9875\u6e90\u4ee3\u7801\u89c6\u4e3ajson\u683c\u5f0f\u5e76\u83b7\u53d6\u8f6c\u6362\u4e3adict\u7684\u503c\nraw\\_data | bytes | \u83b7\u53d6\u7f51\u9875\u539f\u59cb\u6570\u636e, \u5982\u679c\u662f\u56fe\u7247\u6216\u5176\u4ed6\u975e\u6587\u672c\u7f51\u9875\u65f6\u975e\u5e38\u6709\u7528\n\n### seed.Seed\u65b9\u6cd5\u8bf4\u660e\n\n+ url\\_join\n> \u8865\u5168\u8fde\u63a5\u5730\u5740\u4e3a\u5b8c\u6574\u7684\u7f51\u9875\u5730\u5740\n\n\u53c2\u6570\u540d|\u6570\u636e\u7c7b\u578b|\u63cf\u8ff0\n--|:--:|---\nlink | str | \u4e00\u4e2a\u8fde\u63a5\u5730\u5740, \u5b83\u53ef\u80fd\u662f\u4e0d\u5b8c\u6574\u7684, \u4f7f\u7528\u6b64\u51fd\u6570\u540e\u4f1a\u6839\u636e\u5f53\u524d\u9875\u9762\u5730\u5740\u8865\u5168\u4e3a\u5b8c\u6574\u7684\u5730\u5740\n\n### \u4ee3\u7406\u63a5\u53e3\u8bf4\u660e\n\n+ \u521b\u5efa\u4e00\u4e2a\u7c7b, \u7ee7\u627fzspider.proxy\\_base\u6a21\u5757\u4e2d\u7684proxy\\_base\u7c7b\n\n```python\n# my_proxy.py\nfrom zspider.proxy_base import proxy_base\n\nclass my_proxy_interface(proxy_base):\n    def proxy_init(self):\n        # \u521d\u59cb\u5316\u540e\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\n        pass\n\n    def get_proxy(self):\n        # \u8fd4\u56de\u5f53\u524d\u4f7f\u7528\u7684\u4ee3\u7406, \u5b57\u5178{\"http\": \"http://\u4e3b\u673a:\u7aef\u53e3\", \"https\": \"http://\u4e3b\u673a:\u7aef\u53e3\"}\n        pass\n\n    def change_proxy(self):\n        # \u8981\u6c42\u5207\u6362\u4ee3\u7406\u5730\u5740\n        pass\n\n# \u7136\u540e\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d[proxy]\u8868\u7684proxy_pack_name\u4e3a\u4f60\u7684\u4ee3\u7406\u63a5\u53e3\u5305\u540d, \u4fee\u6539proxy_class_name\u4e3a\u4f60\u7684\u4ee3\u7406\u63a5\u53e3\u7c7b\u540d\n```\n\n### \u66f4\u65b0\u65e5\u5fd7\n\u53d1\u5e03\u65f6\u95f4|\u53d1\u5e03\u7248\u672c|\u53d1\u5e03\u8bf4\u660e\n--|:--:|---\n19-03-28 | 1.0.2 | \u4fee\u590d\u4e00\u4e2abug, \u5728\u672a\u8bbe\u7f6eencoding\u7684\u60c5\u51b5\u4e0b\u9875\u9762\u5206\u6790\u4f1a\u62a5\u9519\n19-03-28 | 1.0.1 | \u73b0\u5728\u7ec8\u7ed3\u8fdb\u7a0b\u65f6,\u5f53\u524d\u79cd\u5b50\u4f1a\u653e\u5165error\u961f\u5217,\u79cd\u5b50\u4e0d\u4f1a\u4e22\u5931\u4e86\n19-03-27 | 1.0.0 | \u53d1\u5e03\u6b63\u5f0f\u7248, \u76f8\u5bf9\u4e8e\u65e7\u7248\u672c(0.1.0)\u66f4\u6539\u4e86\u5927\u591a\u6570\u4f7f\u7528\u65b9\u6cd5, \u53d6\u6d88\u4e86mongo\u4f9d\u8d56:\u56e0\u4e3a\u7528\u6237\u4e0d\u4e00\u5b9a\u8981\u7528mongo\u5b58\u6570\u636e, \u7f13\u5b58\u670d\u52a1\u7531redis\u6539\u4e3a\u4e86ssdb, \u914d\u7f6e\u6587\u4ef6\u7b80\u5316\u4e3a\u6700\u5c11\u9700\u8981[ssdb]\u8868, \u5176\u4ed6\u4fee\u6539\u8bf7\u81ea\u884c\u9605\u8bfb\u8bf4\u660e\u672c\u6587\u6863\n\n- - -\n##### \u672c\u9879\u76ee\u4ec5\u4f9b\u6240\u6709\u4eba\u5b66\u4e60\u4ea4\u6d41\u4f7f\u7528, \u7981\u6b62\u7528\u4e8e\u5546\u4e1a\u7528\u9014\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://pypi.org/project/zspider/", "keywords": "", "license": "GNU GENERAL PUBLIC LICENSE", "maintainer": "", "maintainer_email": "", "name": "zspider", "package_url": "https://pypi.org/project/zspider/", "platform": "all", "project_url": "https://pypi.org/project/zspider/", "project_urls": {"Homepage": "https://pypi.org/project/zspider/"}, "release_url": "https://pypi.org/project/zspider/1.0.2/", "requires_dist": ["zssdb (>=0.1.1)", "zsingleton", "zretry (>=0.1.1)", "zinifile (>=1.0.4)", "requests", "zlogger (>=0.1.1)", "zconst", "lxml", "msgpack (>=0.6.1)"], "requires_python": "", "summary": "\u5206\u5e03\u5f0f\u722c\u866b\u7cbe\u7b80\u6846\u67b6", "version": "1.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>\u5206\u5e03\u5f0f\u722c\u866b\u7cbe\u7b80\u6846\u67b6</h1>\n<h3>\u5b89\u88c5</h3>\n<pre><code>pip install zspider\n</code></pre>\n<h3>\u6846\u67b6\u4f9d\u8d56</h3>\n<ul>\n<li>\u7531\u4e8e\u4f7f\u7528\u4e86\u961f\u5217\u7cfb\u7edf, \u6b64\u722c\u866b\u6846\u67b6\u4f9d\u8d56\u4e8essdb</li>\n</ul>\n<h3>\u914d\u7f6e\u722c\u866b\u6846\u67b6</h3>\n<ul>\n<li>\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55, \u8fd9\u4e2a\u76ee\u5f55\u4f5c\u4e3a\u4f60\u7684\u722c\u866b\u7ec4\u7ec7\u4e3b\u8def\u5f84</li>\n</ul>\n<pre><code>mkdir /home/myspider\nmkdir /home/myspider/log\nmkdir /home/myspider/spiders\n</code></pre>\n<ul>\n<li>\u521b\u5efa\u65e5\u5fd7\u76ee\u5f55, \u6240\u6709\u7684\u722c\u866b\u7684\u65e5\u5fd7\u90fd\u5c06\u5b58\u653e\u5230\u8fd9\u4e2a\u76ee\u5f55</li>\n</ul>\n<pre><code>cd /home/myspider\nmkdir log\n</code></pre>\n<ul>\n<li>\u521b\u5efa\u914d\u7f6e\u6587\u4ef6</li>\n</ul>\n<pre><code>touch /etc/zspider/config.ini\n# win\u7cfb\u7edf: \"c:/zspider/config.ini\"\n# \u5176\u4ed6\u7cfb\u7edf: \"/etc/zspider/config.ini\"\n# \u53ef\u4ee5\u4f7f\u7528\u73af\u5883\u53d8\u91cf ZSPIDER_CONFIG \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u8def\u5f84, \u4f18\u5148\u7ea7\u6700\u9ad8\n</code></pre>\n<ul>\n<li>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e3a\u4f60\u7684\u8bbe\u7f6e</li>\n</ul>\n<pre><code>[log]\n;\u662f\u5426\u8f93\u51fa\u5230\u6d41\n;write_stream = true\n;\u662f\u5426\u8f93\u51fa\u5230\u6587\u4ef6\n;write_file = true\n;\u65e5\u5fd7\u6587\u4ef6\u8f93\u51fa\u8def\u5f84\n;write_path = /home/myspider/log\n;\u65e5\u5fd7\u7b49\u7ea7\n;log_level = debug\n;\u6bcf\u9694\u51e0\u5929\u5c31\u65b0\u589e\u4e00\u4e2a\u65e5\u5fd7\u6587\u4ef6\n;log_interval = 1\n;\u4fdd\u7559\u51e0\u4e2a\u65e7\u7684\u65e5\u5fd7\u6587\u4ef6\n;log_backupCount = 2\n\n[seed_queue]\n;\u79cd\u5b50\u961f\u5217\u67e5\u8be2\u540e\u7f00, \u8bf7\u4e0d\u8981\u66f4\u6539\u8fd9\u4e2a\u914d\u7f6e, \u9664\u975e\u4f60\u5b8c\u5168\u4e86\u89e3\u6b64\u722c\u866b\u6846\u67b6\u7684\u961f\u5217\u7cfb\u7edf\u662f\u5982\u4f55\u8fd0\u884c\u7684\n;suffix = ['vip', 'd1', 'd2', 'd3', 'seed', 'error']\n\n[public_constant]\n;\u8bf7\u6c42\u7b49\u5f85\u65f6\u95f4\n;req_timeout = 20\n;\u4e00\u6b21\u5b8c\u6574\u7684\u4efb\u52a1\u903b\u8f91\u4e2d\u51fa\u9519\u65f6, \u7b49\u5f85\u4e00\u5b9a\u65f6\u95f4\u540e\u624d\u80fd\u5f00\u59cb\u4e0b\u4e00\u4e2a\u4efb\u52a1\n;spider_err_wait_time = 3\n;\u79cd\u5b50\u961f\u5217\u4e3a\u7a7a\u540e\u722c\u866b\u4f11\u7720\u65f6\u95f4\n;empty_seed_wait_time = 120\n;\u9ed8\u8ba4html\u7f16\u7801\u65b9\u5f0f\n;default_html_encoding = 'utf-8'\n;\u91cd\u8bd5\u7b49\u5f85\u65f6\u95f4\n;retry_wait_fixed = 0.5\n;\u6700\u5927\u5c1d\u8bd5\u6b21\u6570\n;max_attempt_count = 5\n\n[ssdb]\n;\u662f\u5426\u4e3a\u96c6\u7fa4\ncluster = false\n;\u4e3b\u673a\u5730\u5740\nhost = \u4f60\u7684ssdb\u670d\u52a1\u4e3b\u673a\n;\u4e3b\u673a\u7aef\u53e3\nport = \u4f60\u7684ssdb\u670d\u52a1\u7aef\u53e3\n\n[proxy]\n;use_proxy = false\n;\u4ee3\u7406\u83b7\u53d6\u670d\u52a1\u5668ip\u548c\u7aef\u53e3,\u5982(xxx.xxx.xxx:1234)\n;proxy_server =\n;\u4ee3\u7406\u83b7\u53d6\u670d\u52a1\u5668\u8def\u5f84,\u5982(getproxy?format=json)\n;proxy_path =\n;\u65e0\u6cd5\u83b7\u53d6\u4ee3\u7406\u5730\u5740\u65f6\u91cd\u8bd5\u7b49\u5f85\u65f6\u95f4\n;except_wait = 1\n;\u4ee3\u7406\u6a21\u5757\u5305\u540d\n;proxy_pack_name = zspider.proxy_base\n;\u4ee3\u7406\u6a21\u5757\u540d\n;proxy_class_name = proxy_base\n</code></pre>\n<h1>\u5927\u529f\u544a\u6210, \u7ec8\u4e8e\u53ef\u4ee5\u5f00\u59cb\u5236\u4f5c\u722c\u866b\u4e86</h1>\n<h3>\u4e00\u4e2a\u7b80\u5355\u7684\u722c\u866b</h3>\n<ul>\n<li>\u5728\u722c\u866b\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6 my_spider.py, \u5199\u5165\u5982\u4e0b\u5185\u5bb9</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">zspider.spider_base</span> <span class=\"kn\">import</span> <span class=\"n\">spider_base</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">my_spider</span><span class=\"p\">(</span><span class=\"n\">spider_base</span><span class=\"p\">):</span>\n    <span class=\"n\">spider_name</span> <span class=\"o\">=</span> <span class=\"s1\">'my_spider'</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">start_seed</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">yield</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">make_seed</span><span class=\"p\">(</span><span class=\"s1\">'https://pypi.org/project/zspider'</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">parser_html</span><span class=\"p\">,</span> <span class=\"n\">encoding</span><span class=\"o\">=</span><span class=\"s1\">'utf8'</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">parser_html</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">res</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">response_text</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n    <span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">my_spider</span><span class=\"p\">()</span>\n    <span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">yield_for_start_seed</span><span class=\"p\">()</span>\n    <span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n</pre>\n<ul>\n<li>\u8fd0\u884c\u5b83, \u968f\u540e\u4f60\u53ef\u4ee5\u5728\u63a7\u5236\u53f0\u770b\u5230\u6253\u5370\u51fa\u6765\u7684\u7f51\u9875\u6570\u636e</li>\n</ul>\n<h3>\u8fd9\u4e2a\u722c\u866b\u505a\u4e86\u4ec0\u4e48</h3>\n<pre><span class=\"c1\"># \u4ece\u722c\u866b\u6846\u67b6zspider\u7684spider_base\u6a21\u5757\u4e2d\u5bfc\u5165spider_base\u7c7b</span>\n<span class=\"kn\">from</span> <span class=\"nn\">zspider.spider_base</span> <span class=\"kn\">import</span> <span class=\"n\">spider_base</span>\n\n<span class=\"c1\"># \u521b\u5efa\u81ea\u5df1\u7684\u722c\u866b\u7c7b\u5e76\u7ee7\u627fspider_base</span>\n<span class=\"k\">class</span> <span class=\"nc\">my_spider</span><span class=\"p\">(</span><span class=\"n\">spider_base</span><span class=\"p\">):</span>\n    <span class=\"c1\">#\u8bbe\u7f6e\u722c\u866b\u7684\u540d\u79f0\u4e3amy_spider, \u6ce8\u610f: \u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u540d\u79f0\u4f1a\u62a5\u9519</span>\n    <span class=\"n\">spider_name</span> <span class=\"o\">=</span> <span class=\"s1\">'my_spider'</span>\n\n    <span class=\"c1\">#\u722c\u866b\u5f00\u59cb\u722c\u53d6\u7f51\u9875\u65f6\u603b\u6709\u4e00\u4e2a\u6700\u5f00\u59cb\u7684\u7f51\u5740\u7ed9\u5b83\u6293\u53d6, \u8fd9\u91cc\u63d0\u4ea4\u6700\u5f00\u59cb\u7684\u7f51\u5740\u7ed9\u79cd\u5b50\u961f\u5217</span>\n    <span class=\"k\">def</span> <span class=\"nf\">start_seed</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"c1\">#\u6784\u5efa\u5e76\u63d0\u4ea4\u4e00\u4e2aurl\u79cd\u5b50\u7ed9\u79cd\u5b50\u961f\u5217, \u8fd9\u4e2a\u79cd\u5b50\u5305\u542b\u4e86\u4e09\u79cd\u57fa\u672c\u4fe1\u606f: \u6293\u53d6\u7684\u7f51\u5740\u662f'https://pypi.org/project/zspider', \u7528parser_html\u51fd\u6570\u6765\u89e3\u6790\u7f51\u9875, \u8fd9\u4e2a\u7f51\u9875\u7684\u7f16\u7801\u662futf8</span>\n        <span class=\"k\">yield</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">make_seed</span><span class=\"p\">(</span><span class=\"s1\">'https://pypi.org/project/zspider'</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">parser_html</span><span class=\"p\">,</span> <span class=\"n\">encoding</span><span class=\"o\">=</span><span class=\"s1\">'utf8'</span><span class=\"p\">)</span>\n\n    <span class=\"c1\">#\u521b\u5efa\u4e00\u4e2a\u89e3\u6790\u51fd\u6570, \u6b64\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570, \u6b64\u53c2\u6570\u662f_seed.Seed\u7c7b\u7684\u5b9e\u4f8b</span>\n    <span class=\"k\">def</span> <span class=\"nf\">parser_html</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">res</span><span class=\"p\">):</span>\n        <span class=\"c1\">#\u5c06\u7f51\u9875\u6570\u636e\u6253\u5370\u51fa\u6765</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">response_text</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n    <span class=\"c1\">#\u722c\u866b\u5b9e\u4f8b\u5316</span>\n    <span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">my_spider</span><span class=\"p\">()</span>\n    <span class=\"c1\">#\u5f00\u59cb\u63d0\u4ea4\u521d\u59cb\u79cd\u5b50</span>\n    <span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">yield_for_start_seed</span><span class=\"p\">()</span>\n    <span class=\"c1\">#\u5f00\u542f\u722c\u866b</span>\n    <span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n</pre>\n<h3>\u8ba9\u722c\u866b\u4e0d\u505c\u7684\u722c\u4e0b\u53bb</h3>\n<pre><code>    #\u5728\u89e3\u6790\u51fd\u6570\u4e2d\n    def parser_html(self, res):\n        urls = []\n        #\u5728\u6b64\u5904\u5199\u5165\u81ea\u5df1\u7684\u89e3\u6790\u4ee3\u7801, \u83b7\u53d6\u8fd9\u4e2a\u7f51\u9875\u7684\u4e00\u4e9burl\u5b58\u5165\u5230urls\u4e2d\n        #\u904d\u5386\u521b\u5efa\u5e76\u63d0\u4ea4url\u79cd\u5b50\n        for url in urls:\n            #\u53bb\u91cd\u68c0\u67e5, \u53ea\u6709\u7b2c\u4e00\u6b21\u68c0\u67e5\u7684\u6570\u636e\u624d\u4f1a\u8fd4\u56deTrue, \u53ef\u4ee5\u9632\u6b62\u5df2\u7ecf\u6293\u53d6\u7684\u9875\u9762\u518d\u6b21\u6293\u53d6\u5bfc\u81f4\u6b7b\u5faa\u73af\n            if self.dup_check(url):\n                #\u8fd9\u91cc\u6ca1\u6709\u5199encoding, \u722c\u866b\u6846\u67b6\u4f1a\u5bf9\u6bcf\u4e00\u4e2a\u7f51\u9875\u81ea\u52a8\u5206\u6790\u51fa\u5408\u9002\u7684\u7f16\u7801\u6765\u89e3\u6790\u7f51\u9875, \u5c31\u50cf\u6d4f\u89c8\u5668\u4e00\u6837\n                yield self.make_seed(url, self.parser_html)\n\n        self.save_result('\u4f60\u60f3\u8981\u4fdd\u5b58\u7684\u6570\u636e, \u5b83\u5e94\u8be5\u662f\u4e00\u4e2adict')\n</code></pre>\n<h3>spider_base\u5185\u5efa\u53c2\u6570\u8bf4\u660e</h3>\n<ul>\n<li>\u6240\u6709\u7684\u91cd\u590d\u53c2\u6570\u9075\u5faa\u5c31\u8fd1\u4f18\u5148\u539f\u5219</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th align=\"center\">\u6570\u636e\u7c7b\u578b</th>\n<th align=\"center\">\u9ed8\u8ba4\u503c</th>\n<th>\u63cf\u8ff0</th>\n<th align=\"center\">\u5728make_seed\u4e2d<br>\u4e3a\u79cd\u5b50\u5355\u72ec\u8bbe\u7f6e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>spider_name</td>\n<td align=\"center\">str</td>\n<td align=\"center\"></td>\n<td>\u5fc5\u987b\u8bbe\u7f6e</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td>method</td>\n<td align=\"center\">str</td>\n<td align=\"center\">get</td>\n<td>\u9ed8\u8ba4\u8bf7\u6c42\u65b9\u5f0f</td>\n<td align=\"center\">\u662f</td>\n</tr>\n<tr>\n<td>encoding</td>\n<td align=\"center\">str</td>\n<td align=\"center\"></td>\n<td>\u9ed8\u8ba4\u9875\u9762\u7f16\u7801\u89e3\u7801\u6a21\u5f0f, \u8bbe\u4e3aNone\u7531\u722c\u866b\u6846\u67b6\u81ea\u52a8\u5224\u65ad</td>\n<td align=\"center\">\u662f</td>\n</tr>\n<tr>\n<td>base_headers</td>\n<td align=\"center\">dict</td>\n<td align=\"center\">{}</td>\n<td>\u9ed8\u8ba4\u8bf7\u6c42\u5934, \u5141\u8bb8\u7528\u6237\u6dfb\u52a0\u6216\u4fee\u6539\u8bf7\u6c42\u5934, \u5ffd\u7565\u5927\u5c0f\u5199, \u722c\u866b\u6846\u67b6\u4f1a\u81ea\u52a8\u8865\u5168\u5fc5\u987b\u7684\u8bf7\u6c42\u5934\u5b57\u6bb5</td>\n<td align=\"center\">\u662f</td>\n</tr>\n<tr>\n<td>time_out</td>\n<td align=\"center\">float</td>\n<td align=\"center\">20</td>\n<td>\u8bf7\u6c42\u8d85\u65f6</td>\n<td align=\"center\">\u662f</td>\n</tr>\n<tr>\n<td>auto_cookie_enable</td>\n<td align=\"center\">bool</td>\n<td align=\"center\">False</td>\n<td>\u662f\u5426\u81ea\u52a8\u7ba1\u7406cookie</td>\n<td align=\"center\"></td>\n</tr>\n<tr>\n<td>check_html_func</td>\n<td align=\"center\">function<br>str</td>\n<td align=\"center\"></td>\n<td>\u9875\u9762\u89e3\u6790\u9884\u5904\u7406\u51fd\u6570, \u53ef\u80fd\u56e0\u4e3a\u67d0\u4e9b\u539f\u56e0\u5bfc\u81f4\u9875\u9762\u5185\u5bb9\u4e0d\u662f\u4f60\u9884\u60f3\u7684\u5185\u5bb9, \u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u68c0\u67e5\u9875\u9762\u5185\u5bb9, \u5982\u679c\u4e0d\u662f\u4f60\u60f3\u8981\u7684\u5185\u5bb9\u8bf7\u8fd4\u56deFalse, \u722c\u866b\u6846\u67b6\u4f1a\u66f4\u6362\u4ee3\u7406\u540e\u91cd\u65b0\u6293\u53d6\u6b64\u9875\u9762</td>\n<td align=\"center\">\u662f</td>\n</tr>\n<tr>\n<td>retry_http_code</td>\n<td align=\"center\">list</td>\n<td align=\"center\">[]</td>\n<td>\u5982\u679c\u9875\u9762\u72b6\u6001\u7801\u5728\u8fd9\u4e2a\u5217\u8868\u4e2d, \u722c\u866b\u6846\u67b6\u4f1a\u91cd\u65b0\u6293\u53d6\u9875\u9762, \u5982404</td>\n<td align=\"center\"></td>\n</tr></tbody></table>\n<h3>spider_base\u65b9\u6cd5\u8bf4\u660e</h3>\n<ul>\n<li>run_of_error_parser</li>\n</ul>\n<blockquote>\n<p>\u4ec5\u4f7f\u7528\u89e3\u6790\u9519\u8beferror_parser\u961f\u5217\u8fdb\u884c\u6293\u53d6, \u5bf9\u8c03\u8bd5\u722c\u866b\u5f88\u6709\u5e2e\u52a9</p>\n</blockquote>\n<ul>\n<li>run</li>\n</ul>\n<blockquote>\n<p>\u8fd0\u884c\u722c\u866b</p>\n</blockquote>\n<ul>\n<li>dup_check</li>\n</ul>\n<blockquote>\n<p>\u53bb\u91cd\u68c0\u67e5, \u53ef\u4ee5\u6709\u6548\u907f\u514d\u91cd\u590d\u6293\u53d6\u9875\u9762</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th align=\"center\">\u6570\u636e\u7c7b\u578b</th>\n<th align=\"center\">\u9ed8\u8ba4\u503c</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>item</td>\n<td align=\"center\"></td>\n<td align=\"center\"></td>\n<td>\u5fc5\u987b\u53c2\u6570, \u8fd9\u4e2a\u53c2\u6570\u5728\u8fd0\u7b97\u4e4b\u524d\u4f1a\u8c03\u7528str\u683c\u5f0f\u4e3a\u5b57\u7b26\u4e32, \u7136\u540e\u52a0\u5bc6\u4e3amd5_32\u4f4d\u5b57\u7b26\u4e32, \u53ea\u6709\u7b2c\u4e00\u6b21\u8c03\u7528\u53bb\u91cd\u68c0\u67e5\u7684\u6570\u636e\u624d\u4f1a\u8fd4\u56deTrue</td>\n</tr>\n<tr>\n<td>collname</td>\n<td align=\"center\">str</td>\n<td align=\"center\">None</td>\n<td>\u53ef\u9009\u53c2\u6570, \u53bb\u91cd\u8fc7\u6ee4\u5668\u4f7f\u7528\u54ea\u4e2a\u6587\u6863\u4fdd\u5b58\u88ab\u53bb\u91cd\u7684\u6570\u636e, \u5982\u679c\u8bbe\u4e3aNone, \u6587\u6863\u540d\u9ed8\u8ba4\u4e3a&lt;\u722c\u866b\u540d:dup&gt;</td>\n</tr></tbody></table>\n<ul>\n<li>clear_all_queue</li>\n</ul>\n<blockquote>\n<p>\u6e05\u9664\u961f\u5217, \u614e\u7528, \u6b64\u51fd\u6570\u4f1a\u5c06\u722c\u866b\u7684\u79cd\u5b50\u5b8c\u5168\u6e05\u9664</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th align=\"center\">\u6570\u636e\u7c7b\u578b</th>\n<th align=\"center\">\u9ed8\u8ba4\u503c</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>clear_parser_error</td>\n<td align=\"center\">bool</td>\n<td align=\"center\">True</td>\n<td>\u662f\u5426\u6e05\u9664\u89e3\u6790\u9519\u8bef\u7684\u961f\u5217</td>\n</tr>\n<tr>\n<td>clear_dup</td>\n<td align=\"center\">bool</td>\n<td align=\"center\">True</td>\n<td>\u662f\u5426\u6e05\u9664\u53bb\u91cd\u8fc7\u6ee4\u5668\u6587\u6863</td>\n</tr></tbody></table>\n<ul>\n<li>make_seed</li>\n</ul>\n<blockquote>\n<p>\u6b64\u51fd\u6570\u7528\u6237\u6784\u5efa\u4e00\u4e2aurl\u79cd\u5b50, \u5b83\u5c06\u548c\u9875\u9762\u76f8\u5173\u7684\u4e00\u5207\u4fe1\u606f\u4fdd\u5b58\u5230\u4e00\u4e2a\u79cd\u5b50\u91cc\u9762</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th align=\"center\">\u6570\u636e\u7c7b\u578b</th>\n<th align=\"center\">\u5fc5\u987b\u53c2\u6570</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>url</td>\n<td align=\"center\">str</td>\n<td align=\"center\"></td>\n<td>\u8981\u6293\u53d6\u7684\u7f51\u5740, \u5c3d\u91cf\u628ahttp\u6216https\u5199\u5165, \u8fd9\u6837\u6293\u53d6\u66f4\u51c6\u786e, \u5141\u8bb8\u4e3a\u7a7a</td>\n</tr>\n<tr>\n<td>parser_func</td>\n<td align=\"center\">function<br>str</td>\n<td align=\"center\">\u662f</td>\n<td>\u8868\u793a\u9875\u9762\u6293\u53d6\u6210\u529f\u540e\u8c03\u7528\u54ea\u4e2a\u89e3\u6790\u51fd\u6570\u6765\u89e3\u6790\u5b83, \u6b64\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570, \u8bf7\u53c2\u8003[\u53ef\u7ee7\u627f\u51fd\u6570\u8bf4\u660e.parser_response]</td>\n</tr>\n<tr>\n<td>check_html_func</td>\n<td align=\"center\">function<br>str</td>\n<td align=\"center\"></td>\n<td>\u9875\u9762\u6293\u53d6\u6210\u529f\u540e\u8c03\u7528\u54ea\u4e2a\u9875\u9762\u89e3\u6790\u9884\u5904\u7406\u51fd\u6570, \u6b64\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570, \u8bf7\u53c2\u8003[\u53ef\u7ee7\u627f\u51fd\u6570\u8bf4\u660e.check_has_need_data]</td>\n</tr>\n<tr>\n<td>meta</td>\n<td align=\"center\">python\u57fa\u672c\u7c7b\u578b</td>\n<td align=\"center\"></td>\n<td>\u6b64\u53c2\u6570\u7528\u4e8e\u4fdd\u5b58\u7528\u6237\u60f3\u8981\u4f20\u9012\u5230\u4e0b\u4e00\u4e2a\u89e3\u6790\u51fd\u6570\u7684\u6570\u636e, \u6ca1\u9519\u5c31\u548cscrapy\u7684meta\u4e00\u6837</td>\n</tr>\n<tr>\n<td>ua_type</td>\n<td align=\"center\">str</td>\n<td align=\"center\"></td>\n<td>\u968f\u673a\u6d4f\u89c8\u5668\u5934\u7c7b\u578b('pc', 'ua_type', 'ios')</td>\n</tr>\n<tr>\n<td>method</td>\n<td align=\"center\">str</td>\n<td align=\"center\"></td>\n<td>\u4f7f\u7528\u4ec0\u4e48\u65b9\u5f0f\u8bf7\u6c42url, get\u8fd8\u662fpost, \u5982\u679c\u4e3a\u7a7a\u5219\u4f7f\u7528\u5185\u5efa\u7684\u722c\u866b\u5185\u5efa\u53c2\u6570method, \u8fd8\u662f\u7a7a\u5219\u9ed8\u8ba4\u4e3aget</td>\n</tr>\n<tr>\n<td>params</td>\n<td align=\"center\"></td>\n<td align=\"center\"></td>\n<td>\u53c2\u8003requests\u7684params</td>\n</tr>\n<tr>\n<td>cookies</td>\n<td align=\"center\">dict</td>\n<td align=\"center\"></td>\n<td>cookies, \u8981\u6c42\u722c\u866b\u5185\u5efa\u53c2\u6570cookie_enable\u4e3aTrue</td>\n</tr>\n<tr>\n<td>headers</td>\n<td align=\"center\">dict</td>\n<td align=\"center\"></td>\n<td>\u8bf7\u6c42\u5934, \u53c2\u8003\u722c\u866b\u5185\u5efa\u53c2\u6570base_headers</td>\n</tr>\n<tr>\n<td>data</td>\n<td align=\"center\"></td>\n<td align=\"center\"></td>\n<td>\u53c2\u8003requests\u7684data</td>\n</tr>\n<tr>\n<td>timeout</td>\n<td align=\"center\">float</td>\n<td align=\"center\"></td>\n<td>\u9875\u9762\u8bf7\u6c42\u7b49\u5f85\u65f6\u95f4, \u8d85\u65f6\u5219\u8ba4\u4e3a\u8bf7\u6c42\u5931\u8d25, \u8bbe\u4e3a\u7a7a\u62160, \u722c\u866b\u6846\u67b6\u4f1a\u81ea\u52a8\u66f4\u6539\u4e3a20, \u722c\u866b\u4e0d\u5e94\u8be5\u4e00\u76f4\u7b49\u5f85\u4e00\u4e2a\u7f51\u9875</td>\n</tr>\n<tr>\n<td>encoding</td>\n<td align=\"center\">str</td>\n<td align=\"center\"></td>\n<td>\u9875\u9762\u7f16\u7801\u89e3\u7801\u65b9\u5f0f, gbk\u8fd8\u662futf8? \u8bbe\u4e3a\u7a7a\u5219\u4f7f\u7528\u722c\u866b\u5185\u5efa\u53c2\u6570encoding, \u8fd8\u662f\u7a7a\u5219\u7531\u722c\u866b\u6846\u67b6\u667a\u80fd\u5224\u65ad. \u5f53\u9875\u9762\u662f\u56fe\u7247\u6216\u662f\u5176\u4ed6\u975e\u6587\u672c\u9875\u9762\u65f6, \u8bbe\u4e3aFalse\u5173\u95ed\u6b64\u79cd\u5b50\u7684\u89e3\u7801\u529f\u80fd</td>\n</tr>\n<tr>\n<td>proxies</td>\n<td align=\"center\">dict</td>\n<td align=\"center\"></td>\n<td>\u4e3b\u52a8\u4e3a\u6b64\u79cd\u5b50\u8bbe\u7f6e\u4ee3\u7406</td>\n</tr></tbody></table>\n<ul>\n<li>yield_for_start_seed</li>\n</ul>\n<blockquote>\n<p>\u6839\u636estart_url\u51fd\u6570\u63d0\u4ea4\u521d\u59cb\u79cd\u5b50</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th align=\"center\">\u6570\u636e\u7c7b\u578b</th>\n<th align=\"center\">\u9ed8\u8ba4\u503c</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>force_yield</td>\n<td align=\"center\">bool</td>\n<td align=\"center\">False</td>\n<td>\u662f\u5426\u5f3a\u884c\u63d0\u4ea4\u521d\u59cb\u79cd\u5b50, \u5982\u679c\u4e3aFalse, \u5728\u6240\u6709\u6b63\u5e38\u7684\u79cd\u5b50\u6293\u53d6\u5b8c\u6bd5\u4e4b\u524d\u5ffd\u7565\u672c\u6b21\u64cd\u4f5c, \u5982\u679c\u4e3aTrue, \u4e0d\u7ba1\u662f\u5426\u5b58\u5728\u672a\u6293\u53d6\u5b8c\u6bd5\u7684\u79cd\u5b50\u90fd\u7acb\u5373\u63d0\u4ea4\u521d\u59cb\u79cd\u5b50</td>\n</tr></tbody></table>\n<h3>\u53ef\u7ee7\u627f\u51fd\u6570\u8bf4\u660e</h3>\n<ul>\n<li>spider_init</li>\n</ul>\n<blockquote>\n<p>\u722c\u866b\u521d\u59cb\u5316\u5b8c\u6210\u540e\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570</p>\n</blockquote>\n<ul>\n<li>start_seed</li>\n</ul>\n<blockquote>\n<p>\u63d0\u4ea4\u521d\u59cb\u79cd\u5b50\u51fd\u6570, yield_for_start_seed\u65b9\u6cd5\u4f1a\u8c03\u7528\u6b64\u51fd\u6570, \u6b64\u51fd\u6570\u5141\u8bb8\u63d0\u4ea4\u591a\u4e2a\u521d\u59cb\u79cd\u5b50</p>\n</blockquote>\n<ul>\n<li>check_has_need_data</li>\n</ul>\n<blockquote>\n<p>\u9875\u9762\u89e3\u6790\u9884\u5904\u7406\u51fd\u6570, \u8981\u4f7f\u7528\u6b64\u51fd\u6570\u5fc5\u987b\u5728\u6784\u5efa\u79cd\u5b50\u7684\u65f6\u5019\u7528\u53c2\u6570check_html_func\u6307\u660e, \u6216\u8005\u5728spider_base\u5185\u5efa\u53c2\u6570\u4e2d\u8bbe\u7f6e\u9ed8\u8ba4\u503c, \u5982\u679c\u4f60\u8fd4\u56de\u4e86False, \u90a3\u4e48\u722c\u866b\u6846\u67b6\u4f1a\u91cd\u65b0\u6293\u53d6\u8fd9\u4e2a\u9875\u9762. \u5982\u679c\u4f60\u7684\u4ee3\u7801\u51fa\u9519\u4e86, \u722c\u866b\u6846\u67b6\u4f1a\u5c06\u8fd9\u4e2a\u79cd\u5b50\u653e\u5165error\u961f\u5217</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th align=\"center\">\u6570\u636e\u7c7b\u578b</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>res</td>\n<td align=\"center\">seed.Seed</td>\n<td>\u6b64\u503c\u5305\u542b\u4e86\u6293\u53d6\u6210\u529f\u7684\u9875\u9762\u6570\u636e\u4ee5\u53ca\u539f\u59cb\u79cd\u5b50\u7684\u4fe1\u606f, \u53c2\u8003seed.Seed\u53c2\u6570\u8bf4\u660e. \u5982\u679curl\u662f\u7a7a\u7684, \u90a3\u4e48\u8fd9\u4e2a\u53c2\u6570\u662f\u4e00\u4e2adict, \u8bf7\u53c2\u8003\u539f\u59cb\u4ee3\u7801seed.Seed.__attrs_dict__</td>\n</tr></tbody></table>\n<ul>\n<li>parser_response</li>\n</ul>\n<blockquote>\n<p>\u9875\u9762\u89e3\u6790\u51fd\u6570, \u8981\u4f7f\u7528\u6b64\u51fd\u6570\u5fc5\u987b\u5728\u6784\u5efa\u79cd\u5b50\u7684\u65f6\u5019\u7528\u53c2\u6570parser_func\u6307\u660e, \u4f60\u53ef\u4ee5\u5728\u6b64\u51fd\u6570\u5185\u6b63\u5f0f\u89e3\u6790\u9875\u9762, \u7136\u540e\u4f7f\u7528yield\u63d0\u4ea4\u79cd\u5b50, \u5982\u679c\u4f60\u7684\u4ee3\u7801\u51fa\u9519\u4e86, \u722c\u866b\u6846\u67b6\u4f1a\u5c06\u8fd9\u4e2a\u79cd\u5b50\u653e\u5165error_parser\u961f\u5217</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th align=\"center\">\u6570\u636e\u7c7b\u578b</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>res</td>\n<td align=\"center\">seed.Seed</td>\n<td>\u6b64\u503c\u5305\u542b\u4e86\u6293\u53d6\u6210\u529f\u7684\u9875\u9762\u6570\u636e\u4ee5\u53ca\u539f\u59cb\u79cd\u5b50\u7684\u4fe1\u606f, \u53c2\u8003seed.Seed\u53c2\u6570\u8bf4\u660e. \u5982\u679curl\u662f\u7a7a\u7684, \u90a3\u4e48\u8fd9\u4e2a\u53c2\u6570\u662f\u4e00\u4e2adict, \u8bf7\u53c2\u8003\u539f\u59cb\u4ee3\u7801seed.Seed.__attrs_dict__</td>\n</tr></tbody></table>\n<h3>seed.Seed\u53c2\u6570\u8bf4\u660e</h3>\n<ul>\n<li>\u4f60\u6784\u5efa\u79cd\u5b50\u65f6\u4f20\u5165\u7684\u6240\u6709\u53c2\u6570\u90fd\u5c06\u4f1a\u6210\u4e3a\u79cd\u5b50\u5b9e\u4f8b\u7684\u5c5e\u6027, \u5f53\u722c\u866b\u6846\u67b6\u4f7f\u7528\u8fd9\u4e2a\u79cd\u5b50\u6210\u529f\u6293\u53d6\u9875\u9762\u540e, \u4ee5\u4e0b\u5c5e\u6027\u5c06\u53ef\u7528</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th align=\"center\">\u6570\u636e\u7c7b\u578b</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>response</td>\n<td align=\"center\"></td>\n<td>\u8bf7\u53c2\u8003requests.Request</td>\n</tr>\n<tr>\n<td>response_text</td>\n<td align=\"center\">str</td>\n<td>\u7f51\u9875\u6e90\u4ee3\u7801</td>\n</tr>\n<tr>\n<td>response_etree</td>\n<td align=\"center\"></td>\n<td>\u8bf7\u53c2\u8003lxml.etree._Element</td>\n</tr>\n<tr>\n<td>response_json</td>\n<td align=\"center\">dict</td>\n<td>\u5c06\u7f51\u9875\u6e90\u4ee3\u7801\u89c6\u4e3ajson\u683c\u5f0f\u5e76\u83b7\u53d6\u8f6c\u6362\u4e3adict\u7684\u503c</td>\n</tr>\n<tr>\n<td>raw_data</td>\n<td align=\"center\">bytes</td>\n<td>\u83b7\u53d6\u7f51\u9875\u539f\u59cb\u6570\u636e, \u5982\u679c\u662f\u56fe\u7247\u6216\u5176\u4ed6\u975e\u6587\u672c\u7f51\u9875\u65f6\u975e\u5e38\u6709\u7528</td>\n</tr></tbody></table>\n<h3>seed.Seed\u65b9\u6cd5\u8bf4\u660e</h3>\n<ul>\n<li>url_join</li>\n</ul>\n<blockquote>\n<p>\u8865\u5168\u8fde\u63a5\u5730\u5740\u4e3a\u5b8c\u6574\u7684\u7f51\u9875\u5730\u5740</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th align=\"center\">\u6570\u636e\u7c7b\u578b</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>link</td>\n<td align=\"center\">str</td>\n<td>\u4e00\u4e2a\u8fde\u63a5\u5730\u5740, \u5b83\u53ef\u80fd\u662f\u4e0d\u5b8c\u6574\u7684, \u4f7f\u7528\u6b64\u51fd\u6570\u540e\u4f1a\u6839\u636e\u5f53\u524d\u9875\u9762\u5730\u5740\u8865\u5168\u4e3a\u5b8c\u6574\u7684\u5730\u5740</td>\n</tr></tbody></table>\n<h3>\u4ee3\u7406\u63a5\u53e3\u8bf4\u660e</h3>\n<ul>\n<li>\u521b\u5efa\u4e00\u4e2a\u7c7b, \u7ee7\u627fzspider.proxy_base\u6a21\u5757\u4e2d\u7684proxy_base\u7c7b</li>\n</ul>\n<pre><span class=\"c1\"># my_proxy.py</span>\n<span class=\"kn\">from</span> <span class=\"nn\">zspider.proxy_base</span> <span class=\"kn\">import</span> <span class=\"n\">proxy_base</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">my_proxy_interface</span><span class=\"p\">(</span><span class=\"n\">proxy_base</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">proxy_init</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"c1\"># \u521d\u59cb\u5316\u540e\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570</span>\n        <span class=\"k\">pass</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_proxy</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"c1\"># \u8fd4\u56de\u5f53\u524d\u4f7f\u7528\u7684\u4ee3\u7406, \u5b57\u5178{\"http\": \"http://\u4e3b\u673a:\u7aef\u53e3\", \"https\": \"http://\u4e3b\u673a:\u7aef\u53e3\"}</span>\n        <span class=\"k\">pass</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">change_proxy</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"c1\"># \u8981\u6c42\u5207\u6362\u4ee3\u7406\u5730\u5740</span>\n        <span class=\"k\">pass</span>\n\n<span class=\"c1\"># \u7136\u540e\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4e2d[proxy]\u8868\u7684proxy_pack_name\u4e3a\u4f60\u7684\u4ee3\u7406\u63a5\u53e3\u5305\u540d, \u4fee\u6539proxy_class_name\u4e3a\u4f60\u7684\u4ee3\u7406\u63a5\u53e3\u7c7b\u540d</span>\n</pre>\n<h3>\u66f4\u65b0\u65e5\u5fd7</h3>\n<table>\n<thead>\n<tr>\n<th>\u53d1\u5e03\u65f6\u95f4</th>\n<th align=\"center\">\u53d1\u5e03\u7248\u672c</th>\n<th>\u53d1\u5e03\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>19-03-28</td>\n<td align=\"center\">1.0.2</td>\n<td>\u4fee\u590d\u4e00\u4e2abug, \u5728\u672a\u8bbe\u7f6eencoding\u7684\u60c5\u51b5\u4e0b\u9875\u9762\u5206\u6790\u4f1a\u62a5\u9519</td>\n</tr>\n<tr>\n<td>19-03-28</td>\n<td align=\"center\">1.0.1</td>\n<td>\u73b0\u5728\u7ec8\u7ed3\u8fdb\u7a0b\u65f6,\u5f53\u524d\u79cd\u5b50\u4f1a\u653e\u5165error\u961f\u5217,\u79cd\u5b50\u4e0d\u4f1a\u4e22\u5931\u4e86</td>\n</tr>\n<tr>\n<td>19-03-27</td>\n<td align=\"center\">1.0.0</td>\n<td>\u53d1\u5e03\u6b63\u5f0f\u7248, \u76f8\u5bf9\u4e8e\u65e7\u7248\u672c(0.1.0)\u66f4\u6539\u4e86\u5927\u591a\u6570\u4f7f\u7528\u65b9\u6cd5, \u53d6\u6d88\u4e86mongo\u4f9d\u8d56:\u56e0\u4e3a\u7528\u6237\u4e0d\u4e00\u5b9a\u8981\u7528mongo\u5b58\u6570\u636e, \u7f13\u5b58\u670d\u52a1\u7531redis\u6539\u4e3a\u4e86ssdb, \u914d\u7f6e\u6587\u4ef6\u7b80\u5316\u4e3a\u6700\u5c11\u9700\u8981[ssdb]\u8868, \u5176\u4ed6\u4fee\u6539\u8bf7\u81ea\u884c\u9605\u8bfb\u8bf4\u660e\u672c\u6587\u6863</td>\n</tr></tbody></table>\n<hr>\n<h5>\u672c\u9879\u76ee\u4ec5\u4f9b\u6240\u6709\u4eba\u5b66\u4e60\u4ea4\u6d41\u4f7f\u7528, \u7981\u6b62\u7528\u4e8e\u5546\u4e1a\u7528\u9014</h5>\n\n          </div>"}, "last_serial": 4996430, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "796d1ccdcb6a491f95e4b9d7f0fb871c", "sha256": "952585be0b988a3ff2cad1d7526c5cf5c1c99f55d9480ee4e89f8a8be7ca8e54"}, "downloads": -1, "filename": "zspider-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "796d1ccdcb6a491f95e4b9d7f0fb871c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 34573, "upload_time": "2019-03-27T06:37:19", "upload_time_iso_8601": "2019-03-27T06:37:19.817577Z", "url": "https://files.pythonhosted.org/packages/23/15/601807153fd1ad57a7f3bc5ddbd49fda7f878c68b025d9e48c905e97b13d/zspider-1.0.0-py3-none-any.whl", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "24c181c0798088d2472502b6c7c34f1f", "sha256": "d88ec380adde143883698b536b74ed56a5026f7a3d5ab512252d8b5925a4dcd2"}, "downloads": -1, "filename": "zspider-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "24c181c0798088d2472502b6c7c34f1f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 34710, "upload_time": "2019-03-28T02:50:22", "upload_time_iso_8601": "2019-03-28T02:50:22.225477Z", "url": "https://files.pythonhosted.org/packages/6e/80/010031a18c5b3e89a7c3767b21b24db1c3ed72624505bc7818cc77e5f5a3/zspider-1.0.1-py3-none-any.whl", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "b5b17b870c2c13e8aa9e6fcb2e2b26c9", "sha256": "ff605c058e3643d7f46db88c677ddd863a0997b5cabcd567e7f9064953206d72"}, "downloads": -1, "filename": "zspider-1.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "b5b17b870c2c13e8aa9e6fcb2e2b26c9", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 34755, "upload_time": "2019-03-28T07:34:25", "upload_time_iso_8601": "2019-03-28T07:34:25.829996Z", "url": "https://files.pythonhosted.org/packages/4e/cf/8e31c13ab11532bb0cf4ffd1069ddf77838c44bfe4ffb3506c1b00a443d7/zspider-1.0.2-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b5b17b870c2c13e8aa9e6fcb2e2b26c9", "sha256": "ff605c058e3643d7f46db88c677ddd863a0997b5cabcd567e7f9064953206d72"}, "downloads": -1, "filename": "zspider-1.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "b5b17b870c2c13e8aa9e6fcb2e2b26c9", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 34755, "upload_time": "2019-03-28T07:34:25", "upload_time_iso_8601": "2019-03-28T07:34:25.829996Z", "url": "https://files.pythonhosted.org/packages/4e/cf/8e31c13ab11532bb0cf4ffd1069ddf77838c44bfe4ffb3506c1b00a443d7/zspider-1.0.2-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 03:11:06 2020"}
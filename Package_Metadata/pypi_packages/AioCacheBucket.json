{"info": {"author": "Chenwe-i-lin", "author_email": "1846913566@qq.com", "bugtrack_url": null, "classifiers": [], "description": "## AioCacheBucket\n\u8fd9\u5e76\u975e\u4e00\u4e2a\u4f7f\u7528\u7c7b\u4f3c `result = await cache.get(\"xxxxxx\")` \u7684\u6240\u8c13\" IO\u5bc6\u96c6\u578b\" \u5e94\u7528.  \nAioCacheBucket \u662f\u4f7f\u7528\u4e86 `asyncio` \u6a21\u5757\u7684\u591a\u79cd\u6280\u5de7\u5b9e\u73b0\u7684\u4e00\u4e2aPython\u7f13\u5b58\u6a21\u5757.  \n\n### Example\n\n``` python\n# \u5355\u5b9e\u4f8b:\nfrom AioCacheBucket import AioCacheBucket\n\nbucket = AioCacheBucket()\nbucket.set(\"message\", \"Hello World!\")\nprint(bucket.get(\"message\"))\n\n# \u591a\u5b9e\u4f8b:\nfrom AioCacheBucket import AioMultiCacheBucket\n\nmultibuckets = AioMultiCacheBucket({})\nmultibuckets.setup({\n    \"hello-world\": {}\n})\nhello_world_bucket: AioCacheBucket = multibuckets.getBucket(\"hello-world\")\nhello_world_bucket.set(\"message\".encode(\"utf-8\"), \"sth.\") # \u9664\u4e86\u952e\u5fc5\u987b\u662fhashable, \u503c\u5219\u53ef\u4ee5\u662f\u4efb\u4f55PyObject.\n\n# \u5373\u65f6\u8fc7\u671f\u673a\u5236:\nfrom datetime import datetime as dt, timedelta as td\nbucket.set(\"ttl-test\", \"sth\", date=dt.now() + td(seconds=10))\n# ttl-test\u8fd9\u4e2a\u952e\u4f1a\u572810\u79d2\u540e\u88ab\u5220\u9664. ACB\u4f1a\u5728\u4f60\u4f7f\u7528get\u65b9\u6cd5\u65f6\u68c0\u67e5\u952e\u7684\u8fc7\u671f\u60c5\u51b5, \u5e76\u6839\u636e\u5176\u8fdb\u884c\u4e00\u5b9a\u5904\u7406.\n\nmultibuckets.close_scavenger() \n# \u5728\u6267\u884c\u5b8c\u6240\u6709\u4ee3\u7801\u540e, \u8bf7\u5148\u901a\u8fc7\u8be5\u65b9\u6cd5\u505c\u6b62\u5185\u7f6e\u7684\u6e05\u9053\u592b\u7ebf\u7a0b, \u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u5047\u6b7b\n# \u5728\u8fd9\u4e4b\u540e\u6211\u4eec\u53ef\u80fd\u4f1a\u4f7f\u7528atexit\u7b49\u6a21\u5757\u5b9e\u73b0\u81ea\u52a8\u6267\u884c\u8be5\u65b9\u6cd5.\n```\n\nACB\u4e3b\u8981\u5c06 `asyncio` \u6a21\u5757\u7528\u4e8e\u6e05\u9053\u592b\u7ebf\u7a0b\u7684\u5b9e\u73b0, \u5bf9\u4e8e\u7528\u6237\u63a5\u53e3\u5c3d\u91cf\u505a\u5230\u7b80\u5355\u65b9\u4fbf.\n\n\u5f3a\u70c8\u63a8\u8350\u5728Python 3.7.10\u53ca\u4ee5\u4e0a\u7248\u672c\u4f7f\u7528\u8be5\u6a21\u5757.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/NatriumLab/AioCacheBucket", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "AioCacheBucket", "package_url": "https://pypi.org/project/AioCacheBucket/", "platform": "", "project_url": "https://pypi.org/project/AioCacheBucket/", "project_urls": {"Homepage": "https://github.com/NatriumLab/AioCacheBucket"}, "release_url": "https://pypi.org/project/AioCacheBucket/0.0.7/", "requires_dist": null, "requires_python": "", "summary": "cache for python, base on asyncio.", "version": "0.0.7", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h2>AioCacheBucket</h2>\n<p>\u8fd9\u5e76\u975e\u4e00\u4e2a\u4f7f\u7528\u7c7b\u4f3c <code>result = await cache.get(\"xxxxxx\")</code> \u7684\u6240\u8c13\" IO\u5bc6\u96c6\u578b\" \u5e94\u7528.<br>\nAioCacheBucket \u662f\u4f7f\u7528\u4e86 <code>asyncio</code> \u6a21\u5757\u7684\u591a\u79cd\u6280\u5de7\u5b9e\u73b0\u7684\u4e00\u4e2aPython\u7f13\u5b58\u6a21\u5757.</p>\n<h3>Example</h3>\n<pre><span class=\"c1\"># \u5355\u5b9e\u4f8b:</span>\n<span class=\"kn\">from</span> <span class=\"nn\">AioCacheBucket</span> <span class=\"kn\">import</span> <span class=\"n\">AioCacheBucket</span>\n\n<span class=\"n\">bucket</span> <span class=\"o\">=</span> <span class=\"n\">AioCacheBucket</span><span class=\"p\">()</span>\n<span class=\"n\">bucket</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"s2\">\"message\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Hello World!\"</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">bucket</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"message\"</span><span class=\"p\">))</span>\n\n<span class=\"c1\"># \u591a\u5b9e\u4f8b:</span>\n<span class=\"kn\">from</span> <span class=\"nn\">AioCacheBucket</span> <span class=\"kn\">import</span> <span class=\"n\">AioMultiCacheBucket</span>\n\n<span class=\"n\">multibuckets</span> <span class=\"o\">=</span> <span class=\"n\">AioMultiCacheBucket</span><span class=\"p\">({})</span>\n<span class=\"n\">multibuckets</span><span class=\"o\">.</span><span class=\"n\">setup</span><span class=\"p\">({</span>\n    <span class=\"s2\">\"hello-world\"</span><span class=\"p\">:</span> <span class=\"p\">{}</span>\n<span class=\"p\">})</span>\n<span class=\"n\">hello_world_bucket</span><span class=\"p\">:</span> <span class=\"n\">AioCacheBucket</span> <span class=\"o\">=</span> <span class=\"n\">multibuckets</span><span class=\"o\">.</span><span class=\"n\">getBucket</span><span class=\"p\">(</span><span class=\"s2\">\"hello-world\"</span><span class=\"p\">)</span>\n<span class=\"n\">hello_world_bucket</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"s2\">\"message\"</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">(</span><span class=\"s2\">\"utf-8\"</span><span class=\"p\">),</span> <span class=\"s2\">\"sth.\"</span><span class=\"p\">)</span> <span class=\"c1\"># \u9664\u4e86\u952e\u5fc5\u987b\u662fhashable, \u503c\u5219\u53ef\u4ee5\u662f\u4efb\u4f55PyObject.</span>\n\n<span class=\"c1\"># \u5373\u65f6\u8fc7\u671f\u673a\u5236:</span>\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span> <span class=\"k\">as</span> <span class=\"n\">dt</span><span class=\"p\">,</span> <span class=\"n\">timedelta</span> <span class=\"k\">as</span> <span class=\"n\">td</span>\n<span class=\"n\">bucket</span><span class=\"o\">.</span><span class=\"n\">set</span><span class=\"p\">(</span><span class=\"s2\">\"ttl-test\"</span><span class=\"p\">,</span> <span class=\"s2\">\"sth\"</span><span class=\"p\">,</span> <span class=\"n\">date</span><span class=\"o\">=</span><span class=\"n\">dt</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">td</span><span class=\"p\">(</span><span class=\"n\">seconds</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">))</span>\n<span class=\"c1\"># ttl-test\u8fd9\u4e2a\u952e\u4f1a\u572810\u79d2\u540e\u88ab\u5220\u9664. ACB\u4f1a\u5728\u4f60\u4f7f\u7528get\u65b9\u6cd5\u65f6\u68c0\u67e5\u952e\u7684\u8fc7\u671f\u60c5\u51b5, \u5e76\u6839\u636e\u5176\u8fdb\u884c\u4e00\u5b9a\u5904\u7406.</span>\n\n<span class=\"n\">multibuckets</span><span class=\"o\">.</span><span class=\"n\">close_scavenger</span><span class=\"p\">()</span> \n<span class=\"c1\"># \u5728\u6267\u884c\u5b8c\u6240\u6709\u4ee3\u7801\u540e, \u8bf7\u5148\u901a\u8fc7\u8be5\u65b9\u6cd5\u505c\u6b62\u5185\u7f6e\u7684\u6e05\u9053\u592b\u7ebf\u7a0b, \u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u5047\u6b7b</span>\n<span class=\"c1\"># \u5728\u8fd9\u4e4b\u540e\u6211\u4eec\u53ef\u80fd\u4f1a\u4f7f\u7528atexit\u7b49\u6a21\u5757\u5b9e\u73b0\u81ea\u52a8\u6267\u884c\u8be5\u65b9\u6cd5.</span>\n</pre>\n<p>ACB\u4e3b\u8981\u5c06 <code>asyncio</code> \u6a21\u5757\u7528\u4e8e\u6e05\u9053\u592b\u7ebf\u7a0b\u7684\u5b9e\u73b0, \u5bf9\u4e8e\u7528\u6237\u63a5\u53e3\u5c3d\u91cf\u505a\u5230\u7b80\u5355\u65b9\u4fbf.</p>\n<p>\u5f3a\u70c8\u63a8\u8350\u5728Python 3.7.10\u53ca\u4ee5\u4e0a\u7248\u672c\u4f7f\u7528\u8be5\u6a21\u5757.</p>\n\n          </div>"}, "last_serial": 6395167, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "2a28ce0ba2b6118568f5a28ab3d0ad98", "sha256": "75ebdff67a46b9083c7f272ee7309ccffd9d3a2ad27e99ddab039aafc5407f08"}, "downloads": -1, "filename": "AioCacheBucket-0.0.1.tar.gz", "has_sig": false, "md5_digest": "2a28ce0ba2b6118568f5a28ab3d0ad98", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3622, "upload_time": "2020-01-04T15:11:45", "upload_time_iso_8601": "2020-01-04T15:11:45.933327Z", "url": "https://files.pythonhosted.org/packages/74/c7/952d76e99da081c7b7b9488a4d2096e9689482c320e0b9fc8a70e262b5a6/AioCacheBucket-0.0.1.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "0bd44fa2c344f58399be9e99638ba1b1", "sha256": "62174b67d17721c5bb7e7f577d8fbf3d185549f38ae61dc16ca79dff3ea33892"}, "downloads": -1, "filename": "AioCacheBucket-0.0.3.tar.gz", "has_sig": false, "md5_digest": "0bd44fa2c344f58399be9e99638ba1b1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4490, "upload_time": "2020-01-04T15:35:44", "upload_time_iso_8601": "2020-01-04T15:35:44.507756Z", "url": "https://files.pythonhosted.org/packages/3a/10/d7b0677e084141699e2f6cf8eefb127161a42f743095f8b5e99be19e19ba/AioCacheBucket-0.0.3.tar.gz", "yanked": false}], "0.0.7": [{"comment_text": "", "digests": {"md5": "62fb0706311feb6d2520cb0a607b5621", "sha256": "bf3d74728fc036dbe07e3b1cdd1b29d298c03ed2fe552adc6ab0f0c9963ab18b"}, "downloads": -1, "filename": "AioCacheBucket-0.0.7.tar.gz", "has_sig": false, "md5_digest": "62fb0706311feb6d2520cb0a607b5621", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4482, "upload_time": "2020-01-04T16:07:03", "upload_time_iso_8601": "2020-01-04T16:07:03.902130Z", "url": "https://files.pythonhosted.org/packages/72/1b/bb33b7a95eec9d5c0178434c50cf628399ab371aa70481fd56d8139202e5/AioCacheBucket-0.0.7.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "62fb0706311feb6d2520cb0a607b5621", "sha256": "bf3d74728fc036dbe07e3b1cdd1b29d298c03ed2fe552adc6ab0f0c9963ab18b"}, "downloads": -1, "filename": "AioCacheBucket-0.0.7.tar.gz", "has_sig": false, "md5_digest": "62fb0706311feb6d2520cb0a607b5621", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4482, "upload_time": "2020-01-04T16:07:03", "upload_time_iso_8601": "2020-01-04T16:07:03.902130Z", "url": "https://files.pythonhosted.org/packages/72/1b/bb33b7a95eec9d5c0178434c50cf628399ab371aa70481fd56d8139202e5/AioCacheBucket-0.0.7.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:21:44 2020"}
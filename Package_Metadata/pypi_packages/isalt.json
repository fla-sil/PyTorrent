{"info": {"author": "Mircea Ulinic", "author_email": "ping@mirceaulinic.net", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Environment :: Console", "Framework :: IPython", "Intended Audience :: Developers", "Intended Audience :: Education", "Intended Audience :: Science/Research", "Intended Audience :: System Administrators", "License :: OSI Approved :: Apache Software License", "Operating System :: MacOS", "Operating System :: Microsoft :: Windows", "Operating System :: POSIX", "Programming Language :: Cython", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: System :: Shells", "Topic :: System :: Systems Administration", "Topic :: Utilities"], "description": "ISalt: Interactive Salt Programming\n===================================\n\nISalt is an IPython style console to facilitate the debugging or even\ndevelopment of Salt code.\n\n.. image:: https://github.com/mirceaulinic/isalt/blob/master/cover.png\n\nSalt code typically makes use of a number of *dunder* (i.e., _d_ouble \n_under_score) variables such as ``__salt__``, ``__opts__``, ``__grains__``,\n``__proxy__``, or ``__pillar__``, etc.,  which give you quick access to various \nresources and features. They also have a different meaning depending on the \ncontext - for example, ``__opts__`` on the Minion side is a different object \nthan ``__opts__`` on the Master side; ``__salt__`` on the Minion side gives you\naccess to the list of Execution Modules, while ``__salt__`` on the Master side\nprovides the Runners, and so on.\n\nThe main difficulty when working with these variables is that they only make\nsense when actually running Salt and having a Master and eventually one or more\nMinions running. It often happens that you don't necessarily want to have these \nservices running when writing a new function (that use these dunders), or just\nwant to quickly debug something without pushing code to production.\n\nWith ISalt, you can easily get access to these variables, by simply executing\n``isalt``, e.g.,\n\n.. code-block:: bash\n\n    $ isalt\n    >>> __salt__['test.ping']()\n    True\n    >>>\n    >>> __grains__['osfinger']\n    'Ubuntu-18.04'\n\nIn other words, ISalt is an enhanced IPython console which gives you access to\nthe Salt global variables typically used in Salt code.\n\nInstall\n-------\n\nISalt is distributed via PyPI, and you can install it by executing:\n\n.. code-block:: bash\n\n    $ pip install isalt\n\nDependencies:\n\n- `salt <https://pypi.org/project/salt/>`__\n- `IPython <https://pypi.org/project/IPython/>`__\n\nNo specific version for either of these packages, so it doesn't mess up with \nyour environment. It should normally work well with any version.\n\nUsage\n-----\n\nYou can configure various bits of data or conditionals using one or more of the \nfollowing options, with precedence in this order: ISalt configuration file, \nenvironment variables, and CLI arguments.\n\nOne of the most important details to keep in mind is the difference between \nrunning the code on the Minion side, versus Master side (where we can further\ndistinguish between code to be executed as a Runner, vs. Execution Module for\nan arbitrary Minion -- for the former you may need to provide the Minion ID\nusing the ``--minion-id`` CLI argument).\n\nTypically, when you install ISalt where you have a Salt Minion running, it \nshould be sufficient to execute just ``$ isalt``.\n\nWhen you want to use ISalt on the Master side, but to test Execution Modules,\nyou can run ``$ isalt --on-master``.\n\nWhen you're looking into evaluating Runner code, you can only do this one the\nMaster side, therefore, you'd need to start the console as ``$ isalt \n--master``.\n\nYou can check the complete list of CLI optional arguments by \n\n.. code-block:: bash\n\n    $ isalt -h\n    usage: isalt [-h] [--saltenv SALTENV] [--pillarenv PILLARENV] [-c CFG_FILE]\n                 [-e CFG_FILE_ENV_VAR] [--minion-cfg MINION_CFG_FILE]\n                 [--proxy-cfg PROXY_CFG_FILE] [--master-cfg MASTER_CFG_FILE]\n                 [--minion] [--proxytype PROXYTYPE] [--proxy] [--sproxy]\n                 [--master] [--local] [--minion-id MINION_ID] [--on-master]\n\n    ISalt console\n\n    optional arguments:\n      -h, --help            show this help message and exit\n      --saltenv SALTENV     Salt environment name.\n      --pillarenv PILLARENV\n                            The Salt environment name to compile the Pillar from.\n      -c CFG_FILE, --cfg-file CFG_FILE\n                            The absolute path to the ISalt config file.\n      -e CFG_FILE_ENV_VAR, --env-var CFG_FILE_ENV_VAR\n                            The name of the environment variable pointing to the\n                            ISalt config file.\n      --minion-cfg MINION_CFG_FILE\n                            The absolute path to the Minion config file.\n      --proxy-cfg PROXY_CFG_FILE\n                            The absolute path to the Proxy Minion config file.\n      --master-cfg MASTER_CFG_FILE\n                            The absolute path to the Master config file.\n      --minion              Prepare the Salt dunders for the Minion.\n      --proxy               Prepare the Salt dunders for the Proxy Minion.\n      --sproxy              Prepare the Salt dunders for the salt-sproxy (Master\n                            side).\n      --master              Prepare the Salt dunders for the Master.\n      --local               Override the Minion config and use the local client.\n                            This option loads the file roots config from the\n                            Master file.\n      --minion-id MINION_ID\n                            The Minion ID to compile the Salt dunders for. This\n                            argument is optional, however it may fail when ISalt\n                            is not able to determine the Minion ID, or take it\n                            from the environment variable, etc.\n      --on-minion           Whether should compile the dunders for the Minion\n                            side, starting the ISalt console on the Minion\n                            machine. The main difference is that the Pillar and\n                            Grains are compiled locally, while when using --on-\n                            master, it's using the local cached data.\n      --on-master           Whether should compile the dunders for the Minion\n                            side, starting the ISalt console on the Master\n                            machine. This option is ignored when used in\n                            conjunction with --master.\n\nUsage Examples\n^^^^^^^^^^^^^^\n\nUsing ISalt on the Master\n+++++++++++++++++++++++++\n\nStart with ``isalt --master``. Remember that the ``__salt__`` dunder currently \nmaps to the Runner functions, and not to the execution modules.\n\n.. code-block:: bash\n\n  $ isalt --master\n\n  In [1]: # execute the ``test.sleep`` Runner:\n\n  In [2]: # https://docs.saltstack.com/en/latest/ref/runners/all/salt.runners.test.html#module-salt.runners.test\n\n  In [3]: __salt__['test.sleep'](1)\n  1\n  Out[3]: True\n\n\nUsing ISalt on the Master, loading the (Proxy) Minion dunders\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n\nIn this mode, you need to specify the Minion ID to use and collect and compile\ndata for (otherwise it'll use local machine's hostname):\n\n.. code-block:: bash\n\n    $ isalt --on-master --minion-id jerry\n\n.. note::\n\n    You can equally specify the Minion ID in the proxy/minion configuration \n    file, from ``--minion-cfg`` or ``--proxy-cfg`` options.\n\nFor Proxy Minions, you have to pass the ``--proxy`` CLI argument, e.g.,\n\n.. code-block:: bash\n\n    $ isalt --on-master --minion-id edge-router --proxy\n\nFor Proxy Minions, in order to load the ``__salt__`` modules correctly, you may\nhave to provide the ``proxytype`` as well into the Proxy configuration file (by \ndefault at ``/etc/salt/proxy``, or a different path set using the \n``--proxy-cfg`` arg) - or using the ``--proxytype`` CLI argument, e.g.,\n\n``/etc/salt/proxy``\n\n.. code-block:: yaml\n\n    proxy:\n      proxytype: napalm\n\nAnd execute as ``isalt --on-master --proxy --minion-id jerry``.\n\nOr directly as ``isalt --on-master --proxytype napalm --minion-id jerry``.\n\nUsing ISalt on the (Proxy) Minion\n+++++++++++++++++++++++++++++++++\n\nThis is the default ISalt mode, and you no longer have to provide the Minion \nID, as it's collected from local machine, unless you want to use a specific \none. As always, you can have the Minion ID in the Proxy / Minion configuration \nfile, the ``ISALT_MINION_ID`` environment variable, or the ISalt configuration\nfile (as the ``minion_id`` option).\n\nExample:\n\n.. code-block:: bash\n\n    $ echo $ISALT_MINION_ID\n    jerry\n    $ isalt\n\n    In [1]: __opts__['id']\n    Out[1]: 'jerry'\n\n.. note::\n\n    The local Proxy / Minion key must be accepted by the Master. To avoid \n    connecting to the Master, you can use the ``--local`` argument to start the\n    Minion in `Masterless \n    <https://docs.saltstack.com/en/latest/topics/tutorials/quickstart.html>`__\n    mode - you will however need to make sure that you point to the file (and\n    pillar) roots you need as those won't be pulled from the Master.\n\n    One good way to deal with this is pointing the ``file_roots`` option to the\n    cache directory of the production Minion. For example, you have a Minion\n    that is pulling the production files from the Master, and caching them \n    under ``/var/cache/salt/minion/files/base`` (whatever would be your \n    filesystem backend). Now, to use these files when starting ISalt in local \n    mode, you can reference that dir as:\n\n    ``/etc/salt/minion`` (excerpt)\n\n    .. code-block:: yaml\n\n        file_roots:\n            base:\n              - /var/cache/salt/minion/files/base\n\n    Now, starting with ``isalt --local``, you still load your modules, states,\n    and other files without connecting to the Master.\n\nUsing ISalt in conjunction with Salt Super Proxy (Master side)\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n\n.. note::\n\n    This option requires salt-sproxy to be installed in the same environment as\n    ISalt: ``pip install salt-sproxy``. For simplicity, you can, for example,\n    install as: ``pip install isalt[sproxy]``.\n\nUsage example:\n\n.. code-block:: bash\n\n    $ isalt --sproxy\n\nIn this interactive console, you have access to the usual Salt Master dunders, \nas well as the salt-sproxy features. As a shortcut, you have access to the \nsalt-sproxy core function, through the ``sproxy`` global variable:\n\n.. code-block:: bash\n\n    >>> sproxy\n    <function execute at 0x7fd394075510>\n    >>> sproxy('*', preview_target=True)\n    ['router1',\n     'router2']\n\nIn a similar way, this facilitates the execution of any Salt function through\nsalt-sproxy, e.g.,\n\n.. code-block:: bash\n\n    >>> sproxy('router1', function='test.ping', static=True)\n    {'router1': True}\n    >>>\n\n.. tip::\n\n    For best results using salt-sproxy, it is recommended to pass the \n    ``static=True`` argument.\n\nYou can also get into the *sproxy* mode by default, by setting the value \n``role: sproxy`` into the ISalt configuration file (see also the next \nparagraph).\n\n.. important::\n\n    Check also the `salt-sproxy documentation \n    <https://salt-sproxy.readthedocs.io/en/latest/>`__ for more usage \n    instructions and examples.\n\nISalt configuration file\n^^^^^^^^^^^^^^^^^^^^^^^^\n\nEvery of the options presented above are available through the ISalt \nconfiguration file, by default ``/etc/salt/isalt``. To read the file from \na specific path, use the ``-c`` / ``--cfg-file`` args, e.g.,\n\n.. code-block:: bash\n\n    $ isalt -c /path/to/isalt/config/file\n\nOr, alternative, using the ``ISALT_CFG_FILE`` environment variable, e.g.,\n\n.. code-block:: bash\n\n    $ echo $ISALT_CFG_FILE\n    /path/to/isalt/config/file\n    $ isalt\n\nEven more, if you want to read the path to the config file from a different\nenvironment variable, use the ``-e`` / ``--env-var`` arg:\n\n.. code-block:: bash\n\n    $ echo $ALTERNATIVE_ISALT_CFG_FILE\n    /path/to/another/isalt/config/file\n    $ isalt -e ALTERNATIVE_ISALT_CFG_FILE\n\nISalt configuration file example\n++++++++++++++++++++++++++++++++\n\n.. code-block:: yaml\n\n    on_master: true\n    proxytype: dummy\n    proxy_cfg: /path/to/proxy/config\n    minion_cfg: /path/to/minion/config\n    master_cfg: /path/to/master/config\n\nWith the configuration file above, you can simplify the CLI usage, e.g., from \n``isalt --on-master --proxy-cfg /path/to/proxy/config --proxytype dummy \n--minion-id jerry`` to just ``isalt --minion-id jerry``, etc.\n\nEnvironment Variables\n^^^^^^^^^^^^^^^^^^^^^\n\n``ISALT_CFG_FILE``\n    Absolute path to the ISalt configuration file.\n\n``ISALT_ROLE``\n    The Salt system role. Choose between: ``master``, ``minion``, or ``proxy``.\n\n``ISALT_ON_MASTER``\n    If you're running ISalt on the Master.\n\n``ISALT_MINION_ID``\n    The Minion ID to use.\n\n``ISALT_PROXYTYPE``\n    The Proxy Minion module name to use.\n\n``ISALT_MASTER_CONFIG``\n    Absolute path to the Master configuration file.\n\n``ISALT_MINION_CONFIG``\n    Absolute path to the Minion configuration file.\n\n``ISALT_PROXY_MINION_CONFIG``\n    Absolute path to the Proxy Minion configuration file.\n\n``ISALT_USE_CACHED_PILLAR``\n    When starting in Proxy / Minion mode, on the Master: whether to use the\n    cached Pillars that may be already available for the specified Minion,\n    or compile fresh data.\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/mirceaulinic/isalt", "keywords": "Salt, Interactive, Interpreter,Shell,Embedding", "license": "Apache License 2.0", "maintainer": "", "maintainer_email": "", "name": "isalt", "package_url": "https://pypi.org/project/isalt/", "platform": "", "project_url": "https://pypi.org/project/isalt/", "project_urls": {"Homepage": "https://github.com/mirceaulinic/isalt"}, "release_url": "https://pypi.org/project/isalt/2020.3.0/", "requires_dist": ["salt", "ipython", "salt-sproxy ; extra == 'sproxy'"], "requires_python": "", "summary": "ISalt: Interactive Salt Programming", "version": "2020.3.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>ISalt is an IPython style console to facilitate the debugging or even\ndevelopment of Salt code.</p>\n<img alt=\"https://github.com/mirceaulinic/isalt/blob/master/cover.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fbba41b1fb50a62790c8f22b7865cd9c4a306559/68747470733a2f2f6769746875622e636f6d2f6d6972636561756c696e69632f6973616c742f626c6f622f6d61737465722f636f7665722e706e67\">\n<p>Salt code typically makes use of a number of <em>dunder</em> (i.e., _d_ouble\n_under_score) variables such as <tt>__salt__</tt>, <tt>__opts__</tt>, <tt>__grains__</tt>,\n<tt>__proxy__</tt>, or <tt>__pillar__</tt>, etc.,  which give you quick access to various\nresources and features. They also have a different meaning depending on the\ncontext - for example, <tt>__opts__</tt> on the Minion side is a different object\nthan <tt>__opts__</tt> on the Master side; <tt>__salt__</tt> on the Minion side gives you\naccess to the list of Execution Modules, while <tt>__salt__</tt> on the Master side\nprovides the Runners, and so on.</p>\n<p>The main difficulty when working with these variables is that they only make\nsense when actually running Salt and having a Master and eventually one or more\nMinions running. It often happens that you don\u2019t necessarily want to have these\nservices running when writing a new function (that use these dunders), or just\nwant to quickly debug something without pushing code to production.</p>\n<p>With ISalt, you can easily get access to these variables, by simply executing\n<tt>isalt</tt>, e.g.,</p>\n<pre>$ isalt\n&gt;&gt;&gt; __salt__<span class=\"o\">[</span><span class=\"s1\">'test.ping'</span><span class=\"o\">]()</span>\nTrue\n&gt;&gt;&gt;\n&gt;&gt;&gt; __grains__<span class=\"o\">[</span><span class=\"s1\">'osfinger'</span><span class=\"o\">]</span>\n<span class=\"s1\">'Ubuntu-18.04'</span>\n</pre>\n<p>In other words, ISalt is an enhanced IPython console which gives you access to\nthe Salt global variables typically used in Salt code.</p>\n<div id=\"install\">\n<h2>Install</h2>\n<p>ISalt is distributed via PyPI, and you can install it by executing:</p>\n<pre>$ pip install isalt\n</pre>\n<p>Dependencies:</p>\n<ul>\n<li><a href=\"https://pypi.org/project/salt/\" rel=\"nofollow\">salt</a></li>\n<li><a href=\"https://pypi.org/project/IPython/\" rel=\"nofollow\">IPython</a></li>\n</ul>\n<p>No specific version for either of these packages, so it doesn\u2019t mess up with\nyour environment. It should normally work well with any version.</p>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>You can configure various bits of data or conditionals using one or more of the\nfollowing options, with precedence in this order: ISalt configuration file,\nenvironment variables, and CLI arguments.</p>\n<p>One of the most important details to keep in mind is the difference between\nrunning the code on the Minion side, versus Master side (where we can further\ndistinguish between code to be executed as a Runner, vs. Execution Module for\nan arbitrary Minion \u2013 for the former you may need to provide the Minion ID\nusing the <tt><span class=\"pre\">--minion-id</span></tt> CLI argument).</p>\n<p>Typically, when you install ISalt where you have a Salt Minion running, it\nshould be sufficient to execute just <tt>$ isalt</tt>.</p>\n<p>When you want to use ISalt on the Master side, but to test Execution Modules,\nyou can run <tt>$ isalt <span class=\"pre\">--on-master</span></tt>.</p>\n<p>When you\u2019re looking into evaluating Runner code, you can only do this one the\nMaster side, therefore, you\u2019d need to start the console as <tt>$ isalt\n<span class=\"pre\">--master</span></tt>.</p>\n<p>You can check the complete list of CLI optional arguments by</p>\n<pre>$ isalt -h\nusage: isalt <span class=\"o\">[</span>-h<span class=\"o\">]</span> <span class=\"o\">[</span>--saltenv SALTENV<span class=\"o\">]</span> <span class=\"o\">[</span>--pillarenv PILLARENV<span class=\"o\">]</span> <span class=\"o\">[</span>-c CFG_FILE<span class=\"o\">]</span>\n             <span class=\"o\">[</span>-e CFG_FILE_ENV_VAR<span class=\"o\">]</span> <span class=\"o\">[</span>--minion-cfg MINION_CFG_FILE<span class=\"o\">]</span>\n             <span class=\"o\">[</span>--proxy-cfg PROXY_CFG_FILE<span class=\"o\">]</span> <span class=\"o\">[</span>--master-cfg MASTER_CFG_FILE<span class=\"o\">]</span>\n             <span class=\"o\">[</span>--minion<span class=\"o\">]</span> <span class=\"o\">[</span>--proxytype PROXYTYPE<span class=\"o\">]</span> <span class=\"o\">[</span>--proxy<span class=\"o\">]</span> <span class=\"o\">[</span>--sproxy<span class=\"o\">]</span>\n             <span class=\"o\">[</span>--master<span class=\"o\">]</span> <span class=\"o\">[</span>--local<span class=\"o\">]</span> <span class=\"o\">[</span>--minion-id MINION_ID<span class=\"o\">]</span> <span class=\"o\">[</span>--on-master<span class=\"o\">]</span>\n\nISalt console\n\noptional arguments:\n  -h, --help            show this <span class=\"nb\">help</span> message and <span class=\"nb\">exit</span>\n  --saltenv SALTENV     Salt environment name.\n  --pillarenv PILLARENV\n                        The Salt environment name to compile the Pillar from.\n  -c CFG_FILE, --cfg-file CFG_FILE\n                        The absolute path to the ISalt config file.\n  -e CFG_FILE_ENV_VAR, --env-var CFG_FILE_ENV_VAR\n                        The name of the environment variable pointing to the\n                        ISalt config file.\n  --minion-cfg MINION_CFG_FILE\n                        The absolute path to the Minion config file.\n  --proxy-cfg PROXY_CFG_FILE\n                        The absolute path to the Proxy Minion config file.\n  --master-cfg MASTER_CFG_FILE\n                        The absolute path to the Master config file.\n  --minion              Prepare the Salt dunders <span class=\"k\">for</span> the Minion.\n  --proxy               Prepare the Salt dunders <span class=\"k\">for</span> the Proxy Minion.\n  --sproxy              Prepare the Salt dunders <span class=\"k\">for</span> the salt-sproxy <span class=\"o\">(</span>Master\n                        side<span class=\"o\">)</span>.\n  --master              Prepare the Salt dunders <span class=\"k\">for</span> the Master.\n  --local               Override the Minion config and use the <span class=\"nb\">local</span> client.\n                        This option loads the file roots config from the\n                        Master file.\n  --minion-id MINION_ID\n                        The Minion ID to compile the Salt dunders <span class=\"k\">for</span>. This\n                        argument is optional, however it may fail when ISalt\n                        is not able to determine the Minion ID, or take it\n                        from the environment variable, etc.\n  --on-minion           Whether should compile the dunders <span class=\"k\">for</span> the Minion\n                        side, starting the ISalt console on the Minion\n                        machine. The main difference is that the Pillar and\n                        Grains are compiled locally, <span class=\"k\">while</span> when using --on-\n                        master, it<span class=\"err\">'</span>s using the <span class=\"nb\">local</span> cached data.\n  --on-master           Whether should compile the dunders <span class=\"k\">for</span> the Minion\n                        side, starting the ISalt console on the Master\n                        machine. This option is ignored when used in\n                        conjunction with --master.\n</pre>\n<div id=\"usage-examples\">\n<h3>Usage Examples</h3>\n<div id=\"using-isalt-on-the-master\">\n<h4>Using ISalt on the Master</h4>\n<p>Start with <tt>isalt <span class=\"pre\">--master</span></tt>. Remember that the <tt>__salt__</tt> dunder currently\nmaps to the Runner functions, and not to the execution modules.</p>\n<pre>$ isalt --master\n\nIn <span class=\"o\">[</span><span class=\"m\">1</span><span class=\"o\">]</span>: <span class=\"c1\"># execute the ``test.sleep`` Runner:\n</span>\nIn <span class=\"o\">[</span><span class=\"m\">2</span><span class=\"o\">]</span>: <span class=\"c1\"># https://docs.saltstack.com/en/latest/ref/runners/all/salt.runners.test.html#module-salt.runners.test\n</span>\nIn <span class=\"o\">[</span><span class=\"m\">3</span><span class=\"o\">]</span>: __salt__<span class=\"o\">[</span><span class=\"s1\">'test.sleep'</span><span class=\"o\">](</span><span class=\"m\">1</span><span class=\"o\">)</span>\n<span class=\"m\">1</span>\nOut<span class=\"o\">[</span><span class=\"m\">3</span><span class=\"o\">]</span>: True\n</pre>\n</div>\n<div id=\"using-isalt-on-the-master-loading-the-proxy-minion-dunders\">\n<h4>Using ISalt on the Master, loading the (Proxy) Minion dunders</h4>\n<p>In this mode, you need to specify the Minion ID to use and collect and compile\ndata for (otherwise it\u2019ll use local machine\u2019s hostname):</p>\n<pre>$ isalt --on-master --minion-id jerry\n</pre>\n<div>\n<p>Note</p>\n<p>You can equally specify the Minion ID in the proxy/minion configuration\nfile, from <tt><span class=\"pre\">--minion-cfg</span></tt> or <tt><span class=\"pre\">--proxy-cfg</span></tt> options.</p>\n</div>\n<p>For Proxy Minions, you have to pass the <tt><span class=\"pre\">--proxy</span></tt> CLI argument, e.g.,</p>\n<pre>$ isalt --on-master --minion-id edge-router --proxy\n</pre>\n<p>For Proxy Minions, in order to load the <tt>__salt__</tt> modules correctly, you may\nhave to provide the <tt>proxytype</tt> as well into the Proxy configuration file (by\ndefault at <tt>/etc/salt/proxy</tt>, or a different path set using the\n<tt><span class=\"pre\">--proxy-cfg</span></tt> arg) - or using the <tt><span class=\"pre\">--proxytype</span></tt> CLI argument, e.g.,</p>\n<p><tt>/etc/salt/proxy</tt></p>\n<pre><span class=\"nt\">proxy</span><span class=\"p\">:</span>\n  <span class=\"nt\">proxytype</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">napalm</span>\n</pre>\n<p>And execute as <tt>isalt <span class=\"pre\">--on-master</span> <span class=\"pre\">--proxy</span> <span class=\"pre\">--minion-id</span> jerry</tt>.</p>\n<p>Or directly as <tt>isalt <span class=\"pre\">--on-master</span> <span class=\"pre\">--proxytype</span> napalm <span class=\"pre\">--minion-id</span> jerry</tt>.</p>\n</div>\n<div id=\"using-isalt-on-the-proxy-minion\">\n<h4>Using ISalt on the (Proxy) Minion</h4>\n<p>This is the default ISalt mode, and you no longer have to provide the Minion\nID, as it\u2019s collected from local machine, unless you want to use a specific\none. As always, you can have the Minion ID in the Proxy / Minion configuration\nfile, the <tt>ISALT_MINION_ID</tt> environment variable, or the ISalt configuration\nfile (as the <tt>minion_id</tt> option).</p>\n<p>Example:</p>\n<pre>$ <span class=\"nb\">echo</span> <span class=\"nv\">$ISALT_MINION_ID</span>\njerry\n$ isalt\n\nIn <span class=\"o\">[</span><span class=\"m\">1</span><span class=\"o\">]</span>: __opts__<span class=\"o\">[</span><span class=\"s1\">'id'</span><span class=\"o\">]</span>\nOut<span class=\"o\">[</span><span class=\"m\">1</span><span class=\"o\">]</span>: <span class=\"s1\">'jerry'</span>\n</pre>\n<div>\n<p>Note</p>\n<p>The local Proxy / Minion key must be accepted by the Master. To avoid\nconnecting to the Master, you can use the <tt><span class=\"pre\">--local</span></tt> argument to start the\nMinion in <a href=\"https://docs.saltstack.com/en/latest/topics/tutorials/quickstart.html\" rel=\"nofollow\">Masterless</a>\nmode - you will however need to make sure that you point to the file (and\npillar) roots you need as those won\u2019t be pulled from the Master.</p>\n<p>One good way to deal with this is pointing the <tt>file_roots</tt> option to the\ncache directory of the production Minion. For example, you have a Minion\nthat is pulling the production files from the Master, and caching them\nunder <tt>/var/cache/salt/minion/files/base</tt> (whatever would be your\nfilesystem backend). Now, to use these files when starting ISalt in local\nmode, you can reference that dir as:</p>\n<p><tt>/etc/salt/minion</tt> (excerpt)</p>\n<pre><span class=\"nt\">file_roots</span><span class=\"p\">:</span>\n    <span class=\"nt\">base</span><span class=\"p\">:</span>\n      <span class=\"p-Indicator\">-</span> <span class=\"l-Scalar-Plain\">/var/cache/salt/minion/files/base</span>\n</pre>\n<p>Now, starting with <tt>isalt <span class=\"pre\">--local</span></tt>, you still load your modules, states,\nand other files without connecting to the Master.</p>\n</div>\n</div>\n<div id=\"using-isalt-in-conjunction-with-salt-super-proxy-master-side\">\n<h4>Using ISalt in conjunction with Salt Super Proxy (Master side)</h4>\n<div>\n<p>Note</p>\n<p>This option requires salt-sproxy to be installed in the same environment as\nISalt: <tt>pip install <span class=\"pre\">salt-sproxy</span></tt>. For simplicity, you can, for example,\ninstall as: <tt>pip install isalt[sproxy]</tt>.</p>\n</div>\n<p>Usage example:</p>\n<pre>$ isalt --sproxy\n</pre>\n<p>In this interactive console, you have access to the usual Salt Master dunders,\nas well as the salt-sproxy features. As a shortcut, you have access to the\nsalt-sproxy core function, through the <tt>sproxy</tt> global variable:</p>\n<pre>&gt;&gt;&gt; sproxy\n&lt;<span class=\"k\">function</span> execute at 0x7fd394075510&gt;\n&gt;&gt;&gt; sproxy<span class=\"o\">(</span><span class=\"s1\">'*'</span>, <span class=\"nv\">preview_target</span><span class=\"o\">=</span>True<span class=\"o\">)</span>\n<span class=\"o\">[</span><span class=\"s1\">'router1'</span>,\n <span class=\"s1\">'router2'</span><span class=\"o\">]</span>\n</pre>\n<p>In a similar way, this facilitates the execution of any Salt function through\nsalt-sproxy, e.g.,</p>\n<pre>&gt;&gt;&gt; sproxy<span class=\"o\">(</span><span class=\"s1\">'router1'</span>, <span class=\"k\">function</span><span class=\"o\">=</span><span class=\"s1\">'test.ping'</span>, <span class=\"nv\">static</span><span class=\"o\">=</span>True<span class=\"o\">)</span>\n<span class=\"o\">{</span><span class=\"s1\">'router1'</span>: True<span class=\"o\">}</span>\n&gt;&gt;&gt;\n</pre>\n<div>\n<p>Tip</p>\n<p>For best results using salt-sproxy, it is recommended to pass the\n<tt>static=True</tt> argument.</p>\n</div>\n<p>You can also get into the <em>sproxy</em> mode by default, by setting the value\n<tt>role: sproxy</tt> into the ISalt configuration file (see also the next\nparagraph).</p>\n<div>\n<p>Important</p>\n<p>Check also the <a href=\"https://salt-sproxy.readthedocs.io/en/latest/\" rel=\"nofollow\">salt-sproxy documentation</a> for more usage\ninstructions and examples.</p>\n</div>\n</div>\n</div>\n<div id=\"isalt-configuration-file\">\n<h3>ISalt configuration file</h3>\n<p>Every of the options presented above are available through the ISalt\nconfiguration file, by default <tt>/etc/salt/isalt</tt>. To read the file from\na specific path, use the <tt><span class=\"pre\">-c</span></tt> / <tt><span class=\"pre\">--cfg-file</span></tt> args, e.g.,</p>\n<pre>$ isalt -c /path/to/isalt/config/file\n</pre>\n<p>Or, alternative, using the <tt>ISALT_CFG_FILE</tt> environment variable, e.g.,</p>\n<pre>$ <span class=\"nb\">echo</span> <span class=\"nv\">$ISALT_CFG_FILE</span>\n/path/to/isalt/config/file\n$ isalt\n</pre>\n<p>Even more, if you want to read the path to the config file from a different\nenvironment variable, use the <tt><span class=\"pre\">-e</span></tt> / <tt><span class=\"pre\">--env-var</span></tt> arg:</p>\n<pre>$ <span class=\"nb\">echo</span> <span class=\"nv\">$ALTERNATIVE_ISALT_CFG_FILE</span>\n/path/to/another/isalt/config/file\n$ isalt -e ALTERNATIVE_ISALT_CFG_FILE\n</pre>\n<div id=\"isalt-configuration-file-example\">\n<h4>ISalt configuration file example</h4>\n<pre><span class=\"nt\">on_master</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">true</span>\n<span class=\"nt\">proxytype</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">dummy</span>\n<span class=\"nt\">proxy_cfg</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">/path/to/proxy/config</span>\n<span class=\"nt\">minion_cfg</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">/path/to/minion/config</span>\n<span class=\"nt\">master_cfg</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">/path/to/master/config</span>\n</pre>\n<p>With the configuration file above, you can simplify the CLI usage, e.g., from\n<tt>isalt <span class=\"pre\">--on-master</span> <span class=\"pre\">--proxy-cfg</span> /path/to/proxy/config <span class=\"pre\">--proxytype</span> dummy\n<span class=\"pre\">--minion-id</span> jerry</tt> to just <tt>isalt <span class=\"pre\">--minion-id</span> jerry</tt>, etc.</p>\n</div>\n</div>\n<div id=\"environment-variables\">\n<h3>Environment Variables</h3>\n<dl>\n<dt><tt>ISALT_CFG_FILE</tt></dt>\n<dd>Absolute path to the ISalt configuration file.</dd>\n<dt><tt>ISALT_ROLE</tt></dt>\n<dd>The Salt system role. Choose between: <tt>master</tt>, <tt>minion</tt>, or <tt>proxy</tt>.</dd>\n<dt><tt>ISALT_ON_MASTER</tt></dt>\n<dd>If you\u2019re running ISalt on the Master.</dd>\n<dt><tt>ISALT_MINION_ID</tt></dt>\n<dd>The Minion ID to use.</dd>\n<dt><tt>ISALT_PROXYTYPE</tt></dt>\n<dd>The Proxy Minion module name to use.</dd>\n<dt><tt>ISALT_MASTER_CONFIG</tt></dt>\n<dd>Absolute path to the Master configuration file.</dd>\n<dt><tt>ISALT_MINION_CONFIG</tt></dt>\n<dd>Absolute path to the Minion configuration file.</dd>\n<dt><tt>ISALT_PROXY_MINION_CONFIG</tt></dt>\n<dd>Absolute path to the Proxy Minion configuration file.</dd>\n<dt><tt>ISALT_USE_CACHED_PILLAR</tt></dt>\n<dd>When starting in Proxy / Minion mode, on the Master: whether to use the\ncached Pillars that may be already available for the specified Minion,\nor compile fresh data.</dd>\n</dl>\n</div>\n</div>\n\n          </div>"}, "last_serial": 6871959, "releases": {"2019.10.0b1": [{"comment_text": "", "digests": {"md5": "61575a4ae79a4c9cbe20d40476ffe00f", "sha256": "f2ed2582322d93dbe136d1c0bca918021934b507a24c089abd39372f7751c3cc"}, "downloads": -1, "filename": "isalt-2019.10.0b1.tar.gz", "has_sig": false, "md5_digest": "61575a4ae79a4c9cbe20d40476ffe00f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5950, "upload_time": "2019-10-21T10:20:14", "upload_time_iso_8601": "2019-10-21T10:20:14.998780Z", "url": "https://files.pythonhosted.org/packages/6c/56/097a074f7f0e5a374d3f3cd777cd9098a64615a79145e9aaca369c70d425/isalt-2019.10.0b1.tar.gz", "yanked": false}], "2019.12.0": [{"comment_text": "", "digests": {"md5": "99dc76ce2952052f0ca253b4e20ec6fa", "sha256": "c4ec080ca3c8dd0a746dbc605b9eec69e284626fbcba961fb13aea2cda1194ed"}, "downloads": -1, "filename": "isalt-2019.12.0-py3-none-any.whl", "has_sig": false, "md5_digest": "99dc76ce2952052f0ca253b4e20ec6fa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10954, "upload_time": "2019-12-09T08:34:45", "upload_time_iso_8601": "2019-12-09T08:34:45.836991Z", "url": "https://files.pythonhosted.org/packages/41/f9/426f8a4f85f2eb55799eb865366a2091c7f85843d9fce14d1f2030348e76/isalt-2019.12.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9ca13dc527ab96218426bb9952ba7f5a", "sha256": "815dee9dd49585ad4d699bca61cb2103078250e860593ee8cf867d858ac574ec"}, "downloads": -1, "filename": "isalt-2019.12.0.tar.gz", "has_sig": false, "md5_digest": "9ca13dc527ab96218426bb9952ba7f5a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6586, "upload_time": "2019-12-09T08:34:46", "upload_time_iso_8601": "2019-12-09T08:34:46.993050Z", "url": "https://files.pythonhosted.org/packages/ac/45/ca18d15525854067bce350a4e7c1ecf4638b008f0b06fac7a0aeb59714ed/isalt-2019.12.0.tar.gz", "yanked": false}], "2020.1.0": [{"comment_text": "", "digests": {"md5": "f2be86ce2cd406b3a72c980055aecbac", "sha256": "ced818c78e3295f3e6da793a0dfd634274333b8a0d9bf48ebb0795051286adde"}, "downloads": -1, "filename": "isalt-2020.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "f2be86ce2cd406b3a72c980055aecbac", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 16988, "upload_time": "2020-01-06T08:30:54", "upload_time_iso_8601": "2020-01-06T08:30:54.395007Z", "url": "https://files.pythonhosted.org/packages/e4/eb/2024413251073cf4063cbf3e3e0dbcb8830691721c44e039002d463e4a92/isalt-2020.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "eaef165616b820ee126198008bdb78f1", "sha256": "e0dd89be32dedf7f7741d71927430a98b6160005db366d2f6474b770b82b8ad6"}, "downloads": -1, "filename": "isalt-2020.1.0.tar.gz", "has_sig": false, "md5_digest": "eaef165616b820ee126198008bdb78f1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12967, "upload_time": "2020-01-06T08:30:56", "upload_time_iso_8601": "2020-01-06T08:30:56.094785Z", "url": "https://files.pythonhosted.org/packages/25/6b/92554aec475944df596357605391131d3e1a129fdaadbf92650fee2f6e06/isalt-2020.1.0.tar.gz", "yanked": false}], "2020.3.0": [{"comment_text": "", "digests": {"md5": "3372cda74afa77607f272af38e2162ac", "sha256": "b562b7789391090b82b90e934c2b9eb414ee9cff67da5228dcb95d1d0f66f825"}, "downloads": -1, "filename": "isalt-2020.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "3372cda74afa77607f272af38e2162ac", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 17863, "upload_time": "2020-03-24T09:51:01", "upload_time_iso_8601": "2020-03-24T09:51:01.226954Z", "url": "https://files.pythonhosted.org/packages/79/e9/62d8f76768d7aeb6d4248ceb8df4e12cde5eabac3d563e44ff57f08d442d/isalt-2020.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "962ec5577d5a58ac046fc6254ac2306f", "sha256": "be6ba879ae64674a859af0ad100f5caf6acf66c7a8aac71a6c5e42b0896e381a"}, "downloads": -1, "filename": "isalt-2020.3.0.tar.gz", "has_sig": false, "md5_digest": "962ec5577d5a58ac046fc6254ac2306f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15223, "upload_time": "2020-03-24T09:51:02", "upload_time_iso_8601": "2020-03-24T09:51:02.586779Z", "url": "https://files.pythonhosted.org/packages/74/c8/0811b94e6c0da12a2961c9e7d38c2d46bafc5daeef8521937891ae89f4eb/isalt-2020.3.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "3372cda74afa77607f272af38e2162ac", "sha256": "b562b7789391090b82b90e934c2b9eb414ee9cff67da5228dcb95d1d0f66f825"}, "downloads": -1, "filename": "isalt-2020.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "3372cda74afa77607f272af38e2162ac", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 17863, "upload_time": "2020-03-24T09:51:01", "upload_time_iso_8601": "2020-03-24T09:51:01.226954Z", "url": "https://files.pythonhosted.org/packages/79/e9/62d8f76768d7aeb6d4248ceb8df4e12cde5eabac3d563e44ff57f08d442d/isalt-2020.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "962ec5577d5a58ac046fc6254ac2306f", "sha256": "be6ba879ae64674a859af0ad100f5caf6acf66c7a8aac71a6c5e42b0896e381a"}, "downloads": -1, "filename": "isalt-2020.3.0.tar.gz", "has_sig": false, "md5_digest": "962ec5577d5a58ac046fc6254ac2306f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15223, "upload_time": "2020-03-24T09:51:02", "upload_time_iso_8601": "2020-03-24T09:51:02.586779Z", "url": "https://files.pythonhosted.org/packages/74/c8/0811b94e6c0da12a2961c9e7d38c2d46bafc5daeef8521937891ae89f4eb/isalt-2020.3.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:54:10 2020"}
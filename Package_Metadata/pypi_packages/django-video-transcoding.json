{"info": {"author": "Sergey Tikhonov", "author_email": "zimbler@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 1 - Planning", "Environment :: Console", "Framework :: Django :: 2.2", "Framework :: Django :: 3.0", "Operating System :: POSIX", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Multimedia :: Video :: Conversion"], "description": "# django-video-transcoding\nSimple video transcoding application for Django Framework\n\n[![Build Status](https://travis-ci.org/just-work/django-video-transcoding.svg?branch=master)](https://travis-ci.org/just-work/django-video-transcoding)\n[![codecov](https://codecov.io/gh/just-work/django-video-transcoding/branch/master/graph/badge.svg)](https://codecov.io/gh/just-work/django-video-transcoding)\n[![Updates](https://pyup.io/repos/github/just-work/django-video-transcoding/shield.svg)](https://pyup.io/repos/github/just-work/django-video-transcoding/)\n\n## Installation\n\n### System requirements\n\nIn case of latest Ubuntu LTS (18.04):\n\n1. ffmpeg-4.0\n  ```shell script\n  $> sudo add-apt-repository ppa:jonathonf/ffmpeg-4\n  $> sudo apt install ffmpeg\n  ```\n2. mediainfo\n  ```shell script\n  $> sudo apt install mediainfo \n  ```\n3. RabbitMQ\n  ```shell script\n  $> sudo apt install rabbitmq-server\n```\n\n### django-video-transcoding\n\n```shell script\npip install django-video-transcoding\n```\n\n### Configure Django\n\nEdit your project `settings.py`\n```python\nINSTALLED_APPS += ['video_transcoding']\n```\n\n### Env\n\nCommon env variables used in django web server and celery\n\n```\nDJANGO_SETTINGS_MODULE=YOUR_PROJECT.settings\nVIDEO_TRANSCODING_CELERY_BROKER_URL=amqp://guest:guest@rabbitmq:15672/\n```\n\nWeb-server-only env variables:\n\n```\nVIDEO_DOWNLOAD_SOURCE=0\nVIDEO_EDGES='http://edge-1.localhost,http://edge-2.localhost'\n```\n\nCelery-only env variables:\n\n```\nVIDEO_TEMP_DIR=/tmp\nVIDEO_TRANSCODING_CELERY_CONCURRENCY=2\nVIDEO_ORIGINS='http://origin-1.localhost/video,http://origin-2.localhost/video'\n```\n\nStart celery worker\n\n```shell script\n$> celery worker -A video_transcoding.celery\n```\n\n## Demo project\n\n### Run admin, storage and celery worker\n\n```shell script\ndocker-compose up\n```\n\n* http://localhost:8000/admin/ - Django admin (credentials are `admin:admin`)\n* http://storage.localhost:8080/videos/ - WebDAV for sources & results\n* http://storage.localhost:8080/hls/ - HLS stream endpoint\n\n### Transcode something\n\n* `curl -T cat.mp4 http://storage.localhost:8080/videos/sources/cat.mp4`\n* Create new video with link above\n* Wait till video will change status to DONE.\n* On video change form admin page there is a sample video player. \n\n\n## Develop\n\n### Tests\n\n```\nsrc/manage.py test\n```\n\n### Type checking\n\n```\n$> pip install mypy django-stubs\n$> cd src && mypy --config-file=../mypy.ini video_transcoding\n\n```\n\nTBD:\n\n* [x] travis-ci\n* [ ] sphinx docs - autodoc + manual\n* [x] coverage\n* [x] typing\n* [x] badges\n* [x] video hosting demo project with docker-compose, nginx and player demo\n\n\n## Production\n\n### Graceful shutdown\n\n* if you are running transcoder in docker, make sure that celery master process\n    has pid 1 (docker will send SIGTERM to it by default)\n* when using separate celery app, send SIGUSR1 from master to workers to trigger\n    soft shutdown handling\n    (see `video_transcoding.celery.send_term_to_children`)", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/just-work/django-video-transcoding", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "django-video-transcoding", "package_url": "https://pypi.org/project/django-video-transcoding/", "platform": "", "project_url": "https://pypi.org/project/django-video-transcoding/", "project_urls": {"Homepage": "https://github.com/just-work/django-video-transcoding"}, "release_url": "https://pypi.org/project/django-video-transcoding/0.0.12/", "requires_dist": null, "requires_python": "", "summary": "Simple video transcoding application for Django framework", "version": "0.0.12", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>django-video-transcoding</h1>\n<p>Simple video transcoding application for Django Framework</p>\n<p><a href=\"https://travis-ci.org/just-work/django-video-transcoding\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1b28433fb6f3c139002f0aeff24ac1067d80568a/68747470733a2f2f7472617669732d63692e6f72672f6a7573742d776f726b2f646a616e676f2d766964656f2d7472616e73636f64696e672e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/just-work/django-video-transcoding\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e7d86e4dd1f18d24c3754c0e7a92e94a784821c7/68747470733a2f2f636f6465636f762e696f2f67682f6a7573742d776f726b2f646a616e676f2d766964656f2d7472616e73636f64696e672f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"https://pyup.io/repos/github/just-work/django-video-transcoding/\" rel=\"nofollow\"><img alt=\"Updates\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f180bf4ef72e5d2f6a444cee9f58edfd7d0d5500/68747470733a2f2f707975702e696f2f7265706f732f6769746875622f6a7573742d776f726b2f646a616e676f2d766964656f2d7472616e73636f64696e672f736869656c642e737667\"></a></p>\n<h2>Installation</h2>\n<h3>System requirements</h3>\n<p>In case of latest Ubuntu LTS (18.04):</p>\n<ol>\n<li>ffmpeg-4.0</li>\n</ol>\n<pre>$&gt; sudo add-apt-repository ppa:jonathonf/ffmpeg-4\n$&gt; sudo apt install ffmpeg\n</pre>\n<ol>\n<li>mediainfo</li>\n</ol>\n<pre>$&gt; sudo apt install mediainfo \n</pre>\n<ol>\n<li>RabbitMQ</li>\n</ol>\n<pre>$&gt; sudo apt install rabbitmq-server\n</pre>\n<h3>django-video-transcoding</h3>\n<pre>pip install django-video-transcoding\n</pre>\n<h3>Configure Django</h3>\n<p>Edit your project <code>settings.py</code></p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">+=</span> <span class=\"p\">[</span><span class=\"s1\">'video_transcoding'</span><span class=\"p\">]</span>\n</pre>\n<h3>Env</h3>\n<p>Common env variables used in django web server and celery</p>\n<pre><code>DJANGO_SETTINGS_MODULE=YOUR_PROJECT.settings\nVIDEO_TRANSCODING_CELERY_BROKER_URL=amqp://guest:guest@rabbitmq:15672/\n</code></pre>\n<p>Web-server-only env variables:</p>\n<pre><code>VIDEO_DOWNLOAD_SOURCE=0\nVIDEO_EDGES='http://edge-1.localhost,http://edge-2.localhost'\n</code></pre>\n<p>Celery-only env variables:</p>\n<pre><code>VIDEO_TEMP_DIR=/tmp\nVIDEO_TRANSCODING_CELERY_CONCURRENCY=2\nVIDEO_ORIGINS='http://origin-1.localhost/video,http://origin-2.localhost/video'\n</code></pre>\n<p>Start celery worker</p>\n<pre>$&gt; celery worker -A video_transcoding.celery\n</pre>\n<h2>Demo project</h2>\n<h3>Run admin, storage and celery worker</h3>\n<pre>docker-compose up\n</pre>\n<ul>\n<li><a href=\"http://localhost:8000/admin/\" rel=\"nofollow\">http://localhost:8000/admin/</a> - Django admin (credentials are <code>admin:admin</code>)</li>\n<li><a href=\"http://storage.localhost:8080/videos/\" rel=\"nofollow\">http://storage.localhost:8080/videos/</a> - WebDAV for sources &amp; results</li>\n<li><a href=\"http://storage.localhost:8080/hls/\" rel=\"nofollow\">http://storage.localhost:8080/hls/</a> - HLS stream endpoint</li>\n</ul>\n<h3>Transcode something</h3>\n<ul>\n<li><code>curl -T cat.mp4 http://storage.localhost:8080/videos/sources/cat.mp4</code></li>\n<li>Create new video with link above</li>\n<li>Wait till video will change status to DONE.</li>\n<li>On video change form admin page there is a sample video player.</li>\n</ul>\n<h2>Develop</h2>\n<h3>Tests</h3>\n<pre><code>src/manage.py test\n</code></pre>\n<h3>Type checking</h3>\n<pre><code>$&gt; pip install mypy django-stubs\n$&gt; cd src &amp;&amp; mypy --config-file=../mypy.ini video_transcoding\n\n</code></pre>\n<p>TBD:</p>\n<ul>\n<li>[x] travis-ci</li>\n<li>[ ] sphinx docs - autodoc + manual</li>\n<li>[x] coverage</li>\n<li>[x] typing</li>\n<li>[x] badges</li>\n<li>[x] video hosting demo project with docker-compose, nginx and player demo</li>\n</ul>\n<h2>Production</h2>\n<h3>Graceful shutdown</h3>\n<ul>\n<li>if you are running transcoder in docker, make sure that celery master process\nhas pid 1 (docker will send SIGTERM to it by default)</li>\n<li>when using separate celery app, send SIGUSR1 from master to workers to trigger\nsoft shutdown handling\n(see <code>video_transcoding.celery.send_term_to_children</code>)</li>\n</ul>\n\n          </div>"}, "last_serial": 7136337, "releases": {"0.0.10": [{"comment_text": "", "digests": {"md5": "1df3c03b9b56286e9205c728d12bf6b9", "sha256": "053babfa8330924bc105e47d51c7222343fd7ca09affedb2c1279653e2639026"}, "downloads": -1, "filename": "django_video_transcoding-0.0.10.tar.gz", "has_sig": false, "md5_digest": "1df3c03b9b56286e9205c728d12bf6b9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11404, "upload_time": "2020-03-06T10:41:43", "upload_time_iso_8601": "2020-03-06T10:41:43.025843Z", "url": "https://files.pythonhosted.org/packages/86/1b/37406b4a2038821b1cf07bce0fd05ee5228031484fefd2afebbd70fc9d3d/django_video_transcoding-0.0.10.tar.gz", "yanked": false}], "0.0.11": [{"comment_text": "", "digests": {"md5": "33b6999b5eaa17bf79d48c17990da893", "sha256": "1066d41ed9dea8d3f6f6a0aa3195d121d5ed47f52d1d0c6ae5ee37b53eb9eb1a"}, "downloads": -1, "filename": "django_video_transcoding-0.0.11.tar.gz", "has_sig": false, "md5_digest": "33b6999b5eaa17bf79d48c17990da893", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11789, "upload_time": "2020-04-14T15:54:15", "upload_time_iso_8601": "2020-04-14T15:54:15.567853Z", "url": "https://files.pythonhosted.org/packages/73/c9/4c76801a00eb3d75124a6f85a2a6998f59bd7a2b8e5b62d1746291b32bf2/django_video_transcoding-0.0.11.tar.gz", "yanked": false}], "0.0.12": [{"comment_text": "", "digests": {"md5": "19a1fe14e253fab6799332606f63e375", "sha256": "c0fa3f0930409a8dcf94bd0cbd1c311c03633805e4d69c096b092782d045aeca"}, "downloads": -1, "filename": "django_video_transcoding-0.0.12.tar.gz", "has_sig": false, "md5_digest": "19a1fe14e253fab6799332606f63e375", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12939, "upload_time": "2020-04-30T10:11:25", "upload_time_iso_8601": "2020-04-30T10:11:25.092986Z", "url": "https://files.pythonhosted.org/packages/ee/94/7c971368d8fd2469a7e1f6d4f10e4229ae8e1b37197fa898cdf0365bf03b/django_video_transcoding-0.0.12.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "2e29ad1fd1965326fb588292277b4c94", "sha256": "127c43a1f16eabe1ed8d70f3abf0ec6f3c0745ce14244abcbfa11d91b0559dba"}, "downloads": -1, "filename": "django_video_transcoding-0.0.2.tar.gz", "has_sig": false, "md5_digest": "2e29ad1fd1965326fb588292277b4c94", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11446, "upload_time": "2020-02-10T14:22:25", "upload_time_iso_8601": "2020-02-10T14:22:25.150330Z", "url": "https://files.pythonhosted.org/packages/c2/ab/79939157e1fd908adf0887c1d0b0e6a42209d4b552d4f700e87e6fedcb9a/django_video_transcoding-0.0.2.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "33cbe1b732180c4c2d63b4a5cf5304ff", "sha256": "2c7dcf3ea6f9e9d6c5b00f0d74bb0623e6d3049298c91746067d0daee7469436"}, "downloads": -1, "filename": "django_video_transcoding-0.0.4.tar.gz", "has_sig": false, "md5_digest": "33cbe1b732180c4c2d63b4a5cf5304ff", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9601, "upload_time": "2020-02-10T14:29:41", "upload_time_iso_8601": "2020-02-10T14:29:41.349093Z", "url": "https://files.pythonhosted.org/packages/58/7a/f8abbe5c2f29c10f1b6c1ecbd02782f2ef1dbd32a3ea6a2934c5b4195c1a/django_video_transcoding-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "ae1ce5b0d2de6aa4f33eafbd90a95e97", "sha256": "218f486b886d47091ba11c9c2d748f9b89bbdf4f7fdfcb1b2e4270199106b696"}, "downloads": -1, "filename": "django_video_transcoding-0.0.5.tar.gz", "has_sig": false, "md5_digest": "ae1ce5b0d2de6aa4f33eafbd90a95e97", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9951, "upload_time": "2020-02-10T14:38:35", "upload_time_iso_8601": "2020-02-10T14:38:35.413430Z", "url": "https://files.pythonhosted.org/packages/f9/8d/88928e8897fee398ef150852d8e6bb104176e7355f1dc3eede689512cabd/django_video_transcoding-0.0.5.tar.gz", "yanked": false}], "0.0.6": [{"comment_text": "", "digests": {"md5": "a03b8657b8e5e16e7690675e7b2c373e", "sha256": "ca08a4337dc611674f2f7e80b433e8a160602513e044eb73cc1b1b0049b9ac8c"}, "downloads": -1, "filename": "django_video_transcoding-0.0.6.tar.gz", "has_sig": false, "md5_digest": "a03b8657b8e5e16e7690675e7b2c373e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10293, "upload_time": "2020-02-26T08:09:01", "upload_time_iso_8601": "2020-02-26T08:09:01.880418Z", "url": "https://files.pythonhosted.org/packages/8a/15/81790b0f01ac0d48bb08daa6a41ee69e132391cf7cb44ff0385097a6a43b/django_video_transcoding-0.0.6.tar.gz", "yanked": false}], "0.0.7": [{"comment_text": "", "digests": {"md5": "77427e8ca7b33b67329f4627d3972db6", "sha256": "f19ca2ba9d92bd379ad76cf4cf9c4a09659f937e7f1a4e3ff76a6e64d3d20691"}, "downloads": -1, "filename": "django_video_transcoding-0.0.7.tar.gz", "has_sig": false, "md5_digest": "77427e8ca7b33b67329f4627d3972db6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10399, "upload_time": "2020-02-26T09:23:41", "upload_time_iso_8601": "2020-02-26T09:23:41.007292Z", "url": "https://files.pythonhosted.org/packages/53/ee/13f98bcc14f5ab903168c3d75e4b9f5f103cf0a4d755bebd4527de005712/django_video_transcoding-0.0.7.tar.gz", "yanked": false}], "0.0.8": [{"comment_text": "", "digests": {"md5": "380acf1bbb1782b4a15e061b2d1ef61b", "sha256": "4ea8c914f41e13ca0e0e3bc6329ebacc79538fb49dfa12f71cd8a9d38d8f0316"}, "downloads": -1, "filename": "django_video_transcoding-0.0.8.tar.gz", "has_sig": false, "md5_digest": "380acf1bbb1782b4a15e061b2d1ef61b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10897, "upload_time": "2020-03-02T09:34:48", "upload_time_iso_8601": "2020-03-02T09:34:48.249260Z", "url": "https://files.pythonhosted.org/packages/84/5e/c96662de564bbf23938bf78f6be29a1de0ba83dbe8a540e090abd484c899/django_video_transcoding-0.0.8.tar.gz", "yanked": false}], "0.0.9": [{"comment_text": "", "digests": {"md5": "50c6b0e55e06439b33ddf45f28e3e708", "sha256": "e54e650e1f76d979f476408ca4395003f3c6ea6a3fa6a8bda03a1f54ca0ddf2f"}, "downloads": -1, "filename": "django_video_transcoding-0.0.9.tar.gz", "has_sig": false, "md5_digest": "50c6b0e55e06439b33ddf45f28e3e708", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10893, "upload_time": "2020-03-02T12:37:42", "upload_time_iso_8601": "2020-03-02T12:37:42.951716Z", "url": "https://files.pythonhosted.org/packages/43/4a/7664c39308e00175f2aee1929d7ebbb963cba00881a1f2aa4f8fbfdcc9e8/django_video_transcoding-0.0.9.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "19a1fe14e253fab6799332606f63e375", "sha256": "c0fa3f0930409a8dcf94bd0cbd1c311c03633805e4d69c096b092782d045aeca"}, "downloads": -1, "filename": "django_video_transcoding-0.0.12.tar.gz", "has_sig": false, "md5_digest": "19a1fe14e253fab6799332606f63e375", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12939, "upload_time": "2020-04-30T10:11:25", "upload_time_iso_8601": "2020-04-30T10:11:25.092986Z", "url": "https://files.pythonhosted.org/packages/ee/94/7c971368d8fd2469a7e1f6d4f10e4229ae8e1b37197fa898cdf0365bf03b/django_video_transcoding-0.0.12.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:52:02 2020"}
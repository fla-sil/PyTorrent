{"info": {"author": "Daniel Omar Vergara P\u00e9rez", "author_email": "daniel.omar.vergara@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: Implementation :: CPython", "Programming Language :: Python :: Implementation :: PyPy"], "description": "Vanguard kit\n==========================\n\n[![PyPI version](https://badge.fury.io/py/vanguardkit.svg)](https://badge.fury.io/py/vanguardkit)\n[![Tests](https://github.com/BentoBox-Project/vanguard-kit/workflows/CI/badge.svg)](https://github.com/BentoBox-Project/vanguard-kit/actions?workflow=CI)\n[![Codecov](https://codecov.io/gh/BentoBox-Project/vanguard-kit/branch/master/graph/badge.svg)](https://codecov.io/gh/BentoBox-Project/vanguard-kit)\n\n\n> A convenient way to calculate the edit distance between html files to scrape with confidence\n\nSometimes, scraping becomes a hard task, because the web sites are in continous changing.\nWhat about if there was a way to prevent those changes before scrape a site?\nVanguard is a tool kit that provides a way to calculate the edit distance between\ntwo html files by the Zhang-Shasha algorithm.\nThis package is based on [zss](https://github.com/timtadh/zhang-shasha).\n\n## Installation\n\nOS X & Linux:\n\nFrom PYPI\n\n```sh\n$ pip3 install vanguardkit\n```\n\nfrom the source\n\n```sh\n$ git clone https://github.com/dany2691/vanguard-kit.git\n$ cd vanguard-kit\n$ python3 setup.py install\n```\n\n## Usage example\n\nWith vanguard, it is possible to convert html content into a tree (graph) of nodes.\nThe create_html_tree function is the responsible to do that, it returns an instance of the VanguardNode class that inherits from the zss.Node class:\n\n```python\nfrom vanguardkit import create_html_tree\n\nwith open(\"target_website.html\") as target_website:\n    thml_tree = create_html_tree(target_website)\n```\n\nIt is possible to segment specific parts of an html file.\n\nBy tag:\n```python\nwith open(\"target_website.html\") as target_website:\n    html_tree = create_html_tree(\n        html_file=target_website,\n        specific_tag=\"footer\"\n    )\n```\n\nBy tag and class:\n```python\nwith open(\"target_website.html\") as target_website:\n    html_tree = create_html_tree(\n        html_file=target_website,\n        specific_tag=\"div\",\n        class_=\"main-div\"\n    )\n```\n\nBy tag and id:\n```python\nwith open(\"target_website.html\") as target_website:\n    html_tree = create_html_tree(\n        html_file=target_website,\n        specific_tag=\"div\",\n        id=\"super-div\"\n    )\n```\n\n## Calculating distance\n\nAs previously said, the used algorithm is the Zhang-Shasha, that computes the edit distance between the two given trees. Ths is possible with the zss package behind the scenes; vanguard only provides a way to convert html files into trees.\n\n```python\nfrom vanguard_kit import create_html_tree, calcuate_html_tree_distance\n\nwith open(\"stored_target_website.html\") as stored_file:\n    with open(\"current_target_website.html\") as current_file:\n        previous_tree = create_html_tree(stored_file)\n        current_tree = create_html_tree(current_file)\n        print(calcuate_html_tree_distance(previous_tree, current_tree))\n        # Prints 1\n```\n\nDue to the VanguardNode class implements the __sub__ dunder method, the next way to calculate the edit distance is possible:\n\n```python\nfrom vanguard_kit import create_html_tree, calcuate_html_tree_distance\n\nwith open(\"stored_target_website.html\") as stored_file:\n    with open(\"current_target_website.html\") as current_file:\n        previous_tree = create_html_tree(stored_file)\n        current_tree = create_html_tree(current_file)\n        print(previous_tree - current_tree)\n        # Prints 1\n```\n\nThen, the next statement returns True:\n\n```python\ncalcuate_html_tree_distance(previous_tree, current_tree) == previous_tree - current_tree\n```\n\n# Development setup\n\nThis project uses __Poetry__ for dependecy resolution. It's a kind of mix between\npip and virtualenv. Follow the next instructions to setup the development enviroment.\n\nFirst of all, install Poetry:\n\n```sh\n$ pip install poetry\n```\n\n```sh\n$ git clone https://github.com/dany2691/vanguard-kit.git\n$ cd vanguard_kit\n$ poetry install\n```\n\nTo run the test-suite, inside the pybundler directory:\n\n```shell\n$ poetry run pytest test/ -vv\n```\n\n## Meta\n\nDaniel Omar Vergara P\u00e9rez \u2013 [@__danvergara __](https://twitter.com/__danvergara__) \u2013 daniel.omar.vergara@gmail.com -- [github.com/danvergara](https://github.com/danvergara)\n\nValery Briz - [@valerybriz](https://twitter.com/valerybriz) -- [github.com/valerybriz](https://github.com/valerybriz)\n\n## Contributing\n\n1. Fork it (<https://github.com/BentoBox-Project/vanguard-kit>)\n2. Create your feature branch (`git checkout -b feature/fooBar`)\n3. Commit your changes (`git commit -am 'Add some fooBar'`)\n4. Push to the branch (`git push origin feature/fooBar`)\n5. Create a new Pull Request\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "vanguardkit", "package_url": "https://pypi.org/project/vanguardkit/", "platform": "", "project_url": "https://pypi.org/project/vanguardkit/", "project_urls": null, "release_url": "https://pypi.org/project/vanguardkit/0.2.0/", "requires_dist": ["zss (>=1.2.0,<2.0.0)", "beautifulsoup4 (>=4.9.0,<5.0.0)", "html5lib (>=1.0.1,<2.0.0)"], "requires_python": ">=3.7,<4.0", "summary": "A convenient way to calculate the edit distance between html files", "version": "0.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Vanguard kit</h1>\n<p><a href=\"https://badge.fury.io/py/vanguardkit\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d1b9dd2d4b97d6c377b414bfd56a5362089104bf/68747470733a2f2f62616467652e667572792e696f2f70792f76616e67756172646b69742e737667\"></a>\n<a href=\"https://github.com/BentoBox-Project/vanguard-kit/actions?workflow=CI\" rel=\"nofollow\"><img alt=\"Tests\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c69a087ab4772e6e6a2f139214361f5549d9445f/68747470733a2f2f6769746875622e636f6d2f42656e746f426f782d50726f6a6563742f76616e67756172642d6b69742f776f726b666c6f77732f43492f62616467652e737667\"></a>\n<a href=\"https://codecov.io/gh/BentoBox-Project/vanguard-kit\" rel=\"nofollow\"><img alt=\"Codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/05d3714a909f72c80bd3a26bd6a6c2dd951207e4/68747470733a2f2f636f6465636f762e696f2f67682f42656e746f426f782d50726f6a6563742f76616e67756172642d6b69742f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a></p>\n<blockquote>\n<p>A convenient way to calculate the edit distance between html files to scrape with confidence</p>\n</blockquote>\n<p>Sometimes, scraping becomes a hard task, because the web sites are in continous changing.\nWhat about if there was a way to prevent those changes before scrape a site?\nVanguard is a tool kit that provides a way to calculate the edit distance between\ntwo html files by the Zhang-Shasha algorithm.\nThis package is based on <a href=\"https://github.com/timtadh/zhang-shasha\" rel=\"nofollow\">zss</a>.</p>\n<h2>Installation</h2>\n<p>OS X &amp; Linux:</p>\n<p>From PYPI</p>\n<pre>$ pip3 install vanguardkit\n</pre>\n<p>from the source</p>\n<pre>$ git clone https://github.com/dany2691/vanguard-kit.git\n$ <span class=\"nb\">cd</span> vanguard-kit\n$ python3 setup.py install\n</pre>\n<h2>Usage example</h2>\n<p>With vanguard, it is possible to convert html content into a tree (graph) of nodes.\nThe create_html_tree function is the responsible to do that, it returns an instance of the VanguardNode class that inherits from the zss.Node class:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">vanguardkit</span> <span class=\"kn\">import</span> <span class=\"n\">create_html_tree</span>\n\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"target_website.html\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">target_website</span><span class=\"p\">:</span>\n    <span class=\"n\">thml_tree</span> <span class=\"o\">=</span> <span class=\"n\">create_html_tree</span><span class=\"p\">(</span><span class=\"n\">target_website</span><span class=\"p\">)</span>\n</pre>\n<p>It is possible to segment specific parts of an html file.</p>\n<p>By tag:</p>\n<pre><span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"target_website.html\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">target_website</span><span class=\"p\">:</span>\n    <span class=\"n\">html_tree</span> <span class=\"o\">=</span> <span class=\"n\">create_html_tree</span><span class=\"p\">(</span>\n        <span class=\"n\">html_file</span><span class=\"o\">=</span><span class=\"n\">target_website</span><span class=\"p\">,</span>\n        <span class=\"n\">specific_tag</span><span class=\"o\">=</span><span class=\"s2\">\"footer\"</span>\n    <span class=\"p\">)</span>\n</pre>\n<p>By tag and class:</p>\n<pre><span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"target_website.html\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">target_website</span><span class=\"p\">:</span>\n    <span class=\"n\">html_tree</span> <span class=\"o\">=</span> <span class=\"n\">create_html_tree</span><span class=\"p\">(</span>\n        <span class=\"n\">html_file</span><span class=\"o\">=</span><span class=\"n\">target_website</span><span class=\"p\">,</span>\n        <span class=\"n\">specific_tag</span><span class=\"o\">=</span><span class=\"s2\">\"div\"</span><span class=\"p\">,</span>\n        <span class=\"n\">class_</span><span class=\"o\">=</span><span class=\"s2\">\"main-div\"</span>\n    <span class=\"p\">)</span>\n</pre>\n<p>By tag and id:</p>\n<pre><span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"target_website.html\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">target_website</span><span class=\"p\">:</span>\n    <span class=\"n\">html_tree</span> <span class=\"o\">=</span> <span class=\"n\">create_html_tree</span><span class=\"p\">(</span>\n        <span class=\"n\">html_file</span><span class=\"o\">=</span><span class=\"n\">target_website</span><span class=\"p\">,</span>\n        <span class=\"n\">specific_tag</span><span class=\"o\">=</span><span class=\"s2\">\"div\"</span><span class=\"p\">,</span>\n        <span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"s2\">\"super-div\"</span>\n    <span class=\"p\">)</span>\n</pre>\n<h2>Calculating distance</h2>\n<p>As previously said, the used algorithm is the Zhang-Shasha, that computes the edit distance between the two given trees. Ths is possible with the zss package behind the scenes; vanguard only provides a way to convert html files into trees.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">vanguard_kit</span> <span class=\"kn\">import</span> <span class=\"n\">create_html_tree</span><span class=\"p\">,</span> <span class=\"n\">calcuate_html_tree_distance</span>\n\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"stored_target_website.html\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">stored_file</span><span class=\"p\">:</span>\n    <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"current_target_website.html\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">current_file</span><span class=\"p\">:</span>\n        <span class=\"n\">previous_tree</span> <span class=\"o\">=</span> <span class=\"n\">create_html_tree</span><span class=\"p\">(</span><span class=\"n\">stored_file</span><span class=\"p\">)</span>\n        <span class=\"n\">current_tree</span> <span class=\"o\">=</span> <span class=\"n\">create_html_tree</span><span class=\"p\">(</span><span class=\"n\">current_file</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">calcuate_html_tree_distance</span><span class=\"p\">(</span><span class=\"n\">previous_tree</span><span class=\"p\">,</span> <span class=\"n\">current_tree</span><span class=\"p\">))</span>\n        <span class=\"c1\"># Prints 1</span>\n</pre>\n<p>Due to the VanguardNode class implements the <strong>sub</strong> dunder method, the next way to calculate the edit distance is possible:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">vanguard_kit</span> <span class=\"kn\">import</span> <span class=\"n\">create_html_tree</span><span class=\"p\">,</span> <span class=\"n\">calcuate_html_tree_distance</span>\n\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"stored_target_website.html\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">stored_file</span><span class=\"p\">:</span>\n    <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"current_target_website.html\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">current_file</span><span class=\"p\">:</span>\n        <span class=\"n\">previous_tree</span> <span class=\"o\">=</span> <span class=\"n\">create_html_tree</span><span class=\"p\">(</span><span class=\"n\">stored_file</span><span class=\"p\">)</span>\n        <span class=\"n\">current_tree</span> <span class=\"o\">=</span> <span class=\"n\">create_html_tree</span><span class=\"p\">(</span><span class=\"n\">current_file</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">previous_tree</span> <span class=\"o\">-</span> <span class=\"n\">current_tree</span><span class=\"p\">)</span>\n        <span class=\"c1\"># Prints 1</span>\n</pre>\n<p>Then, the next statement returns True:</p>\n<pre><span class=\"n\">calcuate_html_tree_distance</span><span class=\"p\">(</span><span class=\"n\">previous_tree</span><span class=\"p\">,</span> <span class=\"n\">current_tree</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">previous_tree</span> <span class=\"o\">-</span> <span class=\"n\">current_tree</span>\n</pre>\n<h1>Development setup</h1>\n<p>This project uses <strong>Poetry</strong> for dependecy resolution. It's a kind of mix between\npip and virtualenv. Follow the next instructions to setup the development enviroment.</p>\n<p>First of all, install Poetry:</p>\n<pre>$ pip install poetry\n</pre>\n<pre>$ git clone https://github.com/dany2691/vanguard-kit.git\n$ <span class=\"nb\">cd</span> vanguard_kit\n$ poetry install\n</pre>\n<p>To run the test-suite, inside the pybundler directory:</p>\n<pre>$ poetry run pytest test/ -vv\n</pre>\n<h2>Meta</h2>\n<p>Daniel Omar Vergara P\u00e9rez \u2013 <a href=\"https://twitter.com/__danvergara__\" rel=\"nofollow\">@__danvergara __</a> \u2013 <a href=\"mailto:daniel.omar.vergara@gmail.com\">daniel.omar.vergara@gmail.com</a> -- <a href=\"https://github.com/danvergara\" rel=\"nofollow\">github.com/danvergara</a></p>\n<p>Valery Briz - <a href=\"https://twitter.com/valerybriz\" rel=\"nofollow\">@valerybriz</a> -- <a href=\"https://github.com/valerybriz\" rel=\"nofollow\">github.com/valerybriz</a></p>\n<h2>Contributing</h2>\n<ol>\n<li>Fork it (<a href=\"https://github.com/BentoBox-Project/vanguard-kit\" rel=\"nofollow\">https://github.com/BentoBox-Project/vanguard-kit</a>)</li>\n<li>Create your feature branch (<code>git checkout -b feature/fooBar</code>)</li>\n<li>Commit your changes (<code>git commit -am 'Add some fooBar'</code>)</li>\n<li>Push to the branch (<code>git push origin feature/fooBar</code>)</li>\n<li>Create a new Pull Request</li>\n</ol>\n\n          </div>"}, "last_serial": 7125738, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "b078afbaa86c7c2a20f7a3c891501068", "sha256": "961b1ba5bc205fc27cb64b1fa5f67132cd4f524c3c227c358b4a0d96d8833095"}, "downloads": -1, "filename": "vanguardkit-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "b078afbaa86c7c2a20f7a3c891501068", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5243, "upload_time": "2019-10-12T20:08:14", "upload_time_iso_8601": "2019-10-12T20:08:14.965893Z", "url": "https://files.pythonhosted.org/packages/a7/72/7fb345c60a08df78e5477828e03785718eb1c7a84b4c506a9e9c884b29dc/vanguardkit-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c9c9b7ba5f42559118cf96114c12ddf7", "sha256": "ea2cadbc8b1248408a593cb8922056c731705ab9bdace7345f7fffcd891151a6"}, "downloads": -1, "filename": "vanguardkit-0.1.0.tar.gz", "has_sig": false, "md5_digest": "c9c9b7ba5f42559118cf96114c12ddf7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3994, "upload_time": "2019-10-12T20:08:17", "upload_time_iso_8601": "2019-10-12T20:08:17.194459Z", "url": "https://files.pythonhosted.org/packages/75/30/f7021faf909724cd38e28e1857ade7213401c593194a7ca8c7969c0fad0d/vanguardkit-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "66faca31487141959716a45e629498c1", "sha256": "3fdfb5b8ee62531cf58a42b447ee3ede1af65df2a6441aade45f9cc3dec72759"}, "downloads": -1, "filename": "vanguardkit-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "66faca31487141959716a45e629498c1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 5241, "upload_time": "2020-04-29T04:17:50", "upload_time_iso_8601": "2020-04-29T04:17:50.462082Z", "url": "https://files.pythonhosted.org/packages/59/da/7aa5470c2e2a090ab97570c070fa3c887966f170124f30c960048a3dd315/vanguardkit-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0e2a4941c9724a0bbf57865d39a5ed62", "sha256": "b6d38db3269d1a91dc2e9d89a08b84ff15b3a9ed740e7cadb2c78dce79984cc9"}, "downloads": -1, "filename": "vanguardkit-0.2.0.tar.gz", "has_sig": false, "md5_digest": "0e2a4941c9724a0bbf57865d39a5ed62", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 4994, "upload_time": "2020-04-29T04:17:51", "upload_time_iso_8601": "2020-04-29T04:17:51.345026Z", "url": "https://files.pythonhosted.org/packages/3b/df/573a1bce71b6132f9a4dcb8bad2b457edd7690d6ca0c8a01897401e764c4/vanguardkit-0.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "66faca31487141959716a45e629498c1", "sha256": "3fdfb5b8ee62531cf58a42b447ee3ede1af65df2a6441aade45f9cc3dec72759"}, "downloads": -1, "filename": "vanguardkit-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "66faca31487141959716a45e629498c1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 5241, "upload_time": "2020-04-29T04:17:50", "upload_time_iso_8601": "2020-04-29T04:17:50.462082Z", "url": "https://files.pythonhosted.org/packages/59/da/7aa5470c2e2a090ab97570c070fa3c887966f170124f30c960048a3dd315/vanguardkit-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0e2a4941c9724a0bbf57865d39a5ed62", "sha256": "b6d38db3269d1a91dc2e9d89a08b84ff15b3a9ed740e7cadb2c78dce79984cc9"}, "downloads": -1, "filename": "vanguardkit-0.2.0.tar.gz", "has_sig": false, "md5_digest": "0e2a4941c9724a0bbf57865d39a5ed62", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 4994, "upload_time": "2020-04-29T04:17:51", "upload_time_iso_8601": "2020-04-29T04:17:51.345026Z", "url": "https://files.pythonhosted.org/packages/3b/df/573a1bce71b6132f9a4dcb8bad2b457edd7690d6ca0c8a01897401e764c4/vanguardkit-0.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:37:56 2020"}
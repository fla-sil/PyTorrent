{"info": {"author": "ksc_ks3", "author_email": "ksc_ks3@kingsoft.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.7"], "description": "# KS3 SDK for python\u4f7f\u7528\u6307\u5357\n---\n\n## \u5f00\u53d1\u524d\u51c6\u5907\n### \u5b89\u88c5\u4f9d\u8d56\u6a21\u5757\n\n\tpip install six\n\n\n### \u5b89\u88c5python sdk\n#### \u5728\u7ebf\u5b89\u88c5\n\n\tpip install ks3sdk\n\n#### \u672c\u5730\u5b89\u88c5\n1\u3001\u901a\u8fc7git\u4e0b\u8f7dSDK\u5230\u672c\u5730\n\n\tgit clone https://github.com/ks3sdk/ks3-python-sdk.git\n\n\n2\u3001\u8fdb\u5165ks3-python-sdk\u76ee\u5f55\n\n\tcd ks3-python-sdk\n\n3\u3001\u5b89\u88c5SDK\n\n\tpython setup.py install\n\n### \u521d\u59cb\u5316connection\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n\n*\u5e38\u7528\u53c2\u6570\u8bf4\u660e*\n\n+ ak\uff1a\u91d1\u5c71\u4e91\u63d0\u4f9b\u7684ACCESS KEY ID\n+ sk\uff1a\u91d1\u5c71\u4e91\u63d0\u4f9b\u7684SECRET KEY ID\n+ host\uff1a\u91d1\u5c71\u4e91\u63d0\u4f9b\u7684\u5404\u4e2aRegion\u7684\u57df\u540d\uff08\u4f8b ks3-cn-beijing.ksyun.com\uff09,\u5177\u4f53\u5b9a\u4e49\u53ef\u53c2\u8003 [API\u63a5\u53e3\u6587\u6863-Region(\u533a\u57df)](https://docs.ksyun.com/read/latest/65/_book/index.html)\n+ is_secure\uff1a\u662f\u5426\u901a\u8fc7HTTPS\u534f\u8bae\u8bbf\u95eeKs3\uff0cTrue:\u542f\u7528  False:\u5173\u95ed\n+ domain_mode\uff1a\u662f\u5426\u4f7f\u7528\u81ea\u5b9a\u4e49\u57df\u540d\u8bbf\u95eeKs3\uff08host\u586b\u5199\u81ea\u5b9a\u4e49\u57df\u540d\uff09\uff0cTrue:\u662f False:\u5426\n\n### \u8fd0\u884c\u73af\u5883\n\u9002\u7528\u4e8e2.6\u30012.7\u30013.3\u30013.4\u30013.5\u30013.6\u30013.7\u7684Python\u7248\u672c\n\n## SDK\u4ecb\u7ecd\u53ca\u4f7f\u7528\n### \u8d44\u6e90\u7ba1\u7406\u64cd\u4f5c\n* [List Buckets](#list-buckets) \u5217\u51fa\u5ba2\u6237\u6240\u6709\u7684Bucket\u4fe1\u606f\n* [Create Bucket](#create-bucket) \u521b\u5efa\u4e00\u4e2a\u65b0\u7684Bucket\n* [Delete Bucket](#delete-bucket) \u5220\u9664\u6307\u5b9aBucket\n* [Get Bucket ACL](#get-bucket-acl) \u83b7\u53d6Bucket\u7684ACL\n* [Put Bucket ACL](#put-bucket-acl) \u8bbe\u7f6eBucket\u7684ACL\n* [Head Object](#head-object) \u83b7\u53d6Object\u5143\u4fe1\u606f\n* [Get Object](#get-object) \u4e0b\u8f7dObject\u6570\u636e\n* [Put Object](#put-object) \u4e0a\u4f20Object\u6570\u636e\n* [Put Object Copy](#put-object-copy) \u590d\u5236Object\u6570\u636e\n* [Delete Object](#delete-object) \u5220\u9664Object\u6570\u636e\n* [List Objects](#list-objects) \u5217\u4e3eBucket\u5185\u7684Object\n* [Get Object ACL](#get-object-acl) \u83b7\u5f97Bucket\u7684acl\n* [Put Object ACL](#put-object-acl) \u4e0a\u4f20object\u7684acl\n* [Upload Part](#upload-part) \u4e0a\u4f20\u5206\u5757\n* [Generate URL](#generate-url) \u751f\u6210\u4e0b\u8f7d\u5916\u94fe\n\n### Service\u64cd\u4f5c\n\n#### List Buckets\uff1a\n\n*\u5217\u51fa\u5ba2\u6237\u6240\u6709\u7684 Bucket \u4fe1\u606f*\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n    buckets = c.get_all_buckets()\n    for b in buckets:\n    \tprint(b.name)\n\n### Bucket\u64cd\u4f5c\n\n#### Create Bucket\uff1a \n\n*\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Bucket*\n\n\u5728\u5efa\u7acb\u4e86\u8fde\u63a5\u540e\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2abucket\u3002bucket\u5728s3\u4e2d\u662f\u4e00\u4e2a\u7528\u4e8e\u50a8\u5b58key/value\u7684\u5bb9\u5668\u3002\u7528\u6237\u53ef\u4ee5\u5c06\u6240\u6709\u7684\u6570\u636e\u5b58\u50a8\u5728\u4e00\u4e2abucket\u91cc\uff0c\u4e5f\u53ef\u4ee5\u4e3a\u4e0d\u540c\u79cd\u7c7b\u6570\u636e\u521b\u5efa\u76f8\u5e94\u7684bucket\u3002\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    b = c.create_bucket(bucket_name)\n\n\u6ce8\uff1a\u8fd9\u91cc\u5982\u679c\u51fa\u73b0409 conflict\u9519\u8bef\uff0c\u8bf4\u660e\u8bf7\u6c42\u7684bucket name\u6709\u51b2\u7a81\uff0c\u56e0\u4e3abucket name\u662f\u5168\u5c40\u552f\u4e00\u7684\n\n#### Delete Bucket:\n\n*\u5220\u9664\u6307\u5b9aBucket*\n\n\u5220\u9664\u4e00\u4e2abucket\u53ef\u4ee5\u901a\u8fc7delete_bucket\u65b9\u6cd5\u5b9e\u73b0\u3002\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n    bucket_name = \"YOUR_BUCKET_NAME\" \n    c.delete_bucket(bucket_name)\n\n\u5982\u679cbucket\u4e0b\u9762\u5b58\u5728key\uff0c\u90a3\u4e48\u9700\u8981\u9996\u5148\u5220\u9664\u6240\u6709key\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    b = c.get_bucket(bucket_name)\n    for k in b.list():\n        k.delete()\n    c.delete_bucket(bucket_name)\n\n#### Get Bucket ACL:\n\n*\u83b7\u53d6Bucket\u7684ACL*\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    b = c.get_bucket(bucket_name)\n    policy = b.get_acl()\n    for grant in policy.acl.grants:\n    \tprint(grant.permission, grant.display_name, grant.email_address, grant.id)   \n\n#### Put Bucket ACL:\n\n*\u8bbe\u7f6eBucket\u7684ACL*\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    b = c.get_bucket(bucket_name)\n    #\u8bbe\u7f6ebucket\u7684\u6743\u9650, private or public-read or public-read-write\n    b.set_acl(\"public-read\")\n\n### Object\u64cd\u4f5c\n\n#### Head Object:\n*\u83b7\u53d6Object\u5143\u4fe1\u606f*\n\n\u83b7\u53d6Object\u5143\u6570\u636e\u4fe1\u606f\uff08\u5927\u5c0f\u3001\u6700\u540e\u66f4\u65b0\u65f6\u95f4\u7b49\uff09\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    key_name = \"YOUR_KEY_NAME\"\n    b = c.get_bucket(bucket_name)\n    try:\n    \tk = b.get_key(key_name)\n    \tif k:\n             print(k.name, k.size, k.last_modified)\n    except:\n    \tpass  \n\n#### Get Object\uff1a\n*\u4e0b\u8f7d\u8be5Object\u6570\u636e*\n\n\u4e0b\u8f7dobject\uff0c\u5e76\u4e14\u4f5c\u4e3a\u5b57\u7b26\u4e32\u8fd4\u56de\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    key_name = \"YOUR_KEY_NAME\"\n    b = c.get_bucket(bucket_name)\n    try:\n\t    k = b.get_key(key_name)\n\t    s = k.get_contents_as_string().decode()\n\t    print(s)\n    except:\n\t    pass # \u5f02\u5e38\u5904\u7406\n\n\u4e0b\u8f7dobject\uff0c\u5e76\u4e14\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\n\n\t#\u4fdd\u5b58\u5230\u6587\u4ef6\n\tk.get_contents_to_filename(\"SAVED_FILE_PATH\")\n\n#### Put Object\n*\u4e0a\u4f20Object\u6570\u636e* \n\n\u5c06\u6307\u5b9a\u76ee\u5f55\u4e0b\u67d0\u4e00\u4e2a\u6587\u4ef6\u4e0a\u4f20\uff0c\u540c\u65f6\u53ef\u4ee5\u6307\u5b9a\u6587\u4ef6ACL\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)  \n\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    key_name = \"YOUR_KEY_NAME\"\n    try: \n\t    b = c.get_bucket(bucket_name)\n\t    k = b.new_key(key_name)\n\t    #object policy : 'private' or 'public-read'\n\t    ret=k.set_contents_from_filename(\"YOUR_SOURCE_FILE_PATH\", policy=\"private\")\n\t    if ret and ret.status == 200:\n\t    \tprint(\"\u4e0a\u4f20\u6210\u529f\")\n    except:\n\t    pass #\u5f02\u5e38\u5904\u7406   \n\n\u5c06\u5b57\u7b26\u4e32\u4f5c\u4e3avalue\u4e0a\u4f20\n\n    k.set_contents_from_string('YOUR_FILE_CONTENTS')\n\n\u4e0a\u4f20\u56de\u8c03\n\u9700\u8981\u8bbe\u7f6e`x-kss-callbackurl`\u548c`x-kss-callbackbody`\u8bf7\u6c42\u5934\uff0c\u8be6\u89c1\u6587\u6863[\u4e0a\u4f20\u56de\u8c03\u5904\u7406](https://docs.ksyun.com/documents/956)\u3002\n```\nheaders = {\"x-kss-callbackurl\": \"Callback_URL\",\"x-kss-callbackbody\":\"objectKey=${key}&etag=${etag}&uid=123\"}\nret = k.set_contents_from_filename(filepath, headers=headers)\n```\n\n\u4ee5\u4f4e\u9891\u5b58\u50a8\u65b9\u5f0f\u4e0a\u4f20\n```\n//x-kss-storage-class\u6709\u6548\u503c\u4e3a\"STANDARD\"\u3001\"STANDARD_IA\"\u3002\"STANDARD\"\u8868\u793a\u6807\u51c6\u5b58\u50a8\uff0c\"STANDARD_IA\"\u8868\u793a\u4f4e\u9891\u5b58\u50a8\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4e3a\u6807\u51c6\u5b58\u50a8\u3002\nheaders = {\"x-kss-storage-class\": \"STANDARD_IA\"}\nresp = k.set_contents_from_filename(filepath, policy=\"private\", headers=headers)\n```\n\n#### Put Object Copy\n*\u590d\u5236Object\u6570\u636e* \n\n\u5c06\u6307\u5b9aBucket\u4e0b\u7684\u6587\u4ef6\u590d\u5236\u5230\u672cBucket\u4e0b\uff08\u9700\u8981\u5bf9\u6e90Bucket\u4e0b\u7684\u6587\u4ef6\u5177\u6709\u8bfb\u6743\u9650\uff09\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False) \n\n    bucket_name = \"YOUR_DST_BUCKET_NAME\"\n    key_name = \"YOUR_DST_KEY_NAME\"\n    try: \n        b = c.get_bucket(bucket_name)\n        b.copy_key(key_name,\"YOUR_SRC_BUCKET_NAME\",\"YOUR_SRC_KEY_NAME\")\n    except:\n        pass\n\n#### Delete Object\n*\u5220\u9664Object\u6570\u636e*\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)  \n\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    key_name = \"YOUR_KEY_NAME\"\n    try: \n        b=c.get_bucket(bucket_name)\n        b.delete_key(key_name)\n    except:\n        pass  \n\n#### List Objects\n*\u5217\u4e3eBucket\u5185\u7684\u6587\u4ef6\u6216\u8005\u76ee\u5f55*\n\n    from ks3.connection import Connection\n    from ks3.prefix import Prefix\n    from ks3.key import Key\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False) \n\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    b = c.get_bucket(bucket_name)\n    keys = b.list(delimiter='/')\n    for k in keys:\n        if isinstance(k, Key):\n            print('file:%s' % k.name)\n        elif isinstance(k, Prefix)\n            print('dir:%s' % k.name)\n\n*\u5217\u4e3eBucket\u5185\u6307\u5b9a\u524d\u7f00\u7684\u6587\u4ef6*\n\n    keys = b.list(prefix=\"PREFIX\")\n\n#### Get Object ACL\n*\u83b7\u5f97Object\u7684acl*\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False) \n\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    key_name = \"YOUR_KEY_NAME\"  \n    b = c.get_bucket(bucket_name)\n    policy = b.get_acl(key_name)\n    print(policy.to_xml())\n\n#### Put Object ACL\n\n\t#object policy : 'private' or 'public-read'\n\tb.set_acl(\"public-read\", test_key)\n\n#### Upload Part\uff1a\n*\u5206\u5757\u4e0a\u4f20*\n\n\u5982\u679c\u4f60\u60f3\u4e0a\u4f20\u4e00\u4e2a\u5927\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u5c06\u5b83\u5206\u6210\u51e0\u4e2a\u5c0f\u4efd\uff0c\u9010\u4e2a\u4e0a\u4f20\uff0cks3\u4f1a\u6309\u7167\u987a\u5e8f\u628a\u5b83\u4eec\u5408\u6210\u4e00\u4e2a\u6700\u7ec8\u7684object\u3002\u901a\u8fc7SDK\u8fdb\u884c\u5206\u5757\u4e0a\u4f20\u80fd\u591f\u4fdd\u969c\u6570\u636e\u4f20\u5230ks3\u7684\u6b63\u786e\u6027\uff0c\u65e0\u9700\u53e6\u5916\u505a\u6570\u636e\u6821\u9a8c\u3002\n\n\u6574\u4e2a\u8fc7\u7a0b\u9700\u8981\u51e0\u6b65\u6765\u5b8c\u6210\uff0c\u4e0b\u9762\u7684demo\u7a0b\u5e8f\u662f\u901a\u8fc7python\u7684FileChunkIO\u6a21\u5757\u6765\u5b9e\u73b0\u7684\u3002\u6240\u4ee5\u53ef\u80fd\u9700\u8981\u9996\u5148\u8fd0\u884cpip install FileChunkIO\u6765\u5b89\u88c5\u3002\n\n    import math, os\n    from ks3.connection import Connection\n    from filechunkio import FileChunkIO\n\n    # Connect to S3\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    b = c.get_bucket(bucket_name)\n\n    # Get file info\n    source_path = 'SOURCE_FILE_PATH'\n    source_size = os.stat(source_path).st_size\n\n    # Create a multipart upload request\n    # \u6b64\u5904os.path.basename(source_path)\u53ef\u4ee5\u66ff\u6362\u4e3a\u9700\u8981\u8bbe\u7f6e\u7684objectKey\n    mp = b.initiate_multipart_upload(os.path.basename(source_path))\n    # Use a chunk size of 50 MiB (feel free to change this)\n    chunk_size = 52428800\n    chunk_count = int(math.ceil(source_size*1.0 / chunk_size*1.0))\n\n    # Send the file parts, using FileChunkIO to create a file-like object\n    # that points to a certain byte range within the original file. We\n    # set bytes to never exceed the original file size.\n    try:\n        for i in range(chunk_count):\n            offset = chunk_size * i\n            bytes = min(chunk_size, source_size - offset)\n            with FileChunkIO(source_path, 'r', offset=offset, bytes=bytes) as fp:\n                mp.upload_part_from_file(fp, part_num=i + 1)\n        ret = mp.complete_upload()\n        if ret and ret.status == 200:\n            print(\"\u4e0a\u4f20\u6210\u529f\")\n    except:\n        pass  # \u5f02\u5e38\u5904\u7406\n\u4ee5\u4f4e\u9891\u5b58\u50a8\u65b9\u5f0f\u4e0a\u4f20\uff0c\u9700\u8981\u5728initiate_multipart_upload\u9636\u6bb5\u8bbe\u7f6e\n```\n//x-kss-storage-class\u6709\u6548\u503c\u4e3a\"STANDARD\"\u3001\"STANDARD_IA\"\u3002\"STANDARD\"\u8868\u793a\u6807\u51c6\u5b58\u50a8\uff0c\"STANDARD_IA\"\u8868\u793a\u4f4e\u9891\u5b58\u50a8\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4e3a\u6807\u51c6\u5b58\u50a8\u3002\nheaders = {\"x-kss-storage-class\": \"STANDARD_IA\"}\nmp = b.initiate_multipart_upload(os.path.basename(source_path), policy=\"private\", headers=headers)\n```   \n*\u83b7\u53d6\u5df2\u4e0a\u4f20\u5206\u5757\u5217\u8868*\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False) \n\n    bucket_name = \"YOUR_BUCKET_NAME\" \n    b = c.get_bucket(bucket_name)\n    for p in b.list_multipart_uploads():\n        print('uploadId:%s,key:%s' % (p.id, p.key_name))\n        for i in p:\n            print(i.part_number, i.size, i.etag, i.last_modified)\n\n#### Generate URL\n*\u751f\u6210\u4e0b\u8f7d\u5916\u94fe\u5730\u5740*\n\n\u5bf9\u79c1\u5bc6\u5c5e\u6027\u7684\u6587\u4ef6\u751f\u6210\u4e0b\u8f7d\u5916\u94fe\uff08\u8be5\u94fe\u63a5\u5177\u6709\u65f6\u6548\u6027\uff09\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False) \n\n    bucket_name = \"YOUR_BUCKET_NAME\"\n    key_name = \"YOUR_KEY_NAME\" \n    b = c.get_bucket(bucket_name)\n    k = b.get_key(key_name)\n    if k:\n        url = k.generate_url(60) # 60s \u540e\u8be5\u94fe\u63a5\u8fc7\u671f\n        print(url)\n\n\u6307\u5b9a\u65f6\u95f4\u8fc7\u671f\n\n\tk.generate_url(1492073594,expires_in_absolute=True) # 1492073594\u4e3aUnix Time\n\n## \u5ba2\u6237\u7aef\u6587\u4ef6\u52a0\u5bc6\n\u5982\u679c\u60a8\u6709\u4e0a\u4f20\u524d\u5148\u52a0\u5bc6\u6570\u636e\u7684\u9700\u6c42\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u52a0\u5bc6\u6a21\u5f0f\u3002\n### \u73af\u5883\u8981\u6c42\n\u4f7f\u7528\u52a0\u5bc6\u5ba2\u6237\u7aef\u9700\u8981\u5b89\u88c5pycrypto\u3002\n1. \u53ef\u9009\u62e9\u4f7f\u7528pip install pycrypto\u8fdb\u884c\u5b89\u88c5\n2. \u65e0\u6cd5\u76f4\u63a5\u8fde\u63a5pypi\u670d\u52a1\u7684\u8bdd\uff0c\u53ef\u9009\u62e9\u4e0b\u8f7d[pycrypto\u5b89\u88c5\u5305](https://pypi.python.org/pypi/pycrypto/2.6.1/)\u624b\u52a8\u8fdb\u884c\u5b89\u88c5\n\n### \u914d\u7f6e\u5bc6\u94a5\n\u60a8\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u7684\u5bc6\u94a5\u6587\u4ef6\uff0c\u6216\u8005\u9009\u62e9\u8c03\u7528\u6211\u4eec\u7684\u5bc6\u94a5\u751f\u6210\u65b9\u6cd5\u3002\n1. \u5982\u679c\u4f7f\u7528\u81ea\u5df1\u7684\u5bc6\u94a5\u6587\u4ef6\uff1a\u8bf7\u786e\u4fdd\u6587\u4ef6\u4e2d\u5bc6\u94a5\u957f\u5ea6\u4e3a16\u5b57\u8282\uff0c\u5982\u679c\u4e0d\u662f16\u5b57\u8282\uff0c\u7a0b\u5e8f\u5c06\u62a5\u9519\n2. \u5982\u679c\u8c03\u7528\u5bc6\u94a5\u751f\u6210\u65b9\u6cd5\uff1a\n\n```\nfrom ks3.encryption import Crypts\nCrypts.generate_key('your_path', 'key_name')\n```\n*\u8bf7\u6ce8\u610f\u4fdd\u7ba1\u597d\u60a8\u7684key\u6587\u4ef6\uff0cKS3\u670d\u52a1\u7aef\u5c06\u4e0d\u4f1a\u5bf9\u5ba2\u6237\u7aef\u52a0\u5bc6\u65f6\u4f7f\u7528\u7684key\u6587\u4ef6\u8fdb\u884c\u4fdd\u5b58\uff0c\u4e00\u65e6\u4e22\u5931\uff0c\u6587\u4ef6\u5c06\u65e0\u6cd5\u88ab\u89e3\u5bc6\u3002*\n\n### \u7528\u6cd5\u793a\u4f8b\n#### PUT\u3001GET\n\u5bf9put\u3001get\u65b9\u6cd5\u52a0\u5bc6\u5ba2\u6237\u7aef\u548c\u666e\u901a\u5ba2\u6237\u7aef\u7528\u6cd5\u57fa\u672c\u4e00\u81f4\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u521d\u59cb\u5316Connection\u5bf9\u8c61\u65f6\u9700\u8981\u591a\u586b\u4e24\u4e2a\u53c2\u6570\uff1alocal_encrypt\u548clocal_key_path\u3002local_encrypt\u8bbe\u7f6e\u4e3atrue\uff0clocal_key_path\u8bbe\u7f6e\u4e3a\u5bc6\u94a5\u5b58\u653e\u5728\u672c\u5730\u7684\u5730\u5740\u3002\n\n    from ks3.connection import Connection\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT',is_secure=False, domain_mode=False, local_encrypt=True, \n            local_key_path=\"your_key_path\")\n\n    b = c.get_bucket(\"your_bucket\")\n    #put\n    kw = b.new_key(\"your_key\")\n    ret = kw.set_contents_from_string(\"some string\")\n    #get\n    get_key = b.get_key(\"your_key\")\n    s = get_key.get_contents_as_string()\n    print(\"Result:\",s)\n\n#### \u5206\u5757\u4e0a\u4f20\n*\u52a0\u5bc6\u5ba2\u6237\u7aef\u7684\u5206\u5757\u4e0a\u4f20\u4e0d\u652f\u6301\u5bf9\u6587\u4ef6\u7684\u5e76\u884c\u4e0a\u4f20\uff01\u5206\u5757\u4e0a\u4f20\u65f6\u5fc5\u987b\u4f9d\u6b21\u5e8f\u4e0a\u4f20\u6bcf\u4e00\u5757\uff0c\u5426\u5219\u6570\u636e\u5c06\u65e0\u6cd5\u89e3\u5bc6\u3002*<br />\n\u793a\u4f8b1\uff1a\u4f7f\u7528FileChunkIO\u8fdb\u884c\u5206\u5757\u4e0a\u4f20\u3002\u4e0e\u666e\u901a\u5ba2\u6237\u7aef\u7684\u65b9\u6cd5\u57fa\u672c\u4e00\u81f4\uff0c\u548cput\u4e00\u6837\u53ea\u9700\u5728\u521d\u59cb\u5316\u65f6\u589e\u52a0\u53c2\u6570\u3002\n\n    c = Connection(ak, sk, host,is_secure=False, domain_mode=False, local_encrypt=True, local_key_path=\"your_key_path\")\n    #\u7ee7\u7eed\u666e\u901a\u5206\u5757\u4e0a\u4f20\u65b9\u6cd5\n\n\u793a\u4f8b2\uff1a\u81ea\u5df1\u5207\u5206\u6587\u4ef6\u8fdb\u884c\u5206\u5757\u4e0a\u4f20\u3002\u9664\u4e86\u4fee\u6539Connection\u7684\u53c2\u6570\u4e4b\u5916\uff0c\u8fd8\u9700\u5728\u8c03\u7528upload_part_from_file\u65b9\u6cd5\u65f6\u6307\u5b9ais_last_part\u7684\u503c\u3002\n\n    from ks3.connection import Connection\n    from filechunkio import FileChunkIO\n    import math, os\n    ak = 'YOUR_ACCESS_KEY'\n    sk = 'YOUR_SECRET_KEY'\n    c = Connection(ak, sk, host='YOUR_REGION_ENDPOINT',is_secure=False, domain_mode=False, local_encrypt=True, \n           local_key_path=\"your_key_path\")\n\n    b = c.get_bucket(\"your_bucket\")\n    source_path = 'SOURCE_FILE_PATH'\n    source_size = os.stat(source_path).st_size\n    mp = bucket.initiate_multipart_upload(os.path.basename(source_path))\n    # Use a chunk size of 50 MiB (feel free to change this)\n    chunk_size = 52428800\n    chunk_count = int(math.ceil(source_size*1.0 / chunk_size*1.0))\n    try:\n        for i in range(chunk_count):\n            offset = chunk_size * i\n            last = False\n            bytes = min(chunk_size, source_size - offset)\n            if i +1 == chunk_count:\n                last = True\n            with FileChunkIO(source_path, 'r', offset=offset,bytes=bytes) as fp:\n                mp.upload_part_from_file(fp, part_num=i + 1, is_last_part=last)\n\n        ret = mp.complete_upload()\n        if ret and ret.status == 200:\n            print(\"\u4e0a\u4f20\u6210\u529f\")\n    except:\n        pass\n\n\n\n\n#### \u6ce8\u610f\u4e8b\u9879\n* \u5bf9\u4e8e\u4f7f\u7528\u52a0\u5bc6\u6a21\u5f0f\u4e0a\u4f20\u7684\u6570\u636e\uff0c\u8bf7\u4f7f\u7528\u52a0\u5bc6\u6a21\u5f0f\u4e0b\uff08local_encrypt=True\uff09\u7684get\u65b9\u6cd5\u8fdb\u884c\u4e0b\u8f7d\u3002\u672a\u8bbe\u7f6e\u52a0\u5bc6\u6a21\u5f0f\u7684get\u4e0b\u8f7d\u4e0b\u6765\u7684\u8fd9\u4efd\u6570\u636e\u662f\u52a0\u5bc6\u7684\uff0c\u65e0\u6cd5\u89e3\u8bfb\u3002\n* \u52a0\u5bc6\u4e0a\u4f20\u9ed8\u8ba4\u8fdb\u884cMD5\u9a8c\u8bc1\uff0c\u4ee5\u9632\u6b62\u7f51\u7edc\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u6570\u636e\u635f\u574f\u3002\u5728\u6587\u4ef6\u8f83\u5927\u7684\u60c5\u51b5\u4e0b\uff0c\u5bf9\u52a0\u5bc6\u540e\u6587\u4ef6\u7684MD5\u8ba1\u7b97\u8f83\u4e3a\u8017\u65f6\uff08\u6bcf500MB\u7ea6\u8017\u65f610s\uff09\uff0c\u5982\u679c\u4e0d\u80fd\u63a5\u53d7\u8fd9\u79cd\u989d\u5916\u8017\u65f6\uff0c\u53ef\u4ee5\u5728\u8c03\u7528\u65b9\u6cd5\u65f6\u8bbe\u7f6ecalc_md5=False\u6765\u5173\u95edMD5\u6821\u9a8c\u529f\u80fd\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e0d\u63a8\u8350\u60a8\u5173\u95edMD5\u6821\u9a8c\u3002\n\n```\n#PUT\u4e0a\u4f20\u53d6\u6d88MD5 CHECK\uff1a\nret = kw.set_contents_from_string(test_str, calc_encrypt_md5=False)\nret = kw.set_contents_from_filename(test_path, calc_encrypt_md5=False)\n#\u5206\u5757\u4e0a\u4f20\u65f6\u53d6\u6d88MD5 CHECK\uff1a\nmp = b.initiate_multipart_upload(os.path.basename(path), calc_encrypt_md5=False)\n```\n* \u7528\u6237key\u7684MD5\u503c\u5c06\u4f5c\u4e3a\u81ea\u5b9a\u4e49header\u653e\u5165\u5143\u6570\u636e\uff0c\u65b9\u4fbf\u60a8\u540e\u7eed\u53ef\u80fd\u7684\u9a8c\u8bc1\u64cd\u4f5c\u3002\u5bf9key\u7684MD5\u8ba1\u7b97\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n```\nimport hashlib\nimport base64\nmd5_generator = hashlib.md5()\nmd5_generator.update(\"YOUR_KEY\".encode())\nprint(base64.b64encode(md5_generator.hexdigest().encode()))\n```\n* \u5982\u679c\u9700\u8981\u5728\u5206\u5757\u4e0a\u4f20\u76f8\u5173\u4ee3\u7801\u4e2d\u52a0\u5165\u91cd\u8bd5\u903b\u8f91\uff0c\u8bf7\u5c06\u5f00\u59cb\u91cd\u8bd5\u7684part_num\u540e\u7684\u6240\u6709\u5757\u90fd\u8fdb\u884c\u91cd\u8bd5\u3002\u6bd4\u5982\u4e0a\u4f208\u5757\uff0c\u4ece\u7b2c5\u5757\u5f00\u59cb\u91cd\u8bd5\uff0c\u5219\u9700\u8981\u91cd\u65b0\u4e0a\u4f20\u7684\u5757\u4e3a5\u30016\u30017\u30018\u3002\n* \u5bf9\u4e8e\u7a7a\u6587\u4ef6/\u7a7a\u5b57\u7b26\u4e32\u7684put\u8bf7\u6c42\uff0c\u5373\u4f7f\u8bbe\u7f6e\u4e86\u52a0\u5bc6\u6a21\u5f0f\u4e5f\u4e0d\u4f1a\u52a0\u5bc6\u3002\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/ks3sdk/ks3-python-sdk", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "ks3sdk", "package_url": "https://pypi.org/project/ks3sdk/", "platform": "", "project_url": "https://pypi.org/project/ks3sdk/", "project_urls": {"Homepage": "https://github.com/ks3sdk/ks3-python-sdk"}, "release_url": "https://pypi.org/project/ks3sdk/1.0.16/", "requires_dist": ["six"], "requires_python": "", "summary": "Kingsoft Standard Storage Service SDK", "version": "1.0.16", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>KS3 SDK for python\u4f7f\u7528\u6307\u5357</h1>\n<hr>\n<h2>\u5f00\u53d1\u524d\u51c6\u5907</h2>\n<h3>\u5b89\u88c5\u4f9d\u8d56\u6a21\u5757</h3>\n<pre><code>pip install six\n</code></pre>\n<h3>\u5b89\u88c5python sdk</h3>\n<h4>\u5728\u7ebf\u5b89\u88c5</h4>\n<pre><code>pip install ks3sdk\n</code></pre>\n<h4>\u672c\u5730\u5b89\u88c5</h4>\n<p>1\u3001\u901a\u8fc7git\u4e0b\u8f7dSDK\u5230\u672c\u5730</p>\n<pre><code>git clone https://github.com/ks3sdk/ks3-python-sdk.git\n</code></pre>\n<p>2\u3001\u8fdb\u5165ks3-python-sdk\u76ee\u5f55</p>\n<pre><code>cd ks3-python-sdk\n</code></pre>\n<p>3\u3001\u5b89\u88c5SDK</p>\n<pre><code>python setup.py install\n</code></pre>\n<h3>\u521d\u59cb\u5316connection</h3>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n</code></pre>\n<p><em>\u5e38\u7528\u53c2\u6570\u8bf4\u660e</em></p>\n<ul>\n<li>ak\uff1a\u91d1\u5c71\u4e91\u63d0\u4f9b\u7684ACCESS KEY ID</li>\n<li>sk\uff1a\u91d1\u5c71\u4e91\u63d0\u4f9b\u7684SECRET KEY ID</li>\n<li>host\uff1a\u91d1\u5c71\u4e91\u63d0\u4f9b\u7684\u5404\u4e2aRegion\u7684\u57df\u540d\uff08\u4f8b ks3-cn-beijing.ksyun.com\uff09,\u5177\u4f53\u5b9a\u4e49\u53ef\u53c2\u8003 <a href=\"https://docs.ksyun.com/read/latest/65/_book/index.html\" rel=\"nofollow\">API\u63a5\u53e3\u6587\u6863-Region(\u533a\u57df)</a></li>\n<li>is_secure\uff1a\u662f\u5426\u901a\u8fc7HTTPS\u534f\u8bae\u8bbf\u95eeKs3\uff0cTrue:\u542f\u7528  False:\u5173\u95ed</li>\n<li>domain_mode\uff1a\u662f\u5426\u4f7f\u7528\u81ea\u5b9a\u4e49\u57df\u540d\u8bbf\u95eeKs3\uff08host\u586b\u5199\u81ea\u5b9a\u4e49\u57df\u540d\uff09\uff0cTrue:\u662f False:\u5426</li>\n</ul>\n<h3>\u8fd0\u884c\u73af\u5883</h3>\n<p>\u9002\u7528\u4e8e2.6\u30012.7\u30013.3\u30013.4\u30013.5\u30013.6\u30013.7\u7684Python\u7248\u672c</p>\n<h2>SDK\u4ecb\u7ecd\u53ca\u4f7f\u7528</h2>\n<h3>\u8d44\u6e90\u7ba1\u7406\u64cd\u4f5c</h3>\n<ul>\n<li><a href=\"#list-buckets\" rel=\"nofollow\">List Buckets</a> \u5217\u51fa\u5ba2\u6237\u6240\u6709\u7684Bucket\u4fe1\u606f</li>\n<li><a href=\"#create-bucket\" rel=\"nofollow\">Create Bucket</a> \u521b\u5efa\u4e00\u4e2a\u65b0\u7684Bucket</li>\n<li><a href=\"#delete-bucket\" rel=\"nofollow\">Delete Bucket</a> \u5220\u9664\u6307\u5b9aBucket</li>\n<li><a href=\"#get-bucket-acl\" rel=\"nofollow\">Get Bucket ACL</a> \u83b7\u53d6Bucket\u7684ACL</li>\n<li><a href=\"#put-bucket-acl\" rel=\"nofollow\">Put Bucket ACL</a> \u8bbe\u7f6eBucket\u7684ACL</li>\n<li><a href=\"#head-object\" rel=\"nofollow\">Head Object</a> \u83b7\u53d6Object\u5143\u4fe1\u606f</li>\n<li><a href=\"#get-object\" rel=\"nofollow\">Get Object</a> \u4e0b\u8f7dObject\u6570\u636e</li>\n<li><a href=\"#put-object\" rel=\"nofollow\">Put Object</a> \u4e0a\u4f20Object\u6570\u636e</li>\n<li><a href=\"#put-object-copy\" rel=\"nofollow\">Put Object Copy</a> \u590d\u5236Object\u6570\u636e</li>\n<li><a href=\"#delete-object\" rel=\"nofollow\">Delete Object</a> \u5220\u9664Object\u6570\u636e</li>\n<li><a href=\"#list-objects\" rel=\"nofollow\">List Objects</a> \u5217\u4e3eBucket\u5185\u7684Object</li>\n<li><a href=\"#get-object-acl\" rel=\"nofollow\">Get Object ACL</a> \u83b7\u5f97Bucket\u7684acl</li>\n<li><a href=\"#put-object-acl\" rel=\"nofollow\">Put Object ACL</a> \u4e0a\u4f20object\u7684acl</li>\n<li><a href=\"#upload-part\" rel=\"nofollow\">Upload Part</a> \u4e0a\u4f20\u5206\u5757</li>\n<li><a href=\"#generate-url\" rel=\"nofollow\">Generate URL</a> \u751f\u6210\u4e0b\u8f7d\u5916\u94fe</li>\n</ul>\n<h3>Service\u64cd\u4f5c</h3>\n<h4>List Buckets\uff1a</h4>\n<p><em>\u5217\u51fa\u5ba2\u6237\u6240\u6709\u7684 Bucket \u4fe1\u606f</em></p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\nbuckets = c.get_all_buckets()\nfor b in buckets:\n\tprint(b.name)\n</code></pre>\n<h3>Bucket\u64cd\u4f5c</h3>\n<h4>Create Bucket\uff1a</h4>\n<p><em>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Bucket</em></p>\n<p>\u5728\u5efa\u7acb\u4e86\u8fde\u63a5\u540e\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2abucket\u3002bucket\u5728s3\u4e2d\u662f\u4e00\u4e2a\u7528\u4e8e\u50a8\u5b58key/value\u7684\u5bb9\u5668\u3002\u7528\u6237\u53ef\u4ee5\u5c06\u6240\u6709\u7684\u6570\u636e\u5b58\u50a8\u5728\u4e00\u4e2abucket\u91cc\uff0c\u4e5f\u53ef\u4ee5\u4e3a\u4e0d\u540c\u79cd\u7c7b\u6570\u636e\u521b\u5efa\u76f8\u5e94\u7684bucket\u3002</p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\nbucket_name = \"YOUR_BUCKET_NAME\"\nb = c.create_bucket(bucket_name)\n</code></pre>\n<p>\u6ce8\uff1a\u8fd9\u91cc\u5982\u679c\u51fa\u73b0409 conflict\u9519\u8bef\uff0c\u8bf4\u660e\u8bf7\u6c42\u7684bucket name\u6709\u51b2\u7a81\uff0c\u56e0\u4e3abucket name\u662f\u5168\u5c40\u552f\u4e00\u7684</p>\n<h4>Delete Bucket:</h4>\n<p><em>\u5220\u9664\u6307\u5b9aBucket</em></p>\n<p>\u5220\u9664\u4e00\u4e2abucket\u53ef\u4ee5\u901a\u8fc7delete_bucket\u65b9\u6cd5\u5b9e\u73b0\u3002</p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\nbucket_name = \"YOUR_BUCKET_NAME\" \nc.delete_bucket(bucket_name)\n</code></pre>\n<p>\u5982\u679cbucket\u4e0b\u9762\u5b58\u5728key\uff0c\u90a3\u4e48\u9700\u8981\u9996\u5148\u5220\u9664\u6240\u6709key</p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\nbucket_name = \"YOUR_BUCKET_NAME\"\nb = c.get_bucket(bucket_name)\nfor k in b.list():\n    k.delete()\nc.delete_bucket(bucket_name)\n</code></pre>\n<h4>Get Bucket ACL:</h4>\n<p><em>\u83b7\u53d6Bucket\u7684ACL</em></p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\nbucket_name = \"YOUR_BUCKET_NAME\"\nb = c.get_bucket(bucket_name)\npolicy = b.get_acl()\nfor grant in policy.acl.grants:\n\tprint(grant.permission, grant.display_name, grant.email_address, grant.id)   \n</code></pre>\n<h4>Put Bucket ACL:</h4>\n<p><em>\u8bbe\u7f6eBucket\u7684ACL</em></p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n\nbucket_name = \"YOUR_BUCKET_NAME\"\nb = c.get_bucket(bucket_name)\n#\u8bbe\u7f6ebucket\u7684\u6743\u9650, private or public-read or public-read-write\nb.set_acl(\"public-read\")\n</code></pre>\n<h3>Object\u64cd\u4f5c</h3>\n<h4>Head Object:</h4>\n<p><em>\u83b7\u53d6Object\u5143\u4fe1\u606f</em></p>\n<p>\u83b7\u53d6Object\u5143\u6570\u636e\u4fe1\u606f\uff08\u5927\u5c0f\u3001\u6700\u540e\u66f4\u65b0\u65f6\u95f4\u7b49\uff09</p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n\nbucket_name = \"YOUR_BUCKET_NAME\"\nkey_name = \"YOUR_KEY_NAME\"\nb = c.get_bucket(bucket_name)\ntry:\n\tk = b.get_key(key_name)\n\tif k:\n         print(k.name, k.size, k.last_modified)\nexcept:\n\tpass  \n</code></pre>\n<h4>Get Object\uff1a</h4>\n<p><em>\u4e0b\u8f7d\u8be5Object\u6570\u636e</em></p>\n<p>\u4e0b\u8f7dobject\uff0c\u5e76\u4e14\u4f5c\u4e3a\u5b57\u7b26\u4e32\u8fd4\u56de</p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\n\nbucket_name = \"YOUR_BUCKET_NAME\"\nkey_name = \"YOUR_KEY_NAME\"\nb = c.get_bucket(bucket_name)\ntry:\n    k = b.get_key(key_name)\n    s = k.get_contents_as_string().decode()\n    print(s)\nexcept:\n    pass # \u5f02\u5e38\u5904\u7406\n</code></pre>\n<p>\u4e0b\u8f7dobject\uff0c\u5e76\u4e14\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d</p>\n<pre><code>#\u4fdd\u5b58\u5230\u6587\u4ef6\nk.get_contents_to_filename(\"SAVED_FILE_PATH\")\n</code></pre>\n<h4>Put Object</h4>\n<p><em>\u4e0a\u4f20Object\u6570\u636e</em></p>\n<p>\u5c06\u6307\u5b9a\u76ee\u5f55\u4e0b\u67d0\u4e00\u4e2a\u6587\u4ef6\u4e0a\u4f20\uff0c\u540c\u65f6\u53ef\u4ee5\u6307\u5b9a\u6587\u4ef6ACL</p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)  \n\nbucket_name = \"YOUR_BUCKET_NAME\"\nkey_name = \"YOUR_KEY_NAME\"\ntry: \n    b = c.get_bucket(bucket_name)\n    k = b.new_key(key_name)\n    #object policy : 'private' or 'public-read'\n    ret=k.set_contents_from_filename(\"YOUR_SOURCE_FILE_PATH\", policy=\"private\")\n    if ret and ret.status == 200:\n    \tprint(\"\u4e0a\u4f20\u6210\u529f\")\nexcept:\n    pass #\u5f02\u5e38\u5904\u7406   \n</code></pre>\n<p>\u5c06\u5b57\u7b26\u4e32\u4f5c\u4e3avalue\u4e0a\u4f20</p>\n<pre><code>k.set_contents_from_string('YOUR_FILE_CONTENTS')\n</code></pre>\n<p>\u4e0a\u4f20\u56de\u8c03\n\u9700\u8981\u8bbe\u7f6e<code>x-kss-callbackurl</code>\u548c<code>x-kss-callbackbody</code>\u8bf7\u6c42\u5934\uff0c\u8be6\u89c1\u6587\u6863<a href=\"https://docs.ksyun.com/documents/956\" rel=\"nofollow\">\u4e0a\u4f20\u56de\u8c03\u5904\u7406</a>\u3002</p>\n<pre><code>headers = {\"x-kss-callbackurl\": \"Callback_URL\",\"x-kss-callbackbody\":\"objectKey=${key}&amp;etag=${etag}&amp;uid=123\"}\nret = k.set_contents_from_filename(filepath, headers=headers)\n</code></pre>\n<p>\u4ee5\u4f4e\u9891\u5b58\u50a8\u65b9\u5f0f\u4e0a\u4f20</p>\n<pre><code>//x-kss-storage-class\u6709\u6548\u503c\u4e3a\"STANDARD\"\u3001\"STANDARD_IA\"\u3002\"STANDARD\"\u8868\u793a\u6807\u51c6\u5b58\u50a8\uff0c\"STANDARD_IA\"\u8868\u793a\u4f4e\u9891\u5b58\u50a8\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4e3a\u6807\u51c6\u5b58\u50a8\u3002\nheaders = {\"x-kss-storage-class\": \"STANDARD_IA\"}\nresp = k.set_contents_from_filename(filepath, policy=\"private\", headers=headers)\n</code></pre>\n<h4>Put Object Copy</h4>\n<p><em>\u590d\u5236Object\u6570\u636e</em></p>\n<p>\u5c06\u6307\u5b9aBucket\u4e0b\u7684\u6587\u4ef6\u590d\u5236\u5230\u672cBucket\u4e0b\uff08\u9700\u8981\u5bf9\u6e90Bucket\u4e0b\u7684\u6587\u4ef6\u5177\u6709\u8bfb\u6743\u9650\uff09</p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False) \n\nbucket_name = \"YOUR_DST_BUCKET_NAME\"\nkey_name = \"YOUR_DST_KEY_NAME\"\ntry: \n    b = c.get_bucket(bucket_name)\n    b.copy_key(key_name,\"YOUR_SRC_BUCKET_NAME\",\"YOUR_SRC_KEY_NAME\")\nexcept:\n    pass\n</code></pre>\n<h4>Delete Object</h4>\n<p><em>\u5220\u9664Object\u6570\u636e</em></p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)  \n\nbucket_name = \"YOUR_BUCKET_NAME\"\nkey_name = \"YOUR_KEY_NAME\"\ntry: \n    b=c.get_bucket(bucket_name)\n    b.delete_key(key_name)\nexcept:\n    pass  \n</code></pre>\n<h4>List Objects</h4>\n<p><em>\u5217\u4e3eBucket\u5185\u7684\u6587\u4ef6\u6216\u8005\u76ee\u5f55</em></p>\n<pre><code>from ks3.connection import Connection\nfrom ks3.prefix import Prefix\nfrom ks3.key import Key\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False) \n\nbucket_name = \"YOUR_BUCKET_NAME\"\nb = c.get_bucket(bucket_name)\nkeys = b.list(delimiter='/')\nfor k in keys:\n    if isinstance(k, Key):\n        print('file:%s' % k.name)\n    elif isinstance(k, Prefix)\n        print('dir:%s' % k.name)\n</code></pre>\n<p><em>\u5217\u4e3eBucket\u5185\u6307\u5b9a\u524d\u7f00\u7684\u6587\u4ef6</em></p>\n<pre><code>keys = b.list(prefix=\"PREFIX\")\n</code></pre>\n<h4>Get Object ACL</h4>\n<p><em>\u83b7\u5f97Object\u7684acl</em></p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False) \n\nbucket_name = \"YOUR_BUCKET_NAME\"\nkey_name = \"YOUR_KEY_NAME\"  \nb = c.get_bucket(bucket_name)\npolicy = b.get_acl(key_name)\nprint(policy.to_xml())\n</code></pre>\n<h4>Put Object ACL</h4>\n<pre><code>#object policy : 'private' or 'public-read'\nb.set_acl(\"public-read\", test_key)\n</code></pre>\n<h4>Upload Part\uff1a</h4>\n<p><em>\u5206\u5757\u4e0a\u4f20</em></p>\n<p>\u5982\u679c\u4f60\u60f3\u4e0a\u4f20\u4e00\u4e2a\u5927\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u5c06\u5b83\u5206\u6210\u51e0\u4e2a\u5c0f\u4efd\uff0c\u9010\u4e2a\u4e0a\u4f20\uff0cks3\u4f1a\u6309\u7167\u987a\u5e8f\u628a\u5b83\u4eec\u5408\u6210\u4e00\u4e2a\u6700\u7ec8\u7684object\u3002\u901a\u8fc7SDK\u8fdb\u884c\u5206\u5757\u4e0a\u4f20\u80fd\u591f\u4fdd\u969c\u6570\u636e\u4f20\u5230ks3\u7684\u6b63\u786e\u6027\uff0c\u65e0\u9700\u53e6\u5916\u505a\u6570\u636e\u6821\u9a8c\u3002</p>\n<p>\u6574\u4e2a\u8fc7\u7a0b\u9700\u8981\u51e0\u6b65\u6765\u5b8c\u6210\uff0c\u4e0b\u9762\u7684demo\u7a0b\u5e8f\u662f\u901a\u8fc7python\u7684FileChunkIO\u6a21\u5757\u6765\u5b9e\u73b0\u7684\u3002\u6240\u4ee5\u53ef\u80fd\u9700\u8981\u9996\u5148\u8fd0\u884cpip install FileChunkIO\u6765\u5b89\u88c5\u3002</p>\n<pre><code>import math, os\nfrom ks3.connection import Connection\nfrom filechunkio import FileChunkIO\n\n# Connect to S3\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False)\nbucket_name = \"YOUR_BUCKET_NAME\"\nb = c.get_bucket(bucket_name)\n\n# Get file info\nsource_path = 'SOURCE_FILE_PATH'\nsource_size = os.stat(source_path).st_size\n\n# Create a multipart upload request\n# \u6b64\u5904os.path.basename(source_path)\u53ef\u4ee5\u66ff\u6362\u4e3a\u9700\u8981\u8bbe\u7f6e\u7684objectKey\nmp = b.initiate_multipart_upload(os.path.basename(source_path))\n# Use a chunk size of 50 MiB (feel free to change this)\nchunk_size = 52428800\nchunk_count = int(math.ceil(source_size*1.0 / chunk_size*1.0))\n\n# Send the file parts, using FileChunkIO to create a file-like object\n# that points to a certain byte range within the original file. We\n# set bytes to never exceed the original file size.\ntry:\n    for i in range(chunk_count):\n        offset = chunk_size * i\n        bytes = min(chunk_size, source_size - offset)\n        with FileChunkIO(source_path, 'r', offset=offset, bytes=bytes) as fp:\n            mp.upload_part_from_file(fp, part_num=i + 1)\n    ret = mp.complete_upload()\n    if ret and ret.status == 200:\n        print(\"\u4e0a\u4f20\u6210\u529f\")\nexcept:\n    pass  # \u5f02\u5e38\u5904\u7406\n</code></pre>\n<p>\u4ee5\u4f4e\u9891\u5b58\u50a8\u65b9\u5f0f\u4e0a\u4f20\uff0c\u9700\u8981\u5728initiate_multipart_upload\u9636\u6bb5\u8bbe\u7f6e</p>\n<pre><code>//x-kss-storage-class\u6709\u6548\u503c\u4e3a\"STANDARD\"\u3001\"STANDARD_IA\"\u3002\"STANDARD\"\u8868\u793a\u6807\u51c6\u5b58\u50a8\uff0c\"STANDARD_IA\"\u8868\u793a\u4f4e\u9891\u5b58\u50a8\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4e3a\u6807\u51c6\u5b58\u50a8\u3002\nheaders = {\"x-kss-storage-class\": \"STANDARD_IA\"}\nmp = b.initiate_multipart_upload(os.path.basename(source_path), policy=\"private\", headers=headers)\n</code></pre>\n<p><em>\u83b7\u53d6\u5df2\u4e0a\u4f20\u5206\u5757\u5217\u8868</em></p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False) \n\nbucket_name = \"YOUR_BUCKET_NAME\" \nb = c.get_bucket(bucket_name)\nfor p in b.list_multipart_uploads():\n    print('uploadId:%s,key:%s' % (p.id, p.key_name))\n    for i in p:\n        print(i.part_number, i.size, i.etag, i.last_modified)\n</code></pre>\n<h4>Generate URL</h4>\n<p><em>\u751f\u6210\u4e0b\u8f7d\u5916\u94fe\u5730\u5740</em></p>\n<p>\u5bf9\u79c1\u5bc6\u5c5e\u6027\u7684\u6587\u4ef6\u751f\u6210\u4e0b\u8f7d\u5916\u94fe\uff08\u8be5\u94fe\u63a5\u5177\u6709\u65f6\u6548\u6027\uff09</p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT', is_secure=False, domain_mode=False) \n\nbucket_name = \"YOUR_BUCKET_NAME\"\nkey_name = \"YOUR_KEY_NAME\" \nb = c.get_bucket(bucket_name)\nk = b.get_key(key_name)\nif k:\n    url = k.generate_url(60) # 60s \u540e\u8be5\u94fe\u63a5\u8fc7\u671f\n    print(url)\n</code></pre>\n<p>\u6307\u5b9a\u65f6\u95f4\u8fc7\u671f</p>\n<pre><code>k.generate_url(1492073594,expires_in_absolute=True) # 1492073594\u4e3aUnix Time\n</code></pre>\n<h2>\u5ba2\u6237\u7aef\u6587\u4ef6\u52a0\u5bc6</h2>\n<p>\u5982\u679c\u60a8\u6709\u4e0a\u4f20\u524d\u5148\u52a0\u5bc6\u6570\u636e\u7684\u9700\u6c42\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u52a0\u5bc6\u6a21\u5f0f\u3002</p>\n<h3>\u73af\u5883\u8981\u6c42</h3>\n<p>\u4f7f\u7528\u52a0\u5bc6\u5ba2\u6237\u7aef\u9700\u8981\u5b89\u88c5pycrypto\u3002</p>\n<ol>\n<li>\u53ef\u9009\u62e9\u4f7f\u7528pip install pycrypto\u8fdb\u884c\u5b89\u88c5</li>\n<li>\u65e0\u6cd5\u76f4\u63a5\u8fde\u63a5pypi\u670d\u52a1\u7684\u8bdd\uff0c\u53ef\u9009\u62e9\u4e0b\u8f7d<a href=\"https://pypi.python.org/pypi/pycrypto/2.6.1/\" rel=\"nofollow\">pycrypto\u5b89\u88c5\u5305</a>\u624b\u52a8\u8fdb\u884c\u5b89\u88c5</li>\n</ol>\n<h3>\u914d\u7f6e\u5bc6\u94a5</h3>\n<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u7684\u5bc6\u94a5\u6587\u4ef6\uff0c\u6216\u8005\u9009\u62e9\u8c03\u7528\u6211\u4eec\u7684\u5bc6\u94a5\u751f\u6210\u65b9\u6cd5\u3002</p>\n<ol>\n<li>\u5982\u679c\u4f7f\u7528\u81ea\u5df1\u7684\u5bc6\u94a5\u6587\u4ef6\uff1a\u8bf7\u786e\u4fdd\u6587\u4ef6\u4e2d\u5bc6\u94a5\u957f\u5ea6\u4e3a16\u5b57\u8282\uff0c\u5982\u679c\u4e0d\u662f16\u5b57\u8282\uff0c\u7a0b\u5e8f\u5c06\u62a5\u9519</li>\n<li>\u5982\u679c\u8c03\u7528\u5bc6\u94a5\u751f\u6210\u65b9\u6cd5\uff1a</li>\n</ol>\n<pre><code>from ks3.encryption import Crypts\nCrypts.generate_key('your_path', 'key_name')\n</code></pre>\n<p><em>\u8bf7\u6ce8\u610f\u4fdd\u7ba1\u597d\u60a8\u7684key\u6587\u4ef6\uff0cKS3\u670d\u52a1\u7aef\u5c06\u4e0d\u4f1a\u5bf9\u5ba2\u6237\u7aef\u52a0\u5bc6\u65f6\u4f7f\u7528\u7684key\u6587\u4ef6\u8fdb\u884c\u4fdd\u5b58\uff0c\u4e00\u65e6\u4e22\u5931\uff0c\u6587\u4ef6\u5c06\u65e0\u6cd5\u88ab\u89e3\u5bc6\u3002</em></p>\n<h3>\u7528\u6cd5\u793a\u4f8b</h3>\n<h4>PUT\u3001GET</h4>\n<p>\u5bf9put\u3001get\u65b9\u6cd5\u52a0\u5bc6\u5ba2\u6237\u7aef\u548c\u666e\u901a\u5ba2\u6237\u7aef\u7528\u6cd5\u57fa\u672c\u4e00\u81f4\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u521d\u59cb\u5316Connection\u5bf9\u8c61\u65f6\u9700\u8981\u591a\u586b\u4e24\u4e2a\u53c2\u6570\uff1alocal_encrypt\u548clocal_key_path\u3002local_encrypt\u8bbe\u7f6e\u4e3atrue\uff0clocal_key_path\u8bbe\u7f6e\u4e3a\u5bc6\u94a5\u5b58\u653e\u5728\u672c\u5730\u7684\u5730\u5740\u3002</p>\n<pre><code>from ks3.connection import Connection\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT',is_secure=False, domain_mode=False, local_encrypt=True, \n        local_key_path=\"your_key_path\")\n\nb = c.get_bucket(\"your_bucket\")\n#put\nkw = b.new_key(\"your_key\")\nret = kw.set_contents_from_string(\"some string\")\n#get\nget_key = b.get_key(\"your_key\")\ns = get_key.get_contents_as_string()\nprint(\"Result:\",s)\n</code></pre>\n<h4>\u5206\u5757\u4e0a\u4f20</h4>\n<p><em>\u52a0\u5bc6\u5ba2\u6237\u7aef\u7684\u5206\u5757\u4e0a\u4f20\u4e0d\u652f\u6301\u5bf9\u6587\u4ef6\u7684\u5e76\u884c\u4e0a\u4f20\uff01\u5206\u5757\u4e0a\u4f20\u65f6\u5fc5\u987b\u4f9d\u6b21\u5e8f\u4e0a\u4f20\u6bcf\u4e00\u5757\uff0c\u5426\u5219\u6570\u636e\u5c06\u65e0\u6cd5\u89e3\u5bc6\u3002</em><br>\n\u793a\u4f8b1\uff1a\u4f7f\u7528FileChunkIO\u8fdb\u884c\u5206\u5757\u4e0a\u4f20\u3002\u4e0e\u666e\u901a\u5ba2\u6237\u7aef\u7684\u65b9\u6cd5\u57fa\u672c\u4e00\u81f4\uff0c\u548cput\u4e00\u6837\u53ea\u9700\u5728\u521d\u59cb\u5316\u65f6\u589e\u52a0\u53c2\u6570\u3002</p>\n<pre><code>c = Connection(ak, sk, host,is_secure=False, domain_mode=False, local_encrypt=True, local_key_path=\"your_key_path\")\n#\u7ee7\u7eed\u666e\u901a\u5206\u5757\u4e0a\u4f20\u65b9\u6cd5\n</code></pre>\n<p>\u793a\u4f8b2\uff1a\u81ea\u5df1\u5207\u5206\u6587\u4ef6\u8fdb\u884c\u5206\u5757\u4e0a\u4f20\u3002\u9664\u4e86\u4fee\u6539Connection\u7684\u53c2\u6570\u4e4b\u5916\uff0c\u8fd8\u9700\u5728\u8c03\u7528upload_part_from_file\u65b9\u6cd5\u65f6\u6307\u5b9ais_last_part\u7684\u503c\u3002</p>\n<pre><code>from ks3.connection import Connection\nfrom filechunkio import FileChunkIO\nimport math, os\nak = 'YOUR_ACCESS_KEY'\nsk = 'YOUR_SECRET_KEY'\nc = Connection(ak, sk, host='YOUR_REGION_ENDPOINT',is_secure=False, domain_mode=False, local_encrypt=True, \n       local_key_path=\"your_key_path\")\n\nb = c.get_bucket(\"your_bucket\")\nsource_path = 'SOURCE_FILE_PATH'\nsource_size = os.stat(source_path).st_size\nmp = bucket.initiate_multipart_upload(os.path.basename(source_path))\n# Use a chunk size of 50 MiB (feel free to change this)\nchunk_size = 52428800\nchunk_count = int(math.ceil(source_size*1.0 / chunk_size*1.0))\ntry:\n    for i in range(chunk_count):\n        offset = chunk_size * i\n        last = False\n        bytes = min(chunk_size, source_size - offset)\n        if i +1 == chunk_count:\n            last = True\n        with FileChunkIO(source_path, 'r', offset=offset,bytes=bytes) as fp:\n            mp.upload_part_from_file(fp, part_num=i + 1, is_last_part=last)\n\n    ret = mp.complete_upload()\n    if ret and ret.status == 200:\n        print(\"\u4e0a\u4f20\u6210\u529f\")\nexcept:\n    pass\n</code></pre>\n<h4>\u6ce8\u610f\u4e8b\u9879</h4>\n<ul>\n<li>\u5bf9\u4e8e\u4f7f\u7528\u52a0\u5bc6\u6a21\u5f0f\u4e0a\u4f20\u7684\u6570\u636e\uff0c\u8bf7\u4f7f\u7528\u52a0\u5bc6\u6a21\u5f0f\u4e0b\uff08local_encrypt=True\uff09\u7684get\u65b9\u6cd5\u8fdb\u884c\u4e0b\u8f7d\u3002\u672a\u8bbe\u7f6e\u52a0\u5bc6\u6a21\u5f0f\u7684get\u4e0b\u8f7d\u4e0b\u6765\u7684\u8fd9\u4efd\u6570\u636e\u662f\u52a0\u5bc6\u7684\uff0c\u65e0\u6cd5\u89e3\u8bfb\u3002</li>\n<li>\u52a0\u5bc6\u4e0a\u4f20\u9ed8\u8ba4\u8fdb\u884cMD5\u9a8c\u8bc1\uff0c\u4ee5\u9632\u6b62\u7f51\u7edc\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u6570\u636e\u635f\u574f\u3002\u5728\u6587\u4ef6\u8f83\u5927\u7684\u60c5\u51b5\u4e0b\uff0c\u5bf9\u52a0\u5bc6\u540e\u6587\u4ef6\u7684MD5\u8ba1\u7b97\u8f83\u4e3a\u8017\u65f6\uff08\u6bcf500MB\u7ea6\u8017\u65f610s\uff09\uff0c\u5982\u679c\u4e0d\u80fd\u63a5\u53d7\u8fd9\u79cd\u989d\u5916\u8017\u65f6\uff0c\u53ef\u4ee5\u5728\u8c03\u7528\u65b9\u6cd5\u65f6\u8bbe\u7f6ecalc_md5=False\u6765\u5173\u95edMD5\u6821\u9a8c\u529f\u80fd\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e0d\u63a8\u8350\u60a8\u5173\u95edMD5\u6821\u9a8c\u3002</li>\n</ul>\n<pre><code>#PUT\u4e0a\u4f20\u53d6\u6d88MD5 CHECK\uff1a\nret = kw.set_contents_from_string(test_str, calc_encrypt_md5=False)\nret = kw.set_contents_from_filename(test_path, calc_encrypt_md5=False)\n#\u5206\u5757\u4e0a\u4f20\u65f6\u53d6\u6d88MD5 CHECK\uff1a\nmp = b.initiate_multipart_upload(os.path.basename(path), calc_encrypt_md5=False)\n</code></pre>\n<ul>\n<li>\u7528\u6237key\u7684MD5\u503c\u5c06\u4f5c\u4e3a\u81ea\u5b9a\u4e49header\u653e\u5165\u5143\u6570\u636e\uff0c\u65b9\u4fbf\u60a8\u540e\u7eed\u53ef\u80fd\u7684\u9a8c\u8bc1\u64cd\u4f5c\u3002\u5bf9key\u7684MD5\u8ba1\u7b97\u65b9\u6cd5\u5982\u4e0b\uff1a</li>\n</ul>\n<pre><code>import hashlib\nimport base64\nmd5_generator = hashlib.md5()\nmd5_generator.update(\"YOUR_KEY\".encode())\nprint(base64.b64encode(md5_generator.hexdigest().encode()))\n</code></pre>\n<ul>\n<li>\u5982\u679c\u9700\u8981\u5728\u5206\u5757\u4e0a\u4f20\u76f8\u5173\u4ee3\u7801\u4e2d\u52a0\u5165\u91cd\u8bd5\u903b\u8f91\uff0c\u8bf7\u5c06\u5f00\u59cb\u91cd\u8bd5\u7684part_num\u540e\u7684\u6240\u6709\u5757\u90fd\u8fdb\u884c\u91cd\u8bd5\u3002\u6bd4\u5982\u4e0a\u4f208\u5757\uff0c\u4ece\u7b2c5\u5757\u5f00\u59cb\u91cd\u8bd5\uff0c\u5219\u9700\u8981\u91cd\u65b0\u4e0a\u4f20\u7684\u5757\u4e3a5\u30016\u30017\u30018\u3002</li>\n<li>\u5bf9\u4e8e\u7a7a\u6587\u4ef6/\u7a7a\u5b57\u7b26\u4e32\u7684put\u8bf7\u6c42\uff0c\u5373\u4f7f\u8bbe\u7f6e\u4e86\u52a0\u5bc6\u6a21\u5f0f\u4e5f\u4e0d\u4f1a\u52a0\u5bc6\u3002</li>\n</ul>\n\n          </div>"}, "last_serial": 7073983, "releases": {"1.0.10": [{"comment_text": "", "digests": {"md5": "7965d1d8cebb4a46f01e065b242ee6b2", "sha256": "a6d2b2435fb0563f1a0c9a0387b5aabcc29cd88cd97228f6958c335ec3d234c3"}, "downloads": -1, "filename": "ks3sdk-1.0.10.zip", "has_sig": false, "md5_digest": "7965d1d8cebb4a46f01e065b242ee6b2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 68106, "upload_time": "2018-05-22T09:40:58", "upload_time_iso_8601": "2018-05-22T09:40:58.735949Z", "url": "https://files.pythonhosted.org/packages/7e/d4/edebfda9be695e7701e84766a42980148103b6ab92db6122a7a7bcd3eae5/ks3sdk-1.0.10.zip", "yanked": false}], "1.0.12": [{"comment_text": "", "digests": {"md5": "d44035236b6f1857812e0058d152fe9f", "sha256": "41910c524488d138ecc35a0b53154aa404197165d698d680d2fdc5c9b2a39edb"}, "downloads": -1, "filename": "ks3sdk-1.0.12.tar.gz", "has_sig": false, "md5_digest": "d44035236b6f1857812e0058d152fe9f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 56560, "upload_time": "2019-08-29T09:25:55", "upload_time_iso_8601": "2019-08-29T09:25:55.455145Z", "url": "https://files.pythonhosted.org/packages/f9/42/41f9935ca24ed6961304300f27a24f163ee390bbf222f71c058d0eeb8c35/ks3sdk-1.0.12.tar.gz", "yanked": false}], "1.0.13": [{"comment_text": "", "digests": {"md5": "e5384902a0de7e637ce53adc46115df7", "sha256": "eb9c069da10450f88bb4c49f425c484d5dc4cfe4879bb81778fea921da99949c"}, "downloads": -1, "filename": "ks3sdk-1.0.13.tar.gz", "has_sig": false, "md5_digest": "e5384902a0de7e637ce53adc46115df7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 56561, "upload_time": "2019-09-23T11:36:45", "upload_time_iso_8601": "2019-09-23T11:36:45.502779Z", "url": "https://files.pythonhosted.org/packages/39/1b/c309b260bb7a39f70f6771269bca188a9abb9d08199f2438ca8543dbcae6/ks3sdk-1.0.13.tar.gz", "yanked": false}], "1.0.13.1": [{"comment_text": "", "digests": {"md5": "821e9e0281d054bb194148e080ff8dad", "sha256": "c6d46988a75b52bcc9f5a83834314aeb7b5543df06c72eca7ed456d9decb9b13"}, "downloads": -1, "filename": "ks3sdk-1.0.13.1.tar.gz", "has_sig": false, "md5_digest": "821e9e0281d054bb194148e080ff8dad", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 56618, "upload_time": "2019-09-24T06:55:56", "upload_time_iso_8601": "2019-09-24T06:55:56.388185Z", "url": "https://files.pythonhosted.org/packages/0f/35/ba4bc7aa65f6d40b95deb2b3211911ac3665b1f409f44d30ccd8ab39a06f/ks3sdk-1.0.13.1.tar.gz", "yanked": false}], "1.0.14": [{"comment_text": "", "digests": {"md5": "f58eccc934638091001133341a344f67", "sha256": "80f905cf6c1f3d6294357b7d4bb456d04a3bcec3e4624cab859433cc8c1c798e"}, "downloads": -1, "filename": "ks3sdk-1.0.14-py3-none-any.whl", "has_sig": false, "md5_digest": "f58eccc934638091001133341a344f67", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 56054, "upload_time": "2019-10-30T08:36:53", "upload_time_iso_8601": "2019-10-30T08:36:53.398822Z", "url": "https://files.pythonhosted.org/packages/9f/fa/34855c51ca1323059dbf631d4217dc4e8751396b3fbd0820bd8a4ebbea37/ks3sdk-1.0.14-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1830e96dc817385ff1a7f8d884b3ffe6", "sha256": "55be0fbe954f008031ff16ca63051e880eaba106578abc72cf931ec5d1ebdc9b"}, "downloads": -1, "filename": "ks3sdk-1.0.14.tar.gz", "has_sig": false, "md5_digest": "1830e96dc817385ff1a7f8d884b3ffe6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 56423, "upload_time": "2019-10-30T08:36:56", "upload_time_iso_8601": "2019-10-30T08:36:56.092946Z", "url": "https://files.pythonhosted.org/packages/e3/05/c63e42983a3c71ca2555cd75335fa5285c6b4fc234b040d86905792fbd30/ks3sdk-1.0.14.tar.gz", "yanked": false}], "1.0.15": [{"comment_text": "", "digests": {"md5": "da3df1f0aec71f4f4b29ed4c61e6e9d4", "sha256": "4028fee436cb94f8b7880e197d35f3824b3b43ee8c6d953b897f5e479265eb66"}, "downloads": -1, "filename": "ks3sdk-1.0.15-py3-none-any.whl", "has_sig": false, "md5_digest": "da3df1f0aec71f4f4b29ed4c61e6e9d4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 56109, "upload_time": "2020-04-08T03:45:19", "upload_time_iso_8601": "2020-04-08T03:45:19.801959Z", "url": "https://files.pythonhosted.org/packages/4a/f8/d0ed283c91e10792111979ca86e3a11a26893b21aba95d803b9ade0873d8/ks3sdk-1.0.15-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "91aecb5fd15a02cf67eba66a484c26ac", "sha256": "e4845b256f409a34837e709e6540d9e1007bd0ccb8f8ef78b306e1151e03d0b9"}, "downloads": -1, "filename": "ks3sdk-1.0.15.tar.gz", "has_sig": false, "md5_digest": "91aecb5fd15a02cf67eba66a484c26ac", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 56487, "upload_time": "2020-04-08T03:45:22", "upload_time_iso_8601": "2020-04-08T03:45:22.134854Z", "url": "https://files.pythonhosted.org/packages/90/c6/3e8bbbf567a863cb74a8a53449a8e7f653f7e399bf43835dedd25ba082bb/ks3sdk-1.0.15.tar.gz", "yanked": false}], "1.0.16": [{"comment_text": "", "digests": {"md5": "f550f10ea2c5ad348f0d71145283218c", "sha256": "7a76e236fcc5ac43c94cabcd75540547fdca5080e40b17e1fb126b57be4f87e7"}, "downloads": -1, "filename": "ks3sdk-1.0.16-py3-none-any.whl", "has_sig": false, "md5_digest": "f550f10ea2c5ad348f0d71145283218c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 56070, "upload_time": "2020-04-22T05:33:04", "upload_time_iso_8601": "2020-04-22T05:33:04.405520Z", "url": "https://files.pythonhosted.org/packages/9d/d1/daff7b394d90e5a39c8d95b0333e8e88343f90bdc504180c09d63dbd913c/ks3sdk-1.0.16-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "56f678b50365c156424c8a6d5519ac1e", "sha256": "b65d69d5242dc84ab2f964e4f08adaa2847c3a91c5968470d80226b8fa95bd37"}, "downloads": -1, "filename": "ks3sdk-1.0.16.tar.gz", "has_sig": false, "md5_digest": "56f678b50365c156424c8a6d5519ac1e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 56468, "upload_time": "2020-04-22T05:33:06", "upload_time_iso_8601": "2020-04-22T05:33:06.254661Z", "url": "https://files.pythonhosted.org/packages/86/7d/c9abe124ee7b24e66c59e039ca9d6ffb45fd4977472956080fc241b7eaa5/ks3sdk-1.0.16.tar.gz", "yanked": false}], "1.0.7": [{"comment_text": "", "digests": {"md5": "8d29ebcc9b175752007dda4e91551fd3", "sha256": "09f5c755390069ae73d7cf474f2bbcfc7904ab4b1e2dcf28a5f3a5e917aafb76"}, "downloads": -1, "filename": "ks3sdk-1.0.7.tar.gz", "has_sig": false, "md5_digest": "8d29ebcc9b175752007dda4e91551fd3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 44707, "upload_time": "2018-03-05T11:41:31", "upload_time_iso_8601": "2018-03-05T11:41:31.755284Z", "url": "https://files.pythonhosted.org/packages/f2/f3/db7a5dede9c76597fa156e3b5c973aeeec79e675690d0c4e89432e678073/ks3sdk-1.0.7.tar.gz", "yanked": false}], "1.0.8": [{"comment_text": "", "digests": {"md5": "ccea7ac60718b58d17413b764923e0f1", "sha256": "9502ef288a4f49c2e98ebccc32e7581250cd97881fc2c7488a22e49ab1c67c7b"}, "downloads": -1, "filename": "ks3sdk-1.0.8.tar.gz", "has_sig": false, "md5_digest": "ccea7ac60718b58d17413b764923e0f1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 45434, "upload_time": "2018-03-28T07:10:40", "upload_time_iso_8601": "2018-03-28T07:10:40.619917Z", "url": "https://files.pythonhosted.org/packages/b3/fb/15aa6c3e2a4580078a674e5e7b57aa383704012432fbe994c49782d94942/ks3sdk-1.0.8.tar.gz", "yanked": false}], "1.0.9": [{"comment_text": "", "digests": {"md5": "6fb6ffbfea99dce972b1eafd5a275aa4", "sha256": "6a472c9e20d2cdf7586fc55de4e17c17f2d688864b6b815d767fb148ce57e8cd"}, "downloads": -1, "filename": "ks3sdk-1.0.9.zip", "has_sig": false, "md5_digest": "6fb6ffbfea99dce972b1eafd5a275aa4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 67976, "upload_time": "2018-04-18T08:25:24", "upload_time_iso_8601": "2018-04-18T08:25:24.675174Z", "url": "https://files.pythonhosted.org/packages/4d/70/f2e73576ae0a4414c4a16ad9ee5f52056e00568e55586862962499cb73e6/ks3sdk-1.0.9.zip", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f550f10ea2c5ad348f0d71145283218c", "sha256": "7a76e236fcc5ac43c94cabcd75540547fdca5080e40b17e1fb126b57be4f87e7"}, "downloads": -1, "filename": "ks3sdk-1.0.16-py3-none-any.whl", "has_sig": false, "md5_digest": "f550f10ea2c5ad348f0d71145283218c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 56070, "upload_time": "2020-04-22T05:33:04", "upload_time_iso_8601": "2020-04-22T05:33:04.405520Z", "url": "https://files.pythonhosted.org/packages/9d/d1/daff7b394d90e5a39c8d95b0333e8e88343f90bdc504180c09d63dbd913c/ks3sdk-1.0.16-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "56f678b50365c156424c8a6d5519ac1e", "sha256": "b65d69d5242dc84ab2f964e4f08adaa2847c3a91c5968470d80226b8fa95bd37"}, "downloads": -1, "filename": "ks3sdk-1.0.16.tar.gz", "has_sig": false, "md5_digest": "56f678b50365c156424c8a6d5519ac1e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 56468, "upload_time": "2020-04-22T05:33:06", "upload_time_iso_8601": "2020-04-22T05:33:06.254661Z", "url": "https://files.pythonhosted.org/packages/86/7d/c9abe124ee7b24e66c59e039ca9d6ffb45fd4977472956080fc241b7eaa5/ks3sdk-1.0.16.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:48:44 2020"}
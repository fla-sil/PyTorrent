{"info": {"author": "Gareth Bult", "author_email": "oddjobz@linux.co.uk", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3.6", "Topic :: Database :: Database Engines/Servers"], "description": "PyNNDB - Python Native NoSQL Database\n=====================================\n\n.. image:: https://travis-ci.org/oddjobz/pynndb.svg?branch=master\n    :target: https://travis-ci.org/oddjobz/pynndb\n\n.. image:: https://badge.fury.io/py/pynndb.svg\n    :target: https://badge.fury.io/py/pynndb\n\nPyNNDB is the second iteration of PyMamba, the name change reflects a conflict with another project\nof the same name, and a degree of incompatibility between the API in the old and new versions. At\nthis time the core components of the project should be considered relatively stable (beta) and are\nbeing used in production systems. The ORM module is experimental / alpha and has had very limited\ntesting, while the replication module is incomplete / experimental and still needs work.\n\nPyNNDB is a key / value based NoSQL database based on the LMDB storage engine. If you are looking to access your\ndatabase from a low-level language such as C/C++/Java, then you will probably find faster database options. However,\nif you only intend to access your database 'from' Python, then you will probably find PyNNDB a good bit quicker than\nthe more traditional alternatives.\n\nWhat stable features does it have?\n----------------------------------\n* Variable length records, each stored with a Mongo compatible UUID\n* Records are read / written as Python Dict objects\n* Secondary indexes based on a lambda function of the contents of the record\n* Duplicate keys on secondary indexes\n* ACID Transactions handling\n* Multi-thread and multi-process access to bypass GIL performance limitations\n\nWhat Features are in development?\n---------------------------------\n* High speed multi-node replication\n* ReadTheDocs documentation\n* A native Object Relational Mapper, typically seen with SQL databases, loosely based on SQLAlchemy\n\n-------------------\nSome basic Examples\n-------------------\n\nThis is an example of how to create a new database called my-database, then within that database to create a table called people, then to add some people. (this is all from the Python shell)\n\n.. code-block:: python\n\n    from pynndb import Database\n    db = Database('my-database')\n    people = db.table('people')\n    people.append({'name': 'Fred Bloggs', 'age': 21})\n    people.append({'name': 'Joe Smith', 'age': 22})\n    people.append({'name': 'John Doe', 'age': 19})\n\nNow there are lots of different ways of recovering information from the database, the simplest is just to use find() which can be used to scan through the entire table. As find returns a generator, you can either use it within a for-loop, or use list to recover the results as a single list object.\n\n.. code-block:: python\n\n    >>> for doc in people.find():\n    ...     print(doc)\n    ...\n    {'_id': b'58ed69161839fc5e5a57bc35', 'name': 'Fred Bloggs', 'age': 21}\n    {'_id': b'58ed69211839fc5e5a57bc36', 'name': 'Joe Smith', 'age': 22}\n    {'_id': b'58ed69301839fc5e5a57bc37', 'name': 'John Doe', 'age': 19}\n\nNote that the returned record includes an _id field, this is almost identical to the ObjectId field used by Mongo, except we're returning a simple byte-string rather than an ObjectId class. A nice feature of dealing with data in this form when matched with Python's new 'format' function is the ability to easily format this data like so;\n\n.. code-block:: python\n\n    >>> for doc in people.find():\n    ...     print('Name: {name:20} Age:{age:3}'.format(**doc))\n    ...\n    Name: Fred Bloggs          Age: 21\n    Name: Joe Smith            Age: 22\n    Name: John Doe             Age: 19\n\nOr if we just want a subset of the data, we can use an anonymous function to filter our results; (note that this is a linear / sequential scan with a filter)\n\n.. code-block:: python\n\n    >>> for doc in people.find(expression=lambda doc: doc['age'] > 21):\n    ...     print('Name: {name:20} Age:{age:3}'.format(**doc))\n    ...\n    Name: Joe Smith            Age: 22\n\n--------\nIndexing\n--------\n\nTransparent indexes are a key part of any database system, and I struggled for a while trying to decide which mechanism to use. On the one hand I wanted the functionality of being able to index tables by compound fields and functions, and on the other I just wanted to be able to simply index based on a single clean field. In the end I settled on the following;\n\n.. code-block:: python\n\n    >>> people.ensure('by_name', '{name}')\n    >>> people.ensure('by_age_name', '{age:03}{name}')\n\nIf you're really familiar with Python format strings, you're going to see fairly quickly what's going on here, essentially we're indexing by expression only, but the expression comes from a Python format string when supplied with the record in dict format. So you can't directly use a function to do anything with regards to key generation, but you can do an awful lot with the Python format mini-language. (and adding actual functions is relatively easy for anyone who can think of a must-have use-case)\n\nSo, once we have an index we can search using the index and also find records in order based on the index, so we can re-use find but this time give it an index to use;\n\n.. code-block:: python\n\n    >>> for doc in people.find('by_age_name'):\n    ...     print('Name: {name:20} Age:{age:3}'.format(**doc))\n    ...\n    Name: John Doe             Age: 19\n    Name: Fred Bloggs          Age: 21\n    Name: Joe Smith            Age: 22\n\nOr we can look for specific records;\n\n.. code-block:: python\n\n    >>> people.seek_one('by_name', {'name': 'Joe Smith'})\n    {'_id': b'58ed69211839fc5e5a57bc36', 'name': 'Joe Smith', 'age': 22}\n\nOr we can look for a range of records;\n\n.. code-block:: python\n\n    >>> for doc in people.range('by_name', {'name': 'J'}, {'name': 'K'}):\n    ...     print('Name: {name:20} Age:{age:3}'.format(**doc))\n    ...\n    Name: Joe Smith            Age: 22\n    Name: John Doe             Age: 19\n\n----------------\nUpdating Records\n----------------\n\nWe've already covered adding new records to the database, so that leaves us with updating and deleting records. How about this;\n\n.. code-block:: python\n\n    >>> person = people.seek_one('by_name', {'name': 'Joe Smith'})\n    >>> person['age'] += 1\n    >>> people.save(person)\n    >>> people.seek_one('by_name', {'name': 'Joe Smith'})\n    {'_id': b'58ed69211839fc5e5a57bc36', 'name': 'Joe Smith', 'age': 23}\n\nAnd to delete;\n\n.. code-block:: python\n\n    >>> person = people.seek_one('by_name', {'name': 'Fred Bloggs'})\n    >>> people.delete(person['_id'])\n    >>> for doc in people.find():\n    ...     print('Name: {name:20} Age:{age:3}'.format(**doc))\n    ...\n    Name: Joe Smith            Age: 23\n    Name: John Doe             Age: 19\n    >>>\n\nThere's a lot more to come, but so far it's looking pretty promising. On my workstation a for-loop based on a find yields around 200k results per second, and an append yields around 30k new items per second. This seems to be fairly respectable for a high level language database and seems to be much faster than Mongo when used with either Python or Node.\n\n.. code-block:: text\n\n    ** SINGLE Threaded benchmark **\n    ** Probably better throughput with multiple processes\n\n    * No Indecies\n      -     0: 5000 - Append Speed/sec = 48882\n      -  5000: 5000 - Append Speed/sec = 52778\n      - 10000: 5000 - Append Speed/sec = 52882\n    * Indexed by sid, day, hour\n      -     0: 5000 - Append Speed/sec = 34420\n      -  5000: 5000 - Append Speed/sec = 36096\n      - 10000: 5000 - Append Speed/sec = 35885\n    * Indexed by function\n      -     0: 5000 - Append Speed/sec = 39235\n      -  5000: 5000 - Append Speed/sec = 39822\n      - 10000: 5000 - Append Speed/sec = 41116\n    * Linear scan through most recent index\n      -     0:15000 - Read Speed/sec   = 234615\n\nORM - Object Relational Mapper\n==============================\n\nThe native PyNNDB interface is not unlike Mongo in that it treats each record (or document) as a Python dictionary. For databases that involve single / unrelated tables, this is fine and the most efficient means to access data. If however you're mapping relationships between tables, as you might with a traditional SQL database, maintaining linkage tables can be a bit fiddly, and it you're used to something like SQLAlchemy, the standard interface may seem a little raw.\n\nTo this end we have a built-in mechanism for overlaying some structure onto our raw tables to give things a bit of an Alchemy feel. If you're not used to ORM's then this might look a bit like magic, but for SQLAlchemy users, you should feel right at home and hopefully wondering why SQLAlchemy isn't this easy ... ;-)\n\nCurrent Features\n----------------\n\nSo, what we're catering for at the moment;\n\n* Calculated fields\n\n  - Date\n\n  - Age\n\n  - Name\n\n  - UUID\n\n  - Custom\n\n* ManyToMany links between tables\n* Table pretty-printer\n* OneToMany links between tables [TODO]\n* Referential integrity control [TODO]\n* Link attributes [TODO]\n\nWe do have a little work left to do as you can see, but the heart of the ORM is up and running and seem to work fairly well.\n\nThere's a blog posting with more detail here. <`Article on ORM for NoSQL`__>.\n\n.. __: https://gareth.bult.co.uk/2017/09/14/orm_for_nosql/\n\n-----------------\nHow to use Models\n-----------------\n\nThe idea is that we wrap each table up in a dedicated class then we can create additional classes to link the (wrapped) tables together. Here's a very simple example;\n\n.. code-block:: python\n\n    from pynndb import Database\n    from pynndb.models import ManyToMany, Table\n    from pynndb.types import AgeType, DateType\n\n    class UserModel(Table):\n        _calculated = {\n            'age': AgeType('dob'),\n            'birthday': DateType('dob')\n        }\n        _display = [\n            {'name': 'forename', 'width': 20},\n            {'name': 'surname', 'width': 20},\n            {'name': 'birthday', 'width': 15},\n            {'name': 'age', 'width': 3}\n        ]\n\n    db = Database('my_db', {'env': {'map_size': 1024 * 1024 * 10}})\n    user_model = UserModel(table=db.table('users'))\n\nIf you save this to a file (demo.py) you should then be able to do the following;\n\n.. code-block:: python\n\n    >>> from demo import user_model\n    >>> import datetime\n    >>> user_model.add({'forename':'fred','surname':'bloggs','dob':datetime.date(1970,12,1)})\n    >>> user_model.list()\n    +----------------------+----------------------+-----------------+-----+\n    | forename             | surname              | dob             | age |\n    +----------------------+----------------------+-----------------+-----+\n    | fred                 | bloggs               |        28857600 |  46 |\n    +----------------------+----------------------+-----------------+-----+\n\nNote that age isn't a stored field, it's generated on the fly from the 'dob' field hence will dynamically change whenever the dob field is updated. Also, the list function is driven (by default) by the attributes listed in _display.\n\nAs it stands the date of birth isn't terribly readable, so we could add another field to the mix to get around this, in calculated add;\n\n.. code-block:: python\n\n    'birthday': DateType('dob')\n\nAnd change the display section to show birthday rather then dob, then try the above operation again and you should get (don't forget to add DateType to your imports);\n\n.. code-block:: python\n\n    >>> from demo import user_model\n    >>> user_model.list()\n    +----------------------+----------------------+-----------------+-----+\n    | forename             | surname              | birthday        | age |\n    +----------------------+----------------------+-----------------+-----+\n    | fred                 | bloggs               | 01/12/1970      |  46 |\n    +----------------------+----------------------+-----------------+-----+\n\nSo far this all looks relatively trivial, the real value comes in what it's doing under the hood. Let's try to update this data, take a look at the following;\n\n.. code-block:: python\n\n    >>> from demo import user_model\n    >>> user = list(user_model.find())[0]\n    >>> user.surname='Bloggs Updated'\n    >>> user.save()\n    >>> user_model.list()\n    +----------------------+----------------------+-----------------+-----+\n    | forename             | surname              | birthday        | age |\n    +----------------------+----------------------+-----------------+-----+\n    | fred                 | Bloggs Updated       | 01/12/1970      |  46 |\n    +----------------------+----------------------+-----------------+-----+\n\nThe .find() method for a model just returns all records (as an array) so all we're doing here is assigning 'user' to the first record in the table. Each field in the table is then accessible as an attribute (i.e. user.forename, user.surename, user.dob etc) which is a little more natural than updating a dict, then save updates changes in the model back to the actual table. Again relatively trivial, however this is quite neat;\n\n.. code-block:: python\n\n    >>> print(user.age, user.birthday)\n    46 01/12/1970\n\ni.e. when you access the model, you will see attributes that are generated on the fly in additional to any stored data, and (!) if you don't access them they're not generated so there's no overhead in having lots of rarely used calculated fields.\n\n------------------------\nHow to use Relationships\n------------------------\n\nSo this is where things get a little more interesting. In standard NoSQL, typically there is no real concept of table linkage, foreign keys or referential integrity. However, that doesn't mean the concepts are invalid or no longer needed, so, here is NoSQL with inter- table relationships, managed by a built-in ORM (!)\n\nFirst, let's start by defining a second table, we're going to make it really easy by just having an address table, then working on the premise that users can have multiple addresses, and that a number of users can live at each address.\n\n.. code-block:: python\n\n    class AddressModel(Table):\n\n        _display = [\n            {'name': 'address', 'width': 30},\n            {'name': 'postcode', 'width': 15}\n        ]\n\nAnd we will create a relationship between the UserModel and the AddressModel by adding this to our previous code;\n\n.. code-block:: python\n\n    address_model = AddressModel(table=db.table('addresses'))\n    links = ManyToMany(db, user_model, address_model)\n\nSo, starting up as before we can do this;\n\n.. code-block:: python\n\n    from demo import user_model, address_model, UserModel\n    import datetime\n    >>> user = user_model.add({'forename':'john','surname':'smith','dob':datetime.date(1971,12,1)})\n    >>> user.addresses.append({'address': 'address1', 'postcode': 'postcode1'})\n    >>> user.addresses.append({'address': 'address2', 'postcode': 'postcode2'})\n    >>> user.save()\n    >>> user_model.list()\n    +----------------------+----------------------+-----------------+-----+\n    | forename             | surname              | birthday        | age |\n    +----------------------+----------------------+-----------------+-----+\n    | john                 | smith                | 01/12/1971      |  45 |\n    +----------------------+----------------------+-----------------+-----+\n    >>> address_model.list()\n    +--------------------------------+-----------------+\n    | address                        | postcode        |\n    +--------------------------------+-----------------+\n    | address1                       | postcode1       |\n    | address2                       | postcode2       |\n    +--------------------------------+-----------------+\n\nSo there are some interesting things going on here, we have created a new instance of UserModel, then added two new addresses by appending to it's address property. Now the address property is a virtual field created by the \"ManyToMany\" link and not only is it populated from the address table, but it can also be used to append, update and delete entries in the address table. On further inspection we see;\n\n.. code-block:: python\n\n    >>> user\n    {'surname': 'smith', '_id': b'59b6860b1839fc4ee8c00596', 'forename': 'john', 'dob': datetime.date(1971, 12, 1)}\n    >>> user.addresses\n    [{'address': 'address1', 'postcode': 'postcode1', '_id': b'59b6860b1839fc4ee8c00597'}, {'address': 'address2', 'postcode': 'postcode2', '_id': b'59b6860b1839fc4ee8c00599'}]\n    >>> type(user.addresses[0])\n    <class 'pynndb.models.BaseModel'>\n\nAgain, virtual and calculated fields are only evaluated when reading through the users table, the cost of reading associated tables is only incurred if the linked attributes (addresses in this case) are accessed. Note that the addresses field is a list, but of type BaseModel, rather than of a raw dict.\n\n----------------------\nUpdating linked tables\n----------------------\n\nIn a similar fashion, we can do updates to the linked table;\n\n.. code-block:: python\n\n    >>> user = list(user_model.find())[0]\n    >>> user\n    {'surname': 'smith', '_id': b'59b6860b1839fc4ee8c00596', 'forename': 'john', 'dob': 60393600}\n    >>> user.addresses[1]\n    {'address': 'address2', 'postcode': 'postcode2', '_id': b'59b6860b1839fc4ee8c00599'}\n    >>> user.addresses[1].postcode = 'A new postcode'\n    >>> user.save()\n    >>> address_model.list()\n    +--------------------------------+-----------------+\n    | address                        | postcode        |\n    +--------------------------------+-----------------+\n    | address1                       | postcode1       |\n    | address2                       | A new postcode  |\n    +--------------------------------+-----------------+\n\n---------------------------------\nDeleting entries in linked tables\n---------------------------------\n\nAnd of course, we can delete in the same way, but be aware that this will only sever the link rather than deleting the address, so future references to addresses in this example will only show the user linked to one address, but a listing of the address table will show both addresses. Deleting target objects with a zero reference count will be an option when the referential integrity code is added.\n\n.. code-block:: python\n\n    >>> del user.addresses[0]\n    >>> user.save()\n    >>> user = list(user_model.find())[0]\n    >>> user.addresses\n    [{'address': 'address2', 'postcode': 'A new postcode', '_id': b'59b6860b1839fc4ee8c00599'}]\n\nIf we wanted to re-instate the relationship in this instance we could do;\n\n.. code-block:: python\n\n    >>> address = list(address_model.find())[0]\n    >>> address\n    {'_id': b'59b800e41839fc41593c9894', 'address': 'address1', 'postcode': 'postcode1'}\n    >>> user.addresses.append(address)\n    >>> user.save()\n    >>> user = list(user_model.find())[0]\n    >>> user.addresses\n    [{'_id': b'59b800e41839fc41593c9896', 'address': 'address2', 'postcode': 'A new postcode'}, {'_id': b'59b800e41839fc41593c9894', 'address': 'address1', 'postcode': 'postcode1'}]\n\nThe funny looking \"user = list(...)\" function is only being used to force a re-read on the database following an update. The user variable will still be instantiated and in theory a re-read should make no difference to it's value, but for testing, it's always good to be sure it's actually storing what you think it is.", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/oddjobz/pynndb", "keywords": "pynndb,database,LMDB,python,ORM", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "pynndb", "package_url": "https://pypi.org/project/pynndb/", "platform": "", "project_url": "https://pypi.org/project/pynndb/", "project_urls": {"Homepage": "https://github.com/oddjobz/pynndb"}, "release_url": "https://pypi.org/project/pynndb/1.1.5/", "requires_dist": null, "requires_python": "", "summary": "Database library for Python based on LMDB storage engine", "version": "1.1.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"pynndb-python-native-nosql-database\">\n<h2>PyNNDB - Python Native NoSQL Database</h2>\n<a href=\"https://travis-ci.org/oddjobz/pynndb\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/oddjobz/pynndb.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/95a3437542cbe2584cc1b52497df3b53b1562ebe/68747470733a2f2f7472617669732d63692e6f72672f6f64646a6f627a2f70796e6e64622e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://badge.fury.io/py/pynndb\" rel=\"nofollow\"><img alt=\"https://badge.fury.io/py/pynndb.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dc16557aa389febdbfdfff7ff877b87e757699a3/68747470733a2f2f62616467652e667572792e696f2f70792f70796e6e64622e737667\"></a>\n<p>PyNNDB is the second iteration of PyMamba, the name change reflects a conflict with another project\nof the same name, and a degree of incompatibility between the API in the old and new versions. At\nthis time the core components of the project should be considered relatively stable (beta) and are\nbeing used in production systems. The ORM module is experimental / alpha and has had very limited\ntesting, while the replication module is incomplete / experimental and still needs work.</p>\n<p>PyNNDB is a key / value based NoSQL database based on the LMDB storage engine. If you are looking to access your\ndatabase from a low-level language such as C/C++/Java, then you will probably find faster database options. However,\nif you only intend to access your database \u2018from\u2019 Python, then you will probably find PyNNDB a good bit quicker than\nthe more traditional alternatives.</p>\n<div id=\"what-stable-features-does-it-have\">\n<h3>What stable features does it have?</h3>\n<ul>\n<li>Variable length records, each stored with a Mongo compatible UUID</li>\n<li>Records are read / written as Python Dict objects</li>\n<li>Secondary indexes based on a lambda function of the contents of the record</li>\n<li>Duplicate keys on secondary indexes</li>\n<li>ACID Transactions handling</li>\n<li>Multi-thread and multi-process access to bypass GIL performance limitations</li>\n</ul>\n</div>\n<div id=\"what-features-are-in-development\">\n<h3>What Features are in development?</h3>\n<ul>\n<li>High speed multi-node replication</li>\n<li>ReadTheDocs documentation</li>\n<li>A native Object Relational Mapper, typically seen with SQL databases, loosely based on SQLAlchemy</li>\n</ul>\n<div id=\"some-basic-examples\">\n<h4>Some basic Examples</h4>\n<p>This is an example of how to create a new database called my-database, then within that database to create a table called people, then to add some people. (this is all from the Python shell)</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pynndb</span> <span class=\"kn\">import</span> <span class=\"n\">Database</span>\n<span class=\"n\">db</span> <span class=\"o\">=</span> <span class=\"n\">Database</span><span class=\"p\">(</span><span class=\"s1\">'my-database'</span><span class=\"p\">)</span>\n<span class=\"n\">people</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"s1\">'people'</span><span class=\"p\">)</span>\n<span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">({</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Fred Bloggs'</span><span class=\"p\">,</span> <span class=\"s1\">'age'</span><span class=\"p\">:</span> <span class=\"mi\">21</span><span class=\"p\">})</span>\n<span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">({</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Joe Smith'</span><span class=\"p\">,</span> <span class=\"s1\">'age'</span><span class=\"p\">:</span> <span class=\"mi\">22</span><span class=\"p\">})</span>\n<span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">({</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'John Doe'</span><span class=\"p\">,</span> <span class=\"s1\">'age'</span><span class=\"p\">:</span> <span class=\"mi\">19</span><span class=\"p\">})</span>\n</pre>\n<p>Now there are lots of different ways of recovering information from the database, the simplest is just to use find() which can be used to scan through the entire table. As find returns a generator, you can either use it within a for-loop, or use list to recover the results as a single list object.</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">for</span> <span class=\"n\">doc</span> <span class=\"ow\">in</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">():</span>\n<span class=\"o\">...</span>     <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">doc</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>\n<span class=\"p\">{</span><span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'58ed69161839fc5e5a57bc35'</span><span class=\"p\">,</span> <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Fred Bloggs'</span><span class=\"p\">,</span> <span class=\"s1\">'age'</span><span class=\"p\">:</span> <span class=\"mi\">21</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'58ed69211839fc5e5a57bc36'</span><span class=\"p\">,</span> <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Joe Smith'</span><span class=\"p\">,</span> <span class=\"s1\">'age'</span><span class=\"p\">:</span> <span class=\"mi\">22</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'58ed69301839fc5e5a57bc37'</span><span class=\"p\">,</span> <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'John Doe'</span><span class=\"p\">,</span> <span class=\"s1\">'age'</span><span class=\"p\">:</span> <span class=\"mi\">19</span><span class=\"p\">}</span>\n</pre>\n<p>Note that the returned record includes an _id field, this is almost identical to the ObjectId field used by Mongo, except we\u2019re returning a simple byte-string rather than an ObjectId class. A nice feature of dealing with data in this form when matched with Python\u2019s new \u2018format\u2019 function is the ability to easily format this data like so;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">for</span> <span class=\"n\">doc</span> <span class=\"ow\">in</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">():</span>\n<span class=\"o\">...</span>     <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Name: </span><span class=\"si\">{name:20}</span><span class=\"s1\"> Age:</span><span class=\"si\">{age:3}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">doc</span><span class=\"p\">))</span>\n<span class=\"o\">...</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">Fred</span> <span class=\"n\">Bloggs</span>          <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">21</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">Joe</span> <span class=\"n\">Smith</span>            <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">22</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">John</span> <span class=\"n\">Doe</span>             <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">19</span>\n</pre>\n<p>Or if we just want a subset of the data, we can use an anonymous function to filter our results; (note that this is a linear / sequential scan with a filter)</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">for</span> <span class=\"n\">doc</span> <span class=\"ow\">in</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">(</span><span class=\"n\">expression</span><span class=\"o\">=</span><span class=\"k\">lambda</span> <span class=\"n\">doc</span><span class=\"p\">:</span> <span class=\"n\">doc</span><span class=\"p\">[</span><span class=\"s1\">'age'</span><span class=\"p\">]</span> <span class=\"o\">&gt;</span> <span class=\"mi\">21</span><span class=\"p\">):</span>\n<span class=\"o\">...</span>     <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Name: </span><span class=\"si\">{name:20}</span><span class=\"s1\"> Age:</span><span class=\"si\">{age:3}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">doc</span><span class=\"p\">))</span>\n<span class=\"o\">...</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">Joe</span> <span class=\"n\">Smith</span>            <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">22</span>\n</pre>\n</div>\n<div id=\"indexing\">\n<h4>Indexing</h4>\n<p>Transparent indexes are a key part of any database system, and I struggled for a while trying to decide which mechanism to use. On the one hand I wanted the functionality of being able to index tables by compound fields and functions, and on the other I just wanted to be able to simply index based on a single clean field. In the end I settled on the following;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">ensure</span><span class=\"p\">(</span><span class=\"s1\">'by_name'</span><span class=\"p\">,</span> <span class=\"s1\">'</span><span class=\"si\">{name}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">ensure</span><span class=\"p\">(</span><span class=\"s1\">'by_age_name'</span><span class=\"p\">,</span> <span class=\"s1\">'</span><span class=\"si\">{age:03}{name}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n</pre>\n<p>If you\u2019re really familiar with Python format strings, you\u2019re going to see fairly quickly what\u2019s going on here, essentially we\u2019re indexing by expression only, but the expression comes from a Python format string when supplied with the record in dict format. So you can\u2019t directly use a function to do anything with regards to key generation, but you can do an awful lot with the Python format mini-language. (and adding actual functions is relatively easy for anyone who can think of a must-have use-case)</p>\n<p>So, once we have an index we can search using the index and also find records in order based on the index, so we can re-use find but this time give it an index to use;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">for</span> <span class=\"n\">doc</span> <span class=\"ow\">in</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">(</span><span class=\"s1\">'by_age_name'</span><span class=\"p\">):</span>\n<span class=\"o\">...</span>     <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Name: </span><span class=\"si\">{name:20}</span><span class=\"s1\"> Age:</span><span class=\"si\">{age:3}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">doc</span><span class=\"p\">))</span>\n<span class=\"o\">...</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">John</span> <span class=\"n\">Doe</span>             <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">19</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">Fred</span> <span class=\"n\">Bloggs</span>          <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">21</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">Joe</span> <span class=\"n\">Smith</span>            <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">22</span>\n</pre>\n<p>Or we can look for specific records;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">seek_one</span><span class=\"p\">(</span><span class=\"s1\">'by_name'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Joe Smith'</span><span class=\"p\">})</span>\n<span class=\"p\">{</span><span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'58ed69211839fc5e5a57bc36'</span><span class=\"p\">,</span> <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Joe Smith'</span><span class=\"p\">,</span> <span class=\"s1\">'age'</span><span class=\"p\">:</span> <span class=\"mi\">22</span><span class=\"p\">}</span>\n</pre>\n<p>Or we can look for a range of records;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">for</span> <span class=\"n\">doc</span> <span class=\"ow\">in</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">range</span><span class=\"p\">(</span><span class=\"s1\">'by_name'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'J'</span><span class=\"p\">},</span> <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'K'</span><span class=\"p\">}):</span>\n<span class=\"o\">...</span>     <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Name: </span><span class=\"si\">{name:20}</span><span class=\"s1\"> Age:</span><span class=\"si\">{age:3}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">doc</span><span class=\"p\">))</span>\n<span class=\"o\">...</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">Joe</span> <span class=\"n\">Smith</span>            <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">22</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">John</span> <span class=\"n\">Doe</span>             <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">19</span>\n</pre>\n</div>\n<div id=\"updating-records\">\n<h4>Updating Records</h4>\n<p>We\u2019ve already covered adding new records to the database, so that leaves us with updating and deleting records. How about this;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">person</span> <span class=\"o\">=</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">seek_one</span><span class=\"p\">(</span><span class=\"s1\">'by_name'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Joe Smith'</span><span class=\"p\">})</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">person</span><span class=\"p\">[</span><span class=\"s1\">'age'</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">(</span><span class=\"n\">person</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">seek_one</span><span class=\"p\">(</span><span class=\"s1\">'by_name'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Joe Smith'</span><span class=\"p\">})</span>\n<span class=\"p\">{</span><span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'58ed69211839fc5e5a57bc36'</span><span class=\"p\">,</span> <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Joe Smith'</span><span class=\"p\">,</span> <span class=\"s1\">'age'</span><span class=\"p\">:</span> <span class=\"mi\">23</span><span class=\"p\">}</span>\n</pre>\n<p>And to delete;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">person</span> <span class=\"o\">=</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">seek_one</span><span class=\"p\">(</span><span class=\"s1\">'by_name'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Fred Bloggs'</span><span class=\"p\">})</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">delete</span><span class=\"p\">(</span><span class=\"n\">person</span><span class=\"p\">[</span><span class=\"s1\">'_id'</span><span class=\"p\">])</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">for</span> <span class=\"n\">doc</span> <span class=\"ow\">in</span> <span class=\"n\">people</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">():</span>\n<span class=\"o\">...</span>     <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Name: </span><span class=\"si\">{name:20}</span><span class=\"s1\"> Age:</span><span class=\"si\">{age:3}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">doc</span><span class=\"p\">))</span>\n<span class=\"o\">...</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">Joe</span> <span class=\"n\">Smith</span>            <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">23</span>\n<span class=\"n\">Name</span><span class=\"p\">:</span> <span class=\"n\">John</span> <span class=\"n\">Doe</span>             <span class=\"n\">Age</span><span class=\"p\">:</span> <span class=\"mi\">19</span>\n<span class=\"o\">&gt;&gt;&gt;</span>\n</pre>\n<p>There\u2019s a lot more to come, but so far it\u2019s looking pretty promising. On my workstation a for-loop based on a find yields around 200k results per second, and an append yields around 30k new items per second. This seems to be fairly respectable for a high level language database and seems to be much faster than Mongo when used with either Python or Node.</p>\n<pre>** SINGLE Threaded benchmark **\n** Probably better throughput with multiple processes\n\n* No Indecies\n  -     0: 5000 - Append Speed/sec = 48882\n  -  5000: 5000 - Append Speed/sec = 52778\n  - 10000: 5000 - Append Speed/sec = 52882\n* Indexed by sid, day, hour\n  -     0: 5000 - Append Speed/sec = 34420\n  -  5000: 5000 - Append Speed/sec = 36096\n  - 10000: 5000 - Append Speed/sec = 35885\n* Indexed by function\n  -     0: 5000 - Append Speed/sec = 39235\n  -  5000: 5000 - Append Speed/sec = 39822\n  - 10000: 5000 - Append Speed/sec = 41116\n* Linear scan through most recent index\n  -     0:15000 - Read Speed/sec   = 234615\n</pre>\n</div>\n</div>\n</div>\n<div id=\"orm-object-relational-mapper\">\n<h2>ORM - Object Relational Mapper</h2>\n<p>The native PyNNDB interface is not unlike Mongo in that it treats each record (or document) as a Python dictionary. For databases that involve single / unrelated tables, this is fine and the most efficient means to access data. If however you\u2019re mapping relationships between tables, as you might with a traditional SQL database, maintaining linkage tables can be a bit fiddly, and it you\u2019re used to something like SQLAlchemy, the standard interface may seem a little raw.</p>\n<p>To this end we have a built-in mechanism for overlaying some structure onto our raw tables to give things a bit of an Alchemy feel. If you\u2019re not used to ORM\u2019s then this might look a bit like magic, but for SQLAlchemy users, you should feel right at home and hopefully wondering why SQLAlchemy isn\u2019t this easy \u2026 ;-)</p>\n<div id=\"current-features\">\n<h3>Current Features</h3>\n<p>So, what we\u2019re catering for at the moment;</p>\n<ul>\n<li>Calculated fields<ul>\n<li>Date</li>\n<li>Age</li>\n<li>Name</li>\n<li>UUID</li>\n<li>Custom</li>\n</ul>\n</li>\n<li>ManyToMany links between tables</li>\n<li>Table pretty-printer</li>\n<li>OneToMany links between tables [TODO]</li>\n<li>Referential integrity control [TODO]</li>\n<li>Link attributes [TODO]</li>\n</ul>\n<p>We do have a little work left to do as you can see, but the heart of the ORM is up and running and seem to work fairly well.</p>\n<p>There\u2019s a blog posting with more detail here. &lt;<a href=\"https://gareth.bult.co.uk/2017/09/14/orm_for_nosql/\" rel=\"nofollow\">Article on ORM for NoSQL</a>&gt;.</p>\n<div id=\"how-to-use-models\">\n<h4>How to use Models</h4>\n<p>The idea is that we wrap each table up in a dedicated class then we can create additional classes to link the (wrapped) tables together. Here\u2019s a very simple example;</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pynndb</span> <span class=\"kn\">import</span> <span class=\"n\">Database</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pynndb.models</span> <span class=\"kn\">import</span> <span class=\"n\">ManyToMany</span><span class=\"p\">,</span> <span class=\"n\">Table</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pynndb.types</span> <span class=\"kn\">import</span> <span class=\"n\">AgeType</span><span class=\"p\">,</span> <span class=\"n\">DateType</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">UserModel</span><span class=\"p\">(</span><span class=\"n\">Table</span><span class=\"p\">):</span>\n    <span class=\"n\">_calculated</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'age'</span><span class=\"p\">:</span> <span class=\"n\">AgeType</span><span class=\"p\">(</span><span class=\"s1\">'dob'</span><span class=\"p\">),</span>\n        <span class=\"s1\">'birthday'</span><span class=\"p\">:</span> <span class=\"n\">DateType</span><span class=\"p\">(</span><span class=\"s1\">'dob'</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span>\n    <span class=\"n\">_display</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'forename'</span><span class=\"p\">,</span> <span class=\"s1\">'width'</span><span class=\"p\">:</span> <span class=\"mi\">20</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'surname'</span><span class=\"p\">,</span> <span class=\"s1\">'width'</span><span class=\"p\">:</span> <span class=\"mi\">20</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'birthday'</span><span class=\"p\">,</span> <span class=\"s1\">'width'</span><span class=\"p\">:</span> <span class=\"mi\">15</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'age'</span><span class=\"p\">,</span> <span class=\"s1\">'width'</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n\n<span class=\"n\">db</span> <span class=\"o\">=</span> <span class=\"n\">Database</span><span class=\"p\">(</span><span class=\"s1\">'my_db'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s1\">'env'</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s1\">'map_size'</span><span class=\"p\">:</span> <span class=\"mi\">1024</span> <span class=\"o\">*</span> <span class=\"mi\">1024</span> <span class=\"o\">*</span> <span class=\"mi\">10</span><span class=\"p\">}})</span>\n<span class=\"n\">user_model</span> <span class=\"o\">=</span> <span class=\"n\">UserModel</span><span class=\"p\">(</span><span class=\"n\">table</span><span class=\"o\">=</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"s1\">'users'</span><span class=\"p\">))</span>\n</pre>\n<p>If you save this to a file (demo.py) you should then be able to do the following;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">demo</span> <span class=\"kn\">import</span> <span class=\"n\">user_model</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">import</span> <span class=\"nn\">datetime</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user_model</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">({</span><span class=\"s1\">'forename'</span><span class=\"p\">:</span><span class=\"s1\">'fred'</span><span class=\"p\">,</span><span class=\"s1\">'surname'</span><span class=\"p\">:</span><span class=\"s1\">'bloggs'</span><span class=\"p\">,</span><span class=\"s1\">'dob'</span><span class=\"p\">:</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">1970</span><span class=\"p\">,</span><span class=\"mi\">12</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">)})</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user_model</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">()</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n<span class=\"o\">|</span> <span class=\"n\">forename</span>             <span class=\"o\">|</span> <span class=\"n\">surname</span>              <span class=\"o\">|</span> <span class=\"n\">dob</span>             <span class=\"o\">|</span> <span class=\"n\">age</span> <span class=\"o\">|</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n<span class=\"o\">|</span> <span class=\"n\">fred</span>                 <span class=\"o\">|</span> <span class=\"n\">bloggs</span>               <span class=\"o\">|</span>        <span class=\"mi\">28857600</span> <span class=\"o\">|</span>  <span class=\"mi\">46</span> <span class=\"o\">|</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n</pre>\n<p>Note that age isn\u2019t a stored field, it\u2019s generated on the fly from the \u2018dob\u2019 field hence will dynamically change whenever the dob field is updated. Also, the list function is driven (by default) by the attributes listed in _display.</p>\n<p>As it stands the date of birth isn\u2019t terribly readable, so we could add another field to the mix to get around this, in calculated add;</p>\n<pre><span class=\"s1\">'birthday'</span><span class=\"p\">:</span> <span class=\"n\">DateType</span><span class=\"p\">(</span><span class=\"s1\">'dob'</span><span class=\"p\">)</span>\n</pre>\n<p>And change the display section to show birthday rather then dob, then try the above operation again and you should get (don\u2019t forget to add DateType to your imports);</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">demo</span> <span class=\"kn\">import</span> <span class=\"n\">user_model</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user_model</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">()</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n<span class=\"o\">|</span> <span class=\"n\">forename</span>             <span class=\"o\">|</span> <span class=\"n\">surname</span>              <span class=\"o\">|</span> <span class=\"n\">birthday</span>        <span class=\"o\">|</span> <span class=\"n\">age</span> <span class=\"o\">|</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n<span class=\"o\">|</span> <span class=\"n\">fred</span>                 <span class=\"o\">|</span> <span class=\"n\">bloggs</span>               <span class=\"o\">|</span> <span class=\"mi\">01</span><span class=\"o\">/</span><span class=\"mi\">12</span><span class=\"o\">/</span><span class=\"mi\">1970</span>      <span class=\"o\">|</span>  <span class=\"mi\">46</span> <span class=\"o\">|</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n</pre>\n<p>So far this all looks relatively trivial, the real value comes in what it\u2019s doing under the hood. Let\u2019s try to update this data, take a look at the following;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">demo</span> <span class=\"kn\">import</span> <span class=\"n\">user_model</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">user_model</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">())[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">surname</span><span class=\"o\">=</span><span class=\"s1\">'Bloggs Updated'</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user_model</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">()</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n<span class=\"o\">|</span> <span class=\"n\">forename</span>             <span class=\"o\">|</span> <span class=\"n\">surname</span>              <span class=\"o\">|</span> <span class=\"n\">birthday</span>        <span class=\"o\">|</span> <span class=\"n\">age</span> <span class=\"o\">|</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n<span class=\"o\">|</span> <span class=\"n\">fred</span>                 <span class=\"o\">|</span> <span class=\"n\">Bloggs</span> <span class=\"n\">Updated</span>       <span class=\"o\">|</span> <span class=\"mi\">01</span><span class=\"o\">/</span><span class=\"mi\">12</span><span class=\"o\">/</span><span class=\"mi\">1970</span>      <span class=\"o\">|</span>  <span class=\"mi\">46</span> <span class=\"o\">|</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n</pre>\n<p>The .find() method for a model just returns all records (as an array) so all we\u2019re doing here is assigning \u2018user\u2019 to the first record in the table. Each field in the table is then accessible as an attribute (i.e. user.forename, user.surename, user.dob etc) which is a little more natural than updating a dict, then save updates changes in the model back to the actual table. Again relatively trivial, however this is quite neat;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">age</span><span class=\"p\">,</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">birthday</span><span class=\"p\">)</span>\n<span class=\"mi\">46</span> <span class=\"mi\">01</span><span class=\"o\">/</span><span class=\"mi\">12</span><span class=\"o\">/</span><span class=\"mi\">1970</span>\n</pre>\n<p>i.e. when you access the model, you will see attributes that are generated on the fly in additional to any stored data, and (!) if you don\u2019t access them they\u2019re not generated so there\u2019s no overhead in having lots of rarely used calculated fields.</p>\n</div>\n<div id=\"how-to-use-relationships\">\n<h4>How to use Relationships</h4>\n<p>So this is where things get a little more interesting. In standard NoSQL, typically there is no real concept of table linkage, foreign keys or referential integrity. However, that doesn\u2019t mean the concepts are invalid or no longer needed, so, here is NoSQL with inter- table relationships, managed by a built-in ORM (!)</p>\n<p>First, let\u2019s start by defining a second table, we\u2019re going to make it really easy by just having an address table, then working on the premise that users can have multiple addresses, and that a number of users can live at each address.</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">AddressModel</span><span class=\"p\">(</span><span class=\"n\">Table</span><span class=\"p\">):</span>\n\n    <span class=\"n\">_display</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'address'</span><span class=\"p\">,</span> <span class=\"s1\">'width'</span><span class=\"p\">:</span> <span class=\"mi\">30</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'postcode'</span><span class=\"p\">,</span> <span class=\"s1\">'width'</span><span class=\"p\">:</span> <span class=\"mi\">15</span><span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n</pre>\n<p>And we will create a relationship between the UserModel and the AddressModel by adding this to our previous code;</p>\n<pre><span class=\"n\">address_model</span> <span class=\"o\">=</span> <span class=\"n\">AddressModel</span><span class=\"p\">(</span><span class=\"n\">table</span><span class=\"o\">=</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"s1\">'addresses'</span><span class=\"p\">))</span>\n<span class=\"n\">links</span> <span class=\"o\">=</span> <span class=\"n\">ManyToMany</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"p\">,</span> <span class=\"n\">user_model</span><span class=\"p\">,</span> <span class=\"n\">address_model</span><span class=\"p\">)</span>\n</pre>\n<p>So, starting up as before we can do this;</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">demo</span> <span class=\"kn\">import</span> <span class=\"n\">user_model</span><span class=\"p\">,</span> <span class=\"n\">address_model</span><span class=\"p\">,</span> <span class=\"n\">UserModel</span>\n<span class=\"kn\">import</span> <span class=\"nn\">datetime</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"n\">user_model</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">({</span><span class=\"s1\">'forename'</span><span class=\"p\">:</span><span class=\"s1\">'john'</span><span class=\"p\">,</span><span class=\"s1\">'surname'</span><span class=\"p\">:</span><span class=\"s1\">'smith'</span><span class=\"p\">,</span><span class=\"s1\">'dob'</span><span class=\"p\">:</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">1971</span><span class=\"p\">,</span><span class=\"mi\">12</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">)})</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">addresses</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">({</span><span class=\"s1\">'address'</span><span class=\"p\">:</span> <span class=\"s1\">'address1'</span><span class=\"p\">,</span> <span class=\"s1\">'postcode'</span><span class=\"p\">:</span> <span class=\"s1\">'postcode1'</span><span class=\"p\">})</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">addresses</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">({</span><span class=\"s1\">'address'</span><span class=\"p\">:</span> <span class=\"s1\">'address2'</span><span class=\"p\">,</span> <span class=\"s1\">'postcode'</span><span class=\"p\">:</span> <span class=\"s1\">'postcode2'</span><span class=\"p\">})</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user_model</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">()</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n<span class=\"o\">|</span> <span class=\"n\">forename</span>             <span class=\"o\">|</span> <span class=\"n\">surname</span>              <span class=\"o\">|</span> <span class=\"n\">birthday</span>        <span class=\"o\">|</span> <span class=\"n\">age</span> <span class=\"o\">|</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n<span class=\"o\">|</span> <span class=\"n\">john</span>                 <span class=\"o\">|</span> <span class=\"n\">smith</span>                <span class=\"o\">|</span> <span class=\"mi\">01</span><span class=\"o\">/</span><span class=\"mi\">12</span><span class=\"o\">/</span><span class=\"mi\">1971</span>      <span class=\"o\">|</span>  <span class=\"mi\">45</span> <span class=\"o\">|</span>\n<span class=\"o\">+----------------------+----------------------+-----------------+-----+</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">address_model</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">()</span>\n<span class=\"o\">+--------------------------------+-----------------+</span>\n<span class=\"o\">|</span> <span class=\"n\">address</span>                        <span class=\"o\">|</span> <span class=\"n\">postcode</span>        <span class=\"o\">|</span>\n<span class=\"o\">+--------------------------------+-----------------+</span>\n<span class=\"o\">|</span> <span class=\"n\">address1</span>                       <span class=\"o\">|</span> <span class=\"n\">postcode1</span>       <span class=\"o\">|</span>\n<span class=\"o\">|</span> <span class=\"n\">address2</span>                       <span class=\"o\">|</span> <span class=\"n\">postcode2</span>       <span class=\"o\">|</span>\n<span class=\"o\">+--------------------------------+-----------------+</span>\n</pre>\n<p>So there are some interesting things going on here, we have created a new instance of UserModel, then added two new addresses by appending to it\u2019s address property. Now the address property is a virtual field created by the \u201cManyToMany\u201d link and not only is it populated from the address table, but it can also be used to append, update and delete entries in the address table. On further inspection we see;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span>\n<span class=\"p\">{</span><span class=\"s1\">'surname'</span><span class=\"p\">:</span> <span class=\"s1\">'smith'</span><span class=\"p\">,</span> <span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'59b6860b1839fc4ee8c00596'</span><span class=\"p\">,</span> <span class=\"s1\">'forename'</span><span class=\"p\">:</span> <span class=\"s1\">'john'</span><span class=\"p\">,</span> <span class=\"s1\">'dob'</span><span class=\"p\">:</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">1971</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)}</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">addresses</span>\n<span class=\"p\">[{</span><span class=\"s1\">'address'</span><span class=\"p\">:</span> <span class=\"s1\">'address1'</span><span class=\"p\">,</span> <span class=\"s1\">'postcode'</span><span class=\"p\">:</span> <span class=\"s1\">'postcode1'</span><span class=\"p\">,</span> <span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'59b6860b1839fc4ee8c00597'</span><span class=\"p\">},</span> <span class=\"p\">{</span><span class=\"s1\">'address'</span><span class=\"p\">:</span> <span class=\"s1\">'address2'</span><span class=\"p\">,</span> <span class=\"s1\">'postcode'</span><span class=\"p\">:</span> <span class=\"s1\">'postcode2'</span><span class=\"p\">,</span> <span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'59b6860b1839fc4ee8c00599'</span><span class=\"p\">}]</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">addresses</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"o\">&lt;</span><span class=\"k\">class</span> <span class=\"err\">'</span><span class=\"nc\">pynndb</span><span class=\"o\">.</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">BaseModel</span><span class=\"s1\">'&gt;</span>\n</pre>\n<p>Again, virtual and calculated fields are only evaluated when reading through the users table, the cost of reading associated tables is only incurred if the linked attributes (addresses in this case) are accessed. Note that the addresses field is a list, but of type BaseModel, rather than of a raw dict.</p>\n</div>\n<div id=\"updating-linked-tables\">\n<h4>Updating linked tables</h4>\n<p>In a similar fashion, we can do updates to the linked table;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">user_model</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">())[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span>\n<span class=\"p\">{</span><span class=\"s1\">'surname'</span><span class=\"p\">:</span> <span class=\"s1\">'smith'</span><span class=\"p\">,</span> <span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'59b6860b1839fc4ee8c00596'</span><span class=\"p\">,</span> <span class=\"s1\">'forename'</span><span class=\"p\">:</span> <span class=\"s1\">'john'</span><span class=\"p\">,</span> <span class=\"s1\">'dob'</span><span class=\"p\">:</span> <span class=\"mi\">60393600</span><span class=\"p\">}</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">addresses</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"p\">{</span><span class=\"s1\">'address'</span><span class=\"p\">:</span> <span class=\"s1\">'address2'</span><span class=\"p\">,</span> <span class=\"s1\">'postcode'</span><span class=\"p\">:</span> <span class=\"s1\">'postcode2'</span><span class=\"p\">,</span> <span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'59b6860b1839fc4ee8c00599'</span><span class=\"p\">}</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">addresses</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">postcode</span> <span class=\"o\">=</span> <span class=\"s1\">'A new postcode'</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">address_model</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">()</span>\n<span class=\"o\">+--------------------------------+-----------------+</span>\n<span class=\"o\">|</span> <span class=\"n\">address</span>                        <span class=\"o\">|</span> <span class=\"n\">postcode</span>        <span class=\"o\">|</span>\n<span class=\"o\">+--------------------------------+-----------------+</span>\n<span class=\"o\">|</span> <span class=\"n\">address1</span>                       <span class=\"o\">|</span> <span class=\"n\">postcode1</span>       <span class=\"o\">|</span>\n<span class=\"o\">|</span> <span class=\"n\">address2</span>                       <span class=\"o\">|</span> <span class=\"n\">A</span> <span class=\"n\">new</span> <span class=\"n\">postcode</span>  <span class=\"o\">|</span>\n<span class=\"o\">+--------------------------------+-----------------+</span>\n</pre>\n</div>\n<div id=\"deleting-entries-in-linked-tables\">\n<h4>Deleting entries in linked tables</h4>\n<p>And of course, we can delete in the same way, but be aware that this will only sever the link rather than deleting the address, so future references to addresses in this example will only show the user linked to one address, but a listing of the address table will show both addresses. Deleting target objects with a zero reference count will be an option when the referential integrity code is added.</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">del</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">addresses</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">user_model</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">())[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">addresses</span>\n<span class=\"p\">[{</span><span class=\"s1\">'address'</span><span class=\"p\">:</span> <span class=\"s1\">'address2'</span><span class=\"p\">,</span> <span class=\"s1\">'postcode'</span><span class=\"p\">:</span> <span class=\"s1\">'A new postcode'</span><span class=\"p\">,</span> <span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'59b6860b1839fc4ee8c00599'</span><span class=\"p\">}]</span>\n</pre>\n<p>If we wanted to re-instate the relationship in this instance we could do;</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">address</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">address_model</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">())[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">address</span>\n<span class=\"p\">{</span><span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'59b800e41839fc41593c9894'</span><span class=\"p\">,</span> <span class=\"s1\">'address'</span><span class=\"p\">:</span> <span class=\"s1\">'address1'</span><span class=\"p\">,</span> <span class=\"s1\">'postcode'</span><span class=\"p\">:</span> <span class=\"s1\">'postcode1'</span><span class=\"p\">}</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">addresses</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">address</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">user_model</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">())[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">addresses</span>\n<span class=\"p\">[{</span><span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'59b800e41839fc41593c9896'</span><span class=\"p\">,</span> <span class=\"s1\">'address'</span><span class=\"p\">:</span> <span class=\"s1\">'address2'</span><span class=\"p\">,</span> <span class=\"s1\">'postcode'</span><span class=\"p\">:</span> <span class=\"s1\">'A new postcode'</span><span class=\"p\">},</span> <span class=\"p\">{</span><span class=\"s1\">'_id'</span><span class=\"p\">:</span> <span class=\"sa\">b</span><span class=\"s1\">'59b800e41839fc41593c9894'</span><span class=\"p\">,</span> <span class=\"s1\">'address'</span><span class=\"p\">:</span> <span class=\"s1\">'address1'</span><span class=\"p\">,</span> <span class=\"s1\">'postcode'</span><span class=\"p\">:</span> <span class=\"s1\">'postcode1'</span><span class=\"p\">}]</span>\n</pre>\n<p>The funny looking \u201cuser = list(\u2026)\u201d function is only being used to force a re-read on the database following an update. The user variable will still be instantiated and in theory a re-read should make no difference to it\u2019s value, but for testing, it\u2019s always good to be sure it\u2019s actually storing what you think it is.</p>\n</div>\n</div>\n</div>\n\n          </div>"}, "last_serial": 6262291, "releases": {"0.9.1": [{"comment_text": "", "digests": {"md5": "ce04f674bd99477e5e30136363197b9b", "sha256": "b0c08c3d31214cbd61b58e3259cfe0928af4f3a1a90fe43c41db61d9f905be55"}, "downloads": -1, "filename": "pynndb-0.9.1.tar.gz", "has_sig": false, "md5_digest": "ce04f674bd99477e5e30136363197b9b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 26939, "upload_time": "2018-01-11T16:14:14", "upload_time_iso_8601": "2018-01-11T16:14:14.566973Z", "url": "https://files.pythonhosted.org/packages/00/f9/29fe632946e6f79cef2c45026713ac11993fbc960fa597937606bdab1e91/pynndb-0.9.1.tar.gz", "yanked": false}], "0.9.2": [{"comment_text": "", "digests": {"md5": "677886fbd9e4ba976d86553f6e817b9f", "sha256": "18546f6e71242fc8704d6d022a3783ae37bfc96e7fb35e24964ce6b370fde701"}, "downloads": -1, "filename": "pynndb-0.9.2.tar.gz", "has_sig": false, "md5_digest": "677886fbd9e4ba976d86553f6e817b9f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 26959, "upload_time": "2018-01-11T18:51:35", "upload_time_iso_8601": "2018-01-11T18:51:35.916082Z", "url": "https://files.pythonhosted.org/packages/00/1b/58ff31b18901033cd8b170ca6d135a4cf3072d3ccf5bff36d9584c374919/pynndb-0.9.2.tar.gz", "yanked": false}], "0.9.3": [{"comment_text": "", "digests": {"md5": "2220a2e830b658d43d4c7c721d33d9cc", "sha256": "f1e636c6bda687d1ad74860dc590c1e5b0c594a06f60ea440cd2e88d5206f325"}, "downloads": -1, "filename": "pynndb-0.9.3.tar.gz", "has_sig": false, "md5_digest": "2220a2e830b658d43d4c7c721d33d9cc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 26932, "upload_time": "2018-01-12T11:08:34", "upload_time_iso_8601": "2018-01-12T11:08:34.787082Z", "url": "https://files.pythonhosted.org/packages/34/97/11712332b76f79daaf6a103c4781141b4d3a4ab98e70653e1997b5f00980/pynndb-0.9.3.tar.gz", "yanked": false}], "0.9.4": [{"comment_text": "", "digests": {"md5": "7ad481c13094605887c598a8314ba67e", "sha256": "41370c32823e54399c90627be052eb53ef2d85e837ea566c4426392b396b8b03"}, "downloads": -1, "filename": "pynndb-0.9.4.tar.gz", "has_sig": false, "md5_digest": "7ad481c13094605887c598a8314ba67e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 26943, "upload_time": "2018-01-12T11:49:17", "upload_time_iso_8601": "2018-01-12T11:49:17.219725Z", "url": "https://files.pythonhosted.org/packages/39/29/0526730a9bbc329cd421d18b1c0640832ceb604545b8ca1c7d9138217d77/pynndb-0.9.4.tar.gz", "yanked": false}], "0.9.5": [{"comment_text": "", "digests": {"md5": "97ab9960851c9e538f5ba39b3bbd74c9", "sha256": "27cb0573a40c9aa76b658c33d7585e192cdd973d155ac939245f456775ab4615"}, "downloads": -1, "filename": "pynndb-0.9.5.tar.gz", "has_sig": false, "md5_digest": "97ab9960851c9e538f5ba39b3bbd74c9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 27114, "upload_time": "2018-01-12T11:59:07", "upload_time_iso_8601": "2018-01-12T11:59:07.483321Z", "url": "https://files.pythonhosted.org/packages/82/36/effed765e42d2814f91ec7c8b863f6f773c8902923b3e7510a9b9611a2a0/pynndb-0.9.5.tar.gz", "yanked": false}], "0.9.6": [{"comment_text": "", "digests": {"md5": "0ade207f23e87bfe234e5ccb7782633d", "sha256": "4a270c4bad6dd805272745ae2507bcb32ac2bcdd4c2963d6182b1aadc5188967"}, "downloads": -1, "filename": "pynndb-0.9.6.tar.gz", "has_sig": false, "md5_digest": "0ade207f23e87bfe234e5ccb7782633d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 26960, "upload_time": "2018-01-12T12:30:55", "upload_time_iso_8601": "2018-01-12T12:30:55.864525Z", "url": "https://files.pythonhosted.org/packages/30/5f/ef698cc020980dd7b58e66ce42fe12a3361bf429e07b23fe5b61b29f9561/pynndb-0.9.6.tar.gz", "yanked": false}], "0.9.7": [{"comment_text": "", "digests": {"md5": "8a24c511841fa25e6d522a1583cb9382", "sha256": "98a9032529fcca0cb8d7fb9918dd4092f3521a713e4ddfc13078ff13bd281825"}, "downloads": -1, "filename": "pynndb-0.9.7.tar.gz", "has_sig": false, "md5_digest": "8a24c511841fa25e6d522a1583cb9382", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 26928, "upload_time": "2018-02-16T00:47:05", "upload_time_iso_8601": "2018-02-16T00:47:05.420545Z", "url": "https://files.pythonhosted.org/packages/91/8e/e74cef38b7bbee82c845dcd07641e2619a4fab0b3225dcb9f337d263404b/pynndb-0.9.7.tar.gz", "yanked": false}], "0.9.8": [{"comment_text": "", "digests": {"md5": "ce651305cfe89a744fc8500834f86363", "sha256": "aed07ef8b88ea852121db03ea7b0977f4e8a1d0538a97d8a2e7fa40ad4ec02fb"}, "downloads": -1, "filename": "pynndb-0.9.8.tar.gz", "has_sig": false, "md5_digest": "ce651305cfe89a744fc8500834f86363", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 26930, "upload_time": "2018-03-03T12:36:15", "upload_time_iso_8601": "2018-03-03T12:36:15.993806Z", "url": "https://files.pythonhosted.org/packages/1c/c3/3d972ddc51cf5c0ac4a90aa4c6c15542a7654a6127164ff6dd7802e5eafb/pynndb-0.9.8.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "d219a5c1b5dd403534551b8027b398a3", "sha256": "7c24f94ed0aa93949edbbae5a3adc97bb4ac141095159721715ff2f382903807"}, "downloads": -1, "filename": "pynndb-1.0.0.tar.gz", "has_sig": false, "md5_digest": "d219a5c1b5dd403534551b8027b398a3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36064, "upload_time": "2019-05-12T00:21:27", "upload_time_iso_8601": "2019-05-12T00:21:27.307112Z", "url": "https://files.pythonhosted.org/packages/e7/e2/6f94e16602e451cfc847b71170345824260ee4d69e7a6cba1a7c149dfd89/pynndb-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "e4400f3fe93c90c42b071ee1ffe1a3a7", "sha256": "b117f60386f521f9057d66983743be06afa3c4cb3c45f7f1586bca7b2d3746dd"}, "downloads": -1, "filename": "pynndb-1.0.1.tar.gz", "has_sig": false, "md5_digest": "e4400f3fe93c90c42b071ee1ffe1a3a7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36087, "upload_time": "2019-06-06T13:12:00", "upload_time_iso_8601": "2019-06-06T13:12:00.747537Z", "url": "https://files.pythonhosted.org/packages/e3/43/8c672c14d1778876bd3242ba62ee810158c9148c8dd3710ac095cd6cae72/pynndb-1.0.1.tar.gz", "yanked": false}], "1.0.10": [{"comment_text": "", "digests": {"md5": "2e70fe51325c5f219d9dccbce181b750", "sha256": "0a1072b917b9f9d745a854b746fe8613d59c22dc5c13d6e680ee0f5ada4de782"}, "downloads": -1, "filename": "pynndb-1.0.10.tar.gz", "has_sig": false, "md5_digest": "2e70fe51325c5f219d9dccbce181b750", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36382, "upload_time": "2019-07-05T17:35:40", "upload_time_iso_8601": "2019-07-05T17:35:40.320690Z", "url": "https://files.pythonhosted.org/packages/da/19/a081dd72ef5e00df4c54fcdfce5d3b7467fa404255d19254dd6605f07da1/pynndb-1.0.10.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "b3a8b48f10430f5cfa6ee048255a498e", "sha256": "3c275cc90164b040c59f926960dad724353f288c359ce307ab051b7df40ad770"}, "downloads": -1, "filename": "pynndb-1.0.2.tar.gz", "has_sig": false, "md5_digest": "b3a8b48f10430f5cfa6ee048255a498e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36120, "upload_time": "2019-06-07T22:47:45", "upload_time_iso_8601": "2019-06-07T22:47:45.846707Z", "url": "https://files.pythonhosted.org/packages/59/20/052234e77898f43cbf869da7e482849a0a104f1fe576d93db8e510bb0514/pynndb-1.0.2.tar.gz", "yanked": false}], "1.0.3": [{"comment_text": "", "digests": {"md5": "6cb22d8cab6035f446717c6fedcbbcef", "sha256": "f14d83b636be1ba7ef7f66dd7c45bf5a200b70747891eba2e4e4d4d679c04153"}, "downloads": -1, "filename": "pynndb-1.0.3.tar.gz", "has_sig": false, "md5_digest": "6cb22d8cab6035f446717c6fedcbbcef", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36123, "upload_time": "2019-06-07T22:57:28", "upload_time_iso_8601": "2019-06-07T22:57:28.947434Z", "url": "https://files.pythonhosted.org/packages/77/16/c5ad6ea0e2a5461a049f84e4ba4da80a8be27900abcdd4a63bf25290737e/pynndb-1.0.3.tar.gz", "yanked": false}], "1.0.4": [{"comment_text": "", "digests": {"md5": "1a88df34049821b8480b2ca730d3db6d", "sha256": "3dd3148e1e02c67908b963f5bc97b4c4a656d8090c9c22313b1f86c6dcfda3d8"}, "downloads": -1, "filename": "pynndb-1.0.4.tar.gz", "has_sig": false, "md5_digest": "1a88df34049821b8480b2ca730d3db6d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36137, "upload_time": "2019-06-08T11:49:48", "upload_time_iso_8601": "2019-06-08T11:49:48.940517Z", "url": "https://files.pythonhosted.org/packages/68/aa/d9e21a42fbdf676200432a9523c877b604f83ee3a2a4039b68dea6ccd77a/pynndb-1.0.4.tar.gz", "yanked": false}], "1.0.5": [{"comment_text": "", "digests": {"md5": "f76ff9586c5015e936312098ac36ade1", "sha256": "0aa2ab6813c3575b80f82797512946c7724ed7711538798b844acccc7b1831d3"}, "downloads": -1, "filename": "pynndb-1.0.5.tar.gz", "has_sig": false, "md5_digest": "f76ff9586c5015e936312098ac36ade1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36140, "upload_time": "2019-06-08T15:31:07", "upload_time_iso_8601": "2019-06-08T15:31:07.880689Z", "url": "https://files.pythonhosted.org/packages/ca/58/0abbc62046709646a5146a1f5f99baeb5bb639cbd47bc423e88678f90591/pynndb-1.0.5.tar.gz", "yanked": false}], "1.0.6": [{"comment_text": "", "digests": {"md5": "76503840d79a28c848eaf99413008b38", "sha256": "1e45955a773c2e9cd5039d14581a60ab2721e28209704ef1c8b9b5d9c7d3eabc"}, "downloads": -1, "filename": "pynndb-1.0.6.tar.gz", "has_sig": false, "md5_digest": "76503840d79a28c848eaf99413008b38", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36133, "upload_time": "2019-06-09T15:34:24", "upload_time_iso_8601": "2019-06-09T15:34:24.462912Z", "url": "https://files.pythonhosted.org/packages/cd/1d/c02354c7c9f62a7bc5db46ed66b2c332fe73775f270cef8f22546b2602c2/pynndb-1.0.6.tar.gz", "yanked": false}], "1.0.7": [{"comment_text": "", "digests": {"md5": "872236c09b280e4ae66692f31b0e4bc8", "sha256": "d6c9c3513dcc9a734a43058e46f7fafeafcf2675abf6473fa5ffdbfd8494f185"}, "downloads": -1, "filename": "pynndb-1.0.7.tar.gz", "has_sig": false, "md5_digest": "872236c09b280e4ae66692f31b0e4bc8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36119, "upload_time": "2019-06-09T16:55:18", "upload_time_iso_8601": "2019-06-09T16:55:18.763294Z", "url": "https://files.pythonhosted.org/packages/1f/d9/358bd4cdd1ee47e576d53d1bb6f2750ea1af15e9c4a014ba1581bf1d72de/pynndb-1.0.7.tar.gz", "yanked": false}], "1.0.8": [{"comment_text": "", "digests": {"md5": "c97b1a9f068a523f82432bce298f6801", "sha256": "484996267596a01e320be2fe97a8d3295ecafda20013c3b2376e82a2aa7bcb45"}, "downloads": -1, "filename": "pynndb-1.0.8.tar.gz", "has_sig": false, "md5_digest": "c97b1a9f068a523f82432bce298f6801", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36117, "upload_time": "2019-06-11T10:00:47", "upload_time_iso_8601": "2019-06-11T10:00:47.400428Z", "url": "https://files.pythonhosted.org/packages/c7/9c/67283f9146404ad8175ae7c89aaa08b79126bc1984823418e104a161baa4/pynndb-1.0.8.tar.gz", "yanked": false}], "1.0.9": [{"comment_text": "", "digests": {"md5": "df88abe6ea08eca4226fcfe7ca66c60e", "sha256": "39fbd08a21caad2a3d967ac8fea3948403254a9dbfbcfe683210bd33b7f8141c"}, "downloads": -1, "filename": "pynndb-1.0.9.tar.gz", "has_sig": false, "md5_digest": "df88abe6ea08eca4226fcfe7ca66c60e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 36242, "upload_time": "2019-06-13T10:46:15", "upload_time_iso_8601": "2019-06-13T10:46:15.911606Z", "url": "https://files.pythonhosted.org/packages/60/f7/5dfed231d5a85aaaac5873e69fd293ebc2cdaf3386f6ea3febed5fa041c4/pynndb-1.0.9.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "689c19b13568d2a0315c2d927e4d9357", "sha256": "ba56b5f44c22b2de9d6694b89a343588d45ca9a4ab2e352f0b68c26149fa8e39"}, "downloads": -1, "filename": "pynndb-1.1.0.tar.gz", "has_sig": false, "md5_digest": "689c19b13568d2a0315c2d927e4d9357", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30044, "upload_time": "2019-12-07T13:51:01", "upload_time_iso_8601": "2019-12-07T13:51:01.349613Z", "url": "https://files.pythonhosted.org/packages/f3/75/e89c9b3f4174261ca53240280c805dab723b5eeee0bf97f5a57818aa6c15/pynndb-1.1.0.tar.gz", "yanked": false}], "1.1.1": [{"comment_text": "", "digests": {"md5": "f5cd586db5ba4e908eb0df3bbce08d64", "sha256": "148dbf91975e9a43ca13d2335f6b3de0973af0ec7f399e08eb3a49f54facfe46"}, "downloads": -1, "filename": "pynndb-1.1.1.tar.gz", "has_sig": false, "md5_digest": "f5cd586db5ba4e908eb0df3bbce08d64", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30071, "upload_time": "2019-12-07T13:55:33", "upload_time_iso_8601": "2019-12-07T13:55:33.125288Z", "url": "https://files.pythonhosted.org/packages/62/a0/680efc6b748d5ea8d20ae158f574c2c458436d43687f7db2f1d3e99acacc/pynndb-1.1.1.tar.gz", "yanked": false}], "1.1.2": [{"comment_text": "", "digests": {"md5": "b42d422a1e301ad5558c85e85d911e3e", "sha256": "1daa89d0aeb33ce1d40219663853f301c613624781f2c0c3d59b74afecdf8870"}, "downloads": -1, "filename": "pynndb-1.1.2.tar.gz", "has_sig": false, "md5_digest": "b42d422a1e301ad5558c85e85d911e3e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30079, "upload_time": "2019-12-07T13:58:06", "upload_time_iso_8601": "2019-12-07T13:58:06.239729Z", "url": "https://files.pythonhosted.org/packages/31/74/472be1bc688ff5fbeaaabfa44e381bf7decaeae9fd42dc23d23d867724aa/pynndb-1.1.2.tar.gz", "yanked": false}], "1.1.3": [{"comment_text": "", "digests": {"md5": "619ef21757a62f0d752530280957f9ad", "sha256": "a391b7d8552a46e69d94ff385ad4c14e7de50cbb9b011280df15a0c6f27241d8"}, "downloads": -1, "filename": "pynndb-1.1.3.tar.gz", "has_sig": false, "md5_digest": "619ef21757a62f0d752530280957f9ad", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30124, "upload_time": "2019-12-07T14:09:42", "upload_time_iso_8601": "2019-12-07T14:09:42.191773Z", "url": "https://files.pythonhosted.org/packages/6e/e9/48ab72bf8da343bd49391f8ce7e32c5e611cc17c95c7b3db9d7fc20de4d4/pynndb-1.1.3.tar.gz", "yanked": false}], "1.1.4": [{"comment_text": "", "digests": {"md5": "73664ae5460c63dbcfd8e69b0e18637f", "sha256": "42774b3e4951879526e1446248bd1617e7c55b853d94793de688e8833aa368c2"}, "downloads": -1, "filename": "pynndb-1.1.4.tar.gz", "has_sig": false, "md5_digest": "73664ae5460c63dbcfd8e69b0e18637f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30083, "upload_time": "2019-12-07T14:12:53", "upload_time_iso_8601": "2019-12-07T14:12:53.938805Z", "url": "https://files.pythonhosted.org/packages/96/a5/61257d2fcede073083812ca365fba37eb2236158caa39748e07eda32c894/pynndb-1.1.4.tar.gz", "yanked": false}], "1.1.5": [{"comment_text": "", "digests": {"md5": "c065455d277eaf5a4280aac181a58704", "sha256": "d93daa0de0b72b6ab73f74f9f5b75a4a35a75676f01cab70aaf516d6df5cffe8"}, "downloads": -1, "filename": "pynndb-1.1.5.tar.gz", "has_sig": false, "md5_digest": "c065455d277eaf5a4280aac181a58704", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30269, "upload_time": "2019-12-08T14:49:58", "upload_time_iso_8601": "2019-12-08T14:49:58.754126Z", "url": "https://files.pythonhosted.org/packages/90/7f/de33678db9bf74e6564db38a0cfe82336cd5ef32101b6a742aba217aaa72/pynndb-1.1.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "c065455d277eaf5a4280aac181a58704", "sha256": "d93daa0de0b72b6ab73f74f9f5b75a4a35a75676f01cab70aaf516d6df5cffe8"}, "downloads": -1, "filename": "pynndb-1.1.5.tar.gz", "has_sig": false, "md5_digest": "c065455d277eaf5a4280aac181a58704", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30269, "upload_time": "2019-12-08T14:49:58", "upload_time_iso_8601": "2019-12-08T14:49:58.754126Z", "url": "https://files.pythonhosted.org/packages/90/7f/de33678db9bf74e6564db38a0cfe82336cd5ef32101b6a742aba217aaa72/pynndb-1.1.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:01:08 2020"}
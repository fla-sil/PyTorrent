{"info": {"author": "Ilja Everil\u00e4", "author_email": "saarni@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3"], "description": "furnish\n=======\n\nCreate HTTP API clients from Python. Inspired by Retrofit_.\n\n.. code:: python\n\n    >>> import furnish\n\n    >>> class FakeService:\n    ...\n    ...     @furnish.get(\"/posts\")\n    ...     def all_posts(user_id: furnish.Query(Optional[int], \"userId\")=None): pass\n    ...\n    ...     @furnish.post(\"/posts\")\n    ...     def create_post(post: furnish.Body(dict)): pass\n    ...\n    ...     @furnish.post(\"/posts\")\n    ...     def create_post_json(post: furnish.Json()):\n    ...         \"\"\"\n    ...         Create a new post. Encode request data as JSON.\n    ...         \"\"\"\n    ...\n    ...     @furnish.get(\"/posts/{id}\")\n    ...     def get_post(id: furnish.Path(int)): pass\n    ...\n    ...     @furnish.put(\"/posts/{id}\")\n    ...     def replace_post(id: furnish.Path(int),\n    ...                      post: furnish.Body(dict)): pass\n    ...\n    ...     @furnish.patch(\"/posts/{id}\")\n    ...     def update_post(id: furnish.Path(int),\n    ...                     post: furnish.Body(dict)): pass\n    ...\n    ...     @furnish.delete(\"/posts/{id}\")\n    ...     def remove_post(id: furnish.Path(int)): pass\n    ...\n    ...     @furnish.get(\"/comments\")\n    ...     def comments(post_id: furnish.Query(int, \"postId\")): pass\n    ...\n\n    >>> service = furnish.create(FakeService, \"https://jsonplaceholder.typicode.com\")\n\n    >>> service.all_posts(user_id=2).json()\n    [{'userId': 2,\n      'body': 'delectus reiciendis molestiae occaecati non minima eveniet qui voluptatibus\\naccusamus in eum beatae sit\\nvel qui neque voluptates ut commodi qui incidunt\\nut animi commodi',\n      'title': 'et ea vero quia laudantium autem',\n      'id': 11},\n      ...\n\n    >>> service.update_post(1, { 'title': 'New title' }).json()\n    {'title': 'New title',\n     'id': 1,\n     'userId': 1,\n     'body': 'quia et suscipit\\nsuscipit recusandae consequuntur expedita et cum\\nreprehenderit molestiae ut ut quas totam\\nnostrum rerum est autem sunt rem eveniet architecto'}\n\nSupports simple deserialization of response bodies to Python objects:\n\n.. code:: python\n\n    >>> import furnish\n\n    >>> class Post:\n    ...     def __item__(self, *, id, title, body, userId):\n    ...         self.id = id\n    ...         self.title = title\n    ...         self.body = body\n    ...         self.userId = userId\n    ...\n\n    >>> class FakeService:\n    ...     @furnish.get(\"/posts/{id}\")\n    ...     def get_post(id: furnish.Path(int)) -> furnish.Response[Post]: pass\n    ...\n\n    >>> service = furnish.create(FakeService, \"https://jsonplaceholder.typicode.com\")\n\n    >>> service.get_post(1).body()\n    <__main__.Post object at 0x7f01ef00b208>\n\n    >>> _.title\n    'sunt aut facere repellat provident occaecati excepturi optio reprehenderit'\n\nTODO\n----\n\n-  Serialize according to annotations\n\nLicense\n-------\n\nThis package is licensed under the OSI MIT License.\n\n.. _Retrofit: http://square.github.io/retrofit/", "description_content_type": "", "docs_url": null, "download_url": "https://github.com/everilae/furnish/archive/v0.2.1.tar.gz", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/everilae/furnish", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "furnish", "package_url": "https://pypi.org/project/furnish/", "platform": "", "project_url": "https://pypi.org/project/furnish/", "project_urls": {"Download": "https://github.com/everilae/furnish/archive/v0.2.1.tar.gz", "Homepage": "https://github.com/everilae/furnish"}, "release_url": "https://pypi.org/project/furnish/0.2.1/", "requires_dist": null, "requires_python": "", "summary": "Create HTTP API clients from Python.", "version": "0.2.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Create HTTP API clients from Python. Inspired by <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow\">Retrofit</a>.</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">import</span> <span class=\"nn\">furnish</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">class</span> <span class=\"nc\">FakeService</span><span class=\"p\">:</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span>     <span class=\"nd\">@furnish</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/posts\"</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>     <span class=\"k\">def</span> <span class=\"nf\">all_posts</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Query</span><span class=\"p\">(</span><span class=\"n\">Optional</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">],</span> <span class=\"s2\">\"userId\"</span><span class=\"p\">)</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span> <span class=\"k\">pass</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span>     <span class=\"nd\">@furnish</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span><span class=\"s2\">\"/posts\"</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>     <span class=\"k\">def</span> <span class=\"nf\">create_post</span><span class=\"p\">(</span><span class=\"n\">post</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Body</span><span class=\"p\">(</span><span class=\"nb\">dict</span><span class=\"p\">)):</span> <span class=\"k\">pass</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span>     <span class=\"nd\">@furnish</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span><span class=\"s2\">\"/posts\"</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>     <span class=\"k\">def</span> <span class=\"nf\">create_post_json</span><span class=\"p\">(</span><span class=\"n\">post</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Json</span><span class=\"p\">()):</span>\n<span class=\"o\">...</span>         <span class=\"s2\">\"\"\"\n...         Create a new post. Encode request data as JSON.\n...         \"\"\"</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span>     <span class=\"nd\">@furnish</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/posts/</span><span class=\"si\">{id}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>     <span class=\"k\">def</span> <span class=\"nf\">get_post</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Path</span><span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">)):</span> <span class=\"k\">pass</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span>     <span class=\"nd\">@furnish</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"s2\">\"/posts/</span><span class=\"si\">{id}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>     <span class=\"k\">def</span> <span class=\"nf\">replace_post</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Path</span><span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">),</span>\n<span class=\"o\">...</span>                      <span class=\"n\">post</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Body</span><span class=\"p\">(</span><span class=\"nb\">dict</span><span class=\"p\">)):</span> <span class=\"k\">pass</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span>     <span class=\"nd\">@furnish</span><span class=\"o\">.</span><span class=\"n\">patch</span><span class=\"p\">(</span><span class=\"s2\">\"/posts/</span><span class=\"si\">{id}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>     <span class=\"k\">def</span> <span class=\"nf\">update_post</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Path</span><span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">),</span>\n<span class=\"o\">...</span>                     <span class=\"n\">post</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Body</span><span class=\"p\">(</span><span class=\"nb\">dict</span><span class=\"p\">)):</span> <span class=\"k\">pass</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span>     <span class=\"nd\">@furnish</span><span class=\"o\">.</span><span class=\"n\">delete</span><span class=\"p\">(</span><span class=\"s2\">\"/posts/</span><span class=\"si\">{id}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>     <span class=\"k\">def</span> <span class=\"nf\">remove_post</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Path</span><span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">)):</span> <span class=\"k\">pass</span>\n<span class=\"o\">...</span>\n<span class=\"o\">...</span>     <span class=\"nd\">@furnish</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/comments\"</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>     <span class=\"k\">def</span> <span class=\"nf\">comments</span><span class=\"p\">(</span><span class=\"n\">post_id</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Query</span><span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"s2\">\"postId\"</span><span class=\"p\">)):</span> <span class=\"k\">pass</span>\n<span class=\"o\">...</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">service</span> <span class=\"o\">=</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">FakeService</span><span class=\"p\">,</span> <span class=\"s2\">\"https://jsonplaceholder.typicode.com\"</span><span class=\"p\">)</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">service</span><span class=\"o\">.</span><span class=\"n\">all_posts</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n<span class=\"p\">[{</span><span class=\"s1\">'userId'</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">,</span>\n  <span class=\"s1\">'body'</span><span class=\"p\">:</span> <span class=\"s1\">'delectus reiciendis molestiae occaecati non minima eveniet qui voluptatibus</span><span class=\"se\">\\n</span><span class=\"s1\">accusamus in eum beatae sit</span><span class=\"se\">\\n</span><span class=\"s1\">vel qui neque voluptates ut commodi qui incidunt</span><span class=\"se\">\\n</span><span class=\"s1\">ut animi commodi'</span><span class=\"p\">,</span>\n  <span class=\"s1\">'title'</span><span class=\"p\">:</span> <span class=\"s1\">'et ea vero quia laudantium autem'</span><span class=\"p\">,</span>\n  <span class=\"s1\">'id'</span><span class=\"p\">:</span> <span class=\"mi\">11</span><span class=\"p\">},</span>\n  <span class=\"o\">...</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">service</span><span class=\"o\">.</span><span class=\"n\">update_post</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"p\">{</span> <span class=\"s1\">'title'</span><span class=\"p\">:</span> <span class=\"s1\">'New title'</span> <span class=\"p\">})</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n<span class=\"p\">{</span><span class=\"s1\">'title'</span><span class=\"p\">:</span> <span class=\"s1\">'New title'</span><span class=\"p\">,</span>\n <span class=\"s1\">'id'</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n <span class=\"s1\">'userId'</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n <span class=\"s1\">'body'</span><span class=\"p\">:</span> <span class=\"s1\">'quia et suscipit</span><span class=\"se\">\\n</span><span class=\"s1\">suscipit recusandae consequuntur expedita et cum</span><span class=\"se\">\\n</span><span class=\"s1\">reprehenderit molestiae ut ut quas totam</span><span class=\"se\">\\n</span><span class=\"s1\">nostrum rerum est autem sunt rem eveniet architecto'</span><span class=\"p\">}</span>\n</pre>\n<p>Supports simple deserialization of response bodies to Python objects:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">import</span> <span class=\"nn\">furnish</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">class</span> <span class=\"nc\">Post</span><span class=\"p\">:</span>\n<span class=\"o\">...</span>     <span class=\"k\">def</span> <span class=\"nf\">__item__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"p\">,</span> <span class=\"nb\">id</span><span class=\"p\">,</span> <span class=\"n\">title</span><span class=\"p\">,</span> <span class=\"n\">body</span><span class=\"p\">,</span> <span class=\"n\">userId</span><span class=\"p\">):</span>\n<span class=\"o\">...</span>         <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">=</span> <span class=\"nb\">id</span>\n<span class=\"o\">...</span>         <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">title</span>\n<span class=\"o\">...</span>         <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">body</span> <span class=\"o\">=</span> <span class=\"n\">body</span>\n<span class=\"o\">...</span>         <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">userId</span> <span class=\"o\">=</span> <span class=\"n\">userId</span>\n<span class=\"o\">...</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">class</span> <span class=\"nc\">FakeService</span><span class=\"p\">:</span>\n<span class=\"o\">...</span>     <span class=\"nd\">@furnish</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/posts/</span><span class=\"si\">{id}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>     <span class=\"k\">def</span> <span class=\"nf\">get_post</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"p\">:</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Path</span><span class=\"p\">(</span><span class=\"nb\">int</span><span class=\"p\">))</span> <span class=\"o\">-&gt;</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">Response</span><span class=\"p\">[</span><span class=\"n\">Post</span><span class=\"p\">]:</span> <span class=\"k\">pass</span>\n<span class=\"o\">...</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">service</span> <span class=\"o\">=</span> <span class=\"n\">furnish</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">FakeService</span><span class=\"p\">,</span> <span class=\"s2\">\"https://jsonplaceholder.typicode.com\"</span><span class=\"p\">)</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">service</span><span class=\"o\">.</span><span class=\"n\">get_post</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">body</span><span class=\"p\">()</span>\n<span class=\"o\">&lt;</span><span class=\"n\">__main__</span><span class=\"o\">.</span><span class=\"n\">Post</span> <span class=\"nb\">object</span> <span class=\"n\">at</span> <span class=\"mh\">0x7f01ef00b208</span><span class=\"o\">&gt;</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">_</span><span class=\"o\">.</span><span class=\"n\">title</span>\n<span class=\"s1\">'sunt aut facere repellat provident occaecati excepturi optio reprehenderit'</span>\n</pre>\n<div id=\"todo\">\n<h2>TODO</h2>\n<ul>\n<li>Serialize according to annotations</li>\n</ul>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>This package is licensed under the OSI MIT License.</p>\n</div>\n\n          </div>"}, "last_serial": 4208756, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "5395702895a5a06c8c0b16f977b2c5f5", "sha256": "30529fd204e20c5e9fdce2463aa5dc86af6ea0aac596c8db5a245571177cd266"}, "downloads": -1, "filename": "furnish-0.1.0.tar.gz", "has_sig": false, "md5_digest": "5395702895a5a06c8c0b16f977b2c5f5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3271, "upload_time": "2017-05-23T09:41:28", "upload_time_iso_8601": "2017-05-23T09:41:28.489460Z", "url": "https://files.pythonhosted.org/packages/3b/22/f631c2d8ca468af930f48dc24cbd393715dc7c9c3361f3f70ef85b47bc9f/furnish-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "4113f49d69fcd1abc6393f0e4f67716c", "sha256": "9b23f67c25ae68c5174d1f07782d5ca1a5621909d3b6d055f131d5bb6a16192f"}, "downloads": -1, "filename": "furnish-0.1.1.tar.gz", "has_sig": false, "md5_digest": "4113f49d69fcd1abc6393f0e4f67716c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3284, "upload_time": "2017-05-23T09:51:56", "upload_time_iso_8601": "2017-05-23T09:51:56.407776Z", "url": "https://files.pythonhosted.org/packages/de/3d/2e90e000811157bb0d417d25152b61d432481cb7337491d2f5ab896d3da8/furnish-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "c36321b9900e3095086cd5193d59012a", "sha256": "adb0f12b5687c61c08caa7e240439b952ca5481919ef8b6ae66991561f2a1705"}, "downloads": -1, "filename": "furnish-0.1.2.tar.gz", "has_sig": false, "md5_digest": "c36321b9900e3095086cd5193d59012a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4296, "upload_time": "2017-05-23T13:30:35", "upload_time_iso_8601": "2017-05-23T13:30:35.391198Z", "url": "https://files.pythonhosted.org/packages/37/13/060ff4371c8e201b777fe4f908d764359222badbd270d73be0b31f0c62a1/furnish-0.1.2.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "be12a36237350c3886c31cfeddd90c55", "sha256": "5775b320430990b0732b68ca7f7d280ef61a51c7dcbc1fdb58bfba0c4e6866e7"}, "downloads": -1, "filename": "furnish-0.2.0.tar.gz", "has_sig": false, "md5_digest": "be12a36237350c3886c31cfeddd90c55", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4492, "upload_time": "2017-05-24T20:59:42", "upload_time_iso_8601": "2017-05-24T20:59:42.318354Z", "url": "https://files.pythonhosted.org/packages/33/8a/a0eaa7de273ba370a3a5ed879c498161306df0dbce52777f99ae6db9b810/furnish-0.2.0.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "ef87fbb8dce8344a56b3397fc5857d1e", "sha256": "518e6963882fe83792d182899e1aa67549cf92dec4ba5136be27639e3233c041"}, "downloads": -1, "filename": "furnish-0.2.1.tar.gz", "has_sig": false, "md5_digest": "ef87fbb8dce8344a56b3397fc5857d1e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7837, "upload_time": "2018-08-26T17:27:47", "upload_time_iso_8601": "2018-08-26T17:27:47.920639Z", "url": "https://files.pythonhosted.org/packages/f4/09/03acb671b41c5cf023bc1cb60500fb08a3f68ad1b148ff417b88fcc3c5d5/furnish-0.2.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ef87fbb8dce8344a56b3397fc5857d1e", "sha256": "518e6963882fe83792d182899e1aa67549cf92dec4ba5136be27639e3233c041"}, "downloads": -1, "filename": "furnish-0.2.1.tar.gz", "has_sig": false, "md5_digest": "ef87fbb8dce8344a56b3397fc5857d1e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7837, "upload_time": "2018-08-26T17:27:47", "upload_time_iso_8601": "2018-08-26T17:27:47.920639Z", "url": "https://files.pythonhosted.org/packages/f4/09/03acb671b41c5cf023bc1cb60500fb08a3f68ad1b148ff417b88fcc3c5d5/furnish-0.2.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:59:36 2020"}
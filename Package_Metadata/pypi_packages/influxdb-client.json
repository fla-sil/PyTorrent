{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Database", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "influxdb-client-python\n======================\n\n.. marker-index-start\n\n.. image:: https://circleci.com/gh/influxdata/influxdb-client-python.svg?style=svg\n   :target: https://circleci.com/gh/influxdata/influxdb-client-python\n   :alt: CircleCI\n\n\n.. image:: https://codecov.io/gh/influxdata/influxdb-client-python/branch/master/graph/badge.svg\n   :target: https://codecov.io/gh/influxdata/influxdb-client-python\n   :alt: codecov\n\n.. image:: https://img.shields.io/circleci/project/github/influxdata/influxdb-client-python/master.svg\n   :target: https://circleci.com/gh/influxdata/influxdb-client-python\n   :alt: CI status\n\n.. image:: https://img.shields.io/pypi/v/influxdb-client.svg\n   :target: https://pypi.org/project/influxdb-client/\n   :alt: PyPI package\n\n.. image:: https://img.shields.io/pypi/pyversions/influxdb-client.svg\n   :target: https://pypi.python.org/pypi/influxdb-client\n   :alt: Supported Python versions\n\n.. image:: https://readthedocs.org/projects/influxdb-client/badge/?version=latest\n   :target: https://influxdb-client.readthedocs.io/en/latest/?badge=latest\n   :alt: Documentation status\n\n.. image:: https://img.shields.io/badge/slack-join_chat-white.svg?logo=slack&style=social\n   :target: https://www.influxdata.com/slack\n   :alt: Slack Status\n\n.. _documentation: https://influxdb-client.readthedocs.io\n\nInfluxDB 2.0 python client library.\n\n**Note: Use this client library with InfluxDB 2.x and InfluxDB 1.8+. For connecting to InfluxDB 1.7 or earlier instances, use the `influxdb-python <https://github.com/influxdata/influxdb-python>`_ client library.**\n\nInfluxDB 2.0 client features\n----------------------------\n\n- Querying data\n    - using the Flux language\n    - into csv, raw data, `flux_table <https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/flux_table.py#L5>`_ structure, `Pandas DataFrame <https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html>`_\n    - `How to queries <#queries>`_\n- Writing data using\n    - `Line Protocol <https://docs.influxdata.com/influxdb/v1.6/write_protocols/line_protocol_tutorial>`_\n    - `Data Point <https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/write/point.py#L16>`__\n    - `RxPY <https://rxpy.readthedocs.io/en/latest/>`__ Observable\n    - `How to writes <#writes>`_\n- `InfluxDB 2.0 API <https://github.com/influxdata/influxdb/blob/master/http/swagger.yml>`_ client for management\n    - the client is generated from the `swagger <https://github.com/influxdata/influxdb/blob/master/http/swagger.yml>`_ by using the `openapi-generator <https://github.com/OpenAPITools/openapi-generator>`_\n    - organizations & users management\n    - buckets management\n    - tasks management\n    - authorizations\n    - health check\n    - ...\n- `InfluxDB 1.8 API compatibility`_\n- Examples\n    - `Connect to InfluxDB Cloud`_\n    - `How to efficiently import large dataset`_\n    - `Efficiency write data from IOT sensor`_\n    - `How to use Jupyter + Pandas + InfluxDB 2`_\n\nInstallation\n------------\n.. marker-install-start\n\nInfluxDB python library uses `RxPY <https://github.com/ReactiveX/RxPY>`__ - The Reactive Extensions for Python (RxPY).\n\n**Python 3.6** or later is required.\n\n.. note::\n\n    The client uses ``ciso8601`` for parsing dates. ``ciso8601`` is much faster than built-in Python datetime. Since it's written as a ``C`` module the best way is build it from sources:\n\n    **Windows**:\n\n    You have to install `Visual C++ Build Tools 2015 <http://go.microsoft.com/fwlink/?LinkId=691126&fixForIE=.exe>`_ to build ``ciso8601`` by ``pip``.\n\n    **conda**:\n\n    Install from sources: ``conda install -c conda-forge/label/cf202003 ciso8601``.\n\npip install\n^^^^^^^^^^^\n\nThe python package is hosted on `PyPI <https://pypi.org/project/influxdb-client/>`_, you can install latest version directly:\n\n.. code-block:: sh\n\n   pip install influxdb-client\n\nThen import the package:\n\n.. code-block:: python\n\n   import influxdb_client\n\nSetuptools\n^^^^^^^^^^\n\nInstall via `Setuptools <http://pypi.python.org/pypi/setuptools>`_.\n\n.. code-block:: sh\n\n   python setup.py install --user\n\n(or ``sudo python setup.py install`` to install the package for all users)\n\n.. marker-install-end\n\nGetting Started\n---------------\n\nPlease follow the `Installation`_ and then run the following:\n\n.. marker-query-start\n\n.. code-block:: python\n\n   from influxdb_client import InfluxDBClient, Point\n   from influxdb_client.client.write_api import SYNCHRONOUS\n\n   bucket = \"my-bucket\"\n\n   client = InfluxDBClient(url=\"http://localhost:9999\", token=\"my-token\", org=\"my-org\")\n\n   write_api = client.write_api(write_options=SYNCHRONOUS)\n   query_api = client.query_api()\n\n   p = Point(\"my_measurement\").tag(\"location\", \"Prague\").field(\"temperature\", 25.3)\n\n   write_api.write(bucket=bucket, record=p)\n\n   ## using Table structure\n   tables = query_api.query('from(bucket:\"my-bucket\") |> range(start: -10m)')\n\n   for table in tables:\n       print(table)\n       for row in table.records:\n           print (row.values)\n\n\n   ## using csv library\n   csv_result = query_api.query_csv('from(bucket:\"my-bucket\") |> range(start: -10m)')\n   val_count = 0\n   for row in csv_result:\n       for cell in row:\n           val_count += 1\n\n\n.. marker-query-end\n\nClient configuration\n--------------------\n\nVia File\n^^^^^^^^\nA client can be configured via ``*.ini`` file in segment ``influx2``.\n\nThe following options are supported:\n\n- ``url`` - the url to connect to InfluxDB\n- ``org`` - default destination organization for writes and queries\n- ``token`` - the token to use for the authorization\n- ``timeout`` - socket timeout in ms (default value is 10000)\n\n.. code-block:: python\n\n    self.client = InfluxDBClient.from_config_file(\"config.ini\")\n\n.. code-block::\n\n    [influx2]\n    url=http://localhost:9999\n    org=my-org\n    token=my-token\n    timeout=6000\n\nVia Environment Properties\n^^^^^^^^^^^^^^^^^^^^^^^^^^\nA client can be configured via environment properties.\n\nSupported properties are:\n\n- ``INFLUXDB_V2_URL`` - the url to connect to InfluxDB\n- ``INFLUXDB_V2_ORG`` - default destination organization for writes and queries\n- ``INFLUXDB_V2_TOKEN`` - the token to use for the authorization\n- ``INFLUXDB_V2_TIMEOUT`` - socket timeout in ms (default value is 10000)\n\n.. code-block:: python\n\n    self.client = InfluxDBClient.from_env_properties()\n\n.. marker-index-end\n\n\nHow to use\n----------\n\nWrites\n^^^^^^\n.. marker-writes-start\n\nThe `WriteApi <https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/write_api.py>`_ supports synchronous, asynchronous and batching writes into InfluxDB 2.0.\nThe data should be passed as a `InfluxDB Line Protocol <https://docs.influxdata.com/influxdb/v1.6/write_protocols/line_protocol_tutorial/>`_\\ , `Data Point <https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/write/point.py>`_ or Observable stream.\n\n*The default instance of WriteApi use batching.*\n\nThe data could be written as\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\n1. ``string`` or ``bytes`` that is formatted as a InfluxDB's line protocol\n2. `Data Point <https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/write/point.py#L16>`__ structure\n3. Dictionary style mapping with keys: ``measurement``, ``tags``, ``fields`` and ``time``\n4. List of above items\n5. A ``batching`` type of write also supports an ``Observable`` that produce one of an above item\n\n\nBatching\n\"\"\"\"\"\"\"\"\n\n.. marker-batching-start\n\nThe batching is configurable by ``write_options``\\ :\n\n.. list-table::\n   :header-rows: 1\n\n   * - Property\n     - Description\n     - Default Value\n   * - **batch_size**\n     - the number of data pointx to collect in a batch\n     - ``1000``\n   * - **flush_interval**\n     - the number of milliseconds before the batch is written\n     - ``1000``\n   * - **jitter_interval**\n     - the number of milliseconds to increase the batch flush interval by a random amount\n     - ``0``\n   * - **retry_interval**\n     - the number of milliseconds to retry unsuccessful write. The retry interval is used when the InfluxDB server does not specify \"Retry-After\" header.\n     - ``1000``\n\n\n.. code-block:: python\n\n   import rx\n   from rx import operators as ops\n\n   from influxdb_client import InfluxDBClient, Point, WriteOptions\n   from influxdb_client.client.write_api import SYNCHRONOUS\n\n   _client = InfluxDBClient(url=\"http://localhost:9999\", token=\"my-token\", org=\"my-org\")\n   _write_client = _client.write_api(write_options=WriteOptions(batch_size=500,\n                                                                flush_interval=10_000,\n                                                                jitter_interval=2_000,\n                                                                retry_interval=5_000))\n\n   \"\"\"\n   Write Line Protocol formatted as string\n   \"\"\"\n   _write_client.write(\"my-bucket\", \"my-org\", \"h2o_feet,location=coyote_creek water_level=1.0 1\")\n   _write_client.write(\"my-bucket\", \"my-org\", [\"h2o_feet,location=coyote_creek water_level=2.0 2\",\n                                               \"h2o_feet,location=coyote_creek water_level=3.0 3\"])\n\n   \"\"\"\n   Write Line Protocol formatted as byte array\n   \"\"\"\n   _write_client.write(\"my-bucket\", \"my-org\", \"h2o_feet,location=coyote_creek water_level=1.0 1\".encode())\n   _write_client.write(\"my-bucket\", \"my-org\", [\"h2o_feet,location=coyote_creek water_level=2.0 2\".encode(),\n                                               \"h2o_feet,location=coyote_creek water_level=3.0 3\".encode()])\n\n   \"\"\"\n   Write Dictionary-style object\n   \"\"\"\n   _write_client.write(\"my-bucket\", \"my-org\", {\"measurement\": \"h2o_feet\", \"tags\": {\"location\": \"coyote_creek\"},\n                                               \"fields\": {\"water_level\": 1.0}, \"time\": 1})\n   _write_client.write(\"my-bucket\", \"my-org\", [{\"measurement\": \"h2o_feet\", \"tags\": {\"location\": \"coyote_creek\"},\n                                               \"fields\": {\"water_level\": 2.0}, \"time\": 2},\n                                               {\"measurement\": \"h2o_feet\", \"tags\": {\"location\": \"coyote_creek\"},\n                                               \"fields\": {\"water_level\": 3.0}, \"time\": 3}])\n\n   \"\"\"\n   Write Data Point\n   \"\"\"\n   _write_client.write(\"my-bucket\", \"my-org\", Point(\"h2o_feet\").tag(\"location\", \"coyote_creek\").field(\"water_level\", 4.0).time(4))\n   _write_client.write(\"my-bucket\", \"my-org\", [Point(\"h2o_feet\").tag(\"location\", \"coyote_creek\").field(\"water_level\", 5.0).time(5),\n                                               Point(\"h2o_feet\").tag(\"location\", \"coyote_creek\").field(\"water_level\", 6.0).time(6)])\n\n   \"\"\"\n   Write Observable stream\n   \"\"\"\n   _data = rx \\\n       .range(7, 11) \\\n       .pipe(ops.map(lambda i: \"h2o_feet,location=coyote_creek water_level={0}.0 {0}\".format(i)))\n\n   _write_client.write(\"my-bucket\", \"my-org\", _data)\n\n\n   \"\"\"\n   Close client\n   \"\"\"\n   _write_client.__del__()\n   _client.__del__()\n\n.. marker-batching-end\n\nDefault Tags\n\"\"\"\"\"\"\"\"\"\"\"\"\n.. marker-default-tags-start\n\nSometimes is useful to store same information in every measurement e.g. ``hostname``, ``location``, ``customer``.\nThe client is able to use static value or env property as a tag value.\n\nThe expressions:\n\n- ``California Miner`` - static value\n- ``${env.hostname}`` - environment property\n\nVia API\n_______\n\n.. code-block:: python\n\n    point_settings = PointSettings()\n    point_settings.add_default_tag(\"id\", \"132-987-655\")\n    point_settings.add_default_tag(\"customer\", \"California Miner\")\n    point_settings.add_default_tag(\"data_center\", \"${env.data_center}\")\n\n    self.write_client = self.client.write_api(write_options=SYNCHRONOUS, point_settings=point_settings)\n\n.. code-block:: python\n\n    self.write_client = self.client.write_api(write_options=SYNCHRONOUS,\n                                                  point_settings=PointSettings(**{\"id\": \"132-987-655\",\n                                                                                  \"customer\": \"California Miner\"}))\n\nVia Configuration file\n______________________\n\nIn a ini configuration file you are able to specify default tags by ``tags`` segment.\n\n.. code-block:: python\n\n    self.client = InfluxDBClient.from_config_file(\"config.ini\")\n\n.. code-block::\n\n    [influx2]\n    url=http://localhost:9999\n    org=my-org\n    token=my-token\n    timeout=6000\n\n    [tags]\n    id = 132-987-655\n    customer = California Miner\n    data_center = ${env.data_center}\n\nVia Environment Properties\n__________________________\nYou are able to specify default tags by environment properties with prefix ``INFLUXDB_V2_TAG_``.\n\nExamples:\n\n- ``INFLUXDB_V2_TAG_ID``\n- ``INFLUXDB_V2_TAG_HOSTNAME``\n\n.. code-block:: python\n\n    self.client = InfluxDBClient.from_env_properties()\n\n.. marker-default-tags-end\n\nAsynchronous client\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\nData are writes in an asynchronous HTTP request.\n\n.. code-block:: python\n\n   from influxdb_client  import InfluxDBClient\n   from influxdb_client.client.write_api import ASYNCHRONOUS\n\n   client = InfluxDBClient(url=\"http://localhost:9999\", token=\"my-token\", org=\"my-org\")\n   write_client = client.write_api(write_options=ASYNCHRONOUS)\n\n   ...\n\n   client.__del__()\n\nSynchronous client\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\nData are writes in a synchronous HTTP request.\n\n.. code-block:: python\n\n   from influxdb_client  import InfluxDBClient\n   from influxdb_client .client.write_api import SYNCHRONOUS\n\n   client = InfluxDBClient(url=\"http://localhost:9999\", token=\"my-token\", org=\"my-org\")\n   write_client = client.write_api(write_options=SYNCHRONOUS)\n\n   ...\n\n   client.__del__()\n\nQueries\n^^^^^^^\n\nThe result retrieved by `QueryApi <https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/query_api.py>`_  could be formatted as a:\n\n1. Flux data structure: `FluxTable <https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/flux_table.py#L5>`_, `FluxColumn <https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/flux_table.py#L22>`_ and `FluxRecord <https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/flux_table.py#L31>`_\n2. `csv.reader <https://docs.python.org/3.4/library/csv.html#reader-objects>`__ which will iterate over CSV lines\n3. Raw unprocessed results as a ``str`` iterator\n4. `Pandas DataFrame <https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html>`_\n\nThe API also support streaming ``FluxRecord`` via `query_stream <https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/query_api.py#L77>`_, see example below:\n\n.. code-block:: python\n\n    from influxdb_client import InfluxDBClient, Point, Dialect\n    from influxdb_client.client.write_api import SYNCHRONOUS\n\n    client = InfluxDBClient(url=\"http://localhost:9999\", token=\"my-token\", org=\"my-org\")\n\n    write_api = client.write_api(write_options=SYNCHRONOUS)\n    query_api = client.query_api()\n\n    \"\"\"\n    Prepare data\n    \"\"\"\n\n    _point1 = Point(\"my_measurement\").tag(\"location\", \"Prague\").field(\"temperature\", 25.3)\n    _point2 = Point(\"my_measurement\").tag(\"location\", \"New York\").field(\"temperature\", 24.3)\n\n    write_api.write(bucket=\"my-bucket\", record=[_point1, _point2])\n\n    \"\"\"\n    Query: using Table structure\n    \"\"\"\n    tables = query_api.query('from(bucket:\"my-bucket\") |> range(start: -10m)')\n\n    for table in tables:\n        print(table)\n        for record in table.records:\n            print(record.values)\n\n    print()\n    print()\n\n    \"\"\"\n    Query: using Stream\n    \"\"\"\n    records = query_api.query_stream('from(bucket:\"my-bucket\") |> range(start: -10m)')\n\n    for record in records:\n        print(f'Temperature in {record[\"location\"]} is {record[\"_value\"]}')\n\n    \"\"\"\n    Interrupt a stream after retrieve a required data\n    \"\"\"\n    large_stream = query_api.query_stream('from(bucket:\"my-bucket\") |> range(start: -100d)')\n    for record in large_stream:\n        if record[\"location\"] == \"New York\":\n            print(f'New York temperature: {record[\"_value\"]}')\n            break\n\n    large_stream.close()\n\n    print()\n    print()\n\n    \"\"\"\n    Query: using csv library\n    \"\"\"\n    csv_result = query_api.query_csv('from(bucket:\"my-bucket\") |> range(start: -10m)',\n                                     dialect=Dialect(header=False, delimiter=\",\", comment_prefix=\"#\", annotations=[],\n                                                     date_time_format=\"RFC3339\"))\n    for csv_line in csv_result:\n        if not len(csv_line) == 0:\n            print(f'Temperature in {csv_line[9]} is {csv_line[6]}')\n\n    \"\"\"\n    Close client\n    \"\"\"\n    client.__del__()\n\nPandas DataFrame\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n.. marker-pandas-start\n\n.. note:: For DataFrame querying you should install Pandas dependency via ``pip install influxdb-client[extra]``.\n\n.. note:: Note that if a query returns more then one table then the client generates a ``DataFrame`` for each of them.\n\nThe ``client`` is able to retrieve data in `Pandas DataFrame <https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html>`_ format thought ``query_data_frame``:\n\n.. code-block:: python\n\n    from influxdb_client import InfluxDBClient, Point, Dialect\n    from influxdb_client.client.write_api import SYNCHRONOUS\n\n    client = InfluxDBClient(url=\"http://localhost:9999\", token=\"my-token\", org=\"my-org\")\n\n    write_api = client.write_api(write_options=SYNCHRONOUS)\n    query_api = client.query_api()\n\n    \"\"\"\n    Prepare data\n    \"\"\"\n\n    _point1 = Point(\"my_measurement\").tag(\"location\", \"Prague\").field(\"temperature\", 25.3)\n    _point2 = Point(\"my_measurement\").tag(\"location\", \"New York\").field(\"temperature\", 24.3)\n\n    write_api.write(bucket=\"my-bucket\", record=[_point1, _point2])\n\n    \"\"\"\n    Query: using Pandas DataFrame\n    \"\"\"\n    data_frame = query_api.query_data_frame('from(bucket:\"my-bucket\") '\n                                            '|> range(start: -10m) '\n                                            '|> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\") '\n                                            '|> keep(columns: [\"location\", \"temperature\"])')\n    print(data_frame.to_string())\n\n    \"\"\"\n    Close client\n    \"\"\"\n    client.__del__()\n\nOutput:\n\n.. code-block::\n\n        result table  location  temperature\n    0  _result     0  New York         24.3\n    1  _result     1    Prague         25.3\n\n.. marker-pandas-end\n\nExamples\n^^^^^^^^\n\nHow to efficiently import large dataset\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\nThe following example shows how to import dataset with dozen megabytes.\nIf you would like to import gigabytes of data then use our multiprocessing example: `import_data_set_multiprocessing.py <https://github.com/influxdata/influxdb-client-python/blob/master/examples/import_data_set_multiprocessing.py>`_ for use a full capability of your hardware.\n\n* sources - `import_data_set.py <https://github.com/influxdata/influxdb-client-python/blob/master/examples/import_data_set.py>`_\n\n.. code-block:: python\n\n   \"\"\"\n   Import VIX - CBOE Volatility Index - from \"vix-daily.csv\" file into InfluxDB 2.0\n\n   https://datahub.io/core/finance-vix#data\n   \"\"\"\n\n   from collections import OrderedDict\n   from csv import DictReader\n\n   import rx\n   from rx import operators as ops\n\n   from influxdb_client import InfluxDBClient, Point, WriteOptions\n\n   def parse_row(row: OrderedDict):\n       \"\"\"Parse row of CSV file into Point with structure:\n\n           financial-analysis,type=ily close=18.47,high=19.82,low=18.28,open=19.82 1198195200000000000\n\n       CSV format:\n           Date,VIX Open,VIX High,VIX Low,VIX Close\\n\n           2004-01-02,17.96,18.68,17.54,18.22\\n\n           2004-01-05,18.45,18.49,17.44,17.49\\n\n           2004-01-06,17.66,17.67,16.19,16.73\\n\n           2004-01-07,16.72,16.75,15.5,15.5\\n\n           2004-01-08,15.42,15.68,15.32,15.61\\n\n           2004-01-09,16.15,16.88,15.57,16.75\\n\n           ...\n\n       :param row: the row of CSV file\n       :return: Parsed csv row to [Point]\n       \"\"\"\n\n       \"\"\"\n        For better performance is sometimes useful directly create a LineProtocol to avoid unnecessary escaping overhead:\n        \"\"\"\n        # from pytz import UTC\n        # import ciso8601\n        # from influxdb_client.client.write.point import EPOCH\n        #\n        # time = (UTC.localize(ciso8601.parse_datetime(row[\"Date\"])) - EPOCH).total_seconds() * 1e9\n        # return f\"financial-analysis,type=vix-daily\" \\\n        #        f\" close={float(row['VIX Close'])},high={float(row['VIX High'])},low={float(row['VIX Low'])},open={float(row['VIX Open'])} \" \\\n        #        f\" {int(time)}\"\n\n       return Point(\"financial-analysis\") \\\n           .tag(\"type\", \"vix-daily\") \\\n           .field(\"open\", float(row['VIX Open'])) \\\n           .field(\"high\", float(row['VIX High'])) \\\n           .field(\"low\", float(row['VIX Low'])) \\\n           .field(\"close\", float(row['VIX Close'])) \\\n           .time(row['Date'])\n\n\n   \"\"\"\n   Converts vix-daily.csv into sequence of datad point\n   \"\"\"\n   data = rx \\\n       .from_iterable(DictReader(open('vix-daily.csv', 'r'))) \\\n       .pipe(ops.map(lambda row: parse_row(row)))\n\n   client = InfluxDBClient(url=\"http://localhost:9999\", token=\"my-token\", org=\"my-org\", debug=True)\n\n   \"\"\"\n   Create client that writes data in batches with 50_000 items.\n   \"\"\"\n   write_api = client.write_api(write_options=WriteOptions(batch_size=50_000, flush_interval=10_000))\n\n   \"\"\"\n   Write data into InfluxDB\n   \"\"\"\n   write_api.write(bucket=\"my-bucket\", record=data)\n   write_api.__del__()\n\n   \"\"\"\n   Querying max value of CBOE Volatility Index\n   \"\"\"\n   query = 'from(bucket:\"my-bucket\")' \\\n           ' |> range(start: 0, stop: now())' \\\n           ' |> filter(fn: (r) => r._measurement == \"financial-analysis\")' \\\n           ' |> max()'\n   result = client.query_api().query(query=query)\n\n   \"\"\"\n   Processing results\n   \"\"\"\n   print()\n   print(\"=== results ===\")\n   print()\n   for table in result:\n       for record in table.records:\n           print('max {0:5} = {1}'.format(record.get_field(), record.get_value()))\n\n   \"\"\"\n   Close client\n   \"\"\"\n   client.__del__()\n\n.. marker-writes-end\n\n\nEfficiency write data from IOT sensor\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n.. marker-iot-start\n\n* sources - `iot_sensor.py <https://github.com/influxdata/influxdb-client-python/blob/master/examples/iot_sensor.py>`_\n\n.. code-block:: python\n\n   \"\"\"\n   Efficiency write data from IOT sensor - write changed temperature every minute\n   \"\"\"\n   import atexit\n   import platform\n   from datetime import timedelta\n\n   import psutil as psutil\n   import rx\n   from rx import operators as ops\n\n   from influxdb_client import InfluxDBClient, WriteApi, WriteOptions\n\n   def on_exit(db_client: InfluxDBClient, write_api: WriteApi):\n       \"\"\"Close clients after terminate a script.\n\n       :param db_client: InfluxDB client\n       :param write_api: WriteApi\n       :return: nothing\n       \"\"\"\n       write_api.__del__()\n       db_client.__del__()\n\n\n   def sensor_temperature():\n       \"\"\"Read a CPU temperature. The [psutil] doesn't support MacOS so we use [sysctl].\n\n       :return: actual CPU temperature\n       \"\"\"\n       os_name = platform.system()\n       if os_name == 'Darwin':\n           from subprocess import check_output\n           output = check_output([\"sysctl\", \"machdep.xcpm.cpu_thermal_level\"])\n           import re\n           return re.findall(r'\\d+', str(output))[0]\n       else:\n           return psutil.sensors_temperatures()[\"coretemp\"][0]\n\n\n   def line_protocol(temperature):\n       \"\"\"Create a InfluxDB line protocol with structure:\n\n           iot_sensor,hostname=mine_sensor_12,type=temperature value=68\n\n       :param temperature: the sensor temperature\n       :return: Line protocol to write into InfluxDB\n       \"\"\"\n\n       import socket\n       return 'iot_sensor,hostname={},type=temperature value={}'.format(socket.gethostname(), temperature)\n\n\n   \"\"\"\n   Read temperature every minute; distinct_until_changed - produce only if temperature change\n   \"\"\"\n   data = rx\\\n       .interval(period=timedelta(seconds=60))\\\n       .pipe(ops.map(lambda t: sensor_temperature()),\n             ops.distinct_until_changed(),\n             ops.map(lambda temperature: line_protocol(temperature)))\n\n   _db_client = InfluxDBClient(url=\"http://localhost:9999\", token=\"my-token\", org=\"my-org\", debug=True)\n\n   \"\"\"\n   Create client that writes data into InfluxDB\n   \"\"\"\n   _write_api = _db_client.write_api(write_options=WriteOptions(batch_size=1))\n   _write_api.write(bucket=\"my-bucket\", record=data)\n\n\n   \"\"\"\n   Call after terminate a script\n   \"\"\"\n   atexit.register(on_exit, _db_client, _write_api)\n\n   input()\n\n.. marker-iot-end\n\nConnect to InfluxDB Cloud\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\nThe following example demonstrate a simplest way how to write and query date with the InfluxDB Cloud.\n\nAt first point you should create an authentication token as is described `here <https://v2.docs.influxdata.com/v2.0/security/tokens/create-token/>`_.\n\nAfter that you should configure properties: ``influx_cloud_url``, ``influx_cloud_token``, ``bucket`` and ``org`` in a ``influx_cloud.py`` example.\n\nThe last step is run a python script via: ``python3 influx_cloud.py``.\n\n* sources - `influx_cloud.py <https://github.com/influxdata/influxdb-client-python/blob/master/examples/influx_cloud.py>`_\n\n.. code-block:: python\n\n    \"\"\"\n    Connect to InfluxDB 2.0 - write data and query them\n    \"\"\"\n\n    from datetime import datetime\n\n    from influxdb_client import Point, InfluxDBClient\n    from influxdb_client.client.write_api import SYNCHRONOUS\n\n    \"\"\"\n    Configure credentials\n    \"\"\"\n    influx_cloud_url = 'https://us-west-2-1.aws.cloud2.influxdata.com'\n    influx_cloud_token = '...'\n    bucket = '...'\n    org = '...'\n\n    client = InfluxDBClient(url=influx_cloud_url, token=influx_cloud_token)\n    try:\n        kind = 'temperature'\n        host = 'host1'\n        device = 'opt-123'\n\n        \"\"\"\n        Write data by Point structure\n        \"\"\"\n        point = Point(kind).tag('host', host).tag('device', device).field('value', 25.3).time(time=datetime.utcnow())\n\n        print(f'Writing to InfluxDB cloud: {point.to_line_protocol()} ...')\n\n        write_api = client.write_api(write_options=SYNCHRONOUS)\n        write_api.write(bucket=bucket, org=org, record=point)\n\n        print()\n        print('success')\n        print()\n        print()\n\n        \"\"\"\n        Query written data\n        \"\"\"\n        query = f'from(bucket: \"{bucket}\") |> range(start: -1d) |> filter(fn: (r) => r._measurement == \"{kind}\")'\n        print(f'Querying from InfluxDB cloud: \"{query}\" ...')\n        print()\n\n        query_api = client.query_api()\n        tables = query_api.query(query=query, org=org)\n\n        for table in tables:\n            for row in table.records:\n                print(f'{row.values[\"_time\"]}: host={row.values[\"host\"]},device={row.values[\"device\"]} '\n                      f'{row.values[\"_value\"]} \u00b0C')\n\n        print()\n        print('success')\n\n    except Exception as e:\n        print(e)\n    finally:\n        client.close()\n\nHow to use Jupyter + Pandas + InfluxDB 2\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\nThe first example shows how to use client capabilities to predict stock price via `Keras <https://keras.io>`_, `TensorFlow <https://www.tensorflow.org>`_, `sklearn <https://scikit-learn.org/stable/>`_:\n\nThe example is taken from `Kaggle <https://www.kaggle.com/chaitanyacc4/predicting-stock-prices-of-apple-inc>`_.\n\n* sources - `stock-predictions.ipynb <notebooks/stock-predictions.ipynb>`_\n\n.. image:: https://raw.githubusercontent.com/influxdata/influxdb-client-python/master/docs/images/stock-price-prediction.gif\n\nResult:\n\n.. image:: https://raw.githubusercontent.com/influxdata/influxdb-client-python/master/docs/images/stock-price-prediction-results.png\n\nThe second example shows how to use client capabilities to realtime visualization via `hvPlot <https://hvplot.pyviz.org>`_, `Streamz <https://streamz.readthedocs.io/en/latest/>`_, `RxPY <https://rxpy.readthedocs.io/en/latest/>`_:\n\n* sources - `realtime-stream.ipynb <notebooks/realtime-stream.ipynb>`_\n\n.. image:: https://raw.githubusercontent.com/influxdata/influxdb-client-python/master/docs/images/realtime-result.gif\n\n\nAdvanced Usage\n--------------\n\nGzip support\n^^^^^^^^^^^^\n.. marker-gzip-start\n\n``InfluxDBClient`` does not enable gzip compression for http requests by default. If you want to enable gzip to reduce transfer data's size, you can call:\n\n.. code-block:: python\n\n   from influxdb_client import InfluxDBClient\n\n   _db_client = InfluxDBClient(url=\"http://localhost:9999\", token=\"my-token\", org=\"my-org\", enable_gzip=True)\n\n.. marker-gzip-end\n\nInfluxDB 1.8 API compatibility\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n`InfluxDB 1.8.0 introduced forward compatibility APIs <https://docs.influxdata.com/influxdb/latest/tools/api/#influxdb-2-0-api-compatibility-endpoints>`_ for InfluxDB 2.0. This allow you to easily move from InfluxDB 1.x to InfluxDB 2.0 Cloud or open source.\n\nThe following forward compatible APIs are available:\n\n=======================================================  ====================================================================================================  =======\n API                                                     Endpoint                                                                                              Description\n=======================================================  ====================================================================================================  =======\n`query_api.py <influxdb_client/client/query_api.py>`_    `/api/v2/query <https://docs.influxdata.com/influxdb/latest/tools/api/#api-v2-query-http-endpoint>`_  Query data in InfluxDB 1.8.0+ using the InfluxDB 2.0 API and `Flux <https://docs.influxdata.com/flux/latest/>`_ (endpoint should be enabled by `flux-enabled option <https://docs.influxdata.com/influxdb/latest/administration/config/#flux-enabled-false>`_)\n`write_api.py <influxdb_client/client/write_api.py>`_    `/api/v2/write <https://docs.influxdata.com/influxdb/latest/tools/api/#api-v2-write-http-endpoint>`_  Write data to InfluxDB 1.8.0+ using the InfluxDB 2.0 API\n`health() <influxdb_client/client/influxdb_client.py>`_  `/health <https://docs.influxdata.com/influxdb/latest/tools/api/#health-http-endpointt>`_             Check the health of your InfluxDB instance\n=======================================================  ====================================================================================================  =======\n\nFor detail info see `InfluxDB 1.8 example <examples/influxdb_18_example.py>`_.\n\nLocal tests\n-----------\n\n.. code-block:: python\n\n    # start/restart InfluxDB2 on local machine using docker\n    ./scripts/influxdb-restart.sh\n\n    # install requirements\n    pip install -r requirements.txt --user\n    pip install -r extra-requirements.txt --user\n    pip install -r test-requirements.txt --user\n\n    # run unit & integration tests\n    pytest tests\n\n\nContributing\n------------\n\nBug reports and pull requests are welcome on GitHub at `https://github.com/influxdata/influxdb-client-python <https://github.com/influxdata/influxdb-client-python>`_.\n\nLicense\n-------\n\nThe gem is available as open source under the terms of the `MIT License <https://opensource.org/licenses/MIT>`_.\n\n\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/influxdata/influxdb-client-python", "keywords": "InfluxDB,InfluxDB Python Client", "license": "", "maintainer": "", "maintainer_email": "", "name": "influxdb-client", "package_url": "https://pypi.org/project/influxdb-client/", "platform": "", "project_url": "https://pypi.org/project/influxdb-client/", "project_urls": {"Homepage": "https://github.com/influxdata/influxdb-client-python"}, "release_url": "https://pypi.org/project/influxdb-client/1.6.0/", "requires_dist": ["rx (>=3.0.1)", "certifi (>=14.05.14)", "six (>=1.10)", "python-dateutil (>=2.5.3)", "setuptools (>=21.0.0)", "urllib3 (>=1.15.1)", "ciso8601 (>=2.1.1)", "pytz (>=2019.1)", "pandas (>=0.25.3) ; extra == 'extra'"], "requires_python": ">=3.6", "summary": "InfluxDB 2.0 Python client library", "version": "1.6.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://circleci.com/gh/influxdata/influxdb-client-python\" rel=\"nofollow\"><img alt=\"CircleCI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6833f85b2f20e182c72bb247182f9fd8554b73f2/68747470733a2f2f636972636c6563692e636f6d2f67682f696e666c7578646174612f696e666c757864622d636c69656e742d707974686f6e2e7376673f7374796c653d737667\"></a>\n<a href=\"https://codecov.io/gh/influxdata/influxdb-client-python\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b3a48656c78f8d62c00f1b7761e16fe50c7becac/68747470733a2f2f636f6465636f762e696f2f67682f696e666c7578646174612f696e666c757864622d636c69656e742d707974686f6e2f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"https://circleci.com/gh/influxdata/influxdb-client-python\" rel=\"nofollow\"><img alt=\"CI status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1f8dcf66e51c226bd27bcdb2ac49d236c02e6203/68747470733a2f2f696d672e736869656c64732e696f2f636972636c6563692f70726f6a6563742f6769746875622f696e666c7578646174612f696e666c757864622d636c69656e742d707974686f6e2f6d61737465722e737667\"></a>\n<a href=\"https://pypi.org/project/influxdb-client/\" rel=\"nofollow\"><img alt=\"PyPI package\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/21c314aa92064420f6d666880ef0923b44ebeaac/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f696e666c757864622d636c69656e742e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/influxdb-client\" rel=\"nofollow\"><img alt=\"Supported Python versions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/50a4bbb835b62e16793dd4bd209aa2f519cc9ab9/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f696e666c757864622d636c69656e742e737667\"></a>\n<a href=\"https://influxdb-client.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\"><img alt=\"Documentation status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2fa11242916b4541e7025877c3c4155affb26313/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f696e666c757864622d636c69656e742f62616467652f3f76657273696f6e3d6c6174657374\"></a>\n<a href=\"https://www.influxdata.com/slack\" rel=\"nofollow\"><img alt=\"Slack Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8c01bf4f74a7c882bcfcd47e4924618eb70cfcd6/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f736c61636b2d6a6f696e5f636861742d77686974652e7376673f6c6f676f3d736c61636b267374796c653d736f6369616c\"></a>\n<p>InfluxDB 2.0 python client library.</p>\n<p><strong>Note: Use this client library with InfluxDB 2.x and InfluxDB 1.8+. For connecting to InfluxDB 1.7 or earlier instances, use the `influxdb-python &lt;https://github.com/influxdata/influxdb-python&gt;`_ client library.</strong></p>\n<div id=\"influxdb-2-0-client-features\">\n<h2>InfluxDB 2.0 client features</h2>\n<ul>\n<li><dl>\n<dt>Querying data</dt>\n<dd><ul>\n<li>using the Flux language</li>\n<li>into csv, raw data, <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/flux_table.py#L5\" rel=\"nofollow\">flux_table</a> structure, <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html\" rel=\"nofollow\">Pandas DataFrame</a></li>\n<li><a href=\"#queries\" rel=\"nofollow\">How to queries</a></li>\n</ul>\n</dd>\n</dl>\n</li>\n<li><dl>\n<dt>Writing data using</dt>\n<dd><ul>\n<li><a href=\"https://docs.influxdata.com/influxdb/v1.6/write_protocols/line_protocol_tutorial\" rel=\"nofollow\">Line Protocol</a></li>\n<li><a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/write/point.py#L16\" rel=\"nofollow\">Data Point</a></li>\n<li><a href=\"https://rxpy.readthedocs.io/en/latest/\" rel=\"nofollow\">RxPY</a> Observable</li>\n<li><a href=\"#writes\" rel=\"nofollow\">How to writes</a></li>\n</ul>\n</dd>\n</dl>\n</li>\n<li><dl>\n<dt><a href=\"https://github.com/influxdata/influxdb/blob/master/http/swagger.yml\" rel=\"nofollow\">InfluxDB 2.0 API</a> client for management</dt>\n<dd><ul>\n<li>the client is generated from the <a href=\"https://github.com/influxdata/influxdb/blob/master/http/swagger.yml\" rel=\"nofollow\">swagger</a> by using the <a href=\"https://github.com/OpenAPITools/openapi-generator\" rel=\"nofollow\">openapi-generator</a></li>\n<li>organizations &amp; users management</li>\n<li>buckets management</li>\n<li>tasks management</li>\n<li>authorizations</li>\n<li>health check</li>\n<li>\u2026</li>\n</ul>\n</dd>\n</dl>\n</li>\n<li><a href=\"#influxdb-1-8-api-compatibility\" rel=\"nofollow\">InfluxDB 1.8 API compatibility</a></li>\n<li><dl>\n<dt>Examples</dt>\n<dd><ul>\n<li><a href=\"#connect-to-influxdb-cloud\" rel=\"nofollow\">Connect to InfluxDB Cloud</a></li>\n<li><a href=\"#how-to-efficiently-import-large-dataset\" rel=\"nofollow\">How to efficiently import large dataset</a></li>\n<li><a href=\"#efficiency-write-data-from-iot-sensor\" rel=\"nofollow\">Efficiency write data from IOT sensor</a></li>\n<li><a href=\"#how-to-use-jupyter-pandas-influxdb-2\" rel=\"nofollow\">How to use Jupyter + Pandas + InfluxDB 2</a></li>\n</ul>\n</dd>\n</dl>\n</li>\n</ul>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>InfluxDB python library uses <a href=\"https://github.com/ReactiveX/RxPY\" rel=\"nofollow\">RxPY</a> - The Reactive Extensions for Python (RxPY).</p>\n<p><strong>Python 3.6</strong> or later is required.</p>\n<div>\n<p>Note</p>\n<p>The client uses <tt>ciso8601</tt> for parsing dates. <tt>ciso8601</tt> is much faster than built-in Python datetime. Since it\u2019s written as a <tt>C</tt> module the best way is build it from sources:</p>\n<p><strong>Windows</strong>:</p>\n<p>You have to install <a href=\"http://go.microsoft.com/fwlink/?LinkId=691126&amp;fixForIE=.exe\" rel=\"nofollow\">Visual C++ Build Tools 2015</a> to build <tt>ciso8601</tt> by <tt>pip</tt>.</p>\n<p><strong>conda</strong>:</p>\n<p>Install from sources: <tt>conda install <span class=\"pre\">-c</span> <span class=\"pre\">conda-forge/label/cf202003</span> ciso8601</tt>.</p>\n</div>\n<div id=\"pip-install\">\n<h3>pip install</h3>\n<p>The python package is hosted on <a href=\"https://pypi.org/project/influxdb-client/\" rel=\"nofollow\">PyPI</a>, you can install latest version directly:</p>\n<pre>pip install influxdb-client\n</pre>\n<p>Then import the package:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">influxdb_client</span>\n</pre>\n</div>\n<div id=\"setuptools\">\n<h3>Setuptools</h3>\n<p>Install via <a href=\"http://pypi.python.org/pypi/setuptools\" rel=\"nofollow\">Setuptools</a>.</p>\n<pre>python setup.py install --user\n</pre>\n<p>(or <tt>sudo python setup.py install</tt> to install the package for all users)</p>\n</div>\n</div>\n<div id=\"getting-started\">\n<h2>Getting Started</h2>\n<p>Please follow the <a href=\"#installation\" rel=\"nofollow\">Installation</a> and then run the following:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span> <span class=\"kn\">import</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">,</span> <span class=\"n\">Point</span>\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client.client.write_api</span> <span class=\"kn\">import</span> <span class=\"n\">SYNCHRONOUS</span>\n\n<span class=\"n\">bucket</span> <span class=\"o\">=</span> <span class=\"s2\">\"my-bucket\"</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s2\">\"http://localhost:9999\"</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"s2\">\"my-token\"</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"s2\">\"my-org\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">write_api</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">SYNCHRONOUS</span><span class=\"p\">)</span>\n<span class=\"n\">query_api</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">query_api</span><span class=\"p\">()</span>\n\n<span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"s2\">\"my_measurement\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s2\">\"location\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Prague\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"temperature\"</span><span class=\"p\">,</span> <span class=\"mf\">25.3</span><span class=\"p\">)</span>\n\n<span class=\"n\">write_api</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">bucket</span><span class=\"o\">=</span><span class=\"n\">bucket</span><span class=\"p\">,</span> <span class=\"n\">record</span><span class=\"o\">=</span><span class=\"n\">p</span><span class=\"p\">)</span>\n\n<span class=\"c1\">## using Table structure</span>\n<span class=\"n\">tables</span> <span class=\"o\">=</span> <span class=\"n\">query_api</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"s1\">'from(bucket:\"my-bucket\") |&gt; range(start: -10m)'</span><span class=\"p\">)</span>\n\n<span class=\"k\">for</span> <span class=\"n\">table</span> <span class=\"ow\">in</span> <span class=\"n\">tables</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">table</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">table</span><span class=\"o\">.</span><span class=\"n\">records</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span> <span class=\"p\">(</span><span class=\"n\">row</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">)</span>\n\n\n<span class=\"c1\">## using csv library</span>\n<span class=\"n\">csv_result</span> <span class=\"o\">=</span> <span class=\"n\">query_api</span><span class=\"o\">.</span><span class=\"n\">query_csv</span><span class=\"p\">(</span><span class=\"s1\">'from(bucket:\"my-bucket\") |&gt; range(start: -10m)'</span><span class=\"p\">)</span>\n<span class=\"n\">val_count</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n<span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">csv_result</span><span class=\"p\">:</span>\n    <span class=\"k\">for</span> <span class=\"n\">cell</span> <span class=\"ow\">in</span> <span class=\"n\">row</span><span class=\"p\">:</span>\n        <span class=\"n\">val_count</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n</pre>\n</div>\n<div id=\"client-configuration\">\n<h2>Client configuration</h2>\n<div id=\"via-file\">\n<h3>Via File</h3>\n<p>A client can be configured via <tt>*.ini</tt> file in segment <tt>influx2</tt>.</p>\n<p>The following options are supported:</p>\n<ul>\n<li><tt>url</tt> - the url to connect to InfluxDB</li>\n<li><tt>org</tt> - default destination organization for writes and queries</li>\n<li><tt>token</tt> - the token to use for the authorization</li>\n<li><tt>timeout</tt> - socket timeout in ms (default value is 10000)</li>\n</ul>\n<pre><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"o\">.</span><span class=\"n\">from_config_file</span><span class=\"p\">(</span><span class=\"s2\">\"config.ini\"</span><span class=\"p\">)</span>\n</pre>\n<pre>[influx2]\nurl=http://localhost:9999\norg=my-org\ntoken=my-token\ntimeout=6000\n</pre>\n</div>\n<div id=\"via-environment-properties\">\n<h3>Via Environment Properties</h3>\n<p>A client can be configured via environment properties.</p>\n<p>Supported properties are:</p>\n<ul>\n<li><tt>INFLUXDB_V2_URL</tt> - the url to connect to InfluxDB</li>\n<li><tt>INFLUXDB_V2_ORG</tt> - default destination organization for writes and queries</li>\n<li><tt>INFLUXDB_V2_TOKEN</tt> - the token to use for the authorization</li>\n<li><tt>INFLUXDB_V2_TIMEOUT</tt> - socket timeout in ms (default value is 10000)</li>\n</ul>\n<pre><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"o\">.</span><span class=\"n\">from_env_properties</span><span class=\"p\">()</span>\n</pre>\n</div>\n</div>\n<div id=\"how-to-use\">\n<h2>How to use</h2>\n<div id=\"writes\">\n<h3>Writes</h3>\n<p>The <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/write_api.py\" rel=\"nofollow\">WriteApi</a> supports synchronous, asynchronous and batching writes into InfluxDB 2.0.\nThe data should be passed as a <a href=\"https://docs.influxdata.com/influxdb/v1.6/write_protocols/line_protocol_tutorial/\" rel=\"nofollow\">InfluxDB Line Protocol</a>, <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/write/point.py\" rel=\"nofollow\">Data Point</a> or Observable stream.</p>\n<p><em>The default instance of WriteApi use batching.</em></p>\n<div id=\"the-data-could-be-written-as\">\n<h4>The data could be written as</h4>\n<ol>\n<li><tt>string</tt> or <tt>bytes</tt> that is formatted as a InfluxDB\u2019s line protocol</li>\n<li><a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/write/point.py#L16\" rel=\"nofollow\">Data Point</a> structure</li>\n<li>Dictionary style mapping with keys: <tt>measurement</tt>, <tt>tags</tt>, <tt>fields</tt> and <tt>time</tt></li>\n<li>List of above items</li>\n<li>A <tt>batching</tt> type of write also supports an <tt>Observable</tt> that produce one of an above item</li>\n</ol>\n</div>\n<div id=\"batching\">\n<h4>Batching</h4>\n<p>The batching is configurable by <tt>write_options</tt>:</p>\n<table>\n<colgroup>\n<col>\n<col>\n<col>\n</colgroup>\n<thead>\n<tr><th>Property</th>\n<th>Description</th>\n<th>Default Value</th>\n</tr>\n</thead>\n<tbody>\n<tr><td><strong>batch_size</strong></td>\n<td>the number of data pointx to collect in a batch</td>\n<td><tt>1000</tt></td>\n</tr>\n<tr><td><strong>flush_interval</strong></td>\n<td>the number of milliseconds before the batch is written</td>\n<td><tt>1000</tt></td>\n</tr>\n<tr><td><strong>jitter_interval</strong></td>\n<td>the number of milliseconds to increase the batch flush interval by a random amount</td>\n<td><tt>0</tt></td>\n</tr>\n<tr><td><strong>retry_interval</strong></td>\n<td>the number of milliseconds to retry unsuccessful write. The retry interval is used when the InfluxDB server does not specify \u201cRetry-After\u201d header.</td>\n<td><tt>1000</tt></td>\n</tr>\n</tbody>\n</table>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">rx</span>\n<span class=\"kn\">from</span> <span class=\"nn\">rx</span> <span class=\"kn\">import</span> <span class=\"n\">operators</span> <span class=\"k\">as</span> <span class=\"n\">ops</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span> <span class=\"kn\">import</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">,</span> <span class=\"n\">Point</span><span class=\"p\">,</span> <span class=\"n\">WriteOptions</span>\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client.client.write_api</span> <span class=\"kn\">import</span> <span class=\"n\">SYNCHRONOUS</span>\n\n<span class=\"n\">_client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s2\">\"http://localhost:9999\"</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"s2\">\"my-token\"</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"s2\">\"my-org\"</span><span class=\"p\">)</span>\n<span class=\"n\">_write_client</span> <span class=\"o\">=</span> <span class=\"n\">_client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">WriteOptions</span><span class=\"p\">(</span><span class=\"n\">batch_size</span><span class=\"o\">=</span><span class=\"mi\">500</span><span class=\"p\">,</span>\n                                                             <span class=\"n\">flush_interval</span><span class=\"o\">=</span><span class=\"mi\">10_000</span><span class=\"p\">,</span>\n                                                             <span class=\"n\">jitter_interval</span><span class=\"o\">=</span><span class=\"mi\">2_000</span><span class=\"p\">,</span>\n                                                             <span class=\"n\">retry_interval</span><span class=\"o\">=</span><span class=\"mi\">5_000</span><span class=\"p\">))</span>\n\n<span class=\"sd\">\"\"\"\nWrite Line Protocol formatted as string\n\"\"\"</span>\n<span class=\"n\">_write_client</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"s2\">\"h2o_feet,location=coyote_creek water_level=1.0 1\"</span><span class=\"p\">)</span>\n<span class=\"n\">_write_client</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s2\">\"h2o_feet,location=coyote_creek water_level=2.0 2\"</span><span class=\"p\">,</span>\n                                            <span class=\"s2\">\"h2o_feet,location=coyote_creek water_level=3.0 3\"</span><span class=\"p\">])</span>\n\n<span class=\"sd\">\"\"\"\nWrite Line Protocol formatted as byte array\n\"\"\"</span>\n<span class=\"n\">_write_client</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"s2\">\"h2o_feet,location=coyote_creek water_level=1.0 1\"</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">())</span>\n<span class=\"n\">_write_client</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s2\">\"h2o_feet,location=coyote_creek water_level=2.0 2\"</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">(),</span>\n                                            <span class=\"s2\">\"h2o_feet,location=coyote_creek water_level=3.0 3\"</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">()])</span>\n\n<span class=\"sd\">\"\"\"\nWrite Dictionary-style object\n\"\"\"</span>\n<span class=\"n\">_write_client</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s2\">\"measurement\"</span><span class=\"p\">:</span> <span class=\"s2\">\"h2o_feet\"</span><span class=\"p\">,</span> <span class=\"s2\">\"tags\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"location\"</span><span class=\"p\">:</span> <span class=\"s2\">\"coyote_creek\"</span><span class=\"p\">},</span>\n                                            <span class=\"s2\">\"fields\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"water_level\"</span><span class=\"p\">:</span> <span class=\"mf\">1.0</span><span class=\"p\">},</span> <span class=\"s2\">\"time\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">})</span>\n<span class=\"n\">_write_client</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"p\">[{</span><span class=\"s2\">\"measurement\"</span><span class=\"p\">:</span> <span class=\"s2\">\"h2o_feet\"</span><span class=\"p\">,</span> <span class=\"s2\">\"tags\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"location\"</span><span class=\"p\">:</span> <span class=\"s2\">\"coyote_creek\"</span><span class=\"p\">},</span>\n                                            <span class=\"s2\">\"fields\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"water_level\"</span><span class=\"p\">:</span> <span class=\"mf\">2.0</span><span class=\"p\">},</span> <span class=\"s2\">\"time\"</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">},</span>\n                                            <span class=\"p\">{</span><span class=\"s2\">\"measurement\"</span><span class=\"p\">:</span> <span class=\"s2\">\"h2o_feet\"</span><span class=\"p\">,</span> <span class=\"s2\">\"tags\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"location\"</span><span class=\"p\">:</span> <span class=\"s2\">\"coyote_creek\"</span><span class=\"p\">},</span>\n                                            <span class=\"s2\">\"fields\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"water_level\"</span><span class=\"p\">:</span> <span class=\"mf\">3.0</span><span class=\"p\">},</span> <span class=\"s2\">\"time\"</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">}])</span>\n\n<span class=\"sd\">\"\"\"\nWrite Data Point\n\"\"\"</span>\n<span class=\"n\">_write_client</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"s2\">\"h2o_feet\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s2\">\"location\"</span><span class=\"p\">,</span> <span class=\"s2\">\"coyote_creek\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"water_level\"</span><span class=\"p\">,</span> <span class=\"mf\">4.0</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">))</span>\n<span class=\"n\">_write_client</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"s2\">\"h2o_feet\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s2\">\"location\"</span><span class=\"p\">,</span> <span class=\"s2\">\"coyote_creek\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"water_level\"</span><span class=\"p\">,</span> <span class=\"mf\">5.0</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">),</span>\n                                            <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"s2\">\"h2o_feet\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s2\">\"location\"</span><span class=\"p\">,</span> <span class=\"s2\">\"coyote_creek\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"water_level\"</span><span class=\"p\">,</span> <span class=\"mf\">6.0</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">)])</span>\n\n<span class=\"sd\">\"\"\"\nWrite Observable stream\n\"\"\"</span>\n<span class=\"n\">_data</span> <span class=\"o\">=</span> <span class=\"n\">rx</span> \\\n    <span class=\"o\">.</span><span class=\"n\">range</span><span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">)</span> \\\n    <span class=\"o\">.</span><span class=\"n\">pipe</span><span class=\"p\">(</span><span class=\"n\">ops</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"k\">lambda</span> <span class=\"n\">i</span><span class=\"p\">:</span> <span class=\"s2\">\"h2o_feet,location=coyote_creek water_level=</span><span class=\"si\">{0}</span><span class=\"s2\">.0 </span><span class=\"si\">{0}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)))</span>\n\n<span class=\"n\">_write_client</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"n\">_data</span><span class=\"p\">)</span>\n\n\n<span class=\"sd\">\"\"\"\nClose client\n\"\"\"</span>\n<span class=\"n\">_write_client</span><span class=\"o\">.</span><span class=\"fm\">__del__</span><span class=\"p\">()</span>\n<span class=\"n\">_client</span><span class=\"o\">.</span><span class=\"fm\">__del__</span><span class=\"p\">()</span>\n</pre>\n</div>\n<div id=\"default-tags\">\n<h4>Default Tags</h4>\n<p>Sometimes is useful to store same information in every measurement e.g. <tt>hostname</tt>, <tt>location</tt>, <tt>customer</tt>.\nThe client is able to use static value or env property as a tag value.</p>\n<p>The expressions:</p>\n<ul>\n<li><tt>California Miner</tt> - static value</li>\n<li><tt>${env.hostname}</tt> - environment property</li>\n</ul>\n<div id=\"via-api\">\n<h5>Via API</h5>\n<pre><span class=\"n\">point_settings</span> <span class=\"o\">=</span> <span class=\"n\">PointSettings</span><span class=\"p\">()</span>\n<span class=\"n\">point_settings</span><span class=\"o\">.</span><span class=\"n\">add_default_tag</span><span class=\"p\">(</span><span class=\"s2\">\"id\"</span><span class=\"p\">,</span> <span class=\"s2\">\"132-987-655\"</span><span class=\"p\">)</span>\n<span class=\"n\">point_settings</span><span class=\"o\">.</span><span class=\"n\">add_default_tag</span><span class=\"p\">(</span><span class=\"s2\">\"customer\"</span><span class=\"p\">,</span> <span class=\"s2\">\"California Miner\"</span><span class=\"p\">)</span>\n<span class=\"n\">point_settings</span><span class=\"o\">.</span><span class=\"n\">add_default_tag</span><span class=\"p\">(</span><span class=\"s2\">\"data_center\"</span><span class=\"p\">,</span> <span class=\"s2\">\"$</span><span class=\"si\">{env.data_center}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n\n<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">write_client</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">SYNCHRONOUS</span><span class=\"p\">,</span> <span class=\"n\">point_settings</span><span class=\"o\">=</span><span class=\"n\">point_settings</span><span class=\"p\">)</span>\n</pre>\n<pre><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">write_client</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">SYNCHRONOUS</span><span class=\"p\">,</span>\n                                              <span class=\"n\">point_settings</span><span class=\"o\">=</span><span class=\"n\">PointSettings</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"p\">{</span><span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"132-987-655\"</span><span class=\"p\">,</span>\n                                                                              <span class=\"s2\">\"customer\"</span><span class=\"p\">:</span> <span class=\"s2\">\"California Miner\"</span><span class=\"p\">}))</span>\n</pre>\n</div>\n<div id=\"via-configuration-file\">\n<h5>Via Configuration file</h5>\n<p>In a ini configuration file you are able to specify default tags by <tt>tags</tt> segment.</p>\n<pre><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"o\">.</span><span class=\"n\">from_config_file</span><span class=\"p\">(</span><span class=\"s2\">\"config.ini\"</span><span class=\"p\">)</span>\n</pre>\n<pre>[influx2]\nurl=http://localhost:9999\norg=my-org\ntoken=my-token\ntimeout=6000\n\n[tags]\nid = 132-987-655\ncustomer = California Miner\ndata_center = ${env.data_center}\n</pre>\n</div>\n<div id=\"id2\">\n<h5>Via Environment Properties</h5>\n<p>You are able to specify default tags by environment properties with prefix <tt>INFLUXDB_V2_TAG_</tt>.</p>\n<p>Examples:</p>\n<ul>\n<li><tt>INFLUXDB_V2_TAG_ID</tt></li>\n<li><tt>INFLUXDB_V2_TAG_HOSTNAME</tt></li>\n</ul>\n<pre><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"o\">.</span><span class=\"n\">from_env_properties</span><span class=\"p\">()</span>\n</pre>\n</div>\n</div>\n<div id=\"asynchronous-client\">\n<h4>Asynchronous client</h4>\n<p>Data are writes in an asynchronous HTTP request.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span>  <span class=\"kn\">import</span> <span class=\"n\">InfluxDBClient</span>\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client.client.write_api</span> <span class=\"kn\">import</span> <span class=\"n\">ASYNCHRONOUS</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s2\">\"http://localhost:9999\"</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"s2\">\"my-token\"</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"s2\">\"my-org\"</span><span class=\"p\">)</span>\n<span class=\"n\">write_client</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">ASYNCHRONOUS</span><span class=\"p\">)</span>\n\n<span class=\"o\">...</span>\n\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"fm\">__del__</span><span class=\"p\">()</span>\n</pre>\n</div>\n<div id=\"synchronous-client\">\n<h4>Synchronous client</h4>\n<p>Data are writes in a synchronous HTTP request.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span>  <span class=\"kn\">import</span> <span class=\"n\">InfluxDBClient</span>\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span> <span class=\"o\">.</span><span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">write_api</span> <span class=\"kn\">import</span> <span class=\"nn\">SYNCHRONOUS</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s2\">\"http://localhost:9999\"</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"s2\">\"my-token\"</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"s2\">\"my-org\"</span><span class=\"p\">)</span>\n<span class=\"n\">write_client</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">SYNCHRONOUS</span><span class=\"p\">)</span>\n\n<span class=\"o\">...</span>\n\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"fm\">__del__</span><span class=\"p\">()</span>\n</pre>\n</div>\n</div>\n<div id=\"queries\">\n<h3>Queries</h3>\n<p>The result retrieved by <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/query_api.py\" rel=\"nofollow\">QueryApi</a>  could be formatted as a:</p>\n<ol>\n<li>Flux data structure: <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/flux_table.py#L5\" rel=\"nofollow\">FluxTable</a>, <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/flux_table.py#L22\" rel=\"nofollow\">FluxColumn</a> and <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/flux_table.py#L31\" rel=\"nofollow\">FluxRecord</a></li>\n<li><a href=\"https://docs.python.org/3.4/library/csv.html#reader-objects\" rel=\"nofollow\">csv.reader</a> which will iterate over CSV lines</li>\n<li>Raw unprocessed results as a <tt>str</tt> iterator</li>\n<li><a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html\" rel=\"nofollow\">Pandas DataFrame</a></li>\n</ol>\n<p>The API also support streaming <tt>FluxRecord</tt> via <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/influxdb_client/client/query_api.py#L77\" rel=\"nofollow\">query_stream</a>, see example below:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span> <span class=\"kn\">import</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">,</span> <span class=\"n\">Point</span><span class=\"p\">,</span> <span class=\"n\">Dialect</span>\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client.client.write_api</span> <span class=\"kn\">import</span> <span class=\"n\">SYNCHRONOUS</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s2\">\"http://localhost:9999\"</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"s2\">\"my-token\"</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"s2\">\"my-org\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">write_api</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">SYNCHRONOUS</span><span class=\"p\">)</span>\n<span class=\"n\">query_api</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">query_api</span><span class=\"p\">()</span>\n\n<span class=\"sd\">\"\"\"\nPrepare data\n\"\"\"</span>\n\n<span class=\"n\">_point1</span> <span class=\"o\">=</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"s2\">\"my_measurement\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s2\">\"location\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Prague\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"temperature\"</span><span class=\"p\">,</span> <span class=\"mf\">25.3</span><span class=\"p\">)</span>\n<span class=\"n\">_point2</span> <span class=\"o\">=</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"s2\">\"my_measurement\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s2\">\"location\"</span><span class=\"p\">,</span> <span class=\"s2\">\"New York\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"temperature\"</span><span class=\"p\">,</span> <span class=\"mf\">24.3</span><span class=\"p\">)</span>\n\n<span class=\"n\">write_api</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">bucket</span><span class=\"o\">=</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"n\">record</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">_point1</span><span class=\"p\">,</span> <span class=\"n\">_point2</span><span class=\"p\">])</span>\n\n<span class=\"sd\">\"\"\"\nQuery: using Table structure\n\"\"\"</span>\n<span class=\"n\">tables</span> <span class=\"o\">=</span> <span class=\"n\">query_api</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"s1\">'from(bucket:\"my-bucket\") |&gt; range(start: -10m)'</span><span class=\"p\">)</span>\n\n<span class=\"k\">for</span> <span class=\"n\">table</span> <span class=\"ow\">in</span> <span class=\"n\">tables</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">table</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">record</span> <span class=\"ow\">in</span> <span class=\"n\">table</span><span class=\"o\">.</span><span class=\"n\">records</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">record</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">)</span>\n\n<span class=\"nb\">print</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">()</span>\n\n<span class=\"sd\">\"\"\"\nQuery: using Stream\n\"\"\"</span>\n<span class=\"n\">records</span> <span class=\"o\">=</span> <span class=\"n\">query_api</span><span class=\"o\">.</span><span class=\"n\">query_stream</span><span class=\"p\">(</span><span class=\"s1\">'from(bucket:\"my-bucket\") |&gt; range(start: -10m)'</span><span class=\"p\">)</span>\n\n<span class=\"k\">for</span> <span class=\"n\">record</span> <span class=\"ow\">in</span> <span class=\"n\">records</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'Temperature in </span><span class=\"si\">{</span><span class=\"n\">record</span><span class=\"p\">[</span><span class=\"s2\">\"location\"</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\"> is </span><span class=\"si\">{</span><span class=\"n\">record</span><span class=\"p\">[</span><span class=\"s2\">\"_value\"</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n\n<span class=\"sd\">\"\"\"\nInterrupt a stream after retrieve a required data\n\"\"\"</span>\n<span class=\"n\">large_stream</span> <span class=\"o\">=</span> <span class=\"n\">query_api</span><span class=\"o\">.</span><span class=\"n\">query_stream</span><span class=\"p\">(</span><span class=\"s1\">'from(bucket:\"my-bucket\") |&gt; range(start: -100d)'</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">record</span> <span class=\"ow\">in</span> <span class=\"n\">large_stream</span><span class=\"p\">:</span>\n    <span class=\"k\">if</span> <span class=\"n\">record</span><span class=\"p\">[</span><span class=\"s2\">\"location\"</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"s2\">\"New York\"</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'New York temperature: </span><span class=\"si\">{</span><span class=\"n\">record</span><span class=\"p\">[</span><span class=\"s2\">\"_value\"</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n        <span class=\"k\">break</span>\n\n<span class=\"n\">large_stream</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n\n<span class=\"nb\">print</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">()</span>\n\n<span class=\"sd\">\"\"\"\nQuery: using csv library\n\"\"\"</span>\n<span class=\"n\">csv_result</span> <span class=\"o\">=</span> <span class=\"n\">query_api</span><span class=\"o\">.</span><span class=\"n\">query_csv</span><span class=\"p\">(</span><span class=\"s1\">'from(bucket:\"my-bucket\") |&gt; range(start: -10m)'</span><span class=\"p\">,</span>\n                                 <span class=\"n\">dialect</span><span class=\"o\">=</span><span class=\"n\">Dialect</span><span class=\"p\">(</span><span class=\"n\">header</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">delimiter</span><span class=\"o\">=</span><span class=\"s2\">\",\"</span><span class=\"p\">,</span> <span class=\"n\">comment_prefix</span><span class=\"o\">=</span><span class=\"s2\">\"#\"</span><span class=\"p\">,</span> <span class=\"n\">annotations</span><span class=\"o\">=</span><span class=\"p\">[],</span>\n                                                 <span class=\"n\">date_time_format</span><span class=\"o\">=</span><span class=\"s2\">\"RFC3339\"</span><span class=\"p\">))</span>\n<span class=\"k\">for</span> <span class=\"n\">csv_line</span> <span class=\"ow\">in</span> <span class=\"n\">csv_result</span><span class=\"p\">:</span>\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">csv_line</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'Temperature in </span><span class=\"si\">{</span><span class=\"n\">csv_line</span><span class=\"p\">[</span><span class=\"mi\">9</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\"> is </span><span class=\"si\">{</span><span class=\"n\">csv_line</span><span class=\"p\">[</span><span class=\"mi\">6</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n\n<span class=\"sd\">\"\"\"\nClose client\n\"\"\"</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"fm\">__del__</span><span class=\"p\">()</span>\n</pre>\n<div id=\"id4\">\n<h4>Pandas DataFrame</h4>\n<div>\n<p>Note</p>\n<p>For DataFrame querying you should install Pandas dependency via <tt>pip install <span class=\"pre\">influxdb-client[extra]</span></tt>.</p>\n</div>\n<div>\n<p>Note</p>\n<p>Note that if a query returns more then one table then the client generates a <tt>DataFrame</tt> for each of them.</p>\n</div>\n<p>The <tt>client</tt> is able to retrieve data in <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html\" rel=\"nofollow\">Pandas DataFrame</a> format thought <tt>query_data_frame</tt>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span> <span class=\"kn\">import</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">,</span> <span class=\"n\">Point</span><span class=\"p\">,</span> <span class=\"n\">Dialect</span>\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client.client.write_api</span> <span class=\"kn\">import</span> <span class=\"n\">SYNCHRONOUS</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s2\">\"http://localhost:9999\"</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"s2\">\"my-token\"</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"s2\">\"my-org\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">write_api</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">SYNCHRONOUS</span><span class=\"p\">)</span>\n<span class=\"n\">query_api</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">query_api</span><span class=\"p\">()</span>\n\n<span class=\"sd\">\"\"\"\nPrepare data\n\"\"\"</span>\n\n<span class=\"n\">_point1</span> <span class=\"o\">=</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"s2\">\"my_measurement\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s2\">\"location\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Prague\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"temperature\"</span><span class=\"p\">,</span> <span class=\"mf\">25.3</span><span class=\"p\">)</span>\n<span class=\"n\">_point2</span> <span class=\"o\">=</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"s2\">\"my_measurement\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s2\">\"location\"</span><span class=\"p\">,</span> <span class=\"s2\">\"New York\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"temperature\"</span><span class=\"p\">,</span> <span class=\"mf\">24.3</span><span class=\"p\">)</span>\n\n<span class=\"n\">write_api</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">bucket</span><span class=\"o\">=</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"n\">record</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">_point1</span><span class=\"p\">,</span> <span class=\"n\">_point2</span><span class=\"p\">])</span>\n\n<span class=\"sd\">\"\"\"\nQuery: using Pandas DataFrame\n\"\"\"</span>\n<span class=\"n\">data_frame</span> <span class=\"o\">=</span> <span class=\"n\">query_api</span><span class=\"o\">.</span><span class=\"n\">query_data_frame</span><span class=\"p\">(</span><span class=\"s1\">'from(bucket:\"my-bucket\") '</span>\n                                        <span class=\"s1\">'|&gt; range(start: -10m) '</span>\n                                        <span class=\"s1\">'|&gt; pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\") '</span>\n                                        <span class=\"s1\">'|&gt; keep(columns: [\"location\", \"temperature\"])'</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">data_frame</span><span class=\"o\">.</span><span class=\"n\">to_string</span><span class=\"p\">())</span>\n\n<span class=\"sd\">\"\"\"\nClose client\n\"\"\"</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"fm\">__del__</span><span class=\"p\">()</span>\n</pre>\n<p>Output:</p>\n<pre>    result table  location  temperature\n0  _result     0  New York         24.3\n1  _result     1    Prague         25.3\n</pre>\n</div>\n</div>\n<div id=\"examples\">\n<h3>Examples</h3>\n<div id=\"how-to-efficiently-import-large-dataset\">\n<h4>How to efficiently import large dataset</h4>\n<p>The following example shows how to import dataset with dozen megabytes.\nIf you would like to import gigabytes of data then use our multiprocessing example: <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/examples/import_data_set_multiprocessing.py\" rel=\"nofollow\">import_data_set_multiprocessing.py</a> for use a full capability of your hardware.</p>\n<ul>\n<li>sources - <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/examples/import_data_set.py\" rel=\"nofollow\">import_data_set.py</a></li>\n</ul>\n<pre><span class=\"sd\">\"\"\"\nImport VIX - CBOE Volatility Index - from \"vix-daily.csv\" file into InfluxDB 2.0\n\nhttps://datahub.io/core/finance-vix#data\n\"\"\"</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">collections</span> <span class=\"kn\">import</span> <span class=\"n\">OrderedDict</span>\n<span class=\"kn\">from</span> <span class=\"nn\">csv</span> <span class=\"kn\">import</span> <span class=\"n\">DictReader</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">rx</span>\n<span class=\"kn\">from</span> <span class=\"nn\">rx</span> <span class=\"kn\">import</span> <span class=\"n\">operators</span> <span class=\"k\">as</span> <span class=\"n\">ops</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span> <span class=\"kn\">import</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">,</span> <span class=\"n\">Point</span><span class=\"p\">,</span> <span class=\"n\">WriteOptions</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">parse_row</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">:</span> <span class=\"n\">OrderedDict</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"Parse row of CSV file into Point with structure:\n\n        financial-analysis,type=ily close=18.47,high=19.82,low=18.28,open=19.82 1198195200000000000\n\n    CSV format:\n        Date,VIX Open,VIX High,VIX Low,VIX Close\\n\n        2004-01-02,17.96,18.68,17.54,18.22\\n\n        2004-01-05,18.45,18.49,17.44,17.49\\n\n        2004-01-06,17.66,17.67,16.19,16.73\\n\n        2004-01-07,16.72,16.75,15.5,15.5\\n\n        2004-01-08,15.42,15.68,15.32,15.61\\n\n        2004-01-09,16.15,16.88,15.57,16.75\\n\n        ...\n\n    :param row: the row of CSV file\n    :return: Parsed csv row to [Point]\n    \"\"\"</span>\n\n    <span class=\"sd\">\"\"\"\n     For better performance is sometimes useful directly create a LineProtocol to avoid unnecessary escaping overhead:\n     \"\"\"</span>\n     <span class=\"c1\"># from pytz import UTC</span>\n     <span class=\"c1\"># import ciso8601</span>\n     <span class=\"c1\"># from influxdb_client.client.write.point import EPOCH</span>\n     <span class=\"c1\">#</span>\n     <span class=\"c1\"># time = (UTC.localize(ciso8601.parse_datetime(row[\"Date\"])) - EPOCH).total_seconds() * 1e9</span>\n     <span class=\"c1\"># return f\"financial-analysis,type=vix-daily\" \\</span>\n     <span class=\"c1\">#        f\" close={float(row['VIX Close'])},high={float(row['VIX High'])},low={float(row['VIX Low'])},open={float(row['VIX Open'])} \" \\</span>\n     <span class=\"c1\">#        f\" {int(time)}\"</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"s2\">\"financial-analysis\"</span><span class=\"p\">)</span> \\\n        <span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s2\">\"type\"</span><span class=\"p\">,</span> <span class=\"s2\">\"vix-daily\"</span><span class=\"p\">)</span> \\\n        <span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"open\"</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">[</span><span class=\"s1\">'VIX Open'</span><span class=\"p\">]))</span> \\\n        <span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"high\"</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">[</span><span class=\"s1\">'VIX High'</span><span class=\"p\">]))</span> \\\n        <span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"low\"</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">[</span><span class=\"s1\">'VIX Low'</span><span class=\"p\">]))</span> \\\n        <span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s2\">\"close\"</span><span class=\"p\">,</span> <span class=\"nb\">float</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">[</span><span class=\"s1\">'VIX Close'</span><span class=\"p\">]))</span> \\\n        <span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">[</span><span class=\"s1\">'Date'</span><span class=\"p\">])</span>\n\n\n<span class=\"sd\">\"\"\"\nConverts vix-daily.csv into sequence of datad point\n\"\"\"</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">rx</span> \\\n    <span class=\"o\">.</span><span class=\"n\">from_iterable</span><span class=\"p\">(</span><span class=\"n\">DictReader</span><span class=\"p\">(</span><span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'vix-daily.csv'</span><span class=\"p\">,</span> <span class=\"s1\">'r'</span><span class=\"p\">)))</span> \\\n    <span class=\"o\">.</span><span class=\"n\">pipe</span><span class=\"p\">(</span><span class=\"n\">ops</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"k\">lambda</span> <span class=\"n\">row</span><span class=\"p\">:</span> <span class=\"n\">parse_row</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)))</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s2\">\"http://localhost:9999\"</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"s2\">\"my-token\"</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"n\">debug</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"sd\">\"\"\"\nCreate client that writes data in batches with 50_000 items.\n\"\"\"</span>\n<span class=\"n\">write_api</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">WriteOptions</span><span class=\"p\">(</span><span class=\"n\">batch_size</span><span class=\"o\">=</span><span class=\"mi\">50_000</span><span class=\"p\">,</span> <span class=\"n\">flush_interval</span><span class=\"o\">=</span><span class=\"mi\">10_000</span><span class=\"p\">))</span>\n\n<span class=\"sd\">\"\"\"\nWrite data into InfluxDB\n\"\"\"</span>\n<span class=\"n\">write_api</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">bucket</span><span class=\"o\">=</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"n\">record</span><span class=\"o\">=</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"n\">write_api</span><span class=\"o\">.</span><span class=\"fm\">__del__</span><span class=\"p\">()</span>\n\n<span class=\"sd\">\"\"\"\nQuerying max value of CBOE Volatility Index\n\"\"\"</span>\n<span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"s1\">'from(bucket:\"my-bucket\")'</span> \\\n        <span class=\"s1\">' |&gt; range(start: 0, stop: now())'</span> \\\n        <span class=\"s1\">' |&gt; filter(fn: (r) =&gt; r._measurement == \"financial-analysis\")'</span> \\\n        <span class=\"s1\">' |&gt; max()'</span>\n<span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">query_api</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"o\">=</span><span class=\"n\">query</span><span class=\"p\">)</span>\n\n<span class=\"sd\">\"\"\"\nProcessing results\n\"\"\"</span>\n<span class=\"nb\">print</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"=== results ===\"</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">()</span>\n<span class=\"k\">for</span> <span class=\"n\">table</span> <span class=\"ow\">in</span> <span class=\"n\">result</span><span class=\"p\">:</span>\n    <span class=\"k\">for</span> <span class=\"n\">record</span> <span class=\"ow\">in</span> <span class=\"n\">table</span><span class=\"o\">.</span><span class=\"n\">records</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'max </span><span class=\"si\">{0:5}</span><span class=\"s1\"> = </span><span class=\"si\">{1}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">record</span><span class=\"o\">.</span><span class=\"n\">get_field</span><span class=\"p\">(),</span> <span class=\"n\">record</span><span class=\"o\">.</span><span class=\"n\">get_value</span><span class=\"p\">()))</span>\n\n<span class=\"sd\">\"\"\"\nClose client\n\"\"\"</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"fm\">__del__</span><span class=\"p\">()</span>\n</pre>\n</div>\n<div id=\"efficiency-write-data-from-iot-sensor\">\n<h4>Efficiency write data from IOT sensor</h4>\n<ul>\n<li>sources - <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/examples/iot_sensor.py\" rel=\"nofollow\">iot_sensor.py</a></li>\n</ul>\n<pre><span class=\"sd\">\"\"\"\nEfficiency write data from IOT sensor - write changed temperature every minute\n\"\"\"</span>\n<span class=\"kn\">import</span> <span class=\"nn\">atexit</span>\n<span class=\"kn\">import</span> <span class=\"nn\">platform</span>\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">timedelta</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">psutil</span> <span class=\"k\">as</span> <span class=\"nn\">psutil</span>\n<span class=\"kn\">import</span> <span class=\"nn\">rx</span>\n<span class=\"kn\">from</span> <span class=\"nn\">rx</span> <span class=\"kn\">import</span> <span class=\"n\">operators</span> <span class=\"k\">as</span> <span class=\"n\">ops</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span> <span class=\"kn\">import</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">,</span> <span class=\"n\">WriteApi</span><span class=\"p\">,</span> <span class=\"n\">WriteOptions</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">on_exit</span><span class=\"p\">(</span><span class=\"n\">db_client</span><span class=\"p\">:</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">,</span> <span class=\"n\">write_api</span><span class=\"p\">:</span> <span class=\"n\">WriteApi</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"Close clients after terminate a script.\n\n    :param db_client: InfluxDB client\n    :param write_api: WriteApi\n    :return: nothing\n    \"\"\"</span>\n    <span class=\"n\">write_api</span><span class=\"o\">.</span><span class=\"fm\">__del__</span><span class=\"p\">()</span>\n    <span class=\"n\">db_client</span><span class=\"o\">.</span><span class=\"fm\">__del__</span><span class=\"p\">()</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">sensor_temperature</span><span class=\"p\">():</span>\n    <span class=\"sd\">\"\"\"Read a CPU temperature. The [psutil] doesn't support MacOS so we use [sysctl].\n\n    :return: actual CPU temperature\n    \"\"\"</span>\n    <span class=\"n\">os_name</span> <span class=\"o\">=</span> <span class=\"n\">platform</span><span class=\"o\">.</span><span class=\"n\">system</span><span class=\"p\">()</span>\n    <span class=\"k\">if</span> <span class=\"n\">os_name</span> <span class=\"o\">==</span> <span class=\"s1\">'Darwin'</span><span class=\"p\">:</span>\n        <span class=\"kn\">from</span> <span class=\"nn\">subprocess</span> <span class=\"kn\">import</span> <span class=\"n\">check_output</span>\n        <span class=\"n\">output</span> <span class=\"o\">=</span> <span class=\"n\">check_output</span><span class=\"p\">([</span><span class=\"s2\">\"sysctl\"</span><span class=\"p\">,</span> <span class=\"s2\">\"machdep.xcpm.cpu_thermal_level\"</span><span class=\"p\">])</span>\n        <span class=\"kn\">import</span> <span class=\"nn\">re</span>\n        <span class=\"k\">return</span> <span class=\"n\">re</span><span class=\"o\">.</span><span class=\"n\">findall</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s1\">'\\d+'</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">output</span><span class=\"p\">))[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"n\">psutil</span><span class=\"o\">.</span><span class=\"n\">sensors_temperatures</span><span class=\"p\">()[</span><span class=\"s2\">\"coretemp\"</span><span class=\"p\">][</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">line_protocol</span><span class=\"p\">(</span><span class=\"n\">temperature</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"Create a InfluxDB line protocol with structure:\n\n        iot_sensor,hostname=mine_sensor_12,type=temperature value=68\n\n    :param temperature: the sensor temperature\n    :return: Line protocol to write into InfluxDB\n    \"\"\"</span>\n\n    <span class=\"kn\">import</span> <span class=\"nn\">socket</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'iot_sensor,hostname=</span><span class=\"si\">{}</span><span class=\"s1\">,type=temperature value=</span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"n\">gethostname</span><span class=\"p\">(),</span> <span class=\"n\">temperature</span><span class=\"p\">)</span>\n\n\n<span class=\"sd\">\"\"\"\nRead temperature every minute; distinct_until_changed - produce only if temperature change\n\"\"\"</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">rx</span>\\\n    <span class=\"o\">.</span><span class=\"n\">interval</span><span class=\"p\">(</span><span class=\"n\">period</span><span class=\"o\">=</span><span class=\"n\">timedelta</span><span class=\"p\">(</span><span class=\"n\">seconds</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">))</span>\\\n    <span class=\"o\">.</span><span class=\"n\">pipe</span><span class=\"p\">(</span><span class=\"n\">ops</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"k\">lambda</span> <span class=\"n\">t</span><span class=\"p\">:</span> <span class=\"n\">sensor_temperature</span><span class=\"p\">()),</span>\n          <span class=\"n\">ops</span><span class=\"o\">.</span><span class=\"n\">distinct_until_changed</span><span class=\"p\">(),</span>\n          <span class=\"n\">ops</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"k\">lambda</span> <span class=\"n\">temperature</span><span class=\"p\">:</span> <span class=\"n\">line_protocol</span><span class=\"p\">(</span><span class=\"n\">temperature</span><span class=\"p\">)))</span>\n\n<span class=\"n\">_db_client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s2\">\"http://localhost:9999\"</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"s2\">\"my-token\"</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"n\">debug</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"sd\">\"\"\"\nCreate client that writes data into InfluxDB\n\"\"\"</span>\n<span class=\"n\">_write_api</span> <span class=\"o\">=</span> <span class=\"n\">_db_client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">WriteOptions</span><span class=\"p\">(</span><span class=\"n\">batch_size</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">))</span>\n<span class=\"n\">_write_api</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">bucket</span><span class=\"o\">=</span><span class=\"s2\">\"my-bucket\"</span><span class=\"p\">,</span> <span class=\"n\">record</span><span class=\"o\">=</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n\n<span class=\"sd\">\"\"\"\nCall after terminate a script\n\"\"\"</span>\n<span class=\"n\">atexit</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"n\">on_exit</span><span class=\"p\">,</span> <span class=\"n\">_db_client</span><span class=\"p\">,</span> <span class=\"n\">_write_api</span><span class=\"p\">)</span>\n\n<span class=\"nb\">input</span><span class=\"p\">()</span>\n</pre>\n</div>\n<div id=\"connect-to-influxdb-cloud\">\n<h4>Connect to InfluxDB Cloud</h4>\n<p>The following example demonstrate a simplest way how to write and query date with the InfluxDB Cloud.</p>\n<p>At first point you should create an authentication token as is described <a href=\"https://v2.docs.influxdata.com/v2.0/security/tokens/create-token/\" rel=\"nofollow\">here</a>.</p>\n<p>After that you should configure properties: <tt>influx_cloud_url</tt>, <tt>influx_cloud_token</tt>, <tt>bucket</tt> and <tt>org</tt> in a <tt>influx_cloud.py</tt> example.</p>\n<p>The last step is run a python script via: <tt>python3 influx_cloud.py</tt>.</p>\n<ul>\n<li>sources - <a href=\"https://github.com/influxdata/influxdb-client-python/blob/master/examples/influx_cloud.py\" rel=\"nofollow\">influx_cloud.py</a></li>\n</ul>\n<pre><span class=\"sd\">\"\"\"\nConnect to InfluxDB 2.0 - write data and query them\n\"\"\"</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span> <span class=\"kn\">import</span> <span class=\"n\">Point</span><span class=\"p\">,</span> <span class=\"n\">InfluxDBClient</span>\n<span class=\"kn\">from</span> <span class=\"nn\">influxdb_client.client.write_api</span> <span class=\"kn\">import</span> <span class=\"n\">SYNCHRONOUS</span>\n\n<span class=\"sd\">\"\"\"\nConfigure credentials\n\"\"\"</span>\n<span class=\"n\">influx_cloud_url</span> <span class=\"o\">=</span> <span class=\"s1\">'https://us-west-2-1.aws.cloud2.influxdata.com'</span>\n<span class=\"n\">influx_cloud_token</span> <span class=\"o\">=</span> <span class=\"s1\">'...'</span>\n<span class=\"n\">bucket</span> <span class=\"o\">=</span> <span class=\"s1\">'...'</span>\n<span class=\"n\">org</span> <span class=\"o\">=</span> <span class=\"s1\">'...'</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"n\">influx_cloud_url</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"n\">influx_cloud_token</span><span class=\"p\">)</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"n\">kind</span> <span class=\"o\">=</span> <span class=\"s1\">'temperature'</span>\n    <span class=\"n\">host</span> <span class=\"o\">=</span> <span class=\"s1\">'host1'</span>\n    <span class=\"n\">device</span> <span class=\"o\">=</span> <span class=\"s1\">'opt-123'</span>\n\n    <span class=\"sd\">\"\"\"\n    Write data by Point structure\n    \"\"\"</span>\n    <span class=\"n\">point</span> <span class=\"o\">=</span> <span class=\"n\">Point</span><span class=\"p\">(</span><span class=\"n\">kind</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s1\">'host'</span><span class=\"p\">,</span> <span class=\"n\">host</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">tag</span><span class=\"p\">(</span><span class=\"s1\">'device'</span><span class=\"p\">,</span> <span class=\"n\">device</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"s1\">'value'</span><span class=\"p\">,</span> <span class=\"mf\">25.3</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">utcnow</span><span class=\"p\">())</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'Writing to InfluxDB cloud: </span><span class=\"si\">{</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">to_line_protocol</span><span class=\"p\">()</span><span class=\"si\">}</span><span class=\"s1\"> ...'</span><span class=\"p\">)</span>\n\n    <span class=\"n\">write_api</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">write_api</span><span class=\"p\">(</span><span class=\"n\">write_options</span><span class=\"o\">=</span><span class=\"n\">SYNCHRONOUS</span><span class=\"p\">)</span>\n    <span class=\"n\">write_api</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">bucket</span><span class=\"o\">=</span><span class=\"n\">bucket</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"n\">org</span><span class=\"p\">,</span> <span class=\"n\">record</span><span class=\"o\">=</span><span class=\"n\">point</span><span class=\"p\">)</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'success'</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">()</span>\n\n    <span class=\"sd\">\"\"\"\n    Query written data\n    \"\"\"</span>\n    <span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s1\">'from(bucket: \"</span><span class=\"si\">{</span><span class=\"n\">bucket</span><span class=\"si\">}</span><span class=\"s1\">\") |&gt; range(start: -1d) |&gt; filter(fn: (r) =&gt; r._measurement == \"</span><span class=\"si\">{</span><span class=\"n\">kind</span><span class=\"si\">}</span><span class=\"s1\">\")'</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'Querying from InfluxDB cloud: \"</span><span class=\"si\">{</span><span class=\"n\">query</span><span class=\"si\">}</span><span class=\"s1\">\" ...'</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">()</span>\n\n    <span class=\"n\">query_api</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">query_api</span><span class=\"p\">()</span>\n    <span class=\"n\">tables</span> <span class=\"o\">=</span> <span class=\"n\">query_api</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"o\">=</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"n\">org</span><span class=\"p\">)</span>\n\n    <span class=\"k\">for</span> <span class=\"n\">table</span> <span class=\"ow\">in</span> <span class=\"n\">tables</span><span class=\"p\">:</span>\n        <span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">table</span><span class=\"o\">.</span><span class=\"n\">records</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'</span><span class=\"si\">{</span><span class=\"n\">row</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">[</span><span class=\"s2\">\"_time\"</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\">: host=</span><span class=\"si\">{</span><span class=\"n\">row</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">[</span><span class=\"s2\">\"host\"</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\">,device=</span><span class=\"si\">{</span><span class=\"n\">row</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">[</span><span class=\"s2\">\"device\"</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\"> '</span>\n                  <span class=\"sa\">f</span><span class=\"s1\">'</span><span class=\"si\">{</span><span class=\"n\">row</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">[</span><span class=\"s2\">\"_value\"</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\"> \u00b0C'</span><span class=\"p\">)</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'success'</span><span class=\"p\">)</span>\n\n<span class=\"k\">except</span> <span class=\"ne\">Exception</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">e</span><span class=\"p\">)</span>\n<span class=\"k\">finally</span><span class=\"p\">:</span>\n    <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre>\n</div>\n<div id=\"how-to-use-jupyter-pandas-influxdb-2\">\n<h4>How to use Jupyter + Pandas + InfluxDB 2</h4>\n<p>The first example shows how to use client capabilities to predict stock price via <a href=\"https://keras.io\" rel=\"nofollow\">Keras</a>, <a href=\"https://www.tensorflow.org\" rel=\"nofollow\">TensorFlow</a>, <a href=\"https://scikit-learn.org/stable/\" rel=\"nofollow\">sklearn</a>:</p>\n<p>The example is taken from <a href=\"https://www.kaggle.com/chaitanyacc4/predicting-stock-prices-of-apple-inc\" rel=\"nofollow\">Kaggle</a>.</p>\n<ul>\n<li>sources - <a href=\"notebooks/stock-predictions.ipynb\" rel=\"nofollow\">stock-predictions.ipynb</a></li>\n</ul>\n<img alt=\"https://raw.githubusercontent.com/influxdata/influxdb-client-python/master/docs/images/stock-price-prediction.gif\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/626c9f6897af00efe540629f6b0bde736c38bf13/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f696e666c7578646174612f696e666c757864622d636c69656e742d707974686f6e2f6d61737465722f646f63732f696d616765732f73746f636b2d70726963652d70726564696374696f6e2e676966\">\n<p>Result:</p>\n<img alt=\"https://raw.githubusercontent.com/influxdata/influxdb-client-python/master/docs/images/stock-price-prediction-results.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7532eace9132012a64fbb8cb90c1cca8dbea10f4/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f696e666c7578646174612f696e666c757864622d636c69656e742d707974686f6e2f6d61737465722f646f63732f696d616765732f73746f636b2d70726963652d70726564696374696f6e2d726573756c74732e706e67\">\n<p>The second example shows how to use client capabilities to realtime visualization via <a href=\"https://hvplot.pyviz.org\" rel=\"nofollow\">hvPlot</a>, <a href=\"https://streamz.readthedocs.io/en/latest/\" rel=\"nofollow\">Streamz</a>, <a href=\"https://rxpy.readthedocs.io/en/latest/\" rel=\"nofollow\">RxPY</a>:</p>\n<ul>\n<li>sources - <a href=\"notebooks/realtime-stream.ipynb\" rel=\"nofollow\">realtime-stream.ipynb</a></li>\n</ul>\n<img alt=\"https://raw.githubusercontent.com/influxdata/influxdb-client-python/master/docs/images/realtime-result.gif\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6ffc5f30023a2393bac1d8dccbdb9575ded69b72/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f696e666c7578646174612f696e666c757864622d636c69656e742d707974686f6e2f6d61737465722f646f63732f696d616765732f7265616c74696d652d726573756c742e676966\">\n</div>\n</div>\n</div>\n<div id=\"advanced-usage\">\n<h2>Advanced Usage</h2>\n<div id=\"gzip-support\">\n<h3>Gzip support</h3>\n<p><tt>InfluxDBClient</tt> does not enable gzip compression for http requests by default. If you want to enable gzip to reduce transfer data\u2019s size, you can call:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">influxdb_client</span> <span class=\"kn\">import</span> <span class=\"n\">InfluxDBClient</span>\n\n<span class=\"n\">_db_client</span> <span class=\"o\">=</span> <span class=\"n\">InfluxDBClient</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s2\">\"http://localhost:9999\"</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"s2\">\"my-token\"</span><span class=\"p\">,</span> <span class=\"n\">org</span><span class=\"o\">=</span><span class=\"s2\">\"my-org\"</span><span class=\"p\">,</span> <span class=\"n\">enable_gzip</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"influxdb-1-8-api-compatibility\">\n<h3>InfluxDB 1.8 API compatibility</h3>\n<p><a href=\"https://docs.influxdata.com/influxdb/latest/tools/api/#influxdb-2-0-api-compatibility-endpoints\" rel=\"nofollow\">InfluxDB 1.8.0 introduced forward compatibility APIs</a> for InfluxDB 2.0. This allow you to easily move from InfluxDB 1.x to InfluxDB 2.0 Cloud or open source.</p>\n<p>The following forward compatible APIs are available:</p>\n<table>\n<colgroup>\n<col>\n<col>\n<col>\n</colgroup>\n<thead>\n<tr><th>API</th>\n<th>Endpoint</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr><td><a href=\"influxdb_client/client/query_api.py\" rel=\"nofollow\">query_api.py</a></td>\n<td><a href=\"https://docs.influxdata.com/influxdb/latest/tools/api/#api-v2-query-http-endpoint\" rel=\"nofollow\">/api/v2/query</a></td>\n<td>Query data in InfluxDB 1.8.0+ using the InfluxDB 2.0 API and <a href=\"https://docs.influxdata.com/flux/latest/\" rel=\"nofollow\">Flux</a> (endpoint should be enabled by <a href=\"https://docs.influxdata.com/influxdb/latest/administration/config/#flux-enabled-false\" rel=\"nofollow\">flux-enabled option</a>)</td>\n</tr>\n<tr><td><a href=\"influxdb_client/client/write_api.py\" rel=\"nofollow\">write_api.py</a></td>\n<td><a href=\"https://docs.influxdata.com/influxdb/latest/tools/api/#api-v2-write-http-endpoint\" rel=\"nofollow\">/api/v2/write</a></td>\n<td>Write data to InfluxDB 1.8.0+ using the InfluxDB 2.0 API</td>\n</tr>\n<tr><td><a href=\"influxdb_client/client/influxdb_client.py\" rel=\"nofollow\">health()</a></td>\n<td><a href=\"https://docs.influxdata.com/influxdb/latest/tools/api/#health-http-endpointt\" rel=\"nofollow\">/health</a></td>\n<td>Check the health of your InfluxDB instance</td>\n</tr>\n</tbody>\n</table>\n<p>For detail info see <a href=\"examples/influxdb_18_example.py\" rel=\"nofollow\">InfluxDB 1.8 example</a>.</p>\n</div>\n</div>\n<div id=\"local-tests\">\n<h2>Local tests</h2>\n<pre><span class=\"c1\"># start/restart InfluxDB2 on local machine using docker</span>\n<span class=\"o\">./</span><span class=\"n\">scripts</span><span class=\"o\">/</span><span class=\"n\">influxdb</span><span class=\"o\">-</span><span class=\"n\">restart</span><span class=\"o\">.</span><span class=\"n\">sh</span>\n\n<span class=\"c1\"># install requirements</span>\n<span class=\"n\">pip</span> <span class=\"n\">install</span> <span class=\"o\">-</span><span class=\"n\">r</span> <span class=\"n\">requirements</span><span class=\"o\">.</span><span class=\"n\">txt</span> <span class=\"o\">--</span><span class=\"n\">user</span>\n<span class=\"n\">pip</span> <span class=\"n\">install</span> <span class=\"o\">-</span><span class=\"n\">r</span> <span class=\"n\">extra</span><span class=\"o\">-</span><span class=\"n\">requirements</span><span class=\"o\">.</span><span class=\"n\">txt</span> <span class=\"o\">--</span><span class=\"n\">user</span>\n<span class=\"n\">pip</span> <span class=\"n\">install</span> <span class=\"o\">-</span><span class=\"n\">r</span> <span class=\"n\">test</span><span class=\"o\">-</span><span class=\"n\">requirements</span><span class=\"o\">.</span><span class=\"n\">txt</span> <span class=\"o\">--</span><span class=\"n\">user</span>\n\n<span class=\"c1\"># run unit &amp; integration tests</span>\n<span class=\"n\">pytest</span> <span class=\"n\">tests</span>\n</pre>\n</div>\n<div id=\"contributing\">\n<h2>Contributing</h2>\n<p>Bug reports and pull requests are welcome on GitHub at <a href=\"https://github.com/influxdata/influxdb-client-python\" rel=\"nofollow\">https://github.com/influxdata/influxdb-client-python</a>.</p>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>The gem is available as open source under the terms of the <a href=\"https://opensource.org/licenses/MIT\" rel=\"nofollow\">MIT License</a>.</p>\n</div>\n\n          </div>"}, "last_serial": 7037907, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "90eea8dd4fa23c2afc0f5a6f1e7c30c1", "sha256": "2c301eb8a836e680d7115f6f501ea94876f275965806b03154dc020216158930"}, "downloads": -1, "filename": "influxdb_client-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "90eea8dd4fa23c2afc0f5a6f1e7c30c1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 473351, "upload_time": "2019-09-26T16:04:14", "upload_time_iso_8601": "2019-09-26T16:04:14.907316Z", "url": "https://files.pythonhosted.org/packages/88/d3/03b3c6094236b5b79f371046b63c2297c02a08e5f37f9b1eda3a02167b6e/influxdb_client-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bf8339c5753e3e9969add92ca38abc90", "sha256": "db331e0e93159dddeb65635e56f676390ff1f4de4f1b87c3584d71cfc213af98"}, "downloads": -1, "filename": "influxdb_client-0.0.1.tar.gz", "has_sig": false, "md5_digest": "bf8339c5753e3e9969add92ca38abc90", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 173157, "upload_time": "2019-09-26T16:04:18", "upload_time_iso_8601": "2019-09-26T16:04:18.194023Z", "url": "https://files.pythonhosted.org/packages/b4/7c/c6aa47811805f8225b416805452c8de62ced20bb5848e680030641d159f4/influxdb_client-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "40f2bfc12f82dfc5aba45f404315134d", "sha256": "c8fee37aa08b572a0deabcdb194e3e049518d2be16784b59428225e1822cff0f"}, "downloads": -1, "filename": "influxdb_client-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "40f2bfc12f82dfc5aba45f404315134d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 473357, "upload_time": "2019-09-26T16:14:06", "upload_time_iso_8601": "2019-09-26T16:14:06.936587Z", "url": "https://files.pythonhosted.org/packages/55/ce/f5c4ff5e7648ef3fdb12d0ec98ee1609078507e3098191c9948a54816d86/influxdb_client-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a51bd941fef4ee16cb52f77cbc89fc69", "sha256": "46d5b09fb2d8a3144cb955ff3c15a3269fd394392af61dceae136d8fd30cae16"}, "downloads": -1, "filename": "influxdb_client-0.0.2.tar.gz", "has_sig": false, "md5_digest": "a51bd941fef4ee16cb52f77cbc89fc69", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 173178, "upload_time": "2019-09-26T16:14:09", "upload_time_iso_8601": "2019-09-26T16:14:09.467969Z", "url": "https://files.pythonhosted.org/packages/c5/b1/eda3629299689ed27685ae4011476aa1e1703a4e26f6c9c9142f20488f82/influxdb_client-0.0.2.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "3ea0fce7face07a35c0c97c2e3664985", "sha256": "50a445ade982cb812ca5eb0726f2885a149e06665a60ce17e037874b9dc8a6b3"}, "downloads": -1, "filename": "influxdb_client-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "3ea0fce7face07a35c0c97c2e3664985", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 483450, "upload_time": "2019-11-11T09:46:54", "upload_time_iso_8601": "2019-11-11T09:46:54.470779Z", "url": "https://files.pythonhosted.org/packages/10/21/3c3cc500ea0d0855671e0d6bb364e7d0a34e69fd02bcb96d9581c9ff11b9/influxdb_client-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "380985c4bf3ff6a96a7a8241e24ab2ac", "sha256": "3dd4e1eb6a04990830a8acd39296d8a35ee27a6e50fb53fa57277f5a335a9ea6"}, "downloads": -1, "filename": "influxdb_client-1.0.0.tar.gz", "has_sig": false, "md5_digest": "380985c4bf3ff6a96a7a8241e24ab2ac", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 180271, "upload_time": "2019-11-11T09:46:57", "upload_time_iso_8601": "2019-11-11T09:46:57.145219Z", "url": "https://files.pythonhosted.org/packages/b9/2d/3047e0e305ea29b30186ca4615386cfd17135e35b8f5ce39dd0e4fe56840/influxdb_client-1.0.0.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "751e805189d71ed132bddc9c1d483601", "sha256": "3e9ee9fb35ed6cb29ddff10f5b393326f71b8d5134335afaf137639178f0b345"}, "downloads": -1, "filename": "influxdb_client-1.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "751e805189d71ed132bddc9c1d483601", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 486424, "upload_time": "2019-11-18T09:09:00", "upload_time_iso_8601": "2019-11-18T09:09:00.101849Z", "url": "https://files.pythonhosted.org/packages/5c/b8/1658ee32e2761f1eb9ec58877d93ce8124cda6d137578e6ff81338120023/influxdb_client-1.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c79c928397affa959d3dbc79754783d1", "sha256": "43e68acd13a5daaa9a438825769b87e166443f02bc29b8cd1863bbce81cf3f87"}, "downloads": -1, "filename": "influxdb_client-1.1.0.tar.gz", "has_sig": false, "md5_digest": "c79c928397affa959d3dbc79754783d1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 183632, "upload_time": "2019-11-18T09:09:02", "upload_time_iso_8601": "2019-11-18T09:09:02.476304Z", "url": "https://files.pythonhosted.org/packages/d6/05/70532f08944779818bdb21594265f01652eba1661b0fa7b6710bfcfafd12/influxdb_client-1.1.0.tar.gz", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "bffcebf4ba4041e55d375ca704028866", "sha256": "1105dd18e30438da19a76d73a1264638fd424b328349111f87c79a179d74c854"}, "downloads": -1, "filename": "influxdb_client-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "bffcebf4ba4041e55d375ca704028866", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 523471, "upload_time": "2019-12-06T09:17:14", "upload_time_iso_8601": "2019-12-06T09:17:14.187672Z", "url": "https://files.pythonhosted.org/packages/7a/af/2f52275eba725eae97e39e503bb258ef2d588fccf9ee312b88b6e3f579af/influxdb_client-1.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "738cac0f25c861317a3f1b98b6f8628c", "sha256": "d08f7ab7baed81b8e2efdc3af359034276ba04771c154e867f49cc39747b7c3a"}, "downloads": -1, "filename": "influxdb_client-1.2.0.tar.gz", "has_sig": false, "md5_digest": "738cac0f25c861317a3f1b98b6f8628c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 192689, "upload_time": "2019-12-06T09:17:16", "upload_time_iso_8601": "2019-12-06T09:17:16.704752Z", "url": "https://files.pythonhosted.org/packages/92/65/011d8dc6a44ae8a8d1e4f27d72c578365197c6fe108557b451e5a51d7eef/influxdb_client-1.2.0.tar.gz", "yanked": false}], "1.3.0": [{"comment_text": "", "digests": {"md5": "629b01668fa615c90b545aec1c806689", "sha256": "bb728c98276998cd8d66b957021f9e451ec3d0cc791ce0344fdf831096a98f97"}, "downloads": -1, "filename": "influxdb_client-1.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "629b01668fa615c90b545aec1c806689", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 478857, "upload_time": "2020-01-17T09:24:15", "upload_time_iso_8601": "2020-01-17T09:24:15.531315Z", "url": "https://files.pythonhosted.org/packages/ce/a2/a268408c5ba18d7c71ef634cba7fe090da45215690ace6ea2b2e9c4f0f5c/influxdb_client-1.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "66debce75beabc2d4251be68d8e65da3", "sha256": "ecf6213418f3099c45a4d761735e8c1c7e433cd6404282e298e70a7444cd8db8"}, "downloads": -1, "filename": "influxdb_client-1.3.0.tar.gz", "has_sig": false, "md5_digest": "66debce75beabc2d4251be68d8e65da3", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 188834, "upload_time": "2020-01-17T09:24:18", "upload_time_iso_8601": "2020-01-17T09:24:18.386806Z", "url": "https://files.pythonhosted.org/packages/54/e5/17963473c455cb3be4a7a7e85a65568007efb80834952d34dae957d8bfea/influxdb_client-1.3.0.tar.gz", "yanked": false}], "1.4.0": [{"comment_text": "", "digests": {"md5": "3d60d602315dae2faffdade74442fb08", "sha256": "365632e3e40460ae64693cb79bc9ff21981e53dc7c8ab2429a388f38a64c3ad9"}, "downloads": -1, "filename": "influxdb_client-1.4.0-py3-none-any.whl", "has_sig": false, "md5_digest": "3d60d602315dae2faffdade74442fb08", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 481364, "upload_time": "2020-02-14T08:33:44", "upload_time_iso_8601": "2020-02-14T08:33:44.741993Z", "url": "https://files.pythonhosted.org/packages/1c/69/0c6c436485d2cf6b56f51ac3d027b9bd556db3e9ff3dec1346257a5a2353/influxdb_client-1.4.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2ef0571e4c43b10eac675d3c651327c2", "sha256": "e5ee68e384eac8b0ae46ccb1fd375022429730e75b6e3017117f3b7ebe652388"}, "downloads": -1, "filename": "influxdb_client-1.4.0.tar.gz", "has_sig": false, "md5_digest": "2ef0571e4c43b10eac675d3c651327c2", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 192603, "upload_time": "2020-02-14T08:33:47", "upload_time_iso_8601": "2020-02-14T08:33:47.665602Z", "url": "https://files.pythonhosted.org/packages/c5/3d/956d03ec9d689bea2b9515ebed590ecf9db0376d73ef705d34b139ce918a/influxdb_client-1.4.0.tar.gz", "yanked": false}], "1.5.0": [{"comment_text": "", "digests": {"md5": "e7a687f58d97c002f548180d9716a15d", "sha256": "1a5ebe0f8d4835a123308fbc23459a9458c7f6a392aaac9fa99f6e1c7794e08b"}, "downloads": -1, "filename": "influxdb_client-1.5.0-py3-none-any.whl", "has_sig": false, "md5_digest": "e7a687f58d97c002f548180d9716a15d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 484175, "upload_time": "2020-03-13T08:36:41", "upload_time_iso_8601": "2020-03-13T08:36:41.279810Z", "url": "https://files.pythonhosted.org/packages/cb/bb/06f064277ba3e8e5a09fa627947d338b7d1663f68a7650fbe5ff9e4a9585/influxdb_client-1.5.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "764d7db38121d0643f33133fa2cecb0e", "sha256": "3f84400107dfce9e5ac044468b9bf2c4f185de81162813811f8c74453e4d62c2"}, "downloads": -1, "filename": "influxdb_client-1.5.0.tar.gz", "has_sig": false, "md5_digest": "764d7db38121d0643f33133fa2cecb0e", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 196613, "upload_time": "2020-03-13T08:36:43", "upload_time_iso_8601": "2020-03-13T08:36:43.649272Z", "url": "https://files.pythonhosted.org/packages/8c/ec/3fe6a73a636444e0813df0d2713b6a09ffe9ca913015aa95e7ebe364ed78/influxdb_client-1.5.0.tar.gz", "yanked": false}], "1.6.0": [{"comment_text": "", "digests": {"md5": "7385ea5fdbc9406c1ac9b63fdc904c10", "sha256": "41a737032b74e25ee211f0599fc008db5fe9668f13008b672eef9c0fa00625e2"}, "downloads": -1, "filename": "influxdb_client-1.6.0-py3-none-any.whl", "has_sig": false, "md5_digest": "7385ea5fdbc9406c1ac9b63fdc904c10", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 485629, "upload_time": "2020-04-17T06:13:45", "upload_time_iso_8601": "2020-04-17T06:13:45.493329Z", "url": "https://files.pythonhosted.org/packages/e4/7a/893f33f32e2984437e49a42e6b7e9a3e673a772ac1c1f5e8ea713a83ed25/influxdb_client-1.6.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2e30e223e11c93fedbc3a1d8fa2decc6", "sha256": "1ba837b941b7e1f3175f2751f1a7fd050106b57a577a76f87846457d25dd0a85"}, "downloads": -1, "filename": "influxdb_client-1.6.0.tar.gz", "has_sig": false, "md5_digest": "2e30e223e11c93fedbc3a1d8fa2decc6", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 200214, "upload_time": "2020-04-17T06:13:47", "upload_time_iso_8601": "2020-04-17T06:13:47.894632Z", "url": "https://files.pythonhosted.org/packages/41/63/257b04764f765cde8590fc865956f37438932989b54a4e7b0908cc070bb9/influxdb_client-1.6.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "7385ea5fdbc9406c1ac9b63fdc904c10", "sha256": "41a737032b74e25ee211f0599fc008db5fe9668f13008b672eef9c0fa00625e2"}, "downloads": -1, "filename": "influxdb_client-1.6.0-py3-none-any.whl", "has_sig": false, "md5_digest": "7385ea5fdbc9406c1ac9b63fdc904c10", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 485629, "upload_time": "2020-04-17T06:13:45", "upload_time_iso_8601": "2020-04-17T06:13:45.493329Z", "url": "https://files.pythonhosted.org/packages/e4/7a/893f33f32e2984437e49a42e6b7e9a3e673a772ac1c1f5e8ea713a83ed25/influxdb_client-1.6.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2e30e223e11c93fedbc3a1d8fa2decc6", "sha256": "1ba837b941b7e1f3175f2751f1a7fd050106b57a577a76f87846457d25dd0a85"}, "downloads": -1, "filename": "influxdb_client-1.6.0.tar.gz", "has_sig": false, "md5_digest": "2e30e223e11c93fedbc3a1d8fa2decc6", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 200214, "upload_time": "2020-04-17T06:13:47", "upload_time_iso_8601": "2020-04-17T06:13:47.894632Z", "url": "https://files.pythonhosted.org/packages/41/63/257b04764f765cde8590fc865956f37438932989b54a4e7b0908cc070bb9/influxdb_client-1.6.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:56:05 2020"}
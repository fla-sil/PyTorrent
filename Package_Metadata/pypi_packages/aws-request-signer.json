{"info": {"author": "Ingmar Steen", "author_email": "iksteen@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": "# aws-request-signer\n> A python library to sign AWS requests using AWS Signature V4.\n\nThis small python library serves only purpose: Helping you sign HTTP\nrequests for use with AWS (and compatible) services. The library is\nunopinionated and should work with just about anything that makes HTTP\nrequests (requests, aiohttp).\n\nIt supports generating authorization headers for HTTP requests,\npre-signing URLs so you can easily use them elsewhere and signing S3\nPOST policies for use in HTML forms.\n\nThis library has no requirements, but comes with an authentication\nhelper for the requests package.\n\n## Installation\n\n`aws-request-signer` is available from pypi:\n\n```sh\npip install aws-request-signer\n```\n\n## Usage example\n\nHere's an example of how to use the library to sign a request to upload a file to a\n[minio](https://minio.io/) S3 bucket running on your local machine:\n\n```python\nimport hashlib\n\nimport requests\nfrom aws_request_signer import AwsRequestSigner\n\nAWS_REGION = \"\"\nAWS_ACCESS_KEY_ID = \"minio\"\nAWS_SECRET_ACCESS_KEY = \"minio123\"\n\nURL = \"http://127.0.0.1:9000/demo/hello_world.txt\"\n\n# Demo content for our target file.\ncontent = b\"Hello, World!\\n\"\ncontent_hash = hashlib.sha256(content).hexdigest()\n\n# Create a request signer instance.\nrequest_signer = AwsRequestSigner(\n    AWS_REGION, AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, \"s3\"\n)\n\n# The headers we'll provide and want to sign.\nheaders = {\"Content-Type\": \"text/plain\", \"Content-Length\": str(len(content))}\n\n# Add the authentication headers.\nheaders.update(\n    request_signer.sign_with_headers(\"PUT\", URL, headers, content_hash)\n)\n\n# Make the request.\nr = requests.put(URL, headers=headers, data=content)\nr.raise_for_status()\n```\n\n_For more examples and usage, please refer to\n[demo.py](https://github.com/iksteen/aws-request-signer/blob/master/demo.py)._\n\n## Development setup\n\nFor development purposes, you can clone the repository and use\n[poetry](https://poetry.eustace.io/) to install and maintain the\ndependencies. There is no test suite. It comes with a set of pre-commit\nhooks that can format (isort, black) and check your code (mypy, flake8)\nautomatically.\n\n```sh\ngit clone git@github.com:iksteen/aws-request-signer.git\ncd aws-request-signer\npoetry install -E demo\npoetry run pre-commit install\n```\n\n**Note**: At the time of writing, the typeshed library that mypy uses\ncontains an incorrect signature for the `requests.auth.AuthBase.__call__`\nmethod. The repository of aws-request-signer includes updated stubs for\nrequests until the signature is fixed upstream.\n\n## Release History\n\n* 1.0.0\n    * Initial Release.\n\n## Meta\n\nIngmar Steen \u2013 [@iksteen](https://twitter.com/iksteen)\n\nDistributed under the MIT license. See ``LICENSE`` for more information.\n\n[https://github.com/iksteen/](https://github.com/iksteen/)\n\n## Contributing\n\n1. Fork it (<https://github.com/iksteen/aws-request-signer/fork>)\n2. Create your feature branch (`git checkout -b feature/fooBar`)\n3. Commit your changes (`git commit -am 'Add some fooBar'`)\n4. Push to the branch (`git push origin feature/fooBar`)\n5. Create a new Pull Request\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://www.github.com/iksteen/aws-request-signer", "keywords": "", "license": "MIT", "maintainer": "Ingmar Steen", "maintainer_email": "iksteen@gmail.com", "name": "aws-request-signer", "package_url": "https://pypi.org/project/aws-request-signer/", "platform": "", "project_url": "https://pypi.org/project/aws-request-signer/", "project_urls": {"Homepage": "https://www.github.com/iksteen/aws-request-signer", "Repository": "https://www.github.com/iksteen/aws-request-signer.git"}, "release_url": "https://pypi.org/project/aws-request-signer/1.0.0/", "requires_dist": ["requests (>=2.21,<3.0); extra == \"requests\" or extra == \"demo\"", "requests_toolbelt (>=0.8.0,<0.9.0); extra == \"demo\""], "requires_python": ">=3.5,<4.0", "summary": "A python library to sign AWS requests using AWS Signature V4.", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>aws-request-signer</h1>\n<blockquote>\n<p>A python library to sign AWS requests using AWS Signature V4.</p>\n</blockquote>\n<p>This small python library serves only purpose: Helping you sign HTTP\nrequests for use with AWS (and compatible) services. The library is\nunopinionated and should work with just about anything that makes HTTP\nrequests (requests, aiohttp).</p>\n<p>It supports generating authorization headers for HTTP requests,\npre-signing URLs so you can easily use them elsewhere and signing S3\nPOST policies for use in HTML forms.</p>\n<p>This library has no requirements, but comes with an authentication\nhelper for the requests package.</p>\n<h2>Installation</h2>\n<p><code>aws-request-signer</code> is available from pypi:</p>\n<pre>pip install aws-request-signer\n</pre>\n<h2>Usage example</h2>\n<p>Here's an example of how to use the library to sign a request to upload a file to a\n<a href=\"https://minio.io/\" rel=\"nofollow\">minio</a> S3 bucket running on your local machine:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">hashlib</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"kn\">from</span> <span class=\"nn\">aws_request_signer</span> <span class=\"kn\">import</span> <span class=\"n\">AwsRequestSigner</span>\n\n<span class=\"n\">AWS_REGION</span> <span class=\"o\">=</span> <span class=\"s2\">\"\"</span>\n<span class=\"n\">AWS_ACCESS_KEY_ID</span> <span class=\"o\">=</span> <span class=\"s2\">\"minio\"</span>\n<span class=\"n\">AWS_SECRET_ACCESS_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"minio123\"</span>\n\n<span class=\"n\">URL</span> <span class=\"o\">=</span> <span class=\"s2\">\"http://127.0.0.1:9000/demo/hello_world.txt\"</span>\n\n<span class=\"c1\"># Demo content for our target file.</span>\n<span class=\"n\">content</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s2\">\"Hello, World!</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span>\n<span class=\"n\">content_hash</span> <span class=\"o\">=</span> <span class=\"n\">hashlib</span><span class=\"o\">.</span><span class=\"n\">sha256</span><span class=\"p\">(</span><span class=\"n\">content</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">hexdigest</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Create a request signer instance.</span>\n<span class=\"n\">request_signer</span> <span class=\"o\">=</span> <span class=\"n\">AwsRequestSigner</span><span class=\"p\">(</span>\n    <span class=\"n\">AWS_REGION</span><span class=\"p\">,</span> <span class=\"n\">AWS_ACCESS_KEY_ID</span><span class=\"p\">,</span> <span class=\"n\">AWS_SECRET_ACCESS_KEY</span><span class=\"p\">,</span> <span class=\"s2\">\"s3\"</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># The headers we'll provide and want to sign.</span>\n<span class=\"n\">headers</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">\"Content-Type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"text/plain\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Content-Length\"</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">content</span><span class=\"p\">))}</span>\n\n<span class=\"c1\"># Add the authentication headers.</span>\n<span class=\"n\">headers</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">(</span>\n    <span class=\"n\">request_signer</span><span class=\"o\">.</span><span class=\"n\">sign_with_headers</span><span class=\"p\">(</span><span class=\"s2\">\"PUT\"</span><span class=\"p\">,</span> <span class=\"n\">URL</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"p\">,</span> <span class=\"n\">content_hash</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># Make the request.</span>\n<span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"n\">URL</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">headers</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">content</span><span class=\"p\">)</span>\n<span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">raise_for_status</span><span class=\"p\">()</span>\n</pre>\n<p><em>For more examples and usage, please refer to\n<a href=\"https://github.com/iksteen/aws-request-signer/blob/master/demo.py\" rel=\"nofollow\">demo.py</a>.</em></p>\n<h2>Development setup</h2>\n<p>For development purposes, you can clone the repository and use\n<a href=\"https://poetry.eustace.io/\" rel=\"nofollow\">poetry</a> to install and maintain the\ndependencies. There is no test suite. It comes with a set of pre-commit\nhooks that can format (isort, black) and check your code (mypy, flake8)\nautomatically.</p>\n<pre>git clone git@github.com:iksteen/aws-request-signer.git\n<span class=\"nb\">cd</span> aws-request-signer\npoetry install -E demo\npoetry run pre-commit install\n</pre>\n<p><strong>Note</strong>: At the time of writing, the typeshed library that mypy uses\ncontains an incorrect signature for the <code>requests.auth.AuthBase.__call__</code>\nmethod. The repository of aws-request-signer includes updated stubs for\nrequests until the signature is fixed upstream.</p>\n<h2>Release History</h2>\n<ul>\n<li>1.0.0\n<ul>\n<li>Initial Release.</li>\n</ul>\n</li>\n</ul>\n<h2>Meta</h2>\n<p>Ingmar Steen \u2013 <a href=\"https://twitter.com/iksteen\" rel=\"nofollow\">@iksteen</a></p>\n<p>Distributed under the MIT license. See <code>LICENSE</code> for more information.</p>\n<p><a href=\"https://github.com/iksteen/\" rel=\"nofollow\">https://github.com/iksteen/</a></p>\n<h2>Contributing</h2>\n<ol>\n<li>Fork it (<a href=\"https://github.com/iksteen/aws-request-signer/fork\" rel=\"nofollow\">https://github.com/iksteen/aws-request-signer/fork</a>)</li>\n<li>Create your feature branch (<code>git checkout -b feature/fooBar</code>)</li>\n<li>Commit your changes (<code>git commit -am 'Add some fooBar'</code>)</li>\n<li>Push to the branch (<code>git push origin feature/fooBar</code>)</li>\n<li>Create a new Pull Request</li>\n</ol>\n\n          </div>"}, "last_serial": 4735969, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "b4abf7d7bcc4c093ed29154491f7cc9e", "sha256": "e82d208aba68da5a43645d17432af25ea86922e062bed9346c1b143544488d14"}, "downloads": -1, "filename": "aws_request_signer-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "b4abf7d7bcc4c093ed29154491f7cc9e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5,<4.0", "size": 17291, "upload_time": "2019-01-24T14:43:50", "upload_time_iso_8601": "2019-01-24T14:43:50.042195Z", "url": "https://files.pythonhosted.org/packages/72/f9/0d20caae27db789c533d8a375288923d42bd966eeb0d4ebeba150d623253/aws_request_signer-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5eb6be6d47f396ecaba5a67794193867", "sha256": "fd7ffc128ab59b4c69cc8bb2e86f2d7bde0d3673ac2f295c8b5991394f3ed3fe"}, "downloads": -1, "filename": "aws-request-signer-1.0.0.tar.gz", "has_sig": false, "md5_digest": "5eb6be6d47f396ecaba5a67794193867", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5,<4.0", "size": 6738, "upload_time": "2019-01-24T14:43:47", "upload_time_iso_8601": "2019-01-24T14:43:47.873170Z", "url": "https://files.pythonhosted.org/packages/fd/36/4df8579813eb08e015859b3e6634c684fdebcf6501cb173de8e7b617db0b/aws-request-signer-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b4abf7d7bcc4c093ed29154491f7cc9e", "sha256": "e82d208aba68da5a43645d17432af25ea86922e062bed9346c1b143544488d14"}, "downloads": -1, "filename": "aws_request_signer-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "b4abf7d7bcc4c093ed29154491f7cc9e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5,<4.0", "size": 17291, "upload_time": "2019-01-24T14:43:50", "upload_time_iso_8601": "2019-01-24T14:43:50.042195Z", "url": "https://files.pythonhosted.org/packages/72/f9/0d20caae27db789c533d8a375288923d42bd966eeb0d4ebeba150d623253/aws_request_signer-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5eb6be6d47f396ecaba5a67794193867", "sha256": "fd7ffc128ab59b4c69cc8bb2e86f2d7bde0d3673ac2f295c8b5991394f3ed3fe"}, "downloads": -1, "filename": "aws-request-signer-1.0.0.tar.gz", "has_sig": false, "md5_digest": "5eb6be6d47f396ecaba5a67794193867", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5,<4.0", "size": 6738, "upload_time": "2019-01-24T14:43:47", "upload_time_iso_8601": "2019-01-24T14:43:47.873170Z", "url": "https://files.pythonhosted.org/packages/fd/36/4df8579813eb08e015859b3e6634c684fdebcf6501cb173de8e7b617db0b/aws-request-signer-1.0.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:15:36 2020"}
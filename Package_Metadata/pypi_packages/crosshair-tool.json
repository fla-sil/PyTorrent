{"info": {"author": "Phillip Schanely", "author_email": "pschanely+vE7F@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: Implementation :: CPython", "Topic :: Software Development :: Quality Assurance", "Topic :: Software Development :: Testing"], "description": "<img src=\"https://raw.githubusercontent.com/pschanely/CrossHair/master/doc/logo.png\" width=\"5%\" align=\"left\">\n\n# CrossHair\n\n[![Join the chat at https://gitter.im/Cross_Hair/Lobby](https://badges.gitter.im/Cross_Hair/Lobby.svg)](https://gitter.im/Cross_Hair/Lobby?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\n[![codecov](https://codecov.io/gh/pschanely/CrossHair/branch/master/graph/badge.svg)](https://codecov.io/gh/pschanely/CrossHair)\n[![Build Status](https://travis-ci.org/pschanely/CrossHair.svg?branch=master)](https://travis-ci.org/pschanely/CrossHair)\n\nA **static** analysis tool for Python that blurs the line between testing and type systems.\n\n> **_THE LATEST NEWS:_**  Now you can try out CrossHair in your browser at [crosshair-web.org](https://crosshair-web.org)!\n\nIf you have functions with [type annotations](https://www.python.org/dev/peps/pep-0484/) and add some checks in a [PEP 316](https://www.python.org/dev/peps/pep-0316/)-inspired syntax, CrossHair will attempt to find counterexamples for you:\n\n![Animated GIF demonstrating the verification of a python function](https://raw.githubusercontent.com/pschanely/CrossHair/master/doc/duplicate_list.gif)\n\nCrossHair works by repeatedly calling your functions with symbolic inputs.\nIt uses an [SMT solver](https://en.wikipedia.org/wiki/Satisfiability_modulo_theories) (a kind of theorem prover) to explore viable execution paths and find counterexamples for you.\nThis is not a new idea; an approach for Python was first described in [this paper](https://hoheinzollern.files.wordpress.com/2008/04/seer1.pdf).\nHowever, to my knowledge, CrossHair is the most complete implementation of the idea: it supports symbolic lists, dictionaries, sets, and custom/mutable objects.\n\n> **_NOTE:_**  CrossHair is in a highly experimental state right now. You can help though - keep reading!\n\n|Contents|\n|--------|\n|[Why Should I Use CrossHair?](#why-should-i-use-crosshair)|\n|[How to Write Contracts](#how-to-write-contracts)|\n|[Get Started](#get-started)|\n|[IDE Integrations](#ide-integrations)|\n|[Limitations](#limitations)|\n|[How Can I Help?](#how-can-i-help)|\n|[Contributors](#contributors)|\n|[Related Work](#related-work)|\n\n\n\n## Why Should I Use CrossHair?\n\n**More precision.** Commonly, we care about more than just the type. Is it really any integer, or is it a **positive** integer? Is it any list, or does it have to be a non-empty list? CrossHair gives you that precision:\n\n![Image showing an average function](https://raw.githubusercontent.com/pschanely/CrossHair/master/doc/average.png)\n\n**Interprocedural analysis.** CrossHair (1) validates the pre-conditions of called functions and (2) uses post-conditions of called functions to help it prove post-conditions in the caller.\n\n![Image showing CrossHair caller and callee](https://raw.githubusercontent.com/pschanely/CrossHair/master/doc/zipped_pairs.png)\n\n**Verify across all implementations.** Contracts are particularly helpful when applied to base classes / interfaces: all implementations will be verified against them:\n\n![Image showing CrossHair constract and inheritance](https://raw.githubusercontent.com/pschanely/CrossHair/master/doc/chess_pieces.png)\n\n**Catch errors.** Setting a trivial post-condition of \"True\" is enough to enable analysis, which will find exceptions like index out-of-bounds errors:\n\n![Image showing CrossHair constract and inheritance](https://raw.githubusercontent.com/pschanely/CrossHair/master/doc/index_bounds.gif)\n\n**Support your type checker.** CrossHair is a nice companion to [mypy](http://mypy-lang.org/). Assert statements divide work between the two systems:\n\n![Image showing mypy and CrossHair together](https://raw.githubusercontent.com/pschanely/CrossHair/master/doc/pair_with_mypy.png)\n\n**Optimize with Confidence.** Using post-conditions, CrossHair ensures that optimized code continues to behave like equivalent naive code:\n\n![Image showing the equivalence of optimized an unoptimized code](https://raw.githubusercontent.com/pschanely/CrossHair/master/doc/csv_first_column.png)\n\n**Cover doctest's blind spots.** [Doctest](https://docs.python.org/3/library/doctest.html) is great\nfor illustrative examples and CrossHair can document behavior more holistically. Some kinds of\nprojects may be able to skip unittest/pytest entirely.\n\n![Image showing a comment block with doctest and CrossHair conditions](https://raw.githubusercontent.com/pschanely/CrossHair/master/doc/even_fibb.png)\n\n## How to Write Contracts\n\nCrossHair largely follows the [PEP 316](https://www.python.org/dev/peps/pep-0316/) syntax for expressing \"contracts.\" In short:\n- Place contracts inside the docstrings for functions.\n- Declare your post-conditions (what you expect to be true of the function's return value) like this: <BR>`post: __return__ > 0`\n  - If you like, you can use a single underscore (`_`) as a short-hand for `__return__`.\n- Functions are checked if they have at least one post-condition line in their docstring.\n- Declare your pre-conditions (what you expect to be true of the function's inputs) like this: <BR>`pre: x < y`\n- Declare that your function mutates arguments with square brackets after the `post` keyword.\n  - When doing so, the old values of the arguments are available in a special object called `__old__`: <BR>`post[x]: x > __old__.x`\n  - Comparison for the purposes of mutation checking is a \"deep\" comparison.\n  - Use empty square brackets to assert that the function does not mutate any argument.\n- If your function can validly raise certain exceptions, declare them like this: <BR>`raises: IndexError, ZeroDivisionError`\n- Declare class invariants in the class's docstring like this: <BR>`inv: self.foo < self.bar`\n  - Class invariants apply additional pre- and post-conditions to each member function.\n- Note: Unlike contracts on standalone functions, contracts on class methods often encourage/require contracts on the entire class.\n  - This is because you usually need invariants on the class to describe what states are valid, and then every method must\n    be shown to preserve those invariants.\n\nYou can find examples in the [examples/](https://github.com/pschanely/CrossHair/tree/master/crosshair/examples) directory \nand try it in your browser at [crosshair-web.org](https://crosshair-web.org).\n\n\n## Get Started\n\n> **_NOTE:_**  CrossHair is in a highly experimental state right now. If you're using it, it's because you want it to succeed, want to help, or are just interested in the technology.\n\nCrossHair is supported only on Python 3.7+ and only on CPython (the most common Python implementation).\n\nInside the development environment of the code you want to analyze (virtual environment, conda environment, etc), install:\n```shell\npip install crosshair-tool\n```\nPlease be patient. On some platforms, this will build the [Z3](https://github.com/Z3Prover/z3) solver, which can take a very long time.\n\nCrossHair works best when it sits in its own window and thinks about your code while you work on it. Open such a window, activate your development environment, and run:\n```shell\ncrosshair watch [directory with code to analyze]\n```\nYou should then see perodically updating text as CrossHair analyzes the contracts in your code. It will watch for changes and re-analyze as appropriate. When it detects an issue, you'll see something like this:\n\n![Image showing terminal output](https://raw.githubusercontent.com/pschanely/CrossHair/master/doc/example_error.png)\n\nHit Ctrl-C to exit.\n\n## IDE Integrations\n\nAs mentioned above, CrossHair wants to run in the background so it can have plenty of time to think. However, IDE integrations can still be used to catch easy cases.\n\n* [Emacs (flycheck)](https://github.com/pschanely/emacs-flycheck-crosshair)\n\nIf you make a plugin for your favorite editor (please do!), submit a pull request to add it above. The `crosshair check [FILENAME]` command will yield results in the same format as the mypy type checker. (a non-zero exit for for errors, and lines formatted as `{FILENAME}:{LINE_NUMBER}:error:{MESSAGE}`)\n\n## Limitations\n\nA (wildly incomplete) list of present limitations. Some of these will be lifted over time (your help is welcome!); some may never be lifted.\n\n* Symbolic values are implemented as Python proxy values. CrossHair monkey-patches the system to maintain a good illusion, but the illusion is not complete. For example,\n  * Code that cares about the identity values (x is y) may not be correctly analyzed.\n  * Code that cares about the types of values may not be correctly analyzed.\n* Only function and class definitions at the top level are analyzed. (i.e. not when nested inside other functions/classes)\n* Only deteministic behavior can be analyzed. (your code always does the same thing when starting with the same values)\n  * CrossHair may produce a `NotDeterministic` error when it detects this.\n* Comsuming values of an iterator/generator in a pre- or post-condition will produce [unexpected behavior](https://github.com/pschanely/CrossHair/issues/9).\n* Be aware that the absence of a counterexample does not guarantee that the property holds.\n* SMT sovlers have very different perspectives on hard problems and easy problems than humans.\n  * Be prepared to be surprised both by what CrossHair can tell you, and what it cannot.\n\n## How Can I Help?\n\n* [Try it out](#get-started) on your own python project! Be communicative about what does and doesn't work.\n* Participate (or just lurk) in the [gitter chat](https://gitter.im/Cross_Hair/Lobby).\n* [File an issue](https://github.com/pschanely/CrossHair/issues).\n* [Ask a question](https://stackoverflow.com/questions/tagged/crosshair) on stackoverflow.\n* Make a pull request. There aren't contributing guidlines yet - just check in on [gitter](https://gitter.im/Cross_Hair/Lobby) to coordinate.\n* Help me evangalize: Share with your friends and coworkers. If you think it's neato, star the repo. :star:\n* Contact me at `pschanely@gmail.com` or [Twitter](https://twitter.com/pschanely)... even if it's just to say that you'd like me to cc you on future CrossHair-related develoments.\n\n## Contributors\n\n* [**Phil Schanely**](https://twitter.com/pschanely)\n* [**Edward Haigh**](https://github.com/oneEdoubleD)\n* [**Saul Shanabrook**](https://github.com/saulshanabrook/)\n\n## Related Work\n\n|Technology|Relation|\n|---------:|:-------|\n| [dependent types](https://en.wikipedia.org/wiki/Dependent_type), [refinement types](https://en.wikipedia.org/wiki/Refinement_type) | CrossHair aims to provide many of the same capabilities as these advanced type systems. CrossHair is easier to learn (because it is just python), but is incomplete (it can't always tell you whether a condition holds). |\n| [design by contract](https://en.wikipedia.org/wiki/Design_by_contract) | Unlike other systems and tools for contracts, CrossHair *statically* attempts to verify pre- and post-conditions. |\n| [fuzz testing](https://en.wikipedia.org/wiki/Fuzzing), [QuickCheck](https://en.wikipedia.org/wiki/QuickCheck), [property testing](https://en.wikipedia.org/wiki/Property_testing), [Hypothesis](https://hypothesis.readthedocs.io/) | CrossHair has many of the same goals as these tools. However, CrossHair uses an SMT solver to find inputs rather than the (typically) randomized approaches that these tools use. |\n| [concolic testing](https://en.wikipedia.org/wiki/Concolic_testing) | State-of-the-art fuzz testers employ SMT solvers in a similar fashion as CrossHair. |\n| [SMT solvers](https://en.wikipedia.org/wiki/Satisfiability_modulo_theories) | SMT solvers power many of the tools in this table. CrossHair uses [Z3](https://github.com/Z3Prover/z3). |\n| [angr](https://angr.io), [klee](https://klee.github.io/) | Symbolic execution of **binary** code. Unlike these tools, CrossHair models the semantics of Python directly. |\n| [PyExZ3](https://github.com/thomasjball/PyExZ3), [pySim](https://github.com/bannsec/pySym), [PEF](https://git.cs.famaf.unc.edu.ar/dbarsotti/pef) | Take approaches that are very similar to CrossHair, in various states of completeness. CrossHair is generally more perscriptive or product-like than these tools. |\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/pschanely/CrossHair", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "crosshair-tool", "package_url": "https://pypi.org/project/crosshair-tool/", "platform": "", "project_url": "https://pypi.org/project/crosshair-tool/", "project_urls": {"Homepage": "https://github.com/pschanely/CrossHair"}, "release_url": "https://pypi.org/project/crosshair-tool/0.0.5/", "requires_dist": ["forbiddenfruit", "typing-inspect", "z3-solver-crosshair"], "requires_python": ">=3.7", "summary": "A static analysis tool for Python using symbolic execution.", "version": "0.0.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <img align=\"left\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c91bc9743860514efa8352d5ca0ca206387793fd/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f70736368616e656c792f43726f7373486169722f6d61737465722f646f632f6c6f676f2e706e67\" width=\"5%\">\n<h1>CrossHair</h1>\n<p><a href=\"https://gitter.im/Cross_Hair/Lobby?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge\" rel=\"nofollow\"><img alt=\"Join the chat at https://gitter.im/Cross_Hair/Lobby\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/aacd1d193ad677871ee37881090557b08dfa135a/68747470733a2f2f6261646765732e6769747465722e696d2f43726f73735f486169722f4c6f6262792e737667\"></a>\n<a href=\"https://codecov.io/gh/pschanely/CrossHair\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0079676511c0ee53190064819d7eea1eda7d9287/68747470733a2f2f636f6465636f762e696f2f67682f70736368616e656c792f43726f7373486169722f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"https://travis-ci.org/pschanely/CrossHair\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b639e27a508313ff764d8a6e5abbd46efc18e0e9/68747470733a2f2f7472617669732d63692e6f72672f70736368616e656c792f43726f7373486169722e7376673f6272616e63683d6d6173746572\"></a></p>\n<p>A <strong>static</strong> analysis tool for Python that blurs the line between testing and type systems.</p>\n<blockquote>\n<p><strong><em>THE LATEST NEWS:</em></strong>  Now you can try out CrossHair in your browser at <a href=\"https://crosshair-web.org\" rel=\"nofollow\">crosshair-web.org</a>!</p>\n</blockquote>\n<p>If you have functions with <a href=\"https://www.python.org/dev/peps/pep-0484/\" rel=\"nofollow\">type annotations</a> and add some checks in a <a href=\"https://www.python.org/dev/peps/pep-0316/\" rel=\"nofollow\">PEP 316</a>-inspired syntax, CrossHair will attempt to find counterexamples for you:</p>\n<p><img alt=\"Animated GIF demonstrating the verification of a python function\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e9dd128991c3fe7b05e0a7216d8856e92a6ec12a/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f70736368616e656c792f43726f7373486169722f6d61737465722f646f632f6475706c69636174655f6c6973742e676966\"></p>\n<p>CrossHair works by repeatedly calling your functions with symbolic inputs.\nIt uses an <a href=\"https://en.wikipedia.org/wiki/Satisfiability_modulo_theories\" rel=\"nofollow\">SMT solver</a> (a kind of theorem prover) to explore viable execution paths and find counterexamples for you.\nThis is not a new idea; an approach for Python was first described in <a href=\"https://hoheinzollern.files.wordpress.com/2008/04/seer1.pdf\" rel=\"nofollow\">this paper</a>.\nHowever, to my knowledge, CrossHair is the most complete implementation of the idea: it supports symbolic lists, dictionaries, sets, and custom/mutable objects.</p>\n<blockquote>\n<p><strong><em>NOTE:</em></strong>  CrossHair is in a highly experimental state right now. You can help though - keep reading!</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>Contents</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"#why-should-i-use-crosshair\" rel=\"nofollow\">Why Should I Use CrossHair?</a></td>\n</tr>\n<tr>\n<td><a href=\"#how-to-write-contracts\" rel=\"nofollow\">How to Write Contracts</a></td>\n</tr>\n<tr>\n<td><a href=\"#get-started\" rel=\"nofollow\">Get Started</a></td>\n</tr>\n<tr>\n<td><a href=\"#ide-integrations\" rel=\"nofollow\">IDE Integrations</a></td>\n</tr>\n<tr>\n<td><a href=\"#limitations\" rel=\"nofollow\">Limitations</a></td>\n</tr>\n<tr>\n<td><a href=\"#how-can-i-help\" rel=\"nofollow\">How Can I Help?</a></td>\n</tr>\n<tr>\n<td><a href=\"#contributors\" rel=\"nofollow\">Contributors</a></td>\n</tr>\n<tr>\n<td><a href=\"#related-work\" rel=\"nofollow\">Related Work</a></td>\n</tr></tbody></table>\n<h2>Why Should I Use CrossHair?</h2>\n<p><strong>More precision.</strong> Commonly, we care about more than just the type. Is it really any integer, or is it a <strong>positive</strong> integer? Is it any list, or does it have to be a non-empty list? CrossHair gives you that precision:</p>\n<p><img alt=\"Image showing an average function\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4cd1fb5d0328a69c36af5fbae393d1feb91ee420/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f70736368616e656c792f43726f7373486169722f6d61737465722f646f632f617665726167652e706e67\"></p>\n<p><strong>Interprocedural analysis.</strong> CrossHair (1) validates the pre-conditions of called functions and (2) uses post-conditions of called functions to help it prove post-conditions in the caller.</p>\n<p><img alt=\"Image showing CrossHair caller and callee\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f676636a35e5b2180c2ac52220e7ad93a5d08b6f/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f70736368616e656c792f43726f7373486169722f6d61737465722f646f632f7a69707065645f70616972732e706e67\"></p>\n<p><strong>Verify across all implementations.</strong> Contracts are particularly helpful when applied to base classes / interfaces: all implementations will be verified against them:</p>\n<p><img alt=\"Image showing CrossHair constract and inheritance\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e538234a867e518cb823a4cf1c07a92c1b5d9a9d/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f70736368616e656c792f43726f7373486169722f6d61737465722f646f632f63686573735f7069656365732e706e67\"></p>\n<p><strong>Catch errors.</strong> Setting a trivial post-condition of \"True\" is enough to enable analysis, which will find exceptions like index out-of-bounds errors:</p>\n<p><img alt=\"Image showing CrossHair constract and inheritance\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5166114ebeafce8c85b9b2bbd910895840fe82eb/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f70736368616e656c792f43726f7373486169722f6d61737465722f646f632f696e6465785f626f756e64732e676966\"></p>\n<p><strong>Support your type checker.</strong> CrossHair is a nice companion to <a href=\"http://mypy-lang.org/\" rel=\"nofollow\">mypy</a>. Assert statements divide work between the two systems:</p>\n<p><img alt=\"Image showing mypy and CrossHair together\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/67b83531272c439328ad6941c694c128d74bd93f/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f70736368616e656c792f43726f7373486169722f6d61737465722f646f632f706169725f776974685f6d7970792e706e67\"></p>\n<p><strong>Optimize with Confidence.</strong> Using post-conditions, CrossHair ensures that optimized code continues to behave like equivalent naive code:</p>\n<p><img alt=\"Image showing the equivalence of optimized an unoptimized code\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4025d24dfe121820344b09e874245969f02e4679/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f70736368616e656c792f43726f7373486169722f6d61737465722f646f632f6373765f66697273745f636f6c756d6e2e706e67\"></p>\n<p><strong>Cover doctest's blind spots.</strong> <a href=\"https://docs.python.org/3/library/doctest.html\" rel=\"nofollow\">Doctest</a> is great\nfor illustrative examples and CrossHair can document behavior more holistically. Some kinds of\nprojects may be able to skip unittest/pytest entirely.</p>\n<p><img alt=\"Image showing a comment block with doctest and CrossHair conditions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e7a70fdf30c926d0ee65a89ed4960c9d2598b712/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f70736368616e656c792f43726f7373486169722f6d61737465722f646f632f6576656e5f666962622e706e67\"></p>\n<h2>How to Write Contracts</h2>\n<p>CrossHair largely follows the <a href=\"https://www.python.org/dev/peps/pep-0316/\" rel=\"nofollow\">PEP 316</a> syntax for expressing \"contracts.\" In short:</p>\n<ul>\n<li>Place contracts inside the docstrings for functions.</li>\n<li>Declare your post-conditions (what you expect to be true of the function's return value) like this: <br><code>post: __return__ &gt; 0</code>\n<ul>\n<li>If you like, you can use a single underscore (<code>_</code>) as a short-hand for <code>__return__</code>.</li>\n</ul>\n</li>\n<li>Functions are checked if they have at least one post-condition line in their docstring.</li>\n<li>Declare your pre-conditions (what you expect to be true of the function's inputs) like this: <br><code>pre: x &lt; y</code></li>\n<li>Declare that your function mutates arguments with square brackets after the <code>post</code> keyword.\n<ul>\n<li>When doing so, the old values of the arguments are available in a special object called <code>__old__</code>: <br><code>post[x]: x &gt; __old__.x</code></li>\n<li>Comparison for the purposes of mutation checking is a \"deep\" comparison.</li>\n<li>Use empty square brackets to assert that the function does not mutate any argument.</li>\n</ul>\n</li>\n<li>If your function can validly raise certain exceptions, declare them like this: <br><code>raises: IndexError, ZeroDivisionError</code></li>\n<li>Declare class invariants in the class's docstring like this: <br><code>inv: self.foo &lt; self.bar</code>\n<ul>\n<li>Class invariants apply additional pre- and post-conditions to each member function.</li>\n</ul>\n</li>\n<li>Note: Unlike contracts on standalone functions, contracts on class methods often encourage/require contracts on the entire class.\n<ul>\n<li>This is because you usually need invariants on the class to describe what states are valid, and then every method must\nbe shown to preserve those invariants.</li>\n</ul>\n</li>\n</ul>\n<p>You can find examples in the <a href=\"https://github.com/pschanely/CrossHair/tree/master/crosshair/examples\" rel=\"nofollow\">examples/</a> directory\nand try it in your browser at <a href=\"https://crosshair-web.org\" rel=\"nofollow\">crosshair-web.org</a>.</p>\n<h2>Get Started</h2>\n<blockquote>\n<p><strong><em>NOTE:</em></strong>  CrossHair is in a highly experimental state right now. If you're using it, it's because you want it to succeed, want to help, or are just interested in the technology.</p>\n</blockquote>\n<p>CrossHair is supported only on Python 3.7+ and only on CPython (the most common Python implementation).</p>\n<p>Inside the development environment of the code you want to analyze (virtual environment, conda environment, etc), install:</p>\n<pre>pip install crosshair-tool\n</pre>\n<p>Please be patient. On some platforms, this will build the <a href=\"https://github.com/Z3Prover/z3\" rel=\"nofollow\">Z3</a> solver, which can take a very long time.</p>\n<p>CrossHair works best when it sits in its own window and thinks about your code while you work on it. Open such a window, activate your development environment, and run:</p>\n<pre>crosshair watch <span class=\"o\">[</span>directory with code to analyze<span class=\"o\">]</span>\n</pre>\n<p>You should then see perodically updating text as CrossHair analyzes the contracts in your code. It will watch for changes and re-analyze as appropriate. When it detects an issue, you'll see something like this:</p>\n<p><img alt=\"Image showing terminal output\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/148365c0e82c5fbce4480275dae20f04b6eb854a/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f70736368616e656c792f43726f7373486169722f6d61737465722f646f632f6578616d706c655f6572726f722e706e67\"></p>\n<p>Hit Ctrl-C to exit.</p>\n<h2>IDE Integrations</h2>\n<p>As mentioned above, CrossHair wants to run in the background so it can have plenty of time to think. However, IDE integrations can still be used to catch easy cases.</p>\n<ul>\n<li><a href=\"https://github.com/pschanely/emacs-flycheck-crosshair\" rel=\"nofollow\">Emacs (flycheck)</a></li>\n</ul>\n<p>If you make a plugin for your favorite editor (please do!), submit a pull request to add it above. The <code>crosshair check [FILENAME]</code> command will yield results in the same format as the mypy type checker. (a non-zero exit for for errors, and lines formatted as <code>{FILENAME}:{LINE_NUMBER}:error:{MESSAGE}</code>)</p>\n<h2>Limitations</h2>\n<p>A (wildly incomplete) list of present limitations. Some of these will be lifted over time (your help is welcome!); some may never be lifted.</p>\n<ul>\n<li>Symbolic values are implemented as Python proxy values. CrossHair monkey-patches the system to maintain a good illusion, but the illusion is not complete. For example,\n<ul>\n<li>Code that cares about the identity values (x is y) may not be correctly analyzed.</li>\n<li>Code that cares about the types of values may not be correctly analyzed.</li>\n</ul>\n</li>\n<li>Only function and class definitions at the top level are analyzed. (i.e. not when nested inside other functions/classes)</li>\n<li>Only deteministic behavior can be analyzed. (your code always does the same thing when starting with the same values)\n<ul>\n<li>CrossHair may produce a <code>NotDeterministic</code> error when it detects this.</li>\n</ul>\n</li>\n<li>Comsuming values of an iterator/generator in a pre- or post-condition will produce <a href=\"https://github.com/pschanely/CrossHair/issues/9\" rel=\"nofollow\">unexpected behavior</a>.</li>\n<li>Be aware that the absence of a counterexample does not guarantee that the property holds.</li>\n<li>SMT sovlers have very different perspectives on hard problems and easy problems than humans.\n<ul>\n<li>Be prepared to be surprised both by what CrossHair can tell you, and what it cannot.</li>\n</ul>\n</li>\n</ul>\n<h2>How Can I Help?</h2>\n<ul>\n<li><a href=\"#get-started\" rel=\"nofollow\">Try it out</a> on your own python project! Be communicative about what does and doesn't work.</li>\n<li>Participate (or just lurk) in the <a href=\"https://gitter.im/Cross_Hair/Lobby\" rel=\"nofollow\">gitter chat</a>.</li>\n<li><a href=\"https://github.com/pschanely/CrossHair/issues\" rel=\"nofollow\">File an issue</a>.</li>\n<li><a href=\"https://stackoverflow.com/questions/tagged/crosshair\" rel=\"nofollow\">Ask a question</a> on stackoverflow.</li>\n<li>Make a pull request. There aren't contributing guidlines yet - just check in on <a href=\"https://gitter.im/Cross_Hair/Lobby\" rel=\"nofollow\">gitter</a> to coordinate.</li>\n<li>Help me evangalize: Share with your friends and coworkers. If you think it's neato, star the repo. :star:</li>\n<li>Contact me at <code>pschanely@gmail.com</code> or <a href=\"https://twitter.com/pschanely\" rel=\"nofollow\">Twitter</a>... even if it's just to say that you'd like me to cc you on future CrossHair-related develoments.</li>\n</ul>\n<h2>Contributors</h2>\n<ul>\n<li><a href=\"https://twitter.com/pschanely\" rel=\"nofollow\"><strong>Phil Schanely</strong></a></li>\n<li><a href=\"https://github.com/oneEdoubleD\" rel=\"nofollow\"><strong>Edward Haigh</strong></a></li>\n<li><a href=\"https://github.com/saulshanabrook/\" rel=\"nofollow\"><strong>Saul Shanabrook</strong></a></li>\n</ul>\n<h2>Related Work</h2>\n<table>\n<thead>\n<tr>\n<th align=\"right\">Technology</th>\n<th align=\"left\">Relation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"right\"><a href=\"https://en.wikipedia.org/wiki/Dependent_type\" rel=\"nofollow\">dependent types</a>, <a href=\"https://en.wikipedia.org/wiki/Refinement_type\" rel=\"nofollow\">refinement types</a></td>\n<td align=\"left\">CrossHair aims to provide many of the same capabilities as these advanced type systems. CrossHair is easier to learn (because it is just python), but is incomplete (it can't always tell you whether a condition holds).</td>\n</tr>\n<tr>\n<td align=\"right\"><a href=\"https://en.wikipedia.org/wiki/Design_by_contract\" rel=\"nofollow\">design by contract</a></td>\n<td align=\"left\">Unlike other systems and tools for contracts, CrossHair <em>statically</em> attempts to verify pre- and post-conditions.</td>\n</tr>\n<tr>\n<td align=\"right\"><a href=\"https://en.wikipedia.org/wiki/Fuzzing\" rel=\"nofollow\">fuzz testing</a>, <a href=\"https://en.wikipedia.org/wiki/QuickCheck\" rel=\"nofollow\">QuickCheck</a>, <a href=\"https://en.wikipedia.org/wiki/Property_testing\" rel=\"nofollow\">property testing</a>, <a href=\"https://hypothesis.readthedocs.io/\" rel=\"nofollow\">Hypothesis</a></td>\n<td align=\"left\">CrossHair has many of the same goals as these tools. However, CrossHair uses an SMT solver to find inputs rather than the (typically) randomized approaches that these tools use.</td>\n</tr>\n<tr>\n<td align=\"right\"><a href=\"https://en.wikipedia.org/wiki/Concolic_testing\" rel=\"nofollow\">concolic testing</a></td>\n<td align=\"left\">State-of-the-art fuzz testers employ SMT solvers in a similar fashion as CrossHair.</td>\n</tr>\n<tr>\n<td align=\"right\"><a href=\"https://en.wikipedia.org/wiki/Satisfiability_modulo_theories\" rel=\"nofollow\">SMT solvers</a></td>\n<td align=\"left\">SMT solvers power many of the tools in this table. CrossHair uses <a href=\"https://github.com/Z3Prover/z3\" rel=\"nofollow\">Z3</a>.</td>\n</tr>\n<tr>\n<td align=\"right\"><a href=\"https://angr.io\" rel=\"nofollow\">angr</a>, <a href=\"https://klee.github.io/\" rel=\"nofollow\">klee</a></td>\n<td align=\"left\">Symbolic execution of <strong>binary</strong> code. Unlike these tools, CrossHair models the semantics of Python directly.</td>\n</tr>\n<tr>\n<td align=\"right\"><a href=\"https://github.com/thomasjball/PyExZ3\" rel=\"nofollow\">PyExZ3</a>, <a href=\"https://github.com/bannsec/pySym\" rel=\"nofollow\">pySim</a>, <a href=\"https://git.cs.famaf.unc.edu.ar/dbarsotti/pef\" rel=\"nofollow\">PEF</a></td>\n<td align=\"left\">Take approaches that are very similar to CrossHair, in various states of completeness. CrossHair is generally more perscriptive or product-like than these tools.</td>\n</tr></tbody></table>\n\n          </div>"}, "last_serial": 7009904, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "78c9837cdf5f9504346fcdf3c93adce2", "sha256": "6f56572c27f0d83538f4da86afa4016cca65d182a8f9f3ee12c7c58a6590304e"}, "downloads": -1, "filename": "crosshair_tool-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "78c9837cdf5f9504346fcdf3c93adce2", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 92008, "upload_time": "2020-02-09T20:45:00", "upload_time_iso_8601": "2020-02-09T20:45:00.137952Z", "url": "https://files.pythonhosted.org/packages/ff/cd/a27f2a99d3bd54a0f00afe8d703a409f27ffe6e0c4ad4426d21eb2651f24/crosshair_tool-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "192321d75a2501b8b67cc05275986d3d", "sha256": "b6326add99ac9a6d2489e44d634c4f8cf9e14ff232fbe2a406320008796a4b2c"}, "downloads": -1, "filename": "crosshair-tool-0.0.1.tar.gz", "has_sig": false, "md5_digest": "192321d75a2501b8b67cc05275986d3d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 84779, "upload_time": "2020-02-09T20:45:02", "upload_time_iso_8601": "2020-02-09T20:45:02.661328Z", "url": "https://files.pythonhosted.org/packages/43/60/5d393031d7a8b114e817f308b4cea142be3b4c1eba09edce29fea6331873/crosshair-tool-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "1a8d20e558ab57beccfe8b09a1522ca1", "sha256": "4775e766419c60ec8bf57320eae9fa34a221d3289ef1890d0741c9316959f7bc"}, "downloads": -1, "filename": "crosshair_tool-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "1a8d20e558ab57beccfe8b09a1522ca1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 93349, "upload_time": "2020-02-19T02:36:06", "upload_time_iso_8601": "2020-02-19T02:36:06.410996Z", "url": "https://files.pythonhosted.org/packages/98/41/bd3a24714507123ff0ff0ea6dbdb0531499a8e0a076c6ee63a7ef98961bd/crosshair_tool-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d7c7e28fe0425ab71ffaadd43d8495c6", "sha256": "b96f5d8a299a0cceea949c339b7cb82881952f33f23595d83c0b798f9f3a8014"}, "downloads": -1, "filename": "crosshair-tool-0.0.2.tar.gz", "has_sig": false, "md5_digest": "d7c7e28fe0425ab71ffaadd43d8495c6", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 86065, "upload_time": "2020-02-19T02:36:07", "upload_time_iso_8601": "2020-02-19T02:36:07.909409Z", "url": "https://files.pythonhosted.org/packages/d4/c2/615a80c6cb7a9448d7c32f24b405bbe5ee282a5848a7e3c0c5f44cf84a1b/crosshair-tool-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "86a9c513509e21b94292c3165ee5a069", "sha256": "b2f1b86cb477d8d580c8c6e93f744c8b2180926518f074500a32763dbd012263"}, "downloads": -1, "filename": "crosshair_tool-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "86a9c513509e21b94292c3165ee5a069", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 96035, "upload_time": "2020-03-01T17:17:04", "upload_time_iso_8601": "2020-03-01T17:17:04.287732Z", "url": "https://files.pythonhosted.org/packages/cf/8e/8bf14af2bef0bf91b75208963d298d70d700cc66c3775b162ac05cec1e85/crosshair_tool-0.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e8780f4161efcaddfc2c2c727b66eece", "sha256": "37a155d453b450058c7008716aad3f459328914ac8a58db3d0b654a15712d552"}, "downloads": -1, "filename": "crosshair-tool-0.0.3.tar.gz", "has_sig": false, "md5_digest": "e8780f4161efcaddfc2c2c727b66eece", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 88698, "upload_time": "2020-03-01T17:17:05", "upload_time_iso_8601": "2020-03-01T17:17:05.423752Z", "url": "https://files.pythonhosted.org/packages/4f/21/4a8b86ff989618473afd649cfaf7d54227c250717d928f017aa487c0c737/crosshair-tool-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "87b0a72c750e8b4cf12382718d01c279", "sha256": "82239c432b3e182d8892ad616bbdde233d7d64f95941f4d12514b8fc1e35fced"}, "downloads": -1, "filename": "crosshair_tool-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "87b0a72c750e8b4cf12382718d01c279", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 98448, "upload_time": "2020-04-12T22:08:04", "upload_time_iso_8601": "2020-04-12T22:08:04.009494Z", "url": "https://files.pythonhosted.org/packages/73/53/bd2cb6105347a51468a10f7e32dabed65f540af10a92cda370e045775c6d/crosshair_tool-0.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "efb4f536a460050d43e056e62d5deb58", "sha256": "1f981087a1bffd28056114016a1bcc9049ad3279844422387e9ab0bf650896a1"}, "downloads": -1, "filename": "crosshair-tool-0.0.4.tar.gz", "has_sig": false, "md5_digest": "efb4f536a460050d43e056e62d5deb58", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 90535, "upload_time": "2020-04-12T22:08:05", "upload_time_iso_8601": "2020-04-12T22:08:05.022235Z", "url": "https://files.pythonhosted.org/packages/1e/2b/c4264d4f1d4ccacd58b3db29187138ee851478b9e0900a198a0114efaf8a/crosshair-tool-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "76b7bc3ae55076825aca87ff3f4fde7d", "sha256": "40405c84237c4736850559de7ff0a5eb64a82db90de59910f5bc2c9ca491c61b"}, "downloads": -1, "filename": "crosshair_tool-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "76b7bc3ae55076825aca87ff3f4fde7d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 98466, "upload_time": "2020-04-13T13:27:57", "upload_time_iso_8601": "2020-04-13T13:27:57.332107Z", "url": "https://files.pythonhosted.org/packages/b1/4a/1ceb00f878820c1c5ce912294c6e5dba3b6721682eea96f56239092703cd/crosshair_tool-0.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f1d638e5d4e917b1326470096dbe54d5", "sha256": "c77153d95a18fe9da0f9c95cfa598ec7afa9aacaa979507f5f18c509af689014"}, "downloads": -1, "filename": "crosshair-tool-0.0.5.tar.gz", "has_sig": false, "md5_digest": "f1d638e5d4e917b1326470096dbe54d5", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 90537, "upload_time": "2020-04-13T13:27:58", "upload_time_iso_8601": "2020-04-13T13:27:58.974180Z", "url": "https://files.pythonhosted.org/packages/f5/7e/2c5ea6c626092dde5a08493399ce9d16236aff3efa324f0550a036321c7a/crosshair-tool-0.0.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "76b7bc3ae55076825aca87ff3f4fde7d", "sha256": "40405c84237c4736850559de7ff0a5eb64a82db90de59910f5bc2c9ca491c61b"}, "downloads": -1, "filename": "crosshair_tool-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "76b7bc3ae55076825aca87ff3f4fde7d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 98466, "upload_time": "2020-04-13T13:27:57", "upload_time_iso_8601": "2020-04-13T13:27:57.332107Z", "url": "https://files.pythonhosted.org/packages/b1/4a/1ceb00f878820c1c5ce912294c6e5dba3b6721682eea96f56239092703cd/crosshair_tool-0.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f1d638e5d4e917b1326470096dbe54d5", "sha256": "c77153d95a18fe9da0f9c95cfa598ec7afa9aacaa979507f5f18c509af689014"}, "downloads": -1, "filename": "crosshair-tool-0.0.5.tar.gz", "has_sig": false, "md5_digest": "f1d638e5d4e917b1326470096dbe54d5", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 90537, "upload_time": "2020-04-13T13:27:58", "upload_time_iso_8601": "2020-04-13T13:27:58.974180Z", "url": "https://files.pythonhosted.org/packages/f5/7e/2c5ea6c626092dde5a08493399ce9d16236aff3efa324f0550a036321c7a/crosshair-tool-0.0.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:42:11 2020"}
{"info": {"author": "Andrey Kislyuk", "author_email": "kislyuk@gmail.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Operating System :: MacOS :: MacOS X", "Operating System :: POSIX", "Programming Language :: Python", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "Exile: Python YubiKey AWS signature library\n===========================================\n\n**Exile** stores your AWS access key on your YubiKey device and uses it to sign your AWS API requests, protecting you\nagainst credential theft.\n\nInstallation\n------------\n::\n\n    pip install exile\n\nOn Linux, install ``libpcsclite-dev`` (``apt install libpcsclite-dev``, ``yum install pcsc-lite-devel``).\n\nExile requires Python 3.6+. Python 2.7 is not supported.\n\nSynopsis\n--------\n\n.. code-block:: python\n\n    import boto3, botocore.auth\n    from exile import YKOATH, botocore_signers\n\n    def write_active_aws_key_to_yubikey():\n        credentials = boto3.Session().get_credentials()\n\n        key_name = \"exile-{}-SigV4\".format(credentials.access_key)\n        secret = b\"AWS4\" + credentials.secret_key.encode()\n        print(\"Writing YubiKey OATH SigV4 credential\", key_name, \"for\", credentials.access_key)\n        YKOATH().put(key_name, secret, algorithm=YKOATH.Algorithm.SHA256)\n\n        key_name = \"exile-{}-HmacV1\".format(credentials.access_key)\n        secret = credentials.secret_key.encode()\n        print(\"Writing YubiKey OATH HmacV1 credential\", key_name, \"for\", credentials.access_key)\n        YKOATH().put(key_name, secret, algorithm=YKOATH.Algorithm.SHA1)\n\n    write_active_aws_key_to_yubikey()\n    botocore_signers.install()\n\n    print(\"Using YubiKey credential to perform AWS call\")\n    print(boto3.client(\"sts\").get_caller_identity())\n\n    print(\"Using YubiKey credential to presign an S3 URL\")\n    print(boto3.client(\"s3\").generate_presigned_url(ClientMethod=\"get_object\", Params={\"Bucket\": \"foo\", \"Key\": \"bar\"}))\n\nTOTP\n----\n\nBecause exile uses the `YubiKey OATH <https://developers.yubico.com/OATH/>`_ protocol, you can also use it to store\n`TOTP <https://en.wikipedia.org/wiki/Time-based_One-time_Password_algorithm>`_\n`2FA <https://en.wikipedia.org/wiki/Multi-factor_authentication>`_ tokens, generate and verify codes::\n\n    from exile import TOTP\n    TOTP().save(\"google\", \"JBSWY3DPEHPK3PXP\")  # Or TOTP.save_otpauth_uri(\"otpauth://...\")\n    TOTP().get(\"google\")  # Returns a standard 6-digit TOTP code as a string\n    TOTP().verify(\"260153\", label=\"google\", at=datetime.datetime.fromtimestamp(1297553958))\n\nAuthors\n-------\n* Andrey Kislyuk\n\nLinks\n-----\n* `Project home page (GitHub) <https://github.com/pyauth/exile>`_\n* `Documentation (Read the Docs) <https://exile.readthedocs.io/en/latest/>`_\n* `Package distribution (PyPI) <https://pypi.python.org/pypi/exile>`_\n* `Change log <https://github.com/pyauth/exile/blob/master/Changes.rst>`_\n\nBugs\n----\nPlease report bugs, issues, feature requests, etc. on `GitHub <https://github.com/pyauth/exile/issues>`_.\n\nLicense\n-------\nLicensed under the terms of the `Apache License, Version 2.0 <http://www.apache.org/licenses/LICENSE-2.0>`_.\n\n.. image:: https://img.shields.io/travis/com/pyauth/exile.svg\n        :target: https://travis-ci.com/pyauth/exile\n.. image:: https://codecov.io/github/pyauth/exile/coverage.svg?branch=master\n        :target: https://codecov.io/github/pyauth/exile?branch=master\n.. image:: https://img.shields.io/pypi/v/exile.svg\n        :target: https://pypi.python.org/pypi/exile\n.. image:: https://img.shields.io/pypi/l/exile.svg\n        :target: https://pypi.python.org/pypi/exile\n.. image:: https://readthedocs.org/projects/exile/badge/?version=latest\n        :target: https://exile.readthedocs.io/\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/pyauth/exile", "keywords": "", "license": "Apache Software License", "maintainer": "", "maintainer_email": "", "name": "exile", "package_url": "https://pypi.org/project/exile/", "platform": "", "project_url": "https://pypi.org/project/exile/", "project_urls": {"Homepage": "https://github.com/pyauth/exile"}, "release_url": "https://pypi.org/project/exile/0.1.0/", "requires_dist": ["coverage ; extra == 'test'", "flake8 ; extra == 'test'", "wheel ; extra == 'test'"], "requires_python": "", "summary": "Python Yubikey AWS signature library", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><strong>Exile</strong> stores your AWS access key on your YubiKey device and uses it to sign your AWS API requests, protecting you\nagainst credential theft.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>pip install exile\n</pre>\n<p>On Linux, install <tt><span class=\"pre\">libpcsclite-dev</span></tt> (<tt>apt install <span class=\"pre\">libpcsclite-dev</span></tt>, <tt>yum install <span class=\"pre\">pcsc-lite-devel</span></tt>).</p>\n<p>Exile requires Python 3.6+. Python 2.7 is not supported.</p>\n</div>\n<div id=\"synopsis\">\n<h2>Synopsis</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">boto3</span><span class=\"o\">,</span> <span class=\"nn\">botocore.auth</span>\n<span class=\"kn\">from</span> <span class=\"nn\">exile</span> <span class=\"kn\">import</span> <span class=\"n\">YKOATH</span><span class=\"p\">,</span> <span class=\"n\">botocore_signers</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">write_active_aws_key_to_yubikey</span><span class=\"p\">():</span>\n    <span class=\"n\">credentials</span> <span class=\"o\">=</span> <span class=\"n\">boto3</span><span class=\"o\">.</span><span class=\"n\">Session</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">get_credentials</span><span class=\"p\">()</span>\n\n    <span class=\"n\">key_name</span> <span class=\"o\">=</span> <span class=\"s2\">\"exile-</span><span class=\"si\">{}</span><span class=\"s2\">-SigV4\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">credentials</span><span class=\"o\">.</span><span class=\"n\">access_key</span><span class=\"p\">)</span>\n    <span class=\"n\">secret</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s2\">\"AWS4\"</span> <span class=\"o\">+</span> <span class=\"n\">credentials</span><span class=\"o\">.</span><span class=\"n\">secret_key</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Writing YubiKey OATH SigV4 credential\"</span><span class=\"p\">,</span> <span class=\"n\">key_name</span><span class=\"p\">,</span> <span class=\"s2\">\"for\"</span><span class=\"p\">,</span> <span class=\"n\">credentials</span><span class=\"o\">.</span><span class=\"n\">access_key</span><span class=\"p\">)</span>\n    <span class=\"n\">YKOATH</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"n\">key_name</span><span class=\"p\">,</span> <span class=\"n\">secret</span><span class=\"p\">,</span> <span class=\"n\">algorithm</span><span class=\"o\">=</span><span class=\"n\">YKOATH</span><span class=\"o\">.</span><span class=\"n\">Algorithm</span><span class=\"o\">.</span><span class=\"n\">SHA256</span><span class=\"p\">)</span>\n\n    <span class=\"n\">key_name</span> <span class=\"o\">=</span> <span class=\"s2\">\"exile-</span><span class=\"si\">{}</span><span class=\"s2\">-HmacV1\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">credentials</span><span class=\"o\">.</span><span class=\"n\">access_key</span><span class=\"p\">)</span>\n    <span class=\"n\">secret</span> <span class=\"o\">=</span> <span class=\"n\">credentials</span><span class=\"o\">.</span><span class=\"n\">secret_key</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Writing YubiKey OATH HmacV1 credential\"</span><span class=\"p\">,</span> <span class=\"n\">key_name</span><span class=\"p\">,</span> <span class=\"s2\">\"for\"</span><span class=\"p\">,</span> <span class=\"n\">credentials</span><span class=\"o\">.</span><span class=\"n\">access_key</span><span class=\"p\">)</span>\n    <span class=\"n\">YKOATH</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"n\">key_name</span><span class=\"p\">,</span> <span class=\"n\">secret</span><span class=\"p\">,</span> <span class=\"n\">algorithm</span><span class=\"o\">=</span><span class=\"n\">YKOATH</span><span class=\"o\">.</span><span class=\"n\">Algorithm</span><span class=\"o\">.</span><span class=\"n\">SHA1</span><span class=\"p\">)</span>\n\n<span class=\"n\">write_active_aws_key_to_yubikey</span><span class=\"p\">()</span>\n<span class=\"n\">botocore_signers</span><span class=\"o\">.</span><span class=\"n\">install</span><span class=\"p\">()</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Using YubiKey credential to perform AWS call\"</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">boto3</span><span class=\"o\">.</span><span class=\"n\">client</span><span class=\"p\">(</span><span class=\"s2\">\"sts\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">get_caller_identity</span><span class=\"p\">())</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Using YubiKey credential to presign an S3 URL\"</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">boto3</span><span class=\"o\">.</span><span class=\"n\">client</span><span class=\"p\">(</span><span class=\"s2\">\"s3\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">generate_presigned_url</span><span class=\"p\">(</span><span class=\"n\">ClientMethod</span><span class=\"o\">=</span><span class=\"s2\">\"get_object\"</span><span class=\"p\">,</span> <span class=\"n\">Params</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">\"Bucket\"</span><span class=\"p\">:</span> <span class=\"s2\">\"foo\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Key\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar\"</span><span class=\"p\">}))</span>\n</pre>\n</div>\n<div id=\"totp\">\n<h2>TOTP</h2>\n<p>Because exile uses the <a href=\"https://developers.yubico.com/OATH/\" rel=\"nofollow\">YubiKey OATH</a> protocol, you can also use it to store\n<a href=\"https://en.wikipedia.org/wiki/Time-based_One-time_Password_algorithm\" rel=\"nofollow\">TOTP</a>\n<a href=\"https://en.wikipedia.org/wiki/Multi-factor_authentication\" rel=\"nofollow\">2FA</a> tokens, generate and verify codes:</p>\n<pre>from exile import TOTP\nTOTP().save(\"google\", \"JBSWY3DPEHPK3PXP\")  # Or TOTP.save_otpauth_uri(\"otpauth://...\")\nTOTP().get(\"google\")  # Returns a standard 6-digit TOTP code as a string\nTOTP().verify(\"260153\", label=\"google\", at=datetime.datetime.fromtimestamp(1297553958))\n</pre>\n</div>\n<div id=\"authors\">\n<h2>Authors</h2>\n<ul>\n<li>Andrey Kislyuk</li>\n</ul>\n</div>\n<div id=\"links\">\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://github.com/pyauth/exile\" rel=\"nofollow\">Project home page (GitHub)</a></li>\n<li><a href=\"https://exile.readthedocs.io/en/latest/\" rel=\"nofollow\">Documentation (Read the Docs)</a></li>\n<li><a href=\"https://pypi.python.org/pypi/exile\" rel=\"nofollow\">Package distribution (PyPI)</a></li>\n<li><a href=\"https://github.com/pyauth/exile/blob/master/Changes.rst\" rel=\"nofollow\">Change log</a></li>\n</ul>\n</div>\n<div id=\"bugs\">\n<h2>Bugs</h2>\n<p>Please report bugs, issues, feature requests, etc. on <a href=\"https://github.com/pyauth/exile/issues\" rel=\"nofollow\">GitHub</a>.</p>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>Licensed under the terms of the <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" rel=\"nofollow\">Apache License, Version 2.0</a>.</p>\n<a href=\"https://travis-ci.com/pyauth/exile\" rel=\"nofollow\"><img alt=\"https://img.shields.io/travis/com/pyauth/exile.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c6a05338371542db59184545c245a97795d00dd6/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f636f6d2f7079617574682f6578696c652e737667\"></a>\n<a href=\"https://codecov.io/github/pyauth/exile?branch=master\" rel=\"nofollow\"><img alt=\"https://codecov.io/github/pyauth/exile/coverage.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9ae7804c5813daddf6c893e69e6a87fc57f90ffb/68747470733a2f2f636f6465636f762e696f2f6769746875622f7079617574682f6578696c652f636f7665726167652e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.python.org/pypi/exile\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/v/exile.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/378f4292668e0314950839977aa61f044c8b023a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6578696c652e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/exile\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/l/exile.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/eb492ef46a1ff96b7872ce62a68ecb4f67ec6b88/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f6578696c652e737667\"></a>\n<a href=\"https://exile.readthedocs.io/\" rel=\"nofollow\"><img alt=\"https://readthedocs.org/projects/exile/badge/?version=latest\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/00b745aa6a44e7506d968fc10d712ad2dbd367f9/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f6578696c652f62616467652f3f76657273696f6e3d6c6174657374\"></a>\n</div>\n\n          </div>"}, "last_serial": 4892249, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "c00ada49de84f260b41e73529152e679", "sha256": "bb566a6bedee0772bb47d70bd50a0fda2007843bc780d262b561a8ac71eccf5a"}, "downloads": -1, "filename": "exile-0.0.1.tar.gz", "has_sig": false, "md5_digest": "c00ada49de84f260b41e73529152e679", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1231, "upload_time": "2019-01-16T18:35:47", "upload_time_iso_8601": "2019-01-16T18:35:47.380349Z", "url": "https://files.pythonhosted.org/packages/96/17/1a4e6799a430da16fedf04deb8f050d320e69343addd286d086303550a02/exile-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "d98ae036575482ad829c05144b59cab0", "sha256": "5b40d0c8ad75ef88c8d47535698abd893aea68cf8ae9038287f52354f52b4a26"}, "downloads": -1, "filename": "exile-0.0.2-py3-none-any.whl", "has_sig": true, "md5_digest": "d98ae036575482ad829c05144b59cab0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 544467, "upload_time": "2019-02-26T17:25:25", "upload_time_iso_8601": "2019-02-26T17:25:25.882989Z", "url": "https://files.pythonhosted.org/packages/2f/45/27b6db6e24ad380d1f3b63f4690ff9d5f453b95e019d9cd247c4c4226264/exile-0.0.2-py3-none-any.whl", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "730fb6191cf7d8e9f8acc0bc5bc37d02", "sha256": "24576513bf7ece2b0d2b8c219a4bc9bfb916baae48c0cc4b4dc14382841657ef"}, "downloads": -1, "filename": "exile-0.0.3-py3-none-any.whl", "has_sig": true, "md5_digest": "730fb6191cf7d8e9f8acc0bc5bc37d02", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 14501, "upload_time": "2019-02-26T17:27:57", "upload_time_iso_8601": "2019-02-26T17:27:57.225400Z", "url": "https://files.pythonhosted.org/packages/d9/17/3000e5728d2200f59cbeb12ea237de7504bd4eba1f60636db7801f30bd0b/exile-0.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6694914322760dd0f8dc0328717f9df1", "sha256": "03a5af0c442baac05ee09a13e8123cdc5cea8b8af7ac326b97caaac9b6f58120"}, "downloads": -1, "filename": "exile-0.0.3.tar.gz", "has_sig": true, "md5_digest": "6694914322760dd0f8dc0328717f9df1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10896, "upload_time": "2019-02-26T17:27:58", "upload_time_iso_8601": "2019-02-26T17:27:58.797842Z", "url": "https://files.pythonhosted.org/packages/a0/00/8d160d196e5355ced7782365b27dd73e77262f1d00014d8072e0b74f0a7b/exile-0.0.3.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "90129ab75249f2760bd10e31f0048264", "sha256": "83151846989f90ae40c8612f977110eb712d4b313f0f53ff2dc1a52b6ac70094"}, "downloads": -1, "filename": "exile-0.1.0-py2.py3-none-any.whl", "has_sig": true, "md5_digest": "90129ab75249f2760bd10e31f0048264", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 16351, "upload_time": "2019-03-04T00:49:15", "upload_time_iso_8601": "2019-03-04T00:49:15.647849Z", "url": "https://files.pythonhosted.org/packages/80/69/26563e154eb68fddee5e11631621e6b15f7cad8cc26c6dbaf195dff96fa7/exile-0.1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c1efc965251dce125a96782316f15fc2", "sha256": "1b02a94d868f91646da2b6360ef52517e7730e04385deda0c240f1ddf98a1013"}, "downloads": -1, "filename": "exile-0.1.0.tar.gz", "has_sig": true, "md5_digest": "c1efc965251dce125a96782316f15fc2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12434, "upload_time": "2019-03-04T00:49:17", "upload_time_iso_8601": "2019-03-04T00:49:17.836214Z", "url": "https://files.pythonhosted.org/packages/75/6c/0de61a7b001e970d14f4150de4687101964628751aec0ce93bba776c2d14/exile-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "90129ab75249f2760bd10e31f0048264", "sha256": "83151846989f90ae40c8612f977110eb712d4b313f0f53ff2dc1a52b6ac70094"}, "downloads": -1, "filename": "exile-0.1.0-py2.py3-none-any.whl", "has_sig": true, "md5_digest": "90129ab75249f2760bd10e31f0048264", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 16351, "upload_time": "2019-03-04T00:49:15", "upload_time_iso_8601": "2019-03-04T00:49:15.647849Z", "url": "https://files.pythonhosted.org/packages/80/69/26563e154eb68fddee5e11631621e6b15f7cad8cc26c6dbaf195dff96fa7/exile-0.1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c1efc965251dce125a96782316f15fc2", "sha256": "1b02a94d868f91646da2b6360ef52517e7730e04385deda0c240f1ddf98a1013"}, "downloads": -1, "filename": "exile-0.1.0.tar.gz", "has_sig": true, "md5_digest": "c1efc965251dce125a96782316f15fc2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12434, "upload_time": "2019-03-04T00:49:17", "upload_time_iso_8601": "2019-03-04T00:49:17.836214Z", "url": "https://files.pythonhosted.org/packages/75/6c/0de61a7b001e970d14f4150de4687101964628751aec0ce93bba776c2d14/exile-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:44:47 2020"}
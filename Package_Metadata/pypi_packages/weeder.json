{"info": {"author": "Daniele Varrazzo", "author_email": "piro@gambitresearch.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3"], "description": "Remove unneeded historical files\n================================\n\nYou may have backups.\n\nEvery day, your precious stuff is saved in a safe place.\n\nBut you may have too much of that...\n\nThis script will select for you what files to drop, based on a retention policy\nsuch that as files get older you can keep less of them. The default policy\nwill keep all the files in the last two weeks, a file every week for the last\nthree months, a file every month for the last year, a file every year forever.\n\nThe script takes in input the existing files on command line and by default\nwill print on stdout the files to delete. You can use a chain of commands such\nas::\n\n    ls | xargs weeder | xargs rm\n\nto run in a cron job every day to keep your backup directories light.\n\n\nOur glorious help\n-----------------\n\nRunning ``weeder -h`` you might be told::\n\n    usage: weeder [-h] [-p AGE:DIST [AGE:DIST ...]] [-f REGEX] [-r YYYY-MM-DD]\n                  [--print-keepers | --print-goners] [-q | -v]\n                  [FILE [FILE ...]]\n\n    positional arguments:\n      FILE                  the files to weed\n\n    optional arguments:\n      -h, --help            show this help message and exit\n      -p AGE:DIST [AGE:DIST ...], --policy AGE:DIST [AGE:DIST ...]\n                            state that, of every file older than AGE days, we want\n                            to keep at least one every DIST days\n                            [default: 14:7 84:28 364:364]\n      -f REGEX, --format REGEX\n                            the pattern to extract a date from a file name\n                            [default: (\\d{4})-(\\d{2})-(\\d{2})]\n      -r YYYY-MM-DD, --refdate YYYY-MM-DD\n                            reference date to establish retention [default: today]\n      --print-keepers       print the files to keep\n      --print-goners        print the files to delete [default]\n      -q, --quiet           talk less\n      -v, --verbose         talk more\n\nbut who knows, really.\n\n\nRunning tests\n-------------\n\nYou can run::\n\n    python3 setup.py test", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/GambitResearch/weeder", "keywords": "backup sysadmin junk", "license": "", "maintainer": "", "maintainer_email": "", "name": "weeder", "package_url": "https://pypi.org/project/weeder/", "platform": "", "project_url": "https://pypi.org/project/weeder/", "project_urls": {"Bug Reports": "https://github.com/GambitResearch/weeder/issues", "Homepage": "https://github.com/GambitResearch/weeder", "Source": "https://github.com/GambitResearch/weeder/"}, "release_url": "https://pypi.org/project/weeder/0.1/", "requires_dist": null, "requires_python": ">=3.4, <4", "summary": "Remove unneeded historical files", "version": "0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>You may have backups.</p>\n<p>Every day, your precious stuff is saved in a safe place.</p>\n<p>But you may have too much of that\u2026</p>\n<p>This script will select for you what files to drop, based on a retention policy\nsuch that as files get older you can keep less of them. The default policy\nwill keep all the files in the last two weeks, a file every week for the last\nthree months, a file every month for the last year, a file every year forever.</p>\n<p>The script takes in input the existing files on command line and by default\nwill print on stdout the files to delete. You can use a chain of commands such\nas:</p>\n<pre>ls | xargs weeder | xargs rm\n</pre>\n<p>to run in a cron job every day to keep your backup directories light.</p>\n<div id=\"our-glorious-help\">\n<h2>Our glorious help</h2>\n<p>Running <tt>weeder <span class=\"pre\">-h</span></tt> you might be told:</p>\n<pre>usage: weeder [-h] [-p AGE:DIST [AGE:DIST ...]] [-f REGEX] [-r YYYY-MM-DD]\n              [--print-keepers | --print-goners] [-q | -v]\n              [FILE [FILE ...]]\n\npositional arguments:\n  FILE                  the files to weed\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -p AGE:DIST [AGE:DIST ...], --policy AGE:DIST [AGE:DIST ...]\n                        state that, of every file older than AGE days, we want\n                        to keep at least one every DIST days\n                        [default: 14:7 84:28 364:364]\n  -f REGEX, --format REGEX\n                        the pattern to extract a date from a file name\n                        [default: (\\d{4})-(\\d{2})-(\\d{2})]\n  -r YYYY-MM-DD, --refdate YYYY-MM-DD\n                        reference date to establish retention [default: today]\n  --print-keepers       print the files to keep\n  --print-goners        print the files to delete [default]\n  -q, --quiet           talk less\n  -v, --verbose         talk more\n</pre>\n<p>but who knows, really.</p>\n</div>\n<div id=\"running-tests\">\n<h2>Running tests</h2>\n<p>You can run:</p>\n<pre>python3 setup.py test\n</pre>\n</div>\n\n          </div>"}, "last_serial": 5431991, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "70a2388105126c73a51cfa607f2c917d", "sha256": "a9eac17275982b9eb8aae2c731204105562d148cb60b2533d64e9893de1d4c27"}, "downloads": -1, "filename": "weeder-0.1.tar.gz", "has_sig": false, "md5_digest": "70a2388105126c73a51cfa607f2c917d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.4, <4", "size": 4325, "upload_time": "2019-06-21T17:26:44", "upload_time_iso_8601": "2019-06-21T17:26:44.836815Z", "url": "https://files.pythonhosted.org/packages/48/f4/2876b1270b083b7ccad97be9c22ae0a81e8fcf1b25ca260db5b4de3c96b7/weeder-0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "70a2388105126c73a51cfa607f2c917d", "sha256": "a9eac17275982b9eb8aae2c731204105562d148cb60b2533d64e9893de1d4c27"}, "downloads": -1, "filename": "weeder-0.1.tar.gz", "has_sig": false, "md5_digest": "70a2388105126c73a51cfa607f2c917d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.4, <4", "size": 4325, "upload_time": "2019-06-21T17:26:44", "upload_time_iso_8601": "2019-06-21T17:26:44.836815Z", "url": "https://files.pythonhosted.org/packages/48/f4/2876b1270b083b7ccad97be9c22ae0a81e8fcf1b25ca260db5b4de3c96b7/weeder-0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:30:27 2020"}
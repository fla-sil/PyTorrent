{"info": {"author": "VMware Inc", "author_email": "nishak@vmware.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Environment :: Console", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Natural Language :: English", "Operating System :: POSIX", "Operating System :: POSIX :: Linux", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: Implementation :: CPython", "Topic :: Software Development"], "description": "![Tern](/docs/img/tern_logo.png)\n\n[![CircleCI](https://circleci.com/gh/vmware/tern.svg?style=svg)](https://circleci.com/gh/vmware/tern)\n[![CII Best Practices](https://bestpractices.coreinfrastructure.org/projects/2689/badge)](https://bestpractices.coreinfrastructure.org/projects/2689)\n[![License](https://img.shields.io/badge/License-BSD%202--Clause-orange.svg)](https://opensource.org/licenses/BSD-2-Clause)\n\n# Welcome to the Tern Project\n\nTern is a software package inspection tool for containers. It's written in Python3 with a smattering of shell scripts.\n\n# Table of Contents\n- [Introduction](#what-is-tern)\n  - [FAQ](/docs/faq.md)\n  - [Glossary of Terms](/docs/glossary.md)\n  - [Architecture](/docs/architecture.md)\n  - [Navigating the Code](/docs/navigating-the-code.md)\n  - [Data Model](/docs/data-model.md)\n- [Getting Started](#getting-started)\n  - [Getting Started on Linux](#getting-started-on-linux)\n  - [Getting Started with Docker](#getting-started-with-docker)\n  - [Getting Started with Vagrant](#getting-started-with-vagrant)\n- [Using Tern](#using-tern)\n  - [Generating a BoM report for a Docker image](#bom-for-docker-image)\n  - [Generating a BoM report from a Dockerfile](#bom-for-dockerfile)\n- [Report Formats](#report-formats)\n  - [Human Readable Format](#report-human-readable)\n  - [JSON Format](#report-json)\n  - [YAML Format](#report-yaml)\n  - [SPDX tag-value Format](#report-spdxtagvalue)\n- [Extensions](#extensions)\n  - [Scancode](#scancode)\n  - [cve-bin-tool](#cve-bin-tool)\n- [Running tests](#running-tests)\n- [Project Status](#project-status)\n- [Contributing](/CONTRIBUTING.md)\n  - [Code of Conduct](/CODE_OF_CONDUCT.md)\n  - [Creating Report Formats](/docs/creating-custom-templates.md)\n  - [Creating Tool Extensions](/docs/creating-tool-extensions.md)\n  - [Adding to the Command Library](/docs/adding-to-command-library.md)\n\n# What is Tern?<a name=\"what-is-tern\">\nTern is an inspection tool to find the metadata of the packages installed in a container image. The overall operation looks like this:\n1. It uses overlayfs to mount the first filesystem layer (also known as the BaseOS) used to build the container image\n2. It then executes scripts from the \"command library\" in a chroot environment to collect information about packages installed in that layer\n3. With that information as a starting point, it continues to iterate over steps 1 and 2 for the rest of the layers in the container image\n4. Once done, it generates a report, various format options are available. The report, in its default format, provides a verbose, layer by layer, explanation of the various software components imported. If a Dockerfile is provided, the report indicates the Dockerfile lines corresponding to each of the file system layers.\n\nTern gives you a deeper understanding of your container's bill of materials so you can make better decisions about your container based infrastructure, integration and deployment strategies. It's also a good tool if you are curious about the contents of the container images you have built.\n\n![Tern quick demo](/docs/img/tern_demo_fast.gif)\n\n\n# Getting Started<a name=\"getting-started\"/>\n\n## Getting Started on Linux<a name=\"getting-started-on-linux\">\nIf you have a Linux OS you will need a distro with a kernel version >= 4.0 (Ubuntu 16.04 or newer or Fedora 25 or newer are good selections) and will need to install the following requirements:\n\n- Git (Installation instructions can be found here: https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)\n- attr (sudo apt-get install attr or sudo dnf install attr)\n- Python 3.6 or newer (sudo apt-get install python3.6(3.7) or sudo dnf install python36(37))\n- Pip (sudo apt-get install python3-pip).\n\nSome distro versions have all of these except `attr` preinstalled but `attr` is a common utility and is available via the package manager.\n\nFor Docker containers\n- Docker CE (Installation instructions can be found here: https://docs.docker.com/engine/installation/#server)\n\nMake sure the docker daemon is running.\n\nCreate a python3 virtual environment:\n```\n$ python3 -m venv ternenv\n$ cd ternenv\n```\n\n*NOTE:* Your OS might distribute each Python version separately. For example, on Ubuntu LTS, Python 2.7 is linked to `python2` and Python 3.6 is linked to `python3`. I develop with Python 3.7 which is installed separately with no symlinks. In this case, I use the binary. The binaries are usually installed in `/usr/bin/python`.\n\nActivate the virtual environment:\n```\n$ source bin/activate\n```\nNOTE: This specific activate script only works for Bash shells. If you need to activate a Fish Shell or C Shell you should use `source bin/activate.fish` or `source bin/activate.csh`, respectively.\n\nInstall tern:\n```\n$ pip install tern\n```\n\nRun Tern:\n```\n$ tern report -o output.txt -i debian:buster\n```\n\n## Getting Started with Docker<a name=\"getting-started-with-docker\">\nNote Mac users: running Tern natively as a docker container is currently unsupported. Another option is to use Vagrant in your Mac environment and then follow the steps below. For Vagrant setup, see [Getting Started with Vagrant](#getting-started-with-vagrant).\n\nDocker is the most widely used tool to build and run containers. If you already have Docker installed, you can run Tern by building a container with the Dockerfile provided and the `docker_run.sh` script:\n\nClone this repository:\n```\n$ git clone https://github.com/vmware/tern.git\n```\n\nBuild the Docker image (called `ternd` here). You may need to use sudo:\n```\n$ docker build -t ternd .\n```\n\nRun the script `docker_run.sh`. You may need to use sudo. In the below command `debian` is the docker hub container image name  and `buster` is the tag that identifies the version we are interested in analyzing.\n\n```\n$ ./docker_run.sh workdir ternd \"report -i debian:buster\" > output.txt\n```\n\nTo produce a json report run\n```\n$ ./docker_run.sh workdir ternd \"report -f json -i debian:buster\"\n```\n\nWhat the `docker_run.sh` script does is create the directory `workdir` if not present in your current working directory and run the built container as privileged with `workdir` bind mounted to it.\n\n*WARNING:* privileged Docker containers are not secure. DO NOT run this container in production unless you have secured the node (VM or bare metal machine) that the docker daemon is running on.\n\nTern is not distributed as Docker images yet. This is coming soon. Watch the [Project Status](#project-status) for updates.\n\n## Getting Started with Vagrant<a name=\"getting-started-with-vagrant\">\nVagrant is a tool to setup an isolated virtual software development environment. If you are using Windows or Mac OSes, this is the best way to get started as Tern does not run natively in a Mac OS or Windows environment at this time.\n\n### Install\nFollow the instructions on the [VirtualBox](https://www.virtualbox.org/wiki/Downloads) website to download VirtualBox on your OS.\n\nFollow the instructions on the website to install [Vagrant](https://www.vagrantup.com/downloads.html) for your OS. \n\n### Create a Vagrant environment\nIn your terminal app, run the following commands.\n\nClone this repository:\n```\n$ git clone https://github.com/vmware/tern.git\n```\n\nBring up the Vagrant box: \n```\n$ cd tern/vagrant\n$ vagrant up\n```\n\nSSH into the created VM: \n```\n$ vagrant ssh\n```\n\nRun:\n```\n$ tern report -i debian:buster -o output.txt\n```\n\n# Using Tern<a name=\"using-tern\">\n\n*WARNING*: The CLI has changed since the last release. Visit [Tern's PyPI project page](https://pypi.org/project/tern/) to find the correct CLI options or just run `tern -h`.\n\nTern creates a report containing the Bill of Materials (BoM) of a container image, including notes about how it collects this information, and files for which it has no information about. Currently, Tern supports only containers built using Docker. This is the most ubiquitous type of container image that exists so the project started with a focus on those. However, it is architected to support other images that closely follow the [OCI image spec](https://github.com/opencontainers/image-spec/blob/master/spec.md).\n\n## Generating a BoM report for a Docker image<a name=\"bom-for-docker-image\">\nIf you have a Docker image pulled locally and want to inspect it\n```\n$ tern report -i debian:jessie\n```\nTake a look at report.txt to see what packages are installed in the Docker image and how Tern got this information. If you encounter any errors, please file an issue.\n\n## Generating a BoM report from a Dockerfile<a name=\"bom-for-dockerfile\">\nYou can provide a Dockerfile to Tern to figure out the Bill of Materials and other information. Tern will build the image, analyze it with respect to the Dockerfile and discard the image. This is useful to engineers who are developing a Dockerfile for their app or in a container build and release pipeline.\n```\n$ tern report -d samples/photon_git/Dockerfile\n```\nTake a look at report.txt to see what packages you would be shipping if you were to use the given Dockerfile. Feel free to try this out on the other sample Dockerfiles in the samples directory or on Dockerfiles you may be working with. If it doesn't work for you, please file an issue.\n\n\n# Report Formats<a name=\"report-formats\">\nTern creates BoM reports suitable to read over or to provide to another tool for consumption.\n\n## Human Readable Format<a name=\"report-human-readable\">\nThe default report Tern produces is a human readable report. The object of this report is to give the container developer a deeper understanding of what is installed in a container image during development. This allows a developer to glean basic information about the container such as what the true base operating system is, what the app dependencies are, if the container is using an official or personal repository for sources or binaries, whether the dependencies are at the correct versions, etc.\n```\n$ tern report -i golang:1.12-alpine -o output.txt\n```\n\n## JSON Format<a name=\"report-json\">\nYou can get the results in a JSON file to pass around in a network.\n```\n$ tern report -f json -i golang:1.12-alpine\n```\n\n## YAML Format<a name=\"report-yaml\">\nYou can get the results in a YAML file to be consumed by a downstream tool or script.\n```\n$ tern report -f yaml -i golang:1.12-alpine -o output.yaml\n```\n\n## SPDX tag-value Format<a name=\"report-spdxtagvalue\">\n[SPDX](https://spdx.org/) is a format developed by the Linux Foundation to provide a standard way of reporting license information. Many compliance tools are compatible with SPDX. Tern follows the [SPDX specifications](https://spdx.org/specifications) specifically the tag-value format which is the most compatible format with the toolkit the organization provides. The tag-value format is the only SPDX format Tern supports. There are conversion tools available [here](https://github.com/spdx/tools) (some still in development). You can read an overview of the SPDX tag-value specification [here](./docs/spdx-tag-value-overview) and about how Tern maps its properties to the keys mandated by the spec [here](./docs/spdx-tag-value-mapping.md).\n```\n$ tern report -f spdxtagvalue -i golang:1.12-alpine -o spdx.txt\n```\n\n# Extensions<a name=\"extensions\">\nTern does not have its own file level license scanner. In order to fill in the gap, Tern allows you to extend container image analysis with an external file analysis CLI tool or Python3 module. In order to take advantage of the extensions, both the extention tool and Tern need to be installed.\n\nNOTE: Neither the Docker container nor the Vagrant image has any of the extensions installed. You are welcomed to modify `Dockerfile` and `vagrant/bootstrap.sh` to install the extensions if you wish to use them. Please see the instructions below on how to enable the extension of your choice.\n\n## Scancode<a name=\"scancode\">\n[scancode-toolkit](https://github.com/nexB/scancode-toolkit) is a license analysis tool that \"detects licenses, copyrights, package manifests and direct dependencies and more both in source code and binary files\". Note that Scancode currently works on Python 3.5 and 3.6 but not 3.7 onwards. Be sure to check what python version you are using below.\n\n1. Install system dependencies for Scancode (refer to the [Scancode GitHub repo](https://github.com/nexB/scancode-toolkit) for instructions)\n\n2. Setup a python virtual environment\n```\n$ python3 -m venv scanenv\n$ cd scanenv\n$ source bin/activate\n```\n3. Install tern and scancode\n```\n$ pip install tern scancode-toolkit\n```\n4. Run tern with scancode\n```\n$ tern report -x scancode -i golang:1.12-alpine\n```\n\nIf you are running Scancode for the first time, depending on the size of the container image, it takes anywhere between 10 minutes to a few hours to run due to the number of files needed to be analyzed. Once completed, subsequent runs will be much faster as the data will be cached for future use.\n\n## cve-bin-tool<a name=\"cve-bin-tool\">\n[cve-bin-tool](https://github.com/intel/cve-bin-tool) is a command line tool which \"scans for a number of common, vulnerable components (openssl, libpng, libxml2, expat and a few others) to let you know if your system includes common libraries with known vulnerabilities\". Vulnerability scanning tools can also be extended to work on containers using Tern, although support for certain metadata pertaining to CVEs may not be available yet. As a result, you will not see any of the results in the generated reports.\n\n1. Install system dependencies for cve-bin-tool (refer to the [cve-bin-tool GitHub repo](https://github.com/intel/cve-bin-tool) for instructions)\n\n2. Setup a python virtual environment\n```\n$ python3 -m venv scanenv\n$ cd scanenv\n$ source bin/activate\n```\n3. Install tern and cve-bin-tool\n```\n$ pip install tern cve-bin-tool\n```\n4. Run tern with cve-bin-tool\n```\n$ tern report -x cve_bin_tool -i golang:1.12-alpine\n```\n\n# Running tests<a name=\"running-tests\">\nWARNING: The `test_util_*` tests are not up to date. We are working on it :). From the Tern repository root directory run:\n```\n$ python tests/<test file>.py\n```\n\n## Project Status<a name=\"project-status\"/>\nRelease 1.0.0 was released at the beginning of November. A follow-up release, v1.0.1, was made available at the beginning of December to address a regression found when running Tern in a Docker container.\n\nSee the [release notes](docs/releases/v1_0_0.md) for more information. See the [update notes](docs/releases/v1_0_1.md) for patches on top of this release.\n\nWe try to keep the [project roadmap](./docs/project-roadmap.md) as up to date as possible. We are currently working on Release 1.1.0.\n\n## Releases\n* [v1.0.1](docs/releases/v1_0_1.md)\n* [v0.5.4](docs/releases/v0_5_4.md)\n* [v0.4.0](docs/releases/v0_4_0.md)\n* [v0.3.0](docs/releases/v0_3_0.md)\n* [v0.2.0](docs/releases/v0_2_0.md)\n* [v0.1.0](docs/releases/v0_1_0.md)\n\n## Documentation\nArchitecture, function blocks, code descriptions and the project roadmap are located in the docs folder. Contributions to the documentation are welcome! See the [contributing guide](/CONTRIBUTING.md) to find out how to submit changes.\n\n## Get Involved\n\nDo you have questions about Tern? Do you think it can do better? Would you like to make it better? You can get involved by giving your feedback and contributing to the code, documentation and conversation!\n\nPlease read our [code of conduct](/CODE_OF_CONDUCT.md) first.\n\nNext, take a look at the [contributing guide](/CONTRIBUTING.md) to find out how you can start.\n\n\n", "description_content_type": "text/markdown; charset=UTF-8", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/vmware/tern/", "keywords": "Distribution,Container,Cloud-Native", "license": "BSD-2.0", "maintainer": "", "maintainer_email": "", "name": "tern", "package_url": "https://pypi.org/project/tern/", "platform": "", "project_url": "https://pypi.org/project/tern/", "project_urls": {"Documentation": "https://github.com/vmware/tern/tree/master/docs", "Homepage": "https://github.com/vmware/tern/", "Issues": "https://github.com/vmware/tern/issues", "Source Code": "https://github.com/vmware/tern"}, "release_url": "https://pypi.org/project/tern/2.0.0/", "requires_dist": ["certifi (==2019.11.28)", "chardet (==3.0.4)", "docker (==4.2.0)", "dockerfile-parse (==0.0.16)", "idna (==2.9)", "pbr (==5.4.4)", "pyyaml (==5.3.1)", "requests (==2.23.0)", "six (==1.14.0)", "stevedore (==1.32.0)", "urllib3 (==1.25.8)", "websocket-client (==0.57.0)", "GitPython (~=2.1) ; extra == 'dev'", "bandit (~=1.6) ; extra == 'dev'", "prospector (>=1.2) ; extra == 'dev'", "tox (>=3.14) ; extra == 'dev'"], "requires_python": "", "summary": "An inspection tool to find the OSS compliance metadata of the packages installed in a container image.", "version": "2.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><img alt=\"Tern\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8e096021edf631769c5f978027dab49291a3a4e9/2f646f63732f696d672f7465726e5f6c6f676f2e706e67\"></p>\n<p><a href=\"https://circleci.com/gh/vmware/tern\" rel=\"nofollow\"><img alt=\"CircleCI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/89b4a456a6153377ca1c8c6c011c3d51c008e0de/68747470733a2f2f636972636c6563692e636f6d2f67682f766d776172652f7465726e2e7376673f7374796c653d737667\"></a>\n<a href=\"https://bestpractices.coreinfrastructure.org/projects/2689\" rel=\"nofollow\"><img alt=\"CII Best Practices\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/eeb4bf3ed9cb3215c43415f3c811de254c78c134/68747470733a2f2f626573747072616374696365732e636f7265696e6672617374727563747572652e6f72672f70726f6a656374732f323638392f6261646765\"></a>\n<a href=\"https://opensource.org/licenses/BSD-2-Clause\" rel=\"nofollow\"><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7113cf74173470380bf04b021010808d24630d65/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d425344253230322d2d436c617573652d6f72616e67652e737667\"></a></p>\n<h1>Welcome to the Tern Project</h1>\n<p>Tern is a software package inspection tool for containers. It's written in Python3 with a smattering of shell scripts.</p>\n<h1>Table of Contents</h1>\n<ul>\n<li><a href=\"#what-is-tern\" rel=\"nofollow\">Introduction</a>\n<ul>\n<li><a href=\"/docs/faq.md\" rel=\"nofollow\">FAQ</a></li>\n<li><a href=\"/docs/glossary.md\" rel=\"nofollow\">Glossary of Terms</a></li>\n<li><a href=\"/docs/architecture.md\" rel=\"nofollow\">Architecture</a></li>\n<li><a href=\"/docs/navigating-the-code.md\" rel=\"nofollow\">Navigating the Code</a></li>\n<li><a href=\"/docs/data-model.md\" rel=\"nofollow\">Data Model</a></li>\n</ul>\n</li>\n<li><a href=\"#getting-started\" rel=\"nofollow\">Getting Started</a>\n<ul>\n<li><a href=\"#getting-started-on-linux\" rel=\"nofollow\">Getting Started on Linux</a></li>\n<li><a href=\"#getting-started-with-docker\" rel=\"nofollow\">Getting Started with Docker</a></li>\n<li><a href=\"#getting-started-with-vagrant\" rel=\"nofollow\">Getting Started with Vagrant</a></li>\n</ul>\n</li>\n<li><a href=\"#using-tern\" rel=\"nofollow\">Using Tern</a>\n<ul>\n<li><a href=\"#bom-for-docker-image\" rel=\"nofollow\">Generating a BoM report for a Docker image</a></li>\n<li><a href=\"#bom-for-dockerfile\" rel=\"nofollow\">Generating a BoM report from a Dockerfile</a></li>\n</ul>\n</li>\n<li><a href=\"#report-formats\" rel=\"nofollow\">Report Formats</a>\n<ul>\n<li><a href=\"#report-human-readable\" rel=\"nofollow\">Human Readable Format</a></li>\n<li><a href=\"#report-json\" rel=\"nofollow\">JSON Format</a></li>\n<li><a href=\"#report-yaml\" rel=\"nofollow\">YAML Format</a></li>\n<li><a href=\"#report-spdxtagvalue\" rel=\"nofollow\">SPDX tag-value Format</a></li>\n</ul>\n</li>\n<li><a href=\"#extensions\" rel=\"nofollow\">Extensions</a>\n<ul>\n<li><a href=\"#scancode\" rel=\"nofollow\">Scancode</a></li>\n<li><a href=\"#cve-bin-tool\" rel=\"nofollow\">cve-bin-tool</a></li>\n</ul>\n</li>\n<li><a href=\"#running-tests\" rel=\"nofollow\">Running tests</a></li>\n<li><a href=\"#project-status\" rel=\"nofollow\">Project Status</a></li>\n<li><a href=\"/CONTRIBUTING.md\" rel=\"nofollow\">Contributing</a>\n<ul>\n<li><a href=\"/CODE_OF_CONDUCT.md\" rel=\"nofollow\">Code of Conduct</a></li>\n<li><a href=\"/docs/creating-custom-templates.md\" rel=\"nofollow\">Creating Report Formats</a></li>\n<li><a href=\"/docs/creating-tool-extensions.md\" rel=\"nofollow\">Creating Tool Extensions</a></li>\n<li><a href=\"/docs/adding-to-command-library.md\" rel=\"nofollow\">Adding to the Command Library</a></li>\n</ul>\n</li>\n</ul>\n<h1>What is Tern?<a></a></h1><a>\n<p>Tern is an inspection tool to find the metadata of the packages installed in a container image. The overall operation looks like this:</p>\n<ol>\n<li>It uses overlayfs to mount the first filesystem layer (also known as the BaseOS) used to build the container image</li>\n<li>It then executes scripts from the \"command library\" in a chroot environment to collect information about packages installed in that layer</li>\n<li>With that information as a starting point, it continues to iterate over steps 1 and 2 for the rest of the layers in the container image</li>\n<li>Once done, it generates a report, various format options are available. The report, in its default format, provides a verbose, layer by layer, explanation of the various software components imported. If a Dockerfile is provided, the report indicates the Dockerfile lines corresponding to each of the file system layers.</li>\n</ol>\n<p>Tern gives you a deeper understanding of your container's bill of materials so you can make better decisions about your container based infrastructure, integration and deployment strategies. It's also a good tool if you are curious about the contents of the container images you have built.</p>\n<p><img alt=\"Tern quick demo\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0af1bb8574ff9b3712986ae6fcc326081ff22f99/2f646f63732f696d672f7465726e5f64656d6f5f666173742e676966\"></p>\n</a><h1><a>Getting Started</a><a></a></h1><a>\n</a><h2><a>Getting Started on Linux</a><a></a></h2><a>\n<p>If you have a Linux OS you will need a distro with a kernel version &gt;= 4.0 (Ubuntu 16.04 or newer or Fedora 25 or newer are good selections) and will need to install the following requirements:</p>\n</a><ul><a>\n</a><li><a>Git (Installation instructions can be found here: </a><a href=\"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git\" rel=\"nofollow\">https://git-scm.com/book/en/v2/Getting-Started-Installing-Git</a>)</li>\n<li>attr (sudo apt-get install attr or sudo dnf install attr)</li>\n<li>Python 3.6 or newer (sudo apt-get install python3.6(3.7) or sudo dnf install python36(37))</li>\n<li>Pip (sudo apt-get install python3-pip).</li>\n</ul>\n<p>Some distro versions have all of these except <code>attr</code> preinstalled but <code>attr</code> is a common utility and is available via the package manager.</p>\n<p>For Docker containers</p>\n<ul>\n<li>Docker CE (Installation instructions can be found here: <a href=\"https://docs.docker.com/engine/installation/#server\" rel=\"nofollow\">https://docs.docker.com/engine/installation/#server</a>)</li>\n</ul>\n<p>Make sure the docker daemon is running.</p>\n<p>Create a python3 virtual environment:</p>\n<pre><code>$ python3 -m venv ternenv\n$ cd ternenv\n</code></pre>\n<p><em>NOTE:</em> Your OS might distribute each Python version separately. For example, on Ubuntu LTS, Python 2.7 is linked to <code>python2</code> and Python 3.6 is linked to <code>python3</code>. I develop with Python 3.7 which is installed separately with no symlinks. In this case, I use the binary. The binaries are usually installed in <code>/usr/bin/python</code>.</p>\n<p>Activate the virtual environment:</p>\n<pre><code>$ source bin/activate\n</code></pre>\n<p>NOTE: This specific activate script only works for Bash shells. If you need to activate a Fish Shell or C Shell you should use <code>source bin/activate.fish</code> or <code>source bin/activate.csh</code>, respectively.</p>\n<p>Install tern:</p>\n<pre><code>$ pip install tern\n</code></pre>\n<p>Run Tern:</p>\n<pre><code>$ tern report -o output.txt -i debian:buster\n</code></pre>\n<h2>Getting Started with Docker<a></a></h2><a>\n</a><p><a>Note Mac users: running Tern natively as a docker container is currently unsupported. Another option is to use Vagrant in your Mac environment and then follow the steps below. For Vagrant setup, see </a><a href=\"#getting-started-with-vagrant\" rel=\"nofollow\">Getting Started with Vagrant</a>.</p>\n<p>Docker is the most widely used tool to build and run containers. If you already have Docker installed, you can run Tern by building a container with the Dockerfile provided and the <code>docker_run.sh</code> script:</p>\n<p>Clone this repository:</p>\n<pre><code>$ git clone https://github.com/vmware/tern.git\n</code></pre>\n<p>Build the Docker image (called <code>ternd</code> here). You may need to use sudo:</p>\n<pre><code>$ docker build -t ternd .\n</code></pre>\n<p>Run the script <code>docker_run.sh</code>. You may need to use sudo. In the below command <code>debian</code> is the docker hub container image name  and <code>buster</code> is the tag that identifies the version we are interested in analyzing.</p>\n<pre><code>$ ./docker_run.sh workdir ternd \"report -i debian:buster\" &gt; output.txt\n</code></pre>\n<p>To produce a json report run</p>\n<pre><code>$ ./docker_run.sh workdir ternd \"report -f json -i debian:buster\"\n</code></pre>\n<p>What the <code>docker_run.sh</code> script does is create the directory <code>workdir</code> if not present in your current working directory and run the built container as privileged with <code>workdir</code> bind mounted to it.</p>\n<p><em>WARNING:</em> privileged Docker containers are not secure. DO NOT run this container in production unless you have secured the node (VM or bare metal machine) that the docker daemon is running on.</p>\n<p>Tern is not distributed as Docker images yet. This is coming soon. Watch the <a href=\"#project-status\" rel=\"nofollow\">Project Status</a> for updates.</p>\n<h2>Getting Started with Vagrant<a></a></h2><a>\n<p>Vagrant is a tool to setup an isolated virtual software development environment. If you are using Windows or Mac OSes, this is the best way to get started as Tern does not run natively in a Mac OS or Windows environment at this time.</p>\n<h3>Install</h3>\n</a><p><a>Follow the instructions on the </a><a href=\"https://www.virtualbox.org/wiki/Downloads\" rel=\"nofollow\">VirtualBox</a> website to download VirtualBox on your OS.</p>\n<p>Follow the instructions on the website to install <a href=\"https://www.vagrantup.com/downloads.html\" rel=\"nofollow\">Vagrant</a> for your OS.</p>\n<h3>Create a Vagrant environment</h3>\n<p>In your terminal app, run the following commands.</p>\n<p>Clone this repository:</p>\n<pre><code>$ git clone https://github.com/vmware/tern.git\n</code></pre>\n<p>Bring up the Vagrant box:</p>\n<pre><code>$ cd tern/vagrant\n$ vagrant up\n</code></pre>\n<p>SSH into the created VM:</p>\n<pre><code>$ vagrant ssh\n</code></pre>\n<p>Run:</p>\n<pre><code>$ tern report -i debian:buster -o output.txt\n</code></pre>\n<h1>Using Tern<a></a></h1><a>\n</a><p><a><em>WARNING</em>: The CLI has changed since the last release. Visit </a><a href=\"https://pypi.org/project/tern/\" rel=\"nofollow\">Tern's PyPI project page</a> to find the correct CLI options or just run <code>tern -h</code>.</p>\n<p>Tern creates a report containing the Bill of Materials (BoM) of a container image, including notes about how it collects this information, and files for which it has no information about. Currently, Tern supports only containers built using Docker. This is the most ubiquitous type of container image that exists so the project started with a focus on those. However, it is architected to support other images that closely follow the <a href=\"https://github.com/opencontainers/image-spec/blob/master/spec.md\" rel=\"nofollow\">OCI image spec</a>.</p>\n<h2>Generating a BoM report for a Docker image<a></a></h2><a>\n<p>If you have a Docker image pulled locally and want to inspect it</p>\n<pre><code>$ tern report -i debian:jessie\n</code></pre>\n<p>Take a look at report.txt to see what packages are installed in the Docker image and how Tern got this information. If you encounter any errors, please file an issue.</p>\n</a><h2><a>Generating a BoM report from a Dockerfile</a><a></a></h2><a>\n<p>You can provide a Dockerfile to Tern to figure out the Bill of Materials and other information. Tern will build the image, analyze it with respect to the Dockerfile and discard the image. This is useful to engineers who are developing a Dockerfile for their app or in a container build and release pipeline.</p>\n<pre><code>$ tern report -d samples/photon_git/Dockerfile\n</code></pre>\n<p>Take a look at report.txt to see what packages you would be shipping if you were to use the given Dockerfile. Feel free to try this out on the other sample Dockerfiles in the samples directory or on Dockerfiles you may be working with. If it doesn't work for you, please file an issue.</p>\n</a><h1><a>Report Formats</a><a></a></h1><a>\n<p>Tern creates BoM reports suitable to read over or to provide to another tool for consumption.</p>\n</a><h2><a>Human Readable Format</a><a></a></h2><a>\n<p>The default report Tern produces is a human readable report. The object of this report is to give the container developer a deeper understanding of what is installed in a container image during development. This allows a developer to glean basic information about the container such as what the true base operating system is, what the app dependencies are, if the container is using an official or personal repository for sources or binaries, whether the dependencies are at the correct versions, etc.</p>\n<pre><code>$ tern report -i golang:1.12-alpine -o output.txt\n</code></pre>\n</a><h2><a>JSON Format</a><a></a></h2><a>\n<p>You can get the results in a JSON file to pass around in a network.</p>\n<pre><code>$ tern report -f json -i golang:1.12-alpine\n</code></pre>\n</a><h2><a>YAML Format</a><a></a></h2><a>\n<p>You can get the results in a YAML file to be consumed by a downstream tool or script.</p>\n<pre><code>$ tern report -f yaml -i golang:1.12-alpine -o output.yaml\n</code></pre>\n</a><h2><a>SPDX tag-value Format</a><a></a></h2><a>\n</a><p><a></a><a href=\"https://spdx.org/\" rel=\"nofollow\">SPDX</a> is a format developed by the Linux Foundation to provide a standard way of reporting license information. Many compliance tools are compatible with SPDX. Tern follows the <a href=\"https://spdx.org/specifications\" rel=\"nofollow\">SPDX specifications</a> specifically the tag-value format which is the most compatible format with the toolkit the organization provides. The tag-value format is the only SPDX format Tern supports. There are conversion tools available <a href=\"https://github.com/spdx/tools\" rel=\"nofollow\">here</a> (some still in development). You can read an overview of the SPDX tag-value specification <a href=\"./docs/spdx-tag-value-overview\" rel=\"nofollow\">here</a> and about how Tern maps its properties to the keys mandated by the spec <a href=\"./docs/spdx-tag-value-mapping.md\" rel=\"nofollow\">here</a>.</p>\n<pre><code>$ tern report -f spdxtagvalue -i golang:1.12-alpine -o spdx.txt\n</code></pre>\n<h1>Extensions<a></a></h1><a>\n<p>Tern does not have its own file level license scanner. In order to fill in the gap, Tern allows you to extend container image analysis with an external file analysis CLI tool or Python3 module. In order to take advantage of the extensions, both the extention tool and Tern need to be installed.</p>\n<p>NOTE: Neither the Docker container nor the Vagrant image has any of the extensions installed. You are welcomed to modify <code>Dockerfile</code> and <code>vagrant/bootstrap.sh</code> to install the extensions if you wish to use them. Please see the instructions below on how to enable the extension of your choice.</p>\n</a><h2><a>Scancode</a><a></a></h2><a>\n</a><p><a></a><a href=\"https://github.com/nexB/scancode-toolkit\" rel=\"nofollow\">scancode-toolkit</a> is a license analysis tool that \"detects licenses, copyrights, package manifests and direct dependencies and more both in source code and binary files\". Note that Scancode currently works on Python 3.5 and 3.6 but not 3.7 onwards. Be sure to check what python version you are using below.</p>\n<ol>\n<li>\n<p>Install system dependencies for Scancode (refer to the <a href=\"https://github.com/nexB/scancode-toolkit\" rel=\"nofollow\">Scancode GitHub repo</a> for instructions)</p>\n</li>\n<li>\n<p>Setup a python virtual environment</p>\n</li>\n</ol>\n<pre><code>$ python3 -m venv scanenv\n$ cd scanenv\n$ source bin/activate\n</code></pre>\n<ol>\n<li>Install tern and scancode</li>\n</ol>\n<pre><code>$ pip install tern scancode-toolkit\n</code></pre>\n<ol>\n<li>Run tern with scancode</li>\n</ol>\n<pre><code>$ tern report -x scancode -i golang:1.12-alpine\n</code></pre>\n<p>If you are running Scancode for the first time, depending on the size of the container image, it takes anywhere between 10 minutes to a few hours to run due to the number of files needed to be analyzed. Once completed, subsequent runs will be much faster as the data will be cached for future use.</p>\n<h2>cve-bin-tool<a></a></h2><a>\n</a><p><a></a><a href=\"https://github.com/intel/cve-bin-tool\" rel=\"nofollow\">cve-bin-tool</a> is a command line tool which \"scans for a number of common, vulnerable components (openssl, libpng, libxml2, expat and a few others) to let you know if your system includes common libraries with known vulnerabilities\". Vulnerability scanning tools can also be extended to work on containers using Tern, although support for certain metadata pertaining to CVEs may not be available yet. As a result, you will not see any of the results in the generated reports.</p>\n<ol>\n<li>\n<p>Install system dependencies for cve-bin-tool (refer to the <a href=\"https://github.com/intel/cve-bin-tool\" rel=\"nofollow\">cve-bin-tool GitHub repo</a> for instructions)</p>\n</li>\n<li>\n<p>Setup a python virtual environment</p>\n</li>\n</ol>\n<pre><code>$ python3 -m venv scanenv\n$ cd scanenv\n$ source bin/activate\n</code></pre>\n<ol>\n<li>Install tern and cve-bin-tool</li>\n</ol>\n<pre><code>$ pip install tern cve-bin-tool\n</code></pre>\n<ol>\n<li>Run tern with cve-bin-tool</li>\n</ol>\n<pre><code>$ tern report -x cve_bin_tool -i golang:1.12-alpine\n</code></pre>\n<h1>Running tests<a></a></h1><a>\n<p>WARNING: The <code>test_util_*</code> tests are not up to date. We are working on it :). From the Tern repository root directory run:</p>\n<pre><code>$ python tests/&lt;test file&gt;.py\n</code></pre>\n</a><h2><a>Project Status</a><a></a></h2><a>\n<p>Release 1.0.0 was released at the beginning of November. A follow-up release, v1.0.1, was made available at the beginning of December to address a regression found when running Tern in a Docker container.</p>\n</a><p><a>See the </a><a href=\"docs/releases/v1_0_0.md\" rel=\"nofollow\">release notes</a> for more information. See the <a href=\"docs/releases/v1_0_1.md\" rel=\"nofollow\">update notes</a> for patches on top of this release.</p>\n<p>We try to keep the <a href=\"./docs/project-roadmap.md\" rel=\"nofollow\">project roadmap</a> as up to date as possible. We are currently working on Release 1.1.0.</p>\n<h2>Releases</h2>\n<ul>\n<li><a href=\"docs/releases/v1_0_1.md\" rel=\"nofollow\">v1.0.1</a></li>\n<li><a href=\"docs/releases/v0_5_4.md\" rel=\"nofollow\">v0.5.4</a></li>\n<li><a href=\"docs/releases/v0_4_0.md\" rel=\"nofollow\">v0.4.0</a></li>\n<li><a href=\"docs/releases/v0_3_0.md\" rel=\"nofollow\">v0.3.0</a></li>\n<li><a href=\"docs/releases/v0_2_0.md\" rel=\"nofollow\">v0.2.0</a></li>\n<li><a href=\"docs/releases/v0_1_0.md\" rel=\"nofollow\">v0.1.0</a></li>\n</ul>\n<h2>Documentation</h2>\n<p>Architecture, function blocks, code descriptions and the project roadmap are located in the docs folder. Contributions to the documentation are welcome! See the <a href=\"/CONTRIBUTING.md\" rel=\"nofollow\">contributing guide</a> to find out how to submit changes.</p>\n<h2>Get Involved</h2>\n<p>Do you have questions about Tern? Do you think it can do better? Would you like to make it better? You can get involved by giving your feedback and contributing to the code, documentation and conversation!</p>\n<p>Please read our <a href=\"/CODE_OF_CONDUCT.md\" rel=\"nofollow\">code of conduct</a> first.</p>\n<p>Next, take a look at the <a href=\"/CONTRIBUTING.md\" rel=\"nofollow\">contributing guide</a> to find out how you can start.</p>\n\n          </div>"}, "last_serial": 6917327, "releases": {"0.5.4": [{"comment_text": "", "digests": {"md5": "7b9470c708910e76f8adab9e7d0a52f8", "sha256": "f2ef099df62cf2a87c1d8f1e5413d317a98e59613500a51fc8462a6de77fae12"}, "downloads": -1, "filename": "tern-0.5.4-py3-none-any.whl", "has_sig": false, "md5_digest": "7b9470c708910e76f8adab9e7d0a52f8", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 66062, "upload_time": "2019-08-27T19:58:58", "upload_time_iso_8601": "2019-08-27T19:58:58.935120Z", "url": "https://files.pythonhosted.org/packages/44/3d/532d8dd97263a8549d787f7b8d57f2001ac917e0ba8486af74de1ef54f29/tern-0.5.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "79ae2c70efec3e3f502d7599b5d49651", "sha256": "76195617f01cfe96300d292eeb750867ef13104dd59b742becdc9a25ecf2f234"}, "downloads": -1, "filename": "tern-0.5.4.tar.gz", "has_sig": false, "md5_digest": "79ae2c70efec3e3f502d7599b5d49651", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3234877, "upload_time": "2019-08-27T19:59:02", "upload_time_iso_8601": "2019-08-27T19:59:02.474077Z", "url": "https://files.pythonhosted.org/packages/72/ee/fb19b768c2c8665c3b5aadcea5795e15b5f7be43422beaa2e83b52064832/tern-0.5.4.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "8311072181041f37447304a39727bd47", "sha256": "8df1556ccb2b0ec900ba5ca1b329240fe21d3cad8f8b555b39563bddbf4eb299"}, "downloads": -1, "filename": "tern-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "8311072181041f37447304a39727bd47", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 77610, "upload_time": "2019-11-06T18:13:14", "upload_time_iso_8601": "2019-11-06T18:13:14.938692Z", "url": "https://files.pythonhosted.org/packages/ad/5c/24053190fabf992a128efd5dcfb261b584e35c582ad9fe86ff899826d212/tern-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4d0a9ebd271edbb9e1ec7328dfc9c291", "sha256": "812644e9989a72dad57d83877c86b3fba7fa1ad21fc6fd93fc5be508691bf6a6"}, "downloads": -1, "filename": "tern-1.0.0.tar.gz", "has_sig": false, "md5_digest": "4d0a9ebd271edbb9e1ec7328dfc9c291", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3340672, "upload_time": "2019-11-06T18:13:17", "upload_time_iso_8601": "2019-11-06T18:13:17.189400Z", "url": "https://files.pythonhosted.org/packages/ba/e4/414652b35d158195fae660f14cee95bf468922bccd4d85adb7ff6af01d61/tern-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "a006d1a59e564d6d3b7bd2a840bba56f", "sha256": "1427ccf5ffa5fd2235d788896a3504bc9c006f061a4ae80ed94a289cedd0e560"}, "downloads": -1, "filename": "tern-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "a006d1a59e564d6d3b7bd2a840bba56f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 77693, "upload_time": "2019-12-04T19:39:44", "upload_time_iso_8601": "2019-12-04T19:39:44.286654Z", "url": "https://files.pythonhosted.org/packages/ba/53/2333367212638a8659734c30b831a148147091ce8fd637730309fe9b14b8/tern-1.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9f1d97ce07073fa824e5823269f0ca00", "sha256": "8701996bfec6472b2db3866270ae79460af71efb15da52c273f3c601dc2776f3"}, "downloads": -1, "filename": "tern-1.0.1.tar.gz", "has_sig": false, "md5_digest": "9f1d97ce07073fa824e5823269f0ca00", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3343514, "upload_time": "2019-12-04T19:39:57", "upload_time_iso_8601": "2019-12-04T19:39:57.249826Z", "url": "https://files.pythonhosted.org/packages/81/41/5ec17760d1184ca877960ad2fe49d532e3465e08e07f2db328654846bbae/tern-1.0.1.tar.gz", "yanked": false}], "2.0.0": [{"comment_text": "", "digests": {"md5": "7aaf780d82945ef6c34dafca9a3116af", "sha256": "fb348051267d538a078f2475a90efa27bff8f9631291eed35371b49bf787b5c7"}, "downloads": -1, "filename": "tern-2.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "7aaf780d82945ef6c34dafca9a3116af", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 87787, "upload_time": "2020-03-31T02:20:16", "upload_time_iso_8601": "2020-03-31T02:20:16.585224Z", "url": "https://files.pythonhosted.org/packages/08/62/50dc6f7c34818876bbe14d8495b6bfb36d06d008ec1f7ac11b79a5cdab95/tern-2.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1c8455cf435fea5b931b6dddccafce7c", "sha256": "042cf232e47cf4a2f592fb17c928ac7c3a7dde13bfe5f44a91945886a980d4ec"}, "downloads": -1, "filename": "tern-2.0.0.tar.gz", "has_sig": false, "md5_digest": "1c8455cf435fea5b931b6dddccafce7c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3360894, "upload_time": "2020-03-31T02:20:33", "upload_time_iso_8601": "2020-03-31T02:20:33.821085Z", "url": "https://files.pythonhosted.org/packages/83/e2/340be463ae4dbc5e9c628b1dd7aa769f2f2f83586ca2933fef857d944b5c/tern-2.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "7aaf780d82945ef6c34dafca9a3116af", "sha256": "fb348051267d538a078f2475a90efa27bff8f9631291eed35371b49bf787b5c7"}, "downloads": -1, "filename": "tern-2.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "7aaf780d82945ef6c34dafca9a3116af", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 87787, "upload_time": "2020-03-31T02:20:16", "upload_time_iso_8601": "2020-03-31T02:20:16.585224Z", "url": "https://files.pythonhosted.org/packages/08/62/50dc6f7c34818876bbe14d8495b6bfb36d06d008ec1f7ac11b79a5cdab95/tern-2.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1c8455cf435fea5b931b6dddccafce7c", "sha256": "042cf232e47cf4a2f592fb17c928ac7c3a7dde13bfe5f44a91945886a980d4ec"}, "downloads": -1, "filename": "tern-2.0.0.tar.gz", "has_sig": false, "md5_digest": "1c8455cf435fea5b931b6dddccafce7c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3360894, "upload_time": "2020-03-31T02:20:33", "upload_time_iso_8601": "2020-03-31T02:20:33.821085Z", "url": "https://files.pythonhosted.org/packages/83/e2/340be463ae4dbc5e9c628b1dd7aa769f2f2f83586ca2933fef857d944b5c/tern-2.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:55:51 2020"}
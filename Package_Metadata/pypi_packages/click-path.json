{"info": {"author": "Eugene Kovalev", "author_email": "eugene@kovalev.systems", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# Advanced Path Types for Click\n\nA library of path-like types for the Click command-line library.\n\nI really like the [click](https://click.palletsprojects.com/) library for creating Python command-line interfaces, however, I've run into issues because it lacks the ability to do a couple of key things - namely the ability to produce a [`pathlib.Path`](https://docs.python.org/3/library/pathlib.html) argument and the ability to use glob-based arguments. I am hoping to fix both of these with, and eventually add more useful commandline parameter types to this library. This library primarily implemented custom types for click parameters similar to how they're [described here](https://click.palletsprojects.com/en/7.x/parameters/#implementing-custom-types).\n\n## Installation & Setup\n\nTo install click-path with [`pip`](https://pip.pypa.io/en/stable/) execute the following:\n\n```bash\npip install /path/to/repo/click-path\n```\n\nIf you don't want to re-install every time there is an update, and prefer to just pull from the git repository, then use the `-e` flag.\n\n## Usage Examples\n\n### PathlibPath\n\nAllows the user of this library (and `click`) to create CLIs which output [`Path`](https://docs.python.org/3/library/pathlib.html#module-pathlib) parameter types with a lot of the same validation as what's available for the standard `click.Path` type. Here is an example:\n\n```python\nfrom pathlib import Path\n\nimport click\nfrom click_path import PathlibPath\n\nEXISTING_READABLE_FILE = PathlibPath(exists=True,\n                                     file_okay=True,\n                                     dir_okay=False,\n                                     writable=False,\n                                     readable=True,\n                                     resolve_path=True)\n\n\n@click.command()\n@click.option('-t', '--test', type=EXISTING_READABLE_FILE)\ndef cli_existing_readable_file(test: Path):\n    click.echo(str(test))\n```\n\n### GlobPaths\n\n`GlobPaths` allow you to take commandline arguments in the form of `/path/to/directory/*` which then produces an [iterable](https://docs.python.org/3/glossary.html#term-iterable) of [`pathlib.Path`](https://docs.python.org/3/library/pathlib.html#module-pathlib) objects for you to work with. It also allows filtering of said iterable of paths based on some specific parameters, like read/write permissions, and files vs. directories.\n\n```python\nimport click\nfrom click_path import GlobPaths\n\n\nREADABLE_FILES = GlobPaths(extant_only=False,\n                           files_okay=True,\n                           dirs_okay=False,\n                           writable_only=False,\n                           readable_only=True,\n                           resolve=False,\n                           at_least_one=True)\n\n\n@click.command()\n    @click.option('-t', '--tests', type=READABLE_FILES)\n    @typechecked\n    def cli(tests: Iterable[Path]):\n        click.echo(str(tests))\n```\n\n## Development\n\nFor development, you're going to want to set up a virtual development environment with [pipenv](https://github.com/pypa/pipenv) by following the linked instructions. I also strongly recommend setting the `export PIPENV_VENV_IN_PROJECT=1` environment variable in your `~/.bashrc` or `~/.zshrc` file because that makes the venvs much easier to work with.\n\nThen execute the following in the repo directory:\n\n```bash\npipenv --three\n```\n\nTo install the package for development, please use the `dev` [extra](https://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras-optional-features-with-their-own-dependencies) inside the virtualenv\n\n```bash\npipenv install -e \"/path/to/repo/click-path[dev]\"\n```\n\nThe `-e` installs the package in place for development, so that you don't have to reinstall when you make changes.\n\n## Running Tests\n\nYou can run all the tests with pytest and coverage (or all the unit tests, by changing the path to `tests/unit`) like so inside the virtualenv (`pipenv shell`):\n\n```bash\n(click-path) pytest -s -vv --cov=click_path --cov-report=term-missing --cov-branch tests\n```\n\nSimilarly, if you'd like to add HTML coverage reporting:\n\n```bash\n(click-path) pytest -s -vv --cov=click_path --cov-report=html:htmlcov --cov-report=term-missing --cov-branch tests\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.com/abraxos/click-path", "keywords": "click,path,glob,type,validation", "license": "GPL", "maintainer": "", "maintainer_email": "", "name": "click-path", "package_url": "https://pypi.org/project/click-path/", "platform": "", "project_url": "https://pypi.org/project/click-path/", "project_urls": {"Code": "https://gitlab.com/abraxos/click-path", "Documentation": "https://gitlab.com/abraxos/click-path", "Homepage": "https://gitlab.com/abraxos/click-path", "Issue tracker": "https://gitlab.com/abraxos/click-path/issues"}, "release_url": "https://pypi.org/project/click-path/0.0.5/", "requires_dist": null, "requires_python": ">=3.6", "summary": "A library of path-like types for the Click command-line library", "version": "0.0.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Advanced Path Types for Click</h1>\n<p>A library of path-like types for the Click command-line library.</p>\n<p>I really like the <a href=\"https://click.palletsprojects.com/\" rel=\"nofollow\">click</a> library for creating Python command-line interfaces, however, I've run into issues because it lacks the ability to do a couple of key things - namely the ability to produce a <a href=\"https://docs.python.org/3/library/pathlib.html\" rel=\"nofollow\"><code>pathlib.Path</code></a> argument and the ability to use glob-based arguments. I am hoping to fix both of these with, and eventually add more useful commandline parameter types to this library. This library primarily implemented custom types for click parameters similar to how they're <a href=\"https://click.palletsprojects.com/en/7.x/parameters/#implementing-custom-types\" rel=\"nofollow\">described here</a>.</p>\n<h2>Installation &amp; Setup</h2>\n<p>To install click-path with <a href=\"https://pip.pypa.io/en/stable/\" rel=\"nofollow\"><code>pip</code></a> execute the following:</p>\n<pre>pip install /path/to/repo/click-path\n</pre>\n<p>If you don't want to re-install every time there is an update, and prefer to just pull from the git repository, then use the <code>-e</code> flag.</p>\n<h2>Usage Examples</h2>\n<h3>PathlibPath</h3>\n<p>Allows the user of this library (and <code>click</code>) to create CLIs which output <a href=\"https://docs.python.org/3/library/pathlib.html#module-pathlib\" rel=\"nofollow\"><code>Path</code></a> parameter types with a lot of the same validation as what's available for the standard <code>click.Path</code> type. Here is an example:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pathlib</span> <span class=\"kn\">import</span> <span class=\"n\">Path</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">click</span>\n<span class=\"kn\">from</span> <span class=\"nn\">click_path</span> <span class=\"kn\">import</span> <span class=\"n\">PathlibPath</span>\n\n<span class=\"n\">EXISTING_READABLE_FILE</span> <span class=\"o\">=</span> <span class=\"n\">PathlibPath</span><span class=\"p\">(</span><span class=\"n\">exists</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n                                     <span class=\"n\">file_okay</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n                                     <span class=\"n\">dir_okay</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n                                     <span class=\"n\">writable</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n                                     <span class=\"n\">readable</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n                                     <span class=\"n\">resolve_path</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n\n<span class=\"nd\">@click</span><span class=\"o\">.</span><span class=\"n\">command</span><span class=\"p\">()</span>\n<span class=\"nd\">@click</span><span class=\"o\">.</span><span class=\"n\">option</span><span class=\"p\">(</span><span class=\"s1\">'-t'</span><span class=\"p\">,</span> <span class=\"s1\">'--test'</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"n\">EXISTING_READABLE_FILE</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">cli_existing_readable_file</span><span class=\"p\">(</span><span class=\"n\">test</span><span class=\"p\">:</span> <span class=\"n\">Path</span><span class=\"p\">):</span>\n    <span class=\"n\">click</span><span class=\"o\">.</span><span class=\"n\">echo</span><span class=\"p\">(</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">test</span><span class=\"p\">))</span>\n</pre>\n<h3>GlobPaths</h3>\n<p><code>GlobPaths</code> allow you to take commandline arguments in the form of <code>/path/to/directory/*</code> which then produces an <a href=\"https://docs.python.org/3/glossary.html#term-iterable\" rel=\"nofollow\">iterable</a> of <a href=\"https://docs.python.org/3/library/pathlib.html#module-pathlib\" rel=\"nofollow\"><code>pathlib.Path</code></a> objects for you to work with. It also allows filtering of said iterable of paths based on some specific parameters, like read/write permissions, and files vs. directories.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">click</span>\n<span class=\"kn\">from</span> <span class=\"nn\">click_path</span> <span class=\"kn\">import</span> <span class=\"n\">GlobPaths</span>\n\n\n<span class=\"n\">READABLE_FILES</span> <span class=\"o\">=</span> <span class=\"n\">GlobPaths</span><span class=\"p\">(</span><span class=\"n\">extant_only</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n                           <span class=\"n\">files_okay</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n                           <span class=\"n\">dirs_okay</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n                           <span class=\"n\">writable_only</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n                           <span class=\"n\">readable_only</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n                           <span class=\"n\">resolve</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n                           <span class=\"n\">at_least_one</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n\n<span class=\"nd\">@click</span><span class=\"o\">.</span><span class=\"n\">command</span><span class=\"p\">()</span>\n    <span class=\"nd\">@click</span><span class=\"o\">.</span><span class=\"n\">option</span><span class=\"p\">(</span><span class=\"s1\">'-t'</span><span class=\"p\">,</span> <span class=\"s1\">'--tests'</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"n\">READABLE_FILES</span><span class=\"p\">)</span>\n    <span class=\"nd\">@typechecked</span>\n    <span class=\"k\">def</span> <span class=\"nf\">cli</span><span class=\"p\">(</span><span class=\"n\">tests</span><span class=\"p\">:</span> <span class=\"n\">Iterable</span><span class=\"p\">[</span><span class=\"n\">Path</span><span class=\"p\">]):</span>\n        <span class=\"n\">click</span><span class=\"o\">.</span><span class=\"n\">echo</span><span class=\"p\">(</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">tests</span><span class=\"p\">))</span>\n</pre>\n<h2>Development</h2>\n<p>For development, you're going to want to set up a virtual development environment with <a href=\"https://github.com/pypa/pipenv\" rel=\"nofollow\">pipenv</a> by following the linked instructions. I also strongly recommend setting the <code>export PIPENV_VENV_IN_PROJECT=1</code> environment variable in your <code>~/.bashrc</code> or <code>~/.zshrc</code> file because that makes the venvs much easier to work with.</p>\n<p>Then execute the following in the repo directory:</p>\n<pre>pipenv --three\n</pre>\n<p>To install the package for development, please use the <code>dev</code> <a href=\"https://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras-optional-features-with-their-own-dependencies\" rel=\"nofollow\">extra</a> inside the virtualenv</p>\n<pre>pipenv install -e <span class=\"s2\">\"/path/to/repo/click-path[dev]\"</span>\n</pre>\n<p>The <code>-e</code> installs the package in place for development, so that you don't have to reinstall when you make changes.</p>\n<h2>Running Tests</h2>\n<p>You can run all the tests with pytest and coverage (or all the unit tests, by changing the path to <code>tests/unit</code>) like so inside the virtualenv (<code>pipenv shell</code>):</p>\n<pre><span class=\"o\">(</span>click-path<span class=\"o\">)</span> pytest -s -vv --cov<span class=\"o\">=</span>click_path --cov-report<span class=\"o\">=</span>term-missing --cov-branch tests\n</pre>\n<p>Similarly, if you'd like to add HTML coverage reporting:</p>\n<pre><span class=\"o\">(</span>click-path<span class=\"o\">)</span> pytest -s -vv --cov<span class=\"o\">=</span>click_path --cov-report<span class=\"o\">=</span>html:htmlcov --cov-report<span class=\"o\">=</span>term-missing --cov-branch tests\n</pre>\n\n          </div>"}, "last_serial": 6723030, "releases": {"0.0.2": [{"comment_text": "", "digests": {"md5": "2f88ba3cf64e1220522ad4dbe1cb90cc", "sha256": "916f930c86e70285fbc35d12ac89afa1f586a968f9f0c5f2d3fb6147ec3fec13"}, "downloads": -1, "filename": "click-path-0.0.2.tar.gz", "has_sig": false, "md5_digest": "2f88ba3cf64e1220522ad4dbe1cb90cc", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 4621, "upload_time": "2020-02-26T14:08:17", "upload_time_iso_8601": "2020-02-26T14:08:17.517952Z", "url": "https://files.pythonhosted.org/packages/46/78/20b62ff221d6b223d93c0260eee05400138a0583865dd90318f1b9bafd19/click-path-0.0.2.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "9b61340a6a2efd2fd2b59efbbfbb3608", "sha256": "0131490985eeda147ddcf15fc7b9201e256683f0192dbc3c99ea74439cd1e979"}, "downloads": -1, "filename": "click-path-0.0.4.tar.gz", "has_sig": false, "md5_digest": "9b61340a6a2efd2fd2b59efbbfbb3608", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 4786, "upload_time": "2020-02-29T03:15:40", "upload_time_iso_8601": "2020-02-29T03:15:40.420660Z", "url": "https://files.pythonhosted.org/packages/7f/70/db536d4764e250dc1da4fac5e01fae24a859a2781037bf385394e0895cc1/click-path-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "00efcac5c46b82335246dde196327a64", "sha256": "ff5f968e55648640f745a646f136866bbb552bfeca0224aef9216d0c122004ea"}, "downloads": -1, "filename": "click-path-0.0.5.tar.gz", "has_sig": false, "md5_digest": "00efcac5c46b82335246dde196327a64", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 4802, "upload_time": "2020-02-29T04:24:06", "upload_time_iso_8601": "2020-02-29T04:24:06.424661Z", "url": "https://files.pythonhosted.org/packages/77/a3/c3444a4b753d21e889120b9b889a12da5ad4039879168949b2bdbcb525dd/click-path-0.0.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "00efcac5c46b82335246dde196327a64", "sha256": "ff5f968e55648640f745a646f136866bbb552bfeca0224aef9216d0c122004ea"}, "downloads": -1, "filename": "click-path-0.0.5.tar.gz", "has_sig": false, "md5_digest": "00efcac5c46b82335246dde196327a64", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 4802, "upload_time": "2020-02-29T04:24:06", "upload_time_iso_8601": "2020-02-29T04:24:06.424661Z", "url": "https://files.pythonhosted.org/packages/77/a3/c3444a4b753d21e889120b9b889a12da5ad4039879168949b2bdbcb525dd/click-path-0.0.5.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:19:01 2020"}
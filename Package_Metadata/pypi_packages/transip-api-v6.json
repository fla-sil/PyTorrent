{"info": {"author": "Jeroen van Gemert", "author_email": "pypi@jeroen.van.gemert.net", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# Transip-API-v6\n---\nThis repo contains a package for Python3 to connect to the API of transip.\n\nFor more information about the Transip API go to https://api.transip.nl/rest/docs.html\n\nCurrently this is package mainly supports all actions on DNS. It can be easily extended.\n\nExample python code:\n<pre><code>#!/usr/bin/env python3\nimport requests\nimport json\nimport transip_api_v6\n\nlogin          = 'username'       # Username from Transip\nkeyfile        = 'test copy.pem'  # Key generated @ Transip API page\ndomain         = 'gemert.net'     # Domain it concers\nfind_dns_entry = 'home-server'    # Domain entry on which you want to access\n\n# Get public IP\nres = requests.get('https://ipinfo.io')\nif res.status_code != 200:\n    print('Failed to get public ip.')\n    exit(1)\npub_ip=json.loads(res.text)['ip']\n\n# Get Header for authentication against transip api V6\nkey_file = open(keyfile, \"r\")\nkey = key_file.read()\nkey_file.close()\n# ph = transip_api_v6.Generic(login, key)\nheaders = transip_api_v6.Generic(login, key).get_headers()\n\n# Request DNS entries for this domain\ndns_entries = domains.list_dns_entries(domain)\n\n# Find entry\nfound_dns_entries = []\nfor dns_entry in dns_entries['dnsEntries']:\n  if dns_entry['name'] == find_dns_entry and dns_entry['type'] == 'A':\n    found_dns_entries.append(dns_entry)\n\n# Change entry for this domain with current public IP\nif len(found_dns_entries) == 0:\n  data = '''{\n    \"dnsEntry\": {\n      \"name\": \"''' + find_dns_entry + '''\",\n      \"expire\": 300,\n      \"type\": \"A\",\n      \"content\": \"''' + pub_ip + '''\"\n    }\n  }\n  '''\n  domains.add_dns_entry(domain, data)\nelif len(found_dns_entries) == 1:\n  if found_dns_entries[0]['content'] == pub_ip:\n    print('No change needed')\n  else:\n    print('Change dns entry')\n    print('From: ' + json.dumps(found_dns_entries[0]))\n    found_dns_entries[0]['content'] = pub_ip\n    print('To  : ' + json.dumps(found_dns_entries[0]))\n    domains.update_dns_entry(domain, '{\"dnsEntry\": ' + json.dumps(found_dns_entries[0]) +'}')\nelse:\n  print('Multiple entries found, can\\'t determine which to change (if any).')\n\n</code></pre>\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/jeromba6/transip_api_v6", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "transip-api-v6", "package_url": "https://pypi.org/project/transip-api-v6/", "platform": "", "project_url": "https://pypi.org/project/transip-api-v6/", "project_urls": {"Homepage": "https://github.com/jeromba6/transip_api_v6"}, "release_url": "https://pypi.org/project/transip-api-v6/0.0.2/", "requires_dist": null, "requires_python": ">=3.x", "summary": "Package to interact with the V6 API of Transip", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Transip-API-v6</h1>\n<hr>\n<p>This repo contains a package for Python3 to connect to the API of transip.</p>\n<p>For more information about the Transip API go to <a href=\"https://api.transip.nl/rest/docs.html\" rel=\"nofollow\">https://api.transip.nl/rest/docs.html</a></p>\n<p>Currently this is package mainly supports all actions on DNS. It can be easily extended.</p>\n<p>Example python code:</p>\n<pre><code>#!/usr/bin/env python3\nimport requests\nimport json\nimport transip_api_v6\n\nlogin          = 'username'       # Username from Transip\nkeyfile        = 'test copy.pem'  # Key generated @ Transip API page\ndomain         = 'gemert.net'     # Domain it concers\nfind_dns_entry = 'home-server'    # Domain entry on which you want to access\n\n# Get public IP\nres = requests.get('https://ipinfo.io')\nif res.status_code != 200:\n    print('Failed to get public ip.')\n    exit(1)\npub_ip=json.loads(res.text)['ip']\n\n# Get Header for authentication against transip api V6\nkey_file = open(keyfile, \"r\")\nkey = key_file.read()\nkey_file.close()\n# ph = transip_api_v6.Generic(login, key)\nheaders = transip_api_v6.Generic(login, key).get_headers()\n\n# Request DNS entries for this domain\ndns_entries = domains.list_dns_entries(domain)\n\n# Find entry\nfound_dns_entries = []\nfor dns_entry in dns_entries['dnsEntries']:\n  if dns_entry['name'] == find_dns_entry and dns_entry['type'] == 'A':\n    found_dns_entries.append(dns_entry)\n\n# Change entry for this domain with current public IP\nif len(found_dns_entries) == 0:\n  data = '''{\n    \"dnsEntry\": {\n      \"name\": \"''' + find_dns_entry + '''\",\n      \"expire\": 300,\n      \"type\": \"A\",\n      \"content\": \"''' + pub_ip + '''\"\n    }\n  }\n  '''\n  domains.add_dns_entry(domain, data)\nelif len(found_dns_entries) == 1:\n  if found_dns_entries[0]['content'] == pub_ip:\n    print('No change needed')\n  else:\n    print('Change dns entry')\n    print('From: ' + json.dumps(found_dns_entries[0]))\n    found_dns_entries[0]['content'] = pub_ip\n    print('To  : ' + json.dumps(found_dns_entries[0]))\n    domains.update_dns_entry(domain, '{\"dnsEntry\": ' + json.dumps(found_dns_entries[0]) +'}')\nelse:\n  print('Multiple entries found, can\\'t determine which to change (if any).')\n\n</code></pre>\n\n          </div>"}, "last_serial": 6819159, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "ab2cfcb74f29356ba507fe19d0634228", "sha256": "ef7d7a3903e15ad96a8e26f31ee69719a2b21774bb5e57e9dbeb4cf024994261"}, "downloads": -1, "filename": "transip_api_v6-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "ab2cfcb74f29356ba507fe19d0634228", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 5462, "upload_time": "2020-03-15T19:54:34", "upload_time_iso_8601": "2020-03-15T19:54:34.801993Z", "url": "https://files.pythonhosted.org/packages/2f/cc/ad9afb92273e8156ece063e6828502575111ef6cc7d210e94a595185ccf0/transip_api_v6-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5eed56b42abcc53a6d142985b98a6111", "sha256": "98f39af3ee01908822aa1155858980b5e1d9e61b7716027e1717b3048f588164"}, "downloads": -1, "filename": "transip-api-v6-0.0.1.tar.gz", "has_sig": false, "md5_digest": "5eed56b42abcc53a6d142985b98a6111", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 3272, "upload_time": "2020-03-15T19:54:37", "upload_time_iso_8601": "2020-03-15T19:54:37.771472Z", "url": "https://files.pythonhosted.org/packages/50/cb/17721c24008d972c1d6111e8413e89212dcfac6d9d740903c137b9f6b466/transip-api-v6-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "b2605c526855b766609851242dd303a7", "sha256": "59b3e66ce0d4b3891caf0c11221a503e467d3d8611bedcea53ef744b9b8cdf2c"}, "downloads": -1, "filename": "transip_api_v6-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "b2605c526855b766609851242dd303a7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.x", "size": 6223, "upload_time": "2020-03-16T07:23:13", "upload_time_iso_8601": "2020-03-16T07:23:13.932640Z", "url": "https://files.pythonhosted.org/packages/28/d1/249de0e627193c74fd9bbb4159c83996640fbcb23aaa1de93b486e2e5279/transip_api_v6-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0c80cbf897a4c750ee3de99ce745f633", "sha256": "3a710819b0e1864a15e6d68d76b46f5becd4244e13388c5fb1a12cac21fb2974"}, "downloads": -1, "filename": "transip_api_v6-0.0.2.tar.gz", "has_sig": false, "md5_digest": "0c80cbf897a4c750ee3de99ce745f633", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.x", "size": 4191, "upload_time": "2020-03-16T07:23:15", "upload_time_iso_8601": "2020-03-16T07:23:15.082806Z", "url": "https://files.pythonhosted.org/packages/9f/8d/29dd08ddda747d1d61f3ab7442c188604b7014006c9b2f9174eedde59822/transip_api_v6-0.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b2605c526855b766609851242dd303a7", "sha256": "59b3e66ce0d4b3891caf0c11221a503e467d3d8611bedcea53ef744b9b8cdf2c"}, "downloads": -1, "filename": "transip_api_v6-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "b2605c526855b766609851242dd303a7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.x", "size": 6223, "upload_time": "2020-03-16T07:23:13", "upload_time_iso_8601": "2020-03-16T07:23:13.932640Z", "url": "https://files.pythonhosted.org/packages/28/d1/249de0e627193c74fd9bbb4159c83996640fbcb23aaa1de93b486e2e5279/transip_api_v6-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0c80cbf897a4c750ee3de99ce745f633", "sha256": "3a710819b0e1864a15e6d68d76b46f5becd4244e13388c5fb1a12cac21fb2974"}, "downloads": -1, "filename": "transip_api_v6-0.0.2.tar.gz", "has_sig": false, "md5_digest": "0c80cbf897a4c750ee3de99ce745f633", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.x", "size": 4191, "upload_time": "2020-03-16T07:23:15", "upload_time_iso_8601": "2020-03-16T07:23:15.082806Z", "url": "https://files.pythonhosted.org/packages/9f/8d/29dd08ddda747d1d61f3ab7442c188604b7014006c9b2f9174eedde59822/transip_api_v6-0.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:48:14 2020"}
{"info": {"author": "David D. Riddle", "author_email": "ddriddle@illinois.edu", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Environment :: Console", "Intended Audience :: Developers", "Intended Audience :: System Administrators", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6"], "description": "The awscli-login plugin allows retrieving temporary Amazon credentials by\nauthenticating against a SAML Identity Provider (IdP).\nThis application is supported under Linux, MacOS, and the `Windows Subsystem for Linux\n<https://docs.microsoft.com/en-us/windows/wsl/about>`_.\nCurrently, Windows PowerShell, Command Prompt, and Git Shell\nfor Windows are not supported.\n\n.. |--| unicode:: U+2013   .. en dash\n\nInstallation\n------------\n\nThe simplest way to install the awscli-login plugin is to use pip::\n\n    $ pip install awscli-login\n\nAfter awscli-login has been installed, run the following command\nto enable the plugin::\n\n    $ aws configure set plugins.login awscli_login\n\nGetting Started\n-------------------\n\nBefore using awscli-login to retrieve temporary credentials, configure\none or more profiles for use with the plugin. To configure this\nplugin, you must know the URL of the ECP Endpoint for your IdP.  If\nyou do not have this information, contact your IdP administrator.\n\nHere is an example configuring the default profile for use with the University\nof Illinois at Urbana-Champaign's IdP::\n\n    $ aws login configure\n    ECP Endpoint URL [None]: https://shibboleth.illinois.edu/idp/profile/SAML2/SOAP/ECP\n    Username [None]: \n    Enable Keyring [False]: \n    Duo Factor [None]: \n    Role ARN [None]:\n\nTo log in, type the following command::\n\n    $ aws login\n    Username [username]: netid\n    Password: ********\n    Factor: passcode\n    Code: 123456789\n\nThe ``username`` and ``password`` are the values needed to authenticate\nagainst the IdP configured for the selected profile.  The ``factor``\nis only required if your IdP requires Duo for authentication.  If\nit does not, leave ``factor`` blank. If your IdP does require Duo\nthen ``Factor`` may be one of ``auto``, ``push``, ``passcode``,\n``sms``, or ``phone``.  If ``factor`` is left blank, ``auto`` is\nthe default. The ``code`` is a Duo code useful for use with a\nYubiKey, SMS codes, or other one-time codes.\n\nIf you have access to more than one role, you will be prompted to choose\none. For example::\n\n    $ aws login\n    Username [username]: netid\n    Password: ********\n    Factor: \n    Please choose the role you would like to assume:\n        Account: 978517677611\n            [ 0 ]: Admin\n        Account: 520135271718\n            [ 1 ]: ReadOnlyUser\n            [ 2 ]: S3Admin\n    Selection: 2\n\nTo switch roles, first log out, then log in again selecting a different\nrole. Note that if you log in to the same IdP using the same username,\nyou will not be prompted for your password or Duo factor until\nthe IdP session expires::\n\n    $ aws logout\n    $ aws login\n    Username [netid]: \n    Please choose the role you would like to assume:\n        Account: 520135271718\n            [ 0 ]: TestUser\n            [ 1 ]: IAMUser\n    Selection: 0\n\nAdvanced Example\n-------------------\n\nIt is possible to be logged in to more than one role at the same\ntime using multiple profiles. For example, consider the following\nconfiguration involving two profiles |--| one called ``prod``, and the other\n``test``::\n\n    $ aws --profile prod login configure\n    ECP Endpoint URL [None]: https://shibboleth.illinois.edu/idp/profile/SAML2/SOAP/ECP\n    Username [None]: netid\n    Enable Keyring [False]: True\n    Duo Factor [None]: auto\n    Role ARN [None]: arn:aws:iam::999999999999:role/Admin\n\n    $ aws --profile test login configure\n    ECP Endpoint URL [None]: https://shibboleth.illinois.edu/idp/profile/SAML2/SOAP/ECP\n    Username [None]: netid\n    Enable Keyring [False]: True\n    Duo Factor [None]: passcode\n    Role ARN [None]: arn:aws:iam::111111111111:role/Admin\n\nThis example involves several advanced features. First, we are\nsetting the username, factor, and role. This means we will not be\nprompted for this information when logging in to these two profiles.\nIn addition, we are using a keyring. On the first login using one\nof the profiles, the user will be prompted for his password.  On\nsubsequent logins the user will not be prompted for his password\nbecause it has been stored in a secure keyring.\n\nFor example, when we initially log in to prod::\n\n    $ export AWS_PROFILE=test\n    $ aws login\n    Password: ********\n    Code: 123456789\n\nWe are only prompted for the password and code. We're prompted for\nthe password because this is the initial login, and the code because\nthis profile is configured for use with a passcode device such as\na YubiKey. We are now no longer prompted when we log in to test::\n\n    $ aws --profile prod login\n\nEven if the IdP session has expired in this case, we will not be\nprompted for a password because it is stored in the keyring. The\nuser will receive either a phone call or a push to the default\nDuo device.\n\nKnown Issues\n------------\n\n**Unable to authenticate after changing password**\n\nAfter the user changes his IdP password, subsequent logins fail.\nTo remedy the situation, change the data stored in the keyring as follows:\n\n    $ keyring set awscli_login username@hostname_of_your_IdP\n\nYou may be prompted for your user login password by your operating\nsystem, depending on how your key store is configured.\n\n**Windows issues**\n\nWindows PowerShell, Command Prompt, and Git Shell for Windows are not\ncurrently supported because of problems with auto-renewal of AWS credentials,\nand other known issues.", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/techservicesillinois/awscli-login", "keywords": "Amazon AWS SAML login access keys", "license": "", "maintainer": "", "maintainer_email": "", "name": "co-awscli-login", "package_url": "https://pypi.org/project/co-awscli-login/", "platform": "", "project_url": "https://pypi.org/project/co-awscli-login/", "project_urls": {"Bug Reports": "https://github.com/techservicesillinois/awscli-login/issues", "Homepage": "https://github.com/techservicesillinois/awscli-login", "Source": "https://github.com/techservicesillinois/awscli-login"}, "release_url": "https://pypi.org/project/co-awscli-login/0.1.0a7/", "requires_dist": null, "requires_python": ">=3.5", "summary": "Plugin for the AWS CLI that retrieves and rotates credentials using SAML ECP and STS.", "version": "0.1.0a7", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>The awscli-login plugin allows retrieving temporary Amazon credentials by\nauthenticating against a SAML Identity Provider (IdP).\nThis application is supported under Linux, MacOS, and the <a href=\"https://docs.microsoft.com/en-us/windows/wsl/about\" rel=\"nofollow\">Windows Subsystem for Linux</a>.\nCurrently, Windows PowerShell, Command Prompt, and Git Shell\nfor Windows are not supported.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>The simplest way to install the awscli-login plugin is to use pip:</p>\n<pre>$ pip install awscli-login\n</pre>\n<p>After awscli-login has been installed, run the following command\nto enable the plugin:</p>\n<pre>$ aws configure set plugins.login awscli_login\n</pre>\n</div>\n<div id=\"getting-started\">\n<h2>Getting Started</h2>\n<p>Before using awscli-login to retrieve temporary credentials, configure\none or more profiles for use with the plugin. To configure this\nplugin, you must know the URL of the ECP Endpoint for your IdP.  If\nyou do not have this information, contact your IdP administrator.</p>\n<p>Here is an example configuring the default profile for use with the University\nof Illinois at Urbana-Champaign\u2019s IdP:</p>\n<pre>$ aws login configure\nECP Endpoint URL [None]: https://shibboleth.illinois.edu/idp/profile/SAML2/SOAP/ECP\nUsername [None]:\nEnable Keyring [False]:\nDuo Factor [None]:\nRole ARN [None]:\n</pre>\n<p>To log in, type the following command:</p>\n<pre>$ aws login\nUsername [username]: netid\nPassword: ********\nFactor: passcode\nCode: 123456789\n</pre>\n<p>The <tt>username</tt> and <tt>password</tt> are the values needed to authenticate\nagainst the IdP configured for the selected profile.  The <tt>factor</tt>\nis only required if your IdP requires Duo for authentication.  If\nit does not, leave <tt>factor</tt> blank. If your IdP does require Duo\nthen <tt>Factor</tt> may be one of <tt>auto</tt>, <tt>push</tt>, <tt>passcode</tt>,\n<tt>sms</tt>, or <tt>phone</tt>.  If <tt>factor</tt> is left blank, <tt>auto</tt> is\nthe default. The <tt>code</tt> is a Duo code useful for use with a\nYubiKey, SMS codes, or other one-time codes.</p>\n<p>If you have access to more than one role, you will be prompted to choose\none. For example:</p>\n<pre>$ aws login\nUsername [username]: netid\nPassword: ********\nFactor:\nPlease choose the role you would like to assume:\n    Account: 978517677611\n        [ 0 ]: Admin\n    Account: 520135271718\n        [ 1 ]: ReadOnlyUser\n        [ 2 ]: S3Admin\nSelection: 2\n</pre>\n<p>To switch roles, first log out, then log in again selecting a different\nrole. Note that if you log in to the same IdP using the same username,\nyou will not be prompted for your password or Duo factor until\nthe IdP session expires:</p>\n<pre>$ aws logout\n$ aws login\nUsername [netid]:\nPlease choose the role you would like to assume:\n    Account: 520135271718\n        [ 0 ]: TestUser\n        [ 1 ]: IAMUser\nSelection: 0\n</pre>\n</div>\n<div id=\"advanced-example\">\n<h2>Advanced Example</h2>\n<p>It is possible to be logged in to more than one role at the same\ntime using multiple profiles. For example, consider the following\nconfiguration involving two profiles \u2013 one called <tt>prod</tt>, and the other\n<tt>test</tt>:</p>\n<pre>$ aws --profile prod login configure\nECP Endpoint URL [None]: https://shibboleth.illinois.edu/idp/profile/SAML2/SOAP/ECP\nUsername [None]: netid\nEnable Keyring [False]: True\nDuo Factor [None]: auto\nRole ARN [None]: arn:aws:iam::999999999999:role/Admin\n\n$ aws --profile test login configure\nECP Endpoint URL [None]: https://shibboleth.illinois.edu/idp/profile/SAML2/SOAP/ECP\nUsername [None]: netid\nEnable Keyring [False]: True\nDuo Factor [None]: passcode\nRole ARN [None]: arn:aws:iam::111111111111:role/Admin\n</pre>\n<p>This example involves several advanced features. First, we are\nsetting the username, factor, and role. This means we will not be\nprompted for this information when logging in to these two profiles.\nIn addition, we are using a keyring. On the first login using one\nof the profiles, the user will be prompted for his password.  On\nsubsequent logins the user will not be prompted for his password\nbecause it has been stored in a secure keyring.</p>\n<p>For example, when we initially log in to prod:</p>\n<pre>$ export AWS_PROFILE=test\n$ aws login\nPassword: ********\nCode: 123456789\n</pre>\n<p>We are only prompted for the password and code. We\u2019re prompted for\nthe password because this is the initial login, and the code because\nthis profile is configured for use with a passcode device such as\na YubiKey. We are now no longer prompted when we log in to test:</p>\n<pre>$ aws --profile prod login\n</pre>\n<p>Even if the IdP session has expired in this case, we will not be\nprompted for a password because it is stored in the keyring. The\nuser will receive either a phone call or a push to the default\nDuo device.</p>\n</div>\n<div id=\"known-issues\">\n<h2>Known Issues</h2>\n<p><strong>Unable to authenticate after changing password</strong></p>\n<p>After the user changes his IdP password, subsequent logins fail.\nTo remedy the situation, change the data stored in the keyring as follows:</p>\n<blockquote>\n$ keyring set awscli_login <a href=\"mailto:username%40hostname_of_your_IdP\">username<span>@</span>hostname_of_your_IdP</a></blockquote>\n<p>You may be prompted for your user login password by your operating\nsystem, depending on how your key store is configured.</p>\n<p><strong>Windows issues</strong></p>\n<p>Windows PowerShell, Command Prompt, and Git Shell for Windows are not\ncurrently supported because of problems with auto-renewal of AWS credentials,\nand other known issues.</p>\n</div>\n\n          </div>"}, "last_serial": 5644849, "releases": {"0.1.0a6": [{"comment_text": "", "digests": {"md5": "75c5ea0a9c2bed4c3b215c26598878e6", "sha256": "7f32a822549428946909d15e589a39ba1955b1904774c4d7c3254e7af38960e5"}, "downloads": -1, "filename": "co-awscli-login-0.1.0a6.tar.gz", "has_sig": false, "md5_digest": "75c5ea0a9c2bed4c3b215c26598878e6", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 32446, "upload_time": "2019-08-07T02:12:31", "upload_time_iso_8601": "2019-08-07T02:12:31.741877Z", "url": "https://files.pythonhosted.org/packages/a9/d5/0d55f7ec368d65a156d37bc00153471a65cbce695965620d3eaf5791c5f4/co-awscli-login-0.1.0a6.tar.gz", "yanked": false}], "0.1.0a7": [{"comment_text": "", "digests": {"md5": "b04d970bb4e8f54cd780fd1b0f5e8a19", "sha256": "80cd27476bfabf45af1dbb71f75cb434ea260d992fc4dcafbe83b9fb6f4b8ca7"}, "downloads": -1, "filename": "co-awscli-login-0.1.0a7.tar.gz", "has_sig": false, "md5_digest": "b04d970bb4e8f54cd780fd1b0f5e8a19", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 32459, "upload_time": "2019-08-07T12:44:04", "upload_time_iso_8601": "2019-08-07T12:44:04.845220Z", "url": "https://files.pythonhosted.org/packages/e6/cb/6de7549bf7180bdcb4c49136aab3814aa03dcb0977277eb4b1ff343bab6d/co-awscli-login-0.1.0a7.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b04d970bb4e8f54cd780fd1b0f5e8a19", "sha256": "80cd27476bfabf45af1dbb71f75cb434ea260d992fc4dcafbe83b9fb6f4b8ca7"}, "downloads": -1, "filename": "co-awscli-login-0.1.0a7.tar.gz", "has_sig": false, "md5_digest": "b04d970bb4e8f54cd780fd1b0f5e8a19", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 32459, "upload_time": "2019-08-07T12:44:04", "upload_time_iso_8601": "2019-08-07T12:44:04.845220Z", "url": "https://files.pythonhosted.org/packages/e6/cb/6de7549bf7180bdcb4c49136aab3814aa03dcb0977277eb4b1ff343bab6d/co-awscli-login-0.1.0a7.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:18:22 2020"}
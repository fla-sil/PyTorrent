{"info": {"author": "FlyAI", "author_email": "jiayi@flyai.com", "bugtrack_url": null, "classifiers": ["Operating System :: MacOS", "Operating System :: Microsoft :: Windows", "Operating System :: POSIX :: Linux", "Programming Language :: Python", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": "\n\n### [FlyAI\u7ade\u8d5b\u5e73\u53f0](https://www.flyai.com)\n\n### [![GPL LICENSE](https://badgen.net/badge/License/GPL/green)](https://www.gnu.org/licenses/gpl-3.0.zh-cn.html) [![GPL LICENSE](https://badgen.net/badge/Supported/TensorFlow,Keras,PyTorch/green?list=1)](https://flyai.com) [![GPL LICENSE](https://badgen.net/badge/Python/3.+/green)](https://flyai.com) [![GPL LICENSE](https://badgen.net/badge/Platform/Windows,macOS,Linux/green?list=1)](https://flyai.com)\n\n#### 1.\u53c2\u8d5b\u6d41\u7a0b\n\n* \u7b2c\u4e00\u6b65\uff1a\u53c2\u8d5b\u9009\u624b\u4ece[FlyAI\u5b98\u7f51](https://www.flyai.com)\u9009\u62e9\u6bd4\u8d5b\u62a5\u540d\uff0c\u53ef\u5728\u7ebf\u67e5\u770b\u4ee3\u7801\u5e76\u4e0b\u8f7d\u4ee3\u7801\n\n  > \u4e0b\u8f7d\u7684\u9879\u76ee\u4e2d\u4e0d\u5305\u542b\u6570\u636e\u96c6\uff0c\u8fd0\u884cmain.py\u4f1a\u81ea\u52a8\u4e0b\u8f7d\u8c03\u8bd5\u6570\u636e\u96c6\n  >\n  > \u672c\u5730\u8c03\u8bd5\u53ea\u6709\u5c11\u91cf\u7684\u6570\u636e\uff0c\u5168\u91cf\u6570\u636e\u63d0\u4ea4\u5230GPU\u540e\u4f1a\u81ea\u52a8\u66f4\u65b0\u66ff\u6362\n\n* \u7b2c\u4e8c\u6b65\uff1a\u672c\u5730\u4ee3\u7801\u8c03\u8bd5\n\n  > \u672c\u5730\u914d\u7f6ePython3.5\u4ee5\u4e0a\u7684\u8fd0\u884c\u73af\u5883\uff0c\u5e76\u5b89\u88c5\u9879\u76ee\u8fd0\u884c\u6240\u9700\u7684Python\u4f9d\u8d56\u5305\n  >\n  > \u5728main.py\u4e2d\u7f16\u5199\u795e\u7ecf\u7f51\u7edc\uff0c\u5728processor.py\u4e2d\u5904\u7406\u6570\u636e\n  >\n  > \u4f7f\u7528model.py\u6d4b\u8bd5\u6a21\u578b\u662f\u5426\u4fdd\u5b58\u6210\u529f\n  >\n  > \u4f7f\u7528predict.py\u6d4b\u8bd5\u6a21\u578b\u662f\u5426\u8bc4\u4f30\u6210\u529f\n  >\n  > main.py\u4e2d\u5fc5\u987b\u4f7f\u7528args.EPOCHS\u548cargs.BATCHl\u6765\u8bfb\u53d6\u6570\u636e\n\n* \u7b2c\u4e09\u6b65\uff1a\u63d0\u4ea4\u5230GPU\u8bad\u7ec3\uff0c\u4fdd\u5b58\u6a21\u578b\n\n  >\u672c\u5730\u8c03\u8bd5\u5b8c\u6210\u4e4b\u540e\uff0c\u63d0\u4ea4\u4ee3\u7801\u5230GPU\uff0c\u5728\u5168\u91cf\u6570\u636e\u4e0a\u8bad\u7ec3\u6a21\u578b\uff0c\u4fdd\u5b58\u6700\u4f18\u6a21\u578b\u3002\n  >\n  >\u63d0\u4ea4GPU\u7684\u65b9\u5f0f\u6709\uff1aFlyAI\u5ba2\u6237\u7aef\u3001FlyAI\u811a\u672c\u547d\u4ee4\u3001\u7f51\u7ad9\u5728\u7ebf\u63d0\u4ea4\u3002\n\n* \u7b2c\u56db\u6b65\uff1a\u8bc4\u4f30\u6a21\u578b\uff0c\u83b7\u53d6\u5956\u91d1\uff0c\u5b9e\u65f6\u63d0\u73b0\n\n  >GPU\u8bad\u7ec3\u5b8c\u6210\u540e\uff0c\u4f1a\u8c03\u7528model.py\u4e2d\u7684predict_all\u65b9\u6cd5\u8bc4\u4f30\uff0c\u5e76\u7ed9\u51fa\u6700\u540e\u5f97\u5206\n  >\n  >\u9ad8\u5206\u7684\u53c2\u8d5b\u9009\u624b\uff0c\u53ef\u5b9e\u65f6\u83b7\u53d6\u5956\u91d1\uff0c\u901a\u8fc7\u5fae\u4fe1\u63d0\u73b0\n\n\u53c2\u8d5b\u9009\u624b\u8fd8\u53ef\u4ee5\u67e5\u770b[\u6837\u4f8b\u9879\u76ee\u4ee3\u7801\u8be6\u7ec6\u8bf4\u660e](#div3)\n\n\u6bd4\u8d5b\u9047\u5230\u95ee\u9898\u4e0d\u8981\u7740\u6025\u53ef\u4ee5\u6dfb\u52a0FlyAI\u5c0f\u52a9\u624b\u5fae\u4fe1\uff0c\u5c0f\u59d0\u59d0\u5728\u7ebf\u89e3\u7b54\u60a8\u7684\u95ee\u9898\u3002\n\n<img src=\"https://static.flyai.com/flyai_dir4.png\" alt=\"FlyAI\u5c0f\u52a9\u624b\u5fae\u4fe1\u4e8c\u7ef4\u7801\" style=\"zoom:50%;\" />\n\n#### 2.\u6837\u4f8b\u9879\u76ee\u7ed3\u6784\u8bf4\u660e\n\n<img src=\"https://static.flyai.com/flyai_dir_2.png\" alt=\"FlyAI\u9879\u76ee\u76ee\u5f55\" style=\"zoom:50%;\" />\n\n\n\n* **`flyai.exe/flyai`**\n\n  >Windows\u7528\u6237\u53cc\u51fbflyai.exe,\u542f\u52a8FlyAI\u5ba2\u6237\u7aef\uff0c\u672c\u5730\u8c03\u8bd5\u9879\u76ee\n  >\n  >MAC\u548cLinux\u7528\u6237\u5728\u7ec8\u7aef\u6267\u884cflyai\u811a\u672c\uff0c\u672c\u5730\u8c03\u8bd5\u9879\u76ee\n  >\n  >[\u70b9\u51fb\u67e5\u770b\u4f7f\u7528\u8be6\u60c5](#div2)\n\n  \u53c2\u8d5b\u9009\u624b\u8fd8\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u7535\u8111\u4e0a\u7684Python\u73af\u5883\uff0c\u5b89\u88c5\u9879\u76ee\u4f9d\u8d56\uff0c\u8fd0\u884cmain.py\u6765\u8c03\u8bd5\u3002\n\n* **`\u4f7f\u7528jupyter\u8c03\u8bd5.ipynb`**\n\n  >\u6bd4\u8d5b\u9879\u76ee\u53ef\u4ee5\u4f7f\u7528jupyter\u672c\u5730\u8c03\u8bd5\u548c\u63d0\u4ea4\n  >\n  >flyai.exe\u652f\u6301\u4e00\u952e\u914d\u7f6e\u5e76\u542f\u52a8jupyter lab\u672c\u5730\u8c03\u8bd5\u548c\u63d0\u4ea4\n\n* **`app.yaml`**\n\n  > \u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u9ed8\u8ba4\u4e0d\u9700\u8981\u4fee\u6539\n\n* **`main.py`**\n\n  > \u9879\u76ee\u8fd0\u884c\u4e3b\u6587\u4ef6\uff0c\u5728\u8be5\u6587\u4ef6\u4e2d\u7f16\u5199\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801\n\n* **`net.py`**\n\n  > \u4f7f\u7528PyTorch\u7684\u9009\u624b\u53ef\u4ee5\u5728\u8be5\u6587\u4ef6\u4e2d\u7f16\u5199\u795e\u7ecf\u7f51\u7edc\uff0c\u5e76main.py\u4e2d\u4f7f\u7528\u3002\n  >\n  > \u4f7f\u7528\u5176\u5b83\u6846\u67b6\u7684\u9009\u624b\u53ef\u4ee5\u5ffd\u7565\u8be5\u6587\u4ef6\n\n* **`processor.py`**\n\n  > \u6570\u636e\u8f93\u5165(input)\u3001\u8f93\u51fa(output)\u7edf\u4e00\u5904\u7406\u6587\u4ef6\n  >\n  > FlyAI\u7edf\u4e00\u5e76\u7b80\u5316\u4e86\u6570\u636e\u5904\u7406\u6d41\u7a0b\uff0c\u53c2\u8d5b\u9009\u624b\u9700\u8981\u9075\u5faa\u7edf\u4e00\u7684\u6570\u636e\u5904\u7406\u65b9\u5f0f\n\n* **`model.py`**\n\n  >\u5305\u542b\u6a21\u578b\u4fdd\u5b58\u548c\u8bc4\u4f30\u65b9\u6cd5\n  >\n  >\u6392\u884c\u699c\u5206\u6570\u8c03\u7528\u8be5\u6587\u4ef6\u4e2dpredict_all\u65b9\u6cd5\u83b7\u53d6\uff0c\u8bf7\u53c2\u8d5b\u9009\u624b\u672c\u5730\u8c03\u8bd5\u786e\u4fdd\u6ca1\u95ee\u9898\n\n* **`predict.py`**\n\n  >\u6a21\u578b\u672c\u672c\u8bc4\u4f30\u8c03\u8bd5\u6587\u4ef6\n\n* **`path.py`**\n\n  >\u6570\u636e\u3001\u65e5\u5fd7\u3001\u6a21\u578b\u7684\u516c\u5171\u8def\u5f84\n\n* **`requirements.txt`**\n\n  > \u9879\u76ee\u4e2d\u7528\u5230\u7684Python\u4f9d\u8d56\n  >\n  > \u5f15\u5165\u65b0\u4f9d\u8d56\u65f6\u9700\u8981\u51c6\u786e\u586b\u5199\n\n\u53c2\u8d5b\u9009\u624b\u8fd8\u53ef\u4ee5\u67e5\u770b[\u6837\u4f8b\u9879\u76ee\u4ee3\u7801\u8be6\u7ec6\u8bf4\u660e](#div3)\n\n#### 3.FlyAI\u7684Python\u5e93\u6587\u6863\n\n\u4e3a\u4e86\u4fbf\u4e8e\u6570\u636e\u7684\u7ba1\u7406\u548c\u5904\u7406\uff0c\u6211\u4eec\u5b98\u65b9\u5c01\u88c5\u4e86FlyAI\u5e93\n\nFlyAI\u7684\u5e93\u548c\u5176\u5b83Python\u5e93\u7684\u5b89\u88c5\u65b9\u6cd5\u4e00\u6837\uff0c\u4f7f\u7528PIP\u5de5\u5177\u5b89\u88c5\n\n> windows\u7528\u6237\uff1apip\u6240\u5728\u8def\u5f84pip.exe install -i https://pypi.flyai.com/simple flyai\n>\n> mac\u548clinux\u7528\u6237\uff1apip\u6240\u5728\u8def\u5f84/pip install -i https://pypi.flyai.com/simple flyai\n\nFlyAI\u5e93\u7684\u4e3b\u8981\u7528\u9014\u662f\uff0c\u5904\u7406\u5e76\u8bfb\u53d6\u6bd4\u8d5b\u6570\u636e\uff0c\u5e95\u5c42\u4f7f\u7528\u591a\u7ebf\u7a0b\u5b9e\u73b0\uff0c\u63d0\u9ad8\u6570\u636e\u8bfb\u53d6\u6548\u7387\u3002\n\n\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a\n\n```python\n#\u5f15\u5165flyai\u6570\u636e\u5904\u7406\u7c7bDataset\nfrom flyai.dataset import Dataset\n#\u521d\u59cb\u5316\u7c7b\u5bf9\u8c61\uff0c\u5e76\u8bbe\u7f6e\u6574\u4e2a\u6570\u636e\u96c6\u5faa\u73af\u6b21\u6570\u548c\u6279\u6b21\u5927\u5c0f\ndataset = Dataset(epochs=args.EPOCHS, batch=args.BATCH)\n#\u83b7\u53d6\u4e00\u6279\u8bad\u7ec3\u6570\u636e\nx_train, y_train = dataset.next_train_batch()\n#\u83b7\u53d6\u4e00\u6279\u9a8c\u8bc1\u6570\u636e\nx_val, y_val = dataset.next_validation_batch()\n```\n\n***\n\n##### flyai.dataset\u6587\u4ef6\u8be6\u7ec6\u6587\u6863\n\n```python\nclass Dataset:\n    def __init__(self, epochs=5, batch=32, val_batch=32):\n        \"\"\"\n        :param epochs: \u8bad\u7ec3\u7684\u8f6e\u6b21\uff0c\u6700\u5927\u4e0d\u8d85\u8fc7100\n        :param batch: \u8bad\u7ec3\u7684\u6279\u6b21\u5927\u5c0f\uff0c\u592a\u5927\u4f1a\u5bfc\u81f4\u663e\u5b58\u4e0d\u8db3\n        :param val_batch: \u9a8c\u8bc1\u7684\u6279\u6b21\u5927\u5c0f\n        \"\"\"\n        self.lib = Lib(epochs, batch, val_batch)\n\n    def get_step(self):\n        \"\"\"\n        \u6839\u636edataset\u4f20\u5165\u7684epochs\u548cbatch\uff0c\u8ba1\u7b97\u51fa\u6765\u7684\u8bad\u7ec3\u603b\u6b21\u6570\u3002\n        :return: \u8fd4\u56de\u8bad\u7ec3\u603b\u6b21\u6570\n        \"\"\"\n        return self.lib.get_step()\n\n    def get_train_length(self):\n        \"\"\"\n        \u83b7\u53d6\u8bad\u7ec3\u96c6\u603b\u6570\u91cf\uff0c\u672c\u5730\u8c03\u7528\u8fd4\u56de\u7684\u662f100\u6761\uff0c\u5728GPU\u4e0a\u8c03\u7528\u8fd4\u56de\u5168\u90e8\u6570\u636e\u96c6\u6570\u91cf\u3002\n        :return: \u8fd4\u56de\u8bad\u7ec3\u96c6\u603b\u6570\u91cf\n        \"\"\"\n        return self.lib.get_train_length()\n\n    def get_validation_length(self):\n        \"\"\"\n        \u83b7\u53d6\u9a8c\u8bc1\u96c6\u603b\u6570\u91cf\uff0c\u672c\u5730\u8c03\u7528\u8fd4\u56de\u7684\u662f100\u6761\uff0c\u5728GPU\u4e0a\u8c03\u7528\u8fd4\u56de\u5168\u90e8\u6570\u636e\u96c6\u6570\u91cf\u3002\n        :return: \u8fd4\u56de\u9a8c\u8bc1\u96c6\u603b\u6570\u91cf\n        \"\"\"\n        return self.lib.get_validation_length()\n\n    def next_train_batch(self):\n        \"\"\"\n        \u83b7\u53d6\u4e00\u6279\u8bad\u7ec3\u6570\u636e\uff0c\u8fd4\u56de\u6570\u636e\u7684\u6570\u91cf\u662fdataset\u4e2dbatch\u7684\u5927\u5c0f\u3002\n        :return: x_train,y_train\n        \"\"\"\n        return self.lib.next_train_batch()\n\n    def next_validation_batch(self):\n        \"\"\"\n        \u83b7\u53d6\u4e00\u6279\u9a8c\u8bc1\u6570\u636e\uff0c\u8fd4\u56de\u6570\u636e\u7684\u6570\u91cf\u662fdataset\u4e2dval_batch\u7684\u5927\u5c0f\u3002\n        :return: x_val,y_val\n        \"\"\"\n        return self.lib.next_validation_batch()\n\n    def next_batch(self, size=32, test_size=32, test_data=True):\n        \"\"\"\n        \u83b7\u53d6\u4e00\u6279\u8bad\u7ec3\u548c\u9a8c\u8bc1\u6570\u636e\uff0c\u53ef\u4ee5\u81ea\u5df1\u8bbe\u7f6e\u8fd4\u56de\u7684\u5927\u5c0f\u3002\n        :return:x_train,y_train,x_val,y_val\n        \"\"\"\n        return self.lib.next_batch(size, test_size, test_data)\n\n    def get_all_processor_data(self):\n        \"\"\"\n        \u83b7\u53d6\u6240\u6709\u5728processor.py\u4e2d\uff0c\u901a\u8fc7input_x\u65b9\u6cd5\u5904\u7406\u8fc7\u7684\u6570\u636e\n        :return:x_train,y_train,x_val,y_val\n        \"\"\"\n        return self.lib.get_all_processor_data()\n\n    def get_all_data(self):\n        \"\"\"\n        \u83b7\u53d6\u6240\u6709\u539f\u59cb\u6570\u636e\n        :return:x_train,y_train,x_val,y_val\n        \"\"\"\n        return self.lib.get_all_data()\n\n    def get_all_validation_data(self):\n        \"\"\"\n        \u83b7\u53d6\u6240\u6709\u5728processor.py\u4e2d\uff0c\u901a\u8fc7input_x\u65b9\u6cd5\u5904\u7406\u8fc7\u7684\u9a8c\u8bc1\u96c6\u6570\u636e\n        :return:x_val,y_val\n        \"\"\"\n        return self.lib.get_all_validation_data()\n\n```\n\n\n\n#### 4.\u9884\u8bad\u7ec3\u6a21\u578b\u7684\u4f7f\u7528\n\n\u6bd4\u8d5b\u53ef\u4ee5\u4f7f\u7528FlyAI\u7f51\u7ad9\u4e0a\u516c\u5f00\u7684\u4e0e\u8bad\u7ec3\u6a21\u578b\n\n> \u6a21\u578b\u67e5\u627e\u5730\u5740\uff1ahttps://www.flyai.com/models\n\n\u5728\u7f51\u9875\u4e2d\u627e\u5230\u81ea\u5df1\u60f3\u8981\u7528\u7684\u6a21\u578b\uff0c\u4e4b\u540e\u70b9\u51fb\u201c\u590d\u5236\u4f7f\u7528\u201d\u6309\u94ae\u3002\n\n![image-20200109150415456](https://static.flyai.com/flyai_dir3.png)\n\n\u7c98\u8d34\u4e4b\u540e\u663e\u793a\u5982\u4e0b\uff1a\n\n```python\n# \u5fc5\u987b\u4f7f\u7528\u8be5\u65b9\u6cd5\u4e0b\u8f7d\u6a21\u578b\uff0c\u7136\u540e\u52a0\u8f7d\nfrom flyai.utils import remote_helper\n# \u4e0b\u8f7d\u5230\u9879\u76ee\u4e2d\u7684data/input/\u6587\u4ef6\u5939\uff0c\u9ed8\u8ba4\u4f1a\u81ea\u52a8\u89e3\u538b\uff0c\u5177\u4f53\u6587\u4ef6\u8def\u5f84\u53ef\u4ee5\u4e0b\u4e4b\u540e\u67e5\u770b\u4f7f\u7528\npath = remote_helper.get_remote_data('https://www.flyai.com/m/bert-base-uncased.tar.gz')\n```\n\n\u5177\u4f53\u4f7f\u7528\u8bf7\u67e5\u770b[\u9884\u8bad\u7ec3\u6a21\u578b\u4f7f\u7528\u6837\u4f8b](#div4)\uff0c\u5176\u5b83\u9ad8\u7ea7\u4f7f\u7528\u65b9\u5f0f\uff0c\u8bf7\u9009\u624b\u81ea\u884c\u67e5\u627e\u3002\n\n##### flyai.utils\u7684remote_helper\u65b9\u6cd5\n\n```python\ndef get_remote_data(remote_name, unzip=True):\n    \"\"\"\n    \u4e0b\u8f7dFlyAI\u7f51\u7ad9\u4e0a\u7684\u9884\u8bad\u7ec3\u6a21\u578b\n    :param remote_name:\u6a21\u578b\u7684\u4e0b\u8f7d\u5730\u5740 \n    :param unzip: \u662f\u5426\u89e3\u538b\n    :return: \u8fd4\u56de\u6ca1\u89e3\u538b\u7684\u8def\u5f84\uff0c\u5177\u4f53\u89e3\u538b\u4f4d\u7f6e\u8bf7\u4e0b\u8f7d\u4e4b\u540e\u67e5\u770b\n    \"\"\"\n    return remote.get_remote_data(remote_name, unzip)\n```\n\n\n\n****\n\n#### <a name=\"div1\">\u53c2\u8d5b\u9009\u624b\u5e38\u89c1\u95ee\u9898</a>\n\n>**Q\uff1a\u4f7f\u7528\u81ea\u5df1\u7684Python\u73af\u5883\uff0c\u9047\u5230No module name \"flyai\"**\n>\n>A\uff1a\u5148\u627e\u5230\u4f7f\u7528\u7684Python\u5bf9\u5e94\u7684pip.exe\u7684\u4f4d\u7f6e\n>\n>\uff08\u81ea\u5df1\u7535\u8111\u4e0a\u53ef\u80fd\u6709\u591a\u4e2aPython\u548cpip\uff0c\u5b89\u88c5\u76ee\u6807\u4e0d\u8981\u5f04\u9519\u3002\uff09\n>\n>- windows\u7528\u6237\u5728\u7ec8\u7aef\u6267\u884c\uff1apip\u6240\u5728\u8def\u5f84pip.exe install -i https://pypi.flyai.com/simple flyai\n>- mac\u548clinux\u7528\u6237\u5728\u7ec8\u7aef\u6267\u884c\uff1apip\u6240\u5728\u8def\u5f84/pip install -i https://pypi.flyai.com/simple flyai\n>- \u5176\u4ed6 No module name \"xxxx\"\u95ee\u9898 \u4e5f\u53ef\u4ee5\u53c2\u8003\u4e0a\u9762\n>\n>**Q\uff1aFlyAI\u81ea\u5e26\u7684Python\u73af\u5883\u5728\u54ea,\u4f1a\u4e0d\u4f1a\u8986\u76d6\u672c\u5730\u73af\u5883\uff1f**\n>\n>A\uff1aFlyAI\u4e0d\u4f1a\u8986\u76d6\u672c\u5730\u73b0\u6709\u7684Python\u73af\u5883\u3002\n>\n>- windows\u7528\u6237:\n>\n>  C://Users//{\u4f60\u8ba1\u7b97\u673a\u7528\u6237\u540d}//.flyai//env//python.exe\n>\n>  C://Users//{\u4f60\u8ba1\u7b97\u673a\u7528\u6237\u540d}///.flyai//env//Scriptspip.exe\n>\n>- mac\u548clinux\u7528\u6237:\n>\n>  /Users/{\u4f60\u8ba1\u7b97\u673a\u7528\u6237\u540d}/.flyai/env/bin/python3.6\n>\n>  /Users/{\u4f60\u8ba1\u7b97\u673a\u7528\u6237\u540d}/.flyai/env/bin/pip\n\n\u5176\u5b83\u66f4\u591a\u5e38\u89c1\u95ee\u9898\uff0c\u8bf7\u8bbf\u95ee\u6587\u6863\u4e2d\u5fc3\u67e5\u770b:[\u5e38\u89c1\u95ee\u9898](https://doc.flyai.com/question.html)\n\n***\n\n#### <a name=\"div2\">FlyAI\u672c\u5730\u8c03\u8bd5\u4ee3\u7801\u6307\u5357</a>\n\n#### \u65b9\u5f0f\u4e00\uff1aWindows\u5ba2\u6237\u7aef\u8c03\u8bd5\n\n##### 1. \u4e0b\u8f7d\u9879\u76ee\u5e76\u89e3\u538b\n\n##### 2.\u8fdb\u5165\u5230\u9879\u76ee\u76ee\u5f55\u4e0b\uff0c\u53cc\u51fb\u6267\u884cflyai.exe\u7a0b\u5e8f\n\n> \u7b2c\u4e00\u6b21\u4f7f\u7528\u9700\u8981\u4f7f\u7528\u5fae\u4fe1\u626b\u7801\u767b\u5f55\n>\n> \u6740\u6bd2\u8f6f\u4ef6\u53ef\u80fd\u4f1a\u8bef\u62a5\uff0c\u70b9\u51fb\u4fe1\u4efb\u8be5\u7a0b\u5e8f\u5373\u53ef\n\n##### 3.\u672c\u5730\u5f00\u53d1\u8c03\u8bd5\n\n> \u8fd0\u884cflyai.exe\u7a0b\u5e8f\uff0c\u70b9\u51fb\"\u672c\u5730\u8c03\u8bd5\"\u6309\u94ae\uff0c\u8f93\u5165\u5faa\u73af\u6b21\u6570\u548c\u6570\u636e\u91cf\uff0c\u70b9\u51fb\u8fd0\u884c\u5373\u53ef\u8c03\u7528main.py\n>\n> \u5982\u679c\u4f7f\u7528\u672c\u5730IDE\u5f00\u53d1\uff0c\u9700\u8981\u6267\u884c\u5b89\u88c5\u201cflyai\u201d\u4f9d\u8d56\u5e76\u5bfc\u5165\u9879\u76ee\uff0c\u8fd0\u884cmain.py \n\n##### 4.\u4e0b\u8f7d\u672c\u5730\u6d4b\u8bd5\u6570\u636e\n\n> \u8fd0\u884cflyai.exe\u7a0b\u5e8f\uff0c\u70b9\u51fb\"\u4e0b\u8f7d\u6570\u636e\"\u6309\u94ae\uff0c\u7a0b\u5e8f\u4f1a\u4e0b\u8f7d100\u6761\u8c03\u8bd5\u6570\u636e\n\n##### 4.\u63d0\u4ea4\u8bad\u7ec3\u5230GPU\n\n> \u8fd0\u884cflyai.exe\u7a0b\u5e8f\uff0c\u70b9\u51fb\"\u63d0\u4ea4\u5230GPU\"\u6309\u94ae\uff0c\u8f93\u5165\u5faa\u73af\u6b21\u6570\u548c\u6570\u636e\u91cf\uff0c\u70b9\u51fb\u8fd0\u884c\u5373\u53ef\u63d0\u4ea4\u5230GPU\u8bad\u7ec3\u3002\n\n\u8fd4\u56desucess\u72b6\u6001\uff0c\u4ee3\u8868\u63d0\u4ea4\u79bb\u7ebf\u8bad\u7ec3\u6210\u529f\n\n\u8bad\u7ec3\u7ed3\u675f\u4f1a\u4ee5\u5fae\u4fe1\u548c\u90ae\u4ef6\u7684\u5f62\u5f0f\u53d1\u9001\u7ed3\u679c\u901a\u77e5\n\n#### \u65b9\u5f0f\u4e8c\uff1awindows\u547d\u4ee4\u884c\u8c03\u8bd5\n\n##### 1. \u4e0b\u8f7d\u9879\u76ee\u5e76\u89e3\u538b\n\n##### 2. \u6253\u5f00\u8fd0\u884c\uff0c\u8f93\u5165cmd\uff0c\u6253\u5f00\u7ec8\u7aef\n\n> Win+R \u8f93\u5165cmd\n\n##### 3. \u4f7f\u7528\u7ec8\u7aef\u8fdb\u5165\u5230\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\n\n\u9996\u5148\u8fdb\u5165\u5230\u9879\u76ee\u5bf9\u5e94\u7684\u78c1\u76d8\u4e2d\uff0c\u7136\u540e\u6267\u884c\n\n> cd path\\to\\project\n>\n> Windows\u7528\u6237\u4f7f\u7528 flyai.exe\n\n##### 4. \u672c\u5730\u5f00\u53d1\u8c03\u8bd5\n\n\u6267\u884c\u4e0b\u5217\u547d\u4ee4\u672c\u5730\u5b89\u88c5\u73af\u5883\u5e76\u8c03\u8bd5\uff08\u7b2c\u4e00\u6b21\u4f7f\u7528\u9700\u8981\u4f7f\u7528\u5fae\u4fe1\u626b\u7801\u767b\u5f55\uff09\n\n> flyai.exe test\n\n\u6267\u884ctest\u547d\u4ee4\uff0c\u4f1a\u81ea\u52a8\u4e0b\u8f7d100\u6761\u6d4b\u8bd5\u6570\u636e\u5230\u9879\u76ee\u4e0b\n\n\u5b89\u88c5\u9879\u76ee\u6240\u9700\u4f9d\u8d56\uff0c\u5e76\u8fd0\u884c main.py\n\n\u5982\u679c\u4f7f\u7528\u672c\u5730IDE\u5f00\u53d1\uff0c\u53ef\u4ee5\u81ea\u884c\u5b89\u88c5 requirements.txt \u4e2d\u7684\u4f9d\u8d56\uff0c\u8fd0\u884c main.py \u5373\u53ef\n\n##### 5.\u63d0\u4ea4\u8bad\u7ec3\u5230GPU\n\n\u9879\u76ee\u4e2d\u5982\u6709\u65b0\u7684\u5f15\u7528\uff0c\u9700\u52a0\u5165\u5230 requirements.txt \u6587\u4ef6\u4e2d\n\n\u5728\u7ec8\u7aef\u4e0b\u6267\u884c\n\n> flyai.exe train\n\n\u8fd4\u56desucess\u72b6\u6001\uff0c\u4ee3\u8868\u63d0\u4ea4\u79bb\u7ebf\u8bad\u7ec3\u6210\u529f\n\n\u8bad\u7ec3\u7ed3\u675f\u4f1a\u4ee5\u5fae\u4fe1\u548c\u90ae\u4ef6\u7684\u5f62\u5f0f\u53d1\u9001\u7ed3\u679c\u901a\u77e5\n\n\u5b8c\u6574\u8bad\u7ec3\u8bbe\u7f6e\u6267\u884c\u4ee3\u7801\u793a\u4f8b\uff1a\n\n> flyai.exe train -b=32 -e=10\n\n\u901a\u8fc7\u6267\u884c\u8bad\u7ec3\u547d\u4ee4\uff0c\u6574\u4e2a\u6570\u636e\u96c6\u5faa\u73af10\u6b21\uff0c\u6bcf\u6b21\u8bad\u7ec3\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u4e3a 32 \u3002\n\n#### \u65b9\u5f0f\u4e09\uff1a\u4f7f\u7528Jupyter\u8c03\u8bd5\n\n\u8fd0\u884cflyai.exe\u7a0b\u5e8f\n\n\u626b\u7801\u767b\u5f55\u4e4b\u540e\n\n\u70b9\u51fb\"\u4f7f\u7528jupyter\u8c03\u8bd5\"\u6309\u94ae\uff0c\u4e00\u952e\u6253\u5f00jupyter lab \u64cd\u4f5c\u754c\u9762\n\n\u5728jupter\u4e2d\u8fd0\u884c run main.py \u547d\u4ee4\u5373\u53ef\u5728\u672c\u5730\u8bad\u7ec3\u8c03\u8bd5\u4ee3\u7801\n\n***\n\n#### <a name=\"div_n\">Mac\u548cLinux\u8c03\u8bd5</a>\n\n#####\u65b9\u5f0f\u4e00\uff1a\u547d\u4ee4\u884c\u8c03\u8bd5\n\n##### 1. \u4e0b\u8f7d\u9879\u76ee\u5e76\u89e3\u538b\n\n##### 2. \u4f7f\u7528\u7ec8\u7aef\u8fdb\u5165\u5230\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\n\n> cd /path/to/project\n>\n> Mac\u548cLinux\u7528\u6237\u4f7f\u7528 ./flyai \u811a\u672c\u6587\u4ef6\n\n##### 3. \u521d\u59cb\u5316\u73af\u5883\u5e76\u767b\u5f55\n\n\u6388\u6743flyai\u811a\u672c\n\n> chmod +x ./flyai\n\n##### 4. \u672c\u5730\u5f00\u53d1\u8c03\u8bd5\n\n\u6267\u884c\u4e0b\u5217\u547d\u4ee4\u672c\u5730\u5b89\u88c5\u73af\u5883\u5e76\u8c03\u8bd5\uff08\u7b2c\u4e00\u6b21\u4f7f\u7528\u9700\u8981\u4f7f\u7528\u5fae\u4fe1\u626b\u7801\u767b\u5f55\uff09\n\n> ./flyai  test   \u6ce8\u610f\uff1a\u547d\u4ee4\u524d\u9762\u4e0d\u8981\u52a0sudo\n\n\u6267\u884ctest\u547d\u4ee4\uff0c\u4f1a\u81ea\u52a8\u4e0b\u8f7d100\u6761\u6d4b\u8bd5\u6570\u636e\u5230\u9879\u76ee\u4e0b\n\n\u5b89\u88c5\u9879\u76ee\u6240\u9700\u4f9d\u8d56\uff0c\u5e76\u8fd0\u884c main.py\n\n\u5982\u679c\u4f7f\u7528\u672c\u5730IDE\u5f00\u53d1\uff0c\u53ef\u4ee5\u81ea\u884c\u5b89\u88c5 requirements.txt \u4e2d\u7684\u4f9d\u8d56\uff0c\u8fd0\u884c main.py \u5373\u53ef\n\n##### 5.\u63d0\u4ea4\u8bad\u7ec3\u5230GPU\n\n\u9879\u76ee\u4e2d\u5982\u6709\u65b0\u7684\u5f15\u7528\uff0c\u9700\u52a0\u5165\u5230 requirements.txt \u6587\u4ef6\u4e2d\n\n\u5728\u7ec8\u7aef\u4e0b\u6267\u884c\n\n> ./flyai train \u6ce8\u610f\uff1a\u547d\u4ee4\u524d\u9762\u4e0d\u8981\u52a0sudo\n\n\u8fd4\u56desucess\u72b6\u6001\uff0c\u4ee3\u8868\u63d0\u4ea4\u79bb\u7ebf\u8bad\u7ec3\u6210\u529f\n\n\u8bad\u7ec3\u7ed3\u675f\u4f1a\u4ee5\u5fae\u4fe1\u548c\u90ae\u4ef6\u7684\u5f62\u5f0f\u53d1\u9001\u7ed3\u679c\u901a\u77e5\n\n\u5b8c\u6574\u8bad\u7ec3\u8bbe\u7f6e\u6267\u884c\u4ee3\u7801\u793a\u4f8b\uff1a\n\n> ./flyai train -b=32 -e=10\n\n\u901a\u8fc7\u6267\u884c\u8bad\u7ec3\u547d\u4ee4\uff0c\u6574\u4e2a\u6570\u636e\u96c6\u5faa\u73af10\u6b21\uff0c\u6bcf\u6b21\u8bad\u7ec3\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u4e3a 32 \u3002\n\n##### \u65b9\u5f0f\u4e8c\uff1a\u4f7f\u7528Jupyter\u8c03\u8bd5\n\n> \u5728\u7ec8\u7aef\u6267\u884c\u547d\u4ee4 ./flyai ide \u6253\u5f00\u8c03\u8bd5\u73af\u5883\n>\n> \u626b\u7801\u767b\u5f55\u6210\u529f\u4e4b\u540e\n>\n> \u5728jupter\u4e2d\u8fd0\u884c run main.py \u547d\u4ee4\u5373\u53ef\u5728\u672c\u5730\u8bad\u7ec3\u8c03\u8bd5\u4ee3\u7801\n\n***\n\n#### <a name=\"div3\">\u6837\u4f8b\u9879\u76ee\u4ee3\u7801\u8be6\u7ec6\u8bf4\u660e</a>\n\n* `main.py`\n\n  > **\u6837\u4f8b\u4ee3\u7801\u4e2d\u5df2\u505a\u7b80\u5355\u5b9e\u73b0\uff0c\u53ef\u4f9b\u67e5\u8003\u3002**\n  >\n  > \u7a0b\u5e8f\u5165\u53e3\uff0c\u7f16\u5199\u7b97\u6cd5\uff0c\u8bad\u7ec3\u6a21\u578b\u7684\u6587\u4ef6\u3002\u5728\u8be5\u6587\u4ef6\u4e2d\u5b9e\u73b0\u81ea\u5df1\u7684\u7b97\u6cd5\u3002\n  >\n  > \u901a\u8fc7`dataset.py`\u4e2d\u7684`next_batch`\u65b9\u6cd5\u83b7\u53d6\u8bad\u7ec3\u548c\u6d4b\u8bd5\u6570\u636e\u3002\n  >\n  > ```python\n  > '''\n  > Flyai\u5e93\u4e2d\u7684\u63d0\u4f9b\u7684\u6570\u636e\u5904\u7406\u65b9\u6cd5\n  > \u4f20\u5165\u6574\u4e2a\u6570\u636e\u8bad\u7ec3\u591a\u5c11\u8f6e\uff0c\u6bcf\u6279\u6b21\u6279\u5927\u5c0f\n  > '''\n  > dataset = Dataset(epochs=args.EPOCHS, batch=args.BATCH)\n  > #\u83b7\u53d6\u8bad\u7ec3\u6570\u636e\n  > x_train, y_train = dataset.next_train_batch()\n  > #\u83b7\u53d6\u9a8c\u8bc1\u6570\u636e\n  > x_val, y_val = dataset.next_validation_batch()\n  > ```\n  >\n  > \u901a\u8fc7`model.py`\u4e2d\u7684`save_model`\u65b9\u6cd5\u4fdd\u5b58\u6a21\u578b\n  >\n  > ```python\n  > # \u6a21\u578b\u64cd\u4f5c\u8f85\u52a9\u7c7b\n  > model = Model(dataset)\n  > model.save_model(YOU_NET)\n  > ```\n  >\n  > **\u5982\u679c\u4f7f\u7528`PyTorch`\u6846\u67b6\uff0c\u9700\u8981\u5728`net.py`\u6587\u4ef6\u4e2d\u5b9e\u73b0\u7f51\u7edc\u3002\u5176\u5b83\u7528\u6cd5\u540c\u4e0a\u3002**\n\n* `processor.py`\n\n  > **\u6837\u4f8b\u4ee3\u7801\u4e2d\u5df2\u505a\u7b80\u5355\u5b9e\u73b0\uff0c\u53ef\u4f9b\u67e5\u8003\u3002**\n  >\n  > \u5904\u7406\u6570\u636e\u7684\u8f93\u5165\u8f93\u51fa\u6587\u4ef6\uff0c\u628a\u901a\u8fc7csv\u6587\u4ef6\u8fd4\u56de\u7684\u6570\u636e\uff0c\u5904\u7406\u6210\u80fd\u8ba9\u7a0b\u5e8f\u8bc6\u522b\u3001\u8bad\u7ec3\u7684\u77e9\u9635\u3002\n  >\n  > \u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49\u8f93\u5165\u8f93\u51fa\u7684\u65b9\u6cd5\u540d\uff0c\u5728`app.yaml`\u4e2d\u58f0\u660e\u5373\u53ef\u3002\n  >\n  > ```python\n  >  def input_x(self, $INPUT_PARAMS):\n  >      '''\n  >  \t\u53c2\u6570\u4e3acsv\u4e2d\u4f5c\u4e3a\u8f93\u5165x\u7684\u4e00\u6761\u6570\u636e\uff0c\u8be5\u65b9\u6cd5\u4f1a\u88abdataset.next_train_batch()\n  >  \t\u548cdataset.next_validation_batch()\u591a\u6b21\u8c03\u7528\u3002\u53ef\u5728\u8be5\u65b9\u6cd5\u4e2d\u505a\u6570\u636e\u589e\u5f3a\n  >  \t\u8be5\u65b9\u6cd5\u5b57\u6bb5\u4e0eapp.yaml\u4e2d\u7684input:->columns:\u5bf9\u5e94\n  >  \t'''\n  >      pass\n  > \t\n  >  def output_x(self, $INPUT_PARAMS):\n  >       '''\n  >  \t\u53c2\u6570\u4e3acsv\u4e2d\u4f5c\u4e3a\u8f93\u5165x\u7684\u4e00\u6761\u6570\u636e\uff0c\u8be5\u65b9\u6cd5\u4f1a\u88abdataset.next_train_batch()\n  >  \t\u548cdataset.next_validation_batch()\u591a\u6b21\u8c03\u7528\u3002\n  >  \t\u8be5\u65b9\u6cd5\u5b57\u6bb5\u4e0eapp.yaml\u4e2d\u7684input:->columns:\u5bf9\u5e94\n  >  \t'''\n  >      pass\n  >  \n  >  def input_y(self, $OUTPUT_PARAMS):\n  >      '''\n  >      \u53c2\u6570\u4e3acsv\u4e2d\u4f5c\u4e3a\u8f93\u5165y\u7684\u4e00\u6761\u6570\u636e\uff0c\u8be5\u65b9\u6cd5\u4f1a\u88abdataset.next_train_batch()\n  >  \t\u548cdataset.next_validation_batch()\u591a\u6b21\u8c03\u7528\u3002\n  >  \t\u8be5\u65b9\u6cd5\u5b57\u6bb5\u4e0eapp.yaml\u4e2d\u7684output:->columns:\u5bf9\u5e94\n  >      '''\n  >      pass\n  >  \n  >  def output_y(self, data):\n  >      '''\n  >      \u8f93\u51fa\u7684\u7ed3\u679c\uff0c\u4f1a\u88abdataset.to_categorys(data)\u8c03\u7528\n  >      :param data: \u9884\u6d4b\u8fd4\u56de\u7684\u6570\u636e\n  >      :return: \u8fd4\u56de\u9884\u6d4b\u7684\u6807\u7b7e\n  >      '''\n  >      pass\n  > \n  > ```\n\n  ##### \n\n* `model.py`\n\n  > **\u6837\u4f8b\u4ee3\u7801\u4e2d\u5df2\u505a\u7b80\u5355\u5b9e\u73b0\uff0c\u53ef\u4f9b\u67e5\u8003\u3002**\n  >\n  > \u8bad\u7ec3\u597d\u6a21\u578b\u4e4b\u540e\u53ef\u4ee5\u7ee7\u627f`flyai.model.base`\u5305\u4e2d\u7684`base`\u91cd\u5199\u4e0b\u9762\u4e09\u4e2a\u65b9\u6cd5\u5b9e\u73b0\u6a21\u578b\u7684\u4fdd\u5b58\u3001\u9a8c\u8bc1\u548c\u4f7f\u7528\u3002\n  >\n  > ```python\n  > def predict(self, **data):\n  >      '''\n  >      \t\u4f7f\u7528\u6a21\u578b\n  >    \t\t:param data: \u6a21\u578b\u7684\u8f93\u5165\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\n  >      \t:return:\n  >      '''\n  >      pass\n  > \n  >  def predict_all(self, datas):\n  >      '''\n  >      \uff08\u5fc5\u987b\u5b9e\u73b0\u7684\u65b9\u6cd5\uff09\u8bc4\u4f30\u6a21\u578b\uff0c\u5bf9\u8bad\u7ec3\u7684\u597d\u7684\u6a21\u578b\u8fdb\u884c\u6253\u5206\n  >    \t\t:param datas: \u9a8c\u8bc1\u96c6\u4e0a\u7684\u968f\u673a\u6570\u636e\uff0c\u7c7b\u578b\u4e3alist\n  >      \t:return outputs: \u8fd4\u56de\u8c03\u7528\u6a21\u578b\u8bc4\u4f30\u4e4b\u540e\u7684list\u6570\u636e\n  >      '''\n  >      pass\n  > \n  >  def save_model(self, network, path=MODEL_PATH, name=MODEL_NAME, overwrite=False):\n  >      '''\n  >      \u4fdd\u5b58\u6a21\u578b\n  >      :param network: \u8bad\u7ec3\u6a21\u578b\u7684\u7f51\u7edc\n  >      :param path: \u8981\u4fdd\u5b58\u6a21\u578b\u7684\u8def\u5f84\n  >      :param name: \u8981\u4fdd\u5b58\u6a21\u578b\u7684\u540d\u5b57\n  >      :param overwrite: \u662f\u5426\u8986\u76d6\u5f53\u524d\u6a21\u578b\n  >      :return:\n  >      '''\n  >      self.check(path, overwrite)\n  > \n  > ```\n\n  predict_all\u7684\u53c2\u6570\u683c\u5f0f\n\n  ```python\n  from flyai.dataset import Dataset\n  from model import Model\n  import sys\n\n  dataset = Dataset()\n  model = Model(dataset)\n\n  # predict_all\u7684\u53c2\u6570\u662f\u591a\u4e2a\u5b57\u5178\u7ec4\u6210\u7684\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e\u96c6\u7ed3\u6784\n  x_test = [{'image_path': 'img/10479.jpg'}, {'image_path': 'img/14607.jpg'}]\n  y_test = [{'label': 39}, {'label': 4}]\n  preds = model.predict_all(x_test)\n  labels = [i['label'] for i in y_test]\n  print(labels)\n  # predict\u662f\u5355\u4e2a\u5b57\u5178\u6a21\u5f0f\n  img_path = 'img/851.jpg'\n  p = model.predict(image_path=img_path)\n  print(p)\n  ```\n\n\n\n***\n\n#### <a name=\"div4\">\u9884\u8bad\u7ec3\u6a21\u578b\u4f7f\u7528\u6837\u4f8b</a>\n\n##### Keras\u9884\u8bad\u7ec3\u6a21\u578b\u4f7f\u7528\u6837\u4f8b\uff1a\n\n```python\nfrom keras.applications import densenet\nfrom flyai.utils import remote_helper\npath=remote_helper.get_remote_date(\"https://www.flyai.com/m/v0.8|densenet169_weights_tf_dim_ordering_tf_kernels_notop.h5\")\ndensenet_notop = densenet.DenseNet169(include_top=False, weights=None)\ndensenet_notop.load_weights(path)\n# densenet_notop = densenet.DenseNet169(include_top=False\uff0c weights='imagenet')\n# \u8fd9\u884c\u4ee3\u7801\u4e0e\u4e0a\u9762\u7b49\u540c\uff0c\u53ea\u4e0d\u8fc7\u4e00\u4e2a\u662f\u8c03\u7528FlyAI\u63d0\u4f9b\u7684\u9884\u8bad\u7ec3\u6a21\u578b\u5730\u5740\uff0c\u4e00\u4e2a\u662f\u5916\u7f51\u7684\u5730\u5740\nx = densenet_notop.output\nx = GlobalAveragePooling2D()(x)\nx = Dense(2048, activation='relu')(x)\npredictions = Dense(200, activation='softmax')(x)\nmodel = Model(inputs=densenet_notop.input, outputs=predictions)\nmodel.compile(...)\nmodel.fit_generator(...)\n```\n\n##### PyTorch\u9884\u8bad\u7ec3\u6a21\u578b\u4f7f\u7528\u6837\u4f8b\uff1a\n\n```python\nimport torchvision\nfrom flyai.utils import remote_helper\npath=remote_helper.get_remote_date(\"https://www.flyai.com/m/resnet50-19c8e357.pth\")\nmodel = torchvision.models.resnet50(pretrained = False)\n# model = torchvision.models.resnet50(pretrained = True)\n# \u8fd9\u884c\u4ee3\u7801\u4e0e\u4e0a\u9762\u7b49\u540c\uff0c\u53ea\u4e0d\u8fc7\u4e00\u4e2a\u662f\u8c03\u7528FlyAI\u63d0\u4f9b\u7684\u9884\u8bad\u7ec3\u6a21\u578b\u5730\u5740\uff0c\u4e00\u4e2a\u662f\u5916\u7f51\u7684\u5730\u5740\nmodel.load_state_dict(torch.load(path)\n# \u5c06\u5176\u4e2d\u7684\u5c42\u76f4\u63a5\u66ff\u6362\u4e3a\u6211\u4eec\u9700\u8981\u7684\u5c42\u5373\u53ef                      \nmodel.fc = nn.Linear(2048,200)\n```\n\n##### Tensorflow\u52a0\u8f7dBert\u9884\u8bad\u7ec3\u6a21\u578b\u6837\u4f8b\uff1a\n\n```python\nimport tensorflow as tf\nimport bert.modeling as modeling\n# \u5fc5\u987b\u4f7f\u7528\u8be5\u65b9\u6cd5\u4e0b\u8f7d\u6a21\u578b\uff0c\u7136\u540e\u52a0\u8f7d\nfrom flyai.utils import remote_helper\n\npath = remote_helper.get_remote_date('https://www.flyai.com/m/uncased_L-12_H-768_A-12.zip')\nprint('path:', path)\ndata_root = os.path.splitext(path)[0]\nprint('data_root:', data_root)\n\n# \u89e3\u6790link\u89e3\u538b\u540e\u7684\u8def\u5f84\ndata_root = os.path.splitext(path)[0]\n# \u3010\u6ce8\u610f\u3011\u4f7f\u7528\u6539\u8def\u5f84\u524d\u9996\u5148\u786e\u8ba4\u662f\u5426\u548c\u9884\u8bad\u7ec3model\u4e0b\u8f7d\u89e3\u538b\u8def\u5f84\u662f\u5426\u4e00\u81f4\nprint('data_root:', data_root) \n# \u4f7f\u7528\u5f53\u524d\u8def\u5f84\n# \u9884\u8bad\u7ec3model\u8def\u5f84\u5b58\u653e\u5730\u5740\u548clink\u89e3\u6790\u8def\u5f84\u4e0d\u4e00\u81f4\u65f6\u4f7f\u7528\u4e0b\u9762\u65b9\u6cd5\u76f4\u63a5\u6307\u5b9a\u3011\n# data_root = os.path.join(os.path.curdir, 'data/input/XXXX/XXXXX')\nbert_config_file = os.path.join(data_root, 'bert_config.json')\nbert_config = modeling.BertConfig.from_json_file(bert_config_file)\ninit_checkpoint = os.path.join(data_root, 'bert_model.ckpt')\nbert_vocab_file = os.path.join(data_root, 'vocab.txt')\n```\n\n### [FlyAI\u5168\u7403\u4eba\u5de5\u667a\u80fd\u4e13\u4e1a\u5f00\u53d1\u5e73\u53f0\uff0c\u4e00\u7ad9\u5f0f\u670d\u52a1\u5e73\u53f0](https://flyai.com)\n\n**\u626b\u63cf\u4e0b\u65b9\u4e8c\u7ef4\u7801\uff0c\u53ca\u65f6\u83b7\u53d6FlyAI\u6700\u65b0\u6d88\u606f\uff0c\u62a2\u5148\u4f53\u9a8c\u6700\u65b0\u529f\u80fd\u3002**\n\n\n\n[![GPL LICENSE](https://www.flyai.com/images/coding.png)](https://flyai.com)\n\n\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://www.flyai.com", "keywords": "", "license": "GPL License", "maintainer": "", "maintainer_email": "", "name": "FlyAI", "package_url": "https://pypi.org/project/FlyAI/", "platform": "", "project_url": "https://pypi.org/project/FlyAI/", "project_urls": {"Homepage": "https://www.flyai.com"}, "release_url": "https://pypi.org/project/FlyAI/0.7.1/", "requires_dist": ["numpy", "pandas", "PyYAML", "requests", "Pillow", "wheel", "gevent", "ufile", "qrcode"], "requires_python": "", "summary": "FlyAI", "version": "0.7.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h3><a href=\"https://www.flyai.com\" rel=\"nofollow\">FlyAI\u7ade\u8d5b\u5e73\u53f0</a></h3>\n<h3><a href=\"https://www.gnu.org/licenses/gpl-3.0.zh-cn.html\" rel=\"nofollow\"><img alt=\"GPL LICENSE\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/59d03daee8d09b0c9cbaedb7ad5bf0bd755b973d/68747470733a2f2f62616467656e2e6e65742f62616467652f4c6963656e73652f47504c2f677265656e\"></a> <a href=\"https://flyai.com\" rel=\"nofollow\"><img alt=\"GPL LICENSE\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7bd24f950f298f1e1ef53f47336fbf98e1302801/68747470733a2f2f62616467656e2e6e65742f62616467652f537570706f727465642f54656e736f72466c6f772c4b657261732c5079546f7263682f677265656e3f6c6973743d31\"></a> <a href=\"https://flyai.com\" rel=\"nofollow\"><img alt=\"GPL LICENSE\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/46be4f5122ef506db5d3ac5cd80eba55363de94b/68747470733a2f2f62616467656e2e6e65742f62616467652f507974686f6e2f332e2b2f677265656e\"></a> <a href=\"https://flyai.com\" rel=\"nofollow\"><img alt=\"GPL LICENSE\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2f64abefd337ea3374054a33f60df1253e9c9edc/68747470733a2f2f62616467656e2e6e65742f62616467652f506c6174666f726d2f57696e646f77732c6d61634f532c4c696e75782f677265656e3f6c6973743d31\"></a></h3>\n<h4>1.\u53c2\u8d5b\u6d41\u7a0b</h4>\n<ul>\n<li>\n<p>\u7b2c\u4e00\u6b65\uff1a\u53c2\u8d5b\u9009\u624b\u4ece<a href=\"https://www.flyai.com\" rel=\"nofollow\">FlyAI\u5b98\u7f51</a>\u9009\u62e9\u6bd4\u8d5b\u62a5\u540d\uff0c\u53ef\u5728\u7ebf\u67e5\u770b\u4ee3\u7801\u5e76\u4e0b\u8f7d\u4ee3\u7801</p>\n<blockquote>\n<p>\u4e0b\u8f7d\u7684\u9879\u76ee\u4e2d\u4e0d\u5305\u542b\u6570\u636e\u96c6\uff0c\u8fd0\u884cmain.py\u4f1a\u81ea\u52a8\u4e0b\u8f7d\u8c03\u8bd5\u6570\u636e\u96c6</p>\n<p>\u672c\u5730\u8c03\u8bd5\u53ea\u6709\u5c11\u91cf\u7684\u6570\u636e\uff0c\u5168\u91cf\u6570\u636e\u63d0\u4ea4\u5230GPU\u540e\u4f1a\u81ea\u52a8\u66f4\u65b0\u66ff\u6362</p>\n</blockquote>\n</li>\n<li>\n<p>\u7b2c\u4e8c\u6b65\uff1a\u672c\u5730\u4ee3\u7801\u8c03\u8bd5</p>\n<blockquote>\n<p>\u672c\u5730\u914d\u7f6ePython3.5\u4ee5\u4e0a\u7684\u8fd0\u884c\u73af\u5883\uff0c\u5e76\u5b89\u88c5\u9879\u76ee\u8fd0\u884c\u6240\u9700\u7684Python\u4f9d\u8d56\u5305</p>\n<p>\u5728main.py\u4e2d\u7f16\u5199\u795e\u7ecf\u7f51\u7edc\uff0c\u5728processor.py\u4e2d\u5904\u7406\u6570\u636e</p>\n<p>\u4f7f\u7528model.py\u6d4b\u8bd5\u6a21\u578b\u662f\u5426\u4fdd\u5b58\u6210\u529f</p>\n<p>\u4f7f\u7528predict.py\u6d4b\u8bd5\u6a21\u578b\u662f\u5426\u8bc4\u4f30\u6210\u529f</p>\n<p>main.py\u4e2d\u5fc5\u987b\u4f7f\u7528args.EPOCHS\u548cargs.BATCHl\u6765\u8bfb\u53d6\u6570\u636e</p>\n</blockquote>\n</li>\n<li>\n<p>\u7b2c\u4e09\u6b65\uff1a\u63d0\u4ea4\u5230GPU\u8bad\u7ec3\uff0c\u4fdd\u5b58\u6a21\u578b</p>\n<blockquote>\n<p>\u672c\u5730\u8c03\u8bd5\u5b8c\u6210\u4e4b\u540e\uff0c\u63d0\u4ea4\u4ee3\u7801\u5230GPU\uff0c\u5728\u5168\u91cf\u6570\u636e\u4e0a\u8bad\u7ec3\u6a21\u578b\uff0c\u4fdd\u5b58\u6700\u4f18\u6a21\u578b\u3002</p>\n<p>\u63d0\u4ea4GPU\u7684\u65b9\u5f0f\u6709\uff1aFlyAI\u5ba2\u6237\u7aef\u3001FlyAI\u811a\u672c\u547d\u4ee4\u3001\u7f51\u7ad9\u5728\u7ebf\u63d0\u4ea4\u3002</p>\n</blockquote>\n</li>\n<li>\n<p>\u7b2c\u56db\u6b65\uff1a\u8bc4\u4f30\u6a21\u578b\uff0c\u83b7\u53d6\u5956\u91d1\uff0c\u5b9e\u65f6\u63d0\u73b0</p>\n<blockquote>\n<p>GPU\u8bad\u7ec3\u5b8c\u6210\u540e\uff0c\u4f1a\u8c03\u7528model.py\u4e2d\u7684predict_all\u65b9\u6cd5\u8bc4\u4f30\uff0c\u5e76\u7ed9\u51fa\u6700\u540e\u5f97\u5206</p>\n<p>\u9ad8\u5206\u7684\u53c2\u8d5b\u9009\u624b\uff0c\u53ef\u5b9e\u65f6\u83b7\u53d6\u5956\u91d1\uff0c\u901a\u8fc7\u5fae\u4fe1\u63d0\u73b0</p>\n</blockquote>\n</li>\n</ul>\n<p>\u53c2\u8d5b\u9009\u624b\u8fd8\u53ef\u4ee5\u67e5\u770b<a href=\"#div3\" rel=\"nofollow\">\u6837\u4f8b\u9879\u76ee\u4ee3\u7801\u8be6\u7ec6\u8bf4\u660e</a></p>\n<p>\u6bd4\u8d5b\u9047\u5230\u95ee\u9898\u4e0d\u8981\u7740\u6025\u53ef\u4ee5\u6dfb\u52a0FlyAI\u5c0f\u52a9\u624b\u5fae\u4fe1\uff0c\u5c0f\u59d0\u59d0\u5728\u7ebf\u89e3\u7b54\u60a8\u7684\u95ee\u9898\u3002</p>\n<img alt=\"FlyAI\u5c0f\u52a9\u624b\u5fae\u4fe1\u4e8c\u7ef4\u7801\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1ec928c3d89e316f56c59af5b070e48cd72c6b92/68747470733a2f2f7374617469632e666c7961692e636f6d2f666c7961695f646972342e706e67\">\n<h4>2.\u6837\u4f8b\u9879\u76ee\u7ed3\u6784\u8bf4\u660e</h4>\n<img alt=\"FlyAI\u9879\u76ee\u76ee\u5f55\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/72529c40c497e6ca5f43a55ddd2dee1ab8290cd8/68747470733a2f2f7374617469632e666c7961692e636f6d2f666c7961695f6469725f322e706e67\">\n<ul>\n<li>\n<p><strong><code>flyai.exe/flyai</code></strong></p>\n<blockquote>\n<p>Windows\u7528\u6237\u53cc\u51fbflyai.exe,\u542f\u52a8FlyAI\u5ba2\u6237\u7aef\uff0c\u672c\u5730\u8c03\u8bd5\u9879\u76ee</p>\n<p>MAC\u548cLinux\u7528\u6237\u5728\u7ec8\u7aef\u6267\u884cflyai\u811a\u672c\uff0c\u672c\u5730\u8c03\u8bd5\u9879\u76ee</p>\n<p><a href=\"#div2\" rel=\"nofollow\">\u70b9\u51fb\u67e5\u770b\u4f7f\u7528\u8be6\u60c5</a></p>\n</blockquote>\n<p>\u53c2\u8d5b\u9009\u624b\u8fd8\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u7535\u8111\u4e0a\u7684Python\u73af\u5883\uff0c\u5b89\u88c5\u9879\u76ee\u4f9d\u8d56\uff0c\u8fd0\u884cmain.py\u6765\u8c03\u8bd5\u3002</p>\n</li>\n<li>\n<p><strong><code>\u4f7f\u7528jupyter\u8c03\u8bd5.ipynb</code></strong></p>\n<blockquote>\n<p>\u6bd4\u8d5b\u9879\u76ee\u53ef\u4ee5\u4f7f\u7528jupyter\u672c\u5730\u8c03\u8bd5\u548c\u63d0\u4ea4</p>\n<p>flyai.exe\u652f\u6301\u4e00\u952e\u914d\u7f6e\u5e76\u542f\u52a8jupyter lab\u672c\u5730\u8c03\u8bd5\u548c\u63d0\u4ea4</p>\n</blockquote>\n</li>\n<li>\n<p><strong><code>app.yaml</code></strong></p>\n<blockquote>\n<p>\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u9ed8\u8ba4\u4e0d\u9700\u8981\u4fee\u6539</p>\n</blockquote>\n</li>\n<li>\n<p><strong><code>main.py</code></strong></p>\n<blockquote>\n<p>\u9879\u76ee\u8fd0\u884c\u4e3b\u6587\u4ef6\uff0c\u5728\u8be5\u6587\u4ef6\u4e2d\u7f16\u5199\u795e\u7ecf\u7f51\u7edc\u4ee3\u7801</p>\n</blockquote>\n</li>\n<li>\n<p><strong><code>net.py</code></strong></p>\n<blockquote>\n<p>\u4f7f\u7528PyTorch\u7684\u9009\u624b\u53ef\u4ee5\u5728\u8be5\u6587\u4ef6\u4e2d\u7f16\u5199\u795e\u7ecf\u7f51\u7edc\uff0c\u5e76main.py\u4e2d\u4f7f\u7528\u3002</p>\n<p>\u4f7f\u7528\u5176\u5b83\u6846\u67b6\u7684\u9009\u624b\u53ef\u4ee5\u5ffd\u7565\u8be5\u6587\u4ef6</p>\n</blockquote>\n</li>\n<li>\n<p><strong><code>processor.py</code></strong></p>\n<blockquote>\n<p>\u6570\u636e\u8f93\u5165(input)\u3001\u8f93\u51fa(output)\u7edf\u4e00\u5904\u7406\u6587\u4ef6</p>\n<p>FlyAI\u7edf\u4e00\u5e76\u7b80\u5316\u4e86\u6570\u636e\u5904\u7406\u6d41\u7a0b\uff0c\u53c2\u8d5b\u9009\u624b\u9700\u8981\u9075\u5faa\u7edf\u4e00\u7684\u6570\u636e\u5904\u7406\u65b9\u5f0f</p>\n</blockquote>\n</li>\n<li>\n<p><strong><code>model.py</code></strong></p>\n<blockquote>\n<p>\u5305\u542b\u6a21\u578b\u4fdd\u5b58\u548c\u8bc4\u4f30\u65b9\u6cd5</p>\n<p>\u6392\u884c\u699c\u5206\u6570\u8c03\u7528\u8be5\u6587\u4ef6\u4e2dpredict_all\u65b9\u6cd5\u83b7\u53d6\uff0c\u8bf7\u53c2\u8d5b\u9009\u624b\u672c\u5730\u8c03\u8bd5\u786e\u4fdd\u6ca1\u95ee\u9898</p>\n</blockquote>\n</li>\n<li>\n<p><strong><code>predict.py</code></strong></p>\n<blockquote>\n<p>\u6a21\u578b\u672c\u672c\u8bc4\u4f30\u8c03\u8bd5\u6587\u4ef6</p>\n</blockquote>\n</li>\n<li>\n<p><strong><code>path.py</code></strong></p>\n<blockquote>\n<p>\u6570\u636e\u3001\u65e5\u5fd7\u3001\u6a21\u578b\u7684\u516c\u5171\u8def\u5f84</p>\n</blockquote>\n</li>\n<li>\n<p><strong><code>requirements.txt</code></strong></p>\n<blockquote>\n<p>\u9879\u76ee\u4e2d\u7528\u5230\u7684Python\u4f9d\u8d56</p>\n<p>\u5f15\u5165\u65b0\u4f9d\u8d56\u65f6\u9700\u8981\u51c6\u786e\u586b\u5199</p>\n</blockquote>\n</li>\n</ul>\n<p>\u53c2\u8d5b\u9009\u624b\u8fd8\u53ef\u4ee5\u67e5\u770b<a href=\"#div3\" rel=\"nofollow\">\u6837\u4f8b\u9879\u76ee\u4ee3\u7801\u8be6\u7ec6\u8bf4\u660e</a></p>\n<h4>3.FlyAI\u7684Python\u5e93\u6587\u6863</h4>\n<p>\u4e3a\u4e86\u4fbf\u4e8e\u6570\u636e\u7684\u7ba1\u7406\u548c\u5904\u7406\uff0c\u6211\u4eec\u5b98\u65b9\u5c01\u88c5\u4e86FlyAI\u5e93</p>\n<p>FlyAI\u7684\u5e93\u548c\u5176\u5b83Python\u5e93\u7684\u5b89\u88c5\u65b9\u6cd5\u4e00\u6837\uff0c\u4f7f\u7528PIP\u5de5\u5177\u5b89\u88c5</p>\n<blockquote>\n<p>windows\u7528\u6237\uff1apip\u6240\u5728\u8def\u5f84pip.exe install -i <a href=\"https://pypi.flyai.com/simple\" rel=\"nofollow\">https://pypi.flyai.com/simple</a> flyai</p>\n<p>mac\u548clinux\u7528\u6237\uff1apip\u6240\u5728\u8def\u5f84/pip install -i <a href=\"https://pypi.flyai.com/simple\" rel=\"nofollow\">https://pypi.flyai.com/simple</a> flyai</p>\n</blockquote>\n<p>FlyAI\u5e93\u7684\u4e3b\u8981\u7528\u9014\u662f\uff0c\u5904\u7406\u5e76\u8bfb\u53d6\u6bd4\u8d5b\u6570\u636e\uff0c\u5e95\u5c42\u4f7f\u7528\u591a\u7ebf\u7a0b\u5b9e\u73b0\uff0c\u63d0\u9ad8\u6570\u636e\u8bfb\u53d6\u6548\u7387\u3002</p>\n<p>\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a</p>\n<pre><span class=\"c1\">#\u5f15\u5165flyai\u6570\u636e\u5904\u7406\u7c7bDataset</span>\n<span class=\"kn\">from</span> <span class=\"nn\">flyai.dataset</span> <span class=\"kn\">import</span> <span class=\"n\">Dataset</span>\n<span class=\"c1\">#\u521d\u59cb\u5316\u7c7b\u5bf9\u8c61\uff0c\u5e76\u8bbe\u7f6e\u6574\u4e2a\u6570\u636e\u96c6\u5faa\u73af\u6b21\u6570\u548c\u6279\u6b21\u5927\u5c0f</span>\n<span class=\"n\">dataset</span> <span class=\"o\">=</span> <span class=\"n\">Dataset</span><span class=\"p\">(</span><span class=\"n\">epochs</span><span class=\"o\">=</span><span class=\"n\">args</span><span class=\"o\">.</span><span class=\"n\">EPOCHS</span><span class=\"p\">,</span> <span class=\"n\">batch</span><span class=\"o\">=</span><span class=\"n\">args</span><span class=\"o\">.</span><span class=\"n\">BATCH</span><span class=\"p\">)</span>\n<span class=\"c1\">#\u83b7\u53d6\u4e00\u6279\u8bad\u7ec3\u6570\u636e</span>\n<span class=\"n\">x_train</span><span class=\"p\">,</span> <span class=\"n\">y_train</span> <span class=\"o\">=</span> <span class=\"n\">dataset</span><span class=\"o\">.</span><span class=\"n\">next_train_batch</span><span class=\"p\">()</span>\n<span class=\"c1\">#\u83b7\u53d6\u4e00\u6279\u9a8c\u8bc1\u6570\u636e</span>\n<span class=\"n\">x_val</span><span class=\"p\">,</span> <span class=\"n\">y_val</span> <span class=\"o\">=</span> <span class=\"n\">dataset</span><span class=\"o\">.</span><span class=\"n\">next_validation_batch</span><span class=\"p\">()</span>\n</pre>\n<hr>\n<h5>flyai.dataset\u6587\u4ef6\u8be6\u7ec6\u6587\u6863</h5>\n<pre><span class=\"k\">class</span> <span class=\"nc\">Dataset</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">epochs</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"n\">batch</span><span class=\"o\">=</span><span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"n\">val_batch</span><span class=\"o\">=</span><span class=\"mi\">32</span><span class=\"p\">):</span>\n        <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        :param epochs: \u8bad\u7ec3\u7684\u8f6e\u6b21\uff0c\u6700\u5927\u4e0d\u8d85\u8fc7100</span>\n<span class=\"sd\">        :param batch: \u8bad\u7ec3\u7684\u6279\u6b21\u5927\u5c0f\uff0c\u592a\u5927\u4f1a\u5bfc\u81f4\u663e\u5b58\u4e0d\u8db3</span>\n<span class=\"sd\">        :param val_batch: \u9a8c\u8bc1\u7684\u6279\u6b21\u5927\u5c0f</span>\n<span class=\"sd\">        \"\"\"</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">lib</span> <span class=\"o\">=</span> <span class=\"n\">Lib</span><span class=\"p\">(</span><span class=\"n\">epochs</span><span class=\"p\">,</span> <span class=\"n\">batch</span><span class=\"p\">,</span> <span class=\"n\">val_batch</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_step</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        \u6839\u636edataset\u4f20\u5165\u7684epochs\u548cbatch\uff0c\u8ba1\u7b97\u51fa\u6765\u7684\u8bad\u7ec3\u603b\u6b21\u6570\u3002</span>\n<span class=\"sd\">        :return: \u8fd4\u56de\u8bad\u7ec3\u603b\u6b21\u6570</span>\n<span class=\"sd\">        \"\"\"</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">get_step</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_train_length</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        \u83b7\u53d6\u8bad\u7ec3\u96c6\u603b\u6570\u91cf\uff0c\u672c\u5730\u8c03\u7528\u8fd4\u56de\u7684\u662f100\u6761\uff0c\u5728GPU\u4e0a\u8c03\u7528\u8fd4\u56de\u5168\u90e8\u6570\u636e\u96c6\u6570\u91cf\u3002</span>\n<span class=\"sd\">        :return: \u8fd4\u56de\u8bad\u7ec3\u96c6\u603b\u6570\u91cf</span>\n<span class=\"sd\">        \"\"\"</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">get_train_length</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_validation_length</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        \u83b7\u53d6\u9a8c\u8bc1\u96c6\u603b\u6570\u91cf\uff0c\u672c\u5730\u8c03\u7528\u8fd4\u56de\u7684\u662f100\u6761\uff0c\u5728GPU\u4e0a\u8c03\u7528\u8fd4\u56de\u5168\u90e8\u6570\u636e\u96c6\u6570\u91cf\u3002</span>\n<span class=\"sd\">        :return: \u8fd4\u56de\u9a8c\u8bc1\u96c6\u603b\u6570\u91cf</span>\n<span class=\"sd\">        \"\"\"</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">get_validation_length</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">next_train_batch</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        \u83b7\u53d6\u4e00\u6279\u8bad\u7ec3\u6570\u636e\uff0c\u8fd4\u56de\u6570\u636e\u7684\u6570\u91cf\u662fdataset\u4e2dbatch\u7684\u5927\u5c0f\u3002</span>\n<span class=\"sd\">        :return: x_train,y_train</span>\n<span class=\"sd\">        \"\"\"</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">next_train_batch</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">next_validation_batch</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        \u83b7\u53d6\u4e00\u6279\u9a8c\u8bc1\u6570\u636e\uff0c\u8fd4\u56de\u6570\u636e\u7684\u6570\u91cf\u662fdataset\u4e2dval_batch\u7684\u5927\u5c0f\u3002</span>\n<span class=\"sd\">        :return: x_val,y_val</span>\n<span class=\"sd\">        \"\"\"</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">next_validation_batch</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">next_batch</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"n\">test_size</span><span class=\"o\">=</span><span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"n\">test_data</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n        <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        \u83b7\u53d6\u4e00\u6279\u8bad\u7ec3\u548c\u9a8c\u8bc1\u6570\u636e\uff0c\u53ef\u4ee5\u81ea\u5df1\u8bbe\u7f6e\u8fd4\u56de\u7684\u5927\u5c0f\u3002</span>\n<span class=\"sd\">        :return:x_train,y_train,x_val,y_val</span>\n<span class=\"sd\">        \"\"\"</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">next_batch</span><span class=\"p\">(</span><span class=\"n\">size</span><span class=\"p\">,</span> <span class=\"n\">test_size</span><span class=\"p\">,</span> <span class=\"n\">test_data</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_all_processor_data</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        \u83b7\u53d6\u6240\u6709\u5728processor.py\u4e2d\uff0c\u901a\u8fc7input_x\u65b9\u6cd5\u5904\u7406\u8fc7\u7684\u6570\u636e</span>\n<span class=\"sd\">        :return:x_train,y_train,x_val,y_val</span>\n<span class=\"sd\">        \"\"\"</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">get_all_processor_data</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_all_data</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        \u83b7\u53d6\u6240\u6709\u539f\u59cb\u6570\u636e</span>\n<span class=\"sd\">        :return:x_train,y_train,x_val,y_val</span>\n<span class=\"sd\">        \"\"\"</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">get_all_data</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_all_validation_data</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        \u83b7\u53d6\u6240\u6709\u5728processor.py\u4e2d\uff0c\u901a\u8fc7input_x\u65b9\u6cd5\u5904\u7406\u8fc7\u7684\u9a8c\u8bc1\u96c6\u6570\u636e</span>\n<span class=\"sd\">        :return:x_val,y_val</span>\n<span class=\"sd\">        \"\"\"</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">get_all_validation_data</span><span class=\"p\">()</span>\n</pre>\n<h4>4.\u9884\u8bad\u7ec3\u6a21\u578b\u7684\u4f7f\u7528</h4>\n<p>\u6bd4\u8d5b\u53ef\u4ee5\u4f7f\u7528FlyAI\u7f51\u7ad9\u4e0a\u516c\u5f00\u7684\u4e0e\u8bad\u7ec3\u6a21\u578b</p>\n<blockquote>\n<p>\u6a21\u578b\u67e5\u627e\u5730\u5740\uff1a<a href=\"https://www.flyai.com/models\" rel=\"nofollow\">https://www.flyai.com/models</a></p>\n</blockquote>\n<p>\u5728\u7f51\u9875\u4e2d\u627e\u5230\u81ea\u5df1\u60f3\u8981\u7528\u7684\u6a21\u578b\uff0c\u4e4b\u540e\u70b9\u51fb\u201c\u590d\u5236\u4f7f\u7528\u201d\u6309\u94ae\u3002</p>\n<p><img alt=\"image-20200109150415456\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2844503f670e71699002a40b073507a066a17471/68747470733a2f2f7374617469632e666c7961692e636f6d2f666c7961695f646972332e706e67\"></p>\n<p>\u7c98\u8d34\u4e4b\u540e\u663e\u793a\u5982\u4e0b\uff1a</p>\n<pre><span class=\"c1\"># \u5fc5\u987b\u4f7f\u7528\u8be5\u65b9\u6cd5\u4e0b\u8f7d\u6a21\u578b\uff0c\u7136\u540e\u52a0\u8f7d</span>\n<span class=\"kn\">from</span> <span class=\"nn\">flyai.utils</span> <span class=\"kn\">import</span> <span class=\"n\">remote_helper</span>\n<span class=\"c1\"># \u4e0b\u8f7d\u5230\u9879\u76ee\u4e2d\u7684data/input/\u6587\u4ef6\u5939\uff0c\u9ed8\u8ba4\u4f1a\u81ea\u52a8\u89e3\u538b\uff0c\u5177\u4f53\u6587\u4ef6\u8def\u5f84\u53ef\u4ee5\u4e0b\u4e4b\u540e\u67e5\u770b\u4f7f\u7528</span>\n<span class=\"n\">path</span> <span class=\"o\">=</span> <span class=\"n\">remote_helper</span><span class=\"o\">.</span><span class=\"n\">get_remote_data</span><span class=\"p\">(</span><span class=\"s1\">'https://www.flyai.com/m/bert-base-uncased.tar.gz'</span><span class=\"p\">)</span>\n</pre>\n<p>\u5177\u4f53\u4f7f\u7528\u8bf7\u67e5\u770b<a href=\"#div4\" rel=\"nofollow\">\u9884\u8bad\u7ec3\u6a21\u578b\u4f7f\u7528\u6837\u4f8b</a>\uff0c\u5176\u5b83\u9ad8\u7ea7\u4f7f\u7528\u65b9\u5f0f\uff0c\u8bf7\u9009\u624b\u81ea\u884c\u67e5\u627e\u3002</p>\n<h5>flyai.utils\u7684remote_helper\u65b9\u6cd5</h5>\n<pre><span class=\"k\">def</span> <span class=\"nf\">get_remote_data</span><span class=\"p\">(</span><span class=\"n\">remote_name</span><span class=\"p\">,</span> <span class=\"n\">unzip</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">    \u4e0b\u8f7dFlyAI\u7f51\u7ad9\u4e0a\u7684\u9884\u8bad\u7ec3\u6a21\u578b</span>\n<span class=\"sd\">    :param remote_name:\u6a21\u578b\u7684\u4e0b\u8f7d\u5730\u5740 </span>\n<span class=\"sd\">    :param unzip: \u662f\u5426\u89e3\u538b</span>\n<span class=\"sd\">    :return: \u8fd4\u56de\u6ca1\u89e3\u538b\u7684\u8def\u5f84\uff0c\u5177\u4f53\u89e3\u538b\u4f4d\u7f6e\u8bf7\u4e0b\u8f7d\u4e4b\u540e\u67e5\u770b</span>\n<span class=\"sd\">    \"\"\"</span>\n    <span class=\"k\">return</span> <span class=\"n\">remote</span><span class=\"o\">.</span><span class=\"n\">get_remote_data</span><span class=\"p\">(</span><span class=\"n\">remote_name</span><span class=\"p\">,</span> <span class=\"n\">unzip</span><span class=\"p\">)</span>\n</pre>\n<hr>\n<h4><a>\u53c2\u8d5b\u9009\u624b\u5e38\u89c1\u95ee\u9898</a></h4>\n<blockquote>\n<p><strong>Q\uff1a\u4f7f\u7528\u81ea\u5df1\u7684Python\u73af\u5883\uff0c\u9047\u5230No module name \"flyai\"</strong></p>\n<p>A\uff1a\u5148\u627e\u5230\u4f7f\u7528\u7684Python\u5bf9\u5e94\u7684pip.exe\u7684\u4f4d\u7f6e</p>\n<p>\uff08\u81ea\u5df1\u7535\u8111\u4e0a\u53ef\u80fd\u6709\u591a\u4e2aPython\u548cpip\uff0c\u5b89\u88c5\u76ee\u6807\u4e0d\u8981\u5f04\u9519\u3002\uff09</p>\n<ul>\n<li>windows\u7528\u6237\u5728\u7ec8\u7aef\u6267\u884c\uff1apip\u6240\u5728\u8def\u5f84pip.exe install -i <a href=\"https://pypi.flyai.com/simple\" rel=\"nofollow\">https://pypi.flyai.com/simple</a> flyai</li>\n<li>mac\u548clinux\u7528\u6237\u5728\u7ec8\u7aef\u6267\u884c\uff1apip\u6240\u5728\u8def\u5f84/pip install -i <a href=\"https://pypi.flyai.com/simple\" rel=\"nofollow\">https://pypi.flyai.com/simple</a> flyai</li>\n<li>\u5176\u4ed6 No module name \"xxxx\"\u95ee\u9898 \u4e5f\u53ef\u4ee5\u53c2\u8003\u4e0a\u9762</li>\n</ul>\n<p><strong>Q\uff1aFlyAI\u81ea\u5e26\u7684Python\u73af\u5883\u5728\u54ea,\u4f1a\u4e0d\u4f1a\u8986\u76d6\u672c\u5730\u73af\u5883\uff1f</strong></p>\n<p>A\uff1aFlyAI\u4e0d\u4f1a\u8986\u76d6\u672c\u5730\u73b0\u6709\u7684Python\u73af\u5883\u3002</p>\n<ul>\n<li>windows\u7528\u6237:</li>\n</ul>\n<p>C://Users//{\u4f60\u8ba1\u7b97\u673a\u7528\u6237\u540d}//.flyai//env//python.exe</p>\n<p>C://Users//{\u4f60\u8ba1\u7b97\u673a\u7528\u6237\u540d}///.flyai//env//Scriptspip.exe</p>\n<ul>\n<li>mac\u548clinux\u7528\u6237:</li>\n</ul>\n<p>/Users/{\u4f60\u8ba1\u7b97\u673a\u7528\u6237\u540d}/.flyai/env/bin/python3.6</p>\n<p>/Users/{\u4f60\u8ba1\u7b97\u673a\u7528\u6237\u540d}/.flyai/env/bin/pip</p>\n</blockquote>\n<p>\u5176\u5b83\u66f4\u591a\u5e38\u89c1\u95ee\u9898\uff0c\u8bf7\u8bbf\u95ee\u6587\u6863\u4e2d\u5fc3\u67e5\u770b:<a href=\"https://doc.flyai.com/question.html\" rel=\"nofollow\">\u5e38\u89c1\u95ee\u9898</a></p>\n<hr>\n<h4><a>FlyAI\u672c\u5730\u8c03\u8bd5\u4ee3\u7801\u6307\u5357</a></h4>\n<h4>\u65b9\u5f0f\u4e00\uff1aWindows\u5ba2\u6237\u7aef\u8c03\u8bd5</h4>\n<h5>1. \u4e0b\u8f7d\u9879\u76ee\u5e76\u89e3\u538b</h5>\n<h5>2.\u8fdb\u5165\u5230\u9879\u76ee\u76ee\u5f55\u4e0b\uff0c\u53cc\u51fb\u6267\u884cflyai.exe\u7a0b\u5e8f</h5>\n<blockquote>\n<p>\u7b2c\u4e00\u6b21\u4f7f\u7528\u9700\u8981\u4f7f\u7528\u5fae\u4fe1\u626b\u7801\u767b\u5f55</p>\n<p>\u6740\u6bd2\u8f6f\u4ef6\u53ef\u80fd\u4f1a\u8bef\u62a5\uff0c\u70b9\u51fb\u4fe1\u4efb\u8be5\u7a0b\u5e8f\u5373\u53ef</p>\n</blockquote>\n<h5>3.\u672c\u5730\u5f00\u53d1\u8c03\u8bd5</h5>\n<blockquote>\n<p>\u8fd0\u884cflyai.exe\u7a0b\u5e8f\uff0c\u70b9\u51fb\"\u672c\u5730\u8c03\u8bd5\"\u6309\u94ae\uff0c\u8f93\u5165\u5faa\u73af\u6b21\u6570\u548c\u6570\u636e\u91cf\uff0c\u70b9\u51fb\u8fd0\u884c\u5373\u53ef\u8c03\u7528main.py</p>\n<p>\u5982\u679c\u4f7f\u7528\u672c\u5730IDE\u5f00\u53d1\uff0c\u9700\u8981\u6267\u884c\u5b89\u88c5\u201cflyai\u201d\u4f9d\u8d56\u5e76\u5bfc\u5165\u9879\u76ee\uff0c\u8fd0\u884cmain.py</p>\n</blockquote>\n<h5>4.\u4e0b\u8f7d\u672c\u5730\u6d4b\u8bd5\u6570\u636e</h5>\n<blockquote>\n<p>\u8fd0\u884cflyai.exe\u7a0b\u5e8f\uff0c\u70b9\u51fb\"\u4e0b\u8f7d\u6570\u636e\"\u6309\u94ae\uff0c\u7a0b\u5e8f\u4f1a\u4e0b\u8f7d100\u6761\u8c03\u8bd5\u6570\u636e</p>\n</blockquote>\n<h5>4.\u63d0\u4ea4\u8bad\u7ec3\u5230GPU</h5>\n<blockquote>\n<p>\u8fd0\u884cflyai.exe\u7a0b\u5e8f\uff0c\u70b9\u51fb\"\u63d0\u4ea4\u5230GPU\"\u6309\u94ae\uff0c\u8f93\u5165\u5faa\u73af\u6b21\u6570\u548c\u6570\u636e\u91cf\uff0c\u70b9\u51fb\u8fd0\u884c\u5373\u53ef\u63d0\u4ea4\u5230GPU\u8bad\u7ec3\u3002</p>\n</blockquote>\n<p>\u8fd4\u56desucess\u72b6\u6001\uff0c\u4ee3\u8868\u63d0\u4ea4\u79bb\u7ebf\u8bad\u7ec3\u6210\u529f</p>\n<p>\u8bad\u7ec3\u7ed3\u675f\u4f1a\u4ee5\u5fae\u4fe1\u548c\u90ae\u4ef6\u7684\u5f62\u5f0f\u53d1\u9001\u7ed3\u679c\u901a\u77e5</p>\n<h4>\u65b9\u5f0f\u4e8c\uff1awindows\u547d\u4ee4\u884c\u8c03\u8bd5</h4>\n<h5>1. \u4e0b\u8f7d\u9879\u76ee\u5e76\u89e3\u538b</h5>\n<h5>2. \u6253\u5f00\u8fd0\u884c\uff0c\u8f93\u5165cmd\uff0c\u6253\u5f00\u7ec8\u7aef</h5>\n<blockquote>\n<p>Win+R \u8f93\u5165cmd</p>\n</blockquote>\n<h5>3. \u4f7f\u7528\u7ec8\u7aef\u8fdb\u5165\u5230\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b</h5>\n<p>\u9996\u5148\u8fdb\u5165\u5230\u9879\u76ee\u5bf9\u5e94\u7684\u78c1\u76d8\u4e2d\uff0c\u7136\u540e\u6267\u884c</p>\n<blockquote>\n<p>cd path\\to\\project</p>\n<p>Windows\u7528\u6237\u4f7f\u7528 flyai.exe</p>\n</blockquote>\n<h5>4. \u672c\u5730\u5f00\u53d1\u8c03\u8bd5</h5>\n<p>\u6267\u884c\u4e0b\u5217\u547d\u4ee4\u672c\u5730\u5b89\u88c5\u73af\u5883\u5e76\u8c03\u8bd5\uff08\u7b2c\u4e00\u6b21\u4f7f\u7528\u9700\u8981\u4f7f\u7528\u5fae\u4fe1\u626b\u7801\u767b\u5f55\uff09</p>\n<blockquote>\n<p>flyai.exe test</p>\n</blockquote>\n<p>\u6267\u884ctest\u547d\u4ee4\uff0c\u4f1a\u81ea\u52a8\u4e0b\u8f7d100\u6761\u6d4b\u8bd5\u6570\u636e\u5230\u9879\u76ee\u4e0b</p>\n<p>\u5b89\u88c5\u9879\u76ee\u6240\u9700\u4f9d\u8d56\uff0c\u5e76\u8fd0\u884c main.py</p>\n<p>\u5982\u679c\u4f7f\u7528\u672c\u5730IDE\u5f00\u53d1\uff0c\u53ef\u4ee5\u81ea\u884c\u5b89\u88c5 requirements.txt \u4e2d\u7684\u4f9d\u8d56\uff0c\u8fd0\u884c main.py \u5373\u53ef</p>\n<h5>5.\u63d0\u4ea4\u8bad\u7ec3\u5230GPU</h5>\n<p>\u9879\u76ee\u4e2d\u5982\u6709\u65b0\u7684\u5f15\u7528\uff0c\u9700\u52a0\u5165\u5230 requirements.txt \u6587\u4ef6\u4e2d</p>\n<p>\u5728\u7ec8\u7aef\u4e0b\u6267\u884c</p>\n<blockquote>\n<p>flyai.exe train</p>\n</blockquote>\n<p>\u8fd4\u56desucess\u72b6\u6001\uff0c\u4ee3\u8868\u63d0\u4ea4\u79bb\u7ebf\u8bad\u7ec3\u6210\u529f</p>\n<p>\u8bad\u7ec3\u7ed3\u675f\u4f1a\u4ee5\u5fae\u4fe1\u548c\u90ae\u4ef6\u7684\u5f62\u5f0f\u53d1\u9001\u7ed3\u679c\u901a\u77e5</p>\n<p>\u5b8c\u6574\u8bad\u7ec3\u8bbe\u7f6e\u6267\u884c\u4ee3\u7801\u793a\u4f8b\uff1a</p>\n<blockquote>\n<p>flyai.exe train -b=32 -e=10</p>\n</blockquote>\n<p>\u901a\u8fc7\u6267\u884c\u8bad\u7ec3\u547d\u4ee4\uff0c\u6574\u4e2a\u6570\u636e\u96c6\u5faa\u73af10\u6b21\uff0c\u6bcf\u6b21\u8bad\u7ec3\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u4e3a 32 \u3002</p>\n<h4>\u65b9\u5f0f\u4e09\uff1a\u4f7f\u7528Jupyter\u8c03\u8bd5</h4>\n<p>\u8fd0\u884cflyai.exe\u7a0b\u5e8f</p>\n<p>\u626b\u7801\u767b\u5f55\u4e4b\u540e</p>\n<p>\u70b9\u51fb\"\u4f7f\u7528jupyter\u8c03\u8bd5\"\u6309\u94ae\uff0c\u4e00\u952e\u6253\u5f00jupyter lab \u64cd\u4f5c\u754c\u9762</p>\n<p>\u5728jupter\u4e2d\u8fd0\u884c run main.py \u547d\u4ee4\u5373\u53ef\u5728\u672c\u5730\u8bad\u7ec3\u8c03\u8bd5\u4ee3\u7801</p>\n<hr>\n<h4><a>Mac\u548cLinux\u8c03\u8bd5</a></h4>\n<p>#####\u65b9\u5f0f\u4e00\uff1a\u547d\u4ee4\u884c\u8c03\u8bd5</p>\n<h5>1. \u4e0b\u8f7d\u9879\u76ee\u5e76\u89e3\u538b</h5>\n<h5>2. \u4f7f\u7528\u7ec8\u7aef\u8fdb\u5165\u5230\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b</h5>\n<blockquote>\n<p>cd /path/to/project</p>\n<p>Mac\u548cLinux\u7528\u6237\u4f7f\u7528 ./flyai \u811a\u672c\u6587\u4ef6</p>\n</blockquote>\n<h5>3. \u521d\u59cb\u5316\u73af\u5883\u5e76\u767b\u5f55</h5>\n<p>\u6388\u6743flyai\u811a\u672c</p>\n<blockquote>\n<p>chmod +x ./flyai</p>\n</blockquote>\n<h5>4. \u672c\u5730\u5f00\u53d1\u8c03\u8bd5</h5>\n<p>\u6267\u884c\u4e0b\u5217\u547d\u4ee4\u672c\u5730\u5b89\u88c5\u73af\u5883\u5e76\u8c03\u8bd5\uff08\u7b2c\u4e00\u6b21\u4f7f\u7528\u9700\u8981\u4f7f\u7528\u5fae\u4fe1\u626b\u7801\u767b\u5f55\uff09</p>\n<blockquote>\n<p>./flyai  test   \u6ce8\u610f\uff1a\u547d\u4ee4\u524d\u9762\u4e0d\u8981\u52a0sudo</p>\n</blockquote>\n<p>\u6267\u884ctest\u547d\u4ee4\uff0c\u4f1a\u81ea\u52a8\u4e0b\u8f7d100\u6761\u6d4b\u8bd5\u6570\u636e\u5230\u9879\u76ee\u4e0b</p>\n<p>\u5b89\u88c5\u9879\u76ee\u6240\u9700\u4f9d\u8d56\uff0c\u5e76\u8fd0\u884c main.py</p>\n<p>\u5982\u679c\u4f7f\u7528\u672c\u5730IDE\u5f00\u53d1\uff0c\u53ef\u4ee5\u81ea\u884c\u5b89\u88c5 requirements.txt \u4e2d\u7684\u4f9d\u8d56\uff0c\u8fd0\u884c main.py \u5373\u53ef</p>\n<h5>5.\u63d0\u4ea4\u8bad\u7ec3\u5230GPU</h5>\n<p>\u9879\u76ee\u4e2d\u5982\u6709\u65b0\u7684\u5f15\u7528\uff0c\u9700\u52a0\u5165\u5230 requirements.txt \u6587\u4ef6\u4e2d</p>\n<p>\u5728\u7ec8\u7aef\u4e0b\u6267\u884c</p>\n<blockquote>\n<p>./flyai train \u6ce8\u610f\uff1a\u547d\u4ee4\u524d\u9762\u4e0d\u8981\u52a0sudo</p>\n</blockquote>\n<p>\u8fd4\u56desucess\u72b6\u6001\uff0c\u4ee3\u8868\u63d0\u4ea4\u79bb\u7ebf\u8bad\u7ec3\u6210\u529f</p>\n<p>\u8bad\u7ec3\u7ed3\u675f\u4f1a\u4ee5\u5fae\u4fe1\u548c\u90ae\u4ef6\u7684\u5f62\u5f0f\u53d1\u9001\u7ed3\u679c\u901a\u77e5</p>\n<p>\u5b8c\u6574\u8bad\u7ec3\u8bbe\u7f6e\u6267\u884c\u4ee3\u7801\u793a\u4f8b\uff1a</p>\n<blockquote>\n<p>./flyai train -b=32 -e=10</p>\n</blockquote>\n<p>\u901a\u8fc7\u6267\u884c\u8bad\u7ec3\u547d\u4ee4\uff0c\u6574\u4e2a\u6570\u636e\u96c6\u5faa\u73af10\u6b21\uff0c\u6bcf\u6b21\u8bad\u7ec3\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u4e3a 32 \u3002</p>\n<h5>\u65b9\u5f0f\u4e8c\uff1a\u4f7f\u7528Jupyter\u8c03\u8bd5</h5>\n<blockquote>\n<p>\u5728\u7ec8\u7aef\u6267\u884c\u547d\u4ee4 ./flyai ide \u6253\u5f00\u8c03\u8bd5\u73af\u5883</p>\n<p>\u626b\u7801\u767b\u5f55\u6210\u529f\u4e4b\u540e</p>\n<p>\u5728jupter\u4e2d\u8fd0\u884c run main.py \u547d\u4ee4\u5373\u53ef\u5728\u672c\u5730\u8bad\u7ec3\u8c03\u8bd5\u4ee3\u7801</p>\n</blockquote>\n<hr>\n<h4><a>\u6837\u4f8b\u9879\u76ee\u4ee3\u7801\u8be6\u7ec6\u8bf4\u660e</a></h4>\n<ul>\n<li>\n<p><code>main.py</code></p>\n<blockquote>\n<p><strong>\u6837\u4f8b\u4ee3\u7801\u4e2d\u5df2\u505a\u7b80\u5355\u5b9e\u73b0\uff0c\u53ef\u4f9b\u67e5\u8003\u3002</strong></p>\n<p>\u7a0b\u5e8f\u5165\u53e3\uff0c\u7f16\u5199\u7b97\u6cd5\uff0c\u8bad\u7ec3\u6a21\u578b\u7684\u6587\u4ef6\u3002\u5728\u8be5\u6587\u4ef6\u4e2d\u5b9e\u73b0\u81ea\u5df1\u7684\u7b97\u6cd5\u3002</p>\n<p>\u901a\u8fc7<code>dataset.py</code>\u4e2d\u7684<code>next_batch</code>\u65b9\u6cd5\u83b7\u53d6\u8bad\u7ec3\u548c\u6d4b\u8bd5\u6570\u636e\u3002</p>\n<pre><span class=\"sd\">'''</span>\n<span class=\"sd\">Flyai\u5e93\u4e2d\u7684\u63d0\u4f9b\u7684\u6570\u636e\u5904\u7406\u65b9\u6cd5</span>\n<span class=\"sd\">\u4f20\u5165\u6574\u4e2a\u6570\u636e\u8bad\u7ec3\u591a\u5c11\u8f6e\uff0c\u6bcf\u6279\u6b21\u6279\u5927\u5c0f</span>\n<span class=\"sd\">'''</span>\n<span class=\"n\">dataset</span> <span class=\"o\">=</span> <span class=\"n\">Dataset</span><span class=\"p\">(</span><span class=\"n\">epochs</span><span class=\"o\">=</span><span class=\"n\">args</span><span class=\"o\">.</span><span class=\"n\">EPOCHS</span><span class=\"p\">,</span> <span class=\"n\">batch</span><span class=\"o\">=</span><span class=\"n\">args</span><span class=\"o\">.</span><span class=\"n\">BATCH</span><span class=\"p\">)</span>\n<span class=\"c1\">#\u83b7\u53d6\u8bad\u7ec3\u6570\u636e</span>\n<span class=\"n\">x_train</span><span class=\"p\">,</span> <span class=\"n\">y_train</span> <span class=\"o\">=</span> <span class=\"n\">dataset</span><span class=\"o\">.</span><span class=\"n\">next_train_batch</span><span class=\"p\">()</span>\n<span class=\"c1\">#\u83b7\u53d6\u9a8c\u8bc1\u6570\u636e</span>\n<span class=\"n\">x_val</span><span class=\"p\">,</span> <span class=\"n\">y_val</span> <span class=\"o\">=</span> <span class=\"n\">dataset</span><span class=\"o\">.</span><span class=\"n\">next_validation_batch</span><span class=\"p\">()</span>\n</pre>\n<p>\u901a\u8fc7<code>model.py</code>\u4e2d\u7684<code>save_model</code>\u65b9\u6cd5\u4fdd\u5b58\u6a21\u578b</p>\n<pre><span class=\"c1\"># \u6a21\u578b\u64cd\u4f5c\u8f85\u52a9\u7c7b</span>\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">Model</span><span class=\"p\">(</span><span class=\"n\">dataset</span><span class=\"p\">)</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">save_model</span><span class=\"p\">(</span><span class=\"n\">YOU_NET</span><span class=\"p\">)</span>\n</pre>\n<p><strong>\u5982\u679c\u4f7f\u7528<code>PyTorch</code>\u6846\u67b6\uff0c\u9700\u8981\u5728<code>net.py</code>\u6587\u4ef6\u4e2d\u5b9e\u73b0\u7f51\u7edc\u3002\u5176\u5b83\u7528\u6cd5\u540c\u4e0a\u3002</strong></p>\n</blockquote>\n</li>\n<li>\n<p><code>processor.py</code></p>\n<blockquote>\n<p><strong>\u6837\u4f8b\u4ee3\u7801\u4e2d\u5df2\u505a\u7b80\u5355\u5b9e\u73b0\uff0c\u53ef\u4f9b\u67e5\u8003\u3002</strong></p>\n<p>\u5904\u7406\u6570\u636e\u7684\u8f93\u5165\u8f93\u51fa\u6587\u4ef6\uff0c\u628a\u901a\u8fc7csv\u6587\u4ef6\u8fd4\u56de\u7684\u6570\u636e\uff0c\u5904\u7406\u6210\u80fd\u8ba9\u7a0b\u5e8f\u8bc6\u522b\u3001\u8bad\u7ec3\u7684\u77e9\u9635\u3002</p>\n<p>\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49\u8f93\u5165\u8f93\u51fa\u7684\u65b9\u6cd5\u540d\uff0c\u5728<code>app.yaml</code>\u4e2d\u58f0\u660e\u5373\u53ef\u3002</p>\n<pre> <span class=\"k\">def</span> <span class=\"nf\">input_x</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"err\">$</span><span class=\"n\">INPUT_PARAMS</span><span class=\"p\">):</span>\n     <span class=\"sd\">'''</span>\n<span class=\"sd\"> \t\u53c2\u6570\u4e3acsv\u4e2d\u4f5c\u4e3a\u8f93\u5165x\u7684\u4e00\u6761\u6570\u636e\uff0c\u8be5\u65b9\u6cd5\u4f1a\u88abdataset.next_train_batch()</span>\n<span class=\"sd\"> \t\u548cdataset.next_validation_batch()\u591a\u6b21\u8c03\u7528\u3002\u53ef\u5728\u8be5\u65b9\u6cd5\u4e2d\u505a\u6570\u636e\u589e\u5f3a</span>\n<span class=\"sd\"> \t\u8be5\u65b9\u6cd5\u5b57\u6bb5\u4e0eapp.yaml\u4e2d\u7684input:-&gt;columns:\u5bf9\u5e94</span>\n<span class=\"sd\"> \t'''</span>\n     <span class=\"k\">pass</span>\n\t\n <span class=\"k\">def</span> <span class=\"nf\">output_x</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"err\">$</span><span class=\"n\">INPUT_PARAMS</span><span class=\"p\">):</span>\n      <span class=\"sd\">'''</span>\n<span class=\"sd\"> \t\u53c2\u6570\u4e3acsv\u4e2d\u4f5c\u4e3a\u8f93\u5165x\u7684\u4e00\u6761\u6570\u636e\uff0c\u8be5\u65b9\u6cd5\u4f1a\u88abdataset.next_train_batch()</span>\n<span class=\"sd\"> \t\u548cdataset.next_validation_batch()\u591a\u6b21\u8c03\u7528\u3002</span>\n<span class=\"sd\"> \t\u8be5\u65b9\u6cd5\u5b57\u6bb5\u4e0eapp.yaml\u4e2d\u7684input:-&gt;columns:\u5bf9\u5e94</span>\n<span class=\"sd\"> \t'''</span>\n     <span class=\"k\">pass</span>\n \n <span class=\"k\">def</span> <span class=\"nf\">input_y</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"err\">$</span><span class=\"n\">OUTPUT_PARAMS</span><span class=\"p\">):</span>\n     <span class=\"sd\">'''</span>\n<span class=\"sd\">     \u53c2\u6570\u4e3acsv\u4e2d\u4f5c\u4e3a\u8f93\u5165y\u7684\u4e00\u6761\u6570\u636e\uff0c\u8be5\u65b9\u6cd5\u4f1a\u88abdataset.next_train_batch()</span>\n<span class=\"sd\"> \t\u548cdataset.next_validation_batch()\u591a\u6b21\u8c03\u7528\u3002</span>\n<span class=\"sd\"> \t\u8be5\u65b9\u6cd5\u5b57\u6bb5\u4e0eapp.yaml\u4e2d\u7684output:-&gt;columns:\u5bf9\u5e94</span>\n<span class=\"sd\">     '''</span>\n     <span class=\"k\">pass</span>\n \n <span class=\"k\">def</span> <span class=\"nf\">output_y</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">):</span>\n     <span class=\"sd\">'''</span>\n<span class=\"sd\">     \u8f93\u51fa\u7684\u7ed3\u679c\uff0c\u4f1a\u88abdataset.to_categorys(data)\u8c03\u7528</span>\n<span class=\"sd\">     :param data: \u9884\u6d4b\u8fd4\u56de\u7684\u6570\u636e</span>\n<span class=\"sd\">     :return: \u8fd4\u56de\u9884\u6d4b\u7684\u6807\u7b7e</span>\n<span class=\"sd\">     '''</span>\n     <span class=\"k\">pass</span>\n</pre>\n</blockquote>\n<h5></h5>\n</li>\n<li>\n<p><code>model.py</code></p>\n<blockquote>\n<p><strong>\u6837\u4f8b\u4ee3\u7801\u4e2d\u5df2\u505a\u7b80\u5355\u5b9e\u73b0\uff0c\u53ef\u4f9b\u67e5\u8003\u3002</strong></p>\n<p>\u8bad\u7ec3\u597d\u6a21\u578b\u4e4b\u540e\u53ef\u4ee5\u7ee7\u627f<code>flyai.model.base</code>\u5305\u4e2d\u7684<code>base</code>\u91cd\u5199\u4e0b\u9762\u4e09\u4e2a\u65b9\u6cd5\u5b9e\u73b0\u6a21\u578b\u7684\u4fdd\u5b58\u3001\u9a8c\u8bc1\u548c\u4f7f\u7528\u3002</p>\n<pre><span class=\"k\">def</span> <span class=\"nf\">predict</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">data</span><span class=\"p\">):</span>\n     <span class=\"sd\">'''</span>\n<span class=\"sd\">     \t\u4f7f\u7528\u6a21\u578b</span>\n<span class=\"sd\">   \t\t:param data: \u6a21\u578b\u7684\u8f93\u5165\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u53c2\u6570</span>\n<span class=\"sd\">     \t:return:</span>\n<span class=\"sd\">     '''</span>\n     <span class=\"k\">pass</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">predict_all</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">datas</span><span class=\"p\">):</span>\n     <span class=\"sd\">'''</span>\n<span class=\"sd\">     \uff08\u5fc5\u987b\u5b9e\u73b0\u7684\u65b9\u6cd5\uff09\u8bc4\u4f30\u6a21\u578b\uff0c\u5bf9\u8bad\u7ec3\u7684\u597d\u7684\u6a21\u578b\u8fdb\u884c\u6253\u5206</span>\n<span class=\"sd\">   \t\t:param datas: \u9a8c\u8bc1\u96c6\u4e0a\u7684\u968f\u673a\u6570\u636e\uff0c\u7c7b\u578b\u4e3alist</span>\n<span class=\"sd\">     \t:return outputs: \u8fd4\u56de\u8c03\u7528\u6a21\u578b\u8bc4\u4f30\u4e4b\u540e\u7684list\u6570\u636e</span>\n<span class=\"sd\">     '''</span>\n     <span class=\"k\">pass</span>\n\n <span class=\"k\">def</span> <span class=\"nf\">save_model</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">network</span><span class=\"p\">,</span> <span class=\"n\">path</span><span class=\"o\">=</span><span class=\"n\">MODEL_PATH</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">MODEL_NAME</span><span class=\"p\">,</span> <span class=\"n\">overwrite</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n     <span class=\"sd\">'''</span>\n<span class=\"sd\">     \u4fdd\u5b58\u6a21\u578b</span>\n<span class=\"sd\">     :param network: \u8bad\u7ec3\u6a21\u578b\u7684\u7f51\u7edc</span>\n<span class=\"sd\">     :param path: \u8981\u4fdd\u5b58\u6a21\u578b\u7684\u8def\u5f84</span>\n<span class=\"sd\">     :param name: \u8981\u4fdd\u5b58\u6a21\u578b\u7684\u540d\u5b57</span>\n<span class=\"sd\">     :param overwrite: \u662f\u5426\u8986\u76d6\u5f53\u524d\u6a21\u578b</span>\n<span class=\"sd\">     :return:</span>\n<span class=\"sd\">     '''</span>\n     <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">check</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">,</span> <span class=\"n\">overwrite</span><span class=\"p\">)</span>\n</pre>\n</blockquote>\n<p>predict_all\u7684\u53c2\u6570\u683c\u5f0f</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">flyai.dataset</span> <span class=\"kn\">import</span> <span class=\"n\">Dataset</span>\n<span class=\"kn\">from</span> <span class=\"nn\">model</span> <span class=\"kn\">import</span> <span class=\"n\">Model</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sys</span>\n\n<span class=\"n\">dataset</span> <span class=\"o\">=</span> <span class=\"n\">Dataset</span><span class=\"p\">()</span>\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">Model</span><span class=\"p\">(</span><span class=\"n\">dataset</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># predict_all\u7684\u53c2\u6570\u662f\u591a\u4e2a\u5b57\u5178\u7ec4\u6210\u7684\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e\u96c6\u7ed3\u6784</span>\n<span class=\"n\">x_test</span> <span class=\"o\">=</span> <span class=\"p\">[{</span><span class=\"s1\">'image_path'</span><span class=\"p\">:</span> <span class=\"s1\">'img/10479.jpg'</span><span class=\"p\">},</span> <span class=\"p\">{</span><span class=\"s1\">'image_path'</span><span class=\"p\">:</span> <span class=\"s1\">'img/14607.jpg'</span><span class=\"p\">}]</span>\n<span class=\"n\">y_test</span> <span class=\"o\">=</span> <span class=\"p\">[{</span><span class=\"s1\">'label'</span><span class=\"p\">:</span> <span class=\"mi\">39</span><span class=\"p\">},</span> <span class=\"p\">{</span><span class=\"s1\">'label'</span><span class=\"p\">:</span> <span class=\"mi\">4</span><span class=\"p\">}]</span>\n<span class=\"n\">preds</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">predict_all</span><span class=\"p\">(</span><span class=\"n\">x_test</span><span class=\"p\">)</span>\n<span class=\"n\">labels</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">[</span><span class=\"s1\">'label'</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">y_test</span><span class=\"p\">]</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">labels</span><span class=\"p\">)</span>\n<span class=\"c1\"># predict\u662f\u5355\u4e2a\u5b57\u5178\u6a21\u5f0f</span>\n<span class=\"n\">img_path</span> <span class=\"o\">=</span> <span class=\"s1\">'img/851.jpg'</span>\n<span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">predict</span><span class=\"p\">(</span><span class=\"n\">image_path</span><span class=\"o\">=</span><span class=\"n\">img_path</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">)</span>\n</pre>\n</li>\n</ul>\n<hr>\n<h4><a>\u9884\u8bad\u7ec3\u6a21\u578b\u4f7f\u7528\u6837\u4f8b</a></h4>\n<h5>Keras\u9884\u8bad\u7ec3\u6a21\u578b\u4f7f\u7528\u6837\u4f8b\uff1a</h5>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">keras.applications</span> <span class=\"kn\">import</span> <span class=\"n\">densenet</span>\n<span class=\"kn\">from</span> <span class=\"nn\">flyai.utils</span> <span class=\"kn\">import</span> <span class=\"n\">remote_helper</span>\n<span class=\"n\">path</span><span class=\"o\">=</span><span class=\"n\">remote_helper</span><span class=\"o\">.</span><span class=\"n\">get_remote_date</span><span class=\"p\">(</span><span class=\"s2\">\"https://www.flyai.com/m/v0.8|densenet169_weights_tf_dim_ordering_tf_kernels_notop.h5\"</span><span class=\"p\">)</span>\n<span class=\"n\">densenet_notop</span> <span class=\"o\">=</span> <span class=\"n\">densenet</span><span class=\"o\">.</span><span class=\"n\">DenseNet169</span><span class=\"p\">(</span><span class=\"n\">include_top</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">weights</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">)</span>\n<span class=\"n\">densenet_notop</span><span class=\"o\">.</span><span class=\"n\">load_weights</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">)</span>\n<span class=\"c1\"># densenet_notop = densenet.DenseNet169(include_top=False\uff0c weights='imagenet')</span>\n<span class=\"c1\"># \u8fd9\u884c\u4ee3\u7801\u4e0e\u4e0a\u9762\u7b49\u540c\uff0c\u53ea\u4e0d\u8fc7\u4e00\u4e2a\u662f\u8c03\u7528FlyAI\u63d0\u4f9b\u7684\u9884\u8bad\u7ec3\u6a21\u578b\u5730\u5740\uff0c\u4e00\u4e2a\u662f\u5916\u7f51\u7684\u5730\u5740</span>\n<span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">densenet_notop</span><span class=\"o\">.</span><span class=\"n\">output</span>\n<span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">GlobalAveragePooling2D</span><span class=\"p\">()(</span><span class=\"n\">x</span><span class=\"p\">)</span>\n<span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">Dense</span><span class=\"p\">(</span><span class=\"mi\">2048</span><span class=\"p\">,</span> <span class=\"n\">activation</span><span class=\"o\">=</span><span class=\"s1\">'relu'</span><span class=\"p\">)(</span><span class=\"n\">x</span><span class=\"p\">)</span>\n<span class=\"n\">predictions</span> <span class=\"o\">=</span> <span class=\"n\">Dense</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">,</span> <span class=\"n\">activation</span><span class=\"o\">=</span><span class=\"s1\">'softmax'</span><span class=\"p\">)(</span><span class=\"n\">x</span><span class=\"p\">)</span>\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">Model</span><span class=\"p\">(</span><span class=\"n\">inputs</span><span class=\"o\">=</span><span class=\"n\">densenet_notop</span><span class=\"o\">.</span><span class=\"n\">input</span><span class=\"p\">,</span> <span class=\"n\">outputs</span><span class=\"o\">=</span><span class=\"n\">predictions</span><span class=\"p\">)</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">compile</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">)</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">fit_generator</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">)</span>\n</pre>\n<h5>PyTorch\u9884\u8bad\u7ec3\u6a21\u578b\u4f7f\u7528\u6837\u4f8b\uff1a</h5>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">torchvision</span>\n<span class=\"kn\">from</span> <span class=\"nn\">flyai.utils</span> <span class=\"kn\">import</span> <span class=\"n\">remote_helper</span>\n<span class=\"n\">path</span><span class=\"o\">=</span><span class=\"n\">remote_helper</span><span class=\"o\">.</span><span class=\"n\">get_remote_date</span><span class=\"p\">(</span><span class=\"s2\">\"https://www.flyai.com/m/resnet50-19c8e357.pth\"</span><span class=\"p\">)</span>\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">torchvision</span><span class=\"o\">.</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">resnet50</span><span class=\"p\">(</span><span class=\"n\">pretrained</span> <span class=\"o\">=</span> <span class=\"kc\">False</span><span class=\"p\">)</span>\n<span class=\"c1\"># model = torchvision.models.resnet50(pretrained = True)</span>\n<span class=\"c1\"># \u8fd9\u884c\u4ee3\u7801\u4e0e\u4e0a\u9762\u7b49\u540c\uff0c\u53ea\u4e0d\u8fc7\u4e00\u4e2a\u662f\u8c03\u7528FlyAI\u63d0\u4f9b\u7684\u9884\u8bad\u7ec3\u6a21\u578b\u5730\u5740\uff0c\u4e00\u4e2a\u662f\u5916\u7f51\u7684\u5730\u5740</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">load_state_dict</span><span class=\"p\">(</span><span class=\"n\">torch</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u5c06\u5176\u4e2d\u7684\u5c42\u76f4\u63a5\u66ff\u6362\u4e3a\u6211\u4eec\u9700\u8981\u7684\u5c42\u5373\u53ef                      </span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">fc</span> <span class=\"o\">=</span> <span class=\"n\">nn</span><span class=\"o\">.</span><span class=\"n\">Linear</span><span class=\"p\">(</span><span class=\"mi\">2048</span><span class=\"p\">,</span><span class=\"mi\">200</span><span class=\"p\">)</span>\n</pre>\n<h5>Tensorflow\u52a0\u8f7dBert\u9884\u8bad\u7ec3\u6a21\u578b\u6837\u4f8b\uff1a</h5>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">tensorflow</span> <span class=\"k\">as</span> <span class=\"nn\">tf</span>\n<span class=\"kn\">import</span> <span class=\"nn\">bert.modeling</span> <span class=\"k\">as</span> <span class=\"nn\">modeling</span>\n<span class=\"c1\"># \u5fc5\u987b\u4f7f\u7528\u8be5\u65b9\u6cd5\u4e0b\u8f7d\u6a21\u578b\uff0c\u7136\u540e\u52a0\u8f7d</span>\n<span class=\"kn\">from</span> <span class=\"nn\">flyai.utils</span> <span class=\"kn\">import</span> <span class=\"n\">remote_helper</span>\n\n<span class=\"n\">path</span> <span class=\"o\">=</span> <span class=\"n\">remote_helper</span><span class=\"o\">.</span><span class=\"n\">get_remote_date</span><span class=\"p\">(</span><span class=\"s1\">'https://www.flyai.com/m/uncased_L-12_H-768_A-12.zip'</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'path:'</span><span class=\"p\">,</span> <span class=\"n\">path</span><span class=\"p\">)</span>\n<span class=\"n\">data_root</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">splitext</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'data_root:'</span><span class=\"p\">,</span> <span class=\"n\">data_root</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u89e3\u6790link\u89e3\u538b\u540e\u7684\u8def\u5f84</span>\n<span class=\"n\">data_root</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">splitext</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"c1\"># \u3010\u6ce8\u610f\u3011\u4f7f\u7528\u6539\u8def\u5f84\u524d\u9996\u5148\u786e\u8ba4\u662f\u5426\u548c\u9884\u8bad\u7ec3model\u4e0b\u8f7d\u89e3\u538b\u8def\u5f84\u662f\u5426\u4e00\u81f4</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'data_root:'</span><span class=\"p\">,</span> <span class=\"n\">data_root</span><span class=\"p\">)</span> \n<span class=\"c1\"># \u4f7f\u7528\u5f53\u524d\u8def\u5f84</span>\n<span class=\"c1\"># \u9884\u8bad\u7ec3model\u8def\u5f84\u5b58\u653e\u5730\u5740\u548clink\u89e3\u6790\u8def\u5f84\u4e0d\u4e00\u81f4\u65f6\u4f7f\u7528\u4e0b\u9762\u65b9\u6cd5\u76f4\u63a5\u6307\u5b9a\u3011</span>\n<span class=\"c1\"># data_root = os.path.join(os.path.curdir, 'data/input/XXXX/XXXXX')</span>\n<span class=\"n\">bert_config_file</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">data_root</span><span class=\"p\">,</span> <span class=\"s1\">'bert_config.json'</span><span class=\"p\">)</span>\n<span class=\"n\">bert_config</span> <span class=\"o\">=</span> <span class=\"n\">modeling</span><span class=\"o\">.</span><span class=\"n\">BertConfig</span><span class=\"o\">.</span><span class=\"n\">from_json_file</span><span class=\"p\">(</span><span class=\"n\">bert_config_file</span><span class=\"p\">)</span>\n<span class=\"n\">init_checkpoint</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">data_root</span><span class=\"p\">,</span> <span class=\"s1\">'bert_model.ckpt'</span><span class=\"p\">)</span>\n<span class=\"n\">bert_vocab_file</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">data_root</span><span class=\"p\">,</span> <span class=\"s1\">'vocab.txt'</span><span class=\"p\">)</span>\n</pre>\n<h3><a href=\"https://flyai.com\" rel=\"nofollow\">FlyAI\u5168\u7403\u4eba\u5de5\u667a\u80fd\u4e13\u4e1a\u5f00\u53d1\u5e73\u53f0\uff0c\u4e00\u7ad9\u5f0f\u670d\u52a1\u5e73\u53f0</a></h3>\n<p><strong>\u626b\u63cf\u4e0b\u65b9\u4e8c\u7ef4\u7801\uff0c\u53ca\u65f6\u83b7\u53d6FlyAI\u6700\u65b0\u6d88\u606f\uff0c\u62a2\u5148\u4f53\u9a8c\u6700\u65b0\u529f\u80fd\u3002</strong></p>\n<p><a href=\"https://flyai.com\" rel=\"nofollow\"><img alt=\"GPL LICENSE\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2946d77dfff896e00f42d2e5b3e9d5ec6c0de8de/68747470733a2f2f7777772e666c7961692e636f6d2f696d616765732f636f64696e672e706e67\"></a></p>\n\n          </div>"}, "last_serial": 6975716, "releases": {"0.6.6": [{"comment_text": "", "digests": {"md5": "57582117c26396ae2c5c2ed64b550eb3", "sha256": "a62607324db0a5c2da7c907bc433229c5b6629a53d5ab7873336eff060927807"}, "downloads": -1, "filename": "FlyAI-0.6.6-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "57582117c26396ae2c5c2ed64b550eb3", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 13531392, "upload_time": "2020-03-16T12:19:33", "upload_time_iso_8601": "2020-03-16T12:19:33.927534Z", "url": "https://files.pythonhosted.org/packages/67/cd/5caff28b14eb231f1bc17360e6ecc4c209aca9a2d42fac65c4e7b8fb762d/FlyAI-0.6.6-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5a58429aa817bc066f1f0ecd9b7eb409", "sha256": "0183170c6d0cf1da3f836e626ff3d91ad91c8d01c359e0e6bde6a3aafdb8c9ab"}, "downloads": -1, "filename": "FlyAI-0.6.6.tar.gz", "has_sig": false, "md5_digest": "5a58429aa817bc066f1f0ecd9b7eb409", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13441048, "upload_time": "2020-03-16T12:20:00", "upload_time_iso_8601": "2020-03-16T12:20:00.505073Z", "url": "https://files.pythonhosted.org/packages/64/0e/807557f86ae0e1ad1b85d052801b9f814ada33ec2b593fd5b8b32901240f/FlyAI-0.6.6.tar.gz", "yanked": false}], "0.6.8": [{"comment_text": "", "digests": {"md5": "d2490b23e1b82d1443a6cfc74e5256f8", "sha256": "1e455a562859c8c21bf0a27af629dfec7b771594ffb85de1b38ecba2c7ab7a89"}, "downloads": -1, "filename": "FlyAI-0.6.8-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "d2490b23e1b82d1443a6cfc74e5256f8", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 17280834, "upload_time": "2020-03-28T06:40:23", "upload_time_iso_8601": "2020-03-28T06:40:23.237874Z", "url": "https://files.pythonhosted.org/packages/34/6d/eea5030c78402b0bc9326cfe935d092e0f2446235558a14bc9cd4ab2c943/FlyAI-0.6.8-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "786f66054bca9273d683551c348ed8ec", "sha256": "b0ebfb135c8e77cf22d382162d8289baf86459f9bfe83f83e5c5b86f5f46c549"}, "downloads": -1, "filename": "FlyAI-0.6.8.tar.gz", "has_sig": false, "md5_digest": "786f66054bca9273d683551c348ed8ec", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17173785, "upload_time": "2020-03-28T06:41:02", "upload_time_iso_8601": "2020-03-28T06:41:02.890100Z", "url": "https://files.pythonhosted.org/packages/ec/3b/92df5c68befe5ad6e70d076c18ed72813fa20be94e25aa35995e210b8596/FlyAI-0.6.8.tar.gz", "yanked": false}], "0.6.9": [{"comment_text": "", "digests": {"md5": "ec8c2f38a3259828ffed6621ac311ca9", "sha256": "b816d87db5457c2551884abc55a894dd4a26e7c0a28e1c952759a813a73bc899"}, "downloads": -1, "filename": "FlyAI-0.6.9-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "ec8c2f38a3259828ffed6621ac311ca9", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 17319595, "upload_time": "2020-03-30T09:09:43", "upload_time_iso_8601": "2020-03-30T09:09:43.862780Z", "url": "https://files.pythonhosted.org/packages/c4/20/fde8f922428c2bc60c369ff8617254d263683cf6b8ec9b7f8e70d1257b11/FlyAI-0.6.9-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0b1c18b52977519f4d9e63d14d1f2f0e", "sha256": "f92b4d965373341d56965888155d51f3e73ee25eef211b7a5091f6c776f72886"}, "downloads": -1, "filename": "FlyAI-0.6.9.tar.gz", "has_sig": false, "md5_digest": "0b1c18b52977519f4d9e63d14d1f2f0e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17210058, "upload_time": "2020-03-30T09:10:12", "upload_time_iso_8601": "2020-03-30T09:10:12.999605Z", "url": "https://files.pythonhosted.org/packages/d9/0f/e8f15243d606f66045709e84ee37b44a25770b46726fcdf7f960bb6e3ed7/FlyAI-0.6.9.tar.gz", "yanked": false}], "0.7.0": [{"comment_text": "", "digests": {"md5": "5d041a56ebba84e8e45d9ed70a0b70eb", "sha256": "14beb8059c685b690aadbcf448efb364c22e33e50dbc42add7ac3de219f0a5b0"}, "downloads": -1, "filename": "FlyAI-0.7.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "5d041a56ebba84e8e45d9ed70a0b70eb", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 17393015, "upload_time": "2020-04-03T02:18:00", "upload_time_iso_8601": "2020-04-03T02:18:00.230811Z", "url": "https://files.pythonhosted.org/packages/a8/cd/10d2a1d2cab7be0d54aec95e6a3412be29fdf5e51b1696d8f6a8c3f3530d/FlyAI-0.7.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c27e36940f44a492178c8944f92f7e4f", "sha256": "e701e33afee5482ffe24692015ed9ba2da1dd848969b94e17aa4304d16ae0956"}, "downloads": -1, "filename": "FlyAI-0.7.0.tar.gz", "has_sig": false, "md5_digest": "c27e36940f44a492178c8944f92f7e4f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17281298, "upload_time": "2020-04-03T02:18:15", "upload_time_iso_8601": "2020-04-03T02:18:15.286364Z", "url": "https://files.pythonhosted.org/packages/f7/6a/f4c49973fd746786b6ca51dfda880b89858a3a49ed7fe3db9f9eb9693801/FlyAI-0.7.0.tar.gz", "yanked": false}], "0.7.1": [{"comment_text": "", "digests": {"md5": "a02599ef45158734b89bb1bb4c7c42d6", "sha256": "a68a811959c5d9b112cb8bae2a118b3c10af068799417c8aef4ef473b241247e"}, "downloads": -1, "filename": "FlyAI-0.7.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "a02599ef45158734b89bb1bb4c7c42d6", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 17378881, "upload_time": "2020-04-08T07:30:12", "upload_time_iso_8601": "2020-04-08T07:30:12.728479Z", "url": "https://files.pythonhosted.org/packages/12/a6/1c94baf974cab19306ffb683072b5db4125df59ea7cd04b4fdd0d9baf97c/FlyAI-0.7.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1d74650a4e7011e58b56bd4652546be9", "sha256": "ef2d1d2ad6a03c40b9a12668b5ba8f105212309e8912b969788795af39868c05"}, "downloads": -1, "filename": "FlyAI-0.7.1.tar.gz", "has_sig": false, "md5_digest": "1d74650a4e7011e58b56bd4652546be9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17269735, "upload_time": "2020-04-08T07:30:45", "upload_time_iso_8601": "2020-04-08T07:30:45.056163Z", "url": "https://files.pythonhosted.org/packages/d0/b4/93d59d3e74e1c2fe3b94a83dfd8e2ebcde0208963d189808c30d1644679f/FlyAI-0.7.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a02599ef45158734b89bb1bb4c7c42d6", "sha256": "a68a811959c5d9b112cb8bae2a118b3c10af068799417c8aef4ef473b241247e"}, "downloads": -1, "filename": "FlyAI-0.7.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "a02599ef45158734b89bb1bb4c7c42d6", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 17378881, "upload_time": "2020-04-08T07:30:12", "upload_time_iso_8601": "2020-04-08T07:30:12.728479Z", "url": "https://files.pythonhosted.org/packages/12/a6/1c94baf974cab19306ffb683072b5db4125df59ea7cd04b4fdd0d9baf97c/FlyAI-0.7.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1d74650a4e7011e58b56bd4652546be9", "sha256": "ef2d1d2ad6a03c40b9a12668b5ba8f105212309e8912b969788795af39868c05"}, "downloads": -1, "filename": "FlyAI-0.7.1.tar.gz", "has_sig": false, "md5_digest": "1d74650a4e7011e58b56bd4652546be9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17269735, "upload_time": "2020-04-08T07:30:45", "upload_time_iso_8601": "2020-04-08T07:30:45.056163Z", "url": "https://files.pythonhosted.org/packages/d0/b4/93d59d3e74e1c2fe3b94a83dfd8e2ebcde0208963d189808c30d1644679f/FlyAI-0.7.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 01:01:24 2020"}
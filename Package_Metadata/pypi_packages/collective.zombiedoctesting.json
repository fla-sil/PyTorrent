{"info": {"author": "Asko Soukka", "author_email": "asko.soukka@iki.fi", "bugtrack_url": null, "classifiers": ["Development Status :: 7 - Inactive", "Programming Language :: Python"], "description": "Fast functional JavaScript testing with Zombie.js\r\n=================================================\r\n\r\nZombie.js_ is a fast headless browser with all the JavaScript support Node.js_\r\nprovides. This package provides a function decorator, which allows Python\r\ndoctest-style functional JavaScript testing using Python-like CoffeeScript.\r\n\r\n**Disclaimer:** This is mostly an experiment. This wouldn't ever replace your\r\nexisting Selenium-stack, because Zombie.js, even when it works, is just an\r\nanother browser with its own quirks.\r\n\r\n.. _Zombie.js: http://zombie.labnotes.org/\r\n.. _Node.js: http://nodejs.org/\r\n\r\n\r\nRequirements\r\n------------\r\n\r\n- a UNIX like environment\r\n- Node.js_ must be installed\r\n- npm_ must be installed\r\n- ``coffee-script``, ``zombie`` and ``async`` packages must be installed using\r\n  npm\r\n- ``coffee``-executable must be found on the path\r\n\r\n.. _npm: http://npmjs.org/\r\n\r\nThe requirements should be filled, when you can run the following command on a\r\nconsole without it printing anything (returning any errors)::\r\n\r\n    $ echo \"require 'zombie'; require 'async'\"|coffee -s\r\n\r\n\r\nExample of use (with ``plone.app.testing``)\r\n-------------------------------------------\r\n\r\nStart with defining a functional testing fixture with ZServer (that will run\r\nyour Plone on localhost:55001 by default)::\r\n\r\n    from plone.app.testing import PLONE_FIXTURE\r\n    from plone.app.testing import FunctionalTesting\r\n\r\n    from plone.testing import z2\r\n\r\n    FUNCTIONAL_TESTING = FunctionalTesting(\r\n        bases=(PLONE_FIXTURE, z2.ZSERVER_FIXTURE), name=\"PloneFixture:ZServer\")\r\n\r\n\r\nThen write your functional JavaScript test as a doctest for your testmethod\r\nusing CoffeeScript instead of Python. Define the context (URL) of your test by\r\nusing the decorator (``@browser``) from ``collective.zombiedoctesting`` as\r\nshown below. You may use all the JavaScript that's provided by your context and\r\nthe global ``browser`` that represents Zombie.js' browser::\r\n\r\n    import unittest\r\n\r\n    from plone.app.testing import TEST_USER_NAME\r\n    from plone.app.testing import TEST_USER_PASSWORD\r\n\r\n    from collective.zombiedoctesting import browser\r\n\r\n    constants = {\r\n        \"TEST_USER_NAME\": TEST_USER_NAME,\r\n        \"TEST_USER_PASSWORD\": TEST_USER_PASSWORD\r\n        }\r\n\r\n\r\n    class LoginOverlayTest(unittest.TestCase):\r\n\r\n        layer = FUNCTIONAL_TESTING\r\n\r\n        @browser(\"http://localhost:55001/plone/\", mapping=constants)\r\n        def test_login(self):\r\n            \"\"\"\r\n            Let's start by looking up the login link using the jQuery available\r\n            on our site:\r\n\r\n            >>> console.log $(\"#personaltools-login\").text()\r\n            Log in\r\n\r\n            Clicking that link should not redirect us anywhere, but give us an\r\n            AJAX overlay with a login form.\r\n\r\n            >>> $(\"#personaltools-login\").click()\r\n            >>> console.log window.location.href\r\n            ... console.log $(\".pb-ajax #login-form\").text()\r\n            http://localhost:55001/plone/\r\n            Login Name\r\n            Password\r\n\r\n            Let's store that form as global (to be available between different\r\n            doctest examples) and fill it...\r\n\r\n            >>> global.form = $(\".pb-ajax #login-form\")\r\n            ... form.find(\"#__ac_name\").val(\"%(TEST_USER_NAME)s\")\r\n            ... form.find(\"#__ac_password\").val(\"%(TEST_USER_PASSWORD)s\")\r\n            ... console.log form.find(\"#__ac_name\").val()\r\n            ... console.log form.find(\"#__ac_password\").val()\r\n            %(TEST_USER_NAME)s\r\n            %(TEST_USER_PASSWORD)s\r\n\r\n            ... and click the button to log in.\r\n\r\n            >>> form.find(\"input[type='submit']\").click()\r\n            >>> console.log window.location.href\r\n            ... console.log browser.text(\".documentFirstHeading\")\r\n            http://localhost:55001/plone/login_form\r\n            You are now logged in\r\n\r\n            Uh oh, we were properly logged in, but we were redirected also, so\r\n            zombie is not a perfect browser yet.\r\n\r\n            Also, notice, that we couldn't use jQuery in testing the document\r\n            first heading (we used zombie's custom browser API), because the\r\n            context after the click is an AJAX-response without jQuery or any\r\n            other javascript.\r\n            \"\"\"\r\n\r\nNote that every parsed doctest-example (a line starting with *>>>*) is executed\r\nseparately, but you may use Node.js' ``global`` to make variables available\r\nbetween doctest-examples.\r\n\r\nIf you'd like to see the complete JavaScript generated to be run with zombie,\r\nyou may add ``debug=True`` into ``@browser``-decorator call.\r\n\r\nChangelog\r\n---------\r\n\r\n\r\n1.1.0 \u2013 2011-10-30\r\n------------------\r\n\r\n- First (hopefully) non-broken release.", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/datakurre/collective.zombiedoctesting/", "keywords": "corejet pivotal", "license": "GPL", "maintainer": "", "maintainer_email": "", "name": "collective.zombiedoctesting", "package_url": "https://pypi.org/project/collective.zombiedoctesting/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/collective.zombiedoctesting/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/datakurre/collective.zombiedoctesting/"}, "release_url": "https://pypi.org/project/collective.zombiedoctesting/1.1.0/", "requires_dist": null, "requires_python": null, "summary": "Fast functional JavaScript testing with Zombie.js", "version": "1.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"http://zombie.labnotes.org/\" rel=\"nofollow\">Zombie.js</a> is a fast headless browser with all the JavaScript support <a href=\"http://nodejs.org/\" rel=\"nofollow\">Node.js</a>\nprovides. This package provides a function decorator, which allows Python\ndoctest-style functional JavaScript testing using Python-like CoffeeScript.</p>\n<p><strong>Disclaimer:</strong> This is mostly an experiment. This wouldn\u2019t ever replace your\nexisting Selenium-stack, because Zombie.js, even when it works, is just an\nanother browser with its own quirks.</p>\n<div id=\"requirements\">\n<h2>Requirements</h2>\n<ul>\n<li>a UNIX like environment</li>\n<li><a href=\"http://nodejs.org/\" rel=\"nofollow\">Node.js</a> must be installed</li>\n<li><a href=\"http://npmjs.org/\" rel=\"nofollow\">npm</a> must be installed</li>\n<li><tt><span class=\"pre\">coffee-script</span></tt>, <tt>zombie</tt> and <tt>async</tt> packages must be installed using\nnpm</li>\n<li><tt>coffee</tt>-executable must be found on the path</li>\n</ul>\n<p>The requirements should be filled, when you can run the following command on a\nconsole without it printing anything (returning any errors):</p>\n<pre>$ echo \"require 'zombie'; require 'async'\"|coffee -s\n</pre>\n</div>\n<div id=\"example-of-use-with-plone-app-testing\">\n<h2>Example of use (with <tt>plone.app.testing</tt>)</h2>\n<p>Start with defining a functional testing fixture with ZServer (that will run\nyour Plone on localhost:55001 by default):</p>\n<pre>from plone.app.testing import PLONE_FIXTURE\nfrom plone.app.testing import FunctionalTesting\n\nfrom plone.testing import z2\n\nFUNCTIONAL_TESTING = FunctionalTesting(\n    bases=(PLONE_FIXTURE, z2.ZSERVER_FIXTURE), name=\"PloneFixture:ZServer\")\n</pre>\n<p>Then write your functional JavaScript test as a doctest for your testmethod\nusing CoffeeScript instead of Python. Define the context (URL) of your test by\nusing the decorator (<tt>@browser</tt>) from <tt>collective.zombiedoctesting</tt> as\nshown below. You may use all the JavaScript that\u2019s provided by your context and\nthe global <tt>browser</tt> that represents Zombie.js\u2019 browser:</p>\n<pre>import unittest\n\nfrom plone.app.testing import TEST_USER_NAME\nfrom plone.app.testing import TEST_USER_PASSWORD\n\nfrom collective.zombiedoctesting import browser\n\nconstants = {\n    \"TEST_USER_NAME\": TEST_USER_NAME,\n    \"TEST_USER_PASSWORD\": TEST_USER_PASSWORD\n    }\n\n\nclass LoginOverlayTest(unittest.TestCase):\n\n    layer = FUNCTIONAL_TESTING\n\n    @browser(\"http://localhost:55001/plone/\", mapping=constants)\n    def test_login(self):\n        \"\"\"\n        Let's start by looking up the login link using the jQuery available\n        on our site:\n\n        &gt;&gt;&gt; console.log $(\"#personaltools-login\").text()\n        Log in\n\n        Clicking that link should not redirect us anywhere, but give us an\n        AJAX overlay with a login form.\n\n        &gt;&gt;&gt; $(\"#personaltools-login\").click()\n        &gt;&gt;&gt; console.log window.location.href\n        ... console.log $(\".pb-ajax #login-form\").text()\n        http://localhost:55001/plone/\n        Login Name\n        Password\n\n        Let's store that form as global (to be available between different\n        doctest examples) and fill it...\n\n        &gt;&gt;&gt; global.form = $(\".pb-ajax #login-form\")\n        ... form.find(\"#__ac_name\").val(\"%(TEST_USER_NAME)s\")\n        ... form.find(\"#__ac_password\").val(\"%(TEST_USER_PASSWORD)s\")\n        ... console.log form.find(\"#__ac_name\").val()\n        ... console.log form.find(\"#__ac_password\").val()\n        %(TEST_USER_NAME)s\n        %(TEST_USER_PASSWORD)s\n\n        ... and click the button to log in.\n\n        &gt;&gt;&gt; form.find(\"input[type='submit']\").click()\n        &gt;&gt;&gt; console.log window.location.href\n        ... console.log browser.text(\".documentFirstHeading\")\n        http://localhost:55001/plone/login_form\n        You are now logged in\n\n        Uh oh, we were properly logged in, but we were redirected also, so\n        zombie is not a perfect browser yet.\n\n        Also, notice, that we couldn't use jQuery in testing the document\n        first heading (we used zombie's custom browser API), because the\n        context after the click is an AJAX-response without jQuery or any\n        other javascript.\n        \"\"\"\n</pre>\n<p>Note that every parsed doctest-example (a line starting with <em>&gt;&gt;&gt;</em>) is executed\nseparately, but you may use Node.js\u2019 <tt>global</tt> to make variables available\nbetween doctest-examples.</p>\n<p>If you\u2019d like to see the complete JavaScript generated to be run with zombie,\nyou may add <tt>debug=True</tt> into <tt>@browser</tt>-decorator call.</p>\n</div>\n<div id=\"changelog\">\n<h2>Changelog</h2>\n</div>\n<div id=\"id1\">\n<h2>1.1.0 \u2013 2011-10-30</h2>\n<ul>\n<li>First (hopefully) non-broken release.</li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 712821, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "803acfa00d207c1cfe33dd1e20e4f099", "sha256": "f645b3e3343cec7d881a8eab7dd7b2a075d01658f4af0ee8f96cc197f140441e"}, "downloads": -1, "filename": "collective.zombiedoctesting-1.0.zip", "has_sig": false, "md5_digest": "803acfa00d207c1cfe33dd1e20e4f099", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7541, "upload_time": "2011-10-30T19:32:11", "upload_time_iso_8601": "2011-10-30T19:32:11.600689Z", "url": "https://files.pythonhosted.org/packages/16/b9/c0d1518123d42e1a34ebc54d09dde2145d661736af2b12d1f9075e2f80f5/collective.zombiedoctesting-1.0.zip", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "d4981757f1054ef427cb1e65b30cffeb", "sha256": "36b19aa70754ab6538484382d77a1f7bfd66d2e38fae83c266c80b8eea564fde"}, "downloads": -1, "filename": "collective.zombiedoctesting-1.1.0.zip", "has_sig": false, "md5_digest": "d4981757f1054ef427cb1e65b30cffeb", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16990, "upload_time": "2012-04-27T16:20:20", "upload_time_iso_8601": "2012-04-27T16:20:20.839013Z", "url": "https://files.pythonhosted.org/packages/b1/82/8d0d397c7ae62ca02b7daf48a36db9bed350803d889a5f69206f154aaa0c/collective.zombiedoctesting-1.1.0.zip", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "d4981757f1054ef427cb1e65b30cffeb", "sha256": "36b19aa70754ab6538484382d77a1f7bfd66d2e38fae83c266c80b8eea564fde"}, "downloads": -1, "filename": "collective.zombiedoctesting-1.1.0.zip", "has_sig": false, "md5_digest": "d4981757f1054ef427cb1e65b30cffeb", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16990, "upload_time": "2012-04-27T16:20:20", "upload_time_iso_8601": "2012-04-27T16:20:20.839013Z", "url": "https://files.pythonhosted.org/packages/b1/82/8d0d397c7ae62ca02b7daf48a36db9bed350803d889a5f69206f154aaa0c/collective.zombiedoctesting-1.1.0.zip", "yanked": false}], "timestamp": "Fri May  8 00:44:40 2020"}
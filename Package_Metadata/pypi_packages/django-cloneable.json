{"info": {"author": "David Danier", "author_email": "david.danier@team23.de", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Web Environment", "Framework :: Django", "Framework :: Django :: 1.8", "Framework :: Django :: 1.9", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Natural Language :: English", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.5"], "description": "django-cloneable\n================\n\n|pypi-badge| |build-status|\n\n.. |build-status| image:: https://travis-ci.org/team23/django_cloneable.svg\n    :target: https://travis-ci.org/team23/django_cloneable\n\n.. |pypi-badge| image:: https://img.shields.io/pypi/v/django-cloneable.svg\n    :target: https://pypi.python.org/pypi/django-cloneable\n\n**django-cloneable** provides a ``CloneableMixin`` class that has a ``clone()``\nmethod. It can be mixed into any Django model.\n\nThe ``clone()`` method must be called on an already saved instance (one that\nhas ``pk`` set). It then returns a new instance of the model that has all the\nsame field values as the original instance, but it will be a seperate database\nrow with a distinct primary key.\n\nAn example:\n\n.. code:: python\n\n    from django.db import models\n    from django_cloneable import CloneableMixin\n\n    class Ingredient(CloneableMixin, models.Model):\n        name = models.CharField(max_length=50)\n        is_spicy = models.BooleanField(default=False)\n\n    class Pizza(CloneableMixin, models.Model):\n        name = models.CharField(max_length=50)\n        price = models.IntegerField()\n        ingredients = models.ManyToManyField(Ingredient)\n\n    tomatos = Ingredient.objects.create(name='Tomato', is_spicy=False)\n    cheese = Ingredient.objects.create(name='Cheese', is_spicy=False)\n    chili = Ingredient.objects.create(name='Chili', is_spicy=True)\n\n    margarita = Pizza.objects.create(name='Margarita')\n    margarita.ingredients.add(tomatos)\n    margarita.ingredients.add(cheese)\n\n    diabolo = margarita.clone(attrs={'name': 'Diabolo'})\n    diabolo.ingerdients.add(chili)\n\n    # Nothing has changed on the original instance.\n    assert margarita.name == 'Margarita'\n    assert margarita.ingredients.all() == [tomatos, cheese]\n\n    # The original m2m values were copied, and the new values were added.\n    assert diabolo.name == 'Diabolo'\n    assert diabolo.ingredients.all() == [tomatos, cheese, chili]\n\nAs shown in the example, you can provide the ``attrs`` that shall be replaced\nin the cloned object. That lets you change the cloned instance before it gets\nsaved. By default the clone will be saved to the database, so that it has\n``pk`` when it gets returned.\n\nThere are numerous hooks on how you can modify the cloning logic. The best way\nto learn about them is to have a look at the implementation of\n``CloneableMixin``.\n\nDevelopment\n-----------\n\nInstall the dependencies (including the test dependencies) with::\n\n    pip install -r requirements.txt\n\nThen you can run all tests with::\n\n    tox\n\n\nChangelog\n=========\n\n0.1.0\n-----\n\n- Initial release.", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/team23/django_cloneable", "keywords": null, "license": "BSD licence, see LICENSE file", "maintainer": null, "maintainer_email": null, "name": "django-cloneable", "package_url": "https://pypi.org/project/django-cloneable/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/django-cloneable/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/team23/django_cloneable"}, "release_url": "https://pypi.org/project/django-cloneable/0.1.0/", "requires_dist": null, "requires_python": null, "summary": "Let's you clone a Django model instance including many to many fields", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"django-cloneable\">\n<h2>django-cloneable</h2>\n<p><a href=\"https://pypi.python.org/pypi/django-cloneable\" rel=\"nofollow\"><img alt=\"pypi-badge\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/383a4f17b4994ae7e2878d65c45f8aac7ab2c5b0/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f646a616e676f2d636c6f6e6561626c652e737667\"></a> <a href=\"https://travis-ci.org/team23/django_cloneable\" rel=\"nofollow\"><img alt=\"build-status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3179340b9821b41a7f332548d1e5d298f9a43bc8/68747470733a2f2f7472617669732d63692e6f72672f7465616d32332f646a616e676f5f636c6f6e6561626c652e737667\"></a></p>\n<p><strong>django-cloneable</strong> provides a <tt>CloneableMixin</tt> class that has a <tt>clone()</tt>\nmethod. It can be mixed into any Django model.</p>\n<p>The <tt>clone()</tt> method must be called on an already saved instance (one that\nhas <tt>pk</tt> set). It then returns a new instance of the model that has all the\nsame field values as the original instance, but it will be a seperate database\nrow with a distinct primary key.</p>\n<p>An example:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_cloneable</span> <span class=\"kn\">import</span> <span class=\"n\">CloneableMixin</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Ingredient</span><span class=\"p\">(</span><span class=\"n\">CloneableMixin</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">50</span><span class=\"p\">)</span>\n    <span class=\"n\">is_spicy</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">BooleanField</span><span class=\"p\">(</span><span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Pizza</span><span class=\"p\">(</span><span class=\"n\">CloneableMixin</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">50</span><span class=\"p\">)</span>\n    <span class=\"n\">price</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">IntegerField</span><span class=\"p\">()</span>\n    <span class=\"n\">ingredients</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">ManyToManyField</span><span class=\"p\">(</span><span class=\"n\">Ingredient</span><span class=\"p\">)</span>\n\n<span class=\"n\">tomatos</span> <span class=\"o\">=</span> <span class=\"n\">Ingredient</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'Tomato'</span><span class=\"p\">,</span> <span class=\"n\">is_spicy</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n<span class=\"n\">cheese</span> <span class=\"o\">=</span> <span class=\"n\">Ingredient</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'Cheese'</span><span class=\"p\">,</span> <span class=\"n\">is_spicy</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n<span class=\"n\">chili</span> <span class=\"o\">=</span> <span class=\"n\">Ingredient</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'Chili'</span><span class=\"p\">,</span> <span class=\"n\">is_spicy</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"n\">margarita</span> <span class=\"o\">=</span> <span class=\"n\">Pizza</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'Margarita'</span><span class=\"p\">)</span>\n<span class=\"n\">margarita</span><span class=\"o\">.</span><span class=\"n\">ingredients</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">tomatos</span><span class=\"p\">)</span>\n<span class=\"n\">margarita</span><span class=\"o\">.</span><span class=\"n\">ingredients</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">cheese</span><span class=\"p\">)</span>\n\n<span class=\"n\">diabolo</span> <span class=\"o\">=</span> <span class=\"n\">margarita</span><span class=\"o\">.</span><span class=\"n\">clone</span><span class=\"p\">(</span><span class=\"n\">attrs</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Diabolo'</span><span class=\"p\">})</span>\n<span class=\"n\">diabolo</span><span class=\"o\">.</span><span class=\"n\">ingerdients</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">chili</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Nothing has changed on the original instance.</span>\n<span class=\"k\">assert</span> <span class=\"n\">margarita</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"s1\">'Margarita'</span>\n<span class=\"k\">assert</span> <span class=\"n\">margarita</span><span class=\"o\">.</span><span class=\"n\">ingredients</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"p\">[</span><span class=\"n\">tomatos</span><span class=\"p\">,</span> <span class=\"n\">cheese</span><span class=\"p\">]</span>\n\n<span class=\"c1\"># The original m2m values were copied, and the new values were added.</span>\n<span class=\"k\">assert</span> <span class=\"n\">diabolo</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"s1\">'Diabolo'</span>\n<span class=\"k\">assert</span> <span class=\"n\">diabolo</span><span class=\"o\">.</span><span class=\"n\">ingredients</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"p\">[</span><span class=\"n\">tomatos</span><span class=\"p\">,</span> <span class=\"n\">cheese</span><span class=\"p\">,</span> <span class=\"n\">chili</span><span class=\"p\">]</span>\n</pre>\n<p>As shown in the example, you can provide the <tt>attrs</tt> that shall be replaced\nin the cloned object. That lets you change the cloned instance before it gets\nsaved. By default the clone will be saved to the database, so that it has\n<tt>pk</tt> when it gets returned.</p>\n<p>There are numerous hooks on how you can modify the cloning logic. The best way\nto learn about them is to have a look at the implementation of\n<tt>CloneableMixin</tt>.</p>\n<div id=\"development\">\n<h3>Development</h3>\n<p>Install the dependencies (including the test dependencies) with:</p>\n<pre>pip install -r requirements.txt\n</pre>\n<p>Then you can run all tests with:</p>\n<pre>tox\n</pre>\n</div>\n</div>\n<div id=\"changelog\">\n<h2>Changelog</h2>\n<h2 id=\"id1\"><span class=\"section-subtitle\">0.1.0</span></h2>\n<ul>\n<li>Initial release.</li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 4304482, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "97cbdb908bfc46b8d6a7925515a8aa21", "sha256": "23a5e56d27503c06b59b60df39465ab0426eadff96ffb6d20ae910373bef156e"}, "downloads": -1, "filename": "django-cloneable-0.1.0.tar.gz", "has_sig": false, "md5_digest": "97cbdb908bfc46b8d6a7925515a8aa21", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7033, "upload_time": "2016-04-05T08:35:01", "upload_time_iso_8601": "2016-04-05T08:35:01.789225Z", "url": "https://files.pythonhosted.org/packages/dd/06/ec96c0e5c5ead72a052a5c3b72a40e6d4a835d17af086e39de0286123c50/django-cloneable-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "97cbdb908bfc46b8d6a7925515a8aa21", "sha256": "23a5e56d27503c06b59b60df39465ab0426eadff96ffb6d20ae910373bef156e"}, "downloads": -1, "filename": "django-cloneable-0.1.0.tar.gz", "has_sig": false, "md5_digest": "97cbdb908bfc46b8d6a7925515a8aa21", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7033, "upload_time": "2016-04-05T08:35:01", "upload_time_iso_8601": "2016-04-05T08:35:01.789225Z", "url": "https://files.pythonhosted.org/packages/dd/06/ec96c0e5c5ead72a052a5c3b72a40e6d4a835d17af086e39de0286123c50/django-cloneable-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:37:06 2020"}
{"info": {"author": "Dawid Kraczkowski", "author_email": "dawid.kraczkowski@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Internet :: WWW/HTTP :: WSGI :: Application", "Topic :: Internet :: WWW/HTTP :: WSGI :: Middleware", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# Chocs [![Build Status](https://travis-ci.org/kodemore/chocs.svg?branch=master)](https://travis-ci.org/kodemore/chocs) [![codecov](https://codecov.io/gh/kodemore/chocs/branch/master/graph/badge.svg)](https://codecov.io/gh/kodemore/chocs) [![Maintainability](https://api.codeclimate.com/v1/badges/9e3c979283b2361a9174/maintainability)](https://codeclimate.com/github/kodemore/chocs/maintainability)\nChocs is a modern HTTP framework for WSGI compatible servers. Chocs aims to be small, expressive, and robust. \nIt provides an elegant API for writing fault-proof, extensible microservices.  \n\n## Features\n\n - Elegant and easy API\n - No additional bloat like built-in template engines, session handlers, etc.\n - Compatible with all WSGI servers\n - Loosely coupled components which can be used separately\n - Multipart body parsing\n - Graceful error handling\n - HTTP middleware support\n - Fast routing\n\n## Installation\n```\npip install chocs\n```\n\n# Usage\n\n## Quick start\n\n```python\nfrom chocs import HttpRequest, HttpResponse, router, serve\n\n@router.get(\"/hello/{name}\")\ndef hello(request: HttpRequest) -> HttpResponse:\n    return HttpResponse(f\"Hello {request.attributes['name']}!\")\n\nserve()\n```\n\n > Keep in mind that the `serve()` function is using the `bjoern` package, so make sure you included it in your project \n > dependencies before using it. You are able to use any WSGI compatible server.\n\n## Running application with Gunicorn (or any other WSGI server)\n\n```python\n# myapp.py\nfrom chocs import Application, HttpRequest, HttpResponse, router\n\n@router.get(\"/hello/{name}*\")\ndef hello(request: HttpRequest) -> HttpResponse:\n    return HttpResponse(f\"Hello {request.attributes['name']}!\")\n\napp = Application(router)\n```\n\n```bash\ngunicorn -w 4 myapp:app\n```\n\n## Routing\nChocs is shipped with a built-in routing module. The easiest way to utilise chocs' routing is to use `chocs.router` object.\n`chocs.router` is an instance of the module's internal class `chocs.chocs.ApplicationRouter`, which provides a simple API \nwhere each function is a decorator corresponding to an HTTP method.\n\n```python\nfrom chocs import router, HttpResponse, HttpRequest\n\n@router.get(\"/hello\")\ndef hello(req: HttpRequest) -> HttpResponse:\n    ...\n```\n\nThe above example will assign the hello function to handle a `GET /hello` request. \n\nAvailable methods:\n- `delete`\n- `get`\n- `head`\n- `options`\n- `patch`\n- `post`\n- `put`\n- `trace`\n\n### Parametrized routes\n\nRoutes can contain parameterised parts. Parameters must be enclosed within `{` and `}`.\n\n```python\nfrom chocs import router\n\n@router.get(\"/pet/{id}\")\ndef hello():\n    ...\n```\nWill match the following URIs:\n - `/pet/1`\n - `/pet/abc`\n - `/pet/abc1`\n\nAdvanced matching can be achieved by passing a regex to the function.\nConsider the following example:\n\n```python\nfrom chocs import router\n\n@router.get(\"/pet/{id}\", id=r\"\\d+\")\ndef hello():\n    ...\n```\nThis restricts the `id` parameter to accept only digits, so `/pet/abc` and `/pet/abc1` will no longer match route's \npattern.\n \n### Wildcard routes\n\nAsterisks (`*`) can be used in the route's pattern to match any possible combination. Keep in mind that routes which \n_do not_ contain wildcards are prioritised over routes with wildcards.\n\n```python\nfrom chocs import router\n\n@router.get(\"/pet/*\", id)\ndef hello():\n    ...\n```\n\nThe above example will match following URIs:\n- `/pet/a`\n- `/pet/a/b/c`\n- `/pet/12jd/fds`\n\n## Defining and using a custom middleware\n\nMiddleware are functions or classes that inherit `chocs.middleware.Middleware`. Middlewares have access to the request \nobject and the next function is used to control middleware stack flow. Successful middleware execution should call\nthe `next` function *(which accepts a `chocs.HttpRequest` instance and returns `chocs.HttpReponse`)* and return a\nvalid `chocs.HttpResponse` instance.\n\nMiddlewares can perform various tasks:\n - Making changes in request/response objects ending\n - Validating input data\n - Authenticating users\n - End request-response cycle\n - Connecting to external data sources\n \nMiddlewares are different to functions decorated by `router.*` decorators as they are executed every time a request \nhappens and they are not bound to the URI.\n \n```python\nfrom chocs import HttpRequest, HttpResponse, serve\nfrom chocs.middleware import MiddlewareHandler\n\ndef my_custom_middleware(request: HttpRequest, next: MiddlewareHandler) -> HttpResponse:\n    name = request.query_string.get(\"name\", \"John\")\n    return HttpResponse(body=f\"Hello {name}\")\n\nserve(my_custom_middleware)\n```\n\n## Request\n`chocs.Request` object is an abstraction around WSGI's environment and `wsgi.input` data with handy interface \nto ease everyday work.\n\n#### `chocs.Request.headers:dict`\nKeeps parsed headers in dict-like object.\n\n#### `chocs.Request.body:io.BytesIO` \nRaw body data\n\n#### `Request.parsed_body:chocs.message.RequestBody`\nDepending on the content type it could be one of the following:\n - `chocs.message.FormBody`\n - `chocs.message.JsonBody`\n - `chocs.message.MultiPartBody`\n \n#### `chocs.Request.cookies:typing.List[chocs.cookies.Cookie]` \nRequest's cookies\n\n#### `chocs.Request.method:chocs.HttpMethod`\nThe request's method\n\n#### `chocs.Request.uri:str`\nThe request's URI\n\n#### `chocs.Request.query_string:chocs.QueryString`\nA dict like object with parsed query string with JSON forms support\n        \n#### `chocs.Request.attributes:dict`\nMatched route attributes, for example when `/users/john` matches the `/users/{name}` route, attributes will contain a \n`name` key with a value of `john`\n\n## Response\n`chocs.Response` object is a part of request-response flow and it is required to be returned by all functions\ndecorated with `router.*` method. Instance of the response class is recognised by `chocs.Application` and used to \ngenerate real response served to your clients.\n\n#### `chocs.Response.body: io.BytesIO` \nBody served to server's clients.\n\n### `chocs.Response.status_code: Union[chocs.HttpStatus, int]`\nValid response code, instance of `chocs.HttpStatus` enum can be used or just a status code's number.\n\n#### `chocs.Request.headers (read-only)`\nKeeps parsed headers in dict-like object. This property is read-only and can be set only on object instantiation.\n\n#### `chocs.Response.cookies:typing.List[chocs.cookies.Cookie]` \nResponse's cookies\n\n#### `chocs.Response.write(body: Union[bytes, str, bytearray])`\nWrite bytes to response body\n\n#### `chocs.Response.close()`\nMakes body non-writable.\n\n#### `chocs.Response.writable: bool`\nIndicates whether response's body is writable.\n\n## Working with cookies\n\n`chocs.CookieJar` object takes care of cookie handling. It can be accessed in dict-like manner, when item is requested,\ninstance of `chocs.Cookie` is returned to user. \n\nCookies can be set either by passing string value to the `chocs.CookieJar`'s key, or by calling `chocs.CookieJar.append` \nmethod which accepts instance of `chocs.Cookie`.\n\n### Reading client cookies\n\nCookies can be easily accessed from `chocs.Request.cookies` object which is injected as a parameter to each function \nregistered as route handler. Consider the following example:\n\n```python\nfrom chocs import HttpRequest, HttpResponse, serve, router\n\n\n@router.get(\"/cookies\")\ndef read_cookies(request: HttpRequest) -> HttpResponse:\n\n    message = \"Hello\"\n    if \"user_name\" in request.cookies:\n        message += f\", {str(request.cookies['user_name'])}\"\n    message += \"!\"\n\n    return HttpResponse(body=message)\n\nserve()\n```\n\n### Setting cookies\n```python\nfrom chocs import HttpRequest, HttpResponse, serve, router, Cookie\nfrom datetime import datetime\n\n\n@router.get(\"/cookies\")\ndef read_cookies(request: HttpRequest) -> HttpResponse:\n    response = HttpResponse(body=\"Hi! I have baked some cookies for ya!\")\n    response.cookies['simple-cookie'] = \"Simple cookie for simple people\"\n    response.cookies.append(Cookie(\"advanced-cookie\", \"This cookie will expire in 2021-01-01\", expires=datetime(2021, 1, 1)))\n    return response\n\nserve()\n```\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/kodemore/chocs", "keywords": "http framework,wsgi application,router,request,response,cookies,routing,rest,http,wsgi", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "chocs", "package_url": "https://pypi.org/project/chocs/", "platform": "", "project_url": "https://pypi.org/project/chocs/", "project_urls": {"Documentation": "https://github.com/kodemore/chocs", "Homepage": "https://github.com/kodemore/chocs", "Repository": "https://github.com/kodemore/chocs"}, "release_url": "https://pypi.org/project/chocs/0.2.6/", "requires_dist": ["typing_extensions (>=3.7.4,<4.0.0)"], "requires_python": ">=3.7,<4.0", "summary": "Lightweight and powerful wsgi rest framework for rapid building applications based on wsgi servers.", "version": "0.2.6", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Chocs <a href=\"https://travis-ci.org/kodemore/chocs\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6f34d8a8f05fcb7c2a32696d9956ba83721a6e09/68747470733a2f2f7472617669732d63692e6f72672f6b6f64656d6f72652f63686f63732e7376673f6272616e63683d6d6173746572\"></a> <a href=\"https://codecov.io/gh/kodemore/chocs\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/20e98fba27e26ea2e16a998dc20eb0350c535d26/68747470733a2f2f636f6465636f762e696f2f67682f6b6f64656d6f72652f63686f63732f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a> <a href=\"https://codeclimate.com/github/kodemore/chocs/maintainability\" rel=\"nofollow\"><img alt=\"Maintainability\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6b7850d85d681396456b8a906b7961cd95fb0279/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f39653363393739323833623233363161393137342f6d61696e7461696e6162696c697479\"></a></h1>\n<p>Chocs is a modern HTTP framework for WSGI compatible servers. Chocs aims to be small, expressive, and robust.\nIt provides an elegant API for writing fault-proof, extensible microservices.</p>\n<h2>Features</h2>\n<ul>\n<li>Elegant and easy API</li>\n<li>No additional bloat like built-in template engines, session handlers, etc.</li>\n<li>Compatible with all WSGI servers</li>\n<li>Loosely coupled components which can be used separately</li>\n<li>Multipart body parsing</li>\n<li>Graceful error handling</li>\n<li>HTTP middleware support</li>\n<li>Fast routing</li>\n</ul>\n<h2>Installation</h2>\n<pre><code>pip install chocs\n</code></pre>\n<h1>Usage</h1>\n<h2>Quick start</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">chocs</span> <span class=\"kn\">import</span> <span class=\"n\">HttpRequest</span><span class=\"p\">,</span> <span class=\"n\">HttpResponse</span><span class=\"p\">,</span> <span class=\"n\">router</span><span class=\"p\">,</span> <span class=\"n\">serve</span>\n\n<span class=\"nd\">@router</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/hello/</span><span class=\"si\">{name}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">:</span> <span class=\"n\">HttpRequest</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">HttpResponse</span><span class=\"p\">:</span>\n    <span class=\"k\">return</span> <span class=\"n\">HttpResponse</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">\"Hello </span><span class=\"si\">{</span><span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">attributes</span><span class=\"p\">[</span><span class=\"s1\">'name'</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">!\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">serve</span><span class=\"p\">()</span>\n</pre>\n<blockquote>\n<p>Keep in mind that the <code>serve()</code> function is using the <code>bjoern</code> package, so make sure you included it in your project\ndependencies before using it. You are able to use any WSGI compatible server.</p>\n</blockquote>\n<h2>Running application with Gunicorn (or any other WSGI server)</h2>\n<pre><span class=\"c1\"># myapp.py</span>\n<span class=\"kn\">from</span> <span class=\"nn\">chocs</span> <span class=\"kn\">import</span> <span class=\"n\">Application</span><span class=\"p\">,</span> <span class=\"n\">HttpRequest</span><span class=\"p\">,</span> <span class=\"n\">HttpResponse</span><span class=\"p\">,</span> <span class=\"n\">router</span>\n\n<span class=\"nd\">@router</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/hello/</span><span class=\"si\">{name}</span><span class=\"s2\">*\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">:</span> <span class=\"n\">HttpRequest</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">HttpResponse</span><span class=\"p\">:</span>\n    <span class=\"k\">return</span> <span class=\"n\">HttpResponse</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">\"Hello </span><span class=\"si\">{</span><span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">attributes</span><span class=\"p\">[</span><span class=\"s1\">'name'</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s2\">!\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">Application</span><span class=\"p\">(</span><span class=\"n\">router</span><span class=\"p\">)</span>\n</pre>\n<pre>gunicorn -w <span class=\"m\">4</span> myapp:app\n</pre>\n<h2>Routing</h2>\n<p>Chocs is shipped with a built-in routing module. The easiest way to utilise chocs' routing is to use <code>chocs.router</code> object.\n<code>chocs.router</code> is an instance of the module's internal class <code>chocs.chocs.ApplicationRouter</code>, which provides a simple API\nwhere each function is a decorator corresponding to an HTTP method.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">chocs</span> <span class=\"kn\">import</span> <span class=\"n\">router</span><span class=\"p\">,</span> <span class=\"n\">HttpResponse</span><span class=\"p\">,</span> <span class=\"n\">HttpRequest</span>\n\n<span class=\"nd\">@router</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/hello\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">(</span><span class=\"n\">req</span><span class=\"p\">:</span> <span class=\"n\">HttpRequest</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">HttpResponse</span><span class=\"p\">:</span>\n    <span class=\"o\">...</span>\n</pre>\n<p>The above example will assign the hello function to handle a <code>GET /hello</code> request.</p>\n<p>Available methods:</p>\n<ul>\n<li><code>delete</code></li>\n<li><code>get</code></li>\n<li><code>head</code></li>\n<li><code>options</code></li>\n<li><code>patch</code></li>\n<li><code>post</code></li>\n<li><code>put</code></li>\n<li><code>trace</code></li>\n</ul>\n<h3>Parametrized routes</h3>\n<p>Routes can contain parameterised parts. Parameters must be enclosed within <code>{</code> and <code>}</code>.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">chocs</span> <span class=\"kn\">import</span> <span class=\"n\">router</span>\n\n<span class=\"nd\">@router</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/pet/</span><span class=\"si\">{id}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">():</span>\n    <span class=\"o\">...</span>\n</pre>\n<p>Will match the following URIs:</p>\n<ul>\n<li><code>/pet/1</code></li>\n<li><code>/pet/abc</code></li>\n<li><code>/pet/abc1</code></li>\n</ul>\n<p>Advanced matching can be achieved by passing a regex to the function.\nConsider the following example:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">chocs</span> <span class=\"kn\">import</span> <span class=\"n\">router</span>\n\n<span class=\"nd\">@router</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/pet/</span><span class=\"si\">{id}</span><span class=\"s2\">\"</span><span class=\"p\">,</span> <span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"sa\">r</span><span class=\"s2\">\"\\d+\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">():</span>\n    <span class=\"o\">...</span>\n</pre>\n<p>This restricts the <code>id</code> parameter to accept only digits, so <code>/pet/abc</code> and <code>/pet/abc1</code> will no longer match route's\npattern.</p>\n<h3>Wildcard routes</h3>\n<p>Asterisks (<code>*</code>) can be used in the route's pattern to match any possible combination. Keep in mind that routes which\n<em>do not</em> contain wildcards are prioritised over routes with wildcards.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">chocs</span> <span class=\"kn\">import</span> <span class=\"n\">router</span>\n\n<span class=\"nd\">@router</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/pet/*\"</span><span class=\"p\">,</span> <span class=\"nb\">id</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">():</span>\n    <span class=\"o\">...</span>\n</pre>\n<p>The above example will match following URIs:</p>\n<ul>\n<li><code>/pet/a</code></li>\n<li><code>/pet/a/b/c</code></li>\n<li><code>/pet/12jd/fds</code></li>\n</ul>\n<h2>Defining and using a custom middleware</h2>\n<p>Middleware are functions or classes that inherit <code>chocs.middleware.Middleware</code>. Middlewares have access to the request\nobject and the next function is used to control middleware stack flow. Successful middleware execution should call\nthe <code>next</code> function <em>(which accepts a <code>chocs.HttpRequest</code> instance and returns <code>chocs.HttpReponse</code>)</em> and return a\nvalid <code>chocs.HttpResponse</code> instance.</p>\n<p>Middlewares can perform various tasks:</p>\n<ul>\n<li>Making changes in request/response objects ending</li>\n<li>Validating input data</li>\n<li>Authenticating users</li>\n<li>End request-response cycle</li>\n<li>Connecting to external data sources</li>\n</ul>\n<p>Middlewares are different to functions decorated by <code>router.*</code> decorators as they are executed every time a request\nhappens and they are not bound to the URI.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">chocs</span> <span class=\"kn\">import</span> <span class=\"n\">HttpRequest</span><span class=\"p\">,</span> <span class=\"n\">HttpResponse</span><span class=\"p\">,</span> <span class=\"n\">serve</span>\n<span class=\"kn\">from</span> <span class=\"nn\">chocs.middleware</span> <span class=\"kn\">import</span> <span class=\"n\">MiddlewareHandler</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">my_custom_middleware</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">:</span> <span class=\"n\">HttpRequest</span><span class=\"p\">,</span> <span class=\"nb\">next</span><span class=\"p\">:</span> <span class=\"n\">MiddlewareHandler</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">HttpResponse</span><span class=\"p\">:</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">query_string</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"name\"</span><span class=\"p\">,</span> <span class=\"s2\">\"John\"</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">HttpResponse</span><span class=\"p\">(</span><span class=\"n\">body</span><span class=\"o\">=</span><span class=\"sa\">f</span><span class=\"s2\">\"Hello </span><span class=\"si\">{</span><span class=\"n\">name</span><span class=\"si\">}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">serve</span><span class=\"p\">(</span><span class=\"n\">my_custom_middleware</span><span class=\"p\">)</span>\n</pre>\n<h2>Request</h2>\n<p><code>chocs.Request</code> object is an abstraction around WSGI's environment and <code>wsgi.input</code> data with handy interface\nto ease everyday work.</p>\n<h4><code>chocs.Request.headers:dict</code></h4>\n<p>Keeps parsed headers in dict-like object.</p>\n<h4><code>chocs.Request.body:io.BytesIO</code></h4>\n<p>Raw body data</p>\n<h4><code>Request.parsed_body:chocs.message.RequestBody</code></h4>\n<p>Depending on the content type it could be one of the following:</p>\n<ul>\n<li><code>chocs.message.FormBody</code></li>\n<li><code>chocs.message.JsonBody</code></li>\n<li><code>chocs.message.MultiPartBody</code></li>\n</ul>\n<h4><code>chocs.Request.cookies:typing.List[chocs.cookies.Cookie]</code></h4>\n<p>Request's cookies</p>\n<h4><code>chocs.Request.method:chocs.HttpMethod</code></h4>\n<p>The request's method</p>\n<h4><code>chocs.Request.uri:str</code></h4>\n<p>The request's URI</p>\n<h4><code>chocs.Request.query_string:chocs.QueryString</code></h4>\n<p>A dict like object with parsed query string with JSON forms support</p>\n<h4><code>chocs.Request.attributes:dict</code></h4>\n<p>Matched route attributes, for example when <code>/users/john</code> matches the <code>/users/{name}</code> route, attributes will contain a\n<code>name</code> key with a value of <code>john</code></p>\n<h2>Response</h2>\n<p><code>chocs.Response</code> object is a part of request-response flow and it is required to be returned by all functions\ndecorated with <code>router.*</code> method. Instance of the response class is recognised by <code>chocs.Application</code> and used to\ngenerate real response served to your clients.</p>\n<h4><code>chocs.Response.body: io.BytesIO</code></h4>\n<p>Body served to server's clients.</p>\n<h3><code>chocs.Response.status_code: Union[chocs.HttpStatus, int]</code></h3>\n<p>Valid response code, instance of <code>chocs.HttpStatus</code> enum can be used or just a status code's number.</p>\n<h4><code>chocs.Request.headers (read-only)</code></h4>\n<p>Keeps parsed headers in dict-like object. This property is read-only and can be set only on object instantiation.</p>\n<h4><code>chocs.Response.cookies:typing.List[chocs.cookies.Cookie]</code></h4>\n<p>Response's cookies</p>\n<h4><code>chocs.Response.write(body: Union[bytes, str, bytearray])</code></h4>\n<p>Write bytes to response body</p>\n<h4><code>chocs.Response.close()</code></h4>\n<p>Makes body non-writable.</p>\n<h4><code>chocs.Response.writable: bool</code></h4>\n<p>Indicates whether response's body is writable.</p>\n<h2>Working with cookies</h2>\n<p><code>chocs.CookieJar</code> object takes care of cookie handling. It can be accessed in dict-like manner, when item is requested,\ninstance of <code>chocs.Cookie</code> is returned to user.</p>\n<p>Cookies can be set either by passing string value to the <code>chocs.CookieJar</code>'s key, or by calling <code>chocs.CookieJar.append</code>\nmethod which accepts instance of <code>chocs.Cookie</code>.</p>\n<h3>Reading client cookies</h3>\n<p>Cookies can be easily accessed from <code>chocs.Request.cookies</code> object which is injected as a parameter to each function\nregistered as route handler. Consider the following example:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">chocs</span> <span class=\"kn\">import</span> <span class=\"n\">HttpRequest</span><span class=\"p\">,</span> <span class=\"n\">HttpResponse</span><span class=\"p\">,</span> <span class=\"n\">serve</span><span class=\"p\">,</span> <span class=\"n\">router</span>\n\n\n<span class=\"nd\">@router</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/cookies\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">read_cookies</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">:</span> <span class=\"n\">HttpRequest</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">HttpResponse</span><span class=\"p\">:</span>\n\n    <span class=\"n\">message</span> <span class=\"o\">=</span> <span class=\"s2\">\"Hello\"</span>\n    <span class=\"k\">if</span> <span class=\"s2\">\"user_name\"</span> <span class=\"ow\">in</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">cookies</span><span class=\"p\">:</span>\n        <span class=\"n\">message</span> <span class=\"o\">+=</span> <span class=\"sa\">f</span><span class=\"s2\">\", </span><span class=\"si\">{</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">cookies</span><span class=\"p\">[</span><span class=\"s1\">'user_name'</span><span class=\"p\">])</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n    <span class=\"n\">message</span> <span class=\"o\">+=</span> <span class=\"s2\">\"!\"</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">HttpResponse</span><span class=\"p\">(</span><span class=\"n\">body</span><span class=\"o\">=</span><span class=\"n\">message</span><span class=\"p\">)</span>\n\n<span class=\"n\">serve</span><span class=\"p\">()</span>\n</pre>\n<h3>Setting cookies</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">chocs</span> <span class=\"kn\">import</span> <span class=\"n\">HttpRequest</span><span class=\"p\">,</span> <span class=\"n\">HttpResponse</span><span class=\"p\">,</span> <span class=\"n\">serve</span><span class=\"p\">,</span> <span class=\"n\">router</span><span class=\"p\">,</span> <span class=\"n\">Cookie</span>\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n\n\n<span class=\"nd\">@router</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/cookies\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">read_cookies</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">:</span> <span class=\"n\">HttpRequest</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">HttpResponse</span><span class=\"p\">:</span>\n    <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">HttpResponse</span><span class=\"p\">(</span><span class=\"n\">body</span><span class=\"o\">=</span><span class=\"s2\">\"Hi! I have baked some cookies for ya!\"</span><span class=\"p\">)</span>\n    <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">cookies</span><span class=\"p\">[</span><span class=\"s1\">'simple-cookie'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"Simple cookie for simple people\"</span>\n    <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">cookies</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">Cookie</span><span class=\"p\">(</span><span class=\"s2\">\"advanced-cookie\"</span><span class=\"p\">,</span> <span class=\"s2\">\"This cookie will expire in 2021-01-01\"</span><span class=\"p\">,</span> <span class=\"n\">expires</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2021</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)))</span>\n    <span class=\"k\">return</span> <span class=\"n\">response</span>\n\n<span class=\"n\">serve</span><span class=\"p\">()</span>\n</pre>\n\n          </div>"}, "last_serial": 6551567, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "ea5d5cd6283f1d3dee6baf670c4ca6d8", "sha256": "f958532fd60de51f63917734ef84d3485a7d476faf9ee5e13c7aee2bff4de4b9"}, "downloads": -1, "filename": "chocs-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ea5d5cd6283f1d3dee6baf670c4ca6d8", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 21634, "upload_time": "2019-12-25T15:18:55", "upload_time_iso_8601": "2019-12-25T15:18:55.700243Z", "url": "https://files.pythonhosted.org/packages/c2/39/7e34a6c3d1278140e18caaa48eb90cfdae854ef5c955dde7473275358403/chocs-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7528887974fda9f812b02806e7707498", "sha256": "4978aa5933397208dcc28d8950f667e2b9d20839fe883de26d0b61c3a4154fa3"}, "downloads": -1, "filename": "chocs-0.1.0.tar.gz", "has_sig": false, "md5_digest": "7528887974fda9f812b02806e7707498", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 18765, "upload_time": "2019-12-25T15:18:58", "upload_time_iso_8601": "2019-12-25T15:18:58.246783Z", "url": "https://files.pythonhosted.org/packages/47/e0/b6660994f445ab6c47fd3fb966260428725d0f4a9e461f2c2acbdd7dbae0/chocs-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "73ee27949eb86e1555d8c612bb25d652", "sha256": "70568a3c77c5155e7dc04f7fd5bcf2564aff295a7f850f8b62c066f5f2d62f66"}, "downloads": -1, "filename": "chocs-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "73ee27949eb86e1555d8c612bb25d652", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 21630, "upload_time": "2019-12-25T15:28:59", "upload_time_iso_8601": "2019-12-25T15:28:59.146778Z", "url": "https://files.pythonhosted.org/packages/4e/a7/a8923ce0302d6b3b990599cfb6ab6cdfd4e38defa7ac5cf179d23b5092d5/chocs-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "eb0e09510dd7a9767a67a4c89aeb21ca", "sha256": "7ee09d38175c35bcb31b9e657fcd11e505e47d1b90a8efe96140abc5b28c6257"}, "downloads": -1, "filename": "chocs-0.1.1.tar.gz", "has_sig": false, "md5_digest": "eb0e09510dd7a9767a67a4c89aeb21ca", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 18784, "upload_time": "2019-12-25T15:29:01", "upload_time_iso_8601": "2019-12-25T15:29:01.139031Z", "url": "https://files.pythonhosted.org/packages/26/7b/7c2a2721625d8b03e071508986aadfed1e13a12204680eb66debf4576fef/chocs-0.1.1.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "18724ecfe2ce0127312488c73a8ff5fe", "sha256": "44fdef9169837a673488065162531cc714d21eefa1be8e386206a5b8871458e7"}, "downloads": -1, "filename": "chocs-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "18724ecfe2ce0127312488c73a8ff5fe", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 21641, "upload_time": "2020-01-24T19:58:44", "upload_time_iso_8601": "2020-01-24T19:58:44.063535Z", "url": "https://files.pythonhosted.org/packages/6c/6d/55c2cd5b68c1d8de496696058f50e7fe93d386c3ff95cfa8516b8fce7222/chocs-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "71dc198ae12942ed8f0aec2db2360149", "sha256": "9a74757858e57fe65b4e7f2e209a98374dff729fbab7f3ba28c9429966097d5e"}, "downloads": -1, "filename": "chocs-0.2.0.tar.gz", "has_sig": false, "md5_digest": "71dc198ae12942ed8f0aec2db2360149", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 18795, "upload_time": "2020-01-24T19:58:46", "upload_time_iso_8601": "2020-01-24T19:58:46.035071Z", "url": "https://files.pythonhosted.org/packages/d2/14/d2978936609fc5971c4cd3c0f81137dae793b051d53c358516831c650ce4/chocs-0.2.0.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "529d13e80706f7261da14065c7a27c47", "sha256": "373bcf92244afaeb0a8cff289fd04ad63e004f1c7456096c18b9b96010387dab"}, "downloads": -1, "filename": "chocs-0.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "529d13e80706f7261da14065c7a27c47", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 21613, "upload_time": "2020-01-24T20:21:43", "upload_time_iso_8601": "2020-01-24T20:21:43.605030Z", "url": "https://files.pythonhosted.org/packages/6e/8c/9cbb1b56e60a2e597cc17ede0c0f06a31db70b7c97e206db4be62669046c/chocs-0.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "366e6aad05217e8521482ea2aaf4fd13", "sha256": "63b2fb8298c17af3f5abcf569e14d3dabd7ba20c78640da26f980f7c1f539748"}, "downloads": -1, "filename": "chocs-0.2.1.tar.gz", "has_sig": false, "md5_digest": "366e6aad05217e8521482ea2aaf4fd13", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 18836, "upload_time": "2020-01-24T20:21:45", "upload_time_iso_8601": "2020-01-24T20:21:45.619218Z", "url": "https://files.pythonhosted.org/packages/4b/d1/10b8b960f5a80f4828ef0bc3c433dc5fec707ccfb60123dafa593ae74512/chocs-0.2.1.tar.gz", "yanked": false}], "0.2.2": [{"comment_text": "", "digests": {"md5": "34ae8e1af632f0789dc9c5177cafbae9", "sha256": "8b477ea40157544a279f4a3a8ee4100b94b970d92d7577d80037db7e4997a388"}, "downloads": -1, "filename": "chocs-0.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "34ae8e1af632f0789dc9c5177cafbae9", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 21621, "upload_time": "2020-01-27T07:31:13", "upload_time_iso_8601": "2020-01-27T07:31:13.215181Z", "url": "https://files.pythonhosted.org/packages/08/c6/17725a93e14cb38596c2697022bf433aa2e70278705d63e91b868a55dcee/chocs-0.2.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2f4a3682f3c6f7eeb91d854d50a403ff", "sha256": "d8d4bf8acee9927ea7455925c7fd1e6759690eac90812e5f35b1ccb12206f0f8"}, "downloads": -1, "filename": "chocs-0.2.2.tar.gz", "has_sig": false, "md5_digest": "2f4a3682f3c6f7eeb91d854d50a403ff", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 18853, "upload_time": "2020-01-27T07:31:15", "upload_time_iso_8601": "2020-01-27T07:31:15.415813Z", "url": "https://files.pythonhosted.org/packages/cc/7a/e8e35180180d72856be7ee0cb65290028b6acf02e9a854fe71f6ef0c9100/chocs-0.2.2.tar.gz", "yanked": false}], "0.2.3": [{"comment_text": "", "digests": {"md5": "84668ad3546e710507685e123f7e6d2f", "sha256": "575629ce6f1767bc12089b67dd674aeb48273b53b04e9ee8f17b2cb0da608fb2"}, "downloads": -1, "filename": "chocs-0.2.3-py3-none-any.whl", "has_sig": false, "md5_digest": "84668ad3546e710507685e123f7e6d2f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 21625, "upload_time": "2020-01-27T07:46:31", "upload_time_iso_8601": "2020-01-27T07:46:31.812899Z", "url": "https://files.pythonhosted.org/packages/a7/ec/ba9d0990c9ef4db32f71bfd6bbe9e1e23525779e3abf6c985afcb6ad389d/chocs-0.2.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "92320703b12f3d30b8e1a031624c9833", "sha256": "45a8a8723d67002a27765ea66abe815b75d0ca7d8bc9cc1ba9ef6b9bbdfcfb45"}, "downloads": -1, "filename": "chocs-0.2.3.tar.gz", "has_sig": false, "md5_digest": "92320703b12f3d30b8e1a031624c9833", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 18854, "upload_time": "2020-01-27T07:46:33", "upload_time_iso_8601": "2020-01-27T07:46:33.656424Z", "url": "https://files.pythonhosted.org/packages/29/c9/776a58e9a93ecd9c58157a656bd882f3071f751ca9933560b0cc6bdb982b/chocs-0.2.3.tar.gz", "yanked": false}], "0.2.4": [{"comment_text": "", "digests": {"md5": "21b7b42c6b72f8751479919fba763807", "sha256": "6b4f9f79ffc0d14c86edb4b9ea5880afd37aca30f3e590836060b0695b77356c"}, "downloads": -1, "filename": "chocs-0.2.4-py3-none-any.whl", "has_sig": false, "md5_digest": "21b7b42c6b72f8751479919fba763807", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 21717, "upload_time": "2020-01-27T09:06:52", "upload_time_iso_8601": "2020-01-27T09:06:52.442807Z", "url": "https://files.pythonhosted.org/packages/73/69/3a1dd43500dcbab16e64c56d08aefc62bfb31eb03016d9d5b62e0bab63bd/chocs-0.2.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "38139ed07c2ba8d695607dce125d2fe3", "sha256": "2f28b88c3765aad96ed48f0e6bd5fcb37f251d9728c3de0d74e9901f86a3fc53"}, "downloads": -1, "filename": "chocs-0.2.4.tar.gz", "has_sig": false, "md5_digest": "38139ed07c2ba8d695607dce125d2fe3", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 18996, "upload_time": "2020-01-27T09:06:54", "upload_time_iso_8601": "2020-01-27T09:06:54.513797Z", "url": "https://files.pythonhosted.org/packages/6d/fb/2d96e7ef645301453be910180c62a966cc91b05d9bf78835d67c7cd9a386/chocs-0.2.4.tar.gz", "yanked": false}], "0.2.5": [{"comment_text": "", "digests": {"md5": "f9d87abbe9870e78141ac638942359ce", "sha256": "2d09b081e25e5e1a1056d5705f41f8304e396a07b477fbb16330da359c72caad"}, "downloads": -1, "filename": "chocs-0.2.5-py3-none-any.whl", "has_sig": false, "md5_digest": "f9d87abbe9870e78141ac638942359ce", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 21730, "upload_time": "2020-01-31T09:20:33", "upload_time_iso_8601": "2020-01-31T09:20:33.084610Z", "url": "https://files.pythonhosted.org/packages/aa/e5/75bde565f5575dc4528c0e589ac9ef6373772c1fa9ced0331a580403c197/chocs-0.2.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "183144f6d53e0bf9cc13b9b239ce21d2", "sha256": "b0571dac7b23c39c5fc678da7e3d2cfbd1a64720fe2fdecfcb1b3227d05b9c28"}, "downloads": -1, "filename": "chocs-0.2.5.tar.gz", "has_sig": false, "md5_digest": "183144f6d53e0bf9cc13b9b239ce21d2", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 19022, "upload_time": "2020-01-31T09:20:35", "upload_time_iso_8601": "2020-01-31T09:20:35.156610Z", "url": "https://files.pythonhosted.org/packages/a6/c5/c2b33e5b4a1768b69fb88f2b17f2a4ee0f7c1e1a49d20a0feccb17d57f59/chocs-0.2.5.tar.gz", "yanked": false}], "0.2.6": [{"comment_text": "", "digests": {"md5": "ec6f35802075411d3f0d090a4839fa1c", "sha256": "9a0365b57485dd12bd6b75e368a95828848b2a3ff0943c6fb17e9df22cd3c81b"}, "downloads": -1, "filename": "chocs-0.2.6-py3-none-any.whl", "has_sig": false, "md5_digest": "ec6f35802075411d3f0d090a4839fa1c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 21735, "upload_time": "2020-01-31T20:02:03", "upload_time_iso_8601": "2020-01-31T20:02:03.721056Z", "url": "https://files.pythonhosted.org/packages/af/a0/cfaccb2788fcd30675952f57f7ce803b02ecc975c47cc2deb8034b255fcf/chocs-0.2.6-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "17ce18dd108499bfd9602b9220d9d4d9", "sha256": "ae14e21c3702737e4ce0137db78d76476999cd3085be31d960181119cfc101f5"}, "downloads": -1, "filename": "chocs-0.2.6.tar.gz", "has_sig": false, "md5_digest": "17ce18dd108499bfd9602b9220d9d4d9", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 19022, "upload_time": "2020-01-31T20:02:05", "upload_time_iso_8601": "2020-01-31T20:02:05.537254Z", "url": "https://files.pythonhosted.org/packages/e0/71/42b84c6f40b28409bb3490bd56209386297fcad62a40407709fb4159eeb9/chocs-0.2.6.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ec6f35802075411d3f0d090a4839fa1c", "sha256": "9a0365b57485dd12bd6b75e368a95828848b2a3ff0943c6fb17e9df22cd3c81b"}, "downloads": -1, "filename": "chocs-0.2.6-py3-none-any.whl", "has_sig": false, "md5_digest": "ec6f35802075411d3f0d090a4839fa1c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 21735, "upload_time": "2020-01-31T20:02:03", "upload_time_iso_8601": "2020-01-31T20:02:03.721056Z", "url": "https://files.pythonhosted.org/packages/af/a0/cfaccb2788fcd30675952f57f7ce803b02ecc975c47cc2deb8034b255fcf/chocs-0.2.6-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "17ce18dd108499bfd9602b9220d9d4d9", "sha256": "ae14e21c3702737e4ce0137db78d76476999cd3085be31d960181119cfc101f5"}, "downloads": -1, "filename": "chocs-0.2.6.tar.gz", "has_sig": false, "md5_digest": "17ce18dd108499bfd9602b9220d9d4d9", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 19022, "upload_time": "2020-01-31T20:02:05", "upload_time_iso_8601": "2020-01-31T20:02:05.537254Z", "url": "https://files.pythonhosted.org/packages/e0/71/42b84c6f40b28409bb3490bd56209386297fcad62a40407709fb4159eeb9/chocs-0.2.6.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:19:31 2020"}
{"info": {"author": "Jonathan Schultz", "author_email": "jonathan@schultz.la", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Programming Language :: Python :: 3"], "description": "argrecord\n=========\n\nAn extension to argparse to automate the generation of logfiles and self-describing output files, and provide a Make-like functionality to re-run a script based on those automatically generated logfiles.\n\nIntroduction\n============\n\nThis library can be used in the place of `argparse <https://docs.python.org/3/library/argparse.html/>`_. It provides additional functionality to create and read logfiles or datafile headers to document the command that created them and re-run the same command.\n\nAdditional decorators such as `Gooey <https://pypi.org/project/Gooey/>`_ can still be used.\n\nIt works with Python 3.\n\nThe source code can be found at `argrecord <https://github.com/jschultz/argrecord/>`_.\n\nUsage\n=====\n\nRecording script arguments\n--------------------------\n\nSimply replace ``argparse`` with ``argrecord`` and the class ``ArgumentParser`` with ``ArgumentRecorder``.\n\nThe ``ArgumentRecorder`` class provides three new methods:\n\n``build_comments`` returns a multi-line string that represents the current script invocation; that is, the name of the script and the list arguments to it. We call these comments because they are designed to be included as the header of an output file and treated as a comment by whichever program subsequently treats the output file.\n\n``write_comments`` writes the comments to a file. The file can be specified either as a filename or a file object of an output file. Additional arguments specify whether additional comments (for example from an input file) or comments in the already existing file should be appended to the comments generated from the argument parser, and whether an already existing file should be backed by by appending a suffix to its name.\n\nAppending multiple sets of commments in a single logfile or output file allows the entire chain of commands the produced that file to be recorded.\n\n``replay_required`` returns ``True`` or ``False`` indicating whether the script needs to be re-run. This is calculated by determining whether any of the input files to the script are newer than any of the currently existing output files.\n\nThe method ``add_argument`` takes three additional arguments.  ``input`` and ``output`` indicate whether the argument represents the name of a file that is an input or output of the script. ``private`` indicates that the argument should not be included in the comments.\n\nReplaying script arguments\n--------------------------\n\nDefault behaviour\n.................\n\nRun the script ``argreplay`` to re-run the commands that produced a logfile (or initial section of an output file). The default behaviour is to read a series of *recipes* from a logfile, detecting the name of the script and the input and output file(s) of each. Once it has read all the recipes, it processes them in reverse order. When it finds a command that needs to be re-run (because one or more of its input files is younger than one or more of its output files) it re-runs that command, then proceeds to the previous recipe. When a command is re-run, it typically creates a new output file that is an input file for the previous recipe, so that will in turn need to be re-run. The process continues until all the recipes have been processed, or a command returns an error.\n\nPipes\n.....\nIf ``argreplay`` encounters a recipe with no input file(s), it assumes that the input was a pipe from the following recipe, and treats the two recipes together as a single entity. Arbitrarily many commands may be piped together in this way.\n\nVariable substitution\n.....................\nA recipe may include variables in its command arguments. For example,\n\n    --year ${year}\n\nIn this case, ``argreplay`` must be given an argument ``--substitute`` that contains the variables to be substituted and the values with which to substitute them, with a colon as separator. For example, ``argreplay --substitute year:2019 ....``\n\nOther options\n.............\n\n``--dry-run`` simply prints the commands that would be run. Note that since the command is not actually run, output files are not touched and subsequent commands that would be run will not be listed.\n\n``--force`` means that the commands are run regardless of the timestamps on input and output file(s).\n\n``--depth`` indicates how many recipes to read from a logfile. The default is to read all the recipes.\n\n``--remove`` means that the logfile should be removed after it has been read but before any commands are run. This can help prevent the logfile growing too long if the commands will cause it to be extended.\n\n``--gui`` causes `Gooey <https://pypi.org/project/Gooey/>`_ to be invoked if it is available.\n\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "GPL3", "maintainer": "", "maintainer_email": "", "name": "argrecord", "package_url": "https://pypi.org/project/argrecord/", "platform": "", "project_url": "https://pypi.org/project/argrecord/", "project_urls": null, "release_url": "https://pypi.org/project/argrecord/0.1.1/", "requires_dist": ["argparse"], "requires_python": "", "summary": "Automates logfile and self-describing output file generation; provides Make-like functionality to re-run a script.", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"argrecord\">\n<h2>argrecord</h2>\n<p>An extension to argparse to automate the generation of logfiles and self-describing output files, and provide a Make-like functionality to re-run a script based on those automatically generated logfiles.</p>\n</div>\n<div id=\"introduction\">\n<h2>Introduction</h2>\n<p>This library can be used in the place of <a href=\"https://docs.python.org/3/library/argparse.html/\" rel=\"nofollow\">argparse</a>. It provides additional functionality to create and read logfiles or datafile headers to document the command that created them and re-run the same command.</p>\n<p>Additional decorators such as <a href=\"https://pypi.org/project/Gooey/\" rel=\"nofollow\">Gooey</a> can still be used.</p>\n<p>It works with Python 3.</p>\n<p>The source code can be found at <a href=\"https://github.com/jschultz/argrecord/\" rel=\"nofollow\">argrecord</a>.</p>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<div id=\"recording-script-arguments\">\n<h3>Recording script arguments</h3>\n<p>Simply replace <tt>argparse</tt> with <tt>argrecord</tt> and the class <tt>ArgumentParser</tt> with <tt>ArgumentRecorder</tt>.</p>\n<p>The <tt>ArgumentRecorder</tt> class provides three new methods:</p>\n<p><tt>build_comments</tt> returns a multi-line string that represents the current script invocation; that is, the name of the script and the list arguments to it. We call these comments because they are designed to be included as the header of an output file and treated as a comment by whichever program subsequently treats the output file.</p>\n<p><tt>write_comments</tt> writes the comments to a file. The file can be specified either as a filename or a file object of an output file. Additional arguments specify whether additional comments (for example from an input file) or comments in the already existing file should be appended to the comments generated from the argument parser, and whether an already existing file should be backed by by appending a suffix to its name.</p>\n<p>Appending multiple sets of commments in a single logfile or output file allows the entire chain of commands the produced that file to be recorded.</p>\n<p><tt>replay_required</tt> returns <tt>True</tt> or <tt>False</tt> indicating whether the script needs to be re-run. This is calculated by determining whether any of the input files to the script are newer than any of the currently existing output files.</p>\n<p>The method <tt>add_argument</tt> takes three additional arguments.  <tt>input</tt> and <tt>output</tt> indicate whether the argument represents the name of a file that is an input or output of the script. <tt>private</tt> indicates that the argument should not be included in the comments.</p>\n</div>\n<div id=\"replaying-script-arguments\">\n<h3>Replaying script arguments</h3>\n<div id=\"default-behaviour\">\n<h4>Default behaviour</h4>\n<p>Run the script <tt>argreplay</tt> to re-run the commands that produced a logfile (or initial section of an output file). The default behaviour is to read a series of <em>recipes</em> from a logfile, detecting the name of the script and the input and output file(s) of each. Once it has read all the recipes, it processes them in reverse order. When it finds a command that needs to be re-run (because one or more of its input files is younger than one or more of its output files) it re-runs that command, then proceeds to the previous recipe. When a command is re-run, it typically creates a new output file that is an input file for the previous recipe, so that will in turn need to be re-run. The process continues until all the recipes have been processed, or a command returns an error.</p>\n</div>\n<div id=\"pipes\">\n<h4>Pipes</h4>\n<p>If <tt>argreplay</tt> encounters a recipe with no input file(s), it assumes that the input was a pipe from the following recipe, and treats the two recipes together as a single entity. Arbitrarily many commands may be piped together in this way.</p>\n</div>\n<div id=\"variable-substitution\">\n<h4>Variable substitution</h4>\n<p>A recipe may include variables in its command arguments. For example,</p>\n<blockquote>\n\u2013year ${year}</blockquote>\n<p>In this case, <tt>argreplay</tt> must be given an argument <tt><span class=\"pre\">--substitute</span></tt> that contains the variables to be substituted and the values with which to substitute them, with a colon as separator. For example, <tt>argreplay <span class=\"pre\">--substitute</span> year:2019 <span class=\"pre\">....</span></tt></p>\n</div>\n<div id=\"other-options\">\n<h4>Other options</h4>\n<p><tt><span class=\"pre\">--dry-run</span></tt> simply prints the commands that would be run. Note that since the command is not actually run, output files are not touched and subsequent commands that would be run will not be listed.</p>\n<p><tt><span class=\"pre\">--force</span></tt> means that the commands are run regardless of the timestamps on input and output file(s).</p>\n<p><tt><span class=\"pre\">--depth</span></tt> indicates how many recipes to read from a logfile. The default is to read all the recipes.</p>\n<p><tt><span class=\"pre\">--remove</span></tt> means that the logfile should be removed after it has been read but before any commands are run. This can help prevent the logfile growing too long if the commands will cause it to be extended.</p>\n<p><tt><span class=\"pre\">--gui</span></tt> causes <a href=\"https://pypi.org/project/Gooey/\" rel=\"nofollow\">Gooey</a> to be invoked if it is available.</p>\n</div>\n</div>\n</div>\n\n          </div>"}, "last_serial": 6491492, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "62d20dd0391479f57cdcfb7328c97a7e", "sha256": "0b461616ac53a461a844373bdcd9c8229407eb175cc09953ee74be332e2aab59"}, "downloads": -1, "filename": "argrecord-0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "62d20dd0391479f57cdcfb7328c97a7e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 20408, "upload_time": "2020-01-13T05:38:52", "upload_time_iso_8601": "2020-01-13T05:38:52.714851Z", "url": "https://files.pythonhosted.org/packages/6d/6e/6daa30c395ddbcaf2047c70417b449018f5cefe93004ce3e794b3347e878/argrecord-0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f7fb5920ff521b8fbaef7d59fc7f1a17", "sha256": "3bd59d7ba8c2c3eac9cef6a2aa30102e60de7ec8faaad692a057b97f184c1be9"}, "downloads": -1, "filename": "argrecord-0.1.tar.gz", "has_sig": false, "md5_digest": "f7fb5920ff521b8fbaef7d59fc7f1a17", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19617, "upload_time": "2020-01-13T05:38:55", "upload_time_iso_8601": "2020-01-13T05:38:55.639755Z", "url": "https://files.pythonhosted.org/packages/3f/af/d361d1d65db56950f33fe1791239781fdcd5a18be99e16ee53c29ed42170/argrecord-0.1.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "eac57f45e6a9c05940cd6380b5d3a3cf", "sha256": "375078a96c877294631aa9a8ae51bf096adbf1f54fcd13cc95307dcb87ac74e1"}, "downloads": -1, "filename": "argrecord-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "eac57f45e6a9c05940cd6380b5d3a3cf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 20497, "upload_time": "2020-01-21T01:27:24", "upload_time_iso_8601": "2020-01-21T01:27:24.197068Z", "url": "https://files.pythonhosted.org/packages/ef/08/7b043731c6719c9cc53aed53a43e2c84e4a766bade021c2eb5c767f4f9c2/argrecord-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e7905ac0d28277450ef1cbbece2c91a8", "sha256": "14692de66b52473f51d2f7056b381fba0b19be2dc56d36baa67cb0cd241623a8"}, "downloads": -1, "filename": "argrecord-0.1.1.tar.gz", "has_sig": false, "md5_digest": "e7905ac0d28277450ef1cbbece2c91a8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19648, "upload_time": "2020-01-21T01:27:26", "upload_time_iso_8601": "2020-01-21T01:27:26.099146Z", "url": "https://files.pythonhosted.org/packages/1a/92/c5ed0c3838122cb1105b143bf15d0d6e73ae4da63478277110dbf3d8b3fd/argrecord-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "eac57f45e6a9c05940cd6380b5d3a3cf", "sha256": "375078a96c877294631aa9a8ae51bf096adbf1f54fcd13cc95307dcb87ac74e1"}, "downloads": -1, "filename": "argrecord-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "eac57f45e6a9c05940cd6380b5d3a3cf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 20497, "upload_time": "2020-01-21T01:27:24", "upload_time_iso_8601": "2020-01-21T01:27:24.197068Z", "url": "https://files.pythonhosted.org/packages/ef/08/7b043731c6719c9cc53aed53a43e2c84e4a766bade021c2eb5c767f4f9c2/argrecord-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e7905ac0d28277450ef1cbbece2c91a8", "sha256": "14692de66b52473f51d2f7056b381fba0b19be2dc56d36baa67cb0cd241623a8"}, "downloads": -1, "filename": "argrecord-0.1.1.tar.gz", "has_sig": false, "md5_digest": "e7905ac0d28277450ef1cbbece2c91a8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19648, "upload_time": "2020-01-21T01:27:26", "upload_time_iso_8601": "2020-01-21T01:27:26.099146Z", "url": "https://files.pythonhosted.org/packages/1a/92/c5ed0c3838122cb1105b143bf15d0d6e73ae4da63478277110dbf3d8b3fd/argrecord-0.1.1.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:17:17 2020"}
{"info": {"author": "cybergrind", "author_email": "cybergrind@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: MacOS", "Operating System :: MacOS :: MacOS X", "Operating System :: POSIX", "Operating System :: POSIX :: Linux", "Operating System :: Unix", "Programming Language :: Python", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: Implementation", "Programming Language :: Python :: Implementation :: CPython", "Topic :: Software Development", "Topic :: Software Development :: Libraries", "Topic :: Utilities"], "description": "# About this package\n\n[![Build Status](https://travis-ci.org/micro-fan/fan_tools.svg?branch=master)](https://travis-ci.org/micro-fan/fan_tools)\n[![PyPi version](https://img.shields.io/pypi/v/fan_tools.svg)](https://pypi.python.org/pypi/fan_tools)\n\n\nHere are set of internal tools that are shared between different projects internally. Originally most tools related to testing, so they provide some base classes for various cases in testing\n\n**NOTE: all our tools are intentially support only 3.5+ python.**\nSome might work with other versions, but we're going to be free from all these crutches to backport things like `async/await` to lower versions, so if it works - fine, if not - feel free to send PR, but it isn't going to be merged all times.\n\n## Testing helpers\n\n### ApiUrls\n\nDefined in `fan_tools/testing/__init__.py`. Required for defining nested urls with formatting.\n\nYou can use it in fixtures, like:\n\n\n```python\n@pytest.fixture(scope='session')\ndef api(api_v_base):\n    yield ApiUrls('{}/'.format(api_v_base), {\n        'password_reset_request': 'password/request/code/',\n        'password_reset': 'password/reset/',\n        'user_review_list': 'user/{user_id}/review/',\n        'user_review': 'user/{user_id}/review/{review_id}/',\n        'wine_review': 'wine/{wine_id}/review/',\n        'drink_review': 'drink/{drink_id}/review/',\n    })\n\n\ndef test_review_list(user, api):\n    resp = user.get_json(api.user_review_list(user_id=user1.id), {'page_size': 2})\n```\n\n\n\n\n### PropsMeta\n\nYou can find source in `fan_tools/testing/meta.py`.\n\nFor now it convert methods that are started with `prop__` into descriptors with cache.\n\n```python\nclass A(metaclass=PropsMeta):\n    def prop__conn(self):\n        conn = SomeConnection()\n        return conn\n```\n\nBecame:\n\n```python\nclass A:\n    @property\n    def conn(self):\n        if not hasattr(self, '__conn'):\n            setattr(self, '__conn', SomeConnection())\n        return self.__conn\n```\n\nThus it allows quite nice style of testing with lazy initialization. Like:\n\n```python\nclass MyTest(TestCase, metaclass=PropsMeta):\n    def prop__conn(self):\n        return psycopg2.connect('')\n\n    def prop__cursor(self):\n        return self.conn.cursor()\n\n    def test_simple_query(self):\n        self.cursor.execute('select 1;')\n        row = self.cursor.fetchone()\n        assert row[0] == 1, 'Row: {}'.format(row)\n\n```\n\nHere you just get and use `self.cursor`, but automatically you get connection and cursor and cache they.\n\nThis is just simple example, complex tests can use more deep relations in tests. And this approach is way more easier and faster than complex `setUp` methods.\n\n\n### AIOTestCase\n\n**NOTE: we're highly suggest to use pytest alongside with existing async tests plugins**\n\nBase for asyncronous test cases, you can use it as drop-in replacement for pre-existent tests to be able:\n\n* write asyncronous test methods\n* write asyncronous `setUp` and `tearDown` methods\n* use asyncronous function in `assertRaises`\n\n```python\nclass ExampleCase(AIOTestCase):\n    async setUp(self):\n        await async_setup()\n\n    async tearDown(self):\n        await async_teardown()\n\n    async division(self):\n        1/0\n\n    async test_example(self):\n        await self.assertRaises(ZeroDivisionError, self.async_division)\n```\n\n## fan_tools.unix helpers\n\nBasic unix helpers\n\n* run - run command in shell\n* succ - wrapper around `run` with return code and stderr check\n* wait_socket - wait for socket awailable (eg. you can wait for postgresql with `wait_socket('localhost', 5432)`\n* asucc - asynchronous version of `succ` for use with `await`. supports realtime logging\n* source - acts similar to bash 'source' or '.' commands.\n* cd - contextmanager to do something with temporarily changed directory\n\n#### interpolate_sysenv\n\nFormat string with system variables + defaults.\n\n```python\nPG_DEFAULTS = {\n    'PGDATABASE': 'postgres',\n    'PGPORT': 5432,\n    'PGHOST': 'localhost',\n    'PGUSER': 'postgres',\n    'PGPASSWORD': '',\n    }\nDSN = interpolate_sysenv('postgresql://{PGUSER}:{PGPASSWORD}@{PGHOST}:{PGPORT}/{PGDATABASE}', PG_DEFAULTS)\n```\n\n\n## fan_tools.fan_logging.JSFormatter\n\nEnable json output with additional fields, suitable for structured logging into ELK or similar solutions.\n\nAccepts `env_vars` key with environmental keys that should be included into log.\n\n```python\n# this example uses safe_logger as handler (pip install safe_logger)\nimport logging\nimport logging.config\n\n\nLOGGING = {\n    'version': 1,\n    'disable_existing_loggers': True,\n    'formatters': {\n        'json': {\n            '()': 'fan_tools.fan_logging.JSFormatter',\n            'env_vars': ['HOME'],\n        },\n        'standard': {\n            'format': '%(asctime)s [%(levelname)s] %(name)s: %(message)s'\n        },\n    },\n    'handlers': {\n        'default': {\n            'level': 'DEBUG',\n            'class': 'safe_logger.TimedRotatingFileHandlerSafe',\n            'filename': 'test_json.log',\n            'when': 'midnight',\n            'interval': 1,\n            'backupCount': 30,\n            'formatter': 'json',\n            },\n    },\n    'loggers': {\n        '': {\n            'handlers': ['default'],\n            'level': 'DEBUG',\n        },\n    },\n}\n\nlogging.config.dictConfig(LOGGING)\nlog = logging.getLogger('TestLogger')\n\nlog.debug('test debug')\nlog.info('test info')\nlog.warn('test warn')\nlog.error('test error')\n```\n\n\n## fan_tools.mon_server.MetricsServer\n\nSanic based server that servers metrics in prometheus format.\n\n```\nfrom sanic import Sanic\n\nfrom fan_tools.mon_server import MetricsServer\nfrom fan_tools.mon_server.certs import update_certs_loop\n\napp = Sanic()\nmserver = MetricsServer(app, status_metric='running{server=\"localhost\"}')\nmserver.add_task(update_certs_loop, hosts=['gettipsi.com', 'proofnetwork.io'])\napp.run(host='0.0.0.0', port=8000)\n```\n\n\n## fan_tools.backup\n\nThere are two backup helpers: `fan_tools.backup.s3.S3backup` and `fan_tools.backup.gcloud.GCloud`\n\nWe're assuming that backup script has access to backup execution and dump directory.\n\nDefault setup includes support for docker container that access DB.\n\nBy default script provides interface for monitoring (last backup date).\n\n`fan_tools.backup.s3.S3backup` provides external script called `fan_s3_backup` that has accepts some configuration via environmental variables.\n\n* *ENABLE_BACKUP* - you need enable this by setting to non `false` value, default: false\n* *BACKUP_DB_CONTAINER* - container for backup command execution\n* *BACKUP_DB_SCRIPT* - command for exectuion on db server from above. default: `/create_backup.py`\n* *BACKUP_COMMAND* - overrides all above\n*  `-b/--bucket` - to define bucket. default for s3: environmental variable *AWS_BACKUP_BUCKET*\n* *BACKUP_PREFIX* or `-p/--prefix` - directory backup prefix, usually it is subfolder for dumps, default: `backups/`\n* `-d/--daemonize` - should we run in daemonized mode\n* *MONITORING_PORT* - port for listen when run in daemonized mode. default: 80\n\nS3 specific:\n\n* *AWS_BACKUP_KEY*\n* *AWS_BACKUP_SECRET*\n* *AWS_BACKUP_BUCKET*\n\n\n\n## fan_tools.drf.serializers.EnumSerializer\n\nAllow you to deserealize incoming strings into `Enum` values.\nYou should add `EnumSerializer` into your serializers by hand.\n\n```python\nfrom enum import IntEnum\n\nfrom django.db import models\nfrom rest_framework import serializers\n\nfrom fan_tools.drf.serializers import EnumSerializer\n\n\nclass MyEnum(IntEnum):\n  one = 1\n  two = 2\n\nclass ExampleModel(models.Model):\n  value = models.IntegerField(choices=[(x.name, x.value) for x in MyEnum])\n\nclass ExampleSerializer(serializers.ModelSerializer):\n  value = EnumSerializer(MyEnum)\n\n# this allows you to post value as: {'value': 'one'}\n```\n\nDue to `Enum` and `IntegerField` realizations you may use `Enum.value` in querysets\n\n```python\nExampleModel.objects.filter(value=MyEnum.two)\n```\n\n## fan_tools.django.log_requests.LoggerMiddleware\n\nLoggerMiddleware will log request meta + raw post data into log.\n\nFor django<1.10 please use `fan_tools.django.log_requests.DeprecatedLoggerMiddleware`\n\n\n## fan_tools.django.request_uniq\n\nDecorator adds a unique for each uwsgi request dict as first function\n argument.\nFor tests mock `_get_request_unique_cache`\n\n\n## fan_tools.django.call_once_on_commit\n\nMake function called only once on transaction commit. Here is examples\n where function `do_some_useful` will be called only once after\n transaction has been committed.\n```python\nclass SomeModel(models.Model):\n    name = IntegerField()\n\n@call_once_on_commit\ndef do_some_useful():\n    pass\n\n\ndef hook(sender, instance, **kwargs):\n    do_some_useful()\n\nmodels.signals.post_save.connect(hook, sender=SomeModel)\n\nwith transaction.atomic():\n    some_model = SomeModel()\n    some_model.name = 'One'\n    some_model.save()\n    some_model.name = 'Two'\n    some_model.save()\n```\n\nFor tests with nested transactions (commit actually most times is not\n called) it is useful to override behaviour `call_once_on_commit`\n when decorated function executed right in place where it is called.\n To do so mock `on_commit` function. Example pytest fixture:\n```\n@pytest.fixture(scope='session', autouse=True)\ndef immediate_on_commit():\n    def side_effect():\n        return lambda f: f()\n\n    with mock.patch('fan_tools.django.on_commit', side_effect=side_effect) as m:\n        yield m\n\n```\n\n## fan_tools.django.fields.ChoicesEnum\n\nUsed for choices attribute for in model field\n\n```\nclass FooBarEnum(ChoicesEnum):\n    foo = 1\n    bar = 2\n\nclass ExampleModel(models.Model):\n    type = models.IntegerField(choices=FooBarEnum.get_choices())\n```\n\n\n## fan_tools.django.db.utils.set_word_similarity_threshold\n\nAllow to set postgres trigram word similarity threshold for default django database connection\n\n```\nset_word_similarity_threshold(0.4)\n```\n\n\n## fan_tools.django.contrib.postgres.models.LTreeModel\n\nDjango Model containing postgres ltree\n\n```\nclass LTreeExampleModel(LTreeModel):\n```\n\n\n## fan_tools.django.contrib.postgres.fields.LTreeDescendants\n\nLookup for postgres ltree descendants\n\n```\nLTreeExampleModel.objects.filter(path__descendants='root.level1')\n```\n\n## fan_tools.django.contrib.postgres.fields.LTreeNlevel\n\nLookup for postgres ltree by level depth\n\n```\nLTreeExampleModel.objects.filter(path__nlevel=2)\n```\n\n## fan_tools.django.db.pgfields.SimilarityLookup\n\nPostgres `text %> text` operator\n\n```\n# Add this import to models.py (file should be imported before lookup usage)\nimport fan_tools.django.db.pgfields  # noqa\n\nBooks.objects.filter(title__similar='Animal Farm')\n```\n\n## fan_tools.django.db.pgfields.WordSimilarity\n\nPostgres `text1 <<-> text2` operator. It returns `1 - word_similarity(text1, text2)`\n\n```\nfrom django.db.models import Value, F\n\nsimilarity = WordSimilarity(Value('Animal Farm'), F('title'))\nBooks.objects.annotate(similarity=similarity)\n```\n\n## fan_tools.drf.filters.NumberInFilter\n\nDjango filter that match if integer is in the integers list separated by comma\n\n```\nclass ExampleFilterSet(FilterSet):\n    example_values = NumberInFilter(field_name='example_value', lookup_expr='in')\n```\n\n## fan_tools.django.mail.Mail\n\nSend text and html emails using django templates.\n\n```\nMail(\n    recipient_list=[user.email],\n    template_name='user/emails/reset_password',\n    context={\n        'frontend_url': settings.FRONTEND_URL,\n    },\n).send()\n```\n\n## fan_tools.django.url.build_absolute_uri\n\nGet domain section of absolute url of current page using django request object.\n\n```\nbuild_absolute_uri(request)\n```\n\n\n## fan_tools.drf.forms.use_form\n\nHelps to use power of serializers for simple APIs checks.\n\n\n```python\nfrom rest_framework import serializers\nfrom rest_framework.decorators import api_view\nfrom fan_tools.drf import use_form\n\n\nclass SimpleForm(serializers.Serializer):\n    test_int = serializers.IntegerField()\n    test_str = serializers.CharField()\n\n\n@api_view(['GET'])\n@use_form(SimpleForm)\ndef my_api(data):\n    print(f'Data: {data[\"test_int\"]} and {data[\"test_str\"]}')\n```\n\n## fan_tools.drf.pagination.ApiPageNumberPagination\n\nAllow turn off pagination by specifying zero page_zize.\n\n```\nREST_FRAMEWORK = {\n    'DEFAULT_PAGINATION_CLASS': 'fan_tools.drf.pagination.ApiPageNumberPagination',\n    ...\n}\n```\n\n## fan_tools.rest_framework.renderers.ApiRenderer\n\nPretty Django Rest Framework API renderer with error codes.\n\n```\nREST_FRAMEWORK = {\n    'DEFAULT_RENDERER_CLASSES': (\n        'fan_tools.drf.renderers.ApiRenderer',\n    },\n    ...\n}\n```\n\n## fan_tools.rest_framework.handlers.api_exception_handler\n\nPretty Django Rest Framework API exception handler with error codes.\n\n```\nREST_FRAMEWORK = {\n    'EXCEPTION_HANDLER': 'fan_tools.drf.handlers.api_exception_handler',\n    ...\n}\n```\n\n## fan_tools.drf.asserts.assert_validation_error\n\nHelper assert function to be used in tests to match the validation error codes.\n\n```\nassert_validation_error(response, 'email', 'unique')\n```\n\n## fan_tools.aio_utils.DbRecordsProcessorWorker\n\nAsyncio worker which wait for new records in postgres db table and process them.\n\n## fan_tools.aio_utils.dict_query/sql_update\naiopg shortcuts\n\n\n## fan_tools.python.execfile\n\nBackport of python's 2 `execfile` function.\n\nUsage: execfile('path/to/file.py', globals(), locals())\n\nReturns: True if file exists and executed, False if file doesn't exist\n\n\n## fan_tools.doc_utils.fan_sphinx\n\nSphinx extensions to generate documentation for django restframework serializers and examples for http requests.\n\nIn order to use them specify dependency for package installation:\n```\npip install fan_tools[doc_utils]\n```\n\nUsage:\n```\n# Add to Sphinx conf.py\nextensions = [\n    # ...\n    'fan_tools.doc_utils.fan_sphinx.dyn_serializer',\n    'fan_tools.doc_utils.fan_sphinx.http_log'\n]\n```\n\n## Commands\n\n### fan_env_yaml\n\nConvert template yaml with substituion of `%{ENV_NAME}` strings to appropriate environment variables.\n\nUsage: `fan_env_yaml src_file dst_file`\n\n\n### fan_ci_script\n\nHelper to run default CI pipeline. Defaults are set up for [giltab defaults](https://docs.gitlab.com/ee/ci/variables/#predefined-variables-environment-variables). Includes stages:\n\n* build docker image with temporary name (commit sha by default)\n* run tests (optional)\n* push branch (by default only for master and staging branches)\n* push tag, if there are tags\n* cache image with common name\n* delete image with temporary name\n\nIt's optimized for parallel launches, so you need to use unique temporary name (`--temp-name`). We want keep our system clean if possible, so we'll delete this tag in the end. But we don't want to repeat basic steps over and over, so we will cache image with common cache name (`--cache-name`), it will remove previous cached image.\n\n### fan_wait\n\nWait for socket awailable/not-awailable with timeout.\n\n```\n# Wait until database port up for 180 seconds\nfan_wait -t 180 postgres 5432\n\n# Wait until nginx port down for 30 seconds\nfan_wait -t 30 nginx 80\n```\n\n### run_filebeat\n\n* checks environmental variables `-e KEY=VALUE -e KEY2=VALUE2`\n* converts yaml template `fan_env_yaml {TEMPLATE} /tmp/filebeat.yml`\n* run `/usr/bin/filebeat /tmp/filebeat.yml`\n\n```\nrun_filebeat -e CHECKME=VALUE path_to_template\n```\n\n\n### doc_serializer\n\n* output rst with list of serializers\n* generates documentation artifacts for serializers\n\n```\nusage: doc_serializer [-h] [--rst] [--artifacts]\n\nParse serializers sources\n\noptional arguments:\n  -h, --help   show this help message and exit\n  --rst        Output rst with serializers\n  --artifacts  Write serializers artifacts\n```\n\n\n### image_utils.Transpose\n\nSave rotated by exif tag images. Some browsers/applications don't respect this tag, \nso it is easier to do that explicitly.\n\n```python\nclass Image(models.Model):\n    uploaded_by = models.ForeignKey(User, blank=True, null=True, on_delete=models.SET_NULL)\n\n    image = models.ImageField(blank=True, upload_to=image_upload_to)\n    thumb_image = models.ImageField(blank=True, upload_to=thumb_upload_to)\n\n    full_url = models.CharField(blank=True, max_length=255)\n    thumb_url = models.CharField(blank=True, max_length=255)\n\n    created = models.DateTimeField(auto_now_add=True)\n    updated = models.DateTimeField(auto_now=True)\n\nclass ImageSerializer(ModelSerializer):\n    class Meta:\n        model = Image\n        fields = ['id', 'created', 'updated', 'full_url', 'thumb_url']\n\nclass UploadImageView(views.GenericAPIView):\n    permission_classes = [IsAuthenticated]\n\n    def post(self, request, *args, **kwargs):\n        image_data = request.data['image']\n        # Fix an image orientation based on exif and remove exif from the resulted image.\n        transformed_image = Transpose().process(image_data)\n        obj = Image.objects.create(uploaded_by=request.user, image=transformed_image)\n        obj.full_url = obj.image.url\n        obj.save()\n\n        s = ImageSerializer(instance=obj)\n        return Response(s.data)\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/micro-fan/fan_tools", "keywords": "testing,asyncio", "license": "", "maintainer": "", "maintainer_email": "", "name": "fan-tools", "package_url": "https://pypi.org/project/fan-tools/", "platform": "", "project_url": "https://pypi.org/project/fan-tools/", "project_urls": {"Homepage": "http://github.com/micro-fan/fan_tools"}, "release_url": "https://pypi.org/project/fan-tools/2.6.2/", "requires_dist": ["pyyaml (>=3.12)", "python-json-logger (>=0.1.5)", "py (>=1.5)", "aiopg ; extra == 'aio_utils'", "psycopg2-binary ; extra == 'aio_utils'", "rest-framework-dyn-serializer (>=1.3.*) ; extra == 'doc_utils'", "docutils ; extra == 'doc_utils'", "djangorestframework (==3.7.*) ; extra == 'doc_utils'", "google-cloud-storage ; extra == 'gcloud_backup'", "python-gitlab (==1.0.2) ; extra == 'gitlab_monitoring'", "sanic ; extra == 'gitlab_monitoring'", "Pillow ; extra == 'image_utils'", "safe-logger (>=1.2.1) ; extra == 'logging'", "python-json-logger (==0.1.7) ; extra == 'logging'", "sanic ; extra == 'monitoring'", "boto3 ; extra == 's3_backup'"], "requires_python": "", "summary": "Various python stuff: testing, aio helpers, etc", "version": "2.6.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>About this package</h1>\n<p><a href=\"https://travis-ci.org/micro-fan/fan_tools\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/27acc5beb7e2b2549e05d19f9a96b32fc5c54c9e/68747470733a2f2f7472617669732d63692e6f72672f6d6963726f2d66616e2f66616e5f746f6f6c732e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.python.org/pypi/fan_tools\" rel=\"nofollow\"><img alt=\"PyPi version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c99dbcb3351173e2875815978b4b7d64c3e3c612/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f66616e5f746f6f6c732e737667\"></a></p>\n<p>Here are set of internal tools that are shared between different projects internally. Originally most tools related to testing, so they provide some base classes for various cases in testing</p>\n<p><strong>NOTE: all our tools are intentially support only 3.5+ python.</strong>\nSome might work with other versions, but we're going to be free from all these crutches to backport things like <code>async/await</code> to lower versions, so if it works - fine, if not - feel free to send PR, but it isn't going to be merged all times.</p>\n<h2>Testing helpers</h2>\n<h3>ApiUrls</h3>\n<p>Defined in <code>fan_tools/testing/__init__.py</code>. Required for defining nested urls with formatting.</p>\n<p>You can use it in fixtures, like:</p>\n<pre><span class=\"nd\">@pytest</span><span class=\"o\">.</span><span class=\"n\">fixture</span><span class=\"p\">(</span><span class=\"n\">scope</span><span class=\"o\">=</span><span class=\"s1\">'session'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">api</span><span class=\"p\">(</span><span class=\"n\">api_v_base</span><span class=\"p\">):</span>\n    <span class=\"k\">yield</span> <span class=\"n\">ApiUrls</span><span class=\"p\">(</span><span class=\"s1\">'</span><span class=\"si\">{}</span><span class=\"s1\">/'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">api_v_base</span><span class=\"p\">),</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'password_reset_request'</span><span class=\"p\">:</span> <span class=\"s1\">'password/request/code/'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'password_reset'</span><span class=\"p\">:</span> <span class=\"s1\">'password/reset/'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'user_review_list'</span><span class=\"p\">:</span> <span class=\"s1\">'user/</span><span class=\"si\">{user_id}</span><span class=\"s1\">/review/'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'user_review'</span><span class=\"p\">:</span> <span class=\"s1\">'user/</span><span class=\"si\">{user_id}</span><span class=\"s1\">/review/</span><span class=\"si\">{review_id}</span><span class=\"s1\">/'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'wine_review'</span><span class=\"p\">:</span> <span class=\"s1\">'wine/</span><span class=\"si\">{wine_id}</span><span class=\"s1\">/review/'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'drink_review'</span><span class=\"p\">:</span> <span class=\"s1\">'drink/</span><span class=\"si\">{drink_id}</span><span class=\"s1\">/review/'</span><span class=\"p\">,</span>\n    <span class=\"p\">})</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">test_review_list</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"p\">,</span> <span class=\"n\">api</span><span class=\"p\">):</span>\n    <span class=\"n\">resp</span> <span class=\"o\">=</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">get_json</span><span class=\"p\">(</span><span class=\"n\">api</span><span class=\"o\">.</span><span class=\"n\">user_review_list</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"o\">=</span><span class=\"n\">user1</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">),</span> <span class=\"p\">{</span><span class=\"s1\">'page_size'</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">})</span>\n</pre>\n<h3>PropsMeta</h3>\n<p>You can find source in <code>fan_tools/testing/meta.py</code>.</p>\n<p>For now it convert methods that are started with <code>prop__</code> into descriptors with cache.</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">A</span><span class=\"p\">(</span><span class=\"n\">metaclass</span><span class=\"o\">=</span><span class=\"n\">PropsMeta</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">prop__conn</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">conn</span> <span class=\"o\">=</span> <span class=\"n\">SomeConnection</span><span class=\"p\">()</span>\n        <span class=\"k\">return</span> <span class=\"n\">conn</span>\n</pre>\n<p>Became:</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">A</span><span class=\"p\">:</span>\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">conn</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"s1\">'__conn'</span><span class=\"p\">):</span>\n            <span class=\"nb\">setattr</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"s1\">'__conn'</span><span class=\"p\">,</span> <span class=\"n\">SomeConnection</span><span class=\"p\">())</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__conn</span>\n</pre>\n<p>Thus it allows quite nice style of testing with lazy initialization. Like:</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">MyTest</span><span class=\"p\">(</span><span class=\"n\">TestCase</span><span class=\"p\">,</span> <span class=\"n\">metaclass</span><span class=\"o\">=</span><span class=\"n\">PropsMeta</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">prop__conn</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">psycopg2</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">prop__cursor</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">cursor</span><span class=\"p\">()</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">test_simple_query</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cursor</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"s1\">'select 1;'</span><span class=\"p\">)</span>\n        <span class=\"n\">row</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">cursor</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()</span>\n        <span class=\"k\">assert</span> <span class=\"n\">row</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">'Row: </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)</span>\n</pre>\n<p>Here you just get and use <code>self.cursor</code>, but automatically you get connection and cursor and cache they.</p>\n<p>This is just simple example, complex tests can use more deep relations in tests. And this approach is way more easier and faster than complex <code>setUp</code> methods.</p>\n<h3>AIOTestCase</h3>\n<p><strong>NOTE: we're highly suggest to use pytest alongside with existing async tests plugins</strong></p>\n<p>Base for asyncronous test cases, you can use it as drop-in replacement for pre-existent tests to be able:</p>\n<ul>\n<li>write asyncronous test methods</li>\n<li>write asyncronous <code>setUp</code> and <code>tearDown</code> methods</li>\n<li>use asyncronous function in <code>assertRaises</code></li>\n</ul>\n<pre><span class=\"k\">class</span> <span class=\"nc\">ExampleCase</span><span class=\"p\">(</span><span class=\"n\">AIOTestCase</span><span class=\"p\">):</span>\n    <span class=\"k\">async</span> <span class=\"n\">setUp</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">await</span> <span class=\"n\">async_setup</span><span class=\"p\">()</span>\n\n    <span class=\"k\">async</span> <span class=\"n\">tearDown</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">await</span> <span class=\"n\">async_teardown</span><span class=\"p\">()</span>\n\n    <span class=\"k\">async</span> <span class=\"n\">division</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"mi\">1</span><span class=\"o\">/</span><span class=\"mi\">0</span>\n\n    <span class=\"k\">async</span> <span class=\"n\">test_example</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">await</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">assertRaises</span><span class=\"p\">(</span><span class=\"ne\">ZeroDivisionError</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">async_division</span><span class=\"p\">)</span>\n</pre>\n<h2>fan_tools.unix helpers</h2>\n<p>Basic unix helpers</p>\n<ul>\n<li>run - run command in shell</li>\n<li>succ - wrapper around <code>run</code> with return code and stderr check</li>\n<li>wait_socket - wait for socket awailable (eg. you can wait for postgresql with <code>wait_socket('localhost', 5432)</code></li>\n<li>asucc - asynchronous version of <code>succ</code> for use with <code>await</code>. supports realtime logging</li>\n<li>source - acts similar to bash 'source' or '.' commands.</li>\n<li>cd - contextmanager to do something with temporarily changed directory</li>\n</ul>\n<h4>interpolate_sysenv</h4>\n<p>Format string with system variables + defaults.</p>\n<pre><span class=\"n\">PG_DEFAULTS</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'PGDATABASE'</span><span class=\"p\">:</span> <span class=\"s1\">'postgres'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'PGPORT'</span><span class=\"p\">:</span> <span class=\"mi\">5432</span><span class=\"p\">,</span>\n    <span class=\"s1\">'PGHOST'</span><span class=\"p\">:</span> <span class=\"s1\">'localhost'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'PGUSER'</span><span class=\"p\">:</span> <span class=\"s1\">'postgres'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'PGPASSWORD'</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"p\">}</span>\n<span class=\"n\">DSN</span> <span class=\"o\">=</span> <span class=\"n\">interpolate_sysenv</span><span class=\"p\">(</span><span class=\"s1\">'postgresql://</span><span class=\"si\">{PGUSER}</span><span class=\"s1\">:</span><span class=\"si\">{PGPASSWORD}</span><span class=\"s1\">@</span><span class=\"si\">{PGHOST}</span><span class=\"s1\">:</span><span class=\"si\">{PGPORT}</span><span class=\"s1\">/</span><span class=\"si\">{PGDATABASE}</span><span class=\"s1\">'</span><span class=\"p\">,</span> <span class=\"n\">PG_DEFAULTS</span><span class=\"p\">)</span>\n</pre>\n<h2>fan_tools.fan_logging.JSFormatter</h2>\n<p>Enable json output with additional fields, suitable for structured logging into ELK or similar solutions.</p>\n<p>Accepts <code>env_vars</code> key with environmental keys that should be included into log.</p>\n<pre><span class=\"c1\"># this example uses safe_logger as handler (pip install safe_logger)</span>\n<span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n<span class=\"kn\">import</span> <span class=\"nn\">logging.config</span>\n\n\n<span class=\"n\">LOGGING</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'version'</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n    <span class=\"s1\">'disable_existing_loggers'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'formatters'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'json'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s1\">'()'</span><span class=\"p\">:</span> <span class=\"s1\">'fan_tools.fan_logging.JSFormatter'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'env_vars'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'HOME'</span><span class=\"p\">],</span>\n        <span class=\"p\">},</span>\n        <span class=\"s1\">'standard'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s1\">'format'</span><span class=\"p\">:</span> <span class=\"s1\">'</span><span class=\"si\">%(asctime)s</span><span class=\"s1\"> [</span><span class=\"si\">%(levelname)s</span><span class=\"s1\">] </span><span class=\"si\">%(name)s</span><span class=\"s1\">: </span><span class=\"si\">%(message)s</span><span class=\"s1\">'</span>\n        <span class=\"p\">},</span>\n    <span class=\"p\">},</span>\n    <span class=\"s1\">'handlers'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'default'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s1\">'level'</span><span class=\"p\">:</span> <span class=\"s1\">'DEBUG'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'class'</span><span class=\"p\">:</span> <span class=\"s1\">'safe_logger.TimedRotatingFileHandlerSafe'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'filename'</span><span class=\"p\">:</span> <span class=\"s1\">'test_json.log'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'when'</span><span class=\"p\">:</span> <span class=\"s1\">'midnight'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'interval'</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n            <span class=\"s1\">'backupCount'</span><span class=\"p\">:</span> <span class=\"mi\">30</span><span class=\"p\">,</span>\n            <span class=\"s1\">'formatter'</span><span class=\"p\">:</span> <span class=\"s1\">'json'</span><span class=\"p\">,</span>\n            <span class=\"p\">},</span>\n    <span class=\"p\">},</span>\n    <span class=\"s1\">'loggers'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"s1\">''</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s1\">'handlers'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'default'</span><span class=\"p\">],</span>\n            <span class=\"s1\">'level'</span><span class=\"p\">:</span> <span class=\"s1\">'DEBUG'</span><span class=\"p\">,</span>\n        <span class=\"p\">},</span>\n    <span class=\"p\">},</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">dictConfig</span><span class=\"p\">(</span><span class=\"n\">LOGGING</span><span class=\"p\">)</span>\n<span class=\"n\">log</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s1\">'TestLogger'</span><span class=\"p\">)</span>\n\n<span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s1\">'test debug'</span><span class=\"p\">)</span>\n<span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">'test info'</span><span class=\"p\">)</span>\n<span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span><span class=\"s1\">'test warn'</span><span class=\"p\">)</span>\n<span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s1\">'test error'</span><span class=\"p\">)</span>\n</pre>\n<h2>fan_tools.mon_server.MetricsServer</h2>\n<p>Sanic based server that servers metrics in prometheus format.</p>\n<pre><code>from sanic import Sanic\n\nfrom fan_tools.mon_server import MetricsServer\nfrom fan_tools.mon_server.certs import update_certs_loop\n\napp = Sanic()\nmserver = MetricsServer(app, status_metric='running{server=\"localhost\"}')\nmserver.add_task(update_certs_loop, hosts=['gettipsi.com', 'proofnetwork.io'])\napp.run(host='0.0.0.0', port=8000)\n</code></pre>\n<h2>fan_tools.backup</h2>\n<p>There are two backup helpers: <code>fan_tools.backup.s3.S3backup</code> and <code>fan_tools.backup.gcloud.GCloud</code></p>\n<p>We're assuming that backup script has access to backup execution and dump directory.</p>\n<p>Default setup includes support for docker container that access DB.</p>\n<p>By default script provides interface for monitoring (last backup date).</p>\n<p><code>fan_tools.backup.s3.S3backup</code> provides external script called <code>fan_s3_backup</code> that has accepts some configuration via environmental variables.</p>\n<ul>\n<li><em>ENABLE_BACKUP</em> - you need enable this by setting to non <code>false</code> value, default: false</li>\n<li><em>BACKUP_DB_CONTAINER</em> - container for backup command execution</li>\n<li><em>BACKUP_DB_SCRIPT</em> - command for exectuion on db server from above. default: <code>/create_backup.py</code></li>\n<li><em>BACKUP_COMMAND</em> - overrides all above</li>\n<li><code>-b/--bucket</code> - to define bucket. default for s3: environmental variable <em>AWS_BACKUP_BUCKET</em></li>\n<li><em>BACKUP_PREFIX</em> or <code>-p/--prefix</code> - directory backup prefix, usually it is subfolder for dumps, default: <code>backups/</code></li>\n<li><code>-d/--daemonize</code> - should we run in daemonized mode</li>\n<li><em>MONITORING_PORT</em> - port for listen when run in daemonized mode. default: 80</li>\n</ul>\n<p>S3 specific:</p>\n<ul>\n<li><em>AWS_BACKUP_KEY</em></li>\n<li><em>AWS_BACKUP_SECRET</em></li>\n<li><em>AWS_BACKUP_BUCKET</em></li>\n</ul>\n<h2>fan_tools.drf.serializers.EnumSerializer</h2>\n<p>Allow you to deserealize incoming strings into <code>Enum</code> values.\nYou should add <code>EnumSerializer</code> into your serializers by hand.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">enum</span> <span class=\"kn\">import</span> <span class=\"n\">IntEnum</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">rest_framework</span> <span class=\"kn\">import</span> <span class=\"n\">serializers</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">fan_tools.drf.serializers</span> <span class=\"kn\">import</span> <span class=\"n\">EnumSerializer</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">MyEnum</span><span class=\"p\">(</span><span class=\"n\">IntEnum</span><span class=\"p\">):</span>\n  <span class=\"n\">one</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n  <span class=\"n\">two</span> <span class=\"o\">=</span> <span class=\"mi\">2</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">ExampleModel</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n  <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">IntegerField</span><span class=\"p\">(</span><span class=\"n\">choices</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"n\">MyEnum</span><span class=\"p\">])</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">ExampleSerializer</span><span class=\"p\">(</span><span class=\"n\">serializers</span><span class=\"o\">.</span><span class=\"n\">ModelSerializer</span><span class=\"p\">):</span>\n  <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">EnumSerializer</span><span class=\"p\">(</span><span class=\"n\">MyEnum</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># this allows you to post value as: {'value': 'one'}</span>\n</pre>\n<p>Due to <code>Enum</code> and <code>IntegerField</code> realizations you may use <code>Enum.value</code> in querysets</p>\n<pre><span class=\"n\">ExampleModel</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"o\">=</span><span class=\"n\">MyEnum</span><span class=\"o\">.</span><span class=\"n\">two</span><span class=\"p\">)</span>\n</pre>\n<h2>fan_tools.django.log_requests.LoggerMiddleware</h2>\n<p>LoggerMiddleware will log request meta + raw post data into log.</p>\n<p>For django&lt;1.10 please use <code>fan_tools.django.log_requests.DeprecatedLoggerMiddleware</code></p>\n<h2>fan_tools.django.request_uniq</h2>\n<p>Decorator adds a unique for each uwsgi request dict as first function\nargument.\nFor tests mock <code>_get_request_unique_cache</code></p>\n<h2>fan_tools.django.call_once_on_commit</h2>\n<p>Make function called only once on transaction commit. Here is examples\nwhere function <code>do_some_useful</code> will be called only once after\ntransaction has been committed.</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">SomeModel</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">IntegerField</span><span class=\"p\">()</span>\n\n<span class=\"nd\">@call_once_on_commit</span>\n<span class=\"k\">def</span> <span class=\"nf\">do_some_useful</span><span class=\"p\">():</span>\n    <span class=\"k\">pass</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">hook</span><span class=\"p\">(</span><span class=\"n\">sender</span><span class=\"p\">,</span> <span class=\"n\">instance</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n    <span class=\"n\">do_some_useful</span><span class=\"p\">()</span>\n\n<span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">signals</span><span class=\"o\">.</span><span class=\"n\">post_save</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"n\">hook</span><span class=\"p\">,</span> <span class=\"n\">sender</span><span class=\"o\">=</span><span class=\"n\">SomeModel</span><span class=\"p\">)</span>\n\n<span class=\"k\">with</span> <span class=\"n\">transaction</span><span class=\"o\">.</span><span class=\"n\">atomic</span><span class=\"p\">():</span>\n    <span class=\"n\">some_model</span> <span class=\"o\">=</span> <span class=\"n\">SomeModel</span><span class=\"p\">()</span>\n    <span class=\"n\">some_model</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s1\">'One'</span>\n    <span class=\"n\">some_model</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n    <span class=\"n\">some_model</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s1\">'Two'</span>\n    <span class=\"n\">some_model</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre>\n<p>For tests with nested transactions (commit actually most times is not\ncalled) it is useful to override behaviour <code>call_once_on_commit</code>\nwhen decorated function executed right in place where it is called.\nTo do so mock <code>on_commit</code> function. Example pytest fixture:</p>\n<pre><code>@pytest.fixture(scope='session', autouse=True)\ndef immediate_on_commit():\n    def side_effect():\n        return lambda f: f()\n\n    with mock.patch('fan_tools.django.on_commit', side_effect=side_effect) as m:\n        yield m\n\n</code></pre>\n<h2>fan_tools.django.fields.ChoicesEnum</h2>\n<p>Used for choices attribute for in model field</p>\n<pre><code>class FooBarEnum(ChoicesEnum):\n    foo = 1\n    bar = 2\n\nclass ExampleModel(models.Model):\n    type = models.IntegerField(choices=FooBarEnum.get_choices())\n</code></pre>\n<h2>fan_tools.django.db.utils.set_word_similarity_threshold</h2>\n<p>Allow to set postgres trigram word similarity threshold for default django database connection</p>\n<pre><code>set_word_similarity_threshold(0.4)\n</code></pre>\n<h2>fan_tools.django.contrib.postgres.models.LTreeModel</h2>\n<p>Django Model containing postgres ltree</p>\n<pre><code>class LTreeExampleModel(LTreeModel):\n</code></pre>\n<h2>fan_tools.django.contrib.postgres.fields.LTreeDescendants</h2>\n<p>Lookup for postgres ltree descendants</p>\n<pre><code>LTreeExampleModel.objects.filter(path__descendants='root.level1')\n</code></pre>\n<h2>fan_tools.django.contrib.postgres.fields.LTreeNlevel</h2>\n<p>Lookup for postgres ltree by level depth</p>\n<pre><code>LTreeExampleModel.objects.filter(path__nlevel=2)\n</code></pre>\n<h2>fan_tools.django.db.pgfields.SimilarityLookup</h2>\n<p>Postgres <code>text %&gt; text</code> operator</p>\n<pre><code># Add this import to models.py (file should be imported before lookup usage)\nimport fan_tools.django.db.pgfields  # noqa\n\nBooks.objects.filter(title__similar='Animal Farm')\n</code></pre>\n<h2>fan_tools.django.db.pgfields.WordSimilarity</h2>\n<p>Postgres <code>text1 &lt;&lt;-&gt; text2</code> operator. It returns <code>1 - word_similarity(text1, text2)</code></p>\n<pre><code>from django.db.models import Value, F\n\nsimilarity = WordSimilarity(Value('Animal Farm'), F('title'))\nBooks.objects.annotate(similarity=similarity)\n</code></pre>\n<h2>fan_tools.drf.filters.NumberInFilter</h2>\n<p>Django filter that match if integer is in the integers list separated by comma</p>\n<pre><code>class ExampleFilterSet(FilterSet):\n    example_values = NumberInFilter(field_name='example_value', lookup_expr='in')\n</code></pre>\n<h2>fan_tools.django.mail.Mail</h2>\n<p>Send text and html emails using django templates.</p>\n<pre><code>Mail(\n    recipient_list=[user.email],\n    template_name='user/emails/reset_password',\n    context={\n        'frontend_url': settings.FRONTEND_URL,\n    },\n).send()\n</code></pre>\n<h2>fan_tools.django.url.build_absolute_uri</h2>\n<p>Get domain section of absolute url of current page using django request object.</p>\n<pre><code>build_absolute_uri(request)\n</code></pre>\n<h2>fan_tools.drf.forms.use_form</h2>\n<p>Helps to use power of serializers for simple APIs checks.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">rest_framework</span> <span class=\"kn\">import</span> <span class=\"n\">serializers</span>\n<span class=\"kn\">from</span> <span class=\"nn\">rest_framework.decorators</span> <span class=\"kn\">import</span> <span class=\"n\">api_view</span>\n<span class=\"kn\">from</span> <span class=\"nn\">fan_tools.drf</span> <span class=\"kn\">import</span> <span class=\"n\">use_form</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">SimpleForm</span><span class=\"p\">(</span><span class=\"n\">serializers</span><span class=\"o\">.</span><span class=\"n\">Serializer</span><span class=\"p\">):</span>\n    <span class=\"n\">test_int</span> <span class=\"o\">=</span> <span class=\"n\">serializers</span><span class=\"o\">.</span><span class=\"n\">IntegerField</span><span class=\"p\">()</span>\n    <span class=\"n\">test_str</span> <span class=\"o\">=</span> <span class=\"n\">serializers</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">()</span>\n\n\n<span class=\"nd\">@api_view</span><span class=\"p\">([</span><span class=\"s1\">'GET'</span><span class=\"p\">])</span>\n<span class=\"nd\">@use_form</span><span class=\"p\">(</span><span class=\"n\">SimpleForm</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">my_api</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'Data: </span><span class=\"si\">{</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s2\">\"test_int\"</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\"> and </span><span class=\"si\">{</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s2\">\"test_str\"</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n</pre>\n<h2>fan_tools.drf.pagination.ApiPageNumberPagination</h2>\n<p>Allow turn off pagination by specifying zero page_zize.</p>\n<pre><code>REST_FRAMEWORK = {\n    'DEFAULT_PAGINATION_CLASS': 'fan_tools.drf.pagination.ApiPageNumberPagination',\n    ...\n}\n</code></pre>\n<h2>fan_tools.rest_framework.renderers.ApiRenderer</h2>\n<p>Pretty Django Rest Framework API renderer with error codes.</p>\n<pre><code>REST_FRAMEWORK = {\n    'DEFAULT_RENDERER_CLASSES': (\n        'fan_tools.drf.renderers.ApiRenderer',\n    },\n    ...\n}\n</code></pre>\n<h2>fan_tools.rest_framework.handlers.api_exception_handler</h2>\n<p>Pretty Django Rest Framework API exception handler with error codes.</p>\n<pre><code>REST_FRAMEWORK = {\n    'EXCEPTION_HANDLER': 'fan_tools.drf.handlers.api_exception_handler',\n    ...\n}\n</code></pre>\n<h2>fan_tools.drf.asserts.assert_validation_error</h2>\n<p>Helper assert function to be used in tests to match the validation error codes.</p>\n<pre><code>assert_validation_error(response, 'email', 'unique')\n</code></pre>\n<h2>fan_tools.aio_utils.DbRecordsProcessorWorker</h2>\n<p>Asyncio worker which wait for new records in postgres db table and process them.</p>\n<h2>fan_tools.aio_utils.dict_query/sql_update</h2>\n<p>aiopg shortcuts</p>\n<h2>fan_tools.python.execfile</h2>\n<p>Backport of python's 2 <code>execfile</code> function.</p>\n<p>Usage: execfile('path/to/file.py', globals(), locals())</p>\n<p>Returns: True if file exists and executed, False if file doesn't exist</p>\n<h2>fan_tools.doc_utils.fan_sphinx</h2>\n<p>Sphinx extensions to generate documentation for django restframework serializers and examples for http requests.</p>\n<p>In order to use them specify dependency for package installation:</p>\n<pre><code>pip install fan_tools[doc_utils]\n</code></pre>\n<p>Usage:</p>\n<pre><code># Add to Sphinx conf.py\nextensions = [\n    # ...\n    'fan_tools.doc_utils.fan_sphinx.dyn_serializer',\n    'fan_tools.doc_utils.fan_sphinx.http_log'\n]\n</code></pre>\n<h2>Commands</h2>\n<h3>fan_env_yaml</h3>\n<p>Convert template yaml with substituion of <code>%{ENV_NAME}</code> strings to appropriate environment variables.</p>\n<p>Usage: <code>fan_env_yaml src_file dst_file</code></p>\n<h3>fan_ci_script</h3>\n<p>Helper to run default CI pipeline. Defaults are set up for <a href=\"https://docs.gitlab.com/ee/ci/variables/#predefined-variables-environment-variables\" rel=\"nofollow\">giltab defaults</a>. Includes stages:</p>\n<ul>\n<li>build docker image with temporary name (commit sha by default)</li>\n<li>run tests (optional)</li>\n<li>push branch (by default only for master and staging branches)</li>\n<li>push tag, if there are tags</li>\n<li>cache image with common name</li>\n<li>delete image with temporary name</li>\n</ul>\n<p>It's optimized for parallel launches, so you need to use unique temporary name (<code>--temp-name</code>). We want keep our system clean if possible, so we'll delete this tag in the end. But we don't want to repeat basic steps over and over, so we will cache image with common cache name (<code>--cache-name</code>), it will remove previous cached image.</p>\n<h3>fan_wait</h3>\n<p>Wait for socket awailable/not-awailable with timeout.</p>\n<pre><code># Wait until database port up for 180 seconds\nfan_wait -t 180 postgres 5432\n\n# Wait until nginx port down for 30 seconds\nfan_wait -t 30 nginx 80\n</code></pre>\n<h3>run_filebeat</h3>\n<ul>\n<li>checks environmental variables <code>-e KEY=VALUE -e KEY2=VALUE2</code></li>\n<li>converts yaml template <code>fan_env_yaml {TEMPLATE} /tmp/filebeat.yml</code></li>\n<li>run <code>/usr/bin/filebeat /tmp/filebeat.yml</code></li>\n</ul>\n<pre><code>run_filebeat -e CHECKME=VALUE path_to_template\n</code></pre>\n<h3>doc_serializer</h3>\n<ul>\n<li>output rst with list of serializers</li>\n<li>generates documentation artifacts for serializers</li>\n</ul>\n<pre><code>usage: doc_serializer [-h] [--rst] [--artifacts]\n\nParse serializers sources\n\noptional arguments:\n  -h, --help   show this help message and exit\n  --rst        Output rst with serializers\n  --artifacts  Write serializers artifacts\n</code></pre>\n<h3>image_utils.Transpose</h3>\n<p>Save rotated by exif tag images. Some browsers/applications don't respect this tag,\nso it is easier to do that explicitly.</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">Image</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">uploaded_by</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">ForeignKey</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"p\">,</span> <span class=\"n\">blank</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">null</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">on_delete</span><span class=\"o\">=</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">SET_NULL</span><span class=\"p\">)</span>\n\n    <span class=\"n\">image</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">ImageField</span><span class=\"p\">(</span><span class=\"n\">blank</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">upload_to</span><span class=\"o\">=</span><span class=\"n\">image_upload_to</span><span class=\"p\">)</span>\n    <span class=\"n\">thumb_image</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">ImageField</span><span class=\"p\">(</span><span class=\"n\">blank</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">upload_to</span><span class=\"o\">=</span><span class=\"n\">thumb_upload_to</span><span class=\"p\">)</span>\n\n    <span class=\"n\">full_url</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">blank</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">255</span><span class=\"p\">)</span>\n    <span class=\"n\">thumb_url</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">blank</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">255</span><span class=\"p\">)</span>\n\n    <span class=\"n\">created</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">DateTimeField</span><span class=\"p\">(</span><span class=\"n\">auto_now_add</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">updated</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">DateTimeField</span><span class=\"p\">(</span><span class=\"n\">auto_now</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">ImageSerializer</span><span class=\"p\">(</span><span class=\"n\">ModelSerializer</span><span class=\"p\">):</span>\n    <span class=\"k\">class</span> <span class=\"nc\">Meta</span><span class=\"p\">:</span>\n        <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">Image</span>\n        <span class=\"n\">fields</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'id'</span><span class=\"p\">,</span> <span class=\"s1\">'created'</span><span class=\"p\">,</span> <span class=\"s1\">'updated'</span><span class=\"p\">,</span> <span class=\"s1\">'full_url'</span><span class=\"p\">,</span> <span class=\"s1\">'thumb_url'</span><span class=\"p\">]</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">UploadImageView</span><span class=\"p\">(</span><span class=\"n\">views</span><span class=\"o\">.</span><span class=\"n\">GenericAPIView</span><span class=\"p\">):</span>\n    <span class=\"n\">permission_classes</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">IsAuthenticated</span><span class=\"p\">]</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">post</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"n\">image_data</span> <span class=\"o\">=</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">'image'</span><span class=\"p\">]</span>\n        <span class=\"c1\"># Fix an image orientation based on exif and remove exif from the resulted image.</span>\n        <span class=\"n\">transformed_image</span> <span class=\"o\">=</span> <span class=\"n\">Transpose</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">process</span><span class=\"p\">(</span><span class=\"n\">image_data</span><span class=\"p\">)</span>\n        <span class=\"n\">obj</span> <span class=\"o\">=</span> <span class=\"n\">Image</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">uploaded_by</span><span class=\"o\">=</span><span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">user</span><span class=\"p\">,</span> <span class=\"n\">image</span><span class=\"o\">=</span><span class=\"n\">transformed_image</span><span class=\"p\">)</span>\n        <span class=\"n\">obj</span><span class=\"o\">.</span><span class=\"n\">full_url</span> <span class=\"o\">=</span> <span class=\"n\">obj</span><span class=\"o\">.</span><span class=\"n\">image</span><span class=\"o\">.</span><span class=\"n\">url</span>\n        <span class=\"n\">obj</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n\n        <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">ImageSerializer</span><span class=\"p\">(</span><span class=\"n\">instance</span><span class=\"o\">=</span><span class=\"n\">obj</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">Response</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 6616447, "releases": {"2.0.0": [{"comment_text": "", "digests": {"md5": "ea3fa6779d8d0fe346360c3cceff0cc0", "sha256": "e1ed43547b2e6d5d0bb33c0533f28b8a05f563fb2db3a2cc948260b3f11022b6"}, "downloads": -1, "filename": "fan_tools-2.0.0.tar.gz", "has_sig": false, "md5_digest": "ea3fa6779d8d0fe346360c3cceff0cc0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 39080, "upload_time": "2019-11-26T10:16:25", "upload_time_iso_8601": "2019-11-26T10:16:25.836176Z", "url": "https://files.pythonhosted.org/packages/0b/e6/ce942e6743d78eca6508a7eb179949cf3153eeabb8e2c2a4fe929040c9e9/fan_tools-2.0.0.tar.gz", "yanked": false}], "2.1.0": [{"comment_text": "", "digests": {"md5": "6b930e3c9151a5f23dc37bf33c9a9d2b", "sha256": "c6340f2618ba3e609c89523ae6855e288b8cab4fc01f222069b45fb77eabeaa9"}, "downloads": -1, "filename": "fan_tools-2.1.0.tar.gz", "has_sig": false, "md5_digest": "6b930e3c9151a5f23dc37bf33c9a9d2b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 41162, "upload_time": "2019-12-13T10:53:18", "upload_time_iso_8601": "2019-12-13T10:53:18.190780Z", "url": "https://files.pythonhosted.org/packages/0c/43/0cf7a99ca55ff94367492dd8a8e8763b618b8baa7f7212900681b1f98285/fan_tools-2.1.0.tar.gz", "yanked": false}], "2.2.0": [{"comment_text": "", "digests": {"md5": "8313541e310d4747005078901b3a0381", "sha256": "380b9694789779565e46e8241ceb9ca0dd5b444d6e6b98a0c2fa67e1cd12dd1a"}, "downloads": -1, "filename": "fan_tools-2.2.0.tar.gz", "has_sig": false, "md5_digest": "8313541e310d4747005078901b3a0381", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 43239, "upload_time": "2019-12-17T13:26:21", "upload_time_iso_8601": "2019-12-17T13:26:21.248635Z", "url": "https://files.pythonhosted.org/packages/e4/b4/605ec342bd0d8341e6e63ed43678eafac53ed5e2f31e8e4e4b65d688bc73/fan_tools-2.2.0.tar.gz", "yanked": false}], "2.3.0": [{"comment_text": "", "digests": {"md5": "9f6a77ec49ebfc327930c93ca5cb33ed", "sha256": "61ef2548ac5c9180895b81f36c30ee97c0236d5d3dfbc2ae62596293c140d8ba"}, "downloads": -1, "filename": "fan_tools-2.3.0.tar.gz", "has_sig": false, "md5_digest": "9f6a77ec49ebfc327930c93ca5cb33ed", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 43389, "upload_time": "2019-12-19T11:52:14", "upload_time_iso_8601": "2019-12-19T11:52:14.236276Z", "url": "https://files.pythonhosted.org/packages/f9/91/8c3645219f0a4fa05228aa4c4c624ad081d09c4050811b6a4c036151c25d/fan_tools-2.3.0.tar.gz", "yanked": false}], "2.3.1": [{"comment_text": "", "digests": {"md5": "573a275ed75149125dd98be2814b7612", "sha256": "f729401a727e7779f8a15abd03a502e6de1fb356ad9656db1331abd9943d6f3d"}, "downloads": -1, "filename": "fan_tools-2.3.1.tar.gz", "has_sig": false, "md5_digest": "573a275ed75149125dd98be2814b7612", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 43496, "upload_time": "2019-12-20T12:45:10", "upload_time_iso_8601": "2019-12-20T12:45:10.874093Z", "url": "https://files.pythonhosted.org/packages/d3/9b/246e1db9ff0a9d64d953def6af54a08a419302ff5792b43e8b926c44ffd5/fan_tools-2.3.1.tar.gz", "yanked": false}], "2.3.2": [{"comment_text": "", "digests": {"md5": "421290bcee0e5871e14ed44036325e66", "sha256": "94122c8c1a2a5523e863874736a3cf07f2582b5194144cd3b0d4ebf1c94687e1"}, "downloads": -1, "filename": "fan_tools-2.3.2.tar.gz", "has_sig": false, "md5_digest": "421290bcee0e5871e14ed44036325e66", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 43499, "upload_time": "2019-12-20T12:56:26", "upload_time_iso_8601": "2019-12-20T12:56:26.264326Z", "url": "https://files.pythonhosted.org/packages/0f/a5/6af70affe77769813b0b9b0063615d4735871687fbf691ff2a333ff71770/fan_tools-2.3.2.tar.gz", "yanked": false}], "2.3.3": [{"comment_text": "", "digests": {"md5": "05e3bf25de9217c23c0a9f27f5cdb52c", "sha256": "d1edb7c5ac66e2353fe8eae10ceb3201a06433bf15d2f3dc7f3fdc6d2312a862"}, "downloads": -1, "filename": "fan_tools-2.3.3.tar.gz", "has_sig": false, "md5_digest": "05e3bf25de9217c23c0a9f27f5cdb52c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 43508, "upload_time": "2019-12-20T23:12:44", "upload_time_iso_8601": "2019-12-20T23:12:44.976739Z", "url": "https://files.pythonhosted.org/packages/08/2b/3c60d9793926e1882e6a2aadd95f05ebab90571183f0f10d86662205da86/fan_tools-2.3.3.tar.gz", "yanked": false}], "2.3.4": [{"comment_text": "", "digests": {"md5": "fd5f440040a74afce19a31cba776a3df", "sha256": "f3fb1807e5429a04f8f0c4b48497adee2c1f2cede018150216b27130168ba25d"}, "downloads": -1, "filename": "fan_tools-2.3.4.tar.gz", "has_sig": false, "md5_digest": "fd5f440040a74afce19a31cba776a3df", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 43484, "upload_time": "2019-12-20T23:25:11", "upload_time_iso_8601": "2019-12-20T23:25:11.851898Z", "url": "https://files.pythonhosted.org/packages/fa/57/bb1daa182953b51b672d0a4776cc396ac30bbe9123c1bd0ab78ff4b5acc2/fan_tools-2.3.4.tar.gz", "yanked": false}], "2.3.5": [{"comment_text": "", "digests": {"md5": "ae6806356acab359b7e2d6a29e96e210", "sha256": "90ea652b8f8bfd3dee49beded2c7ee7c4361cfdbb1e13a43f45b08e6c7b9e369"}, "downloads": -1, "filename": "fan_tools-2.3.5-py3-none-any.whl", "has_sig": false, "md5_digest": "ae6806356acab359b7e2d6a29e96e210", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 52949, "upload_time": "2020-01-28T11:57:07", "upload_time_iso_8601": "2020-01-28T11:57:07.275671Z", "url": "https://files.pythonhosted.org/packages/00/2f/7ce723e5085ace45e61e47cc52ff4af442916a2415fcfdcfe79a53ea759e/fan_tools-2.3.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "98c7ff996ba9f7a26d176743ca0a10b1", "sha256": "08fd5e986e05c9c052d6fd76f6830ae1337cfd59dd74f1c3dafd6682a424f2e3"}, "downloads": -1, "filename": "fan_tools-2.3.5.tar.gz", "has_sig": false, "md5_digest": "98c7ff996ba9f7a26d176743ca0a10b1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 47214, "upload_time": "2020-01-28T11:57:09", "upload_time_iso_8601": "2020-01-28T11:57:09.148743Z", "url": "https://files.pythonhosted.org/packages/1d/68/ba68140abfbbda4aeacdbc22cff02d4a79689c182cd75117930073b812ca/fan_tools-2.3.5.tar.gz", "yanked": false}], "2.4.0": [{"comment_text": "", "digests": {"md5": "0975f5b873bf7f1d571041bf9b70b77e", "sha256": "f6221b114807569390fc00ab49518e69093381eb0f4f951a7f4d71894662f27b"}, "downloads": -1, "filename": "fan_tools-2.4.0-py3-none-any.whl", "has_sig": false, "md5_digest": "0975f5b873bf7f1d571041bf9b70b77e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 52961, "upload_time": "2020-01-28T13:01:53", "upload_time_iso_8601": "2020-01-28T13:01:53.610015Z", "url": "https://files.pythonhosted.org/packages/e6/8c/568f347e8e3164cf3bea2b998a9ad20bfeb30b017b8343f957b51e0ecf16/fan_tools-2.4.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "10300ef7ff670853eb1fd63fd7d8d033", "sha256": "4a6c97000970baede3d4627b6ee21d7224cdcfecffd1a684dd6188ae0fc63388"}, "downloads": -1, "filename": "fan_tools-2.4.0.tar.gz", "has_sig": false, "md5_digest": "10300ef7ff670853eb1fd63fd7d8d033", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 47282, "upload_time": "2020-01-28T13:01:55", "upload_time_iso_8601": "2020-01-28T13:01:55.820880Z", "url": "https://files.pythonhosted.org/packages/4c/68/784e796ef0e3c0667d67ec4a7f69e6f5c4973a98bfcbd3f87723d1a77266/fan_tools-2.4.0.tar.gz", "yanked": false}], "2.5.0": [{"comment_text": "", "digests": {"md5": "112f0eebf4b0ccbd036fe10ada47749a", "sha256": "e80d18140d4955e2ccb672290860713c4d4e332771f85ab1fc9a7d727d126065"}, "downloads": -1, "filename": "fan_tools-2.5.0-py3-none-any.whl", "has_sig": false, "md5_digest": "112f0eebf4b0ccbd036fe10ada47749a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 52972, "upload_time": "2020-02-11T13:31:38", "upload_time_iso_8601": "2020-02-11T13:31:38.289125Z", "url": "https://files.pythonhosted.org/packages/ba/9f/26b09e821dc0d6fe55abfed227fef6c36185a1b64717bd926fa3dd50c191/fan_tools-2.5.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f5a8f5a6f80d27eafa9036656bb50743", "sha256": "5a24ec81a951004fd609d4b90403aa13205e0a13f68e889a16435e7a465332b8"}, "downloads": -1, "filename": "fan_tools-2.5.0.tar.gz", "has_sig": false, "md5_digest": "f5a8f5a6f80d27eafa9036656bb50743", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 47300, "upload_time": "2020-02-11T13:31:40", "upload_time_iso_8601": "2020-02-11T13:31:40.467816Z", "url": "https://files.pythonhosted.org/packages/38/c9/81cbcee8f837026620be64055404d464e642e882bb377b3b9ff528f68e35/fan_tools-2.5.0.tar.gz", "yanked": false}], "2.6.0": [{"comment_text": "", "digests": {"md5": "db7344504fd0ca84f61ca3df5299e35e", "sha256": "1a6a79f80874d0ce5d39c6f09a6951fc4741323ac7089c5bae9720fbb6fdc702"}, "downloads": -1, "filename": "fan_tools-2.6.0-py3-none-any.whl", "has_sig": false, "md5_digest": "db7344504fd0ca84f61ca3df5299e35e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 53034, "upload_time": "2020-02-11T18:06:59", "upload_time_iso_8601": "2020-02-11T18:06:59.847492Z", "url": "https://files.pythonhosted.org/packages/de/53/30998cbfb105dd74a571353b6fe96f0237037ba18f8df593851783e7555e/fan_tools-2.6.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e98b34d0db40e433b6bc57deddea7668", "sha256": "8147defa07c21465f2878d221989cb7ba6b63418277908ca5af1d7480446ad37"}, "downloads": -1, "filename": "fan_tools-2.6.0.tar.gz", "has_sig": false, "md5_digest": "e98b34d0db40e433b6bc57deddea7668", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 47363, "upload_time": "2020-02-11T18:07:02", "upload_time_iso_8601": "2020-02-11T18:07:02.028832Z", "url": "https://files.pythonhosted.org/packages/7e/25/6f4eb9ccd940a252155e953c2b117efa3476f1bfd540d0b107b56093fc8c/fan_tools-2.6.0.tar.gz", "yanked": false}], "2.6.1": [{"comment_text": "", "digests": {"md5": "c3c2539cd8f9c9207bbdff19fac3829e", "sha256": "310053cc6729562ea25fb237a004a8a8f96c886bfb9afc3a9def5ba4b791fd24"}, "downloads": -1, "filename": "fan_tools-2.6.1-py3-none-any.whl", "has_sig": false, "md5_digest": "c3c2539cd8f9c9207bbdff19fac3829e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 53033, "upload_time": "2020-02-12T12:31:56", "upload_time_iso_8601": "2020-02-12T12:31:56.936711Z", "url": "https://files.pythonhosted.org/packages/5d/28/24bf54a7bb31316a2e4019ed14cc1df1b506057ad419bfee7cf778b28666/fan_tools-2.6.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "043e9350767b7488084baeb79038c9d8", "sha256": "2fa3e3df88b6b09148f2453137f5a3c11a472dd87a670da9edc37bbf0d4b75fa"}, "downloads": -1, "filename": "fan_tools-2.6.1.tar.gz", "has_sig": false, "md5_digest": "043e9350767b7488084baeb79038c9d8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 47387, "upload_time": "2020-02-12T12:31:59", "upload_time_iso_8601": "2020-02-12T12:31:59.107600Z", "url": "https://files.pythonhosted.org/packages/70/3b/d4e837535f5abc22c1e5ab8da5b08de172663a6b7211fd039d0cd5ddcc01/fan_tools-2.6.1.tar.gz", "yanked": false}], "2.6.2": [{"comment_text": "", "digests": {"md5": "322763eec911a88ed6becc004d0e89ed", "sha256": "1709bda5fc1eab9816bcd59ba85305b439c29f637d9c00e2678938740e2de8f7"}, "downloads": -1, "filename": "fan_tools-2.6.2-py3-none-any.whl", "has_sig": false, "md5_digest": "322763eec911a88ed6becc004d0e89ed", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 53049, "upload_time": "2020-02-12T14:15:11", "upload_time_iso_8601": "2020-02-12T14:15:11.838961Z", "url": "https://files.pythonhosted.org/packages/6d/d6/d59c1f8ab0be6c025e2cb9701039b3c0a1745754d7cf3df1fecc03ca7424/fan_tools-2.6.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "860cf96827e8a7650d7a8d77cf2bff8a", "sha256": "6b340f57fab733452bc73afd0dc35950478bbf6a959d3527013f578e6367caa0"}, "downloads": -1, "filename": "fan_tools-2.6.2.tar.gz", "has_sig": false, "md5_digest": "860cf96827e8a7650d7a8d77cf2bff8a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 47374, "upload_time": "2020-02-12T14:15:13", "upload_time_iso_8601": "2020-02-12T14:15:13.685860Z", "url": "https://files.pythonhosted.org/packages/09/de/dce6adbf9697868de2d62e710d8af2b04f7d096fa6ca8c4e34633a53d10b/fan_tools-2.6.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "322763eec911a88ed6becc004d0e89ed", "sha256": "1709bda5fc1eab9816bcd59ba85305b439c29f637d9c00e2678938740e2de8f7"}, "downloads": -1, "filename": "fan_tools-2.6.2-py3-none-any.whl", "has_sig": false, "md5_digest": "322763eec911a88ed6becc004d0e89ed", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 53049, "upload_time": "2020-02-12T14:15:11", "upload_time_iso_8601": "2020-02-12T14:15:11.838961Z", "url": "https://files.pythonhosted.org/packages/6d/d6/d59c1f8ab0be6c025e2cb9701039b3c0a1745754d7cf3df1fecc03ca7424/fan_tools-2.6.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "860cf96827e8a7650d7a8d77cf2bff8a", "sha256": "6b340f57fab733452bc73afd0dc35950478bbf6a959d3527013f578e6367caa0"}, "downloads": -1, "filename": "fan_tools-2.6.2.tar.gz", "has_sig": false, "md5_digest": "860cf96827e8a7650d7a8d77cf2bff8a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 47374, "upload_time": "2020-02-12T14:15:13", "upload_time_iso_8601": "2020-02-12T14:15:13.685860Z", "url": "https://files.pythonhosted.org/packages/09/de/dce6adbf9697868de2d62e710d8af2b04f7d096fa6ca8c4e34633a53d10b/fan_tools-2.6.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:43:45 2020"}
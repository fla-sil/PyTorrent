{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Intended Audience :: System Administrators", "Natural Language :: English", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 3", "Topic :: System :: Monitoring"], "description": "# Airflow prometheus exporter\n\nExposes dag and task based metrics from Airflow to a Prometheus compatible endpoint.\n\n## Discussion\n\nYou can ask questions in Gitter channel: https://gitter.im/epoch8/airflow-exporter\n\n## Screenshots\n\n<img src=\"https://epoch8.github.io/media/2018/08/03/monitoring-airflow-with-prometheus/metrics_screenshot.png\" height=\"400\" width=\"600\"/>\n\n## Compatibility\n\n**Note: this version is compatible with Airflow 1.10.3+ only, see [#46](https://github.com/epoch8/airflow-exporter/issues/46) for details**\n\nFor compatibility with previous versions of Airflow use older version: [v0.5.4](https://github.com/epoch8/airflow-exporter/releases/tag/v0.5.4)\n\n* Airflow: airflow1.10.3+\n* Python: python2, python3\n* DataBase: postgresql, mysql\n\n## Install\n\n```sh\npip install airflow-exporter\n```\n\nThat's it. You're done.\n\n## Exporting extra labels to Prometheus\n\nIt is possible to add extra labels to DAG-related metrics by providing `labels` dict to DAG `params`.\n\n### Example\n\n```\ndag = DAG(\n    'dummy_dag',\n    schedule_interval=timedelta(hours=5),\n    default_args=default_args,\n    catchup=False,\n    params={\n        'labels': {\n            'env': 'test'\n        }\n    }\n)\n```\n\nLabel `env` with value `test` will be added to all metrics related to `dummy_dag`:\n\n`airflow_dag_status{dag_id=\"dummy_dag\",env=\"test\",owner=\"owner\",status=\"running\"} 12.0`\n\n## Metrics\n\nMetrics will be available at \n\n```\nhttp://<your_airflow_host_and_port>/admin/metrics/\n```\n\n### `airflow_task_status`\n\nLabels:\n\n* `dag_id`\n* `task_id`\n* `owner`\n* `status`\n* `hostname`\n\nValue: number of tasks in specific status.\n\n### `airflow_dag_status`\n\nLabels:\n\n* `dag_id`\n* `owner`\n* `status`\n\nValue: number of dags in specific status.\n\n### `airflow_dag_run_duration`\n\nLabels:\n\n* `dag_id`: unique identifier for a given DAG\n\nValue: duration in seconds of the longest DAG Run for given DAG. This metric \nis not available for DAGs that have already completed.\n\n## License\n\nDistributed under the BSD license. See [LICENSE](LICENSE) for more\ninformation.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/epoch8/airflow-exporter", "keywords": "airflow plugin prometheus exporter metrics", "license": "", "maintainer": "", "maintainer_email": "", "name": "airflow-exporter", "package_url": "https://pypi.org/project/airflow-exporter/", "platform": "", "project_url": "https://pypi.org/project/airflow-exporter/", "project_urls": {"Homepage": "https://github.com/epoch8/airflow-exporter"}, "release_url": "https://pypi.org/project/airflow-exporter/1.3.0/", "requires_dist": null, "requires_python": "", "summary": "Airflow plugin to export dag and task based metrics to Prometheus.", "version": "1.3.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Airflow prometheus exporter</h1>\n<p>Exposes dag and task based metrics from Airflow to a Prometheus compatible endpoint.</p>\n<h2>Discussion</h2>\n<p>You can ask questions in Gitter channel: <a href=\"https://gitter.im/epoch8/airflow-exporter\" rel=\"nofollow\">https://gitter.im/epoch8/airflow-exporter</a></p>\n<h2>Screenshots</h2>\n<img height=\"400\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/37839df53fc366e352c48a2b7f56d58d9379f422/68747470733a2f2f65706f6368382e6769746875622e696f2f6d656469612f323031382f30382f30332f6d6f6e69746f72696e672d616972666c6f772d776974682d70726f6d6574686575732f6d6574726963735f73637265656e73686f742e706e67\" width=\"600\">\n<h2>Compatibility</h2>\n<p><strong>Note: this version is compatible with Airflow 1.10.3+ only, see <a href=\"https://github.com/epoch8/airflow-exporter/issues/46\" rel=\"nofollow\">#46</a> for details</strong></p>\n<p>For compatibility with previous versions of Airflow use older version: <a href=\"https://github.com/epoch8/airflow-exporter/releases/tag/v0.5.4\" rel=\"nofollow\">v0.5.4</a></p>\n<ul>\n<li>Airflow: airflow1.10.3+</li>\n<li>Python: python2, python3</li>\n<li>DataBase: postgresql, mysql</li>\n</ul>\n<h2>Install</h2>\n<pre>pip install airflow-exporter\n</pre>\n<p>That's it. You're done.</p>\n<h2>Exporting extra labels to Prometheus</h2>\n<p>It is possible to add extra labels to DAG-related metrics by providing <code>labels</code> dict to DAG <code>params</code>.</p>\n<h3>Example</h3>\n<pre><code>dag = DAG(\n    'dummy_dag',\n    schedule_interval=timedelta(hours=5),\n    default_args=default_args,\n    catchup=False,\n    params={\n        'labels': {\n            'env': 'test'\n        }\n    }\n)\n</code></pre>\n<p>Label <code>env</code> with value <code>test</code> will be added to all metrics related to <code>dummy_dag</code>:</p>\n<p><code>airflow_dag_status{dag_id=\"dummy_dag\",env=\"test\",owner=\"owner\",status=\"running\"} 12.0</code></p>\n<h2>Metrics</h2>\n<p>Metrics will be available at</p>\n<pre><code>http://&lt;your_airflow_host_and_port&gt;/admin/metrics/\n</code></pre>\n<h3><code>airflow_task_status</code></h3>\n<p>Labels:</p>\n<ul>\n<li><code>dag_id</code></li>\n<li><code>task_id</code></li>\n<li><code>owner</code></li>\n<li><code>status</code></li>\n<li><code>hostname</code></li>\n</ul>\n<p>Value: number of tasks in specific status.</p>\n<h3><code>airflow_dag_status</code></h3>\n<p>Labels:</p>\n<ul>\n<li><code>dag_id</code></li>\n<li><code>owner</code></li>\n<li><code>status</code></li>\n</ul>\n<p>Value: number of dags in specific status.</p>\n<h3><code>airflow_dag_run_duration</code></h3>\n<p>Labels:</p>\n<ul>\n<li><code>dag_id</code>: unique identifier for a given DAG</li>\n</ul>\n<p>Value: duration in seconds of the longest DAG Run for given DAG. This metric\nis not available for DAGs that have already completed.</p>\n<h2>License</h2>\n<p>Distributed under the BSD license. See <a href=\"LICENSE\" rel=\"nofollow\">LICENSE</a> for more\ninformation.</p>\n\n          </div>"}, "last_serial": 6681800, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "b0684b48fdfc79de6a8a0eea0dd10da7", "sha256": "4a15a72782c84136abc2b3616da4f663d3eb52f74febd7e773b404d617823d86"}, "downloads": -1, "filename": "airflow-exporter-1.0.tar.gz", "has_sig": false, "md5_digest": "b0684b48fdfc79de6a8a0eea0dd10da7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3796, "upload_time": "2019-06-08T18:50:32", "upload_time_iso_8601": "2019-06-08T18:50:32.878790Z", "url": "https://files.pythonhosted.org/packages/8a/55/b0e2618a5b9d844f5eedb60cd0a2b38b9729e93cb4dda8e8bdfb1baa7a8f/airflow-exporter-1.0.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "d514872a91b60460d6fc804b61205b5a", "sha256": "b0fd1b0effdb7949e7bfaa6d1e190d8407b3d8da4b1d948d4d8c123540f95478"}, "downloads": -1, "filename": "airflow_exporter-1.1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "d514872a91b60460d6fc804b61205b5a", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 5393, "upload_time": "2019-08-20T13:05:15", "upload_time_iso_8601": "2019-08-20T13:05:15.571131Z", "url": "https://files.pythonhosted.org/packages/77/95/78f3d7387b29acfcb3ffabb9d4498745ed96348df6b5ab25a08c25834952/airflow_exporter-1.1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ef8603621e4c9045d768fa56d651c464", "sha256": "fbe028160494fa962edc709feacf0bd4b52ee6f96c6fcb32278d04ea4bde9c5e"}, "downloads": -1, "filename": "airflow-exporter-1.1.0.tar.gz", "has_sig": false, "md5_digest": "ef8603621e4c9045d768fa56d651c464", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3778, "upload_time": "2019-08-20T13:05:16", "upload_time_iso_8601": "2019-08-20T13:05:16.894507Z", "url": "https://files.pythonhosted.org/packages/bc/21/406cd73e965737956542d069985bb4011d2023b889a2f7f9397529142e4e/airflow-exporter-1.1.0.tar.gz", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "3af189b4c3cc2485b2e4e2dc763ec568", "sha256": "856241ff8a7abc49a10cb9483f4431ba8bb1a2a1ed7c9407c083208fd81cc017"}, "downloads": -1, "filename": "airflow_exporter-1.2.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "3af189b4c3cc2485b2e4e2dc763ec568", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 5772, "upload_time": "2019-09-02T16:17:40", "upload_time_iso_8601": "2019-09-02T16:17:40.448653Z", "url": "https://files.pythonhosted.org/packages/60/0e/ae96a03ec748b8ea5d6065003ac4b81322bcff73475630732d22ffd905a9/airflow_exporter-1.2.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ef9dbd6c4165fdbe46bff9c46b1f57cb", "sha256": "850dd82bb3ce5ec8372e0fe9610b84b114fa8aa56d458bdcf89f556d0b43f670"}, "downloads": -1, "filename": "airflow_exporter-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ef9dbd6c4165fdbe46bff9c46b1f57cb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4470, "upload_time": "2020-02-22T20:19:32", "upload_time_iso_8601": "2020-02-22T20:19:32.975391Z", "url": "https://files.pythonhosted.org/packages/22/ce/7db326d25d49d907e01a0bcc4b803eafcb7875ce72d348617721a06e21cc/airflow_exporter-1.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "923f8d4e981634d6a36702ff897c4abc", "sha256": "e296c0f770289396335a2c5209acfa7068f71792cf3c5600d67386199bed8cf6"}, "downloads": -1, "filename": "airflow-exporter-1.2.0.tar.gz", "has_sig": false, "md5_digest": "923f8d4e981634d6a36702ff897c4abc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4203, "upload_time": "2019-09-02T16:17:41", "upload_time_iso_8601": "2019-09-02T16:17:41.608556Z", "url": "https://files.pythonhosted.org/packages/f5/b1/c293bbd43818a3d47449f54a64dc63d34fe6f58bd3ab1ebb60c81f3f52ee/airflow-exporter-1.2.0.tar.gz", "yanked": false}], "1.3.0": [{"comment_text": "", "digests": {"md5": "e42514fab905e572e503e92d38605468", "sha256": "18d782311e4ce4da8ce3b765a53cab1e21369bf295a6485a738dcb36d8697af1"}, "downloads": -1, "filename": "airflow_exporter-1.3.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "e42514fab905e572e503e92d38605468", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 5825, "upload_time": "2020-02-22T20:22:25", "upload_time_iso_8601": "2020-02-22T20:22:25.922936Z", "url": "https://files.pythonhosted.org/packages/84/b4/6b6d367c65b65022b9fe5daf87ead1e1519be6ee2253660c070d34609f87/airflow_exporter-1.3.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b916440fdeb034b9e2d4f6922f9b3624", "sha256": "8a308b32b8070b2a356f675a2e6dcf8cdcde327be18b16768490e8a81a222a60"}, "downloads": -1, "filename": "airflow-exporter-1.3.0.tar.gz", "has_sig": false, "md5_digest": "b916440fdeb034b9e2d4f6922f9b3624", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4277, "upload_time": "2020-02-22T20:20:28", "upload_time_iso_8601": "2020-02-22T20:20:28.280800Z", "url": "https://files.pythonhosted.org/packages/99/87/9bb77d1f0c1e9ae12fabaef79085712625fa1190e6bbfb9064bf1a0fd93d/airflow-exporter-1.3.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e42514fab905e572e503e92d38605468", "sha256": "18d782311e4ce4da8ce3b765a53cab1e21369bf295a6485a738dcb36d8697af1"}, "downloads": -1, "filename": "airflow_exporter-1.3.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "e42514fab905e572e503e92d38605468", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 5825, "upload_time": "2020-02-22T20:22:25", "upload_time_iso_8601": "2020-02-22T20:22:25.922936Z", "url": "https://files.pythonhosted.org/packages/84/b4/6b6d367c65b65022b9fe5daf87ead1e1519be6ee2253660c070d34609f87/airflow_exporter-1.3.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b916440fdeb034b9e2d4f6922f9b3624", "sha256": "8a308b32b8070b2a356f675a2e6dcf8cdcde327be18b16768490e8a81a222a60"}, "downloads": -1, "filename": "airflow-exporter-1.3.0.tar.gz", "has_sig": false, "md5_digest": "b916440fdeb034b9e2d4f6922f9b3624", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4277, "upload_time": "2020-02-22T20:20:28", "upload_time_iso_8601": "2020-02-22T20:20:28.280800Z", "url": "https://files.pythonhosted.org/packages/99/87/9bb77d1f0c1e9ae12fabaef79085712625fa1190e6bbfb9064bf1a0fd93d/airflow-exporter-1.3.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:20:32 2020"}
{"info": {"author": "13564768842", "author_email": "chinabluexfw@163.com", "bugtrack_url": null, "classifiers": [], "description": "# hehey-hupload \u4e0a\u4f20\u7ec4\u4ef6\n\n#### \u4ecb\u7ecd\nhehey-hupload \u662f\u4e00\u4e2apython \u6587\u4ef6\u4e0a\u4f20\u5de5\u5177\u7c7b.\n\u652f\u6301:\n  - \u672c\u5730\u4e0a\u4f20\n  - \u963f\u91cc\u4e91\u5bf9\u8c61\u5b58\u50a8(oss)\n  - \u817e\u8baf\u4e91\u5bf9\u8c61\u5b58\u50a8(cos)\n  - \u8d77\u725b\u4e91\u5bf9\u8c61\u5b58\u50a8(qiniu)\n  \n  \n#### \u53c2\u6570\u914d\u7f6e\n```python\nconf =  {\n            'clazz': 'hupload.upload.UploadManager',\n            'defaultStorage': 'oss',# \u9ed8\u8ba4\u4e0a\u4f20\u5b58\u50a8\n            'customStorages': {\n                # \u672c\u5730\u4e0a\u4f20\u5b58\u50a8\u914d\u7f6e\n                'local': {\n                    'clazz': 'hupload.storages.LocalStorage.LocalStorage',\n                    'rootPath': \"/home/hehe/www/upload\"\n                },\n                # \u963f\u91cc\u4e91oss\u4e0a\u4f20\u5b58\u50a8\u914d\u7f6e\n                'oss': {\n                    'clazz': 'hupload.storages.OssStorage.OssStorage',\n                    'bucket': \"\",\n                    \"accessId\":\"\",\n                    \"secretKey\": \"\",\n                    \"endpoint\": \"http://oss-cn-hangzhou.aliyuncs.com\",\n                    \"directurl\": \"\",\n                },\n                # \u4e03\u725b\u4e0a\u4f20\u5b58\u50a8\u914d\u7f6e\n                'qiniu': {\n                    'clazz': 'hupload.storages.QiniuStorage.QiniuStorage',\n                    'bucket': \"upload\",\n                    \"accessKey\": \"\",\n                    \"secretKey\": \"\",\n                    \"directurl\":\"http://up.qiniu.com\"\n\n                },\n                 # \u817e\u8baf\u4e91\u4e0a\u4f20\u5b58\u50a8\u914d\u7f6e\n                'cos': {\n                    'clazz': 'hupload.storages.CosStorage.CosStorage',\n                    'bucket': \"\",\n                    'region':\"ap-shanghai\",\n                    \"secretId\": \"\",\n                    \"secretKey\": \"\",\n                    \"directurl\": \"\"\n                }\n\n            },\n        },\n```\n\n#### \u57fa\u672c\u793a\u4f8b\n\n- \u5feb\u901f\u4f7f\u7528\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\nhupload = UploadManager(conf)\n\n# \u4e0a\u4f20\u672c\u5730\u6587\u4ef6\nfile = hupload.uploadFile(\"/home/hehe/doc/9921521429915_.pic.jpg\",\"temp/test\")\n# \u4e0a\u4f20\u8868\u5355\u7684\u6587\u4ef6\nfile = {\"tmp_name\":\"/tmp/9921521429915.jpg\"};\nfile = hupload.uploadFile(file,\"temp/test\")\n# \u8bfb\u53d6\u6587\u4ef6temp/test \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\nhupload.getFiles(\"temp/test\")\n# \u5220\u9664\u6587\u4ef6\nhupload.deleteFile(\"temp/test/b51f82ff03511154a5d6d27b1391a61911.jpg\")\n\n\n```\n\n\n- \u4e0a\u4f20\u672c\u5730\u6587\u4ef6\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\nhupload = UploadManager(conf)\n\n# \u4e0a\u4f20\u672c\u5730\u6587\u4ef6:/home/hehe/doc/9921521429915_.pic.jpg,\u6307\u5b9a\u4e0a\u4f20\u76ee\u5f55:temp/test\nfile = hupload.uploadFile(\"/home/hehe/doc/9921521429915_.pic.jpg\",\"temp/test/xxx.jpg\")\n\n```\n\n- \u4e0a\u4f20\u8868\u5355\u6587\u4ef6\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\nhupload = UploadManager(conf)\n\n# \u4e00\u822c\u9700\u7ed3\u5408web \u7684 \u6587\u4ef6\u57df\u6570\u636e\u7ed3\u6784\nfile = {\n 'temp_name':\"/tmp/b51f82ff03511154a5d6d27b1391a61911.jpg\"\n};\n\nfile = hupload.uploadFile(file,\"temp/test\")\n\n```\n\n- \u8868\u5355\u76f4\u4f20(\u5e76\u672a\u76f4\u63a5\u4e0a\u4f20,\u800c\u662f\u751f\u6210web \u6d4f\u89c8\u5668\u4e0a\u4f20\u9700\u8981\u7684\u53c2\u6570)\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\nhupload = UploadManager(conf)\n\nfile = hupload.directFile(\"test.jpeg\",\"temp/test\")\n\n# file \u57fa\u672c\u683c\u5f0f,action \u4e3a\u8868\u5355\u7684\u4e0a\u4f20\u5730\u5740,\u5176\u4ed6\u4e3a\u8868\u5355\u7684\u9690\u85cf\u57df\u53c2\u6570\n\n{\n\n    'key':'2019/12/20/7334af3394db452e9819d4a39148830c.jpeg',\n    'OSSAccessKeyId':'',\n    'signature':'zZ8zk784KTiurn3cb1tuCSAu4LQ=',\n    'action':'http://yesmba-test.oss-cn-hangzhou.aliyuncs.com',\n    'expire':1576823234,\n    'policy':'eyJleHBpcmF0aW9uIjogIjIwMTktMTItMjBUMTQ6Mjc6MTQuMDAwWiIsICJjb25kaXRpb25zIjogW1siY29udGVudC1sZW5ndGgtcmFuZ2UiLCAwLCAxMDQ4NTc2MDAwXSwgWyJzdGFydHMtd2l0aCIsICIyMDE5LzEyLzIwLzczMzRhZjMzOTRkYjQ1MmU5ODE5ZDRhMzkxNDg4MzBjLmpwZWciLCAiMjAxOS8xMi8yMCJdXX0='\n\n}\n\n```\n\n- \u4e0a\u4f20base64\u6587\u4ef6\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\nhupload = UploadManager(conf)\n\n# \u6784\u5efa\u6587\u4ef6base64\u6570\u636e\nbase64_data = hupload.buildBase64(\"/home/hehe/\u56fe\u7247/5a7c026e1026d.jpg\")\n\n\n# \u4e0a\u4f20base64 \u6570\u636e\nhupload.uploadBase64(base64_data,'temp/test/base64.png')\n\n```\n\n- \u4e0b\u8f7d\u8fdc\u7a0b\u6587\u4ef6\u5e76\u4e0a\u4f20\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\nhupload = UploadManager(conf)\n\ndownloadUrl = \"http://cms-bucket.ws.126.net/2019/12/20/ad40965d27b34414bf8413454fe076cf.jpeg?imageView&thumbnail=380y187&quality=85\"\n\nfile = hupload.downloadAndUpload(downloadUrl,\"'temp/test/downloadUrl.png'\")\n\n```\n\n- \u6279\u91cf\u4e0a\u4f20\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\n\nhupload = UploadManager(conf)\n\nfiles = [\n  '/tmp/b51f82ff03511154a5d6d27b1391a61911.jpg',\n  '/tmp/b51f82ff03511154a5d6d27b1391a61911.jpg',\n];\n\nfiles = hupload.uploadAll(files,\"temp/test/\")\n\n```\n\n- \u8bfb\u53d6\u6587\u4ef6\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\n\nhupload = UploadManager(conf)\n\n# \u8bfb\u53d6temp/test/ \u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\u5305\u62ec\u76ee\u5f55\nhupload.getFiles(\"temp/test/\")\n\n```\n\n\n- \u5220\u9664\u6587\u4ef6\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\n\nhupload = UploadManager(conf)\nresult = hupload.deleteFile(\"temp/test/b51f82ff03511154a5d6d27b1391a61911.jpg\")\n\n```\n\n\n- \u83b7\u53d6\u4e0a\u4f20\u5b58\u50a8\u5bf9\u8c61\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\n\nhupload = UploadManager(conf)\n\n# \u83b7\u53d6oss \u4e0a\u4f20\u5b58\u50a8\u5bf9\u8c61\nhupload.oss.uploadFile(\"/home/hehe/doc/9921521429915_.pic.jpg\",\"temp/test/xxx.jpg\")\n\n\n```\n\n- \u4e0a\u4f20\u9519\u8bef\u4fe1\u606f\n```python\nfrom hupload.upload import UploadManager;\nconf = {\n\n};\n\nhupload = UploadManager(conf)\n\nfile = hupload.uploadFile(\"/home/hehe/doc/9921521429915_.pic.jpg\",\"temp/test/xxx.jpg\")\nif not file:\n    print(hupload.getError())\n\n\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitee.com/chinahehe/hehey-hupload", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "hehey-hupload", "package_url": "https://pypi.org/project/hehey-hupload/", "platform": "", "project_url": "https://pypi.org/project/hehey-hupload/", "project_urls": {"Homepage": "https://gitee.com/chinahehe/hehey-hupload"}, "release_url": "https://pypi.org/project/hehey-hupload/1.0.0/", "requires_dist": null, "requires_python": "", "summary": "hehey-hupload \u662f\u4e00\u4e2apython \u6587\u4ef6\u4e0a\u4f20\u5de5\u5177\u7c7b", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>hehey-hupload \u4e0a\u4f20\u7ec4\u4ef6</h1>\n<h4>\u4ecb\u7ecd</h4>\n<p>hehey-hupload \u662f\u4e00\u4e2apython \u6587\u4ef6\u4e0a\u4f20\u5de5\u5177\u7c7b.\n\u652f\u6301:</p>\n<ul>\n<li>\u672c\u5730\u4e0a\u4f20</li>\n<li>\u963f\u91cc\u4e91\u5bf9\u8c61\u5b58\u50a8(oss)</li>\n<li>\u817e\u8baf\u4e91\u5bf9\u8c61\u5b58\u50a8(cos)</li>\n<li>\u8d77\u725b\u4e91\u5bf9\u8c61\u5b58\u50a8(qiniu)</li>\n</ul>\n<h4>\u53c2\u6570\u914d\u7f6e</h4>\n<pre><span class=\"n\">conf</span> <span class=\"o\">=</span>  <span class=\"p\">{</span>\n            <span class=\"s1\">'clazz'</span><span class=\"p\">:</span> <span class=\"s1\">'hupload.upload.UploadManager'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'defaultStorage'</span><span class=\"p\">:</span> <span class=\"s1\">'oss'</span><span class=\"p\">,</span><span class=\"c1\"># \u9ed8\u8ba4\u4e0a\u4f20\u5b58\u50a8</span>\n            <span class=\"s1\">'customStorages'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"c1\"># \u672c\u5730\u4e0a\u4f20\u5b58\u50a8\u914d\u7f6e</span>\n                <span class=\"s1\">'local'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                    <span class=\"s1\">'clazz'</span><span class=\"p\">:</span> <span class=\"s1\">'hupload.storages.LocalStorage.LocalStorage'</span><span class=\"p\">,</span>\n                    <span class=\"s1\">'rootPath'</span><span class=\"p\">:</span> <span class=\"s2\">\"/home/hehe/www/upload\"</span>\n                <span class=\"p\">},</span>\n                <span class=\"c1\"># \u963f\u91cc\u4e91oss\u4e0a\u4f20\u5b58\u50a8\u914d\u7f6e</span>\n                <span class=\"s1\">'oss'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                    <span class=\"s1\">'clazz'</span><span class=\"p\">:</span> <span class=\"s1\">'hupload.storages.OssStorage.OssStorage'</span><span class=\"p\">,</span>\n                    <span class=\"s1\">'bucket'</span><span class=\"p\">:</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span>\n                    <span class=\"s2\">\"accessId\"</span><span class=\"p\">:</span><span class=\"s2\">\"\"</span><span class=\"p\">,</span>\n                    <span class=\"s2\">\"secretKey\"</span><span class=\"p\">:</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span>\n                    <span class=\"s2\">\"endpoint\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://oss-cn-hangzhou.aliyuncs.com\"</span><span class=\"p\">,</span>\n                    <span class=\"s2\">\"directurl\"</span><span class=\"p\">:</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span>\n                <span class=\"p\">},</span>\n                <span class=\"c1\"># \u4e03\u725b\u4e0a\u4f20\u5b58\u50a8\u914d\u7f6e</span>\n                <span class=\"s1\">'qiniu'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                    <span class=\"s1\">'clazz'</span><span class=\"p\">:</span> <span class=\"s1\">'hupload.storages.QiniuStorage.QiniuStorage'</span><span class=\"p\">,</span>\n                    <span class=\"s1\">'bucket'</span><span class=\"p\">:</span> <span class=\"s2\">\"upload\"</span><span class=\"p\">,</span>\n                    <span class=\"s2\">\"accessKey\"</span><span class=\"p\">:</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span>\n                    <span class=\"s2\">\"secretKey\"</span><span class=\"p\">:</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span>\n                    <span class=\"s2\">\"directurl\"</span><span class=\"p\">:</span><span class=\"s2\">\"http://up.qiniu.com\"</span>\n\n                <span class=\"p\">},</span>\n                 <span class=\"c1\"># \u817e\u8baf\u4e91\u4e0a\u4f20\u5b58\u50a8\u914d\u7f6e</span>\n                <span class=\"s1\">'cos'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                    <span class=\"s1\">'clazz'</span><span class=\"p\">:</span> <span class=\"s1\">'hupload.storages.CosStorage.CosStorage'</span><span class=\"p\">,</span>\n                    <span class=\"s1\">'bucket'</span><span class=\"p\">:</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span>\n                    <span class=\"s1\">'region'</span><span class=\"p\">:</span><span class=\"s2\">\"ap-shanghai\"</span><span class=\"p\">,</span>\n                    <span class=\"s2\">\"secretId\"</span><span class=\"p\">:</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span>\n                    <span class=\"s2\">\"secretKey\"</span><span class=\"p\">:</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span>\n                    <span class=\"s2\">\"directurl\"</span><span class=\"p\">:</span> <span class=\"s2\">\"\"</span>\n                <span class=\"p\">}</span>\n\n            <span class=\"p\">},</span>\n        <span class=\"p\">},</span>\n</pre>\n<h4>\u57fa\u672c\u793a\u4f8b</h4>\n<ul>\n<li>\u5feb\u901f\u4f7f\u7528</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u4e0a\u4f20\u672c\u5730\u6587\u4ef6</span>\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">uploadFile</span><span class=\"p\">(</span><span class=\"s2\">\"/home/hehe/doc/9921521429915_.pic.jpg\"</span><span class=\"p\">,</span><span class=\"s2\">\"temp/test\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u4e0a\u4f20\u8868\u5355\u7684\u6587\u4ef6</span>\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">\"tmp_name\"</span><span class=\"p\">:</span><span class=\"s2\">\"/tmp/9921521429915.jpg\"</span><span class=\"p\">};</span>\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">uploadFile</span><span class=\"p\">(</span><span class=\"n\">file</span><span class=\"p\">,</span><span class=\"s2\">\"temp/test\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u8bfb\u53d6\u6587\u4ef6temp/test \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6</span>\n<span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">getFiles</span><span class=\"p\">(</span><span class=\"s2\">\"temp/test\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u5220\u9664\u6587\u4ef6</span>\n<span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">deleteFile</span><span class=\"p\">(</span><span class=\"s2\">\"temp/test/b51f82ff03511154a5d6d27b1391a61911.jpg\"</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li>\u4e0a\u4f20\u672c\u5730\u6587\u4ef6</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u4e0a\u4f20\u672c\u5730\u6587\u4ef6:/home/hehe/doc/9921521429915_.pic.jpg,\u6307\u5b9a\u4e0a\u4f20\u76ee\u5f55:temp/test</span>\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">uploadFile</span><span class=\"p\">(</span><span class=\"s2\">\"/home/hehe/doc/9921521429915_.pic.jpg\"</span><span class=\"p\">,</span><span class=\"s2\">\"temp/test/xxx.jpg\"</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li>\u4e0a\u4f20\u8868\u5355\u6587\u4ef6</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u4e00\u822c\u9700\u7ed3\u5408web \u7684 \u6587\u4ef6\u57df\u6570\u636e\u7ed3\u6784</span>\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n <span class=\"s1\">'temp_name'</span><span class=\"p\">:</span><span class=\"s2\">\"/tmp/b51f82ff03511154a5d6d27b1391a61911.jpg\"</span>\n<span class=\"p\">};</span>\n\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">uploadFile</span><span class=\"p\">(</span><span class=\"n\">file</span><span class=\"p\">,</span><span class=\"s2\">\"temp/test\"</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li>\u8868\u5355\u76f4\u4f20(\u5e76\u672a\u76f4\u63a5\u4e0a\u4f20,\u800c\u662f\u751f\u6210web \u6d4f\u89c8\u5668\u4e0a\u4f20\u9700\u8981\u7684\u53c2\u6570)</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">directFile</span><span class=\"p\">(</span><span class=\"s2\">\"test.jpeg\"</span><span class=\"p\">,</span><span class=\"s2\">\"temp/test\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># file \u57fa\u672c\u683c\u5f0f,action \u4e3a\u8868\u5355\u7684\u4e0a\u4f20\u5730\u5740,\u5176\u4ed6\u4e3a\u8868\u5355\u7684\u9690\u85cf\u57df\u53c2\u6570</span>\n\n<span class=\"p\">{</span>\n\n    <span class=\"s1\">'key'</span><span class=\"p\">:</span><span class=\"s1\">'2019/12/20/7334af3394db452e9819d4a39148830c.jpeg'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'OSSAccessKeyId'</span><span class=\"p\">:</span><span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"s1\">'signature'</span><span class=\"p\">:</span><span class=\"s1\">'zZ8zk784KTiurn3cb1tuCSAu4LQ='</span><span class=\"p\">,</span>\n    <span class=\"s1\">'action'</span><span class=\"p\">:</span><span class=\"s1\">'http://yesmba-test.oss-cn-hangzhou.aliyuncs.com'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'expire'</span><span class=\"p\">:</span><span class=\"mi\">1576823234</span><span class=\"p\">,</span>\n    <span class=\"s1\">'policy'</span><span class=\"p\">:</span><span class=\"s1\">'eyJleHBpcmF0aW9uIjogIjIwMTktMTItMjBUMTQ6Mjc6MTQuMDAwWiIsICJjb25kaXRpb25zIjogW1siY29udGVudC1sZW5ndGgtcmFuZ2UiLCAwLCAxMDQ4NTc2MDAwXSwgWyJzdGFydHMtd2l0aCIsICIyMDE5LzEyLzIwLzczMzRhZjMzOTRkYjQ1MmU5ODE5ZDRhMzkxNDg4MzBjLmpwZWciLCAiMjAxOS8xMi8yMCJdXX0='</span>\n\n<span class=\"p\">}</span>\n</pre>\n<ul>\n<li>\u4e0a\u4f20base64\u6587\u4ef6</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u6784\u5efa\u6587\u4ef6base64\u6570\u636e</span>\n<span class=\"n\">base64_data</span> <span class=\"o\">=</span> <span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">buildBase64</span><span class=\"p\">(</span><span class=\"s2\">\"/home/hehe/\u56fe\u7247/5a7c026e1026d.jpg\"</span><span class=\"p\">)</span>\n\n\n<span class=\"c1\"># \u4e0a\u4f20base64 \u6570\u636e</span>\n<span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">uploadBase64</span><span class=\"p\">(</span><span class=\"n\">base64_data</span><span class=\"p\">,</span><span class=\"s1\">'temp/test/base64.png'</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li>\u4e0b\u8f7d\u8fdc\u7a0b\u6587\u4ef6\u5e76\u4e0a\u4f20</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n\n<span class=\"n\">downloadUrl</span> <span class=\"o\">=</span> <span class=\"s2\">\"http://cms-bucket.ws.126.net/2019/12/20/ad40965d27b34414bf8413454fe076cf.jpeg?imageView&amp;thumbnail=380y187&amp;quality=85\"</span>\n\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">downloadAndUpload</span><span class=\"p\">(</span><span class=\"n\">downloadUrl</span><span class=\"p\">,</span><span class=\"s2\">\"'temp/test/downloadUrl.png'\"</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li>\u6279\u91cf\u4e0a\u4f20</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n\n<span class=\"n\">files</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n  <span class=\"s1\">'/tmp/b51f82ff03511154a5d6d27b1391a61911.jpg'</span><span class=\"p\">,</span>\n  <span class=\"s1\">'/tmp/b51f82ff03511154a5d6d27b1391a61911.jpg'</span><span class=\"p\">,</span>\n<span class=\"p\">];</span>\n\n<span class=\"n\">files</span> <span class=\"o\">=</span> <span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">uploadAll</span><span class=\"p\">(</span><span class=\"n\">files</span><span class=\"p\">,</span><span class=\"s2\">\"temp/test/\"</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li>\u8bfb\u53d6\u6587\u4ef6</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u8bfb\u53d6temp/test/ \u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\u5305\u62ec\u76ee\u5f55</span>\n<span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">getFiles</span><span class=\"p\">(</span><span class=\"s2\">\"temp/test/\"</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li>\u5220\u9664\u6587\u4ef6</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n<span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">deleteFile</span><span class=\"p\">(</span><span class=\"s2\">\"temp/test/b51f82ff03511154a5d6d27b1391a61911.jpg\"</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li>\u83b7\u53d6\u4e0a\u4f20\u5b58\u50a8\u5bf9\u8c61</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u83b7\u53d6oss \u4e0a\u4f20\u5b58\u50a8\u5bf9\u8c61</span>\n<span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">oss</span><span class=\"o\">.</span><span class=\"n\">uploadFile</span><span class=\"p\">(</span><span class=\"s2\">\"/home/hehe/doc/9921521429915_.pic.jpg\"</span><span class=\"p\">,</span><span class=\"s2\">\"temp/test/xxx.jpg\"</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li>\u4e0a\u4f20\u9519\u8bef\u4fe1\u606f</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">hupload.upload</span> <span class=\"kn\">import</span> <span class=\"n\">UploadManager</span><span class=\"p\">;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n<span class=\"p\">};</span>\n\n<span class=\"n\">hupload</span> <span class=\"o\">=</span> <span class=\"n\">UploadManager</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">)</span>\n\n<span class=\"n\">file</span> <span class=\"o\">=</span> <span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">uploadFile</span><span class=\"p\">(</span><span class=\"s2\">\"/home/hehe/doc/9921521429915_.pic.jpg\"</span><span class=\"p\">,</span><span class=\"s2\">\"temp/test/xxx.jpg\"</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">file</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">hupload</span><span class=\"o\">.</span><span class=\"n\">getError</span><span class=\"p\">())</span>\n</pre>\n\n          </div>"}, "last_serial": 6337434, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "04ce38d5b88cf34c19d5c72fa186486f", "sha256": "f32bbaf11e9799de43fec120bcc9669b8fb0386b70a74e639368f8f1d71e5530"}, "downloads": -1, "filename": "hehey-hupload-1.0.0.tar.gz", "has_sig": false, "md5_digest": "04ce38d5b88cf34c19d5c72fa186486f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10840, "upload_time": "2019-12-20T06:51:16", "upload_time_iso_8601": "2019-12-20T06:51:16.935668Z", "url": "https://files.pythonhosted.org/packages/16/a6/601ebb51b03d2eb4689e40ea76c57561742001d2e41a6ee0dbc9b284c0f1/hehey-hupload-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "04ce38d5b88cf34c19d5c72fa186486f", "sha256": "f32bbaf11e9799de43fec120bcc9669b8fb0386b70a74e639368f8f1d71e5530"}, "downloads": -1, "filename": "hehey-hupload-1.0.0.tar.gz", "has_sig": false, "md5_digest": "04ce38d5b88cf34c19d5c72fa186486f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10840, "upload_time": "2019-12-20T06:51:16", "upload_time_iso_8601": "2019-12-20T06:51:16.935668Z", "url": "https://files.pythonhosted.org/packages/16/a6/601ebb51b03d2eb4689e40ea76c57561742001d2e41a6ee0dbc9b284c0f1/hehey-hupload-1.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:51:51 2020"}
{"info": {"author": "Oisin Mulvihill", "author_email": "oisin.mulvihilli@gmail.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "nozama-cloudsearch\n------------------\n\n.. contents::\n\nA light weight implementation of Amazon's CloudSearch service for local testing\npurposes. This is meant for use in functional / acceptance testing of service\nwhich use cloud search.\n\nThe Nozama Service also implements its own REST API to allow you to get at the\ndata in a way you wouldn't normally be able to on Amazon CloudSearch.\n\nOne handy benefit of using Nozama is it provides a way to migrate from Amazon\nCloudSearch to ElasticSearch.\n\nThe \"offical\" docker container:\n\n - https://hub.docker.com/r/oisinmulvihill/nozama-cloudsearch\n\nThe Github repository:\n\n  - https://hub.docker.com/r/oisinmulvihill/nozama-cloudsearch\n\nWhy?\n----\n\nI wanted to test a platform that was hardcoded to use only Cloudsearch. There\nwas no way I could change the code in question. I was also unable to get other\ninstances due to budget constraints. I looked around for alternatives and found\nnone I could get working on CentOS.\n\n\nQuickstart\n----------\n\nDocker\n~~~~~~\n\nIf you have docker and docker-compose on your system already then you can do:\n\n.. code-block:: sh\n\n    # download the docker compose configuration:\n    curl -O https://raw.githubusercontent.com/oisinmulvihill/nozama-cloudsearch/master/nozama-cloudsearch.yaml\n\n    # Run in the background:\n    docker-compose -f nozama-cloudsearch.yaml up -d\n\n    # Check everything is up and running\n    docker-compose -f nozama-cloudsearch.yaml ps\n\n    curl http://localhost:15808/ping\n    {\"status\": \"ok\", \"name\": \"nozama-cloudsearch\", \"version\": \"2.0.2\"}\n\n    # To shutdown and stop all parts:\n    docker-compose -f nozama-cloudsearch.yaml down\n\nThis will download the Mongo and ElasticSearch containers which it depends on. Once all services have been downloaded you can then start using the REST API.\n\nPypi.org\n~~~~~~~~\n\nMongo and ElasticSearch need to be installed and running on the system. The default set up will use a database called 'nozama-cloudsearch'. See the development.ini configuration file for more details.\n\n.. code-block:: sh\n\n  # create a quick environment to install into:\n  mkvirtualenv -p python 3 nozama\n\n  # activate en\n  workon nozama\n\n  # Install from pypi:\n  pip install nozama-cloudsearch\n\n  # download the development configuration:\n  curl -O https://raw.githubusercontent.com/oisinmulvihill/nozama-cloudsearch/master/development.ini\n\n  # Run the service:\n  pserve development.ini\n\n  Starting server in PID 6845.\n  serving on 0.0.0.0:15808 view at http://127.0.0.1:15808\n\nSuccess!\n\n\nQuick API Usage Example\n-----------------------\n\nIf you have a running service you can try the following using curl from the\ncommand line.\n\n.. code-block:: sh\n\n    # Assumes: serving on 0.0.0.0:15808 view at http://127.0.0.1:15808\n\n    # A quick check of the version and that the service is running:\n    curl http://localhost:15808/ping\n    {\"status\": \"ok\", \"name\": \"nozama-cloudsearch\", \"version\": \"2.0.2\"}\n\n    # Now check what documents are present / removed:\n    curl http://localhost:15808/dev/documents\n    {\"documents_removed\": [], \"documents\": []}\n\n    # Add a document using the batch upload SDF:\n    curl -X POST -H \"Content-Type: application/json\" http://localhost:15808/2013-08-22/documents/batch -d '[{\"lang\": \"en\", \"fields\": {\"name\": \"bob\"}, \"version\": 1376497963, \"type\": \"add\", \"id\": 1246}]'\n    {\"status\": \"ok\", \"adds\": 1, \"deletes\": 0, \"error\": \"\", \"warning\": \"\"}\n\n    # Check the document is there:\n    curl http://localhost:15808/dev/documents\n    {\"documents\": [{\"_id\": \"1246\", \"lang\": \"en\", \"fields\": {\"name\": \"bob\"}, \"version\": \"1376497963\", \"id\": \"1246\"}], \"documents_removed\": []}\n\n    # Try searching for the document:\n    curl http://localhost:15808/2013-08-22/search?q=bob\n    {\"rank\": \"-text_relevance\", \"match-expr\": \"(label 'bob')\", \"hits\": {\"found\": 1, \"start\": 0, \"hit\": [{\"id\": \"1246\", \"fields\": {\"name\": \"bob\"}}]}, \"info\": {\"rid\": \"47e87151546d5a349d7bf9b60eee0ebdf74783422a2e08cad0b9348e3ee3ef04eb198715bbe4e353\", \"time-ms\": 5, \"cpu-time-ms\": 0}}\n\n    curl http://localhost:15808/2013-08-22/search?q=somethingnotpresent\n    {\"rank\": \"-text_relevance\", \"match-expr\": \"(label 'somethingnotpresent')\", \"hits\": {\"found\": 0, \"start\": 0, \"hit\": []}, \"info\": {\"rid\": \"869d2b07c1e47a55ab1cb4cd615953333e52d886112e916ed7fa447355f5a518b1c16bbcbf40cb7e\", \"time-ms\": 5, \"cpu-time-ms\": 0}}\n\n    # Remove the document in another batch update:\n    curl -X POST -H \"Content-Type: application/json\" http://localhost:15808/2013-08-22/documents/batch -d '[{\"version\": 1376497963, \"type\": \"delete\", \"id\": 1246}]'\n    {\"status\": \"ok\", \"adds\": 0, \"deletes\": 1, \"error\": \"\", \"warning\": \"\"}\n\n    # Check what was removed:\n    curl http://localhost:15808/dev/documents\n    {\"documents\": [], \"documents_removed\": [{\"_id\": \"1246\", \"lang\": \"en\", \"fields\": {\"name\": \"bob\"}, \"version\": \"1376497963\", \"id\": \"1246\"}]}\n\n    # Empty out all stored content:\n    curl -X DELETE http://localhost:15808/dev/documents\n    {\"status\": \"ok\", \"message\": \"Documents Removed OK.\", \"error\": \"\", \"traceback\": \"\"}\n\n    # Check there should now be nothing there:\n    curl http://localhost:15808/dev/documents\n    {\"documents\": [], \"documents_removed\": []}\n\n\nDevelopment\n-----------\n\nI develop and maintain project on Mac OSX. I have install docker-composer, docker, virtualenvwrappers and Python3 using brew. I use \"make\" to aid development.\n\n.. code-block:: sh\n\n    # create a quick environment to install into:\n    mkvirtualenv --clear -p python3 nozama\n\n    # (activate if needed)\n    workon nozama\n\n    # Install the project dependancies\n    make install\n\n    # Start the project dependancies ElasticSearch and Mongo\n    make up\n\n    # Run the API locally:\n    make up\n\n\nContributing\n------------\n\nSubmit a pull request with tests if possible. I'll review, test and usually approve. All tests must pass. I run against Python3 nowadays. I will then increment the version, add attribute and then release to https://hub.docker.com/r/oisinmulvihill/nozama-elasticsearch and pypi.org if all is good.\n\nRelease Process\n---------------\n\nHelp Oisin remember the release process:\n\n.. code-block:: sh\n\n    # clean env for release:\n    mkvirtualenv --clear -p python3.7 nozama\n\n    # setup and run all tests:\n    #\n    # make sure mongo and elasticsearch are running:\n    make up\n\n    # run all unit and acceptance tests in a completely isolated environment.\n    make docker_test\n\n    # Build and release to test.pypi.org first:\n    make test_pypi_release\n\n    # If all is good time to release to pypi.org\n    make release_to_pypi\n\n    # Now release the new docker container\n    make docker_release\n\nTry pip install and docker pull for the new package and container.\n\nVersions\n--------\n\n2.0.3\n~~~~~\n\nBugfix to add in __init__.py files. I had forgotten to do this after I ditched the namespace packaging.\n\n2.0.2\n~~~~~\n\nStripped out the old sphinx docs from the API. http://localhost:15808/docs/ now just shows a link to Github REST API examples. Strip out unused code in the client side code and other unused files.\n\n2.0.0 -> 2.0.1\n~~~~~~~~~~~~~~\n\nUpdated the project after noticing lots of people still appear to use it. I've updated it to reflect my current thinking on building REST APIs and how they are packaged, developed and released.\n\nChanges:\n\n- REST API remains the same however searching now works.\n- Migrated to Python 3.\n- Refactor the project into a single python package making it easier to work on and contribute to.\n- Development is now assisted using docker compose to manage Mongo and ElasticSearch dependancies.\n- I now produce the \"offical\" nozama-cloudsearch container as part of my release process.\n- Unpinned the python dependancies and moved to using requirements files for production and testing requirements.\n\n1.2.0\n~~~~~\nAdd support for multibyte characters.\n\n * https://github.com/oisinmulvihill/nozama-cloudsearch/pull/9\n\nReturn field values and support `sdk` format.\n\n * https://github.com/oisinmulvihill/nozama-cloudsearch/pull/8\n\nRemove unnecessary validations.\n\n * https://github.com/oisinmulvihill/nozama-cloudsearch/pull/7\n\nUpsert a document.\n\n * https://github.com/oisinmulvihill/nozama-cloudsearch/pull/6\n\nContributed by hokuma(https://github.com/hokuma)\n\n1.1.3\n~~~~~\n\nThis is a minor fix to the LICENSE file as spotted by Alex (https://github.com/ALyman).\n\n * https://github.com/oisinmulvihill/nozama-cloudsearch/issues/1\n\n\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/oisinmulvihill/nozama-cloudsearch", "keywords": "", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "nozama-cloudsearch", "package_url": "https://pypi.org/project/nozama-cloudsearch/", "platform": "", "project_url": "https://pypi.org/project/nozama-cloudsearch/", "project_urls": {"Homepage": "https://github.com/oisinmulvihill/nozama-cloudsearch"}, "release_url": "https://pypi.org/project/nozama-cloudsearch/2.0.3/", "requires_dist": ["pymongo", "elasticsearch", "decorator", "paste", "formencode", "pyramid", "pyramid-jinja2", "pyramid-beaker", "waitress", "requests"], "requires_python": "", "summary": "A REST service which emulates Amazon CloudSearch for local testing.", "version": "2.0.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"nozama-cloudsearch\">\n<h2><a href=\"#id6\" rel=\"nofollow\">nozama-cloudsearch</a></h2>\n<div id=\"contents\">\n<p>Contents</p>\n<ul>\n<li><a href=\"#nozama-cloudsearch\" id=\"id6\" rel=\"nofollow\">nozama-cloudsearch</a></li>\n<li><a href=\"#why\" id=\"id7\" rel=\"nofollow\">Why?</a></li>\n<li><a href=\"#quickstart\" id=\"id8\" rel=\"nofollow\">Quickstart</a><ul>\n<li><a href=\"#docker\" id=\"id9\" rel=\"nofollow\">Docker</a></li>\n<li><a href=\"#pypi-org\" id=\"id10\" rel=\"nofollow\">Pypi.org</a></li>\n</ul>\n</li>\n<li><a href=\"#quick-api-usage-example\" id=\"id11\" rel=\"nofollow\">Quick API Usage Example</a></li>\n<li><a href=\"#development\" id=\"id12\" rel=\"nofollow\">Development</a></li>\n<li><a href=\"#contributing\" id=\"id13\" rel=\"nofollow\">Contributing</a></li>\n<li><a href=\"#release-process\" id=\"id14\" rel=\"nofollow\">Release Process</a></li>\n<li><a href=\"#versions\" id=\"id15\" rel=\"nofollow\">Versions</a><ul>\n<li><a href=\"#id1\" id=\"id16\" rel=\"nofollow\">2.0.3</a></li>\n<li><a href=\"#id2\" id=\"id17\" rel=\"nofollow\">2.0.2</a></li>\n<li><a href=\"#id3\" id=\"id18\" rel=\"nofollow\">2.0.0 -&gt; 2.0.1</a></li>\n<li><a href=\"#id4\" id=\"id19\" rel=\"nofollow\">1.2.0</a></li>\n<li><a href=\"#id5\" id=\"id20\" rel=\"nofollow\">1.1.3</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<p>A light weight implementation of Amazon\u2019s CloudSearch service for local testing\npurposes. This is meant for use in functional / acceptance testing of service\nwhich use cloud search.</p>\n<p>The Nozama Service also implements its own REST API to allow you to get at the\ndata in a way you wouldn\u2019t normally be able to on Amazon CloudSearch.</p>\n<p>One handy benefit of using Nozama is it provides a way to migrate from Amazon\nCloudSearch to ElasticSearch.</p>\n<p>The \u201coffical\u201d docker container:</p>\n<blockquote>\n<ul>\n<li><a href=\"https://hub.docker.com/r/oisinmulvihill/nozama-cloudsearch\" rel=\"nofollow\">https://hub.docker.com/r/oisinmulvihill/nozama-cloudsearch</a></li>\n</ul>\n</blockquote>\n<p>The Github repository:</p>\n<blockquote>\n<ul>\n<li><a href=\"https://hub.docker.com/r/oisinmulvihill/nozama-cloudsearch\" rel=\"nofollow\">https://hub.docker.com/r/oisinmulvihill/nozama-cloudsearch</a></li>\n</ul>\n</blockquote>\n</div>\n<div id=\"why\">\n<h2><a href=\"#id7\" rel=\"nofollow\">Why?</a></h2>\n<p>I wanted to test a platform that was hardcoded to use only Cloudsearch. There\nwas no way I could change the code in question. I was also unable to get other\ninstances due to budget constraints. I looked around for alternatives and found\nnone I could get working on CentOS.</p>\n</div>\n<div id=\"quickstart\">\n<h2><a href=\"#id8\" rel=\"nofollow\">Quickstart</a></h2>\n<div id=\"docker\">\n<h3><a href=\"#id9\" rel=\"nofollow\">Docker</a></h3>\n<p>If you have docker and docker-compose on your system already then you can do:</p>\n<pre><span class=\"c1\"># download the docker compose configuration:\n</span>curl -O https://raw.githubusercontent.com/oisinmulvihill/nozama-cloudsearch/master/nozama-cloudsearch.yaml\n\n<span class=\"c1\"># Run in the background:\n</span>docker-compose -f nozama-cloudsearch.yaml up -d\n\n<span class=\"c1\"># Check everything is up and running\n</span>docker-compose -f nozama-cloudsearch.yaml ps\n\ncurl http://localhost:15808/ping\n<span class=\"o\">{</span><span class=\"s2\">\"status\"</span>: <span class=\"s2\">\"ok\"</span>, <span class=\"s2\">\"name\"</span>: <span class=\"s2\">\"nozama-cloudsearch\"</span>, <span class=\"s2\">\"version\"</span>: <span class=\"s2\">\"2.0.2\"</span><span class=\"o\">}</span>\n\n<span class=\"c1\"># To shutdown and stop all parts:\n</span>docker-compose -f nozama-cloudsearch.yaml down\n</pre>\n<p>This will download the Mongo and ElasticSearch containers which it depends on. Once all services have been downloaded you can then start using the REST API.</p>\n</div>\n<div id=\"pypi-org\">\n<h3><a href=\"#id10\" rel=\"nofollow\">Pypi.org</a></h3>\n<p>Mongo and ElasticSearch need to be installed and running on the system. The default set up will use a database called \u2018nozama-cloudsearch\u2019. See the development.ini configuration file for more details.</p>\n<pre><span class=\"c1\"># create a quick environment to install into:\n</span>mkvirtualenv -p python <span class=\"m\">3</span> nozama\n\n<span class=\"c1\"># activate en\n</span>workon nozama\n\n<span class=\"c1\"># Install from pypi:\n</span>pip install nozama-cloudsearch\n\n<span class=\"c1\"># download the development configuration:\n</span>curl -O https://raw.githubusercontent.com/oisinmulvihill/nozama-cloudsearch/master/development.ini\n\n<span class=\"c1\"># Run the service:\n</span>pserve development.ini\n\nStarting server in PID <span class=\"m\">6845</span>.\nserving on <span class=\"m\">0</span>.0.0.0:15808 view at http://127.0.0.1:15808\n</pre>\n<p>Success!</p>\n</div>\n</div>\n<div id=\"quick-api-usage-example\">\n<h2><a href=\"#id11\" rel=\"nofollow\">Quick API Usage Example</a></h2>\n<p>If you have a running service you can try the following using curl from the\ncommand line.</p>\n<pre><span class=\"c1\"># Assumes: serving on 0.0.0.0:15808 view at http://127.0.0.1:15808\n</span>\n<span class=\"c1\"># A quick check of the version and that the service is running:\n</span>curl http://localhost:15808/ping\n<span class=\"o\">{</span><span class=\"s2\">\"status\"</span>: <span class=\"s2\">\"ok\"</span>, <span class=\"s2\">\"name\"</span>: <span class=\"s2\">\"nozama-cloudsearch\"</span>, <span class=\"s2\">\"version\"</span>: <span class=\"s2\">\"2.0.2\"</span><span class=\"o\">}</span>\n\n<span class=\"c1\"># Now check what documents are present / removed:\n</span>curl http://localhost:15808/dev/documents\n<span class=\"o\">{</span><span class=\"s2\">\"documents_removed\"</span>: <span class=\"o\">[]</span>, <span class=\"s2\">\"documents\"</span>: <span class=\"o\">[]}</span>\n\n<span class=\"c1\"># Add a document using the batch upload SDF:\n</span>curl -X POST -H <span class=\"s2\">\"Content-Type: application/json\"</span> http://localhost:15808/2013-08-22/documents/batch -d <span class=\"s1\">'[{\"lang\": \"en\", \"fields\": {\"name\": \"bob\"}, \"version\": 1376497963, \"type\": \"add\", \"id\": 1246}]'</span>\n<span class=\"o\">{</span><span class=\"s2\">\"status\"</span>: <span class=\"s2\">\"ok\"</span>, <span class=\"s2\">\"adds\"</span>: <span class=\"m\">1</span>, <span class=\"s2\">\"deletes\"</span>: <span class=\"m\">0</span>, <span class=\"s2\">\"error\"</span>: <span class=\"s2\">\"\"</span>, <span class=\"s2\">\"warning\"</span>: <span class=\"s2\">\"\"</span><span class=\"o\">}</span>\n\n<span class=\"c1\"># Check the document is there:\n</span>curl http://localhost:15808/dev/documents\n<span class=\"o\">{</span><span class=\"s2\">\"documents\"</span>: <span class=\"o\">[{</span><span class=\"s2\">\"_id\"</span>: <span class=\"s2\">\"1246\"</span>, <span class=\"s2\">\"lang\"</span>: <span class=\"s2\">\"en\"</span>, <span class=\"s2\">\"fields\"</span>: <span class=\"o\">{</span><span class=\"s2\">\"name\"</span>: <span class=\"s2\">\"bob\"</span><span class=\"o\">}</span>, <span class=\"s2\">\"version\"</span>: <span class=\"s2\">\"1376497963\"</span>, <span class=\"s2\">\"id\"</span>: <span class=\"s2\">\"1246\"</span><span class=\"o\">}]</span>, <span class=\"s2\">\"documents_removed\"</span>: <span class=\"o\">[]}</span>\n\n<span class=\"c1\"># Try searching for the document:\n</span>curl http://localhost:15808/2013-08-22/search?q<span class=\"o\">=</span>bob\n<span class=\"o\">{</span><span class=\"s2\">\"rank\"</span>: <span class=\"s2\">\"-text_relevance\"</span>, <span class=\"s2\">\"match-expr\"</span>: <span class=\"s2\">\"(label 'bob')\"</span>, <span class=\"s2\">\"hits\"</span>: <span class=\"o\">{</span><span class=\"s2\">\"found\"</span>: <span class=\"m\">1</span>, <span class=\"s2\">\"start\"</span>: <span class=\"m\">0</span>, <span class=\"s2\">\"hit\"</span>: <span class=\"o\">[{</span><span class=\"s2\">\"id\"</span>: <span class=\"s2\">\"1246\"</span>, <span class=\"s2\">\"fields\"</span>: <span class=\"o\">{</span><span class=\"s2\">\"name\"</span>: <span class=\"s2\">\"bob\"</span><span class=\"o\">}}]}</span>, <span class=\"s2\">\"info\"</span>: <span class=\"o\">{</span><span class=\"s2\">\"rid\"</span>: <span class=\"s2\">\"47e87151546d5a349d7bf9b60eee0ebdf74783422a2e08cad0b9348e3ee3ef04eb198715bbe4e353\"</span>, <span class=\"s2\">\"time-ms\"</span>: <span class=\"m\">5</span>, <span class=\"s2\">\"cpu-time-ms\"</span>: <span class=\"m\">0</span><span class=\"o\">}}</span>\n\ncurl http://localhost:15808/2013-08-22/search?q<span class=\"o\">=</span>somethingnotpresent\n<span class=\"o\">{</span><span class=\"s2\">\"rank\"</span>: <span class=\"s2\">\"-text_relevance\"</span>, <span class=\"s2\">\"match-expr\"</span>: <span class=\"s2\">\"(label 'somethingnotpresent')\"</span>, <span class=\"s2\">\"hits\"</span>: <span class=\"o\">{</span><span class=\"s2\">\"found\"</span>: <span class=\"m\">0</span>, <span class=\"s2\">\"start\"</span>: <span class=\"m\">0</span>, <span class=\"s2\">\"hit\"</span>: <span class=\"o\">[]}</span>, <span class=\"s2\">\"info\"</span>: <span class=\"o\">{</span><span class=\"s2\">\"rid\"</span>: <span class=\"s2\">\"869d2b07c1e47a55ab1cb4cd615953333e52d886112e916ed7fa447355f5a518b1c16bbcbf40cb7e\"</span>, <span class=\"s2\">\"time-ms\"</span>: <span class=\"m\">5</span>, <span class=\"s2\">\"cpu-time-ms\"</span>: <span class=\"m\">0</span><span class=\"o\">}}</span>\n\n<span class=\"c1\"># Remove the document in another batch update:\n</span>curl -X POST -H <span class=\"s2\">\"Content-Type: application/json\"</span> http://localhost:15808/2013-08-22/documents/batch -d <span class=\"s1\">'[{\"version\": 1376497963, \"type\": \"delete\", \"id\": 1246}]'</span>\n<span class=\"o\">{</span><span class=\"s2\">\"status\"</span>: <span class=\"s2\">\"ok\"</span>, <span class=\"s2\">\"adds\"</span>: <span class=\"m\">0</span>, <span class=\"s2\">\"deletes\"</span>: <span class=\"m\">1</span>, <span class=\"s2\">\"error\"</span>: <span class=\"s2\">\"\"</span>, <span class=\"s2\">\"warning\"</span>: <span class=\"s2\">\"\"</span><span class=\"o\">}</span>\n\n<span class=\"c1\"># Check what was removed:\n</span>curl http://localhost:15808/dev/documents\n<span class=\"o\">{</span><span class=\"s2\">\"documents\"</span>: <span class=\"o\">[]</span>, <span class=\"s2\">\"documents_removed\"</span>: <span class=\"o\">[{</span><span class=\"s2\">\"_id\"</span>: <span class=\"s2\">\"1246\"</span>, <span class=\"s2\">\"lang\"</span>: <span class=\"s2\">\"en\"</span>, <span class=\"s2\">\"fields\"</span>: <span class=\"o\">{</span><span class=\"s2\">\"name\"</span>: <span class=\"s2\">\"bob\"</span><span class=\"o\">}</span>, <span class=\"s2\">\"version\"</span>: <span class=\"s2\">\"1376497963\"</span>, <span class=\"s2\">\"id\"</span>: <span class=\"s2\">\"1246\"</span><span class=\"o\">}]}</span>\n\n<span class=\"c1\"># Empty out all stored content:\n</span>curl -X DELETE http://localhost:15808/dev/documents\n<span class=\"o\">{</span><span class=\"s2\">\"status\"</span>: <span class=\"s2\">\"ok\"</span>, <span class=\"s2\">\"message\"</span>: <span class=\"s2\">\"Documents Removed OK.\"</span>, <span class=\"s2\">\"error\"</span>: <span class=\"s2\">\"\"</span>, <span class=\"s2\">\"traceback\"</span>: <span class=\"s2\">\"\"</span><span class=\"o\">}</span>\n\n<span class=\"c1\"># Check there should now be nothing there:\n</span>curl http://localhost:15808/dev/documents\n<span class=\"o\">{</span><span class=\"s2\">\"documents\"</span>: <span class=\"o\">[]</span>, <span class=\"s2\">\"documents_removed\"</span>: <span class=\"o\">[]}</span>\n</pre>\n</div>\n<div id=\"development\">\n<h2><a href=\"#id12\" rel=\"nofollow\">Development</a></h2>\n<p>I develop and maintain project on Mac OSX. I have install docker-composer, docker, virtualenvwrappers and Python3 using brew. I use \u201cmake\u201d to aid development.</p>\n<pre><span class=\"c1\"># create a quick environment to install into:\n</span>mkvirtualenv --clear -p python3 nozama\n\n<span class=\"c1\"># (activate if needed)\n</span>workon nozama\n\n<span class=\"c1\"># Install the project dependancies\n</span>make install\n\n<span class=\"c1\"># Start the project dependancies ElasticSearch and Mongo\n</span>make up\n\n<span class=\"c1\"># Run the API locally:\n</span>make up\n</pre>\n</div>\n<div id=\"contributing\">\n<h2><a href=\"#id13\" rel=\"nofollow\">Contributing</a></h2>\n<p>Submit a pull request with tests if possible. I\u2019ll review, test and usually approve. All tests must pass. I run against Python3 nowadays. I will then increment the version, add attribute and then release to <a href=\"https://hub.docker.com/r/oisinmulvihill/nozama-elasticsearch\" rel=\"nofollow\">https://hub.docker.com/r/oisinmulvihill/nozama-elasticsearch</a> and pypi.org if all is good.</p>\n</div>\n<div id=\"release-process\">\n<h2><a href=\"#id14\" rel=\"nofollow\">Release Process</a></h2>\n<p>Help Oisin remember the release process:</p>\n<pre><span class=\"c1\"># clean env for release:\n</span>mkvirtualenv --clear -p python3.7 nozama\n\n<span class=\"c1\"># setup and run all tests:\n#\n# make sure mongo and elasticsearch are running:\n</span>make up\n\n<span class=\"c1\"># run all unit and acceptance tests in a completely isolated environment.\n</span>make docker_test\n\n<span class=\"c1\"># Build and release to test.pypi.org first:\n</span>make test_pypi_release\n\n<span class=\"c1\"># If all is good time to release to pypi.org\n</span>make release_to_pypi\n\n<span class=\"c1\"># Now release the new docker container\n</span>make docker_release\n</pre>\n<p>Try pip install and docker pull for the new package and container.</p>\n</div>\n<div id=\"versions\">\n<h2><a href=\"#id15\" rel=\"nofollow\">Versions</a></h2>\n<div id=\"id1\">\n<h3><a href=\"#id16\" rel=\"nofollow\">2.0.3</a></h3>\n<p>Bugfix to add in __init__.py files. I had forgotten to do this after I ditched the namespace packaging.</p>\n</div>\n<div id=\"id2\">\n<h3><a href=\"#id17\" rel=\"nofollow\">2.0.2</a></h3>\n<p>Stripped out the old sphinx docs from the API. <a href=\"http://localhost:15808/docs/\" rel=\"nofollow\">http://localhost:15808/docs/</a> now just shows a link to Github REST API examples. Strip out unused code in the client side code and other unused files.</p>\n</div>\n<div id=\"id3\">\n<h3><a href=\"#id18\" rel=\"nofollow\">2.0.0 -&gt; 2.0.1</a></h3>\n<p>Updated the project after noticing lots of people still appear to use it. I\u2019ve updated it to reflect my current thinking on building REST APIs and how they are packaged, developed and released.</p>\n<p>Changes:</p>\n<ul>\n<li>REST API remains the same however searching now works.</li>\n<li>Migrated to Python 3.</li>\n<li>Refactor the project into a single python package making it easier to work on and contribute to.</li>\n<li>Development is now assisted using docker compose to manage Mongo and ElasticSearch dependancies.</li>\n<li>I now produce the \u201coffical\u201d nozama-cloudsearch container as part of my release process.</li>\n<li>Unpinned the python dependancies and moved to using requirements files for production and testing requirements.</li>\n</ul>\n</div>\n<div id=\"id4\">\n<h3><a href=\"#id19\" rel=\"nofollow\">1.2.0</a></h3>\n<p>Add support for multibyte characters.</p>\n<blockquote>\n<ul>\n<li><a href=\"https://github.com/oisinmulvihill/nozama-cloudsearch/pull/9\" rel=\"nofollow\">https://github.com/oisinmulvihill/nozama-cloudsearch/pull/9</a></li>\n</ul>\n</blockquote>\n<p>Return field values and support <cite>sdk</cite> format.</p>\n<blockquote>\n<ul>\n<li><a href=\"https://github.com/oisinmulvihill/nozama-cloudsearch/pull/8\" rel=\"nofollow\">https://github.com/oisinmulvihill/nozama-cloudsearch/pull/8</a></li>\n</ul>\n</blockquote>\n<p>Remove unnecessary validations.</p>\n<blockquote>\n<ul>\n<li><a href=\"https://github.com/oisinmulvihill/nozama-cloudsearch/pull/7\" rel=\"nofollow\">https://github.com/oisinmulvihill/nozama-cloudsearch/pull/7</a></li>\n</ul>\n</blockquote>\n<p>Upsert a document.</p>\n<blockquote>\n<ul>\n<li><a href=\"https://github.com/oisinmulvihill/nozama-cloudsearch/pull/6\" rel=\"nofollow\">https://github.com/oisinmulvihill/nozama-cloudsearch/pull/6</a></li>\n</ul>\n</blockquote>\n<p>Contributed by hokuma(<a href=\"https://github.com/hokuma\" rel=\"nofollow\">https://github.com/hokuma</a>)</p>\n</div>\n<div id=\"id5\">\n<h3><a href=\"#id20\" rel=\"nofollow\">1.1.3</a></h3>\n<p>This is a minor fix to the LICENSE file as spotted by Alex (<a href=\"https://github.com/ALyman\" rel=\"nofollow\">https://github.com/ALyman</a>).</p>\n<blockquote>\n<ul>\n<li><a href=\"https://github.com/oisinmulvihill/nozama-cloudsearch/issues/1\" rel=\"nofollow\">https://github.com/oisinmulvihill/nozama-cloudsearch/issues/1</a></li>\n</ul>\n</blockquote>\n</div>\n</div>\n\n          </div>"}, "last_serial": 5435385, "releases": {"2.0.1": [{"comment_text": "", "digests": {"md5": "514e1b44bc7e7a51697e8ec3f6524bc0", "sha256": "34d4a4cee3f409aab1d30ae8efecb7eb76a97b6938f717772950c185837b042b"}, "downloads": -1, "filename": "nozama_cloudsearch-2.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "514e1b44bc7e7a51697e8ec3f6524bc0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11268, "upload_time": "2019-06-22T16:15:01", "upload_time_iso_8601": "2019-06-22T16:15:01.920503Z", "url": "https://files.pythonhosted.org/packages/e6/99/90c8cc46f1223507c7d9e7e2d916261781e75cd0fb506aeaf8152f85ec1f/nozama_cloudsearch-2.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1b352357a2d8935104dc78aa30fbdb5e", "sha256": "87e161846486d0511632a398d1a2b5217aa2558dd6c0480d3b8d9a013ab1e2b9"}, "downloads": -1, "filename": "nozama-cloudsearch-2.0.1.tar.gz", "has_sig": false, "md5_digest": "1b352357a2d8935104dc78aa30fbdb5e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 20270, "upload_time": "2019-06-22T16:15:06", "upload_time_iso_8601": "2019-06-22T16:15:06.011144Z", "url": "https://files.pythonhosted.org/packages/8d/eb/f074da8d16ad5300ccc5286c67c192fea7e2a11ad1e9c3f25ec1276dfe32/nozama-cloudsearch-2.0.1.tar.gz", "yanked": false}], "2.0.2": [{"comment_text": "", "digests": {"md5": "2f5621d5e88c53dc18711ca584337392", "sha256": "7059dc357f1b95db1aa626dc2f72c33264cf668d1cc1eea2298136788ff60729"}, "downloads": -1, "filename": "nozama_cloudsearch-2.0.2-py2-none-any.whl", "has_sig": false, "md5_digest": "2f5621d5e88c53dc18711ca584337392", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 11271, "upload_time": "2019-06-22T16:56:52", "upload_time_iso_8601": "2019-06-22T16:56:52.485266Z", "url": "https://files.pythonhosted.org/packages/d6/f5/87a9bd7db534a10c0337c970cbb75e9689e0f047a3753bf810918ffd91af/nozama_cloudsearch-2.0.2-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f95fb4e1c55edc4060e41a8d05ef4029", "sha256": "5106ba19f2751c309359fee9124e968a086870a0891b374b6326fec478a1d8da"}, "downloads": -1, "filename": "nozama-cloudsearch-2.0.2.tar.gz", "has_sig": false, "md5_digest": "f95fb4e1c55edc4060e41a8d05ef4029", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10412, "upload_time": "2019-06-22T16:56:54", "upload_time_iso_8601": "2019-06-22T16:56:54.063420Z", "url": "https://files.pythonhosted.org/packages/e6/a1/8e2fdb0e9dba661811f9485cf7afe3398c043d1d0351fbc1d6b1831df664/nozama-cloudsearch-2.0.2.tar.gz", "yanked": false}], "2.0.3": [{"comment_text": "", "digests": {"md5": "99a675932210e91a0e8253a23670b4ab", "sha256": "75e2777e913a9b4b06ba9d0c901afad5a29eec6c1be57124ff95dc1fdc840823"}, "downloads": -1, "filename": "nozama_cloudsearch-2.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "99a675932210e91a0e8253a23670b4ab", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 24795, "upload_time": "2019-06-22T18:19:19", "upload_time_iso_8601": "2019-06-22T18:19:19.565358Z", "url": "https://files.pythonhosted.org/packages/f3/7c/32e5aa8e8c646f5b3a2c15565b292e8a626f3262b97813d5bf96292bacc4/nozama_cloudsearch-2.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d2d3c07b4ef4d9080a260ab73c141296", "sha256": "d423d7c8cf5fc40037ab220d2cffd78962c2bc13904db80e05c4b4940fcd32c5"}, "downloads": -1, "filename": "nozama-cloudsearch-2.0.3.tar.gz", "has_sig": false, "md5_digest": "d2d3c07b4ef4d9080a260ab73c141296", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21378, "upload_time": "2019-06-22T18:19:21", "upload_time_iso_8601": "2019-06-22T18:19:21.757904Z", "url": "https://files.pythonhosted.org/packages/8f/57/126c05fc752b1b971a8c9a297f58732f146c134b1a57791b2d71a23b2370/nozama-cloudsearch-2.0.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "99a675932210e91a0e8253a23670b4ab", "sha256": "75e2777e913a9b4b06ba9d0c901afad5a29eec6c1be57124ff95dc1fdc840823"}, "downloads": -1, "filename": "nozama_cloudsearch-2.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "99a675932210e91a0e8253a23670b4ab", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 24795, "upload_time": "2019-06-22T18:19:19", "upload_time_iso_8601": "2019-06-22T18:19:19.565358Z", "url": "https://files.pythonhosted.org/packages/f3/7c/32e5aa8e8c646f5b3a2c15565b292e8a626f3262b97813d5bf96292bacc4/nozama_cloudsearch-2.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d2d3c07b4ef4d9080a260ab73c141296", "sha256": "d423d7c8cf5fc40037ab220d2cffd78962c2bc13904db80e05c4b4940fcd32c5"}, "downloads": -1, "filename": "nozama-cloudsearch-2.0.3.tar.gz", "has_sig": false, "md5_digest": "d2d3c07b4ef4d9080a260ab73c141296", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21378, "upload_time": "2019-06-22T18:19:21", "upload_time_iso_8601": "2019-06-22T18:19:21.757904Z", "url": "https://files.pythonhosted.org/packages/8f/57/126c05fc752b1b971a8c9a297f58732f146c134b1a57791b2d71a23b2370/nozama-cloudsearch-2.0.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:44:33 2020"}
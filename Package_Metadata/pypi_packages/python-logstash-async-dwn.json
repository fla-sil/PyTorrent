{"info": {"author": "David Neary", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 3", "Topic :: Internet :: WWW/HTTP", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: System :: Logging"], "description": "=====================\npython-logstash-async\n=====================\n\nPython logging handler for asynchronous event processing and transport to Logstash.\nhttp://logstash.net/\n\n\nAbout\n-----\n\nThis Python logging handler is a fork of\nhttps://github.com/eht16/python-logstash-async\n\nIt has the following features:\n\n  * Asynchronous transport of log events\n  * Transport of events via TCP and UDP\n  * TCP transport optionally SSL-encrypted\n  * Special formatter ready to be used in Django projects\n\nCompared to https://github.com/eht16/python-logstash-async, this fork does not try to preserve log statements if\nno connection can be made to logstash.\n\n\nAsynchronous processing\n^^^^^^^^^^^^^^^^^^^^^^^\n\nUnlike the original ``python-logstash``, this handler will try to\nhandle log events as fast as possible so that the sending program\ncode can continue with its primary job.\nIn other words, for web applications or web services it is important\nto not slow down request times due to logging delays, e.g. waiting\nfor network timeouts to the Logstash server or similar.\n\nSo this handler will accept log events and pass them for further\nprocessing to a separate worker thread which will try to send\nthe events to the configured Logstash server asynchronously.\n\nThe sending intervals and timeouts can be configured in the\n``logstash_async.constants`` module by the corresponding\nmodule-level constants, see below for details.\n\n\nInstallation\n------------\n\nUsing pip::\n\n  pip install git+https://github.com/koendeschacht/python-logstash-async.git\n\nUsage\n-----\n\n`AsynchronousLogstashHandler` is a custom logging handler which\nsends Logstash messages using UDP and TCP. For example:\n\n.. code:: python\n\n  import logging\n  import sys\n  from logstash_async.handler import AsynchronousLogstashHandler\n\n  host = 'localhost'\n  port = 5959\n\n  test_logger = logging.getLogger('python-logstash-logger')\n  test_logger.setLevel(logging.INFO)\n  test_logger.addHandler(AsynchronousLogstashHandler(\n      host, port)))\n  # test_logger.addHandler(AsynchronousLogstashHandler(host, port))\n\n  test_logger.error('python-logstash-async: test logstash error message.')\n  test_logger.info('python-logstash-async: test logstash info message.')\n  test_logger.warning('python-logstash-async: test logstash warning message.')\n\n  # add extra field to logstash message\n  extra = {\n      'test_string': 'python version: ' + repr(sys.version_info),\n      'test_boolean': True,\n      'test_dict': {'a': 1, 'b': 'c'},\n      'test_float': 1.23,\n      'test_integer': 123,\n      'test_list': [1, 2, '3'],\n  }\n  test_logger.info('python-logstash: test extra fields', extra=extra)\n\nWhen using the ``extra`` field make sure you don't use reserved names.\nFrom `Python documentation <https://docs.python.org/2/library/logging.html>`_::\n\n    \"The keys in the dictionary passed in extra should not clash\n    with the keys used by the logging system.\n    (See the `Formatter <https://docs.python.org/2/library/logging.html#logging.Formatter>`_ documentation\n    for more information on which keys are used by the logging system.)\"\n\nYou can also specify an additional extra dictionary in the logging configuration with static\nvalues like the application name, environment, etc. These values will be merged with any\nextra dictionary items passed in the logging call into the configured extra prefix.\n\n\nUsage with Django\n-----------------\n\nModify your ``settings.py`` to integrate ``python-logstash-async`` with Django's logging:\n\n.. code:: python\n\n  LOGGING = {\n    ...\n    'formatters': {\n        ...\n        'logstash': {\n            '()': 'logstash_async.formatter.DjangoLogstashFormatter',\n            'message_type': 'python-logstash',\n            'fqdn': False, # Fully qualified domain name. Default value: false.\n            'extra_prefix': 'dev', #\n            'extra': {\n                'application': PROJECT_APP,\n                'project_path': PROJECT_APP_PATH,\n                'environment': 'production'\n            }\n        },\n    },\n    'handlers': {\n        ...\n        'logstash': {\n            'level': 'DEBUG',\n            'class': 'logstash_async.handler.AsynchronousLogstashHandler',\n            'transport': 'logstash_async.transport.TcpTransport',\n            'host': 'logstash.host.tld',\n            'port': 5959,\n            'ssl_enable': True,\n            'ssl_verify': True,\n            'ca_certs': 'etc/ssl/certs/logstash_ca.crt',\n            'certfile': '/etc/ssl/certs/logstash.crt',\n            'keyfile': '/etc/ssl/private/logstash.key',\n        },\n    },\n    'loggers': {\n        'django.request': {\n            'handlers': ['logstash'],\n            'level': 'DEBUG',\n            'propagate': True,\n        },\n    },\n    ...\n  }\n\nThis would result in a Logstash event like the following\n(note: to some extend dependent of your Logstash configuration):\n\n.. code:: json\n\n    {\n        \"@timestamp\": \"2016-10-23T15:11:16.853Z\",\n        \"@version\": \"1\",\n        \"extra\": {\n            \"application\": \"django_example\",\n            \"django_version\": \"1.10.2\",\n            \"environment\": \"production\",\n            \"func_name\": \"get_response\",\n            \"interpreter\": \"/home/enrico/example/venv/bin/python\",\n            \"interpreter_version\": \"2.7.12\",\n            \"line\": 152,\n            \"logger_name\": \"django.request\",\n            \"path\": \"/home/enrico/example/venv/lib/python2.7/site-packages/django/core/handlers/base.py\",\n            \"process_name\": \"MainProcess\",\n            \"project_path\": \"/home/enrico/example/app\",\n            \"req_host\": \"localhost\",\n            \"req_method\": \"GET\",\n            \"req_referer\": \"\",\n            \"req_remote_address\": \"127.0.0.1\",\n            \"req_uri\": \"http://localhost/hosts/nonexistent/\",\n            \"req_user\": \"enrico\",\n            \"req_useragent\": \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1\",\n            \"request\": \"<WSGIRequest: GET '/hosts/nonexistent/'>\",\n            \"status_code\": 404,\n            \"thread_name\": \"Thread-1\"\n        },\n        \"host\": \"my.host.tld\",\n        \"level\": \"WARNING\",\n        \"logsource\": \"endor.l8failed.net\",\n        \"message\": \"Not Found: /hosts/nonexistent/\",\n        \"pid\": 23605,\n        \"port\": 56170,\n        \"program\": \"manage.py\",\n        \"type\": \"python-logstash\"\n    }\n\n\nConfiguration\n-------------\n\nOptions for configuring the log handler\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nhost\n    The host of the Logstash server (no default)\n\nport\n    The port of the Logstash server (default 5959)\n\ntransport\n    Callable or path to a compatible transport class\n    (default: 'logstash_async.transport.TcpTransport').\n\n    You can specify your own transport class, e.g. to implement\n    a transport via Redis or the Beats protocol.\n    If you support pass a string, it should be a path to a\n    class which can be imported.\n    If you pass anything else, it should be an object of a class\n    with a similar interface as `logstash_async.transport.TcpTransport`.\n    Especially it should provide a `close()` and a `send()` method.\n\nssl_enable\n    Should SSL be enabled for the connection? (default: False)\n    Only used for `logstash_async.transport.TcpTransport`.\n\nssl_verify\n    Should the server's SSL certificate be verified? (default: True)\n    Only used for `logstash_async.transport.TcpTransport`.\n\nkeyfile\n    The path to client side SSL key file (default: None)\n    Only used for `logstash_async.transport.TcpTransport`.\n\ncertfile\n    The path to client side SSL certificate file (default: None)\n    Only used for `logstash_async.transport.TcpTransport`.\n\nca_certs\n    The path to the file containing recognized CA certificates\n    (default: None)\n    Only used for `logstash_async.transport.TcpTransport`.\n\nenable\n    Flag to enable log processing (default is True, disabling\n    might be handy for local testing, etc.)\n\n\nOptions for configuring the log formatter\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nThe following settings are only valid for the provided formatters\n`logstash_async.handler.LogstashFormatter` and\n`logstash_async.handler.DjangoLogstashFormatter`.\n\nYou can use any other formatter by configuring Python's logging\nsystem accordingly. Any other formatter's `format()` method just\nshould return valid JSON suitable to be sent to Logstash\n(see `Example Logstash Configuration`_ below).\n\nOptions:\n\nmessage_type\n    The `type` field in the message sent to Logstash\n    (default: 'python-logstash')\n\ntags\n    Additional tags to include in the Logstash message (default: None)\n\nfqdn\n    Use the system's FQDN (fully qualified domain name) in the `host`\n    field of the message sent to Logstash.\n    `socket.getfqdn()` is used to retrieve the FQDN, otherwise\n    `socket.gethostname()` is used for the default hostname.\n    (default: False)\n\nextra_prefix\n    Name of the field in the resulting message sent to Logstash where\n    all additional fields are grouped into. Consider it as some sort\n    of namespace for all non-standard fields in the log event.\n    This field will take any items passed in as extra fields via\n    the `extra` configuration option (see below) as well as any extra\n    items passed in the logging call.\n\n    To disable grouping of the extra items and have them on the top\n    level of the log event message, simply set this option to `None`\n    or the empty string.\n    (default: 'extra')\n\nextra\n    Dictionary with static items to be included in the message sent\n    to Logstash. This dictionary will be merged with any other extra\n    items passed in the logging call.\n    (default: None)\n\n\nOptions for the asynchronous processing (in module logstash_async.constants)\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nSOCKET_TIMEOUT\n    Timeout in seconds for TCP connections (default: 5.0)\n\nQUEUE_CHECK_INTERVAL\n    Interval in seconds to check the internal queue for new messages (default: 0.2)\n\nTIMEOUT_SENDING_MESSAGES_AT_TERMINATION\n    When the program terminates, any remaining log messages are still send to logstash. This constant defines\n    for how many seconds the handler can still send messages before terminating (default: 2.0)\n\n\nExample Logstash Configuration\n------------------------------\n\nExample ``logstash.conf`` for unencrypted TCP transport::\n\n    input {\n        tcp {\n            host => \"127.0.0.1\"\n            port => 5959\n            mode => server\n            codec => json\n        }\n    }\n\n\nExample ``logstash.conf`` for SSL-encrypted TCP transport::\n\n    input {\n        tcp {\n            host => \"127.0.0.1\"\n            port => 5958\n            mode => server\n            codec => json\n\n            ssl_enable => true\n            ssl_verify => true\n            ssl_extra_chain_certs => [\"/etc/ssl/certs/logstash_ca.crt\"]\n            ssl_cert => \"/etc/ssl/certs/logstash.crt\"\n            ssl_key => \"/etc/ssl/private/logstash.key\"\n        }\n    }\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/davidwneary/python-logstash-async", "keywords": "logging logstash asynchronous", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "python-logstash-async-dwn", "package_url": "https://pypi.org/project/python-logstash-async-dwn/", "platform": "", "project_url": "https://pypi.org/project/python-logstash-async-dwn/", "project_urls": {"Homepage": "https://github.com/davidwneary/python-logstash-async"}, "release_url": "https://pypi.org/project/python-logstash-async-dwn/1.0.0/", "requires_dist": ["six"], "requires_python": "", "summary": "Asynchronous Python logging handler for Logstash.", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Python logging handler for asynchronous event processing and transport to Logstash.\n<a href=\"http://logstash.net/\" rel=\"nofollow\">http://logstash.net/</a></p>\n<div id=\"about\">\n<h2>About</h2>\n<p>This Python logging handler is a fork of\n<a href=\"https://github.com/eht16/python-logstash-async\" rel=\"nofollow\">https://github.com/eht16/python-logstash-async</a></p>\n<p>It has the following features:</p>\n<blockquote>\n<ul>\n<li>Asynchronous transport of log events</li>\n<li>Transport of events via TCP and UDP</li>\n<li>TCP transport optionally SSL-encrypted</li>\n<li>Special formatter ready to be used in Django projects</li>\n</ul>\n</blockquote>\n<p>Compared to <a href=\"https://github.com/eht16/python-logstash-async\" rel=\"nofollow\">https://github.com/eht16/python-logstash-async</a>, this fork does not try to preserve log statements if\nno connection can be made to logstash.</p>\n<div id=\"asynchronous-processing\">\n<h3>Asynchronous processing</h3>\n<p>Unlike the original <tt><span class=\"pre\">python-logstash</span></tt>, this handler will try to\nhandle log events as fast as possible so that the sending program\ncode can continue with its primary job.\nIn other words, for web applications or web services it is important\nto not slow down request times due to logging delays, e.g. waiting\nfor network timeouts to the Logstash server or similar.</p>\n<p>So this handler will accept log events and pass them for further\nprocessing to a separate worker thread which will try to send\nthe events to the configured Logstash server asynchronously.</p>\n<p>The sending intervals and timeouts can be configured in the\n<tt>logstash_async.constants</tt> module by the corresponding\nmodule-level constants, see below for details.</p>\n</div>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>Using pip:</p>\n<pre>pip install git+https://github.com/koendeschacht/python-logstash-async.git\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p><cite>AsynchronousLogstashHandler</cite> is a custom logging handler which\nsends Logstash messages using UDP and TCP. For example:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sys</span>\n<span class=\"kn\">from</span> <span class=\"nn\">logstash_async.handler</span> <span class=\"kn\">import</span> <span class=\"n\">AsynchronousLogstashHandler</span>\n\n<span class=\"n\">host</span> <span class=\"o\">=</span> <span class=\"s1\">'localhost'</span>\n<span class=\"n\">port</span> <span class=\"o\">=</span> <span class=\"mi\">5959</span>\n\n<span class=\"n\">test_logger</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s1\">'python-logstash-logger'</span><span class=\"p\">)</span>\n<span class=\"n\">test_logger</span><span class=\"o\">.</span><span class=\"n\">setLevel</span><span class=\"p\">(</span><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">INFO</span><span class=\"p\">)</span>\n<span class=\"n\">test_logger</span><span class=\"o\">.</span><span class=\"n\">addHandler</span><span class=\"p\">(</span><span class=\"n\">AsynchronousLogstashHandler</span><span class=\"p\">(</span>\n    <span class=\"n\">host</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"p\">)))</span>\n<span class=\"c1\"># test_logger.addHandler(AsynchronousLogstashHandler(host, port))</span>\n\n<span class=\"n\">test_logger</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s1\">'python-logstash-async: test logstash error message.'</span><span class=\"p\">)</span>\n<span class=\"n\">test_logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">'python-logstash-async: test logstash info message.'</span><span class=\"p\">)</span>\n<span class=\"n\">test_logger</span><span class=\"o\">.</span><span class=\"n\">warning</span><span class=\"p\">(</span><span class=\"s1\">'python-logstash-async: test logstash warning message.'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># add extra field to logstash message</span>\n<span class=\"n\">extra</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'test_string'</span><span class=\"p\">:</span> <span class=\"s1\">'python version: '</span> <span class=\"o\">+</span> <span class=\"nb\">repr</span><span class=\"p\">(</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">version_info</span><span class=\"p\">),</span>\n    <span class=\"s1\">'test_boolean'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'test_dict'</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s1\">'a'</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">'b'</span><span class=\"p\">:</span> <span class=\"s1\">'c'</span><span class=\"p\">},</span>\n    <span class=\"s1\">'test_float'</span><span class=\"p\">:</span> <span class=\"mf\">1.23</span><span class=\"p\">,</span>\n    <span class=\"s1\">'test_integer'</span><span class=\"p\">:</span> <span class=\"mi\">123</span><span class=\"p\">,</span>\n    <span class=\"s1\">'test_list'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">'3'</span><span class=\"p\">],</span>\n<span class=\"p\">}</span>\n<span class=\"n\">test_logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">'python-logstash: test extra fields'</span><span class=\"p\">,</span> <span class=\"n\">extra</span><span class=\"o\">=</span><span class=\"n\">extra</span><span class=\"p\">)</span>\n</pre>\n<p>When using the <tt>extra</tt> field make sure you don\u2019t use reserved names.\nFrom <a href=\"https://docs.python.org/2/library/logging.html\" rel=\"nofollow\">Python documentation</a>:</p>\n<pre>\"The keys in the dictionary passed in extra should not clash\nwith the keys used by the logging system.\n(See the `Formatter &lt;https://docs.python.org/2/library/logging.html#logging.Formatter&gt;`_ documentation\nfor more information on which keys are used by the logging system.)\"\n</pre>\n<p>You can also specify an additional extra dictionary in the logging configuration with static\nvalues like the application name, environment, etc. These values will be merged with any\nextra dictionary items passed in the logging call into the configured extra prefix.</p>\n</div>\n<div id=\"usage-with-django\">\n<h2>Usage with Django</h2>\n<p>Modify your <tt>settings.py</tt> to integrate <tt><span class=\"pre\">python-logstash-async</span></tt> with Django\u2019s logging:</p>\n<pre><span class=\"n\">LOGGING</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"o\">...</span>\n  <span class=\"s1\">'formatters'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"o\">...</span>\n      <span class=\"s1\">'logstash'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"s1\">'()'</span><span class=\"p\">:</span> <span class=\"s1\">'logstash_async.formatter.DjangoLogstashFormatter'</span><span class=\"p\">,</span>\n          <span class=\"s1\">'message_type'</span><span class=\"p\">:</span> <span class=\"s1\">'python-logstash'</span><span class=\"p\">,</span>\n          <span class=\"s1\">'fqdn'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"c1\"># Fully qualified domain name. Default value: false.</span>\n          <span class=\"s1\">'extra_prefix'</span><span class=\"p\">:</span> <span class=\"s1\">'dev'</span><span class=\"p\">,</span> <span class=\"c1\">#</span>\n          <span class=\"s1\">'extra'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n              <span class=\"s1\">'application'</span><span class=\"p\">:</span> <span class=\"n\">PROJECT_APP</span><span class=\"p\">,</span>\n              <span class=\"s1\">'project_path'</span><span class=\"p\">:</span> <span class=\"n\">PROJECT_APP_PATH</span><span class=\"p\">,</span>\n              <span class=\"s1\">'environment'</span><span class=\"p\">:</span> <span class=\"s1\">'production'</span>\n          <span class=\"p\">}</span>\n      <span class=\"p\">},</span>\n  <span class=\"p\">},</span>\n  <span class=\"s1\">'handlers'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"o\">...</span>\n      <span class=\"s1\">'logstash'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"s1\">'level'</span><span class=\"p\">:</span> <span class=\"s1\">'DEBUG'</span><span class=\"p\">,</span>\n          <span class=\"s1\">'class'</span><span class=\"p\">:</span> <span class=\"s1\">'logstash_async.handler.AsynchronousLogstashHandler'</span><span class=\"p\">,</span>\n          <span class=\"s1\">'transport'</span><span class=\"p\">:</span> <span class=\"s1\">'logstash_async.transport.TcpTransport'</span><span class=\"p\">,</span>\n          <span class=\"s1\">'host'</span><span class=\"p\">:</span> <span class=\"s1\">'logstash.host.tld'</span><span class=\"p\">,</span>\n          <span class=\"s1\">'port'</span><span class=\"p\">:</span> <span class=\"mi\">5959</span><span class=\"p\">,</span>\n          <span class=\"s1\">'ssl_enable'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n          <span class=\"s1\">'ssl_verify'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n          <span class=\"s1\">'ca_certs'</span><span class=\"p\">:</span> <span class=\"s1\">'etc/ssl/certs/logstash_ca.crt'</span><span class=\"p\">,</span>\n          <span class=\"s1\">'certfile'</span><span class=\"p\">:</span> <span class=\"s1\">'/etc/ssl/certs/logstash.crt'</span><span class=\"p\">,</span>\n          <span class=\"s1\">'keyfile'</span><span class=\"p\">:</span> <span class=\"s1\">'/etc/ssl/private/logstash.key'</span><span class=\"p\">,</span>\n      <span class=\"p\">},</span>\n  <span class=\"p\">},</span>\n  <span class=\"s1\">'loggers'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"s1\">'django.request'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"s1\">'handlers'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'logstash'</span><span class=\"p\">],</span>\n          <span class=\"s1\">'level'</span><span class=\"p\">:</span> <span class=\"s1\">'DEBUG'</span><span class=\"p\">,</span>\n          <span class=\"s1\">'propagate'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n      <span class=\"p\">},</span>\n  <span class=\"p\">},</span>\n  <span class=\"o\">...</span>\n<span class=\"p\">}</span>\n</pre>\n<p>This would result in a Logstash event like the following\n(note: to some extend dependent of your Logstash configuration):</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"nt\">\"@timestamp\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2016-10-23T15:11:16.853Z\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"@version\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"extra\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"application\"</span><span class=\"p\">:</span> <span class=\"s2\">\"django_example\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"django_version\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1.10.2\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"environment\"</span><span class=\"p\">:</span> <span class=\"s2\">\"production\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"func_name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"get_response\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"interpreter\"</span><span class=\"p\">:</span> <span class=\"s2\">\"/home/enrico/example/venv/bin/python\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"interpreter_version\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2.7.12\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"line\"</span><span class=\"p\">:</span> <span class=\"mi\">152</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"logger_name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"django.request\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"path\"</span><span class=\"p\">:</span> <span class=\"s2\">\"/home/enrico/example/venv/lib/python2.7/site-packages/django/core/handlers/base.py\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"process_name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"MainProcess\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"project_path\"</span><span class=\"p\">:</span> <span class=\"s2\">\"/home/enrico/example/app\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"req_host\"</span><span class=\"p\">:</span> <span class=\"s2\">\"localhost\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"req_method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"GET\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"req_referer\"</span><span class=\"p\">:</span> <span class=\"s2\">\"\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"req_remote_address\"</span><span class=\"p\">:</span> <span class=\"s2\">\"127.0.0.1\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"req_uri\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://localhost/hosts/nonexistent/\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"req_user\"</span><span class=\"p\">:</span> <span class=\"s2\">\"enrico\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"req_useragent\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"request\"</span><span class=\"p\">:</span> <span class=\"s2\">\"&lt;WSGIRequest: GET '/hosts/nonexistent/'&gt;\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"status_code\"</span><span class=\"p\">:</span> <span class=\"mi\">404</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"thread_name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Thread-1\"</span>\n    <span class=\"p\">},</span>\n    <span class=\"nt\">\"host\"</span><span class=\"p\">:</span> <span class=\"s2\">\"my.host.tld\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"level\"</span><span class=\"p\">:</span> <span class=\"s2\">\"WARNING\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"logsource\"</span><span class=\"p\">:</span> <span class=\"s2\">\"endor.l8failed.net\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"message\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Not Found: /hosts/nonexistent/\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"pid\"</span><span class=\"p\">:</span> <span class=\"mi\">23605</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"port\"</span><span class=\"p\">:</span> <span class=\"mi\">56170</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"program\"</span><span class=\"p\">:</span> <span class=\"s2\">\"manage.py\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"python-logstash\"</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n<div id=\"configuration\">\n<h2>Configuration</h2>\n<div id=\"options-for-configuring-the-log-handler\">\n<h3>Options for configuring the log handler</h3>\n<dl>\n<dt>host</dt>\n<dd>The host of the Logstash server (no default)</dd>\n<dt>port</dt>\n<dd>The port of the Logstash server (default 5959)</dd>\n<dt>transport</dt>\n<dd><p>Callable or path to a compatible transport class\n(default: \u2018logstash_async.transport.TcpTransport\u2019).</p>\n<p>You can specify your own transport class, e.g. to implement\na transport via Redis or the Beats protocol.\nIf you support pass a string, it should be a path to a\nclass which can be imported.\nIf you pass anything else, it should be an object of a class\nwith a similar interface as <cite>logstash_async.transport.TcpTransport</cite>.\nEspecially it should provide a <cite>close()</cite> and a <cite>send()</cite> method.</p>\n</dd>\n<dt>ssl_enable</dt>\n<dd>Should SSL be enabled for the connection? (default: False)\nOnly used for <cite>logstash_async.transport.TcpTransport</cite>.</dd>\n<dt>ssl_verify</dt>\n<dd>Should the server\u2019s SSL certificate be verified? (default: True)\nOnly used for <cite>logstash_async.transport.TcpTransport</cite>.</dd>\n<dt>keyfile</dt>\n<dd>The path to client side SSL key file (default: None)\nOnly used for <cite>logstash_async.transport.TcpTransport</cite>.</dd>\n<dt>certfile</dt>\n<dd>The path to client side SSL certificate file (default: None)\nOnly used for <cite>logstash_async.transport.TcpTransport</cite>.</dd>\n<dt>ca_certs</dt>\n<dd>The path to the file containing recognized CA certificates\n(default: None)\nOnly used for <cite>logstash_async.transport.TcpTransport</cite>.</dd>\n<dt>enable</dt>\n<dd>Flag to enable log processing (default is True, disabling\nmight be handy for local testing, etc.)</dd>\n</dl>\n</div>\n<div id=\"options-for-configuring-the-log-formatter\">\n<h3>Options for configuring the log formatter</h3>\n<p>The following settings are only valid for the provided formatters\n<cite>logstash_async.handler.LogstashFormatter</cite> and\n<cite>logstash_async.handler.DjangoLogstashFormatter</cite>.</p>\n<p>You can use any other formatter by configuring Python\u2019s logging\nsystem accordingly. Any other formatter\u2019s <cite>format()</cite> method just\nshould return valid JSON suitable to be sent to Logstash\n(see <a href=\"#example-logstash-configuration\" rel=\"nofollow\">Example Logstash Configuration</a> below).</p>\n<p>Options:</p>\n<dl>\n<dt>message_type</dt>\n<dd>The <cite>type</cite> field in the message sent to Logstash\n(default: \u2018python-logstash\u2019)</dd>\n<dt>tags</dt>\n<dd>Additional tags to include in the Logstash message (default: None)</dd>\n<dt>fqdn</dt>\n<dd>Use the system\u2019s FQDN (fully qualified domain name) in the <cite>host</cite>\nfield of the message sent to Logstash.\n<cite>socket.getfqdn()</cite> is used to retrieve the FQDN, otherwise\n<cite>socket.gethostname()</cite> is used for the default hostname.\n(default: False)</dd>\n<dt>extra_prefix</dt>\n<dd><p>Name of the field in the resulting message sent to Logstash where\nall additional fields are grouped into. Consider it as some sort\nof namespace for all non-standard fields in the log event.\nThis field will take any items passed in as extra fields via\nthe <cite>extra</cite> configuration option (see below) as well as any extra\nitems passed in the logging call.</p>\n<p>To disable grouping of the extra items and have them on the top\nlevel of the log event message, simply set this option to <cite>None</cite>\nor the empty string.\n(default: \u2018extra\u2019)</p>\n</dd>\n<dt>extra</dt>\n<dd>Dictionary with static items to be included in the message sent\nto Logstash. This dictionary will be merged with any other extra\nitems passed in the logging call.\n(default: None)</dd>\n</dl>\n</div>\n<div id=\"options-for-the-asynchronous-processing-in-module-logstash-async-constants\">\n<h3>Options for the asynchronous processing (in module logstash_async.constants)</h3>\n<dl>\n<dt>SOCKET_TIMEOUT</dt>\n<dd>Timeout in seconds for TCP connections (default: 5.0)</dd>\n<dt>QUEUE_CHECK_INTERVAL</dt>\n<dd>Interval in seconds to check the internal queue for new messages (default: 0.2)</dd>\n<dt>TIMEOUT_SENDING_MESSAGES_AT_TERMINATION</dt>\n<dd>When the program terminates, any remaining log messages are still send to logstash. This constant defines\nfor how many seconds the handler can still send messages before terminating (default: 2.0)</dd>\n</dl>\n</div>\n</div>\n<div id=\"example-logstash-configuration\">\n<h2>Example Logstash Configuration</h2>\n<p>Example <tt>logstash.conf</tt> for unencrypted TCP transport:</p>\n<pre>input {\n    tcp {\n        host =&gt; \"127.0.0.1\"\n        port =&gt; 5959\n        mode =&gt; server\n        codec =&gt; json\n    }\n}\n</pre>\n<p>Example <tt>logstash.conf</tt> for SSL-encrypted TCP transport:</p>\n<pre>input {\n    tcp {\n        host =&gt; \"127.0.0.1\"\n        port =&gt; 5958\n        mode =&gt; server\n        codec =&gt; json\n\n        ssl_enable =&gt; true\n        ssl_verify =&gt; true\n        ssl_extra_chain_certs =&gt; [\"/etc/ssl/certs/logstash_ca.crt\"]\n        ssl_cert =&gt; \"/etc/ssl/certs/logstash.crt\"\n        ssl_key =&gt; \"/etc/ssl/private/logstash.key\"\n    }\n}\n</pre>\n</div>\n\n          </div>"}, "last_serial": 3707731, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "1f9e5b295c28d983b9bdd5b240be92cf", "sha256": "135eb9b05192de9befe009f4c9e19680e5ef52c438ec66559267cad06a6e7402"}, "downloads": -1, "filename": "python_logstash_async_dwn-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "1f9e5b295c28d983b9bdd5b240be92cf", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 18643, "upload_time": "2018-03-26T19:16:29", "upload_time_iso_8601": "2018-03-26T19:16:29.945362Z", "url": "https://files.pythonhosted.org/packages/01/a0/320f237f7a83439c3c460e447e890a3f8368ce05a4f83df94d53ff49cef4/python_logstash_async_dwn-1.0.0-py2.py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "1f9e5b295c28d983b9bdd5b240be92cf", "sha256": "135eb9b05192de9befe009f4c9e19680e5ef52c438ec66559267cad06a6e7402"}, "downloads": -1, "filename": "python_logstash_async_dwn-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "1f9e5b295c28d983b9bdd5b240be92cf", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 18643, "upload_time": "2018-03-26T19:16:29", "upload_time_iso_8601": "2018-03-26T19:16:29.945362Z", "url": "https://files.pythonhosted.org/packages/01/a0/320f237f7a83439c3c460e447e890a3f8368ce05a4f83df94d53ff49cef4/python_logstash_async_dwn-1.0.0-py2.py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 03:16:43 2020"}
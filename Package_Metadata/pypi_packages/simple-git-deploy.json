{"info": {"author": "Eduardo Dobay", "author_email": "edudobay@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Natural Language :: English", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Software Development :: Build Tools", "Topic :: Software Development :: Version Control :: Git"], "description": "# simple-git-deploy\n\n<a href=\"https://pypi.org/project/simple-git-deploy/\" title=\"Available on PyPI\">\n  <img src=\"https://img.shields.io/pypi/v/simple-git-deploy.svg?style=for-the-badge\" alt=\"Latest PyPI version\"></a>\n\nA command-line utility for easy and reliable management of manual deployments from Git repositories.\n\nEven manual deployments can be made reliable if some minimal automation is applied. This utility performs _atomic_ deployments from a Git repository, with an optional _build_ phase (e.g. installing dependencies). The previous deployment is not affected until the build completes successfully \u2013 no more inconsistency errors when you update your Git branch but your application is not yet fully updated \u2013 e.g. missing new dependencies from your package manager.\n\nEach deployment is built in a new directory made just for that deployment. Previous deployments are kept (and can be later purged), and the target is only updated when the build completes \u2013 that\u2019s what we meant by _atomic_! If the build fails, the target will not be updated.\n\nThe meaning of _build_ is defined by the user; it can be any command runnable from a shell. Configuration is made in a simple `.ini` file.\n\n\n## Installation\n\nRequirements:\n\n* Python \u2265 3.5 (has been tested with 3.6 and 3.7 but should work with 3.5 nonetheless)\n* Git \u2265 2.7 (depends on the `git worktree` feature)\n\nInstall via **pip**:\n\n```\n$ pip install simple-git-deploy\n```\n\nIf this fails and you have no idea what to do, you can try adding the `--user` option after `pip install`, though other options can be better in the long run \u2013 e.g. you can use [pipsi](https://github.com/mitsuhiko/pipsi/), or simply create a **virtualenv** for your installed scripts.\n\n\n## Usage\n\nAfter [installing this utility](#installation), you can run `simple-git-deploy --help` for basic usage instructions.\n\nThe easiest way is to run `simple-git-deploy deploy <git-branch-name>`. But before first usage you must create a `deploy.ini` file with at least the settings below (look further for an example):\n\n* `dirs.deploy`: directory where your application will be deployed. The current deployment will be available at `current` under this directory. This will be a symlink to the actual deployment directory.\n\n    So, for example, if you have a PHP application, you can point Nginx to the `/app/deployments/current` directory which will contain a working tree of your Git repository and will be updated whenever you deploy a new version, provided you add this to your `deploy.ini`:\n\n    ```ini\n    [dirs]\n    deploy = /app/deployments\n    ```\n\n    Each deployment will also live in this directory with a name containing the date/time of the deployment, the Git commit hash and the name of the branch/tag that was deployed.\n\n* `build.run`: which command to run in the _build_ phase. Typical usages are running your package manager, copying configuration files, compiling assets.\n\n    This is run as a shell command line \u2013 so you can chain commands as in `npm install && npm run build`.\n\nA complete configuration file would thus be:\n\n```ini\n[dirs]\ndeploy = /app/deployments\n\n[build]\nrun = npm install && npm run build\n```\n\n**It is assumed that the build will be run in the same host where the application is to be deployed.** Also, the user running this script must have **permission to write on the deployment directory**.\n\n\n### Purging old deployments\n\nYou can purge old deployments with `simple-git-deploy purge`. There are two ways to specify what exactly is to be removed:\n\n* `--keep-latest N`: keep only the latest _N_ deployments (other than the current one). With _N=0_, only the current deployment is kept, and with _N=1_ only one deployment other than the current is kept.\n* `--older-than DATETIME`: discard deployments with a timestamp strictly older than the given date/time. A wide range of both absolute and relative formats is accepted; see the [dateparser documentation](https://dateparser.readthedocs.io/en/latest/) for full information. Common cases may be written as `10d`, `1w` (10 days and 1 week, respectively).\n\n\n## Development setup\n\nIf you want to set this project up for development, see [CONTRIBUTING.md](./CONTRIBUTING.md).\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/edudobay/simple-git-deploy", "keywords": "deployment,automation,git", "license": "GPL-3.0", "maintainer": "", "maintainer_email": "", "name": "simple-git-deploy", "package_url": "https://pypi.org/project/simple-git-deploy/", "platform": "", "project_url": "https://pypi.org/project/simple-git-deploy/", "project_urls": {"Homepage": "https://github.com/edudobay/simple-git-deploy", "Repository": "https://github.com/edudobay/simple-git-deploy"}, "release_url": "https://pypi.org/project/simple-git-deploy/0.5.2/", "requires_dist": ["dateparser (>=0.7.0,<0.8.0)", "inquirer (>=2.6,<3.0)"], "requires_python": ">=3.5,<4.0", "summary": "A command-line utility for easy and reliable management of manual deployments from Git repositories", "version": "0.5.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>simple-git-deploy</h1>\n<a href=\"https://pypi.org/project/simple-git-deploy/\" rel=\"nofollow\" title=\"Available on PyPI\">\n  <img alt=\"Latest PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/785636d2f9f80ae295917ac1345913d5a1ba788f/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f73696d706c652d6769742d6465706c6f792e7376673f7374796c653d666f722d7468652d6261646765\"></a>\n<p>A command-line utility for easy and reliable management of manual deployments from Git repositories.</p>\n<p>Even manual deployments can be made reliable if some minimal automation is applied. This utility performs <em>atomic</em> deployments from a Git repository, with an optional <em>build</em> phase (e.g. installing dependencies). The previous deployment is not affected until the build completes successfully \u2013 no more inconsistency errors when you update your Git branch but your application is not yet fully updated \u2013 e.g. missing new dependencies from your package manager.</p>\n<p>Each deployment is built in a new directory made just for that deployment. Previous deployments are kept (and can be later purged), and the target is only updated when the build completes \u2013 that\u2019s what we meant by <em>atomic</em>! If the build fails, the target will not be updated.</p>\n<p>The meaning of <em>build</em> is defined by the user; it can be any command runnable from a shell. Configuration is made in a simple <code>.ini</code> file.</p>\n<h2>Installation</h2>\n<p>Requirements:</p>\n<ul>\n<li>Python \u2265 3.5 (has been tested with 3.6 and 3.7 but should work with 3.5 nonetheless)</li>\n<li>Git \u2265 2.7 (depends on the <code>git worktree</code> feature)</li>\n</ul>\n<p>Install via <strong>pip</strong>:</p>\n<pre><code>$ pip install simple-git-deploy\n</code></pre>\n<p>If this fails and you have no idea what to do, you can try adding the <code>--user</code> option after <code>pip install</code>, though other options can be better in the long run \u2013 e.g. you can use <a href=\"https://github.com/mitsuhiko/pipsi/\" rel=\"nofollow\">pipsi</a>, or simply create a <strong>virtualenv</strong> for your installed scripts.</p>\n<h2>Usage</h2>\n<p>After <a href=\"#installation\" rel=\"nofollow\">installing this utility</a>, you can run <code>simple-git-deploy --help</code> for basic usage instructions.</p>\n<p>The easiest way is to run <code>simple-git-deploy deploy &lt;git-branch-name&gt;</code>. But before first usage you must create a <code>deploy.ini</code> file with at least the settings below (look further for an example):</p>\n<ul>\n<li>\n<p><code>dirs.deploy</code>: directory where your application will be deployed. The current deployment will be available at <code>current</code> under this directory. This will be a symlink to the actual deployment directory.</p>\n<p>So, for example, if you have a PHP application, you can point Nginx to the <code>/app/deployments/current</code> directory which will contain a working tree of your Git repository and will be updated whenever you deploy a new version, provided you add this to your <code>deploy.ini</code>:</p>\n<pre><span class=\"k\">[dirs]</span>\n<span class=\"na\">deploy</span> <span class=\"o\">=</span> <span class=\"s\">/app/deployments</span>\n</pre>\n<p>Each deployment will also live in this directory with a name containing the date/time of the deployment, the Git commit hash and the name of the branch/tag that was deployed.</p>\n</li>\n<li>\n<p><code>build.run</code>: which command to run in the <em>build</em> phase. Typical usages are running your package manager, copying configuration files, compiling assets.</p>\n<p>This is run as a shell command line \u2013 so you can chain commands as in <code>npm install &amp;&amp; npm run build</code>.</p>\n</li>\n</ul>\n<p>A complete configuration file would thus be:</p>\n<pre><span class=\"k\">[dirs]</span>\n<span class=\"na\">deploy</span> <span class=\"o\">=</span> <span class=\"s\">/app/deployments</span>\n\n<span class=\"k\">[build]</span>\n<span class=\"na\">run</span> <span class=\"o\">=</span> <span class=\"s\">npm install &amp;&amp; npm run build</span>\n</pre>\n<p><strong>It is assumed that the build will be run in the same host where the application is to be deployed.</strong> Also, the user running this script must have <strong>permission to write on the deployment directory</strong>.</p>\n<h3>Purging old deployments</h3>\n<p>You can purge old deployments with <code>simple-git-deploy purge</code>. There are two ways to specify what exactly is to be removed:</p>\n<ul>\n<li><code>--keep-latest N</code>: keep only the latest <em>N</em> deployments (other than the current one). With <em>N=0</em>, only the current deployment is kept, and with <em>N=1</em> only one deployment other than the current is kept.</li>\n<li><code>--older-than DATETIME</code>: discard deployments with a timestamp strictly older than the given date/time. A wide range of both absolute and relative formats is accepted; see the <a href=\"https://dateparser.readthedocs.io/en/latest/\" rel=\"nofollow\">dateparser documentation</a> for full information. Common cases may be written as <code>10d</code>, <code>1w</code> (10 days and 1 week, respectively).</li>\n</ul>\n<h2>Development setup</h2>\n<p>If you want to set this project up for development, see <a href=\"./CONTRIBUTING.md\" rel=\"nofollow\">CONTRIBUTING.md</a>.</p>\n\n          </div>"}, "last_serial": 6546279, "releases": {"0.4.0": [{"comment_text": "", "digests": {"md5": "ef4c272a042a43a0fa5084f8ea4cd66d", "sha256": "3553476e4461e52e6c3ac3f70b91f62cc5ced3d6d330e0d33d9250b81e1e6d6c"}, "downloads": -1, "filename": "simple_git_deploy-0.4.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ef4c272a042a43a0fa5084f8ea4cd66d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 24550, "upload_time": "2019-04-28T03:09:56", "upload_time_iso_8601": "2019-04-28T03:09:56.322856Z", "url": "https://files.pythonhosted.org/packages/7d/02/db20cb61b2c2ee1eabee0bfdbf8fdf05a18164f6ea81a8a3dd3d08b05a0c/simple_git_deploy-0.4.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "905ebf607792c2c5cfad7093cb4b4dc8", "sha256": "9bb137f95400f8a048f82db12aea8012ff0e94613043b1febeb6f3760ab30e7b"}, "downloads": -1, "filename": "simple-git-deploy-0.4.0.tar.gz", "has_sig": false, "md5_digest": "905ebf607792c2c5cfad7093cb4b4dc8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 10725, "upload_time": "2019-04-28T03:10:10", "upload_time_iso_8601": "2019-04-28T03:10:10.106783Z", "url": "https://files.pythonhosted.org/packages/3d/17/9294ad9f6364f90e1a2a58511c51dd683caf0ad33108f87d3b4afe402e6c/simple-git-deploy-0.4.0.tar.gz", "yanked": false}], "0.5.0": [{"comment_text": "", "digests": {"md5": "1c31f9908e65769e805720850d5fe0fc", "sha256": "fc7fa699997f8f1c9c9a75bba008725949ee4771549c5fb24ed6ed5e672a1b14"}, "downloads": -1, "filename": "simple_git_deploy-0.5.0-py3-none-any.whl", "has_sig": false, "md5_digest": "1c31f9908e65769e805720850d5fe0fc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5,<4.0", "size": 24677, "upload_time": "2019-12-11T04:21:08", "upload_time_iso_8601": "2019-12-11T04:21:08.417533Z", "url": "https://files.pythonhosted.org/packages/b7/f2/729938c19a8863f81463634a5d25a3dad257a25b16f6b1df61f9e54d0314/simple_git_deploy-0.5.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0d3d4d9cfbcae89ec12c1ee3275d784b", "sha256": "d201f8a3a7898c346ee2ae95dce39a0b05b0b48301b2d52f2656d9680c179ee2"}, "downloads": -1, "filename": "simple-git-deploy-0.5.0.tar.gz", "has_sig": false, "md5_digest": "0d3d4d9cfbcae89ec12c1ee3275d784b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5,<4.0", "size": 23171, "upload_time": "2019-12-11T04:21:06", "upload_time_iso_8601": "2019-12-11T04:21:06.177624Z", "url": "https://files.pythonhosted.org/packages/6c/61/7f3c810369fdce0d2b76f10f323b2574c7ace5c38127e321d33cea6190c1/simple-git-deploy-0.5.0.tar.gz", "yanked": false}], "0.5.1": [{"comment_text": "", "digests": {"md5": "1417d1365566415bf1b48d75350f4b5c", "sha256": "f98582ea1cd473ac3d762dd50e3e2bcb0d632bf66f8933ffa9604476185e5f6e"}, "downloads": -1, "filename": "simple_git_deploy-0.5.1-py3-none-any.whl", "has_sig": false, "md5_digest": "1417d1365566415bf1b48d75350f4b5c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5,<4.0", "size": 24664, "upload_time": "2019-12-11T12:57:23", "upload_time_iso_8601": "2019-12-11T12:57:23.450522Z", "url": "https://files.pythonhosted.org/packages/f0/8c/8713746127e1be8002554ef520c2a4778fddcce99bd9eaf109ad1ffc7fc1/simple_git_deploy-0.5.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c9ccdc91cd724366d69a0aa26c20a509", "sha256": "63fa8b28d4b1ac1591a8baa1d793546dc2aa2a6c7ab91f9df645211027fe879c"}, "downloads": -1, "filename": "simple-git-deploy-0.5.1.tar.gz", "has_sig": false, "md5_digest": "c9ccdc91cd724366d69a0aa26c20a509", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5,<4.0", "size": 23207, "upload_time": "2019-12-11T12:57:21", "upload_time_iso_8601": "2019-12-11T12:57:21.636788Z", "url": "https://files.pythonhosted.org/packages/bb/89/b1db8b46aa562487dd0dfc8cf64b2d3e62bde37652efb35f6f8506fb2c27/simple-git-deploy-0.5.1.tar.gz", "yanked": false}], "0.5.2": [{"comment_text": "", "digests": {"md5": "805ae9ea69ede6463881928bda7c7eda", "sha256": "d05fe6f5a2fe97c3b66cc1c19844cc6c6fd74980423b298a935f513bca1408c6"}, "downloads": -1, "filename": "simple_git_deploy-0.5.2-py3-none-any.whl", "has_sig": true, "md5_digest": "805ae9ea69ede6463881928bda7c7eda", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5,<4.0", "size": 24712, "upload_time": "2020-01-30T23:55:09", "upload_time_iso_8601": "2020-01-30T23:55:09.914492Z", "url": "https://files.pythonhosted.org/packages/62/0f/7b46beae94a588113ad32a13de748bf548be4bfb5f73bcdba0e4f08d3491/simple_git_deploy-0.5.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "20a6db89451d9438446de2a658c8edc4", "sha256": "216a75cf6f7b4d1841fe78b00c286518438544339c250437f43c77ee6a00355c"}, "downloads": -1, "filename": "simple-git-deploy-0.5.2.tar.gz", "has_sig": true, "md5_digest": "20a6db89451d9438446de2a658c8edc4", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5,<4.0", "size": 23224, "upload_time": "2020-01-30T23:55:13", "upload_time_iso_8601": "2020-01-30T23:55:13.462680Z", "url": "https://files.pythonhosted.org/packages/b5/00/71f2480322e11e97a62a8f391c69b277bcc095d9613f8042db40fbbc16d2/simple-git-deploy-0.5.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "805ae9ea69ede6463881928bda7c7eda", "sha256": "d05fe6f5a2fe97c3b66cc1c19844cc6c6fd74980423b298a935f513bca1408c6"}, "downloads": -1, "filename": "simple_git_deploy-0.5.2-py3-none-any.whl", "has_sig": true, "md5_digest": "805ae9ea69ede6463881928bda7c7eda", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5,<4.0", "size": 24712, "upload_time": "2020-01-30T23:55:09", "upload_time_iso_8601": "2020-01-30T23:55:09.914492Z", "url": "https://files.pythonhosted.org/packages/62/0f/7b46beae94a588113ad32a13de748bf548be4bfb5f73bcdba0e4f08d3491/simple_git_deploy-0.5.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "20a6db89451d9438446de2a658c8edc4", "sha256": "216a75cf6f7b4d1841fe78b00c286518438544339c250437f43c77ee6a00355c"}, "downloads": -1, "filename": "simple-git-deploy-0.5.2.tar.gz", "has_sig": true, "md5_digest": "20a6db89451d9438446de2a658c8edc4", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5,<4.0", "size": 23224, "upload_time": "2020-01-30T23:55:13", "upload_time_iso_8601": "2020-01-30T23:55:13.462680Z", "url": "https://files.pythonhosted.org/packages/b5/00/71f2480322e11e97a62a8f391c69b277bcc095d9613f8042db40fbbc16d2/simple-git-deploy-0.5.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:10:45 2020"}
{"info": {"author": "DE Team", "author_email": "data.eng@ruma.co.id", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: Implementation :: CPython", "Programming Language :: Python :: Implementation :: PyPy"], "description": "# kueri\n\nA query toolkit\n\n## Description\n\nThere are two module in kueri package:\n\n1. Query extractor from DAG file : Used for extract query from each task in a dag file\n2. Query validator : Validate query using dry run api bigquery. This module use **standard sql dialect**\n\n## How to run unit test\n\n### Need to install berfore run unit test\n\n- pytest (pip install pytest)\n- pytest-cov (pip install pytest-cov)\n- rootpath (pip install rootpath)\n- mock\n- sqlparse\n- rootpath\n- apache-airflow[gcp]==1.10.5\n- requests\n\n### Command to run unit test\n\n- pytest (output only pass or failed testing)\n- pytest --cov-report term --cov=kueri tests/  (Give percentage coverage of unit testing)\n- pytest --cov-report term-missing --cov=kueri tests/ (give line of code function that not covered in unit test)\n\n## Installation\n\n``` shell\npip3 install kueri\n```\n\n**Note**\\\n***Before you install kueri, please make sure that you have installed all module that's your dag need***\n\n## Usage\n\n### Query validator\n\n``` shell\nkueri cmd='query_validator' query='{query need to validate}' project_id='{project id of your query}'\n```\n\nexample:\n\n``` shell\nkueri cmd='query_validator' query='select * from `mapan-data-prd.mapan_data_prod_dv.hub_arisan_chairmen`' project_id='mapan-data-prd'\n```\n\n### Query extractor from DAG file\n\n``` shell\nkueri cmd=\"dag_bq_extractor\" path_to_folder_file='{path to folder folder file DAG}' file_name='{name of file}'\n```\n\nexample:\n\n``` shell\nkueri cmd=\"dag_bq_extractor\" path_to_folder_file='/Users/mapan_1004/Documents/workspace/list_of_dag/' file_name='test_retrieve_bigquery_param_bql_dag.py'\n```\n\n**Note**\\\n***Please use `'` (single quote) instead of `\"` (double quotes) in parameter.***", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.mapan.io/data-eng/kueri", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "kueri", "package_url": "https://pypi.org/project/kueri/", "platform": "", "project_url": "https://pypi.org/project/kueri/", "project_urls": {"Homepage": "https://gitlab.mapan.io/data-eng/kueri"}, "release_url": "https://pypi.org/project/kueri/0.5.3/", "requires_dist": null, "requires_python": ">=3.4.0", "summary": "Helper for extract query from dag file and validate query", "version": "0.5.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>kueri</h1>\n<p>A query toolkit</p>\n<h2>Description</h2>\n<p>There are two module in kueri package:</p>\n<ol>\n<li>Query extractor from DAG file : Used for extract query from each task in a dag file</li>\n<li>Query validator : Validate query using dry run api bigquery. This module use <strong>standard sql dialect</strong></li>\n</ol>\n<h2>How to run unit test</h2>\n<h3>Need to install berfore run unit test</h3>\n<ul>\n<li>pytest (pip install pytest)</li>\n<li>pytest-cov (pip install pytest-cov)</li>\n<li>rootpath (pip install rootpath)</li>\n<li>mock</li>\n<li>sqlparse</li>\n<li>rootpath</li>\n<li>apache-airflow[gcp]==1.10.5</li>\n<li>requests</li>\n</ul>\n<h3>Command to run unit test</h3>\n<ul>\n<li>pytest (output only pass or failed testing)</li>\n<li>pytest --cov-report term --cov=kueri tests/  (Give percentage coverage of unit testing)</li>\n<li>pytest --cov-report term-missing --cov=kueri tests/ (give line of code function that not covered in unit test)</li>\n</ul>\n<h2>Installation</h2>\n<pre>pip3 install kueri\n</pre>\n<p><strong>Note</strong><br>\n<em><strong>Before you install kueri, please make sure that you have installed all module that's your dag need</strong></em></p>\n<h2>Usage</h2>\n<h3>Query validator</h3>\n<pre>kueri <span class=\"nv\">cmd</span><span class=\"o\">=</span><span class=\"s1\">'query_validator'</span> <span class=\"nv\">query</span><span class=\"o\">=</span><span class=\"s1\">'{query need to validate}'</span> <span class=\"nv\">project_id</span><span class=\"o\">=</span><span class=\"s1\">'{project id of your query}'</span>\n</pre>\n<p>example:</p>\n<pre>kueri <span class=\"nv\">cmd</span><span class=\"o\">=</span><span class=\"s1\">'query_validator'</span> <span class=\"nv\">query</span><span class=\"o\">=</span><span class=\"s1\">'select * from `mapan-data-prd.mapan_data_prod_dv.hub_arisan_chairmen`'</span> <span class=\"nv\">project_id</span><span class=\"o\">=</span><span class=\"s1\">'mapan-data-prd'</span>\n</pre>\n<h3>Query extractor from DAG file</h3>\n<pre>kueri <span class=\"nv\">cmd</span><span class=\"o\">=</span><span class=\"s2\">\"dag_bq_extractor\"</span> <span class=\"nv\">path_to_folder_file</span><span class=\"o\">=</span><span class=\"s1\">'{path to folder folder file DAG}'</span> <span class=\"nv\">file_name</span><span class=\"o\">=</span><span class=\"s1\">'{name of file}'</span>\n</pre>\n<p>example:</p>\n<pre>kueri <span class=\"nv\">cmd</span><span class=\"o\">=</span><span class=\"s2\">\"dag_bq_extractor\"</span> <span class=\"nv\">path_to_folder_file</span><span class=\"o\">=</span><span class=\"s1\">'/Users/mapan_1004/Documents/workspace/list_of_dag/'</span> <span class=\"nv\">file_name</span><span class=\"o\">=</span><span class=\"s1\">'test_retrieve_bigquery_param_bql_dag.py'</span>\n</pre>\n<p><strong>Note</strong><br>\n<em><strong>Please use <code>'</code> (single quote) instead of <code>\"</code> (double quotes) in parameter.</strong></em></p>\n\n          </div>"}, "last_serial": 6337425, "releases": {"0.5.0": [{"comment_text": "", "digests": {"md5": "6b8684931359a7c69df7fce44f8cec43", "sha256": "fe47310fecbad2fc044de1c32634ddacf6705a2d4337e476be2ad792b0320eb1"}, "downloads": -1, "filename": "kueri-0.5.0.tar.gz", "has_sig": false, "md5_digest": "6b8684931359a7c69df7fce44f8cec43", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.4.0", "size": 4783, "upload_time": "2019-12-04T11:12:05", "upload_time_iso_8601": "2019-12-04T11:12:05.716644Z", "url": "https://files.pythonhosted.org/packages/f6/40/1730e8cb0c48bd05b6678fdc65ce7e8451d21b31c853e739a3ddefdf8f5c/kueri-0.5.0.tar.gz", "yanked": false}], "0.5.1": [{"comment_text": "", "digests": {"md5": "4dca5b9554bcf55eae57fa77d8eb6811", "sha256": "b76e9cd0880b76cc50b44942c53636228125b6c9fb7803fc6094a086f7bee5b5"}, "downloads": -1, "filename": "kueri-0.5.1.tar.gz", "has_sig": false, "md5_digest": "4dca5b9554bcf55eae57fa77d8eb6811", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.4.0", "size": 5186, "upload_time": "2019-12-05T02:24:57", "upload_time_iso_8601": "2019-12-05T02:24:57.670009Z", "url": "https://files.pythonhosted.org/packages/30/78/c67512c6b26d482eaabccd0cac2b2c7da5fb4d092bbbdb6e92613c6aba41/kueri-0.5.1.tar.gz", "yanked": false}], "0.5.2": [{"comment_text": "", "digests": {"md5": "1396f32ce2c4b7bb54b79093d05475a8", "sha256": "a98c89f6933aa4e374468e5b5b414a1116ece1e79fa6baa094ad1574a52642c9"}, "downloads": -1, "filename": "kueri-0.5.2.tar.gz", "has_sig": false, "md5_digest": "1396f32ce2c4b7bb54b79093d05475a8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.4.0", "size": 5195, "upload_time": "2019-12-05T02:41:31", "upload_time_iso_8601": "2019-12-05T02:41:31.545870Z", "url": "https://files.pythonhosted.org/packages/f2/0a/a148919cf7e60fc953ea7d1e9adce4fd970c594bb149f8a1acd65b6a4483/kueri-0.5.2.tar.gz", "yanked": false}], "0.5.3": [{"comment_text": "", "digests": {"md5": "507ad38b2bc8ca19801f9055ca7c7fb6", "sha256": "ddd80a67ca9d561cb3503a2ba27077fa2e9dc01b024ddcf2ce5cccf51c7a5e49"}, "downloads": -1, "filename": "kueri-0.5.3.tar.gz", "has_sig": false, "md5_digest": "507ad38b2bc8ca19801f9055ca7c7fb6", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.4.0", "size": 5861, "upload_time": "2019-12-20T06:48:06", "upload_time_iso_8601": "2019-12-20T06:48:06.339490Z", "url": "https://files.pythonhosted.org/packages/dc/0e/931ea32c32e5d74ed03e9711737fc376b8db485a08a7627387c2a7b494ea/kueri-0.5.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "507ad38b2bc8ca19801f9055ca7c7fb6", "sha256": "ddd80a67ca9d561cb3503a2ba27077fa2e9dc01b024ddcf2ce5cccf51c7a5e49"}, "downloads": -1, "filename": "kueri-0.5.3.tar.gz", "has_sig": false, "md5_digest": "507ad38b2bc8ca19801f9055ca7c7fb6", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.4.0", "size": 5861, "upload_time": "2019-12-20T06:48:06", "upload_time_iso_8601": "2019-12-20T06:48:06.339490Z", "url": "https://files.pythonhosted.org/packages/dc/0e/931ea32c32e5d74ed03e9711737fc376b8db485a08a7627387c2a7b494ea/kueri-0.5.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:48:35 2020"}
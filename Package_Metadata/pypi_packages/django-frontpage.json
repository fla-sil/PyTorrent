{"info": {"author": "Microdisseny", "author_email": "tech@microdisseny.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Environment :: Web Environment", "Framework :: Django", "Intended Audience :: Developers", "Operating System :: OS Independent", "Programming Language :: Python", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# Django Frontpage\n\nShow a page before your users authenticate into the admin site.\n\n[![Build Status](https://travis-ci.org/Microdisseny/django-frontpage.svg?branch=master)](https://travis-ci.org/Microdisseny/django-frontpage) [![Coverage Status](https://coveralls.io/repos/github/Microdisseny/django-frontpage/badge.svg?branch=master)](https://coveralls.io/github/Microdisseny/django-frontpage?branch=master)\n\nValid users will go straight to the admin site, others will land in the frontpage\nwhere you can show an app description, warning, etc. You only need to provide\nyour own template.\n\nAfter clicking login button in the frontpage, the user will be redirected to the\noriginal url. If there was no original url, the user will be redirected to the\n`FRONTPAGE_ADMIN_PREFIX`.\n\n\n## Getting started\n\nInstall:\n\n```\npip install django-frontpage\n```\n\nThen modify your Django settings:\n\nAdd the `frontpage` application to `INSTALLED_APPS`:\n\n```python\nINSTALLED_APPS = (\n  ...\n  'frontpage',\n  ...\n)\n```\n\nAdd the middleware to `MIDDLEWARE` after `AuthenticationMiddleware` or any\nother authentication middleware like OAuth2:\n\n```python\nMIDDLEWARE = [\n    ...\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'oauth2_provider.backends.OAuth2Backend',\n    'frontpage.middleware.FrontpageMiddleware',\n    ...\n]\n```\n\nDefault admin prefix is `'/admin/'` change it if necessary:\n\n```python\nFRONTPAGE_ADMIN_PREFIX = '/admin/'\n```\n\nAdd the frontpage view to your urls:\n\n```python\nfrom frontpage.views import FrontpageView\n\nurlpatterns = [\n    path('', FrontpageView.as_view(), name='frontpage'),\n    path('admin/', admin.site.urls),\n    ...\n]\n```\n\n\n## Custom frontpage template\n\nPlace a different frontpage template in `frontpage/index.html`.\n\nOr use the `template_name` attribute in `urls.py`:\n\n```python\nfrom frontpage.views import FrontpageView\n\nurlpatterns = [\n    path('', FrontpageView.as_view(template_name='my_frontpage.html'), name='frontpage'),\n    path('admin/', admin.site.urls),\n    ...\n]\n```\n\nSee [frontpage/templates/frontpage/index.html](frontpage/templates/frontpage/index.html) for the default frontpage template.\n\n\n## Settings\n\n| Option                        | Default        | Description                             |\n|-------------------------------|----------------|-----------------------------------------|\n| **`FRONTPAGE_ADMIN_PREFIX`**  | '/admin/'      | mandatory, the path of the admin site.  |\n| `FRONTPAGE_URL_NAME`          | 'frontpage'    | name of the frontpage url               |\n| `FRONTPAGE_LOGIN_URL_NAME`    | 'admin:login'  | name of the login url                   |\n| `FRONTPAGE_LOGOUT_URL_NAME`   | 'admin:logout' | name of the logout url                  |\n| `FRONTPAGE_RELOGIN_URL_NAME`  | 'admin:login'  | name of the relogin url                 |\n\nFrontpage needs to know about the logout url because that one should not be redirected.\n\nRelogin is necessary if you are logged in as an user that does not have access to the admin.\nYou may need to implement a custom view to logout the user then redirect to some login URL.\n\n\n## Flow\n\nWhen the `frontpage` is accessed then:\n- if the user `is_authenticated` and `is_staff` then:\n  - the user will be redirected to the `admin` site\n- if the user `is_authenticated` but NOT `is_staff` then:\n  - `frontpage` is rendered with a specific message\n- if the user is anonymous then:\n  - `frontpage` is rendered with a specific message\n\nWhen any page of the `admin` site is accessed then:\n- if the user `is_authenticated` and `is_staff` then:\n  - everything is ok, `frontpage` will do nothing here\n- if the user `is_authenticated` but NOT `is_staff` then:\n  - the user will be redirected to the `frontpage` page\n- if the user is anonymous then:\n  - the user will be redirected to the `frontpage` page\n\n\n## Tests\n\n```\npip install -r requirements-dev.txt \npip install Django\npytest\n```\n\n## Authors\n\n[<img src=\"http://www.microdisseny.com/images/web/microdisseny-logo-small.png\" width=\"226\">](http://www.microdisseny.com/)", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/microdisseny/django-frontpage", "keywords": "", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "django-frontpage", "package_url": "https://pypi.org/project/django-frontpage/", "platform": "", "project_url": "https://pypi.org/project/django-frontpage/", "project_urls": {"Homepage": "http://github.com/microdisseny/django-frontpage"}, "release_url": "https://pypi.org/project/django-frontpage/1.0.2/", "requires_dist": null, "requires_python": "", "summary": "Show a page before your users authenticate into the admin site", "version": "1.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Django Frontpage</h1>\n<p>Show a page before your users authenticate into the admin site.</p>\n<p><a href=\"https://travis-ci.org/Microdisseny/django-frontpage\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4a9d1d502b39b8d8545d6f7883595bda5bcfe57a/68747470733a2f2f7472617669732d63692e6f72672f4d6963726f64697373656e792f646a616e676f2d66726f6e74706167652e7376673f6272616e63683d6d6173746572\"></a> <a href=\"https://coveralls.io/github/Microdisseny/django-frontpage?branch=master\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/576fa8b5382265b8a840403ad5979518b1203ced/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f4d6963726f64697373656e792f646a616e676f2d66726f6e74706167652f62616467652e7376673f6272616e63683d6d6173746572\"></a></p>\n<p>Valid users will go straight to the admin site, others will land in the frontpage\nwhere you can show an app description, warning, etc. You only need to provide\nyour own template.</p>\n<p>After clicking login button in the frontpage, the user will be redirected to the\noriginal url. If there was no original url, the user will be redirected to the\n<code>FRONTPAGE_ADMIN_PREFIX</code>.</p>\n<h2>Getting started</h2>\n<p>Install:</p>\n<pre><code>pip install django-frontpage\n</code></pre>\n<p>Then modify your Django settings:</p>\n<p>Add the <code>frontpage</code> application to <code>INSTALLED_APPS</code>:</p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n  <span class=\"o\">...</span>\n  <span class=\"s1\">'frontpage'</span><span class=\"p\">,</span>\n  <span class=\"o\">...</span>\n<span class=\"p\">)</span>\n</pre>\n<p>Add the middleware to <code>MIDDLEWARE</code> after <code>AuthenticationMiddleware</code> or any\nother authentication middleware like OAuth2:</p>\n<pre><span class=\"n\">MIDDLEWARE</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'django.contrib.auth.middleware.AuthenticationMiddleware'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'oauth2_provider.backends.OAuth2Backend'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'frontpage.middleware.FrontpageMiddleware'</span><span class=\"p\">,</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">]</span>\n</pre>\n<p>Default admin prefix is <code>'/admin/'</code> change it if necessary:</p>\n<pre><span class=\"n\">FRONTPAGE_ADMIN_PREFIX</span> <span class=\"o\">=</span> <span class=\"s1\">'/admin/'</span>\n</pre>\n<p>Add the frontpage view to your urls:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">frontpage.views</span> <span class=\"kn\">import</span> <span class=\"n\">FrontpageView</span>\n\n<span class=\"n\">urlpatterns</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">,</span> <span class=\"n\">FrontpageView</span><span class=\"o\">.</span><span class=\"n\">as_view</span><span class=\"p\">(),</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'frontpage'</span><span class=\"p\">),</span>\n    <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s1\">'admin/'</span><span class=\"p\">,</span> <span class=\"n\">admin</span><span class=\"o\">.</span><span class=\"n\">site</span><span class=\"o\">.</span><span class=\"n\">urls</span><span class=\"p\">),</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">]</span>\n</pre>\n<h2>Custom frontpage template</h2>\n<p>Place a different frontpage template in <code>frontpage/index.html</code>.</p>\n<p>Or use the <code>template_name</code> attribute in <code>urls.py</code>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">frontpage.views</span> <span class=\"kn\">import</span> <span class=\"n\">FrontpageView</span>\n\n<span class=\"n\">urlpatterns</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">,</span> <span class=\"n\">FrontpageView</span><span class=\"o\">.</span><span class=\"n\">as_view</span><span class=\"p\">(</span><span class=\"n\">template_name</span><span class=\"o\">=</span><span class=\"s1\">'my_frontpage.html'</span><span class=\"p\">),</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'frontpage'</span><span class=\"p\">),</span>\n    <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s1\">'admin/'</span><span class=\"p\">,</span> <span class=\"n\">admin</span><span class=\"o\">.</span><span class=\"n\">site</span><span class=\"o\">.</span><span class=\"n\">urls</span><span class=\"p\">),</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">]</span>\n</pre>\n<p>See <a href=\"frontpage/templates/frontpage/index.html\" rel=\"nofollow\">frontpage/templates/frontpage/index.html</a> for the default frontpage template.</p>\n<h2>Settings</h2>\n<table>\n<thead>\n<tr>\n<th>Option</th>\n<th>Default</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong><code>FRONTPAGE_ADMIN_PREFIX</code></strong></td>\n<td>'/admin/'</td>\n<td>mandatory, the path of the admin site.</td>\n</tr>\n<tr>\n<td><code>FRONTPAGE_URL_NAME</code></td>\n<td>'frontpage'</td>\n<td>name of the frontpage url</td>\n</tr>\n<tr>\n<td><code>FRONTPAGE_LOGIN_URL_NAME</code></td>\n<td>'admin:login'</td>\n<td>name of the login url</td>\n</tr>\n<tr>\n<td><code>FRONTPAGE_LOGOUT_URL_NAME</code></td>\n<td>'admin:logout'</td>\n<td>name of the logout url</td>\n</tr>\n<tr>\n<td><code>FRONTPAGE_RELOGIN_URL_NAME</code></td>\n<td>'admin:login'</td>\n<td>name of the relogin url</td>\n</tr></tbody></table>\n<p>Frontpage needs to know about the logout url because that one should not be redirected.</p>\n<p>Relogin is necessary if you are logged in as an user that does not have access to the admin.\nYou may need to implement a custom view to logout the user then redirect to some login URL.</p>\n<h2>Flow</h2>\n<p>When the <code>frontpage</code> is accessed then:</p>\n<ul>\n<li>if the user <code>is_authenticated</code> and <code>is_staff</code> then:\n<ul>\n<li>the user will be redirected to the <code>admin</code> site</li>\n</ul>\n</li>\n<li>if the user <code>is_authenticated</code> but NOT <code>is_staff</code> then:\n<ul>\n<li><code>frontpage</code> is rendered with a specific message</li>\n</ul>\n</li>\n<li>if the user is anonymous then:\n<ul>\n<li><code>frontpage</code> is rendered with a specific message</li>\n</ul>\n</li>\n</ul>\n<p>When any page of the <code>admin</code> site is accessed then:</p>\n<ul>\n<li>if the user <code>is_authenticated</code> and <code>is_staff</code> then:\n<ul>\n<li>everything is ok, <code>frontpage</code> will do nothing here</li>\n</ul>\n</li>\n<li>if the user <code>is_authenticated</code> but NOT <code>is_staff</code> then:\n<ul>\n<li>the user will be redirected to the <code>frontpage</code> page</li>\n</ul>\n</li>\n<li>if the user is anonymous then:\n<ul>\n<li>the user will be redirected to the <code>frontpage</code> page</li>\n</ul>\n</li>\n</ul>\n<h2>Tests</h2>\n<pre><code>pip install -r requirements-dev.txt \npip install Django\npytest\n</code></pre>\n<h2>Authors</h2>\n<p><a href=\"http://www.microdisseny.com/\" rel=\"nofollow\"><img src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0cbf06d42421328c44bbac763908111de1d2644b/687474703a2f2f7777772e6d6963726f64697373656e792e636f6d2f696d616765732f7765622f6d6963726f64697373656e792d6c6f676f2d736d616c6c2e706e67\" width=\"226\"></a></p>\n\n          </div>"}, "last_serial": 6182752, "releases": {"1.0.2": [{"comment_text": "", "digests": {"md5": "87707906f9af6c9c1ba8926cf1afa62b", "sha256": "307cd24ccafe42750ef76829ceee12efae67bdfd85bdb93616f934b000c73889"}, "downloads": -1, "filename": "django-frontpage-1.0.2.tar.gz", "has_sig": false, "md5_digest": "87707906f9af6c9c1ba8926cf1afa62b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5566, "upload_time": "2019-11-22T18:20:03", "upload_time_iso_8601": "2019-11-22T18:20:03.445287Z", "url": "https://files.pythonhosted.org/packages/76/7d/2b99d45acecb15fafcd9cffaf2098cec58d1ee67a903f21aec194b39f5ed/django-frontpage-1.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "87707906f9af6c9c1ba8926cf1afa62b", "sha256": "307cd24ccafe42750ef76829ceee12efae67bdfd85bdb93616f934b000c73889"}, "downloads": -1, "filename": "django-frontpage-1.0.2.tar.gz", "has_sig": false, "md5_digest": "87707906f9af6c9c1ba8926cf1afa62b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5566, "upload_time": "2019-11-22T18:20:03", "upload_time_iso_8601": "2019-11-22T18:20:03.445287Z", "url": "https://files.pythonhosted.org/packages/76/7d/2b99d45acecb15fafcd9cffaf2098cec58d1ee67a903f21aec194b39f5ed/django-frontpage-1.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:35:58 2020"}
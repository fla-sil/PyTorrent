{"info": {"author": "Ross Patterson", "author_email": "me@rpatterson.net", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Console", "Intended Audience :: Developers", "Intended Audience :: System Administrators", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Topic :: Utilities"], "description": "==============================================================================\npython-main-wrapper\n==============================================================================\nSet up global environment and run another script within, ala pdb, profile, etc\n------------------------------------------------------------------------------\n\n.. image:: https://github.com/rpatterson/python-main-wrapper/workflows/Run%20linter,%20tests%20and,%20and%20release/badge.svg\n\nUse ``main-wrapper`` either as a command-line script or as a library to make `Python`_\nscripts that set up or change some global Python environment and then run another script\nwithin that environment.  It seeks to combine into one library all the gloss and polish\nof other Python software that does this, such as using ``python -m`` with ``pdb`` and\n``profile`` in the standard library or the ``coverage`` package's command-line ``run``\ncommand.\n\n\nInstallation\n============\n\nInstall using any tool for installing standard Python 3 distributions such as `pip`_::\n\n  $ sudo pip3 install main-wrapper\n\n\nUsage\n=====\n\nYou may use this package either as a library in your code that needs to wrap another\nscript or as a command-line script.\n\nTo use as a library, use the provided decorator to wrap your function that sets up the\nglobal environment you need the script to be run in::\n\n  import logging\n  import argparse\n\n  import mainwrapper\n\n  parser = argparse.ArgumentParser()\n  parser.add_argument(\n      \"--level\",\n      default=\"INFO\",\n      help=\"The level of messages to log at or above\",\n  )\n\n  @mainwrapper.wrap_main(parser)\n  def main(level=parser.get_default(\"level\")):\n      \"\"\"\n      As an example, this function will set up logging at level INFO.\n      \"\"\"\n      logging.basicConfig(level=getattr(logging, level))\n\nThe changes to Python's global execution environment that support running the wrapper\nfunction and the final script are also cleaned up upon completion, so it should be\npossible to use this library to execute multiple scripts in the same process as if they\nwere run independently.\n\nSee the command-line help for details the options and arguments for using this package\nas a command-line script::\n\n  $ usage: python-main-wrapper [-h] wrapper script\n\n  Set up global environment and run another script within, ala pdb, profile, etc..  Both\n  script arguments may either be a path to a Python script, a Python module or package\n  to be run in the same manner as Python's `-m` option, or a setuptools\n  `path.to.import:callable` entry-point.\n\n  positional arguments:\n    wrapper     A Python script that sets up the environment\n    script      The Python script to run within the wrapper's environment\n\n  optional arguments:\n    -h, --help  show this help message and exit\n\n\nMotivation\n==========\n\nI found myself writing such wrapper scripts repeatedly over the years and kept\nstruggling to remember how I did it last time.  I made this package to capture all that\nknowledge and to have one place to put improvements as I discover them.\n\n\n.. _Python: https://docs.python.org/3/library/logging.html\n.. _pip: https://pip.pypa.io/en/stable/installing/\n\n\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/rpatterson/python-main-wrapper", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "main-wrapper", "package_url": "https://pypi.org/project/main-wrapper/", "platform": "", "project_url": "https://pypi.org/project/main-wrapper/", "project_urls": {"Homepage": "https://github.com/rpatterson/python-main-wrapper"}, "release_url": "https://pypi.org/project/main-wrapper/0.1.0/", "requires_dist": ["pathlib2 ; python_version < \"3\"", "six ; extra == 'dev'", "pytest ; extra == 'dev'", "pre-commit ; extra == 'dev'", "coverage ; extra == 'dev'", "flake8 ; extra == 'dev'", "autoflake ; extra == 'dev'", "autopep8 ; extra == 'dev'", "rstcheck ; extra == 'dev'", "contextlib2 ; (python_version < \"3\") and extra == 'dev'", "flake8-black ; (python_version >= \"3\") and extra == 'dev'"], "requires_python": ">=2.7", "summary": "Set up global environment and run another script within, ala pdb, profile, etc..", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <img alt=\"https://github.com/rpatterson/python-main-wrapper/workflows/Run%20linter,%20tests%20and,%20and%20release/badge.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d715e5611aee30c5e82b9d060d9a7e356e3c675b/68747470733a2f2f6769746875622e636f6d2f72706174746572736f6e2f707974686f6e2d6d61696e2d777261707065722f776f726b666c6f77732f52756e2532306c696e7465722c2532307465737473253230616e642c253230616e6425323072656c656173652f62616467652e737667\">\n<p>Use <tt><span class=\"pre\">main-wrapper</span></tt> either as a command-line script or as a library to make <a href=\"https://docs.python.org/3/library/logging.html\" rel=\"nofollow\">Python</a>\nscripts that set up or change some global Python environment and then run another script\nwithin that environment.  It seeks to combine into one library all the gloss and polish\nof other Python software that does this, such as using <tt>python <span class=\"pre\">-m</span></tt> with <tt>pdb</tt> and\n<tt>profile</tt> in the standard library or the <tt>coverage</tt> package\u2019s command-line <tt>run</tt>\ncommand.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>Install using any tool for installing standard Python 3 distributions such as <a href=\"https://pip.pypa.io/en/stable/installing/\" rel=\"nofollow\">pip</a>:</p>\n<pre>$ sudo pip3 install main-wrapper\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>You may use this package either as a library in your code that needs to wrap another\nscript or as a command-line script.</p>\n<p>To use as a library, use the provided decorator to wrap your function that sets up the\nglobal environment you need the script to be run in:</p>\n<pre>import logging\nimport argparse\n\nimport mainwrapper\n\nparser = argparse.ArgumentParser()\nparser.add_argument(\n    \"--level\",\n    default=\"INFO\",\n    help=\"The level of messages to log at or above\",\n)\n\n@mainwrapper.wrap_main(parser)\ndef main(level=parser.get_default(\"level\")):\n    \"\"\"\n    As an example, this function will set up logging at level INFO.\n    \"\"\"\n    logging.basicConfig(level=getattr(logging, level))\n</pre>\n<p>The changes to Python\u2019s global execution environment that support running the wrapper\nfunction and the final script are also cleaned up upon completion, so it should be\npossible to use this library to execute multiple scripts in the same process as if they\nwere run independently.</p>\n<p>See the command-line help for details the options and arguments for using this package\nas a command-line script:</p>\n<pre>$ usage: python-main-wrapper [-h] wrapper script\n\nSet up global environment and run another script within, ala pdb, profile, etc..  Both\nscript arguments may either be a path to a Python script, a Python module or package\nto be run in the same manner as Python's `-m` option, or a setuptools\n`path.to.import:callable` entry-point.\n\npositional arguments:\n  wrapper     A Python script that sets up the environment\n  script      The Python script to run within the wrapper's environment\n\noptional arguments:\n  -h, --help  show this help message and exit\n</pre>\n</div>\n<div id=\"motivation\">\n<h2>Motivation</h2>\n<p>I found myself writing such wrapper scripts repeatedly over the years and kept\nstruggling to remember how I did it last time.  I made this package to capture all that\nknowledge and to have one place to put improvements as I discover them.</p>\n</div>\n\n          </div>"}, "last_serial": 7111239, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "dc00eaab3854b96b9d2a886bdc7fadca", "sha256": "84654f674521b9ccd53bc618cda33854acd05ddbd39648a5e16c56703f2906dd"}, "downloads": -1, "filename": "main_wrapper-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "dc00eaab3854b96b9d2a886bdc7fadca", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 7373, "upload_time": "2020-04-27T12:08:48", "upload_time_iso_8601": "2020-04-27T12:08:48.219422Z", "url": "https://files.pythonhosted.org/packages/e0/1c/28a0bbd91b1c07cc6ea0c980c7003e45921e66766cb88ab74a6cc3c734e5/main_wrapper-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "29d1beb1add6e474e8cf239152a91569", "sha256": "638a091663f83e96948288aa828403a1237771f768a98023da74f958a7e4a735"}, "downloads": -1, "filename": "main-wrapper-0.1.0.tar.gz", "has_sig": false, "md5_digest": "29d1beb1add6e474e8cf239152a91569", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 8484, "upload_time": "2020-04-27T12:08:50", "upload_time_iso_8601": "2020-04-27T12:08:50.129659Z", "url": "https://files.pythonhosted.org/packages/38/21/4170633d2b3ddd99211d48f1b2bec864a33c69f9129ea1e4ec9dc68a55b1/main-wrapper-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "dc00eaab3854b96b9d2a886bdc7fadca", "sha256": "84654f674521b9ccd53bc618cda33854acd05ddbd39648a5e16c56703f2906dd"}, "downloads": -1, "filename": "main_wrapper-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "dc00eaab3854b96b9d2a886bdc7fadca", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 7373, "upload_time": "2020-04-27T12:08:48", "upload_time_iso_8601": "2020-04-27T12:08:48.219422Z", "url": "https://files.pythonhosted.org/packages/e0/1c/28a0bbd91b1c07cc6ea0c980c7003e45921e66766cb88ab74a6cc3c734e5/main_wrapper-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "29d1beb1add6e474e8cf239152a91569", "sha256": "638a091663f83e96948288aa828403a1237771f768a98023da74f958a7e4a735"}, "downloads": -1, "filename": "main-wrapper-0.1.0.tar.gz", "has_sig": false, "md5_digest": "29d1beb1add6e474e8cf239152a91569", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 8484, "upload_time": "2020-04-27T12:08:50", "upload_time_iso_8601": "2020-04-27T12:08:50.129659Z", "url": "https://files.pythonhosted.org/packages/38/21/4170633d2b3ddd99211d48f1b2bec864a33c69f9129ea1e4ec9dc68a55b1/main-wrapper-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:41:51 2020"}
{"info": {"author": "Scott Melhop <scott.melhop@cognite.com>", "author_email": "scott.melhop@cognite.com", "bugtrack_url": null, "classifiers": ["Framework :: Dash"], "description": "# Cognite Dash Components\n\nCogntie Dash Components contains Python components that help Plotly Dash users to work with CDF. The current supported components are:\n\n1. CogniteClientProvider\n\n## Installation\n\nThe package can be installed using pip \n\n```bash\npip install cognite-dash-components\n```\n\n## Usage\n\nImport the package to your Plotly Dash Application\n\n\n```python\nimport cognite_dash_components as cdc\n```\n\n### Cognite Client Provider\n`CogniteClientProvider` should be used to wrap all other Cognite components used in your app. There should be only one `CogniteClientProvider`. This component provides the `CogniteClientProvider` and other application state that is needed by the child components. It is reccomended to wrap everything in your app inside this component. For example:\n```python\napp.layout = cdc.ClientProvider(\n    [\n        ...\n    ],\n    id=\"cognite\",\n    validTenants=[\"publicdata\"],\n)\n```\nThe `validTenants` property is a list of customer projects that your app will allow people to login from. The term __tenant__, __project__ and __company name__ are used interchangeably.\n\nOnce a user submits a valid tenant they are redirected to the CDF login page. On successfully signing in they are redirected back to the application from which they have come, with their __project__ in the pathname and the __idToken__ and __accessToken__ in the search parameters.\n\nThe __accessToken__ is saved as a cookie called `_csrf_token`. This is then used by __Dash__ to inject the token into each requests header under the key `X-Csrftoken`. This can be easily retrieved by creating a function like the one below:\n\n```python\nfrom flask import request\n\ndef getToken():\n    return request.headers.get(\"X-Csrftoken\")\n```\n\nThis can then be used in `app.callback` to register authenticate a `CogniteClient` on the backend.\n\n\n\n## Basic Usage\n\nBelow is an example on how to use the components.\nNote: Authentication relies on SSL. To achieve this locally create a dummy certificate/key pair by running:\n\n`openssl req -x509 -newkey rsa:4096 -nodes -out cert.pem -keyout key.pem -days 365`\n\n\n```python\nimport cognite_dash_components\nimport dash\nimport dash_core_components as dcc\nfrom dash.dependencies import Input, Output, State\nfrom dash.exceptions import PreventUpdate\nimport dash_html_components as html\n\n\napp = dash.Dash(__name__)\n\napp.title = \"CDC Test\"\n\nvalidTenants = [\"publicdata\"]\n\napp.layout = html.Div(\n    [\n        html.Label(\"Enter your project name:\"),\n        dcc.Input(id=\"project\"),\n        html.Button(\"Submit\", id=\"submit\"),\n        cognite_dash_components.CogniteClientProvider(\n            id=\"cognite\", validTenants=validTenants\n        ),\n        html.Div(id=\"user\"),\n    ]\n)\n\n\n@app.callback(\n    Output(\"cognite\", \"project\"),\n    [Input(\"submit\", \"n_clicks\")],\n    [State(\"project\", \"value\")],\n)\ndef update_project(clicked, project):\n    if clicked and project:\n        return project\n    raise PreventUpdate\n\n\n@app.callback(\n    Output(\"user\", \"children\"),\n    [\n        Input(\"cognite\", \"project\"),\n        Input(\"cognite\", \"authenticated\"),\n        Input(\"cognite\", \"user\"),\n    ],\n)\ndef update_user_div(project, authenticated, user):\n    if project and authenticated and user:\n        return f\"Hi {user}, you are authenticated to the {project} project\"\n    raise PreventUpdate\n\n\nif __name__ == \"__main__\":\n    app.run_server(debug=True, ssl_context=(\"cert.pem\", \"key.pem\"))\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "cognite-dash-components", "package_url": "https://pypi.org/project/cognite-dash-components/", "platform": "", "project_url": "https://pypi.org/project/cognite-dash-components/", "project_urls": null, "release_url": "https://pypi.org/project/cognite-dash-components/0.2.2/", "requires_dist": null, "requires_python": "", "summary": "Plotly Components for Cognite", "version": "0.2.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Cognite Dash Components</h1>\n<p>Cogntie Dash Components contains Python components that help Plotly Dash users to work with CDF. The current supported components are:</p>\n<ol>\n<li>CogniteClientProvider</li>\n</ol>\n<h2>Installation</h2>\n<p>The package can be installed using pip</p>\n<pre>pip install cognite-dash-components\n</pre>\n<h2>Usage</h2>\n<p>Import the package to your Plotly Dash Application</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">cognite_dash_components</span> <span class=\"k\">as</span> <span class=\"nn\">cdc</span>\n</pre>\n<h3>Cognite Client Provider</h3>\n<p><code>CogniteClientProvider</code> should be used to wrap all other Cognite components used in your app. There should be only one <code>CogniteClientProvider</code>. This component provides the <code>CogniteClientProvider</code> and other application state that is needed by the child components. It is reccomended to wrap everything in your app inside this component. For example:</p>\n<pre><span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">layout</span> <span class=\"o\">=</span> <span class=\"n\">cdc</span><span class=\"o\">.</span><span class=\"n\">ClientProvider</span><span class=\"p\">(</span>\n    <span class=\"p\">[</span>\n        <span class=\"o\">...</span>\n    <span class=\"p\">],</span>\n    <span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"s2\">\"cognite\"</span><span class=\"p\">,</span>\n    <span class=\"n\">validTenants</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">\"publicdata\"</span><span class=\"p\">],</span>\n<span class=\"p\">)</span>\n</pre>\n<p>The <code>validTenants</code> property is a list of customer projects that your app will allow people to login from. The term <strong>tenant</strong>, <strong>project</strong> and <strong>company name</strong> are used interchangeably.</p>\n<p>Once a user submits a valid tenant they are redirected to the CDF login page. On successfully signing in they are redirected back to the application from which they have come, with their <strong>project</strong> in the pathname and the <strong>idToken</strong> and <strong>accessToken</strong> in the search parameters.</p>\n<p>The <strong>accessToken</strong> is saved as a cookie called <code>_csrf_token</code>. This is then used by <strong>Dash</strong> to inject the token into each requests header under the key <code>X-Csrftoken</code>. This can be easily retrieved by creating a function like the one below:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">flask</span> <span class=\"kn\">import</span> <span class=\"n\">request</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">getToken</span><span class=\"p\">():</span>\n    <span class=\"k\">return</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">headers</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"X-Csrftoken\"</span><span class=\"p\">)</span>\n</pre>\n<p>This can then be used in <code>app.callback</code> to register authenticate a <code>CogniteClient</code> on the backend.</p>\n<h2>Basic Usage</h2>\n<p>Below is an example on how to use the components.\nNote: Authentication relies on SSL. To achieve this locally create a dummy certificate/key pair by running:</p>\n<p><code>openssl req -x509 -newkey rsa:4096 -nodes -out cert.pem -keyout key.pem -days 365</code></p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">cognite_dash_components</span>\n<span class=\"kn\">import</span> <span class=\"nn\">dash</span>\n<span class=\"kn\">import</span> <span class=\"nn\">dash_core_components</span> <span class=\"k\">as</span> <span class=\"nn\">dcc</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dash.dependencies</span> <span class=\"kn\">import</span> <span class=\"n\">Input</span><span class=\"p\">,</span> <span class=\"n\">Output</span><span class=\"p\">,</span> <span class=\"n\">State</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dash.exceptions</span> <span class=\"kn\">import</span> <span class=\"n\">PreventUpdate</span>\n<span class=\"kn\">import</span> <span class=\"nn\">dash_html_components</span> <span class=\"k\">as</span> <span class=\"nn\">html</span>\n\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">dash</span><span class=\"o\">.</span><span class=\"n\">Dash</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n<span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"s2\">\"CDC Test\"</span>\n\n<span class=\"n\">validTenants</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"publicdata\"</span><span class=\"p\">]</span>\n\n<span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">layout</span> <span class=\"o\">=</span> <span class=\"n\">html</span><span class=\"o\">.</span><span class=\"n\">Div</span><span class=\"p\">(</span>\n    <span class=\"p\">[</span>\n        <span class=\"n\">html</span><span class=\"o\">.</span><span class=\"n\">Label</span><span class=\"p\">(</span><span class=\"s2\">\"Enter your project name:\"</span><span class=\"p\">),</span>\n        <span class=\"n\">dcc</span><span class=\"o\">.</span><span class=\"n\">Input</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"s2\">\"project\"</span><span class=\"p\">),</span>\n        <span class=\"n\">html</span><span class=\"o\">.</span><span class=\"n\">Button</span><span class=\"p\">(</span><span class=\"s2\">\"Submit\"</span><span class=\"p\">,</span> <span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"s2\">\"submit\"</span><span class=\"p\">),</span>\n        <span class=\"n\">cognite_dash_components</span><span class=\"o\">.</span><span class=\"n\">CogniteClientProvider</span><span class=\"p\">(</span>\n            <span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"s2\">\"cognite\"</span><span class=\"p\">,</span> <span class=\"n\">validTenants</span><span class=\"o\">=</span><span class=\"n\">validTenants</span>\n        <span class=\"p\">),</span>\n        <span class=\"n\">html</span><span class=\"o\">.</span><span class=\"n\">Div</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"s2\">\"user\"</span><span class=\"p\">),</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">)</span>\n\n\n<span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">callback</span><span class=\"p\">(</span>\n    <span class=\"n\">Output</span><span class=\"p\">(</span><span class=\"s2\">\"cognite\"</span><span class=\"p\">,</span> <span class=\"s2\">\"project\"</span><span class=\"p\">),</span>\n    <span class=\"p\">[</span><span class=\"n\">Input</span><span class=\"p\">(</span><span class=\"s2\">\"submit\"</span><span class=\"p\">,</span> <span class=\"s2\">\"n_clicks\"</span><span class=\"p\">)],</span>\n    <span class=\"p\">[</span><span class=\"n\">State</span><span class=\"p\">(</span><span class=\"s2\">\"project\"</span><span class=\"p\">,</span> <span class=\"s2\">\"value\"</span><span class=\"p\">)],</span>\n<span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">update_project</span><span class=\"p\">(</span><span class=\"n\">clicked</span><span class=\"p\">,</span> <span class=\"n\">project</span><span class=\"p\">):</span>\n    <span class=\"k\">if</span> <span class=\"n\">clicked</span> <span class=\"ow\">and</span> <span class=\"n\">project</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"n\">project</span>\n    <span class=\"k\">raise</span> <span class=\"n\">PreventUpdate</span>\n\n\n<span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">callback</span><span class=\"p\">(</span>\n    <span class=\"n\">Output</span><span class=\"p\">(</span><span class=\"s2\">\"user\"</span><span class=\"p\">,</span> <span class=\"s2\">\"children\"</span><span class=\"p\">),</span>\n    <span class=\"p\">[</span>\n        <span class=\"n\">Input</span><span class=\"p\">(</span><span class=\"s2\">\"cognite\"</span><span class=\"p\">,</span> <span class=\"s2\">\"project\"</span><span class=\"p\">),</span>\n        <span class=\"n\">Input</span><span class=\"p\">(</span><span class=\"s2\">\"cognite\"</span><span class=\"p\">,</span> <span class=\"s2\">\"authenticated\"</span><span class=\"p\">),</span>\n        <span class=\"n\">Input</span><span class=\"p\">(</span><span class=\"s2\">\"cognite\"</span><span class=\"p\">,</span> <span class=\"s2\">\"user\"</span><span class=\"p\">),</span>\n    <span class=\"p\">],</span>\n<span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">update_user_div</span><span class=\"p\">(</span><span class=\"n\">project</span><span class=\"p\">,</span> <span class=\"n\">authenticated</span><span class=\"p\">,</span> <span class=\"n\">user</span><span class=\"p\">):</span>\n    <span class=\"k\">if</span> <span class=\"n\">project</span> <span class=\"ow\">and</span> <span class=\"n\">authenticated</span> <span class=\"ow\">and</span> <span class=\"n\">user</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"sa\">f</span><span class=\"s2\">\"Hi </span><span class=\"si\">{</span><span class=\"n\">user</span><span class=\"si\">}</span><span class=\"s2\">, you are authenticated to the </span><span class=\"si\">{</span><span class=\"n\">project</span><span class=\"si\">}</span><span class=\"s2\"> project\"</span>\n    <span class=\"k\">raise</span> <span class=\"n\">PreventUpdate</span>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">\"__main__\"</span><span class=\"p\">:</span>\n    <span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">run_server</span><span class=\"p\">(</span><span class=\"n\">debug</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">ssl_context</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s2\">\"cert.pem\"</span><span class=\"p\">,</span> <span class=\"s2\">\"key.pem\"</span><span class=\"p\">))</span>\n</pre>\n\n          </div>"}, "last_serial": 7188940, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "346064f42ff344cf3fd2b35ecd034439", "sha256": "d6109b2205281ad27d986af792199b95e2af886bc3203119e825e38a60849bc3"}, "downloads": -1, "filename": "cognite_dash_components-0.0.1.tar.gz", "has_sig": false, "md5_digest": "346064f42ff344cf3fd2b35ecd034439", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 364622, "upload_time": "2020-04-05T13:36:29", "upload_time_iso_8601": "2020-04-05T13:36:29.682438Z", "url": "https://files.pythonhosted.org/packages/08/e3/f8ea98929f3a161f14661969487335b09bfa69f24710ddbd6089ee3d14d0/cognite_dash_components-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "7471f1734b765f4a16d1b9027118f359", "sha256": "b834a780190f9182630007c25f2f314282d39bd4bde7b6d727977fb1bf621c7c"}, "downloads": -1, "filename": "cognite_dash_components-0.0.2.tar.gz", "has_sig": false, "md5_digest": "7471f1734b765f4a16d1b9027118f359", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 364658, "upload_time": "2020-04-05T17:01:30", "upload_time_iso_8601": "2020-04-05T17:01:30.646541Z", "url": "https://files.pythonhosted.org/packages/1d/48/289ad1243f3e5182fd8512d5dd069d8928016f3f3de4587a34ad27925524/cognite_dash_components-0.0.2.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "40350911b3cc8d2332631fd560923363", "sha256": "82b984e070a8eb8c2eb33e59c2543dcf8093bea76bfcd4d0f6e1ea98a22c0ebf"}, "downloads": -1, "filename": "cognite_dash_components-0.1.0.tar.gz", "has_sig": false, "md5_digest": "40350911b3cc8d2332631fd560923363", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 368805, "upload_time": "2020-04-20T08:25:12", "upload_time_iso_8601": "2020-04-20T08:25:12.701753Z", "url": "https://files.pythonhosted.org/packages/8e/95/ec73df3d77a8a8c901563812051629a9ec149f88a998022fcf0c3cf76b4e/cognite_dash_components-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "07c44ebe8b2fca00c88bf591f7b0a7ef", "sha256": "1612a8fb2b3f330c62bb0bb14579021ff3878fcab2ae53a6cc44ab685414bd5e"}, "downloads": -1, "filename": "cognite_dash_components-0.1.1.tar.gz", "has_sig": false, "md5_digest": "07c44ebe8b2fca00c88bf591f7b0a7ef", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 370533, "upload_time": "2020-04-20T08:59:46", "upload_time_iso_8601": "2020-04-20T08:59:46.890274Z", "url": "https://files.pythonhosted.org/packages/fe/80/79d34a16beb81a50cbedd74a1b6469b7ffd4ac3ad9f75fa6a2031ba85e27/cognite_dash_components-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "7dd53320528054c89fe5a6568a8635ed", "sha256": "c61cc6878fb4ed4ad64c549b4301b28639eecb6128cc4d76928af488b0b9d202"}, "downloads": -1, "filename": "cognite_dash_components-0.1.2.tar.gz", "has_sig": false, "md5_digest": "7dd53320528054c89fe5a6568a8635ed", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 370479, "upload_time": "2020-04-20T16:51:40", "upload_time_iso_8601": "2020-04-20T16:51:40.103335Z", "url": "https://files.pythonhosted.org/packages/01/c0/66dd6a2a88b149fc38b67a3a0d281b58e6a9f19727331b77cf89fb9e6660/cognite_dash_components-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "daed1cb505ad36d55c08757e06ff8814", "sha256": "75e78d29ae92e906e8c71bcf419c9883eea9ce172a166a7a5f8c986c8f6c1ed3"}, "downloads": -1, "filename": "cognite_dash_components-0.1.3.tar.gz", "has_sig": false, "md5_digest": "daed1cb505ad36d55c08757e06ff8814", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 373148, "upload_time": "2020-04-21T08:56:29", "upload_time_iso_8601": "2020-04-21T08:56:29.659378Z", "url": "https://files.pythonhosted.org/packages/18/af/1ef6d542e08203ec1142440cabd521c742d12e38b21bda02f9f043202fa6/cognite_dash_components-0.1.3.tar.gz", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "d0a825805979a01a22c7b900c5b66f68", "sha256": "6b0bbc1326e83708318908a13a14f2572d8ee282b55f6f3071e5e717209f7ce1"}, "downloads": -1, "filename": "cognite_dash_components-0.1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "d0a825805979a01a22c7b900c5b66f68", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 379885, "upload_time": "2020-04-21T09:15:00", "upload_time_iso_8601": "2020-04-21T09:15:00.601585Z", "url": "https://files.pythonhosted.org/packages/57/67/9ce46691c39d80d670ab5d9cc5f5aecf3e6cf5720ae811b34c75f43ef2a9/cognite_dash_components-0.1.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8b2d55203044a666dada37f82006941d", "sha256": "96d6da97f7b1430d507996bacb3fac8b49d32dcec44d451a33523a7a7e9e1b04"}, "downloads": -1, "filename": "cognite_dash_components-0.1.4.tar.gz", "has_sig": false, "md5_digest": "8b2d55203044a666dada37f82006941d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 374909, "upload_time": "2020-04-21T09:15:02", "upload_time_iso_8601": "2020-04-21T09:15:02.024034Z", "url": "https://files.pythonhosted.org/packages/aa/87/4772998029868411ce2d3006a69d405f6bc8d41c2df741cf12a6ed000fb2/cognite_dash_components-0.1.4.tar.gz", "yanked": false}], "0.2.2": [{"comment_text": "", "digests": {"md5": "f6c77ae3a9e134fdcff811dd4c1e0f1a", "sha256": "928afbabc3faba866e135603c4d5e0cbad7b19cb0df49ea5a43b603c0e9ab8f9"}, "downloads": -1, "filename": "cognite_dash_components-0.2.2.tar.gz", "has_sig": false, "md5_digest": "f6c77ae3a9e134fdcff811dd4c1e0f1a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24556, "upload_time": "2020-05-07T14:19:29", "upload_time_iso_8601": "2020-05-07T14:19:29.042997Z", "url": "https://files.pythonhosted.org/packages/12/13/908e0e82bc9d0920b45e9679061eb4da5704b1c2da1aea62fdb90dc9278e/cognite_dash_components-0.2.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f6c77ae3a9e134fdcff811dd4c1e0f1a", "sha256": "928afbabc3faba866e135603c4d5e0cbad7b19cb0df49ea5a43b603c0e9ab8f9"}, "downloads": -1, "filename": "cognite_dash_components-0.2.2.tar.gz", "has_sig": false, "md5_digest": "f6c77ae3a9e134fdcff811dd4c1e0f1a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24556, "upload_time": "2020-05-07T14:19:29", "upload_time_iso_8601": "2020-05-07T14:19:29.042997Z", "url": "https://files.pythonhosted.org/packages/12/13/908e0e82bc9d0920b45e9679061eb4da5704b1c2da1aea62fdb90dc9278e/cognite_dash_components-0.2.2.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:18:10 2020"}
{"info": {"author": "SAAO/SALT", "author_email": "salt-software@saao.ac.za", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": "# SALT Finder Charts\n\nGenerate finder charts for the Southern African Large Telescope (SALT).\n\n## This package will change...\n\nThis is a preliminary and rudimentary version, and you should expect major changes in future versions.\n\n## Installation\n\nThe package can be installed with pip.\n\n```bash\npip install salt_finder_charts\n```\n\n## Usage\n\nYou can generate finder charts with the `standard_finder_chart` function. This returns a generator of binary streams containing the finder charts. For example, this is how you would generate finder charts for a longslit observation of an 18th magnitude target.\n\n```python\nimport astropy.units as u\nfrom salt_finder_charts import standard_finder_charts\nfrom salt_finder_charts.mode import Mode\nfrom salt_finder_charts.output import OutputFormat\n\nfcs = standard_finder_charts(\n    bandpass=\"V\",\n    dec=-27.63792 * u.deg,\n    max_magnitude=18,\n    min_magnitude=18,\n    mode=Mode.LONGSLIT,\n    output_format=OutputFormat.PDF,\n    position_angle=0 * u.deg,\n    ra=78.6568723 * u.deg,\n    slitwidth=2 * u.arcsec,\n    title=\"Test Finding Chart\"\n)\n```\n\nWhy a generator? Isn't there a single finder chart only? Usually that's true. However, in case of an asteroid you may get multiple finder charts, in particular if the considered time interval covers multiple nights.\n\nSaving the generated finder charts to disk is fairly straightforward.\n\n```python\ncounter = 1\nfor fc in fcs:\n    with open(f\"FindingChart-{counter}.pdf\", \"wb\") as f:\n        f.write(fc.read())\n        counter += 1\n``` \n\nIf you are certain there is only one finder chart, you could just use `next()` to get it.\n\n```python\nfc = next(fcs)\n```\n\nHere is how you could view finder charts for an asteroid. Note that both the pytz and the Pillow library must have been installed, and that you have to hit enter for moving to the next finder chart.\n\n```python\nfrom datetime import datetime\nfrom PIL import Image\n\nimport pytz\nimport astropy.units as u\nfrom salt_finder_charts import standard_finder_charts\nfrom salt_finder_charts.mode import Mode\nfrom salt_finder_charts.output import OutputFormat\n\nutc = pytz.timezone(\"UTC\")\nstart = utc.localize(datetime(2019, 6, 28, 11, 31, 0))\nend = utc.localize(datetime(2019, 6, 29, 12, 31, 0))\n\nfor fc in standard_finder_charts(\n    mode=Mode.IMAGING,\n    horizons_id='54827',\n    start_time=start,\n    end_time=end,\n    slitwidth=2 * u.arcsec,\n    basic_annotations=False,\n    output_format=OutputFormat.PNG\n):\n    image = Image.open(fc)\n    image.show()\n    input('Press enter to continue')\n    image.close()\n```\n\nThe `standard_finder_charts` function accepts the following arguments.\n\nArgument | Description | Default\n--- | --- | ---\nbandpass | Bandpass for the magnitudes, such as V.\nbasic_annotations | Whether to add basic annotations only. | False\ndec | Declination of the finder chart center, as an angle between -90 and 90 degrees.\nend_time | End time until which to generate finder charts. This is only relevant for non-sidereal targets. Must be timezone-aware. | End of the current Julian day\nhorizons_id | Identifier for the Horizons service.\nhorizons_stepsize | Time between ephemerides queried from the Horizons service | 5 minutes\nmax_magnitude | Maximum magnitude\nmin_magnitude | Minimum magnitude for the target.\nmode | Observation mode, such as imaging or longslit.\nmos_mask_rsmt | Binary stream containing an RSMT MOS mask definition file.\noutput_format | Output format of the generated finder charts, such as PDF. | `OutputFormat.PDF`\nposition_angle | Position angle. | Generally 0&deg; or, if appropriate, chosen to allow for easier acquisition.\nra | Right ascension of the finder chart center, as an angle between 0 and 360 degrees.\nslitwidth | Slit width, as an angle.\nstart_time | Start time from which to generate finder charts. This is only relevant for non-sidereal targets. | Start of the current Julian day. Must be timezone-aware.\nsurvey | Survey from which to get the finder chart image.  | `Survey.POSS2UKSTU_RED`\ntitle | Title of the finder chart.\n\nWhich of these arguments are required depends on the combination of arguments used. Also, some arguments may be ignored when used with others. For example, the slit width won;t be used if the observing mode is imaging.\n\nWhile normally you wouldn't have to use it, the `salt_finder_charts` package also offers a `finder_charts` function which lets you customise some aspects of the finder chart generation.\n\nFor example, you could create the same longslit observation finder charts as above with the following code.\n\n```python\nimport astropy.units as u\nfrom salt_finder_charts import finder_charts\nfrom salt_finder_charts.ephemerides import ConstantEphemerisService\nfrom salt_finder_charts.image import SurveyImageService, Survey\nfrom salt_finder_charts.mode import LongslitModeDetails\nfrom salt_finder_charts.output import output_pdf\nfrom salt_finder_charts.util import MagnitudeRange\n\nmagnitude_range = MagnitudeRange(bandpass=\"V\", max_magnitude=18, min_magnitude=18)\nephemeris_service = ConstantEphemerisService(\n    ra=78.6568723 * u.deg,\n    dec=-27.63792 * u.deg,\n    magnitude_range=magnitude_range\n)\nimage_service = SurveyImageService(Survey.POSS2UKSTU_RED)\nmode_details = LongslitModeDetails(slitwidth=2 * u.arcsec, pa=0 * u.deg)\nfcs = finder_charts(\n    ephemeris_service=ephemeris_service,\n    image_service=image_service,\n    mode_details=mode_details,\n    output=output_pdf,\n    title=\"test Finding Chart\"\n)\n```\n\nLike the `standard_finder_charts` function, `finder_charts` returns a generator of binary streams with the finder charts. It uses the following arguments.\n\nArgument | Description | Default\n--- | --- | ---\nbasic_annotations | Whether to add basic annotations only. | False\nend_time | End time until which to generate finder charts. This is only relevant for non-sidereal targets. Must be timezone-aware. | End of the current Julian day\nephemeris_service | Service for getting ephemerides.\nimage_service | Service for getting finder chart images.\nmode_details | Observing mode and its details\noutput | Function for converting a finding chart into an output format such as pdf.\nstart_time | Start time from which to generate finder charts. This is only relevant for non-sidereal targets.  Must be timezone-aware. | Start of the current Julian day.\ntitle | Title for the finder chart.\n\n## Command-line interface\n\nFor convenience, a command `saltfc` is provided, which you can run in a terminal. It saves the generated finding charts in a directory. The filename of the generated files consists of a basename (such as `FinderChart`) followed by a dash and a running number. The basename can be customised with a command line option. Existing files are replaced without warning,\n\nFor example, you can generate finder charts for an asteroid by running the following command in a terminal.\n\n```bash\nsaltfc \\\n    --output-dir /tmp \\\n    --basename \"Asteroid_54827\" \\\n    --mode imaging \\\n    --horizons-id 54827 \\\n    --start-time \"2019-06-28 11:31:00\" \\\n    --end-time \"2019-06-29 12:31:00\" \\\n    --slitwidth 2 \\\n    --output-format PDF\n```\n\nThe command line options for `saltfc` are essentially the same as the arguments for the `standard_finder_charts` function, plus options for customising the file base name and setting the output directory.\n\nArgument | Description | Default\n--- | --- | ---\n--bandpass | Bandpass for the magnitudes, such as V.\n--basename | Basename for the saved finder chart files | FinderChart\n--basic_annotations | Add basic annotations only. | False\n--dec | Declination of the finder chart center, as an angle between -90 and 90 degrees, in degrees.\n--end_time | End time until which to generate finder charts. This is only relevant for non-sidereal targets. The time is supposed to be in UTC. | End of the current Julian day\n--horizons_id | Identifier for the Horizons service.\n--horizons_stepsize | Minutes between ephemerides queried from the Horizons service | 5\n--max_magnitude | Maximum magnitude for the target\n--min_magnitude | Minimum magnitude for the target.\n--mode | Observation mode, such as imaging or longslit.\n--mos_mask_rsmt | RSMT MOS mask file\n--output-dir | Directory where to store the generated finder chart files.\n--output_format | Output format of the generated finder charts, such as PDF. | PDF\n--position_angle | Position angle, in degrees. | Generally 0 or, if appropriate, chosen to allow for easier acquisition.\n--ra | Right ascension of the finder chart center, as an angle between 0 and 360 degrees, in degrees.\n--slitwidth | Slit width, as an angle in arcseconds.\n--start_time | Start time from which to generate finder charts. This is only relevant for non-sidereal targets. | Start of the current Julian day. The time is supposed to be in UTC.\n--survey | Survey from which to get the finder chart image.  | `Survey.POSS2UKSTU_RED`\n--title | Title of the finder chart.\n\nBoth the start and end time use the format `yyyy-mm-dd hh:mm:ss`. For example, valid values are `2019-01-25 9:45:16'` or `2020-01-02 12:00:00`.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/saltastroops/salt_finder_charts", "keywords": "salt_finder_charts", "license": "MIT license", "maintainer": "", "maintainer_email": "", "name": "salt-finder-charts", "package_url": "https://pypi.org/project/salt-finder-charts/", "platform": "", "project_url": "https://pypi.org/project/salt-finder-charts/", "project_urls": {"Homepage": "https://github.com/saltastroops/salt_finder_charts"}, "release_url": "https://pypi.org/project/salt-finder-charts/0.2.0/", "requires_dist": ["aplpy", "astropy", "astroquery", "Click", "defusedxml", "ephem", "numpy", "pillow", "pytz"], "requires_python": "", "summary": "Generate finder charts for the Southern African Large Telescope (SALT)", "version": "0.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>SALT Finder Charts</h1>\n<p>Generate finder charts for the Southern African Large Telescope (SALT).</p>\n<h2>This package will change...</h2>\n<p>This is a preliminary and rudimentary version, and you should expect major changes in future versions.</p>\n<h2>Installation</h2>\n<p>The package can be installed with pip.</p>\n<pre>pip install salt_finder_charts\n</pre>\n<h2>Usage</h2>\n<p>You can generate finder charts with the <code>standard_finder_chart</code> function. This returns a generator of binary streams containing the finder charts. For example, this is how you would generate finder charts for a longslit observation of an 18th magnitude target.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">astropy.units</span> <span class=\"k\">as</span> <span class=\"nn\">u</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts</span> <span class=\"kn\">import</span> <span class=\"n\">standard_finder_charts</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts.mode</span> <span class=\"kn\">import</span> <span class=\"n\">Mode</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts.output</span> <span class=\"kn\">import</span> <span class=\"n\">OutputFormat</span>\n\n<span class=\"n\">fcs</span> <span class=\"o\">=</span> <span class=\"n\">standard_finder_charts</span><span class=\"p\">(</span>\n    <span class=\"n\">bandpass</span><span class=\"o\">=</span><span class=\"s2\">\"V\"</span><span class=\"p\">,</span>\n    <span class=\"n\">dec</span><span class=\"o\">=-</span><span class=\"mf\">27.63792</span> <span class=\"o\">*</span> <span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">deg</span><span class=\"p\">,</span>\n    <span class=\"n\">max_magnitude</span><span class=\"o\">=</span><span class=\"mi\">18</span><span class=\"p\">,</span>\n    <span class=\"n\">min_magnitude</span><span class=\"o\">=</span><span class=\"mi\">18</span><span class=\"p\">,</span>\n    <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"n\">Mode</span><span class=\"o\">.</span><span class=\"n\">LONGSLIT</span><span class=\"p\">,</span>\n    <span class=\"n\">output_format</span><span class=\"o\">=</span><span class=\"n\">OutputFormat</span><span class=\"o\">.</span><span class=\"n\">PDF</span><span class=\"p\">,</span>\n    <span class=\"n\">position_angle</span><span class=\"o\">=</span><span class=\"mi\">0</span> <span class=\"o\">*</span> <span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">deg</span><span class=\"p\">,</span>\n    <span class=\"n\">ra</span><span class=\"o\">=</span><span class=\"mf\">78.6568723</span> <span class=\"o\">*</span> <span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">deg</span><span class=\"p\">,</span>\n    <span class=\"n\">slitwidth</span><span class=\"o\">=</span><span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">arcsec</span><span class=\"p\">,</span>\n    <span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">\"Test Finding Chart\"</span>\n<span class=\"p\">)</span>\n</pre>\n<p>Why a generator? Isn't there a single finder chart only? Usually that's true. However, in case of an asteroid you may get multiple finder charts, in particular if the considered time interval covers multiple nights.</p>\n<p>Saving the generated finder charts to disk is fairly straightforward.</p>\n<pre><span class=\"n\">counter</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"k\">for</span> <span class=\"n\">fc</span> <span class=\"ow\">in</span> <span class=\"n\">fcs</span><span class=\"p\">:</span>\n    <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">\"FindingChart-</span><span class=\"si\">{</span><span class=\"n\">counter</span><span class=\"si\">}</span><span class=\"s2\">.pdf\"</span><span class=\"p\">,</span> <span class=\"s2\">\"wb\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n        <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">fc</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">())</span>\n        <span class=\"n\">counter</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n</pre>\n<p>If you are certain there is only one finder chart, you could just use <code>next()</code> to get it.</p>\n<pre><span class=\"n\">fc</span> <span class=\"o\">=</span> <span class=\"nb\">next</span><span class=\"p\">(</span><span class=\"n\">fcs</span><span class=\"p\">)</span>\n</pre>\n<p>Here is how you could view finder charts for an asteroid. Note that both the pytz and the Pillow library must have been installed, and that you have to hit enter for moving to the next finder chart.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n<span class=\"kn\">from</span> <span class=\"nn\">PIL</span> <span class=\"kn\">import</span> <span class=\"n\">Image</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">pytz</span>\n<span class=\"kn\">import</span> <span class=\"nn\">astropy.units</span> <span class=\"k\">as</span> <span class=\"nn\">u</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts</span> <span class=\"kn\">import</span> <span class=\"n\">standard_finder_charts</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts.mode</span> <span class=\"kn\">import</span> <span class=\"n\">Mode</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts.output</span> <span class=\"kn\">import</span> <span class=\"n\">OutputFormat</span>\n\n<span class=\"n\">utc</span> <span class=\"o\">=</span> <span class=\"n\">pytz</span><span class=\"o\">.</span><span class=\"n\">timezone</span><span class=\"p\">(</span><span class=\"s2\">\"UTC\"</span><span class=\"p\">)</span>\n<span class=\"n\">start</span> <span class=\"o\">=</span> <span class=\"n\">utc</span><span class=\"o\">.</span><span class=\"n\">localize</span><span class=\"p\">(</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">28</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">31</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">))</span>\n<span class=\"n\">end</span> <span class=\"o\">=</span> <span class=\"n\">utc</span><span class=\"o\">.</span><span class=\"n\">localize</span><span class=\"p\">(</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">29</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">31</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">))</span>\n\n<span class=\"k\">for</span> <span class=\"n\">fc</span> <span class=\"ow\">in</span> <span class=\"n\">standard_finder_charts</span><span class=\"p\">(</span>\n    <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"n\">Mode</span><span class=\"o\">.</span><span class=\"n\">IMAGING</span><span class=\"p\">,</span>\n    <span class=\"n\">horizons_id</span><span class=\"o\">=</span><span class=\"s1\">'54827'</span><span class=\"p\">,</span>\n    <span class=\"n\">start_time</span><span class=\"o\">=</span><span class=\"n\">start</span><span class=\"p\">,</span>\n    <span class=\"n\">end_time</span><span class=\"o\">=</span><span class=\"n\">end</span><span class=\"p\">,</span>\n    <span class=\"n\">slitwidth</span><span class=\"o\">=</span><span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">arcsec</span><span class=\"p\">,</span>\n    <span class=\"n\">basic_annotations</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span>\n    <span class=\"n\">output_format</span><span class=\"o\">=</span><span class=\"n\">OutputFormat</span><span class=\"o\">.</span><span class=\"n\">PNG</span>\n<span class=\"p\">):</span>\n    <span class=\"n\">image</span> <span class=\"o\">=</span> <span class=\"n\">Image</span><span class=\"o\">.</span><span class=\"n\">open</span><span class=\"p\">(</span><span class=\"n\">fc</span><span class=\"p\">)</span>\n    <span class=\"n\">image</span><span class=\"o\">.</span><span class=\"n\">show</span><span class=\"p\">()</span>\n    <span class=\"nb\">input</span><span class=\"p\">(</span><span class=\"s1\">'Press enter to continue'</span><span class=\"p\">)</span>\n    <span class=\"n\">image</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre>\n<p>The <code>standard_finder_charts</code> function accepts the following arguments.</p>\n<table>\n<thead>\n<tr>\n<th>Argument</th>\n<th>Description</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>bandpass</td>\n<td>Bandpass for the magnitudes, such as V.</td>\n<td></td>\n</tr>\n<tr>\n<td>basic_annotations</td>\n<td>Whether to add basic annotations only.</td>\n<td>False</td>\n</tr>\n<tr>\n<td>dec</td>\n<td>Declination of the finder chart center, as an angle between -90 and 90 degrees.</td>\n<td></td>\n</tr>\n<tr>\n<td>end_time</td>\n<td>End time until which to generate finder charts. This is only relevant for non-sidereal targets. Must be timezone-aware.</td>\n<td>End of the current Julian day</td>\n</tr>\n<tr>\n<td>horizons_id</td>\n<td>Identifier for the Horizons service.</td>\n<td></td>\n</tr>\n<tr>\n<td>horizons_stepsize</td>\n<td>Time between ephemerides queried from the Horizons service</td>\n<td>5 minutes</td>\n</tr>\n<tr>\n<td>max_magnitude</td>\n<td>Maximum magnitude</td>\n<td></td>\n</tr>\n<tr>\n<td>min_magnitude</td>\n<td>Minimum magnitude for the target.</td>\n<td></td>\n</tr>\n<tr>\n<td>mode</td>\n<td>Observation mode, such as imaging or longslit.</td>\n<td></td>\n</tr>\n<tr>\n<td>mos_mask_rsmt</td>\n<td>Binary stream containing an RSMT MOS mask definition file.</td>\n<td></td>\n</tr>\n<tr>\n<td>output_format</td>\n<td>Output format of the generated finder charts, such as PDF.</td>\n<td><code>OutputFormat.PDF</code></td>\n</tr>\n<tr>\n<td>position_angle</td>\n<td>Position angle.</td>\n<td>Generally 0\u00b0 or, if appropriate, chosen to allow for easier acquisition.</td>\n</tr>\n<tr>\n<td>ra</td>\n<td>Right ascension of the finder chart center, as an angle between 0 and 360 degrees.</td>\n<td></td>\n</tr>\n<tr>\n<td>slitwidth</td>\n<td>Slit width, as an angle.</td>\n<td></td>\n</tr>\n<tr>\n<td>start_time</td>\n<td>Start time from which to generate finder charts. This is only relevant for non-sidereal targets.</td>\n<td>Start of the current Julian day. Must be timezone-aware.</td>\n</tr>\n<tr>\n<td>survey</td>\n<td>Survey from which to get the finder chart image.</td>\n<td><code>Survey.POSS2UKSTU_RED</code></td>\n</tr>\n<tr>\n<td>title</td>\n<td>Title of the finder chart.</td>\n<td></td>\n</tr></tbody></table>\n<p>Which of these arguments are required depends on the combination of arguments used. Also, some arguments may be ignored when used with others. For example, the slit width won;t be used if the observing mode is imaging.</p>\n<p>While normally you wouldn't have to use it, the <code>salt_finder_charts</code> package also offers a <code>finder_charts</code> function which lets you customise some aspects of the finder chart generation.</p>\n<p>For example, you could create the same longslit observation finder charts as above with the following code.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">astropy.units</span> <span class=\"k\">as</span> <span class=\"nn\">u</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts</span> <span class=\"kn\">import</span> <span class=\"n\">finder_charts</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts.ephemerides</span> <span class=\"kn\">import</span> <span class=\"n\">ConstantEphemerisService</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts.image</span> <span class=\"kn\">import</span> <span class=\"n\">SurveyImageService</span><span class=\"p\">,</span> <span class=\"n\">Survey</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts.mode</span> <span class=\"kn\">import</span> <span class=\"n\">LongslitModeDetails</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts.output</span> <span class=\"kn\">import</span> <span class=\"n\">output_pdf</span>\n<span class=\"kn\">from</span> <span class=\"nn\">salt_finder_charts.util</span> <span class=\"kn\">import</span> <span class=\"n\">MagnitudeRange</span>\n\n<span class=\"n\">magnitude_range</span> <span class=\"o\">=</span> <span class=\"n\">MagnitudeRange</span><span class=\"p\">(</span><span class=\"n\">bandpass</span><span class=\"o\">=</span><span class=\"s2\">\"V\"</span><span class=\"p\">,</span> <span class=\"n\">max_magnitude</span><span class=\"o\">=</span><span class=\"mi\">18</span><span class=\"p\">,</span> <span class=\"n\">min_magnitude</span><span class=\"o\">=</span><span class=\"mi\">18</span><span class=\"p\">)</span>\n<span class=\"n\">ephemeris_service</span> <span class=\"o\">=</span> <span class=\"n\">ConstantEphemerisService</span><span class=\"p\">(</span>\n    <span class=\"n\">ra</span><span class=\"o\">=</span><span class=\"mf\">78.6568723</span> <span class=\"o\">*</span> <span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">deg</span><span class=\"p\">,</span>\n    <span class=\"n\">dec</span><span class=\"o\">=-</span><span class=\"mf\">27.63792</span> <span class=\"o\">*</span> <span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">deg</span><span class=\"p\">,</span>\n    <span class=\"n\">magnitude_range</span><span class=\"o\">=</span><span class=\"n\">magnitude_range</span>\n<span class=\"p\">)</span>\n<span class=\"n\">image_service</span> <span class=\"o\">=</span> <span class=\"n\">SurveyImageService</span><span class=\"p\">(</span><span class=\"n\">Survey</span><span class=\"o\">.</span><span class=\"n\">POSS2UKSTU_RED</span><span class=\"p\">)</span>\n<span class=\"n\">mode_details</span> <span class=\"o\">=</span> <span class=\"n\">LongslitModeDetails</span><span class=\"p\">(</span><span class=\"n\">slitwidth</span><span class=\"o\">=</span><span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">arcsec</span><span class=\"p\">,</span> <span class=\"n\">pa</span><span class=\"o\">=</span><span class=\"mi\">0</span> <span class=\"o\">*</span> <span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">deg</span><span class=\"p\">)</span>\n<span class=\"n\">fcs</span> <span class=\"o\">=</span> <span class=\"n\">finder_charts</span><span class=\"p\">(</span>\n    <span class=\"n\">ephemeris_service</span><span class=\"o\">=</span><span class=\"n\">ephemeris_service</span><span class=\"p\">,</span>\n    <span class=\"n\">image_service</span><span class=\"o\">=</span><span class=\"n\">image_service</span><span class=\"p\">,</span>\n    <span class=\"n\">mode_details</span><span class=\"o\">=</span><span class=\"n\">mode_details</span><span class=\"p\">,</span>\n    <span class=\"n\">output</span><span class=\"o\">=</span><span class=\"n\">output_pdf</span><span class=\"p\">,</span>\n    <span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">\"test Finding Chart\"</span>\n<span class=\"p\">)</span>\n</pre>\n<p>Like the <code>standard_finder_charts</code> function, <code>finder_charts</code> returns a generator of binary streams with the finder charts. It uses the following arguments.</p>\n<table>\n<thead>\n<tr>\n<th>Argument</th>\n<th>Description</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>basic_annotations</td>\n<td>Whether to add basic annotations only.</td>\n<td>False</td>\n</tr>\n<tr>\n<td>end_time</td>\n<td>End time until which to generate finder charts. This is only relevant for non-sidereal targets. Must be timezone-aware.</td>\n<td>End of the current Julian day</td>\n</tr>\n<tr>\n<td>ephemeris_service</td>\n<td>Service for getting ephemerides.</td>\n<td></td>\n</tr>\n<tr>\n<td>image_service</td>\n<td>Service for getting finder chart images.</td>\n<td></td>\n</tr>\n<tr>\n<td>mode_details</td>\n<td>Observing mode and its details</td>\n<td></td>\n</tr>\n<tr>\n<td>output</td>\n<td>Function for converting a finding chart into an output format such as pdf.</td>\n<td></td>\n</tr>\n<tr>\n<td>start_time</td>\n<td>Start time from which to generate finder charts. This is only relevant for non-sidereal targets.  Must be timezone-aware.</td>\n<td>Start of the current Julian day.</td>\n</tr>\n<tr>\n<td>title</td>\n<td>Title for the finder chart.</td>\n<td></td>\n</tr></tbody></table>\n<h2>Command-line interface</h2>\n<p>For convenience, a command <code>saltfc</code> is provided, which you can run in a terminal. It saves the generated finding charts in a directory. The filename of the generated files consists of a basename (such as <code>FinderChart</code>) followed by a dash and a running number. The basename can be customised with a command line option. Existing files are replaced without warning,</p>\n<p>For example, you can generate finder charts for an asteroid by running the following command in a terminal.</p>\n<pre>saltfc <span class=\"se\">\\</span>\n    --output-dir /tmp <span class=\"se\">\\</span>\n    --basename <span class=\"s2\">\"Asteroid_54827\"</span> <span class=\"se\">\\</span>\n    --mode imaging <span class=\"se\">\\</span>\n    --horizons-id <span class=\"m\">54827</span> <span class=\"se\">\\</span>\n    --start-time <span class=\"s2\">\"2019-06-28 11:31:00\"</span> <span class=\"se\">\\</span>\n    --end-time <span class=\"s2\">\"2019-06-29 12:31:00\"</span> <span class=\"se\">\\</span>\n    --slitwidth <span class=\"m\">2</span> <span class=\"se\">\\</span>\n    --output-format PDF\n</pre>\n<p>The command line options for <code>saltfc</code> are essentially the same as the arguments for the <code>standard_finder_charts</code> function, plus options for customising the file base name and setting the output directory.</p>\n<table>\n<thead>\n<tr>\n<th>Argument</th>\n<th>Description</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>--bandpass</td>\n<td>Bandpass for the magnitudes, such as V.</td>\n<td></td>\n</tr>\n<tr>\n<td>--basename</td>\n<td>Basename for the saved finder chart files</td>\n<td>FinderChart</td>\n</tr>\n<tr>\n<td>--basic_annotations</td>\n<td>Add basic annotations only.</td>\n<td>False</td>\n</tr>\n<tr>\n<td>--dec</td>\n<td>Declination of the finder chart center, as an angle between -90 and 90 degrees, in degrees.</td>\n<td></td>\n</tr>\n<tr>\n<td>--end_time</td>\n<td>End time until which to generate finder charts. This is only relevant for non-sidereal targets. The time is supposed to be in UTC.</td>\n<td>End of the current Julian day</td>\n</tr>\n<tr>\n<td>--horizons_id</td>\n<td>Identifier for the Horizons service.</td>\n<td></td>\n</tr>\n<tr>\n<td>--horizons_stepsize</td>\n<td>Minutes between ephemerides queried from the Horizons service</td>\n<td>5</td>\n</tr>\n<tr>\n<td>--max_magnitude</td>\n<td>Maximum magnitude for the target</td>\n<td></td>\n</tr>\n<tr>\n<td>--min_magnitude</td>\n<td>Minimum magnitude for the target.</td>\n<td></td>\n</tr>\n<tr>\n<td>--mode</td>\n<td>Observation mode, such as imaging or longslit.</td>\n<td></td>\n</tr>\n<tr>\n<td>--mos_mask_rsmt</td>\n<td>RSMT MOS mask file</td>\n<td></td>\n</tr>\n<tr>\n<td>--output-dir</td>\n<td>Directory where to store the generated finder chart files.</td>\n<td></td>\n</tr>\n<tr>\n<td>--output_format</td>\n<td>Output format of the generated finder charts, such as PDF.</td>\n<td>PDF</td>\n</tr>\n<tr>\n<td>--position_angle</td>\n<td>Position angle, in degrees.</td>\n<td>Generally 0 or, if appropriate, chosen to allow for easier acquisition.</td>\n</tr>\n<tr>\n<td>--ra</td>\n<td>Right ascension of the finder chart center, as an angle between 0 and 360 degrees, in degrees.</td>\n<td></td>\n</tr>\n<tr>\n<td>--slitwidth</td>\n<td>Slit width, as an angle in arcseconds.</td>\n<td></td>\n</tr>\n<tr>\n<td>--start_time</td>\n<td>Start time from which to generate finder charts. This is only relevant for non-sidereal targets.</td>\n<td>Start of the current Julian day. The time is supposed to be in UTC.</td>\n</tr>\n<tr>\n<td>--survey</td>\n<td>Survey from which to get the finder chart image.</td>\n<td><code>Survey.POSS2UKSTU_RED</code></td>\n</tr>\n<tr>\n<td>--title</td>\n<td>Title of the finder chart.</td>\n<td></td>\n</tr></tbody></table>\n<p>Both the start and end time use the format <code>yyyy-mm-dd hh:mm:ss</code>. For example, valid values are <code>2019-01-25 9:45:16'</code> or <code>2020-01-02 12:00:00</code>.</p>\n\n          </div>"}, "last_serial": 6395271, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "3608e6b672f4a952452ea86183f6363f", "sha256": "b723f38210f2a0bdbaf7c35b032a016ddd779fe9e400c839dec6494f64907a75"}, "downloads": -1, "filename": "salt_finder_charts-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "3608e6b672f4a952452ea86183f6363f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 13267, "upload_time": "2019-05-10T11:10:40", "upload_time_iso_8601": "2019-05-10T11:10:40.989172Z", "url": "https://files.pythonhosted.org/packages/25/26/fdf07eebfbbc96766924226d3cc8cedce0f67606c36cf73ff95442e9f932/salt_finder_charts-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fff0ebc6695df11927b28ca756cd0e69", "sha256": "4ed5436800d2ba70bb1037b70b7a5f74a7912e6b105134c989be72cc6cacf28a"}, "downloads": -1, "filename": "salt_finder_charts-0.1.0.tar.gz", "has_sig": false, "md5_digest": "fff0ebc6695df11927b28ca756cd0e69", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13573, "upload_time": "2019-05-10T11:10:43", "upload_time_iso_8601": "2019-05-10T11:10:43.310636Z", "url": "https://files.pythonhosted.org/packages/c4/a8/9f9c201626b6a4539ec1e103371c6a80c461afd3f92f0afe1d676c8d66cf/salt_finder_charts-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "f65bfdb8e6e5042427fab6cf377f855c", "sha256": "f5ff3c74f25c6ac0475d21bd72b648d8836dec3c0ff53acf70015f2a6a7bccb0"}, "downloads": -1, "filename": "salt_finder_charts-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "f65bfdb8e6e5042427fab6cf377f855c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 27213, "upload_time": "2020-01-04T16:44:04", "upload_time_iso_8601": "2020-01-04T16:44:04.133091Z", "url": "https://files.pythonhosted.org/packages/31/ec/da03f83f75bee3221d9e451c1b795c4841da4388930b448d1c08b5372582/salt_finder_charts-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fe7628178e8f12d60a65580dccbd95b8", "sha256": "551c38a1894a6e51a1f38fdf172e306899112f4be4b6fc2784b7993ea9e5f577"}, "downloads": -1, "filename": "salt_finder_charts-0.2.0.tar.gz", "has_sig": false, "md5_digest": "fe7628178e8f12d60a65580dccbd95b8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24130, "upload_time": "2020-01-04T16:44:06", "upload_time_iso_8601": "2020-01-04T16:44:06.106352Z", "url": "https://files.pythonhosted.org/packages/76/18/1338b5151952c77df34e4c027801f687d0cab3471e88a851be4366a67af0/salt_finder_charts-0.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f65bfdb8e6e5042427fab6cf377f855c", "sha256": "f5ff3c74f25c6ac0475d21bd72b648d8836dec3c0ff53acf70015f2a6a7bccb0"}, "downloads": -1, "filename": "salt_finder_charts-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "f65bfdb8e6e5042427fab6cf377f855c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 27213, "upload_time": "2020-01-04T16:44:04", "upload_time_iso_8601": "2020-01-04T16:44:04.133091Z", "url": "https://files.pythonhosted.org/packages/31/ec/da03f83f75bee3221d9e451c1b795c4841da4388930b448d1c08b5372582/salt_finder_charts-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fe7628178e8f12d60a65580dccbd95b8", "sha256": "551c38a1894a6e51a1f38fdf172e306899112f4be4b6fc2784b7993ea9e5f577"}, "downloads": -1, "filename": "salt_finder_charts-0.2.0.tar.gz", "has_sig": false, "md5_digest": "fe7628178e8f12d60a65580dccbd95b8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24130, "upload_time": "2020-01-04T16:44:06", "upload_time_iso_8601": "2020-01-04T16:44:06.106352Z", "url": "https://files.pythonhosted.org/packages/76/18/1338b5151952c77df34e4c027801f687d0cab3471e88a851be4366a67af0/salt_finder_charts-0.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:59:03 2020"}
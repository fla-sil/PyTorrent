{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": ["Framework :: Django", "License :: Public Domain", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "<!--\nhttps://pypi.org/project/readme-generator/\nhttps://pypi.org/project/python-readme-generator/\n-->\n\n[![](https://img.shields.io/pypi/pyversions/django-daemon-command.svg?longCache=True)](https://pypi.org/project/django-daemon-command/)\n[![](https://img.shields.io/badge/License-Unlicense-blue.svg?longCache=True)](https://unlicense.org/)\n\n#### Installation\n```bash\n$ [sudo] pip install django-daemon-command\n```\n\n#### Pros\n+   never stops after exception\n    +   exception traceback is saved in the database (`SELECT * FROM daemon_command_exc_traceback`)\n+   logs (`SELECT * FROM daemon_command_log`)\n\n#### Settings\n```python\nINSTALLED_APPS = [\n    ...\n    'django_daemon_command',\n    ...\n]\n```\n\n```bash\n$ python manage.py migrate\n```\n\n#### Examples\n`app/management/commands/command.py`\n```python\nfrom django_daemon_command.management.base import DaemonCommand\n\nclass Command(DaemonCommand):\n    sleep = 5\n\n    def process(self,*args,**options):\n        self.log('msg') # SELECT * FROM daemon_command_log\n```\n\n```bash\n$ python manage.py command\n```\n\ncustomize\n```python\nclass Command(DaemonCommand):\n    def handle(self, *args, **options):\n        ... # init\n        self.daemonize(*args, **options)\n\n    def on_exception(self,exc):\n        self.print_exception(exc)\n        self.save_exception(exc)\n```\n\n<p align=\"center\">\n    <a href=\"https://pypi.org/project/python-readme-generator/\">python-readme-generator</a>\n</p>", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/andrewp-as-is/django-daemon-command.py", "keywords": "django,daemon,command", "license": "Unlicense", "maintainer": "", "maintainer_email": "", "name": "django-daemon-command", "package_url": "https://pypi.org/project/django-daemon-command/", "platform": "", "project_url": "https://pypi.org/project/django-daemon-command/", "project_urls": {"Homepage": "https://github.com/andrewp-as-is/django-daemon-command.py"}, "release_url": "https://pypi.org/project/django-daemon-command/2020.4.20/", "requires_dist": null, "requires_python": "", "summary": "django DaemonCommand", "version": "2020.4.20", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://pypi.org/project/django-daemon-command/\" rel=\"nofollow\"><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/950540513945624b05e452c5f866384e74883e8f/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f646a616e676f2d6461656d6f6e2d636f6d6d616e642e7376673f6c6f6e6743616368653d54727565\"></a>\n<a href=\"https://unlicense.org/\" rel=\"nofollow\"><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f4e8a8f9c20068b8993eef25e402898571038660/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d556e6c6963656e73652d626c75652e7376673f6c6f6e6743616368653d54727565\"></a></p>\n<h4>Installation</h4>\n<pre>$ <span class=\"o\">[</span>sudo<span class=\"o\">]</span> pip install django-daemon-command\n</pre>\n<h4>Pros</h4>\n<ul>\n<li>never stops after exception\n<ul>\n<li>exception traceback is saved in the database (<code>SELECT * FROM daemon_command_exc_traceback</code>)</li>\n</ul>\n</li>\n<li>logs (<code>SELECT * FROM daemon_command_log</code>)</li>\n</ul>\n<h4>Settings</h4>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'django_daemon_command'</span><span class=\"p\">,</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">]</span>\n</pre>\n<pre>$ python manage.py migrate\n</pre>\n<h4>Examples</h4>\n<p><code>app/management/commands/command.py</code></p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_daemon_command.management.base</span> <span class=\"kn\">import</span> <span class=\"n\">DaemonCommand</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Command</span><span class=\"p\">(</span><span class=\"n\">DaemonCommand</span><span class=\"p\">):</span>\n    <span class=\"n\">sleep</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">process</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span><span class=\"o\">**</span><span class=\"n\">options</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">log</span><span class=\"p\">(</span><span class=\"s1\">'msg'</span><span class=\"p\">)</span> <span class=\"c1\"># SELECT * FROM daemon_command_log</span>\n</pre>\n<pre>$ python manage.py <span class=\"nb\">command</span>\n</pre>\n<p>customize</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">Command</span><span class=\"p\">(</span><span class=\"n\">DaemonCommand</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">handle</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">options</span><span class=\"p\">):</span>\n        <span class=\"o\">...</span> <span class=\"c1\"># init</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">daemonize</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">options</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">on_exception</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"n\">exc</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">print_exception</span><span class=\"p\">(</span><span class=\"n\">exc</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">save_exception</span><span class=\"p\">(</span><span class=\"n\">exc</span><span class=\"p\">)</span>\n</pre>\n<p align=\"center\">\n    <a href=\"https://pypi.org/project/python-readme-generator/\" rel=\"nofollow\">python-readme-generator</a>\n</p>\n\n          </div>"}, "last_serial": 7055591, "releases": {"2020.4.18": [{"comment_text": "", "digests": {"md5": "d9b215dd3bfc0ec5080a48fde66969a4", "sha256": "8d08e699030b1207b0aaa804f1aaed8be61ddc02bb18e251d90571d861c5f9f7"}, "downloads": -1, "filename": "django-daemon-command-2020.4.18.tar.gz", "has_sig": false, "md5_digest": "d9b215dd3bfc0ec5080a48fde66969a4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2846, "upload_time": "2020-04-19T16:57:26", "upload_time_iso_8601": "2020-04-19T16:57:26.051725Z", "url": "https://files.pythonhosted.org/packages/a8/bc/2165c3d855381ff032a4b04f7e5ecd77bc9643074912006d7a84015201ac/django-daemon-command-2020.4.18.tar.gz", "yanked": false}], "2020.4.20": [{"comment_text": "", "digests": {"md5": "3ebe4bd565b9ec15ec606527385d7858", "sha256": "3e8f2ad6cebb4e677c8cab0f1fab072f4f66c495f7032489656f8aecad10af9f"}, "downloads": -1, "filename": "django-daemon-command-2020.4.20.tar.gz", "has_sig": false, "md5_digest": "3ebe4bd565b9ec15ec606527385d7858", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2849, "upload_time": "2020-04-19T19:46:59", "upload_time_iso_8601": "2020-04-19T19:46:59.489713Z", "url": "https://files.pythonhosted.org/packages/8d/d6/44ddeb57455d35e8c76f795214d8757346c359eaa3e3b655b85a8e829bbb/django-daemon-command-2020.4.20.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "3ebe4bd565b9ec15ec606527385d7858", "sha256": "3e8f2ad6cebb4e677c8cab0f1fab072f4f66c495f7032489656f8aecad10af9f"}, "downloads": -1, "filename": "django-daemon-command-2020.4.20.tar.gz", "has_sig": false, "md5_digest": "3ebe4bd565b9ec15ec606527385d7858", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2849, "upload_time": "2020-04-19T19:46:59", "upload_time_iso_8601": "2020-04-19T19:46:59.489713Z", "url": "https://files.pythonhosted.org/packages/8d/d6/44ddeb57455d35e8c76f795214d8757346c359eaa3e3b655b85a8e829bbb/django-daemon-command-2020.4.20.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:36:43 2020"}
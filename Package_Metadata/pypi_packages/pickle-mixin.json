{"info": {"author": "Danilo Horta", "author_email": "horta@ebi.ac.uk", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent"], "description": "pickle-mixin\n============\n\n|PyPI-License| |PyPI-Version|\n\nMakes un-pickle-able objects pick-able.\n\nInstall\n-------\n\nYou can install it via pip\n\n::\n\n    pip install pickle-mixin\n\nRunning the tests\n-----------------\n\nAfter installation, you can test it\n\n::\n\n    python -c \"import pickle_mixin; pickle_mixin.test()\"\n\nas long as you have `pytest <http://docs.pytest.org/en/latest/>`__.\n\nUsage\n-----\n\nPickle by initialisation\n~~~~~~~~~~~~~~~~~~~~~~~~\n\nSuppose that you have a class whose objects are un-pickle-able or that\nwould demand a large amount of disk space or memory to be pickle-able.\n``PickleByInit`` class lets you pickle object attributes via object\ninitialization. Consider the following classes:\n\n.. code:: python\n\n    class Foo(PickleByInit):\n        def __init__(self, obj):\n            super(Foo, self).__init__()\n            self.obj = obj\n\n    class Bar(object):\n        def __init__(self, filename):\n            self.filename = filename\n\n        def __getstate__(self):\n            raise PicklingError\n\n        def init_dict(self):\n            return dict(filename=self.filename)\n\nTrying to pickle as follows\n\n.. code:: python\n\n    f = Foo(Bar('file.txt'))\n    pickle.dumps(f)\n\nwould raise a ``PicklingError``. The following on the other hand would\nwork:\n\n.. code:: python\n\n    f = Foo(Bar('file.txt'))\n    f.set_signature_only_attr('obj')\n    pickle.dumps(f)\n\nThe un-pickling process of ``f.obj`` attribute happens via object\ninitialisation, passing the returned dictionary from ``init_dict`` as\nkeyword arguments to ``Bar.__init__``.\n\nMixing classes with and without slots\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nPickling does not save attributes defined via ``__slots__`` in the\nfollowing case:\n\n.. code:: python\n\n    class Foo(object):\n        __slots__ = ['a']\n\n        def __init__(self):\n            self.a = 4\n\n\n    class Bar(Foo):\n        def __init__(self):\n            pass\n\n``SlotPickleMixin`` fixes it:\n\n.. code:: python\n\n    class FooMixin(object):\n        __slots__ = ['a']\n\n        def __init__(self):\n            self.a = 4\n\n\n    class BarMixin(FooMixin, SlotPickleMixin):\n        def __init__(self):\n            FooMixin.__init__(self)\n            SlotPickleMixin.__init__(self)\n\n    f = BarMixin()\n    o = pickle.dumps(f)\n    f = pickle.loads(o)\n    assert hasattr(f, 'a')\n\nAuthors\n-------\n\n-  **Danilo Horta** - https://github.com/Horta\n\nLicense\n-------\n\nThis project is licensed under the MIT License - see the\n`LICENSE <LICENSE>`__ file for details\n\n.. |PyPI-License| image:: https://img.shields.io/pypi/l/pickle-mixin.svg?style=flat-square\n   :target: https://pypi.python.org/pypi/pickle-mixin/\n.. |PyPI-Version| image:: https://img.shields.io/pypi/v/pickle-mixin.svg?style=flat-square\n   :target: https://pypi.python.org/pypi/pickle-mixin/", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/limix/pickle-mixin", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "pickle-mixin", "package_url": "https://pypi.org/project/pickle-mixin/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/pickle-mixin/", "project_urls": {"Homepage": "https://github.com/limix/pickle-mixin"}, "release_url": "https://pypi.org/project/pickle-mixin/1.0.2/", "requires_dist": null, "requires_python": "", "summary": "Makes un-pickle-able objects pick-able.", "version": "1.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://pypi.python.org/pypi/pickle-mixin/\" rel=\"nofollow\"><img alt=\"PyPI-License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/81c9586987511998b8bbe691bc0c642e28130e64/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f7069636b6c652d6d6978696e2e7376673f7374796c653d666c61742d737175617265\"></a> <a href=\"https://pypi.python.org/pypi/pickle-mixin/\" rel=\"nofollow\"><img alt=\"PyPI-Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2f76b0a2c0ced8be06e78d14e5b2311e2dd5bc22/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7069636b6c652d6d6978696e2e7376673f7374796c653d666c61742d737175617265\"></a></p>\n<p>Makes un-pickle-able objects pick-able.</p>\n<div id=\"install\">\n<h2>Install</h2>\n<p>You can install it via pip</p>\n<pre>pip install pickle-mixin\n</pre>\n</div>\n<div id=\"running-the-tests\">\n<h2>Running the tests</h2>\n<p>After installation, you can test it</p>\n<pre>python -c \"import pickle_mixin; pickle_mixin.test()\"\n</pre>\n<p>as long as you have <a href=\"http://docs.pytest.org/en/latest/\" rel=\"nofollow\">pytest</a>.</p>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<div id=\"pickle-by-initialisation\">\n<h3>Pickle by initialisation</h3>\n<p>Suppose that you have a class whose objects are un-pickle-able or that\nwould demand a large amount of disk space or memory to be pickle-able.\n<tt>PickleByInit</tt> class lets you pickle object attributes via object\ninitialization. Consider the following classes:</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">Foo</span><span class=\"p\">(</span><span class=\"n\">PickleByInit</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">obj</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">Foo</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">obj</span> <span class=\"o\">=</span> <span class=\"n\">obj</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Bar</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">filename</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">filename</span> <span class=\"o\">=</span> <span class=\"n\">filename</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">__getstate__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">raise</span> <span class=\"n\">PicklingError</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">init_dict</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">filename</span><span class=\"p\">)</span>\n</pre>\n<p>Trying to pickle as follows</p>\n<pre><span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"n\">Foo</span><span class=\"p\">(</span><span class=\"n\">Bar</span><span class=\"p\">(</span><span class=\"s1\">'file.txt'</span><span class=\"p\">))</span>\n<span class=\"n\">pickle</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">)</span>\n</pre>\n<p>would raise a <tt>PicklingError</tt>. The following on the other hand would\nwork:</p>\n<pre><span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"n\">Foo</span><span class=\"p\">(</span><span class=\"n\">Bar</span><span class=\"p\">(</span><span class=\"s1\">'file.txt'</span><span class=\"p\">))</span>\n<span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">set_signature_only_attr</span><span class=\"p\">(</span><span class=\"s1\">'obj'</span><span class=\"p\">)</span>\n<span class=\"n\">pickle</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">)</span>\n</pre>\n<p>The un-pickling process of <tt>f.obj</tt> attribute happens via object\ninitialisation, passing the returned dictionary from <tt>init_dict</tt> as\nkeyword arguments to <tt>Bar.__init__</tt>.</p>\n</div>\n<div id=\"mixing-classes-with-and-without-slots\">\n<h3>Mixing classes with and without slots</h3>\n<p>Pickling does not save attributes defined via <tt>__slots__</tt> in the\nfollowing case:</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">Foo</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"vm\">__slots__</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'a'</span><span class=\"p\">]</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">Bar</span><span class=\"p\">(</span><span class=\"n\">Foo</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">pass</span>\n</pre>\n<p><tt>SlotPickleMixin</tt> fixes it:</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">FooMixin</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"vm\">__slots__</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'a'</span><span class=\"p\">]</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">BarMixin</span><span class=\"p\">(</span><span class=\"n\">FooMixin</span><span class=\"p\">,</span> <span class=\"n\">SlotPickleMixin</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">FooMixin</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span>\n        <span class=\"n\">SlotPickleMixin</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span>\n\n<span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"n\">BarMixin</span><span class=\"p\">()</span>\n<span class=\"n\">o</span> <span class=\"o\">=</span> <span class=\"n\">pickle</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">)</span>\n<span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"n\">pickle</span><span class=\"o\">.</span><span class=\"n\">loads</span><span class=\"p\">(</span><span class=\"n\">o</span><span class=\"p\">)</span>\n<span class=\"k\">assert</span> <span class=\"nb\">hasattr</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"s1\">'a'</span><span class=\"p\">)</span>\n</pre>\n</div>\n</div>\n<div id=\"authors\">\n<h2>Authors</h2>\n<ul>\n<li><strong>Danilo Horta</strong> - <a href=\"https://github.com/Horta\" rel=\"nofollow\">https://github.com/Horta</a></li>\n</ul>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>This project is licensed under the MIT License - see the\n<a href=\"LICENSE\" rel=\"nofollow\">LICENSE</a> file for details</p>\n</div>\n\n          </div>"}, "last_serial": 2764746, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "ddb6ddd3ea8bb4ebd45fd226c18e629d", "sha256": "93775a799b322eeb71ee7a0d59252f515f5bd36da2110c6ea78faec552ba1650"}, "downloads": -1, "filename": "pickle-mixin-1.0.0.tar.gz", "has_sig": false, "md5_digest": "ddb6ddd3ea8bb4ebd45fd226c18e629d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4148, "upload_time": "2017-02-15T12:33:00", "upload_time_iso_8601": "2017-02-15T12:33:00.042269Z", "url": "https://files.pythonhosted.org/packages/34/94/24b3db2a125824a2641cb86c1203dd6e9933099a047595a60ec646781b18/pickle-mixin-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "f7cf7effe56e7699d50124c7ae342ae8", "sha256": "cd9cc128f102fe8fb907dadb4182391078443e1ffa0ae9fd564a9214f4387953"}, "downloads": -1, "filename": "pickle-mixin-1.0.1.tar.gz", "has_sig": false, "md5_digest": "f7cf7effe56e7699d50124c7ae342ae8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4457, "upload_time": "2017-04-09T21:50:37", "upload_time_iso_8601": "2017-04-09T21:50:37.687767Z", "url": "https://files.pythonhosted.org/packages/e9/5e/4432a3b1ac83266e7e0e877abb137df1911a2e0adf7b4082255d6c9b180a/pickle-mixin-1.0.1.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "69bb840886237f83f86869a79736d6d4", "sha256": "d4983cd09939f6e402c69ba4f4200f2e6ccdfd39c020f6d1091290d78f17625c"}, "downloads": -1, "filename": "pickle-mixin-1.0.2.tar.gz", "has_sig": false, "md5_digest": "69bb840886237f83f86869a79736d6d4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5113, "upload_time": "2017-04-09T22:30:44", "upload_time_iso_8601": "2017-04-09T22:30:44.369133Z", "url": "https://files.pythonhosted.org/packages/02/77/9d5eb2201bbc130e2a5cc41fc949e4ab0da74b619107eac1c511be3af7a7/pickle-mixin-1.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "69bb840886237f83f86869a79736d6d4", "sha256": "d4983cd09939f6e402c69ba4f4200f2e6ccdfd39c020f6d1091290d78f17625c"}, "downloads": -1, "filename": "pickle-mixin-1.0.2.tar.gz", "has_sig": false, "md5_digest": "69bb840886237f83f86869a79736d6d4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5113, "upload_time": "2017-04-09T22:30:44", "upload_time_iso_8601": "2017-04-09T22:30:44.369133Z", "url": "https://files.pythonhosted.org/packages/02/77/9d5eb2201bbc130e2a5cc41fc949e4ab0da74b619107eac1c511be3af7a7/pickle-mixin-1.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:55:03 2020"}
{"info": {"author": "Steve Simpson", "author_email": "stephen.simpson1991@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "License :: OSI Approved :: MIT License", "Operating System :: POSIX :: Linux", "Programming Language :: Python :: 3"], "description": "# Zabbix Elasticsearch\n\n![PyPI - Python Version](https://img.shields.io/pypi/pyversions/zabbix_elasticsearch) ![PyPI](https://img.shields.io/pypi/v/zabbix_elasticsearch) [![Build Status](https://travis-ci.org/steve-simpson/zabbix_elasticsearch.svg?branch=master)](https://travis-ci.org/steve-simpson/zabbix_elasticsearch)\n![PyPI - License](https://img.shields.io/pypi/l/zabbix_elasticsearch) \n\nSimple Python wrappr around the Elasticsearch python module to provide metrics for consumption by Zabbix Agent. In time, this project may be expanded to provide monitoring for the whole Elastic Stack (Elasticsearch, Kibana, Logstash, Beats etc.)\n\n## Getting Started\n\nThese instructions will get you a copy of the project up and running on your local machine for development and testing purposes. See deployment for notes on how to deploy the project on a live system.\n\n### Prerequisites\n\nDespite the project name, you don't actually need Zabbix Server/Agent setup to run this project. You can \"mock\" Zabbix Agent using the CLI to see the metric required. See deployment for more info.\n\nYou will however need a connection to Elasticsearch in order to collect metrics. For development purposes you may wish to use the elasticsearch docker image here: `https://hub.docker.com/_/elasticsearch` or you can checkout `https://app.vagrantup.com/stevesimpson/boxes/elasticsearch` for my Vagrant setup. Either way, the Elasticsearch cluster needs to be online and reachable.\n\n```\n# Note: Pulling an images requires using a specific version number tag. The latest tag is not supported.\n\ndocker pull elasticsearch:7.3.2\ndocker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e \"discovery.type=single-node\" elasticsearch:7.3.2\n\n# Ensure Elasticsearch is up and reachable\ncurl -X GET \"http://localhost:9200/_cluster/health?pretty\"\n{\n  \"cluster_name\" : \"docker-cluster\",\n  \"status\" : \"green\",\n  \"timed_out\" : false,\n  \"number_of_nodes\" : 1,\n  \"number_of_data_nodes\" : 1,\n  \"active_primary_shards\" : 0,\n  \"active_shards\" : 0,\n  \"relocating_shards\" : 0,\n  \"initializing_shards\" : 0,\n  \"unassigned_shards\" : 0,\n  \"delayed_unassigned_shards\" : 0,\n  \"number_of_pending_tasks\" : 0,\n  \"number_of_in_flight_fetch\" : 0,\n  \"task_max_waiting_in_queue_millis\" : 0,\n  \"active_shards_percent_as_number\" : 100.0\n}\n```\n\n### Installing\n\nInstall the package using `pip`. Virtualenv is recommended.\n```\npip install zabbix-elasticsearch\n```\n\nCopy the default configuration file to a destination of your choosing.The default options will work with an Elasticsearch \"Cluster\" running on \"localhost\".\n```\ncp <install_dir>/docs/default.conf <dest>\n\n# Example using virtualenv, 'zabbix-elasticsearch'\n\nmkdir -p /etc/zabbix-elasticsearch # Make new config directory\ncp ~/.virtualenvs/zabbix-elasticsearch-test/docs/default.conf /etc/zabbix-elasticsearch/zabbix-elasticsearch.conf\n```\n\nThat's it! Here's a usage example to grab the cluster status.  The `--api`, `--endpoint` and `--metric` options will be fully documented in time.\n```\nzabbix_elasticsearch -c /etc/zabbix-elasticsearch/zabbix-elasticsearch.conf --api cluster --endpoint stats --metric status\n[19/11/2019 12:03:03] INFO GET http://localhost:9200/_nodes/_all/http [status:200 request:0.004s]\n[19/11/2019 12:03:03] INFO GET http://172.17.0.2:9200/_cluster/stats [status:200 request:0.005s]\ngreen\n[19/11/2019 12:03:03] INFO 'status': green. CLOSING\n```\n\nAs you can see we are logging to stdout, this can be changed to log to a file in the config. The important output here for Zabbix integration is the printed output \"green\". This will be used in a later Zabbix template.\n## Running the tests\n\nTest coverage is almost non exsitant. I'm hoping to change that soon! You can run `pytest` in the project root to run the pointless test if you like. Testing contributions most welcome :heavy_check_mark:\n\n## Deployment\n\nComing Soon :construction:\n\n## Contributing\n\nPull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.\n\n## Versioning\n\nWe use [SemVer](http://semver.org/) for versioning. For the versions available, see the [tags on this repository](https://github.com/your/project/tags). \n\n## Authors\n\n* **Steve Simpson** - *Project Owner*\n\n## License\n\nThis project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details\n\n## Acknowledgments\n\n* CI and Build with Travis CI\n* Package hosted on PyPI \n* Thanks to the teams at both Elastic and Zabbix for providing excellent open source tools", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/steve-simpson/zabbix_elasticsearch", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "zabbix-elasticsearch", "package_url": "https://pypi.org/project/zabbix-elasticsearch/", "platform": "", "project_url": "https://pypi.org/project/zabbix-elasticsearch/", "project_urls": {"Homepage": "https://github.com/steve-simpson/zabbix_elasticsearch"}, "release_url": "https://pypi.org/project/zabbix-elasticsearch/0.4.0/", "requires_dist": null, "requires_python": ">=3.6", "summary": "Zabbix Monitoring for Elasticsearch", "version": "0.4.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Zabbix Elasticsearch</h1>\n<p><img alt=\"PyPI - Python Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f0f94f031ca136bd8d06638977076a8d528e5422/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f7a61626269785f656c6173746963736561726368\"> <img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5fa2d9df3462e028468a477bca5c18c50c48a3e7/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7a61626269785f656c6173746963736561726368\"> <a href=\"https://travis-ci.org/steve-simpson/zabbix_elasticsearch\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/775ef0a8aa73b2ea2e8cf33337ef1e17de488497/68747470733a2f2f7472617669732d63692e6f72672f73746576652d73696d70736f6e2f7a61626269785f656c61737469637365617263682e7376673f6272616e63683d6d6173746572\"></a>\n<img alt=\"PyPI - License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2c2cb24c6918ec4d834c38625891ec5a65eaee06/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f7a61626269785f656c6173746963736561726368\"></p>\n<p>Simple Python wrappr around the Elasticsearch python module to provide metrics for consumption by Zabbix Agent. In time, this project may be expanded to provide monitoring for the whole Elastic Stack (Elasticsearch, Kibana, Logstash, Beats etc.)</p>\n<h2>Getting Started</h2>\n<p>These instructions will get you a copy of the project up and running on your local machine for development and testing purposes. See deployment for notes on how to deploy the project on a live system.</p>\n<h3>Prerequisites</h3>\n<p>Despite the project name, you don't actually need Zabbix Server/Agent setup to run this project. You can \"mock\" Zabbix Agent using the CLI to see the metric required. See deployment for more info.</p>\n<p>You will however need a connection to Elasticsearch in order to collect metrics. For development purposes you may wish to use the elasticsearch docker image here: <code>https://hub.docker.com/_/elasticsearch</code> or you can checkout <code>https://app.vagrantup.com/stevesimpson/boxes/elasticsearch</code> for my Vagrant setup. Either way, the Elasticsearch cluster needs to be online and reachable.</p>\n<pre><code># Note: Pulling an images requires using a specific version number tag. The latest tag is not supported.\n\ndocker pull elasticsearch:7.3.2\ndocker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e \"discovery.type=single-node\" elasticsearch:7.3.2\n\n# Ensure Elasticsearch is up and reachable\ncurl -X GET \"http://localhost:9200/_cluster/health?pretty\"\n{\n  \"cluster_name\" : \"docker-cluster\",\n  \"status\" : \"green\",\n  \"timed_out\" : false,\n  \"number_of_nodes\" : 1,\n  \"number_of_data_nodes\" : 1,\n  \"active_primary_shards\" : 0,\n  \"active_shards\" : 0,\n  \"relocating_shards\" : 0,\n  \"initializing_shards\" : 0,\n  \"unassigned_shards\" : 0,\n  \"delayed_unassigned_shards\" : 0,\n  \"number_of_pending_tasks\" : 0,\n  \"number_of_in_flight_fetch\" : 0,\n  \"task_max_waiting_in_queue_millis\" : 0,\n  \"active_shards_percent_as_number\" : 100.0\n}\n</code></pre>\n<h3>Installing</h3>\n<p>Install the package using <code>pip</code>. Virtualenv is recommended.</p>\n<pre><code>pip install zabbix-elasticsearch\n</code></pre>\n<p>Copy the default configuration file to a destination of your choosing.The default options will work with an Elasticsearch \"Cluster\" running on \"localhost\".</p>\n<pre><code>cp &lt;install_dir&gt;/docs/default.conf &lt;dest&gt;\n\n# Example using virtualenv, 'zabbix-elasticsearch'\n\nmkdir -p /etc/zabbix-elasticsearch # Make new config directory\ncp ~/.virtualenvs/zabbix-elasticsearch-test/docs/default.conf /etc/zabbix-elasticsearch/zabbix-elasticsearch.conf\n</code></pre>\n<p>That's it! Here's a usage example to grab the cluster status.  The <code>--api</code>, <code>--endpoint</code> and <code>--metric</code> options will be fully documented in time.</p>\n<pre><code>zabbix_elasticsearch -c /etc/zabbix-elasticsearch/zabbix-elasticsearch.conf --api cluster --endpoint stats --metric status\n[19/11/2019 12:03:03] INFO GET http://localhost:9200/_nodes/_all/http [status:200 request:0.004s]\n[19/11/2019 12:03:03] INFO GET http://172.17.0.2:9200/_cluster/stats [status:200 request:0.005s]\ngreen\n[19/11/2019 12:03:03] INFO 'status': green. CLOSING\n</code></pre>\n<p>As you can see we are logging to stdout, this can be changed to log to a file in the config. The important output here for Zabbix integration is the printed output \"green\". This will be used in a later Zabbix template.</p>\n<h2>Running the tests</h2>\n<p>Test coverage is almost non exsitant. I'm hoping to change that soon! You can run <code>pytest</code> in the project root to run the pointless test if you like. Testing contributions most welcome :heavy_check_mark:</p>\n<h2>Deployment</h2>\n<p>Coming Soon :construction:</p>\n<h2>Contributing</h2>\n<p>Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.</p>\n<h2>Versioning</h2>\n<p>We use <a href=\"http://semver.org/\" rel=\"nofollow\">SemVer</a> for versioning. For the versions available, see the <a href=\"https://github.com/your/project/tags\" rel=\"nofollow\">tags on this repository</a>.</p>\n<h2>Authors</h2>\n<ul>\n<li><strong>Steve Simpson</strong> - <em>Project Owner</em></li>\n</ul>\n<h2>License</h2>\n<p>This project is licensed under the MIT License - see the <a href=\"LICENSE\" rel=\"nofollow\">LICENSE</a> file for details</p>\n<h2>Acknowledgments</h2>\n<ul>\n<li>CI and Build with Travis CI</li>\n<li>Package hosted on PyPI</li>\n<li>Thanks to the teams at both Elastic and Zabbix for providing excellent open source tools</li>\n</ul>\n\n          </div>"}, "last_serial": 6234131, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "fe6e51c5de29c6f6c54d82ac420ad35c", "sha256": "4c057e2af0899da14d4d78f13d5e228855bde5da26d4a9443bfe912e8ac57e33"}, "downloads": -1, "filename": "zabbix_elasticsearch-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "fe6e51c5de29c6f6c54d82ac420ad35c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 6406, "upload_time": "2019-11-18T22:54:38", "upload_time_iso_8601": "2019-11-18T22:54:38.614901Z", "url": "https://files.pythonhosted.org/packages/3d/2c/f3427fbd8c5ed5f18ed902b1df90adfedd057f10f03185ab2b7eae1a3edb/zabbix_elasticsearch-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "516d62ea23e7a6398ce620ca2fa171f8", "sha256": "4c9f9729eb29df46d2d86a0e2034d57b9f0984965c456d21ba12173eb2404488"}, "downloads": -1, "filename": "zabbix_elasticsearch-0.1.0.tar.gz", "has_sig": false, "md5_digest": "516d62ea23e7a6398ce620ca2fa171f8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 4514, "upload_time": "2019-11-18T22:54:41", "upload_time_iso_8601": "2019-11-18T22:54:41.203763Z", "url": "https://files.pythonhosted.org/packages/6f/3f/c7fe7db14e583471d8e41e6b381d0cea5011619e22f7b0f0f7ddbe7a4030/zabbix_elasticsearch-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "ab528bcd5d1418307d0fc12aebc47e3a", "sha256": "109e7903c2c2c7ad3e389ecd36da735291787fd79efc45257a1c5bc3e57e5ffd"}, "downloads": -1, "filename": "zabbix_elasticsearch-0.1.1.tar.gz", "has_sig": false, "md5_digest": "ab528bcd5d1418307d0fc12aebc47e3a", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 6676, "upload_time": "2019-11-19T00:23:42", "upload_time_iso_8601": "2019-11-19T00:23:42.159120Z", "url": "https://files.pythonhosted.org/packages/3b/4a/f2cd9bbd6b4956102fdedb1be2e1f9ef73d739fb0a632df34b1916f6cb39/zabbix_elasticsearch-0.1.1.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "4efcb30127ea8d5089cdb7f6fad287e4", "sha256": "c8c3f7ec394c2c56ac0367a74af934553999251667ea2bb4a451aa285fafd393"}, "downloads": -1, "filename": "zabbix_elasticsearch-0.1.3.tar.gz", "has_sig": false, "md5_digest": "4efcb30127ea8d5089cdb7f6fad287e4", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 6680, "upload_time": "2019-11-19T14:57:14", "upload_time_iso_8601": "2019-11-19T14:57:14.327305Z", "url": "https://files.pythonhosted.org/packages/06/60/e7bd7f6ea6c024c6404dd837a770daf317cd857c8cbb032bb9c39ae76cfe/zabbix_elasticsearch-0.1.3.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "88964701ecfdcef56e7f9227353ebde7", "sha256": "a8940c59d0a82b42043bb2781334403aff4b1a163d7a3dc45b7812b95db78c90"}, "downloads": -1, "filename": "zabbix_elasticsearch-0.2.0.tar.gz", "has_sig": false, "md5_digest": "88964701ecfdcef56e7f9227353ebde7", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 6871, "upload_time": "2019-11-21T10:58:02", "upload_time_iso_8601": "2019-11-21T10:58:02.002106Z", "url": "https://files.pythonhosted.org/packages/bc/5a/cf35ee5f80b42b9a5bdfc9ceab99ef69a25e4da47dd18224a8822cbc81bc/zabbix_elasticsearch-0.2.0.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "1917e9774641bf43e75fca65ca785b22", "sha256": "b37306b122e641d5284de5cac8854133f0703e60b48f0016c6d9d1876fd8f637"}, "downloads": -1, "filename": "zabbix_elasticsearch-0.2.1.tar.gz", "has_sig": false, "md5_digest": "1917e9774641bf43e75fca65ca785b22", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 7009, "upload_time": "2019-11-26T12:47:28", "upload_time_iso_8601": "2019-11-26T12:47:28.970482Z", "url": "https://files.pythonhosted.org/packages/2f/9d/c3b0b95f7639ac11978fe552b8a9fdd32ff0cc2271ce77ba69dacf6a49fa/zabbix_elasticsearch-0.2.1.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "e251b456d09b10fa36e776ad962ca31e", "sha256": "2e82801c8cd511af517023cb7400761be98a9a831c2202c56c1b5131c6257ed8"}, "downloads": -1, "filename": "zabbix_elasticsearch-0.3.0.tar.gz", "has_sig": false, "md5_digest": "e251b456d09b10fa36e776ad962ca31e", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 7188, "upload_time": "2019-11-29T16:23:40", "upload_time_iso_8601": "2019-11-29T16:23:40.091231Z", "url": "https://files.pythonhosted.org/packages/ea/0a/49a1c24a31826fd0922626509ef014eda349ee433a7b26ce33a305f88528/zabbix_elasticsearch-0.3.0.tar.gz", "yanked": false}], "0.4.0": [{"comment_text": "", "digests": {"md5": "f9c4ee40b1fbae9f66aed52d9bee634a", "sha256": "37994120752629dfe76d4ec69a86bbfde2c7a561bdf4e2aa5f118cfbb4cffde1"}, "downloads": -1, "filename": "zabbix_elasticsearch-0.4.0.tar.gz", "has_sig": false, "md5_digest": "f9c4ee40b1fbae9f66aed52d9bee634a", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 7589, "upload_time": "2019-12-03T10:12:34", "upload_time_iso_8601": "2019-12-03T10:12:34.219178Z", "url": "https://files.pythonhosted.org/packages/ea/d6/3e6a1a6329c2d29421c0c05a406308b3c730a2c866f02d3f9717b646a16f/zabbix_elasticsearch-0.4.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f9c4ee40b1fbae9f66aed52d9bee634a", "sha256": "37994120752629dfe76d4ec69a86bbfde2c7a561bdf4e2aa5f118cfbb4cffde1"}, "downloads": -1, "filename": "zabbix_elasticsearch-0.4.0.tar.gz", "has_sig": false, "md5_digest": "f9c4ee40b1fbae9f66aed52d9bee634a", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 7589, "upload_time": "2019-12-03T10:12:34", "upload_time_iso_8601": "2019-12-03T10:12:34.219178Z", "url": "https://files.pythonhosted.org/packages/ea/d6/3e6a1a6329c2d29421c0c05a406308b3c730a2c866f02d3f9717b646a16f/zabbix_elasticsearch-0.4.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:20:10 2020"}
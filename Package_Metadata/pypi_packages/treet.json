{"info": {"author": "Ad115", "author_email": "a.garcia230395@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "Intended Audience :: Education", "Intended Audience :: Information Technology", "Intended Audience :: Science/Research", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3 :: Only", "Topic :: Scientific/Engineering :: Artificial Life", "Topic :: Scientific/Engineering :: Bio-Informatics", "Topic :: Scientific/Engineering :: Medical Science Apps.", "Topic :: Software Development", "Topic :: Software Development :: Libraries", "Topic :: Text Processing", "Topic :: Utilities"], "description": "Generic tree utilities for Python\n=================================\n\nTrees are one of the most ubiquitous data structures. It is amazing how often we \nas programmers tend to reimplement the same algorithms for different tree \nformats and stuctures.\n\nThis module defines generic tree-traverse and tree-reduce algorithms that can be\nused with any tree-like object such as filesystem paths, lists, nested \ndictionaries an expression tree or even specialized tree classes! The only thing \nthat must be provided is a function to get child nodes from a parent node.\n\nAlso, trees are usually represented in some fields (such as bioinformatics) in \nthe newick format, which is nontrivial to parse, so this module includes a \nfunction to do this.\n\n\nUsage and examples\n------------------\n\nInstall from [PyPi](https://pypi.org/project/treet/):\n\n```\npip install treet\n```\n\nImport the basic functions, `traverse`, `reduce` and `parse_newick`:\n\n```python\n\nimport treet\n```\n\n###  Use with any kind of structured tree!\n\nAny kind of structured data is supported, in this case, nested dictionaries:\n\n```python\n\ntree = {\n    'label':'A', 'children':[\n        {'label':'B', 'children':[]},\n        {'label':'C', 'children': [\n            {'label':'D', 'children':[]}, \n            {'label':'E', 'children':[]}\n        ]}\n    ]\n}\n\ndef children(node):\n    return node['children']\n\n[node['label'] \n    for node in treet.traverse(tree, children, mode='inorder')]\n\n# Output --> ['B, 'A', 'D', 'C', 'E']\n\ndef as_list(node, children):\n    if not children:\n        return node['label']\n    else:\n        return children\n\ntreet.reduce(tree, children, reduce_fn=as_list)\n\n# Output --> ['B, ['D', 'E']]\n```\n\n###  Even with user-defined classes!\n\nDump a tree in a specialized class format to a string in the newick format.\n\n```python\n\nclass Tree:\n    def __init__(self, label, children=None):\n        self.label = label\n        self.children = children if children else []\n\n    def is_leaf(self):\n        return len(self.children) == 0\n\ntree = Tree('A', [\n        Tree('B'),\n        Tree('C',[Tree('D'),Tree('E')])\n    ]\n)\n\ndef get_children(node):\n    return node.children\n\ndef node_to_newick(node, children):\n    if node.is_leaf():\n        return node.label\n    else:\n        return f\"({','.join(children)})\"\n\n\ntreet.reduce(tree, get_children, node_to_newick)\n\n# Output --> '(B,(D,E))'\n```\n\n### Parse a newick-formatted tree structure\n\nAssemble the Newick string to a custom data format:\n\n```python\n\ndef parse_node_data(data_string):\n    '''\n    Example: \n      'data1=xx,data2=yy' \n        -> {'data1':'xx', 'data2': 'yy'}\n    '''\n    items = data_string.split(',')\n    key_value_pairs = (item.split('=') for item in items)\n    return dict(key_value_pairs)\n\ndef parse_branch_length(length_str):\n    return float(length_str) if length_str else 0.0\n\ndef tree_builder(label, children, branch_length, node_data):\n    return {\n        'label': label,\n        'length': branch_length,\n        'data': node_data,\n        'children': children}\n\nnewick = \"(A:0.2[dat=23,other=45], B:12.4[dat=122,other=xyz])root[x=y];\"\n\ntreet.parse_newick(\n    newick,\n    aggregator=tree_builder,\n    feature_parser=parse_node_data,\n    distance_parser=parse_branch_length\n)\n\n# Output ->\n{'label': 'root', 'length':0.0, 'data': {'x':'y'},\n 'children': [\n    {'label': 'A', 'length':0.2, 'data':{'dat':'23','other':'45'}, \n     'children': []},\n    {'label': 'B', 'length':12.4, 'data':{'dat':'122','other':'xyz'},\n     'children': []}, \n]}\n```\n\n### Compose to perform complex algorithms\n\nGet the subtree induced by a subset of the leaves:\n\n```python\n\ntree = (('A',('B',('C','D'))),'E')\n\ndef is_leaf(node): \n    return isinstance(node, str)\n\ndef get_children(node):\n    return node if not is_leaf(node) else []\n\ndef induced_subtree(leafs):\n    def induced_subtree_generator(node, children):\n        if children:\n            return tuple(ch for ch in children if not ch is None)\n        else:\n            return node if node in leafs else None\n    return induced_subtree_generator\n\nleafs = ['B', 'D', 'E']\ninduced = treet.reduce(tree, get_children, induced_subtree(leafs))\nprint(induced)\n\n# Output --> ((('B',('D',)),),'E')\n\n\ndef merge_unary_nodes(node, children):\n    if is_leaf(node):\n        return node\n\n    new_children = [\n        ch[0] if (len(ch) == 1) else ch\n        for ch in children\n    ]\n    return tuple(new_children)\n\ntreet.reduce(induced, get_children, merge_unary_nodes)\n\n# Output --> (('B','D'),'E')\n```\n\n### Use even with filesystem paths!\n\nTraverse the `/usr` directory in breadth-first order:\n\n```python\nfrom pathlib import Path\n\ndef enter_folder(path):\n    path = Path(path)\n    return list(path.iterdir()) if path.is_dir() else []\n\nfor item in treet.traverse('/usr', enter_folder, mode='breadth_first'):\n    print(item)\n\n# Output -->\n# /\n# /proc\n# /usr\n# ...\n# /usr/share\n# /usr/bin\n# /usr/sbin\n# ...\n# /usr/bin/jinfo\n# /usr/bin/m2400w\n# ...\n```\n\nMeta\n----\n\n**Author**: [Ad115](https://agargar.wordpress.com/) - \n    [Github](https://github.com/Ad115/) \u2013 a.garcia230395@gmail.com\n\nDistributed under the MIT license. See [LICENSE](https://github.com/Ad115/treet/blob/master/LICENSE) more information.\n\n\nContributing\n------------\nTo run tests: `pytest treet/* --hypothesis-show-statistics --verbose`\n\nTo run static type check: `mypy treet/*.py`\n\nTo run coverage analysis: `coverage run --source=. -m pytest treet/* --hypothesis-show-statistics --verbose`\n\n1. Check for open issues or open a fresh issue to start a discussion around a feature idea or a bug.\n2. Fork [the repository](https://github.com/Ad115/treet/) on GitHub to start making your changes to a feature branch, derived from the **master** branch.\n3. Write a test which shows that the bug was fixed or that the feature works as expected.\n4. Send a pull request and bug the maintainer until it gets merged and published.\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Ad115/python-treet", "keywords": "tree hierarchical generic newick traverse reduce", "license": "", "maintainer": "", "maintainer_email": "", "name": "treet", "package_url": "https://pypi.org/project/treet/", "platform": "", "project_url": "https://pypi.org/project/treet/", "project_urls": {"Author": "https://agargar.wordpress.com/", "Documentation": "https://github.com/Ad115/python-treet", "Homepage": "https://github.com/Ad115/python-treet", "Say Thanks!": "https://saythanks.io/to/Ad115"}, "release_url": "https://pypi.org/project/treet/1.0.5/", "requires_dist": ["pytest ; extra == 'dev'", "hypothesis ; extra == 'dev'", "coverage ; extra == 'dev'", "mypy ; extra == 'dev'"], "requires_python": "", "summary": "Simple, minimal, but powerful tools to handle any kind of hierarchical (tree) structures", "version": "1.0.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Generic tree utilities for Python</h1>\n<p>Trees are one of the most ubiquitous data structures. It is amazing how often we\nas programmers tend to reimplement the same algorithms for different tree\nformats and stuctures.</p>\n<p>This module defines generic tree-traverse and tree-reduce algorithms that can be\nused with any tree-like object such as filesystem paths, lists, nested\ndictionaries an expression tree or even specialized tree classes! The only thing\nthat must be provided is a function to get child nodes from a parent node.</p>\n<p>Also, trees are usually represented in some fields (such as bioinformatics) in\nthe newick format, which is nontrivial to parse, so this module includes a\nfunction to do this.</p>\n<h2>Usage and examples</h2>\n<p>Install from <a href=\"https://pypi.org/project/treet/\" rel=\"nofollow\">PyPi</a>:</p>\n<pre><code>pip install treet\n</code></pre>\n<p>Import the basic functions, <code>traverse</code>, <code>reduce</code> and <code>parse_newick</code>:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">treet</span>\n</pre>\n<h3>Use with any kind of structured tree!</h3>\n<p>Any kind of structured data is supported, in this case, nested dictionaries:</p>\n<pre><span class=\"n\">tree</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'label'</span><span class=\"p\">:</span><span class=\"s1\">'A'</span><span class=\"p\">,</span> <span class=\"s1\">'children'</span><span class=\"p\">:[</span>\n        <span class=\"p\">{</span><span class=\"s1\">'label'</span><span class=\"p\">:</span><span class=\"s1\">'B'</span><span class=\"p\">,</span> <span class=\"s1\">'children'</span><span class=\"p\">:[]},</span>\n        <span class=\"p\">{</span><span class=\"s1\">'label'</span><span class=\"p\">:</span><span class=\"s1\">'C'</span><span class=\"p\">,</span> <span class=\"s1\">'children'</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span><span class=\"s1\">'label'</span><span class=\"p\">:</span><span class=\"s1\">'D'</span><span class=\"p\">,</span> <span class=\"s1\">'children'</span><span class=\"p\">:[]},</span> \n            <span class=\"p\">{</span><span class=\"s1\">'label'</span><span class=\"p\">:</span><span class=\"s1\">'E'</span><span class=\"p\">,</span> <span class=\"s1\">'children'</span><span class=\"p\">:[]}</span>\n        <span class=\"p\">]}</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">children</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">node</span><span class=\"p\">[</span><span class=\"s1\">'children'</span><span class=\"p\">]</span>\n\n<span class=\"p\">[</span><span class=\"n\">node</span><span class=\"p\">[</span><span class=\"s1\">'label'</span><span class=\"p\">]</span> \n    <span class=\"k\">for</span> <span class=\"n\">node</span> <span class=\"ow\">in</span> <span class=\"n\">treet</span><span class=\"o\">.</span><span class=\"n\">traverse</span><span class=\"p\">(</span><span class=\"n\">tree</span><span class=\"p\">,</span> <span class=\"n\">children</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s1\">'inorder'</span><span class=\"p\">)]</span>\n\n<span class=\"c1\"># Output --&gt; ['B, 'A', 'D', 'C', 'E']</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">as_list</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">,</span> <span class=\"n\">children</span><span class=\"p\">):</span>\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">children</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"n\">node</span><span class=\"p\">[</span><span class=\"s1\">'label'</span><span class=\"p\">]</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"n\">children</span>\n\n<span class=\"n\">treet</span><span class=\"o\">.</span><span class=\"n\">reduce</span><span class=\"p\">(</span><span class=\"n\">tree</span><span class=\"p\">,</span> <span class=\"n\">children</span><span class=\"p\">,</span> <span class=\"n\">reduce_fn</span><span class=\"o\">=</span><span class=\"n\">as_list</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Output --&gt; ['B, ['D', 'E']]</span>\n</pre>\n<h3>Even with user-defined classes!</h3>\n<p>Dump a tree in a specialized class format to a string in the newick format.</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">Tree</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"p\">,</span> <span class=\"n\">children</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">label</span> <span class=\"o\">=</span> <span class=\"n\">label</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">children</span> <span class=\"o\">=</span> <span class=\"n\">children</span> <span class=\"k\">if</span> <span class=\"n\">children</span> <span class=\"k\">else</span> <span class=\"p\">[]</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">is_leaf</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">children</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">0</span>\n\n<span class=\"n\">tree</span> <span class=\"o\">=</span> <span class=\"n\">Tree</span><span class=\"p\">(</span><span class=\"s1\">'A'</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"n\">Tree</span><span class=\"p\">(</span><span class=\"s1\">'B'</span><span class=\"p\">),</span>\n        <span class=\"n\">Tree</span><span class=\"p\">(</span><span class=\"s1\">'C'</span><span class=\"p\">,[</span><span class=\"n\">Tree</span><span class=\"p\">(</span><span class=\"s1\">'D'</span><span class=\"p\">),</span><span class=\"n\">Tree</span><span class=\"p\">(</span><span class=\"s1\">'E'</span><span class=\"p\">)])</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">)</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">get_children</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">node</span><span class=\"o\">.</span><span class=\"n\">children</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">node_to_newick</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">,</span> <span class=\"n\">children</span><span class=\"p\">):</span>\n    <span class=\"k\">if</span> <span class=\"n\">node</span><span class=\"o\">.</span><span class=\"n\">is_leaf</span><span class=\"p\">():</span>\n        <span class=\"k\">return</span> <span class=\"n\">node</span><span class=\"o\">.</span><span class=\"n\">label</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"sa\">f</span><span class=\"s2\">\"(</span><span class=\"si\">{</span><span class=\"s1\">','</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">children</span><span class=\"p\">)</span><span class=\"si\">}</span><span class=\"s2\">)\"</span>\n\n\n<span class=\"n\">treet</span><span class=\"o\">.</span><span class=\"n\">reduce</span><span class=\"p\">(</span><span class=\"n\">tree</span><span class=\"p\">,</span> <span class=\"n\">get_children</span><span class=\"p\">,</span> <span class=\"n\">node_to_newick</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Output --&gt; '(B,(D,E))'</span>\n</pre>\n<h3>Parse a newick-formatted tree structure</h3>\n<p>Assemble the Newick string to a custom data format:</p>\n<pre><span class=\"k\">def</span> <span class=\"nf\">parse_node_data</span><span class=\"p\">(</span><span class=\"n\">data_string</span><span class=\"p\">):</span>\n    <span class=\"sd\">'''</span>\n<span class=\"sd\">    Example: </span>\n<span class=\"sd\">      'data1=xx,data2=yy' </span>\n<span class=\"sd\">        -&gt; {'data1':'xx', 'data2': 'yy'}</span>\n<span class=\"sd\">    '''</span>\n    <span class=\"n\">items</span> <span class=\"o\">=</span> <span class=\"n\">data_string</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s1\">','</span><span class=\"p\">)</span>\n    <span class=\"n\">key_value_pairs</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">item</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s1\">'='</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">item</span> <span class=\"ow\">in</span> <span class=\"n\">items</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"nb\">dict</span><span class=\"p\">(</span><span class=\"n\">key_value_pairs</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">parse_branch_length</span><span class=\"p\">(</span><span class=\"n\">length_str</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"nb\">float</span><span class=\"p\">(</span><span class=\"n\">length_str</span><span class=\"p\">)</span> <span class=\"k\">if</span> <span class=\"n\">length_str</span> <span class=\"k\">else</span> <span class=\"mf\">0.0</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">tree_builder</span><span class=\"p\">(</span><span class=\"n\">label</span><span class=\"p\">,</span> <span class=\"n\">children</span><span class=\"p\">,</span> <span class=\"n\">branch_length</span><span class=\"p\">,</span> <span class=\"n\">node_data</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'label'</span><span class=\"p\">:</span> <span class=\"n\">label</span><span class=\"p\">,</span>\n        <span class=\"s1\">'length'</span><span class=\"p\">:</span> <span class=\"n\">branch_length</span><span class=\"p\">,</span>\n        <span class=\"s1\">'data'</span><span class=\"p\">:</span> <span class=\"n\">node_data</span><span class=\"p\">,</span>\n        <span class=\"s1\">'children'</span><span class=\"p\">:</span> <span class=\"n\">children</span><span class=\"p\">}</span>\n\n<span class=\"n\">newick</span> <span class=\"o\">=</span> <span class=\"s2\">\"(A:0.2[dat=23,other=45], B:12.4[dat=122,other=xyz])root[x=y];\"</span>\n\n<span class=\"n\">treet</span><span class=\"o\">.</span><span class=\"n\">parse_newick</span><span class=\"p\">(</span>\n    <span class=\"n\">newick</span><span class=\"p\">,</span>\n    <span class=\"n\">aggregator</span><span class=\"o\">=</span><span class=\"n\">tree_builder</span><span class=\"p\">,</span>\n    <span class=\"n\">feature_parser</span><span class=\"o\">=</span><span class=\"n\">parse_node_data</span><span class=\"p\">,</span>\n    <span class=\"n\">distance_parser</span><span class=\"o\">=</span><span class=\"n\">parse_branch_length</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># Output -&gt;</span>\n<span class=\"p\">{</span><span class=\"s1\">'label'</span><span class=\"p\">:</span> <span class=\"s1\">'root'</span><span class=\"p\">,</span> <span class=\"s1\">'length'</span><span class=\"p\">:</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"s1\">'data'</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s1\">'x'</span><span class=\"p\">:</span><span class=\"s1\">'y'</span><span class=\"p\">},</span>\n <span class=\"s1\">'children'</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span><span class=\"s1\">'label'</span><span class=\"p\">:</span> <span class=\"s1\">'A'</span><span class=\"p\">,</span> <span class=\"s1\">'length'</span><span class=\"p\">:</span><span class=\"mf\">0.2</span><span class=\"p\">,</span> <span class=\"s1\">'data'</span><span class=\"p\">:{</span><span class=\"s1\">'dat'</span><span class=\"p\">:</span><span class=\"s1\">'23'</span><span class=\"p\">,</span><span class=\"s1\">'other'</span><span class=\"p\">:</span><span class=\"s1\">'45'</span><span class=\"p\">},</span> \n     <span class=\"s1\">'children'</span><span class=\"p\">:</span> <span class=\"p\">[]},</span>\n    <span class=\"p\">{</span><span class=\"s1\">'label'</span><span class=\"p\">:</span> <span class=\"s1\">'B'</span><span class=\"p\">,</span> <span class=\"s1\">'length'</span><span class=\"p\">:</span><span class=\"mf\">12.4</span><span class=\"p\">,</span> <span class=\"s1\">'data'</span><span class=\"p\">:{</span><span class=\"s1\">'dat'</span><span class=\"p\">:</span><span class=\"s1\">'122'</span><span class=\"p\">,</span><span class=\"s1\">'other'</span><span class=\"p\">:</span><span class=\"s1\">'xyz'</span><span class=\"p\">},</span>\n     <span class=\"s1\">'children'</span><span class=\"p\">:</span> <span class=\"p\">[]},</span> \n<span class=\"p\">]}</span>\n</pre>\n<h3>Compose to perform complex algorithms</h3>\n<p>Get the subtree induced by a subset of the leaves:</p>\n<pre><span class=\"n\">tree</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"s1\">'A'</span><span class=\"p\">,(</span><span class=\"s1\">'B'</span><span class=\"p\">,(</span><span class=\"s1\">'C'</span><span class=\"p\">,</span><span class=\"s1\">'D'</span><span class=\"p\">))),</span><span class=\"s1\">'E'</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">is_leaf</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span> \n    <span class=\"k\">return</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">get_children</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">node</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">is_leaf</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">)</span> <span class=\"k\">else</span> <span class=\"p\">[]</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">induced_subtree</span><span class=\"p\">(</span><span class=\"n\">leafs</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">induced_subtree_generator</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">,</span> <span class=\"n\">children</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">children</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"nb\">tuple</span><span class=\"p\">(</span><span class=\"n\">ch</span> <span class=\"k\">for</span> <span class=\"n\">ch</span> <span class=\"ow\">in</span> <span class=\"n\">children</span> <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">ch</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"n\">node</span> <span class=\"k\">if</span> <span class=\"n\">node</span> <span class=\"ow\">in</span> <span class=\"n\">leafs</span> <span class=\"k\">else</span> <span class=\"kc\">None</span>\n    <span class=\"k\">return</span> <span class=\"n\">induced_subtree_generator</span>\n\n<span class=\"n\">leafs</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'B'</span><span class=\"p\">,</span> <span class=\"s1\">'D'</span><span class=\"p\">,</span> <span class=\"s1\">'E'</span><span class=\"p\">]</span>\n<span class=\"n\">induced</span> <span class=\"o\">=</span> <span class=\"n\">treet</span><span class=\"o\">.</span><span class=\"n\">reduce</span><span class=\"p\">(</span><span class=\"n\">tree</span><span class=\"p\">,</span> <span class=\"n\">get_children</span><span class=\"p\">,</span> <span class=\"n\">induced_subtree</span><span class=\"p\">(</span><span class=\"n\">leafs</span><span class=\"p\">))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">induced</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Output --&gt; ((('B',('D',)),),'E')</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">merge_unary_nodes</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">,</span> <span class=\"n\">children</span><span class=\"p\">):</span>\n    <span class=\"k\">if</span> <span class=\"n\">is_leaf</span><span class=\"p\">(</span><span class=\"n\">node</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">node</span>\n\n    <span class=\"n\">new_children</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"n\">ch</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">ch</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">else</span> <span class=\"n\">ch</span>\n        <span class=\"k\">for</span> <span class=\"n\">ch</span> <span class=\"ow\">in</span> <span class=\"n\">children</span>\n    <span class=\"p\">]</span>\n    <span class=\"k\">return</span> <span class=\"nb\">tuple</span><span class=\"p\">(</span><span class=\"n\">new_children</span><span class=\"p\">)</span>\n\n<span class=\"n\">treet</span><span class=\"o\">.</span><span class=\"n\">reduce</span><span class=\"p\">(</span><span class=\"n\">induced</span><span class=\"p\">,</span> <span class=\"n\">get_children</span><span class=\"p\">,</span> <span class=\"n\">merge_unary_nodes</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Output --&gt; (('B','D'),'E')</span>\n</pre>\n<h3>Use even with filesystem paths!</h3>\n<p>Traverse the <code>/usr</code> directory in breadth-first order:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pathlib</span> <span class=\"kn\">import</span> <span class=\"n\">Path</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">enter_folder</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">):</span>\n    <span class=\"n\">path</span> <span class=\"o\">=</span> <span class=\"n\">Path</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">iterdir</span><span class=\"p\">())</span> <span class=\"k\">if</span> <span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">is_dir</span><span class=\"p\">()</span> <span class=\"k\">else</span> <span class=\"p\">[]</span>\n\n<span class=\"k\">for</span> <span class=\"n\">item</span> <span class=\"ow\">in</span> <span class=\"n\">treet</span><span class=\"o\">.</span><span class=\"n\">traverse</span><span class=\"p\">(</span><span class=\"s1\">'/usr'</span><span class=\"p\">,</span> <span class=\"n\">enter_folder</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s1\">'breadth_first'</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">item</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Output --&gt;</span>\n<span class=\"c1\"># /</span>\n<span class=\"c1\"># /proc</span>\n<span class=\"c1\"># /usr</span>\n<span class=\"c1\"># ...</span>\n<span class=\"c1\"># /usr/share</span>\n<span class=\"c1\"># /usr/bin</span>\n<span class=\"c1\"># /usr/sbin</span>\n<span class=\"c1\"># ...</span>\n<span class=\"c1\"># /usr/bin/jinfo</span>\n<span class=\"c1\"># /usr/bin/m2400w</span>\n<span class=\"c1\"># ...</span>\n</pre>\n<h2>Meta</h2>\n<p><strong>Author</strong>: <a href=\"https://agargar.wordpress.com/\" rel=\"nofollow\">Ad115</a> -\n<a href=\"https://github.com/Ad115/\" rel=\"nofollow\">Github</a> \u2013 <a href=\"mailto:a.garcia230395@gmail.com\">a.garcia230395@gmail.com</a></p>\n<p>Distributed under the MIT license. See <a href=\"https://github.com/Ad115/treet/blob/master/LICENSE\" rel=\"nofollow\">LICENSE</a> more information.</p>\n<h2>Contributing</h2>\n<p>To run tests: <code>pytest treet/* --hypothesis-show-statistics --verbose</code></p>\n<p>To run static type check: <code>mypy treet/*.py</code></p>\n<p>To run coverage analysis: <code>coverage run --source=. -m pytest treet/* --hypothesis-show-statistics --verbose</code></p>\n<ol>\n<li>Check for open issues or open a fresh issue to start a discussion around a feature idea or a bug.</li>\n<li>Fork <a href=\"https://github.com/Ad115/treet/\" rel=\"nofollow\">the repository</a> on GitHub to start making your changes to a feature branch, derived from the <strong>master</strong> branch.</li>\n<li>Write a test which shows that the bug was fixed or that the feature works as expected.</li>\n<li>Send a pull request and bug the maintainer until it gets merged and published.</li>\n</ol>\n\n          </div>"}, "last_serial": 5982447, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "4e22db68b77dc77582f97762ee63042f", "sha256": "89914ae1e5831a5be8d974795b48663191bd162e8f6576fbeec7b41e1da9e80f"}, "downloads": -1, "filename": "treet-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "4e22db68b77dc77582f97762ee63042f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 14958, "upload_time": "2019-10-16T09:21:32", "upload_time_iso_8601": "2019-10-16T09:21:32.156457Z", "url": "https://files.pythonhosted.org/packages/73/8e/5e04c7ba48f8aa2409198e33ddc17bdd4fbb0c65175171a3e34acffe1fa2/treet-1.0.0-py3-none-any.whl", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "e26fca274f65e1b24e6f7471aece8235", "sha256": "6ea58200a6e3fc69438cc15ad01b4c147d780c5e9fda94c762b5312ace5e7f50"}, "downloads": -1, "filename": "treet-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "e26fca274f65e1b24e6f7471aece8235", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 15049, "upload_time": "2019-10-16T09:36:55", "upload_time_iso_8601": "2019-10-16T09:36:55.251880Z", "url": "https://files.pythonhosted.org/packages/5c/0c/2004dd5d925093d5ddaff36b6e62caf46cf8d73757d1a35de8d942da3cae/treet-1.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6d702c469d03a38cbae868d5a2c6d893", "sha256": "0d1c51d8924eb09387c6ae32db2251ecc245b057e4d4221e852ec82f80132d44"}, "downloads": -1, "filename": "treet-1.0.1.tar.gz", "has_sig": false, "md5_digest": "6d702c469d03a38cbae868d5a2c6d893", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14096, "upload_time": "2019-10-16T09:36:56", "upload_time_iso_8601": "2019-10-16T09:36:56.977043Z", "url": "https://files.pythonhosted.org/packages/b0/fc/6edf33ef2cb36e3ae559ca1a694440a7472bc8e736d699b06ab624a990c5/treet-1.0.1.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "8953d8ebaa9208ba338203cd44514869", "sha256": "8c7ec97782165204c14fced6eaadeec0c9d80df05b19765ece8871af75fe16f2"}, "downloads": -1, "filename": "treet-1.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "8953d8ebaa9208ba338203cd44514869", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 15053, "upload_time": "2019-10-16T09:37:56", "upload_time_iso_8601": "2019-10-16T09:37:56.814662Z", "url": "https://files.pythonhosted.org/packages/5c/1d/8a6ac7105f4538ec01aecd77674b3277093245dc2c51ccaa5525fb512745/treet-1.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f0031f258a3db6a237f9a61600878bd5", "sha256": "f1f9ce3406f9ab9e3a5d77e31ca0c64cd4bdac8584517d58c77ec8d3d6d06d89"}, "downloads": -1, "filename": "treet-1.0.2.tar.gz", "has_sig": false, "md5_digest": "f0031f258a3db6a237f9a61600878bd5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14083, "upload_time": "2019-10-16T09:37:59", "upload_time_iso_8601": "2019-10-16T09:37:59.080113Z", "url": "https://files.pythonhosted.org/packages/b1/55/3e7b18a734b0a229fb5c652675b30b590abadf0553d393ed11bfef99d87a/treet-1.0.2.tar.gz", "yanked": false}], "1.0.3": [{"comment_text": "", "digests": {"md5": "0d072a38c55c2b283e5c8ca97d077eae", "sha256": "eb2f1a0c6ba2dff54190860a8f9ea70e3994216546ed0d90322673899513cc35"}, "downloads": -1, "filename": "treet-1.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "0d072a38c55c2b283e5c8ca97d077eae", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 15012, "upload_time": "2019-10-16T09:53:06", "upload_time_iso_8601": "2019-10-16T09:53:06.688401Z", "url": "https://files.pythonhosted.org/packages/73/53/7ad48270a08042686487f9abd3588ce4265677b61629cadcd0e93542371b/treet-1.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "be14a3dfa41268620dadc3e40011bffa", "sha256": "3f1108ee3ec88e6a0bc1cc4bf2ddda36fb7e2506908af81b745abd95afbbf0c2"}, "downloads": -1, "filename": "treet-1.0.3.tar.gz", "has_sig": false, "md5_digest": "be14a3dfa41268620dadc3e40011bffa", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14220, "upload_time": "2019-10-16T09:53:08", "upload_time_iso_8601": "2019-10-16T09:53:08.930784Z", "url": "https://files.pythonhosted.org/packages/f0/5f/ce9356939e28b4974b77a15413201d3f57fc6de78ffa7b725c1045d90d96/treet-1.0.3.tar.gz", "yanked": false}], "1.0.4": [{"comment_text": "", "digests": {"md5": "b63e57cd8c10a8f007393d5379035ade", "sha256": "07007315f0b619a6fffaffd2912476e1c2711d107fae474466196a71f14f2ae0"}, "downloads": -1, "filename": "treet-1.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "b63e57cd8c10a8f007393d5379035ade", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 15438, "upload_time": "2019-10-16T10:24:59", "upload_time_iso_8601": "2019-10-16T10:24:59.804847Z", "url": "https://files.pythonhosted.org/packages/51/9e/5b4351f6628916a64dc1093a6ba0dbaac5e560d454287fb9d436737dc5fb/treet-1.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "05037d9d82e2f5ff41c16a1c916edd2e", "sha256": "c17fa8833c044c72795c0f34d2c7609515d83592a6757a0d2dd35ba9338c37b0"}, "downloads": -1, "filename": "treet-1.0.4.tar.gz", "has_sig": false, "md5_digest": "05037d9d82e2f5ff41c16a1c916edd2e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15018, "upload_time": "2019-10-16T10:25:02", "upload_time_iso_8601": "2019-10-16T10:25:02.499513Z", "url": "https://files.pythonhosted.org/packages/86/43/f5b084e4a6c70dd9ecff359cd16eeab55f1a1a0228cbc7e4d8e6b1f5b512/treet-1.0.4.tar.gz", "yanked": false}], "1.0.5": [{"comment_text": "", "digests": {"md5": "92498ac2fd87bf6557b3461113a61554", "sha256": "f6e9d7f0ae92b2b502dea1dcf400206d58c55b42e4370c382283a9bd2a95366f"}, "downloads": -1, "filename": "treet-1.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "92498ac2fd87bf6557b3461113a61554", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 15438, "upload_time": "2019-10-16T10:28:45", "upload_time_iso_8601": "2019-10-16T10:28:45.005940Z", "url": "https://files.pythonhosted.org/packages/1a/04/3f01f958ee13e64a86b9cea611f02bca6584c59bf05e04e5ad3c9db98cc0/treet-1.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9ccb185cfec6f659bc9b10c0d3abf38e", "sha256": "11f72f8b66120ab57317b138f587a296d41338a50178cf6469ffb701a4a29877"}, "downloads": -1, "filename": "treet-1.0.5.tar.gz", "has_sig": false, "md5_digest": "9ccb185cfec6f659bc9b10c0d3abf38e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15023, "upload_time": "2019-10-16T10:28:47", "upload_time_iso_8601": "2019-10-16T10:28:47.161763Z", "url": "https://files.pythonhosted.org/packages/59/e8/84cb731c2c0a736de73dc98d8a22cb90afaa6535f0ece54ec4cf348c0880/treet-1.0.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "92498ac2fd87bf6557b3461113a61554", "sha256": "f6e9d7f0ae92b2b502dea1dcf400206d58c55b42e4370c382283a9bd2a95366f"}, "downloads": -1, "filename": "treet-1.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "92498ac2fd87bf6557b3461113a61554", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 15438, "upload_time": "2019-10-16T10:28:45", "upload_time_iso_8601": "2019-10-16T10:28:45.005940Z", "url": "https://files.pythonhosted.org/packages/1a/04/3f01f958ee13e64a86b9cea611f02bca6584c59bf05e04e5ad3c9db98cc0/treet-1.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9ccb185cfec6f659bc9b10c0d3abf38e", "sha256": "11f72f8b66120ab57317b138f587a296d41338a50178cf6469ffb701a4a29877"}, "downloads": -1, "filename": "treet-1.0.5.tar.gz", "has_sig": false, "md5_digest": "9ccb185cfec6f659bc9b10c0d3abf38e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15023, "upload_time": "2019-10-16T10:28:47", "upload_time_iso_8601": "2019-10-16T10:28:47.161763Z", "url": "https://files.pythonhosted.org/packages/59/e8/84cb731c2c0a736de73dc98d8a22cb90afaa6535f0ece54ec4cf348c0880/treet-1.0.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:47:32 2020"}
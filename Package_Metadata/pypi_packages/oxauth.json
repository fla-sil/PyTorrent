{"info": {"author": "JP Slavinsky", "author_email": "jps@rice.edu", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# auth-python\n\n[![Build Status](https://travis-ci.org/openstax/auth-python.svg?branch=master)](https://travis-ci.org/openstax/auth-python)\n\nA [Python package](https://pypi.org/project/oxauth) with strategies for reading OpenStax authentication cookies.\n\n## Usage\n\n`pip install oxauth`\n\n```python\nfrom oxauth import Strategy2\n\nstrategy = Strategy2(\n    signature_public_key=\"-----BEGIN PUBLIC KEY-----\\n...\\n-----END PUBLIC KEY-----\"\n    signature_algorithm=\"RS256\",\n    encryption_private_key=\"encryption_private_key_here\",\n    encryption_algorithm=\"A256GCM\",\n    encryption_method=\"dir\"\n)\n\npayload = strategy.decrypt(cookie) # cookie is the body of the auth cookie\n\npayload.user_uuid # this is the user's UUID\n```\n\nNote that the part that is hidden above is the signature private key, without which\nothers cannot forge a cookie value.\n\nIf the cookie is bad or the keys don't work on it, the `payload` will have value `None`.\n\n## Development\n\nAll development is done inside a docker container.  From your host running Docker, in this directory run:\n\n```\n$> docker-compose up -d\n%> ./docker/bash\n```\n\nThis will drop you into the running container\n\n## Run tests\n\nFrom within the container, you can run tests with:\n\n```\n$ /code> python -m pytest\n```\n\nFor debugging, you can use `ipdb`, e.g.\n\n```\nimport ipdb; ipdb.set_trace()\n```\n\nWhen running tests with the debugger make sure to use the `-s` option to prevent pytest from capturing output.\n\n`$> python -m pytest -s tests -k 'test_decrypts'`\n\nNote that `pytest` is also on the `PATH` so you can call it directly.\n\n## Distributing\n\nFrom within the container, build the distributions:\n\n```\n$> python setup.py sdist bdist_wheel\n```\n\nTo upload:\n\n```\n$> python -m twine upload dist/*\n```\n\n## Note on names\n\nWe started naming the package `openstax_auth` but there seems to be weirdness in how different parts of the Python tooling replace underscores with hyphens.  We want the package name to be simple and not confusing on `import` so we shortened to `oxauth`.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/openstax/auth-python", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "oxauth", "package_url": "https://pypi.org/project/oxauth/", "platform": "", "project_url": "https://pypi.org/project/oxauth/", "project_urls": {"Homepage": "https://github.com/openstax/auth-python"}, "release_url": "https://pypi.org/project/oxauth/0.0.2/", "requires_dist": ["PyJWT", "PyJWE"], "requires_python": ">=3.6", "summary": "OpenStax authentication strategies", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>auth-python</h1>\n<p><a href=\"https://travis-ci.org/openstax/auth-python\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/df783b0642199f37016a1262540121833f090f5f/68747470733a2f2f7472617669732d63692e6f72672f6f70656e737461782f617574682d707974686f6e2e7376673f6272616e63683d6d6173746572\"></a></p>\n<p>A <a href=\"https://pypi.org/project/oxauth\" rel=\"nofollow\">Python package</a> with strategies for reading OpenStax authentication cookies.</p>\n<h2>Usage</h2>\n<p><code>pip install oxauth</code></p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">oxauth</span> <span class=\"kn\">import</span> <span class=\"n\">Strategy2</span>\n\n<span class=\"n\">strategy</span> <span class=\"o\">=</span> <span class=\"n\">Strategy2</span><span class=\"p\">(</span>\n    <span class=\"n\">signature_public_key</span><span class=\"o\">=</span><span class=\"s2\">\"-----BEGIN PUBLIC KEY-----</span><span class=\"se\">\\n</span><span class=\"s2\">...</span><span class=\"se\">\\n</span><span class=\"s2\">-----END PUBLIC KEY-----\"</span>\n    <span class=\"n\">signature_algorithm</span><span class=\"o\">=</span><span class=\"s2\">\"RS256\"</span><span class=\"p\">,</span>\n    <span class=\"n\">encryption_private_key</span><span class=\"o\">=</span><span class=\"s2\">\"encryption_private_key_here\"</span><span class=\"p\">,</span>\n    <span class=\"n\">encryption_algorithm</span><span class=\"o\">=</span><span class=\"s2\">\"A256GCM\"</span><span class=\"p\">,</span>\n    <span class=\"n\">encryption_method</span><span class=\"o\">=</span><span class=\"s2\">\"dir\"</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">payload</span> <span class=\"o\">=</span> <span class=\"n\">strategy</span><span class=\"o\">.</span><span class=\"n\">decrypt</span><span class=\"p\">(</span><span class=\"n\">cookie</span><span class=\"p\">)</span> <span class=\"c1\"># cookie is the body of the auth cookie</span>\n\n<span class=\"n\">payload</span><span class=\"o\">.</span><span class=\"n\">user_uuid</span> <span class=\"c1\"># this is the user's UUID</span>\n</pre>\n<p>Note that the part that is hidden above is the signature private key, without which\nothers cannot forge a cookie value.</p>\n<p>If the cookie is bad or the keys don't work on it, the <code>payload</code> will have value <code>None</code>.</p>\n<h2>Development</h2>\n<p>All development is done inside a docker container.  From your host running Docker, in this directory run:</p>\n<pre><code>$&gt; docker-compose up -d\n%&gt; ./docker/bash\n</code></pre>\n<p>This will drop you into the running container</p>\n<h2>Run tests</h2>\n<p>From within the container, you can run tests with:</p>\n<pre><code>$ /code&gt; python -m pytest\n</code></pre>\n<p>For debugging, you can use <code>ipdb</code>, e.g.</p>\n<pre><code>import ipdb; ipdb.set_trace()\n</code></pre>\n<p>When running tests with the debugger make sure to use the <code>-s</code> option to prevent pytest from capturing output.</p>\n<p><code>$&gt; python -m pytest -s tests -k 'test_decrypts'</code></p>\n<p>Note that <code>pytest</code> is also on the <code>PATH</code> so you can call it directly.</p>\n<h2>Distributing</h2>\n<p>From within the container, build the distributions:</p>\n<pre><code>$&gt; python setup.py sdist bdist_wheel\n</code></pre>\n<p>To upload:</p>\n<pre><code>$&gt; python -m twine upload dist/*\n</code></pre>\n<h2>Note on names</h2>\n<p>We started naming the package <code>openstax_auth</code> but there seems to be weirdness in how different parts of the Python tooling replace underscores with hyphens.  We want the package name to be simple and not confusing on <code>import</code> so we shortened to <code>oxauth</code>.</p>\n\n          </div>"}, "last_serial": 6726681, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "337886f11cf543b404eca7531ea048d1", "sha256": "2b6b77104e9056f31fc86406dbf1d813c78812b96bb67527a11091e0dcda21ff"}, "downloads": -1, "filename": "oxauth-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "337886f11cf543b404eca7531ea048d1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 3952, "upload_time": "2020-03-01T01:17:56", "upload_time_iso_8601": "2020-03-01T01:17:56.862909Z", "url": "https://files.pythonhosted.org/packages/1a/f3/d6456b4317227bb5ae55d866ad76866b443a3de48e406a416f8768171316/oxauth-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e2b60bb94a582f40a9f2aa82968befa6", "sha256": "8b855792a8d43aa8828e293aab4759e75734e0de44e6c8e108ba5e9e2cf6c00b"}, "downloads": -1, "filename": "oxauth-0.0.1.tar.gz", "has_sig": false, "md5_digest": "e2b60bb94a582f40a9f2aa82968befa6", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 2819, "upload_time": "2020-03-01T01:17:59", "upload_time_iso_8601": "2020-03-01T01:17:59.060846Z", "url": "https://files.pythonhosted.org/packages/11/90/07d838a4fc7f1191fce1222564897c57815484c8503555f43341561f7f3f/oxauth-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "ac52f2f7b80eaf87f2e58974c703664f", "sha256": "eee23bc761f70d17fd7dffdb48334252e1ceca29dbda928b2151ae574016adaa"}, "downloads": -1, "filename": "oxauth-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "ac52f2f7b80eaf87f2e58974c703664f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 3989, "upload_time": "2020-03-01T01:26:14", "upload_time_iso_8601": "2020-03-01T01:26:14.123980Z", "url": "https://files.pythonhosted.org/packages/04/01/a170abe02f3dac54fb551cce85c246bd890cedd24d259429c0047c14661b/oxauth-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8fa33d36e948f534b1d45e3b14e32260", "sha256": "1729026c22257c2ff0d0b3d7f261b9ccb9e88273986e8a76c45a8b971649fcd3"}, "downloads": -1, "filename": "oxauth-0.0.2.tar.gz", "has_sig": false, "md5_digest": "8fa33d36e948f534b1d45e3b14e32260", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 2865, "upload_time": "2020-03-01T01:26:16", "upload_time_iso_8601": "2020-03-01T01:26:16.513270Z", "url": "https://files.pythonhosted.org/packages/3b/4d/7726c4b28bba9528a10a0b483c28695879dc84d8fcf2a81efb347dc424ad/oxauth-0.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ac52f2f7b80eaf87f2e58974c703664f", "sha256": "eee23bc761f70d17fd7dffdb48334252e1ceca29dbda928b2151ae574016adaa"}, "downloads": -1, "filename": "oxauth-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "ac52f2f7b80eaf87f2e58974c703664f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 3989, "upload_time": "2020-03-01T01:26:14", "upload_time_iso_8601": "2020-03-01T01:26:14.123980Z", "url": "https://files.pythonhosted.org/packages/04/01/a170abe02f3dac54fb551cce85c246bd890cedd24d259429c0047c14661b/oxauth-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8fa33d36e948f534b1d45e3b14e32260", "sha256": "1729026c22257c2ff0d0b3d7f261b9ccb9e88273986e8a76c45a8b971649fcd3"}, "downloads": -1, "filename": "oxauth-0.0.2.tar.gz", "has_sig": false, "md5_digest": "8fa33d36e948f534b1d45e3b14e32260", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 2865, "upload_time": "2020-03-01T01:26:16", "upload_time_iso_8601": "2020-03-01T01:26:16.513270Z", "url": "https://files.pythonhosted.org/packages/3b/4d/7726c4b28bba9528a10a0b483c28695879dc84d8fcf2a81efb347dc424ad/oxauth-0.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:00:28 2020"}
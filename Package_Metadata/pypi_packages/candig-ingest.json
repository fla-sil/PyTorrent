{"info": {"author": "CanDIG team", "author_email": "info@distributedgenomics.ca", "bugtrack_url": null, "classifiers": ["Natural Language :: English", "Programming Language :: Python :: 3.6", "Topic :: Scientific/Engineering :: Bio-Informatics"], "description": "==============\nCanDIG-ingest\n==============\n\nRoutines for ingesting metadata into a CanDIG 1.0 server\nRequires [candig-server](https://github.com/candig/candig-server),\n[docopt](http://docopt.readthedocs.io/en/latest/)\nand [pandas](https://github.com/pandas-dev/pandas).\n\n* Free software: GNU General Public License v3\n\n\nYou can run the ingestion and test a server with the resulting repo as follows \n(requires Python 2.7 for candig-server<1.0.0, or Python 3.6 for candig-server>=1.0.0, note that Python 3.7 is not currently supported.)\n\n.. code:: bash\n\n    # Install\n    virtualenv test_server # If you are running Python 2\n    python3 -m venv test_server # If you are running Python 3.6\n\n    cd test_server\n    source bin/activate\n    pip install --upgrade pip setuptools\n    pip install candig-server # Specify anything <1.0.0 for Python 2.7, or >=1.0.0 for Python 3.6.\n    pip install candig-ingest\n\n    # ingest data and make the repo\n    mkdir candig-example-data\n    ingest candig-example-data/registry.db <path to example data, like: mock_data/clinical_metadata_tier1.json>\n\n    # optional\n    # add peer site addresses\n    candig_repo add-peer candig-example-data/registry.db <peer site IP address, like: http://127.0.0.1:8001>\n\n    # optional\n    # create dataset for reads and variants\n    candig_repo add-dataset --description \"Reads and variants dataset\" candig-example-data/registry.db read_and_variats_dataset\n\n    # optinal\n    # add reference set, data source: https://www.ncbi.nlm.nih.gov/grc/human/ or http://genome.wustl.edu/pub/reference/\n    candig_repo add-referenceset candig-example-data/registry.db <path to downloaded reference set, like GRCh37-lite.fa> -d \"GRCh37-lite human reference genome\" --name GRCh37-lite --sourceUri \"http://genome.wustl.edu/pub/reference/GRCh37-lite/GRCh37-lite.fa.gz\"\n\n    # optional\n    # add reads\n    candig_repo add-readgroupset -r -I <path to bam index file> -R GRCh37-lite candig-example-data/registry.db read_and_variats_dataset <path to bam file>\n\n    # optional\n    # add variants\n    candig_repo add-variantset -I <path to variants index file> -R GRCh37-lite candig-example-data/registry.db read_and_variats_dataset <path to vcf file>\n\n    # optional\n    # add sequence ontology set\n    # wget https://raw.githubusercontent.com/The-Sequence-Ontology/SO-Ontologies/master/so.obo\n    candig_repo add-ontology candig-example-data/registry.db <path to sequence ontology set, like: so.obo> -n so-xp\n\n    # optional\n    # add features/annotations\n    #\n    ## get the following scripts\n    # https://github.com/ga4gh/ga4gh-server/blob/master/scripts/glue.py\n    # https://github.com/ga4gh/ga4gh-server/blob/master/scripts/generate_gff3_db.py\n    #\n    ## download the relevant annotation release from Gencode\n    # https://www.gencodegenes.org/releases/current.html\n    #\n    ## decompress\n    # gunzip gencode.v27.annotation.gff3.gz\n    #\n    ## build the annotation database\n    # python generate_gff3_db.py -i gencode.v27.annotation.gff3 -o gencode.v27.annotation.db -v    \n    #\n    # build index for your annotation database\n    # Run \"CREATE INDEX name_type_index ON FEATURE (gene_name, type)\" in Sqlite browser\n    #\n    # add featureset\n    candig_repo add-featureset candig-example-data/registry.db read_and_variats_dataset <path to the annotation.db> -R GRCh37-lite -O so-xp\n\n    # optional\n    # add phenotype association set from Monarch Initiative\n    # wget http://nif-crawler.neuinfo.org/monarch/ttl/cgd.ttl\n    candig_repo add-phenotypeassociationset candig-example-data/registry.db read_and_variats_dataset <path to the folder containing cdg.ttl>\n\n    # optional\n    # add disease ontology set, like: NCIT\n    # wget http://purl.obolibrary.org/obo/ncit.obo\n    candig_repo add-ontology -n NCIT candig-example-data/registry.db ncit.obo\n\n    # launch the server at different IP and/or port:\n    candig_server --host 127.0.0.1 --port 8000 -c NoAuth\n\n\n    http://127.0.0.1:8000/\n\n\nand then, from another terminal:\n\n.. code:: bash\n\n    curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' \\\n        http://127.0.0.1:8000/datasets/search \\\n        | jq '.'\n\ngiving:\n\n.. code:: JSON\n\n    {\n      \"datasets\": [\n        {\n          \"description\": \"PROFYLE test metadata\",\n          \"id\": \"WyJQUk9GWUxFIl0\",\n          \"name\": \"PROFYLE\"\n        }\n      ]\n    }\n\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/CanDIG/candig-ingest.git", "keywords": "candig-ingest", "license": "GNU General Public License v3", "maintainer": "", "maintainer_email": "", "name": "candig-ingest", "package_url": "https://pypi.org/project/candig-ingest/", "platform": "", "project_url": "https://pypi.org/project/candig-ingest/", "project_urls": {"Homepage": "https://github.com/CanDIG/candig-ingest.git"}, "release_url": "https://pypi.org/project/candig-ingest/1.3.1/", "requires_dist": ["docopt", "candig-server", "pandas"], "requires_python": "", "summary": "Routines for ingesting metadata to a CanDIG repository", "version": "1.3.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Routines for ingesting metadata into a CanDIG 1.0 server\nRequires [candig-server](<a href=\"https://github.com/candig/candig-server\" rel=\"nofollow\">https://github.com/candig/candig-server</a>),\n[docopt](<a href=\"http://docopt.readthedocs.io/en/latest/\" rel=\"nofollow\">http://docopt.readthedocs.io/en/latest/</a>)\nand [pandas](<a href=\"https://github.com/pandas-dev/pandas\" rel=\"nofollow\">https://github.com/pandas-dev/pandas</a>).</p>\n<ul>\n<li>Free software: GNU General Public License v3</li>\n</ul>\n<p>You can run the ingestion and test a server with the resulting repo as follows\n(requires Python 2.7 for candig-server&lt;1.0.0, or Python 3.6 for candig-server&gt;=1.0.0, note that Python 3.7 is not currently supported.)</p>\n<pre><span class=\"c1\"># Install\n</span>virtualenv test_server <span class=\"c1\"># If you are running Python 2\n</span>python3 -m venv test_server <span class=\"c1\"># If you are running Python 3.6\n</span>\n<span class=\"nb\">cd</span> test_server\n<span class=\"nb\">source</span> bin/activate\npip install --upgrade pip setuptools\npip install candig-server <span class=\"c1\"># Specify anything &lt;1.0.0 for Python 2.7, or &gt;=1.0.0 for Python 3.6.\n</span>pip install candig-ingest\n\n<span class=\"c1\"># ingest data and make the repo\n</span>mkdir candig-example-data\ningest candig-example-data/registry.db &lt;path to example data, like: mock_data/clinical_metadata_tier1.json&gt;\n\n<span class=\"c1\"># optional\n# add peer site addresses\n</span>candig_repo add-peer candig-example-data/registry.db &lt;peer site IP address, like: http://127.0.0.1:8001&gt;\n\n<span class=\"c1\"># optional\n# create dataset for reads and variants\n</span>candig_repo add-dataset --description <span class=\"s2\">\"Reads and variants dataset\"</span> candig-example-data/registry.db read_and_variats_dataset\n\n<span class=\"c1\"># optinal\n# add reference set, data source: https://www.ncbi.nlm.nih.gov/grc/human/ or http://genome.wustl.edu/pub/reference/\n</span>candig_repo add-referenceset candig-example-data/registry.db &lt;path to downloaded reference set, like GRCh37-lite.fa&gt; -d <span class=\"s2\">\"GRCh37-lite human reference genome\"</span> --name GRCh37-lite --sourceUri <span class=\"s2\">\"http://genome.wustl.edu/pub/reference/GRCh37-lite/GRCh37-lite.fa.gz\"</span>\n\n<span class=\"c1\"># optional\n# add reads\n</span>candig_repo add-readgroupset -r -I &lt;path to bam index file&gt; -R GRCh37-lite candig-example-data/registry.db read_and_variats_dataset &lt;path to bam file&gt;\n\n<span class=\"c1\"># optional\n# add variants\n</span>candig_repo add-variantset -I &lt;path to variants index file&gt; -R GRCh37-lite candig-example-data/registry.db read_and_variats_dataset &lt;path to vcf file&gt;\n\n<span class=\"c1\"># optional\n# add sequence ontology set\n# wget https://raw.githubusercontent.com/The-Sequence-Ontology/SO-Ontologies/master/so.obo\n</span>candig_repo add-ontology candig-example-data/registry.db &lt;path to sequence ontology set, like: so.obo&gt; -n so-xp\n\n<span class=\"c1\"># optional\n# add features/annotations\n#\n## get the following scripts\n# https://github.com/ga4gh/ga4gh-server/blob/master/scripts/glue.py\n# https://github.com/ga4gh/ga4gh-server/blob/master/scripts/generate_gff3_db.py\n#\n## download the relevant annotation release from Gencode\n# https://www.gencodegenes.org/releases/current.html\n#\n## decompress\n# gunzip gencode.v27.annotation.gff3.gz\n#\n## build the annotation database\n# python generate_gff3_db.py -i gencode.v27.annotation.gff3 -o gencode.v27.annotation.db -v\n#\n# build index for your annotation database\n# Run \"CREATE INDEX name_type_index ON FEATURE (gene_name, type)\" in Sqlite browser\n#\n# add featureset\n</span>candig_repo add-featureset candig-example-data/registry.db read_and_variats_dataset &lt;path to the annotation.db&gt; -R GRCh37-lite -O so-xp\n\n<span class=\"c1\"># optional\n# add phenotype association set from Monarch Initiative\n# wget http://nif-crawler.neuinfo.org/monarch/ttl/cgd.ttl\n</span>candig_repo add-phenotypeassociationset candig-example-data/registry.db read_and_variats_dataset &lt;path to the folder containing cdg.ttl&gt;\n\n<span class=\"c1\"># optional\n# add disease ontology set, like: NCIT\n# wget http://purl.obolibrary.org/obo/ncit.obo\n</span>candig_repo add-ontology -n NCIT candig-example-data/registry.db ncit.obo\n\n<span class=\"c1\"># launch the server at different IP and/or port:\n</span>candig_server --host <span class=\"m\">127</span>.0.0.1 --port <span class=\"m\">8000</span> -c NoAuth\n\n\nhttp://127.0.0.1:8000/\n</pre>\n<p>and then, from another terminal:</p>\n<pre>curl -X POST --header <span class=\"s1\">'Content-Type: application/json'</span> --header <span class=\"s1\">'Accept: application/json'</span> <span class=\"se\">\\\n</span>    http://127.0.0.1:8000/datasets/search <span class=\"se\">\\\n</span>    <span class=\"p\">|</span> jq <span class=\"s1\">'.'</span>\n</pre>\n<p>giving:</p>\n<pre><span class=\"p\">{</span>\n  <span class=\"nt\">\"datasets\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">\"description\"</span><span class=\"p\">:</span> <span class=\"s2\">\"PROFYLE test metadata\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"WyJQUk9GWUxFIl0\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"PROFYLE\"</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre>\n\n          </div>"}, "last_serial": 5961161, "releases": {"1.2.0": [{"comment_text": "", "digests": {"md5": "5d78114d9efd9d09256d8648f5387fbd", "sha256": "5bdb53bb1e2c63c3ec134a56ff29ce8cfcc60bcdcb17c7791bb50fc155f13c7e"}, "downloads": -1, "filename": "candig_ingest-1.2.0-py2-none-any.whl", "has_sig": false, "md5_digest": "5d78114d9efd9d09256d8648f5387fbd", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 20504, "upload_time": "2019-05-17T17:06:17", "upload_time_iso_8601": "2019-05-17T17:06:17.320151Z", "url": "https://files.pythonhosted.org/packages/0f/01/c1ac70e1c7960a88821f1d3321d9ad93f6a02440d83e82d500cb520131a1/candig_ingest-1.2.0-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9e15e3b8a2d03967e859b9194d957518", "sha256": "b0183a39d0fce2f2b7e997d43e655d8054fb1ac6e0877fb3bf5629abeaa95d1c"}, "downloads": -1, "filename": "candig-ingest-1.2.0.tar.gz", "has_sig": false, "md5_digest": "9e15e3b8a2d03967e859b9194d957518", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8265, "upload_time": "2019-05-17T17:06:20", "upload_time_iso_8601": "2019-05-17T17:06:20.315560Z", "url": "https://files.pythonhosted.org/packages/39/01/5e54d28a6d4170901af306979522de02571b29d09f867b06116d007ad22a/candig-ingest-1.2.0.tar.gz", "yanked": false}], "1.3.0": [{"comment_text": "", "digests": {"md5": "4107bdcea818bde109055bdd877e768d", "sha256": "8a705719b9f84717eb1bcbda1ace62f212b6eb186e4ff32931a3ccd5c73d1cf1"}, "downloads": -1, "filename": "candig_ingest-1.3.0-py2-none-any.whl", "has_sig": false, "md5_digest": "4107bdcea818bde109055bdd877e768d", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 20512, "upload_time": "2019-07-11T22:39:30", "upload_time_iso_8601": "2019-07-11T22:39:30.404001Z", "url": "https://files.pythonhosted.org/packages/1a/0f/09fd9d980ac113ea79149eeda8e5e7634c7901b91d6a47b8550af211826b/candig_ingest-1.3.0-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8fc20b3681b455a7dbb48c0a4b40c9b7", "sha256": "a02eef9afb6a0e4d9bdd2d94aef2cbe23219b49f3974232d27dca3f779cce22b"}, "downloads": -1, "filename": "candig-ingest-1.3.0.tar.gz", "has_sig": false, "md5_digest": "8fc20b3681b455a7dbb48c0a4b40c9b7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8290, "upload_time": "2019-07-11T22:39:32", "upload_time_iso_8601": "2019-07-11T22:39:32.237677Z", "url": "https://files.pythonhosted.org/packages/89/5e/8e6c09fc053dd84c7ffe353ba28c912dcc5cbb37a3bc73ca06941b8545a9/candig-ingest-1.3.0.tar.gz", "yanked": false}], "1.3.1": [{"comment_text": "", "digests": {"md5": "5e5d5dac1cc91be368afe7e7196eda62", "sha256": "b9f9e89bfd4f0fe06434b64aedfc87b01e52b23cfda191051af780143938395b"}, "downloads": -1, "filename": "candig_ingest-1.3.1-py3-none-any.whl", "has_sig": false, "md5_digest": "5e5d5dac1cc91be368afe7e7196eda62", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 25382, "upload_time": "2019-09-16T18:40:37", "upload_time_iso_8601": "2019-09-16T18:40:37.018876Z", "url": "https://files.pythonhosted.org/packages/48/21/d57cfc67efafc2611d9dd30905b2c5704caa95473b159a360e3534e9c66a/candig_ingest-1.3.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "125287367130b42563ea30f98734ba02", "sha256": "122b320ff60bce4681c85932a3634610c0a0740e3a40d8127f2d363d95ef3074"}, "downloads": -1, "filename": "candig-ingest-1.3.1.tar.gz", "has_sig": false, "md5_digest": "125287367130b42563ea30f98734ba02", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25310, "upload_time": "2019-09-16T18:40:38", "upload_time_iso_8601": "2019-09-16T18:40:38.933536Z", "url": "https://files.pythonhosted.org/packages/58/fb/edf28b8ef010f02f662409ce7b22754ac0a4c5db4a8df6062cb06702ff40/candig-ingest-1.3.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5e5d5dac1cc91be368afe7e7196eda62", "sha256": "b9f9e89bfd4f0fe06434b64aedfc87b01e52b23cfda191051af780143938395b"}, "downloads": -1, "filename": "candig_ingest-1.3.1-py3-none-any.whl", "has_sig": false, "md5_digest": "5e5d5dac1cc91be368afe7e7196eda62", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 25382, "upload_time": "2019-09-16T18:40:37", "upload_time_iso_8601": "2019-09-16T18:40:37.018876Z", "url": "https://files.pythonhosted.org/packages/48/21/d57cfc67efafc2611d9dd30905b2c5704caa95473b159a360e3534e9c66a/candig_ingest-1.3.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "125287367130b42563ea30f98734ba02", "sha256": "122b320ff60bce4681c85932a3634610c0a0740e3a40d8127f2d363d95ef3074"}, "downloads": -1, "filename": "candig-ingest-1.3.1.tar.gz", "has_sig": false, "md5_digest": "125287367130b42563ea30f98734ba02", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25310, "upload_time": "2019-09-16T18:40:38", "upload_time_iso_8601": "2019-09-16T18:40:38.933536Z", "url": "https://files.pythonhosted.org/packages/58/fb/edf28b8ef010f02f662409ce7b22754ac0a4c5db4a8df6062cb06702ff40/candig-ingest-1.3.1.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:35:32 2020"}
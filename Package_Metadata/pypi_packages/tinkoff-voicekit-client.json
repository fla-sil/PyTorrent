{"info": {"author": "Tinkoff Speech Team", "author_email": "", "bugtrack_url": null, "classifiers": [], "description": "# Tinkoff Python Speech API examples\n\n### Usage\n#### Install from [PyPi](https://pypi.org/project/tinkoff-voicekit-client/)\n```bash\npip install tinkoff-voicekit-client\n```\n\n\n#### Common\nBefore using you must have *API_KEY* and *SECRET_KEY*. You can get the keys by leaving a request on our [website](https://voicekit.tinkoff.ru/).\n\nExamples of using [VoiceKit](https://voicekit.tinkoff.ru/) client:\n* [Recognition examples](#example-of-using-stt)\n* [Synthesize examples](#synthesize-tts)\n\nCall documentation for public methods\n```python\nclient.something_method.__doc__\n```\nMethods initialize using config (Python dict) which satisfies one of the next json schema.\n\n#### Recogniton (STT)\nBase types schema:\n```Python\ntypes_value_definitions = {\n        \"StringArray\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"string\",\n            }\n        },\n        \"AudioEncoding\": {\n            \"type\": \"string\",\n            \"enum\": [\"LINEAR16\", \"ALAW\", \"MULAW\", \"LINEAR32F\", \"RAW_OPUS\", \"MPEG_AUDIO\"]\n        },\n        \"VoiceActivityDetectionConfig\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"min_speech_duration\": {\"type\": \"number\"},\n                \"max_speech_duration\": {\"type\": \"number\"},\n                \"silence_duration_threshold\": {\"type\": \"number\"},\n                \"silence_prob_threshold\": {\"type\": \"number\"},\n                \"aggressiveness\": {\"type\": \"number\"},\n            }\n        },\n        \"SpeechContext\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"phrases\": {\"$ref\": \"#definitions/StringArray\"},\n                \"words\": {\"$ref\": \"#definitions/StringArray\"}\n            }\n        },\n        \"InterimResultsConfig\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"enable_interim_results\": {\"type\": \"boolean\"},\n                \"interval\": {\"type\": \"number\"}\n            }\n        }\n    }\n```\n\nRecognition config schema:\n```Python\nrecognition_config_schema = {\n        \"type\": \"object\",\n        \"definitions\": definitions,\n        \"properties\": {\n            \"encoding\": {\"$ref\": \"#/definitions/AudioEncoding\"},\n            \"sample_rate_hertz\": {\"type\": \"number\"},\n            \"language_code\": {\"type\": \"string\"},\n            \"max_alternatives\": {\"type\": \"number\"},\n            \"speech_contexts\": {\n                \"type\": \"array\",\n                \"items\": {\n                    \"$ref\": \"#/definitions/SpeechContext\"\n                }\n            },\n            \"enable_automatic_punctuation\": {\"type\": \"boolean\"},\n            \"model\": {\"type\": \"string\"},\n            \"num_channels\": {\"type\": \"number\"},\n            \"do_not_perform_vad\": {\"type\": \"boolean\"},\n            \"vad_config\": {\"$ref\": \"#/definitions/VoiceActivityDetectionConfig\"}\n        },\n        \"required\": [\n            \"sample_rate_hertz\",\n            \"num_channels\",\n            \"encoding\",\n        ],\n        \"additionalProperties\": False\n    }\n```\n\nStreaming recognition config schema:\n```Python\nstreaming_recognition_config_schema = {\n        \"type\": \"object\",\n        \"definitions\": definitions,\n        \"properties\": {\n            \"config\": recognition_config_schema,\n            \"single_utterance\": {\"type\": \"boolean\"},\n            \"interim_results_config\": {\"$ref\": \"#/definitions/InterimResultsConfig\"}\n        },\n        \"additionalProperties\": False\n    }\n```\n\n##### Example of using STT\n```python\nfrom tinkoff_voicekit_client import ClientSTT\n\nAPI_KEY = \"my_api_key\"\nSECRET_KEY = \"my_secret_key\"\n\nclient = ClientSTT(API_KEY, SECRET_KEY)\n\naudio_config = {\n    \"encoding\": \"LINEAR16\",\n    \"sample_rate_hertz\": 8000,\n    \"num_channels\": 1\n}\n\n# recognise method call\nresponse = client.recognize(\"path/to/audio/file\", audio_config)\nprint(response)\n```\n\n```python\nfrom tinkoff_voicekit_client import ClientSTT\n\nAPI_KEY = \"my_api_key\"\nSECRET_KEY = \"my_secret_key\"\n\nclient = ClientSTT(API_KEY, SECRET_KEY)\n\naudio_config = {\n    \"encoding\": \"LINEAR16\",\n    \"sample_rate_hertz\": 8000,\n    \"num_channels\": 1\n}\nstream_config = {\"config\": audio_config}\n\n# recognise stream method call\nwith open(\"path/to/audio/file\", \"rb\") as source:\n    responses = client.streaming_recognize(source, stream_config)\n    for response in responses:\n        print(response)\n```\nExample of Voice Activity Detection configuration\n```Python\nvad = {}\nvad[\"min_speech_duration\"] = min_speech_duration\nvad[\"max_speech_duration\"] = max_speech_duration\nvad[\"silence_duration_threshold\"] = silence_duration_threshold\nvad[\"silence_prob_threshold\"] = silence_prob_threshold\nvad[\"aggressiveness\"] = aggressiveness\n\nmy_config = {}\nmy_config[\"vad\"] = vad\n```\n\n#### Synthesize (TTS)\nBase types schema:\n```Python\ntypes_value_definitions = {\n        \"AudioEncoding\": {\n            \"type\": \"string\",\n            \"enum\": [\"LINEAR16\", \"ALAW\", \"MULAW\", \"LINEAR32F\", \"RAW_OPUS\"]\n        },\n        \"SynthesisInput\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"text\": {\"type\": \"string\"}\n            }\n        }\n    }\n```\n\nStreaming synthesis schema:\n```Python\nstreaming_synthesize_config_schema = {\n        \"type\": \"object\",\n        \"definitions\": definitions,\n        \"properties\": {\n            \"audio_encoding\": {\"$ref\": \"#/definitions/AudioEncoding\"},\n            \"speaking_rate\": {\"type\": \"number\"},\n            \"sample_rate_hertz\": {\"type\": \"number\"}\n        },\n        \"required\": [\n            \"sample_rate_hertz\",\n            \"audio_encoding\",\n        ],\n        \"additionalProperties\": False\n    }\n```\n\nExample of input file:\n```\n\u042f \u0436\u0434\u0443 \u0432\u0430\u0448\u0435\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430. \u0412\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434?\n# \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0443\u0442\u043e\u0447\u043d\u0438\u043c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f. \u041a\u0430\u043a \u0435\u0433\u043e \u0437\u043e\u0432\u0443\u0442?\n```\ncommented lines # will not be synthesis\n\n##### Example of using TTS\n```python\nfrom tinkoff_voicekit_client import ClientTTS\n\nAPI_KEY = \"api_key\"\nSECRET_KEY = \"secret_key\"\n\nclient = ClientTTS(API_KEY, SECRET_KEY)\naudio_config = {\n    \"audio_encoding\": \"LINEAR16\",\n    \"sample_rate_hertz\": 48000\n}\n\n\n# use it if you want work with proto results\n# audio file\nrows_responses = client.streaming_synthesize(\"path/to/file/with/text\", audio_config)\n# text\nrows_responses = client.streaming_synthesize(\"\u041c\u043e\u0439 \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0442\u0435\u043a\u0441\u0442\", audio_config)\n\n# use it if you want get audio file results\n# audio file\nclient.synthesize_to_audio_wav(\"path/to/file/with/text\", audio_config, \"output/dir\")\n# text\nclient.synthesize_to_audio_wav(\"\u041c\u043e\u0439 \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0442\u0435\u043a\u0441\u0442\", audio_config, \"output/dir\")\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "Apache License Version 2.0", "maintainer": "", "maintainer_email": "", "name": "tinkoff-voicekit-client", "package_url": "https://pypi.org/project/tinkoff-voicekit-client/", "platform": "", "project_url": "https://pypi.org/project/tinkoff-voicekit-client/", "project_urls": null, "release_url": "https://pypi.org/project/tinkoff-voicekit-client/0.1.3/", "requires_dist": ["google (>=2.0.2)", "jsonschema (==3.0.1)", "opuslib (==3.0.1)", "grpcio (>=1.24.0)", "grpcio-tools (>=1.24.0)", "googleapis-common-protos (>=1.6.0)", "requests (>=2.21.0)"], "requires_python": ">=3.6", "summary": "Python Tinkoff Speech API", "version": "0.1.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Tinkoff Python Speech API examples</h1>\n<h3>Usage</h3>\n<h4>Install from <a href=\"https://pypi.org/project/tinkoff-voicekit-client/\" rel=\"nofollow\">PyPi</a></h4>\n<pre>pip install tinkoff-voicekit-client\n</pre>\n<h4>Common</h4>\n<p>Before using you must have <em>API_KEY</em> and <em>SECRET_KEY</em>. You can get the keys by leaving a request on our <a href=\"https://voicekit.tinkoff.ru/\" rel=\"nofollow\">website</a>.</p>\n<p>Examples of using <a href=\"https://voicekit.tinkoff.ru/\" rel=\"nofollow\">VoiceKit</a> client:</p>\n<ul>\n<li><a href=\"#example-of-using-stt\" rel=\"nofollow\">Recognition examples</a></li>\n<li><a href=\"#synthesize-tts\" rel=\"nofollow\">Synthesize examples</a></li>\n</ul>\n<p>Call documentation for public methods</p>\n<pre><span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">something_method</span><span class=\"o\">.</span><span class=\"vm\">__doc__</span>\n</pre>\n<p>Methods initialize using config (Python dict) which satisfies one of the next json schema.</p>\n<h4>Recogniton (STT)</h4>\n<p>Base types schema:</p>\n<pre><span class=\"n\">types_value_definitions</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s2\">\"StringArray\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"array\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"items\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"string\"</span><span class=\"p\">,</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n        <span class=\"s2\">\"AudioEncoding\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"string\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"enum\"</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"LINEAR16\"</span><span class=\"p\">,</span> <span class=\"s2\">\"ALAW\"</span><span class=\"p\">,</span> <span class=\"s2\">\"MULAW\"</span><span class=\"p\">,</span> <span class=\"s2\">\"LINEAR32F\"</span><span class=\"p\">,</span> <span class=\"s2\">\"RAW_OPUS\"</span><span class=\"p\">,</span> <span class=\"s2\">\"MPEG_AUDIO\"</span><span class=\"p\">]</span>\n        <span class=\"p\">},</span>\n        <span class=\"s2\">\"VoiceActivityDetectionConfig\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"object\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"properties\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"s2\">\"min_speech_duration\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">},</span>\n                <span class=\"s2\">\"max_speech_duration\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">},</span>\n                <span class=\"s2\">\"silence_duration_threshold\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">},</span>\n                <span class=\"s2\">\"silence_prob_threshold\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">},</span>\n                <span class=\"s2\">\"aggressiveness\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">},</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n        <span class=\"s2\">\"SpeechContext\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"object\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"properties\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"s2\">\"phrases\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"$ref\"</span><span class=\"p\">:</span> <span class=\"s2\">\"#definitions/StringArray\"</span><span class=\"p\">},</span>\n                <span class=\"s2\">\"words\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"$ref\"</span><span class=\"p\">:</span> <span class=\"s2\">\"#definitions/StringArray\"</span><span class=\"p\">}</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n        <span class=\"s2\">\"InterimResultsConfig\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"object\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"properties\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"s2\">\"enable_interim_results\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"boolean\"</span><span class=\"p\">},</span>\n                <span class=\"s2\">\"interval\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">}</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n</pre>\n<p>Recognition config schema:</p>\n<pre><span class=\"n\">recognition_config_schema</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"object\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"definitions\"</span><span class=\"p\">:</span> <span class=\"n\">definitions</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"properties\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"encoding\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"$ref\"</span><span class=\"p\">:</span> <span class=\"s2\">\"#/definitions/AudioEncoding\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"sample_rate_hertz\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"language_code\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"string\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"max_alternatives\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"speech_contexts\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"array\"</span><span class=\"p\">,</span>\n                <span class=\"s2\">\"items\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                    <span class=\"s2\">\"$ref\"</span><span class=\"p\">:</span> <span class=\"s2\">\"#/definitions/SpeechContext\"</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">},</span>\n            <span class=\"s2\">\"enable_automatic_punctuation\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"boolean\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"model\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"string\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"num_channels\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"do_not_perform_vad\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"boolean\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"vad_config\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"$ref\"</span><span class=\"p\">:</span> <span class=\"s2\">\"#/definitions/VoiceActivityDetectionConfig\"</span><span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n        <span class=\"s2\">\"required\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"s2\">\"sample_rate_hertz\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"num_channels\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"encoding\"</span><span class=\"p\">,</span>\n        <span class=\"p\">],</span>\n        <span class=\"s2\">\"additionalProperties\"</span><span class=\"p\">:</span> <span class=\"kc\">False</span>\n    <span class=\"p\">}</span>\n</pre>\n<p>Streaming recognition config schema:</p>\n<pre><span class=\"n\">streaming_recognition_config_schema</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"object\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"definitions\"</span><span class=\"p\">:</span> <span class=\"n\">definitions</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"properties\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"config\"</span><span class=\"p\">:</span> <span class=\"n\">recognition_config_schema</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"single_utterance\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"boolean\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"interim_results_config\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"$ref\"</span><span class=\"p\">:</span> <span class=\"s2\">\"#/definitions/InterimResultsConfig\"</span><span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n        <span class=\"s2\">\"additionalProperties\"</span><span class=\"p\">:</span> <span class=\"kc\">False</span>\n    <span class=\"p\">}</span>\n</pre>\n<h5>Example of using STT</h5>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tinkoff_voicekit_client</span> <span class=\"kn\">import</span> <span class=\"n\">ClientSTT</span>\n\n<span class=\"n\">API_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"my_api_key\"</span>\n<span class=\"n\">SECRET_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"my_secret_key\"</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">ClientSTT</span><span class=\"p\">(</span><span class=\"n\">API_KEY</span><span class=\"p\">,</span> <span class=\"n\">SECRET_KEY</span><span class=\"p\">)</span>\n\n<span class=\"n\">audio_config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"encoding\"</span><span class=\"p\">:</span> <span class=\"s2\">\"LINEAR16\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"sample_rate_hertz\"</span><span class=\"p\">:</span> <span class=\"mi\">8000</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"num_channels\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\"># recognise method call</span>\n<span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">recognize</span><span class=\"p\">(</span><span class=\"s2\">\"path/to/audio/file\"</span><span class=\"p\">,</span> <span class=\"n\">audio_config</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">)</span>\n</pre>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tinkoff_voicekit_client</span> <span class=\"kn\">import</span> <span class=\"n\">ClientSTT</span>\n\n<span class=\"n\">API_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"my_api_key\"</span>\n<span class=\"n\">SECRET_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"my_secret_key\"</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">ClientSTT</span><span class=\"p\">(</span><span class=\"n\">API_KEY</span><span class=\"p\">,</span> <span class=\"n\">SECRET_KEY</span><span class=\"p\">)</span>\n\n<span class=\"n\">audio_config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"encoding\"</span><span class=\"p\">:</span> <span class=\"s2\">\"LINEAR16\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"sample_rate_hertz\"</span><span class=\"p\">:</span> <span class=\"mi\">8000</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"num_channels\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span>\n<span class=\"p\">}</span>\n<span class=\"n\">stream_config</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">\"config\"</span><span class=\"p\">:</span> <span class=\"n\">audio_config</span><span class=\"p\">}</span>\n\n<span class=\"c1\"># recognise stream method call</span>\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"path/to/audio/file\"</span><span class=\"p\">,</span> <span class=\"s2\">\"rb\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">source</span><span class=\"p\">:</span>\n    <span class=\"n\">responses</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">streaming_recognize</span><span class=\"p\">(</span><span class=\"n\">source</span><span class=\"p\">,</span> <span class=\"n\">stream_config</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">response</span> <span class=\"ow\">in</span> <span class=\"n\">responses</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">)</span>\n</pre>\n<p>Example of Voice Activity Detection configuration</p>\n<pre><span class=\"n\">vad</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n<span class=\"n\">vad</span><span class=\"p\">[</span><span class=\"s2\">\"min_speech_duration\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">min_speech_duration</span>\n<span class=\"n\">vad</span><span class=\"p\">[</span><span class=\"s2\">\"max_speech_duration\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">max_speech_duration</span>\n<span class=\"n\">vad</span><span class=\"p\">[</span><span class=\"s2\">\"silence_duration_threshold\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">silence_duration_threshold</span>\n<span class=\"n\">vad</span><span class=\"p\">[</span><span class=\"s2\">\"silence_prob_threshold\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">silence_prob_threshold</span>\n<span class=\"n\">vad</span><span class=\"p\">[</span><span class=\"s2\">\"aggressiveness\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">aggressiveness</span>\n\n<span class=\"n\">my_config</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n<span class=\"n\">my_config</span><span class=\"p\">[</span><span class=\"s2\">\"vad\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">vad</span>\n</pre>\n<h4>Synthesize (TTS)</h4>\n<p>Base types schema:</p>\n<pre><span class=\"n\">types_value_definitions</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s2\">\"AudioEncoding\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"string\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"enum\"</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"LINEAR16\"</span><span class=\"p\">,</span> <span class=\"s2\">\"ALAW\"</span><span class=\"p\">,</span> <span class=\"s2\">\"MULAW\"</span><span class=\"p\">,</span> <span class=\"s2\">\"LINEAR32F\"</span><span class=\"p\">,</span> <span class=\"s2\">\"RAW_OPUS\"</span><span class=\"p\">]</span>\n        <span class=\"p\">},</span>\n        <span class=\"s2\">\"SynthesisInput\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"object\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"properties\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"s2\">\"text\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"string\"</span><span class=\"p\">}</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n</pre>\n<p>Streaming synthesis schema:</p>\n<pre><span class=\"n\">streaming_synthesize_config_schema</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"object\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"definitions\"</span><span class=\"p\">:</span> <span class=\"n\">definitions</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"properties\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"audio_encoding\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"$ref\"</span><span class=\"p\">:</span> <span class=\"s2\">\"#/definitions/AudioEncoding\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"speaking_rate\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">},</span>\n            <span class=\"s2\">\"sample_rate_hertz\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"number\"</span><span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n        <span class=\"s2\">\"required\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"s2\">\"sample_rate_hertz\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"audio_encoding\"</span><span class=\"p\">,</span>\n        <span class=\"p\">],</span>\n        <span class=\"s2\">\"additionalProperties\"</span><span class=\"p\">:</span> <span class=\"kc\">False</span>\n    <span class=\"p\">}</span>\n</pre>\n<p>Example of input file:</p>\n<pre><code>\u042f \u0436\u0434\u0443 \u0432\u0430\u0448\u0435\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430. \u0412\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434?\n# \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0443\u0442\u043e\u0447\u043d\u0438\u043c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f. \u041a\u0430\u043a \u0435\u0433\u043e \u0437\u043e\u0432\u0443\u0442?\n</code></pre>\n<p>commented lines # will not be synthesis</p>\n<h5>Example of using TTS</h5>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tinkoff_voicekit_client</span> <span class=\"kn\">import</span> <span class=\"n\">ClientTTS</span>\n\n<span class=\"n\">API_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"api_key\"</span>\n<span class=\"n\">SECRET_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"secret_key\"</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">ClientTTS</span><span class=\"p\">(</span><span class=\"n\">API_KEY</span><span class=\"p\">,</span> <span class=\"n\">SECRET_KEY</span><span class=\"p\">)</span>\n<span class=\"n\">audio_config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"audio_encoding\"</span><span class=\"p\">:</span> <span class=\"s2\">\"LINEAR16\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"sample_rate_hertz\"</span><span class=\"p\">:</span> <span class=\"mi\">48000</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"c1\"># use it if you want work with proto results</span>\n<span class=\"c1\"># audio file</span>\n<span class=\"n\">rows_responses</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">streaming_synthesize</span><span class=\"p\">(</span><span class=\"s2\">\"path/to/file/with/text\"</span><span class=\"p\">,</span> <span class=\"n\">audio_config</span><span class=\"p\">)</span>\n<span class=\"c1\"># text</span>\n<span class=\"n\">rows_responses</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">streaming_synthesize</span><span class=\"p\">(</span><span class=\"s2\">\"\u041c\u043e\u0439 \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0442\u0435\u043a\u0441\u0442\"</span><span class=\"p\">,</span> <span class=\"n\">audio_config</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># use it if you want get audio file results</span>\n<span class=\"c1\"># audio file</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">synthesize_to_audio_wav</span><span class=\"p\">(</span><span class=\"s2\">\"path/to/file/with/text\"</span><span class=\"p\">,</span> <span class=\"n\">audio_config</span><span class=\"p\">,</span> <span class=\"s2\">\"output/dir\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># text</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">synthesize_to_audio_wav</span><span class=\"p\">(</span><span class=\"s2\">\"\u041c\u043e\u0439 \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0442\u0435\u043a\u0441\u0442\"</span><span class=\"p\">,</span> <span class=\"n\">audio_config</span><span class=\"p\">,</span> <span class=\"s2\">\"output/dir\"</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 7088073, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "5cda6f1cdc906b2106e470b2eda04732", "sha256": "9baa551886f91fc450ee38995fcec0905b38a66f56fddd8b7dab56d759d82069"}, "downloads": -1, "filename": "tinkoff_voicekit_client-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "5cda6f1cdc906b2106e470b2eda04732", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 1126247, "upload_time": "2020-01-14T09:24:45", "upload_time_iso_8601": "2020-01-14T09:24:45.714865Z", "url": "https://files.pythonhosted.org/packages/9f/74/20777f491bcc6611b7d3b1310c69e8173f5d8a96cd7fd7a422354dd12e9b/tinkoff_voicekit_client-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6836a1f69f13ed5f500edad449a68387", "sha256": "808eed29d4b276d9df83cf91d637100f7b4484a8e46ee70942c2ee0a39b22769"}, "downloads": -1, "filename": "tinkoff_voicekit_client-0.1.1.tar.gz", "has_sig": false, "md5_digest": "6836a1f69f13ed5f500edad449a68387", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 1111447, "upload_time": "2020-01-14T09:24:47", "upload_time_iso_8601": "2020-01-14T09:24:47.993155Z", "url": "https://files.pythonhosted.org/packages/bd/3f/3912aae7747c2cf41aeec0f6334c615e8f5b4de3a10172cb5b17ed8a771d/tinkoff_voicekit_client-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "4278c2b8aeceec51790acfd0ca2deecc", "sha256": "666431b93ab60be441b89a9dde23fb0c241d43c88d5e8e2b797b1fb3b6972094"}, "downloads": -1, "filename": "tinkoff_voicekit_client-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "4278c2b8aeceec51790acfd0ca2deecc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 1126392, "upload_time": "2020-01-20T07:28:38", "upload_time_iso_8601": "2020-01-20T07:28:38.044134Z", "url": "https://files.pythonhosted.org/packages/64/ae/6cea7a3fd26aa3375acdcdbe2c50d6cb1e00a5c532ce089a51d1aac4dc79/tinkoff_voicekit_client-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0fb5f41971c2f591186287743b15adc1", "sha256": "3ea94bb7425bd7969723dafc2808ab9ba46071dca287eb75ca8f8a19c853517b"}, "downloads": -1, "filename": "tinkoff_voicekit_client-0.1.2.tar.gz", "has_sig": false, "md5_digest": "0fb5f41971c2f591186287743b15adc1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 1111764, "upload_time": "2020-01-20T07:28:40", "upload_time_iso_8601": "2020-01-20T07:28:40.142510Z", "url": "https://files.pythonhosted.org/packages/96/0a/1e4759914afc329254bae7f5ccbbcbb24b10db1b2b613dc1d704709d8a74/tinkoff_voicekit_client-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "16f0ca6cd1eec9a7df1c76457bbb13d1", "sha256": "88e84511d7ab42f3649105ed1e6a6771cc7121f1f9fc630ee9c0825e538cc4e6"}, "downloads": -1, "filename": "tinkoff_voicekit_client-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "16f0ca6cd1eec9a7df1c76457bbb13d1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 1126116, "upload_time": "2020-04-23T21:44:29", "upload_time_iso_8601": "2020-04-23T21:44:29.734815Z", "url": "https://files.pythonhosted.org/packages/56/bb/e6427cb8cad65c8f855bac6f7fff8b244683a5807ec39481d36fbf36aff4/tinkoff_voicekit_client-0.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "19d599d1a40d0593f414def60d059461", "sha256": "b993204419bf7a593f25c2e3909697bd6ca531bd1b4de8c44b4f5d7c22b09ec0"}, "downloads": -1, "filename": "tinkoff_voicekit_client-0.1.3.tar.gz", "has_sig": false, "md5_digest": "19d599d1a40d0593f414def60d059461", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 1111824, "upload_time": "2020-04-23T21:44:31", "upload_time_iso_8601": "2020-04-23T21:44:31.690145Z", "url": "https://files.pythonhosted.org/packages/92/b8/1c1e9f41239358a1fb99d663fb920f113e658fd585d1852683ea5ee64c57/tinkoff_voicekit_client-0.1.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "16f0ca6cd1eec9a7df1c76457bbb13d1", "sha256": "88e84511d7ab42f3649105ed1e6a6771cc7121f1f9fc630ee9c0825e538cc4e6"}, "downloads": -1, "filename": "tinkoff_voicekit_client-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "16f0ca6cd1eec9a7df1c76457bbb13d1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 1126116, "upload_time": "2020-04-23T21:44:29", "upload_time_iso_8601": "2020-04-23T21:44:29.734815Z", "url": "https://files.pythonhosted.org/packages/56/bb/e6427cb8cad65c8f855bac6f7fff8b244683a5807ec39481d36fbf36aff4/tinkoff_voicekit_client-0.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "19d599d1a40d0593f414def60d059461", "sha256": "b993204419bf7a593f25c2e3909697bd6ca531bd1b4de8c44b4f5d7c22b09ec0"}, "downloads": -1, "filename": "tinkoff_voicekit_client-0.1.3.tar.gz", "has_sig": false, "md5_digest": "19d599d1a40d0593f414def60d059461", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 1111824, "upload_time": "2020-04-23T21:44:31", "upload_time_iso_8601": "2020-04-23T21:44:31.690145Z", "url": "https://files.pythonhosted.org/packages/92/b8/1c1e9f41239358a1fb99d663fb920f113e658fd585d1852683ea5ee64c57/tinkoff_voicekit_client-0.1.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:53:11 2020"}
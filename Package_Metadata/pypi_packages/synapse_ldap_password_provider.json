{"info": {"author": "Slipeer", "author_email": "slipeer@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Plugins", "License :: OSI Approved :: Apache Software License", "Programming Language :: Python :: 2", "Topic :: Communications :: Chat"], "description": "Synapse LDAP pasword provider\n=============================\n\n- Allows synapse to use LDAP database as a password provider.\n- Allows to map mail and msisdn (phone) from LDAP (check usage note!)\n- Allows implementing independent account lockout policy, to prevent Active Directory users locking by external bruteforce attack.\n\nTravis-CI Build Status\n======================\n.. image:: https://travis-ci.org/slipeer/synapse-ldap-password-provider.svg?branch=master\n    :target: https://travis-ci.org/slipeer/synapse-ldap-password-provider\n\nInstallation\n------------\n\n- Via python's package manager: `pip install synapse-ldap-password-provider`\n- Via python's package manager from git: `pip install https://github.com/slipeer/synapse-ldap-password-provider/tarball/master`\n\nUsage\n-----\n\nExample synapse config:\n\n.. code:: yaml\n\n   password_providers:\n    - module: \"synapse_ldap_password_provider.LDAPPasswordProvider\"\n      config:\n        enabled: true\n        uri: \"ldap://ldap.example.com:389\"\n        start_tls: true\n        base: \"ou=users,dc=example,dc=com\"\n        attributes:\n           uid: \"samaccountname\"\n           name: \"DisplayName\"\n           # Optional. Please read usage note!\n           mail: \"email\"\n           # Optional. Please read usage note!\n           msisdn: \"phone\"\n        #bind_dn:\n        #bind_password:\n        #filter: \"(&(objectClass=user)(objectCategory=person))\"\n        # If you do not want your internal users to be blocked from outside\n        # by scrambling passwords through this service, then you need\n        # implement a more rigid account lockout policy then in yor LDAP server\n        # This example user locks after 5 badd attemps to 5 minutes\n        account_lockout_policy:\n            locktime_s: 300\n            attemps: 5\n\n\nDo not use ``cn`` attribute as uid. It's common mistake: ``cn`` attribute not uniqe in LDAP tree in most schemas!\nIt's work fine only in very simple LDAP installations without complex Organizational Units structire.\nYou can use: ``samaccountname``, ``uid`` or ``userPrincipalName`` (depending on the schemes in your system). These attributes are always unique.\n\nUsage note\n----------\n\nUse attributes ``mail`` and ``msisdn`` from the LDAP only if your identity server is also integrated with LDAP and looks for 3pd in these attributes.\nOtherwise it will not work properly. If you seach identity server with LDAP integration you can try my sydent fork https://github.com/slipeer/sydent\n\nAccount Lockout Policy\n----------------------\nIf you do not want your internal users to be blocked from outside by scrambling passwords through this service, then you need \nimplement a more rigid account lockout policy then on your LDAP server.\n\n\nTroubleshooting and Debugging\n-----------------------------\n\n``synapse-ldap-password-provider`` logging is included in the Synapse homeserver log\n(typically ``homeserver.log``). The LDAP plugin log level can be increased to\n``DEBUG`` for troubleshooting and debugging by making the following modifications\nto your Synapse server's logging configuration file:\n\n- Set the value for `handlers.file.level` to `DEBUG`:\n\n.. code:: yaml\n\n   handlers:\n     file:\n       # [...]\n       level: DEBUG\n\n- Add the following to the `loggers` section:\n\n.. code:: yaml\n\n   loggers:\n      # [...]\n      ldap3:\n        level: DEBUG\n      synapse_ldap_password_provider:\n        level: DEBUG\n\nFinally, restart your Synapse server for the changes to take effect:\n\n.. code:: sh\n\n\n   synctl restart", "description_content_type": null, "docs_url": null, "download_url": "https://github.com/slipeer/synapse-ldap-password-provider/archive/1.0.tar.gz", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/slipeer/synapse-ldap-password-provider", "keywords": null, "license": "UNKNOWN", "maintainer": null, "maintainer_email": null, "name": "synapse_ldap_password_provider", "package_url": "https://pypi.org/project/synapse_ldap_password_provider/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/synapse_ldap_password_provider/", "project_urls": {"Download": "https://github.com/slipeer/synapse-ldap-password-provider/archive/1.0.tar.gz", "Homepage": "https://github.com/slipeer/synapse-ldap-password-provider"}, "release_url": "https://pypi.org/project/synapse_ldap_password_provider/1/", "requires_dist": null, "requires_python": null, "summary": "LDAP3 password provider for Synapse", "version": "1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"synapse-ldap-pasword-provider\">\n<h2>Synapse LDAP pasword provider</h2>\n<ul>\n<li>Allows synapse to use LDAP database as a password provider.</li>\n<li>Allows to map mail and msisdn (phone) from LDAP (check usage note!)</li>\n<li>Allows implementing independent account lockout policy, to prevent Active Directory users locking by external bruteforce attack.</li>\n</ul>\n</div>\n<div id=\"travis-ci-build-status\">\n<h2>Travis-CI Build Status</h2>\n<a href=\"https://travis-ci.org/slipeer/synapse-ldap-password-provider\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/slipeer/synapse-ldap-password-provider.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/cfa1738075bc70e6616431a760c63ce13e966210/68747470733a2f2f7472617669732d63692e6f72672f736c69706565722f73796e617073652d6c6461702d70617373776f72642d70726f76696465722e7376673f6272616e63683d6d6173746572\"></a>\n<div id=\"installation\">\n<h3>Installation</h3>\n<ul>\n<li>Via python\u2019s package manager: <cite>pip install synapse-ldap-password-provider</cite></li>\n<li>Via python\u2019s package manager from git: <cite>pip install https://github.com/slipeer/synapse-ldap-password-provider/tarball/master</cite></li>\n</ul>\n</div>\n<div id=\"usage\">\n<h3>Usage</h3>\n<p>Example synapse config:</p>\n<pre><span class=\"nt\">password_providers</span><span class=\"p\">:</span>\n <span class=\"p-Indicator\">-</span> <span class=\"nt\">module</span><span class=\"p\">:</span> <span class=\"s\">\"synapse_ldap_password_provider.LDAPPasswordProvider\"</span>\n   <span class=\"nt\">config</span><span class=\"p\">:</span>\n     <span class=\"nt\">enabled</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">true</span>\n     <span class=\"nt\">uri</span><span class=\"p\">:</span> <span class=\"s\">\"ldap://ldap.example.com:389\"</span>\n     <span class=\"nt\">start_tls</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">true</span>\n     <span class=\"nt\">base</span><span class=\"p\">:</span> <span class=\"s\">\"ou=users,dc=example,dc=com\"</span>\n     <span class=\"nt\">attributes</span><span class=\"p\">:</span>\n        <span class=\"nt\">uid</span><span class=\"p\">:</span> <span class=\"s\">\"samaccountname\"</span>\n        <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"s\">\"DisplayName\"</span>\n        <span class=\"c1\"># Optional. Please read usage note!</span>\n        <span class=\"nt\">mail</span><span class=\"p\">:</span> <span class=\"s\">\"email\"</span>\n        <span class=\"c1\"># Optional. Please read usage note!</span>\n        <span class=\"nt\">msisdn</span><span class=\"p\">:</span> <span class=\"s\">\"phone\"</span>\n     <span class=\"c1\">#bind_dn:</span>\n     <span class=\"c1\">#bind_password:</span>\n     <span class=\"c1\">#filter: \"(&amp;(objectClass=user)(objectCategory=person))\"</span>\n     <span class=\"c1\"># If you do not want your internal users to be blocked from outside</span>\n     <span class=\"c1\"># by scrambling passwords through this service, then you need</span>\n     <span class=\"c1\"># implement a more rigid account lockout policy then in yor LDAP server</span>\n     <span class=\"c1\"># This example user locks after 5 badd attemps to 5 minutes</span>\n     <span class=\"nt\">account_lockout_policy</span><span class=\"p\">:</span>\n         <span class=\"nt\">locktime_s</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">300</span>\n         <span class=\"nt\">attemps</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">5</span>\n</pre>\n<p>Do not use <tt>cn</tt> attribute as uid. It\u2019s common mistake: <tt>cn</tt> attribute not uniqe in LDAP tree in most schemas!\nIt\u2019s work fine only in very simple LDAP installations without complex Organizational Units structire.\nYou can use: <tt>samaccountname</tt>, <tt>uid</tt> or <tt>userPrincipalName</tt> (depending on the schemes in your system). These attributes are always unique.</p>\n</div>\n<div id=\"usage-note\">\n<h3>Usage note</h3>\n<p>Use attributes <tt>mail</tt> and <tt>msisdn</tt> from the LDAP only if your identity server is also integrated with LDAP and looks for 3pd in these attributes.\nOtherwise it will not work properly. If you seach identity server with LDAP integration you can try my sydent fork <a href=\"https://github.com/slipeer/sydent\" rel=\"nofollow\">https://github.com/slipeer/sydent</a></p>\n</div>\n<div id=\"account-lockout-policy\">\n<h3>Account Lockout Policy</h3>\n<p>If you do not want your internal users to be blocked from outside by scrambling passwords through this service, then you need\nimplement a more rigid account lockout policy then on your LDAP server.</p>\n</div>\n<div id=\"troubleshooting-and-debugging\">\n<h3>Troubleshooting and Debugging</h3>\n<p><tt><span class=\"pre\">synapse-ldap-password-provider</span></tt> logging is included in the Synapse homeserver log\n(typically <tt>homeserver.log</tt>). The LDAP plugin log level can be increased to\n<tt>DEBUG</tt> for troubleshooting and debugging by making the following modifications\nto your Synapse server\u2019s logging configuration file:</p>\n<ul>\n<li>Set the value for <cite>handlers.file.level</cite> to <cite>DEBUG</cite>:</li>\n</ul>\n<pre><span class=\"nt\">handlers</span><span class=\"p\">:</span>\n  <span class=\"nt\">file</span><span class=\"p\">:</span>\n    <span class=\"c1\"># [...]</span>\n    <span class=\"nt\">level</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">DEBUG</span>\n</pre>\n<ul>\n<li>Add the following to the <cite>loggers</cite> section:</li>\n</ul>\n<pre><span class=\"nt\">loggers</span><span class=\"p\">:</span>\n   <span class=\"c1\"># [...]</span>\n   <span class=\"nt\">ldap3</span><span class=\"p\">:</span>\n     <span class=\"nt\">level</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">DEBUG</span>\n   <span class=\"nt\">synapse_ldap_password_provider</span><span class=\"p\">:</span>\n     <span class=\"nt\">level</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">DEBUG</span>\n</pre>\n<p>Finally, restart your Synapse server for the changes to take effect:</p>\n<pre>synctl restart\n</pre>\n</div>\n</div>\n\n          </div>"}, "last_serial": 2945948, "releases": {"1": [{"comment_text": "", "digests": {"md5": "a9829c6c3dc4082c5af69aeb00eafbf0", "sha256": "6002918900d37323f0e4e99e4c68f8f9eaf87a15fe2bfd75385e678ebe9ef26a"}, "downloads": -1, "filename": "synapse_ldap_password_provider-1.tar.gz", "has_sig": false, "md5_digest": "a9829c6c3dc4082c5af69aeb00eafbf0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13273, "upload_time": "2017-06-13T05:39:45", "upload_time_iso_8601": "2017-06-13T05:39:45.989909Z", "url": "https://files.pythonhosted.org/packages/14/73/a48fc78fa43330f960f85a46a483d86d517bf9949c71f6cebfd937f9f131/synapse_ldap_password_provider-1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a9829c6c3dc4082c5af69aeb00eafbf0", "sha256": "6002918900d37323f0e4e99e4c68f8f9eaf87a15fe2bfd75385e678ebe9ef26a"}, "downloads": -1, "filename": "synapse_ldap_password_provider-1.tar.gz", "has_sig": false, "md5_digest": "a9829c6c3dc4082c5af69aeb00eafbf0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13273, "upload_time": "2017-06-13T05:39:45", "upload_time_iso_8601": "2017-06-13T05:39:45.989909Z", "url": "https://files.pythonhosted.org/packages/14/73/a48fc78fa43330f960f85a46a483d86d517bf9949c71f6cebfd937f9f131/synapse_ldap_password_provider-1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:59:07 2020"}
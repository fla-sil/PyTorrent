{"info": {"author": "Tony Wang", "author_email": "wwwjfy@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Natural Language :: English", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# gino-starlette\n\n[![Codacy Badge](https://api.codacy.com/project/badge/Grade/0bec53f18d3b49aea6f558a269df318a)](https://app.codacy.com/gh/python-gino/gino-starlette?utm_source=github.com&utm_medium=referral&utm_content=python-gino/gino-starlette&utm_campaign=Badge_Grade_Settings)\n\n## Introduction\n\nAn extension for GINO to support starlette server.\n\n## Usage\n\nThe common usage looks like this:\n\n```python\nfrom starlette.applications import Starlette\nfrom gino.ext.starlette import Gino\n\napp = Starlette()\ndb = Gino(app, **kwargs)\n```\n\n## Configuration\n\nGINO adds a middleware to the Starlette app to setup and cleanup database according to\nthe configurations that passed in the `kwargs` parameter.\n\nThe config includes:\n\n| Name                         | Description                                                                                                       | Default     |\n| ---------------------------- | ----------------------------------------------------------------------------------------------------------------- | ----------- |\n| `driver`                     | the database driver                                                                                               | `asyncpg`   |\n| `host`                       | database server host                                                                                              | `localhost` |\n| `port`                       | database server port                                                                                              | `5432`      |\n| `user`                       | database server user                                                                                              | `postgres`  |\n| `password`                   | database server password                                                                                          | empty       |\n| `database`                   | database name                                                                                                     | `postgres`  |\n| `dsn`                        | a SQLAlchemy database URL to create the engine, its existence will replace all previous connect arguments.        | N/A         |\n| `retry_times`                | the retry times when database failed to connect                                                                   | `20`        |\n| `retry_interval`             | the interval in **seconds** between each time of retry                                                            | `5`         |\n| `pool_min_size`              | the initial number of connections of the db pool.                                                                 | N/A         |\n| `pool_max_size`              | the maximum number of connections in the db pool.                                                                 | N/A         |\n| `echo`                       | enable SQLAlchemy echo mode.                                                                                      | N/A         |\n| `ssl`                        | SSL context passed to `asyncpg.connect`                                                                           | `None`      |\n| `use_connection_for_request` | flag to set up lazy connection for requests.                                                                      | N/A         |\n| `retry_limit`                | the number of retries to connect to the database on start up.                                                     | 1           |\n| `retry_interval`             | seconds to wait between retries.                                                                                  | 1           |\n| `kwargs`                     | other parameters passed to the specified dialects, like `asyncpg`. Unrecognized parameters will cause exceptions. | N/A         |\n\n## Lazy Connection\n\nIf `use_connection_for_request` is set to be True, then a lazy connection is available\nat `request['connection']`. By default, a database connection is borrowed on the first\nquery, shared in the same execution context, and returned to the pool on response.\nIf you need to release the connection early in the middle to do some long-running tasks,\nyou can simply do this:\n\n```python\nawait request['connection'].release(permanent=False)\n```\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/python-gino/gino-starlette", "keywords": "sqlalchemy,python3,starlette,gino", "license": "BSD-3-Clause", "maintainer": "Aobo Shi", "maintainer_email": "shiaobo8@gmail.com", "name": "gino-starlette", "package_url": "https://pypi.org/project/gino-starlette/", "platform": "", "project_url": "https://pypi.org/project/gino-starlette/", "project_urls": {"Documentation": "https://python-gino.readthedocs.io/", "Homepage": "https://github.com/python-gino/gino-starlette", "Repository": "https://github.com/python-gino/gino-starlette"}, "release_url": "https://pypi.org/project/gino-starlette/0.1.1/", "requires_dist": ["starlette (>=0.13.0,<0.14.0)", "gino (>=1.0.0rc2,<2.0.0)"], "requires_python": ">=3.6,<4.0", "summary": "An extension for GINO to integrate with Starlette", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>gino-starlette</h1>\n<p><a href=\"https://app.codacy.com/gh/python-gino/gino-starlette?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=python-gino/gino-starlette&amp;utm_campaign=Badge_Grade_Settings\" rel=\"nofollow\"><img alt=\"Codacy Badge\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2225ddb72c4c2259e2cf79b1c9716cbc161f7845/68747470733a2f2f6170692e636f646163792e636f6d2f70726f6a6563742f62616467652f47726164652f3062656335336631386433623439616561366635353861323639646633313861\"></a></p>\n<h2>Introduction</h2>\n<p>An extension for GINO to support starlette server.</p>\n<h2>Usage</h2>\n<p>The common usage looks like this:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">starlette.applications</span> <span class=\"kn\">import</span> <span class=\"n\">Starlette</span>\n<span class=\"kn\">from</span> <span class=\"nn\">gino.ext.starlette</span> <span class=\"kn\">import</span> <span class=\"n\">Gino</span>\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">Starlette</span><span class=\"p\">()</span>\n<span class=\"n\">db</span> <span class=\"o\">=</span> <span class=\"n\">Gino</span><span class=\"p\">(</span><span class=\"n\">app</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n</pre>\n<h2>Configuration</h2>\n<p>GINO adds a middleware to the Starlette app to setup and cleanup database according to\nthe configurations that passed in the <code>kwargs</code> parameter.</p>\n<p>The config includes:</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Description</th>\n<th>Default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>driver</code></td>\n<td>the database driver</td>\n<td><code>asyncpg</code></td>\n</tr>\n<tr>\n<td><code>host</code></td>\n<td>database server host</td>\n<td><code>localhost</code></td>\n</tr>\n<tr>\n<td><code>port</code></td>\n<td>database server port</td>\n<td><code>5432</code></td>\n</tr>\n<tr>\n<td><code>user</code></td>\n<td>database server user</td>\n<td><code>postgres</code></td>\n</tr>\n<tr>\n<td><code>password</code></td>\n<td>database server password</td>\n<td>empty</td>\n</tr>\n<tr>\n<td><code>database</code></td>\n<td>database name</td>\n<td><code>postgres</code></td>\n</tr>\n<tr>\n<td><code>dsn</code></td>\n<td>a SQLAlchemy database URL to create the engine, its existence will replace all previous connect arguments.</td>\n<td>N/A</td>\n</tr>\n<tr>\n<td><code>retry_times</code></td>\n<td>the retry times when database failed to connect</td>\n<td><code>20</code></td>\n</tr>\n<tr>\n<td><code>retry_interval</code></td>\n<td>the interval in <strong>seconds</strong> between each time of retry</td>\n<td><code>5</code></td>\n</tr>\n<tr>\n<td><code>pool_min_size</code></td>\n<td>the initial number of connections of the db pool.</td>\n<td>N/A</td>\n</tr>\n<tr>\n<td><code>pool_max_size</code></td>\n<td>the maximum number of connections in the db pool.</td>\n<td>N/A</td>\n</tr>\n<tr>\n<td><code>echo</code></td>\n<td>enable SQLAlchemy echo mode.</td>\n<td>N/A</td>\n</tr>\n<tr>\n<td><code>ssl</code></td>\n<td>SSL context passed to <code>asyncpg.connect</code></td>\n<td><code>None</code></td>\n</tr>\n<tr>\n<td><code>use_connection_for_request</code></td>\n<td>flag to set up lazy connection for requests.</td>\n<td>N/A</td>\n</tr>\n<tr>\n<td><code>retry_limit</code></td>\n<td>the number of retries to connect to the database on start up.</td>\n<td>1</td>\n</tr>\n<tr>\n<td><code>retry_interval</code></td>\n<td>seconds to wait between retries.</td>\n<td>1</td>\n</tr>\n<tr>\n<td><code>kwargs</code></td>\n<td>other parameters passed to the specified dialects, like <code>asyncpg</code>. Unrecognized parameters will cause exceptions.</td>\n<td>N/A</td>\n</tr></tbody></table>\n<h2>Lazy Connection</h2>\n<p>If <code>use_connection_for_request</code> is set to be True, then a lazy connection is available\nat <code>request['connection']</code>. By default, a database connection is borrowed on the first\nquery, shared in the same execution context, and returned to the pool on response.\nIf you need to release the connection early in the middle to do some long-running tasks,\nyou can simply do this:</p>\n<pre><span class=\"k\">await</span> <span class=\"n\">request</span><span class=\"p\">[</span><span class=\"s1\">'connection'</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">release</span><span class=\"p\">(</span><span class=\"n\">permanent</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 6974835, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "e3da9948bcf7906384c798a1bebfa815", "sha256": "de6ec87168097a52668359c842e9e3be4d339423c7805c615377975a1a19cb6c"}, "downloads": -1, "filename": "gino_starlette-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "e3da9948bcf7906384c798a1bebfa815", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 6040, "upload_time": "2020-04-08T02:39:57", "upload_time_iso_8601": "2020-04-08T02:39:57.467985Z", "url": "https://files.pythonhosted.org/packages/3d/8d/5a1ee0b7f037d8f6c0054ac37829064508242a4559cdd984aa9ed445361e/gino_starlette-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "45fbd79d5bf9e655b463be72784ba404", "sha256": "a1afe419b34146449a502a5483085a60a75a46639534fff50510172b47c930fb"}, "downloads": -1, "filename": "gino-starlette-0.1.1.tar.gz", "has_sig": false, "md5_digest": "45fbd79d5bf9e655b463be72784ba404", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 5673, "upload_time": "2020-04-08T02:39:56", "upload_time_iso_8601": "2020-04-08T02:39:56.317103Z", "url": "https://files.pythonhosted.org/packages/5e/dc/f4aee5ff7044ffa650639a0ae7019f074d5b46f0580cf8a76a66f2791c58/gino-starlette-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e3da9948bcf7906384c798a1bebfa815", "sha256": "de6ec87168097a52668359c842e9e3be4d339423c7805c615377975a1a19cb6c"}, "downloads": -1, "filename": "gino_starlette-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "e3da9948bcf7906384c798a1bebfa815", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 6040, "upload_time": "2020-04-08T02:39:57", "upload_time_iso_8601": "2020-04-08T02:39:57.467985Z", "url": "https://files.pythonhosted.org/packages/3d/8d/5a1ee0b7f037d8f6c0054ac37829064508242a4559cdd984aa9ed445361e/gino_starlette-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "45fbd79d5bf9e655b463be72784ba404", "sha256": "a1afe419b34146449a502a5483085a60a75a46639534fff50510172b47c930fb"}, "downloads": -1, "filename": "gino-starlette-0.1.1.tar.gz", "has_sig": false, "md5_digest": "45fbd79d5bf9e655b463be72784ba404", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 5673, "upload_time": "2020-04-08T02:39:56", "upload_time_iso_8601": "2020-04-08T02:39:56.317103Z", "url": "https://files.pythonhosted.org/packages/5e/dc/f4aee5ff7044ffa650639a0ae7019f074d5b46f0580cf8a76a66f2791c58/gino-starlette-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:57:24 2020"}
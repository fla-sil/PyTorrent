{"info": {"author": "Sparkplug", "author_email": "mugisha@sparkpl.ug", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: Microsoft :: Windows", "Operating System :: POSIX", "Operating System :: Unix", "Programming Language :: Python", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: Implementation :: CPython", "Programming Language :: Python :: Implementation :: PyPy", "Topic :: Utilities"], "description": "# MTN Mobile Money API Client\n\nMTN MoMo API Client for Python.\n\n[![Build Status](https://travis-ci.com/sparkplug/momoapi-python.svg?branch=master)](https://travis-ci.com/sparkplug/momoapi-node)\n[![Latest Version](https://img.shields.io/pypi/v/tox-travis.svg)](https://badge.fury.io/js/mtn-momo)\n[![Coverage Status](https://coveralls.io/repos/github/sparkplug/momoapi-python/badge.svg?branch=validations)](https://coveralls.io/github/sparkplug/momoapi-python?branch=validations)\n[![Join the community on Spectrum](https://withspectrum.github.io/badge/badge.svg)](https://spectrum.chat/momo-api-developers/)\n\n\n# Installing\n\nAdd the latest version of the library to your project using pip:\n\n```bash\n $ pip install momoapi\n```\n\nThis library supports Python 2.7+ or Python 3.4+ (PyPy supported)\n\n# Sandbox Environment\n\n## Creating a sandbox environment API user \n\nNext, we need to get the `User ID` and `User Secret` and to do this we shall need to use the Primary Key for the Product to which we are subscribed, as well as specify a host. The library ships with a commandline application that helps to create sandbox credentials. It assumes you have created an account on `https://momodeveloper.mtn.com` and have your `Ocp-Apim-Subscription-Key`. \n\n```bash\n## within the project, on the command line. In this example, our domain is akabbo.ug\n$ momoapi\n$ providerCallBackHost: https://akabbo.ug\n$ Ocp-Apim-Subscription-Key: f83xx8d8xx6749f19a26e2265aeadbcdeg\n```\n\nThe `providerCallBackHost` is your callback host and `Ocp-Apim-Subscription-Key` is your API key for the specific product to which you are subscribed. The `API Key` is unique to the product and you will need an `API Key` for each product you use. You should get a response similar to the following:\n\n```bash\nHere is your User Id and API secret : {'apiKey': 'b0431db58a9b41faa8f5860230xxxxxx', 'UserId': '053c6dea-dd68-xxxx-xxxx-c830dac9f401'}\n```\n\nThese are the credentials we shall use for the sandbox environment. In production, these credentials are provided for you on the MTN OVA management dashboard after KYC requirements are met.\n\n## Configuration\n\nBefore we can fully utilize the library, we need to specify global configurations. The global configuration must contain the following:\n\n* `BASE_URL`: An optional base url to the MTN Momo API. By default the staging base url will be used\n* `ENVIRONMENT`: Optional enviroment, either \"sandbox\" or \"production\". Default is 'sandbox'\n* `CALLBACK_HOST`: The domain where you webhooks urls are hosted. This is mandatory.\n\nOnce you have specified the global variables, you can now provide the product-specific variables. Each MoMo API product requires its own authentication details i.e its own `Subscription Key`, `User ID` and `User Secret`, also sometimes refered to as the `API Secret`. As such, we have to configure subscription keys for each product you will be using. \n\nThe full list of configuration options can be seen in the example below:\n\n ```python\n config = {\n    \"ENVIRONMENT\": os.environ.get(\"ENVIRONMENT\"), \n    \"BASE_URL\": os.environ.get(\"BASE_URL\"), \n    \"CALLBACK_HOST\": os.environ.get(\"CALLBACK_HOST\"), # Mandatory.\n    \"COLLECTION_PRIMARY_KEY\": os.environ.get(\"COLLECTION_PRIMARY_KEY\"), \n    \"COLLECTION_USER_ID\": os.environ.get(\"COLLECTION_USER_ID\"),\n    \"COLLECTION_API_SECRET\": os.environ.get(\"COLLECTION_API_SECRET\"),\n    \"REMITTANCE_USER_ID\": os.environ.get(\"REMITTANCE_USER_ID\"), \n    \"REMITTANCE_API_SECRET\": os.environ.get(\"REMITTANCE_API_SECRET\"),\n    \"REMITTANCE_PRIMARY_KEY\": os.envieon.get(\"REMITTANCE_PRIMARY_KEY\"),\n    \"DISBURSEMENT_USER_ID\": os.environ.get(\"DISBURSEMENT_USER_ID\"), \n    \"DISBURSEMENT_API_SECRET\": os.environ.get(\"DISBURSEMENTS_API_SECRET\"),\n    \"DISBURSEMENT_PRIMARY_KEY\": os.environ.get(\"DISBURSEMENT_PRIMARY_KEY\"), \n}\n```\n\nYou will only need to configure the variables for the product(s) you will be using.\n\n## Collections\n\nThe collections client can be created with the following paramaters. Note that the `COLLECTION_USER_ID` and `COLLECTION_API_SECRET` for production are provided on the MTN OVA dashboard;\n\n* `COLLECTION_PRIMARY_KEY`: Primary Key for the `Collection` product on the developer portal.\n* `COLLECTION_USER_ID`: For sandbox, use the one generated with the `momoapi` command.\n* `COLLECTION_API_SECRET`: For sandbox, use the one generated with the `momoapi` command.\n\nYou can create a collection client with the following:\n\n```python\nimport os\nfrom momoapi.collection import Collection\n\nclient = Collection({\n        \"COLLECTION_USER_ID\": os.environ.get(\"COLLECTION_USER_ID\"),\n        \"COLLECTION_API_SECRET\": os.environ.get(\"COLLECTION_API_SECRET\"),\n        \"COLLECTION_PRIMARY_KEY\": os.environ.get(\"COLLECTION_PRIMARY_KEY\"),\n    })\n```\n\n### Methods\n\n1. `requestToPay`: This operation is used to request a payment from a consumer (Payer). The payer will be asked to authorize the payment. The transaction is executed once the payer has authorized the payment. The transaction will be in status PENDING until it is authorized or declined by the payer or it is timed out by the system. Status of the transaction can be validated by using `getTransactionStatus`.\n\n2. `getTransaction`: Retrieve transaction information using the `transactionId` returned by `requestToPay`. You can invoke it at intervals until the transaction fails or succeeds. If the transaction has failed, it will throw an appropriate error. \n\n3. `getBalance`: Get the balance of the account.\n\n4. `isPayerActive`: check if an account holder is registered and active in the system.\n\n### Sample Code\n\n```python\nimport os\nfrom momoapi.collection import Collection\n\nclient = Collection({\n    \"COLLECTION_USER_ID\": os.environ.get(\"COLLECTION_USER_ID\"),\n    \"COLLECTION_API_SECRET\": os.environ.get(\"COLLECTION_API_SECRET\"),\n    \"COLLECTION_PRIMARY_KEY\": os.environ.get(\"COLLECTION_PRIMARY_KEY\"),\n})\n\nclient.requestToPay(\n    mobile=\"256772123456\", amount=\"600\", external_id=\"123456789\", payee_note=\"dd\", payer_message=\"dd\", currency=\"EUR\")\n```\n\n## Disbursement\n\nThe Disbursements client can be created with the following paramaters. Note that the `DISBURSEMENT_USER_ID` and `DISBURSEMENT_API_SECRET` for production are provided on the MTN OVA dashboard;\n\n* `DISBURSEMENT_PRIMARY_KEY`: Primary Key for the `Disbursement` product on the developer portal.\n* `DISBURSEMENT_USER_ID`: For sandbox, use the one generated with the `momoapi` command.\n* `DISBURSEMENT_API_SECRET`: For sandbox, use the one generated with the `momoapi` command.\n\nYou can create a disbursements client with the following\n\n```python\nimport os\nfrom momoapi.collection import Disbursement\n\nclient = Disbursement({\n    \"DISBURSEMENT_USER_ID\": os.environ.get(\"DISBURSEMENT_USER_ID\"),\n    \"DISBURSEMENT_API_SECRET\": os.environ.get(\"DISBURSEMENT_API_SECRET\"),\n    \"DISBURSEMENT_PRIMARY_KEY\": os.environ.get(\"DISBURSEMENT_PRIMARY_KEY\"),\n})\n```\n\n### Methods\n\n1. `transfer`: Used to transfer an amount from the owner\u2019s account to a payee account. Status of the transaction can be validated by using the `getTransactionStatus` method.\n\n2. `getTransactionStatus`: Retrieve transaction information using the `transactionId` returned by `transfer`. You can invoke it at intervals until the transaction fails or succeeds.\n\n2. `getBalance`: Get your account balance.\n\n3. `isPayerActive`: This method is used to check if an account holder is registered and active in the system.\n\n#### Sample Code\n\n```python\nimport os\nfrom momoapi.collection import Disbursement\n\nclient = Disbursement({\n    \"DISBURSEMENT_USER_ID\": os.environ.get(\"DISBURSEMENT_USER_ID\"),\n    \"DISBURSEMENT_API_SECRET\": os.environ.get(\"DISBURSEMENT_API_SECRET\"),\n    \"DISBURSEMENT_PRIMARY_KEY\": os.environ.get(\"DISBURSEMENT_PRIMARY_KEY\"),\n})\n\nclient.transfer(amount=\"600\", mobile=\"256772123456\", external_id=\"123456789\", payee_note=\"dd\",      payer_message=\"dd\", currency=\"EUR\")\n\n```\n\n# Unit Tests\n\nThis library has a comprehensive test suite, which can be run using the `tox` command:\n\n## to view all test environments\n\n```bash\n$ tox -l  \n``` \n## to run the tests for Python 2.7  \n\n```bash\n$ tox -e py27-cover \n```\n\n## to run the tests for Python 3.4\n\n```bash\n$ tox -e py34-cover \n``` \n\nThank you.\n\n\nChangelog\n=========\n\n0.1.0 (2018-10-29)\n------------------\n\n* First release on PyPI.", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/sparkplug/momoapi-python", "keywords": "MoMo API,MoMo API Python Wrapper,MoMo API Python", "license": "MIT license", "maintainer": "", "maintainer_email": "", "name": "momoapi", "package_url": "https://pypi.org/project/momoapi/", "platform": "", "project_url": "https://pypi.org/project/momoapi/", "project_urls": {"Homepage": "https://github.com/sparkplug/momoapi-python"}, "release_url": "https://pypi.org/project/momoapi/1.0.1/", "requires_dist": null, "requires_python": "", "summary": "Python wrapper for the MTN MoMo API.", "version": "1.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            # MTN Mobile Money API Client<br><br>MTN MoMo API Client for Python.<br><br>[![Build Status](https://travis-ci.com/sparkplug/momoapi-python.svg?branch=master)](https://travis-ci.com/sparkplug/momoapi-node)<br>[![Latest Version](https://img.shields.io/pypi/v/tox-travis.svg)](https://badge.fury.io/js/mtn-momo)<br>[![Coverage Status](https://coveralls.io/repos/github/sparkplug/momoapi-python/badge.svg?branch=validations)](https://coveralls.io/github/sparkplug/momoapi-python?branch=validations)<br>[![Join the community on Spectrum](https://withspectrum.github.io/badge/badge.svg)](https://spectrum.chat/momo-api-developers/)<br><br><br># Installing<br><br>Add the latest version of the library to your project using pip:<br><br>```bash<br> $ pip install momoapi<br>```<br><br>This library supports Python 2.7+ or Python 3.4+ (PyPy supported)<br><br># Sandbox Environment<br><br>## Creating a sandbox environment API user <br><br>Next, we need to get the `User ID` and `User Secret` and to do this we shall need to use the Primary Key for the Product to which we are subscribed, as well as specify a host. The library ships with a commandline application that helps to create sandbox credentials. It assumes you have created an account on `https://momodeveloper.mtn.com` and have your `Ocp-Apim-Subscription-Key`. <br><br>```bash<br>## within the project, on the command line. In this example, our domain is akabbo.ug<br>$ momoapi<br>$ providerCallBackHost: https://akabbo.ug<br>$ Ocp-Apim-Subscription-Key: f83xx8d8xx6749f19a26e2265aeadbcdeg<br>```<br><br>The `providerCallBackHost` is your callback host and `Ocp-Apim-Subscription-Key` is your API key for the specific product to which you are subscribed. The `API Key` is unique to the product and you will need an `API Key` for each product you use. You should get a response similar to the following:<br><br>```bash<br>Here is your User Id and API secret : {'apiKey': 'b0431db58a9b41faa8f5860230xxxxxx', 'UserId': '053c6dea-dd68-xxxx-xxxx-c830dac9f401'}<br>```<br><br>These are the credentials we shall use for the sandbox environment. In production, these credentials are provided for you on the MTN OVA management dashboard after KYC requirements are met.<br><br>## Configuration<br><br>Before we can fully utilize the library, we need to specify global configurations. The global configuration must contain the following:<br><br>* `BASE_URL`: An optional base url to the MTN Momo API. By default the staging base url will be used<br>* `ENVIRONMENT`: Optional enviroment, either \"sandbox\" or \"production\". Default is 'sandbox'<br>* `CALLBACK_HOST`: The domain where you webhooks urls are hosted. This is mandatory.<br><br>Once you have specified the global variables, you can now provide the product-specific variables. Each MoMo API product requires its own authentication details i.e its own `Subscription Key`, `User ID` and `User Secret`, also sometimes refered to as the `API Secret`. As such, we have to configure subscription keys for each product you will be using. <br><br>The full list of configuration options can be seen in the example below:<br><br> ```python<br> config = {<br>    \"ENVIRONMENT\": os.environ.get(\"ENVIRONMENT\"), <br>    \"BASE_URL\": os.environ.get(\"BASE_URL\"), <br>    \"CALLBACK_HOST\": os.environ.get(\"CALLBACK_HOST\"), # Mandatory.<br>    \"COLLECTION_PRIMARY_KEY\": os.environ.get(\"COLLECTION_PRIMARY_KEY\"), <br>    \"COLLECTION_USER_ID\": os.environ.get(\"COLLECTION_USER_ID\"),<br>    \"COLLECTION_API_SECRET\": os.environ.get(\"COLLECTION_API_SECRET\"),<br>    \"REMITTANCE_USER_ID\": os.environ.get(\"REMITTANCE_USER_ID\"), <br>    \"REMITTANCE_API_SECRET\": os.environ.get(\"REMITTANCE_API_SECRET\"),<br>    \"REMITTANCE_PRIMARY_KEY\": os.envieon.get(\"REMITTANCE_PRIMARY_KEY\"),<br>    \"DISBURSEMENT_USER_ID\": os.environ.get(\"DISBURSEMENT_USER_ID\"), <br>    \"DISBURSEMENT_API_SECRET\": os.environ.get(\"DISBURSEMENTS_API_SECRET\"),<br>    \"DISBURSEMENT_PRIMARY_KEY\": os.environ.get(\"DISBURSEMENT_PRIMARY_KEY\"), <br>}<br>```<br><br>You will only need to configure the variables for the product(s) you will be using.<br><br>## Collections<br><br>The collections client can be created with the following paramaters. Note that the `COLLECTION_USER_ID` and `COLLECTION_API_SECRET` for production are provided on the MTN OVA dashboard;<br><br>* `COLLECTION_PRIMARY_KEY`: Primary Key for the `Collection` product on the developer portal.<br>* `COLLECTION_USER_ID`: For sandbox, use the one generated with the `momoapi` command.<br>* `COLLECTION_API_SECRET`: For sandbox, use the one generated with the `momoapi` command.<br><br>You can create a collection client with the following:<br><br>```python<br>import os<br>from momoapi.collection import Collection<br><br>client = Collection({<br>        \"COLLECTION_USER_ID\": os.environ.get(\"COLLECTION_USER_ID\"),<br>        \"COLLECTION_API_SECRET\": os.environ.get(\"COLLECTION_API_SECRET\"),<br>        \"COLLECTION_PRIMARY_KEY\": os.environ.get(\"COLLECTION_PRIMARY_KEY\"),<br>    })<br>```<br><br>### Methods<br><br>1. `requestToPay`: This operation is used to request a payment from a consumer (Payer). The payer will be asked to authorize the payment. The transaction is executed once the payer has authorized the payment. The transaction will be in status PENDING until it is authorized or declined by the payer or it is timed out by the system. Status of the transaction can be validated by using `getTransactionStatus`.<br><br>2. `getTransaction`: Retrieve transaction information using the `transactionId` returned by `requestToPay`. You can invoke it at intervals until the transaction fails or succeeds. If the transaction has failed, it will throw an appropriate error. <br><br>3. `getBalance`: Get the balance of the account.<br><br>4. `isPayerActive`: check if an account holder is registered and active in the system.<br><br>### Sample Code<br><br>```python<br>import os<br>from momoapi.collection import Collection<br><br>client = Collection({<br>    \"COLLECTION_USER_ID\": os.environ.get(\"COLLECTION_USER_ID\"),<br>    \"COLLECTION_API_SECRET\": os.environ.get(\"COLLECTION_API_SECRET\"),<br>    \"COLLECTION_PRIMARY_KEY\": os.environ.get(\"COLLECTION_PRIMARY_KEY\"),<br>})<br><br>client.requestToPay(<br>    mobile=\"256772123456\", amount=\"600\", external_id=\"123456789\", payee_note=\"dd\", payer_message=\"dd\", currency=\"EUR\")<br>```<br><br>## Disbursement<br><br>The Disbursements client can be created with the following paramaters. Note that the `DISBURSEMENT_USER_ID` and `DISBURSEMENT_API_SECRET` for production are provided on the MTN OVA dashboard;<br><br>* `DISBURSEMENT_PRIMARY_KEY`: Primary Key for the `Disbursement` product on the developer portal.<br>* `DISBURSEMENT_USER_ID`: For sandbox, use the one generated with the `momoapi` command.<br>* `DISBURSEMENT_API_SECRET`: For sandbox, use the one generated with the `momoapi` command.<br><br>You can create a disbursements client with the following<br><br>```python<br>import os<br>from momoapi.collection import Disbursement<br><br>client = Disbursement({<br>    \"DISBURSEMENT_USER_ID\": os.environ.get(\"DISBURSEMENT_USER_ID\"),<br>    \"DISBURSEMENT_API_SECRET\": os.environ.get(\"DISBURSEMENT_API_SECRET\"),<br>    \"DISBURSEMENT_PRIMARY_KEY\": os.environ.get(\"DISBURSEMENT_PRIMARY_KEY\"),<br>})<br>```<br><br>### Methods<br><br>1. `transfer`: Used to transfer an amount from the owner\u2019s account to a payee account. Status of the transaction can be validated by using the `getTransactionStatus` method.<br><br>2. `getTransactionStatus`: Retrieve transaction information using the `transactionId` returned by `transfer`. You can invoke it at intervals until the transaction fails or succeeds.<br><br>2. `getBalance`: Get your account balance.<br><br>3. `isPayerActive`: This method is used to check if an account holder is registered and active in the system.<br><br>#### Sample Code<br><br>```python<br>import os<br>from momoapi.collection import Disbursement<br><br>client = Disbursement({<br>    \"DISBURSEMENT_USER_ID\": os.environ.get(\"DISBURSEMENT_USER_ID\"),<br>    \"DISBURSEMENT_API_SECRET\": os.environ.get(\"DISBURSEMENT_API_SECRET\"),<br>    \"DISBURSEMENT_PRIMARY_KEY\": os.environ.get(\"DISBURSEMENT_PRIMARY_KEY\"),<br>})<br><br>client.transfer(amount=\"600\", mobile=\"256772123456\", external_id=\"123456789\", payee_note=\"dd\",      payer_message=\"dd\", currency=\"EUR\")<br><br>```<br><br># Unit Tests<br><br>This library has a comprehensive test suite, which can be run using the `tox` command:<br><br>## to view all test environments<br><br>```bash<br>$ tox -l  <br>``` <br>## to run the tests for Python 2.7  <br><br>```bash<br>$ tox -e py27-cover <br>```<br><br>## to run the tests for Python 3.4<br><br>```bash<br>$ tox -e py34-cover <br>``` <br><br>Thank you.<br><br><br>Changelog<br>=========<br><br>0.1.0 (2018-10-29)<br>------------------<br><br>* First release on PyPI.\n          </div>"}, "last_serial": 4967634, "releases": {"1.0.1": [{"comment_text": "", "digests": {"md5": "645a83f1f4385b08e0f65c6b3e8a5dd1", "sha256": "fdb8015bec81e35fdcafe50b0e57782677b0d0383c526e40219041dbf61cd728"}, "downloads": -1, "filename": "momoapi-1.0.1.tar.gz", "has_sig": false, "md5_digest": "645a83f1f4385b08e0f65c6b3e8a5dd1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24148, "upload_time": "2019-03-21T10:38:07", "upload_time_iso_8601": "2019-03-21T10:38:07.148730Z", "url": "https://files.pythonhosted.org/packages/ad/f7/97d22ff08dc587f10f08352a0320acb4db746fb736339f5034a0127be7ba/momoapi-1.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "645a83f1f4385b08e0f65c6b3e8a5dd1", "sha256": "fdb8015bec81e35fdcafe50b0e57782677b0d0383c526e40219041dbf61cd728"}, "downloads": -1, "filename": "momoapi-1.0.1.tar.gz", "has_sig": false, "md5_digest": "645a83f1f4385b08e0f65c6b3e8a5dd1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24148, "upload_time": "2019-03-21T10:38:07", "upload_time_iso_8601": "2019-03-21T10:38:07.148730Z", "url": "https://files.pythonhosted.org/packages/ad/f7/97d22ff08dc587f10f08352a0320acb4db746fb736339f5034a0127be7ba/momoapi-1.0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:52:29 2020"}
{"info": {"author": "Makina Corpus", "author_email": "terralego-pypi@makina-corpus.com", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django", "Framework :: Django :: 2.2", "Framework :: Django :: 3.0", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Internet :: WWW/HTTP", "Topic :: Internet :: WWW/HTTP :: Dynamic Content"], "description": "[![Build Status](https://travis-ci.org/Terralego/django-terra-accounts.svg?branch=master)](https://travis-ci.org/Terralego/django-terra-accounts)\n[![codecov](https://codecov.io/gh/Terralego/django-terra-accounts/branch/master/graph/badge.svg)](https://codecov.io/gh/Terralego/django-terra-accounts)\n[![Maintainability](https://api.codeclimate.com/v1/badges/0dbea745485facded80a/maintainability)](https://codeclimate.com/github/Terralego/django-terra-accounts/maintainability)\n\n# django-terra-accounts\n\nDjango accounts management for terralego apps\n\nhttps://django-terra-accounts.readthedocs.io/\n\n## WARNING\n\n* splitted from terracommon.accounts\n\n* If you want to migrate data, please :\n  * test in local env\n    * all terracommon.accounts reference should be replaced by terra_accounts\n    * all migration file which is referencing a 'accounts' migration should reference 'terra_accounts'\n  * backup your instance\n  * stop instance\n  * update your django_content_type table\n    * UPDATE django_content_type SET app_label = 'terra_accounts' WHERE app_label = 'account';\n  * update your django_migrations table\n    * UPDATE django_migrations SET app = 'terra_accounts' WHERE app = 'account';\n  * Rename tables\n      * ALTER TABLE accounts_terrauser RENAME TO terra_accounts_terrauser;\n      * ALTER TABLE accounts_readmodels RENAME TO terra_accounts_readmodel;\n  * Restart instances and launch migrations\n\n## Setting Up\n\nIt's recommended to follow all instruction if you don't know how this app really works, else if you set up half of this, you may experience\nsome problems.\n\n### Django app and URLs\n\nIf you plan to use User API for authentication, registration, and other this, you should add the `terra_accounts` app to INSTALLED_APPS and\n\n```\nINSTALLED_APPS = (\n  [...],\n  'terra_accounts',\n)\n```\n\nAnd include terra_accounts's URLs to your project urls, by adding this:\n```\npath(\"\", include(\"terra_accounts.urls\")),\n```\n\n\n### User's model\n\nTo set up the Terra User Model, you should follow the standard django procedure, by adding this to you project settings:\n```\nAUTH_USER_MODEL = 'terra_accounts.TerraUser'\n```\n\n### Payload handler\n\nYou should also override the default payload handler of jwt tokens, setting this:\n```\nJWT_AUTH = {\n  'JWT_PAYLOAD_HANDLER' 'terra_accounts.jwt_payload.terra_payload_handler',\n}\n```\n\n\n### Permissions mixin\n\nIf you plan to use the permission mecanism which heritate from django Permission class you should add the permission mixin\nto your appconfig's.\n\nThere is an exemple of AppConfig\n```\nfrom django.apps import AppConfig\n\nfrom terra_accounts.permissions_mixins import PermissionRegistrationMixin\n\n\nclass MyAppConfig(PermissionRegistrationMixin, AppConfig):\n    name = 'my_app'\n\n    permissions = (\n        ('can_do_something', 'Is able to do something'),\n        ('can_do_whatever', 'Is able to do whatever'),\n    )\n```\n\nThe permission mixin, overrides the `ready()` method to register a signal. If you plan to override this method, do not\nforget to add a call to `super().ready()`\n\n\n## To start a dev instance\n\nDefine settings you wants in `test_geosource` django project.\n\n```sh\ndocker-compose up\n```\n\nFirst start should failed as the database need to be initialized. Just launch\nthe same command twice.\n\nThen initialize the database:\n\n```sh\ndocker-compose run web /code/venv/bin/python3 /code/src/manage.py migrate\n```\n\nYou can now edit your code. A django runserver is launched internally so the\nthis is an autoreload server.\n\nYou can access to the api on http://localhost:8000/api/\n\n\n## Test\n\nTo run test suite, just launch:\n\n```sh\ndocker-compose run web /code/venv/bin/python3 /code/src/manage.py test\n```\n\n\n=========\nCHANGELOG\n=========\n\n0.3.9           (2020-03-20)\n----------------------------\n\n* Manage reset password views\n\n\n0.3.8           (2019-12-13)\n----------------------------\n\n* Update documentation\n* Support Django 3.0\n* Support DjangoRestFramework 3.11\n\n\n0.3.7.1         (2019-11-26)\n----------------------------\n\n* Include inherited permissions from groups to user\n* Improve Terra Permission creation\n\n\n0.3.6      (2019-11-05)\n----------------------------\n\n* Add a method to check if a user has some terra permission\n\n0.3.5      (2019-11-04)\n----------------------------\n\n* Implement TerraPermissions\n\n0.3.4      (2019-10-08)\n----------------------------\n\n* Deprecate looking up user by id (will be removed in 0.4.0)\n\n0.3.3      (2019-10-03)\n-----------------------\n\n### Feature\n\n* test factories are now included in packaging\n\n\n0.3.2      (2019-09-27)\n-----------------------\n\n### Fixes\n\n* Groups must be a DRF standard attribute\n\n\n0.3.1      (2019-09-26)\n-----------------------\n\n### Fixes\n\n* Fix id in Group serializer (and API)\n\n\n0.3.0      (2019-09-25)\n-----------------------\n\n### Breaking Changes\n\n* App name move from accounts to terra_accounts. Structure is the same, so backup and restore your data\n\nFirst public tag\n\n* Terra app extracted from terracommon.accounts", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Terralego/django-terra-accounts.git", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "django-terra-accounts", "package_url": "https://pypi.org/project/django-terra-accounts/", "platform": "", "project_url": "https://pypi.org/project/django-terra-accounts/", "project_urls": {"Homepage": "https://github.com/Terralego/django-terra-accounts.git"}, "release_url": "https://pypi.org/project/django-terra-accounts/0.3.9/", "requires_dist": null, "requires_python": "", "summary": "Django accounts management for terralego apps", "version": "0.3.9", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://travis-ci.org/Terralego/django-terra-accounts\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f31128779b64ce4f5c2842d30602a596502a2453/68747470733a2f2f7472617669732d63692e6f72672f54657272616c65676f2f646a616e676f2d74657272612d6163636f756e74732e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/Terralego/django-terra-accounts\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3a42c513e2be00ebdda0d30fd5a733786844be5b/68747470733a2f2f636f6465636f762e696f2f67682f54657272616c65676f2f646a616e676f2d74657272612d6163636f756e74732f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"https://codeclimate.com/github/Terralego/django-terra-accounts/maintainability\" rel=\"nofollow\"><img alt=\"Maintainability\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2336be9a15b5c8cbc462356b010502618cd5e835/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f30646265613734353438356661636465643830612f6d61696e7461696e6162696c697479\"></a></p>\n<h1>django-terra-accounts</h1>\n<p>Django accounts management for terralego apps</p>\n<p><a href=\"https://django-terra-accounts.readthedocs.io/\" rel=\"nofollow\">https://django-terra-accounts.readthedocs.io/</a></p>\n<h2>WARNING</h2>\n<ul>\n<li>\n<p>splitted from terracommon.accounts</p>\n</li>\n<li>\n<p>If you want to migrate data, please :</p>\n<ul>\n<li>test in local env\n<ul>\n<li>all terracommon.accounts reference should be replaced by terra_accounts</li>\n<li>all migration file which is referencing a 'accounts' migration should reference 'terra_accounts'</li>\n</ul>\n</li>\n<li>backup your instance</li>\n<li>stop instance</li>\n<li>update your django_content_type table\n<ul>\n<li>UPDATE django_content_type SET app_label = 'terra_accounts' WHERE app_label = 'account';</li>\n</ul>\n</li>\n<li>update your django_migrations table\n<ul>\n<li>UPDATE django_migrations SET app = 'terra_accounts' WHERE app = 'account';</li>\n</ul>\n</li>\n<li>Rename tables\n<ul>\n<li>ALTER TABLE accounts_terrauser RENAME TO terra_accounts_terrauser;</li>\n<li>ALTER TABLE accounts_readmodels RENAME TO terra_accounts_readmodel;</li>\n</ul>\n</li>\n<li>Restart instances and launch migrations</li>\n</ul>\n</li>\n</ul>\n<h2>Setting Up</h2>\n<p>It's recommended to follow all instruction if you don't know how this app really works, else if you set up half of this, you may experience\nsome problems.</p>\n<h3>Django app and URLs</h3>\n<p>If you plan to use User API for authentication, registration, and other this, you should add the <code>terra_accounts</code> app to INSTALLED_APPS and</p>\n<pre><code>INSTALLED_APPS = (\n  [...],\n  'terra_accounts',\n)\n</code></pre>\n<p>And include terra_accounts's URLs to your project urls, by adding this:</p>\n<pre><code>path(\"\", include(\"terra_accounts.urls\")),\n</code></pre>\n<h3>User's model</h3>\n<p>To set up the Terra User Model, you should follow the standard django procedure, by adding this to you project settings:</p>\n<pre><code>AUTH_USER_MODEL = 'terra_accounts.TerraUser'\n</code></pre>\n<h3>Payload handler</h3>\n<p>You should also override the default payload handler of jwt tokens, setting this:</p>\n<pre><code>JWT_AUTH = {\n  'JWT_PAYLOAD_HANDLER' 'terra_accounts.jwt_payload.terra_payload_handler',\n}\n</code></pre>\n<h3>Permissions mixin</h3>\n<p>If you plan to use the permission mecanism which heritate from django Permission class you should add the permission mixin\nto your appconfig's.</p>\n<p>There is an exemple of AppConfig</p>\n<pre><code>from django.apps import AppConfig\n\nfrom terra_accounts.permissions_mixins import PermissionRegistrationMixin\n\n\nclass MyAppConfig(PermissionRegistrationMixin, AppConfig):\n    name = 'my_app'\n\n    permissions = (\n        ('can_do_something', 'Is able to do something'),\n        ('can_do_whatever', 'Is able to do whatever'),\n    )\n</code></pre>\n<p>The permission mixin, overrides the <code>ready()</code> method to register a signal. If you plan to override this method, do not\nforget to add a call to <code>super().ready()</code></p>\n<h2>To start a dev instance</h2>\n<p>Define settings you wants in <code>test_geosource</code> django project.</p>\n<pre>docker-compose up\n</pre>\n<p>First start should failed as the database need to be initialized. Just launch\nthe same command twice.</p>\n<p>Then initialize the database:</p>\n<pre>docker-compose run web /code/venv/bin/python3 /code/src/manage.py migrate\n</pre>\n<p>You can now edit your code. A django runserver is launched internally so the\nthis is an autoreload server.</p>\n<p>You can access to the api on <a href=\"http://localhost:8000/api/\" rel=\"nofollow\">http://localhost:8000/api/</a></p>\n<h2>Test</h2>\n<p>To run test suite, just launch:</p>\n<pre>docker-compose run web /code/venv/bin/python3 /code/src/manage.py <span class=\"nb\">test</span>\n</pre>\n<h1>=========\nCHANGELOG</h1>\n<h2>0.3.9           (2020-03-20)</h2>\n<ul>\n<li>Manage reset password views</li>\n</ul>\n<h2>0.3.8           (2019-12-13)</h2>\n<ul>\n<li>Update documentation</li>\n<li>Support Django 3.0</li>\n<li>Support DjangoRestFramework 3.11</li>\n</ul>\n<h2>0.3.7.1         (2019-11-26)</h2>\n<ul>\n<li>Include inherited permissions from groups to user</li>\n<li>Improve Terra Permission creation</li>\n</ul>\n<h2>0.3.6      (2019-11-05)</h2>\n<ul>\n<li>Add a method to check if a user has some terra permission</li>\n</ul>\n<h2>0.3.5      (2019-11-04)</h2>\n<ul>\n<li>Implement TerraPermissions</li>\n</ul>\n<h2>0.3.4      (2019-10-08)</h2>\n<ul>\n<li>Deprecate looking up user by id (will be removed in 0.4.0)</li>\n</ul>\n<h2>0.3.3      (2019-10-03)</h2>\n<h3>Feature</h3>\n<ul>\n<li>test factories are now included in packaging</li>\n</ul>\n<h2>0.3.2      (2019-09-27)</h2>\n<h3>Fixes</h3>\n<ul>\n<li>Groups must be a DRF standard attribute</li>\n</ul>\n<h2>0.3.1      (2019-09-26)</h2>\n<h3>Fixes</h3>\n<ul>\n<li>Fix id in Group serializer (and API)</li>\n</ul>\n<h2>0.3.0      (2019-09-25)</h2>\n<h3>Breaking Changes</h3>\n<ul>\n<li>App name move from accounts to terra_accounts. Structure is the same, so backup and restore your data</li>\n</ul>\n<p>First public tag</p>\n<ul>\n<li>Terra app extracted from terracommon.accounts</li>\n</ul>\n\n          </div>"}, "last_serial": 6851027, "releases": {"0.3.0": [{"comment_text": "", "digests": {"md5": "518264d5910051186513ac1bfafa132e", "sha256": "689a249796bb33b9037bdb53620bb3f147b8afc43410d4bafe4bfa25c3a759fb"}, "downloads": -1, "filename": "django-terra-accounts-0.3.0.tar.gz", "has_sig": false, "md5_digest": "518264d5910051186513ac1bfafa132e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9225, "upload_time": "2019-09-25T11:29:15", "upload_time_iso_8601": "2019-09-25T11:29:15.943669Z", "url": "https://files.pythonhosted.org/packages/9a/b2/4438d9bc619a7eac6cbad311f35e21a24e313632b92fced990c3ee4dec4e/django-terra-accounts-0.3.0.tar.gz", "yanked": false}], "0.3.1": [{"comment_text": "", "digests": {"md5": "99cbe08f7b30f0f29bba9f6c4eedff41", "sha256": "941d3aa5d0ab397f9ee81606ebc8df07ce29ee03ca9c1a58fb33d6d2cdc41ad5"}, "downloads": -1, "filename": "django-terra-accounts-0.3.1.tar.gz", "has_sig": false, "md5_digest": "99cbe08f7b30f0f29bba9f6c4eedff41", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9326, "upload_time": "2019-09-26T16:20:26", "upload_time_iso_8601": "2019-09-26T16:20:26.641227Z", "url": "https://files.pythonhosted.org/packages/6f/e0/c829865afb87f7aaa9c563189447306929aec822d307b1da201a80e8c814/django-terra-accounts-0.3.1.tar.gz", "yanked": false}], "0.3.2": [{"comment_text": "", "digests": {"md5": "924ab64ce8429601ff6755d7f1e3f3e5", "sha256": "11f353b47c08321bce032935df3edfa2d6af71dd645d68740ace489615c4d259"}, "downloads": -1, "filename": "django-terra-accounts-0.3.2.tar.gz", "has_sig": false, "md5_digest": "924ab64ce8429601ff6755d7f1e3f3e5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9330, "upload_time": "2019-09-27T11:14:06", "upload_time_iso_8601": "2019-09-27T11:14:06.351427Z", "url": "https://files.pythonhosted.org/packages/dc/f4/2ee13a91ffdc0b21c194d2ffe3dae26489a4b52f30852b2baf69019e4c06/django-terra-accounts-0.3.2.tar.gz", "yanked": false}], "0.3.3": [{"comment_text": "", "digests": {"md5": "aefdf4508bf5f795d0b4972c5e97f872", "sha256": "93ed5acfc17262e319a1c368477b30fc3069d6e0553f6cde2fe7807a4b14e373"}, "downloads": -1, "filename": "django-terra-accounts-0.3.3.tar.gz", "has_sig": false, "md5_digest": "aefdf4508bf5f795d0b4972c5e97f872", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9568, "upload_time": "2019-10-03T13:47:55", "upload_time_iso_8601": "2019-10-03T13:47:55.983001Z", "url": "https://files.pythonhosted.org/packages/55/f2/6471cc9e8619d8396040acf9eb7ee4e4279cc1685780a7547ea3e25ae61d/django-terra-accounts-0.3.3.tar.gz", "yanked": false}], "0.3.4": [{"comment_text": "", "digests": {"md5": "d121a8f99bb3eef3de17a4eda31fa7ed", "sha256": "3af3b9948917db212d0465f2fd2b84f2ccc3969ce38d1c61ec1a5b815069edc9"}, "downloads": -1, "filename": "django-terra-accounts-0.3.4.tar.gz", "has_sig": false, "md5_digest": "d121a8f99bb3eef3de17a4eda31fa7ed", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9947, "upload_time": "2019-10-08T14:44:21", "upload_time_iso_8601": "2019-10-08T14:44:21.370800Z", "url": "https://files.pythonhosted.org/packages/d6/cb/c47ace2f65d229443773c42bc88bafb4882b39d7622284edab9f0e9ae964/django-terra-accounts-0.3.4.tar.gz", "yanked": false}], "0.3.5": [{"comment_text": "", "digests": {"md5": "1710505fd2a56c166993dadc94d3edf3", "sha256": "680f46194fce7de1d639fb612ca7802f1bb221620eec213ffa6e040aa45592c3"}, "downloads": -1, "filename": "django-terra-accounts-0.3.5.tar.gz", "has_sig": false, "md5_digest": "1710505fd2a56c166993dadc94d3edf3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10710, "upload_time": "2019-11-04T15:47:00", "upload_time_iso_8601": "2019-11-04T15:47:00.934296Z", "url": "https://files.pythonhosted.org/packages/81/8c/eee8d6dddbcb2b660cbb5f230ff2d919d0783258df91182e18c78c4ef00b/django-terra-accounts-0.3.5.tar.gz", "yanked": false}], "0.3.6": [{"comment_text": "", "digests": {"md5": "c36b0953f17b3ed59c48b01a767d5a48", "sha256": "b187435dcd37c787570fd696d2424aa3acc68f510901c23394efc96cade68067"}, "downloads": -1, "filename": "django-terra-accounts-0.3.6.tar.gz", "has_sig": false, "md5_digest": "c36b0953f17b3ed59c48b01a767d5a48", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10816, "upload_time": "2019-11-05T14:28:27", "upload_time_iso_8601": "2019-11-05T14:28:27.468554Z", "url": "https://files.pythonhosted.org/packages/c2/81/628275786e2439efe1944a043de5a4bb67aa2482f80a888299bba2d517e6/django-terra-accounts-0.3.6.tar.gz", "yanked": false}], "0.3.7.1": [{"comment_text": "", "digests": {"md5": "ef62c14c72a08951ad44b69b8fcf50d1", "sha256": "be2c0b1cbeb9bfb892169e70e955bd4569a479185cc2dbd93e9d33d27fe4bfbf"}, "downloads": -1, "filename": "django-terra-accounts-0.3.7.1.tar.gz", "has_sig": false, "md5_digest": "ef62c14c72a08951ad44b69b8fcf50d1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11753, "upload_time": "2019-11-26T13:55:03", "upload_time_iso_8601": "2019-11-26T13:55:03.662691Z", "url": "https://files.pythonhosted.org/packages/5b/5e/64e3a850d283df027fe7ba326904605600db2d5ceeaf2df0275d83c46a5f/django-terra-accounts-0.3.7.1.tar.gz", "yanked": false}], "0.3.8": [{"comment_text": "", "digests": {"md5": "7eb5ca9d922e1730eaf118b5a05e1eab", "sha256": "12b8ced9640277df67de69a4b45552b3aa3ec4e82cff45a2c39729db86c2654b"}, "downloads": -1, "filename": "django-terra-accounts-0.3.8.tar.gz", "has_sig": false, "md5_digest": "7eb5ca9d922e1730eaf118b5a05e1eab", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12164, "upload_time": "2019-12-13T11:06:17", "upload_time_iso_8601": "2019-12-13T11:06:17.477221Z", "url": "https://files.pythonhosted.org/packages/1c/38/7df39bf4dee42b00fc2d72f3155a68ce8b7654b760440bfbe11799a1ca02/django-terra-accounts-0.3.8.tar.gz", "yanked": false}], "0.3.9": [{"comment_text": "", "digests": {"md5": "fb346e7a0d4b75a52b04aeb39e134d10", "sha256": "d56d13a03fd6b402a5b675152fc55556b81abc4ea9da69f7debfe08364c5629a"}, "downloads": -1, "filename": "django-terra-accounts-0.3.9.tar.gz", "has_sig": false, "md5_digest": "fb346e7a0d4b75a52b04aeb39e134d10", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12575, "upload_time": "2020-03-20T16:39:43", "upload_time_iso_8601": "2020-03-20T16:39:43.974990Z", "url": "https://files.pythonhosted.org/packages/f5/a5/7f60dff2490e3202286839bec7ecdbfac5c8fb996349d98d2709597eabb6/django-terra-accounts-0.3.9.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "fb346e7a0d4b75a52b04aeb39e134d10", "sha256": "d56d13a03fd6b402a5b675152fc55556b81abc4ea9da69f7debfe08364c5629a"}, "downloads": -1, "filename": "django-terra-accounts-0.3.9.tar.gz", "has_sig": false, "md5_digest": "fb346e7a0d4b75a52b04aeb39e134d10", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12575, "upload_time": "2020-03-20T16:39:43", "upload_time_iso_8601": "2020-03-20T16:39:43.974990Z", "url": "https://files.pythonhosted.org/packages/f5/a5/7f60dff2490e3202286839bec7ecdbfac5c8fb996349d98d2709597eabb6/django-terra-accounts-0.3.9.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:52:34 2020"}
{"info": {"author": "lwaix", "author_email": "1494645263@qq.com", "bugtrack_url": null, "classifiers": [], "description": "##### [\u4e2d\u6587-Chinese](https://github.com/lwaix/flagbox/blob/master/README-zh.md \"\u4e2d\u6587-Chinese\")\n\n# FlagBox - a simple mysql orm for python3\n\n<a href=\"https://github.com/lwaix/flagbox\">\n  <img src=\"https://img.shields.io/badge/python-3.5-red.svg\">\n</a>\n\n<a href=\"https://github.com/lwaix/flagbox/blob/master/LICENSE\">\n  <img src=\"https://img.shields.io/badge/license-MIT-green.svg\">\n</a>\n\nFunctional overview\n\n- Model-Oriented operations\n- Basic CRUD\n- Operator query\n- Automatic safety escape\n- Deadlock retry\n\n## Installing\n\n```\nshell>pip install flagbox\n```\n\n## Basic\n\n```python\nfrom flagbox import Mysql\n\n# Create a connection.Automatically create database(if it is not created)\ndb = Mysql('localhost', 'root', 'your-password', 'testdb1')\n\nclass Worker(db.Model):\n    __table__ = 'worker'\n\n    id = db.PrimaryKeyField()\n    username = db.VarcharField(max_length=32, nullable=False, unique=True, default=None, comment=\"Worker's username\")\n    password = db.VarcharField(max_length=32, nullable=False, unique=False, default=None, comment=\"Worker's password\")\n    salary = db.FloatField(nullable=False, unique=False, default=0.0, comment=\"Worker's monthly salary\")\n\nWorker.create_table()\n\n# Insert\njack = Worker(username='Jack', password='JackSoHandsome', salary=3999.2)\njack.insert()\n\nmary = Worker()\nmary.username = 'Mary'\nmary.password = 'MarySoBeautiful'\nmary.insert()\n\n# Get all and get the first\nall_workers = Worker.select().all()\nthe_first_worker = Worker.select().first()\n\n# Query by operators\nrich_workers = Worker.select(Worker.salary>=3000.0).all()\n\n# Complex query by operators & and |\nworker_jack = Worker.select(\n\t((Worker.username == 'jack') & (Worker.password == 'JackSoHandsome')) | (Worker.salary=='3999.2')\n).first()\n\n# Order the rows\nthe_richest_worker = Worker.select(orders=[-Worker.salary]).first()\n\n# Use the result\nfor worker in all_workers:\n\tprint('username:{} password:{} salary:{}'.format(worker.username, worker.password, worker.salary))\nprint('And the richest worker is {}'.format(the_richest_worker.username))\n\n# Update one row\nworker_jack.salary = 3000.0\nworker_jack.update()\n\n# Delete one row\nworker_jack.delete()\n```\n\n## Else\n\n### Currently supported MySQL fields\n\nFlagBox|Mysql\n--|:--:\nPrimaryKeyField|NO\nBooleanField|BOOLEAN\nIntField|INT\nBigIntField|BIGINT\nFloatField|FLOAT\nDoubleField|DOUBLE\nVarcharField|VARCHAR\nTextField|TEXT\n\nPrimaryKeyField must be defined as the primary key.A basic definition below\n\n```python\nmydb = Mysql('localhost', 'root', 'your-passwd', 'your-database')\nclass ModelName(mydb.Model):\n    __table__ = 'mytable'\n\n    id = mydb.PrimaryKeyField()\n    # Other fields...\n```\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/lwaix/flagbox", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "FlagBox", "package_url": "https://pypi.org/project/FlagBox/", "platform": "", "project_url": "https://pypi.org/project/FlagBox/", "project_urls": {"Homepage": "https://github.com/lwaix/flagbox"}, "release_url": "https://pypi.org/project/FlagBox/0.21/", "requires_dist": ["PyMySQL"], "requires_python": "", "summary": "A simple mysql orm for python3", "version": "0.21", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h5><a href=\"https://github.com/lwaix/flagbox/blob/master/README-zh.md\" rel=\"nofollow\" title=\"\u4e2d\u6587-Chinese\">\u4e2d\u6587-Chinese</a></h5>\n<h1>FlagBox - a simple mysql orm for python3</h1>\n<a href=\"https://github.com/lwaix/flagbox\" rel=\"nofollow\">\n  <img src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/83322815ecd5e32f1d811a2b525ca4eca1e42dd9/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d332e352d7265642e737667\">\n</a>\n<a href=\"https://github.com/lwaix/flagbox/blob/master/LICENSE\" rel=\"nofollow\">\n  <img src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f7db8d43223f55fabe102838639f47819829c1ca/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d677265656e2e737667\">\n</a>\n<p>Functional overview</p>\n<ul>\n<li>Model-Oriented operations</li>\n<li>Basic CRUD</li>\n<li>Operator query</li>\n<li>Automatic safety escape</li>\n<li>Deadlock retry</li>\n</ul>\n<h2>Installing</h2>\n<pre><code>shell&gt;pip install flagbox\n</code></pre>\n<h2>Basic</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">flagbox</span> <span class=\"kn\">import</span> <span class=\"n\">Mysql</span>\n\n<span class=\"c1\"># Create a connection.Automatically create database(if it is not created)</span>\n<span class=\"n\">db</span> <span class=\"o\">=</span> <span class=\"n\">Mysql</span><span class=\"p\">(</span><span class=\"s1\">'localhost'</span><span class=\"p\">,</span> <span class=\"s1\">'root'</span><span class=\"p\">,</span> <span class=\"s1\">'your-password'</span><span class=\"p\">,</span> <span class=\"s1\">'testdb1'</span><span class=\"p\">)</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Worker</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">__table__</span> <span class=\"o\">=</span> <span class=\"s1\">'worker'</span>\n\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">PrimaryKeyField</span><span class=\"p\">()</span>\n    <span class=\"n\">username</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">VarcharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"n\">nullable</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">unique</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">comment</span><span class=\"o\">=</span><span class=\"s2\">\"Worker's username\"</span><span class=\"p\">)</span>\n    <span class=\"n\">password</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">VarcharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"n\">nullable</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">unique</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">comment</span><span class=\"o\">=</span><span class=\"s2\">\"Worker's password\"</span><span class=\"p\">)</span>\n    <span class=\"n\">salary</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">FloatField</span><span class=\"p\">(</span><span class=\"n\">nullable</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">unique</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">comment</span><span class=\"o\">=</span><span class=\"s2\">\"Worker's monthly salary\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">create_table</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Insert</span>\n<span class=\"n\">jack</span> <span class=\"o\">=</span> <span class=\"n\">Worker</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"o\">=</span><span class=\"s1\">'Jack'</span><span class=\"p\">,</span> <span class=\"n\">password</span><span class=\"o\">=</span><span class=\"s1\">'JackSoHandsome'</span><span class=\"p\">,</span> <span class=\"n\">salary</span><span class=\"o\">=</span><span class=\"mf\">3999.2</span><span class=\"p\">)</span>\n<span class=\"n\">jack</span><span class=\"o\">.</span><span class=\"n\">insert</span><span class=\"p\">()</span>\n\n<span class=\"n\">mary</span> <span class=\"o\">=</span> <span class=\"n\">Worker</span><span class=\"p\">()</span>\n<span class=\"n\">mary</span><span class=\"o\">.</span><span class=\"n\">username</span> <span class=\"o\">=</span> <span class=\"s1\">'Mary'</span>\n<span class=\"n\">mary</span><span class=\"o\">.</span><span class=\"n\">password</span> <span class=\"o\">=</span> <span class=\"s1\">'MarySoBeautiful'</span>\n<span class=\"n\">mary</span><span class=\"o\">.</span><span class=\"n\">insert</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Get all and get the first</span>\n<span class=\"n\">all_workers</span> <span class=\"o\">=</span> <span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"n\">the_first_worker</span> <span class=\"o\">=</span> <span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">first</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Query by operators</span>\n<span class=\"n\">rich_workers</span> <span class=\"o\">=</span> <span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">(</span><span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">salary</span><span class=\"o\">&gt;=</span><span class=\"mf\">3000.0</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Complex query by operators &amp; and |</span>\n<span class=\"n\">worker_jack</span> <span class=\"o\">=</span> <span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">(</span>\n\t<span class=\"p\">((</span><span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">username</span> <span class=\"o\">==</span> <span class=\"s1\">'jack'</span><span class=\"p\">)</span> <span class=\"o\">&amp;</span> <span class=\"p\">(</span><span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">password</span> <span class=\"o\">==</span> <span class=\"s1\">'JackSoHandsome'</span><span class=\"p\">))</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">salary</span><span class=\"o\">==</span><span class=\"s1\">'3999.2'</span><span class=\"p\">)</span>\n<span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">first</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Order the rows</span>\n<span class=\"n\">the_richest_worker</span> <span class=\"o\">=</span> <span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">(</span><span class=\"n\">orders</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"n\">Worker</span><span class=\"o\">.</span><span class=\"n\">salary</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">first</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Use the result</span>\n<span class=\"k\">for</span> <span class=\"n\">worker</span> <span class=\"ow\">in</span> <span class=\"n\">all_workers</span><span class=\"p\">:</span>\n\t<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'username:</span><span class=\"si\">{}</span><span class=\"s1\"> password:</span><span class=\"si\">{}</span><span class=\"s1\"> salary:</span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">worker</span><span class=\"o\">.</span><span class=\"n\">username</span><span class=\"p\">,</span> <span class=\"n\">worker</span><span class=\"o\">.</span><span class=\"n\">password</span><span class=\"p\">,</span> <span class=\"n\">worker</span><span class=\"o\">.</span><span class=\"n\">salary</span><span class=\"p\">))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'And the richest worker is </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">the_richest_worker</span><span class=\"o\">.</span><span class=\"n\">username</span><span class=\"p\">))</span>\n\n<span class=\"c1\"># Update one row</span>\n<span class=\"n\">worker_jack</span><span class=\"o\">.</span><span class=\"n\">salary</span> <span class=\"o\">=</span> <span class=\"mf\">3000.0</span>\n<span class=\"n\">worker_jack</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Delete one row</span>\n<span class=\"n\">worker_jack</span><span class=\"o\">.</span><span class=\"n\">delete</span><span class=\"p\">()</span>\n</pre>\n<h2>Else</h2>\n<h3>Currently supported MySQL fields</h3>\n<table>\n<thead>\n<tr>\n<th>FlagBox</th>\n<th align=\"center\">Mysql</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>PrimaryKeyField</td>\n<td align=\"center\">NO</td>\n</tr>\n<tr>\n<td>BooleanField</td>\n<td align=\"center\">BOOLEAN</td>\n</tr>\n<tr>\n<td>IntField</td>\n<td align=\"center\">INT</td>\n</tr>\n<tr>\n<td>BigIntField</td>\n<td align=\"center\">BIGINT</td>\n</tr>\n<tr>\n<td>FloatField</td>\n<td align=\"center\">FLOAT</td>\n</tr>\n<tr>\n<td>DoubleField</td>\n<td align=\"center\">DOUBLE</td>\n</tr>\n<tr>\n<td>VarcharField</td>\n<td align=\"center\">VARCHAR</td>\n</tr>\n<tr>\n<td>TextField</td>\n<td align=\"center\">TEXT</td>\n</tr></tbody></table>\n<p>PrimaryKeyField must be defined as the primary key.A basic definition below</p>\n<pre><span class=\"n\">mydb</span> <span class=\"o\">=</span> <span class=\"n\">Mysql</span><span class=\"p\">(</span><span class=\"s1\">'localhost'</span><span class=\"p\">,</span> <span class=\"s1\">'root'</span><span class=\"p\">,</span> <span class=\"s1\">'your-passwd'</span><span class=\"p\">,</span> <span class=\"s1\">'your-database'</span><span class=\"p\">)</span>\n<span class=\"k\">class</span> <span class=\"nc\">ModelName</span><span class=\"p\">(</span><span class=\"n\">mydb</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">__table__</span> <span class=\"o\">=</span> <span class=\"s1\">'mytable'</span>\n\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">mydb</span><span class=\"o\">.</span><span class=\"n\">PrimaryKeyField</span><span class=\"p\">()</span>\n    <span class=\"c1\"># Other fields...</span>\n</pre>\n\n          </div>"}, "last_serial": 4972454, "releases": {"0.21": [{"comment_text": "", "digests": {"md5": "944d4edd60ab3b52e030d64e6f1b991b", "sha256": "b997b55c865fef227c06086709704494d72ecae23f2fc5fcc6a40ce81f69db08"}, "downloads": -1, "filename": "FlagBox-0.21-py3-none-any.whl", "has_sig": false, "md5_digest": "944d4edd60ab3b52e030d64e6f1b991b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7987, "upload_time": "2019-03-22T11:26:15", "upload_time_iso_8601": "2019-03-22T11:26:15.903834Z", "url": "https://files.pythonhosted.org/packages/34/e4/1851ec564720b964cbd2add1df5a481c830e5da25e3fc02867536e7a8bfe/FlagBox-0.21-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bfd1267d1a9a434718ae69250858a525", "sha256": "fbe27a9daa69e9e1b7b056e05c1d70efd98f0e72c8e3991222c07437462dbfb4"}, "downloads": -1, "filename": "FlagBox-0.21.tar.gz", "has_sig": false, "md5_digest": "bfd1267d1a9a434718ae69250858a525", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8213, "upload_time": "2019-03-22T11:26:18", "upload_time_iso_8601": "2019-03-22T11:26:18.507979Z", "url": "https://files.pythonhosted.org/packages/f3/f9/affc399990a22e19432dc22715707d896dbea91e23e0a75965a46334546c/FlagBox-0.21.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "944d4edd60ab3b52e030d64e6f1b991b", "sha256": "b997b55c865fef227c06086709704494d72ecae23f2fc5fcc6a40ce81f69db08"}, "downloads": -1, "filename": "FlagBox-0.21-py3-none-any.whl", "has_sig": false, "md5_digest": "944d4edd60ab3b52e030d64e6f1b991b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7987, "upload_time": "2019-03-22T11:26:15", "upload_time_iso_8601": "2019-03-22T11:26:15.903834Z", "url": "https://files.pythonhosted.org/packages/34/e4/1851ec564720b964cbd2add1df5a481c830e5da25e3fc02867536e7a8bfe/FlagBox-0.21-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bfd1267d1a9a434718ae69250858a525", "sha256": "fbe27a9daa69e9e1b7b056e05c1d70efd98f0e72c8e3991222c07437462dbfb4"}, "downloads": -1, "filename": "FlagBox-0.21.tar.gz", "has_sig": false, "md5_digest": "bfd1267d1a9a434718ae69250858a525", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8213, "upload_time": "2019-03-22T11:26:18", "upload_time_iso_8601": "2019-03-22T11:26:18.507979Z", "url": "https://files.pythonhosted.org/packages/f3/f9/affc399990a22e19432dc22715707d896dbea91e23e0a75965a46334546c/FlagBox-0.21.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:41:59 2020"}
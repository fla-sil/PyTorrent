{"info": {"author": "Drew Bednar", "author_email": "drew@androiddrew.com", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Natural Language :: English", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": "# molten-mail\n\n[![PyPI](https://img.shields.io/pypi/v/molten-mail.svg)](https://pypi.org/project/molten-mail/)\n[![PyPI](https://img.shields.io/pypi/pyversions/molten-mail.svg)](https://pypi.org/project/molten-mail/)\n[![Build Status](https://travis-ci.org/androiddrew/molten-mail.svg?branch=master)](https://travis-ci.org/androiddrew/molten-mail)\n[![codecov](https://codecov.io/gh/androiddrew/molten-mail/branch/master/graph/badge.svg)](https://codecov.io/gh/androiddrew/molten-mail)\n\n\nProvides a simple interface to set up SMTP with your [Molten](https://github.com/Bogdanp/molten) web application and send messages from your handler functions. Please note this work derives largely from the [Flask-Mail](https://github.com/mattupstate/flask-mail) extension by 'Dan Jacob' and contributors, but has been modified extensively to remove Python 2 support and be used as a Molten component.\n\n\n## Installation\n\n`pip install molten-mail`\n\nIf you plan on using HTML templates you will need to ensure that [Jinja2] is installed. \n\n`pip install molten-mail[templates]`\n\n## Usage\n\nBe sure to check the [examples] folder for sample applications and more complex usage.\n\n### Example Setup\n\nTo send mail messages from your view functions you must instantiate a `Mail` instance yourself or use the `MailComponent`. The `MailComponent` will instantiate a global `Mail` instance from settings provided in the `molten.Settings`.\n\nHere we have a minimally viable app capable of sending an email message and returning a 204 response code:\n\n```python\nfrom molten import (\n    App,\n    Route,\n    Settings,\n    SettingsComponent,\n    QueryParams,\n    HTTP_204,\n    HTTP_400,\n    Response,\n)\nfrom molten_mail import MailComponent, Mail, Message\n\n# Replace with your own SMTP parameters\nsettings = Settings(\n    {\n        \"MAIL_SERVER\": \"smtp.example.com\",\n        \"MAIL_USERNAME\": \"me@example.com\",\n        \"MAIL_PASSWORD\": \"dontaddthistoyourversioncontrol\",\n        \"MAIL_PORT\": 587,\n        \"MAIL_USE_TLS\": True,\n        \"MAIL_DEFAULT_SENDER\": \"me@example.com\",\n    }\n)\n\n\ndef send_message(params: QueryParams, mail: Mail):\n    \"\"\"Emails an email address provided in the query string\"\"\"\n    addresses = params.get_all(\"email\")\n    if not addresses:\n        return Response(\n            HTTP_400,\n            content=\"Provide emails in the query params to send a welcome message\",\n        )\n    msg = Message(\n        subject=\"Welcome to Molten!\",\n        body=\"Welcome to Molten! Glad to have you here.\",\n        recipients=addresses,\n    )\n    mail.send(msg)\n    return Response(HTTP_204, content=\"\")\n\n\nroutes = [Route(\"/\", send_message, \"POST\")]\n\ncomponents = [SettingsComponent(settings), MailComponent()]\n\napp = App(routes=routes, components=components)\n```\n\n### Configuration Options\n\nA singleton `Mail` component can be configured for use in dependency injection using options included in your `molten.Settings`. This requires that you include the `MailComponent` within you `molten.App` instance. The key values can either be all upper or lowercase and begin with `MAIL_`. The available options are:\n\n* 'MAIL_SERVER': default 'localhost'\n* 'MAIL_USERNAME': default None\n* 'MAIL_PASSWORD': default None\n* 'MAIL_PORT': default 25\n* 'MAIL_USE_TLS': default False\n* 'MAIL_USE_SSL': default False\n* 'MAIL_DEFAULT_SENDER': default None\n* 'MAIL_DEBUG': default False\n* 'MAIL_MAX_EMAILS': default None\n* 'MAIL_SUPPRESS_SEND': default False\n* 'MAIL_ASCII_ATTACHMENTS': False\n\n\n\n### Sending Messages\n\nTo send a message, instantiate a `Mail` component. Then create an instance of `Message`, and pass it to your `Mail` component using `mail.send(msg)`\n\n```python\nfrom molten_mail import Mail, Message\n\nmail = Mail(server=\"localhost\",\n            user=\"me@example.com\",\n            password=\"dontaddthistoyourversioncontrol\",\n            port=587,\n            use_tls=True,\n            default_sender=\"me@example.com\")\nmsg = Message(subject=\"Hey there!\", body=\"Welcome to Molten Mail\", recipients=[\"you@example.com\"])\nmail.send(msg)\n\n```\n\nYour message recipients can be set in bulk or individually:\n\n```python\nmsg.recipients = ['you@example.com', 'me@example.com']\nmsg.add_recipient('otherperson@example.com')\n```\n\nIf you have included a default sender you do not need to set the message sender explicitly, as it will use this configuration value by default:\n\n```python\nmsg = Message('Hello',\n              recipients=['you@example.com'])\n```\n\nThe sender can also be passed as a two element tuple containing a name and email address which will be split like so:\n\n```python\nmsg = Message('Hello',\n              sender=('Me', 'me@example.com'))\n\nassert msg.sender == 'Me <me@example.com>'\n```\n\nA Message can contain a body and/or HTML:\n\n```python\nmsg.body = 'message body'\nmsg.html = '<b>Hello Molten-mail!</b>'\n```\n\nA convenience function `send_message` can also be used to create and send a message:\n\n```python\nmail.send_message(subject=\"Your subject\", body=\"Message body\", recipients=[\"you@example.com\"])\n```\n\n### HTML Email Templates\n\nMolten-mail includes a convenience component `MailTemplates` for rendering HTML email bodies using [Jinja2]. You have to install `jinja2` yourself before using this module.\n\nYou must include the `MailTemplatesComponent` in your app, passing the path to a folder containing your templates. \n\n```python\nfrom molten import App, Route, Response, HTTP_204, Settings, SettingsComponent\nfrom molten_mail import Mail, MailComponent\nfrom molten_mail.templates import MailTemplates, MailTemplatesComponent\n\nsettings = Settings({\n    ...\n})\n\ndef view_func(mail: Mail, mail_templates: MailTemplates): -> Response:\n    mail.send_message(\n        subject=\"Hello Molten!\",\n        html=mail_templates.render(\"my_email_template.html\", somevalue=\"Key values for the template context\"),\n        recipients=[\"you@example.com\"]\n    )\n    return Response(HTTP_204, content=\"\")\n\napp = App(\n    components=[SettingsComponent(settings),\n                MailComponent(),\n                MailTemplatesComponent('./path_to_templates_dir')],\n    routes=[Route('/', view_func, method=\"POST\"]\n)\n\n```\n\n\n## Testing\n\nTo run the test suite with coverage first install the package in editable mode with it's full testing requirements:\n\n`$ pip install -e \".[dev]\"`\n\nTo run the project's tests\n\n`$ pytest --cov`\n\nTo run tests against multiple python interpreters use:\n\n`$ tox`\n\n[Jinja2]: http://jinja.pocoo.org/docs/\n[examples]: https://github.com/androiddrew/molten-mail/tree/master/examples\n\n# HISTORY\n\n### 0.1.0 Initial Release\n\n* Initial release.\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/androiddrew/molten-mail", "keywords": "molten-mail molten_mail molten mail email SMTP", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "molten-mail", "package_url": "https://pypi.org/project/molten-mail/", "platform": "", "project_url": "https://pypi.org/project/molten-mail/", "project_urls": {"Homepage": "https://github.com/androiddrew/molten-mail"}, "release_url": "https://pypi.org/project/molten-mail/0.1.0/", "requires_dist": ["molten (>=0.7.1)", "pytest; extra == 'dev'", "pytest-cov; extra == 'dev'", "tox; extra == 'dev'", "jinja2 (<3.0,>=2.10); extra == 'dev'", "jinja2 (<3.0,>=2.10); extra == 'templates'"], "requires_python": "", "summary": "A simple email component for the Molten web framework", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>molten-mail</h1>\n<p><a href=\"https://pypi.org/project/molten-mail/\" rel=\"nofollow\"><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ca5216f4b93bc1f68d559e919f679b019354aee1/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6d6f6c74656e2d6d61696c2e737667\"></a>\n<a href=\"https://pypi.org/project/molten-mail/\" rel=\"nofollow\"><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e287de93accd31d30763d9810fcaa15332f4d469/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6d6f6c74656e2d6d61696c2e737667\"></a>\n<a href=\"https://travis-ci.org/androiddrew/molten-mail\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/36565aca16721af2edf3c0cf28d2ad4f26ebb313/68747470733a2f2f7472617669732d63692e6f72672f616e64726f6964647265772f6d6f6c74656e2d6d61696c2e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/androiddrew/molten-mail\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/31cbd916ce142ecfdc744dfebf829aaa081f8e56/68747470733a2f2f636f6465636f762e696f2f67682f616e64726f6964647265772f6d6f6c74656e2d6d61696c2f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a></p>\n<p>Provides a simple interface to set up SMTP with your <a href=\"https://github.com/Bogdanp/molten\" rel=\"nofollow\">Molten</a> web application and send messages from your handler functions. Please note this work derives largely from the <a href=\"https://github.com/mattupstate/flask-mail\" rel=\"nofollow\">Flask-Mail</a> extension by 'Dan Jacob' and contributors, but has been modified extensively to remove Python 2 support and be used as a Molten component.</p>\n<h2>Installation</h2>\n<p><code>pip install molten-mail</code></p>\n<p>If you plan on using HTML templates you will need to ensure that <a href=\"http://jinja.pocoo.org/docs/\" rel=\"nofollow\">Jinja2</a> is installed.</p>\n<p><code>pip install molten-mail[templates]</code></p>\n<h2>Usage</h2>\n<p>Be sure to check the <a href=\"https://github.com/androiddrew/molten-mail/tree/master/examples\" rel=\"nofollow\">examples</a> folder for sample applications and more complex usage.</p>\n<h3>Example Setup</h3>\n<p>To send mail messages from your view functions you must instantiate a <code>Mail</code> instance yourself or use the <code>MailComponent</code>. The <code>MailComponent</code> will instantiate a global <code>Mail</code> instance from settings provided in the <code>molten.Settings</code>.</p>\n<p>Here we have a minimally viable app capable of sending an email message and returning a 204 response code:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">molten</span> <span class=\"kn\">import</span> <span class=\"p\">(</span>\n    <span class=\"n\">App</span><span class=\"p\">,</span>\n    <span class=\"n\">Route</span><span class=\"p\">,</span>\n    <span class=\"n\">Settings</span><span class=\"p\">,</span>\n    <span class=\"n\">SettingsComponent</span><span class=\"p\">,</span>\n    <span class=\"n\">QueryParams</span><span class=\"p\">,</span>\n    <span class=\"n\">HTTP_204</span><span class=\"p\">,</span>\n    <span class=\"n\">HTTP_400</span><span class=\"p\">,</span>\n    <span class=\"n\">Response</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"kn\">from</span> <span class=\"nn\">molten_mail</span> <span class=\"kn\">import</span> <span class=\"n\">MailComponent</span><span class=\"p\">,</span> <span class=\"n\">Mail</span><span class=\"p\">,</span> <span class=\"n\">Message</span>\n\n<span class=\"c1\"># Replace with your own SMTP parameters</span>\n<span class=\"n\">settings</span> <span class=\"o\">=</span> <span class=\"n\">Settings</span><span class=\"p\">(</span>\n    <span class=\"p\">{</span>\n        <span class=\"s2\">\"MAIL_SERVER\"</span><span class=\"p\">:</span> <span class=\"s2\">\"smtp.example.com\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"MAIL_USERNAME\"</span><span class=\"p\">:</span> <span class=\"s2\">\"me@example.com\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"MAIL_PASSWORD\"</span><span class=\"p\">:</span> <span class=\"s2\">\"dontaddthistoyourversioncontrol\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"MAIL_PORT\"</span><span class=\"p\">:</span> <span class=\"mi\">587</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"MAIL_USE_TLS\"</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"MAIL_DEFAULT_SENDER\"</span><span class=\"p\">:</span> <span class=\"s2\">\"me@example.com\"</span><span class=\"p\">,</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">)</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">send_message</span><span class=\"p\">(</span><span class=\"n\">params</span><span class=\"p\">:</span> <span class=\"n\">QueryParams</span><span class=\"p\">,</span> <span class=\"n\">mail</span><span class=\"p\">:</span> <span class=\"n\">Mail</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"Emails an email address provided in the query string\"\"\"</span>\n    <span class=\"n\">addresses</span> <span class=\"o\">=</span> <span class=\"n\">params</span><span class=\"o\">.</span><span class=\"n\">get_all</span><span class=\"p\">(</span><span class=\"s2\">\"email\"</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">addresses</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"n\">Response</span><span class=\"p\">(</span>\n            <span class=\"n\">HTTP_400</span><span class=\"p\">,</span>\n            <span class=\"n\">content</span><span class=\"o\">=</span><span class=\"s2\">\"Provide emails in the query params to send a welcome message\"</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n    <span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"n\">Message</span><span class=\"p\">(</span>\n        <span class=\"n\">subject</span><span class=\"o\">=</span><span class=\"s2\">\"Welcome to Molten!\"</span><span class=\"p\">,</span>\n        <span class=\"n\">body</span><span class=\"o\">=</span><span class=\"s2\">\"Welcome to Molten! Glad to have you here.\"</span><span class=\"p\">,</span>\n        <span class=\"n\">recipients</span><span class=\"o\">=</span><span class=\"n\">addresses</span><span class=\"p\">,</span>\n    <span class=\"p\">)</span>\n    <span class=\"n\">mail</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">Response</span><span class=\"p\">(</span><span class=\"n\">HTTP_204</span><span class=\"p\">,</span> <span class=\"n\">content</span><span class=\"o\">=</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">routes</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">Route</span><span class=\"p\">(</span><span class=\"s2\">\"/\"</span><span class=\"p\">,</span> <span class=\"n\">send_message</span><span class=\"p\">,</span> <span class=\"s2\">\"POST\"</span><span class=\"p\">)]</span>\n\n<span class=\"n\">components</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">SettingsComponent</span><span class=\"p\">(</span><span class=\"n\">settings</span><span class=\"p\">),</span> <span class=\"n\">MailComponent</span><span class=\"p\">()]</span>\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">App</span><span class=\"p\">(</span><span class=\"n\">routes</span><span class=\"o\">=</span><span class=\"n\">routes</span><span class=\"p\">,</span> <span class=\"n\">components</span><span class=\"o\">=</span><span class=\"n\">components</span><span class=\"p\">)</span>\n</pre>\n<h3>Configuration Options</h3>\n<p>A singleton <code>Mail</code> component can be configured for use in dependency injection using options included in your <code>molten.Settings</code>. This requires that you include the <code>MailComponent</code> within you <code>molten.App</code> instance. The key values can either be all upper or lowercase and begin with <code>MAIL_</code>. The available options are:</p>\n<ul>\n<li>'MAIL_SERVER': default 'localhost'</li>\n<li>'MAIL_USERNAME': default None</li>\n<li>'MAIL_PASSWORD': default None</li>\n<li>'MAIL_PORT': default 25</li>\n<li>'MAIL_USE_TLS': default False</li>\n<li>'MAIL_USE_SSL': default False</li>\n<li>'MAIL_DEFAULT_SENDER': default None</li>\n<li>'MAIL_DEBUG': default False</li>\n<li>'MAIL_MAX_EMAILS': default None</li>\n<li>'MAIL_SUPPRESS_SEND': default False</li>\n<li>'MAIL_ASCII_ATTACHMENTS': False</li>\n</ul>\n<h3>Sending Messages</h3>\n<p>To send a message, instantiate a <code>Mail</code> component. Then create an instance of <code>Message</code>, and pass it to your <code>Mail</code> component using <code>mail.send(msg)</code></p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">molten_mail</span> <span class=\"kn\">import</span> <span class=\"n\">Mail</span><span class=\"p\">,</span> <span class=\"n\">Message</span>\n\n<span class=\"n\">mail</span> <span class=\"o\">=</span> <span class=\"n\">Mail</span><span class=\"p\">(</span><span class=\"n\">server</span><span class=\"o\">=</span><span class=\"s2\">\"localhost\"</span><span class=\"p\">,</span>\n            <span class=\"n\">user</span><span class=\"o\">=</span><span class=\"s2\">\"me@example.com\"</span><span class=\"p\">,</span>\n            <span class=\"n\">password</span><span class=\"o\">=</span><span class=\"s2\">\"dontaddthistoyourversioncontrol\"</span><span class=\"p\">,</span>\n            <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">587</span><span class=\"p\">,</span>\n            <span class=\"n\">use_tls</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n            <span class=\"n\">default_sender</span><span class=\"o\">=</span><span class=\"s2\">\"me@example.com\"</span><span class=\"p\">)</span>\n<span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"n\">Message</span><span class=\"p\">(</span><span class=\"n\">subject</span><span class=\"o\">=</span><span class=\"s2\">\"Hey there!\"</span><span class=\"p\">,</span> <span class=\"n\">body</span><span class=\"o\">=</span><span class=\"s2\">\"Welcome to Molten Mail\"</span><span class=\"p\">,</span> <span class=\"n\">recipients</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">\"you@example.com\"</span><span class=\"p\">])</span>\n<span class=\"n\">mail</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">)</span>\n</pre>\n<p>Your message recipients can be set in bulk or individually:</p>\n<pre><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">recipients</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'you@example.com'</span><span class=\"p\">,</span> <span class=\"s1\">'me@example.com'</span><span class=\"p\">]</span>\n<span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">add_recipient</span><span class=\"p\">(</span><span class=\"s1\">'otherperson@example.com'</span><span class=\"p\">)</span>\n</pre>\n<p>If you have included a default sender you do not need to set the message sender explicitly, as it will use this configuration value by default:</p>\n<pre><span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"n\">Message</span><span class=\"p\">(</span><span class=\"s1\">'Hello'</span><span class=\"p\">,</span>\n              <span class=\"n\">recipients</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'you@example.com'</span><span class=\"p\">])</span>\n</pre>\n<p>The sender can also be passed as a two element tuple containing a name and email address which will be split like so:</p>\n<pre><span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"n\">Message</span><span class=\"p\">(</span><span class=\"s1\">'Hello'</span><span class=\"p\">,</span>\n              <span class=\"n\">sender</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">'Me'</span><span class=\"p\">,</span> <span class=\"s1\">'me@example.com'</span><span class=\"p\">))</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">sender</span> <span class=\"o\">==</span> <span class=\"s1\">'Me &lt;me@example.com&gt;'</span>\n</pre>\n<p>A Message can contain a body and/or HTML:</p>\n<pre><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">body</span> <span class=\"o\">=</span> <span class=\"s1\">'message body'</span>\n<span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">html</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;Hello Molten-mail!&lt;/b&gt;'</span>\n</pre>\n<p>A convenience function <code>send_message</code> can also be used to create and send a message:</p>\n<pre><span class=\"n\">mail</span><span class=\"o\">.</span><span class=\"n\">send_message</span><span class=\"p\">(</span><span class=\"n\">subject</span><span class=\"o\">=</span><span class=\"s2\">\"Your subject\"</span><span class=\"p\">,</span> <span class=\"n\">body</span><span class=\"o\">=</span><span class=\"s2\">\"Message body\"</span><span class=\"p\">,</span> <span class=\"n\">recipients</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">\"you@example.com\"</span><span class=\"p\">])</span>\n</pre>\n<h3>HTML Email Templates</h3>\n<p>Molten-mail includes a convenience component <code>MailTemplates</code> for rendering HTML email bodies using <a href=\"http://jinja.pocoo.org/docs/\" rel=\"nofollow\">Jinja2</a>. You have to install <code>jinja2</code> yourself before using this module.</p>\n<p>You must include the <code>MailTemplatesComponent</code> in your app, passing the path to a folder containing your templates.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">molten</span> <span class=\"kn\">import</span> <span class=\"n\">App</span><span class=\"p\">,</span> <span class=\"n\">Route</span><span class=\"p\">,</span> <span class=\"n\">Response</span><span class=\"p\">,</span> <span class=\"n\">HTTP_204</span><span class=\"p\">,</span> <span class=\"n\">Settings</span><span class=\"p\">,</span> <span class=\"n\">SettingsComponent</span>\n<span class=\"kn\">from</span> <span class=\"nn\">molten_mail</span> <span class=\"kn\">import</span> <span class=\"n\">Mail</span><span class=\"p\">,</span> <span class=\"n\">MailComponent</span>\n<span class=\"kn\">from</span> <span class=\"nn\">molten_mail.templates</span> <span class=\"kn\">import</span> <span class=\"n\">MailTemplates</span><span class=\"p\">,</span> <span class=\"n\">MailTemplatesComponent</span>\n\n<span class=\"n\">settings</span> <span class=\"o\">=</span> <span class=\"n\">Settings</span><span class=\"p\">({</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">})</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">view_func</span><span class=\"p\">(</span><span class=\"n\">mail</span><span class=\"p\">:</span> <span class=\"n\">Mail</span><span class=\"p\">,</span> <span class=\"n\">mail_templates</span><span class=\"p\">:</span> <span class=\"n\">MailTemplates</span><span class=\"p\">):</span> <span class=\"o\">-&gt;</span> <span class=\"n\">Response</span><span class=\"p\">:</span>\n    <span class=\"n\">mail</span><span class=\"o\">.</span><span class=\"n\">send_message</span><span class=\"p\">(</span>\n        <span class=\"n\">subject</span><span class=\"o\">=</span><span class=\"s2\">\"Hello Molten!\"</span><span class=\"p\">,</span>\n        <span class=\"n\">html</span><span class=\"o\">=</span><span class=\"n\">mail_templates</span><span class=\"o\">.</span><span class=\"n\">render</span><span class=\"p\">(</span><span class=\"s2\">\"my_email_template.html\"</span><span class=\"p\">,</span> <span class=\"n\">somevalue</span><span class=\"o\">=</span><span class=\"s2\">\"Key values for the template context\"</span><span class=\"p\">),</span>\n        <span class=\"n\">recipients</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">\"you@example.com\"</span><span class=\"p\">]</span>\n    <span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">Response</span><span class=\"p\">(</span><span class=\"n\">HTTP_204</span><span class=\"p\">,</span> <span class=\"n\">content</span><span class=\"o\">=</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">App</span><span class=\"p\">(</span>\n    <span class=\"n\">components</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">SettingsComponent</span><span class=\"p\">(</span><span class=\"n\">settings</span><span class=\"p\">),</span>\n                <span class=\"n\">MailComponent</span><span class=\"p\">(),</span>\n                <span class=\"n\">MailTemplatesComponent</span><span class=\"p\">(</span><span class=\"s1\">'./path_to_templates_dir'</span><span class=\"p\">)],</span>\n    <span class=\"n\">routes</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">Route</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"n\">view_func</span><span class=\"p\">,</span> <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">\"POST\"</span><span class=\"p\">]</span>\n<span class=\"p\">)</span>\n</pre>\n<h2>Testing</h2>\n<p>To run the test suite with coverage first install the package in editable mode with it's full testing requirements:</p>\n<p><code>$ pip install -e \".[dev]\"</code></p>\n<p>To run the project's tests</p>\n<p><code>$ pytest --cov</code></p>\n<p>To run tests against multiple python interpreters use:</p>\n<p><code>$ tox</code></p>\n<h1>HISTORY</h1>\n<h3>0.1.0 Initial Release</h3>\n<ul>\n<li>Initial release.</li>\n</ul>\n\n          </div>"}, "last_serial": 4833010, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "984cd46849a56b2272c60e37e64d6d47", "sha256": "393bac634d14c98f2cd7d4018341317095f92bf3eb8bcbae996670781c85562f"}, "downloads": -1, "filename": "molten_mail-0.1.0-py36-none-any.whl", "has_sig": false, "md5_digest": "984cd46849a56b2272c60e37e64d6d47", "packagetype": "bdist_wheel", "python_version": "py36", "requires_python": null, "size": 10582, "upload_time": "2019-02-18T02:12:04", "upload_time_iso_8601": "2019-02-18T02:12:04.322351Z", "url": "https://files.pythonhosted.org/packages/43/e2/49ab3fb3e2a741e3522029435cf188c2095ffeec5735ccb58dbb90f40069/molten_mail-0.1.0-py36-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6d888f41d5445be413463e3144dd504c", "sha256": "dd6a60a0fca288c4dcd90d24a98bb8014368ed2a5e8e148a0df36c792653719d"}, "downloads": -1, "filename": "molten_mail-0.1.0.tar.gz", "has_sig": false, "md5_digest": "6d888f41d5445be413463e3144dd504c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15975, "upload_time": "2019-02-18T02:12:06", "upload_time_iso_8601": "2019-02-18T02:12:06.443393Z", "url": "https://files.pythonhosted.org/packages/f1/d4/305c4583eda6799c95835c4d1caf54c0adbb3d26af4894513e1244900af0/molten_mail-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "984cd46849a56b2272c60e37e64d6d47", "sha256": "393bac634d14c98f2cd7d4018341317095f92bf3eb8bcbae996670781c85562f"}, "downloads": -1, "filename": "molten_mail-0.1.0-py36-none-any.whl", "has_sig": false, "md5_digest": "984cd46849a56b2272c60e37e64d6d47", "packagetype": "bdist_wheel", "python_version": "py36", "requires_python": null, "size": 10582, "upload_time": "2019-02-18T02:12:04", "upload_time_iso_8601": "2019-02-18T02:12:04.322351Z", "url": "https://files.pythonhosted.org/packages/43/e2/49ab3fb3e2a741e3522029435cf188c2095ffeec5735ccb58dbb90f40069/molten_mail-0.1.0-py36-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6d888f41d5445be413463e3144dd504c", "sha256": "dd6a60a0fca288c4dcd90d24a98bb8014368ed2a5e8e148a0df36c792653719d"}, "downloads": -1, "filename": "molten_mail-0.1.0.tar.gz", "has_sig": false, "md5_digest": "6d888f41d5445be413463e3144dd504c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15975, "upload_time": "2019-02-18T02:12:06", "upload_time_iso_8601": "2019-02-18T02:12:06.443393Z", "url": "https://files.pythonhosted.org/packages/f1/d4/305c4583eda6799c95835c4d1caf54c0adbb3d26af4894513e1244900af0/molten_mail-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:52:30 2020"}
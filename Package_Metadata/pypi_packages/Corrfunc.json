{"info": {"author": "Manodeep Sinha", "author_email": "manodeep@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "Intended Audience :: Science/Research", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Operating System :: POSIX", "Programming Language :: C", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6"], "description": "|logo|\n\n|Release| |PyPI| |MIT licensed| |Travis Build| |RTD| |Codacy| |Issues|\n\n|ASCL| |Paper I| |Paper II|\n\nDescription\n===========\n\nThis repo contains a suite of codes to calculate correlation functions and\nother clustering statistics for **simulated** galaxies in a cosmological box (co-moving XYZ)\nand on **observed** galaxies with on-sky positions (RA, DEC, CZ). Read the\ndocumentation on `corrfunc.rtfd.io <http://corrfunc.rtfd.io/>`_.\n\nWhy Should You Use it\n======================\n\n1. **Fast** Theory pair-counting is **7x** faster than ``SciPy cKDTree``, and at least **2x** faster than all existing public codes.\n2. **OpenMP Parallel** All pair-counting codes can be done in parallel (with strong scaling efficiency >~ 95% up to 10 cores)\n3. **Python Extensions** Python extensions allow you to do the compute-heavy bits using C while retaining all of the user-friendliness of python.\n4. **Weights** All correlation functions now support *arbitrary, user-specified* weights for individual points\n5. **Modular** The code is written in a modular fashion and is easily extensible to compute arbitrary clustering statistics.\n6. **Future-proof** As we get access to newer instruction-sets, the codes will get updated to use the latest and greatest CPU features.\n\n*If you use the codes for your analysis, please star this repo -- that helps us keep track of the number of users.*\n\nBenchmark against Existing Codes\n================================\n\nPlease see this\n`gist <https://gist.github.com/manodeep/cffd9a5d77510e43ccf0>`__ for\nsome benchmarks with current codes. If you have a pair-counter that you would like to compare, please add in a corresponding function and update the timings.\n\nInstallation\n============\n\nPre-requisites\n--------------\n\n1. ``make >= 3.80``\n2. OpenMP capable compiler like ``icc``, ``gcc>=4.6`` or ``clang >= 3.7``. If\n   not available, please disable ``USE_OMP`` option option in\n   ``theory.options`` and ``mocks.options``. You might need to ask your\n   sys-admin for system-wide installs of the compiler; if you prefer to\n   install your own then ``conda install gcc`` (MAC/linux) or\n   ``(sudo) port install gcc5`` (on MAC) should work.\n3. ``gsl >= 2.4``. Use either\n   ``conda install -c conda-forge gsl``\n   (MAC/linux) or ``(sudo) port install gsl`` (MAC) to install ``gsl``\n   if necessary.\n4. ``python >= 2.7`` or ``python>=3.4`` for compiling the C extensions.\n5. ``numpy>=1.7`` for compiling the C extensions.\n\nPreferred Install Method\n-------------------------\n\n::\n\n    $ git clone https://github.com/manodeep/Corrfunc/\n    $ make\n    $ make install\n    $ python setup.py install (--user)\n    $ make tests\n\nAssuming you have ``gcc`` in your ``PATH``, ``make`` and\n``make install`` should compile and install the C libraries + python\nextensions within the source directory. If you would like to install the\npython C extensions in your environment, then\n``python setup.py install (--user)`` should be sufficient. If you are primarily\ninterested in the ``python`` interface, you can condense all of the steps\nby using ``python setup.py install CC=yourcompiler (--user)`` after ``git clone``.\n\nCompilation Notes\n------------------\n\n- If python and/or numpy are not available, then the C extensions will not be compiled.\n\n- ``make install`` simply copies files into the ``lib/bin/include`` sub-directories. You do not need ``root`` permissions\n\n- Default compiler on MAC is set to ``clang``, if you want to specify a different compiler, you will have to call ``make CC=yourcompiler``,  ``make install CC=yourcompiler``, ``make tests CC=yourcompiler`` etc. If you want to permanently change the default compiler, then please edit the `common.mk <common.mk>`__ file in the base directory.\n\n- If you are directly using ``python setup.py install CC=yourcompiler (--user)``, please run a ``make distclean`` beforehand (especially if switching compilers)\n\n\nAlternate Install Method\n-------------------------\n\nThe python package is directly installable via ``pip install Corrfunc``. However, in that case you will lose the ability to recompile the code according to your needs. Installing via ``pip`` is **not** recommended, please open an install issue on this repo first; doing so helps improve the code-base and saves future users from running into similar install issues.\n\nOpenMP on OSX\n--------------\n\nAutomatically detecting OpenMP support from the compiler and the runtime is a\nbit tricky. If you run into any issues compiling (or running) with OpenMP,\nplease refer to the `FAQ <FAQ>`__ for potential solutions.\n\n\nInstallation notes\n------------------\n\nIf compilation went smoothly, please run ``make tests`` to ensure the\ncode is working correctly. Depending on the hardware and compilation\noptions, the tests might take more than a few minutes. *Note that the\ntests are exhaustive and not traditional unit tests*.\n\nWhile I have tried to ensure that the package compiles and runs out of\nthe box, cross-platform compatibility turns out to be incredibly hard.\nIf you run into any issues during compilation and you have all of the\npre-requisites, please see the `FAQ <FAQ>`__ or `email\nthe Corrfunc mailing list <mailto:corrfunc@googlegroups.com>`__. Also, feel free to create a new issue\nwith the ``Installation`` label.\n\nClustering Measures on simulated galaxies\n------------------------------------------\n\nInput data\n+++++++++++\n\nThe input galaxies (or any discrete distribution of points) are derived from a\nsimulation. For instance, the galaxies could be a result of an Halo Occupation\nDistribution (HOD) model, a Subhalo Abundance matching (SHAM) model, a\nSemi-Empirical model (SEM), or a Semi-Analytic model (SAM) etc. The input set of\npoints can also be the dark matter halos, or the dark matter particles from\na cosmological simulation. The input set of points are expected to have\npositions specified in Cartesian XYZ.\n\nTypes of available clustering statistics\n+++++++++++++++++++++++++++++++++++++++++\n\nAll codes that work on cosmological boxes with co-moving positions are\nlocated in the ``theory`` directory. The various clustering measures\nare:\n\n1. ``DD`` -- Measures auto/cross-correlations between two boxes.\n   The boxes do not need to be cubes.\n\n2. ``xi`` -- Measures 3-d auto-correlation in a cubic cosmological box.\n   Assumes PERIODIC boundary conditions.\n\n3. ``wp`` -- Measures auto 2-d point projected correlation function in a\n   cubic cosmological box. Assumes PERIODIC boundary conditions.\n\n4. ``DDrppi`` -- Measures the auto/cross correlation function between\n   two boxes. The boxes do not need to be cubes.\n\n5. ``DDsmu`` -- Measures the auto/cross correlation function between\n   two boxes. The boxes do not need to be cubes.\n\n6. ``vpf`` -- Measures the void probability function + counts-in-cells.\n\nClustering measures on observed galaxies\n----------------------------------------\n\nInput data\n+++++++++++\n\nThe input galaxies are typically observed galaxies coming from a large-scale\ngalaxy survey. In addition, simulated galaxies that have been projected onto the sky\n(i.e., where observational systematics have been incorporated and on-sky\npositions have been generated) can also be used. We generically refer to both\nthese kinds of galaxies as \"mocks\".\n\n\nThe input galaxies are expected to have positions specified in spherical\nco-ordinates with at least right ascension (RA) and declination (DEC).\nFor spatial correlation functions, an approximate \"co-moving\" distance\n(speed of light multiplied by redshift, CZ) is also required.\n\n\nTypes of available clustering statistics\n+++++++++++++++++++++++++++++++++++++++++\n\nAll codes that work on mock catalogs (RA, DEC, CZ) are located in the\n``mocks`` directory. The various clustering measures are:\n\n1. ``DDrppi_mocks`` -- The standard auto/cross correlation between two data\n   sets. The outputs, DD, DR and RR can be combined using ``wprp`` to\n   produce the Landy-Szalay estimator for `wp(rp)`.\n\n2. ``DDsmu_mocks`` -- The standard auto/cross correlation between two data\n   sets. The outputs, DD, DR and RR can be combined using the python utility\n   ``convert_3d_counts_to_cf`` to produce the Landy-Szalay estimator for `xi(s, mu)`.\n\n3. ``DDtheta_mocks`` -- Computes angular correlation function between two data\n   sets. The outputs from ``DDtheta_mocks`` need to be combined with\n   ``wtheta`` to get the full `\\omega(\\theta)`\n\n4. ``vpf_mocks`` -- Computes the void probability function on mocks.\n\nScience options\n===============\n\nIf you plan to use the command-line, then you will have to specify the\ncode runtime options at compile-time. For theory routines, these options\nare in the file `theory.options <theory.options>`__ while for the mocks, these options are\nin file `mocks.options <mocks.options>`__.\n\n**Note** All options can be specified at\nruntime if you use the python interface or the static libraries. Each one of\nthe following ``Makefile`` option has a corresponding entry for the runtime\nlibraries.\n\nTheory (in `theory.options <theory.options>`__)\n-------------------------------------------------\n\n1. ``PERIODIC`` (ignored in case of wp/xi) -- switches periodic boundary\n   conditions on/off. Enabled by default.\n\n2. ``OUTPUT_RPAVG`` -- switches on output of ``<rp>`` in each ``rp``\n   bin. Can be a massive performance hit (~ 2.2x in case of wp).\n   Disabled by default.\n\nMocks (in `mocks.options <mocks.options>`__)\n----------------------------------------------\n\n1. ``OUTPUT_RPAVG`` -- switches on output of ``<rp>`` in each ``rp``\n   bin for ``DDrppi_mocks``. Enabled by default.\n\n2. ``OUTPUT_THETAAVG`` -- switches on output of in each theta bin. Can\n   be extremely slow (~5x) depending on compiler, and CPU capabilities.\n   Disabled by default.\n\n3. ``LINK_IN_DEC`` -- creates binning in declination for ``DDtheta_mocks``. Please\n   check that for your desired limits ``\\theta``, this binning does not\n   produce incorrect results (due to numerical precision). Generally speaking,\n   if your ``\\thetamax`` (the max. ``\\theta`` to consider pairs within) is too\n   small (probaly less than 1 degree), then you should check with and without\n   this option. Errors are typically sub-percent level.\n\n4. ``LINK_IN_RA`` -- creates binning in RA once binning in DEC has been\n   enabled for ``DDtheta_mocks``. Same numerical issues as ``LINK_IN_DEC``\n\n5. ``FAST_ACOS`` -- Relevant only when ``OUTPUT_THETAAVG`` is enabled for\n   ``DDtheta_mocks``. Disabled by default. An ``arccos`` is required to\n   calculate ``<\\theta>``. In absence of vectorized ``arccos`` (intel compiler,\n   ``icc`` provides one via intel Short Vector Math Library), this calculation is extremely slow. However, we can approximate\n   ``arccos`` using polynomials (with `Remez Algorithm <https://en.wikipedia.org/wiki/Remez_algorithm>`_).\n   The approximations are taken from implementations released by `Geometric Tools <http://geometrictools.com/>`_.\n   Depending on the level of accuracy desired, this implementation of ``fast acos``\n   can be tweaked in the file `utils/fast_acos.h <utils/fast_acos.h>`__. An alternate, less\n   accurate implementation is already present in that file. Please check that the loss of\n   precision is not important for your use-case.\n\n6. ``COMOVING_DIST`` -- Currently there is no support in ``Corrfunc`` for different cosmologies. However, for the\n   mocks routines like, ``DDrppi_mocks`` and ``vpf_mocks``, cosmology parameters are required to convert between\n   redshift and co-moving distance. Both ``DDrppi_mocks`` and ``vpf_mocks`` expects to receive a ``redshift`` array\n   as input; however, with this option enabled, the ``redshift`` array will be assumed to contain already converted\n   co-moving distances. So, if you have redshifts and want to use an arbitrary cosmology, then convert the redshifts\n   into co-moving distances, enable this option, and pass the co-moving distance array into the routines.\n\nCommon Code options for both Mocks and Theory\n==============================================\n\n1. ``DOUBLE_PREC`` -- switches on calculations in double\n   precision. Calculations are performed in double precision when enabled. This\n   option is disabled by default in theory and enabled by default in the mocks\n   routines.\n\n2. ``USE_OMP`` -- uses OpenMP parallelization. Scaling is great for DD\n   (close to perfect scaling up to 12 threads in our tests) and okay (runtime\n   becomes constant ~6-8 threads in our tests) for ``DDrppi`` and ``wp``.\n   Enabled by default. The ``Makefile`` will compare the `CC` variable with\n   known OpenMP enabled compilers and set compile options accordingly.\n   Set in `common.mk <common.mk>`__ by default.\n\n3. ``ENABLE_MIN_SEP_OPT`` -- uses some further optimisations based on the\n   minimum separation between pairs of cells. Enabled by default.\n\n4. ``COPY_PARTICLES`` -- whether or not to create a copy of the particle\n   positions (and weights, if supplied). Enabled by default (copies of the\n   particle arrays **are** created)\n\n5. ``FAST_DIVIDE`` -- Disabled by default. Divisions are slow but required\n   ``DDrppi_mocks(r_p,\\pi)``, ``DDsmu_mocks(s, \\mu)`` and ``DD(s, \\mu)``.\n   Enabling this option, replaces the divisions with a reciprocal\n   followed by a Newton-Raphson. The code will run ~20% faster at the expense\n   of some numerical precision. Please check that the loss of precision is not\n   important for your use-case.\n\n*Optimization for your architecture*\n\n1. The values of ``bin_refine_factor`` and/or ``zbin_refine_factor`` in\n   the ``countpairs\\_\\*.c`` files control the cache-misses, and\n   consequently, the runtime. In my trial-and-error methods, I have seen\n   any values larger than 3 are generally slower for theory routines but\n   can be faster for mocks. But some different\n   combination of 1/2 for ``(z)bin_refine_factor`` might be faster on\n   your platform.\n\n2. If you are using the angular correlation function and need ``thetaavg``,\n   you might benefit from using the INTEL MKL library. The vectorized\n   trigonometric functions provided by MKL can provide significant speedup.\n\n\nRunning the codes\n=================\n\nRead the documentation on `corrfunc.rtfd.io <http://corrfunc.rtfd.io/>`_.\n\n\nUsing the command-line interface\n--------------------------------\n\nNavigate to the correct directory. Make sure that the options, set in\neither `theory.options <theory.options>`__ or `mocks.options <mocks.options>`__ in the root directory are\nwhat you want. If not, edit those two files (and possibly\n`common.mk <common.mk>`__), and recompile. Then, you can use the command-line\nexecutables in each individual subdirectory corresponding to the\nclustering measure you are interested in. For example, if you want to\ncompute the full 3-D correlation function, ``\\xi(r)``, then run the\nexecutable ``theory/xi/xi``. If you run executables without any arguments,\nthe program will output a message with all the required arguments.\n\nCalling from C\n--------------\n\nLook under the `run_correlations.c <theory/examples/run_correlations.c>`__ and\n`run_correlations_mocks.c <mocks/examples/run_correlations_mocks.c>`__ to see examples of\ncalling the C API directly. If you run the executables,\n``run_correlations`` and ``run_correlations_mocks``, the output will\nalso show how to call the command-line interface for the various\nclustering measures.\n\nCalling from Python\n-------------------\n\nIf all went well, the codes can be directly called from ``python``.\nPlease see `call_correlation_functions.py <Corrfunc/call_correlation_functions.py>`__ and\n`call_correlation_functions_mocks.py <Corrfunc/call_correlation_functions_mocks.py>`__ for examples on how to\nuse the C extensions directly. Here are a few examples:\n\n.. code:: python\n\n    from __future__ import print_function\n    import os.path as path\n    import numpy as np\n    import Corrfunc\n    from Corrfunc.theory import wp\n\n    # Setup the problem for wp\n    boxsize = 500.0\n    pimax = 40.0\n    nthreads = 4\n\n    # Create a fake data-set.\n    Npts = 100000\n    x = np.float32(np.random.random(Npts))\n    y = np.float32(np.random.random(Npts))\n    z = np.float32(np.random.random(Npts))\n    x *= boxsize\n    y *= boxsize\n    z *= boxsize\n\n    # Setup the bins\n    rmin = 0.1\n    rmax = 20.0\n    nbins = 20\n\n    # Create the bins\n    rbins = np.logspace(np.log10(0.1), np.log10(rmax), nbins + 1)\n\n    # Call wp\n    wp_results = wp(boxsize, pimax, nthreads, rbins, x, y, z, verbose=True, output_rpavg=True)\n\n    # Print the results\n    print(\"#############################################################################\")\n    print(\"##       rmin           rmax            rpavg             wp            npairs\")\n    print(\"#############################################################################\")\n    print(wp_results)\n\n\nAuthor & Maintainers\n=====================\n\nCorrfunc was designed by Manodeep Sinha and is currently maintained by\n`Lehman Garrison <https://github.com/lgarrison>`_ and `Manodeep Sinha <https://github.com/manodeep>`_\n\nCiting\n======\n\nIf you use ``Corrfunc`` for research, please cite using the MNRAS code paper with the following\nbibtex entry:\n\n::\n\n   @ARTICLE{2020MNRAS.491.3022S,\n       author = {{Sinha}, Manodeep and {Garrison}, Lehman H.},\n       title = \"{CORRFUNC - a suite of blazing fast correlation functions on\n       the CPU}\",\n       journal = {\\mnras},\n       keywords = {methods: numerical, galaxies: general, galaxies:\n       haloes, dark matter, large-scale structure of Universe, cosmology:\n       theory},\n       year = \"2020\",\n       month = \"Jan\",\n       volume = {491},\n       number = {2},\n       pages = {3022-3041},\n       doi = {10.1093/mnras/stz3157},\n       adsurl =\n       {https://ui.adsabs.harvard.edu/abs/2020MNRAS.491.3022S},\n       adsnote = {Provided by the SAO/NASA\n       Astrophysics Data System}\n   }\n\n\nIf you are using ``Corrfunc v2.3.0`` or later, **and** you benefit from the\nenhanced vectorised kernels, then please additionally cite this paper:\n\n::\n\n      @InProceedings{10.1007/978-981-13-7729-7_1,\n          author=\"Sinha, Manodeep and Garrison, Lehman\",\n          editor=\"Majumdar, Amit and Arora, Ritu\",\n          title=\"CORRFUNC: Blazing Fast Correlation Functions with AVX512F SIMD Intrinsics\",\n          booktitle=\"Software Challenges to Exascale Computing\",\n          year=\"2019\",\n          publisher=\"Springer Singapore\",\n          address=\"Singapore\",\n          pages=\"3--20\",\n          isbn=\"978-981-13-7729-7\",\n          url={https://doi.org/10.1007/978-981-13-7729-7_1}\n      }\n\n\n\nMailing list\n============\n\nIf you have questions or comments about the package, please do so on the\nmailing list: https://groups.google.com/forum/#!forum/corrfunc\n\nLICENSE\n=======\n\nCorrfunc is released under the MIT license. Basically, do what you want\nwith the code, including using it in commercial application.\n\nProject URL\n===========\n\n-  documentation (http://corrfunc.rtfd.io/)\n-  version control (https://github.com/manodeep/Corrfunc)\n\n.. |logo| image:: https://github.com/manodeep/Corrfunc/blob/master/corrfunc_logo.png\n    :target: https://github.com/manodeep/Corrfunc\n    :alt: Corrfunc logo\n.. |Release| image:: https://img.shields.io/github/release/manodeep/Corrfunc.svg\n   :target: https://github.com/manodeep/Corrfunc/releases/latest\n   :alt: Latest Release\n.. |PyPI| image:: https://img.shields.io/pypi/v/Corrfunc.svg\n   :target: https://pypi.python.org/pypi/Corrfunc\n   :alt: PyPI Release\n.. |MIT licensed| image:: https://img.shields.io/badge/license-MIT-blue.svg\n   :target: https://raw.githubusercontent.com/manodeep/Corrfunc/master/LICENSE\n   :alt: MIT License\n.. |ASCL| image:: https://img.shields.io/badge/ascl-1703.003-blue.svg?colorB=262255\n   :target: http://ascl.net/1703.003\n   :alt: ascl:1703.003\n.. |Travis Build| image:: https://travis-ci.org/manodeep/Corrfunc.svg?branch=master\n   :target: https://travis-ci.org/manodeep/Corrfunc\n   :alt: Build Status\n.. |Issues| image:: https://img.shields.io/github/issues/manodeep/Corrfunc.svg\n   :target: https://github.com/manodeep/Corrfunc/issues\n   :alt: Open Issues\n.. |RTD| image:: https://readthedocs.org/projects/corrfunc/badge/?version=master\n   :target: http://corrfunc.readthedocs.io/en/master/?badge=master\n   :alt: Documentation Status\n\n.. |Codacy| image:: https://api.codacy.com/project/badge/Grade/95717e4798b04ee5ad42d5cab3c15429\n   :target: https://app.codacy.com/project/manodeep/Corrfunc/dashboard\n   :alt: Code Quality\n\n.. |Paper I| image:: https://img.shields.io/badge/arXiv-1911.03545-%23B31B1B\n   :target: https://arxiv.org/abs/1911.03545\n   :alt: Corrfunc Paper I\n\n.. |Paper II| image:: https://img.shields.io/badge/arXiv-1911.08275-%23B31B1B\n   :target: https://arxiv.org/abs/1911.08275\n   :alt: Corrfunc Paper II", "description_content_type": "", "docs_url": null, "download_url": "https://github.com/manodeep/Corrfunc/archive/Corrfunc-2.3.3.tar.gz", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/manodeep/Corrfunc", "keywords": "correlation functions,simulations,surveys,galaxies", "license": "MIT", "maintainer": "Manodeep Sinha", "maintainer_email": "manodeep@gmail.com", "name": "Corrfunc", "package_url": "https://pypi.org/project/Corrfunc/", "platform": "Linux", "project_url": "https://pypi.org/project/Corrfunc/", "project_urls": {"Download": "https://github.com/manodeep/Corrfunc/archive/Corrfunc-2.3.3.tar.gz", "Homepage": "https://github.com/manodeep/Corrfunc"}, "release_url": "https://pypi.org/project/Corrfunc/2.3.3/", "requires_dist": null, "requires_python": ">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, <4", "summary": "Blazing fast correlation functions on the CPU", "version": "2.3.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://github.com/manodeep/Corrfunc\" rel=\"nofollow\"><img alt=\"Corrfunc logo\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6ceebce35b90219f3791a2c600abd416d0b0a025/68747470733a2f2f6769746875622e636f6d2f6d616e6f646565702f436f727266756e632f626c6f622f6d61737465722f636f727266756e635f6c6f676f2e706e67\"></a></p>\n<p><a href=\"https://github.com/manodeep/Corrfunc/releases/latest\" rel=\"nofollow\"><img alt=\"Latest Release\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ed0c398cbb1521caa2c3ef98116846fce73844b3/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f6d616e6f646565702f436f727266756e632e737667\"></a> <a href=\"https://pypi.python.org/pypi/Corrfunc\" rel=\"nofollow\"><img alt=\"PyPI Release\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d2febd3af41b8da676562397d2c4fca85d9e2002/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f436f727266756e632e737667\"></a> <a href=\"https://raw.githubusercontent.com/manodeep/Corrfunc/master/LICENSE\" rel=\"nofollow\"><img alt=\"MIT License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c88fab50b4a1dc0cd91faeb7ba5654d56e380260/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d626c75652e737667\"></a> <a href=\"https://travis-ci.org/manodeep/Corrfunc\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d0846635b9924c96c1e485416b39099558b4ab3d/68747470733a2f2f7472617669732d63692e6f72672f6d616e6f646565702f436f727266756e632e7376673f6272616e63683d6d6173746572\"></a> <a href=\"http://corrfunc.readthedocs.io/en/master/?badge=master\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f52eed26cc69597e2184036deca94e85cb3b5b9f/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f636f727266756e632f62616467652f3f76657273696f6e3d6d6173746572\"></a> <a href=\"https://app.codacy.com/project/manodeep/Corrfunc/dashboard\" rel=\"nofollow\"><img alt=\"Code Quality\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/faa7d0eedb05f8c2ae8c9039a78d5b93414a399c/68747470733a2f2f6170692e636f646163792e636f6d2f70726f6a6563742f62616467652f47726164652f3935373137653437393862303465653561643432643563616233633135343239\"></a> <a href=\"https://github.com/manodeep/Corrfunc/issues\" rel=\"nofollow\"><img alt=\"Open Issues\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/afd005fd03e65f9ed92381c008e917accab93ea9/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732f6d616e6f646565702f436f727266756e632e737667\"></a></p>\n<p><a href=\"http://ascl.net/1703.003\" rel=\"nofollow\"><img alt=\"ascl:1703.003\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/26b7b6db0026eb577dfc3583335985c0cdcd5589/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6173636c2d313730332e3030332d626c75652e7376673f636f6c6f72423d323632323535\"></a> <a href=\"https://arxiv.org/abs/1911.03545\" rel=\"nofollow\"><img alt=\"Corrfunc Paper I\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/21a4086eb19343a3a944ff2d31f5bd6ee70406e5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f61725869762d313931312e30333534352d253233423331423142\"></a> <a href=\"https://arxiv.org/abs/1911.08275\" rel=\"nofollow\"><img alt=\"Corrfunc Paper II\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e5b384e232402c6149696513db40727bc506aca4/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f61725869762d313931312e30383237352d253233423331423142\"></a></p>\n<div id=\"description\">\n<h2>Description</h2>\n<p>This repo contains a suite of codes to calculate correlation functions and\nother clustering statistics for <strong>simulated</strong> galaxies in a cosmological box (co-moving XYZ)\nand on <strong>observed</strong> galaxies with on-sky positions (RA, DEC, CZ). Read the\ndocumentation on <a href=\"http://corrfunc.rtfd.io/\" rel=\"nofollow\">corrfunc.rtfd.io</a>.</p>\n</div>\n<div id=\"why-should-you-use-it\">\n<h2>Why Should You Use it</h2>\n<ol>\n<li><strong>Fast</strong> Theory pair-counting is <strong>7x</strong> faster than <tt>SciPy cKDTree</tt>, and at least <strong>2x</strong> faster than all existing public codes.</li>\n<li><strong>OpenMP Parallel</strong> All pair-counting codes can be done in parallel (with strong scaling efficiency &gt;~ 95% up to 10 cores)</li>\n<li><strong>Python Extensions</strong> Python extensions allow you to do the compute-heavy bits using C while retaining all of the user-friendliness of python.</li>\n<li><strong>Weights</strong> All correlation functions now support <em>arbitrary, user-specified</em> weights for individual points</li>\n<li><strong>Modular</strong> The code is written in a modular fashion and is easily extensible to compute arbitrary clustering statistics.</li>\n<li><strong>Future-proof</strong> As we get access to newer instruction-sets, the codes will get updated to use the latest and greatest CPU features.</li>\n</ol>\n<p><em>If you use the codes for your analysis, please star this repo \u2013 that helps us keep track of the number of users.</em></p>\n</div>\n<div id=\"benchmark-against-existing-codes\">\n<h2>Benchmark against Existing Codes</h2>\n<p>Please see this\n<a href=\"https://gist.github.com/manodeep/cffd9a5d77510e43ccf0\" rel=\"nofollow\">gist</a> for\nsome benchmarks with current codes. If you have a pair-counter that you would like to compare, please add in a corresponding function and update the timings.</p>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<div id=\"pre-requisites\">\n<h3>Pre-requisites</h3>\n<ol>\n<li><tt>make &gt;= 3.80</tt></li>\n<li>OpenMP capable compiler like <tt>icc</tt>, <tt><span class=\"pre\">gcc&gt;=4.6</span></tt> or <tt>clang &gt;= 3.7</tt>. If\nnot available, please disable <tt>USE_OMP</tt> option option in\n<tt>theory.options</tt> and <tt>mocks.options</tt>. You might need to ask your\nsys-admin for system-wide installs of the compiler; if you prefer to\ninstall your own then <tt>conda install gcc</tt> (MAC/linux) or\n<tt>(sudo) port install gcc5</tt> (on MAC) should work.</li>\n<li><tt>gsl &gt;= 2.4</tt>. Use either\n<tt>conda install <span class=\"pre\">-c</span> <span class=\"pre\">conda-forge</span> gsl</tt>\n(MAC/linux) or <tt>(sudo) port install gsl</tt> (MAC) to install <tt>gsl</tt>\nif necessary.</li>\n<li><tt>python &gt;= 2.7</tt> or <tt><span class=\"pre\">python&gt;=3.4</span></tt> for compiling the C extensions.</li>\n<li><tt><span class=\"pre\">numpy&gt;=1.7</span></tt> for compiling the C extensions.</li>\n</ol>\n</div>\n<div id=\"preferred-install-method\">\n<h3>Preferred Install Method</h3>\n<pre>$ git clone https://github.com/manodeep/Corrfunc/\n$ make\n$ make install\n$ python setup.py install (--user)\n$ make tests\n</pre>\n<p>Assuming you have <tt>gcc</tt> in your <tt>PATH</tt>, <tt>make</tt> and\n<tt>make install</tt> should compile and install the C libraries + python\nextensions within the source directory. If you would like to install the\npython C extensions in your environment, then\n<tt>python setup.py install <span class=\"pre\">(--user)</span></tt> should be sufficient. If you are primarily\ninterested in the <tt>python</tt> interface, you can condense all of the steps\nby using <tt>python setup.py install CC=yourcompiler <span class=\"pre\">(--user)</span></tt> after <tt>git clone</tt>.</p>\n</div>\n<div id=\"compilation-notes\">\n<h3>Compilation Notes</h3>\n<ul>\n<li>If python and/or numpy are not available, then the C extensions will not be compiled.</li>\n<li><tt>make install</tt> simply copies files into the <tt>lib/bin/include</tt> sub-directories. You do not need <tt>root</tt> permissions</li>\n<li>Default compiler on MAC is set to <tt>clang</tt>, if you want to specify a different compiler, you will have to call <tt>make CC=yourcompiler</tt>,  <tt>make install CC=yourcompiler</tt>, <tt>make tests CC=yourcompiler</tt> etc. If you want to permanently change the default compiler, then please edit the <a href=\"common.mk\" rel=\"nofollow\">common.mk</a> file in the base directory.</li>\n<li>If you are directly using <tt>python setup.py install CC=yourcompiler <span class=\"pre\">(--user)</span></tt>, please run a <tt>make distclean</tt> beforehand (especially if switching compilers)</li>\n</ul>\n</div>\n<div id=\"alternate-install-method\">\n<h3>Alternate Install Method</h3>\n<p>The python package is directly installable via <tt>pip install Corrfunc</tt>. However, in that case you will lose the ability to recompile the code according to your needs. Installing via <tt>pip</tt> is <strong>not</strong> recommended, please open an install issue on this repo first; doing so helps improve the code-base and saves future users from running into similar install issues.</p>\n</div>\n<div id=\"openmp-on-osx\">\n<h3>OpenMP on OSX</h3>\n<p>Automatically detecting OpenMP support from the compiler and the runtime is a\nbit tricky. If you run into any issues compiling (or running) with OpenMP,\nplease refer to the <a href=\"FAQ\" rel=\"nofollow\">FAQ</a> for potential solutions.</p>\n</div>\n<div id=\"installation-notes\">\n<h3>Installation notes</h3>\n<p>If compilation went smoothly, please run <tt>make tests</tt> to ensure the\ncode is working correctly. Depending on the hardware and compilation\noptions, the tests might take more than a few minutes. <em>Note that the\ntests are exhaustive and not traditional unit tests</em>.</p>\n<p>While I have tried to ensure that the package compiles and runs out of\nthe box, cross-platform compatibility turns out to be incredibly hard.\nIf you run into any issues during compilation and you have all of the\npre-requisites, please see the <a href=\"FAQ\" rel=\"nofollow\">FAQ</a> or <a href=\"mailto:corrfunc%40googlegroups.com\">email\nthe Corrfunc mailing list</a>. Also, feel free to create a new issue\nwith the <tt>Installation</tt> label.</p>\n</div>\n<div id=\"clustering-measures-on-simulated-galaxies\">\n<h3>Clustering Measures on simulated galaxies</h3>\n<div id=\"input-data\">\n<h4>Input data</h4>\n<p>The input galaxies (or any discrete distribution of points) are derived from a\nsimulation. For instance, the galaxies could be a result of an Halo Occupation\nDistribution (HOD) model, a Subhalo Abundance matching (SHAM) model, a\nSemi-Empirical model (SEM), or a Semi-Analytic model (SAM) etc. The input set of\npoints can also be the dark matter halos, or the dark matter particles from\na cosmological simulation. The input set of points are expected to have\npositions specified in Cartesian XYZ.</p>\n</div>\n<div id=\"types-of-available-clustering-statistics\">\n<h4>Types of available clustering statistics</h4>\n<p>All codes that work on cosmological boxes with co-moving positions are\nlocated in the <tt>theory</tt> directory. The various clustering measures\nare:</p>\n<ol>\n<li><tt>DD</tt> \u2013 Measures auto/cross-correlations between two boxes.\nThe boxes do not need to be cubes.</li>\n<li><tt>xi</tt> \u2013 Measures 3-d auto-correlation in a cubic cosmological box.\nAssumes PERIODIC boundary conditions.</li>\n<li><tt>wp</tt> \u2013 Measures auto 2-d point projected correlation function in a\ncubic cosmological box. Assumes PERIODIC boundary conditions.</li>\n<li><tt>DDrppi</tt> \u2013 Measures the auto/cross correlation function between\ntwo boxes. The boxes do not need to be cubes.</li>\n<li><tt>DDsmu</tt> \u2013 Measures the auto/cross correlation function between\ntwo boxes. The boxes do not need to be cubes.</li>\n<li><tt>vpf</tt> \u2013 Measures the void probability function + counts-in-cells.</li>\n</ol>\n</div>\n</div>\n<div id=\"clustering-measures-on-observed-galaxies\">\n<h3>Clustering measures on observed galaxies</h3>\n<div id=\"id1\">\n<h4>Input data</h4>\n<p>The input galaxies are typically observed galaxies coming from a large-scale\ngalaxy survey. In addition, simulated galaxies that have been projected onto the sky\n(i.e., where observational systematics have been incorporated and on-sky\npositions have been generated) can also be used. We generically refer to both\nthese kinds of galaxies as \u201cmocks\u201d.</p>\n<p>The input galaxies are expected to have positions specified in spherical\nco-ordinates with at least right ascension (RA) and declination (DEC).\nFor spatial correlation functions, an approximate \u201cco-moving\u201d distance\n(speed of light multiplied by redshift, CZ) is also required.</p>\n</div>\n<div id=\"id2\">\n<h4>Types of available clustering statistics</h4>\n<p>All codes that work on mock catalogs (RA, DEC, CZ) are located in the\n<tt>mocks</tt> directory. The various clustering measures are:</p>\n<ol>\n<li><tt>DDrppi_mocks</tt> \u2013 The standard auto/cross correlation between two data\nsets. The outputs, DD, DR and RR can be combined using <tt>wprp</tt> to\nproduce the Landy-Szalay estimator for <cite>wp(rp)</cite>.</li>\n<li><tt>DDsmu_mocks</tt> \u2013 The standard auto/cross correlation between two data\nsets. The outputs, DD, DR and RR can be combined using the python utility\n<tt>convert_3d_counts_to_cf</tt> to produce the Landy-Szalay estimator for <cite>xi(s, mu)</cite>.</li>\n<li><tt>DDtheta_mocks</tt> \u2013 Computes angular correlation function between two data\nsets. The outputs from <tt>DDtheta_mocks</tt> need to be combined with\n<tt>wtheta</tt> to get the full <cite>omega(theta)</cite></li>\n<li><tt>vpf_mocks</tt> \u2013 Computes the void probability function on mocks.</li>\n</ol>\n</div>\n</div>\n</div>\n<div id=\"science-options\">\n<h2>Science options</h2>\n<p>If you plan to use the command-line, then you will have to specify the\ncode runtime options at compile-time. For theory routines, these options\nare in the file <a href=\"theory.options\" rel=\"nofollow\">theory.options</a> while for the mocks, these options are\nin file <a href=\"mocks.options\" rel=\"nofollow\">mocks.options</a>.</p>\n<p><strong>Note</strong> All options can be specified at\nruntime if you use the python interface or the static libraries. Each one of\nthe following <tt>Makefile</tt> option has a corresponding entry for the runtime\nlibraries.</p>\n<div id=\"theory-in-theory-options\">\n<h3>Theory (in <a href=\"theory.options\" rel=\"nofollow\">theory.options</a>)</h3>\n<ol>\n<li><tt>PERIODIC</tt> (ignored in case of wp/xi) \u2013 switches periodic boundary\nconditions on/off. Enabled by default.</li>\n<li><tt>OUTPUT_RPAVG</tt> \u2013 switches on output of <tt>&lt;rp&gt;</tt> in each <tt>rp</tt>\nbin. Can be a massive performance hit (~ 2.2x in case of wp).\nDisabled by default.</li>\n</ol>\n</div>\n<div id=\"mocks-in-mocks-options\">\n<h3>Mocks (in <a href=\"mocks.options\" rel=\"nofollow\">mocks.options</a>)</h3>\n<ol>\n<li><tt>OUTPUT_RPAVG</tt> \u2013 switches on output of <tt>&lt;rp&gt;</tt> in each <tt>rp</tt>\nbin for <tt>DDrppi_mocks</tt>. Enabled by default.</li>\n<li><tt>OUTPUT_THETAAVG</tt> \u2013 switches on output of in each theta bin. Can\nbe extremely slow (~5x) depending on compiler, and CPU capabilities.\nDisabled by default.</li>\n<li><tt>LINK_IN_DEC</tt> \u2013 creates binning in declination for <tt>DDtheta_mocks</tt>. Please\ncheck that for your desired limits <tt>\\theta</tt>, this binning does not\nproduce incorrect results (due to numerical precision). Generally speaking,\nif your <tt>\\thetamax</tt> (the max. <tt>\\theta</tt> to consider pairs within) is too\nsmall (probaly less than 1 degree), then you should check with and without\nthis option. Errors are typically sub-percent level.</li>\n<li><tt>LINK_IN_RA</tt> \u2013 creates binning in RA once binning in DEC has been\nenabled for <tt>DDtheta_mocks</tt>. Same numerical issues as <tt>LINK_IN_DEC</tt></li>\n<li><tt>FAST_ACOS</tt> \u2013 Relevant only when <tt>OUTPUT_THETAAVG</tt> is enabled for\n<tt>DDtheta_mocks</tt>. Disabled by default. An <tt>arccos</tt> is required to\ncalculate <tt>&lt;\\theta&gt;</tt>. In absence of vectorized <tt>arccos</tt> (intel compiler,\n<tt>icc</tt> provides one via intel Short Vector Math Library), this calculation is extremely slow. However, we can approximate\n<tt>arccos</tt> using polynomials (with <a href=\"https://en.wikipedia.org/wiki/Remez_algorithm\" rel=\"nofollow\">Remez Algorithm</a>).\nThe approximations are taken from implementations released by <a href=\"http://geometrictools.com/\" rel=\"nofollow\">Geometric Tools</a>.\nDepending on the level of accuracy desired, this implementation of <tt>fast acos</tt>\ncan be tweaked in the file <a href=\"utils/fast_acos.h\" rel=\"nofollow\">utils/fast_acos.h</a>. An alternate, less\naccurate implementation is already present in that file. Please check that the loss of\nprecision is not important for your use-case.</li>\n<li><tt>COMOVING_DIST</tt> \u2013 Currently there is no support in <tt>Corrfunc</tt> for different cosmologies. However, for the\nmocks routines like, <tt>DDrppi_mocks</tt> and <tt>vpf_mocks</tt>, cosmology parameters are required to convert between\nredshift and co-moving distance. Both <tt>DDrppi_mocks</tt> and <tt>vpf_mocks</tt> expects to receive a <tt>redshift</tt> array\nas input; however, with this option enabled, the <tt>redshift</tt> array will be assumed to contain already converted\nco-moving distances. So, if you have redshifts and want to use an arbitrary cosmology, then convert the redshifts\ninto co-moving distances, enable this option, and pass the co-moving distance array into the routines.</li>\n</ol>\n</div>\n</div>\n<div id=\"common-code-options-for-both-mocks-and-theory\">\n<h2>Common Code options for both Mocks and Theory</h2>\n<ol>\n<li><tt>DOUBLE_PREC</tt> \u2013 switches on calculations in double\nprecision. Calculations are performed in double precision when enabled. This\noption is disabled by default in theory and enabled by default in the mocks\nroutines.</li>\n<li><tt>USE_OMP</tt> \u2013 uses OpenMP parallelization. Scaling is great for DD\n(close to perfect scaling up to 12 threads in our tests) and okay (runtime\nbecomes constant ~6-8 threads in our tests) for <tt>DDrppi</tt> and <tt>wp</tt>.\nEnabled by default. The <tt>Makefile</tt> will compare the <cite>CC</cite> variable with\nknown OpenMP enabled compilers and set compile options accordingly.\nSet in <a href=\"common.mk\" rel=\"nofollow\">common.mk</a> by default.</li>\n<li><tt>ENABLE_MIN_SEP_OPT</tt> \u2013 uses some further optimisations based on the\nminimum separation between pairs of cells. Enabled by default.</li>\n<li><tt>COPY_PARTICLES</tt> \u2013 whether or not to create a copy of the particle\npositions (and weights, if supplied). Enabled by default (copies of the\nparticle arrays <strong>are</strong> created)</li>\n<li><tt>FAST_DIVIDE</tt> \u2013 Disabled by default. Divisions are slow but required\n<tt><span class=\"pre\">DDrppi_mocks(r_p,\\pi)</span></tt>, <tt>DDsmu_mocks(s, \\mu)</tt> and <tt>DD(s, \\mu)</tt>.\nEnabling this option, replaces the divisions with a reciprocal\nfollowed by a Newton-Raphson. The code will run ~20% faster at the expense\nof some numerical precision. Please check that the loss of precision is not\nimportant for your use-case.</li>\n</ol>\n<p><em>Optimization for your architecture</em></p>\n<ol>\n<li>The values of <tt>bin_refine_factor</tt> and/or <tt>zbin_refine_factor</tt> in\nthe <tt><span class=\"pre\">countpairs\\_\\*.c</span></tt> files control the cache-misses, and\nconsequently, the runtime. In my trial-and-error methods, I have seen\nany values larger than 3 are generally slower for theory routines but\ncan be faster for mocks. But some different\ncombination of 1/2 for <tt>(z)bin_refine_factor</tt> might be faster on\nyour platform.</li>\n<li>If you are using the angular correlation function and need <tt>thetaavg</tt>,\nyou might benefit from using the INTEL MKL library. The vectorized\ntrigonometric functions provided by MKL can provide significant speedup.</li>\n</ol>\n</div>\n<div id=\"running-the-codes\">\n<h2>Running the codes</h2>\n<p>Read the documentation on <a href=\"http://corrfunc.rtfd.io/\" rel=\"nofollow\">corrfunc.rtfd.io</a>.</p>\n<div id=\"using-the-command-line-interface\">\n<h3>Using the command-line interface</h3>\n<p>Navigate to the correct directory. Make sure that the options, set in\neither <a href=\"theory.options\" rel=\"nofollow\">theory.options</a> or <a href=\"mocks.options\" rel=\"nofollow\">mocks.options</a> in the root directory are\nwhat you want. If not, edit those two files (and possibly\n<a href=\"common.mk\" rel=\"nofollow\">common.mk</a>), and recompile. Then, you can use the command-line\nexecutables in each individual subdirectory corresponding to the\nclustering measure you are interested in. For example, if you want to\ncompute the full 3-D correlation function, <tt>\\xi(r)</tt>, then run the\nexecutable <tt>theory/xi/xi</tt>. If you run executables without any arguments,\nthe program will output a message with all the required arguments.</p>\n</div>\n<div id=\"calling-from-c\">\n<h3>Calling from C</h3>\n<p>Look under the <a href=\"theory/examples/run_correlations.c\" rel=\"nofollow\">run_correlations.c</a> and\n<a href=\"mocks/examples/run_correlations_mocks.c\" rel=\"nofollow\">run_correlations_mocks.c</a> to see examples of\ncalling the C API directly. If you run the executables,\n<tt>run_correlations</tt> and <tt>run_correlations_mocks</tt>, the output will\nalso show how to call the command-line interface for the various\nclustering measures.</p>\n</div>\n<div id=\"calling-from-python\">\n<h3>Calling from Python</h3>\n<p>If all went well, the codes can be directly called from <tt>python</tt>.\nPlease see <a href=\"Corrfunc/call_correlation_functions.py\" rel=\"nofollow\">call_correlation_functions.py</a> and\n<a href=\"Corrfunc/call_correlation_functions_mocks.py\" rel=\"nofollow\">call_correlation_functions_mocks.py</a> for examples on how to\nuse the C extensions directly. Here are a few examples:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"kn\">import</span> <span class=\"n\">print_function</span>\n<span class=\"kn\">import</span> <span class=\"nn\">os.path</span> <span class=\"k\">as</span> <span class=\"nn\">path</span>\n<span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">import</span> <span class=\"nn\">Corrfunc</span>\n<span class=\"kn\">from</span> <span class=\"nn\">Corrfunc.theory</span> <span class=\"kn\">import</span> <span class=\"n\">wp</span>\n\n<span class=\"c1\"># Setup the problem for wp</span>\n<span class=\"n\">boxsize</span> <span class=\"o\">=</span> <span class=\"mf\">500.0</span>\n<span class=\"n\">pimax</span> <span class=\"o\">=</span> <span class=\"mf\">40.0</span>\n<span class=\"n\">nthreads</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>\n\n<span class=\"c1\"># Create a fake data-set.</span>\n<span class=\"n\">Npts</span> <span class=\"o\">=</span> <span class=\"mi\">100000</span>\n<span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float32</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">(</span><span class=\"n\">Npts</span><span class=\"p\">))</span>\n<span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float32</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">(</span><span class=\"n\">Npts</span><span class=\"p\">))</span>\n<span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float32</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">(</span><span class=\"n\">Npts</span><span class=\"p\">))</span>\n<span class=\"n\">x</span> <span class=\"o\">*=</span> <span class=\"n\">boxsize</span>\n<span class=\"n\">y</span> <span class=\"o\">*=</span> <span class=\"n\">boxsize</span>\n<span class=\"n\">z</span> <span class=\"o\">*=</span> <span class=\"n\">boxsize</span>\n\n<span class=\"c1\"># Setup the bins</span>\n<span class=\"n\">rmin</span> <span class=\"o\">=</span> <span class=\"mf\">0.1</span>\n<span class=\"n\">rmax</span> <span class=\"o\">=</span> <span class=\"mf\">20.0</span>\n<span class=\"n\">nbins</span> <span class=\"o\">=</span> <span class=\"mi\">20</span>\n\n<span class=\"c1\"># Create the bins</span>\n<span class=\"n\">rbins</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">logspace</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">log10</span><span class=\"p\">(</span><span class=\"mf\">0.1</span><span class=\"p\">),</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">log10</span><span class=\"p\">(</span><span class=\"n\">rmax</span><span class=\"p\">),</span> <span class=\"n\">nbins</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Call wp</span>\n<span class=\"n\">wp_results</span> <span class=\"o\">=</span> <span class=\"n\">wp</span><span class=\"p\">(</span><span class=\"n\">boxsize</span><span class=\"p\">,</span> <span class=\"n\">pimax</span><span class=\"p\">,</span> <span class=\"n\">nthreads</span><span class=\"p\">,</span> <span class=\"n\">rbins</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">,</span> <span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">output_rpavg</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Print the results</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"#############################################################################\"</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"##       rmin           rmax            rpavg             wp            npairs\"</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"#############################################################################\"</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">wp_results</span><span class=\"p\">)</span>\n</pre>\n</div>\n</div>\n<div id=\"author-maintainers\">\n<h2>Author &amp; Maintainers</h2>\n<p>Corrfunc was designed by Manodeep Sinha and is currently maintained by\n<a href=\"https://github.com/lgarrison\" rel=\"nofollow\">Lehman Garrison</a> and <a href=\"https://github.com/manodeep\" rel=\"nofollow\">Manodeep Sinha</a></p>\n</div>\n<div id=\"citing\">\n<h2>Citing</h2>\n<p>If you use <tt>Corrfunc</tt> for research, please cite using the MNRAS code paper with the following\nbibtex entry:</p>\n<pre>@ARTICLE{2020MNRAS.491.3022S,\n    author = {{Sinha}, Manodeep and {Garrison}, Lehman H.},\n    title = \"{CORRFUNC - a suite of blazing fast correlation functions on\n    the CPU}\",\n    journal = {\\mnras},\n    keywords = {methods: numerical, galaxies: general, galaxies:\n    haloes, dark matter, large-scale structure of Universe, cosmology:\n    theory},\n    year = \"2020\",\n    month = \"Jan\",\n    volume = {491},\n    number = {2},\n    pages = {3022-3041},\n    doi = {10.1093/mnras/stz3157},\n    adsurl =\n    {https://ui.adsabs.harvard.edu/abs/2020MNRAS.491.3022S},\n    adsnote = {Provided by the SAO/NASA\n    Astrophysics Data System}\n}\n</pre>\n<p>If you are using <tt>Corrfunc v2.3.0</tt> or later, <strong>and</strong> you benefit from the\nenhanced vectorised kernels, then please additionally cite this paper:</p>\n<pre>@InProceedings{10.1007/978-981-13-7729-7_1,\n    author=\"Sinha, Manodeep and Garrison, Lehman\",\n    editor=\"Majumdar, Amit and Arora, Ritu\",\n    title=\"CORRFUNC: Blazing Fast Correlation Functions with AVX512F SIMD Intrinsics\",\n    booktitle=\"Software Challenges to Exascale Computing\",\n    year=\"2019\",\n    publisher=\"Springer Singapore\",\n    address=\"Singapore\",\n    pages=\"3--20\",\n    isbn=\"978-981-13-7729-7\",\n    url={https://doi.org/10.1007/978-981-13-7729-7_1}\n}\n</pre>\n</div>\n<div id=\"mailing-list\">\n<h2>Mailing list</h2>\n<p>If you have questions or comments about the package, please do so on the\nmailing list: <a href=\"https://groups.google.com/forum/#!forum/corrfunc\" rel=\"nofollow\">https://groups.google.com/forum/#!forum/corrfunc</a></p>\n</div>\n<div id=\"license\">\n<h2>LICENSE</h2>\n<p>Corrfunc is released under the MIT license. Basically, do what you want\nwith the code, including using it in commercial application.</p>\n</div>\n<div id=\"project-url\">\n<h2>Project URL</h2>\n<ul>\n<li>documentation (<a href=\"http://corrfunc.rtfd.io/\" rel=\"nofollow\">http://corrfunc.rtfd.io/</a>)</li>\n<li>version control (<a href=\"https://github.com/manodeep/Corrfunc\" rel=\"nofollow\">https://github.com/manodeep/Corrfunc</a>)</li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 6560759, "releases": {"0.2.2": [{"comment_text": "", "digests": {"md5": "20e4a0e0f78275308cdcae23b270e9c9", "sha256": "8955c9b0780d5913c968856ce3456316c3fc9fb1bccaa8fc92c92e123a53e8f2"}, "downloads": -1, "filename": "Corrfunc-0.2.2.tar.gz", "has_sig": true, "md5_digest": "20e4a0e0f78275308cdcae23b270e9c9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 32341581, "upload_time": "2016-02-09T07:10:32", "upload_time_iso_8601": "2016-02-09T07:10:32.020718Z", "url": "https://files.pythonhosted.org/packages/9b/7d/e63bf224672af72a58a7f04490910cc83afeabe0f46006282168839e3b38/Corrfunc-0.2.2.tar.gz", "yanked": false}], "0.2.3": [{"comment_text": "", "digests": {"md5": "320b10018fa23a27fe409dc0440ad4de", "sha256": "2875e22fdac535d2523b59634c62da0665c5f2d84f28a1e26d1e125dc2fd8768"}, "downloads": -1, "filename": "Corrfunc-0.2.3.tar.gz", "has_sig": true, "md5_digest": "320b10018fa23a27fe409dc0440ad4de", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 32357675, "upload_time": "2016-03-30T02:43:25", "upload_time_iso_8601": "2016-03-30T02:43:25.971514Z", "url": "https://files.pythonhosted.org/packages/75/90/7f6c891c4b19ebf23361566228d4c67c620c058d4a40506c11eb869c32b6/Corrfunc-0.2.3.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "1d1ec7b56bca4ddc06edc981291f4008", "sha256": "1a2e43c6fc4c902111d5cd43b8936e581883b334522558277c07a55a3048945a"}, "downloads": -1, "filename": "Corrfunc-1.0.0.tar.gz", "has_sig": true, "md5_digest": "1d1ec7b56bca4ddc06edc981291f4008", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 32360529, "upload_time": "2016-04-14T08:30:09", "upload_time_iso_8601": "2016-04-14T08:30:09.573360Z", "url": "https://files.pythonhosted.org/packages/ef/3b/2a81e0cb6d05a0084bd795d11d2074e67b75cdcf78298345f477b7683f8a/Corrfunc-1.0.0.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "918ad7ed0559c601daee69f047539580", "sha256": "46ca28ecd0daf1baebdc37b74ac519c24fb364f5ca3fb3e36c7d7a7687c6e5b1"}, "downloads": -1, "filename": "Corrfunc-1.1.0.tar.gz", "has_sig": true, "md5_digest": "918ad7ed0559c601daee69f047539580", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 32371854, "upload_time": "2016-06-08T07:53:50", "upload_time_iso_8601": "2016-06-08T07:53:50.229012Z", "url": "https://files.pythonhosted.org/packages/12/0f/b6bafcb41103b65b807c29d8f045811ea82db933be7524241b28f2e3d7f9/Corrfunc-1.1.0.tar.gz", "yanked": false}], "2.0.0": [{"comment_text": "", "digests": {"md5": "1ef4ba2d917929aede23efddfcfbc78a", "sha256": "22176ee45188a3606df298af31f869fb9073957ad4de9417d3dfae683cb621e4"}, "downloads": -1, "filename": "Corrfunc-2.0.0.tar.gz", "has_sig": false, "md5_digest": "1ef4ba2d917929aede23efddfcfbc78a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25948875, "upload_time": "2017-04-06T06:53:31", "upload_time_iso_8601": "2017-04-06T06:53:31.780080Z", "url": "https://files.pythonhosted.org/packages/ee/db/20c8e79de6c26eb2cc08c0a4181b04193bbc6d0beabd40eb5ea716c06ab3/Corrfunc-2.0.0.tar.gz", "yanked": false}], "2.1.0": [{"comment_text": "", "digests": {"md5": "9fa4e4d94e120bd9ab4671c99af31dad", "sha256": "017e8297c8741fed7ca6d66e2f3fcec1782cf263c377c39f5b239b745105b92a"}, "downloads": -1, "filename": "Corrfunc-2.1.0.tar.gz", "has_sig": false, "md5_digest": "9fa4e4d94e120bd9ab4671c99af31dad", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 26041258, "upload_time": "2018-08-17T21:58:29", "upload_time_iso_8601": "2018-08-17T21:58:29.975032Z", "url": "https://files.pythonhosted.org/packages/8e/06/59ff1e5c05b96961eef93a998e14cca2e5d15faff83bfe46d6fafd259f8a/Corrfunc-2.1.0.tar.gz", "yanked": false}], "2.2.0": [{"comment_text": "", "digests": {"md5": "aba091d90f69e72cf6764a48b6940984", "sha256": "9a62ca59c13685de0bca3e74f89666eaa8d19fb63b1d3586a5688b0674a0fc23"}, "downloads": -1, "filename": "Corrfunc-2.2.0.tar.gz", "has_sig": true, "md5_digest": "aba091d90f69e72cf6764a48b6940984", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, <4", "size": 26041728, "upload_time": "2018-08-19T00:10:45", "upload_time_iso_8601": "2018-08-19T00:10:45.943483Z", "url": "https://files.pythonhosted.org/packages/3c/17/b79988e20800a981e2ed8459f294e98d31e9da4f1e9caba4af3c6f1c8b96/Corrfunc-2.2.0.tar.gz", "yanked": false}], "2.3.0": [{"comment_text": "", "digests": {"md5": "2a3a9dd11476fc6ae0c745289f800b6a", "sha256": "6d873d098eff3fb5da0cf26368b62365751aefaa6c7c19dea5c8864c6c34ab02"}, "downloads": -1, "filename": "Corrfunc-2.3.0.tar.gz", "has_sig": false, "md5_digest": "2a3a9dd11476fc6ae0c745289f800b6a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 26046581, "upload_time": "2019-05-21T08:26:57", "upload_time_iso_8601": "2019-05-21T08:26:57.853342Z", "url": "https://files.pythonhosted.org/packages/9b/f3/af25e81e97286ecee79bdabc53e72673e766f326f79717540c17f2c5d69d/Corrfunc-2.3.0.tar.gz", "yanked": false}], "2.3.1": [{"comment_text": "", "digests": {"md5": "885f795fb03b3791b4f9fff5a439ad5e", "sha256": "32d0c6c2e6bc3dc237a4eabcdebadd27b3ebd16a1290c03f762d02e0af5d889f"}, "downloads": -1, "filename": "Corrfunc-2.3.1.tar.gz", "has_sig": false, "md5_digest": "885f795fb03b3791b4f9fff5a439ad5e", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, <4", "size": 26072917, "upload_time": "2019-06-21T21:14:55", "upload_time_iso_8601": "2019-06-21T21:14:55.727239Z", "url": "https://files.pythonhosted.org/packages/57/4c/ce270409fce8183076a636be0cb59d1f3a132c5fca3af2134c5f40bd09b9/Corrfunc-2.3.1.tar.gz", "yanked": false}], "2.3.2": [{"comment_text": "", "digests": {"md5": "e175c9ee53f1e209367d25e1abea3833", "sha256": "beaa3f96316f5fca94ddfe7052bd860c0170057b73d43a575e00cbd103bd1036"}, "downloads": -1, "filename": "Corrfunc-2.3.2.tar.gz", "has_sig": false, "md5_digest": "e175c9ee53f1e209367d25e1abea3833", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, <4", "size": 26062666, "upload_time": "2019-12-24T02:26:28", "upload_time_iso_8601": "2019-12-24T02:26:28.640979Z", "url": "https://files.pythonhosted.org/packages/33/60/487aba84ade8a0bbf21b0c08fa933ed9c1fa119b89f4d0bdeeb4869fbfaf/Corrfunc-2.3.2.tar.gz", "yanked": false}], "2.3.3": [{"comment_text": "", "digests": {"md5": "e361a1f3e684680213388e52e12766f2", "sha256": "158d0082412a2b13736805e761d3083f752640ba52cf71f06dd81be8b57e11bc"}, "downloads": -1, "filename": "Corrfunc-2.3.3.tar.gz", "has_sig": false, "md5_digest": "e361a1f3e684680213388e52e12766f2", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, <4", "size": 26062026, "upload_time": "2020-02-03T03:29:53", "upload_time_iso_8601": "2020-02-03T03:29:53.712949Z", "url": "https://files.pythonhosted.org/packages/6e/ef/dcc2097c9357370503f5e1eb8d5de91a35418f28529ff550e2db9af247ba/Corrfunc-2.3.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e361a1f3e684680213388e52e12766f2", "sha256": "158d0082412a2b13736805e761d3083f752640ba52cf71f06dd81be8b57e11bc"}, "downloads": -1, "filename": "Corrfunc-2.3.3.tar.gz", "has_sig": false, "md5_digest": "e361a1f3e684680213388e52e12766f2", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, <4", "size": 26062026, "upload_time": "2020-02-03T03:29:53", "upload_time_iso_8601": "2020-02-03T03:29:53.712949Z", "url": "https://files.pythonhosted.org/packages/6e/ef/dcc2097c9357370503f5e1eb8d5de91a35418f28529ff550e2db9af247ba/Corrfunc-2.3.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:43:04 2020"}
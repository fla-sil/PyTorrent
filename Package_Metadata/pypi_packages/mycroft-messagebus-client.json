{"info": {"author": "Mycroft AI, \u00c5ke Forslund", "author_email": "devs@mycroft.ai, ake.forslund@mycroft.ai", "bugtrack_url": null, "classifiers": [], "description": "# Mycroft Bus Client\n\nThis module is a simple interface for the mycroft messagebus and can be used to connect to mycroft, send messages and react to messages sent by the Mycroft system.\n\n\n## MycroftBusClient()\n\nThe `MycroftBusClient()` object can be setup to connect to any host and port as well as any endpont on that host. this makes it quite versitile and will work on the main bus as well as on a gui bus. If no arguments are provided it will try to connect to a local instance of mycroftr core on the default endpoint and port.\n\n\n## Message()\n\nThe `Message` object is a representation of the messagebus message, this will always contain a message type but can also contain data and context. Data is usually real information while the context typically contain information on where the message originated or who the intended recipient is.\n\n```python\nMessage('MESSAGE_TYPE', data={'meaning': 42}, context={'origin': 'A.Dent'})\n```\n\n## Examples\n\nBelow are some a couple of simple cases for sending a message on the bus as well\nas reacting to messages on the bus\n\n### Sending a message on the bus.\n\n```python\nfrom mycroft_bus_client import MessageBusClient, Message\n\nprint('Setting up client to connect to a local mycroft instance')\nclient = MessageBusClient()\nclient.run_in_thread()\n\nprint('Sending speak message...')\nclient.emit(Message('speak', data={'utterance': 'Hello World'}))\n```\n\n### Catching a message on the messagebus\n\n```python\nfrom mycroft_bus_client import MessageBusClient, Message\n\nprint('Setting up client to connect to a local mycroft instance')\nclient = MessageBusClient()\n\ndef print_utterance(message):\n    print('Mycroft said \"{}\".format(message.data.get('utterance')))\n\n\nprint('Registering handler for speak message...')\nclient.on('speak', print_utterance)\n\nclient.run_forever()\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/MycroftAI/mycroft-messagebus", "keywords": "", "license": "Apache-2.0", "maintainer": "", "maintainer_email": "", "name": "mycroft-messagebus-client", "package_url": "https://pypi.org/project/mycroft-messagebus-client/", "platform": "", "project_url": "https://pypi.org/project/mycroft-messagebus-client/", "project_urls": {"Homepage": "https://github.com/MycroftAI/mycroft-messagebus"}, "release_url": "https://pypi.org/project/mycroft-messagebus-client/0.8.1/", "requires_dist": null, "requires_python": "", "summary": "Mycroft Messagebus Client", "version": "0.8.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Mycroft Bus Client</h1>\n<p>This module is a simple interface for the mycroft messagebus and can be used to connect to mycroft, send messages and react to messages sent by the Mycroft system.</p>\n<h2>MycroftBusClient()</h2>\n<p>The <code>MycroftBusClient()</code> object can be setup to connect to any host and port as well as any endpont on that host. this makes it quite versitile and will work on the main bus as well as on a gui bus. If no arguments are provided it will try to connect to a local instance of mycroftr core on the default endpoint and port.</p>\n<h2>Message()</h2>\n<p>The <code>Message</code> object is a representation of the messagebus message, this will always contain a message type but can also contain data and context. Data is usually real information while the context typically contain information on where the message originated or who the intended recipient is.</p>\n<pre><span class=\"n\">Message</span><span class=\"p\">(</span><span class=\"s1\">'MESSAGE_TYPE'</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'meaning'</span><span class=\"p\">:</span> <span class=\"mi\">42</span><span class=\"p\">},</span> <span class=\"n\">context</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'origin'</span><span class=\"p\">:</span> <span class=\"s1\">'A.Dent'</span><span class=\"p\">})</span>\n</pre>\n<h2>Examples</h2>\n<p>Below are some a couple of simple cases for sending a message on the bus as well\nas reacting to messages on the bus</p>\n<h3>Sending a message on the bus.</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">mycroft_bus_client</span> <span class=\"kn\">import</span> <span class=\"n\">MessageBusClient</span><span class=\"p\">,</span> <span class=\"n\">Message</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Setting up client to connect to a local mycroft instance'</span><span class=\"p\">)</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">MessageBusClient</span><span class=\"p\">()</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">run_in_thread</span><span class=\"p\">()</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Sending speak message...'</span><span class=\"p\">)</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">emit</span><span class=\"p\">(</span><span class=\"n\">Message</span><span class=\"p\">(</span><span class=\"s1\">'speak'</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'utterance'</span><span class=\"p\">:</span> <span class=\"s1\">'Hello World'</span><span class=\"p\">}))</span>\n</pre>\n<h3>Catching a message on the messagebus</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">mycroft_bus_client</span> <span class=\"kn\">import</span> <span class=\"n\">MessageBusClient</span><span class=\"p\">,</span> <span class=\"n\">Message</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Setting up client to connect to a local mycroft instance'</span><span class=\"p\">)</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">MessageBusClient</span><span class=\"p\">()</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">print_utterance</span><span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Mycroft said \"</span><span class=\"si\">{}</span><span class=\"s1\">\".format(message.data.get('</span><span class=\"n\">utterance</span><span class=\"s1\">')))</span>\n\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Registering handler for speak message...'</span><span class=\"p\">)</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">on</span><span class=\"p\">(</span><span class=\"s1\">'speak'</span><span class=\"p\">,</span> <span class=\"n\">print_utterance</span><span class=\"p\">)</span>\n\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">run_forever</span><span class=\"p\">()</span>\n</pre>\n\n          </div>"}, "last_serial": 6316534, "releases": {"0.8": [{"comment_text": "", "digests": {"md5": "88e8a8572120a3af6c3bb5e4f74f1a35", "sha256": "736c5349aa4bc91edf5bef7625c2ea38791550750711838ebb917693bde0d6d0"}, "downloads": -1, "filename": "mycroft-messagebus-client-0.8.tar.gz", "has_sig": false, "md5_digest": "88e8a8572120a3af6c3bb5e4f74f1a35", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13531, "upload_time": "2019-12-12T13:38:43", "upload_time_iso_8601": "2019-12-12T13:38:43.407598Z", "url": "https://files.pythonhosted.org/packages/5a/51/f023ffd86689cb1f059132b6863a08d82761f08d12dad034951d254a5259/mycroft-messagebus-client-0.8.tar.gz", "yanked": false}], "0.8.1": [{"comment_text": "", "digests": {"md5": "317837dda7f60c0bb011e27df08128a0", "sha256": "82e0aa304f46ea2235740a1241ee2bc3aa4d2350aaa75e51c065da615d7bf173"}, "downloads": -1, "filename": "mycroft-messagebus-client-0.8.1.tar.gz", "has_sig": false, "md5_digest": "317837dda7f60c0bb011e27df08128a0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13571, "upload_time": "2019-12-17T10:32:11", "upload_time_iso_8601": "2019-12-17T10:32:11.453541Z", "url": "https://files.pythonhosted.org/packages/da/8f/ab49cd2a25026118b4677ae6b64c049dfbe4f3346a88f64949ac7f6297d7/mycroft-messagebus-client-0.8.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "317837dda7f60c0bb011e27df08128a0", "sha256": "82e0aa304f46ea2235740a1241ee2bc3aa4d2350aaa75e51c065da615d7bf173"}, "downloads": -1, "filename": "mycroft-messagebus-client-0.8.1.tar.gz", "has_sig": false, "md5_digest": "317837dda7f60c0bb011e27df08128a0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13571, "upload_time": "2019-12-17T10:32:11", "upload_time_iso_8601": "2019-12-17T10:32:11.453541Z", "url": "https://files.pythonhosted.org/packages/da/8f/ab49cd2a25026118b4677ae6b64c049dfbe4f3346a88f64949ac7f6297d7/mycroft-messagebus-client-0.8.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:49:35 2020"}
{"info": {"author": "Dev Kapt", "author_email": "dev@kapt.mobi", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django", "Intended Audience :: Developers", "License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: 3 :: Only", "Topic :: Internet :: WWW/HTTP", "Topic :: Internet :: WWW/HTTP :: Dynamic Content"], "description": "djangocms-call-to-action\n==========================\n\nA djangocms plugin that allows you to create Call To Action (CTA) indicators, to display them as buttons in a Django CMS plugin, to track user click on these buttons on a GA conversion tunnel. Each CTA is linked with a fobi form which registers the user email in a given mailing list.\n\nThis project is a WIP and might need some improvements.\n\n## Installation\n\nThis plugin requires `Django-CMS`, `sendgrid`, `django-fobi`.\n\n\n 1. Install module using pipenv:\n ```\n pipenv install djangocms-call-to-action\n ```\n * *Or pip:*\n ```\n pip install djangocms-call-to-action\n ```\n 2. Add it to your installed apps:\n ```\n     \"djangocms_call_to_action\",\n ```\n 3. Apply migrations\n ```\n py manage.py migrate djangocms_call_to_action\n ```\n 4. Include your sendgrid api key in your settings\n ```python\n DJANGOCMS_CTA_SENDGRID_API_KEY = \"YOUR_API_KEY\"\n ```\n * *Or load it using an environment var:*\n ```python\n import os\n DJANGOCMS_CTA_SENDGRID_API_KEY = os.getenv(\"SENDGRID_API_KEY\", None)\n ```\n 5. Include your Google analytics GA code in your settings\n ```python\n DJANGOCMS_CTA_GA_UA = \"UA-*******-*\"\n ```\n * *Or load it using an environment var:*\n ```python\n import os\n DJANGOCMS_CTA_GA_UA = os.getenv(\"GA_UA\", None)\n ```\n\n 6. Include the CTAFobiFormWidgetRedirectMiddleware before all other middlewares, and CTAPagePermissionMiddleware after django-cms CurrentPageMiddleware:\n\n ```python\n  MIDDLEWARE = (\n    \"djangocms_call_to_action.middleware.CTAFobiFormWidgetRedirectMiddleware\",\n    ...\n    \"cms.middleware.page.CurrentPageMiddleware\",\n    ...\n    \"djangocms_call_to_action.middleware.CTAPagePermissionMiddleware\",\n)\n ```\n\n 7. Add `djangocms_call_to_action.urls` to your urls:\n\n ```python\n  urlpatterns = [\n    ...\n    path(\"cta/\", include(\"djangocms_call_to_action.urls\")),\n    ...\n    re_path(\"^\", include(\"cms.urls\")),\n]\n\n ```\n\n## Optional settings\n\n 1. Configure templates used to display the CMS plugin\n ```python\n from django.utils.translation import ugettext_lazy as _\n\n DJANGOCMS_CTA_TEMPLATES = ((\"default.html\", _(\"Link\")), (\"button_primary.html\", _(\"Button primary\")), (\"button_secondary.html\", _(\"Button secondary\")),)\n ```\n\n 2. Activate select2 for cms page selectors (requires django-select2)\n ```python\n DJANGOCMS_CTA_USE_SELECT2 = True\n ```\n\n 3. Configure labels used for actions in GA\n ```python\n DJANGOCMS_CTA_DISPLAYED_USER_GA_LABEL = \"Affich\u00e9\"\n DJANGOCMS_CTA_CLICKED_USER_GA_LABEL = \"Cliqu\u00e9\"\n DJANGOCMS_CTA_CONVERTED_USER_GA_LABEL = \"Converti\"\n ```\n\n 4. Change cache duration for deny pages ids\n ```python\n DJANGOCMS_CTA_DENY_PAGES_IDS_CACHE_DURATION = 24 * 60 * 60 # Cache for 24h\n ```\n\n## How to use\n\n 1. Create a fobi form using fobi interface.\n\n In order to work properly with sendgrid registration, the form must contains the following fields:\n    - First name\n    - Last name\n    - Email\n    - An opt-in checkbox to consent the user email registration on sendgrid list\n\n 2. Add the sendgrid handler to register the email address of the user into\n\n 3. Create a CMS page to display the fobi form into\n\n 4. Insert the fobi form into the new page, using the CMS plugin \"Call to Action\"\n\n 5. On the django admin, create a Campaign linked with the CMS page created on step 4.\n Choose where the user will be redirected on form validation:\n    - To an external link\n    - To an internal link\n    - To a file\n\n You can choose to deny the access to the page if the form was not validated by the user.\n\n 6. On your content, insert some CTA plugins to redirect to the form using the \"Click To Action\" cms plugin", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.com/kapt/djangocms-call-to-action", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "djangocms-call-to-action", "package_url": "https://pypi.org/project/djangocms-call-to-action/", "platform": "", "project_url": "https://pypi.org/project/djangocms-call-to-action/", "project_urls": {"Homepage": "https://gitlab.com/kapt/djangocms-call-to-action"}, "release_url": "https://pypi.org/project/djangocms-call-to-action/0.0.3/", "requires_dist": null, "requires_python": "", "summary": "This djangocms plugin allows you to create Call To Action (CTA) indicators, to display them as buttons in a Django CMS plugin, to track user click on these buttons on a GA conversion tunnel. Each CTA is linked with a fobi form which registers the user email in a given mailing list.", "version": "0.0.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>djangocms-call-to-action</h1>\n<p>A djangocms plugin that allows you to create Call To Action (CTA) indicators, to display them as buttons in a Django CMS plugin, to track user click on these buttons on a GA conversion tunnel. Each CTA is linked with a fobi form which registers the user email in a given mailing list.</p>\n<p>This project is a WIP and might need some improvements.</p>\n<h2>Installation</h2>\n<p>This plugin requires <code>Django-CMS</code>, <code>sendgrid</code>, <code>django-fobi</code>.</p>\n<ol>\n<li>Install module using pipenv:</li>\n</ol>\n<pre><code>pipenv install djangocms-call-to-action\n</code></pre>\n<ul>\n<li><em>Or pip:</em></li>\n</ul>\n<pre><code>pip install djangocms-call-to-action\n</code></pre>\n<ol>\n<li>Add it to your installed apps:</li>\n</ol>\n<pre><code>    \"djangocms_call_to_action\",\n</code></pre>\n<ol>\n<li>Apply migrations</li>\n</ol>\n<pre><code>py manage.py migrate djangocms_call_to_action\n</code></pre>\n<ol>\n<li>Include your sendgrid api key in your settings</li>\n</ol>\n<pre><span class=\"n\">DJANGOCMS_CTA_SENDGRID_API_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"YOUR_API_KEY\"</span>\n</pre>\n<ul>\n<li><em>Or load it using an environment var:</em></li>\n</ul>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"n\">DJANGOCMS_CTA_SENDGRID_API_KEY</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getenv</span><span class=\"p\">(</span><span class=\"s2\">\"SENDGRID_API_KEY\"</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">)</span>\n</pre>\n<ol>\n<li>Include your Google analytics GA code in your settings</li>\n</ol>\n<pre><span class=\"n\">DJANGOCMS_CTA_GA_UA</span> <span class=\"o\">=</span> <span class=\"s2\">\"UA-*******-*\"</span>\n</pre>\n<ul>\n<li><em>Or load it using an environment var:</em></li>\n</ul>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"n\">DJANGOCMS_CTA_GA_UA</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getenv</span><span class=\"p\">(</span><span class=\"s2\">\"GA_UA\"</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">)</span>\n</pre>\n<ol>\n<li>Include the CTAFobiFormWidgetRedirectMiddleware before all other middlewares, and CTAPagePermissionMiddleware after django-cms CurrentPageMiddleware:</li>\n</ol>\n<pre> <span class=\"n\">MIDDLEWARE</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n   <span class=\"s2\">\"djangocms_call_to_action.middleware.CTAFobiFormWidgetRedirectMiddleware\"</span><span class=\"p\">,</span>\n   <span class=\"o\">...</span>\n   <span class=\"s2\">\"cms.middleware.page.CurrentPageMiddleware\"</span><span class=\"p\">,</span>\n   <span class=\"o\">...</span>\n   <span class=\"s2\">\"djangocms_call_to_action.middleware.CTAPagePermissionMiddleware\"</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre>\n<ol>\n<li>Add <code>djangocms_call_to_action.urls</code> to your urls:</li>\n</ol>\n<pre> <span class=\"n\">urlpatterns</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n   <span class=\"o\">...</span>\n   <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s2\">\"cta/\"</span><span class=\"p\">,</span> <span class=\"n\">include</span><span class=\"p\">(</span><span class=\"s2\">\"djangocms_call_to_action.urls\"</span><span class=\"p\">)),</span>\n   <span class=\"o\">...</span>\n   <span class=\"n\">re_path</span><span class=\"p\">(</span><span class=\"s2\">\"^\"</span><span class=\"p\">,</span> <span class=\"n\">include</span><span class=\"p\">(</span><span class=\"s2\">\"cms.urls\"</span><span class=\"p\">)),</span>\n<span class=\"p\">]</span>\n</pre>\n<h2>Optional settings</h2>\n<ol>\n<li>Configure templates used to display the CMS plugin</li>\n</ol>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.utils.translation</span> <span class=\"kn\">import</span> <span class=\"n\">ugettext_lazy</span> <span class=\"k\">as</span> <span class=\"n\">_</span>\n\n<span class=\"n\">DJANGOCMS_CTA_TEMPLATES</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"s2\">\"default.html\"</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s2\">\"Link\"</span><span class=\"p\">)),</span> <span class=\"p\">(</span><span class=\"s2\">\"button_primary.html\"</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s2\">\"Button primary\"</span><span class=\"p\">)),</span> <span class=\"p\">(</span><span class=\"s2\">\"button_secondary.html\"</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s2\">\"Button secondary\"</span><span class=\"p\">)),)</span>\n</pre>\n<ol>\n<li>Activate select2 for cms page selectors (requires django-select2)</li>\n</ol>\n<pre><span class=\"n\">DJANGOCMS_CTA_USE_SELECT2</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n</pre>\n<ol>\n<li>Configure labels used for actions in GA</li>\n</ol>\n<pre><span class=\"n\">DJANGOCMS_CTA_DISPLAYED_USER_GA_LABEL</span> <span class=\"o\">=</span> <span class=\"s2\">\"Affich\u00e9\"</span>\n<span class=\"n\">DJANGOCMS_CTA_CLICKED_USER_GA_LABEL</span> <span class=\"o\">=</span> <span class=\"s2\">\"Cliqu\u00e9\"</span>\n<span class=\"n\">DJANGOCMS_CTA_CONVERTED_USER_GA_LABEL</span> <span class=\"o\">=</span> <span class=\"s2\">\"Converti\"</span>\n</pre>\n<ol>\n<li>Change cache duration for deny pages ids</li>\n</ol>\n<pre><span class=\"n\">DJANGOCMS_CTA_DENY_PAGES_IDS_CACHE_DURATION</span> <span class=\"o\">=</span> <span class=\"mi\">24</span> <span class=\"o\">*</span> <span class=\"mi\">60</span> <span class=\"o\">*</span> <span class=\"mi\">60</span> <span class=\"c1\"># Cache for 24h</span>\n</pre>\n<h2>How to use</h2>\n<ol>\n<li>Create a fobi form using fobi interface.</li>\n</ol>\n<p>In order to work properly with sendgrid registration, the form must contains the following fields:\n- First name\n- Last name\n- Email\n- An opt-in checkbox to consent the user email registration on sendgrid list</p>\n<ol>\n<li>\n<p>Add the sendgrid handler to register the email address of the user into</p>\n</li>\n<li>\n<p>Create a CMS page to display the fobi form into</p>\n</li>\n<li>\n<p>Insert the fobi form into the new page, using the CMS plugin \"Call to Action\"</p>\n</li>\n<li>\n<p>On the django admin, create a Campaign linked with the CMS page created on step 4.\nChoose where the user will be redirected on form validation:</p>\n<ul>\n<li>To an external link</li>\n<li>To an internal link</li>\n<li>To a file</li>\n</ul>\n</li>\n</ol>\n<p>You can choose to deny the access to the page if the form was not validated by the user.</p>\n<ol>\n<li>On your content, insert some CTA plugins to redirect to the form using the \"Click To Action\" cms plugin</li>\n</ol>\n\n          </div>"}, "last_serial": 6603532, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "323423d6beae6708e1cf9f2d44daedb0", "sha256": "ccec4e7fafa4624eea1f0b3ac36432d28508dc418f6c9526d6a0ea533a106ea0"}, "downloads": -1, "filename": "djangocms-call-to-action-0.0.1.tar.gz", "has_sig": false, "md5_digest": "323423d6beae6708e1cf9f2d44daedb0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16801, "upload_time": "2020-01-31T15:20:20", "upload_time_iso_8601": "2020-01-31T15:20:20.488411Z", "url": "https://files.pythonhosted.org/packages/77/01/e70ce5904d7a0231bf1bdd700b9166e4c22aff1cde5dd6c16e9d16947035/djangocms-call-to-action-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "cb584263d0159a865c1b31560d28c98a", "sha256": "45919a26971e7d23c12df62ed24465472b0c1bf94e17a54747a9b9f2427bf11c"}, "downloads": -1, "filename": "djangocms-call-to-action-0.0.2.tar.gz", "has_sig": false, "md5_digest": "cb584263d0159a865c1b31560d28c98a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16946, "upload_time": "2020-01-31T15:32:17", "upload_time_iso_8601": "2020-01-31T15:32:17.872797Z", "url": "https://files.pythonhosted.org/packages/bc/19/611ca763434e3a4f23459dbe9d5d215bee4bc0920ea5ef4e659b19318913/djangocms-call-to-action-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "b4b7efbbcbc20a1425f0d70b38127b7b", "sha256": "dac24367bb592c15cbbe2bcf11fc426349597f23e74a413870d17040c91d5630"}, "downloads": -1, "filename": "djangocms-call-to-action-0.0.3.tar.gz", "has_sig": false, "md5_digest": "b4b7efbbcbc20a1425f0d70b38127b7b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16953, "upload_time": "2020-02-10T16:22:59", "upload_time_iso_8601": "2020-02-10T16:22:59.031420Z", "url": "https://files.pythonhosted.org/packages/fa/20/1b4e8f700c750c305748c1fb4720417947e0571ddc5b8f09d11f8f6abf30/djangocms-call-to-action-0.0.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b4b7efbbcbc20a1425f0d70b38127b7b", "sha256": "dac24367bb592c15cbbe2bcf11fc426349597f23e74a413870d17040c91d5630"}, "downloads": -1, "filename": "djangocms-call-to-action-0.0.3.tar.gz", "has_sig": false, "md5_digest": "b4b7efbbcbc20a1425f0d70b38127b7b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16953, "upload_time": "2020-02-10T16:22:59", "upload_time_iso_8601": "2020-02-10T16:22:59.031420Z", "url": "https://files.pythonhosted.org/packages/fa/20/1b4e8f700c750c305748c1fb4720417947e0571ddc5b8f09d11f8f6abf30/djangocms-call-to-action-0.0.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:37:04 2020"}
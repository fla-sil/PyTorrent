{"info": {"author": "egon", "author_email": "egon@gb.com", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python", "Topic :: Internet :: WWW/HTTP :: Dynamic Content", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "=========\npika-pool\n=========\n\n.. image:: https://travis-ci.org/bninja/pika-pool.png\n   :target: https://travis-ci.org/bninja/pika-pool\n   \n.. image:: https://coveralls.io/repos/bninja/pika-pool/badge.png?branch=master\n   :target: https://coveralls.io/r/bninja/pika-pool?branch=master\n\nPika connection pooling inspired by:\n\n- `flask-pika <https://github.com/WeatherDecisionTechnologies/flask-pika>`_\n- `sqlalchemy.pool.Pool <http://docs.sqlalchemy.org/en/latest/core/pooling.html#sqlalchemy.pool.Pool>`_\n\nTypically you'll go with local `shovels <https://www.rabbitmq.com/shovel.html>`_, `krazee-eyez kombu <http://bit.ly/1txcnnO>`_, etc. but this works too.\n\nusage\n-----\n\nGet it:\n\n.. code:: bash\n\n   pip install pika-pool\n\nand use it:\n\n.. code:: python\n\n   import json\n\n   import pika\n   import pika_pool\n\n   params = pika.URLParameters(\n      'amqp://guest:guest@localhost:5672/?'\n      'socket_timeout=10&'\n      'connection_attempts=2'\n    )\n\n    pool = pika_pool.QueuedPool(\n        create=lambda: pika.BlockingConnection(parameters=params),\n        max_size=10,\n        max_overflow=10,\n        timeout=10,\n        recycle=3600,\n        stale=45,\n    )\n\n    with pool.acquire() as cxn:\n        cxn.channel.basic_publish(\n            body=json.dumps({\n                'type': 'banana',\n                'description': 'they are yellow'\n            }),\n            exchange='',\n            routing_key='fruits',\n            properties=pika.BasicProperties(\n                content_type='application/json',\n                content_encoding='utf-8',\n                delivery_mode=2,\n            )\n        )\n\nrelease\n-------\n\nTests pass:\n\n.. code:: bash\n\n   py.test test.py --cov=pika_pool --cov-report term-missing\n\nso update ``__version__`` in:\n\n- ``__init__.py``\n\nthen commit and tag it:\n\n.. code:: bash\n\n   git commit -am \"release v{version}\"\n   git tag -a v{version} -m \"release v{version}\"\n   git push --tags\n\nand `travis <https://travis-ci.org/bninja/pika-pool>`_ will publish it to `pypi <https://pypi.python.org/pypi/pika-pool/>`_.", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/bninja/pika-pool", "keywords": null, "license": "BSD", "maintainer": null, "maintainer_email": null, "name": "pika-pool", "package_url": "https://pypi.org/project/pika-pool/", "platform": "any", "project_url": "https://pypi.org/project/pika-pool/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/bninja/pika-pool"}, "release_url": "https://pypi.org/project/pika-pool/0.1.3/", "requires_dist": null, "requires_python": null, "summary": "Pools for pikas.", "version": "0.1.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://travis-ci.org/bninja/pika-pool\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/bninja/pika-pool.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/51d5f7e7d80f1afe3e07b45e79cd85cb06f4eaed/68747470733a2f2f7472617669732d63692e6f72672f626e696e6a612f70696b612d706f6f6c2e706e67\"></a>\n<a href=\"https://coveralls.io/r/bninja/pika-pool?branch=master\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/bninja/pika-pool/badge.png?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1e0cdaf7431cacb1c519b22cd614db7fe09343a5/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f626e696e6a612f70696b612d706f6f6c2f62616467652e706e673f6272616e63683d6d6173746572\"></a>\n<p>Pika connection pooling inspired by:</p>\n<ul>\n<li><a href=\"https://github.com/WeatherDecisionTechnologies/flask-pika\" rel=\"nofollow\">flask-pika</a></li>\n<li><a href=\"http://docs.sqlalchemy.org/en/latest/core/pooling.html#sqlalchemy.pool.Pool\" rel=\"nofollow\">sqlalchemy.pool.Pool</a></li>\n</ul>\n<p>Typically you\u2019ll go with local <a href=\"https://www.rabbitmq.com/shovel.html\" rel=\"nofollow\">shovels</a>, <a href=\"http://bit.ly/1txcnnO\" rel=\"nofollow\">krazee-eyez kombu</a>, etc. but this works too.</p>\n<div id=\"usage\">\n<h2>usage</h2>\n<p>Get it:</p>\n<pre>pip install pika-pool\n</pre>\n<p>and use it:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">json</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">pika</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pika_pool</span>\n\n<span class=\"n\">params</span> <span class=\"o\">=</span> <span class=\"n\">pika</span><span class=\"o\">.</span><span class=\"n\">URLParameters</span><span class=\"p\">(</span>\n   <span class=\"s1\">'amqp://guest:guest@localhost:5672/?'</span>\n   <span class=\"s1\">'socket_timeout=10&amp;'</span>\n   <span class=\"s1\">'connection_attempts=2'</span>\n <span class=\"p\">)</span>\n\n <span class=\"n\">pool</span> <span class=\"o\">=</span> <span class=\"n\">pika_pool</span><span class=\"o\">.</span><span class=\"n\">QueuedPool</span><span class=\"p\">(</span>\n     <span class=\"n\">create</span><span class=\"o\">=</span><span class=\"k\">lambda</span><span class=\"p\">:</span> <span class=\"n\">pika</span><span class=\"o\">.</span><span class=\"n\">BlockingConnection</span><span class=\"p\">(</span><span class=\"n\">parameters</span><span class=\"o\">=</span><span class=\"n\">params</span><span class=\"p\">),</span>\n     <span class=\"n\">max_size</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span>\n     <span class=\"n\">max_overflow</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span>\n     <span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span>\n     <span class=\"n\">recycle</span><span class=\"o\">=</span><span class=\"mi\">3600</span><span class=\"p\">,</span>\n     <span class=\"n\">stale</span><span class=\"o\">=</span><span class=\"mi\">45</span><span class=\"p\">,</span>\n <span class=\"p\">)</span>\n\n <span class=\"k\">with</span> <span class=\"n\">pool</span><span class=\"o\">.</span><span class=\"n\">acquire</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">cxn</span><span class=\"p\">:</span>\n     <span class=\"n\">cxn</span><span class=\"o\">.</span><span class=\"n\">channel</span><span class=\"o\">.</span><span class=\"n\">basic_publish</span><span class=\"p\">(</span>\n         <span class=\"n\">body</span><span class=\"o\">=</span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">({</span>\n             <span class=\"s1\">'type'</span><span class=\"p\">:</span> <span class=\"s1\">'banana'</span><span class=\"p\">,</span>\n             <span class=\"s1\">'description'</span><span class=\"p\">:</span> <span class=\"s1\">'they are yellow'</span>\n         <span class=\"p\">}),</span>\n         <span class=\"n\">exchange</span><span class=\"o\">=</span><span class=\"s1\">''</span><span class=\"p\">,</span>\n         <span class=\"n\">routing_key</span><span class=\"o\">=</span><span class=\"s1\">'fruits'</span><span class=\"p\">,</span>\n         <span class=\"n\">properties</span><span class=\"o\">=</span><span class=\"n\">pika</span><span class=\"o\">.</span><span class=\"n\">BasicProperties</span><span class=\"p\">(</span>\n             <span class=\"n\">content_type</span><span class=\"o\">=</span><span class=\"s1\">'application/json'</span><span class=\"p\">,</span>\n             <span class=\"n\">content_encoding</span><span class=\"o\">=</span><span class=\"s1\">'utf-8'</span><span class=\"p\">,</span>\n             <span class=\"n\">delivery_mode</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span>\n         <span class=\"p\">)</span>\n     <span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"release\">\n<h2>release</h2>\n<p>Tests pass:</p>\n<pre>py.test test.py --cov<span class=\"o\">=</span>pika_pool --cov-report term-missing\n</pre>\n<p>so update <tt>__version__</tt> in:</p>\n<ul>\n<li><tt>__init__.py</tt></li>\n</ul>\n<p>then commit and tag it:</p>\n<pre>git commit -am <span class=\"s2\">\"release v{version}\"</span>\ngit tag -a v<span class=\"o\">{</span>version<span class=\"o\">}</span> -m <span class=\"s2\">\"release v{version}\"</span>\ngit push --tags\n</pre>\n<p>and <a href=\"https://travis-ci.org/bninja/pika-pool\" rel=\"nofollow\">travis</a> will publish it to <a href=\"https://pypi.python.org/pypi/pika-pool/\" rel=\"nofollow\">pypi</a>.</p>\n</div>\n\n          </div>"}, "last_serial": 1830004, "releases": {"0.1.0": [], "0.1.1": [{"comment_text": "", "digests": {"md5": "28098544fea92bf493c575832a90bf0a", "sha256": "925270d701b85ff7be3094051eb4bd34a10b6d990ccf5f69e07b44d6ff655555"}, "downloads": -1, "filename": "pika-pool-0.1.1.tar.gz", "has_sig": false, "md5_digest": "28098544fea92bf493c575832a90bf0a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4379, "upload_time": "2014-09-17T23:34:29", "upload_time_iso_8601": "2014-09-17T23:34:29.461182Z", "url": "https://files.pythonhosted.org/packages/90/9b/10ea056d093cabc78f335f80f2dd5f4245370d7675b2aa9292222c299233/pika-pool-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "6cf6fcb7cac9c3b9c9b1fcb0a79be75a", "sha256": "f27af91b0b4c06d1ad36fcfdd5ea2a52bc9161efcaa63f658e235af0c161fce5"}, "downloads": -1, "filename": "pika-pool-0.1.2.tar.gz", "has_sig": false, "md5_digest": "6cf6fcb7cac9c3b9c9b1fcb0a79be75a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4712, "upload_time": "2015-09-04T17:33:01", "upload_time_iso_8601": "2015-09-04T17:33:01.626731Z", "url": "https://files.pythonhosted.org/packages/ac/aa/ac69f602125f3b2b5ca91b050f052646cd6218a910dc14a455ceb4e23c3a/pika-pool-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "0a3897e991aa3da948e03660313c1980", "sha256": "f3985888cc2788cdbd293a68a8b5702a9c955db6f7b8b551aeac91e7f32da397"}, "downloads": -1, "filename": "pika-pool-0.1.3.tar.gz", "has_sig": false, "md5_digest": "0a3897e991aa3da948e03660313c1980", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4722, "upload_time": "2015-11-23T20:11:00", "upload_time_iso_8601": "2015-11-23T20:11:00.849286Z", "url": "https://files.pythonhosted.org/packages/ec/48/50c8f02a3eef4cb824bec50661ec1713040402cc1b2a38954dc977a59c23/pika-pool-0.1.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "0a3897e991aa3da948e03660313c1980", "sha256": "f3985888cc2788cdbd293a68a8b5702a9c955db6f7b8b551aeac91e7f32da397"}, "downloads": -1, "filename": "pika-pool-0.1.3.tar.gz", "has_sig": false, "md5_digest": "0a3897e991aa3da948e03660313c1980", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4722, "upload_time": "2015-11-23T20:11:00", "upload_time_iso_8601": "2015-11-23T20:11:00.849286Z", "url": "https://files.pythonhosted.org/packages/ec/48/50c8f02a3eef4cb824bec50661ec1713040402cc1b2a38954dc977a59c23/pika-pool-0.1.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:54:48 2020"}
{"info": {"author": "Denis Otkidach", "author_email": "denis.otkidach@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "aiochsa\n=======\n\nClickhouse Python/asyncio library for use with SQLAlchemy core\n\n\nExample\n-------\n\n.. code-block:: python\n\n    import aiochsa\n    import sqlalchemy as sa\n\n    table = sa.Table(\n        'test', sa.MetaData(),\n        sa.Column('id', sa.Integer),\n        sa.Column('name', sa.String),\n    )\n\n    async with aiochsa.connect('clickhouse://127.0.0.1:8123') as conn:\n        await conn.execute(\n            table.insert(),\n            [\n                {'id': 1, 'name': 'Alice'},\n                {'id': 2, 'name': 'Bob'},\n            ],\n        )\n        rows = await conn.fetch(\n            table.select()\n        )\n\n\nTo add ``FINAL`` modifier use ``with_hint(table, 'FINAL')``\n(see `SQLAlchemy docs for details <https://docs.sqlalchemy.org/en/13/core/selectable.html?highlight=with_hint#sqlalchemy.sql.expression.Select.with_hint>`_).\n\nConfigure logging to show SQL:\n\n.. code-block:: python\n\n    logging.getLogger('aiochsa.client.SQL').setLevel(logging.DEBUG)\n\n\nCustom type converters\n----------------------\n\nHere is an example of installing converter for ClickHouse's ``DateTime`` type\nthat requires and returns timezone-aware Python's ``datetime`` object and\nstores it as UTC:\n\n.. code-block:: python\n\n    from datetime import datetime\n    import aiochsa\n    from aiochsa.types import DateTimeUTCType, TypeRegistry\n\n    types = TypeRegistry()\n    types.register(DateTimeUTCType, ['DateTime'], datetime)\n    conn = aiochsa.connect(dsn, types=types)\n\n\nChange log\n----------\n\nSee `CHANGELOG <https://github.com/ods/aiochsa/blob/master/CHANGELOG.rst>`_.", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/ods/aiochsa", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "aiochsa", "package_url": "https://pypi.org/project/aiochsa/", "platform": "", "project_url": "https://pypi.org/project/aiochsa/", "project_urls": {"Homepage": "https://github.com/ods/aiochsa"}, "release_url": "https://pypi.org/project/aiochsa/0.9.2/", "requires_dist": null, "requires_python": "", "summary": "Clickhouse Python/asyncio library for use with SQLAlchemy core", "version": "0.9.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Clickhouse Python/asyncio library for use with SQLAlchemy core</p>\n<div id=\"example\">\n<h2>Example</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">aiochsa</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sqlalchemy</span> <span class=\"k\">as</span> <span class=\"nn\">sa</span>\n\n<span class=\"n\">table</span> <span class=\"o\">=</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Table</span><span class=\"p\">(</span>\n    <span class=\"s1\">'test'</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">MetaData</span><span class=\"p\">(),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">'id'</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">'name'</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"p\">)</span>\n\n<span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">aiochsa</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"s1\">'clickhouse://127.0.0.1:8123'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">conn</span><span class=\"p\">:</span>\n    <span class=\"k\">await</span> <span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span>\n        <span class=\"n\">table</span><span class=\"o\">.</span><span class=\"n\">insert</span><span class=\"p\">(),</span>\n        <span class=\"p\">[</span>\n            <span class=\"p\">{</span><span class=\"s1\">'id'</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Alice'</span><span class=\"p\">},</span>\n            <span class=\"p\">{</span><span class=\"s1\">'id'</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'Bob'</span><span class=\"p\">},</span>\n        <span class=\"p\">],</span>\n    <span class=\"p\">)</span>\n    <span class=\"n\">rows</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">fetch</span><span class=\"p\">(</span>\n        <span class=\"n\">table</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span>\n    <span class=\"p\">)</span>\n</pre>\n<p>To add <tt>FINAL</tt> modifier use <tt>with_hint(table, 'FINAL')</tt>\n(see <a href=\"https://docs.sqlalchemy.org/en/13/core/selectable.html?highlight=with_hint#sqlalchemy.sql.expression.Select.with_hint\" rel=\"nofollow\">SQLAlchemy docs for details</a>).</p>\n<p>Configure logging to show SQL:</p>\n<pre><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s1\">'aiochsa.client.SQL'</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">setLevel</span><span class=\"p\">(</span><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">DEBUG</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"custom-type-converters\">\n<h2>Custom type converters</h2>\n<p>Here is an example of installing converter for ClickHouse\u2019s <tt>DateTime</tt> type\nthat requires and returns timezone-aware Python\u2019s <tt>datetime</tt> object and\nstores it as UTC:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n<span class=\"kn\">import</span> <span class=\"nn\">aiochsa</span>\n<span class=\"kn\">from</span> <span class=\"nn\">aiochsa.types</span> <span class=\"kn\">import</span> <span class=\"n\">DateTimeUTCType</span><span class=\"p\">,</span> <span class=\"n\">TypeRegistry</span>\n\n<span class=\"n\">types</span> <span class=\"o\">=</span> <span class=\"n\">TypeRegistry</span><span class=\"p\">()</span>\n<span class=\"n\">types</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"n\">DateTimeUTCType</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'DateTime'</span><span class=\"p\">],</span> <span class=\"n\">datetime</span><span class=\"p\">)</span>\n<span class=\"n\">conn</span> <span class=\"o\">=</span> <span class=\"n\">aiochsa</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"n\">dsn</span><span class=\"p\">,</span> <span class=\"n\">types</span><span class=\"o\">=</span><span class=\"n\">types</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"change-log\">\n<h2>Change log</h2>\n<p>See <a href=\"https://github.com/ods/aiochsa/blob/master/CHANGELOG.rst\" rel=\"nofollow\">CHANGELOG</a>.</p>\n</div>\n\n          </div>"}, "last_serial": 6864136, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "a5eb36042a7926984f414e17be2503f4", "sha256": "bcaaf31791ff72d96a9affb6b7de866bfe7a8e201e643d8ef4dbf182872d6020"}, "downloads": -1, "filename": "aiochsa-0.1.tar.gz", "has_sig": false, "md5_digest": "a5eb36042a7926984f414e17be2503f4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3577, "upload_time": "2019-09-17T11:55:54", "upload_time_iso_8601": "2019-09-17T11:55:54.995644Z", "url": "https://files.pythonhosted.org/packages/16/96/23dca811b54d4d435b5ea0c8f71ad281cd3a1ae1c31137de3da3622195ab/aiochsa-0.1.tar.gz", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "adb6a858641c5a3723e0491ed7b3da7e", "sha256": "8e6a3401b4bac02ef9c61e5dd3c058227b2102e9ec46a30715b5dff25b8223b1"}, "downloads": -1, "filename": "aiochsa-0.2.tar.gz", "has_sig": false, "md5_digest": "adb6a858641c5a3723e0491ed7b3da7e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10534, "upload_time": "2019-09-17T13:19:41", "upload_time_iso_8601": "2019-09-17T13:19:41.663117Z", "url": "https://files.pythonhosted.org/packages/c4/25/34df3ddfd5e09427f05de26bec60f8ceba33220e075fc12d40a59da82104/aiochsa-0.2.tar.gz", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "6b4e8bf67f08565d35ea0da6c29ca2f8", "sha256": "dab6fd48f45e9b9cbadd8247825aa1075b308e618910a92713df403f9c65f7a0"}, "downloads": -1, "filename": "aiochsa-0.3.tar.gz", "has_sig": false, "md5_digest": "6b4e8bf67f08565d35ea0da6c29ca2f8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13000, "upload_time": "2019-10-23T13:33:03", "upload_time_iso_8601": "2019-10-23T13:33:03.082105Z", "url": "https://files.pythonhosted.org/packages/69/ab/3401dade5b6caea48118b749005ad34bd1daea9b370ba500275b960e43a9/aiochsa-0.3.tar.gz", "yanked": false}], "0.4": [{"comment_text": "", "digests": {"md5": "3677a93c67325194b0f336b0b0af5307", "sha256": "3ed004faf517640c9ac99517e68fc9bb1085d58257a8aef5ed3831c40a560cb2"}, "downloads": -1, "filename": "aiochsa-0.4.tar.gz", "has_sig": false, "md5_digest": "3677a93c67325194b0f336b0b0af5307", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13495, "upload_time": "2019-10-29T16:36:10", "upload_time_iso_8601": "2019-10-29T16:36:10.799124Z", "url": "https://files.pythonhosted.org/packages/e4/a6/7c9b935ee7c55da74878dbd9c0b3822c9f0ab149d9086ef0c10a3b50f2e1/aiochsa-0.4.tar.gz", "yanked": false}], "0.5": [{"comment_text": "", "digests": {"md5": "2ad5cb9e09164e7580aa7e021254cc67", "sha256": "237b04fc4249e3fe7a263545f7f766f747702beda4cc5ff5af55e249de373a9d"}, "downloads": -1, "filename": "aiochsa-0.5.tar.gz", "has_sig": false, "md5_digest": "2ad5cb9e09164e7580aa7e021254cc67", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15096, "upload_time": "2019-11-12T13:33:39", "upload_time_iso_8601": "2019-11-12T13:33:39.563591Z", "url": "https://files.pythonhosted.org/packages/22/96/dee3f3bf02d7b2c55377ce78e2f7c4a71da98548c40243c0ea7b9b268503/aiochsa-0.5.tar.gz", "yanked": false}], "0.6": [{"comment_text": "", "digests": {"md5": "49a2146c281ce776bd648ca3b1a7e003", "sha256": "ab3143d63c0ae1e3c4aaf4c00eae54faacb68287dac6b7da534dbb2553b4c26e"}, "downloads": -1, "filename": "aiochsa-0.6.tar.gz", "has_sig": false, "md5_digest": "49a2146c281ce776bd648ca3b1a7e003", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15216, "upload_time": "2019-12-09T16:25:15", "upload_time_iso_8601": "2019-12-09T16:25:15.430481Z", "url": "https://files.pythonhosted.org/packages/08/f4/9b73b523d5845d708dd73970dda20c9e6e1585d2c0896a3bffb954bd57be/aiochsa-0.6.tar.gz", "yanked": false}], "0.7": [{"comment_text": "", "digests": {"md5": "7414fd501a7305c436748c6aad672eed", "sha256": "77dbc93f1f7f6d8756de551e454dd5f02b04526b110f8be54857cd234f093a7f"}, "downloads": -1, "filename": "aiochsa-0.7.tar.gz", "has_sig": false, "md5_digest": "7414fd501a7305c436748c6aad672eed", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15482, "upload_time": "2019-12-25T08:47:09", "upload_time_iso_8601": "2019-12-25T08:47:09.190606Z", "url": "https://files.pythonhosted.org/packages/95/2e/4ef683268b668d26a9a9461dbb51b83fdce4afc5679e48163e932766d265/aiochsa-0.7.tar.gz", "yanked": false}], "0.8": [{"comment_text": "", "digests": {"md5": "083546e754fb0c5beadba97fe1bc21af", "sha256": "0086542ed111f33348ffabebf50b41ceb06c790dac16e3720b39c3dc1245014a"}, "downloads": -1, "filename": "aiochsa-0.8.tar.gz", "has_sig": false, "md5_digest": "083546e754fb0c5beadba97fe1bc21af", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23011, "upload_time": "2020-01-22T14:16:55", "upload_time_iso_8601": "2020-01-22T14:16:55.023954Z", "url": "https://files.pythonhosted.org/packages/ca/27/840f5ad9a7501450a55828b8dc7b00a9bba408a437e1ee2fef40bd880dbb/aiochsa-0.8.tar.gz", "yanked": false}], "0.9": [{"comment_text": "", "digests": {"md5": "9bd173b2a6b20424dcdcb9589935115a", "sha256": "f2071f8362a85573fb09437d903f9f3877d71b32284bf6e2db1a7a080045a66a"}, "downloads": -1, "filename": "aiochsa-0.9.tar.gz", "has_sig": false, "md5_digest": "9bd173b2a6b20424dcdcb9589935115a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23482, "upload_time": "2020-02-10T11:09:33", "upload_time_iso_8601": "2020-02-10T11:09:33.477598Z", "url": "https://files.pythonhosted.org/packages/b2/5e/4c5f6bb5f37975444600989c5887572e8895a8e4c2ec918b22c22870be75/aiochsa-0.9.tar.gz", "yanked": false}], "0.9.1": [{"comment_text": "", "digests": {"md5": "a4e4a8123d9d886beba78a1ecb44d59c", "sha256": "303197652c8b4f0e29b2936014c3bafb32ce6af7f67423bed41a39ff908e6310"}, "downloads": -1, "filename": "aiochsa-0.9.1.tar.gz", "has_sig": false, "md5_digest": "a4e4a8123d9d886beba78a1ecb44d59c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24724, "upload_time": "2020-03-19T10:56:27", "upload_time_iso_8601": "2020-03-19T10:56:27.535243Z", "url": "https://files.pythonhosted.org/packages/cb/c2/e950c4490f78c6b2f6a2edd6dc86b6b04dbd5d86891f46d19f418d227abd/aiochsa-0.9.1.tar.gz", "yanked": false}], "0.9.2": [{"comment_text": "", "digests": {"md5": "6466bf33ba50cfbb0200aa2e83c8976e", "sha256": "b4fd56654fcf8848547975b3e1c6a51588fef98bc1af56d5c98b26f8a660b887"}, "downloads": -1, "filename": "aiochsa-0.9.2.tar.gz", "has_sig": false, "md5_digest": "6466bf33ba50cfbb0200aa2e83c8976e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24779, "upload_time": "2020-03-23T08:42:20", "upload_time_iso_8601": "2020-03-23T08:42:20.162368Z", "url": "https://files.pythonhosted.org/packages/b9/4a/5c5ef4c045421784beb40287227e209fade7ac3efb5108d457cce6333c52/aiochsa-0.9.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "6466bf33ba50cfbb0200aa2e83c8976e", "sha256": "b4fd56654fcf8848547975b3e1c6a51588fef98bc1af56d5c98b26f8a660b887"}, "downloads": -1, "filename": "aiochsa-0.9.2.tar.gz", "has_sig": false, "md5_digest": "6466bf33ba50cfbb0200aa2e83c8976e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24779, "upload_time": "2020-03-23T08:42:20", "upload_time_iso_8601": "2020-03-23T08:42:20.162368Z", "url": "https://files.pythonhosted.org/packages/b9/4a/5c5ef4c045421784beb40287227e209fade7ac3efb5108d457cce6333c52/aiochsa-0.9.2.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:21:43 2020"}
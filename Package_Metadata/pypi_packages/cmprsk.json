{"info": {"author": "Omri Treidel", "author_email": "treidel2@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# cmprsk - Competing Risks Regression\nRegression modeling of sub-distribution functions in competing risks.\n\nA python wrapper around the [cmprsk](https://cran.r-project.org/web/packages/cmprsk/index.html) R package.\n\n*Description*: Estimation, testing and regression modeling of\nsubdistribution functions in competing risks, as described in Gray\n(1988), A class of K-sample tests for comparing the cumulative\nincidence of a competing risk, **Ann. Stat. 16:1141-1154, and Fine JP and\nGray RJ (1999), A proportional hazards model for the subdistribution\nof a competing risk, JASA, 94:496-509**.\n\n[Original Package documentation](https://cran.r-project.org/web/packages/cmprsk/cmprsk.pdf)\n\n## Requierments\nThis package is using `rpy2` in order to use import the cmprsk R packge and therefore the [requierments for rpy2](https://rpy2.readthedocs.io/en/version_2.8.x/overview.html?highlight=readline#requirements) must be met.\n\nTL;DR\n* Unix like OS: Linux, MacOS, BSD. (May work on Windows, look at [rpy2 binaries])(https://rpy2.readthedocs.io/en/version_2.8.x/overview.html#microsoft-s-windows-precompiled-binaries). \n* python >= 3.5\n* R >= 3.3 [how to install R](https://www.datacamp.com/community/tutorials/installing-R-windows-mac-ubuntu)\n* readline 7.0 - Should be installed as part of `rpy2`. [how to install on MacOS](http://blogs.perl.org/users/aristotle/2013/07/easy-osx-termreadlinegnu.html) see also the following [issue](https://github.com/conda-forge/rpy2-feedstock/issues/1)\n* The`cmprsk` R library (open the R consule and run `install.packages('cmprsk')`)\n\n## Quickstart\n\n### Example: crr\n\n```python\n\nimport pandas as pd\n\nimport cmprsk.cmprsk as cmprsk\n\nfrom cmprsk import utils\n\ndata = pd.read_csv('my_data_fle')\n# assuming that x1,x2,x3, x4 are covatiates. \n# x1 are x4 are categorical with baseline 'd' for x1 and 5 for x2 \nstatic_covariates = utils.as_indicators(data[['x1', 'x2', 'x3', 'x4']], ['x1', 'x4'], bases=['d', 5])\n\ncrr_result = cmprsk.crr(ftime, fstatus, static_covariates)\nreport = crr_result.summary\n\nprint(report)\n\n```\n`ftime` and `fstatus` can be numpy array or pandas series, and `static_covariates` is a pandas DataFrame.\nThe `report` is a pandas `DataFrame` as well. \n\n### Example: cuminc\n\n```python\nimport matplotlib.plt\nimport numpy as np\nimport pandas as pd\n\n\nfrom cmprsk import cmprsk\n\ndata  = pd.read_csv('cmprsk/cmprsk/tests/test_set.csv')\nprint(data)\n\n\ncuminc_res = cmprsk.cuminc(data.ss, data.cc, group=data.gg, strata=data.strt)\n\n# print\ncuminc_res.print\n\n# plot using matplotlib\n\n_, ax = plt.subplots()\nfor name, group in cuminc_res.groups.items():\n    ax.plot(group.time, group.est, label=name)\n    ax.fill_between(group.time, group.low_ci, group.high_ci, alpha=0.4)\n\nax.set_ylim([0, 1])\nax.legend()\nax.set_title('foo bar')\nplt.show()\n\n```\n\n\n### How to update package:\n0. update version in setup.py\n1. rm -fr dist directory\n2. python setup.py sdist bdist_wheel \n3. twine upload  dist/* --verbose\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/OmriTreidel/cmprsk", "keywords": "competing risks,survival analysis", "license": "", "maintainer": "", "maintainer_email": "", "name": "cmprsk", "package_url": "https://pypi.org/project/cmprsk/", "platform": "", "project_url": "https://pypi.org/project/cmprsk/", "project_urls": {"Homepage": "https://github.com/OmriTreidel/cmprsk"}, "release_url": "https://pypi.org/project/cmprsk/0.1.0/", "requires_dist": ["numpy", "pandas", "rpy2", "scipy"], "requires_python": "", "summary": "A python wrapper around cmprsk R package", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>cmprsk - Competing Risks Regression</h1>\n<p>Regression modeling of sub-distribution functions in competing risks.</p>\n<p>A python wrapper around the <a href=\"https://cran.r-project.org/web/packages/cmprsk/index.html\" rel=\"nofollow\">cmprsk</a> R package.</p>\n<p><em>Description</em>: Estimation, testing and regression modeling of\nsubdistribution functions in competing risks, as described in Gray\n(1988), A class of K-sample tests for comparing the cumulative\nincidence of a competing risk, <strong>Ann. Stat. 16:1141-1154, and Fine JP and\nGray RJ (1999), A proportional hazards model for the subdistribution\nof a competing risk, JASA, 94:496-509</strong>.</p>\n<p><a href=\"https://cran.r-project.org/web/packages/cmprsk/cmprsk.pdf\" rel=\"nofollow\">Original Package documentation</a></p>\n<h2>Requierments</h2>\n<p>This package is using <code>rpy2</code> in order to use import the cmprsk R packge and therefore the <a href=\"https://rpy2.readthedocs.io/en/version_2.8.x/overview.html?highlight=readline#requirements\" rel=\"nofollow\">requierments for rpy2</a> must be met.</p>\n<p>TL;DR</p>\n<ul>\n<li>Unix like OS: Linux, MacOS, BSD. (May work on Windows, look at [rpy2 binaries])(<a href=\"https://rpy2.readthedocs.io/en/version_2.8.x/overview.html#microsoft-s-windows-precompiled-binaries\" rel=\"nofollow\">https://rpy2.readthedocs.io/en/version_2.8.x/overview.html#microsoft-s-windows-precompiled-binaries</a>).</li>\n<li>python &gt;= 3.5</li>\n<li>R &gt;= 3.3 <a href=\"https://www.datacamp.com/community/tutorials/installing-R-windows-mac-ubuntu\" rel=\"nofollow\">how to install R</a></li>\n<li>readline 7.0 - Should be installed as part of <code>rpy2</code>. <a href=\"http://blogs.perl.org/users/aristotle/2013/07/easy-osx-termreadlinegnu.html\" rel=\"nofollow\">how to install on MacOS</a> see also the following <a href=\"https://github.com/conda-forge/rpy2-feedstock/issues/1\" rel=\"nofollow\">issue</a></li>\n<li>The<code>cmprsk</code> R library (open the R consule and run <code>install.packages('cmprsk')</code>)</li>\n</ul>\n<h2>Quickstart</h2>\n<h3>Example: crr</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">cmprsk.cmprsk</span> <span class=\"k\">as</span> <span class=\"nn\">cmprsk</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">cmprsk</span> <span class=\"kn\">import</span> <span class=\"n\">utils</span>\n\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">read_csv</span><span class=\"p\">(</span><span class=\"s1\">'my_data_fle'</span><span class=\"p\">)</span>\n<span class=\"c1\"># assuming that x1,x2,x3, x4 are covatiates. </span>\n<span class=\"c1\"># x1 are x4 are categorical with baseline 'd' for x1 and 5 for x2 </span>\n<span class=\"n\">static_covariates</span> <span class=\"o\">=</span> <span class=\"n\">utils</span><span class=\"o\">.</span><span class=\"n\">as_indicators</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">[[</span><span class=\"s1\">'x1'</span><span class=\"p\">,</span> <span class=\"s1\">'x2'</span><span class=\"p\">,</span> <span class=\"s1\">'x3'</span><span class=\"p\">,</span> <span class=\"s1\">'x4'</span><span class=\"p\">]],</span> <span class=\"p\">[</span><span class=\"s1\">'x1'</span><span class=\"p\">,</span> <span class=\"s1\">'x4'</span><span class=\"p\">],</span> <span class=\"n\">bases</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'d'</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">])</span>\n\n<span class=\"n\">crr_result</span> <span class=\"o\">=</span> <span class=\"n\">cmprsk</span><span class=\"o\">.</span><span class=\"n\">crr</span><span class=\"p\">(</span><span class=\"n\">ftime</span><span class=\"p\">,</span> <span class=\"n\">fstatus</span><span class=\"p\">,</span> <span class=\"n\">static_covariates</span><span class=\"p\">)</span>\n<span class=\"n\">report</span> <span class=\"o\">=</span> <span class=\"n\">crr_result</span><span class=\"o\">.</span><span class=\"n\">summary</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">report</span><span class=\"p\">)</span>\n</pre>\n<p><code>ftime</code> and <code>fstatus</code> can be numpy array or pandas series, and <code>static_covariates</code> is a pandas DataFrame.\nThe <code>report</code> is a pandas <code>DataFrame</code> as well.</p>\n<h3>Example: cuminc</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">matplotlib.plt</span>\n<span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n\n\n<span class=\"kn\">from</span> <span class=\"nn\">cmprsk</span> <span class=\"kn\">import</span> <span class=\"n\">cmprsk</span>\n\n<span class=\"n\">data</span>  <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">read_csv</span><span class=\"p\">(</span><span class=\"s1\">'cmprsk/cmprsk/tests/test_set.csv'</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">cuminc_res</span> <span class=\"o\">=</span> <span class=\"n\">cmprsk</span><span class=\"o\">.</span><span class=\"n\">cuminc</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">ss</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">cc</span><span class=\"p\">,</span> <span class=\"n\">group</span><span class=\"o\">=</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">gg</span><span class=\"p\">,</span> <span class=\"n\">strata</span><span class=\"o\">=</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">strt</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># print</span>\n<span class=\"n\">cuminc_res</span><span class=\"o\">.</span><span class=\"n\">print</span>\n\n<span class=\"c1\"># plot using matplotlib</span>\n\n<span class=\"n\">_</span><span class=\"p\">,</span> <span class=\"n\">ax</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">subplots</span><span class=\"p\">()</span>\n<span class=\"k\">for</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">group</span> <span class=\"ow\">in</span> <span class=\"n\">cuminc_res</span><span class=\"o\">.</span><span class=\"n\">groups</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n    <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">,</span> <span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">est</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"n\">name</span><span class=\"p\">)</span>\n    <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">fill_between</span><span class=\"p\">(</span><span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">,</span> <span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">low_ci</span><span class=\"p\">,</span> <span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">high_ci</span><span class=\"p\">,</span> <span class=\"n\">alpha</span><span class=\"o\">=</span><span class=\"mf\">0.4</span><span class=\"p\">)</span>\n\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">set_ylim</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">legend</span><span class=\"p\">()</span>\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">set_title</span><span class=\"p\">(</span><span class=\"s1\">'foo bar'</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">show</span><span class=\"p\">()</span>\n</pre>\n<h3>How to update package:</h3>\n<ol>\n<li>update version in setup.py</li>\n<li>rm -fr dist directory</li>\n<li>python setup.py sdist bdist_wheel</li>\n<li>twine upload  dist/* --verbose</li>\n</ol>\n\n          </div>"}, "last_serial": 4421432, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "feb79f7c77521346d0f807641481f979", "sha256": "f72fe8ccc967a0fbd6610bcf8b601f761b895499c289c43fdcde56a9e62aa2bb"}, "downloads": -1, "filename": "cmprsk-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "feb79f7c77521346d0f807641481f979", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 15399, "upload_time": "2018-10-13T06:04:15", "upload_time_iso_8601": "2018-10-13T06:04:15.333503Z", "url": "https://files.pythonhosted.org/packages/26/de/5244a3975ed29b4c52ab30ccfeb75214e4f1a1f76b9c5ea0883a6b68b7ad/cmprsk-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9c30a2260d96528dde00dc9956bcacca", "sha256": "a25176b0cd52c3b9264b7f69b3c6394fb95dc6cef4700dc479c2d95b285a5d79"}, "downloads": -1, "filename": "cmprsk-0.0.1.tar.gz", "has_sig": false, "md5_digest": "9c30a2260d96528dde00dc9956bcacca", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2547, "upload_time": "2018-10-13T06:04:16", "upload_time_iso_8601": "2018-10-13T06:04:16.750786Z", "url": "https://files.pythonhosted.org/packages/7e/92/e8c16b4ac09e5e9ec056279dc6181db39f34f0ca142d569832cbfd77da9d/cmprsk-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "0151e27a8605d53b91c3b9c86dd4d918", "sha256": "f95d01d06540e0f560ae0982b9833213d5ecfd40ab6da408153567885ea586e0"}, "downloads": -1, "filename": "cmprsk-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "0151e27a8605d53b91c3b9c86dd4d918", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 19840, "upload_time": "2018-10-20T06:20:08", "upload_time_iso_8601": "2018-10-20T06:20:08.320062Z", "url": "https://files.pythonhosted.org/packages/5d/aa/febebff0fce509632e375daa19aeaad073a77503167b372f5f4055957de9/cmprsk-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b304d32922804645addd9c5a0649b145", "sha256": "a6ceafea9d3f5c5e576d5d584d300ac7496cd5628ff269bd1df540e67c2ade67"}, "downloads": -1, "filename": "cmprsk-0.0.2.tar.gz", "has_sig": false, "md5_digest": "b304d32922804645addd9c5a0649b145", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5632, "upload_time": "2018-10-20T06:20:09", "upload_time_iso_8601": "2018-10-20T06:20:09.708193Z", "url": "https://files.pythonhosted.org/packages/05/64/c69306d524c4d8bb7e98519fc4a8aee9f4e299f8f988838c4d23987fb176/cmprsk-0.0.2.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "54564a6dfc7143a9f2c62763e0f987ee", "sha256": "5f7c06b723eed897b671fad6f9b2d05067ebc1605932914da4dbdd4bdbf0ff92"}, "downloads": -1, "filename": "cmprsk-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "54564a6dfc7143a9f2c62763e0f987ee", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 21664, "upload_time": "2018-10-27T05:35:37", "upload_time_iso_8601": "2018-10-27T05:35:37.402432Z", "url": "https://files.pythonhosted.org/packages/e9/31/f813a8f11cc56487f131bb1c698edf1287d48353508c55230e22aca4fcff/cmprsk-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "da05e245bdc621acb3405ad1e7839135", "sha256": "192bec6f6189084c117c8b4edab697fc489f80ac3c1f1d5a6cba8c5268ef36e6"}, "downloads": -1, "filename": "cmprsk-0.1.0.tar.gz", "has_sig": false, "md5_digest": "da05e245bdc621acb3405ad1e7839135", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7452, "upload_time": "2018-10-27T05:35:39", "upload_time_iso_8601": "2018-10-27T05:35:39.087855Z", "url": "https://files.pythonhosted.org/packages/b5/34/969ef65be282c765fc9f24200fe894b8ed64b958d64a3d32eaf5e7697662/cmprsk-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "54564a6dfc7143a9f2c62763e0f987ee", "sha256": "5f7c06b723eed897b671fad6f9b2d05067ebc1605932914da4dbdd4bdbf0ff92"}, "downloads": -1, "filename": "cmprsk-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "54564a6dfc7143a9f2c62763e0f987ee", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 21664, "upload_time": "2018-10-27T05:35:37", "upload_time_iso_8601": "2018-10-27T05:35:37.402432Z", "url": "https://files.pythonhosted.org/packages/e9/31/f813a8f11cc56487f131bb1c698edf1287d48353508c55230e22aca4fcff/cmprsk-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "da05e245bdc621acb3405ad1e7839135", "sha256": "192bec6f6189084c117c8b4edab697fc489f80ac3c1f1d5a6cba8c5268ef36e6"}, "downloads": -1, "filename": "cmprsk-0.1.0.tar.gz", "has_sig": false, "md5_digest": "da05e245bdc621acb3405ad1e7839135", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7452, "upload_time": "2018-10-27T05:35:39", "upload_time_iso_8601": "2018-10-27T05:35:39.087855Z", "url": "https://files.pythonhosted.org/packages/b5/34/969ef65be282c765fc9f24200fe894b8ed64b958d64a3d32eaf5e7697662/cmprsk-0.1.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:18:33 2020"}
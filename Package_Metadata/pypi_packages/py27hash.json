{"info": {"author": "NeuML", "author_email": "", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 2", "Programming Language :: Python :: 3", "Topic :: Software Development :: Libraries"], "description": "py27hash: Python 2.7 hashing and iteration in Python 3+\n======\n\n[![Version](https://img.shields.io/pypi/v/py27hash.svg?style=flat)](https://pypi.org/project/py27hash/)\n[![Build Status](https://img.shields.io/travis/neuml/py27hash/master.svg?style=flat)](https://travis-ci.org/neuml/py27hash)\n[![Coverage Status](https://coveralls.io/repos/github/neuml/py27hash/badge.svg)](https://coveralls.io/github/neuml/py27hash)\n\nThis package helps ease the migration from Python 2 to 3 for applications that depend on the old hash/iteration order of sets/dicts. Even when setting PYTHONHASHSEED=0, the hash (and default iteration order) will still be different as the hashing algorithm changed in Python 3. This package allows Python 2.7 hashing and set/dict iteration.\n\n## Installation\nThe easiest way to install is via pip and PyPI\n\n    pip install py27hash\n\nYou can also use Git to clone the repository from GitHub and install it manually:\n\n    git clone https://github.com/neuml/py27hash.git\n    cd py27hash\n    pip install .\n\nPython 2.7 and 3+ are supported.\n\n## How to use\nYou only need to replace object instantiation to use this package. There are multiple ways to do this, with the best way to do it on a case by case basis.\n\n### Replace each instantiation\nThe first example replaces a single dict and set with a 2.7 dict.\n\n```python\nfrom py27hash.dict import Dict\n\n# Replace {} with Dict()\nd = Dict()\n\nd[\"a\"] = 1\n\n# Python 2.7 sets can be used in the same manner.\n\nfrom py27hash.set import Set\n\n# Replace set() with Set()\nd = Set()\n\nd.add(\"a\")\n```\n\n### Override function via import\n\nThe same example above can be changed to override the dict and set import statement. This will globally change an entire file which could cause issues but it is an option. If a dict or set was created with the {} syntax, it still needs to be changed to dict()/set().\n\n```python\nfrom py27hash.dict import Dict as dict\n\nd = dict()\n\nd[\"a\"] = 1\n\n# Python 2.7 sets can be used in the same manner.\nfrom py27hash.set import Set as set\n\nd = set()\n\nd.add(\"a\")\n```\n\n### Using other methods\n\nThe hashing and key iteration methods can be directly accessed via the hash and key packages as follows.\n\n```python\nfrom py27hash.hash import hash27\n\nprint(hash27(\"test1234\"))\n\n# As with the example above you could even override the hash function for a particular file.\n\nfrom p27hash.hash import hash27 as hash\n\nprint(hash(\"test1234\"))\n```\n\nBoth Dict and Set are backed by the keys class. As new values as added/modified, a Keys instance tracks each value to store the order via Python 2.7 hashing. This class can also be used directly.\n\n```python\nfrom p27hash.key import Keys\n\nkeys = Keys()\nkeys.add(\"1\")\nkeys.add(\"2\")\n```\n\n## Background\nPython 2 will reach end of life (EOL) on January 1st, 2020. This package helps ease the migration from Python 2 to 3 for applications that depend on the old hash/iteration order of sets/dicts. Even when setting PYTHONHASHSEED=0, the hash (and default iteration order) will still be different as the hashing algorithm changed in Python3. Python 3.6 changed the default iteration order to insertion order.\n\nOne target use case is with machine learning. Optimization of machine learning model hyperparameters can take a very long time and if a model was built under Python 2 and feature set/dicts used the default sort order, new parameters would need to be used. This library can be used to allow a full conversion to Python 3 while fixes are made to re-optimize large model parameters. There likely are other use cases, especially in the scientific/engineering space where non-random deterministic iteration in Python 2 was used to create reproducible results.\n\nThis package implements logic in cpython 2.7 C source, mainly the Objects/ folder in pure Python. Performance was not a goal of this package and it will perform worse than native collections. It should only be used when there is a clear use case to preserve Python 2.7 hashing/iteration to ease a transition to Python 3.\n\n## Development\nIf an issue is found in this library, it can be cloned and changed.\n\n    git clone https://github.com/neuml/py27hash.git\n    cd py27hash\n\nAfter changes are made to the source, unit tests should also be added and run via:\n    scripts/test.sh\n\nDuring development slower tests can be skipped via:\n    scripts/test.sh skipslow\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "https://pypi.org/project/py27hash/", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/neuml/py27hash", "keywords": "python hash iteration migration", "license": "MIT License: http://opensource.org/licenses/MIT", "maintainer": "", "maintainer_email": "", "name": "py27hash", "package_url": "https://pypi.org/project/py27hash/", "platform": "", "project_url": "https://pypi.org/project/py27hash/", "project_urls": {"Documentation": "https://github.com/neuml/py27hash", "Download": "https://pypi.org/project/py27hash/", "Homepage": "https://github.com/neuml/py27hash", "Issue Tracker": "https://github.com/neuml/py27hash/issues", "Source Code": "https://github.com/neuml/py27hash"}, "release_url": "https://pypi.org/project/py27hash/1.0.2/", "requires_dist": null, "requires_python": ">=2.7", "summary": "Python 2.7 hashing and iteration in Python 3+", "version": "1.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>py27hash: Python 2.7 hashing and iteration in Python 3+</h1>\n<p><a href=\"https://pypi.org/project/py27hash/\" rel=\"nofollow\"><img alt=\"Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f3fe5c91fe5e4fdc0b76017625e6e41b2ff6ce9e/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f70793237686173682e7376673f7374796c653d666c6174\"></a>\n<a href=\"https://travis-ci.org/neuml/py27hash\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ba20d6c0c0f30e3c5c059326aa34bcafc6e7b1d6/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f6e65756d6c2f70793237686173682f6d61737465722e7376673f7374796c653d666c6174\"></a>\n<a href=\"https://coveralls.io/github/neuml/py27hash\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/68263837807ce85c23bd979a136acb0adac58798/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6e65756d6c2f70793237686173682f62616467652e737667\"></a></p>\n<p>This package helps ease the migration from Python 2 to 3 for applications that depend on the old hash/iteration order of sets/dicts. Even when setting PYTHONHASHSEED=0, the hash (and default iteration order) will still be different as the hashing algorithm changed in Python 3. This package allows Python 2.7 hashing and set/dict iteration.</p>\n<h2>Installation</h2>\n<p>The easiest way to install is via pip and PyPI</p>\n<pre><code>pip install py27hash\n</code></pre>\n<p>You can also use Git to clone the repository from GitHub and install it manually:</p>\n<pre><code>git clone https://github.com/neuml/py27hash.git\ncd py27hash\npip install .\n</code></pre>\n<p>Python 2.7 and 3+ are supported.</p>\n<h2>How to use</h2>\n<p>You only need to replace object instantiation to use this package. There are multiple ways to do this, with the best way to do it on a case by case basis.</p>\n<h3>Replace each instantiation</h3>\n<p>The first example replaces a single dict and set with a 2.7 dict.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">py27hash.dict</span> <span class=\"kn\">import</span> <span class=\"n\">Dict</span>\n\n<span class=\"c1\"># Replace {} with Dict()</span>\n<span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">Dict</span><span class=\"p\">()</span>\n\n<span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s2\">\"a\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n\n<span class=\"c1\"># Python 2.7 sets can be used in the same manner.</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">py27hash.set</span> <span class=\"kn\">import</span> <span class=\"n\">Set</span>\n\n<span class=\"c1\"># Replace set() with Set()</span>\n<span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">Set</span><span class=\"p\">()</span>\n\n<span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s2\">\"a\"</span><span class=\"p\">)</span>\n</pre>\n<h3>Override function via import</h3>\n<p>The same example above can be changed to override the dict and set import statement. This will globally change an entire file which could cause issues but it is an option. If a dict or set was created with the {} syntax, it still needs to be changed to dict()/set().</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">py27hash.dict</span> <span class=\"kn\">import</span> <span class=\"n\">Dict</span> <span class=\"k\">as</span> <span class=\"nb\">dict</span>\n\n<span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"nb\">dict</span><span class=\"p\">()</span>\n\n<span class=\"n\">d</span><span class=\"p\">[</span><span class=\"s2\">\"a\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n\n<span class=\"c1\"># Python 2.7 sets can be used in the same manner.</span>\n<span class=\"kn\">from</span> <span class=\"nn\">py27hash.set</span> <span class=\"kn\">import</span> <span class=\"n\">Set</span> <span class=\"k\">as</span> <span class=\"nb\">set</span>\n\n<span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"nb\">set</span><span class=\"p\">()</span>\n\n<span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s2\">\"a\"</span><span class=\"p\">)</span>\n</pre>\n<h3>Using other methods</h3>\n<p>The hashing and key iteration methods can be directly accessed via the hash and key packages as follows.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">py27hash.hash</span> <span class=\"kn\">import</span> <span class=\"n\">hash27</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">hash27</span><span class=\"p\">(</span><span class=\"s2\">\"test1234\"</span><span class=\"p\">))</span>\n\n<span class=\"c1\"># As with the example above you could even override the hash function for a particular file.</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">p27hash.hash</span> <span class=\"kn\">import</span> <span class=\"n\">hash27</span> <span class=\"k\">as</span> <span class=\"nb\">hash</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">hash</span><span class=\"p\">(</span><span class=\"s2\">\"test1234\"</span><span class=\"p\">))</span>\n</pre>\n<p>Both Dict and Set are backed by the keys class. As new values as added/modified, a Keys instance tracks each value to store the order via Python 2.7 hashing. This class can also be used directly.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">p27hash.key</span> <span class=\"kn\">import</span> <span class=\"n\">Keys</span>\n\n<span class=\"n\">keys</span> <span class=\"o\">=</span> <span class=\"n\">Keys</span><span class=\"p\">()</span>\n<span class=\"n\">keys</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s2\">\"1\"</span><span class=\"p\">)</span>\n<span class=\"n\">keys</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s2\">\"2\"</span><span class=\"p\">)</span>\n</pre>\n<h2>Background</h2>\n<p>Python 2 will reach end of life (EOL) on January 1st, 2020. This package helps ease the migration from Python 2 to 3 for applications that depend on the old hash/iteration order of sets/dicts. Even when setting PYTHONHASHSEED=0, the hash (and default iteration order) will still be different as the hashing algorithm changed in Python3. Python 3.6 changed the default iteration order to insertion order.</p>\n<p>One target use case is with machine learning. Optimization of machine learning model hyperparameters can take a very long time and if a model was built under Python 2 and feature set/dicts used the default sort order, new parameters would need to be used. This library can be used to allow a full conversion to Python 3 while fixes are made to re-optimize large model parameters. There likely are other use cases, especially in the scientific/engineering space where non-random deterministic iteration in Python 2 was used to create reproducible results.</p>\n<p>This package implements logic in cpython 2.7 C source, mainly the Objects/ folder in pure Python. Performance was not a goal of this package and it will perform worse than native collections. It should only be used when there is a clear use case to preserve Python 2.7 hashing/iteration to ease a transition to Python 3.</p>\n<h2>Development</h2>\n<p>If an issue is found in this library, it can be cloned and changed.</p>\n<pre><code>git clone https://github.com/neuml/py27hash.git\ncd py27hash\n</code></pre>\n<p>After changes are made to the source, unit tests should also be added and run via:\nscripts/test.sh</p>\n<p>During development slower tests can be skipped via:\nscripts/test.sh skipslow</p>\n\n          </div>"}, "last_serial": 6461294, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "718d16ae19928a32d4daf0715aaf6bf8", "sha256": "c5a69b7126dca0520152983b6e9a737a1667a390fa995eca2dc671c7c16f6eea"}, "downloads": -1, "filename": "py27hash-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "718d16ae19928a32d4daf0715aaf6bf8", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 9515, "upload_time": "2019-11-24T13:08:17", "upload_time_iso_8601": "2019-11-24T13:08:17.644400Z", "url": "https://files.pythonhosted.org/packages/b9/9b/f1acb36e777c8502569850e7849b65b49f13ef691c81d726fca985765895/py27hash-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "081dea0684e0e465f76c1cc2e42769f1", "sha256": "cc9f097eacb66edcb56b4aa8db917be8df997e67e8f3c9a9ea85ff27ddedc1ad"}, "downloads": -1, "filename": "py27hash-1.0.0.tar.gz", "has_sig": false, "md5_digest": "081dea0684e0e465f76c1cc2e42769f1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 7462, "upload_time": "2019-11-24T13:08:19", "upload_time_iso_8601": "2019-11-24T13:08:19.891380Z", "url": "https://files.pythonhosted.org/packages/dc/d9/3bc1c616d6c81070d777fccdef39d784504d9f00255c6b90909d53205188/py27hash-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "87bafff99e71fcd0a633035da3985d4c", "sha256": "a6ecff19bfca2b523ee466df0f5cba7eba425961521bfc5e364b153efe62596c"}, "downloads": -1, "filename": "py27hash-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "87bafff99e71fcd0a633035da3985d4c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 9639, "upload_time": "2019-11-26T20:32:41", "upload_time_iso_8601": "2019-11-26T20:32:41.277557Z", "url": "https://files.pythonhosted.org/packages/7a/16/b4bf0c6a2ba730546c07a20715506cd08e3b9934e3a9fbfb5b170d48bb72/py27hash-1.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6480c4225e42f550003a01dbea807216", "sha256": "71c0af0d2072c03b7fa0ac89607e1a35889d0eeec3ec88127443a3e4659ba09f"}, "downloads": -1, "filename": "py27hash-1.0.1.tar.gz", "has_sig": false, "md5_digest": "6480c4225e42f550003a01dbea807216", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 8362, "upload_time": "2019-11-26T20:32:42", "upload_time_iso_8601": "2019-11-26T20:32:42.517431Z", "url": "https://files.pythonhosted.org/packages/79/c7/f1df11d33b842816472b5bc21df992de5080f177d890acd6a4f73654fab6/py27hash-1.0.1.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "10d8b9a8e6f0374d3c4f71412d46919d", "sha256": "c910e4b60f3f5befcf69bba0f97264c1f8b67972f2cf8eb8e7c7d5dcdedc3041"}, "downloads": -1, "filename": "py27hash-1.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "10d8b9a8e6f0374d3c4f71412d46919d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 9618, "upload_time": "2020-01-15T21:18:53", "upload_time_iso_8601": "2020-01-15T21:18:53.024618Z", "url": "https://files.pythonhosted.org/packages/3e/76/a0f3ee8e656e12e16a09044cead5ccc0169f6932b5f46ae3feef908cea51/py27hash-1.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4502182e2c540b7d5452537545cfd915", "sha256": "34f12148fa762dd7bc52896a2fec134c3fec09d4ffbbd612d7dfc8851a5f3043"}, "downloads": -1, "filename": "py27hash-1.0.2.tar.gz", "has_sig": false, "md5_digest": "4502182e2c540b7d5452537545cfd915", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 8338, "upload_time": "2020-01-15T21:18:54", "upload_time_iso_8601": "2020-01-15T21:18:54.549326Z", "url": "https://files.pythonhosted.org/packages/62/0d/1b136a7e887d3c32050bf65ca7d2f4558178a55f7d4f5fd58e93e0572920/py27hash-1.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "10d8b9a8e6f0374d3c4f71412d46919d", "sha256": "c910e4b60f3f5befcf69bba0f97264c1f8b67972f2cf8eb8e7c7d5dcdedc3041"}, "downloads": -1, "filename": "py27hash-1.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "10d8b9a8e6f0374d3c4f71412d46919d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 9618, "upload_time": "2020-01-15T21:18:53", "upload_time_iso_8601": "2020-01-15T21:18:53.024618Z", "url": "https://files.pythonhosted.org/packages/3e/76/a0f3ee8e656e12e16a09044cead5ccc0169f6932b5f46ae3feef908cea51/py27hash-1.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4502182e2c540b7d5452537545cfd915", "sha256": "34f12148fa762dd7bc52896a2fec134c3fec09d4ffbbd612d7dfc8851a5f3043"}, "downloads": -1, "filename": "py27hash-1.0.2.tar.gz", "has_sig": false, "md5_digest": "4502182e2c540b7d5452537545cfd915", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 8338, "upload_time": "2020-01-15T21:18:54", "upload_time_iso_8601": "2020-01-15T21:18:54.549326Z", "url": "https://files.pythonhosted.org/packages/62/0d/1b136a7e887d3c32050bf65ca7d2f4558178a55f7d4f5fd58e93e0572920/py27hash-1.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:12:36 2020"}
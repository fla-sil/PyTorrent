{"info": {"author": "Sam Doran", "author_email": "sdoran@redhat.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "Intended Audience :: Information Technology", "Intended Audience :: System Administrators", "License :: OSI Approved :: Apache Software License", "Topic :: Utilities"], "description": "Red Hat Subscription\n====================\n[![Galaxy](https://img.shields.io/badge/galaxy-openstack.redhat--subscription-blue.svg?style=flat)](https://galaxy.ansible.com/openstack/redhat-subscription)\n\nManage Red Hat subscriptions and repositories. This role supports registering to Satellite 5, Satellite 6, or the Red Hat Customer Portal.\n\nRequirements\n------------\n\nYou will need to have an active Red Hat subscription in order for registration to succeed.\n\nProvide `rhsm_username` and `rhsm_password` _or_ `rhsm_activation_key`. These options are mutually exclusive and providing both will result in a failure. The recommended option is to provide an activation key rather than username and password.\n\nRole Variables\n--------------\n\n| Name              | Default Value       | Description          |\n|-------------------|---------------------|----------------------|\n| `rhsm_method` | `portal` | Method to use for activation: `portal` or `satellite`. If `satellite`, the role will determine the Satellite Server version and take the appropriate registration actions. |\n| `rhsm_username` | `[undefined]` | Red Hat Portal username. |\n| `rhsm_password` | `[undefined]` | Red Hat Portal password. |\n| `rhsm_activation_key` | `[undefined]` | Red Hat Portal Activation Key. |\n| `rhsm_org_id` | `[undefined]` | Red Hat Portal Organization Identifier. |\n| `rhsm_pool_ids` | `[undefined]` | Red Hat Subscription pool IDs to consume. |\n| `rhsm_state` | `present` | Whether to enable or disable a Red Hat subscription. |\n| `rhsm_autosubscribe` | `[undefined]` | Whether or not to autosubscribe to available repositories. |\n| `rhsm_consumer_hostname` | `[undefined]` | Name of the system to use when registering. Defaults to using the system hostname if undefined. |\n| `rhsm_force_register` | `False` | Whether or not to force registration. |\n| `rhsm_repos` | `[]` | The list of repositories to enable or disable. |\n| `rhsm_repos_state` | `[undefined]` | The state of all repos in `rhsm_repos`. The module default is `enabled`.|\n| `rhsm_repos_purge` | `[undefined]` | Whether or not to disable repos not specified in `rhsm_repos`. The module default is `False`. |\n| `rhsm_rhsm_port` | `443` | Port to use when connecting to subscription server. |\n| `rhsm_server_hostname` | `subscription.rhn.redhat.com` | FQDN of subscription server. |\n| `rhsm_server_prefix` | `/subscription` or `/rhsm` | RHS server prefix. `/subscription` when using registering via `portal`, `/rhsm` when registering via `satellite`. |\n| `rhsm_insecure` | `False` | Disable certificate validation. |\n| `rhsm_ssl_verify_depth` | `3` | Depths certificates should be validated when checking. |\n| `rhsm_rhsm_proxy_hostname` | `[undefined]` | FQDN of outbound proxy server. |\n| `rhsm_rhsm_proxy_port` | `[undefined]` | Port to use for proxy server. |\n| `rhsm_rhsm_proxy_user` | `[undefined]` | Username to use for proxy server. |\n| `rhsm_rhsm_proxy_password` | `[undefined]` | Password to use for proxy server. Save this in an Ansible Vault or other secret store. |\n| `rhsm_baseurl` | `https://cdn.redhat.com` | Base URL for content. |\n| `rhsm_satellite_url` | `[see defaults/main.yml]` | URL of the Satellite server that will be probed to determine the Satellite version. Uses the scheme and hostname of `rhsm_baseurl` by default.  |\n| `rhsm_ca_cert_dir` | `/etc/rhsm/ca/` | Server CA certificate directory. |\n| `rhsm_product_cert_dir` | `/etc/pki/product` | Product certificate directory. |\n| `rhsm_entitlement_cert_dir` | `/etc/pki/entitlement` | Entitlement certificate directory. |\n| `rhsm_consumer_cert_dir` | `/etc/pki/consumer` | Consumer certificate directory. |\n| `rhsm_manage_repos` | `True` | Manage generation of yum repositories for subscribed content. |\n| `rhsm_full_refresh_on_yum` | `False` | Refresh repo files with server overrides on every `yum` command. |\n| `rhsm_report_package_profile` | `True` | Whether to report the package profiles to the subscription management service. |\n| `rhsm_plugin_dir` | `/usr/share/rhsm-plugins` | Directory to search for subscription manage plugins. |\n| `rhsm_plugin_conf_dir` | `/etc/rhsm/pluginconf.d` | Directory to search for plugin configuration files. |\n| `rhsm_cert_check_interval` | `240` | Interval in minutes to run certificate check. |\n| `rhsm_auto_attach_interval` | `1440` | Interval in minutes to run auto-attach. |\n| `rhsm_logging` | [see `defaults/main.yml`] | Logging settings for various RHSM components. |\n\nDependencies\n------------\n\nNone.\n\n\nAbout repositories\n------------------\n\nIf you are using an activation key with Satellite, the repositories that are\nassociated to the subscription are configured in your local instance of Satellite.\nYou can't specify rhsm_repos parameter if you are using rhsm_activation_key with\nSatellite.\nOtherwise, when using Portal registration method you can use either rhsm_username and\nrhsm_password or activation key and you can use rhsm_repos to select which repos get deployed.\n\n\nExample Playbook with Red Hat portal\n------------------------------------\n\n::\n\n    - hosts: all\n      vars:\n        rhsm_username: bob.smith@acme.com\n        rhsm_password: \"{{ vault_rhsm_password }}\"\n        rhsm_repos:\n          - rhel-7-server-rpms\n          - rhel-7-server-extras-rpms\n          - rhel-7-server-rh-common-rpms\n          - rhel-ha-for-rhel-7-server-rpms\n      roles:\n        - openstack.redhat-subscription\n\nExample Playbook with Satellite 6\n---------------------------------\n\n::\n\n    - hosts: all\n      vars:\n        rhsm_activation_key: \"secrete_key\"\n        rhsm_org_id: \"Default_Organization\"\n        rhsm_server_hostname: \"mysatserver.com\"\n        rhsm_baseurl: \"https://mysatserver.com/pulp/repos\"\n        rhsm_method: satellite\n        rhsm_insecure: yes\n      roles:\n        - openstack.redhat-subscription\n\nExample Playbook to unregister\n------------------------------\n\n::\n\n    - hosts: all\n      tasks:\n        - name: Unregister the node\n          include_role:\n            name: openstack.redhat-subscription\n            tasks_from: unregister\n\nLicense\n-------\n\nApache 2.0\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/openstack/ansible-role-redhat-subscription", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "ansible-role-redhat-subscription", "package_url": "https://pypi.org/project/ansible-role-redhat-subscription/", "platform": "", "project_url": "https://pypi.org/project/ansible-role-redhat-subscription/", "project_urls": {"Homepage": "https://github.com/openstack/ansible-role-redhat-subscription"}, "release_url": "https://pypi.org/project/ansible-role-redhat-subscription/1.0.4/", "requires_dist": ["pbr (>=1.6)"], "requires_python": "", "summary": "ansible-role-redhat-subscription - An ansible role to Manage Red Hat subscritions and repositories", "version": "1.0.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Red Hat Subscription</h1>\n<p><a href=\"https://galaxy.ansible.com/openstack/redhat-subscription\" rel=\"nofollow\"><img alt=\"Galaxy\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5bf18f68678cf4cc825ba2e5fa88beceabb00b4b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f67616c6178792d6f70656e737461636b2e7265646861742d2d737562736372697074696f6e2d626c75652e7376673f7374796c653d666c6174\"></a></p>\n<p>Manage Red Hat subscriptions and repositories. This role supports registering to Satellite 5, Satellite 6, or the Red Hat Customer Portal.</p>\n<h2>Requirements</h2>\n<p>You will need to have an active Red Hat subscription in order for registration to succeed.</p>\n<p>Provide <code>rhsm_username</code> and <code>rhsm_password</code> <em>or</em> <code>rhsm_activation_key</code>. These options are mutually exclusive and providing both will result in a failure. The recommended option is to provide an activation key rather than username and password.</p>\n<h2>Role Variables</h2>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Default Value</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>rhsm_method</code></td>\n<td><code>portal</code></td>\n<td>Method to use for activation: <code>portal</code> or <code>satellite</code>. If <code>satellite</code>, the role will determine the Satellite Server version and take the appropriate registration actions.</td>\n</tr>\n<tr>\n<td><code>rhsm_username</code></td>\n<td><code>[undefined]</code></td>\n<td>Red Hat Portal username.</td>\n</tr>\n<tr>\n<td><code>rhsm_password</code></td>\n<td><code>[undefined]</code></td>\n<td>Red Hat Portal password.</td>\n</tr>\n<tr>\n<td><code>rhsm_activation_key</code></td>\n<td><code>[undefined]</code></td>\n<td>Red Hat Portal Activation Key.</td>\n</tr>\n<tr>\n<td><code>rhsm_org_id</code></td>\n<td><code>[undefined]</code></td>\n<td>Red Hat Portal Organization Identifier.</td>\n</tr>\n<tr>\n<td><code>rhsm_pool_ids</code></td>\n<td><code>[undefined]</code></td>\n<td>Red Hat Subscription pool IDs to consume.</td>\n</tr>\n<tr>\n<td><code>rhsm_state</code></td>\n<td><code>present</code></td>\n<td>Whether to enable or disable a Red Hat subscription.</td>\n</tr>\n<tr>\n<td><code>rhsm_autosubscribe</code></td>\n<td><code>[undefined]</code></td>\n<td>Whether or not to autosubscribe to available repositories.</td>\n</tr>\n<tr>\n<td><code>rhsm_consumer_hostname</code></td>\n<td><code>[undefined]</code></td>\n<td>Name of the system to use when registering. Defaults to using the system hostname if undefined.</td>\n</tr>\n<tr>\n<td><code>rhsm_force_register</code></td>\n<td><code>False</code></td>\n<td>Whether or not to force registration.</td>\n</tr>\n<tr>\n<td><code>rhsm_repos</code></td>\n<td><code>[]</code></td>\n<td>The list of repositories to enable or disable.</td>\n</tr>\n<tr>\n<td><code>rhsm_repos_state</code></td>\n<td><code>[undefined]</code></td>\n<td>The state of all repos in <code>rhsm_repos</code>. The module default is <code>enabled</code>.</td>\n</tr>\n<tr>\n<td><code>rhsm_repos_purge</code></td>\n<td><code>[undefined]</code></td>\n<td>Whether or not to disable repos not specified in <code>rhsm_repos</code>. The module default is <code>False</code>.</td>\n</tr>\n<tr>\n<td><code>rhsm_rhsm_port</code></td>\n<td><code>443</code></td>\n<td>Port to use when connecting to subscription server.</td>\n</tr>\n<tr>\n<td><code>rhsm_server_hostname</code></td>\n<td><code>subscription.rhn.redhat.com</code></td>\n<td>FQDN of subscription server.</td>\n</tr>\n<tr>\n<td><code>rhsm_server_prefix</code></td>\n<td><code>/subscription</code> or <code>/rhsm</code></td>\n<td>RHS server prefix. <code>/subscription</code> when using registering via <code>portal</code>, <code>/rhsm</code> when registering via <code>satellite</code>.</td>\n</tr>\n<tr>\n<td><code>rhsm_insecure</code></td>\n<td><code>False</code></td>\n<td>Disable certificate validation.</td>\n</tr>\n<tr>\n<td><code>rhsm_ssl_verify_depth</code></td>\n<td><code>3</code></td>\n<td>Depths certificates should be validated when checking.</td>\n</tr>\n<tr>\n<td><code>rhsm_rhsm_proxy_hostname</code></td>\n<td><code>[undefined]</code></td>\n<td>FQDN of outbound proxy server.</td>\n</tr>\n<tr>\n<td><code>rhsm_rhsm_proxy_port</code></td>\n<td><code>[undefined]</code></td>\n<td>Port to use for proxy server.</td>\n</tr>\n<tr>\n<td><code>rhsm_rhsm_proxy_user</code></td>\n<td><code>[undefined]</code></td>\n<td>Username to use for proxy server.</td>\n</tr>\n<tr>\n<td><code>rhsm_rhsm_proxy_password</code></td>\n<td><code>[undefined]</code></td>\n<td>Password to use for proxy server. Save this in an Ansible Vault or other secret store.</td>\n</tr>\n<tr>\n<td><code>rhsm_baseurl</code></td>\n<td><code>https://cdn.redhat.com</code></td>\n<td>Base URL for content.</td>\n</tr>\n<tr>\n<td><code>rhsm_satellite_url</code></td>\n<td><code>[see defaults/main.yml]</code></td>\n<td>URL of the Satellite server that will be probed to determine the Satellite version. Uses the scheme and hostname of <code>rhsm_baseurl</code> by default.</td>\n</tr>\n<tr>\n<td><code>rhsm_ca_cert_dir</code></td>\n<td><code>/etc/rhsm/ca/</code></td>\n<td>Server CA certificate directory.</td>\n</tr>\n<tr>\n<td><code>rhsm_product_cert_dir</code></td>\n<td><code>/etc/pki/product</code></td>\n<td>Product certificate directory.</td>\n</tr>\n<tr>\n<td><code>rhsm_entitlement_cert_dir</code></td>\n<td><code>/etc/pki/entitlement</code></td>\n<td>Entitlement certificate directory.</td>\n</tr>\n<tr>\n<td><code>rhsm_consumer_cert_dir</code></td>\n<td><code>/etc/pki/consumer</code></td>\n<td>Consumer certificate directory.</td>\n</tr>\n<tr>\n<td><code>rhsm_manage_repos</code></td>\n<td><code>True</code></td>\n<td>Manage generation of yum repositories for subscribed content.</td>\n</tr>\n<tr>\n<td><code>rhsm_full_refresh_on_yum</code></td>\n<td><code>False</code></td>\n<td>Refresh repo files with server overrides on every <code>yum</code> command.</td>\n</tr>\n<tr>\n<td><code>rhsm_report_package_profile</code></td>\n<td><code>True</code></td>\n<td>Whether to report the package profiles to the subscription management service.</td>\n</tr>\n<tr>\n<td><code>rhsm_plugin_dir</code></td>\n<td><code>/usr/share/rhsm-plugins</code></td>\n<td>Directory to search for subscription manage plugins.</td>\n</tr>\n<tr>\n<td><code>rhsm_plugin_conf_dir</code></td>\n<td><code>/etc/rhsm/pluginconf.d</code></td>\n<td>Directory to search for plugin configuration files.</td>\n</tr>\n<tr>\n<td><code>rhsm_cert_check_interval</code></td>\n<td><code>240</code></td>\n<td>Interval in minutes to run certificate check.</td>\n</tr>\n<tr>\n<td><code>rhsm_auto_attach_interval</code></td>\n<td><code>1440</code></td>\n<td>Interval in minutes to run auto-attach.</td>\n</tr>\n<tr>\n<td><code>rhsm_logging</code></td>\n<td>[see <code>defaults/main.yml</code>]</td>\n<td>Logging settings for various RHSM components.</td>\n</tr></tbody></table>\n<h2>Dependencies</h2>\n<p>None.</p>\n<h2>About repositories</h2>\n<p>If you are using an activation key with Satellite, the repositories that are\nassociated to the subscription are configured in your local instance of Satellite.\nYou can't specify rhsm_repos parameter if you are using rhsm_activation_key with\nSatellite.\nOtherwise, when using Portal registration method you can use either rhsm_username and\nrhsm_password or activation key and you can use rhsm_repos to select which repos get deployed.</p>\n<h2>Example Playbook with Red Hat portal</h2>\n<p>::</p>\n<pre><code>- hosts: all\n  vars:\n    rhsm_username: bob.smith@acme.com\n    rhsm_password: \"{{ vault_rhsm_password }}\"\n    rhsm_repos:\n      - rhel-7-server-rpms\n      - rhel-7-server-extras-rpms\n      - rhel-7-server-rh-common-rpms\n      - rhel-ha-for-rhel-7-server-rpms\n  roles:\n    - openstack.redhat-subscription\n</code></pre>\n<h2>Example Playbook with Satellite 6</h2>\n<p>::</p>\n<pre><code>- hosts: all\n  vars:\n    rhsm_activation_key: \"secrete_key\"\n    rhsm_org_id: \"Default_Organization\"\n    rhsm_server_hostname: \"mysatserver.com\"\n    rhsm_baseurl: \"https://mysatserver.com/pulp/repos\"\n    rhsm_method: satellite\n    rhsm_insecure: yes\n  roles:\n    - openstack.redhat-subscription\n</code></pre>\n<h2>Example Playbook to unregister</h2>\n<p>::</p>\n<pre><code>- hosts: all\n  tasks:\n    - name: Unregister the node\n      include_role:\n        name: openstack.redhat-subscription\n        tasks_from: unregister\n</code></pre>\n<h2>License</h2>\n<p>Apache 2.0</p>\n\n          </div>"}, "last_serial": 5486118, "releases": {"1.0.2": [{"comment_text": "", "digests": {"md5": "0a3ca6b553480f66e317ae6a7f65594f", "sha256": "3ae240e26015dd33fa8e20a100a7214458fe863b1fc1a5df4edf20f9cc5648e3"}, "downloads": -1, "filename": "ansible_role_redhat_subscription-1.0.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "0a3ca6b553480f66e317ae6a7f65594f", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 19632, "upload_time": "2019-02-15T20:24:22", "upload_time_iso_8601": "2019-02-15T20:24:22.588223Z", "url": "https://files.pythonhosted.org/packages/ff/5f/8f2fea0bf5b1d42979b8da6e65b0e5c05fcc3b2f353ed16462e2220a387f/ansible_role_redhat_subscription-1.0.2-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d739f229e3aff4a49ab1c9c5d65c014f", "sha256": "aa38cb3830a2a46e29ac65d5635aba36e7bb2780bd3630712b111485ed9349ac"}, "downloads": -1, "filename": "ansible-role-redhat-subscription-1.0.2.tar.gz", "has_sig": false, "md5_digest": "d739f229e3aff4a49ab1c9c5d65c014f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17508, "upload_time": "2019-02-15T20:24:27", "upload_time_iso_8601": "2019-02-15T20:24:27.123614Z", "url": "https://files.pythonhosted.org/packages/28/0f/1b37fc72eeaf0197e1fd53f1150d0d312f9876c3c13a4b2699bdc939acab/ansible-role-redhat-subscription-1.0.2.tar.gz", "yanked": false}], "1.0.4": [{"comment_text": "", "digests": {"md5": "3ca6e31a2a120a3ec2a9c2e824324d52", "sha256": "ac2f74791437abd1203a61c857c641666c21e73a55c21dc745b3697d1beb29d6"}, "downloads": -1, "filename": "ansible_role_redhat_subscription-1.0.4-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "3ca6e31a2a120a3ec2a9c2e824324d52", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 20003, "upload_time": "2019-07-04T10:44:08", "upload_time_iso_8601": "2019-07-04T10:44:08.305602Z", "url": "https://files.pythonhosted.org/packages/c0/bd/8e11c3011f8c4d819b0f94fbd1898feaa4c1dd619ec07289c2c025956364/ansible_role_redhat_subscription-1.0.4-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a90f4091575f37a8e93c37de3a9b58b5", "sha256": "2f4c354133041d3d179c1d29f1f7f16bb1fad530dd5967baaddaf0ae6b9ec043"}, "downloads": -1, "filename": "ansible-role-redhat-subscription-1.0.4.tar.gz", "has_sig": false, "md5_digest": "a90f4091575f37a8e93c37de3a9b58b5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18397, "upload_time": "2019-07-04T10:44:11", "upload_time_iso_8601": "2019-07-04T10:44:11.999521Z", "url": "https://files.pythonhosted.org/packages/fd/35/c2da323178ce5f6843a6f261e2946b9169241688f2923c62edb2ed1de05a/ansible-role-redhat-subscription-1.0.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "3ca6e31a2a120a3ec2a9c2e824324d52", "sha256": "ac2f74791437abd1203a61c857c641666c21e73a55c21dc745b3697d1beb29d6"}, "downloads": -1, "filename": "ansible_role_redhat_subscription-1.0.4-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "3ca6e31a2a120a3ec2a9c2e824324d52", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 20003, "upload_time": "2019-07-04T10:44:08", "upload_time_iso_8601": "2019-07-04T10:44:08.305602Z", "url": "https://files.pythonhosted.org/packages/c0/bd/8e11c3011f8c4d819b0f94fbd1898feaa4c1dd619ec07289c2c025956364/ansible_role_redhat_subscription-1.0.4-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a90f4091575f37a8e93c37de3a9b58b5", "sha256": "2f4c354133041d3d179c1d29f1f7f16bb1fad530dd5967baaddaf0ae6b9ec043"}, "downloads": -1, "filename": "ansible-role-redhat-subscription-1.0.4.tar.gz", "has_sig": false, "md5_digest": "a90f4091575f37a8e93c37de3a9b58b5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18397, "upload_time": "2019-07-04T10:44:11", "upload_time_iso_8601": "2019-07-04T10:44:11.999521Z", "url": "https://files.pythonhosted.org/packages/fd/35/c2da323178ce5f6843a6f261e2946b9169241688f2923c62edb2ed1de05a/ansible-role-redhat-subscription-1.0.4.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:18:03 2020"}
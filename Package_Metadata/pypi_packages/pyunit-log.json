{"info": {"author": "Jtyoui", "author_email": "jtyoui@qq.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# **pyUnit-log** [![](https://gitee.com/tyoui/logo/raw/master/logo/photolog.png)][1]\n\n## \u65e5\u5fd7\u5904\u7406\u6a21\u5757\u96c6\u5408\n[![](https://img.shields.io/badge/Python-3.7-green.svg)](https://pypi.org/project/pyunit-log/)\n\n## \u5b89\u88c5\n    pip install pyunit-log\n\n## \u4eae\u70b9\n    \u5feb\u901f\u7b80\u5355\u7684\u51fd\u6570\u65e5\u5fd7\u6a21\u5757\uff0c\u53ea\u9700\u8981\u5728\u51fd\u6570\u5934\u4e0a\u5199\u4e00\u4e2a\u88c5\u9970\u5668\u5373\u53ef\uff0c\u4e00\u884c\u4ee3\u7801\u89e3\u51b3\u65e5\u5fd7\u95ee\u9898\u3002\n    @log(log_file='./logs')\n\n### \u65e5\u5fd7\u88c5\u9970\u5668\n```python\nfrom pyunit_log import log\n\nif __name__ == '__main__':\n    #config_file\u662f\u65e5\u5fd7\u6a21\u677f\u5730\u5740,\u4e0d\u5199\u9ed8\u8ba4\u52a0\u8f7d\n    @log(log_file='./logs',config_file=None)\n    def division():\n        pass\n```\n\n### \u52a0\u8f7d\u9ed8\u8ba4\u65e5\u5fd7\u914d\u7f6e\n```python\nfrom pyunit_log import Log\nimport logging\n\nif __name__ == '__main__':\n    Log()\n\n    logging.info('\u9ed8\u8ba4\u52a0\u8f7d\u5230root\u4e0b')\n\n    info = logging.getLogger('info')\n    info.info('\u65e5\u5fd7\u6587\u4ef6\u5199\u9053info.log\u6587\u4ef6\u4e0b')\n\n    error = logging.getLogger('error')\n    error.error('\u65e5\u5fd7\u6587\u4ef6\u5199\u9053error.log\u6587\u4ef6\u4e0b')\n```\n\n### \u4fee\u6539\u65e5\u5fd7\u914d\u7f6e\u6587\u4ef6\n```python\nfrom pyunit_log import Log\nimport logging\n\nif __name__ == '__main__':\n    Log(config_file = '',log_file = '')\n    # log_file \u4fee\u6539\u4fdd\u5b58\u65e5\u5fd7\u6587\u4ef6\u5939\u5730\u5740\n    # config_file \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u5730\u5740\n\n    info = logging.getLogger('info')\n    info.info('\u65e5\u5fd7\u6587\u4ef6\u5199\u9053info.log\u6587\u4ef6\u4e0b')\n\n    error = logging.getLogger('error')\n    error.error('\u65e5\u5fd7\u6587\u4ef6\u5199\u9053error.log\u6587\u4ef6\u4e0b')\n```\n\n### [\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f](https://docs.python.org/zh-cn/3.7/library/logging.handlers.html?highlight=timedrotatingfilehandler)\n```log\n[loggers]\nkeys = root,info,error\n\n[handlers]\nkeys = console,info,error\n\n[formatters]\nkeys = simpleFormatter\n\n[formatter_simpleFormatter]\nformat = %(asctime)s - %(module)s - %(thread)d - %(levelname)s : %(message)s\ndatefmt = %Y-%m-%d %H:%M:%S\n\n[logger_root]\nlevel = INFO\nhandlers = info,console\n\n[handler_console]\nclass = StreamHandler\nlevel = INFO\nformatter = simpleFormatter\nargs = (sys.stdout,)\n\n[logger_info]\nlevel = INFO\nhandlers = info\nqualname = info\npropagate = 0\n\n[handler_info]\nclass = handlers.RotatingFileHandler\nformatter = simpleFormatter\nargs = ('logs/info.log', 'a', 1048576, 30, 'UTF-8')\n\n[logger_error]\nlevel = ERROR\nhandlers = error\nqualname = error\npropagate = 0\n\n[handler_error]\nclass = handlers.TimedRotatingFileHandler\nformatter = simpleFormatter\nargs = ('logs/error.log', 'D', 1, 30, 'UTF-8')\n```\n\n#### \u65e5\u5fd7\u5927\u5c0f\u8bf4\u660e\n    \u9ed8\u8ba4\uff1ainfo\u65e5\u5fd7\u662f1M\uff081048576\uff09\u5206\u5272\n    error\u65e5\u5fd7\u662f\u6bcf\u5929\u5206\u5272\n\n***\n[1]: https://blog.jtyoui.com\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/PyUnit/pyunit-log", "keywords": "", "license": "MIT Licence", "maintainer": "", "maintainer_email": "", "name": "pyunit-log", "package_url": "https://pypi.org/project/pyunit-log/", "platform": "any", "project_url": "https://pypi.org/project/pyunit-log/", "project_urls": {"Homepage": "https://github.com/PyUnit/pyunit-log"}, "release_url": "https://pypi.org/project/pyunit-log/2020.2.10/", "requires_dist": null, "requires_python": "", "summary": "\u5feb\u901f\u65e5\u5fd7\u6a21\u5757", "version": "2020.2.10", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1><strong>pyUnit-log</strong> <a href=\"https://blog.jtyoui.com\" rel=\"nofollow\"><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/768e8c094523f7049aa6b8b037ff4dbadf3cb8f5/68747470733a2f2f67697465652e636f6d2f74796f75692f6c6f676f2f7261772f6d61737465722f6c6f676f2f70686f746f6c6f672e706e67\"></a></h1>\n<h2>\u65e5\u5fd7\u5904\u7406\u6a21\u5757\u96c6\u5408</h2>\n<p><a href=\"https://pypi.org/project/pyunit-log/\" rel=\"nofollow\"><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0f095c01b983e6788fc68da3c1ab98f4fbcdf7ef/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f507974686f6e2d332e372d677265656e2e737667\"></a></p>\n<h2>\u5b89\u88c5</h2>\n<pre><code>pip install pyunit-log\n</code></pre>\n<h2>\u4eae\u70b9</h2>\n<pre><code>\u5feb\u901f\u7b80\u5355\u7684\u51fd\u6570\u65e5\u5fd7\u6a21\u5757\uff0c\u53ea\u9700\u8981\u5728\u51fd\u6570\u5934\u4e0a\u5199\u4e00\u4e2a\u88c5\u9970\u5668\u5373\u53ef\uff0c\u4e00\u884c\u4ee3\u7801\u89e3\u51b3\u65e5\u5fd7\u95ee\u9898\u3002\n@log(log_file='./logs')\n</code></pre>\n<h3>\u65e5\u5fd7\u88c5\u9970\u5668</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pyunit_log</span> <span class=\"kn\">import</span> <span class=\"n\">log</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n    <span class=\"c1\">#config_file\u662f\u65e5\u5fd7\u6a21\u677f\u5730\u5740,\u4e0d\u5199\u9ed8\u8ba4\u52a0\u8f7d</span>\n    <span class=\"nd\">@log</span><span class=\"p\">(</span><span class=\"n\">log_file</span><span class=\"o\">=</span><span class=\"s1\">'./logs'</span><span class=\"p\">,</span><span class=\"n\">config_file</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">)</span>\n    <span class=\"k\">def</span> <span class=\"nf\">division</span><span class=\"p\">():</span>\n        <span class=\"k\">pass</span>\n</pre>\n<h3>\u52a0\u8f7d\u9ed8\u8ba4\u65e5\u5fd7\u914d\u7f6e</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pyunit_log</span> <span class=\"kn\">import</span> <span class=\"n\">Log</span>\n<span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n    <span class=\"n\">Log</span><span class=\"p\">()</span>\n\n    <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">'\u9ed8\u8ba4\u52a0\u8f7d\u5230root\u4e0b'</span><span class=\"p\">)</span>\n\n    <span class=\"n\">info</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s1\">'info'</span><span class=\"p\">)</span>\n    <span class=\"n\">info</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">'\u65e5\u5fd7\u6587\u4ef6\u5199\u9053info.log\u6587\u4ef6\u4e0b'</span><span class=\"p\">)</span>\n\n    <span class=\"n\">error</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">)</span>\n    <span class=\"n\">error</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s1\">'\u65e5\u5fd7\u6587\u4ef6\u5199\u9053error.log\u6587\u4ef6\u4e0b'</span><span class=\"p\">)</span>\n</pre>\n<h3>\u4fee\u6539\u65e5\u5fd7\u914d\u7f6e\u6587\u4ef6</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pyunit_log</span> <span class=\"kn\">import</span> <span class=\"n\">Log</span>\n<span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n    <span class=\"n\">Log</span><span class=\"p\">(</span><span class=\"n\">config_file</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">,</span><span class=\"n\">log_file</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">)</span>\n    <span class=\"c1\"># log_file \u4fee\u6539\u4fdd\u5b58\u65e5\u5fd7\u6587\u4ef6\u5939\u5730\u5740</span>\n    <span class=\"c1\"># config_file \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u5730\u5740</span>\n\n    <span class=\"n\">info</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s1\">'info'</span><span class=\"p\">)</span>\n    <span class=\"n\">info</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">'\u65e5\u5fd7\u6587\u4ef6\u5199\u9053info.log\u6587\u4ef6\u4e0b'</span><span class=\"p\">)</span>\n\n    <span class=\"n\">error</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">)</span>\n    <span class=\"n\">error</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s1\">'\u65e5\u5fd7\u6587\u4ef6\u5199\u9053error.log\u6587\u4ef6\u4e0b'</span><span class=\"p\">)</span>\n</pre>\n<h3><a href=\"https://docs.python.org/zh-cn/3.7/library/logging.handlers.html?highlight=timedrotatingfilehandler\" rel=\"nofollow\">\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f</a></h3>\n<pre>[loggers]\nkeys = root,info,error\n\n[handlers]\nkeys = console,info,error\n\n[formatters]\nkeys = simpleFormatter\n\n[formatter_simpleFormatter]\nformat = %(asctime)s - %(module)s - %(thread)d - %(levelname)s : %(message)s\ndatefmt = %Y-%m-%d %H:%M:%S\n\n[logger_root]\nlevel = INFO\nhandlers = info,console\n\n[handler_console]\nclass = StreamHandler\nlevel = INFO\nformatter = simpleFormatter\nargs = (sys.stdout,)\n\n[logger_info]\nlevel = INFO\nhandlers = info\nqualname = info\npropagate = 0\n\n[handler_info]\nclass = handlers.RotatingFileHandler\nformatter = simpleFormatter\nargs = ('logs/info.log', 'a', 1048576, 30, 'UTF-8')\n\n[logger_error]\nlevel = ERROR\nhandlers = error\nqualname = error\npropagate = 0\n\n[handler_error]\nclass = handlers.TimedRotatingFileHandler\nformatter = simpleFormatter\nargs = ('logs/error.log', 'D', 1, 30, 'UTF-8')\n</pre>\n<h4>\u65e5\u5fd7\u5927\u5c0f\u8bf4\u660e</h4>\n<pre><code>\u9ed8\u8ba4\uff1ainfo\u65e5\u5fd7\u662f1M\uff081048576\uff09\u5206\u5272\nerror\u65e5\u5fd7\u662f\u6bcf\u5929\u5206\u5272\n</code></pre>\n<hr>\n\n          </div>"}, "last_serial": 6601483, "releases": {"2019.8.23": [{"comment_text": "", "digests": {"md5": "d1ac9565ea2276c3f592f76754e686cf", "sha256": "8049f6a7d06af4d0235830e36ecc4a0d955934b9efed9575e82f0e0c9a37adfe"}, "downloads": -1, "filename": "pyunit_log-2019.8.23-py3-none-any.whl", "has_sig": false, "md5_digest": "d1ac9565ea2276c3f592f76754e686cf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5121, "upload_time": "2020-02-09T10:54:02", "upload_time_iso_8601": "2020-02-09T10:54:02.171210Z", "url": "https://files.pythonhosted.org/packages/75/b1/73e69fc627fab25e2ff58c23a8a80155133196ff1673bb5e99ec032ee7c2/pyunit_log-2019.8.23-py3-none-any.whl", "yanked": false}], "2020.2.10": [{"comment_text": "", "digests": {"md5": "2c960951cef8912f6749ef95c4ee2d8a", "sha256": "18dee8e31ad8e998f6a0a8be083915894a9096a8e68ecec775e8dbba90a14d56"}, "downloads": -1, "filename": "pyunit_log-2020.2.10-py3-none-any.whl", "has_sig": false, "md5_digest": "2c960951cef8912f6749ef95c4ee2d8a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5210, "upload_time": "2020-02-10T09:56:28", "upload_time_iso_8601": "2020-02-10T09:56:28.972098Z", "url": "https://files.pythonhosted.org/packages/d6/f0/737fd935e47dc648a4f5fd0638409a0432cb64b09ae3c977c4b79f0d9fc9/pyunit_log-2020.2.10-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "2c960951cef8912f6749ef95c4ee2d8a", "sha256": "18dee8e31ad8e998f6a0a8be083915894a9096a8e68ecec775e8dbba90a14d56"}, "downloads": -1, "filename": "pyunit_log-2020.2.10-py3-none-any.whl", "has_sig": false, "md5_digest": "2c960951cef8912f6749ef95c4ee2d8a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5210, "upload_time": "2020-02-10T09:56:28", "upload_time_iso_8601": "2020-02-10T09:56:28.972098Z", "url": "https://files.pythonhosted.org/packages/d6/f0/737fd935e47dc648a4f5fd0638409a0432cb64b09ae3c977c4b79f0d9fc9/pyunit_log-2020.2.10-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 03:12:34 2020"}
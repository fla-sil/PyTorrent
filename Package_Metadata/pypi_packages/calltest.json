{"info": {"author": "Matthias Urlichs", "author_email": "matthias@urlichs.de", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Framework :: AsyncIO", "Framework :: Trio", "Intended Audience :: Information Technology", "License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Operating System :: MacOS :: MacOS X", "Operating System :: Microsoft :: Windows", "Operating System :: POSIX :: Linux", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: Implementation :: CPython", "Topic :: Communications :: Telephony", "Topic :: Software Development :: Testing"], "description": "===========\nCall tester\n===========\n\nThis program connects to an Asterisk server and performs call tests, i.e.\nit causes one channel to call another and verifies that the call worked.\n\nCallTest implements a small JSON server. You can use it with your favorite\nmonitoring system to check test results, or to manually trigger a test from\nsome web site or via ``curl``.\n\nThis package is a work in progress. Some planned features are not yet implemented.\nAlso, this README needs to be expanded and split up. Volunteers welcome.\n\nConfiguration\n=============\n\nThe configuration is a YAML file and basically looks like this::\n\n    links: \n      foo:\n        channel: \"SIP/foo/{nr}\"\n        number: \"+49123456789\"\n      bar:\n        channel: \"SIP/bar/{nr}\"\n        number: \"+49987654321\"\n\n    calls:\n      ':default:':\n        mode: dtmf\n\n      foobar:\n        src: foo\n        dst: bar\n        info: \"Check that calling bar from foo works\"\n\n\nSee ``example.cfg`` for a working version. Run ``./ct -c example.cfg\ndumpcfg`` for a copy that's been pre-filled with default values.\n\nLinks\n+++++\n\n``links`` contains the Asterisk channels that CallTest can use.\n\nThese parameters are used when originating a call on the link:\n\n* channel: The dial string used to call out on this channel. ``{nr}`` is a\n  placeholder for the destination phone number.\n\nThese parameters are used when answering a call:\n\n* number: The number to dial, when calling this link.\n\nThe ``prio`` value is used for avoiding deadlocks when acquiring links for\nbidirectional tests. If identical, the link's name is used.\n\nThe ':default:' values are applied to all other entries (unless overridden),\nwhich saves you from changing 999 identical entries.\n\n\nCalls\n+++++\n\n``calls`` contains a number of (named) tests.\n\n* src: the source link to use, i.e. to originate the call.\n\n* dst: the destination to use, i.e. to answer the call.\n\n* mode: How to perform a test. See below.\n\n* timeout: Hard limit for a call's duration. If a call exceeds this,\n  it is terminated and the test fails.\n\n* url: for answer-only modes, you need a way to cause a call. For now this\n  is done by fetching the data at this URL.\n\nThe ':default:' values are applied to all other entries (unless overridden),\nwhich saves you from changing 999 identical entries.\n\nThe ``test`` subheading contains values that are relevant for running\nrepeated tests in the background:\n\n* retry, repeat: seconds to delay until repeating a call, depending on\n  whether the previous attempt failed or succeeded.\n\n* warn: number of consecutive failures when the test enters \"warn\" state.\n\n* fail: number of consecutive failures when the test enters \"fail\" state.\n\n* skip: if True, this test can only be triggered manually.\n\n\nModes\n+++++\n\nThe ``mode`` value configure how CallTest processes a call.\n\ndtmf\n----\n\nThe answering channel sends a random sequence of DTMF tones. The originator\nthen does the same thing. The receivers verify that the codes are correct.\n\nWhen ``dtmf.may_repeat`` is set, the receiver is allowed to read duplicate DTMF\ntones. This flag might be necessary with in-band signalling.\n\n``dtmf.len`` is the number of digits to test. Typically, one digit will be\nrepeated. The sequence is otherwise random.\n\ncall\n----\n\nThe answering channel will acknowledge that it's ringing, but then simply\nhang up.\n\naudio\n-----\n\nTODO.\n\nLike DTMF, but both sides send a sound file instead. The sounds are\nrecorded. They should match, somewhat, but that's not yet tested.\n\nring\n----\n\nOriginate-only: call this number. It should be RINGING. Then hang up.\n\nplay\n----\n\nOriginate-only: call this number. It should answer. Play a sound, then\nhang up.\n\nIf no ``audio.src_out`` sound is specified, simply hang up.\n\nOptionally, ``audio.dst_in`` records incoming audio during the call.\nRecording runs while the outgoing sound is playing.\n\n\nfail\n----\n\nTODO.\n\nOriginate-only: call this number. The call may not go through. It must be\nrejected, some time before ``ringtime``.\n\nAlso TODO: Add a flag to determine whether an intermediate ``Ringing``\nstate is allowed / required / prohibited.\n\n\ntimeout\n-------\n\nTODO.\n\nOriginate-only: call this number. The call may not go through. It must be\nRINGing and then be rejected between ``ringtime`` and ``timeout`` seconds\nlater.\n\n\nwait\n----\n\nAnswer-only: wait for an incoming call, set it to RINGING, wait a few\nseconds, hang up.\n\n\nanswer\n------\n\nAnswer-only: wait for an incoming call, answer it, optionally play a sound,\noptionally\u00b2 record audio while the sound is playing, then hang up.\n\nThe recording will be overlaid with the outgoing sound. This is an Asterisk\nlimitation.\n\n\nrecord\n------\n\nTODO.\n\nAnswer-only:  wait for an incoming call, answer it, optionally play a sound,\noptionally record incoming audio until the originator hangs up.\n\n\nNumber format\n+++++++++++++\n\nTODO: currently caller numbers are neither transmitted nor checked.\n\nCallTest recognizes two kinds of phone numbers: site-local extensions, and\neverything else. CallTest distinguishes these by the initial '+'.\n\nOutgoing\n--------\n\nThe outgoing Asterisk channel should be able to handle both kinds directly.\nIf not, either drop-kick your phone provider, or write a \"Local\" channel\nthat mangles the dialled number for you. For instance, if you need to drop\nthe '+', use this macro::\n\n    context mangle {\n        _+! => { Dial(SIP/broken/${EXTEN:1}) }\n    }\n\nand then call ``Local/{nr}@mangle``. As another example, if you need to use\nlcoal number format to dial out::\n\n    context mangle {\n        _X! => Dial(SIP/broken/${EXTEN});  // pass-thru for local extensions\n        _+49123! => Dial(SIP/broken/${EXTEN:6});  // 49123: country+city\n        _+49! => Dial(SIP/broken/0${EXTEN:3});  // 49: country\n        // _+! => Dial(SIP/broken/00${EXTEN:1});\n        _+! => Congestion();\n    }\n\nthough you can probably get by with just the first and last line.\n\nThe above works for most of Europe where \"00\" is the international and \"0\"\nthe national prefix. If you're in the NANP (USA or Canada), you probably\nwant to use this macro instead::\n\n    context mangle {\n        _N! => Dial(SIP/broken/1888${EXTEN});  // 888 is your area code\n        _[01]! => Dial(SIP/broken/${EXTEN});  // pass-thru for operator and long-distance\n        _+1! => Dial(SIP/broken/${EXTEN:1});  // long distance\n        // _+! => Dial(SIP/broken/011${EXTEN:1});  // international\n        _+! => Congestion();\n    }\n\nThe last line is replaced with a \"Congestion\" blocker so that a mistake\nwon't cause international charges.\n\nIncoming\n--------\n\nCallTest will verify that, the caller's number on an incoming call matches\nthe number in the test's configuration's source link. If that number is\nprefixed with a '+', the incoming number is converted to international\nformat, as per the config file, and needs to match exactly. Otherwise, the\nconfigured number is assumed to be a local extension and must only be at\nthe end of the caller's.\n\nThis ensures that there's no incoming nonsense, while acknowledging that\nsite-local numbers often are not transmitted cleanly.\n\nIf you need Asterisk to mangle the caller's number so that it looks sane\nenough for CallTest, add that to the ``calltest`` macro. For instance, to\ndrop a leading zero (in the NANP it's usually a 9)::\n\n    macro calltest(typ) {\n        SET(cid=${CALLERID(num)})\n        switch(cid) {\n            pattern 0.:\n                set(CALLERID(num)=${cid:1});\n                break;\n            default:\n                break;\n        }\n        Stasis(\"calltest\", ${typ});\n        Hangup();\n        return;\n    }\n\nAsterisk configuration\n++++++++++++++++++++++\n\nServer connection\n-----------------\n\nSome parameters in the ``asterisk`` section require further elucidation.\n\n* app: \n\n* audio: the (base of) the \"sound\" URL which Asterisk will use to find your\n  test's outgoing sound files. Should be ``sound:/some/absolute/path``.\n\nTest setup\n----------\n\nAsterisk needs to know how to direct incoming calls to the tester. This is\ntypically done with a Stasis macro. This is for ``extensions.ael``::\n\n    macro calltest(link,nr) {\n        Stasis(calltest,${link},${nr});\n        Hangup();\n        return;\n    }\n\n* calltest: the ``asterisk.app`` config parameter. \n\n* link: the name of the link, in ``asterisk.link``.\n\n* nr: the incoming destination phone number.\n\nYou'd call this macro from your context::\n\n    1234 => &calltest(foo,${EXTEN});\n\nIf you want to route all incoming calls on a channel to this macro, use\nsomething like this context::\n\n   context ext_bar {\n        s => &calltest(bar,);\n        i => &calltest(bar,${INVALID_EXTEN});\n        _+! => &calltest(bar,${EXTEN});\n        _X! => &calltest(bar,${EXTEN});\n        h => Hangup();\n   }\n\nWarning::\n\n    These calls all have no spaces after the argument-separating commas.\n    This is important.\n\nLine setup\n----------\n\nPJSIP is not very forgiving. Sample config: TODO.\n\nIn lieu of voice quality checking, which this system does not yet do, you\nmight want to simply set your endpoints' DTMF mode to \"inband\". Don't use a\ncompressing codec when you do this. You might need to set the test's\n``dtmf_may_repeat`` option. However, in-band DTMF is not particularly\nreliable and may break randomly.\n\nThe random DTMF sequence only uses digits because letters are not\nuniversally passed on, while ``#`` and ``*`` may be interpreted and thus\nswallowed by intermediate systems.\n\nTesting\n-------\n\nThis package contains an ``example.cfg`` configuration. To use it, your\n``asterisk.ael`` file should contain these lines::\n\n    macro calltest(link, nr) {\n        Stasis(calltest,${link},${nr});\n        Hangup();\n        return;\n    }\n\n    context direct {\n        _.! => &calltest(${EXTEN},);\n\n        answer => {\n            Wait(1);\n            Answer();\n            Wait(5);\n            Hangup();\n        }\n        ringing => {\n            Wait(1);\n            Ringing();\n            Wait(5);\n            Hangup();\n        }\n        progress => {\n            Wait(1);\n            Progress();\n            Wait(5);\n            Hangup();\n        }   \n    }\n\nAdd this to your ``ari.conf``:\n\n    [example]\n    type = user\n    password = oh_no_you_do_not\n    password_format = plain\n\nFinally, add ``enabled=yes`` to the ``[general]`` section of ``http.conf``.\n\nAfter doing all of this and restarting your Asterisk (reloading \"ael\",\n\"http\" and \"res_ari\" should work too), the command ``./ct -c example.cfg\nrun`` should pass.\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/smurfix/calltest", "keywords": "async", "license": "proprietary", "maintainer": "", "maintainer_email": "", "name": "calltest", "package_url": "https://pypi.org/project/calltest/", "platform": "", "project_url": "https://pypi.org/project/calltest/", "project_urls": {"Homepage": "https://github.com/smurfix/calltest"}, "release_url": "https://pypi.org/project/calltest/0.5.0/", "requires_dist": null, "requires_python": "", "summary": "A distributed phone call test program", "version": "0.5.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>This program connects to an Asterisk server and performs call tests, i.e.\nit causes one channel to call another and verifies that the call worked.</p>\n<p>CallTest implements a small JSON server. You can use it with your favorite\nmonitoring system to check test results, or to manually trigger a test from\nsome web site or via <tt>curl</tt>.</p>\n<p>This package is a work in progress. Some planned features are not yet implemented.\nAlso, this README needs to be expanded and split up. Volunteers welcome.</p>\n<div id=\"configuration\">\n<h2>Configuration</h2>\n<p>The configuration is a YAML file and basically looks like this:</p>\n<pre>links:\n  foo:\n    channel: \"SIP/foo/{nr}\"\n    number: \"+49123456789\"\n  bar:\n    channel: \"SIP/bar/{nr}\"\n    number: \"+49987654321\"\n\ncalls:\n  ':default:':\n    mode: dtmf\n\n  foobar:\n    src: foo\n    dst: bar\n    info: \"Check that calling bar from foo works\"\n</pre>\n<p>See <tt>example.cfg</tt> for a working version. Run <tt>./ct <span class=\"pre\">-c</span> example.cfg\ndumpcfg</tt> for a copy that\u2019s been pre-filled with default values.</p>\n<div id=\"links\">\n<h3>Links</h3>\n<p><tt>links</tt> contains the Asterisk channels that CallTest can use.</p>\n<p>These parameters are used when originating a call on the link:</p>\n<ul>\n<li>channel: The dial string used to call out on this channel. <tt>{nr}</tt> is a\nplaceholder for the destination phone number.</li>\n</ul>\n<p>These parameters are used when answering a call:</p>\n<ul>\n<li>number: The number to dial, when calling this link.</li>\n</ul>\n<p>The <tt>prio</tt> value is used for avoiding deadlocks when acquiring links for\nbidirectional tests. If identical, the link\u2019s name is used.</p>\n<p>The \u2018:default:\u2019 values are applied to all other entries (unless overridden),\nwhich saves you from changing 999 identical entries.</p>\n</div>\n<div id=\"calls\">\n<h3>Calls</h3>\n<p><tt>calls</tt> contains a number of (named) tests.</p>\n<ul>\n<li>src: the source link to use, i.e. to originate the call.</li>\n<li>dst: the destination to use, i.e. to answer the call.</li>\n<li>mode: How to perform a test. See below.</li>\n<li>timeout: Hard limit for a call\u2019s duration. If a call exceeds this,\nit is terminated and the test fails.</li>\n<li>url: for answer-only modes, you need a way to cause a call. For now this\nis done by fetching the data at this URL.</li>\n</ul>\n<p>The \u2018:default:\u2019 values are applied to all other entries (unless overridden),\nwhich saves you from changing 999 identical entries.</p>\n<p>The <tt>test</tt> subheading contains values that are relevant for running\nrepeated tests in the background:</p>\n<ul>\n<li>retry, repeat: seconds to delay until repeating a call, depending on\nwhether the previous attempt failed or succeeded.</li>\n<li>warn: number of consecutive failures when the test enters \u201cwarn\u201d state.</li>\n<li>fail: number of consecutive failures when the test enters \u201cfail\u201d state.</li>\n<li>skip: if True, this test can only be triggered manually.</li>\n</ul>\n</div>\n<div id=\"modes\">\n<h3>Modes</h3>\n<p>The <tt>mode</tt> value configure how CallTest processes a call.</p>\n<div id=\"dtmf\">\n<h4>dtmf</h4>\n<p>The answering channel sends a random sequence of DTMF tones. The originator\nthen does the same thing. The receivers verify that the codes are correct.</p>\n<p>When <tt>dtmf.may_repeat</tt> is set, the receiver is allowed to read duplicate DTMF\ntones. This flag might be necessary with in-band signalling.</p>\n<p><tt>dtmf.len</tt> is the number of digits to test. Typically, one digit will be\nrepeated. The sequence is otherwise random.</p>\n</div>\n<div id=\"call\">\n<h4>call</h4>\n<p>The answering channel will acknowledge that it\u2019s ringing, but then simply\nhang up.</p>\n</div>\n<div id=\"audio\">\n<h4>audio</h4>\n<p>TODO.</p>\n<p>Like DTMF, but both sides send a sound file instead. The sounds are\nrecorded. They should match, somewhat, but that\u2019s not yet tested.</p>\n</div>\n<div id=\"ring\">\n<h4>ring</h4>\n<p>Originate-only: call this number. It should be RINGING. Then hang up.</p>\n</div>\n<div id=\"play\">\n<h4>play</h4>\n<p>Originate-only: call this number. It should answer. Play a sound, then\nhang up.</p>\n<p>If no <tt>audio.src_out</tt> sound is specified, simply hang up.</p>\n<p>Optionally, <tt>audio.dst_in</tt> records incoming audio during the call.\nRecording runs while the outgoing sound is playing.</p>\n</div>\n<div id=\"fail\">\n<h4>fail</h4>\n<p>TODO.</p>\n<p>Originate-only: call this number. The call may not go through. It must be\nrejected, some time before <tt>ringtime</tt>.</p>\n<p>Also TODO: Add a flag to determine whether an intermediate <tt>Ringing</tt>\nstate is allowed / required / prohibited.</p>\n</div>\n<div id=\"timeout\">\n<h4>timeout</h4>\n<p>TODO.</p>\n<p>Originate-only: call this number. The call may not go through. It must be\nRINGing and then be rejected between <tt>ringtime</tt> and <tt>timeout</tt> seconds\nlater.</p>\n</div>\n<div id=\"wait\">\n<h4>wait</h4>\n<p>Answer-only: wait for an incoming call, set it to RINGING, wait a few\nseconds, hang up.</p>\n</div>\n<div id=\"answer\">\n<h4>answer</h4>\n<p>Answer-only: wait for an incoming call, answer it, optionally play a sound,\noptionally\u00b2 record audio while the sound is playing, then hang up.</p>\n<p>The recording will be overlaid with the outgoing sound. This is an Asterisk\nlimitation.</p>\n</div>\n<div id=\"record\">\n<h4>record</h4>\n<p>TODO.</p>\n<p>Answer-only:  wait for an incoming call, answer it, optionally play a sound,\noptionally record incoming audio until the originator hangs up.</p>\n</div>\n</div>\n<div id=\"number-format\">\n<h3>Number format</h3>\n<p>TODO: currently caller numbers are neither transmitted nor checked.</p>\n<p>CallTest recognizes two kinds of phone numbers: site-local extensions, and\neverything else. CallTest distinguishes these by the initial \u2018+\u2019.</p>\n<div id=\"outgoing\">\n<h4>Outgoing</h4>\n<p>The outgoing Asterisk channel should be able to handle both kinds directly.\nIf not, either drop-kick your phone provider, or write a \u201cLocal\u201d channel\nthat mangles the dialled number for you. For instance, if you need to drop\nthe \u2018+\u2019, use this macro:</p>\n<pre>context mangle {\n    _+! =&gt; { Dial(SIP/broken/${EXTEN:1}) }\n}\n</pre>\n<p>and then call <tt><span class=\"pre\">Local/{nr}@mangle</span></tt>. As another example, if you need to use\nlcoal number format to dial out:</p>\n<pre>context mangle {\n    _X! =&gt; Dial(SIP/broken/${EXTEN});  // pass-thru for local extensions\n    _+49123! =&gt; Dial(SIP/broken/${EXTEN:6});  // 49123: country+city\n    _+49! =&gt; Dial(SIP/broken/0${EXTEN:3});  // 49: country\n    // _+! =&gt; Dial(SIP/broken/00${EXTEN:1});\n    _+! =&gt; Congestion();\n}\n</pre>\n<p>though you can probably get by with just the first and last line.</p>\n<p>The above works for most of Europe where \u201c00\u201d is the international and \u201c0\u201d\nthe national prefix. If you\u2019re in the NANP (USA or Canada), you probably\nwant to use this macro instead:</p>\n<pre>context mangle {\n    _N! =&gt; Dial(SIP/broken/1888${EXTEN});  // 888 is your area code\n    _[01]! =&gt; Dial(SIP/broken/${EXTEN});  // pass-thru for operator and long-distance\n    _+1! =&gt; Dial(SIP/broken/${EXTEN:1});  // long distance\n    // _+! =&gt; Dial(SIP/broken/011${EXTEN:1});  // international\n    _+! =&gt; Congestion();\n}\n</pre>\n<p>The last line is replaced with a \u201cCongestion\u201d blocker so that a mistake\nwon\u2019t cause international charges.</p>\n</div>\n<div id=\"incoming\">\n<h4>Incoming</h4>\n<p>CallTest will verify that, the caller\u2019s number on an incoming call matches\nthe number in the test\u2019s configuration\u2019s source link. If that number is\nprefixed with a \u2018+\u2019, the incoming number is converted to international\nformat, as per the config file, and needs to match exactly. Otherwise, the\nconfigured number is assumed to be a local extension and must only be at\nthe end of the caller\u2019s.</p>\n<p>This ensures that there\u2019s no incoming nonsense, while acknowledging that\nsite-local numbers often are not transmitted cleanly.</p>\n<p>If you need Asterisk to mangle the caller\u2019s number so that it looks sane\nenough for CallTest, add that to the <tt>calltest</tt> macro. For instance, to\ndrop a leading zero (in the NANP it\u2019s usually a 9):</p>\n<pre>macro calltest(typ) {\n    SET(cid=${CALLERID(num)})\n    switch(cid) {\n        pattern 0.:\n            set(CALLERID(num)=${cid:1});\n            break;\n        default:\n            break;\n    }\n    Stasis(\"calltest\", ${typ});\n    Hangup();\n    return;\n}\n</pre>\n</div>\n</div>\n<div id=\"asterisk-configuration\">\n<h3>Asterisk configuration</h3>\n<div id=\"server-connection\">\n<h4>Server connection</h4>\n<p>Some parameters in the <tt>asterisk</tt> section require further elucidation.</p>\n<ul>\n<li>app:</li>\n<li>audio: the (base of) the \u201csound\u201d URL which Asterisk will use to find your\ntest\u2019s outgoing sound files. Should be <tt><span class=\"pre\">sound:/some/absolute/path</span></tt>.</li>\n</ul>\n</div>\n<div id=\"test-setup\">\n<h4>Test setup</h4>\n<p>Asterisk needs to know how to direct incoming calls to the tester. This is\ntypically done with a Stasis macro. This is for <tt>extensions.ael</tt>:</p>\n<pre>macro calltest(link,nr) {\n    Stasis(calltest,${link},${nr});\n    Hangup();\n    return;\n}\n</pre>\n<ul>\n<li>calltest: the <tt>asterisk.app</tt> config parameter.</li>\n<li>link: the name of the link, in <tt>asterisk.link</tt>.</li>\n<li>nr: the incoming destination phone number.</li>\n</ul>\n<p>You\u2019d call this macro from your context:</p>\n<pre>1234 =&gt; &amp;calltest(foo,${EXTEN});\n</pre>\n<p>If you want to route all incoming calls on a channel to this macro, use\nsomething like this context:</p>\n<pre>context ext_bar {\n     s =&gt; &amp;calltest(bar,);\n     i =&gt; &amp;calltest(bar,${INVALID_EXTEN});\n     _+! =&gt; &amp;calltest(bar,${EXTEN});\n     _X! =&gt; &amp;calltest(bar,${EXTEN});\n     h =&gt; Hangup();\n}\n</pre>\n<p>Warning:</p>\n<pre>These calls all have no spaces after the argument-separating commas.\nThis is important.\n</pre>\n</div>\n<div id=\"line-setup\">\n<h4>Line setup</h4>\n<p>PJSIP is not very forgiving. Sample config: TODO.</p>\n<p>In lieu of voice quality checking, which this system does not yet do, you\nmight want to simply set your endpoints\u2019 DTMF mode to \u201cinband\u201d. Don\u2019t use a\ncompressing codec when you do this. You might need to set the test\u2019s\n<tt>dtmf_may_repeat</tt> option. However, in-band DTMF is not particularly\nreliable and may break randomly.</p>\n<p>The random DTMF sequence only uses digits because letters are not\nuniversally passed on, while <tt>#</tt> and <tt>*</tt> may be interpreted and thus\nswallowed by intermediate systems.</p>\n</div>\n<div id=\"testing\">\n<h4>Testing</h4>\n<p>This package contains an <tt>example.cfg</tt> configuration. To use it, your\n<tt>asterisk.ael</tt> file should contain these lines:</p>\n<pre>macro calltest(link, nr) {\n    Stasis(calltest,${link},${nr});\n    Hangup();\n    return;\n}\n\ncontext direct {\n    _.! =&gt; &amp;calltest(${EXTEN},);\n\n    answer =&gt; {\n        Wait(1);\n        Answer();\n        Wait(5);\n        Hangup();\n    }\n    ringing =&gt; {\n        Wait(1);\n        Ringing();\n        Wait(5);\n        Hangup();\n    }\n    progress =&gt; {\n        Wait(1);\n        Progress();\n        Wait(5);\n        Hangup();\n    }\n}\n</pre>\n<p>Add this to your <tt>ari.conf</tt>:</p>\n<blockquote>\n[example]\ntype = user\npassword = oh_no_you_do_not\npassword_format = plain</blockquote>\n<p>Finally, add <tt>enabled=yes</tt> to the <tt>[general]</tt> section of <tt>http.conf</tt>.</p>\n<p>After doing all of this and restarting your Asterisk (reloading \u201cael\u201d,\n\u201chttp\u201d and \u201cres_ari\u201d should work too), the command <tt>./ct <span class=\"pre\">-c</span> example.cfg\nrun</tt> should pass.</p>\n</div>\n</div>\n</div>\n\n          </div>"}, "last_serial": 5485583, "releases": {"0.5.0": [{"comment_text": "", "digests": {"md5": "58ba78a060cb967b3c51059c8b61fa51", "sha256": "1dc7c87cf692c44da52e4032662c35ed297c45267ac20a9c863b931488d44f32"}, "downloads": -1, "filename": "calltest-0.5.0.tar.gz", "has_sig": false, "md5_digest": "58ba78a060cb967b3c51059c8b61fa51", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24163, "upload_time": "2019-07-04T08:40:41", "upload_time_iso_8601": "2019-07-04T08:40:41.413523Z", "url": "https://files.pythonhosted.org/packages/a7/59/7aa317b94805b992648e8f8be2a5b634d8611e4e820c89e480519e3f8539/calltest-0.5.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "58ba78a060cb967b3c51059c8b61fa51", "sha256": "1dc7c87cf692c44da52e4032662c35ed297c45267ac20a9c863b931488d44f32"}, "downloads": -1, "filename": "calltest-0.5.0.tar.gz", "has_sig": false, "md5_digest": "58ba78a060cb967b3c51059c8b61fa51", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24163, "upload_time": "2019-07-04T08:40:41", "upload_time_iso_8601": "2019-07-04T08:40:41.413523Z", "url": "https://files.pythonhosted.org/packages/a7/59/7aa317b94805b992648e8f8be2a5b634d8611e4e820c89e480519e3f8539/calltest-0.5.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:35:36 2020"}
{"info": {"author": "Lars Kellogg-Stedman", "author_email": "lars@oddbit.com", "bugtrack_url": null, "classifiers": [], "description": "# Extro.py\n\nExtro.py reads dependency information from a set of directories and\nproduces an ordered listing of this directories.\n\n## Usage\n\nPass a list of directories to the `extropy` command:\n\n    $ cd /some/place\n    $ for dir in $(extropy *); do\n    > (cd $dir && ./run)\n    > done\n\n## Specifying dependency information\n\nExtro.py looks for dependency information inside the `.deps` directory of\neach named directory.  Inside the `.deps` directory it will read\ninformation from the following files:\n\n- `requires` -- Names (basename only, not paths) of directories\n  required by this directory.\n- `required_by` -- This is a reverse `requires`.  If `dir1` is\n  *required_by* `dir2`, that is the same as if `dir2` had listed `dir1`\n  in its `requires` file.\n- `provides` -- a list of aliases that can be used to refer to the\n  current directory.\n\n## Example\n\nIn this example, we'll use Extro.py to help manage the runtime\ninitialization of Docker containers.\n\nA Docker container is built from a series of layers.  Each layer may\nwant to perform some runtime initialization when a container starts.\nIn this situation it is likely that there needs to be an ordering\nbetween these initialization tasks.\n\nOne solution is for each layer to place initialization information\ninto a subdirectory of `/docker/config.d`.  Then have an `ENTRYPOINT`\nscript that looks something like this:\n\n    #!/bin/sh\n\n    for dir in $(extropy /docker/config.d/*); do\n      (cd $dir && ./run)\n    done\n\n    exec \"$@\"\n\nThis will execute the `run` command inside each subdirectory, while\npermitting you to define an explicit ordering between different\nlayers. For example, let's say you have a base image that implements\nsome sort of process supervision and logging.  It needs to ensure that\nthe target log directory has appropriate ownership (and this needs to\nhappen at runtime, in case the directory is a mounted volume). \n\nOn top of that logging image, you build a new image that runs a web\napplication. The web application needs to perform some database\ninitialization tasks when it starts up, and you want to make sure that\nlogging is configured *before* you run the database initialization.\n\nTo solve this, you have your logging container install the directory\n`/docker/config.d/logging` with the following content:\n\n    /docker/config.d/logging/\n      run\n\nAnd you have your web application provide:\n\n    /docker/config.d/webapp/\n      run\n      .deps/\n        requires\n\nAnd the `requires` file contains `logging`.  With this in place, the\n`ENTRYPOINT` script will run the `run` script for both directories,\nand the `logging` run script will always run before the `webapp` run\nscript.\n## License\n\nextro.py -- imposes an ordering on a list of directories  \nCopyright (C) 2016 Lars Kellogg-Stedman <lars@oddbit.com>\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/larsks/extro.py", "keywords": null, "license": "UNKNOWN", "maintainer": null, "maintainer_email": null, "name": "extro.py", "package_url": "https://pypi.org/project/extro.py/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/extro.py/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/larsks/extro.py"}, "release_url": "https://pypi.org/project/extro.py/0.1/", "requires_dist": null, "requires_python": null, "summary": "UNKNOWN", "version": "0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            # Extro.py<br><br>Extro.py reads dependency information from a set of directories and<br>produces an ordered listing of this directories.<br><br>## Usage<br><br>Pass a list of directories to the `extropy` command:<br><br>    $ cd /some/place<br>    $ for dir in $(extropy *); do<br>    &gt; (cd $dir &amp;&amp; ./run)<br>    &gt; done<br><br>## Specifying dependency information<br><br>Extro.py looks for dependency information inside the `.deps` directory of<br>each named directory.  Inside the `.deps` directory it will read<br>information from the following files:<br><br>- `requires` -- Names (basename only, not paths) of directories<br>  required by this directory.<br>- `required_by` -- This is a reverse `requires`.  If `dir1` is<br>  *required_by* `dir2`, that is the same as if `dir2` had listed `dir1`<br>  in its `requires` file.<br>- `provides` -- a list of aliases that can be used to refer to the<br>  current directory.<br><br>## Example<br><br>In this example, we'll use Extro.py to help manage the runtime<br>initialization of Docker containers.<br><br>A Docker container is built from a series of layers.  Each layer may<br>want to perform some runtime initialization when a container starts.<br>In this situation it is likely that there needs to be an ordering<br>between these initialization tasks.<br><br>One solution is for each layer to place initialization information<br>into a subdirectory of `/docker/config.d`.  Then have an `ENTRYPOINT`<br>script that looks something like this:<br><br>    #!/bin/sh<br><br>    for dir in $(extropy /docker/config.d/*); do<br>      (cd $dir &amp;&amp; ./run)<br>    done<br><br>    exec \"$@\"<br><br>This will execute the `run` command inside each subdirectory, while<br>permitting you to define an explicit ordering between different<br>layers. For example, let's say you have a base image that implements<br>some sort of process supervision and logging.  It needs to ensure that<br>the target log directory has appropriate ownership (and this needs to<br>happen at runtime, in case the directory is a mounted volume). <br><br>On top of that logging image, you build a new image that runs a web<br>application. The web application needs to perform some database<br>initialization tasks when it starts up, and you want to make sure that<br>logging is configured *before* you run the database initialization.<br><br>To solve this, you have your logging container install the directory<br>`/docker/config.d/logging` with the following content:<br><br>    /docker/config.d/logging/<br>      run<br><br>And you have your web application provide:<br><br>    /docker/config.d/webapp/<br>      run<br>      .deps/<br>        requires<br><br>And the `requires` file contains `logging`.  With this in place, the<br>`ENTRYPOINT` script will run the `run` script for both directories,<br>and the `logging` run script will always run before the `webapp` run<br>script.<br>## License<br><br>extro.py -- imposes an ordering on a list of directories  <br>Copyright (C) 2016 Lars Kellogg-Stedman &lt;lars@oddbit.com&gt;<br><br>This program is free software: you can redistribute it and/or modify<br>it under the terms of the GNU General Public License as published by<br>the Free Software Foundation, either version 3 of the License, or<br>(at your option) any later version.<br><br>This program is distributed in the hope that it will be useful,<br>but WITHOUT ANY WARRANTY; without even the implied warranty of<br>MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br>GNU General Public License for more details.<br><br>You should have received a copy of the GNU General Public License<br>along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.<br>\n          </div>"}, "last_serial": 1980704, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "90fcd03e3dccf8f4e3f56855256f3ff7", "sha256": "c6d03064ca1491b0dce89db296841b178fd4d8f92c9d93e696bf807f7646da05"}, "downloads": -1, "filename": "extro.py-0.1.tar.gz", "has_sig": false, "md5_digest": "90fcd03e3dccf8f4e3f56855256f3ff7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15937, "upload_time": "2016-02-28T16:02:49", "upload_time_iso_8601": "2016-02-28T16:02:49.680112Z", "url": "https://files.pythonhosted.org/packages/cb/cd/64b0e6f8dcb67496487a5b8f4eed5fb2647f1cc8fb66d7e43f9951a56750/extro.py-0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "90fcd03e3dccf8f4e3f56855256f3ff7", "sha256": "c6d03064ca1491b0dce89db296841b178fd4d8f92c9d93e696bf807f7646da05"}, "downloads": -1, "filename": "extro.py-0.1.tar.gz", "has_sig": false, "md5_digest": "90fcd03e3dccf8f4e3f56855256f3ff7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15937, "upload_time": "2016-02-28T16:02:49", "upload_time_iso_8601": "2016-02-28T16:02:49.680112Z", "url": "https://files.pythonhosted.org/packages/cb/cd/64b0e6f8dcb67496487a5b8f4eed5fb2647f1cc8fb66d7e43f9951a56750/extro.py-0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:44:27 2020"}
{"info": {"author": "Oxford Nanopore Technologies, Ltd", "author_email": "support@nanoporetech.com", "bugtrack_url": null, "classifiers": [], "description": "# Bonito\n\n[![PyPI version](https://badge.fury.io/py/ont-bonito.svg)](https://badge.fury.io/py/ont-bonito)\n\nA convolutional basecaller inspired by QuartzNet.\n\n## Features\n\n - Raw signal input.\n - Simple 5 state output `{BLANK, A, C, G, T}`.\n - CTC training.\n - Small Python codebase.\n\n## Basecalling\n\n```bash\n$ pip install ont-bonito\n$ bonito basecaller dna_r9.4.1 /data/reads > basecalls.fasta\n```\n\nIf you have a `turing` or `volta` GPU the `--half` flag can be uses to increase performance.\n\n## Training your own model\n\nTo train your own model first download the training data.\n\n```bash\n$ bonito download --training\n$ bonito train --amp /data/model-dir\n```\n\nAutomatic mixed precision can be used to speed up training with the `--amp` flag *(however [apex](https://github.com/nvidia/apex#quick-start) needs to be installed manually)*.\n\nFor multi-gpu training use the `$CUDA_VISIBLE_DEVICES` environment variable to select which GPUs and add the `--multi-gpu` flag.\n\n```bash\n$ export CUDA_VISIBLE_DEVICES=0,1,2,3\n$ bonito train --amp --multi-gpu --batch 256 /data/model-dir\n```\n\nTo evaluate the pretrained model run `bonito evaluate dna_r9.4.1 --half`.\n\nFor a model you have trainined yourself, replace `dna_r9.4.1` with the model directory.\n\n## Interface\n\n - `bonito view` - view a model architecture for a given `.toml` file and the number of parameters in the network.\n - `bonito tune` - distributed tuning of network hyperparameters.\n - `bonito train` - train a bonito model.\n - `bonito convert` - convert a hdf5 training file into a bonito format.\n - `bonito evaluate` - evaluate a model performance.\n - `bonito download` - download pretrained models and training datasets.\n - `bonito basecaller` - basecaller *(`.fast5` -> `.fasta`)*.\n\n## Developer Quickstart\n\n```bash\n$ git clone https://github.com/nanoporetech/bonito.git  # or fork first and clone that\n$ cd bonito\n$ python3 -m venv venv3\n$ source venv3/bin/activate\n(venv3) $ pip install --upgrade pip\n(venv3) $ pip install -r requirements.txt\n(venv3) $ python setup.py develop\n(venv3) $ bonito download --all\n```\n\n## Medaka\n\nAn pre-release Medaka can be downloaded from [here](https://nanoporetech.box.com/shared/static/oukeesfjc6406t5po0x2hlw97lnelkyl.hdf5).\n\nIt has been trained on Zymo: *E. faecalis, P. aeruginosa, S. enterica1, S.aureus and E.coli (with L. monocytogenes and B. subtilis held out)*.\n\n\n| Coverage | B. subtilis | E. coli | E. faecalis | L. monocytogenes | S. aureus | S. enterica |\n| -------- |:-----------:|:-------:|:-----------:|:----------------:|:---------:|:-----------:|\n|       25 |       36.20 |   37.96 |       36.38 |            36.95 |     39.21 |       37.24 |\n|       50 |       40.63 |   42.22 |       40.97 |            43.01 |     45.23 |       41.55 |\n|       75 |       42.22 |   43.98 |       43.01 |            43.98 |     50.00 |       43.98 |\n|      100 |       45.23 |   45.23 |       44.56 |            45.23 |     50.00 |       45.23 |\n|      125 |       45.23 |   45.42 |       45.23 |            46.99 |     50.00 |       45.23 |\n|      150 |       45.23 |   45.23 |       46.99 |            46.99 |     50.00 |       46.99 |\n|      175 |       46.99 |   46.99 |       45.23 |            48.24 |     50.00 |       46.99 |\n|      200 |       45.23 |   45.23 |       46.99 |            46.99 |     50.00 |       46.99 |\n\n*Note: We working on training a full release model from a broader training set that we expect to generalises better.*\n\n### References\n\n - [Sequence Modeling With CTC](https://distill.pub/2017/ctc/)\n - [Quartznet: Deep Automatic Speech Recognition With 1D Time-Channel Separable Convolutions](https://arxiv.org/pdf/1910.10261.pdf)\n\n### Licence and Copyright\n(c) 2019 Oxford Nanopore Technologies Ltd.\n\nBonito is distributed under the terms of the Oxford Nanopore\nTechnologies, Ltd.  Public License, v. 1.0.  If a copy of the License\nwas not distributed with this file, You can obtain one at\nhttp://nanoporetech.com\n\n### Research Release\n\nResearch releases are provided as technology demonstrators to provide early access to features or stimulate Community development of tools. Support for this software will be minimal and is only provided directly by the developers. Feature requests, improvements, and discussions are welcome and can be implemented by forking and pull requests. However much as we would like to rectify every issue and piece of feedback users may have, the developers may have limited resource for support of this software. Research releases may be unstable and subject to rapid iteration by Oxford Nanopore Technologies.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/nanoporetech/bonito", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "ont-bonito", "package_url": "https://pypi.org/project/ont-bonito/", "platform": "", "project_url": "https://pypi.org/project/ont-bonito/", "project_urls": {"Homepage": "https://github.com/nanoporetech/bonito"}, "release_url": "https://pypi.org/project/ont-bonito/0.1.5/", "requires_dist": null, "requires_python": "", "summary": "", "version": "0.1.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Bonito</h1>\n<p><a href=\"https://badge.fury.io/py/ont-bonito\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f8a6c3e0c6ab8a85a168911d0a6aef103b777631/68747470733a2f2f62616467652e667572792e696f2f70792f6f6e742d626f6e69746f2e737667\"></a></p>\n<p>A convolutional basecaller inspired by QuartzNet.</p>\n<h2>Features</h2>\n<ul>\n<li>Raw signal input.</li>\n<li>Simple 5 state output <code>{BLANK, A, C, G, T}</code>.</li>\n<li>CTC training.</li>\n<li>Small Python codebase.</li>\n</ul>\n<h2>Basecalling</h2>\n<pre>$ pip install ont-bonito\n$ bonito basecaller dna_r9.4.1 /data/reads &gt; basecalls.fasta\n</pre>\n<p>If you have a <code>turing</code> or <code>volta</code> GPU the <code>--half</code> flag can be uses to increase performance.</p>\n<h2>Training your own model</h2>\n<p>To train your own model first download the training data.</p>\n<pre>$ bonito download --training\n$ bonito train --amp /data/model-dir\n</pre>\n<p>Automatic mixed precision can be used to speed up training with the <code>--amp</code> flag <em>(however <a href=\"https://github.com/nvidia/apex#quick-start\" rel=\"nofollow\">apex</a> needs to be installed manually)</em>.</p>\n<p>For multi-gpu training use the <code>$CUDA_VISIBLE_DEVICES</code> environment variable to select which GPUs and add the <code>--multi-gpu</code> flag.</p>\n<pre>$ <span class=\"nb\">export</span> <span class=\"nv\">CUDA_VISIBLE_DEVICES</span><span class=\"o\">=</span><span class=\"m\">0</span>,1,2,3\n$ bonito train --amp --multi-gpu --batch <span class=\"m\">256</span> /data/model-dir\n</pre>\n<p>To evaluate the pretrained model run <code>bonito evaluate dna_r9.4.1 --half</code>.</p>\n<p>For a model you have trainined yourself, replace <code>dna_r9.4.1</code> with the model directory.</p>\n<h2>Interface</h2>\n<ul>\n<li><code>bonito view</code> - view a model architecture for a given <code>.toml</code> file and the number of parameters in the network.</li>\n<li><code>bonito tune</code> - distributed tuning of network hyperparameters.</li>\n<li><code>bonito train</code> - train a bonito model.</li>\n<li><code>bonito convert</code> - convert a hdf5 training file into a bonito format.</li>\n<li><code>bonito evaluate</code> - evaluate a model performance.</li>\n<li><code>bonito download</code> - download pretrained models and training datasets.</li>\n<li><code>bonito basecaller</code> - basecaller <em>(<code>.fast5</code> -&gt; <code>.fasta</code>)</em>.</li>\n</ul>\n<h2>Developer Quickstart</h2>\n<pre>$ git clone https://github.com/nanoporetech/bonito.git  <span class=\"c1\"># or fork first and clone that</span>\n$ <span class=\"nb\">cd</span> bonito\n$ python3 -m venv venv3\n$ <span class=\"nb\">source</span> venv3/bin/activate\n<span class=\"o\">(</span>venv3<span class=\"o\">)</span> $ pip install --upgrade pip\n<span class=\"o\">(</span>venv3<span class=\"o\">)</span> $ pip install -r requirements.txt\n<span class=\"o\">(</span>venv3<span class=\"o\">)</span> $ python setup.py develop\n<span class=\"o\">(</span>venv3<span class=\"o\">)</span> $ bonito download --all\n</pre>\n<h2>Medaka</h2>\n<p>An pre-release Medaka can be downloaded from <a href=\"https://nanoporetech.box.com/shared/static/oukeesfjc6406t5po0x2hlw97lnelkyl.hdf5\" rel=\"nofollow\">here</a>.</p>\n<p>It has been trained on Zymo: <em>E. faecalis, P. aeruginosa, S. enterica1, S.aureus and E.coli (with L. monocytogenes and B. subtilis held out)</em>.</p>\n<table>\n<thead>\n<tr>\n<th>Coverage</th>\n<th align=\"center\">B. subtilis</th>\n<th align=\"center\">E. coli</th>\n<th align=\"center\">E. faecalis</th>\n<th align=\"center\">L. monocytogenes</th>\n<th align=\"center\">S. aureus</th>\n<th align=\"center\">S. enterica</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>25</td>\n<td align=\"center\">36.20</td>\n<td align=\"center\">37.96</td>\n<td align=\"center\">36.38</td>\n<td align=\"center\">36.95</td>\n<td align=\"center\">39.21</td>\n<td align=\"center\">37.24</td>\n</tr>\n<tr>\n<td>50</td>\n<td align=\"center\">40.63</td>\n<td align=\"center\">42.22</td>\n<td align=\"center\">40.97</td>\n<td align=\"center\">43.01</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">41.55</td>\n</tr>\n<tr>\n<td>75</td>\n<td align=\"center\">42.22</td>\n<td align=\"center\">43.98</td>\n<td align=\"center\">43.01</td>\n<td align=\"center\">43.98</td>\n<td align=\"center\">50.00</td>\n<td align=\"center\">43.98</td>\n</tr>\n<tr>\n<td>100</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">44.56</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">50.00</td>\n<td align=\"center\">45.23</td>\n</tr>\n<tr>\n<td>125</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">45.42</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">46.99</td>\n<td align=\"center\">50.00</td>\n<td align=\"center\">45.23</td>\n</tr>\n<tr>\n<td>150</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">46.99</td>\n<td align=\"center\">46.99</td>\n<td align=\"center\">50.00</td>\n<td align=\"center\">46.99</td>\n</tr>\n<tr>\n<td>175</td>\n<td align=\"center\">46.99</td>\n<td align=\"center\">46.99</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">48.24</td>\n<td align=\"center\">50.00</td>\n<td align=\"center\">46.99</td>\n</tr>\n<tr>\n<td>200</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">45.23</td>\n<td align=\"center\">46.99</td>\n<td align=\"center\">46.99</td>\n<td align=\"center\">50.00</td>\n<td align=\"center\">46.99</td>\n</tr></tbody></table>\n<p><em>Note: We working on training a full release model from a broader training set that we expect to generalises better.</em></p>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://distill.pub/2017/ctc/\" rel=\"nofollow\">Sequence Modeling With CTC</a></li>\n<li><a href=\"https://arxiv.org/pdf/1910.10261.pdf\" rel=\"nofollow\">Quartznet: Deep Automatic Speech Recognition With 1D Time-Channel Separable Convolutions</a></li>\n</ul>\n<h3>Licence and Copyright</h3>\n<p>(c) 2019 Oxford Nanopore Technologies Ltd.</p>\n<p>Bonito is distributed under the terms of the Oxford Nanopore\nTechnologies, Ltd.  Public License, v. 1.0.  If a copy of the License\nwas not distributed with this file, You can obtain one at\n<a href=\"http://nanoporetech.com\" rel=\"nofollow\">http://nanoporetech.com</a></p>\n<h3>Research Release</h3>\n<p>Research releases are provided as technology demonstrators to provide early access to features or stimulate Community development of tools. Support for this software will be minimal and is only provided directly by the developers. Feature requests, improvements, and discussions are welcome and can be implemented by forking and pull requests. However much as we would like to rectify every issue and piece of feedback users may have, the developers may have limited resource for support of this software. Research releases may be unstable and subject to rapid iteration by Oxford Nanopore Technologies.</p>\n\n          </div>"}, "last_serial": 7151868, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "d0ef903ef828a3a3c4423dfc2a8bf468", "sha256": "fd80e965c675250aa25d00121f9eb0787e3a878caecfd1946b9596c17f3dabfe"}, "downloads": -1, "filename": "ont-bonito-0.0.1.tar.gz", "has_sig": false, "md5_digest": "d0ef903ef828a3a3c4423dfc2a8bf468", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12734, "upload_time": "2020-01-13T18:48:43", "upload_time_iso_8601": "2020-01-13T18:48:43.742650Z", "url": "https://files.pythonhosted.org/packages/d9/db/561675d546075abac5f22cd30a78c084af0cf6aa376ace242405b801658f/ont-bonito-0.0.1.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "c7b4f1ec34355ecb1bd732630b1e5b50", "sha256": "63095382dbacb5c9a4cdb68f44433d577875a92f94d70eda07e11124f218fe95"}, "downloads": -1, "filename": "ont-bonito-0.0.3.tar.gz", "has_sig": false, "md5_digest": "c7b4f1ec34355ecb1bd732630b1e5b50", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25058424, "upload_time": "2020-02-18T23:01:21", "upload_time_iso_8601": "2020-02-18T23:01:21.467232Z", "url": "https://files.pythonhosted.org/packages/1e/d1/8e91e83711e166c9da2dd39017c9ac471c516b87b48bcdc0e25a4cb12d95/ont-bonito-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "c64ece84bade1e305d3bf87c568cbd7d", "sha256": "1e0f833fc6a7fdcb64ffb344da6cf77bfdf283bcfe1c1e7e98d3e8c28f0adf62"}, "downloads": -1, "filename": "ont-bonito-0.0.4.tar.gz", "has_sig": false, "md5_digest": "c64ece84bade1e305d3bf87c568cbd7d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25058482, "upload_time": "2020-02-18T23:18:16", "upload_time_iso_8601": "2020-02-18T23:18:16.792490Z", "url": "https://files.pythonhosted.org/packages/e6/97/ee764ddc586c5fcf9be804289a26d80ce31a1eabfd550b1276dead9b9de1/ont-bonito-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "469a1d7e05b52a830cb1ad20ebbae5a5", "sha256": "a735e7998bad0e920a0ace486c92bc6628aff263b374267cf7ac6cba8b75c1fa"}, "downloads": -1, "filename": "ont-bonito-0.0.5.tar.gz", "has_sig": false, "md5_digest": "469a1d7e05b52a830cb1ad20ebbae5a5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25058780, "upload_time": "2020-02-20T18:33:43", "upload_time_iso_8601": "2020-02-20T18:33:43.231946Z", "url": "https://files.pythonhosted.org/packages/51/2a/771af15029be16025022b91ee7675af7945fc0350e3c1190c7d1cad934d3/ont-bonito-0.0.5.tar.gz", "yanked": false}], "0.0.7": [{"comment_text": "", "digests": {"md5": "ad6a1d7c991b9d11f26092e4478203db", "sha256": "a0d0edc70b6ae0f6e0153697a8fcb8237f0b4c4067e504ded202ed33b9bd6e54"}, "downloads": -1, "filename": "ont-bonito-0.0.7.tar.gz", "has_sig": false, "md5_digest": "ad6a1d7c991b9d11f26092e4478203db", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15560, "upload_time": "2020-02-26T19:59:39", "upload_time_iso_8601": "2020-02-26T19:59:39.025774Z", "url": "https://files.pythonhosted.org/packages/60/99/f9b4e7db2b81d07ca49873fef96a1d3378248ee8730cf07fda1231cd8910/ont-bonito-0.0.7.tar.gz", "yanked": false}], "0.0.8": [{"comment_text": "", "digests": {"md5": "0c71b08d0f26cc9820a80c2f52463066", "sha256": "8ee2c91f073ac448b2a330e12a4d922280e596b15e40170cd15b4f612ace7c53"}, "downloads": -1, "filename": "ont-bonito-0.0.8.tar.gz", "has_sig": false, "md5_digest": "0c71b08d0f26cc9820a80c2f52463066", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25056023, "upload_time": "2020-03-08T13:47:18", "upload_time_iso_8601": "2020-03-08T13:47:18.622476Z", "url": "https://files.pythonhosted.org/packages/3a/cc/a64e90955addd8b831e43decc9ee2cd8f8395c7c44ceef250bc60f2550f8/ont-bonito-0.0.8.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "f1420ba56506ea43b2e373fbd37cb43a", "sha256": "0098ce0cb09f022b7df4534dc7ba7f09cf4b30e358778fbed4adb200966e453d"}, "downloads": -1, "filename": "ont-bonito-0.1.0.tar.gz", "has_sig": false, "md5_digest": "f1420ba56506ea43b2e373fbd37cb43a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25057317, "upload_time": "2020-03-20T11:52:25", "upload_time_iso_8601": "2020-03-20T11:52:25.785537Z", "url": "https://files.pythonhosted.org/packages/29/db/59fef46c323e86347b7558ad3c5a775037ef6923bc62b7e15173fefeed82/ont-bonito-0.1.0.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "61e7925725af8538f24673f6e35c8961", "sha256": "eb2b8ef67dd3c28f2ff44b5ec62c57964eb0114bcab32350cb720253a083c8e9"}, "downloads": -1, "filename": "ont-bonito-0.1.2.tar.gz", "has_sig": false, "md5_digest": "61e7925725af8538f24673f6e35c8961", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25063701, "upload_time": "2020-04-11T15:09:31", "upload_time_iso_8601": "2020-04-11T15:09:31.564457Z", "url": "https://files.pythonhosted.org/packages/78/52/9f978f27aa96ccbb07ed86f25d599c28c80f41f6414f8035372e7acc00f6/ont-bonito-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "92163c98b2396e0a42565168bd2fc982", "sha256": "23f9e99bf21d61e6586037be15d2dfefb4af5277612ae3f07ac91a3cec27ce10"}, "downloads": -1, "filename": "ont-bonito-0.1.3.tar.gz", "has_sig": false, "md5_digest": "92163c98b2396e0a42565168bd2fc982", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25064225, "upload_time": "2020-04-27T09:51:33", "upload_time_iso_8601": "2020-04-27T09:51:33.829763Z", "url": "https://files.pythonhosted.org/packages/9c/53/044d2ab2e0d2c00f5331aa4f1623c888dbc818c7fba70d069d80529ed113/ont-bonito-0.1.3.tar.gz", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "a3223d2e1f54b575ca11108a54c69bb2", "sha256": "3fc8df5ca099607eaabd745afd2de156d981b24f22e8b54ccaf53661b3dbb274"}, "downloads": -1, "filename": "ont-bonito-0.1.4.tar.gz", "has_sig": false, "md5_digest": "a3223d2e1f54b575ca11108a54c69bb2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25064265, "upload_time": "2020-04-27T10:23:50", "upload_time_iso_8601": "2020-04-27T10:23:50.878266Z", "url": "https://files.pythonhosted.org/packages/59/8d/0c2eb31f833160e51648eae8d49bd6610bd6fad6ae5879e22a76187b5979/ont-bonito-0.1.4.tar.gz", "yanked": false}], "0.1.5": [{"comment_text": "", "digests": {"md5": "5dc39419caefa296db979ff97990326c", "sha256": "4482aca7dfc73884df0fca6fb1310aa71edd1f927f4072c17ffb957b076594a0"}, "downloads": -1, "filename": "ont-bonito-0.1.5.tar.gz", "has_sig": false, "md5_digest": "5dc39419caefa296db979ff97990326c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25064319, "upload_time": "2020-05-02T15:06:43", "upload_time_iso_8601": "2020-05-02T15:06:43.695656Z", "url": "https://files.pythonhosted.org/packages/95/fa/8a178168ee44c7f66a4239e4a2a1569896e787397080d1e1e0c2b1a331c2/ont-bonito-0.1.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5dc39419caefa296db979ff97990326c", "sha256": "4482aca7dfc73884df0fca6fb1310aa71edd1f927f4072c17ffb957b076594a0"}, "downloads": -1, "filename": "ont-bonito-0.1.5.tar.gz", "has_sig": false, "md5_digest": "5dc39419caefa296db979ff97990326c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25064319, "upload_time": "2020-05-02T15:06:43", "upload_time_iso_8601": "2020-05-02T15:06:43.695656Z", "url": "https://files.pythonhosted.org/packages/95/fa/8a178168ee44c7f66a4239e4a2a1569896e787397080d1e1e0c2b1a331c2/ont-bonito-0.1.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:03:48 2020"}
{"info": {"author": "Andras Barthazi", "author_email": "andras@barthazi.hu", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Environment :: Console", "Environment :: Plugins", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python", "Topic :: Internet :: WWW/HTTP", "Topic :: Utilities"], "description": "httpie-ems-auth\n===============\n\nThis `HTTPie <http://httpie.org/>`_ auth plugin implements Escher authentication\nfor Emarsys API requests.\n\nInstallation\n------------\n\nBe sure that `HTTPie <http://httpie.org/>`_ is installed, and install this plugin:\n\n.. code-block:: bash\n\n   $ pip install httpie-ems-auth\n\nAfter installing, you will see the option ``ems-auth`` under ``--auth-type`` if you run\n``$ http --help``.\n\nExample\n-------\n\nSuiteable if you call the API of Suite\n\n.. code-block:: bash\n\n   $ http --auth-type=ems-auth --auth=escher_key:escher_secret https://api.emarsys.net/api/v2/internal/12345678/settings\n\nThe default Escher credential scope is \"eu/suite/ems_request\" which identifies Suite.\nIf u are calling another service, you have to alter the credential scope like this:\n\n.. code-block:: bash\n\n   $ http --auth-type=ems-auth --auth=eu/suite/ems_request/escher_key:escher_secret https://api.emarsys.net/api/v2/internal/12345678/settings\n\nCheck out `HTTPie sessions <https://github.com/jkbrzt/httpie#sessions>`_ if you would like to\nsave authentication information between your requests.\n\nIf you want to use in python code this example can help:\n   .. code-block:: python\n  \n      import escherauth\n      import datetime\n      from urlparse import urlparse\n      import requests\n      \n      escher_key = 'test'\n      escher_secret = 'test'\n      options = {\n                  'algo_prefix': 'EMS',\n                  'vendor_key': 'EMS',\n                  'hash_algo': 'SHA256',\n                  'auth_header_name': 'X-Ems-Auth',\n                  'date_header_name': 'X-Ems-Date'\n                }\n      \n      credential_scope = \"test\"\n      \n      if \"/\" in escher_key:\n          scope = escher_key.split(\"/\")\n          escher_key = scope.pop()\n          credential_scope = \"/\".join(scope)\n      \n      client = {'api_key': escher_key, 'api_secret': escher_secret}\n      escher = escherauth.Escher(credential_scope, options)\n      \n      url = 'http://test-escher-url.com/api/call/smth'\n      \n      r = requests.PreparedRequest()\n      r.prepare('GET',url)\n      now = datetime.datetime.utcnow()\n      r.headers['X-Ems-Date'] = now.strftime('%Y%m%dT%H%M%SZ')\n      parsed_uri = urlparse(r.url)\n      r.headers['Host'] = parsed_uri.netloc\n      \n      f = escher.sign(r, client)\n      s = requests.Session()\n      \n      s.send(f)\n   \n   ..", "description_content_type": null, "docs_url": null, "download_url": "https://github.com/emartech/httpie-ems-auth", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/emartech/httpie-ems-auth", "keywords": null, "license": "MIT", "maintainer": null, "maintainer_email": null, "name": "httpie-ems-auth", "package_url": "https://pypi.org/project/httpie-ems-auth/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/httpie-ems-auth/", "project_urls": {"Download": "https://github.com/emartech/httpie-ems-auth", "Homepage": "https://github.com/emartech/httpie-ems-auth"}, "release_url": "https://pypi.org/project/httpie-ems-auth/0.2.2/", "requires_dist": null, "requires_python": null, "summary": "EmsAuth plugin for HTTPie.", "version": "0.2.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>This <a href=\"http://httpie.org/\" rel=\"nofollow\">HTTPie</a> auth plugin implements Escher authentication\nfor Emarsys API requests.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>Be sure that <a href=\"http://httpie.org/\" rel=\"nofollow\">HTTPie</a> is installed, and install this plugin:</p>\n<pre>$ pip install httpie-ems-auth\n</pre>\n<p>After installing, you will see the option <tt><span class=\"pre\">ems-auth</span></tt> under <tt><span class=\"pre\">--auth-type</span></tt> if you run\n<tt>$ http <span class=\"pre\">--help</span></tt>.</p>\n</div>\n<div id=\"example\">\n<h2>Example</h2>\n<p>Suiteable if you call the API of Suite</p>\n<pre>$ http --auth-type<span class=\"o\">=</span>ems-auth --auth<span class=\"o\">=</span>escher_key:escher_secret https://api.emarsys.net/api/v2/internal/12345678/settings\n</pre>\n<p>The default Escher credential scope is \u201ceu/suite/ems_request\u201d which identifies Suite.\nIf u are calling another service, you have to alter the credential scope like this:</p>\n<pre>$ http --auth-type<span class=\"o\">=</span>ems-auth --auth<span class=\"o\">=</span>eu/suite/ems_request/escher_key:escher_secret https://api.emarsys.net/api/v2/internal/12345678/settings\n</pre>\n<p>Check out <a href=\"https://github.com/jkbrzt/httpie#sessions\" rel=\"nofollow\">HTTPie sessions</a> if you would like to\nsave authentication information between your requests.</p>\n<dl>\n<dt>If you want to use in python code this example can help:</dt>\n<dd><pre><span class=\"kn\">import</span> <span class=\"nn\">escherauth</span>\n<span class=\"kn\">import</span> <span class=\"nn\">datetime</span>\n<span class=\"kn\">from</span> <span class=\"nn\">urlparse</span> <span class=\"kn\">import</span> <span class=\"n\">urlparse</span>\n<span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n\n<span class=\"n\">escher_key</span> <span class=\"o\">=</span> <span class=\"s1\">'test'</span>\n<span class=\"n\">escher_secret</span> <span class=\"o\">=</span> <span class=\"s1\">'test'</span>\n<span class=\"n\">options</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s1\">'algo_prefix'</span><span class=\"p\">:</span> <span class=\"s1\">'EMS'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'vendor_key'</span><span class=\"p\">:</span> <span class=\"s1\">'EMS'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'hash_algo'</span><span class=\"p\">:</span> <span class=\"s1\">'SHA256'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'auth_header_name'</span><span class=\"p\">:</span> <span class=\"s1\">'X-Ems-Auth'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'date_header_name'</span><span class=\"p\">:</span> <span class=\"s1\">'X-Ems-Date'</span>\n          <span class=\"p\">}</span>\n\n<span class=\"n\">credential_scope</span> <span class=\"o\">=</span> <span class=\"s2\">\"test\"</span>\n\n<span class=\"k\">if</span> <span class=\"s2\">\"/\"</span> <span class=\"ow\">in</span> <span class=\"n\">escher_key</span><span class=\"p\">:</span>\n    <span class=\"n\">scope</span> <span class=\"o\">=</span> <span class=\"n\">escher_key</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s2\">\"/\"</span><span class=\"p\">)</span>\n    <span class=\"n\">escher_key</span> <span class=\"o\">=</span> <span class=\"n\">scope</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">()</span>\n    <span class=\"n\">credential_scope</span> <span class=\"o\">=</span> <span class=\"s2\">\"/\"</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">scope</span><span class=\"p\">)</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'api_key'</span><span class=\"p\">:</span> <span class=\"n\">escher_key</span><span class=\"p\">,</span> <span class=\"s1\">'api_secret'</span><span class=\"p\">:</span> <span class=\"n\">escher_secret</span><span class=\"p\">}</span>\n<span class=\"n\">escher</span> <span class=\"o\">=</span> <span class=\"n\">escherauth</span><span class=\"o\">.</span><span class=\"n\">Escher</span><span class=\"p\">(</span><span class=\"n\">credential_scope</span><span class=\"p\">,</span> <span class=\"n\">options</span><span class=\"p\">)</span>\n\n<span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s1\">'http://test-escher-url.com/api/call/smth'</span>\n\n<span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">PreparedRequest</span><span class=\"p\">()</span>\n<span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">prepare</span><span class=\"p\">(</span><span class=\"s1\">'GET'</span><span class=\"p\">,</span><span class=\"n\">url</span><span class=\"p\">)</span>\n<span class=\"n\">now</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">utcnow</span><span class=\"p\">()</span>\n<span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">headers</span><span class=\"p\">[</span><span class=\"s1\">'X-Ems-Date'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">now</span><span class=\"o\">.</span><span class=\"n\">strftime</span><span class=\"p\">(</span><span class=\"s1\">'%Y%m</span><span class=\"si\">%d</span><span class=\"s1\">T%H%M%SZ'</span><span class=\"p\">)</span>\n<span class=\"n\">parsed_uri</span> <span class=\"o\">=</span> <span class=\"n\">urlparse</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">url</span><span class=\"p\">)</span>\n<span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">headers</span><span class=\"p\">[</span><span class=\"s1\">'Host'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">parsed_uri</span><span class=\"o\">.</span><span class=\"n\">netloc</span>\n\n<span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"n\">escher</span><span class=\"o\">.</span><span class=\"n\">sign</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">,</span> <span class=\"n\">client</span><span class=\"p\">)</span>\n<span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">Session</span><span class=\"p\">()</span>\n\n<span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">)</span>\n</pre>\n</dd>\n</dl>\n</div>\n\n          </div>"}, "last_serial": 3552606, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "4fcfcd6b6879c359fdeb927d99c94628", "sha256": "7e5467052c5be9276ec97a0f7ed5b630de6364787d630abf6a26793d7e86d576"}, "downloads": -1, "filename": "httpie_ems_auth-0.1.0-py2.7.egg", "has_sig": false, "md5_digest": "4fcfcd6b6879c359fdeb927d99c94628", "packagetype": "bdist_egg", "python_version": "2.7", "requires_python": null, "size": 3565, "upload_time": "2015-09-07T07:58:54", "upload_time_iso_8601": "2015-09-07T07:58:54.820713Z", "url": "https://files.pythonhosted.org/packages/cd/09/36903471850ad47739a482faff9d295097bde4147959bdfbf053e44af605/httpie_ems_auth-0.1.0-py2.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "7b633dda0fce93ba3e7ceb6a0e57eee3", "sha256": "dbd7c79e7d587d35c024b9e8d4e3672a1f7a40175db61e61a356900eec80b937"}, "downloads": -1, "filename": "httpie-ems-auth-0.1.0.tar.gz", "has_sig": false, "md5_digest": "7b633dda0fce93ba3e7ceb6a0e57eee3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2171, "upload_time": "2015-09-07T07:58:50", "upload_time_iso_8601": "2015-09-07T07:58:50.992001Z", "url": "https://files.pythonhosted.org/packages/bd/99/816f8aba08ef7005d13936550d723f584278d595dac6058c31e78debc08a/httpie-ems-auth-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "5873d1bcf7fce4271cd911e92bbc2083", "sha256": "012191865ced485feaadbc7c99bdb9af40e2a7ed11fda27d3013ea60200d0515"}, "downloads": -1, "filename": "httpie_ems_auth-0.1.1-py2.7.egg", "has_sig": false, "md5_digest": "5873d1bcf7fce4271cd911e92bbc2083", "packagetype": "bdist_egg", "python_version": "2.7", "requires_python": null, "size": 3721, "upload_time": "2015-09-24T09:15:01", "upload_time_iso_8601": "2015-09-24T09:15:01.120590Z", "url": "https://files.pythonhosted.org/packages/55/59/1d8857e9b2e63e6e74adc92559ac09ccdbf59a789953193a04a56b97e069/httpie_ems_auth-0.1.1-py2.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "c23d501712ee961dd762b745618a3686", "sha256": "453113f263d3b43b9ac052d26c6d1fa6c65b978e394a42ffa0d8fc7898245a11"}, "downloads": -1, "filename": "httpie-ems-auth-0.1.1.tar.gz", "has_sig": false, "md5_digest": "c23d501712ee961dd762b745618a3686", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2253, "upload_time": "2015-09-24T09:14:56", "upload_time_iso_8601": "2015-09-24T09:14:56.733352Z", "url": "https://files.pythonhosted.org/packages/e5/8b/10a90681120289c9ea02761066ce97039894242b07db23cef22e466dad33/httpie-ems-auth-0.1.1.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "7c9fc117992df4bba0fc32068b99a499", "sha256": "5ef1160b2a575eb5dbc22997ee941c2e9726120280a883aa5b81e0a3877ebac8"}, "downloads": -1, "filename": "httpie_ems_auth-0.2.1-py2.7.egg", "has_sig": false, "md5_digest": "7c9fc117992df4bba0fc32068b99a499", "packagetype": "bdist_egg", "python_version": "2.7", "requires_python": null, "size": 4557, "upload_time": "2016-03-02T08:22:24", "upload_time_iso_8601": "2016-03-02T08:22:24.127341Z", "url": "https://files.pythonhosted.org/packages/f2/df/5ebd253dd431c8b8c8744c20ff5e5fdc12ca275243028e04c7db1193583b/httpie_ems_auth-0.2.1-py2.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "d1b70f78e0b1041e135941433b4581ab", "sha256": "4fac0e91cb0bb73413b2196aa308caa03977b2dd5f7169203da4f0b396724f7a"}, "downloads": -1, "filename": "httpie-ems-auth-0.2.1.tar.gz", "has_sig": false, "md5_digest": "d1b70f78e0b1041e135941433b4581ab", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2841, "upload_time": "2016-03-02T08:22:18", "upload_time_iso_8601": "2016-03-02T08:22:18.072148Z", "url": "https://files.pythonhosted.org/packages/28/37/43d242c33c6fcf06fa4061285655086fd0ab7cba123010e46ec3d63a691d/httpie-ems-auth-0.2.1.tar.gz", "yanked": false}], "0.2.2": [{"comment_text": "", "digests": {"md5": "df40044a3b7d58e6f048ee03a27cff4c", "sha256": "4347afac240914296af9f83f9e54400a2953e403e17661708e872dc208e99ab3"}, "downloads": -1, "filename": "httpie_ems_auth-0.2.2-py2.7.egg", "has_sig": false, "md5_digest": "df40044a3b7d58e6f048ee03a27cff4c", "packagetype": "bdist_egg", "python_version": "2.7", "requires_python": null, "size": 4586, "upload_time": "2016-03-03T10:26:54", "upload_time_iso_8601": "2016-03-03T10:26:54.311624Z", "url": "https://files.pythonhosted.org/packages/81/73/768f14774b9b22f4871fbe9867ef0925b104ff85e586ac2a1b863edd5b61/httpie_ems_auth-0.2.2-py2.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "2dd9067c21f1f28d6d231c326983b490", "sha256": "f756a92ddb358241d708b85e6ba57e694a1d31c2c37ed3002dabaff906c1f74f"}, "downloads": -1, "filename": "httpie-ems-auth-0.2.2.tar.gz", "has_sig": false, "md5_digest": "2dd9067c21f1f28d6d231c326983b490", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2861, "upload_time": "2016-03-03T10:26:48", "upload_time_iso_8601": "2016-03-03T10:26:48.294701Z", "url": "https://files.pythonhosted.org/packages/b8/52/53fe718352385867f3779880c6f332a3b5e7d00ee60cb4eecd6641e09d11/httpie-ems-auth-0.2.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "df40044a3b7d58e6f048ee03a27cff4c", "sha256": "4347afac240914296af9f83f9e54400a2953e403e17661708e872dc208e99ab3"}, "downloads": -1, "filename": "httpie_ems_auth-0.2.2-py2.7.egg", "has_sig": false, "md5_digest": "df40044a3b7d58e6f048ee03a27cff4c", "packagetype": "bdist_egg", "python_version": "2.7", "requires_python": null, "size": 4586, "upload_time": "2016-03-03T10:26:54", "upload_time_iso_8601": "2016-03-03T10:26:54.311624Z", "url": "https://files.pythonhosted.org/packages/81/73/768f14774b9b22f4871fbe9867ef0925b104ff85e586ac2a1b863edd5b61/httpie_ems_auth-0.2.2-py2.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "2dd9067c21f1f28d6d231c326983b490", "sha256": "f756a92ddb358241d708b85e6ba57e694a1d31c2c37ed3002dabaff906c1f74f"}, "downloads": -1, "filename": "httpie-ems-auth-0.2.2.tar.gz", "has_sig": false, "md5_digest": "2dd9067c21f1f28d6d231c326983b490", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2861, "upload_time": "2016-03-03T10:26:48", "upload_time_iso_8601": "2016-03-03T10:26:48.294701Z", "url": "https://files.pythonhosted.org/packages/b8/52/53fe718352385867f3779880c6f332a3b5e7d00ee60cb4eecd6641e09d11/httpie-ems-auth-0.2.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:50:07 2020"}
{"info": {"author": "Isis Agora Lovecruft", "author_email": "isis@torproject.org 0xA3ADB67A2CDB8B35", "bugtrack_url": null, "classifiers": [], "description": "**********************************************************\nBridgeDB |Latest Version| |Build Status| |Coverage Status|\n**********************************************************\n\nBridgeDB is a collection of backend servers used to distribute `Tor Bridges\n<https://www.torproject.org/docs/bridges>`__. Currently, it mainly consists of\na webserver with `an HTTPS interface <https://bridges.torproject.org>`__,\n`an email responder <mailto:bridges@torproject.org>`__, and an SQLite database.\n\n.. |Latest Version| image:: https://pypip.in/version/bridgedb/badge.svg?style=flat\n   :target: https://pypi.python.org/pypi/bridgedb/\n.. |Build Status| image:: https://travis-ci.org/isislovecruft/bridgedb.svg\n   :target: https://travis-ci.org/isislovecruft/bridgedb\n.. |Coverage Status| image:: https://coveralls.io/repos/isislovecruft/bridgedb/badge.png?branch=develop\n   :target: https://coveralls.io/r/isislovecruft/bridgedb?branch=develop\n\n\n.. image:: doc/sphinx/source/_static/bay-bridge.jpg\n   :scale: 80%\n   :align: center\n\n\n.. contents::\n   :backlinks: entry\n\n\n=====================\nWhat are Tor Bridges?\n=====================\n\n`Tor Bridges <https://www.torproject.org/docs/bridges>`__ are special\nTor relays which are not listed in the public relay directory. They are\nused to help circumvent `censorship <https://ooni.torproject.org>`__ by\nproviding users with connections to the public relays in the Tor\nnetwork.\n\nTor Bridges are different from normal relays in another important way:\nthey can run what are called *Pluggable* *Transports*.\n\n-----------------------------\nWhat's a Pluggable Transport?\n-----------------------------\n\nA `Pluggable\nTransport <https://www.torproject.org/docs/pluggable-transports.html.en>`__\nis a program which is *pluggable* \u2014 meaning that it is meant to work\nwith lots of other anonymity and censorship circumvention software, not\njust Tor \u2014 and is a *transport* \u2014 meaning that it transports your\ninternet traffic, usually in a way which makes it look different. For\nexample,\n`Obfsproxy <https://www.torproject.org/projects/obfsproxy.html.en>`__ is\na Pluggable Transport which disguises your traffic by adding an\nobfuscating layer of encryption.\n\n---------------------\nSo how do I use this?\n---------------------\n\nWell, probably, you don't. But if you're looking for bridges, you can\nuse `the web interface <https://bridges.torproject.org>`__ of the\nBridgeDB instance deployed by the Tor Project, which has instructions on\ngetting the Pluggable Transports-capable Tor Browser Bundle, as well as\ninstructions for getting extra Bridges.\n\n\n================\nMaintainer Setup\n================\n\nIf you'd like to hack on BridgeDB, you might wish to read BridgeDB's\n`developer documentation <https://pythonhosted.org/bridgedb/>`__.  The rest of\nthis document mainly concerns mainenance and installation instructions.\n\n-----------------------------\nDependencies and installation\n-----------------------------\n\nBridgeDB requires the following OS-level dependencies:\n\n-  python>=2.7\n-  python-dev\n-  build-essential\n-  gnupg (preferrably, gnupg2)\n-  OpenSSL>=1.0.1g\n-  `SQLite3 <http://www.maxmind.com/app/python>`__\n-  `MaxMind GeoIP <https://www.maxmind.com/en/geolocation_landing>`__\n-  libgeoip-dev\n-  geoip-database\n-  `python-setuptools <https://pypi.python.org/pypi/setuptools>`__\n-  libjpeg-dev\n\nAs well as any Python dependencies in the ``requirements.txt`` file.\n\n.. note: There are additional dependencies for things like running the test\n    suites, building BridgeDB's developer documentation, etc. Read on for more\n    info if you wish to enable addition features.\n\n\n------------------\nDeploying BridgeDB\n------------------\n\nBridgeDB should work with or without a Python virtualenv.\n\n-  Install Python 2.7, and other OS-level dependencies. On Debian, you\n   can do::\n\n         sudo apt-get install build-essential openssl python python-dev \\\n           python-setuptools sqlite3 gnupg2 libgeoip-dev geoip-database\n\n\n-  Install Pip 1.3.1 or later. Debian has this version, but if for some\n   reason that or a newer version isn't available, the easiest way to\n   install a newer Pip is to use the Pip development teams's `getpip\n   script <https://raw.github.com/pypa/pip/master/contrib/get-pip.py>`__::\n\n         wget https://raw.github.com/pypa/pip/master/contrib/get-pip.py\n         sudo python get-pip.py\n\n\n-  **(virtualenv installs only)** Use Pip to install virtualenv and\n   `virtualenvwrapper <https://virtualenvwrapper.readthedocs.org>`__::\n\n         sudo pip install --upgrade virtualenv virtualenvwrapper\n\n\n-  **(virtualenv installs only)** Configure virtualenvwrapper and create a\n   virtualenv for BridgeDB::\n\n         WORKON_HOME=${HOME}/.virtualenvs\n         export WORKON_HOME\n         mkdir -p $WORKON_HOME\n         source $(which virtualenvwrapper.sh)\n         git clone https://git.torproject.org/bridgedb.git && cd bridgedb\n         mkvirtualenv -a $PWD -r requirements.txt --unzip-setuptools --setuptools bridgedb\n\n   From now on, to use BridgeDB's virtualenv, just do ``$ workon bridgedb``\n   (after sourcing virtualenvwrapper.sh, as before). To exit the virtualenv\n   without exiting the shell, do ``$ deactivate``.\n\n\n-  **(virtualenv installs only)** To install, set PYTHONPATH to include the\n   root directory of the virtualenv::\n\n         export PYTHONPATH=$PYTHONPATH:${VIRTUAL_ENV}/lib/python2.7/site-packages\n\n\n-  Then, proceed as usual::\n\n         python setup.py install --record installed-files.txt\n\n\n============================\nEnabling additional features\n============================\n\n------------\nTranslations\n------------\n\n**Using New Translations**:\n\nThis should be done when newly completed translations are available in\nTransifex.\n\nPiece of cake. Running ``maint/get-completed-translations`` will take\ncare of cloning *only* the ``bridgedb_completed`` branch of Tor's\n`translations repo <https://gitweb.torproject.org/translation.git>`__\nand placing all the updated files in their correct locations.\n\n-------\n\n**Requesting Translations for Altered/Added Source Code**:\n\nThis should be done whenever any of the strings requiring translation --\n``_(\"the ones inside the weird underscore function, like this\")`` -- are\nchanged, or new ones are added. See ``lib/bridgedb/strings.py``.\n\nTranslations for Tor Project repos are kept `in a separate\nrepo <https://gitweb.torproject.org/translation.git>`__. You'll need to\nextract the strings from BridgeDB's source code into .pot templates, and\nplace these .po files into the ``translation`` repo in the ``bridgedb``\nbranch. After than the .po files should be put into Transifex (don't ask\nme how this works\u2026) and translated. After the translations are complete,\nthe finished .po files should be placed into the ``bridgedb_completed``\nbranch.\n\n-  To extract all strings from BridgeDB's source::\n\n         python setup.py extract_messages\n\n   A .pot file will be created in ./i18n/templates/bridgedb.pot\n\n\n-  Initialise catalogs for each desired language::\n\n         python setup.py init_catalog -l LANG\n\n   where ``LANG`` is the 2 or 4 letter country-code, eg. 'es'. If you've\n   already initialised a particular language, do instead::\n\n         python setup.py update_catalog\n\n\n-------\n\n--------------\nEnabling HTTPS\n--------------\n\nCreate a self-signed certificate with::\n\n         scripts/make-ssl-cert\n\nOr, place an existing certificate in the path specified in bridgedb.conf\nby the ``HTTPS_CERT_FILE`` option, and a private key where\n``HTTPS_KEY_FILE`` points to. The defaults are 'cert' and 'privkey.pem',\nrespectively.\n\n\n------------------------\nEnabling CAPTCHA Support\n------------------------\n\nBridgeDB has two ways to use CAPTCHAs on webpages. The first uses reCaptcha_,\nan external Google service (this requires an account with them), which\nBridgeDB fetches the CAPTCHAs images from for each incoming request from a\nclient. The second method uses a local cache of pre-made CAPTCHAs, created by\nscripting Gimp using gimp-captcha_. The latter cannot easily be run on\nheadless server, unfortunately, because Gimp requires an X server to be\ninstalled.\n\n.. _reCaptcha: https://www.google.com/recaptcha\n.. _gimp-captcha: https://github.com/isislovecruft/gimp-captcha\n\n\n**reCaptcha**\n\nTo enable fetching CAPTCHAs from the reCaptcha API server, set these\noptions in bridgedb.conf::\n\n      RECAPTCHA_ENABLED\n      RECAPTCHA_PUB_KEY\n      RECAPTCHA_SEC_KEY\n\n-------\n\n**gimp-captcha**\n\nTo enable using a local cache of CAPTCHAs, set the following options::\n\n      GIMP_CAPTCHA_ENABLED\n      GIMP_CAPTCHA_DIR\n      GIMP_CAPTCHA_HMAC_KEYFILE\n      GIMP_CAPTCHA_RSA_KEYFILE\n\n-------\n\n--------------------\nGnuPG email signing:\n--------------------\n\nIn your ``bridgedb.conf`` file, make sure that::\n\n      EMAIL_GPG_SIGNING_ENABLED = True\n\nand edit the following option to add the full fingerprint of the GnuPG key\nthat should be used to by BridgeDB to sign outgoing emails::\n\n      EMAIL_GPG_PRIMARY_KEY_FINGERPRINT\n\nThe key specified by ``EMAIL_GPG_PRIMARY_KEY_FINGERPRINT`` can be a master\nkey, or a subkey (with or without the private portions of its corresponding\nmaster key), but it **must** be inside the ``secring.gpg`` and ``pubring.gpg``\nkeyrings inside the directory specified in the ``bridgedb.conf`` option::\n\n      EMAIL_GPG_HOMEDIR\n\nIf the key has requires a passphrase for signing, you'll also need to set\neither of::\n\n      EMAIL_GPG_PASSPHRASE\n      EMAIL_GPG_PASSPHRASE_FILE\n\n\n----------------------------------------------------------\nPreventing already-blocked bridges from being distributed:\n----------------------------------------------------------\n\nUncomment or add ``COUNTRY_BLOCK_FILE`` to your bridgedb.conf. This file\nshould contain one bridge entry per line, in the format::\n\n      fingerprint <bridge fingerprint> country-code <country code>\n\nIf the ``COUNTRY_BLOCK_FILE`` file is present, bridgedb will filter\nblocked bridges from the responses it gives to clients requesting\nbridges.\n\n\n================\nTesting BridgeDB\n================\n\nBefore running to any of BridgeDB's test suites, make sure you have the\nadditional dependencies in the Pip requirements file,\n``.test.requirements.txt`` installed::\n\n      pip install -r .test.requirements.txt\n\nTo create a bunch of fake bridge descriptors to test BridgeDB, do::\n\n      bridgedb mock [-n NUMBER_OF_DESCRIPTORS]\n\nNote that you will need to install\n`leekspin <https://pypi.python.org/pypi/leekspin>`__ in order to run the\n``bridgedb mock`` command. See ``doc/HACKING.md`` for details.\n\nAnd finally, to run the test suites, do::\n\n      make coverage\n\nIf you just want to run the tests, and don't care about code coverage\nstatistics, see the ``bridgedb trial`` and ``bridgedb test`` commands.\n\n\n================\nRunning BridgeDB\n================\n\nTo run BridgeDB, simply make any necessary changes to bridgedb.conf, and do::\n\n      bridgedb\n\nAnd remember that all files/directories in ``bridgedb.conf`` are assumed\nrelative to the runtime directory. By default, BridgeDB uses the current\nworking directory; you can, however specify an a different runtime\ndirectory::\n\n      bridgedb -r /srv/bridges.torproject.org/run\n\nMake sure that the files and directories referred to in bridgedb.conf\nexist. However, many of them, if not found, will be touched on disk so\nthat attempts to read/write from/to them will not raise excessive\nerrors.\n\n\n----------------------------------------------\nReloading Bridges From Their Descriptor Files:\n----------------------------------------------\n\nWhen you have new lists of bridges from the Bridge Authority, replace\nthe old files and do::\n\n      bridgedb --reload\n\nOr just give it a SIGHUP::\n\n      kill -s SIGHUP `cat .../run/bridgedb.pid`\n\n\n---------------------------------------------------\nTo extract bucket files of all unallocated bridges:\n---------------------------------------------------\n\nEdit the configuration file value ``FILE_BUCKETS`` according to your\nneeds. For example, the following is a possible configuration::\n\n      FILE_BUCKETS = { \"name1\": 10, \"name2\": 15, \"foobar\": 3 }\n\nThis configuration for buckets would result in 3 files being created for\nbridge distribution: name1-2010-07-17.brdgs, name2-2010-07-17.brdgs and\nfoobar-2010-07-17.brdgs. The first file would contain 10 bridges from\nBridgeDB's 'unallocated' pool. The second file would contain 15 bridges\nfrom the same pool and the third one similarly 3 bridges. These files\ncan then be handed out to trusted parties via mail or fed to other\ndistribution mechanisms such as Twitter.\n\nTo dump all buckets to their files, send BridgeDB a ``SIGUSR1`` signal\nby doing::\n\n      kill -s SIGUSR1 `cat .../run/bridgedb.pid`\n\n\n=========================\nUsing a BridgeDB Instance\n=========================\n\nObviously, you'll have to feed it bridge descriptor files from a\nBridgeAuthority. There's currently only one BridgeAuthority in the entire\nworld, but Tor Project is, of course, very interested in adding support for\nmultiple BridgeAuthorities so that we can scale our own network, and make it\neasier for individual and organisations who wish to run a lot of Tor bridge\nrelays have an easier time distributing those bridges themselves (if they wish\nto do so). If you'd like to fund our work on this, please contact\ntor-dev@lists.torproject.org!\n\n----------------------------------\nAccessing the HTTPS User Interface\n----------------------------------\n\nJust connect to the appropriate port. (See the ``HTTPS_PORT`` and\n``HTTP_UNENCRYPTED_PORT`` options in the ``bridgedb.conf`` file.)\n\nThe HTTPS interface for our BridgeDB instance can be found `here\n<https://bridges.torproject.org>`__.\n\n\n----------------------------------\nAccessing the Email User Interface\n----------------------------------\n\nAny mail sent to the ``EMAIL_PORT`` with a destination username as defined by\nthe ``EMAIL_USERNAME`` configuration option (the default is ``'bridge'``,\ne.g. bridges@...) and sent from an ``@riseup.net``, ``@gmail.com``, or\n``@yahoo.com`` address (by default, but configurable with the\n``EMAIL_DOMAINS`` option).\n\nYou can email our BridgeDB instance `here <mailto:bridges@torproject.org>`__.\n\n=================\nContact & Support\n=================\n\nSend your questions, patches, and suggestions to\n`the tor-dev mailing list <mailto:tor-dev@lists.torproject.org>`__\nor `isis <mailto:isis@torproject.org>`__.\n", "description_content_type": null, "docs_url": "https://pythonhosted.org/bridgedb/", "download_url": "https://gitweb.torproject.org/bridgedb.git", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://www.torproject.org", "keywords": null, "license": "UNKNOWN", "maintainer": null, "maintainer_email": null, "name": "bridgedb", "package_url": "https://pypi.org/project/bridgedb/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/bridgedb/", "project_urls": {"Download": "https://gitweb.torproject.org/bridgedb.git", "Homepage": "https://www.torproject.org"}, "release_url": "https://pypi.org/project/bridgedb/0.3.6/", "requires_dist": null, "requires_python": null, "summary": "Backend systems for distribution of Tor bridge relays", "version": "0.3.6", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>BridgeDB is a collection of backend servers used to distribute <a href=\"https://www.torproject.org/docs/bridges\" rel=\"nofollow\">Tor Bridges</a>. Currently, it mainly consists of\na webserver with <a href=\"https://bridges.torproject.org\" rel=\"nofollow\">an HTTPS interface</a>,\n<a href=\"mailto:bridges%40torproject.org\">an email responder</a>, and an SQLite database.</p>\n<img alt=\"doc/sphinx/source/_static/bay-bridge.jpg\" class=\"align-center\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/003f14fd8658e9d7a090a6f6bb0ecb4e6447e658/646f632f737068696e782f736f757263652f5f7374617469632f6261792d6272696467652e6a7067\">\n<div id=\"contents\">\n<p>Contents</p>\n<ul>\n<li><a href=\"#what-are-tor-bridges\" id=\"id1\" rel=\"nofollow\">What are Tor Bridges?</a><ul>\n<li><a href=\"#what-s-a-pluggable-transport\" id=\"id2\" rel=\"nofollow\">What\u2019s a Pluggable Transport?</a></li>\n<li><a href=\"#so-how-do-i-use-this\" id=\"id3\" rel=\"nofollow\">So how do I use this?</a></li>\n</ul>\n</li>\n<li><a href=\"#maintainer-setup\" id=\"id4\" rel=\"nofollow\">Maintainer Setup</a><ul>\n<li><a href=\"#dependencies-and-installation\" id=\"id5\" rel=\"nofollow\">Dependencies and installation</a></li>\n<li><a href=\"#deploying-bridgedb\" id=\"id6\" rel=\"nofollow\">Deploying BridgeDB</a></li>\n</ul>\n</li>\n<li><a href=\"#enabling-additional-features\" id=\"id7\" rel=\"nofollow\">Enabling additional features</a><ul>\n<li><a href=\"#translations\" id=\"id8\" rel=\"nofollow\">Translations</a></li>\n<li><a href=\"#enabling-https\" id=\"id9\" rel=\"nofollow\">Enabling HTTPS</a></li>\n<li><a href=\"#enabling-captcha-support\" id=\"id10\" rel=\"nofollow\">Enabling CAPTCHA Support</a></li>\n<li><a href=\"#gnupg-email-signing\" id=\"id11\" rel=\"nofollow\">GnuPG email signing:</a></li>\n<li><a href=\"#preventing-already-blocked-bridges-from-being-distributed\" id=\"id12\" rel=\"nofollow\">Preventing already-blocked bridges from being distributed:</a></li>\n</ul>\n</li>\n<li><a href=\"#testing-bridgedb\" id=\"id13\" rel=\"nofollow\">Testing BridgeDB</a></li>\n<li><a href=\"#running-bridgedb\" id=\"id14\" rel=\"nofollow\">Running BridgeDB</a><ul>\n<li><a href=\"#reloading-bridges-from-their-descriptor-files\" id=\"id15\" rel=\"nofollow\">Reloading Bridges From Their Descriptor Files:</a></li>\n<li><a href=\"#to-extract-bucket-files-of-all-unallocated-bridges\" id=\"id16\" rel=\"nofollow\">To extract bucket files of all unallocated bridges:</a></li>\n</ul>\n</li>\n<li><a href=\"#using-a-bridgedb-instance\" id=\"id17\" rel=\"nofollow\">Using a BridgeDB Instance</a><ul>\n<li><a href=\"#accessing-the-https-user-interface\" id=\"id18\" rel=\"nofollow\">Accessing the HTTPS User Interface</a></li>\n<li><a href=\"#accessing-the-email-user-interface\" id=\"id19\" rel=\"nofollow\">Accessing the Email User Interface</a></li>\n</ul>\n</li>\n<li><a href=\"#contact-support\" id=\"id20\" rel=\"nofollow\">Contact &amp; Support</a></li>\n</ul>\n</div>\n<div id=\"what-are-tor-bridges\">\n<h2><a href=\"#id1\" rel=\"nofollow\">What are Tor Bridges?</a></h2>\n<p><a href=\"https://www.torproject.org/docs/bridges\" rel=\"nofollow\">Tor Bridges</a> are special\nTor relays which are not listed in the public relay directory. They are\nused to help circumvent <a href=\"https://ooni.torproject.org\" rel=\"nofollow\">censorship</a> by\nproviding users with connections to the public relays in the Tor\nnetwork.</p>\n<p>Tor Bridges are different from normal relays in another important way:\nthey can run what are called <em>Pluggable</em> <em>Transports</em>.</p>\n<div id=\"what-s-a-pluggable-transport\">\n<h3><a href=\"#id2\" rel=\"nofollow\">What\u2019s a Pluggable Transport?</a></h3>\n<p>A <a href=\"https://www.torproject.org/docs/pluggable-transports.html.en\" rel=\"nofollow\">Pluggable\nTransport</a>\nis a program which is <em>pluggable</em> \u2014 meaning that it is meant to work\nwith lots of other anonymity and censorship circumvention software, not\njust Tor \u2014 and is a <em>transport</em> \u2014 meaning that it transports your\ninternet traffic, usually in a way which makes it look different. For\nexample,\n<a href=\"https://www.torproject.org/projects/obfsproxy.html.en\" rel=\"nofollow\">Obfsproxy</a> is\na Pluggable Transport which disguises your traffic by adding an\nobfuscating layer of encryption.</p>\n</div>\n<div id=\"so-how-do-i-use-this\">\n<h3><a href=\"#id3\" rel=\"nofollow\">So how do I use this?</a></h3>\n<p>Well, probably, you don\u2019t. But if you\u2019re looking for bridges, you can\nuse <a href=\"https://bridges.torproject.org\" rel=\"nofollow\">the web interface</a> of the\nBridgeDB instance deployed by the Tor Project, which has instructions on\ngetting the Pluggable Transports-capable Tor Browser Bundle, as well as\ninstructions for getting extra Bridges.</p>\n</div>\n</div>\n<div id=\"maintainer-setup\">\n<h2><a href=\"#id4\" rel=\"nofollow\">Maintainer Setup</a></h2>\n<p>If you\u2019d like to hack on BridgeDB, you might wish to read BridgeDB\u2019s\n<a href=\"https://pythonhosted.org/bridgedb/\" rel=\"nofollow\">developer documentation</a>.  The rest of\nthis document mainly concerns mainenance and installation instructions.</p>\n<div id=\"dependencies-and-installation\">\n<h3><a href=\"#id5\" rel=\"nofollow\">Dependencies and installation</a></h3>\n<p>BridgeDB requires the following OS-level dependencies:</p>\n<ul>\n<li>python&gt;=2.7</li>\n<li>python-dev</li>\n<li>build-essential</li>\n<li>gnupg (preferrably, gnupg2)</li>\n<li>OpenSSL&gt;=1.0.1g</li>\n<li><a href=\"http://www.maxmind.com/app/python\" rel=\"nofollow\">SQLite3</a></li>\n<li><a href=\"https://www.maxmind.com/en/geolocation_landing\" rel=\"nofollow\">MaxMind GeoIP</a></li>\n<li>libgeoip-dev</li>\n<li>geoip-database</li>\n<li><a href=\"https://pypi.python.org/pypi/setuptools\" rel=\"nofollow\">python-setuptools</a></li>\n<li>libjpeg-dev</li>\n</ul>\n<p>As well as any Python dependencies in the <tt>requirements.txt</tt> file.</p>\n</div>\n<div id=\"deploying-bridgedb\">\n<h3><a href=\"#id6\" rel=\"nofollow\">Deploying BridgeDB</a></h3>\n<p>BridgeDB should work with or without a Python virtualenv.</p>\n<ul>\n<li><p>Install Python 2.7, and other OS-level dependencies. On Debian, you\ncan do:</p>\n<pre>sudo apt-get install build-essential openssl python python-dev \\\n  python-setuptools sqlite3 gnupg2 libgeoip-dev geoip-database\n</pre>\n</li>\n<li><p>Install Pip 1.3.1 or later. Debian has this version, but if for some\nreason that or a newer version isn\u2019t available, the easiest way to\ninstall a newer Pip is to use the Pip development teams\u2019s <a href=\"https://raw.github.com/pypa/pip/master/contrib/get-pip.py\" rel=\"nofollow\">getpip\nscript</a>:</p>\n<pre>wget https://raw.github.com/pypa/pip/master/contrib/get-pip.py\nsudo python get-pip.py\n</pre>\n</li>\n<li><p><strong>(virtualenv installs only)</strong> Use Pip to install virtualenv and\n<a href=\"https://virtualenvwrapper.readthedocs.org\" rel=\"nofollow\">virtualenvwrapper</a>:</p>\n<pre>sudo pip install --upgrade virtualenv virtualenvwrapper\n</pre>\n</li>\n<li><p><strong>(virtualenv installs only)</strong> Configure virtualenvwrapper and create a\nvirtualenv for BridgeDB:</p>\n<pre>WORKON_HOME=${HOME}/.virtualenvs\nexport WORKON_HOME\nmkdir -p $WORKON_HOME\nsource $(which virtualenvwrapper.sh)\ngit clone https://git.torproject.org/bridgedb.git &amp;&amp; cd bridgedb\nmkvirtualenv -a $PWD -r requirements.txt --unzip-setuptools --setuptools bridgedb\n</pre>\n<p>From now on, to use BridgeDB\u2019s virtualenv, just do <tt>$ workon bridgedb</tt>\n(after sourcing virtualenvwrapper.sh, as before). To exit the virtualenv\nwithout exiting the shell, do <tt>$ deactivate</tt>.</p>\n</li>\n<li><p><strong>(virtualenv installs only)</strong> To install, set PYTHONPATH to include the\nroot directory of the virtualenv:</p>\n<pre>export PYTHONPATH=$PYTHONPATH:${VIRTUAL_ENV}/lib/python2.7/site-packages\n</pre>\n</li>\n<li><p>Then, proceed as usual:</p>\n<pre>python setup.py install --record installed-files.txt\n</pre>\n</li>\n</ul>\n</div>\n</div>\n<div id=\"enabling-additional-features\">\n<h2><a href=\"#id7\" rel=\"nofollow\">Enabling additional features</a></h2>\n<div id=\"translations\">\n<h3><a href=\"#id8\" rel=\"nofollow\">Translations</a></h3>\n<p><strong>Using New Translations</strong>:</p>\n<p>This should be done when newly completed translations are available in\nTransifex.</p>\n<p>Piece of cake. Running <tt><span class=\"pre\">maint/get-completed-translations</span></tt> will take\ncare of cloning <em>only</em> the <tt>bridgedb_completed</tt> branch of Tor\u2019s\n<a href=\"https://gitweb.torproject.org/translation.git\" rel=\"nofollow\">translations repo</a>\nand placing all the updated files in their correct locations.</p>\n<hr class=\"docutils\">\n<p><strong>Requesting Translations for Altered/Added Source Code</strong>:</p>\n<p>This should be done whenever any of the strings requiring translation \u2013\n<tt><span class=\"pre\">_(\"the</span> ones inside the weird underscore function, like this\")</tt> \u2013 are\nchanged, or new ones are added. See <tt>lib/bridgedb/strings.py</tt>.</p>\n<p>Translations for Tor Project repos are kept <a href=\"https://gitweb.torproject.org/translation.git\" rel=\"nofollow\">in a separate\nrepo</a>. You\u2019ll need to\nextract the strings from BridgeDB\u2019s source code into .pot templates, and\nplace these .po files into the <tt>translation</tt> repo in the <tt>bridgedb</tt>\nbranch. After than the .po files should be put into Transifex (don\u2019t ask\nme how this works\u2026) and translated. After the translations are complete,\nthe finished .po files should be placed into the <tt>bridgedb_completed</tt>\nbranch.</p>\n<ul>\n<li><p>To extract all strings from BridgeDB\u2019s source:</p>\n<pre>python setup.py extract_messages\n</pre>\n<p>A .pot file will be created in ./i18n/templates/bridgedb.pot</p>\n</li>\n<li><p>Initialise catalogs for each desired language:</p>\n<pre>python setup.py init_catalog -l LANG\n</pre>\n<p>where <tt>LANG</tt> is the 2 or 4 letter country-code, eg. \u2018es\u2019. If you\u2019ve\nalready initialised a particular language, do instead:</p>\n<pre>python setup.py update_catalog\n</pre>\n</li>\n</ul>\n</div>\n<hr class=\"docutils\">\n<div id=\"enabling-https\">\n<h3><a href=\"#id9\" rel=\"nofollow\">Enabling HTTPS</a></h3>\n<p>Create a self-signed certificate with:</p>\n<pre>scripts/make-ssl-cert\n</pre>\n<p>Or, place an existing certificate in the path specified in bridgedb.conf\nby the <tt>HTTPS_CERT_FILE</tt> option, and a private key where\n<tt>HTTPS_KEY_FILE</tt> points to. The defaults are \u2018cert\u2019 and \u2018privkey.pem\u2019,\nrespectively.</p>\n</div>\n<div id=\"enabling-captcha-support\">\n<h3><a href=\"#id10\" rel=\"nofollow\">Enabling CAPTCHA Support</a></h3>\n<p>BridgeDB has two ways to use CAPTCHAs on webpages. The first uses <a href=\"https://www.google.com/recaptcha\" rel=\"nofollow\">reCaptcha</a>,\nan external Google service (this requires an account with them), which\nBridgeDB fetches the CAPTCHAs images from for each incoming request from a\nclient. The second method uses a local cache of pre-made CAPTCHAs, created by\nscripting Gimp using <a href=\"https://github.com/isislovecruft/gimp-captcha\" rel=\"nofollow\">gimp-captcha</a>. The latter cannot easily be run on\nheadless server, unfortunately, because Gimp requires an X server to be\ninstalled.</p>\n<p><strong>reCaptcha</strong></p>\n<p>To enable fetching CAPTCHAs from the reCaptcha API server, set these\noptions in bridgedb.conf:</p>\n<pre>RECAPTCHA_ENABLED\nRECAPTCHA_PUB_KEY\nRECAPTCHA_SEC_KEY\n</pre>\n<hr class=\"docutils\">\n<p><strong>gimp-captcha</strong></p>\n<p>To enable using a local cache of CAPTCHAs, set the following options:</p>\n<pre>GIMP_CAPTCHA_ENABLED\nGIMP_CAPTCHA_DIR\nGIMP_CAPTCHA_HMAC_KEYFILE\nGIMP_CAPTCHA_RSA_KEYFILE\n</pre>\n</div>\n<hr class=\"docutils\">\n<div id=\"gnupg-email-signing\">\n<h3><a href=\"#id11\" rel=\"nofollow\">GnuPG email signing:</a></h3>\n<p>In your <tt>bridgedb.conf</tt> file, make sure that:</p>\n<pre>EMAIL_GPG_SIGNING_ENABLED = True\n</pre>\n<p>and edit the following option to add the full fingerprint of the GnuPG key\nthat should be used to by BridgeDB to sign outgoing emails:</p>\n<pre>EMAIL_GPG_PRIMARY_KEY_FINGERPRINT\n</pre>\n<p>The key specified by <tt>EMAIL_GPG_PRIMARY_KEY_FINGERPRINT</tt> can be a master\nkey, or a subkey (with or without the private portions of its corresponding\nmaster key), but it <strong>must</strong> be inside the <tt>secring.gpg</tt> and <tt>pubring.gpg</tt>\nkeyrings inside the directory specified in the <tt>bridgedb.conf</tt> option:</p>\n<pre>EMAIL_GPG_HOMEDIR\n</pre>\n<p>If the key has requires a passphrase for signing, you\u2019ll also need to set\neither of:</p>\n<pre>EMAIL_GPG_PASSPHRASE\nEMAIL_GPG_PASSPHRASE_FILE\n</pre>\n</div>\n<div id=\"preventing-already-blocked-bridges-from-being-distributed\">\n<h3><a href=\"#id12\" rel=\"nofollow\">Preventing already-blocked bridges from being distributed:</a></h3>\n<p>Uncomment or add <tt>COUNTRY_BLOCK_FILE</tt> to your bridgedb.conf. This file\nshould contain one bridge entry per line, in the format:</p>\n<pre>fingerprint &lt;bridge fingerprint&gt; country-code &lt;country code&gt;\n</pre>\n<p>If the <tt>COUNTRY_BLOCK_FILE</tt> file is present, bridgedb will filter\nblocked bridges from the responses it gives to clients requesting\nbridges.</p>\n</div>\n</div>\n<div id=\"testing-bridgedb\">\n<h2><a href=\"#id13\" rel=\"nofollow\">Testing BridgeDB</a></h2>\n<p>Before running to any of BridgeDB\u2019s test suites, make sure you have the\nadditional dependencies in the Pip requirements file,\n<tt>.test.requirements.txt</tt> installed:</p>\n<pre>pip install -r .test.requirements.txt\n</pre>\n<p>To create a bunch of fake bridge descriptors to test BridgeDB, do:</p>\n<pre>bridgedb mock [-n NUMBER_OF_DESCRIPTORS]\n</pre>\n<p>Note that you will need to install\n<a href=\"https://pypi.python.org/pypi/leekspin\" rel=\"nofollow\">leekspin</a> in order to run the\n<tt>bridgedb mock</tt> command. See <tt>doc/HACKING.md</tt> for details.</p>\n<p>And finally, to run the test suites, do:</p>\n<pre>make coverage\n</pre>\n<p>If you just want to run the tests, and don\u2019t care about code coverage\nstatistics, see the <tt>bridgedb trial</tt> and <tt>bridgedb test</tt> commands.</p>\n</div>\n<div id=\"running-bridgedb\">\n<h2><a href=\"#id14\" rel=\"nofollow\">Running BridgeDB</a></h2>\n<p>To run BridgeDB, simply make any necessary changes to bridgedb.conf, and do:</p>\n<pre>bridgedb\n</pre>\n<p>And remember that all files/directories in <tt>bridgedb.conf</tt> are assumed\nrelative to the runtime directory. By default, BridgeDB uses the current\nworking directory; you can, however specify an a different runtime\ndirectory:</p>\n<pre>bridgedb -r /srv/bridges.torproject.org/run\n</pre>\n<p>Make sure that the files and directories referred to in bridgedb.conf\nexist. However, many of them, if not found, will be touched on disk so\nthat attempts to read/write from/to them will not raise excessive\nerrors.</p>\n<div id=\"reloading-bridges-from-their-descriptor-files\">\n<h3><a href=\"#id15\" rel=\"nofollow\">Reloading Bridges From Their Descriptor Files:</a></h3>\n<p>When you have new lists of bridges from the Bridge Authority, replace\nthe old files and do:</p>\n<pre>bridgedb --reload\n</pre>\n<p>Or just give it a SIGHUP:</p>\n<pre>kill -s SIGHUP `cat .../run/bridgedb.pid`\n</pre>\n</div>\n<div id=\"to-extract-bucket-files-of-all-unallocated-bridges\">\n<h3><a href=\"#id16\" rel=\"nofollow\">To extract bucket files of all unallocated bridges:</a></h3>\n<p>Edit the configuration file value <tt>FILE_BUCKETS</tt> according to your\nneeds. For example, the following is a possible configuration:</p>\n<pre>FILE_BUCKETS = { \"name1\": 10, \"name2\": 15, \"foobar\": 3 }\n</pre>\n<p>This configuration for buckets would result in 3 files being created for\nbridge distribution: name1-2010-07-17.brdgs, name2-2010-07-17.brdgs and\nfoobar-2010-07-17.brdgs. The first file would contain 10 bridges from\nBridgeDB\u2019s \u2018unallocated\u2019 pool. The second file would contain 15 bridges\nfrom the same pool and the third one similarly 3 bridges. These files\ncan then be handed out to trusted parties via mail or fed to other\ndistribution mechanisms such as Twitter.</p>\n<p>To dump all buckets to their files, send BridgeDB a <tt>SIGUSR1</tt> signal\nby doing:</p>\n<pre>kill -s SIGUSR1 `cat .../run/bridgedb.pid`\n</pre>\n</div>\n</div>\n<div id=\"using-a-bridgedb-instance\">\n<h2><a href=\"#id17\" rel=\"nofollow\">Using a BridgeDB Instance</a></h2>\n<p>Obviously, you\u2019ll have to feed it bridge descriptor files from a\nBridgeAuthority. There\u2019s currently only one BridgeAuthority in the entire\nworld, but Tor Project is, of course, very interested in adding support for\nmultiple BridgeAuthorities so that we can scale our own network, and make it\neasier for individual and organisations who wish to run a lot of Tor bridge\nrelays have an easier time distributing those bridges themselves (if they wish\nto do so). If you\u2019d like to fund our work on this, please contact\n<a href=\"mailto:tor-dev%40lists.torproject.org\">tor-dev<span>@</span>lists<span>.</span>torproject<span>.</span>org</a>!</p>\n<div id=\"accessing-the-https-user-interface\">\n<h3><a href=\"#id18\" rel=\"nofollow\">Accessing the HTTPS User Interface</a></h3>\n<p>Just connect to the appropriate port. (See the <tt>HTTPS_PORT</tt> and\n<tt>HTTP_UNENCRYPTED_PORT</tt> options in the <tt>bridgedb.conf</tt> file.)</p>\n<p>The HTTPS interface for our BridgeDB instance can be found <a href=\"https://bridges.torproject.org\" rel=\"nofollow\">here</a>.</p>\n</div>\n<div id=\"accessing-the-email-user-interface\">\n<h3><a href=\"#id19\" rel=\"nofollow\">Accessing the Email User Interface</a></h3>\n<p>Any mail sent to the <tt>EMAIL_PORT</tt> with a destination username as defined by\nthe <tt>EMAIL_USERNAME</tt> configuration option (the default is <tt>'bridge'</tt>,\ne.g. bridges@\u2026) and sent from an <tt>@riseup.net</tt>, <tt>@gmail.com</tt>, or\n<tt>@yahoo.com</tt> address (by default, but configurable with the\n<tt>EMAIL_DOMAINS</tt> option).</p>\n<p>You can email our BridgeDB instance <a href=\"mailto:bridges%40torproject.org\">here</a>.</p>\n</div>\n</div>\n<div id=\"contact-support\">\n<h2><a href=\"#id20\" rel=\"nofollow\">Contact &amp; Support</a></h2>\n<p>Send your questions, patches, and suggestions to\n<a href=\"mailto:tor-dev%40lists.torproject.org\">the tor-dev mailing list</a>\nor <a href=\"mailto:isis%40torproject.org\">isis</a>.</p>\n</div>\n\n          </div>"}, "last_serial": 2252199, "releases": {"0.3.0": [], "0.3.1": [{"comment_text": "", "digests": {"md5": "152d057b02c5d37d3a6935e94b95ba0f", "sha256": "b684486ac9971f07bd7c58496c2b58e7f5223e3bf23f25f36898ce14293d6872"}, "downloads": -1, "filename": "bridgedb-0.3.1.tar.gz", "has_sig": true, "md5_digest": "152d057b02c5d37d3a6935e94b95ba0f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 753098, "upload_time": "2015-03-25T19:01:49", "upload_time_iso_8601": "2015-03-25T19:01:49.951760Z", "url": "https://files.pythonhosted.org/packages/f6/81/ce384da7eb7925749ec35726ae81b27cef67a74ad3924a23fbec79d8f38a/bridgedb-0.3.1.tar.gz", "yanked": false}], "0.3.6": [{"comment_text": "", "digests": {"md5": "ac56a7250ffdd938e00550b9551ab42f", "sha256": "21ce5319379d5427f9f4946282a72107417e9c2b6285f189b79d7faaab94eba0"}, "downloads": -1, "filename": "bridgedb-0.3.6-py2.7.egg", "has_sig": true, "md5_digest": "ac56a7250ffdd938e00550b9551ab42f", "packagetype": "bdist_egg", "python_version": "2.7", "requires_python": null, "size": 1043091, "upload_time": "2016-07-29T22:59:56", "upload_time_iso_8601": "2016-07-29T22:59:56.234037Z", "url": "https://files.pythonhosted.org/packages/27/91/7a61ec80a20c306eb9280301efb550634b3c1b4a12a2505f1567188240ec/bridgedb-0.3.6-py2.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "f08489421cf559b3750a19ce19c2b4e6", "sha256": "22842c56c72616d3d6886958414ab21ebd7bf195802d8da82882d1623e3bc85c"}, "downloads": -1, "filename": "bridgedb-0.3.6.tar.gz", "has_sig": true, "md5_digest": "f08489421cf559b3750a19ce19c2b4e6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 277472, "upload_time": "2016-07-29T23:00:06", "upload_time_iso_8601": "2016-07-29T23:00:06.777280Z", "url": "https://files.pythonhosted.org/packages/f8/23/e7c0f7a5a8bf2cda8634bf807207effea896a6f2e370769a47f2829b4209/bridgedb-0.3.6.tar.gz", "yanked": false}, {"comment_text": "", "digests": {"md5": "488e2dccbdb85d8081180e9b7204babd", "sha256": "0797796d3a1f2428abbbf2dbda94b677426aa698adcc317619c90c075b4277fa"}, "downloads": -1, "filename": "bridgedb-0.3.6.zip", "has_sig": true, "md5_digest": "488e2dccbdb85d8081180e9b7204babd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 328875, "upload_time": "2016-07-29T23:00:17", "upload_time_iso_8601": "2016-07-29T23:00:17.008322Z", "url": "https://files.pythonhosted.org/packages/c4/72/3a2213d9f5f796045fbbc69824f3375286c2ecc4bdab44f836825231e8ff/bridgedb-0.3.6.zip", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ac56a7250ffdd938e00550b9551ab42f", "sha256": "21ce5319379d5427f9f4946282a72107417e9c2b6285f189b79d7faaab94eba0"}, "downloads": -1, "filename": "bridgedb-0.3.6-py2.7.egg", "has_sig": true, "md5_digest": "ac56a7250ffdd938e00550b9551ab42f", "packagetype": "bdist_egg", "python_version": "2.7", "requires_python": null, "size": 1043091, "upload_time": "2016-07-29T22:59:56", "upload_time_iso_8601": "2016-07-29T22:59:56.234037Z", "url": "https://files.pythonhosted.org/packages/27/91/7a61ec80a20c306eb9280301efb550634b3c1b4a12a2505f1567188240ec/bridgedb-0.3.6-py2.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "f08489421cf559b3750a19ce19c2b4e6", "sha256": "22842c56c72616d3d6886958414ab21ebd7bf195802d8da82882d1623e3bc85c"}, "downloads": -1, "filename": "bridgedb-0.3.6.tar.gz", "has_sig": true, "md5_digest": "f08489421cf559b3750a19ce19c2b4e6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 277472, "upload_time": "2016-07-29T23:00:06", "upload_time_iso_8601": "2016-07-29T23:00:06.777280Z", "url": "https://files.pythonhosted.org/packages/f8/23/e7c0f7a5a8bf2cda8634bf807207effea896a6f2e370769a47f2829b4209/bridgedb-0.3.6.tar.gz", "yanked": false}, {"comment_text": "", "digests": {"md5": "488e2dccbdb85d8081180e9b7204babd", "sha256": "0797796d3a1f2428abbbf2dbda94b677426aa698adcc317619c90c075b4277fa"}, "downloads": -1, "filename": "bridgedb-0.3.6.zip", "has_sig": true, "md5_digest": "488e2dccbdb85d8081180e9b7204babd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 328875, "upload_time": "2016-07-29T23:00:17", "upload_time_iso_8601": "2016-07-29T23:00:17.008322Z", "url": "https://files.pythonhosted.org/packages/c4/72/3a2213d9f5f796045fbbc69824f3375286c2ecc4bdab44f836825231e8ff/bridgedb-0.3.6.zip", "yanked": false}], "timestamp": "Thu May  7 22:36:18 2020"}
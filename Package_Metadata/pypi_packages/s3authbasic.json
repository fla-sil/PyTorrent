{"info": {"author": "Antonio Perez-Aranda Alcaide", "author_email": "ant30tx@gmail.com", "bugtrack_url": null, "classifiers": ["Framework :: Pyramid", "Programming Language :: Python", "Topic :: Internet :: WWW/HTTP", "Topic :: Internet :: WWW/HTTP :: WSGI :: Application"], "description": ".. image:: https://travis-ci.org/ant30/s3authbasic.svg?branch=master\n  :target: https://travis-ci.org/ant30/s3authbasic\n\n.. image:: https://coveralls.io/repos/ant30/s3authbasic/badge.png?branch=master\n  :target: https://coveralls.io/r/ant30/s3authbasic?branch=master\n\n.. contents::\n\n===========\ns3authbasic\n===========\n\n\ns3authbasic is a Pyramid application aimed to serve a static websites stored\nin Amazon S3 protected by Auth Basic authentication. You need a IAM user with\nits credentials and read access on the bucket which contains the static\nfiles.\n\nAmazon Settings\n===============\n\nI assumed that you have a protected bucket. To create the IAM user with the\ncorrect permissions you need go to the IAM_ app in the AWS Console\n\n.. _IAM: https://console.aws.amazon.com/s3/home\n\nClick **Users** section and click in the **Creare New User** blue button.\n\nEnter the username you want. It can't contains whitespaces. And click on\n**create**\n\nClick on **Download Credential** or write down the credentials info.\n\nNow, we need to add the policy to give read access permissions to the user.\n\nClick in the created user and go to the **permissions** tab below.\n\nClick on the **Attach User Policy**.\n\nClick on **Custom Policy** and in the **Select** button.\n\nGive a policy name, like **s3-reader-policy**.\n\nCopy the follow block in the **Policy Document** box. Please,\nreplace **protected-html** with your bucket name.\n\n.. code-block:: javascript\n\n   {\n       \"Statement\": [\n        {\n          \"Effect\": \"Allow\",\n          \"Action\": [\n            \"s3:Get*\",\n            \"s3:ListBucket\"\n          ],\n          \"Resource\": [\n            \"arn:aws:s3:::protected-html\",\n            \"arn:aws:s3:::protected-html/*\"\n          ]\n        }\n      ]\n   }\n\n\nApplication deployment\n======================\n\nI suggest you to use a virtualenv but I don't use that in this doc.\n\n.. code-block:: bash\n\n   pip install s3authbasic\n\n\nYou need a Pyramid ini settings file. You can find one example_ in the\ngithub reposity in the config-templates directory.\n\n.. _example: https://github.com/ant30/s3authbasic/blob/master/s3authbasic/config-templates/development.ini\n\n\nConfiguration\n=============\n\nYou can config the app by editing the settings file or by using envionment\nvariables.\n\nIf you want to use the file, then the AWS and the user settings are\ndocumented in the file.\n\nThe AWS environment variables are like this:\n\n.. code-block:: bash\n\n   export AWS_BUCKET_NAME='bucketname'\n   export AWS_SECRET_ACCESS_KEY='12312sdf32'\n   export AES_ACCESS_KEY_ID='123123123aaa'\n\nTo define users to access the app, the variable should starts with **USER_**.\nThe user name is the word after the underscore character and shoud be defined\nin the correct capitalization. This is, if you want a user called **admin**,\nyou should create the environment variable USER_admin.\n\nYou can setup many users as you need.\n\nThe password should be hashed by sha256.\n\nYou can get the hash of your password by this command in linux:\n\n.. code-block:: bash\n\n   echo -n thepassword | sha256sum\n\nThe environment variable should look like this:\n\n.. code-block:: bash\n\n   export USER_admin='123123123123123123123'\n\n**NOTE:** In 0.1.3 version we added encoding utf-8 option to password, so if\nyou want to use non ascii characters, the hash can vary. You can use something\nlike this in a terminal. You need the hashlib package from pypi.\n\n.. code-block:: bash\n\n   from hashlib import sha256\n   sha256('your password!!'.encode('utf-8')).hexdigest()\n\n\n\nStart the application\n=====================\n\nYou should use the follow command if you have customized the ini file:\n\n.. code-block:: bash\n\n   pserve development.ini\n\n\nOtherwise, you can use this command:\n\n.. code-block:: bash\n\n   run-s3authbasic\n\nIf you are using the default ini file, the application should be\navailable in the 6543 port. If you have deployed the app in your\nown system, you can access it through http://127.0.0.1:6543/\n\n\n0.1.3\n-----\n\n- Fix UTF8 passwords problems\n\n0.1.2\n-----\n\n- Fix path with whitespaces\n- Fix settings relative location and the default package location detection\n\n0.1.1\n-----\n\n- Fix WebTest error\n- Add files needed by heroku\n\n0.1\n---\n\n- The first published version\n\n0.0\n---\n\n-  Initial version", "description_content_type": null, "docs_url": null, "download_url": "https://github.com/ant30/s3authbasic/tarball/0.1.3", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://www.ant30.es/", "keywords": "web pyramid pylons s3", "license": "UNKNOWN", "maintainer": null, "maintainer_email": null, "name": "s3authbasic", "package_url": "https://pypi.org/project/s3authbasic/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/s3authbasic/", "project_urls": {"Download": "https://github.com/ant30/s3authbasic/tarball/0.1.3", "Homepage": "http://www.ant30.es/"}, "release_url": "https://pypi.org/project/s3authbasic/0.1.3/", "requires_dist": null, "requires_python": null, "summary": "s3authbasic", "version": "0.1.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://travis-ci.org/ant30/s3authbasic\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/ant30/s3authbasic.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1959c3a35c1670b6c1cc7c27f8aa8eabc956c2f1/68747470733a2f2f7472617669732d63692e6f72672f616e7433302f73336175746862617369632e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://coveralls.io/r/ant30/s3authbasic?branch=master\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/ant30/s3authbasic/badge.png?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/698f86b09cc61d3c7ad2670f9cda825e28499f1c/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f616e7433302f73336175746862617369632f62616467652e706e673f6272616e63683d6d6173746572\"></a>\n<div id=\"contents\">\n<p>Contents</p>\n<ul>\n<li><a href=\"#s3authbasic\" id=\"id6\" rel=\"nofollow\">s3authbasic</a><ul>\n<li><a href=\"#amazon-settings\" id=\"id7\" rel=\"nofollow\">Amazon Settings</a></li>\n<li><a href=\"#application-deployment\" id=\"id8\" rel=\"nofollow\">Application deployment</a></li>\n<li><a href=\"#configuration\" id=\"id9\" rel=\"nofollow\">Configuration</a></li>\n<li><a href=\"#start-the-application\" id=\"id10\" rel=\"nofollow\">Start the application</a><ul>\n<li><a href=\"#id1\" id=\"id11\" rel=\"nofollow\">0.1.3</a></li>\n<li><a href=\"#id2\" id=\"id12\" rel=\"nofollow\">0.1.2</a></li>\n<li><a href=\"#id3\" id=\"id13\" rel=\"nofollow\">0.1.1</a></li>\n<li><a href=\"#id4\" id=\"id14\" rel=\"nofollow\">0.1</a></li>\n<li><a href=\"#id5\" id=\"id15\" rel=\"nofollow\">0.0</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>\n<div id=\"s3authbasic\">\n<h2><a href=\"#id6\" rel=\"nofollow\">s3authbasic</a></h2>\n<p>s3authbasic is a Pyramid application aimed to serve a static websites stored\nin Amazon S3 protected by Auth Basic authentication. You need a IAM user with\nits credentials and read access on the bucket which contains the static\nfiles.</p>\n<div id=\"amazon-settings\">\n<h3><a href=\"#id7\" rel=\"nofollow\">Amazon Settings</a></h3>\n<p>I assumed that you have a protected bucket. To create the IAM user with the\ncorrect permissions you need go to the <a href=\"https://console.aws.amazon.com/s3/home\" rel=\"nofollow\">IAM</a> app in the AWS Console</p>\n<p>Click <strong>Users</strong> section and click in the <strong>Creare New User</strong> blue button.</p>\n<p>Enter the username you want. It can\u2019t contains whitespaces. And click on\n<strong>create</strong></p>\n<p>Click on <strong>Download Credential</strong> or write down the credentials info.</p>\n<p>Now, we need to add the policy to give read access permissions to the user.</p>\n<p>Click in the created user and go to the <strong>permissions</strong> tab below.</p>\n<p>Click on the <strong>Attach User Policy</strong>.</p>\n<p>Click on <strong>Custom Policy</strong> and in the <strong>Select</strong> button.</p>\n<p>Give a policy name, like <strong>s3-reader-policy</strong>.</p>\n<p>Copy the follow block in the <strong>Policy Document</strong> box. Please,\nreplace <strong>protected-html</strong> with your bucket name.</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"s2\">\"Statement\"</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n     <span class=\"p\">{</span>\n       <span class=\"s2\">\"Effect\"</span><span class=\"o\">:</span> <span class=\"s2\">\"Allow\"</span><span class=\"p\">,</span>\n       <span class=\"s2\">\"Action\"</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n         <span class=\"s2\">\"s3:Get*\"</span><span class=\"p\">,</span>\n         <span class=\"s2\">\"s3:ListBucket\"</span>\n       <span class=\"p\">],</span>\n       <span class=\"s2\">\"Resource\"</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n         <span class=\"s2\">\"arn:aws:s3:::protected-html\"</span><span class=\"p\">,</span>\n         <span class=\"s2\">\"arn:aws:s3:::protected-html/*\"</span>\n       <span class=\"p\">]</span>\n     <span class=\"p\">}</span>\n   <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n<div id=\"application-deployment\">\n<h3><a href=\"#id8\" rel=\"nofollow\">Application deployment</a></h3>\n<p>I suggest you to use a virtualenv but I don\u2019t use that in this doc.</p>\n<pre>pip install s3authbasic\n</pre>\n<p>You need a Pyramid ini settings file. You can find one <a href=\"https://github.com/ant30/s3authbasic/blob/master/s3authbasic/config-templates/development.ini\" rel=\"nofollow\">example</a> in the\ngithub reposity in the config-templates directory.</p>\n</div>\n<div id=\"configuration\">\n<h3><a href=\"#id9\" rel=\"nofollow\">Configuration</a></h3>\n<p>You can config the app by editing the settings file or by using envionment\nvariables.</p>\n<p>If you want to use the file, then the AWS and the user settings are\ndocumented in the file.</p>\n<p>The AWS environment variables are like this:</p>\n<pre><span class=\"nb\">export</span> <span class=\"nv\">AWS_BUCKET_NAME</span><span class=\"o\">=</span><span class=\"s1\">'bucketname'</span>\n<span class=\"nb\">export</span> <span class=\"nv\">AWS_SECRET_ACCESS_KEY</span><span class=\"o\">=</span><span class=\"s1\">'12312sdf32'</span>\n<span class=\"nb\">export</span> <span class=\"nv\">AES_ACCESS_KEY_ID</span><span class=\"o\">=</span><span class=\"s1\">'123123123aaa'</span>\n</pre>\n<p>To define users to access the app, the variable should starts with <strong>USER_</strong>.\nThe user name is the word after the underscore character and shoud be defined\nin the correct capitalization. This is, if you want a user called <strong>admin</strong>,\nyou should create the environment variable USER_admin.</p>\n<p>You can setup many users as you need.</p>\n<p>The password should be hashed by sha256.</p>\n<p>You can get the hash of your password by this command in linux:</p>\n<pre><span class=\"nb\">echo</span> -n thepassword <span class=\"p\">|</span> sha256sum\n</pre>\n<p>The environment variable should look like this:</p>\n<pre><span class=\"nb\">export</span> <span class=\"nv\">USER_admin</span><span class=\"o\">=</span><span class=\"s1\">'123123123123123123123'</span>\n</pre>\n<p><strong>NOTE:</strong> In 0.1.3 version we added encoding utf-8 option to password, so if\nyou want to use non ascii characters, the hash can vary. You can use something\nlike this in a terminal. You need the hashlib package from pypi.</p>\n<pre>from hashlib import sha256\nsha256<span class=\"o\">(</span><span class=\"s1\">'your password!!'</span>.encode<span class=\"o\">(</span><span class=\"s1\">'utf-8'</span><span class=\"o\">))</span>.hexdigest<span class=\"o\">()</span>\n</pre>\n</div>\n<div id=\"start-the-application\">\n<h3><a href=\"#id10\" rel=\"nofollow\">Start the application</a></h3>\n<p>You should use the follow command if you have customized the ini file:</p>\n<pre>pserve development.ini\n</pre>\n<p>Otherwise, you can use this command:</p>\n<pre>run-s3authbasic\n</pre>\n<p>If you are using the default ini file, the application should be\navailable in the 6543 port. If you have deployed the app in your\nown system, you can access it through <a href=\"http://127.0.0.1:6543/\" rel=\"nofollow\">http://127.0.0.1:6543/</a></p>\n<div id=\"id1\">\n<h4><a href=\"#id11\" rel=\"nofollow\">0.1.3</a></h4>\n<ul>\n<li>Fix UTF8 passwords problems</li>\n</ul>\n</div>\n<div id=\"id2\">\n<h4><a href=\"#id12\" rel=\"nofollow\">0.1.2</a></h4>\n<ul>\n<li>Fix path with whitespaces</li>\n<li>Fix settings relative location and the default package location detection</li>\n</ul>\n</div>\n<div id=\"id3\">\n<h4><a href=\"#id13\" rel=\"nofollow\">0.1.1</a></h4>\n<ul>\n<li>Fix WebTest error</li>\n<li>Add files needed by heroku</li>\n</ul>\n</div>\n<div id=\"id4\">\n<h4><a href=\"#id14\" rel=\"nofollow\">0.1</a></h4>\n<ul>\n<li>The first published version</li>\n</ul>\n</div>\n<div id=\"id5\">\n<h4><a href=\"#id15\" rel=\"nofollow\">0.0</a></h4>\n<ul>\n<li>Initial version</li>\n</ul>\n</div>\n</div>\n</div>\n\n          </div>"}, "last_serial": 1391639, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "c0244af86323a0680fe3b839aad9736f", "sha256": "7402a71bcb4b4b52acd0975a2c10eabe5d749c7445e088283e3bf99688502b3a"}, "downloads": -1, "filename": "s3authbasic-0.1.1.tar.gz", "has_sig": false, "md5_digest": "c0244af86323a0680fe3b839aad9736f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7902, "upload_time": "2014-04-13T14:36:17", "upload_time_iso_8601": "2014-04-13T14:36:17.083913Z", "url": "https://files.pythonhosted.org/packages/45/2e/d008f1701fbdd312ef86e269b47e73d9245df29482a58accfc560d60e192/s3authbasic-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "7f6fcd12fe14017c14035cfa0c9dd2f3", "sha256": "cb6bfae1a523e5e1af0455669fd9b37b991d841c4821ae52d3671ac7397fe9e4"}, "downloads": -1, "filename": "s3authbasic-0.1.2.tar.gz", "has_sig": false, "md5_digest": "7f6fcd12fe14017c14035cfa0c9dd2f3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8649, "upload_time": "2014-04-14T22:00:23", "upload_time_iso_8601": "2014-04-14T22:00:23.092453Z", "url": "https://files.pythonhosted.org/packages/8d/56/8079cdedaa19cb1f4dee4ee0a3a117c75d9b695ade9e0086258836e0148d/s3authbasic-0.1.2.tar.gz", "yanked": false}], "0.1.3": []}, "urls": [], "timestamp": "Fri May  8 02:59:40 2020"}
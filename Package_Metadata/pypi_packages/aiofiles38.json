{"info": {"author": "Tin Tvrtkovic", "author_email": "tinchester@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: System :: Filesystems"], "description": "aiofiles: file support for asyncio\n==================================\n\n.. image:: https://img.shields.io/pypi/v/aiofiles.svg\n        :target: https://pypi.python.org/pypi/aiofiles\n\n.. image:: https://travis-ci.org/Tinche/aiofiles.svg?branch=master\n        :target: https://travis-ci.org/Tinche/aiofiles\n\n.. image:: https://codecov.io/gh/Tinche/aiofiles/branch/master/graph/badge.svg\n        :target: https://codecov.io/gh/Tinche/aiofiles\n\n.. image:: https://img.shields.io/pypi/pyversions/aiofiles.svg\n        :target: https://github.com/Tinche/aiofiles\n        :alt: Supported Python versions\n\n**aiofiles** is an Apache2 licensed library, written in Python, for handling local\ndisk files in asyncio applications.\n\nOrdinary local file IO is blocking, and cannot easily and portably made\nasynchronous. This means doing file IO may interfere with asyncio applications,\nwhich shouldn't block the executing thread. aiofiles helps with this by\nintroducing asynchronous versions of files that support delegating operations to\na separate thread pool.\n\n.. code-block:: python\n\n    async with aiofiles.open('filename', mode='r') as f:\n        contents = await f.read()\n    print(contents)\n    'My file contents'\n\nAsynchronous iteration is also supported.\n\n.. code-block:: python\n\n    async with aiofiles.open('filename') as f:\n        async for line in f:\n            ...\n\nFeatures\n--------\n\n- a file API very similar to Python's standard, blocking API\n- support for buffered and unbuffered binary files, and buffered text files\n- support for ``async``/``await`` (:PEP:`492`) constructs\n\n\nInstallation\n------------\n\nTo install aiofiles, simply:\n\n.. code-block:: bash\n\n    $ pip install aiofiles\n\nUsage\n-----\n\nFiles are opened using the ``aiofiles.open()`` coroutine, which in addition to\nmirroring the builtin ``open`` accepts optional ``loop`` and ``executor``\narguments. If ``loop`` is absent, the default loop will be used, as per the\nset asyncio policy. If ``executor`` is not specified, the default event loop\nexecutor will be used.\n\nIn case of success, an asynchronous file object is returned with an\nAPI identical to an ordinary file, except the following methods are coroutines\nand delegate to an executor:\n\n* ``close``\n* ``flush``\n* ``isatty``\n* ``read``\n* ``readall``\n* ``read1``\n* ``readinto``\n* ``readline``\n* ``readlines``\n* ``seek``\n* ``seekable``\n* ``tell``\n* ``truncate``\n* ``writable``\n* ``write``\n* ``writelines``\n\nIn case of failure, one of the usual exceptions will be raised.\n\nThe ``aiofiles.os`` module contains executor-enabled coroutine versions of\nseveral useful ``os`` functions that deal with files:\n\n* ``stat``\n* ``sendfile``\n* ``rename``\n* ``remove``\n* ``mkdir``\n* ``rmdir``\n\nWriting tests for aiofiles\n~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nReal file IO can be mocked by patching ``aiofiles.threadpool.sync_open``\nas desired. The return type also needs to be registered with the\n``aiofiles.threadpool.wrap`` dispatcher:\n\n.. code-block:: python\n\n    aiofiles.threadpool.wrap.register(mock.MagicMock)(\n        lambda *args, **kwargs: threadpool.AsyncBufferedIOBase(*args, **kwargs))\n\n    async def test_stuff():\n        data = 'data'\n        mock_file = mock.MagicMock()\n\n        with mock.patch('aiofiles.threadpool.sync_open', return_value=mock_file) as mock_open:\n            async with aiofiles.open('filename', 'w') as f:\n                await f.write(data)\n\n            mock_file.write.assert_called_once_with(data)\n\nHistory\n~~~~~~~\n\n0.4.0 (2018-08-11)\n``````````````````\n- Python 3.7 support.\n- Removed Python 3.3/3.4 support. If you use these versions, stick to aiofiles 0.3.x.\n\n0.3.2 (2017-09-23)\n``````````````````\n- The LICENSE is now included in the sdist.\n  `#31 <https://github.com/Tinche/aiofiles/pull/31>`_\n\n0.3.1 (2017-03-10)\n``````````````````\n\n- Introduced a changelog.\n- ``aiofiles.os.sendfile`` will now work if the standard ``os`` module contains a ``sendfile`` function.\n\nContributing\n~~~~~~~~~~~~\nContributions are very welcome. Tests can be run with ``tox``, please ensure\nthe coverage at least stays the same before you submit a pull request.", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/kasheemlew/aiofiles", "keywords": "", "license": "Apache 2.0", "maintainer": "", "maintainer_email": "", "name": "aiofiles38", "package_url": "https://pypi.org/project/aiofiles38/", "platform": "", "project_url": "https://pypi.org/project/aiofiles38/", "project_urls": {"Homepage": "https://github.com/kasheemlew/aiofiles"}, "release_url": "https://pypi.org/project/aiofiles38/0.5.0.dev0/", "requires_dist": null, "requires_python": "", "summary": "this will be removed after the origin aiofiles38 supports new versions of Python", "version": "0.5.0.dev0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://pypi.python.org/pypi/aiofiles\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/v/aiofiles.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fda524a4cfd31aa42fbb6823da2d07e846d1f6c2/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f61696f66696c65732e737667\"></a>\n<a href=\"https://travis-ci.org/Tinche/aiofiles\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/Tinche/aiofiles.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/60e78938632215d030920da33ed193b84466a3a7/68747470733a2f2f7472617669732d63692e6f72672f54696e6368652f61696f66696c65732e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/Tinche/aiofiles\" rel=\"nofollow\"><img alt=\"https://codecov.io/gh/Tinche/aiofiles/branch/master/graph/badge.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8c3005a54873b06c82584622300069e164408820/68747470733a2f2f636f6465636f762e696f2f67682f54696e6368652f61696f66696c65732f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"https://github.com/Tinche/aiofiles\" rel=\"nofollow\"><img alt=\"Supported Python versions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/24a90b86a8996231bc01884e4ba6c19c24006d43/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f61696f66696c65732e737667\"></a>\n<p><strong>aiofiles</strong> is an Apache2 licensed library, written in Python, for handling local\ndisk files in asyncio applications.</p>\n<p>Ordinary local file IO is blocking, and cannot easily and portably made\nasynchronous. This means doing file IO may interfere with asyncio applications,\nwhich shouldn\u2019t block the executing thread. aiofiles helps with this by\nintroducing asynchronous versions of files that support delegating operations to\na separate thread pool.</p>\n<pre><span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">aiofiles</span><span class=\"o\">.</span><span class=\"n\">open</span><span class=\"p\">(</span><span class=\"s1\">'filename'</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s1\">'r'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n    <span class=\"n\">contents</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">contents</span><span class=\"p\">)</span>\n<span class=\"s1\">'My file contents'</span>\n</pre>\n<p>Asynchronous iteration is also supported.</p>\n<pre><span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">aiofiles</span><span class=\"o\">.</span><span class=\"n\">open</span><span class=\"p\">(</span><span class=\"s1\">'filename'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n    <span class=\"k\">async</span> <span class=\"k\">for</span> <span class=\"n\">line</span> <span class=\"ow\">in</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n        <span class=\"o\">...</span>\n</pre>\n<div id=\"features\">\n<h2>Features</h2>\n<ul>\n<li>a file API very similar to Python\u2019s standard, blocking API</li>\n<li>support for buffered and unbuffered binary files, and buffered text files</li>\n<li>support for <tt>async</tt>/<tt>await</tt> (<a href=\"http://www.python.org/dev/peps/pep-0492\" rel=\"nofollow\">PEP 492</a>) constructs</li>\n</ul>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>To install aiofiles, simply:</p>\n<pre>$ pip install aiofiles\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>Files are opened using the <tt>aiofiles.open()</tt> coroutine, which in addition to\nmirroring the builtin <tt>open</tt> accepts optional <tt>loop</tt> and <tt>executor</tt>\narguments. If <tt>loop</tt> is absent, the default loop will be used, as per the\nset asyncio policy. If <tt>executor</tt> is not specified, the default event loop\nexecutor will be used.</p>\n<p>In case of success, an asynchronous file object is returned with an\nAPI identical to an ordinary file, except the following methods are coroutines\nand delegate to an executor:</p>\n<ul>\n<li><tt>close</tt></li>\n<li><tt>flush</tt></li>\n<li><tt>isatty</tt></li>\n<li><tt>read</tt></li>\n<li><tt>readall</tt></li>\n<li><tt>read1</tt></li>\n<li><tt>readinto</tt></li>\n<li><tt>readline</tt></li>\n<li><tt>readlines</tt></li>\n<li><tt>seek</tt></li>\n<li><tt>seekable</tt></li>\n<li><tt>tell</tt></li>\n<li><tt>truncate</tt></li>\n<li><tt>writable</tt></li>\n<li><tt>write</tt></li>\n<li><tt>writelines</tt></li>\n</ul>\n<p>In case of failure, one of the usual exceptions will be raised.</p>\n<p>The <tt>aiofiles.os</tt> module contains executor-enabled coroutine versions of\nseveral useful <tt>os</tt> functions that deal with files:</p>\n<ul>\n<li><tt>stat</tt></li>\n<li><tt>sendfile</tt></li>\n<li><tt>rename</tt></li>\n<li><tt>remove</tt></li>\n<li><tt>mkdir</tt></li>\n<li><tt>rmdir</tt></li>\n</ul>\n<div id=\"writing-tests-for-aiofiles\">\n<h3>Writing tests for aiofiles</h3>\n<p>Real file IO can be mocked by patching <tt>aiofiles.threadpool.sync_open</tt>\nas desired. The return type also needs to be registered with the\n<tt>aiofiles.threadpool.wrap</tt> dispatcher:</p>\n<pre><span class=\"n\">aiofiles</span><span class=\"o\">.</span><span class=\"n\">threadpool</span><span class=\"o\">.</span><span class=\"n\">wrap</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"n\">mock</span><span class=\"o\">.</span><span class=\"n\">MagicMock</span><span class=\"p\">)(</span>\n    <span class=\"k\">lambda</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">:</span> <span class=\"n\">threadpool</span><span class=\"o\">.</span><span class=\"n\">AsyncBufferedIOBase</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">))</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">test_stuff</span><span class=\"p\">():</span>\n    <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"s1\">'data'</span>\n    <span class=\"n\">mock_file</span> <span class=\"o\">=</span> <span class=\"n\">mock</span><span class=\"o\">.</span><span class=\"n\">MagicMock</span><span class=\"p\">()</span>\n\n    <span class=\"k\">with</span> <span class=\"n\">mock</span><span class=\"o\">.</span><span class=\"n\">patch</span><span class=\"p\">(</span><span class=\"s1\">'aiofiles.threadpool.sync_open'</span><span class=\"p\">,</span> <span class=\"n\">return_value</span><span class=\"o\">=</span><span class=\"n\">mock_file</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">mock_open</span><span class=\"p\">:</span>\n        <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">aiofiles</span><span class=\"o\">.</span><span class=\"n\">open</span><span class=\"p\">(</span><span class=\"s1\">'filename'</span><span class=\"p\">,</span> <span class=\"s1\">'w'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n            <span class=\"k\">await</span> <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n        <span class=\"n\">mock_file</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"o\">.</span><span class=\"n\">assert_called_once_with</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"history\">\n<h3>History</h3>\n<div id=\"id1\">\n<h4>0.4.0 (2018-08-11)</h4>\n<ul>\n<li>Python 3.7 support.</li>\n<li>Removed Python 3.3/3.4 support. If you use these versions, stick to aiofiles 0.3.x.</li>\n</ul>\n</div>\n<div id=\"id2\">\n<h4>0.3.2 (2017-09-23)</h4>\n<ul>\n<li>The LICENSE is now included in the sdist.\n<a href=\"https://github.com/Tinche/aiofiles/pull/31\" rel=\"nofollow\">#31</a></li>\n</ul>\n</div>\n<div id=\"id4\">\n<h4>0.3.1 (2017-03-10)</h4>\n<ul>\n<li>Introduced a changelog.</li>\n<li><tt>aiofiles.os.sendfile</tt> will now work if the standard <tt>os</tt> module contains a <tt>sendfile</tt> function.</li>\n</ul>\n</div>\n</div>\n<div id=\"contributing\">\n<h3>Contributing</h3>\n<p>Contributions are very welcome. Tests can be run with <tt>tox</tt>, please ensure\nthe coverage at least stays the same before you submit a pull request.</p>\n</div>\n</div>\n\n          </div>"}, "last_serial": 6285413, "releases": {"0.5.0.dev0": [{"comment_text": "", "digests": {"md5": "eb305b24ec8084676c13f16be9bb5029", "sha256": "f05fdfa125364521897cbbf43b0974b3936e2c27496c6a7b25aa15d7a1e4f1b5"}, "downloads": -1, "filename": "aiofiles38-0.5.0.dev0.tar.gz", "has_sig": false, "md5_digest": "eb305b24ec8084676c13f16be9bb5029", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9317, "upload_time": "2019-12-12T11:23:44", "upload_time_iso_8601": "2019-12-12T11:23:44.474302Z", "url": "https://files.pythonhosted.org/packages/5c/ea/10d6892392519edc817eca63361ea2787f155f003701a48e95c2bf5d29b8/aiofiles38-0.5.0.dev0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "eb305b24ec8084676c13f16be9bb5029", "sha256": "f05fdfa125364521897cbbf43b0974b3936e2c27496c6a7b25aa15d7a1e4f1b5"}, "downloads": -1, "filename": "aiofiles38-0.5.0.dev0.tar.gz", "has_sig": false, "md5_digest": "eb305b24ec8084676c13f16be9bb5029", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9317, "upload_time": "2019-12-12T11:23:44", "upload_time_iso_8601": "2019-12-12T11:23:44.474302Z", "url": "https://files.pythonhosted.org/packages/5c/ea/10d6892392519edc817eca63361ea2787f155f003701a48e95c2bf5d29b8/aiofiles38-0.5.0.dev0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:21:35 2020"}
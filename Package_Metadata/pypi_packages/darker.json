{"info": {"author": "Antti Kaihola", "author_email": "13725+akaihola@users.noreply.github.com", "bugtrack_url": null, "classifiers": ["Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: 3 :: Only"], "description": "===========================================================================\n Darker \u2013 Apply Black formatting only in regions changed since last commit\n===========================================================================\n\n\nWhat?\n=====\n\nThis is a small utility built on top of the black_ Python code formatter\nto enable formatting of only regions which have changed since the last Git commit.\n\n.. _black: https://github.com/python/black\n\nWhy?\n====\n\nPython code should be black, just like outer space.\nHowever, sometimes people insist on staying on the Earth.\nSince there's no complete blackness on the Earth,\nyou eventually settle for just a little darker as a compromise.\n\nIn other words, you want to use black_ for the code you write,\nbut for some reason you don't want to convert the whole files,\ne.g. when contributing to upstream codebases that are not under your complete control.\n\nHowever, partial formatting is not supported by black_ itself,\nfor various good reasons, and it won't be implemented either\n(`134`__, `142`__, `245`__, `370`__, `511`__, `830`__).\n\n__ https://github.com/python/black/issues/134\n__ https://github.com/python/black/issues/142\n__ https://github.com/python/black/issues/245\n__ https://github.com/python/black/issues/370\n__ https://github.com/python/black/issues/511\n__ https://github.com/python/black/issues/830\n\nThis is where ``darker`` enters the stage.\nThis tool is for those who want to do partial formatting anyway.\n\nNote that this tool is a stopgap measure, and you should avoid using it if you can.\n\nHow?\n====\n\nTo install, use::\n\n  pip install darker\n\nThe ``darker <myfile.py>`` command\nreads the original file,\nformats it using black_,\ncombines original and formatted regions based on edits,\nand writes back over the original file.\n\nAlternatively, you can invoke the module directly through the ``python`` executable,\nwhich may be preferable depending on your setup.\nUse ``python -m darker`` instead of ``darker`` in that case.\n\nExample:\n\n.. code-block:: shell\n\n   $ mkdir test && cd test && git init\n   Initialized empty Git repository in /tmp/test/.git/\n   $ echo \"if True: print('hi')\\n\\nif False: print('there')\" | tee test.py\n   if True: print('hi')\n\n   if False: print('there')\n   $ git add test.py && git commit -m \"Initial commit\"\n   [master (root-commit) a0c7c32] Initial commit\n    1 file changed, 3 insertions(+)\n    create mode 100644 test.py\n   $ echo \"if True: print('changed')\\n\\nif False: print('there')\" | tee test.py\n   if True: print('changed')\n\n   if False: print('there')\n   $ darker test.py && cat test.py\n   if True:\n       print(\"changed\")\n\n   if False: print('there')\n\n\nEditor integration\n==================\n\nMany editors have plugins or recipes for integrating black_.\nYou may be able to adapt them to be used with ``darker``.\nSee `editor integration`__ in the black_ documentation.\n\n__ https://github.com/psf/black/#editor-integration\n\nPyCharm/IntelliJ IDEA\n---------------------\n\n1. Install ``darker``::\n\n     $ pip install darker\n\n2. Locate your ``darker`` installation folder.\n\n   On macOS / Linux / BSD::\n\n     $ which darker\n     /usr/local/bin/darker  # possible location\n\n   On Windows::\n\n     $ where darker\n     %LocalAppData%\\Programs\\Python\\Python36-32\\Scripts\\darker.exe  # possible location\n\n3. Open External tools in PyCharm/IntelliJ IDEA\n\n   On macOS:\n\n   ``PyCharm -> Preferences -> Tools -> External Tools``\n\n   On Windows / Linux / BSD:\n\n   ``File -> Settings -> Tools -> External Tools``\n\n4. Click the ``+`` icon to add a new external tool with the following values:\n\n   - Name: Darker\n   - Description: Use Black to auto-format regions changed since the last git commit.\n   - Program: <install_location_from_step_2>\n   - Arguments: ``\"$FilePath$\"``\n\n5. Format the currently opened file by selecting ``Tools -> External Tools -> Darker``.\n\n   - Alternatively, you can set a keyboard shortcut by navigating to\n     ``Preferences or Settings -> Keymap -> External Tools -> External Tools - Darker``\n\n6. Optionally, run ``darker`` on every file save:\n\n   1. Make sure you have the `File Watcher`__ plugin installed.\n   2. Go to ``Preferences or Settings -> Tools -> File Watchers`` and click ``+`` to add\n      a new watcher:\n\n      - Name: Darker\n      - File type: Python\n      - Scope: Project Files\n      - Program: <install_location_from_step_2>\n      - Arguments: ``$FilePath$``\n      - Output paths to refresh: ``$FilePath$``\n      - Working directory: ``$ProjectFileDir$``\n\n   3. Uncheck \"Auto-save edited files to trigger the watcher\"\n\n__ https://plugins.jetbrains.com/plugin/7177-file-watchers\n\n\nLicense\n=======\n\nBSD. See ``LICENSE.rst``.\n\n\nPrior art\n=========\n\n- black-macchiato__\n- darken__\n\n__ https://github.com/wbolster/black-macchiato\n__ https://github.com/Carreau/darken", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/akaihola/darker", "keywords": "", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "darker", "package_url": "https://pypi.org/project/darker/", "platform": "", "project_url": "https://pypi.org/project/darker/", "project_urls": {"Change Log": "https://github.com/akaihola/darker/CHANGES.rst", "Homepage": "https://github.com/akaihola/darker", "Source Code": "https://github.com/akaihola/darker"}, "release_url": "https://pypi.org/project/darker/0.2.0/", "requires_dist": null, "requires_python": ">=3.6", "summary": "Apply Black formatting only in regions changed since last commit", "version": "0.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"what\">\n<h2>What?</h2>\n<p>This is a small utility built on top of the <a href=\"https://github.com/python/black\" rel=\"nofollow\">black</a> Python code formatter\nto enable formatting of only regions which have changed since the last Git commit.</p>\n</div>\n<div id=\"why\">\n<h2>Why?</h2>\n<p>Python code should be black, just like outer space.\nHowever, sometimes people insist on staying on the Earth.\nSince there\u2019s no complete blackness on the Earth,\nyou eventually settle for just a little darker as a compromise.</p>\n<p>In other words, you want to use <a href=\"https://github.com/python/black\" rel=\"nofollow\">black</a> for the code you write,\nbut for some reason you don\u2019t want to convert the whole files,\ne.g. when contributing to upstream codebases that are not under your complete control.</p>\n<p>However, partial formatting is not supported by <a href=\"https://github.com/python/black\" rel=\"nofollow\">black</a> itself,\nfor various good reasons, and it won\u2019t be implemented either\n(<a href=\"https://github.com/python/black/issues/134\" rel=\"nofollow\">134</a>, <a href=\"https://github.com/python/black/issues/142\" rel=\"nofollow\">142</a>, <a href=\"https://github.com/python/black/issues/245\" rel=\"nofollow\">245</a>, <a href=\"https://github.com/python/black/issues/370\" rel=\"nofollow\">370</a>, <a href=\"https://github.com/python/black/issues/511\" rel=\"nofollow\">511</a>, <a href=\"https://github.com/python/black/issues/830\" rel=\"nofollow\">830</a>).</p>\n<p>This is where <tt>darker</tt> enters the stage.\nThis tool is for those who want to do partial formatting anyway.</p>\n<p>Note that this tool is a stopgap measure, and you should avoid using it if you can.</p>\n</div>\n<div id=\"how\">\n<h2>How?</h2>\n<p>To install, use:</p>\n<pre>pip install darker\n</pre>\n<p>The <tt>darker &lt;myfile.py&gt;</tt> command\nreads the original file,\nformats it using <a href=\"https://github.com/python/black\" rel=\"nofollow\">black</a>,\ncombines original and formatted regions based on edits,\nand writes back over the original file.</p>\n<p>Alternatively, you can invoke the module directly through the <tt>python</tt> executable,\nwhich may be preferable depending on your setup.\nUse <tt>python <span class=\"pre\">-m</span> darker</tt> instead of <tt>darker</tt> in that case.</p>\n<p>Example:</p>\n<pre>$ mkdir <span class=\"nb\">test</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">cd</span> <span class=\"nb\">test</span> <span class=\"o\">&amp;&amp;</span> git init\nInitialized empty Git repository in /tmp/test/.git/\n$ <span class=\"nb\">echo</span> <span class=\"s2\">\"if True: print('hi')\\n\\nif False: print('there')\"</span> <span class=\"p\">|</span> tee test.py\n<span class=\"k\">if</span> True: print<span class=\"o\">(</span><span class=\"s1\">'hi'</span><span class=\"o\">)</span>\n\n<span class=\"k\">if</span> False: print<span class=\"o\">(</span><span class=\"s1\">'there'</span><span class=\"o\">)</span>\n$ git add test.py <span class=\"o\">&amp;&amp;</span> git commit -m <span class=\"s2\">\"Initial commit\"</span>\n<span class=\"o\">[</span>master <span class=\"o\">(</span>root-commit<span class=\"o\">)</span> a0c7c32<span class=\"o\">]</span> Initial commit\n <span class=\"m\">1</span> file changed, <span class=\"m\">3</span> insertions<span class=\"o\">(</span>+<span class=\"o\">)</span>\n create mode <span class=\"m\">100644</span> test.py\n$ <span class=\"nb\">echo</span> <span class=\"s2\">\"if True: print('changed')\\n\\nif False: print('there')\"</span> <span class=\"p\">|</span> tee test.py\n<span class=\"k\">if</span> True: print<span class=\"o\">(</span><span class=\"s1\">'changed'</span><span class=\"o\">)</span>\n\n<span class=\"k\">if</span> False: print<span class=\"o\">(</span><span class=\"s1\">'there'</span><span class=\"o\">)</span>\n$ darker test.py <span class=\"o\">&amp;&amp;</span> cat test.py\n<span class=\"k\">if</span> True:\n    print<span class=\"o\">(</span><span class=\"s2\">\"changed\"</span><span class=\"o\">)</span>\n\n<span class=\"k\">if</span> False: print<span class=\"o\">(</span><span class=\"s1\">'there'</span><span class=\"o\">)</span>\n</pre>\n</div>\n<div id=\"editor-integration\">\n<h2>Editor integration</h2>\n<p>Many editors have plugins or recipes for integrating <a href=\"https://github.com/python/black\" rel=\"nofollow\">black</a>.\nYou may be able to adapt them to be used with <tt>darker</tt>.\nSee <a href=\"https://github.com/psf/black/#editor-integration\" rel=\"nofollow\">editor integration</a> in the <a href=\"https://github.com/python/black\" rel=\"nofollow\">black</a> documentation.</p>\n<div id=\"pycharm-intellij-idea\">\n<h3>PyCharm/IntelliJ IDEA</h3>\n<ol>\n<li><p>Install <tt>darker</tt>:</p>\n<pre>$ pip install darker\n</pre>\n</li>\n<li><p>Locate your <tt>darker</tt> installation folder.</p>\n<p>On macOS / Linux / BSD:</p>\n<pre>$ which darker\n/usr/local/bin/darker  # possible location\n</pre>\n<p>On Windows:</p>\n<pre>$ where darker\n%LocalAppData%\\Programs\\Python\\Python36-32\\Scripts\\darker.exe  # possible location\n</pre>\n</li>\n<li><p>Open External tools in PyCharm/IntelliJ IDEA</p>\n<p>On macOS:</p>\n<p><tt>PyCharm <span class=\"pre\">-&gt;</span> Preferences <span class=\"pre\">-&gt;</span> Tools <span class=\"pre\">-&gt;</span> External Tools</tt></p>\n<p>On Windows / Linux / BSD:</p>\n<p><tt>File <span class=\"pre\">-&gt;</span> Settings <span class=\"pre\">-&gt;</span> Tools <span class=\"pre\">-&gt;</span> External Tools</tt></p>\n</li>\n<li><p>Click the <tt>+</tt> icon to add a new external tool with the following values:</p>\n<ul>\n<li>Name: Darker</li>\n<li>Description: Use Black to auto-format regions changed since the last git commit.</li>\n<li>Program: &lt;install_location_from_step_2&gt;</li>\n<li>Arguments: <tt>\"$FilePath$\"</tt></li>\n</ul>\n</li>\n<li><p>Format the currently opened file by selecting <tt>Tools <span class=\"pre\">-&gt;</span> External Tools <span class=\"pre\">-&gt;</span> Darker</tt>.</p>\n<ul>\n<li>Alternatively, you can set a keyboard shortcut by navigating to\n<tt>Preferences or Settings <span class=\"pre\">-&gt;</span> Keymap <span class=\"pre\">-&gt;</span> External Tools <span class=\"pre\">-&gt;</span> External Tools - Darker</tt></li>\n</ul>\n</li>\n<li><p>Optionally, run <tt>darker</tt> on every file save:</p>\n<ol>\n<li>Make sure you have the <a href=\"https://plugins.jetbrains.com/plugin/7177-file-watchers\" rel=\"nofollow\">File Watcher</a> plugin installed.</li>\n<li>Go to <tt>Preferences or Settings <span class=\"pre\">-&gt;</span> Tools <span class=\"pre\">-&gt;</span> File Watchers</tt> and click <tt>+</tt> to add\na new watcher:<ul>\n<li>Name: Darker</li>\n<li>File type: Python</li>\n<li>Scope: Project Files</li>\n<li>Program: &lt;install_location_from_step_2&gt;</li>\n<li>Arguments: <tt>$FilePath$</tt></li>\n<li>Output paths to refresh: <tt>$FilePath$</tt></li>\n<li>Working directory: <tt>$ProjectFileDir$</tt></li>\n</ul>\n</li>\n<li>Uncheck \u201cAuto-save edited files to trigger the watcher\u201d</li>\n</ol>\n</li>\n</ol>\n</div>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>BSD. See <tt>LICENSE.rst</tt>.</p>\n</div>\n<div id=\"prior-art\">\n<h2>Prior art</h2>\n<ul>\n<li><a href=\"https://github.com/wbolster/black-macchiato\" rel=\"nofollow\">black-macchiato</a></li>\n<li><a href=\"https://github.com/Carreau/darken\" rel=\"nofollow\">darken</a></li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 6790859, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "008953ef22f8fdf3f0eb980b80041818", "sha256": "c5c16ae68c94083d74f5eb24f81b27bc76ffb360431d4516a21947c5d209f96c"}, "downloads": -1, "filename": "darker-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "008953ef22f8fdf3f0eb980b80041818", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 12460, "upload_time": "2020-02-17T19:09:12", "upload_time_iso_8601": "2020-02-17T19:09:12.283248Z", "url": "https://files.pythonhosted.org/packages/21/25/e2ee0189b8bae421145f1e751e789aeb4fb0f435569028f518c879684222/darker-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "67a98035f8b302cc3d2811c3798f346d", "sha256": "ab9c177bb54dc9df4e7beb387072307bd4598e19b206277630a47a8306285274"}, "downloads": -1, "filename": "darker-0.1.0.tar.gz", "has_sig": false, "md5_digest": "67a98035f8b302cc3d2811c3798f346d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 11489, "upload_time": "2020-02-17T19:08:58", "upload_time_iso_8601": "2020-02-17T19:08:58.178703Z", "url": "https://files.pythonhosted.org/packages/ab/b0/bd1a797a08c79f289564335c0777a89a01c4a8a4e94b18096baaedeabefa/darker-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "ba1d57c9c9dcc29e6bce8bbe6a0ca537", "sha256": "bfbdfb16aa6403fcaf1997b213d405ed723a762dd09e356cb8defec23b5ae2f7"}, "downloads": -1, "filename": "darker-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "ba1d57c9c9dcc29e6bce8bbe6a0ca537", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 12499, "upload_time": "2020-02-17T19:29:54", "upload_time_iso_8601": "2020-02-17T19:29:54.405642Z", "url": "https://files.pythonhosted.org/packages/5a/3b/4810ee522519aee2b9af96578996b28e885f7304b8ef5fe4191fb9dd5185/darker-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0afe3812737f0220c2736476614f8bae", "sha256": "ec20142ba9d3270d8f5cbfaf78a295a02b0300baebd30318e58adffe3eb0ef0b"}, "downloads": -1, "filename": "darker-0.1.1.tar.gz", "has_sig": false, "md5_digest": "0afe3812737f0220c2736476614f8bae", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 11511, "upload_time": "2020-02-17T19:29:43", "upload_time_iso_8601": "2020-02-17T19:29:43.448475Z", "url": "https://files.pythonhosted.org/packages/d3/82/5ba1873375805bfef6d29038a26e7dd5a014e53586f549d0a74660c8c691/darker-0.1.1.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "854950f60b3bb5558c7fc4e2b247575d", "sha256": "d1b456f56a7cae25ddfbe2a5871e60421de5bd6886fc5bcefc32e22ac3f8e979"}, "downloads": -1, "filename": "darker-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "854950f60b3bb5558c7fc4e2b247575d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 22042, "upload_time": "2020-03-11T09:06:56", "upload_time_iso_8601": "2020-03-11T09:06:56.379986Z", "url": "https://files.pythonhosted.org/packages/ef/bb/e649bdfd9b1ec77b76dd5bb8f253e822e2d3e8c1e7713a3fc40fb3ede008/darker-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "79f3a14d42a82799374a90b908ff9672", "sha256": "14bf2fd5d3978518090e8a586569aa5113c9a90967d5db6dc556dfba7dd1f383"}, "downloads": -1, "filename": "darker-0.2.0.tar.gz", "has_sig": false, "md5_digest": "79f3a14d42a82799374a90b908ff9672", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 17701, "upload_time": "2020-03-11T09:06:42", "upload_time_iso_8601": "2020-03-11T09:06:42.496924Z", "url": "https://files.pythonhosted.org/packages/9d/fd/ade175132fa0c5a8b96a0743a653ae43c293e1c8d6b7e9eefa8c23de77f6/darker-0.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "854950f60b3bb5558c7fc4e2b247575d", "sha256": "d1b456f56a7cae25ddfbe2a5871e60421de5bd6886fc5bcefc32e22ac3f8e979"}, "downloads": -1, "filename": "darker-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "854950f60b3bb5558c7fc4e2b247575d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 22042, "upload_time": "2020-03-11T09:06:56", "upload_time_iso_8601": "2020-03-11T09:06:56.379986Z", "url": "https://files.pythonhosted.org/packages/ef/bb/e649bdfd9b1ec77b76dd5bb8f253e822e2d3e8c1e7713a3fc40fb3ede008/darker-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "79f3a14d42a82799374a90b908ff9672", "sha256": "14bf2fd5d3978518090e8a586569aa5113c9a90967d5db6dc556dfba7dd1f383"}, "downloads": -1, "filename": "darker-0.2.0.tar.gz", "has_sig": false, "md5_digest": "79f3a14d42a82799374a90b908ff9672", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 17701, "upload_time": "2020-03-11T09:06:42", "upload_time_iso_8601": "2020-03-11T09:06:42.496924Z", "url": "https://files.pythonhosted.org/packages/9d/fd/ade175132fa0c5a8b96a0743a653ae43c293e1c8d6b7e9eefa8c23de77f6/darker-0.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:40:40 2020"}
{"info": {"author": "Philippe Pinard", "author_email": "philippe.pinard@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7"], "description": "# dataclasses-sql\n\n[![Build Status](https://img.shields.io/endpoint.svg?url=https%3A%2F%2Factions-badge.atrox.dev%2Fppinard%2Fdataclasses-sql%2Fbadge&style=flat)](https://actions-badge.atrox.dev/ppinard/dataclasses-sql/goto)\n\nUsing dataclasses with SQL databases.\n\nExamples:\n\n```python\nimport dataclasses\nimport sqlalchemy\nimport dataclasses_sql\n\n@dataclasses.dataclass\nclass Car:\n    brand: str = dataclasses.field(metadata={\"key\": True})\n    model: str = dataclasses.field(metadata={\"key\": True})\n    milage: float\n\n# Connect to database\nengine = sqlalchemy.create_engine(\"sqlite:///:memory:\")\nmetadata = sqlalchemy.MetaData(engine)\nmetadata.reflect()\n\n# Insert\ncar = Car(\"Kia\", \"Ceed\", 15678)\ndataclasses_sql.insert(metadata, car, check_exists=True)\n\ncar = Car(\"Ford\", \"Mustang\", 4032)\ndataclasses_sql.insert(metadata, car, check_exists=True)\n\n# Select\nbuilder = dataclasses_sql.SelectStatementBuilder()\nbuilder.add_column(Car, \"mileage\"\nbuilder.add_clause(Car, \"brand\", \"Kia\")\nstatement = builder.build()\n\nwith metadata.bind.begin() as conn:\n    row = conn.execute(statement).fetchone()\n    print(row)\n```\n\n## Installation\n\nEasiest way to install using *pip*:\n\n```\npip install dataclasses-sql\n```\n\nFor development installation from the git repository::\n\n```\ngit clone git@github.com/ppinard/dataclasses-sql.git\ncd dataclasses-sql\npip install -e .\n```\n\n## Release notes\n\n### 0.1.0\n\n\n## Contributors\n\n\n## License\n\nThe library is provided under the MIT license license.\n\nCopyright (c) 2020, Philippe Pinard\n\n\n\n\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/ppinard/dataclasses_sql", "keywords": "", "license": "MIT license", "maintainer": "", "maintainer_email": "", "name": "dataclasses-sql", "package_url": "https://pypi.org/project/dataclasses-sql/", "platform": "", "project_url": "https://pypi.org/project/dataclasses-sql/", "project_urls": {"Homepage": "https://github.com/ppinard/dataclasses_sql"}, "release_url": "https://pypi.org/project/dataclasses-sql/0.1.1/", "requires_dist": ["loguru", "sqlalchemy", "pytest ; extra == 'dev'", "pytest-cov ; extra == 'dev'", "sphinx ; extra == 'dev'"], "requires_python": "", "summary": "Using dataclasses with SQL databases.", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>dataclasses-sql</h1>\n<p><a href=\"https://actions-badge.atrox.dev/ppinard/dataclasses-sql/goto\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/28e1519b98c02b7d4f6888cbb1ba183303103431/68747470733a2f2f696d672e736869656c64732e696f2f656e64706f696e742e7376673f75726c3d6874747073253341253246253246616374696f6e732d62616467652e6174726f782e6465762532467070696e61726425324664617461636c61737365732d73716c2532466261646765267374796c653d666c6174\"></a></p>\n<p>Using dataclasses with SQL databases.</p>\n<p>Examples:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">dataclasses</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sqlalchemy</span>\n<span class=\"kn\">import</span> <span class=\"nn\">dataclasses_sql</span>\n\n<span class=\"nd\">@dataclasses</span><span class=\"o\">.</span><span class=\"n\">dataclass</span>\n<span class=\"k\">class</span> <span class=\"nc\">Car</span><span class=\"p\">:</span>\n    <span class=\"n\">brand</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"n\">dataclasses</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"n\">metadata</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">\"key\"</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">})</span>\n    <span class=\"n\">model</span><span class=\"p\">:</span> <span class=\"nb\">str</span> <span class=\"o\">=</span> <span class=\"n\">dataclasses</span><span class=\"o\">.</span><span class=\"n\">field</span><span class=\"p\">(</span><span class=\"n\">metadata</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">\"key\"</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">})</span>\n    <span class=\"n\">milage</span><span class=\"p\">:</span> <span class=\"nb\">float</span>\n\n<span class=\"c1\"># Connect to database</span>\n<span class=\"n\">engine</span> <span class=\"o\">=</span> <span class=\"n\">sqlalchemy</span><span class=\"o\">.</span><span class=\"n\">create_engine</span><span class=\"p\">(</span><span class=\"s2\">\"sqlite:///:memory:\"</span><span class=\"p\">)</span>\n<span class=\"n\">metadata</span> <span class=\"o\">=</span> <span class=\"n\">sqlalchemy</span><span class=\"o\">.</span><span class=\"n\">MetaData</span><span class=\"p\">(</span><span class=\"n\">engine</span><span class=\"p\">)</span>\n<span class=\"n\">metadata</span><span class=\"o\">.</span><span class=\"n\">reflect</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Insert</span>\n<span class=\"n\">car</span> <span class=\"o\">=</span> <span class=\"n\">Car</span><span class=\"p\">(</span><span class=\"s2\">\"Kia\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Ceed\"</span><span class=\"p\">,</span> <span class=\"mi\">15678</span><span class=\"p\">)</span>\n<span class=\"n\">dataclasses_sql</span><span class=\"o\">.</span><span class=\"n\">insert</span><span class=\"p\">(</span><span class=\"n\">metadata</span><span class=\"p\">,</span> <span class=\"n\">car</span><span class=\"p\">,</span> <span class=\"n\">check_exists</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"n\">car</span> <span class=\"o\">=</span> <span class=\"n\">Car</span><span class=\"p\">(</span><span class=\"s2\">\"Ford\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Mustang\"</span><span class=\"p\">,</span> <span class=\"mi\">4032</span><span class=\"p\">)</span>\n<span class=\"n\">dataclasses_sql</span><span class=\"o\">.</span><span class=\"n\">insert</span><span class=\"p\">(</span><span class=\"n\">metadata</span><span class=\"p\">,</span> <span class=\"n\">car</span><span class=\"p\">,</span> <span class=\"n\">check_exists</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Select</span>\n<span class=\"n\">builder</span> <span class=\"o\">=</span> <span class=\"n\">dataclasses_sql</span><span class=\"o\">.</span><span class=\"n\">SelectStatementBuilder</span><span class=\"p\">()</span>\n<span class=\"n\">builder</span><span class=\"o\">.</span><span class=\"n\">add_column</span><span class=\"p\">(</span><span class=\"n\">Car</span><span class=\"p\">,</span> <span class=\"s2\">\"mileage\"</span>\n<span class=\"n\">builder</span><span class=\"o\">.</span><span class=\"n\">add_clause</span><span class=\"p\">(</span><span class=\"n\">Car</span><span class=\"p\">,</span> <span class=\"s2\">\"brand\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Kia\"</span><span class=\"p\">)</span>\n<span class=\"n\">statement</span> <span class=\"o\">=</span> <span class=\"n\">builder</span><span class=\"o\">.</span><span class=\"n\">build</span><span class=\"p\">()</span>\n\n<span class=\"k\">with</span> <span class=\"n\">metadata</span><span class=\"o\">.</span><span class=\"n\">bind</span><span class=\"o\">.</span><span class=\"n\">begin</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">conn</span><span class=\"p\">:</span>\n    <span class=\"n\">row</span> <span class=\"o\">=</span> <span class=\"n\">conn</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">statement</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">fetchone</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">row</span><span class=\"p\">)</span>\n</pre>\n<h2>Installation</h2>\n<p>Easiest way to install using <em>pip</em>:</p>\n<pre><code>pip install dataclasses-sql\n</code></pre>\n<p>For development installation from the git repository::</p>\n<pre><code>git clone git@github.com/ppinard/dataclasses-sql.git\ncd dataclasses-sql\npip install -e .\n</code></pre>\n<h2>Release notes</h2>\n<h3>0.1.0</h3>\n<h2>Contributors</h2>\n<h2>License</h2>\n<p>The library is provided under the MIT license license.</p>\n<p>Copyright (c) 2020, Philippe Pinard</p>\n\n          </div>"}, "last_serial": 6911181, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "aa9924f76d309ee21d4c6a8bb5f6fb50", "sha256": "d4738fd00ab599b87218094e6275fa586bc8fd37101edbb49d7bb37977fe37f6"}, "downloads": -1, "filename": "dataclasses_sql-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "aa9924f76d309ee21d4c6a8bb5f6fb50", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7678, "upload_time": "2020-03-15T16:06:12", "upload_time_iso_8601": "2020-03-15T16:06:12.569673Z", "url": "https://files.pythonhosted.org/packages/4f/1c/1caa5c7d0e3c172bdec946fe7696fcf8c0833af6752078fd47d0007e0404/dataclasses_sql-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8632d34d4192bd63980f7ef6a71c5533", "sha256": "f1a869f1d22dc251c4c28095f1a2b6f08d726c9ce2513ddfaa4200240efb00e6"}, "downloads": -1, "filename": "dataclasses-sql-0.1.0.tar.gz", "has_sig": false, "md5_digest": "8632d34d4192bd63980f7ef6a71c5533", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23396, "upload_time": "2020-03-15T16:06:14", "upload_time_iso_8601": "2020-03-15T16:06:14.773685Z", "url": "https://files.pythonhosted.org/packages/8e/40/695d5132aaaccf1f27e1945e907446b753c4acf39d62bcabcb029aaf386f/dataclasses-sql-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "8afd282f708b747ac94b0678ed2ad3d6", "sha256": "a51961207bbb25ba634a22d79e14ac469c7e54db129dddba0c172d710d5ddd3a"}, "downloads": -1, "filename": "dataclasses_sql-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "8afd282f708b747ac94b0678ed2ad3d6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7807, "upload_time": "2020-03-30T07:50:37", "upload_time_iso_8601": "2020-03-30T07:50:37.017875Z", "url": "https://files.pythonhosted.org/packages/f3/b4/9fdad1bdc2b82c634413ba43bdc1dc006d17adc1483af6b990e38ae9339d/dataclasses_sql-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "36e2a77b48555c34b3c1026a31b47072", "sha256": "f0eacdf8cde5948ab599793f49d08921f07b38aee9029f10142c89190241e634"}, "downloads": -1, "filename": "dataclasses-sql-0.1.1.tar.gz", "has_sig": false, "md5_digest": "36e2a77b48555c34b3c1026a31b47072", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23718, "upload_time": "2020-03-30T07:50:38", "upload_time_iso_8601": "2020-03-30T07:50:38.242588Z", "url": "https://files.pythonhosted.org/packages/89/f1/ba8cdca28f730915201a17c4a7569541f77a1d2c4bec2cd52b3c864d3a32/dataclasses-sql-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "8afd282f708b747ac94b0678ed2ad3d6", "sha256": "a51961207bbb25ba634a22d79e14ac469c7e54db129dddba0c172d710d5ddd3a"}, "downloads": -1, "filename": "dataclasses_sql-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "8afd282f708b747ac94b0678ed2ad3d6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7807, "upload_time": "2020-03-30T07:50:37", "upload_time_iso_8601": "2020-03-30T07:50:37.017875Z", "url": "https://files.pythonhosted.org/packages/f3/b4/9fdad1bdc2b82c634413ba43bdc1dc006d17adc1483af6b990e38ae9339d/dataclasses_sql-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "36e2a77b48555c34b3c1026a31b47072", "sha256": "f0eacdf8cde5948ab599793f49d08921f07b38aee9029f10142c89190241e634"}, "downloads": -1, "filename": "dataclasses-sql-0.1.1.tar.gz", "has_sig": false, "md5_digest": "36e2a77b48555c34b3c1026a31b47072", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23718, "upload_time": "2020-03-30T07:50:38", "upload_time_iso_8601": "2020-03-30T07:50:38.242588Z", "url": "https://files.pythonhosted.org/packages/89/f1/ba8cdca28f730915201a17c4a7569541f77a1d2c4bec2cd52b3c864d3a32/dataclasses-sql-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:40:28 2020"}
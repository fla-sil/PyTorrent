{"info": {"author": "Barak Alon", "author_email": "barak.s.alon@gmail.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "SOQL\n====\n\n.. image:: https://travis-ci.org/plangrid/soql.svg?branch=master\n   :target: https://travis-ci.org/plangrid/soql\n   :alt: CI Status\n\n.. image:: https://badge.fury.io/py/soql.svg\n   :target: https://badge.fury.io/py/soql\n   :alt: PyPI status\n\n|\n\nThis package provides declarative models for Salesforce objects and utilities for generating `Salesforce Object Query Language (SOQL) <https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql.htm>`_ queries from these models.\n\nThis package works well with `Simple Salesforce <https://github.com/simple-salesforce/simple-salesforce>`_.\n\n\nUsage\n-----\n\n.. code-block:: python\n\n   from simple_salesforce import Salesforce\n   from soql import attributes\n   from soql import load_models_from_salesforce_data\n   from soql import Model\n   from soql import select\n\n\n   class Account(Model):\n       id = attributes.String('Id')\n       deleted = attributes.Boolean('IsDeleted')\n       name = attributes.String('Name')\n       owner = attributes.Relationship('Owner', related_model=User)\n       custom_field = attributes.String('CustomField__c', nullable=True)\n\n   class User(Model):\n       id = attributes.String('Id')\n       email = attributes.String('Email')\n\n   sf = Salesforce(...)\n\n   query = select(Account) \\\n       .where(Account.id == '50130000000014c') \\\n       .join(Account.owner)\n\n   resp = sf.query(str(query))\n\n   account = load_models_from_salesforce_data(resp)[0]\n\n   print(account.id)\n   print(account.owner.id)\n\n\nModels\n~~~~~~\n\nModels define in-memory representations of Salesforce object, and provide an idiomatic way to access the data.\n\n.. code-block:: python\n\n   from soql import attributes\n   from soql import Model\n\n   class User(Model):\n       # The first argument to an attribute is its name in Salesforce.\n       id = attributes.String('Id')\n       email = attributes.String('Email')\n\n   user = User(id='123', email='a@b.com')\n\n   assert user.id == '123'\n\nHelpers are available to load models directly from ``simple_salesforce``:\n\n.. code-block:: python\n\n   query = select(User)\n\n   resp = sf.query(str(query))\n\n   users = load_models_from_salesforce_data(resp)\n\nRelationships can also be declared:\n\n.. code-block:: python\n\n   class Account(Model):\n       id = attributes.String('Id')\n       owner = attributes.Relationship('Owner', related_model=User)\n       contacts = attributes.Relationship('Contacts', related_model=User, many=True)\n\n\nQueries\n~~~~~~~\n\nSOQL queries can be generated from models:\n\n.. code-block:: python\n\n   from soql import select\n\n   query = select(User).where(User.id == '123')\n\n   assert str(query) == \"SELECT User.Id, User.Email FROM User WHERE User.Id = '123'\"\n\nMost of SOQL is supported, including...\n\nJoins:\n\n.. code-block:: python\n\n   from soql import select\n\n   query = select(Account).join(Account.contacts)\n\n   assert str(query) == \"SELECT Account.Id, (SELECT User.Id, User.Email FROM Account.Contacts) FROM Account\"\n\nSubqueries:\n\n.. code-block:: python\n\n   from soql import select\n\n   subquery = select(User).columns(User.email).subquery()\n   query = select(User).where(User.email.in_(subquery))\n\n   assert str(query) == \"SELECT User.Id, User.Email FROM User WHERE User.Email IN (SELECT User.Email FROM User)\"\n\nAnd more!\n\n\nInstallation\n------------\n\n.. code-block::\n\n   pip install soql\n\n\nContributing\n------------\n\nThere is still work to be done, and contributions are encouraged! Check out the `contribution guide <CONTRIBUTING.rst>`_ for more information.", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/plangrid/soql", "keywords": "salesforce,soql,salesforce.com", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "soql", "package_url": "https://pypi.org/project/soql/", "platform": "", "project_url": "https://pypi.org/project/soql/", "project_urls": {"Homepage": "https://github.com/plangrid/soql"}, "release_url": "https://pypi.org/project/soql/1.0.2/", "requires_dist": null, "requires_python": "", "summary": "Models and query generator for Salesforce Object Query Language (SOQL)", "version": "1.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://travis-ci.org/plangrid/soql\" rel=\"nofollow\"><img alt=\"CI Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4cc0d1a88d4ce6d6ee71c2d0430f02c3eba5e4bc/68747470733a2f2f7472617669732d63692e6f72672f706c616e677269642f736f716c2e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://badge.fury.io/py/soql\" rel=\"nofollow\"><img alt=\"PyPI status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/208debe03621ef566fcacbdb82e2d694302427b0/68747470733a2f2f62616467652e667572792e696f2f70792f736f716c2e737667\"></a>\n<div>\n<div><br></div>\n</div>\n<p>This package provides declarative models for Salesforce objects and utilities for generating <a href=\"https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql.htm\" rel=\"nofollow\">Salesforce Object Query Language (SOQL)</a> queries from these models.</p>\n<p>This package works well with <a href=\"https://github.com/simple-salesforce/simple-salesforce\" rel=\"nofollow\">Simple Salesforce</a>.</p>\n<div id=\"usage\">\n<h2>Usage</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">simple_salesforce</span> <span class=\"kn\">import</span> <span class=\"n\">Salesforce</span>\n<span class=\"kn\">from</span> <span class=\"nn\">soql</span> <span class=\"kn\">import</span> <span class=\"n\">attributes</span>\n<span class=\"kn\">from</span> <span class=\"nn\">soql</span> <span class=\"kn\">import</span> <span class=\"n\">load_models_from_salesforce_data</span>\n<span class=\"kn\">from</span> <span class=\"nn\">soql</span> <span class=\"kn\">import</span> <span class=\"n\">Model</span>\n<span class=\"kn\">from</span> <span class=\"nn\">soql</span> <span class=\"kn\">import</span> <span class=\"n\">select</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">Account</span><span class=\"p\">(</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">(</span><span class=\"s1\">'Id'</span><span class=\"p\">)</span>\n    <span class=\"n\">deleted</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">Boolean</span><span class=\"p\">(</span><span class=\"s1\">'IsDeleted'</span><span class=\"p\">)</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">(</span><span class=\"s1\">'Name'</span><span class=\"p\">)</span>\n    <span class=\"n\">owner</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">Relationship</span><span class=\"p\">(</span><span class=\"s1\">'Owner'</span><span class=\"p\">,</span> <span class=\"n\">related_model</span><span class=\"o\">=</span><span class=\"n\">User</span><span class=\"p\">)</span>\n    <span class=\"n\">custom_field</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">(</span><span class=\"s1\">'CustomField__c'</span><span class=\"p\">,</span> <span class=\"n\">nullable</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">User</span><span class=\"p\">(</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">(</span><span class=\"s1\">'Id'</span><span class=\"p\">)</span>\n    <span class=\"n\">email</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">(</span><span class=\"s1\">'Email'</span><span class=\"p\">)</span>\n\n<span class=\"n\">sf</span> <span class=\"o\">=</span> <span class=\"n\">Salesforce</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">)</span>\n\n<span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"n\">select</span><span class=\"p\">(</span><span class=\"n\">Account</span><span class=\"p\">)</span> \\\n    <span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">Account</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">==</span> <span class=\"s1\">'50130000000014c'</span><span class=\"p\">)</span> \\\n    <span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">Account</span><span class=\"o\">.</span><span class=\"n\">owner</span><span class=\"p\">)</span>\n\n<span class=\"n\">resp</span> <span class=\"o\">=</span> <span class=\"n\">sf</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">))</span>\n\n<span class=\"n\">account</span> <span class=\"o\">=</span> <span class=\"n\">load_models_from_salesforce_data</span><span class=\"p\">(</span><span class=\"n\">resp</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">account</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">account</span><span class=\"o\">.</span><span class=\"n\">owner</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">)</span>\n</pre>\n<div id=\"models\">\n<h3>Models</h3>\n<p>Models define in-memory representations of Salesforce object, and provide an idiomatic way to access the data.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">soql</span> <span class=\"kn\">import</span> <span class=\"n\">attributes</span>\n<span class=\"kn\">from</span> <span class=\"nn\">soql</span> <span class=\"kn\">import</span> <span class=\"n\">Model</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">User</span><span class=\"p\">(</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"c1\"># The first argument to an attribute is its name in Salesforce.</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">(</span><span class=\"s1\">'Id'</span><span class=\"p\">)</span>\n    <span class=\"n\">email</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">(</span><span class=\"s1\">'Email'</span><span class=\"p\">)</span>\n\n<span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"n\">User</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"s1\">'123'</span><span class=\"p\">,</span> <span class=\"n\">email</span><span class=\"o\">=</span><span class=\"s1\">'a@b.com'</span><span class=\"p\">)</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">==</span> <span class=\"s1\">'123'</span>\n</pre>\n<p>Helpers are available to load models directly from <tt>simple_salesforce</tt>:</p>\n<pre><span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"n\">select</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"p\">)</span>\n\n<span class=\"n\">resp</span> <span class=\"o\">=</span> <span class=\"n\">sf</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">))</span>\n\n<span class=\"n\">users</span> <span class=\"o\">=</span> <span class=\"n\">load_models_from_salesforce_data</span><span class=\"p\">(</span><span class=\"n\">resp</span><span class=\"p\">)</span>\n</pre>\n<p>Relationships can also be declared:</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">Account</span><span class=\"p\">(</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">(</span><span class=\"s1\">'Id'</span><span class=\"p\">)</span>\n    <span class=\"n\">owner</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">Relationship</span><span class=\"p\">(</span><span class=\"s1\">'Owner'</span><span class=\"p\">,</span> <span class=\"n\">related_model</span><span class=\"o\">=</span><span class=\"n\">User</span><span class=\"p\">)</span>\n    <span class=\"n\">contacts</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">Relationship</span><span class=\"p\">(</span><span class=\"s1\">'Contacts'</span><span class=\"p\">,</span> <span class=\"n\">related_model</span><span class=\"o\">=</span><span class=\"n\">User</span><span class=\"p\">,</span> <span class=\"n\">many</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"queries\">\n<h3>Queries</h3>\n<p>SOQL queries can be generated from models:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">soql</span> <span class=\"kn\">import</span> <span class=\"n\">select</span>\n\n<span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"n\">select</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">==</span> <span class=\"s1\">'123'</span><span class=\"p\">)</span>\n\n<span class=\"k\">assert</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"SELECT User.Id, User.Email FROM User WHERE User.Id = '123'\"</span>\n</pre>\n<p>Most of SOQL is supported, including\u2026</p>\n<p>Joins:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">soql</span> <span class=\"kn\">import</span> <span class=\"n\">select</span>\n\n<span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"n\">select</span><span class=\"p\">(</span><span class=\"n\">Account</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">Account</span><span class=\"o\">.</span><span class=\"n\">contacts</span><span class=\"p\">)</span>\n\n<span class=\"k\">assert</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"SELECT Account.Id, (SELECT User.Id, User.Email FROM Account.Contacts) FROM Account\"</span>\n</pre>\n<p>Subqueries:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">soql</span> <span class=\"kn\">import</span> <span class=\"n\">select</span>\n\n<span class=\"n\">subquery</span> <span class=\"o\">=</span> <span class=\"n\">select</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">columns</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"o\">.</span><span class=\"n\">email</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">subquery</span><span class=\"p\">()</span>\n<span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"n\">select</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"o\">.</span><span class=\"n\">email</span><span class=\"o\">.</span><span class=\"n\">in_</span><span class=\"p\">(</span><span class=\"n\">subquery</span><span class=\"p\">))</span>\n\n<span class=\"k\">assert</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"SELECT User.Id, User.Email FROM User WHERE User.Email IN (SELECT User.Email FROM User)\"</span>\n</pre>\n<p>And more!</p>\n</div>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>pip install soql\n</pre>\n</div>\n<div id=\"contributing\">\n<h2>Contributing</h2>\n<p>There is still work to be done, and contributions are encouraged! Check out the <a href=\"CONTRIBUTING.rst\" rel=\"nofollow\">contribution guide</a> for more information.</p>\n</div>\n\n          </div>"}, "last_serial": 4153738, "releases": {"1.0.1": [{"comment_text": "", "digests": {"md5": "28504c3a7f2b9472a41d30bbb4591454", "sha256": "20c7056ffd8c07d826a66bce69a687d6a0a1af588e101e18e5bde0812f4b139d"}, "downloads": -1, "filename": "soql-1.0.1.tar.gz", "has_sig": false, "md5_digest": "28504c3a7f2b9472a41d30bbb4591454", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1558, "upload_time": "2018-03-26T22:27:56", "upload_time_iso_8601": "2018-03-26T22:27:56.207705Z", "url": "https://files.pythonhosted.org/packages/cc/34/b48e94e11742b9649d1218bfa5a09356ce26c858cac88bc4a98a4a6eca32/soql-1.0.1.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "f54e938fc46a8eb1811846fe16e913d1", "sha256": "785f234acb4307d99da9778e36839ebf61b6371faa48b144404ce524b9516293"}, "downloads": -1, "filename": "soql-1.0.2.tar.gz", "has_sig": false, "md5_digest": "f54e938fc46a8eb1811846fe16e913d1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12028, "upload_time": "2018-08-09T17:15:05", "upload_time_iso_8601": "2018-08-09T17:15:05.368339Z", "url": "https://files.pythonhosted.org/packages/58/b4/47101d168cb56ceac2b684f382c476725c6841878e15e8c3310a77913785/soql-1.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f54e938fc46a8eb1811846fe16e913d1", "sha256": "785f234acb4307d99da9778e36839ebf61b6371faa48b144404ce524b9516293"}, "downloads": -1, "filename": "soql-1.0.2.tar.gz", "has_sig": false, "md5_digest": "f54e938fc46a8eb1811846fe16e913d1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12028, "upload_time": "2018-08-09T17:15:05", "upload_time_iso_8601": "2018-08-09T17:15:05.368339Z", "url": "https://files.pythonhosted.org/packages/58/b4/47101d168cb56ceac2b684f382c476725c6841878e15e8c3310a77913785/soql-1.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:06:32 2020"}
{"info": {"author": "Aleksander Bespalov", "author_email": "discrimy.off@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435\npybeandi - \u042d\u0442\u043e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430, \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0449\u0430\u044f \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0432 Python\n\n## \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\n\u0413\u043b\u0430\u0432\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u0432\u043e \u0432\u0441\u0435\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f **\u0431\u0438\u043d** (bean).\n\u0411\u0438\u043d\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f, \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f **\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c** (BeanContext).\n\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043d\u0435\u0434\u0440\u044f\u0442\u044c \u0438\u0445 \u0432 \u0434\u0440\u0443\u0433\u0438\u0435 \u0431\u0438\u043d\u044b \u0438\u043b\u0438 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c \u0438\u0445 \u043e\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430.\n\u0422\u0435\u043c \u0441\u0430\u043c\u044b\u043c \u0432\u0430\u0448 \u043a\u043e\u0434 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0437\u043d\u0430\u0435\u0442, \u043a\u0430\u043a\u0438\u0435 \u0438\u043c\u0435\u043d\u043d\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u043a \u043d\u0435\u043c\u0443 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442, \n\u0447\u0442\u043e \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u0442 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0438 \u0443\u043f\u0440\u043e\u0449\u0430\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u0438 \u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0441\u0442\u044c, \n\u0442\u0430\u043a \u043a\u0430\u043a \u0442\u0435\u043f\u0435\u0440\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0432\u0430\u0448\u0438\u043c\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 \u0438 \u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.\n\n## \u041f\u0440\u0438\u043c\u0435\u0440\n\n```python\nimport abc\n\nfrom pybeandi.context import BeanContextBuilder\nfrom pybeandi.decorators import bean\n\n\nclass Service(abc.ABC):\n\n    @abc.abstractmethod\n    def hello(self) -> str:\n        pass\n\n\n@bean(profiles={'service1'})\nclass My1Service(Service):\n\n    def hello(self) -> str:\n        return 'Hello from 1 service'\n\n\n@bean(profiles={'service2'})\nclass My2Service(Service):\n\n    def hello(self) -> str:\n        return 'Hello from 2 service'\n\n\n@bean(profiles={'service3'}, context='context')\nclass My3Service(Service):\n\n    def hello(self) -> str:\n        return f'Hello from 3 service and {self.context.beans[Service]}'\n\n    def __init__(self, context):\n        self.context = context\n\n\n@bean()\ndef func_bean():\n    pass\n\n\nif __name__ == '__main__':\n    ctx_builder = BeanContextBuilder()\n    ctx_builder.load_yaml('pybeandi.yaml')\n    ctx_builder.profiles.add('service3')\n    ctx_builder.scan(globals())\n    with ctx_builder.init() as ctx:\n        print(ctx.beans[Service].hello())\n        print(Service in ctx.beans)\n        print(ctx.beans)\n        print(ctx.profiles)\n        print(set(ctx.beans.values()))\n\n```\n\n# \u0422\u0435\u043e\u0440\u0438\u044f\n\u041a\u0430\u0436\u0434\u044b\u0439 \u0431\u0438\u043d \u043e\u0431\u043b\u0430\u0434\u0430\u0435\u0442:\n - \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c \u0438\u0434\u0435\u043d\u0434\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 (**bean_id**), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0434\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0435\u0433\u043e \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430;\n - \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u043e\u043c (**factory_func**), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 \u0431\u0438\u043d\u0430\n - \u0441\u043b\u043e\u0432\u0430\u0440\u0451\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 (**dependencies**), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442, \u043a\u0430\u043a\u043e\u043c\u0443 \u043f\u043e\u043b\u044e \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043a\u0430\u043a\u043e\u0439 \u0431\u0438\u043d\n - \u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044f (**profile_func**), \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434 \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442, \u043d\u0443\u0436\u043d\u043e \u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0431\u0438\u043d\n\n# \u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430\n\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c `BeanContextBuilder`,\n \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u043c\u0435\u0442\u043e\u0434 `init()`, \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u0430\u043c `BeanContext`\n\n ```python\nctx_builder = BeanContextBuilder()\nctx_builder.load_yaml('pybeandi.yaml')\nctx_builder.profiles.add('service3')\nctx_builder.scan(globals())\nwith ctx_builder.init() as ctx:\n    print(list(ctx.beans.values()))\n    ...\n```\n\n## \u0421\u043f\u043e\u0441\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432\n\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443, \u0447\u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0431\u0438\u043d\u043e\u0432 \u0438 \u043e\u0442\u0434\u0430\u0442\u044c \u0435\u0433\u043e \u043f\u043e\u0434 \u0435\u0433\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c.\n\n### \u041d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0447\u0435\u0440\u0435\u0437 \u043c\u0435\u0442\u043e\u0434\n\u042d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438.\n\n\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441:\n```python\nctx_builder.register_bean(bean_id: str,\n                          bean_cls: Type,\n                          factory_func: Callable[..., Any],\n                          dependencies: Dict[str, str],\n                          profile_func: Callable[[Set[str]], bool] = lambda profs: True)\n\n# \u0415\u0441\u043b\u0438 \u043a\u043b\u0430\u0441\u0441 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d @bean\nctx_builder.register_bean_by_class(Service)\n```\n\n### \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0440\u0443\u0447\u043d\u0443\u044e\n\u041f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u043a, \u0441\u043f\u0438\u0441\u043a\u043e\u0432 \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0443\u0436\u0435 \u0433\u043e\u0442\u043e\u0432\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043a\u0430\u043a \u0431\u0438\u043d\u043e\u0432.\n\n\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441:\n```python\nctx_builder.add_as_bean(bean_id: str, obj: Any)\n```\n\n### \u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\n\n#### \u0427\u0435\u0440\u0435\u0437 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430\n\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0437\u0430\u0434\u0435\u043a\u043b\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u043d, \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u044f \u043b\u0438\u0448\u043d\u0438\u0445 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0435\u0439.\n\n\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441:\n```python\n@bean(bean_id: str,\n      profiles: Set[str] = None,\n      profile_func: Callable[[Set[str]], bool] = lambda profs: True,\n      **depends_on: Dict[str, str])\nclass MyService(Service):\n\n    def __init__(self, dep1, dep2, ...):\n        ...\n\n    ...\n```\n\n#### \u0427\u0435\u0440\u0435\u0437 \u043c\u0435\u0442\u043e\u0434-\u0444\u0430\u0431\u0440\u0438\u043a\u0443\n\u042d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u043f\u043e\u043b\u0435\u0437\u0435\u043d \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0441\u0430\u043c\u043e\u043c\u0443 \u043a\u043b\u0430\u0441\u0441\u0443 \u0438\u043b\u0438 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0438\u043d\u043e\u0433\u043e \u043c\u0435\u0442\u043e\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0431\u0438\u043d\u0430, \n\u0447\u0435\u043c \u0443 \u0435\u0433\u043e \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430.\n\n\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441:\n```python\n@bean(bean_id: str,\n      profiles: Set[str] = None,\n      profile_func: Callable[[Set[str]], bool] = lambda profs: True,\n      **depends_on: Dict[str, str])\ndef factory_bean(dep1, dep2, ...):\n    ...\n    return obj\n```\n\n#### \u0410\u0432\u0442\u043e\u043f\u043e\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f id\npybeandi \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0430\u0432\u0442\u043e\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f id \u0431\u0438\u043d\u0430, \n\u0442\u043e \u0435\u0441\u0442\u044c \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u044f\u0432\u043d\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0435\u0433\u043e id \u0432 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0435. \n\u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430/\u0444\u0443\u043d\u043a\u0446\u0438\u0438.\n\n```python\n@bean() # id = my_service1\nclass MyService1:\n    pass\n\n@bean() #id = my_service2\ndef my_service2():\n    pass\n```\n\n#### \u0412\u0430\u0436\u043d\u043e\n\u0415\u0441\u043b\u0438 \u0432 \u043a\u043e\u0434\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 `@bean`, \u0442\u043e \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \n```python\nctx_builder.scan(globals())\n```\n\u0410 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0430\u0441\u0441\u044b \u0438 \u043c\u0435\u0442\u043e\u0434\u044b-\u0444\u0430\u0431\u0440\u0438\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u0438\n\n## \u041f\u0440\u043e\u0444\u0438\u043b\u0438\n\u041f\u0440\u043e\u0444\u0438\u043b\u0438 - \u044d\u0442\u043e \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0440\u0430\u0437\u0443 \u0433\u0440\u0443\u043f\u043f\u043e\u0439 \u0431\u0438\u043d\u043e\u0432 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a.\n\u0422\u0430\u043a, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0434\u0432\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 (\u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430),\n\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0438\u043b\u0438 \u0432 \u0441\u0440\u0435\u0434\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0438\u043b\u0438 \u0432 \u0441\u0440\u0435\u0434\u0435 \u043d\u0430 \"\u0431\u043e\u0435\u0432\u043e\u0439\" \u043c\u0430\u0448\u0438\u043d\u0435, \u0442\u043e \u044d\u0442\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438,\n\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442 \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c: \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432.\n\n### \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430\n```python\nctx_builder.profiles.add('profile1')\n```\n\n### \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439 \u0431\u0438\u043d\u0430 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u043c\n\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435, \u0447\u0442\u043e \u0432\u0441\u0435 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b, \u0442\u043e \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e\n```python\n@bean(..., profiles={'profile1', ...}, ...)\n```\n\n\u0415\u0441\u043b\u0438 \u0436\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0441\u043b\u043e\u0436\u043d\u0435\u0435, \u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044e.\n\u0422\u0430\u043a, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e, \u0447\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044c 'profile1' \u043d\u0435\u0442\u0443 \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445, \u0442\u043e\n```python\n@bean(..., profile_func=lambda profs: 'profile1' not in profs, ...)\n```\n\n# \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0431\u0438\u043d\u043e\u0432\n\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0431\u0438\u043d\u043e\u0432 \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438\n\n## \u0427\u0435\u0440\u0435\u0437 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\n\u0412 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 **dependencies** \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0430 \u0438\u043b\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u0441\u043b\u043e\u0432\u0430\u0440\u044c, \n\u0433\u0434\u0435 \u043a\u043b\u044e\u0447 - \u0438\u043c\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0432 \u043c\u0435\u0442\u043e\u0434\u0435-\u0444\u0430\u0431\u0440\u0438\u043a\u0435 \u0438\u043b\u0438 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0435, \u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 - \u0441\u0441\u044b\u043b\u043a \u043d\u0430 \u043d\u0443\u0436\u043d\u044b\u0439 \u0431\u0438\u043d.\n\n```python\n@bean(..., dep1='bean1', dep2='bean2')\nclass Bean3:\n    def __init__(self, dep1, dep2):\n        ...\n```\n\n```python\n@bean(..., dep1='bean1', dep2='bean2')\ndef factory_bean3(dep1, dep2):\n    ...\n```\n\n```python\nctx.register_bean(..., dependencies={\n    'dep1': 'bean1',\n    'dep2': 'bean2',\n}, ...)\n```\n\n## \u041d\u0430\u043f\u0440\u044f\u043c\u0443\u044e\n\u041c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u0438\u043d \u0438\u0437 \u0441\u0430\u043c\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u043d\u0430 \u0431\u0438\u043d:\n\n```python\nbean3 = ctx.beans['bean3']\nbean3 = ctx.beans[Bean3]\n```\n\u041f\u0440\u0438\u0447\u0451\u043c, \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0431\u0438\u043d \u043f\u043e \u043a\u043b\u0430\u0441\u0441\u0443, \u0442\u043e \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043a\u0430\u0442\u044c \u0432\u0441\u0435 \u0431\u0438\u043d\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u044d\u0442\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430 \u0438\u043b\u0438 \u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043c\u043a\u043e\u0432.\n\n## \u0422\u0438\u043f\u044b \u0441\u0441\u044b\u043b\u043e\u043a \u043d\u0430 \u0431\u0438\u043d\n\u0421\u0441\u044b\u043b\u043a\u0430\u043c\u0438 \u043d\u0430 \u0431\u0438\u043d\u044b \u043c\u043e\u0433\u0443\u0442\u044c \u0431\u044b\u0442\u044c:\n- \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0431\u0438\u043d\u0430 `str`\n- \u043a\u043b\u0430\u0441\u0441 \u0431\u0438\u043d\u0430 `Type`\n- \u043e\u0431\u044a\u0435\u043a\u0442 `BeanRef(\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440/\u043a\u043b\u0430\u0441\u0441)` (pybeandi \u0438\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u0438\u0440\u0443\u0435\u0442 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u0434\u0432\u0430 \u0441\u043f\u043e\u0441\u043e\u0431\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c BeanRef)\n- \u043e\u0431\u044a\u0435\u043a\u0442 `SetBeanRef(\u043a\u043b\u0430\u0441\u0441)` - \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0430 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043d\u043e\u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430. \n\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441\u0441\u044b\u043b\u043a\u0430 `SetBeanRef(int)` \u0441\u0441\u044b\u043b\u043a\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0432\u0441\u0435\u0445 \u0431\u0438\u043d\u043e\u0432-\u0447\u0438\u0441\u0435\u043b\n\n## \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\n```python\nctx.beans # \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0431\u0438\u043d\u0430\u043c\nctx.beans.ids() # \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e id \u0431\u0438\u043d\u043e\u0432\nctx.beans.values() # \u0441\u043f\u0438\u0441\u043e\u043a \u0431\u0438\u043d\u043e\u0432 \u0431\u0435\u0437 id\n```\n\n\u0423\u0437\u043d\u0430\u0442\u044c, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043b\u0438 \u0431\u0438\u043d \u0441 \u0442\u0430\u043a\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u043e\u0439, \u043c\u043e\u0436\u043d\u043e \u0447\u0435\u0440\u0435\u0437\n```python\nBean3 in ctx.beans\n```\n\u041f\u0440\u0438\u0447\u0451\u043c \u0435\u0441\u043b\u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0431\u0438\u043d\u043e\u0432, \u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u043e `True`\n\n\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0441\u0430\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0431\u0438\u043d\u043e\u043c, \u0438 \u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\n```python\n@bean(ctx=BeanContext)\nclass MyService:\n    def __init__(self, ctx):\n        pass\n```\n\n## \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430\n`BeanContext` \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0432 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430:\n```python\nwith ctx_builder.init() as ctx:\n    print(list(ctx.beans.values()))\n```\n\u0427\u0442\u043e\u0431\u044b \u0431\u0438\u043d\u044b \u043c\u043e\u0433\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c, \u043e\u043d\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441 `CloseableBean`\n\n## \u0424\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\npybeandi \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0447\u0430\u0441\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 YAML-\u0444\u0430\u0439\u043b. \u0415\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442:\n\n\u0422\u0430\u043a\u0436\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u044b \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438, \u0442\u043e\u0433\u0434\u0430 \u043f\u0435\u0440\u0435\u0434 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c !ENV,\n\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u044b \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u0430\u043a ${<\u041f\u0435\u0440\u0435\u043c\u0435\u043d. \u0441\u0440\u0435\u0434\u044b>}\n```yaml\npybeandi:\n    profiles:\n      active:\n        - profile1\n        - ...\n    beans:\n      bean_id1: bean1\n      service_vals:\n        - val1\n        - val2\n      service_dict:\n        key1: val1\n        key2: val2\n      db_url: !ENV jdbc:mysql://${MYSQL_HOST}:${MYSQL_PORT}/${MYSQL_PATH}\n```\n`profiles.active` - \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438\n\n`beans` - \u0431\u0438\u043d\u044b \u0431\u0430\u0437\u043e\u0432\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 (\u0441\u0442\u0440\u043e\u043a\u0438, \u0441\u043f\u0438\u0441\u043a\u0438, \u0441\u043b\u043e\u0432\u0430\u0440\u0438 \u0438 \u0442.\u0434.)\n\n# \u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438\npybeandi \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u043d\u043d\u0435\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0447\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u0438\u043c\u0435\u043d\u0430, \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u044b \u0438 \u043f\u0443\u0442\u0438 \u043a\u043b\u0430\u0441\u0441\u043e\u0432, \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u0438 \u0434\u0440. \u043c\u043e\u0433\u0443\u0442 \u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u0431\u0435\u0437 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f. \n\n\u0415\u0441\u043b\u0438 \u0443 \u0412\u0430\u0441 \u0435\u0441\u0442\u044c \u043a\u0430\u043a\u0438\u0435-\u043b\u0438\u0431\u043e \u043f\u043e\u0436\u0435\u043b\u0430\u043d\u0438\u044f/\u0437\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u044f \u043f\u043e \u043f\u043e\u0432\u043e\u0434\u0443 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0438\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e\u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f:\n[Telegram](https://tgmsg.ru/Discrimy) \u0438\u043b\u0438 \u0432 [Github Issues](https://github.com/Discrimy/pybeandi/issues)\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Discrimy/pydi", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "pybeandi", "package_url": "https://pypi.org/project/pybeandi/", "platform": "", "project_url": "https://pypi.org/project/pybeandi/", "project_urls": {"Homepage": "https://github.com/Discrimy/pydi"}, "release_url": "https://pypi.org/project/pybeandi/0.0.7/", "requires_dist": ["PyYAML (>=5.3)"], "requires_python": ">=3.6", "summary": "Python Dependency Injection library", "version": "0.0.7", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435</h1>\n<p>pybeandi - \u042d\u0442\u043e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430, \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0449\u0430\u044f \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0432 Python</p>\n<h2>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435</h2>\n<p>\u0413\u043b\u0430\u0432\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u0432\u043e \u0432\u0441\u0435\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f <strong>\u0431\u0438\u043d</strong> (bean).\n\u0411\u0438\u043d\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f, \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f <strong>\u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c</strong> (BeanContext).\n\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043d\u0435\u0434\u0440\u044f\u0442\u044c \u0438\u0445 \u0432 \u0434\u0440\u0443\u0433\u0438\u0435 \u0431\u0438\u043d\u044b \u0438\u043b\u0438 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c \u0438\u0445 \u043e\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430.\n\u0422\u0435\u043c \u0441\u0430\u043c\u044b\u043c \u0432\u0430\u0448 \u043a\u043e\u0434 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0437\u043d\u0430\u0435\u0442, \u043a\u0430\u043a\u0438\u0435 \u0438\u043c\u0435\u043d\u043d\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u043a \u043d\u0435\u043c\u0443 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442,\n\u0447\u0442\u043e \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u0442 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0438 \u0443\u043f\u0440\u043e\u0449\u0430\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u0438 \u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0441\u0442\u044c,\n\u0442\u0430\u043a \u043a\u0430\u043a \u0442\u0435\u043f\u0435\u0440\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0432\u0430\u0448\u0438\u043c\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 \u0438 \u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442.</p>\n<h2>\u041f\u0440\u0438\u043c\u0435\u0440</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">abc</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">pybeandi.context</span> <span class=\"kn\">import</span> <span class=\"n\">BeanContextBuilder</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pybeandi.decorators</span> <span class=\"kn\">import</span> <span class=\"n\">bean</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">Service</span><span class=\"p\">(</span><span class=\"n\">abc</span><span class=\"o\">.</span><span class=\"n\">ABC</span><span class=\"p\">):</span>\n\n    <span class=\"nd\">@abc</span><span class=\"o\">.</span><span class=\"n\">abstractmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"nb\">str</span><span class=\"p\">:</span>\n        <span class=\"k\">pass</span>\n\n\n<span class=\"nd\">@bean</span><span class=\"p\">(</span><span class=\"n\">profiles</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'service1'</span><span class=\"p\">})</span>\n<span class=\"k\">class</span> <span class=\"nc\">My1Service</span><span class=\"p\">(</span><span class=\"n\">Service</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"nb\">str</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"s1\">'Hello from 1 service'</span>\n\n\n<span class=\"nd\">@bean</span><span class=\"p\">(</span><span class=\"n\">profiles</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'service2'</span><span class=\"p\">})</span>\n<span class=\"k\">class</span> <span class=\"nc\">My2Service</span><span class=\"p\">(</span><span class=\"n\">Service</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"nb\">str</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"s1\">'Hello from 2 service'</span>\n\n\n<span class=\"nd\">@bean</span><span class=\"p\">(</span><span class=\"n\">profiles</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'service3'</span><span class=\"p\">},</span> <span class=\"n\">context</span><span class=\"o\">=</span><span class=\"s1\">'context'</span><span class=\"p\">)</span>\n<span class=\"k\">class</span> <span class=\"nc\">My3Service</span><span class=\"p\">(</span><span class=\"n\">Service</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">hello</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"nb\">str</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"sa\">f</span><span class=\"s1\">'Hello from 3 service and </span><span class=\"si\">{</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"p\">[</span><span class=\"n\">Service</span><span class=\"p\">]</span><span class=\"si\">}</span><span class=\"s1\">'</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">context</span> <span class=\"o\">=</span> <span class=\"n\">context</span>\n\n\n<span class=\"nd\">@bean</span><span class=\"p\">()</span>\n<span class=\"k\">def</span> <span class=\"nf\">func_bean</span><span class=\"p\">():</span>\n    <span class=\"k\">pass</span>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n    <span class=\"n\">ctx_builder</span> <span class=\"o\">=</span> <span class=\"n\">BeanContextBuilder</span><span class=\"p\">()</span>\n    <span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">load_yaml</span><span class=\"p\">(</span><span class=\"s1\">'pybeandi.yaml'</span><span class=\"p\">)</span>\n    <span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">profiles</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s1\">'service3'</span><span class=\"p\">)</span>\n    <span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">scan</span><span class=\"p\">(</span><span class=\"nb\">globals</span><span class=\"p\">())</span>\n    <span class=\"k\">with</span> <span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">init</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">ctx</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"p\">[</span><span class=\"n\">Service</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">hello</span><span class=\"p\">())</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">Service</span> <span class=\"ow\">in</span> <span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">profiles</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">set</span><span class=\"p\">(</span><span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">()))</span>\n</pre>\n<h1>\u0422\u0435\u043e\u0440\u0438\u044f</h1>\n<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u0431\u0438\u043d \u043e\u0431\u043b\u0430\u0434\u0430\u0435\u0442:</p>\n<ul>\n<li>\u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c \u0438\u0434\u0435\u043d\u0434\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 (<strong>bean_id</strong>), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0434\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0435\u0433\u043e \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430;</li>\n<li>\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u043e\u043c (<strong>factory_func</strong>), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 \u0431\u0438\u043d\u0430</li>\n<li>\u0441\u043b\u043e\u0432\u0430\u0440\u0451\u043c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 (<strong>dependencies</strong>), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442, \u043a\u0430\u043a\u043e\u043c\u0443 \u043f\u043e\u043b\u044e \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043a\u0430\u043a\u043e\u0439 \u0431\u0438\u043d</li>\n<li>\u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044f (<strong>profile_func</strong>), \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430 \u0432\u0445\u043e\u0434 \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442, \u043d\u0443\u0436\u043d\u043e \u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0431\u0438\u043d</li>\n</ul>\n<h1>\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430</h1>\n<p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c <code>BeanContextBuilder</code>,\n\u0437\u0430\u0442\u0435\u043c \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u043c\u0435\u0442\u043e\u0434 <code>init()</code>, \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u0430\u043c <code>BeanContext</code></p>\n<pre><span class=\"n\">ctx_builder</span> <span class=\"o\">=</span> <span class=\"n\">BeanContextBuilder</span><span class=\"p\">()</span>\n<span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">load_yaml</span><span class=\"p\">(</span><span class=\"s1\">'pybeandi.yaml'</span><span class=\"p\">)</span>\n<span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">profiles</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s1\">'service3'</span><span class=\"p\">)</span>\n<span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">scan</span><span class=\"p\">(</span><span class=\"nb\">globals</span><span class=\"p\">())</span>\n<span class=\"k\">with</span> <span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">init</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">ctx</span><span class=\"p\">:</span>\n   <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">()))</span>\n   <span class=\"o\">...</span>\n</pre>\n<h2>\u0421\u043f\u043e\u0441\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432</h2>\n<p>\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443, \u0447\u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0431\u0438\u043d\u043e\u0432 \u0438 \u043e\u0442\u0434\u0430\u0442\u044c \u0435\u0433\u043e \u043f\u043e\u0434 \u0435\u0433\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c.</p>\n<h3>\u041d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0447\u0435\u0440\u0435\u0437 \u043c\u0435\u0442\u043e\u0434</h3>\n<p>\u042d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438.</p>\n<p>\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441:</p>\n<pre><span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">register_bean</span><span class=\"p\">(</span><span class=\"n\">bean_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span>\n                          <span class=\"n\">bean_cls</span><span class=\"p\">:</span> <span class=\"n\">Type</span><span class=\"p\">,</span>\n                          <span class=\"n\">factory_func</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">Any</span><span class=\"p\">],</span>\n                          <span class=\"n\">dependencies</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">],</span>\n                          <span class=\"n\">profile_func</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]],</span> <span class=\"nb\">bool</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"n\">profs</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u0415\u0441\u043b\u0438 \u043a\u043b\u0430\u0441\u0441 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d @bean</span>\n<span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">register_bean_by_class</span><span class=\"p\">(</span><span class=\"n\">Service</span><span class=\"p\">)</span>\n</pre>\n<h3>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0440\u0443\u0447\u043d\u0443\u044e</h3>\n<p>\u041f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u043a, \u0441\u043f\u0438\u0441\u043a\u043e\u0432 \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0443\u0436\u0435 \u0433\u043e\u0442\u043e\u0432\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043a\u0430\u043a \u0431\u0438\u043d\u043e\u0432.</p>\n<p>\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441:</p>\n<pre><span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">add_as_bean</span><span class=\"p\">(</span><span class=\"n\">bean_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">obj</span><span class=\"p\">:</span> <span class=\"n\">Any</span><span class=\"p\">)</span>\n</pre>\n<h3>\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435</h3>\n<h4>\u0427\u0435\u0440\u0435\u0437 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430</h4>\n<p>\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0437\u0430\u0434\u0435\u043a\u043b\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0438\u043d, \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u044f \u043b\u0438\u0448\u043d\u0438\u0445 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0435\u0439.</p>\n<p>\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441:</p>\n<pre><span class=\"nd\">@bean</span><span class=\"p\">(</span><span class=\"n\">bean_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span>\n      <span class=\"n\">profiles</span><span class=\"p\">:</span> <span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span><span class=\"p\">,</span>\n      <span class=\"n\">profile_func</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]],</span> <span class=\"nb\">bool</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"n\">profs</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n      <span class=\"o\">**</span><span class=\"n\">depends_on</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">])</span>\n<span class=\"k\">class</span> <span class=\"nc\">MyService</span><span class=\"p\">(</span><span class=\"n\">Service</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">dep1</span><span class=\"p\">,</span> <span class=\"n\">dep2</span><span class=\"p\">,</span> <span class=\"o\">...</span><span class=\"p\">):</span>\n        <span class=\"o\">...</span>\n\n    <span class=\"o\">...</span>\n</pre>\n<h4>\u0427\u0435\u0440\u0435\u0437 \u043c\u0435\u0442\u043e\u0434-\u0444\u0430\u0431\u0440\u0438\u043a\u0443</h4>\n<p>\u042d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u043f\u043e\u043b\u0435\u0437\u0435\u043d \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0441\u0430\u043c\u043e\u043c\u0443 \u043a\u043b\u0430\u0441\u0441\u0443 \u0438\u043b\u0438 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0438\u043d\u043e\u0433\u043e \u043c\u0435\u0442\u043e\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0431\u0438\u043d\u0430,\n\u0447\u0435\u043c \u0443 \u0435\u0433\u043e \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430.</p>\n<p>\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441:</p>\n<pre><span class=\"nd\">@bean</span><span class=\"p\">(</span><span class=\"n\">bean_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span>\n      <span class=\"n\">profiles</span><span class=\"p\">:</span> <span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">None</span><span class=\"p\">,</span>\n      <span class=\"n\">profile_func</span><span class=\"p\">:</span> <span class=\"n\">Callable</span><span class=\"p\">[[</span><span class=\"n\">Set</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]],</span> <span class=\"nb\">bool</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"n\">profs</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n      <span class=\"o\">**</span><span class=\"n\">depends_on</span><span class=\"p\">:</span> <span class=\"n\">Dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">factory_bean</span><span class=\"p\">(</span><span class=\"n\">dep1</span><span class=\"p\">,</span> <span class=\"n\">dep2</span><span class=\"p\">,</span> <span class=\"o\">...</span><span class=\"p\">):</span>\n    <span class=\"o\">...</span>\n    <span class=\"k\">return</span> <span class=\"n\">obj</span>\n</pre>\n<h4>\u0410\u0432\u0442\u043e\u043f\u043e\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f id</h4>\n<p>pybeandi \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0430\u0432\u0442\u043e\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f id \u0431\u0438\u043d\u0430,\n\u0442\u043e \u0435\u0441\u0442\u044c \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u044f\u0432\u043d\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0435\u0433\u043e id \u0432 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0435.\n\u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430/\u0444\u0443\u043d\u043a\u0446\u0438\u0438.</p>\n<pre><span class=\"nd\">@bean</span><span class=\"p\">()</span> <span class=\"c1\"># id = my_service1</span>\n<span class=\"k\">class</span> <span class=\"nc\">MyService1</span><span class=\"p\">:</span>\n    <span class=\"k\">pass</span>\n\n<span class=\"nd\">@bean</span><span class=\"p\">()</span> <span class=\"c1\">#id = my_service2</span>\n<span class=\"k\">def</span> <span class=\"nf\">my_service2</span><span class=\"p\">():</span>\n    <span class=\"k\">pass</span>\n</pre>\n<h4>\u0412\u0430\u0436\u043d\u043e</h4>\n<p>\u0415\u0441\u043b\u0438 \u0432 \u043a\u043e\u0434\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 <code>@bean</code>, \u0442\u043e \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c</p>\n<pre><span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">scan</span><span class=\"p\">(</span><span class=\"nb\">globals</span><span class=\"p\">())</span>\n</pre>\n<p>\u0410 \u0434\u0435\u043a\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0430\u0441\u0441\u044b \u0438 \u043c\u0435\u0442\u043e\u0434\u044b-\u0444\u0430\u0431\u0440\u0438\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u0438</p>\n<h2>\u041f\u0440\u043e\u0444\u0438\u043b\u0438</h2>\n<p>\u041f\u0440\u043e\u0444\u0438\u043b\u0438 - \u044d\u0442\u043e \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0440\u0430\u0437\u0443 \u0433\u0440\u0443\u043f\u043f\u043e\u0439 \u0431\u0438\u043d\u043e\u0432 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a.\n\u0422\u0430\u043a, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0434\u0432\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 (\u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430),\n\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0438\u043b\u0438 \u0432 \u0441\u0440\u0435\u0434\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0438\u043b\u0438 \u0432 \u0441\u0440\u0435\u0434\u0435 \u043d\u0430 \"\u0431\u043e\u0435\u0432\u043e\u0439\" \u043c\u0430\u0448\u0438\u043d\u0435, \u0442\u043e \u044d\u0442\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438,\n\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442 \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c: \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432.</p>\n<h3>\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430</h3>\n<pre><span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">profiles</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s1\">'profile1'</span><span class=\"p\">)</span>\n</pre>\n<h3>\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439 \u0431\u0438\u043d\u0430 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u043c</h3>\n<p>\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435, \u0447\u0442\u043e \u0432\u0441\u0435 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b, \u0442\u043e \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e</p>\n<pre><span class=\"nd\">@bean</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">profiles</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'profile1'</span><span class=\"p\">,</span> <span class=\"o\">...</span><span class=\"p\">},</span> <span class=\"o\">...</span><span class=\"p\">)</span>\n</pre>\n<p>\u0415\u0441\u043b\u0438 \u0436\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0441\u043b\u043e\u0436\u043d\u0435\u0435, \u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044e.\n\u0422\u0430\u043a, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e, \u0447\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044c 'profile1' \u043d\u0435\u0442\u0443 \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445, \u0442\u043e</p>\n<pre><span class=\"nd\">@bean</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">profile_func</span><span class=\"o\">=</span><span class=\"k\">lambda</span> <span class=\"n\">profs</span><span class=\"p\">:</span> <span class=\"s1\">'profile1'</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">profs</span><span class=\"p\">,</span> <span class=\"o\">...</span><span class=\"p\">)</span>\n</pre>\n<h1>\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0431\u0438\u043d\u043e\u0432</h1>\n<p>\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0431\u0438\u043d\u043e\u0432 \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438</p>\n<h2>\u0427\u0435\u0440\u0435\u0437 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438</h2>\n<p>\u0412 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <strong>dependencies</strong> \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0430 \u0438\u043b\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u0441\u043b\u043e\u0432\u0430\u0440\u044c,\n\u0433\u0434\u0435 \u043a\u043b\u044e\u0447 - \u0438\u043c\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0432 \u043c\u0435\u0442\u043e\u0434\u0435-\u0444\u0430\u0431\u0440\u0438\u043a\u0435 \u0438\u043b\u0438 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0435, \u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 - \u0441\u0441\u044b\u043b\u043a \u043d\u0430 \u043d\u0443\u0436\u043d\u044b\u0439 \u0431\u0438\u043d.</p>\n<pre><span class=\"nd\">@bean</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">dep1</span><span class=\"o\">=</span><span class=\"s1\">'bean1'</span><span class=\"p\">,</span> <span class=\"n\">dep2</span><span class=\"o\">=</span><span class=\"s1\">'bean2'</span><span class=\"p\">)</span>\n<span class=\"k\">class</span> <span class=\"nc\">Bean3</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">dep1</span><span class=\"p\">,</span> <span class=\"n\">dep2</span><span class=\"p\">):</span>\n        <span class=\"o\">...</span>\n</pre>\n<pre><span class=\"nd\">@bean</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">dep1</span><span class=\"o\">=</span><span class=\"s1\">'bean1'</span><span class=\"p\">,</span> <span class=\"n\">dep2</span><span class=\"o\">=</span><span class=\"s1\">'bean2'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">factory_bean3</span><span class=\"p\">(</span><span class=\"n\">dep1</span><span class=\"p\">,</span> <span class=\"n\">dep2</span><span class=\"p\">):</span>\n    <span class=\"o\">...</span>\n</pre>\n<pre><span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">register_bean</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">,</span> <span class=\"n\">dependencies</span><span class=\"o\">=</span><span class=\"p\">{</span>\n    <span class=\"s1\">'dep1'</span><span class=\"p\">:</span> <span class=\"s1\">'bean1'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'dep2'</span><span class=\"p\">:</span> <span class=\"s1\">'bean2'</span><span class=\"p\">,</span>\n<span class=\"p\">},</span> <span class=\"o\">...</span><span class=\"p\">)</span>\n</pre>\n<h2>\u041d\u0430\u043f\u0440\u044f\u043c\u0443\u044e</h2>\n<p>\u041c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u0438\u043d \u0438\u0437 \u0441\u0430\u043c\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u043d\u0430 \u0431\u0438\u043d:</p>\n<pre><span class=\"n\">bean3</span> <span class=\"o\">=</span> <span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"p\">[</span><span class=\"s1\">'bean3'</span><span class=\"p\">]</span>\n<span class=\"n\">bean3</span> <span class=\"o\">=</span> <span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"p\">[</span><span class=\"n\">Bean3</span><span class=\"p\">]</span>\n</pre>\n<p>\u041f\u0440\u0438\u0447\u0451\u043c, \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0431\u0438\u043d \u043f\u043e \u043a\u043b\u0430\u0441\u0441\u0443, \u0442\u043e \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043a\u0430\u0442\u044c \u0432\u0441\u0435 \u0431\u0438\u043d\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u044d\u0442\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430 \u0438\u043b\u0438 \u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043c\u043a\u043e\u0432.</p>\n<h2>\u0422\u0438\u043f\u044b \u0441\u0441\u044b\u043b\u043e\u043a \u043d\u0430 \u0431\u0438\u043d</h2>\n<p>\u0421\u0441\u044b\u043b\u043a\u0430\u043c\u0438 \u043d\u0430 \u0431\u0438\u043d\u044b \u043c\u043e\u0433\u0443\u0442\u044c \u0431\u044b\u0442\u044c:</p>\n<ul>\n<li>\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0431\u0438\u043d\u0430 <code>str</code></li>\n<li>\u043a\u043b\u0430\u0441\u0441 \u0431\u0438\u043d\u0430 <code>Type</code></li>\n<li>\u043e\u0431\u044a\u0435\u043a\u0442 <code>BeanRef(\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440/\u043a\u043b\u0430\u0441\u0441)</code> (pybeandi \u0438\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u0438\u0440\u0443\u0435\u0442 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u0434\u0432\u0430 \u0441\u043f\u043e\u0441\u043e\u0431\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c BeanRef)</li>\n<li>\u043e\u0431\u044a\u0435\u043a\u0442 <code>SetBeanRef(\u043a\u043b\u0430\u0441\u0441)</code> - \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0430 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043d\u043e\u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430.\n\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441\u0441\u044b\u043b\u043a\u0430 <code>SetBeanRef(int)</code> \u0441\u0441\u044b\u043b\u043a\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0432\u0441\u0435\u0445 \u0431\u0438\u043d\u043e\u0432-\u0447\u0438\u0441\u0435\u043b</li>\n</ul>\n<h2>\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e</h2>\n<pre><span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span> <span class=\"c1\"># \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0431\u0438\u043d\u0430\u043c</span>\n<span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"o\">.</span><span class=\"n\">ids</span><span class=\"p\">()</span> <span class=\"c1\"># \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e id \u0431\u0438\u043d\u043e\u0432</span>\n<span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">()</span> <span class=\"c1\"># \u0441\u043f\u0438\u0441\u043e\u043a \u0431\u0438\u043d\u043e\u0432 \u0431\u0435\u0437 id</span>\n</pre>\n<p>\u0423\u0437\u043d\u0430\u0442\u044c, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043b\u0438 \u0431\u0438\u043d \u0441 \u0442\u0430\u043a\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u043e\u0439, \u043c\u043e\u0436\u043d\u043e \u0447\u0435\u0440\u0435\u0437</p>\n<pre><span class=\"n\">Bean3</span> <span class=\"ow\">in</span> <span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span>\n</pre>\n<p>\u041f\u0440\u0438\u0447\u0451\u043c \u0435\u0441\u043b\u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0431\u0438\u043d\u043e\u0432, \u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u043e <code>True</code></p>\n<p>\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0441\u0430\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0431\u0438\u043d\u043e\u043c, \u0438 \u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439</p>\n<pre><span class=\"nd\">@bean</span><span class=\"p\">(</span><span class=\"n\">ctx</span><span class=\"o\">=</span><span class=\"n\">BeanContext</span><span class=\"p\">)</span>\n<span class=\"k\">class</span> <span class=\"nc\">MyService</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">ctx</span><span class=\"p\">):</span>\n        <span class=\"k\">pass</span>\n</pre>\n<h2>\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430</h2>\n<p><code>BeanContext</code> \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0432 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0430:</p>\n<pre><span class=\"k\">with</span> <span class=\"n\">ctx_builder</span><span class=\"o\">.</span><span class=\"n\">init</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">ctx</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">ctx</span><span class=\"o\">.</span><span class=\"n\">beans</span><span class=\"o\">.</span><span class=\"n\">values</span><span class=\"p\">()))</span>\n</pre>\n<p>\u0427\u0442\u043e\u0431\u044b \u0431\u0438\u043d\u044b \u043c\u043e\u0433\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c, \u043e\u043d\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441 <code>CloseableBean</code></p>\n<h2>\u0424\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</h2>\n<p>pybeandi \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0447\u0430\u0441\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 YAML-\u0444\u0430\u0439\u043b. \u0415\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442:</p>\n<p>\u0422\u0430\u043a\u0436\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u044b \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438, \u0442\u043e\u0433\u0434\u0430 \u043f\u0435\u0440\u0435\u0434 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c !ENV,\n\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u044b \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u0430\u043a ${&lt;\u041f\u0435\u0440\u0435\u043c\u0435\u043d. \u0441\u0440\u0435\u0434\u044b&gt;}</p>\n<pre><span class=\"nt\">pybeandi</span><span class=\"p\">:</span>\n    <span class=\"nt\">profiles</span><span class=\"p\">:</span>\n      <span class=\"nt\">active</span><span class=\"p\">:</span>\n        <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">profile1</span>\n        <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">...</span>\n    <span class=\"nt\">beans</span><span class=\"p\">:</span>\n      <span class=\"nt\">bean_id1</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">bean1</span>\n      <span class=\"nt\">service_vals</span><span class=\"p\">:</span>\n        <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">val1</span>\n        <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">val2</span>\n      <span class=\"nt\">service_dict</span><span class=\"p\">:</span>\n        <span class=\"nt\">key1</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">val1</span>\n        <span class=\"nt\">key2</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">val2</span>\n      <span class=\"nt\">db_url</span><span class=\"p\">:</span> <span class=\"kt\">!ENV</span> <span class=\"l l-Scalar l-Scalar-Plain\">jdbc:mysql://${MYSQL_HOST}:${MYSQL_PORT}/${MYSQL_PATH}</span>\n</pre>\n<p><code>profiles.active</code> - \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438</p>\n<p><code>beans</code> - \u0431\u0438\u043d\u044b \u0431\u0430\u0437\u043e\u0432\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 (\u0441\u0442\u0440\u043e\u043a\u0438, \u0441\u043f\u0438\u0441\u043a\u0438, \u0441\u043b\u043e\u0432\u0430\u0440\u0438 \u0438 \u0442.\u0434.)</p>\n<h1>\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438</h1>\n<p>pybeandi \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u043d\u043d\u0435\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0447\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u0438\u043c\u0435\u043d\u0430, \u0441\u0438\u0433\u043d\u0430\u0442\u0443\u0440\u044b \u0438 \u043f\u0443\u0442\u0438 \u043a\u043b\u0430\u0441\u0441\u043e\u0432, \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u0438 \u0434\u0440. \u043c\u043e\u0433\u0443\u0442 \u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u0431\u0435\u0437 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f.</p>\n<p>\u0415\u0441\u043b\u0438 \u0443 \u0412\u0430\u0441 \u0435\u0441\u0442\u044c \u043a\u0430\u043a\u0438\u0435-\u043b\u0438\u0431\u043e \u043f\u043e\u0436\u0435\u043b\u0430\u043d\u0438\u044f/\u0437\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u044f \u043f\u043e \u043f\u043e\u0432\u043e\u0434\u0443 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0438\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e\u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f:\n<a href=\"https://tgmsg.ru/Discrimy\" rel=\"nofollow\">Telegram</a> \u0438\u043b\u0438 \u0432 <a href=\"https://github.com/Discrimy/pybeandi/issues\" rel=\"nofollow\">Github Issues</a></p>\n\n          </div>"}, "last_serial": 7188914, "releases": {"0.0.2": [{"comment_text": "", "digests": {"md5": "7a5af1a00acbe27947c852c949e89399", "sha256": "23e17c8012cccabbbf392d8cf15318306b24d5a40010845de41dfc2bcf74f0e4"}, "downloads": -1, "filename": "pybeandi-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "7a5af1a00acbe27947c852c949e89399", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 8706, "upload_time": "2019-12-21T18:13:24", "upload_time_iso_8601": "2019-12-21T18:13:24.601235Z", "url": "https://files.pythonhosted.org/packages/6d/bd/64b4d857d54eb868f954e16ddd028392048e0e94e812b7318b892617652c/pybeandi-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "33ad1a22a7dd284e1aafacd452056c89", "sha256": "354bd869edc7bd25f6de13c55e4746ebbbc347d568cb5d9a2635e6e1e74dd6f4"}, "downloads": -1, "filename": "pybeandi-0.0.2.tar.gz", "has_sig": false, "md5_digest": "33ad1a22a7dd284e1aafacd452056c89", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 10709, "upload_time": "2019-12-21T18:13:27", "upload_time_iso_8601": "2019-12-21T18:13:27.113895Z", "url": "https://files.pythonhosted.org/packages/6d/60/08f4ef5c6085a937e3c8e5abbaa3fe10e6dbb5ce7c2a905e37b1f7f99e5b/pybeandi-0.0.2.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "2d74fcfe769217f5fb356599cdb81106", "sha256": "beb5ff6def9eee9dd7fcee206117590575072bf9045182533e2f34f1af8dea56"}, "downloads": -1, "filename": "pybeandi-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "2d74fcfe769217f5fb356599cdb81106", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 8720, "upload_time": "2019-12-21T18:27:03", "upload_time_iso_8601": "2019-12-21T18:27:03.493724Z", "url": "https://files.pythonhosted.org/packages/33/31/273e83ee9663c02af54ba10bd497f7ce1c68b3035ecf0da4f8258f709c8d/pybeandi-0.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "25d368bfa0356a63dd8781ed1f229828", "sha256": "176553a7d65095f19911d4a1626b7b501e6880c22b24e8d430888643d256c432"}, "downloads": -1, "filename": "pybeandi-0.0.4.tar.gz", "has_sig": false, "md5_digest": "25d368bfa0356a63dd8781ed1f229828", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 10743, "upload_time": "2019-12-21T18:27:04", "upload_time_iso_8601": "2019-12-21T18:27:04.969026Z", "url": "https://files.pythonhosted.org/packages/e0/19/62a2e77dd1d65e5882c1190c4218cba3d20fda1bc0521f8a0a50ce8b4cc7/pybeandi-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "f7e1bf00c9f3e220a30dc25690e33a75", "sha256": "1f2dd9e717375a9da616f842663fc9e6e664240ce0ee193571a6fda5890f4353"}, "downloads": -1, "filename": "pybeandi-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "f7e1bf00c9f3e220a30dc25690e33a75", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10145, "upload_time": "2020-01-23T11:10:31", "upload_time_iso_8601": "2020-01-23T11:10:31.183585Z", "url": "https://files.pythonhosted.org/packages/47/eb/8384f2fef0e0958a0df64fd8bd714f324a5abea7a3c70afdd99d9db85f55/pybeandi-0.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "43e031d09c3581dca2ff4c173136bb9f", "sha256": "8c6bb92c61a80be49c20fd2cfe69c3988f16dd1a00a40dee65ef38bf2777b9d8"}, "downloads": -1, "filename": "pybeandi-0.0.5.tar.gz", "has_sig": false, "md5_digest": "43e031d09c3581dca2ff4c173136bb9f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 12644, "upload_time": "2020-01-23T11:10:32", "upload_time_iso_8601": "2020-01-23T11:10:32.379578Z", "url": "https://files.pythonhosted.org/packages/7d/09/c916559db58caa82bbf66c2a75280634610f49d73dd819cc08d71cc01f14/pybeandi-0.0.5.tar.gz", "yanked": false}], "0.0.6": [{"comment_text": "", "digests": {"md5": "314df4b5bdf79fda8946480fc03ee590", "sha256": "2b4aec83f545f87387363c39b95aac0f0bad3d8b847e6e606cae4ac0f1805ff0"}, "downloads": -1, "filename": "pybeandi-0.0.6-py3-none-any.whl", "has_sig": false, "md5_digest": "314df4b5bdf79fda8946480fc03ee590", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11204, "upload_time": "2020-05-07T14:05:50", "upload_time_iso_8601": "2020-05-07T14:05:50.040411Z", "url": "https://files.pythonhosted.org/packages/22/8a/ec2c8909ec0090d846e90e4e1bc57cac1d9e58a8bad97a318d0e5e1f6e6b/pybeandi-0.0.6-py3-none-any.whl", "yanked": true}, {"comment_text": "", "digests": {"md5": "8341746bf9ea6a47fc463a1c83a662b4", "sha256": "e8b046992d09b9fbd32294e2c8b05f72919ebb88dd066a1806a009cd56554741"}, "downloads": -1, "filename": "pybeandi-0.0.6.tar.gz", "has_sig": false, "md5_digest": "8341746bf9ea6a47fc463a1c83a662b4", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 14120, "upload_time": "2020-05-07T13:52:48", "upload_time_iso_8601": "2020-05-07T13:52:48.608050Z", "url": "https://files.pythonhosted.org/packages/c3/4b/e0940103c347624dd13111c76d9bf631079a2e0934352c23822d4c41920b/pybeandi-0.0.6.tar.gz", "yanked": true}], "0.0.7": [{"comment_text": "", "digests": {"md5": "6cdc0e003b13e0fc15c8c64a0fb66a60", "sha256": "92ad6116cc211e3b60e591619ab03d5de317a4257eba0b592acbb1e5e57ebcbf"}, "downloads": -1, "filename": "pybeandi-0.0.7-py3-none-any.whl", "has_sig": false, "md5_digest": "6cdc0e003b13e0fc15c8c64a0fb66a60", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11205, "upload_time": "2020-05-07T14:15:34", "upload_time_iso_8601": "2020-05-07T14:15:34.781189Z", "url": "https://files.pythonhosted.org/packages/24/b3/6b29d3d405cc133f2521bb71aa1d4883a4a9c66c5306a206ccfd7b59fd03/pybeandi-0.0.7-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "11b9c47ce6ae387260eb40e215eb739b", "sha256": "95f8ae73da9e57b9d1376b83070c80d8e30ebe9dec0e789447cd248229cc6b2c"}, "downloads": -1, "filename": "pybeandi-0.0.7.tar.gz", "has_sig": false, "md5_digest": "11b9c47ce6ae387260eb40e215eb739b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 14121, "upload_time": "2020-05-07T14:15:36", "upload_time_iso_8601": "2020-05-07T14:15:36.068365Z", "url": "https://files.pythonhosted.org/packages/d1/e2/be8094e7a69eb401834b2b15a799c9e81e573abaf25393c7b966f6994d6d/pybeandi-0.0.7.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "6cdc0e003b13e0fc15c8c64a0fb66a60", "sha256": "92ad6116cc211e3b60e591619ab03d5de317a4257eba0b592acbb1e5e57ebcbf"}, "downloads": -1, "filename": "pybeandi-0.0.7-py3-none-any.whl", "has_sig": false, "md5_digest": "6cdc0e003b13e0fc15c8c64a0fb66a60", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11205, "upload_time": "2020-05-07T14:15:34", "upload_time_iso_8601": "2020-05-07T14:15:34.781189Z", "url": "https://files.pythonhosted.org/packages/24/b3/6b29d3d405cc133f2521bb71aa1d4883a4a9c66c5306a206ccfd7b59fd03/pybeandi-0.0.7-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "11b9c47ce6ae387260eb40e215eb739b", "sha256": "95f8ae73da9e57b9d1376b83070c80d8e30ebe9dec0e789447cd248229cc6b2c"}, "downloads": -1, "filename": "pybeandi-0.0.7.tar.gz", "has_sig": false, "md5_digest": "11b9c47ce6ae387260eb40e215eb739b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 14121, "upload_time": "2020-05-07T14:15:36", "upload_time_iso_8601": "2020-05-07T14:15:36.068365Z", "url": "https://files.pythonhosted.org/packages/d1/e2/be8094e7a69eb401834b2b15a799c9e81e573abaf25393c7b966f6994d6d/pybeandi-0.0.7.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:09:19 2020"}
{"info": {"author": "Jorge M. Faleiro Jr.", "author_email": "j@falei.ro", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: GNU Affero General Public License v3", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Topic :: Software Development", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# setup_scmversion\n\nBuilds a pythonic version number based on information available on your scm (tag, branch, and number of commits).\n\nSee [LICENSE](LICENSE) for important licensing information.\n\n\n## Instalation\n\nYour `setup.py` will need `jfaleiro.setup_scmversion` to start - so you either make sure you have it pre-installed using pip:\n\n```bash\npip install jfaleiro.setup-scmversion\n```\n\n## Use\n\nA pythonic version number is created from standard data available in your *scm*, i.e. tag, branch name, and number of differences from master.\n\n### Simplest Use\n\nShould apply to most projects. Assumes your project has one main package. For this example let's name this package `mypackage`.  After installation add this to your `setup.py`:\n\n```python\nimport mypackage\n...\nsetup( ...\n   version=mypackage.__version__),\n   ...\n)\n```\n\nAdd this to your `mypackage.py` or `mypackage.__init__.py`:\n\n```python\nfrom ._version import __version__\n```\n\nDone. Now you just have to make sure you execute `scmversion tag-version` after installation and before any `setuptools` task that requires a version:\n\n```bash\nscmversion tag-version\n...\npython setup.py sdist # or any other command that requires a tagged version \n```\n\nExamples of other possible setup commands are `develop`, `install`, `bdist`, and others.\n\nTo know usage details refer to `scmversion --help`\n\n\n### Way More Complicated \n\nAdd this on the very top of your `setup.py` and forget about it moving forward.\n\n```python\ntry:\n    import setup_scmversion\nexcept ModuleNotFoundError as e:\n    from pip._internal import main\n    assert main('install jfaleiro.setup-scmversion'.split()) == 0\n    \nfrom setup_scmversion import version\n```\n\nAdd these parameters to your `version` and `setup_requires` parameters in `setup.py`:\n\n```python\nsetup(\n    version=version(),\n\t...\n    setup_requires=['jfaleiro.setup-scmversion'],\n\t...\n)\n```\n\n## Versioning Schema\n\nRelease tags `release/<version>` with `nnn` differences from master will produce version `<version>.dev<nnn>` and a tagged version `<tag>` on master will produce the version `<tag>`. Everything else will produce `master.dev<nnn>` for master or `no-version.dev<nnn>` for any other branch. \n\nYou can also use a command line based shortcut to peek at the current version:\n\n```bash\njfaleiro@itacoatiara:~/gitrepos/setup_scmversion (release/0.0.1 *+)$ scmversion version\n0.0.1.dev1\n```\n\nor the type of version, i.e.:\n\n```bash\njfaleiro@itacoatiara:~/gitrepos/setup_scmversion (release/0.0.1 *+)$ scmversion version-type\nRELEASE_BRANCH\n```\n\nThe type of release can be one of `RELEASE`, `RELEASE_BRANCH`, `FEATURE_BRANCH`, or `OTHER`", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.com/jfaleiro/setup_scmversion", "keywords": "", "license": "Affero GPL, see LICENSE for details", "maintainer": "", "maintainer_email": "", "name": "jfaleiro.setup-scmversion", "package_url": "https://pypi.org/project/jfaleiro.setup-scmversion/", "platform": "", "project_url": "https://pypi.org/project/jfaleiro.setup-scmversion/", "project_urls": {"Homepage": "https://gitlab.com/jfaleiro/setup_scmversion"}, "release_url": "https://pypi.org/project/jfaleiro.setup-scmversion/0.0.2/", "requires_dist": null, "requires_python": "", "summary": "Builds a pythonic version number based on scm tags and branches", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>setup_scmversion</h1>\n<p>Builds a pythonic version number based on information available on your scm (tag, branch, and number of commits).</p>\n<p>See <a href=\"LICENSE\" rel=\"nofollow\">LICENSE</a> for important licensing information.</p>\n<h2>Instalation</h2>\n<p>Your <code>setup.py</code> will need <code>jfaleiro.setup_scmversion</code> to start - so you either make sure you have it pre-installed using pip:</p>\n<pre>pip install jfaleiro.setup-scmversion\n</pre>\n<h2>Use</h2>\n<p>A pythonic version number is created from standard data available in your <em>scm</em>, i.e. tag, branch name, and number of differences from master.</p>\n<h3>Simplest Use</h3>\n<p>Should apply to most projects. Assumes your project has one main package. For this example let's name this package <code>mypackage</code>.  After installation add this to your <code>setup.py</code>:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">mypackage</span>\n<span class=\"o\">...</span>\n<span class=\"n\">setup</span><span class=\"p\">(</span> <span class=\"o\">...</span>\n   <span class=\"n\">version</span><span class=\"o\">=</span><span class=\"n\">mypackage</span><span class=\"o\">.</span><span class=\"n\">__version__</span><span class=\"p\">),</span>\n   <span class=\"o\">...</span>\n<span class=\"p\">)</span>\n</pre>\n<p>Add this to your <code>mypackage.py</code> or <code>mypackage.__init__.py</code>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">._version</span> <span class=\"kn\">import</span> <span class=\"n\">__version__</span>\n</pre>\n<p>Done. Now you just have to make sure you execute <code>scmversion tag-version</code> after installation and before any <code>setuptools</code> task that requires a version:</p>\n<pre>scmversion tag-version\n...\npython setup.py sdist <span class=\"c1\"># or any other command that requires a tagged version </span>\n</pre>\n<p>Examples of other possible setup commands are <code>develop</code>, <code>install</code>, <code>bdist</code>, and others.</p>\n<p>To know usage details refer to <code>scmversion --help</code></p>\n<h3>Way More Complicated</h3>\n<p>Add this on the very top of your <code>setup.py</code> and forget about it moving forward.</p>\n<pre><span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">setup_scmversion</span>\n<span class=\"k\">except</span> <span class=\"ne\">ModuleNotFoundError</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">pip._internal</span> <span class=\"kn\">import</span> <span class=\"n\">main</span>\n    <span class=\"k\">assert</span> <span class=\"n\">main</span><span class=\"p\">(</span><span class=\"s1\">'install jfaleiro.setup-scmversion'</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">())</span> <span class=\"o\">==</span> <span class=\"mi\">0</span>\n    \n<span class=\"kn\">from</span> <span class=\"nn\">setup_scmversion</span> <span class=\"kn\">import</span> <span class=\"n\">version</span>\n</pre>\n<p>Add these parameters to your <code>version</code> and <code>setup_requires</code> parameters in <code>setup.py</code>:</p>\n<pre><span class=\"n\">setup</span><span class=\"p\">(</span>\n    <span class=\"n\">version</span><span class=\"o\">=</span><span class=\"n\">version</span><span class=\"p\">(),</span>\n\t<span class=\"o\">...</span>\n    <span class=\"n\">setup_requires</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'jfaleiro.setup-scmversion'</span><span class=\"p\">],</span>\n\t<span class=\"o\">...</span>\n<span class=\"p\">)</span>\n</pre>\n<h2>Versioning Schema</h2>\n<p>Release tags <code>release/&lt;version&gt;</code> with <code>nnn</code> differences from master will produce version <code>&lt;version&gt;.dev&lt;nnn&gt;</code> and a tagged version <code>&lt;tag&gt;</code> on master will produce the version <code>&lt;tag&gt;</code>. Everything else will produce <code>master.dev&lt;nnn&gt;</code> for master or <code>no-version.dev&lt;nnn&gt;</code> for any other branch.</p>\n<p>You can also use a command line based shortcut to peek at the current version:</p>\n<pre>jfaleiro@itacoatiara:~/gitrepos/setup_scmversion <span class=\"o\">(</span>release/0.0.1 *+<span class=\"o\">)</span>$ scmversion version\n<span class=\"m\">0</span>.0.1.dev1\n</pre>\n<p>or the type of version, i.e.:</p>\n<pre>jfaleiro@itacoatiara:~/gitrepos/setup_scmversion <span class=\"o\">(</span>release/0.0.1 *+<span class=\"o\">)</span>$ scmversion version-type\nRELEASE_BRANCH\n</pre>\n<p>The type of release can be one of <code>RELEASE</code>, <code>RELEASE_BRANCH</code>, <code>FEATURE_BRANCH</code>, or <code>OTHER</code></p>\n\n          </div>"}, "last_serial": 6624138, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "45ee24ed4f2042dc04be64f1552fda6d", "sha256": "817a126dfb614d19032a92c197726a53c788cd80a2c2205e83c33cac13978d7a"}, "downloads": -1, "filename": "jfaleiro.setup_scmversion-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "45ee24ed4f2042dc04be64f1552fda6d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 17511, "upload_time": "2020-01-30T22:59:17", "upload_time_iso_8601": "2020-01-30T22:59:17.113782Z", "url": "https://files.pythonhosted.org/packages/ff/e9/e705d52173a9315d5ddc4da19060708e6089cfa5d2ad8283ca254376e1bf/jfaleiro.setup_scmversion-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "566abfb9215a1e3ff41486f67795b349", "sha256": "0e9fdf3a3dda8f9754062fdfdda8349cd2f0e02cd65e57130cf57d07be7163a7"}, "downloads": -1, "filename": "jfaleiro.setup_scmversion-0.0.1.tar.gz", "has_sig": false, "md5_digest": "566abfb9215a1e3ff41486f67795b349", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3844, "upload_time": "2020-01-30T22:59:19", "upload_time_iso_8601": "2020-01-30T22:59:19.964327Z", "url": "https://files.pythonhosted.org/packages/c2/8d/a376f7a1c4caa78952855f9dddf8730b0c4c8d17fae0995ce407d72c54a9/jfaleiro.setup_scmversion-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "5234fe6bba6dced6a652db8f302d83b2", "sha256": "4b632d7c8b759d4f3aec09c8f80faaa0bab193ed128213f337be18309ab64ce2"}, "downloads": -1, "filename": "jfaleiro.setup_scmversion-0.0.2.tar.gz", "has_sig": false, "md5_digest": "5234fe6bba6dced6a652db8f302d83b2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7275, "upload_time": "2020-02-13T15:20:26", "upload_time_iso_8601": "2020-02-13T15:20:26.367661Z", "url": "https://files.pythonhosted.org/packages/c8/d8/b855ce2eb212eaca612e434ce3b825f8fa4906aa9f5af6fdf7c48e9cb750/jfaleiro.setup_scmversion-0.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5234fe6bba6dced6a652db8f302d83b2", "sha256": "4b632d7c8b759d4f3aec09c8f80faaa0bab193ed128213f337be18309ab64ce2"}, "downloads": -1, "filename": "jfaleiro.setup_scmversion-0.0.2.tar.gz", "has_sig": false, "md5_digest": "5234fe6bba6dced6a652db8f302d83b2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7275, "upload_time": "2020-02-13T15:20:26", "upload_time_iso_8601": "2020-02-13T15:20:26.367661Z", "url": "https://files.pythonhosted.org/packages/c8/d8/b855ce2eb212eaca612e434ce3b825f8fa4906aa9f5af6fdf7c48e9cb750/jfaleiro.setup_scmversion-0.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:52:47 2020"}
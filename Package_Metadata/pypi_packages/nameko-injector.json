{"info": {"author": "Volodymyr Vitvitskyi", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: MacOS :: MacOS X", "Operating System :: Microsoft :: Windows", "Operating System :: POSIX", "Programming Language :: Python", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Testing", "Topic :: Utilities"], "description": "nameko-injector\n===============\n\n`injector <https://pypi.org/project/injector/>`_ based dependency injection\nmechanism for the nameko services. Project is similar to `flask-injector <https://pypi.org/project/Flask-Injector/>`_.\n\nProblem\n-------\n\nNameko provides a dependency injection mechanism, built-in in the framework.\nIt works in many cases but there are limitations:\n\n1. All the dependencies are injected regardless of whether they are used in the entry-point. For instance, all the dependencies will be injected for ``/health`` HTTP entry point.\n2. Dependencies cannot depend on each other.\n3. The scope is an implementation detail. Frequency of the dependency creation depends on the ``DependencyProvider`` implementation.\n\nSolution\n--------\n\nThe library provides an alternative dependency injection mechanism to the one\nthat is built-in in nameko. Several types of `request` scope can\nbe used out of the box without special injector module declarations.\n\n- ``nameko_injector.core.ServiceConfig``\n- ``from nameko.containers.ServiceContainer``\n- ``from nameko.containers.WorkerContext``\n\nAn example:\n\n.. code:: python\n\n    import json\n    from nameko_injector.core import NamekoInjector, ServiceConfig\n    from nameko.web.handlers import http\n\n\n    INJECTOR = NamekoInjector()\n\n    @INJECTOR.decorate_service\n    class Service:\n\n      name = 'service-name'\n\n      @http('GET', '/health')\n      def health(self, request):\n         return {'status': 'ok'}\n\n      @http('GET', '/config')\n      def view_config(self, request, config: ServiceConfig):\n        return json.dumps(config)\n\n\nDevelopment\n-----------\n`tox`\n\nTODO\n----\n\n- testing: Add the tests for RPC entry points\n- document testing with the library\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/signalpillar/nameko-injector", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "nameko-injector", "package_url": "https://pypi.org/project/nameko-injector/", "platform": "linux", "project_url": "https://pypi.org/project/nameko-injector/", "project_urls": {"Homepage": "https://github.com/signalpillar/nameko-injector"}, "release_url": "https://pypi.org/project/nameko-injector/0.1.2/", "requires_dist": null, "requires_python": "", "summary": "Injector support in nameko", "version": "0.1.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://pypi.org/project/injector/\" rel=\"nofollow\">injector</a> based dependency injection\nmechanism for the nameko services. Project is similar to <a href=\"https://pypi.org/project/Flask-Injector/\" rel=\"nofollow\">flask-injector</a>.</p>\n<div id=\"problem\">\n<h2>Problem</h2>\n<p>Nameko provides a dependency injection mechanism, built-in in the framework.\nIt works in many cases but there are limitations:</p>\n<ol>\n<li>All the dependencies are injected regardless of whether they are used in the entry-point. For instance, all the dependencies will be injected for <tt>/health</tt> HTTP entry point.</li>\n<li>Dependencies cannot depend on each other.</li>\n<li>The scope is an implementation detail. Frequency of the dependency creation depends on the <tt>DependencyProvider</tt> implementation.</li>\n</ol>\n</div>\n<div id=\"solution\">\n<h2>Solution</h2>\n<p>The library provides an alternative dependency injection mechanism to the one\nthat is built-in in nameko. Several types of <cite>request</cite> scope can\nbe used out of the box without special injector module declarations.</p>\n<ul>\n<li><tt>nameko_injector.core.ServiceConfig</tt></li>\n<li><tt>from nameko.containers.ServiceContainer</tt></li>\n<li><tt>from nameko.containers.WorkerContext</tt></li>\n</ul>\n<p>An example:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">json</span>\n<span class=\"kn\">from</span> <span class=\"nn\">nameko_injector.core</span> <span class=\"kn\">import</span> <span class=\"n\">NamekoInjector</span><span class=\"p\">,</span> <span class=\"n\">ServiceConfig</span>\n<span class=\"kn\">from</span> <span class=\"nn\">nameko.web.handlers</span> <span class=\"kn\">import</span> <span class=\"n\">http</span>\n\n\n<span class=\"n\">INJECTOR</span> <span class=\"o\">=</span> <span class=\"n\">NamekoInjector</span><span class=\"p\">()</span>\n\n<span class=\"nd\">@INJECTOR</span><span class=\"o\">.</span><span class=\"n\">decorate_service</span>\n<span class=\"k\">class</span> <span class=\"nc\">Service</span><span class=\"p\">:</span>\n\n  <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s1\">'service-name'</span>\n\n  <span class=\"nd\">@http</span><span class=\"p\">(</span><span class=\"s1\">'GET'</span><span class=\"p\">,</span> <span class=\"s1\">'/health'</span><span class=\"p\">)</span>\n  <span class=\"k\">def</span> <span class=\"nf\">health</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">):</span>\n     <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"s1\">'status'</span><span class=\"p\">:</span> <span class=\"s1\">'ok'</span><span class=\"p\">}</span>\n\n  <span class=\"nd\">@http</span><span class=\"p\">(</span><span class=\"s1\">'GET'</span><span class=\"p\">,</span> <span class=\"s1\">'/config'</span><span class=\"p\">)</span>\n  <span class=\"k\">def</span> <span class=\"nf\">view_config</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"n\">config</span><span class=\"p\">:</span> <span class=\"n\">ServiceConfig</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">config</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"development\">\n<h2>Development</h2>\n<p><cite>tox</cite></p>\n</div>\n<div id=\"todo\">\n<h2>TODO</h2>\n<ul>\n<li>testing: Add the tests for RPC entry points</li>\n<li>document testing with the library</li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 6388580, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "af337c293f3b64a9a458908813fae910", "sha256": "c74f696f770309ab53bd6027b5a42c84df68fdfadb2e146ea455ea4140161fca"}, "downloads": -1, "filename": "nameko-injector-0.1.0.tar.gz", "has_sig": false, "md5_digest": "af337c293f3b64a9a458908813fae910", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4365, "upload_time": "2020-01-02T22:38:28", "upload_time_iso_8601": "2020-01-02T22:38:28.095358Z", "url": "https://files.pythonhosted.org/packages/7a/aa/a3066b29686fe8f98cc14ba3de49552db8bc2468f60ec197cc81310142d4/nameko-injector-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "24ff1e93484bd29815f1f0dfcbd83c62", "sha256": "cb7796c92c25ff9c140587a912d88f71fbf3ff887367a0da1cf79f1587d1832e"}, "downloads": -1, "filename": "nameko-injector-0.1.1.tar.gz", "has_sig": false, "md5_digest": "24ff1e93484bd29815f1f0dfcbd83c62", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4349, "upload_time": "2020-01-02T22:41:14", "upload_time_iso_8601": "2020-01-02T22:41:14.794776Z", "url": "https://files.pythonhosted.org/packages/0a/32/5b1cb66bfde03f65ff991a16fb3bfcf28b68fd230d32fc9bd3216ccacccd/nameko-injector-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "baa19b61be48d988926d58a15a015eb8", "sha256": "5df228dc7bf5d876c58b0dc40be7d96bbd536fc5191e277d0abd314c0cc15461"}, "downloads": -1, "filename": "nameko-injector-0.1.2.tar.gz", "has_sig": false, "md5_digest": "baa19b61be48d988926d58a15a015eb8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4342, "upload_time": "2020-01-02T22:45:05", "upload_time_iso_8601": "2020-01-02T22:45:05.284707Z", "url": "https://files.pythonhosted.org/packages/85/17/4aaff3342b5582bf46687b5be7bb9d6f47e3f80c631296ec413fde9e7790/nameko-injector-0.1.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "baa19b61be48d988926d58a15a015eb8", "sha256": "5df228dc7bf5d876c58b0dc40be7d96bbd536fc5191e277d0abd314c0cc15461"}, "downloads": -1, "filename": "nameko-injector-0.1.2.tar.gz", "has_sig": false, "md5_digest": "baa19b61be48d988926d58a15a015eb8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4342, "upload_time": "2020-01-02T22:45:05", "upload_time_iso_8601": "2020-01-02T22:45:05.284707Z", "url": "https://files.pythonhosted.org/packages/85/17/4aaff3342b5582bf46687b5be7bb9d6f47e3f80c631296ec413fde9e7790/nameko-injector-0.1.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:47:45 2020"}
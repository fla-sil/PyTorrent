{"info": {"author": "duanhongyi", "author_email": "duanhyi@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "GMSSL\n========\nGmSSL\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u52a0\u5bc6\u5305\u7684python\u5b9e\u73b0\uff0c\u652f\u6301SM2/SM3/SM4\u7b49\u56fd\u5bc6(\u56fd\u5bb6\u5546\u7528\u5bc6\u7801)\u7b97\u6cd5\u3001\u9879\u76ee\u91c7\u7528\u5bf9\u5546\u4e1a\u5e94\u7528\u53cb\u597d\u7684\u7c7bBSD\u5f00\u6e90\u8bb8\u53ef\u8bc1\uff0c\u5f00\u6e90\u4e14\u53ef\u4ee5\u7528\u4e8e\u95ed\u6e90\u7684\u5546\u4e1a\u5e94\u7528\u3002\n\n### \u5b89\u88c5\n\n```shell\npip install gmssl\n```\n\n### SM2\u7b97\u6cd5\nRSA\u7b97\u6cd5\u7684\u5371\u673a\u5728\u4e8e\u5176\u5b58\u5728\u4e9a\u6307\u6570\u7b97\u6cd5\uff0c\u5bf9ECC\u7b97\u6cd5\u800c\u8a00\u4e00\u822c\u6ca1\u6709\u4e9a\u6307\u6570\u653b\u51fb\u7b97\u6cd5\nSM2\u692d\u5706\u66f2\u7ebf\u516c\u94a5\u5bc6\u7801\u7b97\u6cd5\uff1a\u6211\u56fd\u81ea\u4e3b\u77e5\u8bc6\u4ea7\u6743\u7684\u5546\u7528\u5bc6\u7801\u7b97\u6cd5\uff0c\u662fECC\uff08Elliptic Curve Cryptosystem\uff09\u7b97\u6cd5\u7684\u4e00\u79cd\uff0c\u57fa\u4e8e\u692d\u5706\u66f2\u7ebf\u79bb\u6563\u5bf9\u6570\u95ee\u9898\uff0c\u8ba1\u7b97\u590d\u6742\u5ea6\u662f\u6307\u6570\u7ea7\uff0c\u6c42\u89e3\u96be\u5ea6\u8f83\u5927\uff0c\u540c\u7b49\u5b89\u5168\u7a0b\u5ea6\u8981\u6c42\u4e0b\uff0c\u692d\u5706\u66f2\u7ebf\u5bc6\u7801\u8f83\u5176\u4ed6\u516c\u94a5\u7b97\u6cd5\u6240\u9700\u5bc6\u94a5\u957f\u5ea6\u5c0f\u5f88\u591a\u3002\n\ngmssl\u662f\u5305\u542b\u56fd\u5bc6SM2\u7b97\u6cd5\u7684Python\u5b9e\u73b0\uff0c \u63d0\u4f9b\u4e86 `encrypt`\u3001 `decrypt`\u7b49\u51fd\u6570\u7528\u4e8e\u52a0\u5bc6\u89e3\u5bc6\uff0c \u7528\u6cd5\u5982\u4e0b\uff1a\n\n#### 1. \u521d\u59cb\u5316`CryptSM2`\n\n```python\nimport base64\nimport binascii\nfrom gmssl import sm2, func\n#16\u8fdb\u5236\u7684\u516c\u94a5\u548c\u79c1\u94a5\nprivate_key = '00B9AB0B828FF68872F21A837FC303668428DEA11DCD1B24429D0C99E24EED83D5'\npublic_key = 'B9C9A6E04E9C91F7BA880429273747D7EF5DDEB0BB2FF6317EB00BEF331A83081A6994B8993F3F5D6EADDDB81872266C87C018FB4162F5AF347B483E24620207'\nsm2_crypt = sm2.CryptSM2(\n    public_key=public_key, private_key=private_key)\n```\n\n#### 2. `encrypt`\u548c`decrypt`\n\n```python\n#\u6570\u636e\u548c\u52a0\u5bc6\u540e\u6570\u636e\u4e3abytes\u7c7b\u578b\ndata = b\"111\"\nenc_data = sm2_crypt.encrypt(data)\ndec_data =sm2_crypt.decrypt(enc_data)\nassert dec_data == data\n```\n\n#### 3. `sign`\u548c`verify`\n```python\ndata = b\"111\" # bytes\u7c7b\u578b\nrandom_hex_str = func.random_hex(sm2_crypt.para_len)\nsign = sm2_crypt.sign(data, random_hex_str) #  16\u8fdb\u5236\nassert sm2_crypt.verify(sign, data) #  16\u8fdb\u5236\n```\n\n### SM4\u7b97\u6cd5\n\n\u56fd\u5bc6SM4(\u65e0\u7ebf\u5c40\u57df\u7f51SMS4)\u7b97\u6cd5\uff0c \u4e00\u4e2a\u5206\u7ec4\u7b97\u6cd5\uff0c \u5206\u7ec4\u957f\u5ea6\u4e3a128bit\uff0c \u5bc6\u94a5\u957f\u5ea6\u4e3a128bit\uff0c\n\u7b97\u6cd5\u5177\u4f53\u5185\u5bb9\u53c2\u7167[SM4\u7b97\u6cd5](https://drive.google.com/file/d/0B0o25hRlUdXcbzdjT0hrYkkwUjg/view?usp=sharing)\u3002\n\ngmssl\u662f\u5305\u542b\u56fd\u5bc6SM4\u7b97\u6cd5\u7684Python\u5b9e\u73b0\uff0c \u63d0\u4f9b\u4e86 `encrypt_ecb`\u3001 `decrypt_ecb`\u3001 `encrypt_cbc`\u3001\n`decrypt_cbc`\u7b49\u51fd\u6570\u7528\u4e8e\u52a0\u5bc6\u89e3\u5bc6\uff0c \u7528\u6cd5\u5982\u4e0b\uff1a\n\n#### 1. \u521d\u59cb\u5316`CryptSM4`\n\n```python\nfrom gmssl.sm4 import CryptSM4, SM4_ENCRYPT, SM4_DECRYPT\n\nkey = b'3l5butlj26hvv313'\nvalue = b'111' #  bytes\u7c7b\u578b\niv = b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00' #  bytes\u7c7b\u578b\ncrypt_sm4 = CryptSM4()\n```\n\n#### 2. `encrypt_ecb`\u548c`decrypt_ecb`\n\n```python\n\ncrypt_sm4.set_key(key, SM4_ENCRYPT)\nencrypt_value = crypt_sm4.crypt_ecb(value) #  bytes\u7c7b\u578b\ncrypt_sm4.set_key(key, SM4_DECRYPT)\ndecrypt_value = crypt_sm4.crypt_ecb(encrypt_value) #  bytes\u7c7b\u578b\nassert value == decrypt_value\n\n```\n\n#### 3. `encrypt_cbc`\u548c`decrypt_cbc`\n\n```python\n\ncrypt_sm4.set_key(key, SM4_ENCRYPT)\nencrypt_value = crypt_sm4.crypt_cbc(iv , value) #  bytes\u7c7b\u578b\ncrypt_sm4.set_key(key, SM4_DECRYPT)\ndecrypt_value = crypt_sm4.crypt_cbc(iv , encrypt_value) #  bytes\u7c7b\u578b\nassert value == decrypt_value\n\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/duanhongyi/gmssl", "keywords": "", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "gmssl", "package_url": "https://pypi.org/project/gmssl/", "platform": "all platform", "project_url": "https://pypi.org/project/gmssl/", "project_urls": {"Homepage": "https://github.com/duanhongyi/gmssl"}, "release_url": "https://pypi.org/project/gmssl/3.3.1/", "requires_dist": null, "requires_python": "", "summary": "Pure-Python SM2/SM3/SM4 implementation", "version": "3.3.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>GMSSL</h1>\n<p>GmSSL\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u52a0\u5bc6\u5305\u7684python\u5b9e\u73b0\uff0c\u652f\u6301SM2/SM3/SM4\u7b49\u56fd\u5bc6(\u56fd\u5bb6\u5546\u7528\u5bc6\u7801)\u7b97\u6cd5\u3001\u9879\u76ee\u91c7\u7528\u5bf9\u5546\u4e1a\u5e94\u7528\u53cb\u597d\u7684\u7c7bBSD\u5f00\u6e90\u8bb8\u53ef\u8bc1\uff0c\u5f00\u6e90\u4e14\u53ef\u4ee5\u7528\u4e8e\u95ed\u6e90\u7684\u5546\u4e1a\u5e94\u7528\u3002</p>\n<h3>\u5b89\u88c5</h3>\n<pre>pip install gmssl\n</pre>\n<h3>SM2\u7b97\u6cd5</h3>\n<p>RSA\u7b97\u6cd5\u7684\u5371\u673a\u5728\u4e8e\u5176\u5b58\u5728\u4e9a\u6307\u6570\u7b97\u6cd5\uff0c\u5bf9ECC\u7b97\u6cd5\u800c\u8a00\u4e00\u822c\u6ca1\u6709\u4e9a\u6307\u6570\u653b\u51fb\u7b97\u6cd5\nSM2\u692d\u5706\u66f2\u7ebf\u516c\u94a5\u5bc6\u7801\u7b97\u6cd5\uff1a\u6211\u56fd\u81ea\u4e3b\u77e5\u8bc6\u4ea7\u6743\u7684\u5546\u7528\u5bc6\u7801\u7b97\u6cd5\uff0c\u662fECC\uff08Elliptic Curve Cryptosystem\uff09\u7b97\u6cd5\u7684\u4e00\u79cd\uff0c\u57fa\u4e8e\u692d\u5706\u66f2\u7ebf\u79bb\u6563\u5bf9\u6570\u95ee\u9898\uff0c\u8ba1\u7b97\u590d\u6742\u5ea6\u662f\u6307\u6570\u7ea7\uff0c\u6c42\u89e3\u96be\u5ea6\u8f83\u5927\uff0c\u540c\u7b49\u5b89\u5168\u7a0b\u5ea6\u8981\u6c42\u4e0b\uff0c\u692d\u5706\u66f2\u7ebf\u5bc6\u7801\u8f83\u5176\u4ed6\u516c\u94a5\u7b97\u6cd5\u6240\u9700\u5bc6\u94a5\u957f\u5ea6\u5c0f\u5f88\u591a\u3002</p>\n<p>gmssl\u662f\u5305\u542b\u56fd\u5bc6SM2\u7b97\u6cd5\u7684Python\u5b9e\u73b0\uff0c \u63d0\u4f9b\u4e86 <code>encrypt</code>\u3001 <code>decrypt</code>\u7b49\u51fd\u6570\u7528\u4e8e\u52a0\u5bc6\u89e3\u5bc6\uff0c \u7528\u6cd5\u5982\u4e0b\uff1a</p>\n<h4>1. \u521d\u59cb\u5316<code>CryptSM2</code></h4>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">base64</span>\n<span class=\"kn\">import</span> <span class=\"nn\">binascii</span>\n<span class=\"kn\">from</span> <span class=\"nn\">gmssl</span> <span class=\"kn\">import</span> <span class=\"n\">sm2</span><span class=\"p\">,</span> <span class=\"n\">func</span>\n<span class=\"c1\">#16\u8fdb\u5236\u7684\u516c\u94a5\u548c\u79c1\u94a5</span>\n<span class=\"n\">private_key</span> <span class=\"o\">=</span> <span class=\"s1\">'00B9AB0B828FF68872F21A837FC303668428DEA11DCD1B24429D0C99E24EED83D5'</span>\n<span class=\"n\">public_key</span> <span class=\"o\">=</span> <span class=\"s1\">'B9C9A6E04E9C91F7BA880429273747D7EF5DDEB0BB2FF6317EB00BEF331A83081A6994B8993F3F5D6EADDDB81872266C87C018FB4162F5AF347B483E24620207'</span>\n<span class=\"n\">sm2_crypt</span> <span class=\"o\">=</span> <span class=\"n\">sm2</span><span class=\"o\">.</span><span class=\"n\">CryptSM2</span><span class=\"p\">(</span>\n    <span class=\"n\">public_key</span><span class=\"o\">=</span><span class=\"n\">public_key</span><span class=\"p\">,</span> <span class=\"n\">private_key</span><span class=\"o\">=</span><span class=\"n\">private_key</span><span class=\"p\">)</span>\n</pre>\n<h4>2. <code>encrypt</code>\u548c<code>decrypt</code></h4>\n<pre><span class=\"c1\">#\u6570\u636e\u548c\u52a0\u5bc6\u540e\u6570\u636e\u4e3abytes\u7c7b\u578b</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s2\">\"111\"</span>\n<span class=\"n\">enc_data</span> <span class=\"o\">=</span> <span class=\"n\">sm2_crypt</span><span class=\"o\">.</span><span class=\"n\">encrypt</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"n\">dec_data</span> <span class=\"o\">=</span><span class=\"n\">sm2_crypt</span><span class=\"o\">.</span><span class=\"n\">decrypt</span><span class=\"p\">(</span><span class=\"n\">enc_data</span><span class=\"p\">)</span>\n<span class=\"k\">assert</span> <span class=\"n\">dec_data</span> <span class=\"o\">==</span> <span class=\"n\">data</span>\n</pre>\n<h4>3. <code>sign</code>\u548c<code>verify</code></h4>\n<pre><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s2\">\"111\"</span> <span class=\"c1\"># bytes\u7c7b\u578b</span>\n<span class=\"n\">random_hex_str</span> <span class=\"o\">=</span> <span class=\"n\">func</span><span class=\"o\">.</span><span class=\"n\">random_hex</span><span class=\"p\">(</span><span class=\"n\">sm2_crypt</span><span class=\"o\">.</span><span class=\"n\">para_len</span><span class=\"p\">)</span>\n<span class=\"n\">sign</span> <span class=\"o\">=</span> <span class=\"n\">sm2_crypt</span><span class=\"o\">.</span><span class=\"n\">sign</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">random_hex_str</span><span class=\"p\">)</span> <span class=\"c1\">#  16\u8fdb\u5236</span>\n<span class=\"k\">assert</span> <span class=\"n\">sm2_crypt</span><span class=\"o\">.</span><span class=\"n\">verify</span><span class=\"p\">(</span><span class=\"n\">sign</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">)</span> <span class=\"c1\">#  16\u8fdb\u5236</span>\n</pre>\n<h3>SM4\u7b97\u6cd5</h3>\n<p>\u56fd\u5bc6SM4(\u65e0\u7ebf\u5c40\u57df\u7f51SMS4)\u7b97\u6cd5\uff0c \u4e00\u4e2a\u5206\u7ec4\u7b97\u6cd5\uff0c \u5206\u7ec4\u957f\u5ea6\u4e3a128bit\uff0c \u5bc6\u94a5\u957f\u5ea6\u4e3a128bit\uff0c\n\u7b97\u6cd5\u5177\u4f53\u5185\u5bb9\u53c2\u7167<a href=\"https://drive.google.com/file/d/0B0o25hRlUdXcbzdjT0hrYkkwUjg/view?usp=sharing\" rel=\"nofollow\">SM4\u7b97\u6cd5</a>\u3002</p>\n<p>gmssl\u662f\u5305\u542b\u56fd\u5bc6SM4\u7b97\u6cd5\u7684Python\u5b9e\u73b0\uff0c \u63d0\u4f9b\u4e86 <code>encrypt_ecb</code>\u3001 <code>decrypt_ecb</code>\u3001 <code>encrypt_cbc</code>\u3001\n<code>decrypt_cbc</code>\u7b49\u51fd\u6570\u7528\u4e8e\u52a0\u5bc6\u89e3\u5bc6\uff0c \u7528\u6cd5\u5982\u4e0b\uff1a</p>\n<h4>1. \u521d\u59cb\u5316<code>CryptSM4</code></h4>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">gmssl.sm4</span> <span class=\"kn\">import</span> <span class=\"n\">CryptSM4</span><span class=\"p\">,</span> <span class=\"n\">SM4_ENCRYPT</span><span class=\"p\">,</span> <span class=\"n\">SM4_DECRYPT</span>\n\n<span class=\"n\">key</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s1\">'3l5butlj26hvv313'</span>\n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s1\">'111'</span> <span class=\"c1\">#  bytes\u7c7b\u578b</span>\n<span class=\"n\">iv</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s1\">'</span><span class=\"se\">\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00</span><span class=\"s1\">'</span> <span class=\"c1\">#  bytes\u7c7b\u578b</span>\n<span class=\"n\">crypt_sm4</span> <span class=\"o\">=</span> <span class=\"n\">CryptSM4</span><span class=\"p\">()</span>\n</pre>\n<h4>2. <code>encrypt_ecb</code>\u548c<code>decrypt_ecb</code></h4>\n<pre><span class=\"n\">crypt_sm4</span><span class=\"o\">.</span><span class=\"n\">set_key</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">SM4_ENCRYPT</span><span class=\"p\">)</span>\n<span class=\"n\">encrypt_value</span> <span class=\"o\">=</span> <span class=\"n\">crypt_sm4</span><span class=\"o\">.</span><span class=\"n\">crypt_ecb</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span> <span class=\"c1\">#  bytes\u7c7b\u578b</span>\n<span class=\"n\">crypt_sm4</span><span class=\"o\">.</span><span class=\"n\">set_key</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">SM4_DECRYPT</span><span class=\"p\">)</span>\n<span class=\"n\">decrypt_value</span> <span class=\"o\">=</span> <span class=\"n\">crypt_sm4</span><span class=\"o\">.</span><span class=\"n\">crypt_ecb</span><span class=\"p\">(</span><span class=\"n\">encrypt_value</span><span class=\"p\">)</span> <span class=\"c1\">#  bytes\u7c7b\u578b</span>\n<span class=\"k\">assert</span> <span class=\"n\">value</span> <span class=\"o\">==</span> <span class=\"n\">decrypt_value</span>\n</pre>\n<h4>3. <code>encrypt_cbc</code>\u548c<code>decrypt_cbc</code></h4>\n<pre><span class=\"n\">crypt_sm4</span><span class=\"o\">.</span><span class=\"n\">set_key</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">SM4_ENCRYPT</span><span class=\"p\">)</span>\n<span class=\"n\">encrypt_value</span> <span class=\"o\">=</span> <span class=\"n\">crypt_sm4</span><span class=\"o\">.</span><span class=\"n\">crypt_cbc</span><span class=\"p\">(</span><span class=\"n\">iv</span> <span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">)</span> <span class=\"c1\">#  bytes\u7c7b\u578b</span>\n<span class=\"n\">crypt_sm4</span><span class=\"o\">.</span><span class=\"n\">set_key</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">SM4_DECRYPT</span><span class=\"p\">)</span>\n<span class=\"n\">decrypt_value</span> <span class=\"o\">=</span> <span class=\"n\">crypt_sm4</span><span class=\"o\">.</span><span class=\"n\">crypt_cbc</span><span class=\"p\">(</span><span class=\"n\">iv</span> <span class=\"p\">,</span> <span class=\"n\">encrypt_value</span><span class=\"p\">)</span> <span class=\"c1\">#  bytes\u7c7b\u578b</span>\n<span class=\"k\">assert</span> <span class=\"n\">value</span> <span class=\"o\">==</span> <span class=\"n\">decrypt_value</span>\n</pre>\n\n          </div>"}, "last_serial": 6785893, "releases": {"3.2.1": [{"comment_text": "", "digests": {"md5": "c6813324b1163777b1b3bef3f94cde1a", "sha256": "57e7fe01da9f9337e754ad30bf6fbb8e4744615eb4aee6ecd777d37ccf348530"}, "downloads": -1, "filename": "gmssl-3.2.1.tar.gz", "has_sig": false, "md5_digest": "c6813324b1163777b1b3bef3f94cde1a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9328, "upload_time": "2018-07-22T04:56:31", "upload_time_iso_8601": "2018-07-22T04:56:31.194440Z", "url": "https://files.pythonhosted.org/packages/06/b7/06a368de8bb7394c8e8f55d9b1e2be9f0f95d1383b1f9f5aa761f6d5fe00/gmssl-3.2.1.tar.gz", "yanked": false}], "3.3.1": [{"comment_text": "", "digests": {"md5": "64b1d10e19e01b33cc1ab39e0aa65135", "sha256": "bfe57d79a8604c3f61928c7ffd2732f83890f7ba10d5265376945576270be1cb"}, "downloads": -1, "filename": "gmssl-3.3.1.linux-x86_64.tar.gz", "has_sig": false, "md5_digest": "64b1d10e19e01b33cc1ab39e0aa65135", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 209629, "upload_time": "2020-03-10T15:40:49", "upload_time_iso_8601": "2020-03-10T15:40:49.451507Z", "url": "https://files.pythonhosted.org/packages/4e/d5/98a2ebb1405b4fc5ac4c0c1a5b3a70606ac362fe59fb85622215a890714f/gmssl-3.3.1.linux-x86_64.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "64b1d10e19e01b33cc1ab39e0aa65135", "sha256": "bfe57d79a8604c3f61928c7ffd2732f83890f7ba10d5265376945576270be1cb"}, "downloads": -1, "filename": "gmssl-3.3.1.linux-x86_64.tar.gz", "has_sig": false, "md5_digest": "64b1d10e19e01b33cc1ab39e0aa65135", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 209629, "upload_time": "2020-03-10T15:40:49", "upload_time_iso_8601": "2020-03-10T15:40:49.451507Z", "url": "https://files.pythonhosted.org/packages/4e/d5/98a2ebb1405b4fc5ac4c0c1a5b3a70606ac362fe59fb85622215a890714f/gmssl-3.3.1.linux-x86_64.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:56:16 2020"}
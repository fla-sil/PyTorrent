{"info": {"author": "Duncan McGreggor", "author_email": "duncan@canonical.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "Intended Audience :: Information Technology", "Intended Audience :: System Administrators", "License :: OSI Approved :: BSD License", "Programming Language :: Python", "Topic :: Database", "Topic :: Database :: Front-Ends", "Topic :: Multimedia :: Graphics", "Topic :: System :: Networking :: Monitoring", "Topic :: System :: Systems Administration"], "description": "~~~~~\nPyRRD\n~~~~~\n\n.. contents::\n   :depth: 1\n\n\n========\nFeatures\n========\n\nPyRRD lets you use RRDTool from Python code that takes advantage of standard\nobject-oriented patterns. The makes the programmatic usage of RRDTool much\neasier and reusable.\n\nA quick review of features is available at the project wiki [#]_ . Example\ncode with graph image output is also available on the wiki [#]_ .\n\n\n============\nIntroduction\n============\n\nPyRRD is an object-oriented wrapper for the command line graphing and\nround-robin database utility, rrdtool [#]_ . PyRRD originally had two design\ngoals:\n\n1. provide an interface to rrdtool that Python programmers would love, and\n\n2. not depend upon the Python bindings for rrdtool.\n\nThe reasons for the former are obvious. The motivation for the latter were the\nmany people who had difficulty compiling the rrdtool bindings on their\noperating system of choice.\n\nEven though PyRRD's original purpose was to help those without the bingins, the\nproject now offers support for those with the bindings installed. As such,\nusers may enjoy both the speed benefits from the bindings as well as the API\nusability from PyRRD.\n\nFor docs, see the docstrings at the beginning of each class (and many of the\nfunctions). They not only contain many of the standard RRDTool docs, but they\ncontain doctests which give you a hands-on, how-it-works understanding of\nactual usage.\n\nFor those curious about the motivation for creating PyRRD, perhaps some\nbackground would be in order. Originally, there were only two ways to use\nRRDTool from Python:\n\n1. using the Python bindings which were difficult to compile and use, or\n\n2. making system calls to the \"rrdtool\" executable from Python, passing\nit all the parameters it needed.\n\nOption #1 was often difficult or impossible for many folks to get running on\ntheir preferred operating system. But even if one was able to compile it and\nrun it, usage was very cumbersome and designed to work like the command line\ntool and the C interface, not like most people typically use Python.\n\nNow, with PyRRD, there are two additional ways to use RRDTool from Python:\n\n3. an object-oriented interface that wraps system calls (Popen) to the\nrrdtool binary, and\n\n4. the same object-oriented interface that wraps the cumbersome rrdtool\nPython bindings.\n\n============\nDependencies\n============\n\nSome parts of PyRRD make use of ElementTree for XML processing. If you have\nPython 2.5 or greater, PyRRD will use xml.etree. If your Python version is less\nthan 2.5 and you want to use features that depend on XML processing (such as\ndump function and the fetch/info methods), you will need to install\nthe ElementTree library [#]_ .\n\n\n\n============\nInstallation\n============\n\nPyRRD is installed in the usual way::\n\n  python setup.py install\n\nYou may also use PyRRD without installing it as long as you have ./ in your\nPYTHONPATH and you are in the top-level directory (which has the pyrrd child\ndirectory).\n\n\n=====\nUsage\n=====\n\nCreate an RRD file programmatically::\n\n    >>> from pyrrd.rrd import DataSource, RRA, RRD\n    >>> filename = '/tmp/test.rrd'\n    >>> dataSources = []\n    >>> roundRobinArchives = []\n    >>> dataSource = DataSource(\n    ...     dsName='speed', dsType='COUNTER', heartbeat=600)\n    >>> dataSources.append(dataSource)\n    >>> roundRobinArchives.append(RRA(cf='AVERAGE', xff=0.5, steps=1, rows=24))\n    >>> roundRobinArchives.append(RRA(cf='AVERAGE', xff=0.5, steps=6, rows=10))\n    >>> myRRD = RRD(\n    ...     filename, ds=dataSources, rra=roundRobinArchives, start=920804400)\n    >>> myRRD.create()\n\nLet's check to see that the file exists::\n\n    >>> import os\n    >>> os.path.isfile(filename)\n    True\n\nLet's see how big it is (depending upon RRDTool version, the byte count can\nchange, so we'll just get a general sense)::\n\n    >>> bytes = len(open(filename).read())\n    >>> 800 < bytes < 1200\n    True\n\nIn order to save writes to disk, PyRRD buffers values and then writes the\nvalues to the RRD file at one go::\n\n    >>> myRRD.bufferValue('920805600', '12363')\n    >>> myRRD.bufferValue('920805900', '12363')\n    >>> myRRD.bufferValue('920806200', '12373')\n    >>> myRRD.bufferValue('920806500', '12383')\n    >>> myRRD.update()\n\nLet's add some more data::\n\n    >>> myRRD.bufferValue('920806800', '12393')\n    >>> myRRD.bufferValue('920807100', '12399')\n    >>> myRRD.bufferValue('920807400', '12405')\n    >>> myRRD.bufferValue('920807700', '12411')\n    >>> myRRD.bufferValue('920808000', '12415')\n    >>> myRRD.bufferValue('920808300', '12420')\n    >>> myRRD.bufferValue('920808600', '12422')\n    >>> myRRD.bufferValue('920808900', '12423')\n    >>> myRRD.update()\n\nIf you're curious, you can take a look at your rrd file with the following::\n\n    myRRD.info()\n\nThe output of that isn't printed here, 'cause it take up too much space.\nHowever, it is very similar to the output of the similarly named rrdtool\ncommand.\n\nIn order to create a graph, we'll need some data definitions. We'll also\nthrow in some calculated definitions and variable definitions for good\nmeansure::\n\n    >>> from pyrrd.graph import DEF, CDEF, VDEF, LINE, AREA, GPRINT\n    >>> def1 = DEF(rrdfile=myRRD.filename, vname='myspeed',\n    ...     dsName=dataSource.name)\n    >>> cdef1 = CDEF(vname='kmh', rpn='%s,3600,*' % def1.vname)\n    >>> cdef2 = CDEF(vname='fast', rpn='kmh,100,GT,kmh,0,IF')\n    >>> cdef3 = CDEF(vname='good', rpn='kmh,100,GT,0,kmh,IF')\n    >>> vdef1 = VDEF(vname='mymax', rpn='%s,MAXIMUM' % def1.vname)\n    >>> vdef2 = VDEF(vname='myavg', rpn='%s,AVERAGE' % def1.vname)\n\n    >>> line1 = LINE(value=100, color='#990000', legend='Maximum Allowed')\n    >>> area1 = AREA(defObj=cdef3, color='#006600', legend='Good Speed')\n    >>> area2 = AREA(defObj=cdef2, color='#CC6633', legend='Too Fast')\n    >>> line2 = LINE(defObj=vdef2, color='#000099', legend='My Average',\n    ...     stack=True)\n    >>> gprint1 = GPRINT(vdef2, '%6.2lf kph')\n\nColor is the spice of life. Let's spice it up a little::\n\n    >>> from pyrrd.graph import ColorAttributes\n    >>> ca = ColorAttributes()\n    >>> ca.back = '#333333'\n    >>> ca.canvas = '#333333'\n    >>> ca.shadea = '#000000'\n    >>> ca.shadeb = '#111111'\n    >>> ca.mgrid = '#CCCCCC'\n    >>> ca.axis = '#FFFFFF'\n    >>> ca.frame = '#AAAAAA'\n    >>> ca.font = '#FFFFFF'\n    >>> ca.arrow = '#FFFFFF'\n\nNow we can create a graph for the data in our RRD file::\n\n    >>> from pyrrd.graph import Graph\n    >>> graphfile = \"/tmp/rrdgraph.png\"\n    >>> g = Graph(graphfile, start=920805000, end=920810000,\n    ...     vertical_label='km/h', color=ca)\n    >>> g.data.extend([def1, cdef1, cdef2, cdef3, vdef1, vdef2, line1, area1,\n    ...     area2, line2, gprint1])\n    >>> g.write()\n\nLet's make sure it's there::\n\n    >>> os.path.isfile(graphfile)\n    True\n\nLet's get a sense of the byte size::\n\n    >>> bytes = len(open(graphfile).read())\n    >>> bytes != 0\n    True\n    >>> 8000 < bytes < 10400\n    True\n\nOpen that up in your favorite image browser and confirm that the appropriate\nRRD graph is generated.\n\nLet's clean up the files we've put in the temp directory::\n\n    >>> os.unlink(filename)\n    >>> os.unlink(graphfile)\n\n\n===============\nPython Bindings\n===============\n\nIn addition to the command line tool, PyRRD also supports using the Python\nbindings, if you have them installed. Let's set some stuff up like we did in\nthe previous example::\n\n    >>> filename = '/tmp/test.rrd'\n    >>> dataSources = []\n    >>> roundRobinArchives = []\n    >>> dataSource = DataSource(\n    ...     dsName='speed', dsType='COUNTER', heartbeat=600)\n    >>> dataSources.append(dataSource)\n    >>> roundRobinArchives.append(RRA(cf='AVERAGE', xff=0.5, steps=1, rows=24))\n    >>> roundRobinArchives.append(RRA(cf='AVERAGE', xff=0.5, steps=6, rows=10))\n\nUsage is identical to the standard PyRRD usage, with the exception of object\nconstruction::\n\n    >>> from pyrrd.backend import bindings\n    >>> myRRD = RRD(filename, ds=dataSources, rra=roundRobinArchives,\n    ...     backend=bindings)\n    >>> myRRD.create()\n\nNote that since the Graph module is its own beast, you will need to indicate\nwhether you want to use the bindings or the external backend when you graph as\nwell::\n\n    >>> from pyrrd.graph import Graph\n    >>> graphfile = \"/tmp/rrdgraph.png\"\n    >>> g = Graph(graphfile, start=920805000, end=920810000,\n    ...     vertical_label='km/h', color=ca, backend=bindings)\n    >>> g.data.extend([def1, cdef1, cdef2, cdef3, vdef1, vdef2, line1, area1,\n    ...     area2, line2, gprint1])\n    >>> g.write()\n\nEverything else is the same. Let's check to see that the file exists, and then\nwe'll cleanup::\n\n    >>> import os\n    >>> os.path.isfile(filename)\n    True\n    >>> os.unlink(filename)\n\n\n==========\nKnown Bugs\n==========\n\n* http://code.google.com/p/pyrrd/issues/list\n\n====\nTODO\n====\n\nNear Term\n---------\n\n* Move test code around (testing and admin/testRunner).\n\n* Fix breaking tests.\n\n* Add wiki examples for using info and fetch\n\n* Improve the wrapper for the Python RRDTool bindings\n\n  * a lot of the code in PyRRD was written quite a while ago (circa 2004), and\n    needs to be refactored (removing redundancies, use better idioms, etc.)\n\n* Allow for users to supply their own fd to pyrrd.graph.\n\n* Update all examples for recent dates like example4 has been updated.\n\n* Stop using actual file writes and doctests for file tests; use unit tests\n  (and StringIO) instead.\n\nFuture\n------\n\n* Add an RPN class.\n\n* Add a DS collection class that has a get() method for getting a\n  particular DS by name.\n\n* Add support for atomic operations.\n\n\n=======\nChanges\n=======\n\nFrom 0.0.7 to 0.1.0\n-------------------\n\nThis version marks a significant update to the code base. Some 70+ commits have\nbeen made to trunk since the last release in the period from March 2009 to\nSeptember 2011. Some of the most signficant changes include the following:\n\n* Added a wrapper for the Python bindings.\n\n* Improvements in tests and testing infrastructure.\n\n* Improved exception handling.\n\n* Many changes and improvements to the RRD -> Python object mapper.\n\n* Improved support in Windows.\n\n* Graph formatting fixes.\n\n* Many bug fixes from community members.\n\n\nFrom 0.0.6 to 0.0.7\n-------------------\n\n* Packaging improvements and loads of documentation.\n\n\nFrom 0.0.5 to 0.0.6\n-------------------\n\n* Bug fix release (missing files in source package).\n\n\nFrom 0.0.4 to 0.0.5\n-------------------\n\n* Added support for retrieving and displaying RRD from RRD files.\n\n* Added an object mapper for RRD data (via XML files).\n\n* Added community-contributed improvements.\n\n\nFrom 0.0.3 to 0.0.4\n-------------------\n\n* Updated all the examples to work with the latest code.\n\n* Added community-contributed bug fix for Windows users.\n\n\nFrom 0.0.2 to 0.0.3\n-------------------\n\n* Minor code reorg.\n\n* Fixed doctests.\n\n* Various bug fixes.\n\n* Examples updates.\n\n\nFrom 0.0.1 to 0.0.2\n-------------------\n\n* Added license.\n\n* Added unit tests.\n\n* Added more examples.\n\n\nFrom 0 to 0.0.1\n---------------\n\n* Reorganized RRD code as donated from the CoyMon project.\n\n* Got basic rrdtool functionality represented as Python classes.\n\n* Code cleanup.\n\n\n================\nAcknowledgements\n================\n\nThe following members of the community have provided valuable contributions to\nthis project:\n\n* Ravi Bhalotia, Allen Lerner, Mike Carrick and the U.S. Department of Veterans\n  Affairs\n\n* AdytumSolutions, Inc., E-Secure Systems\n\n* nasvos, Leem Smit, Aaron Westendorf and Agora Games\n\n* Mladen Milankovic, Denis Fortin\n\n* Joseph Heck, Jean-Baptiste Quenot\n\n* Pavel Shramov, Brad Beattie, Colin Horsington\n\nThanks!\n\n\n==========\nReferences\n==========\n\n.. [#] http://code.google.com/p/pyrrd/wiki/FrontPage?tm=6\n\n.. [#] http://code.google.com/p/pyrrd/wiki/FullWorkingExamples\n\n.. [#] http://oss.oetiker.ch/rrdtool/\n\n.. [#] http://effbot.org/zone/element-index.htm", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://code.google.com/p/pyrrd/", "keywords": null, "license": "BSD", "maintainer": null, "maintainer_email": null, "name": "pyrrd-fix", "package_url": "https://pypi.org/project/pyrrd-fix/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/pyrrd-fix/", "project_urls": {"Download": "UNKNOWN", "Homepage": "http://code.google.com/p/pyrrd/"}, "release_url": "https://pypi.org/project/pyrrd-fix/0.1.1/", "requires_dist": null, "requires_python": null, "summary": "bug fixed for pyrrd", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"contents\">\n<p>Contents</p>\n<ul>\n<li><a href=\"#features\" id=\"id9\" rel=\"nofollow\">Features</a></li>\n<li><a href=\"#introduction\" id=\"id10\" rel=\"nofollow\">Introduction</a></li>\n<li><a href=\"#dependencies\" id=\"id11\" rel=\"nofollow\">Dependencies</a></li>\n<li><a href=\"#installation\" id=\"id12\" rel=\"nofollow\">Installation</a></li>\n<li><a href=\"#usage\" id=\"id13\" rel=\"nofollow\">Usage</a></li>\n<li><a href=\"#python-bindings\" id=\"id14\" rel=\"nofollow\">Python Bindings</a></li>\n<li><a href=\"#known-bugs\" id=\"id15\" rel=\"nofollow\">Known Bugs</a></li>\n<li><a href=\"#todo\" id=\"id16\" rel=\"nofollow\">TODO</a></li>\n<li><a href=\"#changes\" id=\"id17\" rel=\"nofollow\">Changes</a></li>\n<li><a href=\"#acknowledgements\" id=\"id18\" rel=\"nofollow\">Acknowledgements</a></li>\n<li><a href=\"#references\" id=\"id19\" rel=\"nofollow\">References</a></li>\n</ul>\n</div>\n<div id=\"features\">\n<h2><a href=\"#id9\" rel=\"nofollow\">Features</a></h2>\n<p>PyRRD lets you use RRDTool from Python code that takes advantage of standard\nobject-oriented patterns. The makes the programmatic usage of RRDTool much\neasier and reusable.</p>\n<p>A quick review of features is available at the project wiki <a href=\"#id5\" id=\"id1\" rel=\"nofollow\">[1]</a> . Example\ncode with graph image output is also available on the wiki <a href=\"#id6\" id=\"id2\" rel=\"nofollow\">[2]</a> .</p>\n</div>\n<div id=\"introduction\">\n<h2><a href=\"#id10\" rel=\"nofollow\">Introduction</a></h2>\n<p>PyRRD is an object-oriented wrapper for the command line graphing and\nround-robin database utility, rrdtool <a href=\"#id7\" id=\"id3\" rel=\"nofollow\">[3]</a> . PyRRD originally had two design\ngoals:</p>\n<ol>\n<li>provide an interface to rrdtool that Python programmers would love, and</li>\n<li>not depend upon the Python bindings for rrdtool.</li>\n</ol>\n<p>The reasons for the former are obvious. The motivation for the latter were the\nmany people who had difficulty compiling the rrdtool bindings on their\noperating system of choice.</p>\n<p>Even though PyRRD\u2019s original purpose was to help those without the bingins, the\nproject now offers support for those with the bindings installed. As such,\nusers may enjoy both the speed benefits from the bindings as well as the API\nusability from PyRRD.</p>\n<p>For docs, see the docstrings at the beginning of each class (and many of the\nfunctions). They not only contain many of the standard RRDTool docs, but they\ncontain doctests which give you a hands-on, how-it-works understanding of\nactual usage.</p>\n<p>For those curious about the motivation for creating PyRRD, perhaps some\nbackground would be in order. Originally, there were only two ways to use\nRRDTool from Python:</p>\n<ol>\n<li>using the Python bindings which were difficult to compile and use, or</li>\n</ol>\n<p>2. making system calls to the \u201crrdtool\u201d executable from Python, passing\nit all the parameters it needed.</p>\n<p>Option #1 was often difficult or impossible for many folks to get running on\ntheir preferred operating system. But even if one was able to compile it and\nrun it, usage was very cumbersome and designed to work like the command line\ntool and the C interface, not like most people typically use Python.</p>\n<p>Now, with PyRRD, there are two additional ways to use RRDTool from Python:</p>\n<p>3. an object-oriented interface that wraps system calls (Popen) to the\nrrdtool binary, and</p>\n<p>4. the same object-oriented interface that wraps the cumbersome rrdtool\nPython bindings.</p>\n</div>\n<div id=\"dependencies\">\n<h2><a href=\"#id11\" rel=\"nofollow\">Dependencies</a></h2>\n<p>Some parts of PyRRD make use of ElementTree for XML processing. If you have\nPython 2.5 or greater, PyRRD will use xml.etree. If your Python version is less\nthan 2.5 and you want to use features that depend on XML processing (such as\ndump function and the fetch/info methods), you will need to install\nthe ElementTree library <a href=\"#id8\" id=\"id4\" rel=\"nofollow\">[4]</a> .</p>\n</div>\n<div id=\"installation\">\n<h2><a href=\"#id12\" rel=\"nofollow\">Installation</a></h2>\n<p>PyRRD is installed in the usual way:</p>\n<pre>python setup.py install\n</pre>\n<p>You may also use PyRRD without installing it as long as you have ./ in your\nPYTHONPATH and you are in the top-level directory (which has the pyrrd child\ndirectory).</p>\n</div>\n<div id=\"usage\">\n<h2><a href=\"#id13\" rel=\"nofollow\">Usage</a></h2>\n<p>Create an RRD file programmatically:</p>\n<pre>&gt;&gt;&gt; from pyrrd.rrd import DataSource, RRA, RRD\n&gt;&gt;&gt; filename = '/tmp/test.rrd'\n&gt;&gt;&gt; dataSources = []\n&gt;&gt;&gt; roundRobinArchives = []\n&gt;&gt;&gt; dataSource = DataSource(\n...     dsName='speed', dsType='COUNTER', heartbeat=600)\n&gt;&gt;&gt; dataSources.append(dataSource)\n&gt;&gt;&gt; roundRobinArchives.append(RRA(cf='AVERAGE', xff=0.5, steps=1, rows=24))\n&gt;&gt;&gt; roundRobinArchives.append(RRA(cf='AVERAGE', xff=0.5, steps=6, rows=10))\n&gt;&gt;&gt; myRRD = RRD(\n...     filename, ds=dataSources, rra=roundRobinArchives, start=920804400)\n&gt;&gt;&gt; myRRD.create()\n</pre>\n<p>Let\u2019s check to see that the file exists:</p>\n<pre>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.path.isfile(filename)\nTrue\n</pre>\n<p>Let\u2019s see how big it is (depending upon RRDTool version, the byte count can\nchange, so we\u2019ll just get a general sense):</p>\n<pre>&gt;&gt;&gt; bytes = len(open(filename).read())\n&gt;&gt;&gt; 800 &lt; bytes &lt; 1200\nTrue\n</pre>\n<p>In order to save writes to disk, PyRRD buffers values and then writes the\nvalues to the RRD file at one go:</p>\n<pre>&gt;&gt;&gt; myRRD.bufferValue('920805600', '12363')\n&gt;&gt;&gt; myRRD.bufferValue('920805900', '12363')\n&gt;&gt;&gt; myRRD.bufferValue('920806200', '12373')\n&gt;&gt;&gt; myRRD.bufferValue('920806500', '12383')\n&gt;&gt;&gt; myRRD.update()\n</pre>\n<p>Let\u2019s add some more data:</p>\n<pre>&gt;&gt;&gt; myRRD.bufferValue('920806800', '12393')\n&gt;&gt;&gt; myRRD.bufferValue('920807100', '12399')\n&gt;&gt;&gt; myRRD.bufferValue('920807400', '12405')\n&gt;&gt;&gt; myRRD.bufferValue('920807700', '12411')\n&gt;&gt;&gt; myRRD.bufferValue('920808000', '12415')\n&gt;&gt;&gt; myRRD.bufferValue('920808300', '12420')\n&gt;&gt;&gt; myRRD.bufferValue('920808600', '12422')\n&gt;&gt;&gt; myRRD.bufferValue('920808900', '12423')\n&gt;&gt;&gt; myRRD.update()\n</pre>\n<p>If you\u2019re curious, you can take a look at your rrd file with the following:</p>\n<pre>myRRD.info()\n</pre>\n<p>The output of that isn\u2019t printed here, \u2018cause it take up too much space.\nHowever, it is very similar to the output of the similarly named rrdtool\ncommand.</p>\n<p>In order to create a graph, we\u2019ll need some data definitions. We\u2019ll also\nthrow in some calculated definitions and variable definitions for good\nmeansure:</p>\n<pre>&gt;&gt;&gt; from pyrrd.graph import DEF, CDEF, VDEF, LINE, AREA, GPRINT\n&gt;&gt;&gt; def1 = DEF(rrdfile=myRRD.filename, vname='myspeed',\n...     dsName=dataSource.name)\n&gt;&gt;&gt; cdef1 = CDEF(vname='kmh', rpn='%s,3600,*' % def1.vname)\n&gt;&gt;&gt; cdef2 = CDEF(vname='fast', rpn='kmh,100,GT,kmh,0,IF')\n&gt;&gt;&gt; cdef3 = CDEF(vname='good', rpn='kmh,100,GT,0,kmh,IF')\n&gt;&gt;&gt; vdef1 = VDEF(vname='mymax', rpn='%s,MAXIMUM' % def1.vname)\n&gt;&gt;&gt; vdef2 = VDEF(vname='myavg', rpn='%s,AVERAGE' % def1.vname)\n\n&gt;&gt;&gt; line1 = LINE(value=100, color='#990000', legend='Maximum Allowed')\n&gt;&gt;&gt; area1 = AREA(defObj=cdef3, color='#006600', legend='Good Speed')\n&gt;&gt;&gt; area2 = AREA(defObj=cdef2, color='#CC6633', legend='Too Fast')\n&gt;&gt;&gt; line2 = LINE(defObj=vdef2, color='#000099', legend='My Average',\n...     stack=True)\n&gt;&gt;&gt; gprint1 = GPRINT(vdef2, '%6.2lf kph')\n</pre>\n<p>Color is the spice of life. Let\u2019s spice it up a little:</p>\n<pre>&gt;&gt;&gt; from pyrrd.graph import ColorAttributes\n&gt;&gt;&gt; ca = ColorAttributes()\n&gt;&gt;&gt; ca.back = '#333333'\n&gt;&gt;&gt; ca.canvas = '#333333'\n&gt;&gt;&gt; ca.shadea = '#000000'\n&gt;&gt;&gt; ca.shadeb = '#111111'\n&gt;&gt;&gt; ca.mgrid = '#CCCCCC'\n&gt;&gt;&gt; ca.axis = '#FFFFFF'\n&gt;&gt;&gt; ca.frame = '#AAAAAA'\n&gt;&gt;&gt; ca.font = '#FFFFFF'\n&gt;&gt;&gt; ca.arrow = '#FFFFFF'\n</pre>\n<p>Now we can create a graph for the data in our RRD file:</p>\n<pre>&gt;&gt;&gt; from pyrrd.graph import Graph\n&gt;&gt;&gt; graphfile = \"/tmp/rrdgraph.png\"\n&gt;&gt;&gt; g = Graph(graphfile, start=920805000, end=920810000,\n...     vertical_label='km/h', color=ca)\n&gt;&gt;&gt; g.data.extend([def1, cdef1, cdef2, cdef3, vdef1, vdef2, line1, area1,\n...     area2, line2, gprint1])\n&gt;&gt;&gt; g.write()\n</pre>\n<p>Let\u2019s make sure it\u2019s there:</p>\n<pre>&gt;&gt;&gt; os.path.isfile(graphfile)\nTrue\n</pre>\n<p>Let\u2019s get a sense of the byte size:</p>\n<pre>&gt;&gt;&gt; bytes = len(open(graphfile).read())\n&gt;&gt;&gt; bytes != 0\nTrue\n&gt;&gt;&gt; 8000 &lt; bytes &lt; 10400\nTrue\n</pre>\n<p>Open that up in your favorite image browser and confirm that the appropriate\nRRD graph is generated.</p>\n<p>Let\u2019s clean up the files we\u2019ve put in the temp directory:</p>\n<pre>&gt;&gt;&gt; os.unlink(filename)\n&gt;&gt;&gt; os.unlink(graphfile)\n</pre>\n</div>\n<div id=\"python-bindings\">\n<h2><a href=\"#id14\" rel=\"nofollow\">Python Bindings</a></h2>\n<p>In addition to the command line tool, PyRRD also supports using the Python\nbindings, if you have them installed. Let\u2019s set some stuff up like we did in\nthe previous example:</p>\n<pre>&gt;&gt;&gt; filename = '/tmp/test.rrd'\n&gt;&gt;&gt; dataSources = []\n&gt;&gt;&gt; roundRobinArchives = []\n&gt;&gt;&gt; dataSource = DataSource(\n...     dsName='speed', dsType='COUNTER', heartbeat=600)\n&gt;&gt;&gt; dataSources.append(dataSource)\n&gt;&gt;&gt; roundRobinArchives.append(RRA(cf='AVERAGE', xff=0.5, steps=1, rows=24))\n&gt;&gt;&gt; roundRobinArchives.append(RRA(cf='AVERAGE', xff=0.5, steps=6, rows=10))\n</pre>\n<p>Usage is identical to the standard PyRRD usage, with the exception of object\nconstruction:</p>\n<pre>&gt;&gt;&gt; from pyrrd.backend import bindings\n&gt;&gt;&gt; myRRD = RRD(filename, ds=dataSources, rra=roundRobinArchives,\n...     backend=bindings)\n&gt;&gt;&gt; myRRD.create()\n</pre>\n<p>Note that since the Graph module is its own beast, you will need to indicate\nwhether you want to use the bindings or the external backend when you graph as\nwell:</p>\n<pre>&gt;&gt;&gt; from pyrrd.graph import Graph\n&gt;&gt;&gt; graphfile = \"/tmp/rrdgraph.png\"\n&gt;&gt;&gt; g = Graph(graphfile, start=920805000, end=920810000,\n...     vertical_label='km/h', color=ca, backend=bindings)\n&gt;&gt;&gt; g.data.extend([def1, cdef1, cdef2, cdef3, vdef1, vdef2, line1, area1,\n...     area2, line2, gprint1])\n&gt;&gt;&gt; g.write()\n</pre>\n<p>Everything else is the same. Let\u2019s check to see that the file exists, and then\nwe\u2019ll cleanup:</p>\n<pre>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.path.isfile(filename)\nTrue\n&gt;&gt;&gt; os.unlink(filename)\n</pre>\n</div>\n<div id=\"known-bugs\">\n<h2><a href=\"#id15\" rel=\"nofollow\">Known Bugs</a></h2>\n<ul>\n<li><a href=\"http://code.google.com/p/pyrrd/issues/list\" rel=\"nofollow\">http://code.google.com/p/pyrrd/issues/list</a></li>\n</ul>\n</div>\n<div id=\"todo\">\n<h2><a href=\"#id16\" rel=\"nofollow\">TODO</a></h2>\n<div id=\"near-term\">\n<h3>Near Term</h3>\n<ul>\n<li>Move test code around (testing and admin/testRunner).</li>\n<li>Fix breaking tests.</li>\n<li>Add wiki examples for using info and fetch</li>\n<li>Improve the wrapper for the Python RRDTool bindings<ul>\n<li>a lot of the code in PyRRD was written quite a while ago (circa 2004), and\nneeds to be refactored (removing redundancies, use better idioms, etc.)</li>\n</ul>\n</li>\n<li>Allow for users to supply their own fd to pyrrd.graph.</li>\n<li>Update all examples for recent dates like example4 has been updated.</li>\n<li>Stop using actual file writes and doctests for file tests; use unit tests\n(and StringIO) instead.</li>\n</ul>\n</div>\n<div id=\"future\">\n<h3>Future</h3>\n<ul>\n<li>Add an RPN class.</li>\n<li>Add a DS collection class that has a get() method for getting a\nparticular DS by name.</li>\n<li>Add support for atomic operations.</li>\n</ul>\n</div>\n</div>\n<div id=\"changes\">\n<h2><a href=\"#id17\" rel=\"nofollow\">Changes</a></h2>\n<div id=\"from-0-0-7-to-0-1-0\">\n<h3>From 0.0.7 to 0.1.0</h3>\n<p>This version marks a significant update to the code base. Some 70+ commits have\nbeen made to trunk since the last release in the period from March 2009 to\nSeptember 2011. Some of the most signficant changes include the following:</p>\n<ul>\n<li>Added a wrapper for the Python bindings.</li>\n<li>Improvements in tests and testing infrastructure.</li>\n<li>Improved exception handling.</li>\n<li>Many changes and improvements to the RRD -&gt; Python object mapper.</li>\n<li>Improved support in Windows.</li>\n<li>Graph formatting fixes.</li>\n<li>Many bug fixes from community members.</li>\n</ul>\n</div>\n<div id=\"from-0-0-6-to-0-0-7\">\n<h3>From 0.0.6 to 0.0.7</h3>\n<ul>\n<li>Packaging improvements and loads of documentation.</li>\n</ul>\n</div>\n<div id=\"from-0-0-5-to-0-0-6\">\n<h3>From 0.0.5 to 0.0.6</h3>\n<ul>\n<li>Bug fix release (missing files in source package).</li>\n</ul>\n</div>\n<div id=\"from-0-0-4-to-0-0-5\">\n<h3>From 0.0.4 to 0.0.5</h3>\n<ul>\n<li>Added support for retrieving and displaying RRD from RRD files.</li>\n<li>Added an object mapper for RRD data (via XML files).</li>\n<li>Added community-contributed improvements.</li>\n</ul>\n</div>\n<div id=\"from-0-0-3-to-0-0-4\">\n<h3>From 0.0.3 to 0.0.4</h3>\n<ul>\n<li>Updated all the examples to work with the latest code.</li>\n<li>Added community-contributed bug fix for Windows users.</li>\n</ul>\n</div>\n<div id=\"from-0-0-2-to-0-0-3\">\n<h3>From 0.0.2 to 0.0.3</h3>\n<ul>\n<li>Minor code reorg.</li>\n<li>Fixed doctests.</li>\n<li>Various bug fixes.</li>\n<li>Examples updates.</li>\n</ul>\n</div>\n<div id=\"from-0-0-1-to-0-0-2\">\n<h3>From 0.0.1 to 0.0.2</h3>\n<ul>\n<li>Added license.</li>\n<li>Added unit tests.</li>\n<li>Added more examples.</li>\n</ul>\n</div>\n<div id=\"from-0-to-0-0-1\">\n<h3>From 0 to 0.0.1</h3>\n<ul>\n<li>Reorganized RRD code as donated from the CoyMon project.</li>\n<li>Got basic rrdtool functionality represented as Python classes.</li>\n<li>Code cleanup.</li>\n</ul>\n</div>\n</div>\n<div id=\"acknowledgements\">\n<h2><a href=\"#id18\" rel=\"nofollow\">Acknowledgements</a></h2>\n<p>The following members of the community have provided valuable contributions to\nthis project:</p>\n<ul>\n<li>Ravi Bhalotia, Allen Lerner, Mike Carrick and the U.S. Department of Veterans\nAffairs</li>\n<li>AdytumSolutions, Inc., E-Secure Systems</li>\n<li>nasvos, Leem Smit, Aaron Westendorf and Agora Games</li>\n<li>Mladen Milankovic, Denis Fortin</li>\n<li>Joseph Heck, Jean-Baptiste Quenot</li>\n<li>Pavel Shramov, Brad Beattie, Colin Horsington</li>\n</ul>\n<p>Thanks!</p>\n</div>\n<div id=\"references\">\n<h2><a href=\"#id19\" rel=\"nofollow\">References</a></h2>\n<table id=\"id5\">\n<col><col>\n<tbody>\n<tr><td><a href=\"#id1\" rel=\"nofollow\">[1]</a></td><td><a href=\"http://code.google.com/p/pyrrd/wiki/FrontPage?tm=6\" rel=\"nofollow\">http://code.google.com/p/pyrrd/wiki/FrontPage?tm=6</a></td></tr>\n</tbody>\n</table>\n<table id=\"id6\">\n<col><col>\n<tbody>\n<tr><td><a href=\"#id2\" rel=\"nofollow\">[2]</a></td><td><a href=\"http://code.google.com/p/pyrrd/wiki/FullWorkingExamples\" rel=\"nofollow\">http://code.google.com/p/pyrrd/wiki/FullWorkingExamples</a></td></tr>\n</tbody>\n</table>\n<table id=\"id7\">\n<col><col>\n<tbody>\n<tr><td><a href=\"#id3\" rel=\"nofollow\">[3]</a></td><td><a href=\"http://oss.oetiker.ch/rrdtool/\" rel=\"nofollow\">http://oss.oetiker.ch/rrdtool/</a></td></tr>\n</tbody>\n</table>\n<table id=\"id8\">\n<col><col>\n<tbody>\n<tr><td><a href=\"#id4\" rel=\"nofollow\">[4]</a></td><td><a href=\"http://effbot.org/zone/element-index.htm\" rel=\"nofollow\">http://effbot.org/zone/element-index.htm</a></td></tr>\n</tbody>\n</table>\n</div>\n\n          </div>"}, "last_serial": 968536, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "30def8cd8f3c60a2042732de72b6845e", "sha256": "6723aabcd8c7020c4b813df9017d7982a58a5c29a5b2cffbcdb7c7558261880f"}, "downloads": -1, "filename": "pyrrd_fix-0.1.1-py2.6.egg", "has_sig": false, "md5_digest": "30def8cd8f3c60a2042732de72b6845e", "packagetype": "bdist_egg", "python_version": "2.6", "requires_python": null, "size": 94257, "upload_time": "2014-01-14T08:51:24", "upload_time_iso_8601": "2014-01-14T08:51:24.177277Z", "url": "https://files.pythonhosted.org/packages/a2/80/4015f89272688f4d194c03458d1a3772686b33d596af3c97e410d5141d6d/pyrrd_fix-0.1.1-py2.6.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "a34af795a5e1561c25a710de1cef3b0a", "sha256": "fd181970ae5c5fdf2c6f4592fd08fbb9b8bee9bce8582e8355cad58123649f4e"}, "downloads": -1, "filename": "pyrrd-fix-0.1.1.zip", "has_sig": false, "md5_digest": "a34af795a5e1561c25a710de1cef3b0a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 474290, "upload_time": "2014-01-14T08:51:20", "upload_time_iso_8601": "2014-01-14T08:51:20.574953Z", "url": "https://files.pythonhosted.org/packages/30/7e/649a1bfda5970e05acc984408a4433fb242c33ebd9e5d42c21a974da6b82/pyrrd-fix-0.1.1.zip", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "30def8cd8f3c60a2042732de72b6845e", "sha256": "6723aabcd8c7020c4b813df9017d7982a58a5c29a5b2cffbcdb7c7558261880f"}, "downloads": -1, "filename": "pyrrd_fix-0.1.1-py2.6.egg", "has_sig": false, "md5_digest": "30def8cd8f3c60a2042732de72b6845e", "packagetype": "bdist_egg", "python_version": "2.6", "requires_python": null, "size": 94257, "upload_time": "2014-01-14T08:51:24", "upload_time_iso_8601": "2014-01-14T08:51:24.177277Z", "url": "https://files.pythonhosted.org/packages/a2/80/4015f89272688f4d194c03458d1a3772686b33d596af3c97e410d5141d6d/pyrrd_fix-0.1.1-py2.6.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "a34af795a5e1561c25a710de1cef3b0a", "sha256": "fd181970ae5c5fdf2c6f4592fd08fbb9b8bee9bce8582e8355cad58123649f4e"}, "downloads": -1, "filename": "pyrrd-fix-0.1.1.zip", "has_sig": false, "md5_digest": "a34af795a5e1561c25a710de1cef3b0a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 474290, "upload_time": "2014-01-14T08:51:20", "upload_time_iso_8601": "2014-01-14T08:51:20.574953Z", "url": "https://files.pythonhosted.org/packages/30/7e/649a1bfda5970e05acc984408a4433fb242c33ebd9e5d42c21a974da6b82/pyrrd-fix-0.1.1.zip", "yanked": false}], "timestamp": "Fri May  8 02:57:34 2020"}
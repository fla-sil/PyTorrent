{"info": {"author": "Andreas Kraft", "author_email": "onem2m@mheg.org", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# ![](webui/img/acme_sm.png) \n\n# ACME oneM2M CSE\nAn open source CSE Middleware for Education.\n\nVersion 0.3.0\n\n\n## Introduction\n\nThis CSE implements a subset of the oneM2M standard specializations (see [http://www.onem2m.org](http://www.onem2m.org)). The intention is to provide an easy to install, extensible, and easy to use and maintain CSE for educational purposes. Also see the discussion on [Limitations](#limitations) below.\n\n![](docs/images/webui.png)\n\n\n## Prerequisites\nIn order to run the CSE the following prerequisites must be fulfilled:\n\n- **Python 3.8** : Install this or a newer version of Python with your favorite package manager.\n- You may consider to use a virtual environment manager like pyenv + virtualenv (see, for example, [this tutorial](https://realpython.com/python-virtual-environments-a-primer/)).\n- **flask**: The CSE uses the [Flask](https://flask.palletsprojects.com/) web framework. Install it by running the pip command:\n  \n  \t\tpip3 install flask\n\n- **psutil**: The [psutil](https://pypi.org/project/psutil/)\n package is used to gather various system information for the CSE's hosting node resource. Install it by running the pip command:\n\n\t\tpip3 install psutil\n\n- **requests**: The CSE uses the [Requests](https://requests.readthedocs.io) HTTP Library to send requests vi http. Install it by running the pip command:\n\n\t\tpip3 install requests\n\n- **tinydb** : To store resources the CSE uses the lightweight [TinyDB](https://github.com/msiemens/tinydb) document database. Install it by running the pip command:\n\n\t\tpip3 install tinydb\n\n## Installation and Configuration\n\nInstall the ACME CSE by copy the whole distribution to a new directory. You also need to copy the configuration file [acme.ini.default](acme.ini.default) to a new file *acme.ini* and make adjustments to that new file.\n\n\tcp acme.ini.default acme.ini\n\nPlease have a look at the configuration file. All the CSE's settings are read from this file. \n\nThere are a lot of individual things to configure here. Mostly, the defaults should be sufficient, but individual settings can be applied to each of the sections.\n\n## Running\n\n### Running the Notifications Server\n\nIf you want to work with subscriptions and notification: You might want to have a Notifications Server running first before starting the CSE. The Notification Server provided with the CSE in the [tools/notificationServer](tools/notificationServer) directory provides a very simple implementation that receives and answers notification requests.\n\nSee the [README](tools/notificationServer/README.md) file for further details.\n\n### Running the CSE\n\nYou can start the CSE by simply running it from a command line:\n\n\tpython3 acme.py\n\nIn this case the configuration file *acme.ini* must be in the same directory.\n\nIn additions, you can provide additional command line arguments that will override the respective settings from the configuration file:\n\n- **-h**, **--help** : show a help message and exit.\n- **--apps**, **--noapps**: Enable or disable the build-in applications. This overrides the settings in the configuration file.\n- **--config CONFIGFILE**: Specify a configuration file that is used instead of the default (*acme.ini*) one.\n- **--db-reset**: Reset and clear the database when starting the CSE.\n- **--db-storage {memory,disk}**: Specify the DB\u00b4s storage mode.\n- **--log-level {info, error, warn, debug, off}**: Set the log level, or turn logging off.\n- **--import-directory IMPORTDIRECTORY**: Specify the import directory.\n\n\n### Stopping the CSE\n\nThe CSE can be stopped by pressing *CTRL-C* **once** on the command line. \n\nPlease note, that the shutdown might take a moment (e.g. gracefully terminating background processes, writing database caches, sending notifications etc). \n\n**Being impatient and hitting *CTRL-C* twice might lead to data corruption.**\n\n### Downloading and Running a Docker Image\n\nA Docker image with reasonable defaults is available on Docker Hub: [https://hub.docker.com/repository/docker/ankraft/acme-onem2m-cse](https://hub.docker.com/repository/docker/ankraft/acme-onem2m-cse) .\n\nYou can download and run it with the following shell command:\n\n```bash\n$ docker run -p 8080:8080 --rm --name acme-onem2m-cse ankraft/acme-onem2m-cse\n```\n\n#### Build Your Own Docker Image\n\nYou can adapt (ie. configure a new Docker Hub ID) the build script and *Dockerfile* in the [tools/Docker](tools/Docker) directory. The build script takes the current scripts, configuration, resources etc, builds a new Docker image, and uploads the image to the configured Docker Hub repository.\n\n\n### Importing Resources\n\nDuring startup it is possible to import resources into to CSE. Each resource is read from a single file in the [init](./init) resource directory specified in the configuration file.\n\nNot much validation, access control, or registration procedures are performedfor imported resources.\n\n#### Importing Mandatory Resources\n\n**Please note** that importing is required for creating the CSEBase resource and at least two (admin) ACP resources. Those are imported before all other resources, so that the CSEBase resource can act as the root for the resource tree. The *admin* ACP is used to access resources with the administrator originator. The *default* ACP resource is the one that is assigned for resources that don't specify an ACP on their own.\n\nThe filenames for these resources must be:\n\n- [csebase.json](init/csebase.json) for the CSEBase.\n- [acp.admin.json](init/acp.admin.json) for the admin ACP.\n- [acp.default.json](init/acp.default.json) for the default ACP.\n\n#### Importing Other Resources\n\nAfter importing the mandatory resources all other resources in the [init](./init) directory are read in alphabetical order and are added (created) to the CSE's resource tree. Imported resources must have a valid *acpi* attribute, because no default *acpi* is assigned during importing.\n\n#### Updating Resources\n\nIf the filename contains the substring *update*, then the resource specified by the resource's *ri* attribute is updated instead of created.\n\n#### Examples & Templates\n\nA minimal set of resources is provided in the [init](./init) directory. Definitions for a more sophisticated setup can be found in the [tools/init.example](tools/init.example) directory. To use these examples, you can either copy the resources to the *init* directory or change the \"cse -> resourcesPath\" entry in the *acme.ini* configuration file.\n\nThe directory [tools/resourceTemplates](tools/resourceTemplates) contains templates for supported resource types. Please see the [README](tools/resourceTemplates/README.md) there for further details.\n\n\n## Web UI\n\nThe Web UI is by default enabled and reachable under the (configurable) path *&lt;host>/webui*.\n\n- To login you need to specify a valid originator. The default \"admin\" originator is *CAdmin*.\n- Beside of the default *CSEBase* resource you can specify a different resource identifier as the root of the resource tree.\n- You can navigate the resource tree with arrow keys.\n- You can switch between short and long attribute names (press CTRL-H).\n\n\n### REST UI\n\nThe web UI also provides a REST UI where you can send REST requests directed at resources on the CSE.\n\n![](docs/images/webui-REST.png)\n\n## Operation\n\n### Remote CSE\n\nWhen a CSE is configured as an MN-CSE of ASN-CSE it can connect to a remote CSE, respectively an IN-CSE and MN-CSE can receive connection requests from those CSE types. A *remoteCSE* resource is created in case of a successful connection. A CSE checks regularly the connection to other remote CSEs and removes the *remoteCSE* if the connection could not been established.\n\nAnnounced resources are currently **not** supported by this implementation. But you can issue transfer requests to a remote CSE via its *remoteCSE* resource. These requests are forwarded by the CSE.\n\nYou must configure the details of the remote CSE in the configuration file.\n\n### CSE Originator Assignment\n\nWhenever a new *ACP* resource is created, the CSE's admin *originator* is assigned to that resource automatically. This way resources can always accessed by this originator.\n\nThis behaviour can be configured in the *[cse.resource.acp]* section of the configuration file.\n\n\n### AE Registration\n\nWhenever a new *AE* registers itself with the CSE (using the originators *C* or *S*) then a new originator for that *AE* is created. Also, the CSE automatically creates a new *ACP* resource for that new originator.\n\nBe aware that this *ACP* resource is also removed when the *AE* is deleted.\n\nThe operations for the *ACP* resource can be configured in the *[cse.resource.acp]* section of the configuration file.\n\n\n## Nodes and Applications\n\nCurrently, two component implementations are provided in addtion to the main CSE. They serve as examples how implement components that are hosted by the CSE itself.\n\n### CSE Node\n\nThis component implements a &lt;node> resource that provides additional information about the actual node (system) the CSE is running on. These are specializations of &lt;mgmtObj>'s, namely battery, memory, and device information.\n\nIt can be enabled/disabled and configured in the **[app.csenode]** section of the configuration file.\n\n\n### Statistics AE\n\nThe component implements an &lt;AE> resource that provides statistic information about the CSE. It defines a proprietary &lt;flexContainer> specialization that contains custom attributes for various statistic information, and which is updated every few seconds.\n\nIt can be enabled/disabled and configured in the **[app.statistics]** section of the configuration file.\n\n### Developing Nodes and AEs\n\nYou can develop your own components that technically run inside the CSE themselves by following the pattern of those two components:\n\n- Implement a class with either *AEBase* or *NodeBase* as a base class. This will create an &lt;AE> or &lt;node> resource for you.\n-  Implement a worker method and start it in the *\\_\\_init\\_\\_()* method. This method is called regularly in the background. This worker method can implement the main functionality of the &lt;AE> or &lt;node>.\n-  Implement a *shutdown()* method that is called when the CSE shuts down.\n-  Add your new component to the following methods in [acme/CSE.py](acme/CSE.py):\n\t-  *startApps()*: starting your component.\n\t-  *stopApps()*: shutting down your component.\n\nThere are more helper methods provided by the common *AppBase* and *AEBase* base classes, e.g. to send requests to the CSE via Mca, store AE data persistently etc.\n\n\n## Integration Into Other Applications\n\nIt is possible to integrate the CSE into other applications, e.g. a Jupyter Notebook. In this case you would possibly like to provide startup arguments, for example the path of the configuration file or the logging level, directly instead of getting them from *argparse*.\n\nYou might want to get the example from the starter file [acme.py](acme.py) where you could replace the line:\n\n```python\nCSE.startup(parseArgs())\n```\n\nwith a call to the CSE's *startup()* function:\n\n```python\nCSE.startup(None, configfile=defaultConfigFile, loglevel='error')\n```\n\nPlease note that in case you provide the arguments directly the first argument needs to be `None`. \n\nThe names of the *argparse* variables can be used here, and you may provide all or only some of the arguments. Please note that you need to keep or copy the `import` and `sys.path` statements at the top of that file.\n\n\n## URL Mappings\n\nAs a convenience to access resources on a CSE and to let requests look more like \"normal\" REST request you can define mappings. The format is a path that maps to another path and arguments. When issued a request to one of those mapped paths the http server issues a redirect to the other path.\n\nFor example, the path */access/v1/devices* can be mapped to */cse-mn?ty=14&fu=1&fo=2&rcn=8* to easily retrieve all nodes from the CSE.\n\nSee the configuration file for more examples.\n\n## Limitations\n- **This is by no means a fully compliant, secure or stable CSE! Don't use it in production.**\n- This CSE is intended for educational purposes. The underlying database system is not optimized in any way for high-volume, high-accessibility.\n- No support for https yet.\n- Security: None. Please contact me if you have suggestions to improve this.\n- Unsupported resource types are just stored, but no check or functionality is provided for those resources. The same is true for unknown resource attributes. Only a few attributes are validated.\n\n## Supported Resource Types and Functionalities\n\n### Resources\n\nThe CSE supports the following oneM2M resource types:\n\n- **CSEBase (CB)**\n- **Access Control Policy (ACP)**\n- **Remote CSE (CSR)**  \nAnnounced resources are yet not supported. Transit request, though, to resources on the remote CSE are supported.\n- **Application Entity (AE)**\n- **Container (CNT)**\n- **Content Instance (CIN)**\n- **Subscription (SUB)**  \nNotifications via http to a direct url or an AE's Point-of-Access (POA) are supported as well.\n- **Group (GRP)**  \nThe support includes requests via the *fopt* (fan-out-point) virtual resource.\n- **Node (NOD)**  \nThe support includes the following **Management Object (mgmtObj)** specializations:\n\t- **Firmware (FWR)**\n\t- **Software (SWR)**\n\t- **Memory (MEM)**\n\t- **AreaNwkInfo (ANI)**\n\t- **AreaNwkDeviceInfo (ANDI)**\n\t- **Battery (BAT)**\n\t- **DeviceInfo (DVI)**\n\t- **DeviceCapability (DVC)**\n\t- **Reboot (REB)**\n\t- **EventLog (EVL)**\n- **FlexContainer Specializations**  \nAny specializations is supported. There is no check performed against a schema (e.g. via the *cnd* attribute).\n\nResources of any other type are stored in the CSE but no further processed and no checks are performed on these resources. The type is marked as *unknown*.\n\n### Discovery\nThe following result contents are implemented for Discovery:\n\n- attributes + child-resources (rcn=4)\n- attributes + child-resource-references (rcn=5)\n- child-resource-references (rcn=6)\n- child-resources (rcn=8)\n\n## Third-Party Components\n\n### CSE\n- Flask: [https://flask.palletsprojects.com/](https://flask.palletsprojects.com/), BSD 3-Clause License\n- Requests: [https://requests.readthedocs.io/en/master/](https://requests.readthedocs.io/en/master/), Apache2 License\n- TinyDB: [https://github.com/msiemens/tinydb](https://github.com/msiemens/tinydb), MIT License\n- PSUtil: [https://github.com/giampaolo/psutil](https://github.com/giampaolo/psutil), BSD 3-Clause License\n\n\n### UI Components\n- TreeJS: [https://github.com/m-thalmann/treejs](https://github.com/m-thalmann/treejs), MIT License\n- Picnic CSS : [https://picnicss.com](https://picnicss.com), MIT License\n\n\n## Roadmap & Backlog\n- CSE: Announcements\n- CSE: Better resource validations\n- CSE: Timeseries\n- CSE: Support discovery also for other request types\n- UI: Support for resource specific actions (e.g. latest, oldest)\n- UI: Graph for Container reosurces\n- Importer: Automatically import/update resources when the CSE is running\n- App development: support more specializations\n\n## The Messy Details\n\n![](docs/images/cse_uml.png)\n\n## License\nBSD 3-Clause License for the CSE and its native components and modules. Please see the individual licenses of the used third-party components.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/ankraft/ACME-oneM2M-CSE", "keywords": "onem2m cse framework", "license": "BSD 3-Clause", "maintainer": "", "maintainer_email": "", "name": "ACME-oneM2M-CSE", "package_url": "https://pypi.org/project/ACME-oneM2M-CSE/", "platform": "", "project_url": "https://pypi.org/project/ACME-oneM2M-CSE/", "project_urls": {"Homepage": "https://github.com/ankraft/ACME-oneM2M-CSE"}, "release_url": "https://pypi.org/project/ACME-oneM2M-CSE/0.3.0/", "requires_dist": null, "requires_python": ">=3.8", "summary": "An open source CSE Middleware for Education.", "version": "0.3.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/29c92da07ab5bdea5dea85e01f48f52148081d68/77656275692f696d672f61636d655f736d2e706e67\"></h1>\n<h1>ACME oneM2M CSE</h1>\n<p>An open source CSE Middleware for Education.</p>\n<p>Version 0.3.0</p>\n<h2>Introduction</h2>\n<p>This CSE implements a subset of the oneM2M standard specializations (see <a href=\"http://www.onem2m.org\" rel=\"nofollow\">http://www.onem2m.org</a>). The intention is to provide an easy to install, extensible, and easy to use and maintain CSE for educational purposes. Also see the discussion on <a href=\"#limitations\" rel=\"nofollow\">Limitations</a> below.</p>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/475747ce102bf1a10623c63ebf4e7d103303ad12/646f63732f696d616765732f77656275692e706e67\"></p>\n<h2>Prerequisites</h2>\n<p>In order to run the CSE the following prerequisites must be fulfilled:</p>\n<ul>\n<li>\n<p><strong>Python 3.8</strong> : Install this or a newer version of Python with your favorite package manager.</p>\n</li>\n<li>\n<p>You may consider to use a virtual environment manager like pyenv + virtualenv (see, for example, <a href=\"https://realpython.com/python-virtual-environments-a-primer/\" rel=\"nofollow\">this tutorial</a>).</p>\n</li>\n<li>\n<p><strong>flask</strong>: The CSE uses the <a href=\"https://flask.palletsprojects.com/\" rel=\"nofollow\">Flask</a> web framework. Install it by running the pip command:</p>\n<pre><code>  pip3 install flask\n</code></pre>\n</li>\n<li>\n<p><strong>psutil</strong>: The <a href=\"https://pypi.org/project/psutil/\" rel=\"nofollow\">psutil</a>\npackage is used to gather various system information for the CSE's hosting node resource. Install it by running the pip command:</p>\n<pre><code>  pip3 install psutil\n</code></pre>\n</li>\n<li>\n<p><strong>requests</strong>: The CSE uses the <a href=\"https://requests.readthedocs.io\" rel=\"nofollow\">Requests</a> HTTP Library to send requests vi http. Install it by running the pip command:</p>\n<pre><code>  pip3 install requests\n</code></pre>\n</li>\n<li>\n<p><strong>tinydb</strong> : To store resources the CSE uses the lightweight <a href=\"https://github.com/msiemens/tinydb\" rel=\"nofollow\">TinyDB</a> document database. Install it by running the pip command:</p>\n<pre><code>  pip3 install tinydb\n</code></pre>\n</li>\n</ul>\n<h2>Installation and Configuration</h2>\n<p>Install the ACME CSE by copy the whole distribution to a new directory. You also need to copy the configuration file <a href=\"acme.ini.default\" rel=\"nofollow\">acme.ini.default</a> to a new file <em>acme.ini</em> and make adjustments to that new file.</p>\n<pre><code>cp acme.ini.default acme.ini\n</code></pre>\n<p>Please have a look at the configuration file. All the CSE's settings are read from this file.</p>\n<p>There are a lot of individual things to configure here. Mostly, the defaults should be sufficient, but individual settings can be applied to each of the sections.</p>\n<h2>Running</h2>\n<h3>Running the Notifications Server</h3>\n<p>If you want to work with subscriptions and notification: You might want to have a Notifications Server running first before starting the CSE. The Notification Server provided with the CSE in the <a href=\"tools/notificationServer\" rel=\"nofollow\">tools/notificationServer</a> directory provides a very simple implementation that receives and answers notification requests.</p>\n<p>See the <a href=\"tools/notificationServer/README.md\" rel=\"nofollow\">README</a> file for further details.</p>\n<h3>Running the CSE</h3>\n<p>You can start the CSE by simply running it from a command line:</p>\n<pre><code>python3 acme.py\n</code></pre>\n<p>In this case the configuration file <em>acme.ini</em> must be in the same directory.</p>\n<p>In additions, you can provide additional command line arguments that will override the respective settings from the configuration file:</p>\n<ul>\n<li><strong>-h</strong>, <strong>--help</strong> : show a help message and exit.</li>\n<li><strong>--apps</strong>, <strong>--noapps</strong>: Enable or disable the build-in applications. This overrides the settings in the configuration file.</li>\n<li><strong>--config CONFIGFILE</strong>: Specify a configuration file that is used instead of the default (<em>acme.ini</em>) one.</li>\n<li><strong>--db-reset</strong>: Reset and clear the database when starting the CSE.</li>\n<li><strong>--db-storage {memory,disk}</strong>: Specify the DB\u00b4s storage mode.</li>\n<li><strong>--log-level {info, error, warn, debug, off}</strong>: Set the log level, or turn logging off.</li>\n<li><strong>--import-directory IMPORTDIRECTORY</strong>: Specify the import directory.</li>\n</ul>\n<h3>Stopping the CSE</h3>\n<p>The CSE can be stopped by pressing <em>CTRL-C</em> <strong>once</strong> on the command line.</p>\n<p>Please note, that the shutdown might take a moment (e.g. gracefully terminating background processes, writing database caches, sending notifications etc).</p>\n<p><strong>Being impatient and hitting <em>CTRL-C</em> twice might lead to data corruption.</strong></p>\n<h3>Downloading and Running a Docker Image</h3>\n<p>A Docker image with reasonable defaults is available on Docker Hub: <a href=\"https://hub.docker.com/repository/docker/ankraft/acme-onem2m-cse\" rel=\"nofollow\">https://hub.docker.com/repository/docker/ankraft/acme-onem2m-cse</a> .</p>\n<p>You can download and run it with the following shell command:</p>\n<pre>$ docker run -p <span class=\"m\">8080</span>:8080 --rm --name acme-onem2m-cse ankraft/acme-onem2m-cse\n</pre>\n<h4>Build Your Own Docker Image</h4>\n<p>You can adapt (ie. configure a new Docker Hub ID) the build script and <em>Dockerfile</em> in the <a href=\"tools/Docker\" rel=\"nofollow\">tools/Docker</a> directory. The build script takes the current scripts, configuration, resources etc, builds a new Docker image, and uploads the image to the configured Docker Hub repository.</p>\n<h3>Importing Resources</h3>\n<p>During startup it is possible to import resources into to CSE. Each resource is read from a single file in the <a href=\"./init\" rel=\"nofollow\">init</a> resource directory specified in the configuration file.</p>\n<p>Not much validation, access control, or registration procedures are performedfor imported resources.</p>\n<h4>Importing Mandatory Resources</h4>\n<p><strong>Please note</strong> that importing is required for creating the CSEBase resource and at least two (admin) ACP resources. Those are imported before all other resources, so that the CSEBase resource can act as the root for the resource tree. The <em>admin</em> ACP is used to access resources with the administrator originator. The <em>default</em> ACP resource is the one that is assigned for resources that don't specify an ACP on their own.</p>\n<p>The filenames for these resources must be:</p>\n<ul>\n<li><a href=\"init/csebase.json\" rel=\"nofollow\">csebase.json</a> for the CSEBase.</li>\n<li><a href=\"init/acp.admin.json\" rel=\"nofollow\">acp.admin.json</a> for the admin ACP.</li>\n<li><a href=\"init/acp.default.json\" rel=\"nofollow\">acp.default.json</a> for the default ACP.</li>\n</ul>\n<h4>Importing Other Resources</h4>\n<p>After importing the mandatory resources all other resources in the <a href=\"./init\" rel=\"nofollow\">init</a> directory are read in alphabetical order and are added (created) to the CSE's resource tree. Imported resources must have a valid <em>acpi</em> attribute, because no default <em>acpi</em> is assigned during importing.</p>\n<h4>Updating Resources</h4>\n<p>If the filename contains the substring <em>update</em>, then the resource specified by the resource's <em>ri</em> attribute is updated instead of created.</p>\n<h4>Examples &amp; Templates</h4>\n<p>A minimal set of resources is provided in the <a href=\"./init\" rel=\"nofollow\">init</a> directory. Definitions for a more sophisticated setup can be found in the <a href=\"tools/init.example\" rel=\"nofollow\">tools/init.example</a> directory. To use these examples, you can either copy the resources to the <em>init</em> directory or change the \"cse -&gt; resourcesPath\" entry in the <em>acme.ini</em> configuration file.</p>\n<p>The directory <a href=\"tools/resourceTemplates\" rel=\"nofollow\">tools/resourceTemplates</a> contains templates for supported resource types. Please see the <a href=\"tools/resourceTemplates/README.md\" rel=\"nofollow\">README</a> there for further details.</p>\n<h2>Web UI</h2>\n<p>The Web UI is by default enabled and reachable under the (configurable) path <em>&lt;host&gt;/webui</em>.</p>\n<ul>\n<li>To login you need to specify a valid originator. The default \"admin\" originator is <em>CAdmin</em>.</li>\n<li>Beside of the default <em>CSEBase</em> resource you can specify a different resource identifier as the root of the resource tree.</li>\n<li>You can navigate the resource tree with arrow keys.</li>\n<li>You can switch between short and long attribute names (press CTRL-H).</li>\n</ul>\n<h3>REST UI</h3>\n<p>The web UI also provides a REST UI where you can send REST requests directed at resources on the CSE.</p>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7787a5a35e0c8d9de1ec32f1dd12086e6299781a/646f63732f696d616765732f77656275692d524553542e706e67\"></p>\n<h2>Operation</h2>\n<h3>Remote CSE</h3>\n<p>When a CSE is configured as an MN-CSE of ASN-CSE it can connect to a remote CSE, respectively an IN-CSE and MN-CSE can receive connection requests from those CSE types. A <em>remoteCSE</em> resource is created in case of a successful connection. A CSE checks regularly the connection to other remote CSEs and removes the <em>remoteCSE</em> if the connection could not been established.</p>\n<p>Announced resources are currently <strong>not</strong> supported by this implementation. But you can issue transfer requests to a remote CSE via its <em>remoteCSE</em> resource. These requests are forwarded by the CSE.</p>\n<p>You must configure the details of the remote CSE in the configuration file.</p>\n<h3>CSE Originator Assignment</h3>\n<p>Whenever a new <em>ACP</em> resource is created, the CSE's admin <em>originator</em> is assigned to that resource automatically. This way resources can always accessed by this originator.</p>\n<p>This behaviour can be configured in the <em>[cse.resource.acp]</em> section of the configuration file.</p>\n<h3>AE Registration</h3>\n<p>Whenever a new <em>AE</em> registers itself with the CSE (using the originators <em>C</em> or <em>S</em>) then a new originator for that <em>AE</em> is created. Also, the CSE automatically creates a new <em>ACP</em> resource for that new originator.</p>\n<p>Be aware that this <em>ACP</em> resource is also removed when the <em>AE</em> is deleted.</p>\n<p>The operations for the <em>ACP</em> resource can be configured in the <em>[cse.resource.acp]</em> section of the configuration file.</p>\n<h2>Nodes and Applications</h2>\n<p>Currently, two component implementations are provided in addtion to the main CSE. They serve as examples how implement components that are hosted by the CSE itself.</p>\n<h3>CSE Node</h3>\n<p>This component implements a &lt;node&gt; resource that provides additional information about the actual node (system) the CSE is running on. These are specializations of &lt;mgmtObj&gt;'s, namely battery, memory, and device information.</p>\n<p>It can be enabled/disabled and configured in the <strong>[app.csenode]</strong> section of the configuration file.</p>\n<h3>Statistics AE</h3>\n<p>The component implements an &lt;AE&gt; resource that provides statistic information about the CSE. It defines a proprietary &lt;flexContainer&gt; specialization that contains custom attributes for various statistic information, and which is updated every few seconds.</p>\n<p>It can be enabled/disabled and configured in the <strong>[app.statistics]</strong> section of the configuration file.</p>\n<h3>Developing Nodes and AEs</h3>\n<p>You can develop your own components that technically run inside the CSE themselves by following the pattern of those two components:</p>\n<ul>\n<li>Implement a class with either <em>AEBase</em> or <em>NodeBase</em> as a base class. This will create an &lt;AE&gt; or &lt;node&gt; resource for you.</li>\n<li>Implement a worker method and start it in the <em>__init__()</em> method. This method is called regularly in the background. This worker method can implement the main functionality of the &lt;AE&gt; or &lt;node&gt;.</li>\n<li>Implement a <em>shutdown()</em> method that is called when the CSE shuts down.</li>\n<li>Add your new component to the following methods in <a href=\"acme/CSE.py\" rel=\"nofollow\">acme/CSE.py</a>:\n<ul>\n<li><em>startApps()</em>: starting your component.</li>\n<li><em>stopApps()</em>: shutting down your component.</li>\n</ul>\n</li>\n</ul>\n<p>There are more helper methods provided by the common <em>AppBase</em> and <em>AEBase</em> base classes, e.g. to send requests to the CSE via Mca, store AE data persistently etc.</p>\n<h2>Integration Into Other Applications</h2>\n<p>It is possible to integrate the CSE into other applications, e.g. a Jupyter Notebook. In this case you would possibly like to provide startup arguments, for example the path of the configuration file or the logging level, directly instead of getting them from <em>argparse</em>.</p>\n<p>You might want to get the example from the starter file <a href=\"acme.py\" rel=\"nofollow\">acme.py</a> where you could replace the line:</p>\n<pre><span class=\"n\">CSE</span><span class=\"o\">.</span><span class=\"n\">startup</span><span class=\"p\">(</span><span class=\"n\">parseArgs</span><span class=\"p\">())</span>\n</pre>\n<p>with a call to the CSE's <em>startup()</em> function:</p>\n<pre><span class=\"n\">CSE</span><span class=\"o\">.</span><span class=\"n\">startup</span><span class=\"p\">(</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">configfile</span><span class=\"o\">=</span><span class=\"n\">defaultConfigFile</span><span class=\"p\">,</span> <span class=\"n\">loglevel</span><span class=\"o\">=</span><span class=\"s1\">'error'</span><span class=\"p\">)</span>\n</pre>\n<p>Please note that in case you provide the arguments directly the first argument needs to be <code>None</code>.</p>\n<p>The names of the <em>argparse</em> variables can be used here, and you may provide all or only some of the arguments. Please note that you need to keep or copy the <code>import</code> and <code>sys.path</code> statements at the top of that file.</p>\n<h2>URL Mappings</h2>\n<p>As a convenience to access resources on a CSE and to let requests look more like \"normal\" REST request you can define mappings. The format is a path that maps to another path and arguments. When issued a request to one of those mapped paths the http server issues a redirect to the other path.</p>\n<p>For example, the path <em>/access/v1/devices</em> can be mapped to <em>/cse-mn?ty=14&amp;fu=1&amp;fo=2&amp;rcn=8</em> to easily retrieve all nodes from the CSE.</p>\n<p>See the configuration file for more examples.</p>\n<h2>Limitations</h2>\n<ul>\n<li><strong>This is by no means a fully compliant, secure or stable CSE! Don't use it in production.</strong></li>\n<li>This CSE is intended for educational purposes. The underlying database system is not optimized in any way for high-volume, high-accessibility.</li>\n<li>No support for https yet.</li>\n<li>Security: None. Please contact me if you have suggestions to improve this.</li>\n<li>Unsupported resource types are just stored, but no check or functionality is provided for those resources. The same is true for unknown resource attributes. Only a few attributes are validated.</li>\n</ul>\n<h2>Supported Resource Types and Functionalities</h2>\n<h3>Resources</h3>\n<p>The CSE supports the following oneM2M resource types:</p>\n<ul>\n<li><strong>CSEBase (CB)</strong></li>\n<li><strong>Access Control Policy (ACP)</strong></li>\n<li><strong>Remote CSE (CSR)</strong><br>\nAnnounced resources are yet not supported. Transit request, though, to resources on the remote CSE are supported.</li>\n<li><strong>Application Entity (AE)</strong></li>\n<li><strong>Container (CNT)</strong></li>\n<li><strong>Content Instance (CIN)</strong></li>\n<li><strong>Subscription (SUB)</strong><br>\nNotifications via http to a direct url or an AE's Point-of-Access (POA) are supported as well.</li>\n<li><strong>Group (GRP)</strong><br>\nThe support includes requests via the <em>fopt</em> (fan-out-point) virtual resource.</li>\n<li><strong>Node (NOD)</strong><br>\nThe support includes the following <strong>Management Object (mgmtObj)</strong> specializations:\n<ul>\n<li><strong>Firmware (FWR)</strong></li>\n<li><strong>Software (SWR)</strong></li>\n<li><strong>Memory (MEM)</strong></li>\n<li><strong>AreaNwkInfo (ANI)</strong></li>\n<li><strong>AreaNwkDeviceInfo (ANDI)</strong></li>\n<li><strong>Battery (BAT)</strong></li>\n<li><strong>DeviceInfo (DVI)</strong></li>\n<li><strong>DeviceCapability (DVC)</strong></li>\n<li><strong>Reboot (REB)</strong></li>\n<li><strong>EventLog (EVL)</strong></li>\n</ul>\n</li>\n<li><strong>FlexContainer Specializations</strong><br>\nAny specializations is supported. There is no check performed against a schema (e.g. via the <em>cnd</em> attribute).</li>\n</ul>\n<p>Resources of any other type are stored in the CSE but no further processed and no checks are performed on these resources. The type is marked as <em>unknown</em>.</p>\n<h3>Discovery</h3>\n<p>The following result contents are implemented for Discovery:</p>\n<ul>\n<li>attributes + child-resources (rcn=4)</li>\n<li>attributes + child-resource-references (rcn=5)</li>\n<li>child-resource-references (rcn=6)</li>\n<li>child-resources (rcn=8)</li>\n</ul>\n<h2>Third-Party Components</h2>\n<h3>CSE</h3>\n<ul>\n<li>Flask: <a href=\"https://flask.palletsprojects.com/\" rel=\"nofollow\">https://flask.palletsprojects.com/</a>, BSD 3-Clause License</li>\n<li>Requests: <a href=\"https://requests.readthedocs.io/en/master/\" rel=\"nofollow\">https://requests.readthedocs.io/en/master/</a>, Apache2 License</li>\n<li>TinyDB: <a href=\"https://github.com/msiemens/tinydb\" rel=\"nofollow\">https://github.com/msiemens/tinydb</a>, MIT License</li>\n<li>PSUtil: <a href=\"https://github.com/giampaolo/psutil\" rel=\"nofollow\">https://github.com/giampaolo/psutil</a>, BSD 3-Clause License</li>\n</ul>\n<h3>UI Components</h3>\n<ul>\n<li>TreeJS: <a href=\"https://github.com/m-thalmann/treejs\" rel=\"nofollow\">https://github.com/m-thalmann/treejs</a>, MIT License</li>\n<li>Picnic CSS : <a href=\"https://picnicss.com\" rel=\"nofollow\">https://picnicss.com</a>, MIT License</li>\n</ul>\n<h2>Roadmap &amp; Backlog</h2>\n<ul>\n<li>CSE: Announcements</li>\n<li>CSE: Better resource validations</li>\n<li>CSE: Timeseries</li>\n<li>CSE: Support discovery also for other request types</li>\n<li>UI: Support for resource specific actions (e.g. latest, oldest)</li>\n<li>UI: Graph for Container reosurces</li>\n<li>Importer: Automatically import/update resources when the CSE is running</li>\n<li>App development: support more specializations</li>\n</ul>\n<h2>The Messy Details</h2>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4f41dae43a9ed3edcc9de8609305d16b34534b8c/646f63732f696d616765732f6373655f756d6c2e706e67\"></p>\n<h2>License</h2>\n<p>BSD 3-Clause License for the CSE and its native components and modules. Please see the individual licenses of the used third-party components.</p>\n\n          </div>"}, "last_serial": 7187733, "releases": {"0.3.0": [{"comment_text": "", "digests": {"md5": "259e19bcaa2dcb9a1d56b4363584a298", "sha256": "77bc6310f48754d104066154197ee04e69243828aae2ef3f73a85950b534dd3e"}, "downloads": -1, "filename": "ACME oneM2M CSE-0.3.0.tar.gz", "has_sig": false, "md5_digest": "259e19bcaa2dcb9a1d56b4363584a298", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.8", "size": 912227, "upload_time": "2020-05-07T11:41:30", "upload_time_iso_8601": "2020-05-07T11:41:30.213959Z", "url": "https://files.pythonhosted.org/packages/9f/de/8a6ce3cddcb688dfaa2414210231bfd794a73e51dc041bcbc32254b81acc/ACME%20oneM2M%20CSE-0.3.0.tar.gz", "yanked": false}], "0.4.0": [{"comment_text": "", "digests": {"md5": "fb619fbe43ab396289a177586c624956", "sha256": "02045cb3e8241b3dc4a8734b8390cfb4a86831b58b96c2e829e8cd843d3c0da6"}, "downloads": -1, "filename": "ACME_oneM2M_CSE-0.4.0-py3-none-any.whl", "has_sig": false, "md5_digest": "fb619fbe43ab396289a177586c624956", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.8", "size": 197390, "upload_time": "2020-05-06T17:06:19", "upload_time_iso_8601": "2020-05-06T17:06:19.556829Z", "url": "https://files.pythonhosted.org/packages/26/89/51ee87bc58eca77909ff16e2a6e295ba0223ac25c77441dbb3838293c361/ACME_oneM2M_CSE-0.4.0-py3-none-any.whl", "yanked": true}, {"comment_text": "", "digests": {"md5": "a4529eca6b706fa9732ed0d501235a89", "sha256": "2f432ff023985fd84d6370878a00bced6e0831e5b4a98e9b2e99891d622dd16e"}, "downloads": -1, "filename": "ACME oneM2M CSE-0.4.0.tar.gz", "has_sig": false, "md5_digest": "a4529eca6b706fa9732ed0d501235a89", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.8", "size": 144250, "upload_time": "2020-05-06T17:06:22", "upload_time_iso_8601": "2020-05-06T17:06:22.268461Z", "url": "https://files.pythonhosted.org/packages/e0/94/99fa5e666b9caa05d53e5b1b6aa12d67de63aa06faf7ac9d4ee470dc8681/ACME%20oneM2M%20CSE-0.4.0.tar.gz", "yanked": true}]}, "urls": [{"comment_text": "", "digests": {"md5": "259e19bcaa2dcb9a1d56b4363584a298", "sha256": "77bc6310f48754d104066154197ee04e69243828aae2ef3f73a85950b534dd3e"}, "downloads": -1, "filename": "ACME oneM2M CSE-0.3.0.tar.gz", "has_sig": false, "md5_digest": "259e19bcaa2dcb9a1d56b4363584a298", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.8", "size": 912227, "upload_time": "2020-05-07T11:41:30", "upload_time_iso_8601": "2020-05-07T11:41:30.213959Z", "url": "https://files.pythonhosted.org/packages/9f/de/8a6ce3cddcb688dfaa2414210231bfd794a73e51dc041bcbc32254b81acc/ACME%20oneM2M%20CSE-0.3.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:24:34 2020"}
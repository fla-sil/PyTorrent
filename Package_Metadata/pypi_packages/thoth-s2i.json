{"info": {"author": "Fridolin Pokorny", "author_email": "fridolin@redhat.com", "bugtrack_url": null, "classifiers": [], "description": "thoth-s2i\n---------\n\nTooling and a library for Thoth's Python Source-To-Image (s2i) applications.\n\nThis application can assist you to port an existing application to Thoth or\nexpose information about build configs used within the cluster.\n\nHow to migrate an existing Python s2i application to use Thoth\n==============================================================\n\nIf you have a Python application that uses OpenShift s2i and you would like\nto benefit from Thoth's recommendations, you can simply port all your OpenShift\ntemplates by executing the following command after installing\n`thoth-s2i <https://pypi.org/project/thoth-s2i>`_:\n\n.. code-block:: console\n\n  thoth-s2i patch --s2i-thoth quay.io/thoth-station/s2i-thoth-ubi8-py36 --insert-env-var path/to/openshift/templates\n\nThe command above will look for all the templates present in the supplied\ndirectory and will load build configs used. If a build config\nuses an s2i image stream, it will simply replace it with Thoth's s2i.\n\nSee ``--help`` for more available options and configuration options.\n\nIf the application is already deployed, you can check what image streams are\nused by build configs in the namespace where your application is built:\n\n.. code-block:: console\n\n  thoth-s2i report --namespace <my-namespace>\n\nThe command above will give you a complete report of build configs with\ninformation about image streams, image stream tags and container images\nimported that are used by build configs.\n\nIf you wish to migrate the application to use Thoth's recommendation engine,\nyou can issue the following migration script:\n\n.. code-block:: console\n\n  thoth-s2i migrate --namespace <my-namespace> -l app=myapp --s2i-thoth quay.io/thoth-station/s2i-thoth-ubi8-py36 --tag latest --insert-env-vars --from-image-stream-tag 'registry.redhat.io/ubi8/python-36:*' --dry-run\n\nThe command above will perform \"dry run\" operation - it will go through\navailable build configs matching the given label selector ``app=myapp`` and\nwill substitute any use of ``registry.redhat.io/ubi8/python-36`` with the\nlatest Thoth's equivalent UBI 8 image. Besides that, it will inject environment\nvariables needed for Thoth to properly build and configure OpenShift's build\nprocess.\n\nOnce you review the changes done (they are printed to stdout/stderr), you can\nactually perform this operation in the cluster:\n\n.. code-block:: console\n\n  thoth-s2i migrate --namespace <my-namespace> -l app=myapp --s2i-thoth quay.io/thoth-station/s2i-thoth-ubi8-py36 --tag latest --insert-env-vars --from-image-stream-tag 'registry.redhat.io/ubi8/python-36:*' --trigger-build --import-image\n\nThe command above will apply changes to the cluster. Moreover, if changes done\nto the build config do not trigger a new build (no config change build\ntrigger), ``thoth-s2i`` will trigger OpenShift builds for adjusted build\nconfigs. The used Thoth s2i image will be imported to OpenShift's registry.\n\nSee ``thoth-s2i migrate --help`` for more information.\n\nList available Thoth s2i images\n===============================\n\nYou can list available Thoth s2i container images provided by Thoth:\n\n.. code-block:: console\n\n  thoth-s2i images\n\nSee ``--help`` for more info.\n\n\nGet information about BuildConfig configuration in the cluster\n==============================================================\n\nTo get information about BuildConfig configuration and image stream\nconfiguration within the namespace, run the following command:\n\n.. code-block:: console\n\n  $ thoth-s2i report --namespace <my-namespace>\n  \ud83d\udcdd init-job\n          \ud83e\udc12 strategy: 'Source'\n          \ud83e\udc12 image_stream: 's2i-thoth-ubi8-py36'\n          \ud83e\udc12 image_stream_tag: 'latest'\n          \ud83e\udc12 is_s2i: True\n          \ud83e\udc12 is_s2i_thoth: True\n          \ud83e\udc12 s2i_image_name: 'quay.io/thoth-station/s2i-thoth-ubi8-py36'\n          \ud83e\udc12 s2i_image_tag: 'v0.8.0'\n  \ud83d\udcdd inspect-hwinfo\n          \ud83e\udc12 strategy: 'Source'\n          \ud83e\udc12 image_stream: 's2i-thoth-ubi8-py36'\n          \ud83e\udc12 image_stream_tag: 'latest'\n          \ud83e\udc12 is_s2i: True\n          \ud83e\udc12 is_s2i_thoth: True\n          \ud83e\udc12 s2i_image_name: 'quay.io/thoth-station/s2i-thoth-ubi8-py36'\n          \ud83e\udc12 s2i_image_tag: 'v0.8.0'\n  \ud83d\udcdd inspection-test-9ae7a488\n          \ud83e\udc12 strategy: 'Docker'\n          \ud83e\udc12 is_s2i: False\n  \ud83d\udcdd inspection-test-ce614dfe\n          \ud83e\udc12 strategy: 'Docker'\n        \ud83e\udc12 is_s2i: False\n\nSee ``--help`` for more info.\n\n\nImport Thoth s2i container image\n================================\n\nTo import Thoth's s2i compliant image to the cluster, issue the following\ncommand:\n\n.. code-block:: console\n\n  thoth-s2i import-image --namespace <my-namespace>\n\nSee ``--help`` for more info.\n\n\nMigrate an existing application to use Thoth's recommendation engine\n====================================================================\n\nThis tool can automatically migrate an existing application that uses Python\ns2i (Source-To-Image) to Thoth s2i. This way the application will benefit from\nThoth's recommendations on software stack.  To do so, run the following\ncommand:\n\n.. code-block:: console\n\n  thoth-s2i migrate --namespace <my-namespace> --import-image --s2i-thoth quay.io/thoth-station/s2i-thoth-ubi8-py36 --tag latest --trigger-build -l app=myapp\n\nSee ``--help`` for more info.\n\n\nPatch OpenShift templates for Thoth\n===================================\n\nTo automatically patch local OpenShift templates so that they use Thoth's s2i,\nrun the following command:\n\n.. code-block:: console\n\n  thoth-s2i patch openshift/ --s2i-thoth quay.io/thoth-station/s2i-thoth-ubi8-py36 --insert-env-variables\n\nSee ``--help`` for more info.\n\n\nInstallation\n============\n\nTo install thoth-s2i library issue one of the following commands:\n\n.. code-block:: console\n\n  # Using pip:\n  pip3 install thoth-s2i\n\n  # or using Pipenv:\n  pipenv install thoth-s2i\n\n  # or using directly git branch:\n  pip3 install git+https://github.com/thoth-station/thoth-s2i@master\n\nSee hosted project on `PyPI <https://pypi.org/project/thoth-s2i>`_ and sources\non `GitHub <https://pypi.org/project/thoth-s2i>`_.\n\n\nRunning from Git\n================\n\nTo run this utility from Git master branch, run the following commands:\n\n.. code-block:: console\n\n  git clone https://github.com/thoth-station/thoth-s2i\n  cd thoth-s2i\n  pipenv install --dev\n  PYTHONPATH=. pipenv run python3 ./thoth-s2i --help", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "GPLv3+", "maintainer": "", "maintainer_email": "", "name": "thoth-s2i", "package_url": "https://pypi.org/project/thoth-s2i/", "platform": "", "project_url": "https://pypi.org/project/thoth-s2i/", "project_urls": null, "release_url": "https://pypi.org/project/thoth-s2i/0.1.1/", "requires_dist": null, "requires_python": "", "summary": "Tooling and a library for Thoth's Python Source-To-Image (s2i) applications", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Tooling and a library for Thoth\u2019s Python Source-To-Image (s2i) applications.</p>\n<p>This application can assist you to port an existing application to Thoth or\nexpose information about build configs used within the cluster.</p>\n<div id=\"how-to-migrate-an-existing-python-s2i-application-to-use-thoth\">\n<h2>How to migrate an existing Python s2i application to use Thoth</h2>\n<p>If you have a Python application that uses OpenShift s2i and you would like\nto benefit from Thoth\u2019s recommendations, you can simply port all your OpenShift\ntemplates by executing the following command after installing\n<a href=\"https://pypi.org/project/thoth-s2i\" rel=\"nofollow\">thoth-s2i</a>:</p>\n<pre><span class=\"go\">thoth-s2i patch --s2i-thoth quay.io/thoth-station/s2i-thoth-ubi8-py36 --insert-env-var path/to/openshift/templates</span>\n</pre>\n<p>The command above will look for all the templates present in the supplied\ndirectory and will load build configs used. If a build config\nuses an s2i image stream, it will simply replace it with Thoth\u2019s s2i.</p>\n<p>See <tt><span class=\"pre\">--help</span></tt> for more available options and configuration options.</p>\n<p>If the application is already deployed, you can check what image streams are\nused by build configs in the namespace where your application is built:</p>\n<pre><span class=\"go\">thoth-s2i report --namespace &lt;my-namespace&gt;</span>\n</pre>\n<p>The command above will give you a complete report of build configs with\ninformation about image streams, image stream tags and container images\nimported that are used by build configs.</p>\n<p>If you wish to migrate the application to use Thoth\u2019s recommendation engine,\nyou can issue the following migration script:</p>\n<pre><span class=\"go\">thoth-s2i migrate --namespace &lt;my-namespace&gt; -l app=myapp --s2i-thoth quay.io/thoth-station/s2i-thoth-ubi8-py36 --tag latest --insert-env-vars --from-image-stream-tag 'registry.redhat.io/ubi8/python-36:*' --dry-run</span>\n</pre>\n<p>The command above will perform \u201cdry run\u201d operation - it will go through\navailable build configs matching the given label selector <tt>app=myapp</tt> and\nwill substitute any use of <tt><span class=\"pre\">registry.redhat.io/ubi8/python-36</span></tt> with the\nlatest Thoth\u2019s equivalent UBI 8 image. Besides that, it will inject environment\nvariables needed for Thoth to properly build and configure OpenShift\u2019s build\nprocess.</p>\n<p>Once you review the changes done (they are printed to stdout/stderr), you can\nactually perform this operation in the cluster:</p>\n<pre><span class=\"go\">thoth-s2i migrate --namespace &lt;my-namespace&gt; -l app=myapp --s2i-thoth quay.io/thoth-station/s2i-thoth-ubi8-py36 --tag latest --insert-env-vars --from-image-stream-tag 'registry.redhat.io/ubi8/python-36:*' --trigger-build --import-image</span>\n</pre>\n<p>The command above will apply changes to the cluster. Moreover, if changes done\nto the build config do not trigger a new build (no config change build\ntrigger), <tt><span class=\"pre\">thoth-s2i</span></tt> will trigger OpenShift builds for adjusted build\nconfigs. The used Thoth s2i image will be imported to OpenShift\u2019s registry.</p>\n<p>See <tt><span class=\"pre\">thoth-s2i</span> migrate <span class=\"pre\">--help</span></tt> for more information.</p>\n</div>\n<div id=\"list-available-thoth-s2i-images\">\n<h2>List available Thoth s2i images</h2>\n<p>You can list available Thoth s2i container images provided by Thoth:</p>\n<pre><span class=\"go\">thoth-s2i images</span>\n</pre>\n<p>See <tt><span class=\"pre\">--help</span></tt> for more info.</p>\n</div>\n<div id=\"get-information-about-buildconfig-configuration-in-the-cluster\">\n<h2>Get information about BuildConfig configuration in the cluster</h2>\n<p>To get information about BuildConfig configuration and image stream\nconfiguration within the namespace, run the following command:</p>\n<pre><span class=\"gp\">$</span> thoth-s2i report --namespace &lt;my-namespace&gt;\n<span class=\"go\">\ud83d\udcdd init-job\n        \ud83e\udc12 strategy: 'Source'\n        \ud83e\udc12 image_stream: 's2i-thoth-ubi8-py36'\n        \ud83e\udc12 image_stream_tag: 'latest'\n        \ud83e\udc12 is_s2i: True\n        \ud83e\udc12 is_s2i_thoth: True\n        \ud83e\udc12 s2i_image_name: 'quay.io/thoth-station/s2i-thoth-ubi8-py36'\n        \ud83e\udc12 s2i_image_tag: 'v0.8.0'\n\ud83d\udcdd inspect-hwinfo\n        \ud83e\udc12 strategy: 'Source'\n        \ud83e\udc12 image_stream: 's2i-thoth-ubi8-py36'\n        \ud83e\udc12 image_stream_tag: 'latest'\n        \ud83e\udc12 is_s2i: True\n        \ud83e\udc12 is_s2i_thoth: True\n        \ud83e\udc12 s2i_image_name: 'quay.io/thoth-station/s2i-thoth-ubi8-py36'\n        \ud83e\udc12 s2i_image_tag: 'v0.8.0'\n\ud83d\udcdd inspection-test-9ae7a488\n        \ud83e\udc12 strategy: 'Docker'\n        \ud83e\udc12 is_s2i: False\n\ud83d\udcdd inspection-test-ce614dfe\n        \ud83e\udc12 strategy: 'Docker'\n      \ud83e\udc12 is_s2i: False</span>\n</pre>\n<p>See <tt><span class=\"pre\">--help</span></tt> for more info.</p>\n</div>\n<div id=\"import-thoth-s2i-container-image\">\n<h2>Import Thoth s2i container image</h2>\n<p>To import Thoth\u2019s s2i compliant image to the cluster, issue the following\ncommand:</p>\n<pre><span class=\"go\">thoth-s2i import-image --namespace &lt;my-namespace&gt;</span>\n</pre>\n<p>See <tt><span class=\"pre\">--help</span></tt> for more info.</p>\n</div>\n<div id=\"migrate-an-existing-application-to-use-thoth-s-recommendation-engine\">\n<h2>Migrate an existing application to use Thoth\u2019s recommendation engine</h2>\n<p>This tool can automatically migrate an existing application that uses Python\ns2i (Source-To-Image) to Thoth s2i. This way the application will benefit from\nThoth\u2019s recommendations on software stack.  To do so, run the following\ncommand:</p>\n<pre><span class=\"go\">thoth-s2i migrate --namespace &lt;my-namespace&gt; --import-image --s2i-thoth quay.io/thoth-station/s2i-thoth-ubi8-py36 --tag latest --trigger-build -l app=myapp</span>\n</pre>\n<p>See <tt><span class=\"pre\">--help</span></tt> for more info.</p>\n</div>\n<div id=\"patch-openshift-templates-for-thoth\">\n<h2>Patch OpenShift templates for Thoth</h2>\n<p>To automatically patch local OpenShift templates so that they use Thoth\u2019s s2i,\nrun the following command:</p>\n<pre><span class=\"go\">thoth-s2i patch openshift/ --s2i-thoth quay.io/thoth-station/s2i-thoth-ubi8-py36 --insert-env-variables</span>\n</pre>\n<p>See <tt><span class=\"pre\">--help</span></tt> for more info.</p>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>To install thoth-s2i library issue one of the following commands:</p>\n<pre><span class=\"gp\">#</span> Using pip:\n<span class=\"go\">pip3 install thoth-s2i\n\n</span><span class=\"gp\">#</span> or using Pipenv:\n<span class=\"go\">pipenv install thoth-s2i\n\n</span><span class=\"gp\">#</span> or using directly git branch:\n<span class=\"go\">pip3 install git+https://github.com/thoth-station/thoth-s2i@master</span>\n</pre>\n<p>See hosted project on <a href=\"https://pypi.org/project/thoth-s2i\" rel=\"nofollow\">PyPI</a> and sources\non <a href=\"https://pypi.org/project/thoth-s2i\" rel=\"nofollow\">GitHub</a>.</p>\n</div>\n<div id=\"running-from-git\">\n<h2>Running from Git</h2>\n<p>To run this utility from Git master branch, run the following commands:</p>\n<pre><span class=\"go\">git clone https://github.com/thoth-station/thoth-s2i\ncd thoth-s2i\npipenv install --dev\nPYTHONPATH=. pipenv run python3 ./thoth-s2i --help</span>\n</pre>\n</div>\n\n          </div>"}, "last_serial": 7132063, "releases": {"0.0.0": [{"comment_text": "", "digests": {"md5": "fe9b879e520a37237b33f4baebc1b8ce", "sha256": "a2751b0efaf8ea7b3dc5d63d042f6d6ec1f4a6671f293fc45b332cb64d5f0a12"}, "downloads": -1, "filename": "thoth_s2i-0.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "fe9b879e520a37237b33f4baebc1b8ce", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 13250, "upload_time": "2020-02-06T21:47:07", "upload_time_iso_8601": "2020-02-06T21:47:07.747888Z", "url": "https://files.pythonhosted.org/packages/ca/b4/523a1a03ba937b0b3a5d049ef389addffa26d94f944c48a65988a6bf2088/thoth_s2i-0.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "36cbb2d762613eee1da7324762124c89", "sha256": "157bed48816a84979d6d2b0888ca36fea95127f2ab03741aac4a2cc6d7a4f162"}, "downloads": -1, "filename": "thoth-s2i-0.0.0.tar.gz", "has_sig": false, "md5_digest": "36cbb2d762613eee1da7324762124c89", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9738, "upload_time": "2020-02-06T21:47:09", "upload_time_iso_8601": "2020-02-06T21:47:09.955897Z", "url": "https://files.pythonhosted.org/packages/1d/18/ea364aa80af1db452f1b6bccb7a4e4fbbc790cc296d5b7d5128d61b7386f/thoth-s2i-0.0.0.tar.gz", "yanked": false}], "0.0.1": [{"comment_text": "", "digests": {"md5": "41f2800e53d02a4b5b0a108308fe83eb", "sha256": "60e897ef516894ad214f66c163cb1ae15007c38d64ba103b3a825e033286abc7"}, "downloads": -1, "filename": "thoth-s2i-0.0.1.tar.gz", "has_sig": false, "md5_digest": "41f2800e53d02a4b5b0a108308fe83eb", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14285, "upload_time": "2020-02-14T13:43:58", "upload_time_iso_8601": "2020-02-14T13:43:58.546346Z", "url": "https://files.pythonhosted.org/packages/f6/fb/ae84236b0fb279a7c08d86ee3546a0a56893a75e4f9e9b5931e627903f4a/thoth-s2i-0.0.1.tar.gz", "yanked": false}], "0.0.1.post1": [{"comment_text": "", "digests": {"md5": "374f5e7789d44ce7aa0e24301dcf372f", "sha256": "464c4b34fe87e40aaf8eb472464e53bb4b2d2e29bf756b4b2a442bf395f1691a"}, "downloads": -1, "filename": "thoth-s2i-0.0.1.post1.tar.gz", "has_sig": false, "md5_digest": "374f5e7789d44ce7aa0e24301dcf372f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14408, "upload_time": "2020-02-14T13:47:29", "upload_time_iso_8601": "2020-02-14T13:47:29.840915Z", "url": "https://files.pythonhosted.org/packages/9c/40/3a1611c14e15b446fc024e341e3fe893bd41eee3baccd2cacf838e40590d/thoth-s2i-0.0.1.post1.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "aaaddbf8faee33411652e3ca343538f8", "sha256": "42ee8f32a1a6c75338f82105f8e2e4fcaffe24727bc8cd13de172570c7ab2aca"}, "downloads": -1, "filename": "thoth-s2i-0.1.0.tar.gz", "has_sig": false, "md5_digest": "aaaddbf8faee33411652e3ca343538f8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14108, "upload_time": "2020-04-28T16:42:04", "upload_time_iso_8601": "2020-04-28T16:42:04.824137Z", "url": "https://files.pythonhosted.org/packages/ca/76/6a2bda949346a5e9c156c2552780ed76e1d9242c3dae11cb564257fe2216/thoth-s2i-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "174b298f2187ab5a73717b8c59d7caa4", "sha256": "5dd0f7b116bd4a64d81ff8ade930a0c6cfc76da4035af4c678e8431f37590964"}, "downloads": -1, "filename": "thoth-s2i-0.1.1.tar.gz", "has_sig": false, "md5_digest": "174b298f2187ab5a73717b8c59d7caa4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14329, "upload_time": "2020-04-29T21:01:03", "upload_time_iso_8601": "2020-04-29T21:01:03.560944Z", "url": "https://files.pythonhosted.org/packages/5e/4e/6cd945b9d4506325c6efd307c68706178fd2f9faa76020873c4bf106bbab/thoth-s2i-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "174b298f2187ab5a73717b8c59d7caa4", "sha256": "5dd0f7b116bd4a64d81ff8ade930a0c6cfc76da4035af4c678e8431f37590964"}, "downloads": -1, "filename": "thoth-s2i-0.1.1.tar.gz", "has_sig": false, "md5_digest": "174b298f2187ab5a73717b8c59d7caa4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14329, "upload_time": "2020-04-29T21:01:03", "upload_time_iso_8601": "2020-04-29T21:01:03.560944Z", "url": "https://files.pythonhosted.org/packages/5e/4e/6cd945b9d4506325c6efd307c68706178fd2f9faa76020873c4bf106bbab/thoth-s2i-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:53:49 2020"}
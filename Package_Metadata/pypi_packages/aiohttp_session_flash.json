{"info": {"author": "Ilya Semenov", "author_email": "ilya@semenov.co", "bugtrack_url": null, "classifiers": [], "description": "aiohttp_session_flash\n=====================\n\nThe library provides flash messages for `aiohttp.web`_ on top of `aiohttp_session`_.\n\n.. _aiohttp.web: https://aiohttp.readthedocs.io/en/latest/web.html\n.. _aiohttp_session: https://github.com/aio-libs/aiohttp_session\n\n\u201cFlash messages\u201d are simply a queue of string messages (or other JSON-serializable objects) stored in the session.\n\n\nInstallation\n============\n\n::\n\n\tpip install aiohttp_session_flash\n\n\nUsage\n=====\n\nAdd `session_middleware` and `aiohttp_session_flash.middleware` to the list of `app`'s middleware:\n\n.. code:: python\n\n\tapp = web.Application(\n\t\tmiddlewares=[\n\t\t\taiohttp_session.session_middleware(EncryptedCookieStorage(b'x'*32)),\n\t\t\taiohttp_session_flash.middleware,\n\t\t]\n\t)\n\nWithin the handler, pull and push flash messages as needed:\n\n.. code:: python\n\n\tfrom aiohttp import web\n\n\tfrom aiohttp_session_flash import flash, pop_flash\n\n\n\tasync def foo(request):\n\t\tflash(request, \"Hello\")\n\t\tflash(request, [\"This\", \"works\", \"too\"])\n\t\treturn web.Response(body=b'Flashed some messages')\n\n\tasync def bar(request):\n\t\tfor message in pop_flash(request):\n\t\t\tprint(message)\n\t\treturn web.Response(body=b'OK')\n\n\nTemplate context processor\n--------------------------\n\nThe template context processor is provided for template libraries that can use it:\n\n.. code:: python\n\n\taiohttp_mako_context_processors.setup(app, [\n\t\t...\n\t\taiohttp_session_flash.context_processor,\n\t])\n\n.. code:: mako\n\n\t<ul>\n\t% for message in get_flashed_messages():\n\t\t<li>${message}</li>\n\t% endfor\n\t</ul>\n\n\nContributing\n============\n\n\nRunning tests\n-------------\n\n::\n\n    pip install -r requirements_test.txt\n    pytest\n\n", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/IlyaSemenov/aiohttp_session_flash", "keywords": "", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "aiohttp_session_flash", "package_url": "https://pypi.org/project/aiohttp_session_flash/", "platform": "", "project_url": "https://pypi.org/project/aiohttp_session_flash/", "project_urls": {"Homepage": "https://github.com/IlyaSemenov/aiohttp_session_flash"}, "release_url": "https://pypi.org/project/aiohttp_session_flash/0.0.4/", "requires_dist": null, "requires_python": "", "summary": "Session flash messages for aiohttp.web", "version": "0.0.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"aiohttp-session-flash\">\n<h2>aiohttp_session_flash</h2>\n<p>The library provides flash messages for <a href=\"https://aiohttp.readthedocs.io/en/latest/web.html\" rel=\"nofollow\">aiohttp.web</a> on top of <a href=\"https://github.com/aio-libs/aiohttp_session\" rel=\"nofollow\">aiohttp_session</a>.</p>\n<p>\u201cFlash messages\u201d are simply a queue of string messages (or other JSON-serializable objects) stored in the session.</p>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>pip install aiohttp_session_flash\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>Add <cite>session_middleware</cite> and <cite>aiohttp_session_flash.middleware</cite> to the list of <cite>app</cite>\u2019s middleware:</p>\n<pre><span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">web</span><span class=\"o\">.</span><span class=\"n\">Application</span><span class=\"p\">(</span>\n        <span class=\"n\">middlewares</span><span class=\"o\">=</span><span class=\"p\">[</span>\n                <span class=\"n\">aiohttp_session</span><span class=\"o\">.</span><span class=\"n\">session_middleware</span><span class=\"p\">(</span><span class=\"n\">EncryptedCookieStorage</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s1\">'x'</span><span class=\"o\">*</span><span class=\"mi\">32</span><span class=\"p\">)),</span>\n                <span class=\"n\">aiohttp_session_flash</span><span class=\"o\">.</span><span class=\"n\">middleware</span><span class=\"p\">,</span>\n        <span class=\"p\">]</span>\n<span class=\"p\">)</span>\n</pre>\n<p>Within the handler, pull and push flash messages as needed:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">aiohttp</span> <span class=\"kn\">import</span> <span class=\"n\">web</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">aiohttp_session_flash</span> <span class=\"kn\">import</span> <span class=\"n\">flash</span><span class=\"p\">,</span> <span class=\"n\">pop_flash</span>\n\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">foo</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n        <span class=\"n\">flash</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"s2\">\"Hello\"</span><span class=\"p\">)</span>\n        <span class=\"n\">flash</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s2\">\"This\"</span><span class=\"p\">,</span> <span class=\"s2\">\"works\"</span><span class=\"p\">,</span> <span class=\"s2\">\"too\"</span><span class=\"p\">])</span>\n        <span class=\"k\">return</span> <span class=\"n\">web</span><span class=\"o\">.</span><span class=\"n\">Response</span><span class=\"p\">(</span><span class=\"n\">body</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">'Flashed some messages'</span><span class=\"p\">)</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">bar</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n        <span class=\"k\">for</span> <span class=\"n\">message</span> <span class=\"ow\">in</span> <span class=\"n\">pop_flash</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n                <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">web</span><span class=\"o\">.</span><span class=\"n\">Response</span><span class=\"p\">(</span><span class=\"n\">body</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">'OK'</span><span class=\"p\">)</span>\n</pre>\n<div id=\"template-context-processor\">\n<h3>Template context processor</h3>\n<p>The template context processor is provided for template libraries that can use it:</p>\n<pre><span class=\"n\">aiohttp_mako_context_processors</span><span class=\"o\">.</span><span class=\"n\">setup</span><span class=\"p\">(</span><span class=\"n\">app</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"o\">...</span>\n        <span class=\"n\">aiohttp_session_flash</span><span class=\"o\">.</span><span class=\"n\">context_processor</span><span class=\"p\">,</span>\n<span class=\"p\">])</span>\n</pre>\n<pre><span class=\"x\">&lt;ul&gt;\n</span><span class=\"cp\">%</span> <span class=\"k\">for</span> <span class=\"n\">message</span> <span class=\"ow\">in</span> <span class=\"n\">get_flashed_messages</span><span class=\"p\">():</span><span class=\"x\">\n        &lt;li&gt;</span><span class=\"cp\">${</span><span class=\"n\">message</span><span class=\"cp\">}</span><span class=\"x\">&lt;/li&gt;\n</span><span class=\"cp\">%</span><span class=\"k\"> endfor</span><span class=\"x\">\n&lt;/ul&gt;</span>\n</pre>\n</div>\n</div>\n<div id=\"contributing\">\n<h2>Contributing</h2>\n<h2 id=\"running-tests\"><span class=\"section-subtitle\">Running tests</span></h2>\n<pre>pip install -r requirements_test.txt\npytest\n</pre>\n</div>\n\n          </div>"}, "last_serial": 3017097, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "6f6b6db14dc48807659c50a667a6de27", "sha256": "b66e178a446bf9b0e2182c5d60ea5bb78439ec3cddbbcd82b8a7388dcd7a2f30"}, "downloads": -1, "filename": "aiohttp_session_flash-0.0.1.tar.gz", "has_sig": false, "md5_digest": "6f6b6db14dc48807659c50a667a6de27", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2093, "upload_time": "2016-06-21T17:34:54", "upload_time_iso_8601": "2016-06-21T17:34:54.505575Z", "url": "https://files.pythonhosted.org/packages/e9/b5/d6912f5396560291bb7e12ed41bf72f900741269d3d8a5df60de0b8ee432/aiohttp_session_flash-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "f0e1f9d0c95094a2b449ce06d59ff3b3", "sha256": "07d98319a3659f7ac9c606fbbc6db46ddac9f8f8c3f21f04c0cea3429a9e91e3"}, "downloads": -1, "filename": "aiohttp_session_flash-0.0.2.tar.gz", "has_sig": false, "md5_digest": "f0e1f9d0c95094a2b449ce06d59ff3b3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2188, "upload_time": "2017-07-12T08:24:17", "upload_time_iso_8601": "2017-07-12T08:24:17.258320Z", "url": "https://files.pythonhosted.org/packages/91/0f/935a316bf3ac81cd0d66f8e1559e1b237a19c0e35245e253f561db8e82d2/aiohttp_session_flash-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "25ad55b9e38d9e3efdcf72dfc9e0bb22", "sha256": "17405586b9fa62c91eb58e087e4facffcc925dc320911f37c086cb7dffa7fa81"}, "downloads": -1, "filename": "aiohttp_session_flash-0.0.3.tar.gz", "has_sig": false, "md5_digest": "25ad55b9e38d9e3efdcf72dfc9e0bb22", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2188, "upload_time": "2017-07-12T09:51:22", "upload_time_iso_8601": "2017-07-12T09:51:22.641890Z", "url": "https://files.pythonhosted.org/packages/d5/11/933819313f0aa122fe1a35de801cb76f6a579db9af28c2ebe6fdc1d8ac37/aiohttp_session_flash-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "9b557921fdf072e9b86c632a152da551", "sha256": "1d39915567e3f0cf759d75f736cb8e7afc75aed124b85e8f0c673b6f86df1b0f"}, "downloads": -1, "filename": "aiohttp_session_flash-0.0.4.tar.gz", "has_sig": false, "md5_digest": "9b557921fdf072e9b86c632a152da551", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2180, "upload_time": "2017-07-12T10:03:52", "upload_time_iso_8601": "2017-07-12T10:03:52.570988Z", "url": "https://files.pythonhosted.org/packages/4d/17/d6cf47e736ea7e1a8bd08915b6de179fc6c922e9bba4a16cb7a9393c7f72/aiohttp_session_flash-0.0.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "9b557921fdf072e9b86c632a152da551", "sha256": "1d39915567e3f0cf759d75f736cb8e7afc75aed124b85e8f0c673b6f86df1b0f"}, "downloads": -1, "filename": "aiohttp_session_flash-0.0.4.tar.gz", "has_sig": false, "md5_digest": "9b557921fdf072e9b86c632a152da551", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2180, "upload_time": "2017-07-12T10:03:52", "upload_time_iso_8601": "2017-07-12T10:03:52.570988Z", "url": "https://files.pythonhosted.org/packages/4d/17/d6cf47e736ea7e1a8bd08915b6de179fc6c922e9bba4a16cb7a9393c7f72/aiohttp_session_flash-0.0.4.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:21:15 2020"}
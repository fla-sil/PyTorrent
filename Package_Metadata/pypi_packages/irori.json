{"info": {"author": "SiLeader", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Environment :: Console", "Intended Audience :: Developers", "License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Natural Language :: English", "Natural Language :: Japanese", "Operating System :: MacOS :: MacOS X", "Operating System :: Microsoft :: Windows", "Operating System :: Microsoft :: Windows :: Windows 10", "Operating System :: Microsoft :: Windows :: Windows 7", "Operating System :: Microsoft :: Windows :: Windows 8", "Operating System :: Microsoft :: Windows :: Windows 8.1", "Operating System :: POSIX", "Topic :: Software Development :: Build Tools"], "description": "# irori - build tool\n\nCopyright 2019 SiLeader.\n\n## features\n+ configuration file is Python script\n+ suffix rule\n+ concurrent execution\n\n## how to use\n```bash\npip install irori\n```\n\nwrite configuration script (`makefile.py`).\n\n```python\nfrom irori.rules import SuffixRule, StaticRule, LinkRule\nfrom irori import context as ctxt, runner\nfrom irori.depend import Dependencies\n\nimport glob\n\n\ntarget = 'hello.elf'\n\n\ndef build(_: ctxt.BuildContext):\n    return LinkRule(\n        command='clang++ -fPIC -o $@ $^',\n        debug='-O0 -g',\n        release='-O2',\n        rules=SuffixRule(\n            cpp=StaticRule('g++ -std=c++11 -c $< -o $@', debug='-O0 -g', release='-O2'),\n            c=StaticRule('gcc -std=c11 -c -O2 $< -o $@', debug='-O0 -g', release='-O2')\n        )\n    )\n\n\ndef depend(_: ctxt.BuildContext):\n    return SuffixRule(\n        cpp=StaticRule('g++ -MMD -c $< -o $@'),\n        c=StaticRule('gcc -MMD -c $< -o $@')\n    )\n\n\ndef recipes():\n    return {\n        'build': build,\n        'depend': depend\n    }\n\n\ndef arguments(parser):\n    pass\n\n\ndef find_files(_: ctxt.BuildContext):\n    return glob.glob('*.c') + glob.glob('*.cpp')\n\n\nrunner.start(\n    target,\n    recipes=recipes, finder=find_files,\n    arguments=arguments, dependencies=Dependencies(files=glob.glob('obj/*.d'))\n)\n\n```\n\nrun in `makefile.py`'s directory.\n```bash\nirori build\n```\n\n## license\nGNU GPL version 3.0\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/SiLeader/irori", "keywords": "", "license": "GPLv3.0", "maintainer": "", "maintainer_email": "", "name": "irori", "package_url": "https://pypi.org/project/irori/", "platform": "", "project_url": "https://pypi.org/project/irori/", "project_urls": {"Homepage": "https://github.com/SiLeader/irori"}, "release_url": "https://pypi.org/project/irori/1.0.0/", "requires_dist": null, "requires_python": "", "summary": "general purpose built tool", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>irori - build tool</h1>\n<p>Copyright 2019 SiLeader.</p>\n<h2>features</h2>\n<ul>\n<li>configuration file is Python script</li>\n<li>suffix rule</li>\n<li>concurrent execution</li>\n</ul>\n<h2>how to use</h2>\n<pre>pip install irori\n</pre>\n<p>write configuration script (<code>makefile.py</code>).</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">irori.rules</span> <span class=\"kn\">import</span> <span class=\"n\">SuffixRule</span><span class=\"p\">,</span> <span class=\"n\">StaticRule</span><span class=\"p\">,</span> <span class=\"n\">LinkRule</span>\n<span class=\"kn\">from</span> <span class=\"nn\">irori</span> <span class=\"kn\">import</span> <span class=\"n\">context</span> <span class=\"k\">as</span> <span class=\"n\">ctxt</span><span class=\"p\">,</span> <span class=\"n\">runner</span>\n<span class=\"kn\">from</span> <span class=\"nn\">irori.depend</span> <span class=\"kn\">import</span> <span class=\"n\">Dependencies</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">glob</span>\n\n\n<span class=\"n\">target</span> <span class=\"o\">=</span> <span class=\"s1\">'hello.elf'</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">build</span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">:</span> <span class=\"n\">ctxt</span><span class=\"o\">.</span><span class=\"n\">BuildContext</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">LinkRule</span><span class=\"p\">(</span>\n        <span class=\"n\">command</span><span class=\"o\">=</span><span class=\"s1\">'clang++ -fPIC -o $@ $^'</span><span class=\"p\">,</span>\n        <span class=\"n\">debug</span><span class=\"o\">=</span><span class=\"s1\">'-O0 -g'</span><span class=\"p\">,</span>\n        <span class=\"n\">release</span><span class=\"o\">=</span><span class=\"s1\">'-O2'</span><span class=\"p\">,</span>\n        <span class=\"n\">rules</span><span class=\"o\">=</span><span class=\"n\">SuffixRule</span><span class=\"p\">(</span>\n            <span class=\"n\">cpp</span><span class=\"o\">=</span><span class=\"n\">StaticRule</span><span class=\"p\">(</span><span class=\"s1\">'g++ -std=c++11 -c $&lt; -o $@'</span><span class=\"p\">,</span> <span class=\"n\">debug</span><span class=\"o\">=</span><span class=\"s1\">'-O0 -g'</span><span class=\"p\">,</span> <span class=\"n\">release</span><span class=\"o\">=</span><span class=\"s1\">'-O2'</span><span class=\"p\">),</span>\n            <span class=\"n\">c</span><span class=\"o\">=</span><span class=\"n\">StaticRule</span><span class=\"p\">(</span><span class=\"s1\">'gcc -std=c11 -c -O2 $&lt; -o $@'</span><span class=\"p\">,</span> <span class=\"n\">debug</span><span class=\"o\">=</span><span class=\"s1\">'-O0 -g'</span><span class=\"p\">,</span> <span class=\"n\">release</span><span class=\"o\">=</span><span class=\"s1\">'-O2'</span><span class=\"p\">)</span>\n        <span class=\"p\">)</span>\n    <span class=\"p\">)</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">depend</span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">:</span> <span class=\"n\">ctxt</span><span class=\"o\">.</span><span class=\"n\">BuildContext</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">SuffixRule</span><span class=\"p\">(</span>\n        <span class=\"n\">cpp</span><span class=\"o\">=</span><span class=\"n\">StaticRule</span><span class=\"p\">(</span><span class=\"s1\">'g++ -MMD -c $&lt; -o $@'</span><span class=\"p\">),</span>\n        <span class=\"n\">c</span><span class=\"o\">=</span><span class=\"n\">StaticRule</span><span class=\"p\">(</span><span class=\"s1\">'gcc -MMD -c $&lt; -o $@'</span><span class=\"p\">)</span>\n    <span class=\"p\">)</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">recipes</span><span class=\"p\">():</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'build'</span><span class=\"p\">:</span> <span class=\"n\">build</span><span class=\"p\">,</span>\n        <span class=\"s1\">'depend'</span><span class=\"p\">:</span> <span class=\"n\">depend</span>\n    <span class=\"p\">}</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">arguments</span><span class=\"p\">(</span><span class=\"n\">parser</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">find_files</span><span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">:</span> <span class=\"n\">ctxt</span><span class=\"o\">.</span><span class=\"n\">BuildContext</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">glob</span><span class=\"o\">.</span><span class=\"n\">glob</span><span class=\"p\">(</span><span class=\"s1\">'*.c'</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">glob</span><span class=\"o\">.</span><span class=\"n\">glob</span><span class=\"p\">(</span><span class=\"s1\">'*.cpp'</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">runner</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">(</span>\n    <span class=\"n\">target</span><span class=\"p\">,</span>\n    <span class=\"n\">recipes</span><span class=\"o\">=</span><span class=\"n\">recipes</span><span class=\"p\">,</span> <span class=\"n\">finder</span><span class=\"o\">=</span><span class=\"n\">find_files</span><span class=\"p\">,</span>\n    <span class=\"n\">arguments</span><span class=\"o\">=</span><span class=\"n\">arguments</span><span class=\"p\">,</span> <span class=\"n\">dependencies</span><span class=\"o\">=</span><span class=\"n\">Dependencies</span><span class=\"p\">(</span><span class=\"n\">files</span><span class=\"o\">=</span><span class=\"n\">glob</span><span class=\"o\">.</span><span class=\"n\">glob</span><span class=\"p\">(</span><span class=\"s1\">'obj/*.d'</span><span class=\"p\">))</span>\n<span class=\"p\">)</span>\n</pre>\n<p>run in <code>makefile.py</code>'s directory.</p>\n<pre>irori build\n</pre>\n<h2>license</h2>\n<p>GNU GPL version 3.0</p>\n\n          </div>"}, "last_serial": 4771786, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "ab704f477e1945dbcd699349a3e30c8e", "sha256": "7e249e31f19cdf1681ae0e8be3f23b9a984865fd23e213dfc880881df3481d03"}, "downloads": -1, "filename": "irori-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ab704f477e1945dbcd699349a3e30c8e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 21070, "upload_time": "2019-02-02T08:36:51", "upload_time_iso_8601": "2019-02-02T08:36:51.533107Z", "url": "https://files.pythonhosted.org/packages/ae/74/2aecdac815c0da5bd4ef45e2701fa8f0fcda36de36677519583fd522e980/irori-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d3c581678e7fee5db8c3da67cc48bacf", "sha256": "a9f497e576c5c7877c86192c310a4024384549b59082ebe767ec5eba3a318d01"}, "downloads": -1, "filename": "irori-1.0.0.tar.gz", "has_sig": false, "md5_digest": "d3c581678e7fee5db8c3da67cc48bacf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18557, "upload_time": "2019-02-02T08:36:54", "upload_time_iso_8601": "2019-02-02T08:36:54.038358Z", "url": "https://files.pythonhosted.org/packages/13/b5/d54e76ff4ff06e41d5795e6b3cd8f3d5675c51ee34ff6cc6481a5972265c/irori-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ab704f477e1945dbcd699349a3e30c8e", "sha256": "7e249e31f19cdf1681ae0e8be3f23b9a984865fd23e213dfc880881df3481d03"}, "downloads": -1, "filename": "irori-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ab704f477e1945dbcd699349a3e30c8e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 21070, "upload_time": "2019-02-02T08:36:51", "upload_time_iso_8601": "2019-02-02T08:36:51.533107Z", "url": "https://files.pythonhosted.org/packages/ae/74/2aecdac815c0da5bd4ef45e2701fa8f0fcda36de36677519583fd522e980/irori-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d3c581678e7fee5db8c3da67cc48bacf", "sha256": "a9f497e576c5c7877c86192c310a4024384549b59082ebe767ec5eba3a318d01"}, "downloads": -1, "filename": "irori-1.0.0.tar.gz", "has_sig": false, "md5_digest": "d3c581678e7fee5db8c3da67cc48bacf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18557, "upload_time": "2019-02-02T08:36:54", "upload_time_iso_8601": "2019-02-02T08:36:54.038358Z", "url": "https://files.pythonhosted.org/packages/13/b5/d54e76ff4ff06e41d5795e6b3cd8f3d5675c51ee34ff6cc6481a5972265c/irori-1.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:54:12 2020"}
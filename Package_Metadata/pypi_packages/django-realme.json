{"info": {"author": "Catalyst IT", "author_email": "", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django", "Intended Audience :: Developers", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Internet :: WWW/HTTP", "Topic :: Internet :: WWW/HTTP :: Dynamic Content"], "description": "# django-realme: a Django app for integrating the RealMe authentication service\n\nThis is a Django package and a small example Django application to show how to\nuse the RealMe authentication service with your Django project. All instructions\nare based on Ubuntu 16.04 LTS.\n\n\n## Install prerequisites\n\n- libxmlsec1-dev\n- pkg-config\n\n\n## Stages and Environments\n\nThe RealMe authentication service is divided into three separate environments,\nsplit up by function: development, testing, and production. These are:\n\n- Stage 1: Message Test Site (MTS)\n- Stage 2: Integration Test Environment (ITE)\n- Stage 3: Production Environment (PRD)\n\n\n## Bundles\n\nFor each environment above, RealMe will provide a Bundle zip file:\n\n- Integration Bundle MTS V2.1.zip\n- Integration Bundle ITE V2.0.zip\n- Integration Bundle Production V2.0.zip\n\nEach Bundle contains the keys, certificates and configuration for integrating\nwith the RealMe service. For MTS, it contains a pre-built sample key and\ncertificate, so you can use them directly for development. For ITE and PRD, you\nhave to create your own key and certificate.\n\nIn this app, we require you to put all the bundles into a directory, and put\nyour key and certificate into each bundle. You may need to split them into\nmulitiple environments. For example, in endoflife, we split ITE into `ITE-uat`\nand `ITE-testing`, each with its own key and certificate files. The directory\nlayout is as follows:\n```\n    bundles\n    \u251c\u2500\u2500 MTS\n    \u251c\u2500\u2500 ITE-uat\n    \u251c\u2500\u2500 ITE-testing\n    \u2514\u2500\u2500 PRD\n```\n\n\n## Create key and cert for ITE and PRD\n\nTo generate certificates for ITE and PRD, you will need to go through a\nchecklist with the Department of Internal affairs. Part of this is using OpenSSL\nto generate a private key and CSR:\n\n    STAGE=ite  # or prod\n    DOMAIN=$STAGE.sa.saml.sig.mysite.mydomain.nz;\n    PK_FILE=\"$DOMAIN.private.key\"\n    CSR_FILE=\"$DOMAIN.csr\"\n    GPG_FILE=\"$PK_FILE.gpg\"\n    openssl req -new -nodes -newkey rsa:2048 -keyout $PK_FILE -out $CSR_FILE \\\n        -subj \"/C=NZ/O=Department of Internal Affairs/OU=Births, Deaths and Marriages/CN=$DOMAIN\";\n\nThen send the CSR to DIA for approval, and they will hopefully furnish you with\na certificate.\n\nMore documentation about this process and the specification may be available\nhere: https://see.govt.nz/realme/realme/Library/Forms/Library.aspx\n\n\n## Django settings\n\n- Add `realme` and `django.contrib.sessions` to `INSTALLED_APPS`\n- Add `realme.backends.SamlBackend` to `AUTHENTICATION_BACKENDS`\n- Make sure `django.contrib.sessions.middleware.SessionMiddleware` is in `MIDDLEWARE`\n- Set `BUNDLES_ROOT` to your bundles directory\n- Set `BUNDLE_NAME` to one of `FAKE`, `MTS`, `ITE`, `PRD` as appropriate\n- Adjust `BUNDLES` with settings to override realme.bundles.BUNDLES_DEFAULT\n\nRefer to the supplied `example/example/settings.py` for examples.\n\nThe `site_url` in `BUNDLES` is optional, you can also set it with a global\n`SITE_URL` setting.\n\nWhile loading the bundle configuration, the code will load\n`realme.bundles.BUNDLES_DEFAULT` first, and merge settings from `settings.BUNDLES`.\n\n\n## URLs\n\nSet up the URLs as follows:\n```\n    from django.conf.urls import url, include\n    urlpatterns = [\n        ...\n        url(r'^realme/', include('realme.urls', namespace='realme')),\n        ...\n    ]\n```\n\nThen you can use the RealMe URLs in templates:\n\n```\n    {% url 'realme:login' %}\n    {% url 'realme:logout' %}\n    {% url 'realme:acs' %}\n    ...\n```\n\nFor login, it defaults to low strength, but you can specify with:\n\n```\n    {% url 'realme:login' %}?strength=low\n    {% url 'realme:login' %}?strength=moderate\n```\n\n\n## Metadata\n\nWe provide two ways to generate metadata:\n\n1. login to the site as admin and save the `/realme/metadata` URL as an XML file.\n2. run the `render_metadata` Django management command.\n\nFor the MTS RealMe service, you can upload an XML file containing this metadata\nto the MTS site:\n\n1. Navigate to https://mts.realme.govt.nz/logon-mts/metadataupdate\n2. Select your XML file and click the \"Upload\" button.\n3. In the next screen, click the \"Import\" button.\n\nFor ITE and PRD, you need access to https://see.govt.nz/realme/realme to\nupload the metadata. Once that is done you can notify the DIA team, and wait for\nthem to apply it.\n\n\n## Seamless logon\n\nThis app has code for seamless logon but at this stage it is not fully verified.\n", "description_content_type": null, "docs_url": null, "download_url": "https://github.com/catalyst/django-realme/archive/1.0.tar.gz", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/catalyst/django-realme", "keywords": "", "license": "GPL", "maintainer": "", "maintainer_email": "", "name": "django-realme", "package_url": "https://pypi.org/project/django-realme/", "platform": "", "project_url": "https://pypi.org/project/django-realme/", "project_urls": {"Download": "https://github.com/catalyst/django-realme/archive/1.0.tar.gz", "Homepage": "https://github.com/catalyst/django-realme"}, "release_url": "https://pypi.org/project/django-realme/1.0/", "requires_dist": null, "requires_python": "", "summary": "A Django app client for the RealMe service", "version": "1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            # django-realme: a Django app for integrating the RealMe authentication service<br><br>This is a Django package and a small example Django application to show how to<br>use the RealMe authentication service with your Django project. All instructions<br>are based on Ubuntu 16.04 LTS.<br><br><br>## Install prerequisites<br><br>- libxmlsec1-dev<br>- pkg-config<br><br><br>## Stages and Environments<br><br>The RealMe authentication service is divided into three separate environments,<br>split up by function: development, testing, and production. These are:<br><br>- Stage 1: Message Test Site (MTS)<br>- Stage 2: Integration Test Environment (ITE)<br>- Stage 3: Production Environment (PRD)<br><br><br>## Bundles<br><br>For each environment above, RealMe will provide a Bundle zip file:<br><br>- Integration Bundle MTS V2.1.zip<br>- Integration Bundle ITE V2.0.zip<br>- Integration Bundle Production V2.0.zip<br><br>Each Bundle contains the keys, certificates and configuration for integrating<br>with the RealMe service. For MTS, it contains a pre-built sample key and<br>certificate, so you can use them directly for development. For ITE and PRD, you<br>have to create your own key and certificate.<br><br>In this app, we require you to put all the bundles into a directory, and put<br>your key and certificate into each bundle. You may need to split them into<br>mulitiple environments. For example, in endoflife, we split ITE into `ITE-uat`<br>and `ITE-testing`, each with its own key and certificate files. The directory<br>layout is as follows:<br>```<br>    bundles<br>    \u251c\u2500\u2500 MTS<br>    \u251c\u2500\u2500 ITE-uat<br>    \u251c\u2500\u2500 ITE-testing<br>    \u2514\u2500\u2500 PRD<br>```<br><br><br>## Create key and cert for ITE and PRD<br><br>To generate certificates for ITE and PRD, you will need to go through a<br>checklist with the Department of Internal affairs. Part of this is using OpenSSL<br>to generate a private key and CSR:<br><br>    STAGE=ite  # or prod<br>    DOMAIN=$STAGE.sa.saml.sig.mysite.mydomain.nz;<br>    PK_FILE=\"$DOMAIN.private.key\"<br>    CSR_FILE=\"$DOMAIN.csr\"<br>    GPG_FILE=\"$PK_FILE.gpg\"<br>    openssl req -new -nodes -newkey rsa:2048 -keyout $PK_FILE -out $CSR_FILE \\<br>        -subj \"/C=NZ/O=Department of Internal Affairs/OU=Births, Deaths and Marriages/CN=$DOMAIN\";<br><br>Then send the CSR to DIA for approval, and they will hopefully furnish you with<br>a certificate.<br><br>More documentation about this process and the specification may be available<br>here: https://see.govt.nz/realme/realme/Library/Forms/Library.aspx<br><br><br>## Django settings<br><br>- Add `realme` and `django.contrib.sessions` to `INSTALLED_APPS`<br>- Add `realme.backends.SamlBackend` to `AUTHENTICATION_BACKENDS`<br>- Make sure `django.contrib.sessions.middleware.SessionMiddleware` is in `MIDDLEWARE`<br>- Set `BUNDLES_ROOT` to your bundles directory<br>- Set `BUNDLE_NAME` to one of `FAKE`, `MTS`, `ITE`, `PRD` as appropriate<br>- Adjust `BUNDLES` with settings to override realme.bundles.BUNDLES_DEFAULT<br><br>Refer to the supplied `example/example/settings.py` for examples.<br><br>The `site_url` in `BUNDLES` is optional, you can also set it with a global<br>`SITE_URL` setting.<br><br>While loading the bundle configuration, the code will load<br>`realme.bundles.BUNDLES_DEFAULT` first, and merge settings from `settings.BUNDLES`.<br><br><br>## URLs<br><br>Set up the URLs as follows:<br>```<br>    from django.conf.urls import url, include<br>    urlpatterns = [<br>        ...<br>        url(r'^realme/', include('realme.urls', namespace='realme')),<br>        ...<br>    ]<br>```<br><br>Then you can use the RealMe URLs in templates:<br><br>```<br>    {% url 'realme:login' %}<br>    {% url 'realme:logout' %}<br>    {% url 'realme:acs' %}<br>    ...<br>```<br><br>For login, it defaults to low strength, but you can specify with:<br><br>```<br>    {% url 'realme:login' %}?strength=low<br>    {% url 'realme:login' %}?strength=moderate<br>```<br><br><br>## Metadata<br><br>We provide two ways to generate metadata:<br><br>1. login to the site as admin and save the `/realme/metadata` URL as an XML file.<br>2. run the `render_metadata` Django management command.<br><br>For the MTS RealMe service, you can upload an XML file containing this metadata<br>to the MTS site:<br><br>1. Navigate to https://mts.realme.govt.nz/logon-mts/metadataupdate<br>2. Select your XML file and click the \"Upload\" button.<br>3. In the next screen, click the \"Import\" button.<br><br>For ITE and PRD, you need access to https://see.govt.nz/realme/realme to<br>upload the metadata. Once that is done you can notify the DIA team, and wait for<br>them to apply it.<br><br><br>## Seamless logon<br><br>This app has code for seamless logon but at this stage it is not fully verified.<br>\n          </div>"}, "last_serial": 3536985, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "370da47f6d8a582d6df4ed3d3a28eaed", "sha256": "7c0ee352c3bd03a22fdc108cb4c2a74e46617372f12595c0fb6b7dcf6703f0bd"}, "downloads": -1, "filename": "django-realme-1.0.tar.gz", "has_sig": false, "md5_digest": "370da47f6d8a582d6df4ed3d3a28eaed", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 71546, "upload_time": "2018-01-31T02:11:09", "upload_time_iso_8601": "2018-01-31T02:11:09.021785Z", "url": "https://files.pythonhosted.org/packages/8f/f1/2a1b815888fcff00f9a870b78288cb5aa4a7a305bbc315e749c6af74e692/django-realme-1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "370da47f6d8a582d6df4ed3d3a28eaed", "sha256": "7c0ee352c3bd03a22fdc108cb4c2a74e46617372f12595c0fb6b7dcf6703f0bd"}, "downloads": -1, "filename": "django-realme-1.0.tar.gz", "has_sig": false, "md5_digest": "370da47f6d8a582d6df4ed3d3a28eaed", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 71546, "upload_time": "2018-01-31T02:11:09", "upload_time_iso_8601": "2018-01-31T02:11:09.021785Z", "url": "https://files.pythonhosted.org/packages/8f/f1/2a1b815888fcff00f9a870b78288cb5aa4a7a305bbc315e749c6af74e692/django-realme-1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:54:23 2020"}
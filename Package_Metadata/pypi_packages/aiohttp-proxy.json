{"info": {"author": "Skactor", "author_email": "sk4ct0r@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "## aiohttp-proxy\n\n[![Build Status](https://travis-ci.org/Skactor/aiohttp-proxy.svg?branch=master)](https://github.com/Skactor/aiohttp-proxy)\n[![Coverage Status](https://coveralls.io/repos/github/Skactor/aiohttp-proxy/badge.svg?branch=master)](https://coveralls.io/Skactor/aiohttp-proxy?branch=master)\n[![PyPI version](https://badge.fury.io/py/aiohttp-proxy.svg)](https://badge.fury.io/py/aiohttp-proxy)\n\nSOCKS proxy connector for [aiohttp](https://github.com/aio-libs/aiohttp). HTTP, HTTPS, SOCKS4(a) and SOCKS5(h) proxies are supported.\n\n## Requirements\n- Python >= 3.5.3\n- aiohttp >= 2.3.2  # including v3.x\n\n## Installation\n```\npip install aiohttp_proxy\n```\n\n## Usage\n\n#### aiohttp usage:\n```python\nimport aiohttp\nfrom aiohttp_proxy import ProxyConnector, ProxyType\n\n\nasync def fetch(url):\n    connector = ProxyConnector.from_url('http://user:password@127.0.0.1:1080')\n    ### or use ProxyConnector constructor\n    # connector = ProxyConnector(\n    #     proxy_type=ProxyType.SOCKS5,\n    #     host='127.0.0.1',\n    #     port=1080,\n    #     username='user',\n    #     password='password',\n    #     rdns=True\n    # )\n    async with aiohttp.ClientSession(connector=connector) as session:\n        async with session.get(url) as response:\n            return await response.text()\n```\n\n#### aiohttp-socks also provides `open_connection` and `create_connection` functions:\n\n```python\nfrom aiohttp_proxy import open_connection\n\nasync def fetch():\n    reader, writer = await open_connection(\n        socks_url='http://user:password@127.0.0.1:1080',\n        host='check-host.net',\n        port=80\n    )\n    request = (b\"GET /ip HTTP/1.1\\r\\n\"\n               b\"Host: check-host.net\\r\\n\"\n               b\"Connection: close\\r\\n\\r\\n\")\n\n    writer.write(request)\n    return await reader.read(-1)\n```\n\n## Why give aiohttp a new proxy support\n\nFirst must declare, our code is based on [aiohttp-socks](https://github.com/romis2012/aiohttp-socks), thank you very much for the hard work.\n\nBut in order to more flexible support for multiple proxy methods (not just SOCKS proxy),\nwe decided to fork [aiohttp-socks] (https://github.com/romis2012/aiohttp-socks), which is currently based on it.\n\nCombine with native aiohttp to provide HTTP/HTTPS proxy instead of writing troublesome discriminating code based on the type of proxy.\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Skactor/aiohttp-proxy", "keywords": "asyncio aiohttp socks socks5 socks4 http https proxy", "license": "Apache 2", "maintainer": "", "maintainer_email": "", "name": "aiohttp-proxy", "package_url": "https://pypi.org/project/aiohttp-proxy/", "platform": "", "project_url": "https://pypi.org/project/aiohttp-proxy/", "project_urls": {"Homepage": "https://github.com/Skactor/aiohttp-proxy"}, "release_url": "https://pypi.org/project/aiohttp-proxy/0.1.2/", "requires_dist": ["aiohttp (>=2.3.2)", "yarl"], "requires_python": "", "summary": "Full-featured proxy connector for aiohttp", "version": "0.1.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h2>aiohttp-proxy</h2>\n<p><a href=\"https://github.com/Skactor/aiohttp-proxy\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f4d3f2d776995404a1339e4e7f6b96aa6d1c8da3/68747470733a2f2f7472617669732d63692e6f72672f536b6163746f722f61696f687474702d70726f78792e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://coveralls.io/Skactor/aiohttp-proxy?branch=master\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/941057de7bb4f25e8b63e10792a4013ab8e2276a/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f536b6163746f722f61696f687474702d70726f78792f62616467652e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://badge.fury.io/py/aiohttp-proxy\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c7a7bdab2fd2d4d8edce60bcbf9371c75503c326/68747470733a2f2f62616467652e667572792e696f2f70792f61696f687474702d70726f78792e737667\"></a></p>\n<p>SOCKS proxy connector for <a href=\"https://github.com/aio-libs/aiohttp\" rel=\"nofollow\">aiohttp</a>. HTTP, HTTPS, SOCKS4(a) and SOCKS5(h) proxies are supported.</p>\n<h2>Requirements</h2>\n<ul>\n<li>Python &gt;= 3.5.3</li>\n<li>aiohttp &gt;= 2.3.2  # including v3.x</li>\n</ul>\n<h2>Installation</h2>\n<pre><code>pip install aiohttp_proxy\n</code></pre>\n<h2>Usage</h2>\n<h4>aiohttp usage:</h4>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">aiohttp</span>\n<span class=\"kn\">from</span> <span class=\"nn\">aiohttp_proxy</span> <span class=\"kn\">import</span> <span class=\"n\">ProxyConnector</span><span class=\"p\">,</span> <span class=\"n\">ProxyType</span>\n\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">fetch</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">):</span>\n    <span class=\"n\">connector</span> <span class=\"o\">=</span> <span class=\"n\">ProxyConnector</span><span class=\"o\">.</span><span class=\"n\">from_url</span><span class=\"p\">(</span><span class=\"s1\">'http://user:password@127.0.0.1:1080'</span><span class=\"p\">)</span>\n    <span class=\"c1\">### or use ProxyConnector constructor</span>\n    <span class=\"c1\"># connector = ProxyConnector(</span>\n    <span class=\"c1\">#     proxy_type=ProxyType.SOCKS5,</span>\n    <span class=\"c1\">#     host='127.0.0.1',</span>\n    <span class=\"c1\">#     port=1080,</span>\n    <span class=\"c1\">#     username='user',</span>\n    <span class=\"c1\">#     password='password',</span>\n    <span class=\"c1\">#     rdns=True</span>\n    <span class=\"c1\"># )</span>\n    <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">aiohttp</span><span class=\"o\">.</span><span class=\"n\">ClientSession</span><span class=\"p\">(</span><span class=\"n\">connector</span><span class=\"o\">=</span><span class=\"n\">connector</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">session</span><span class=\"p\">:</span>\n        <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">response</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"k\">await</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">()</span>\n</pre>\n<h4>aiohttp-socks also provides <code>open_connection</code> and <code>create_connection</code> functions:</h4>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">aiohttp_proxy</span> <span class=\"kn\">import</span> <span class=\"n\">open_connection</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">fetch</span><span class=\"p\">():</span>\n    <span class=\"n\">reader</span><span class=\"p\">,</span> <span class=\"n\">writer</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">open_connection</span><span class=\"p\">(</span>\n        <span class=\"n\">socks_url</span><span class=\"o\">=</span><span class=\"s1\">'http://user:password@127.0.0.1:1080'</span><span class=\"p\">,</span>\n        <span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'check-host.net'</span><span class=\"p\">,</span>\n        <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">80</span>\n    <span class=\"p\">)</span>\n    <span class=\"n\">request</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">\"GET /ip HTTP/1.1</span><span class=\"se\">\\r\\n</span><span class=\"s2\">\"</span>\n               <span class=\"sa\">b</span><span class=\"s2\">\"Host: check-host.net</span><span class=\"se\">\\r\\n</span><span class=\"s2\">\"</span>\n               <span class=\"sa\">b</span><span class=\"s2\">\"Connection: close</span><span class=\"se\">\\r\\n\\r\\n</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n\n    <span class=\"n\">writer</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"k\">await</span> <span class=\"n\">reader</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre>\n<h2>Why give aiohttp a new proxy support</h2>\n<p>First must declare, our code is based on <a href=\"https://github.com/romis2012/aiohttp-socks\" rel=\"nofollow\">aiohttp-socks</a>, thank you very much for the hard work.</p>\n<p>But in order to more flexible support for multiple proxy methods (not just SOCKS proxy),\nwe decided to fork [aiohttp-socks] (<a href=\"https://github.com/romis2012/aiohttp-socks\" rel=\"nofollow\">https://github.com/romis2012/aiohttp-socks</a>), which is currently based on it.</p>\n<p>Combine with native aiohttp to provide HTTP/HTTPS proxy instead of writing troublesome discriminating code based on the type of proxy.</p>\n\n          </div>"}, "last_serial": 6568070, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "b71f67b422c75361c2740363dac4f666", "sha256": "69d396b5fcfca5cdd275ccb9514c194265355982d78a26da7802c3e8623e32b2"}, "downloads": -1, "filename": "aiohttp_proxy-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "b71f67b422c75361c2740363dac4f666", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 12385, "upload_time": "2019-05-23T14:21:17", "upload_time_iso_8601": "2019-05-23T14:21:17.248134Z", "url": "https://files.pythonhosted.org/packages/b1/75/09960db69300d5fa7e590f5049cf1c5ddf7850b7eca2241a80b382b75f9f/aiohttp_proxy-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "98c918e1488951a27a58d7349ddd5ab0", "sha256": "bc08d5a5261c092d964139a88a6ff4eea7abe20679d8b4edb94c2747ed55afaf"}, "downloads": -1, "filename": "aiohttp_proxy-0.1.1.tar.gz", "has_sig": false, "md5_digest": "98c918e1488951a27a58d7349ddd5ab0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10939, "upload_time": "2019-05-23T14:21:19", "upload_time_iso_8601": "2019-05-23T14:21:19.869228Z", "url": "https://files.pythonhosted.org/packages/2c/6e/cea3001bb654845ef4e6cee4b179d85812b043fd9fd67131b30a260cd3ee/aiohttp_proxy-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "ec3eadad19a4e487323bacabbfd20c2e", "sha256": "b955ab883d30fd5452f6b226f0b416fc3905cc5e2b3f023b481e95664ef40667"}, "downloads": -1, "filename": "aiohttp_proxy-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "ec3eadad19a4e487323bacabbfd20c2e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 12322, "upload_time": "2020-02-04T11:26:02", "upload_time_iso_8601": "2020-02-04T11:26:02.769496Z", "url": "https://files.pythonhosted.org/packages/97/01/e97e1ca3b4ca031c54f3751a7f4b5829626c167846784202edafe2959781/aiohttp_proxy-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d19a86c68309402d18f5145cff4c73c6", "sha256": "4da16face2df486329f7eef36719da5c2ac7136e756574de06b428c5793b8090"}, "downloads": -1, "filename": "aiohttp_proxy-0.1.2.tar.gz", "has_sig": false, "md5_digest": "d19a86c68309402d18f5145cff4c73c6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10891, "upload_time": "2020-02-04T11:26:04", "upload_time_iso_8601": "2020-02-04T11:26:04.488373Z", "url": "https://files.pythonhosted.org/packages/03/93/d7cc02c794a3febbbe7b0fd1b2c7cb31234b2556b9da7bee273c33ae0f6f/aiohttp_proxy-0.1.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ec3eadad19a4e487323bacabbfd20c2e", "sha256": "b955ab883d30fd5452f6b226f0b416fc3905cc5e2b3f023b481e95664ef40667"}, "downloads": -1, "filename": "aiohttp_proxy-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "ec3eadad19a4e487323bacabbfd20c2e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 12322, "upload_time": "2020-02-04T11:26:02", "upload_time_iso_8601": "2020-02-04T11:26:02.769496Z", "url": "https://files.pythonhosted.org/packages/97/01/e97e1ca3b4ca031c54f3751a7f4b5829626c167846784202edafe2959781/aiohttp_proxy-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d19a86c68309402d18f5145cff4c73c6", "sha256": "4da16face2df486329f7eef36719da5c2ac7136e756574de06b428c5793b8090"}, "downloads": -1, "filename": "aiohttp_proxy-0.1.2.tar.gz", "has_sig": false, "md5_digest": "d19a86c68309402d18f5145cff4c73c6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10891, "upload_time": "2020-02-04T11:26:04", "upload_time_iso_8601": "2020-02-04T11:26:04.488373Z", "url": "https://files.pythonhosted.org/packages/03/93/d7cc02c794a3febbbe7b0fd1b2c7cb31234b2556b9da7bee273c33ae0f6f/aiohttp_proxy-0.1.2.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:21:16 2020"}
{"info": {"author": "Estev\u00e3o Costa", "author_email": "ecosta@mpes.mp.br", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: System Administrators", "License :: OSI Approved :: MIT License", "Operating System :: POSIX :: Linux", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: System :: Installation/Setup", "Topic :: System :: Systems Administration"], "description": "# vmm-manager\n\nScript python que gerencia recursos no System Center Virtual Machine Manager (SCVMM), de forma declarativa, com base em um arquivo de configura\u00e7\u00e3o YAML.\n\n![License](https://img.shields.io/github/license/MP-ES/vmm_manager.svg)\n![Tests](https://github.com/MP-ES/vmm_manager/workflows/Tests/badge.svg)\n![Release](https://github.com/MP-ES/vmm_manager/workflows/Release/badge.svg)\n![Python](https://img.shields.io/pypi/pyversions/vmm-manager.svg)\n![PyPI](http://img.shields.io/pypi/v/vmm-manager.svg)\n\n## Pr\u00e9-requisitos\n\n\u00c9 necess\u00e1rio ter uma m\u00e1quina Windows, que servir\u00e1 como ponto de acesso ao SCVMM, com as seguintes ferramentas:\n\n- OpenSSH\n- M\u00f3dulo PowerShell do SCVMM (**virtualmachinemanager**), geralmente instalado junto com o Console do Virtual Machine Manager (VMM)\n  \nNessa m\u00e1quina, tamb\u00e9m \u00e9 necess\u00e1rio executar o comando PowerShell `set-executionpolicy unrestricted`, com poderes administrativos.\n\n## Instala\u00e7\u00e3o\n\n```shell\npip install -U vmm-manager\n```\n\n## Uso\n\nPara consultar as fun\u00e7\u00f5es e os par\u00e2metros dispon\u00edveis, utilize o comando:\n\n```shell\nvmm_manager -h\n```\n\n### Exemplo de arquivo de invent\u00e1rio\n\n```yaml\nagrupamento: vmm_manager_test\nnuvem: \"developer\"\nimagem_padrao: \"vm_linux\"\nqtde_cpu_padrao: 1\nqtde_ram_mb_padrao: 512\nredes_padrao:\n  - nome: \"vlan1\"\nvms:\n  - nome: VMM_TEST1\n    descricao: \"Test VM\"\n    redes:\n      - nome: \"vlan1\"\n      - nome: \"vlan2\"\n    regiao: A\n  - nome: VMM_TEST2\n    regiao: B\n  - nome: VMM_TEST3\n```\n\n## Desenvolvimento\n\n### Instala\u00e7\u00e3o e configura\u00e7\u00e3o do python-poetry\n\nExecute os comandos a seguir:\n\n```shell\n# instalar o poetry\ncurl -sSL https://raw.githubusercontent.com/sdispater/poetry/master/get-poetry.py | python\necho 'source $HOME/.poetry/env' >>~/.bashrc\n\n# Configurar autocomplete\n# Bash\npoetry completions bash | sudo tee /etc/bash_completion.d/poetry.bash-completion\n```\n\n### Vari\u00e1veis de ambiente\n\nDefina as vari\u00e1veis de ambiente de acordo com as instru\u00e7\u00f5es do arquivo **.env.default**. Voc\u00ea pode criar um arquivo **.env** e executar o comando `export $(cat .env | xargs)` para defini-las antes da execu\u00e7\u00e3o do script.\n\n### Como executar\n\n```shell\n# Carregando envs (opcional)\nexport $(cat .env | xargs)\n\n# Instalando depend\u00eancias\npoetry install --no-root\n\n# Executando script\npoetry run python -m vmm_manager -h\n```\n\n### Comandos \u00fateis para DEV\n\n```shell\n# Habilitar shell\npoetry shell\n\n# Incluir uma depend\u00eancia\npoetry add <pacote> [--dev]\n\n# Executar lint\npylint tests/* vmm_manager/*\n\n# Executar testes\npython -m pytest -v\n```\n\n## Refer\u00eancias\n\n- [Virtual Machine Manager](https://docs.microsoft.com/en-us/powershell/module/virtualmachinemanager/?view=systemcenter-ps-2019)\n- [Python-Poetry](https://python-poetry.org/)\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/MP-ES/vmm_manager", "keywords": "IaC,scvmm,vmm_manager", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "vmm-manager", "package_url": "https://pypi.org/project/vmm-manager/", "platform": "", "project_url": "https://pypi.org/project/vmm-manager/", "project_urls": {"Documentation": "https://github.com/MP-ES/vmm_manager", "Homepage": "https://github.com/MP-ES/vmm_manager", "Repository": "https://github.com/MP-ES/vmm_manager"}, "release_url": "https://pypi.org/project/vmm-manager/0.1.0b0/", "requires_dist": ["paramiko (>=2.7,<3.0)", "configargparse (>=1.1,<2.0)", "jinja2 (>=2.11,<3.0)", "ruamel.yaml (>=0.16,<0.17)", "yamale (>=2.0,<3.0)", "yamlable (>=1.0,<2.0)", "tqdm (>=4.43,<5.0)", "pytz (>=2019,<2020)"], "requires_python": ">=3.7,<4.0", "summary": "Management of resources on System Center Virtual Machine Manager (SCVMM) in a declarative way.", "version": "0.1.0b0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>vmm-manager</h1>\n<p>Script python que gerencia recursos no System Center Virtual Machine Manager (SCVMM), de forma declarativa, com base em um arquivo de configura\u00e7\u00e3o YAML.</p>\n<p><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8a2e9b2aa3c3a25e9db91b059e2f831b81c40843/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f4d502d45532f766d6d5f6d616e616765722e737667\">\n<img alt=\"Tests\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/bd9cca5486590396e586c3fc8a0a81aefc77638a/68747470733a2f2f6769746875622e636f6d2f4d502d45532f766d6d5f6d616e616765722f776f726b666c6f77732f54657374732f62616467652e737667\">\n<img alt=\"Release\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/603ef555f85291def86de7bb3286789531d7f88c/68747470733a2f2f6769746875622e636f6d2f4d502d45532f766d6d5f6d616e616765722f776f726b666c6f77732f52656c656173652f62616467652e737667\">\n<img alt=\"Python\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a950beeb94c94c920a4d3d06a1ad614beda655a9/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f766d6d2d6d616e616765722e737667\">\n<img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d0b953151538a7224d07cb00c9d5cd44b9702d4c/687474703a2f2f696d672e736869656c64732e696f2f707970692f762f766d6d2d6d616e616765722e737667\"></p>\n<h2>Pr\u00e9-requisitos</h2>\n<p>\u00c9 necess\u00e1rio ter uma m\u00e1quina Windows, que servir\u00e1 como ponto de acesso ao SCVMM, com as seguintes ferramentas:</p>\n<ul>\n<li>OpenSSH</li>\n<li>M\u00f3dulo PowerShell do SCVMM (<strong>virtualmachinemanager</strong>), geralmente instalado junto com o Console do Virtual Machine Manager (VMM)</li>\n</ul>\n<p>Nessa m\u00e1quina, tamb\u00e9m \u00e9 necess\u00e1rio executar o comando PowerShell <code>set-executionpolicy unrestricted</code>, com poderes administrativos.</p>\n<h2>Instala\u00e7\u00e3o</h2>\n<pre>pip install -U vmm-manager\n</pre>\n<h2>Uso</h2>\n<p>Para consultar as fun\u00e7\u00f5es e os par\u00e2metros dispon\u00edveis, utilize o comando:</p>\n<pre>vmm_manager -h\n</pre>\n<h3>Exemplo de arquivo de invent\u00e1rio</h3>\n<pre><span class=\"nt\">agrupamento</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">vmm_manager_test</span>\n<span class=\"nt\">nuvem</span><span class=\"p\">:</span> <span class=\"s\">\"developer\"</span>\n<span class=\"nt\">imagem_padrao</span><span class=\"p\">:</span> <span class=\"s\">\"vm_linux\"</span>\n<span class=\"nt\">qtde_cpu_padrao</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">1</span>\n<span class=\"nt\">qtde_ram_mb_padrao</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">512</span>\n<span class=\"nt\">redes_padrao</span><span class=\"p\">:</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">nome</span><span class=\"p\">:</span> <span class=\"s\">\"vlan1\"</span>\n<span class=\"nt\">vms</span><span class=\"p\">:</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">nome</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">VMM_TEST1</span>\n    <span class=\"nt\">descricao</span><span class=\"p\">:</span> <span class=\"s\">\"Test</span><span class=\"nv\"> </span><span class=\"s\">VM\"</span>\n    <span class=\"nt\">redes</span><span class=\"p\">:</span>\n      <span class=\"p p-Indicator\">-</span> <span class=\"nt\">nome</span><span class=\"p\">:</span> <span class=\"s\">\"vlan1\"</span>\n      <span class=\"p p-Indicator\">-</span> <span class=\"nt\">nome</span><span class=\"p\">:</span> <span class=\"s\">\"vlan2\"</span>\n    <span class=\"nt\">regiao</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">A</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">nome</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">VMM_TEST2</span>\n    <span class=\"nt\">regiao</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">B</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">nome</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">VMM_TEST3</span>\n</pre>\n<h2>Desenvolvimento</h2>\n<h3>Instala\u00e7\u00e3o e configura\u00e7\u00e3o do python-poetry</h3>\n<p>Execute os comandos a seguir:</p>\n<pre><span class=\"c1\"># instalar o poetry</span>\ncurl -sSL https://raw.githubusercontent.com/sdispater/poetry/master/get-poetry.py <span class=\"p\">|</span> python\n<span class=\"nb\">echo</span> <span class=\"s1\">'source $HOME/.poetry/env'</span> &gt;&gt;~/.bashrc\n\n<span class=\"c1\"># Configurar autocomplete</span>\n<span class=\"c1\"># Bash</span>\npoetry completions bash <span class=\"p\">|</span> sudo tee /etc/bash_completion.d/poetry.bash-completion\n</pre>\n<h3>Vari\u00e1veis de ambiente</h3>\n<p>Defina as vari\u00e1veis de ambiente de acordo com as instru\u00e7\u00f5es do arquivo <strong>.env.default</strong>. Voc\u00ea pode criar um arquivo <strong>.env</strong> e executar o comando <code>export $(cat .env | xargs)</code> para defini-las antes da execu\u00e7\u00e3o do script.</p>\n<h3>Como executar</h3>\n<pre><span class=\"c1\"># Carregando envs (opcional)</span>\n<span class=\"nb\">export</span> <span class=\"k\">$(</span>cat .env <span class=\"p\">|</span> xargs<span class=\"k\">)</span>\n\n<span class=\"c1\"># Instalando depend\u00eancias</span>\npoetry install --no-root\n\n<span class=\"c1\"># Executando script</span>\npoetry run python -m vmm_manager -h\n</pre>\n<h3>Comandos \u00fateis para DEV</h3>\n<pre><span class=\"c1\"># Habilitar shell</span>\npoetry shell\n\n<span class=\"c1\"># Incluir uma depend\u00eancia</span>\npoetry add &lt;pacote&gt; <span class=\"o\">[</span>--dev<span class=\"o\">]</span>\n\n<span class=\"c1\"># Executar lint</span>\npylint tests/* vmm_manager/*\n\n<span class=\"c1\"># Executar testes</span>\npython -m pytest -v\n</pre>\n<h2>Refer\u00eancias</h2>\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/powershell/module/virtualmachinemanager/?view=systemcenter-ps-2019\" rel=\"nofollow\">Virtual Machine Manager</a></li>\n<li><a href=\"https://python-poetry.org/\" rel=\"nofollow\">Python-Poetry</a></li>\n</ul>\n\n          </div>"}, "last_serial": 6989513, "releases": {"0.1.0b0": [{"comment_text": "", "digests": {"md5": "911306c4c3d5dea7ae5d5595ba186ed0", "sha256": "caa093c7719dc97ea62b354118a4536d4b4832af0cc0c0db359a12048c3a6b62"}, "downloads": -1, "filename": "vmm_manager-0.1.0b0-py3-none-any.whl", "has_sig": false, "md5_digest": "911306c4c3d5dea7ae5d5595ba186ed0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 27759, "upload_time": "2020-04-09T22:07:33", "upload_time_iso_8601": "2020-04-09T22:07:33.458473Z", "url": "https://files.pythonhosted.org/packages/5b/70/5a0a58c315e81780b89b134f7e18086e57eb923ae83fac84126d98fac093/vmm_manager-0.1.0b0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d6557f5644a7d7b0ab9e00edb4bf0669", "sha256": "ad95cbdb3cf8bb6f4fb2e01cddc751687b26dd4cb1f45f2b5464a1d1b46c44d4"}, "downloads": -1, "filename": "vmm_manager-0.1.0b0.tar.gz", "has_sig": false, "md5_digest": "d6557f5644a7d7b0ab9e00edb4bf0669", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 20153, "upload_time": "2020-04-09T22:07:35", "upload_time_iso_8601": "2020-04-09T22:07:35.148544Z", "url": "https://files.pythonhosted.org/packages/c1/7b/b4e4eb999b9775a6acb8e50845b17c60d0578ae946fa8000e7fb982f6c17/vmm_manager-0.1.0b0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "911306c4c3d5dea7ae5d5595ba186ed0", "sha256": "caa093c7719dc97ea62b354118a4536d4b4832af0cc0c0db359a12048c3a6b62"}, "downloads": -1, "filename": "vmm_manager-0.1.0b0-py3-none-any.whl", "has_sig": false, "md5_digest": "911306c4c3d5dea7ae5d5595ba186ed0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 27759, "upload_time": "2020-04-09T22:07:33", "upload_time_iso_8601": "2020-04-09T22:07:33.458473Z", "url": "https://files.pythonhosted.org/packages/5b/70/5a0a58c315e81780b89b134f7e18086e57eb923ae83fac84126d98fac093/vmm_manager-0.1.0b0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d6557f5644a7d7b0ab9e00edb4bf0669", "sha256": "ad95cbdb3cf8bb6f4fb2e01cddc751687b26dd4cb1f45f2b5464a1d1b46c44d4"}, "downloads": -1, "filename": "vmm_manager-0.1.0b0.tar.gz", "has_sig": false, "md5_digest": "d6557f5644a7d7b0ab9e00edb4bf0669", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 20153, "upload_time": "2020-04-09T22:07:35", "upload_time_iso_8601": "2020-04-09T22:07:35.148544Z", "url": "https://files.pythonhosted.org/packages/c1/7b/b4e4eb999b9775a6acb8e50845b17c60d0578ae946fa8000e7fb982f6c17/vmm_manager-0.1.0b0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:34:47 2020"}
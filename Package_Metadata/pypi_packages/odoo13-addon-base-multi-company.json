{"info": {"author": "LasLabs, Tecnativa, Odoo Community Association (OCA)", "author_email": "support@odoo-community.org", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Framework :: Odoo", "License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)", "Programming Language :: Python"], "description": "==================\nMulti Company Base\n==================\n\n.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n   !! This file is generated by oca-gen-addon-readme !!\n   !! changes will be overwritten.                   !!\n   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n.. |badge1| image:: https://img.shields.io/badge/maturity-Production%2FStable-green.png\n    :target: https://odoo-community.org/page/development-status\n    :alt: Production/Stable\n.. |badge2| image:: https://img.shields.io/badge/licence-LGPL--3-blue.png\n    :target: http://www.gnu.org/licenses/lgpl-3.0-standalone.html\n    :alt: License: LGPL-3\n.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fmulti--company-lightgray.png?logo=github\n    :target: https://github.com/OCA/multi-company/tree/13.0/base_multi_company\n    :alt: OCA/multi-company\n.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png\n    :target: https://translation.odoo-community.org/projects/multi-company-13-0/multi-company-13-0-base_multi_company\n    :alt: Translate me on Weblate\n.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png\n    :target: https://runbot.odoo-community.org/runbot/133/13.0\n    :alt: Try me on Runbot\n\n|badge1| |badge2| |badge3| |badge4| |badge5| \n\nThis module provides an abstract model to be inherited by models that need\nto implement multi-company functionality.\n\nNo direct functionality is provided by this module.\n\n**Table of contents**\n\n.. contents::\n   :local:\n\nUsage\n=====\n\nImplementation\n~~~~~~~~~~~~~~\n\nMulti Company Abstract\n----------------------\n\nThe `multi.company.abstract` model is meant to be inherited by any model that\nwants to implement multi-company functionality. The logic does not require a\npre-existing company field on the inheriting model, but will not be affected\nif one does exist.\n\nWhen inheriting the `multi.company.abstract` model, you must take care that\nit is the first model listed in the `_inherit` array\n\n.. code-block:: python\n\n   class ProductTemplate(models.Model):\n       _inherit = [\"multi.company.abstract\", \"product.template\"]\n       _name = \"product.template\"\n       _description = \"Product Template (Multi-Company)\"\n\nThe following fields are provided by `multi.company.abstract`:\n\n* `company_ids` - All of the companies that this record belongs to. This is a\n  special `res.company.assignment` view, which allows for the circumvention of\n  standard cross-company security policies. These policies would normally\n  restrict a user from seeing another company unless it is currently operating\n  under that company. Be aware of apples to oranges issues when comparing the\n  records from this field against actual company records.\n* `company_id` - Passes through a singleton company based on the current user,\n  and the allowed companies for the record.\n\nHooks\n-----\n\nA generic `post_init_hook` and `uninstall_hook` is provided, which will alter\na pre-existing single-company security rule to be multi-company aware.\n\nThese hooks will unfortunately not work in every circumstance, but they cut out\nsignificant boilerplate when relevant.\n\n.. code-block:: python\n\n   import logging\n\n   _logger = logging.getLogger(__name__)\n\n   try:\n       from odoo.addons.base_multi_company import hooks\n   except ImportError:\n       _logger.info('Cannot find `base_multi_company` module in addons path.')\n\n\n   def post_init_hook(cr, registry):\n       hooks.post_init_hook(\n           cr,\n           'product.product_comp_rule',\n           'product.template',\n       )\n\n\n   def uninstall_hook(cr, registry):\n       hooks.uninstall_hook(\n           cr,\n           'product.product_comp_rule',\n       )\n\nA module implementing these hooks would need to first identify the proper rule\nfor the record (`product.product_comp_rule` in the above example).\n\nBug Tracker\n===========\n\nBugs are tracked on `GitHub Issues <https://github.com/OCA/multi-company/issues>`_.\nIn case of trouble, please check there if your issue has already been reported.\nIf you spotted it first, help us smashing it by providing a detailed and welcomed\n`feedback <https://github.com/OCA/multi-company/issues/new?body=module:%20base_multi_company%0Aversion:%2013.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.\n\nDo not contact contributors directly about support or help with technical issues.\n\nCredits\n=======\n\nAuthors\n~~~~~~~\n\n* LasLabs\n* Tecnativa\n\nContributors\n~~~~~~~~~~~~\n\n* Dave Lasley <dave@laslabs.com>\n* Pedro M. Baeza <pedro.baeza@tecnativa.com>\n* Laurent Mignon <laurent.mignon@acsone.eu>\n* C\u00e9dric Pigeon <cedric.pigeon@acsone.eu>\n* Rodrigo Ferreira <rodrigosferreira91@gmail.com>\n* Florian da Costa <florian.dacosta@akretion.com>\n\nMaintainers\n~~~~~~~~~~~\n\nThis module is maintained by the OCA.\n\n.. image:: https://odoo-community.org/logo.png\n   :alt: Odoo Community Association\n   :target: https://odoo-community.org\n\nOCA, or the Odoo Community Association, is a nonprofit organization whose\nmission is to support the collaborative development of Odoo features and\npromote its widespread use.\n\n.. |maintainer-pedrobaeza| image:: https://github.com/pedrobaeza.png?size=40px\n    :target: https://github.com/pedrobaeza\n    :alt: pedrobaeza\n\nCurrent `maintainer <https://odoo-community.org/page/maintainer-role>`__:\n\n|maintainer-pedrobaeza| \n\nThis module is part of the `OCA/multi-company <https://github.com/OCA/multi-company/tree/13.0/base_multi_company>`_ project on GitHub.\n\nYou are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/OCA/multi-company", "keywords": "", "license": "LGPL-3", "maintainer": "", "maintainer_email": "", "name": "odoo13-addon-base-multi-company", "package_url": "https://pypi.org/project/odoo13-addon-base-multi-company/", "platform": "", "project_url": "https://pypi.org/project/odoo13-addon-base-multi-company/", "project_urls": {"Homepage": "https://github.com/OCA/multi-company"}, "release_url": "https://pypi.org/project/odoo13-addon-base-multi-company/13.0.1.0.1.dev2/", "requires_dist": ["odoo (<13.1dev,>=13.0a)"], "requires_python": ">=3.5", "summary": "Provides a base for adding multi-company support to models.", "version": "13.0.1.0.1.dev2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://odoo-community.org/page/development-status\" rel=\"nofollow\"><img alt=\"Production/Stable\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1ff31723496f84265bcffdb4bf7fa8da4f1a4911/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6d617475726974792d50726f64756374696f6e253246537461626c652d677265656e2e706e67\"></a> <a href=\"http://www.gnu.org/licenses/lgpl-3.0-standalone.html\" rel=\"nofollow\"><img alt=\"License: LGPL-3\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4160c3ec333d50e105c6b89ce97121528540c5e1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e63652d4c47504c2d2d332d626c75652e706e67\"></a> <a href=\"https://github.com/OCA/multi-company/tree/13.0/base_multi_company\" rel=\"nofollow\"><img alt=\"OCA/multi-company\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/40ffb4439b2902ef416af050bce7277a943385d7/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769746875622d4f43412532466d756c74692d2d636f6d70616e792d6c69676874677261792e706e673f6c6f676f3d676974687562\"></a> <a href=\"https://translation.odoo-community.org/projects/multi-company-13-0/multi-company-13-0-base_multi_company\" rel=\"nofollow\"><img alt=\"Translate me on Weblate\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c635db5d64b125cbcaa3924ccc0bc5a537d514d5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f7765626c6174652d5472616e736c6174652532306d652d4634374434322e706e67\"></a> <a href=\"https://runbot.odoo-community.org/runbot/133/13.0\" rel=\"nofollow\"><img alt=\"Try me on Runbot\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2c838644982a81b103c63e731d11fb9d6e46a465/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f72756e626f742d5472792532306d652d3837354137422e706e67\"></a></p>\n<p>This module provides an abstract model to be inherited by models that need\nto implement multi-company functionality.</p>\n<p>No direct functionality is provided by this module.</p>\n<p><strong>Table of contents</strong></p>\n<div id=\"contents\">\n<ul>\n<li><a href=\"#usage\" id=\"id1\" rel=\"nofollow\">Usage</a><ul>\n<li><a href=\"#multi-company-abstract\" id=\"id2\" rel=\"nofollow\">Multi Company Abstract</a></li>\n<li><a href=\"#hooks\" id=\"id3\" rel=\"nofollow\">Hooks</a></li>\n</ul>\n</li>\n<li><a href=\"#bug-tracker\" id=\"id4\" rel=\"nofollow\">Bug Tracker</a></li>\n<li><a href=\"#credits\" id=\"id5\" rel=\"nofollow\">Credits</a><ul>\n<li><a href=\"#authors\" id=\"id6\" rel=\"nofollow\">Authors</a></li>\n<li><a href=\"#contributors\" id=\"id7\" rel=\"nofollow\">Contributors</a></li>\n<li><a href=\"#maintainers\" id=\"id8\" rel=\"nofollow\">Maintainers</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<div id=\"usage\">\n<h2><a href=\"#id1\" rel=\"nofollow\">Usage</a></h2>\n<h2 id=\"implementation\"><span class=\"section-subtitle\">Implementation</span></h2>\n<div id=\"multi-company-abstract\">\n<h3><a href=\"#id2\" rel=\"nofollow\">Multi Company Abstract</a></h3>\n<p>The <cite>multi.company.abstract</cite> model is meant to be inherited by any model that\nwants to implement multi-company functionality. The logic does not require a\npre-existing company field on the inheriting model, but will not be affected\nif one does exist.</p>\n<p>When inheriting the <cite>multi.company.abstract</cite> model, you must take care that\nit is the first model listed in the <cite>_inherit</cite> array</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">ProductTemplate</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">_inherit</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"multi.company.abstract\"</span><span class=\"p\">,</span> <span class=\"s2\">\"product.template\"</span><span class=\"p\">]</span>\n    <span class=\"n\">_name</span> <span class=\"o\">=</span> <span class=\"s2\">\"product.template\"</span>\n    <span class=\"n\">_description</span> <span class=\"o\">=</span> <span class=\"s2\">\"Product Template (Multi-Company)\"</span>\n</pre>\n<p>The following fields are provided by <cite>multi.company.abstract</cite>:</p>\n<ul>\n<li><cite>company_ids</cite> - All of the companies that this record belongs to. This is a\nspecial <cite>res.company.assignment</cite> view, which allows for the circumvention of\nstandard cross-company security policies. These policies would normally\nrestrict a user from seeing another company unless it is currently operating\nunder that company. Be aware of apples to oranges issues when comparing the\nrecords from this field against actual company records.</li>\n<li><cite>company_id</cite> - Passes through a singleton company based on the current user,\nand the allowed companies for the record.</li>\n</ul>\n</div>\n<div id=\"hooks\">\n<h3><a href=\"#id3\" rel=\"nofollow\">Hooks</a></h3>\n<p>A generic <cite>post_init_hook</cite> and <cite>uninstall_hook</cite> is provided, which will alter\na pre-existing single-company security rule to be multi-company aware.</p>\n<p>These hooks will unfortunately not work in every circumstance, but they cut out\nsignificant boilerplate when relevant.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n\n<span class=\"n\">_logger</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">odoo.addons.base_multi_company</span> <span class=\"kn\">import</span> <span class=\"n\">hooks</span>\n<span class=\"k\">except</span> <span class=\"ne\">ImportError</span><span class=\"p\">:</span>\n    <span class=\"n\">_logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">'Cannot find `base_multi_company` module in addons path.'</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">post_init_hook</span><span class=\"p\">(</span><span class=\"n\">cr</span><span class=\"p\">,</span> <span class=\"n\">registry</span><span class=\"p\">):</span>\n    <span class=\"n\">hooks</span><span class=\"o\">.</span><span class=\"n\">post_init_hook</span><span class=\"p\">(</span>\n        <span class=\"n\">cr</span><span class=\"p\">,</span>\n        <span class=\"s1\">'product.product_comp_rule'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'product.template'</span><span class=\"p\">,</span>\n    <span class=\"p\">)</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">uninstall_hook</span><span class=\"p\">(</span><span class=\"n\">cr</span><span class=\"p\">,</span> <span class=\"n\">registry</span><span class=\"p\">):</span>\n    <span class=\"n\">hooks</span><span class=\"o\">.</span><span class=\"n\">uninstall_hook</span><span class=\"p\">(</span>\n        <span class=\"n\">cr</span><span class=\"p\">,</span>\n        <span class=\"s1\">'product.product_comp_rule'</span><span class=\"p\">,</span>\n    <span class=\"p\">)</span>\n</pre>\n<p>A module implementing these hooks would need to first identify the proper rule\nfor the record (<cite>product.product_comp_rule</cite> in the above example).</p>\n</div>\n</div>\n<div id=\"bug-tracker\">\n<h2><a href=\"#id4\" rel=\"nofollow\">Bug Tracker</a></h2>\n<p>Bugs are tracked on <a href=\"https://github.com/OCA/multi-company/issues\" rel=\"nofollow\">GitHub Issues</a>.\nIn case of trouble, please check there if your issue has already been reported.\nIf you spotted it first, help us smashing it by providing a detailed and welcomed\n<a href=\"https://github.com/OCA/multi-company/issues/new?body=module:%20base_multi_company%0Aversion:%2013.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**\" rel=\"nofollow\">feedback</a>.</p>\n<p>Do not contact contributors directly about support or help with technical issues.</p>\n</div>\n<div id=\"credits\">\n<h2><a href=\"#id5\" rel=\"nofollow\">Credits</a></h2>\n<div id=\"authors\">\n<h3><a href=\"#id6\" rel=\"nofollow\">Authors</a></h3>\n<ul>\n<li>LasLabs</li>\n<li>Tecnativa</li>\n</ul>\n</div>\n<div id=\"contributors\">\n<h3><a href=\"#id7\" rel=\"nofollow\">Contributors</a></h3>\n<ul>\n<li>Dave Lasley &lt;<a href=\"mailto:dave%40laslabs.com\">dave<span>@</span>laslabs<span>.</span>com</a>&gt;</li>\n<li>Pedro M. Baeza &lt;<a href=\"mailto:pedro.baeza%40tecnativa.com\">pedro<span>.</span>baeza<span>@</span>tecnativa<span>.</span>com</a>&gt;</li>\n<li>Laurent Mignon &lt;<a href=\"mailto:laurent.mignon%40acsone.eu\">laurent<span>.</span>mignon<span>@</span>acsone<span>.</span>eu</a>&gt;</li>\n<li>C\u00e9dric Pigeon &lt;<a href=\"mailto:cedric.pigeon%40acsone.eu\">cedric<span>.</span>pigeon<span>@</span>acsone<span>.</span>eu</a>&gt;</li>\n<li>Rodrigo Ferreira &lt;<a href=\"mailto:rodrigosferreira91%40gmail.com\">rodrigosferreira91<span>@</span>gmail<span>.</span>com</a>&gt;</li>\n<li>Florian da Costa &lt;<a href=\"mailto:florian.dacosta%40akretion.com\">florian<span>.</span>dacosta<span>@</span>akretion<span>.</span>com</a>&gt;</li>\n</ul>\n</div>\n<div id=\"maintainers\">\n<h3><a href=\"#id8\" rel=\"nofollow\">Maintainers</a></h3>\n<p>This module is maintained by the OCA.</p>\n<a href=\"https://odoo-community.org\" rel=\"nofollow\"><img alt=\"Odoo Community Association\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fead5bf585dfb174a18c49640c17a861db11f5e2/68747470733a2f2f6f646f6f2d636f6d6d756e6974792e6f72672f6c6f676f2e706e67\"></a>\n<p>OCA, or the Odoo Community Association, is a nonprofit organization whose\nmission is to support the collaborative development of Odoo features and\npromote its widespread use.</p>\n<p>Current <a href=\"https://odoo-community.org/page/maintainer-role\" rel=\"nofollow\">maintainer</a>:</p>\n<p><a href=\"https://github.com/pedrobaeza\" rel=\"nofollow\"><img alt=\"pedrobaeza\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c1ee589483732753c9ce96abfdab05fdd8f29aa5/68747470733a2f2f6769746875622e636f6d2f706564726f6261657a612e706e673f73697a653d34307078\"></a></p>\n<p>This module is part of the <a href=\"https://github.com/OCA/multi-company/tree/13.0/base_multi_company\" rel=\"nofollow\">OCA/multi-company</a> project on GitHub.</p>\n<p>You are welcome to contribute. To learn how please visit <a href=\"https://odoo-community.org/page/Contribute\" rel=\"nofollow\">https://odoo-community.org/page/Contribute</a>.</p>\n</div>\n</div>\n\n          </div>"}, "last_serial": 6983230, "releases": {"13.0.1.0.1.dev2": [{"comment_text": "", "digests": {"md5": "8aa56e5a38704204bcc097affd5d6e47", "sha256": "6dba4f829df0eaed8a6368506e281abfe0b3c9dc8eea807a5be204f37bfce21f"}, "downloads": -1, "filename": "odoo13_addon_base_multi_company-13.0.1.0.1.dev2-py3-none-any.whl", "has_sig": false, "md5_digest": "8aa56e5a38704204bcc097affd5d6e47", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 36229, "upload_time": "2020-04-09T04:56:21", "upload_time_iso_8601": "2020-04-09T04:56:21.257387Z", "url": "https://files.pythonhosted.org/packages/12/20/485f594e93a2b8162fd2dacd2eeaed8aabdd1a1d02714c22f27b0e913c42/odoo13_addon_base_multi_company-13.0.1.0.1.dev2-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "8aa56e5a38704204bcc097affd5d6e47", "sha256": "6dba4f829df0eaed8a6368506e281abfe0b3c9dc8eea807a5be204f37bfce21f"}, "downloads": -1, "filename": "odoo13_addon_base_multi_company-13.0.1.0.1.dev2-py3-none-any.whl", "has_sig": false, "md5_digest": "8aa56e5a38704204bcc097affd5d6e47", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 36229, "upload_time": "2020-04-09T04:56:21", "upload_time_iso_8601": "2020-04-09T04:56:21.257387Z", "url": "https://files.pythonhosted.org/packages/12/20/485f594e93a2b8162fd2dacd2eeaed8aabdd1a1d02714c22f27b0e913c42/odoo13_addon_base_multi_company-13.0.1.0.1.dev2-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 03:07:49 2020"}
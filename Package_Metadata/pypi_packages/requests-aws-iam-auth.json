{"info": {"author": "Mateus Amin, Bentron Drew", "author_email": "mateus.amin@cleardata.com, bentron.drew@cleardata.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "Intended Audience :: System Administrators", "License :: OSI Approved :: Apache Software License", "Natural Language :: English", "Programming Language :: Python", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# Requests AWS IAM Auth\nAn AWS IAM authentication package for Requests. Supported services: API Gateway v1. This is intended for use in production environments at the 1.0 release.\n\n## Example\n\n### API Gateway v1\n```python\nimport requests\nimport requests_aws_iam_auth\n\n# Provide AWS creds and config per Boto3 specs: https://tknk.io/ri3v\nauth = requests_aws_iam_auth.ApiGateway()\n\nrequests.get(\"https://p7xw90rcx4.execute-api.us-east-1.amazonaws.com/s/\", auth=auth)\n```\n\n## Developer Information\n\n### Dependencies\nBotocore\n\n### Headers\nauthorization, and x-amz-content-sha256 are directly modified in the signing protocal and will be set.\n\nExpect for authorization, connection, expect, user-agent, x-amz-content-sha256, x-amz-security-token and x-amzn-trace-id all user set headers are signed.\n\nIf the user does not specify host it is derived and signed. \n\nIf the method is not GET, HEAD, or OPTIONS, has a payload, and the user does not provide a content-length header it is derived and signed.\n\nIf there's a Date header, we set the date header. Otherwise, we set the X-Amz-Date header.\n\nThe underlying http.client will derive an unsigned accept-encoding header if not user specified.\n\nIf using STS x-amz-security-token will be set by this library.\n\n### Payload\nThe payload is always signed using SHA 256.\n\n### Protocols\nHTTP and HTTPS 1.1 are supported.\n\n### Python\nLatest three minor versions of python will be supported.\n\n## Contributor Notes\nThis library uses botocore for signing. \n\nRequests uses urllib3 which uses http.client.\n\nBotocore relies on http.client deriving the host when absent. Botocore replacates this deravation and signs with it but does not append the header to the sent request. This has the potential for a mismatch error. There is a TODO in botocore to set the host header in the request.\n\n### Maintainers\n#### Core\nMateus Amin and Benton Drew\n#### API Gateway v1\nMateus Amin and Benton Drew\n#### Some Other Service\n????\n\n### References\n- https://docs.python.org/3/library/http.client.html#module-http.client\n- https://hg.python.org/cpython/file/3.2/Lib/http/client.py\n- https://github.com/urllib3/urllib3/blob/063d888bc247eb6bd7aedcd32412bbb53c3c6ffb/src/urllib3/connection.py#L195\n- https://github.com/psf/requests/blob/7b565d886c852609a849e79e4ad8f3f8fa8d8c23/requests/adapters.py#L166\n\n### TODO\n- Add testing of three most recent python versions. Use docker not tox. No reason to bloat the stack.\n- Add fuzzing?\n- Add CI build. Keep it portable and deterministic.\n- Support AWS API Gateway v2 if it adds IAM Auth as a feature. Same for HTTP2.\n- Add Requests v3 support.\n- connection header. The connection header is set to blank between post auth and the server signing (inclusive). Could be a AWS, Requests, urllib3, botocore, or http.client. Have ruled out botocore. Can rule out the urllib3 and http.client by reading the sent request on the wire. As a temporary workaround we do not sign it.\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/mateusamin/requests-aws-iam-auth/", "keywords": "AWS IAM authentication auth AWS amazon API Gateway v1 Requests Signature v4", "license": "", "maintainer": "", "maintainer_email": "", "name": "requests-aws-iam-auth", "package_url": "https://pypi.org/project/requests-aws-iam-auth/", "platform": "", "project_url": "https://pypi.org/project/requests-aws-iam-auth/", "project_urls": {"Bug Tracker": "https://github.com/mateusamin/requests-aws-iam-auth/issues", "Documentation": "https://github.com/MateusAmin/requests-aws-iam-auth/blob/master/README.md", "Homepage": "https://github.com/mateusamin/requests-aws-iam-auth/", "Source Code": "https://github.com/mateusamin/requests-aws-iam-auth/"}, "release_url": "https://pypi.org/project/requests-aws-iam-auth/0.2.0/", "requires_dist": ["botocore (>=1.14.0)", "requests (>=2.21.0)"], "requires_python": ">=3.7.0", "summary": "An AWS IAM authentication package for Requests. Supported services: API Gateway v1", "version": "0.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Requests AWS IAM Auth</h1>\n<p>An AWS IAM authentication package for Requests. Supported services: API Gateway v1. This is intended for use in production environments at the 1.0 release.</p>\n<h2>Example</h2>\n<h3>API Gateway v1</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"kn\">import</span> <span class=\"nn\">requests_aws_iam_auth</span>\n\n<span class=\"c1\"># Provide AWS creds and config per Boto3 specs: https://tknk.io/ri3v</span>\n<span class=\"n\">auth</span> <span class=\"o\">=</span> <span class=\"n\">requests_aws_iam_auth</span><span class=\"o\">.</span><span class=\"n\">ApiGateway</span><span class=\"p\">()</span>\n\n<span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"https://p7xw90rcx4.execute-api.us-east-1.amazonaws.com/s/\"</span><span class=\"p\">,</span> <span class=\"n\">auth</span><span class=\"o\">=</span><span class=\"n\">auth</span><span class=\"p\">)</span>\n</pre>\n<h2>Developer Information</h2>\n<h3>Dependencies</h3>\n<p>Botocore</p>\n<h3>Headers</h3>\n<p>authorization, and x-amz-content-sha256 are directly modified in the signing protocal and will be set.</p>\n<p>Expect for authorization, connection, expect, user-agent, x-amz-content-sha256, x-amz-security-token and x-amzn-trace-id all user set headers are signed.</p>\n<p>If the user does not specify host it is derived and signed.</p>\n<p>If the method is not GET, HEAD, or OPTIONS, has a payload, and the user does not provide a content-length header it is derived and signed.</p>\n<p>If there's a Date header, we set the date header. Otherwise, we set the X-Amz-Date header.</p>\n<p>The underlying http.client will derive an unsigned accept-encoding header if not user specified.</p>\n<p>If using STS x-amz-security-token will be set by this library.</p>\n<h3>Payload</h3>\n<p>The payload is always signed using SHA 256.</p>\n<h3>Protocols</h3>\n<p>HTTP and HTTPS 1.1 are supported.</p>\n<h3>Python</h3>\n<p>Latest three minor versions of python will be supported.</p>\n<h2>Contributor Notes</h2>\n<p>This library uses botocore for signing.</p>\n<p>Requests uses urllib3 which uses http.client.</p>\n<p>Botocore relies on http.client deriving the host when absent. Botocore replacates this deravation and signs with it but does not append the header to the sent request. This has the potential for a mismatch error. There is a TODO in botocore to set the host header in the request.</p>\n<h3>Maintainers</h3>\n<h4>Core</h4>\n<p>Mateus Amin and Benton Drew</p>\n<h4>API Gateway v1</h4>\n<p>Mateus Amin and Benton Drew</p>\n<h4>Some Other Service</h4>\n<p>????</p>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://docs.python.org/3/library/http.client.html#module-http.client\" rel=\"nofollow\">https://docs.python.org/3/library/http.client.html#module-http.client</a></li>\n<li><a href=\"https://hg.python.org/cpython/file/3.2/Lib/http/client.py\" rel=\"nofollow\">https://hg.python.org/cpython/file/3.2/Lib/http/client.py</a></li>\n<li><a href=\"https://github.com/urllib3/urllib3/blob/063d888bc247eb6bd7aedcd32412bbb53c3c6ffb/src/urllib3/connection.py#L195\" rel=\"nofollow\">https://github.com/urllib3/urllib3/blob/063d888bc247eb6bd7aedcd32412bbb53c3c6ffb/src/urllib3/connection.py#L195</a></li>\n<li><a href=\"https://github.com/psf/requests/blob/7b565d886c852609a849e79e4ad8f3f8fa8d8c23/requests/adapters.py#L166\" rel=\"nofollow\">https://github.com/psf/requests/blob/7b565d886c852609a849e79e4ad8f3f8fa8d8c23/requests/adapters.py#L166</a></li>\n</ul>\n<h3>TODO</h3>\n<ul>\n<li>Add testing of three most recent python versions. Use docker not tox. No reason to bloat the stack.</li>\n<li>Add fuzzing?</li>\n<li>Add CI build. Keep it portable and deterministic.</li>\n<li>Support AWS API Gateway v2 if it adds IAM Auth as a feature. Same for HTTP2.</li>\n<li>Add Requests v3 support.</li>\n<li>connection header. The connection header is set to blank between post auth and the server signing (inclusive). Could be a AWS, Requests, urllib3, botocore, or http.client. Have ruled out botocore. Can rule out the urllib3 and http.client by reading the sent request on the wire. As a temporary workaround we do not sign it.</li>\n</ul>\n\n          </div>"}, "last_serial": 6579317, "releases": {"0.1.2": [{"comment_text": "", "digests": {"md5": "5cbeb48cccd5d85a46428e1851158793", "sha256": "62384832fed271c79f28c67f2041cab9e5e5ef71e5919328a967a4b57354e46d"}, "downloads": -1, "filename": "requests_aws_iam_auth-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "5cbeb48cccd5d85a46428e1851158793", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7.0", "size": 6650, "upload_time": "2020-02-03T01:04:54", "upload_time_iso_8601": "2020-02-03T01:04:54.387525Z", "url": "https://files.pythonhosted.org/packages/2b/29/424ce792818eb9943f698d36cea1f97163a9966e659ed392543da6c13b5e/requests_aws_iam_auth-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d331ad59e477a1afdab670ca5784cd64", "sha256": "5b28153715dd070db9792f192e08ace01fa7efa7a4d0389e66491ba6d31a3988"}, "downloads": -1, "filename": "requests_aws_iam_auth-0.1.2.tar.gz", "has_sig": false, "md5_digest": "d331ad59e477a1afdab670ca5784cd64", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7.0", "size": 2992, "upload_time": "2020-02-03T01:04:56", "upload_time_iso_8601": "2020-02-03T01:04:56.640300Z", "url": "https://files.pythonhosted.org/packages/45/03/7fe216f0fd01ab7215a8e1014eadb2f6ba9af94a174069b3a4a36e4e3810/requests_aws_iam_auth-0.1.2.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "1acf93fad5bb698e966aefede2bcec28", "sha256": "9a8fae4612f230e4d77014d2b4ea3589faded0f4fe2a4a1ae02fac8c6e391385"}, "downloads": -1, "filename": "requests_aws_iam_auth-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "1acf93fad5bb698e966aefede2bcec28", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7.0", "size": 7506, "upload_time": "2020-02-05T23:03:53", "upload_time_iso_8601": "2020-02-05T23:03:53.856006Z", "url": "https://files.pythonhosted.org/packages/f6/01/5a90401ad7692a5861f27ad9ea1d12a03c69d4e31f6198efe1ea5847f365/requests_aws_iam_auth-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e2572c2c75ba6d1bb46797c9e0b991ac", "sha256": "8cc20e840f90805272e1f853a35e5a9febbd64a71faedc212dabeb956cf5e273"}, "downloads": -1, "filename": "requests_aws_iam_auth-0.2.0.tar.gz", "has_sig": false, "md5_digest": "e2572c2c75ba6d1bb46797c9e0b991ac", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7.0", "size": 3426, "upload_time": "2020-02-05T23:03:54", "upload_time_iso_8601": "2020-02-05T23:03:54.972814Z", "url": "https://files.pythonhosted.org/packages/6c/d6/cfc0e8a8a723bddbe0ae54fced8389ac80b9a00c9d66624a9a04c3294b29/requests_aws_iam_auth-0.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "1acf93fad5bb698e966aefede2bcec28", "sha256": "9a8fae4612f230e4d77014d2b4ea3589faded0f4fe2a4a1ae02fac8c6e391385"}, "downloads": -1, "filename": "requests_aws_iam_auth-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "1acf93fad5bb698e966aefede2bcec28", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7.0", "size": 7506, "upload_time": "2020-02-05T23:03:53", "upload_time_iso_8601": "2020-02-05T23:03:53.856006Z", "url": "https://files.pythonhosted.org/packages/f6/01/5a90401ad7692a5861f27ad9ea1d12a03c69d4e31f6198efe1ea5847f365/requests_aws_iam_auth-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e2572c2c75ba6d1bb46797c9e0b991ac", "sha256": "8cc20e840f90805272e1f853a35e5a9febbd64a71faedc212dabeb956cf5e273"}, "downloads": -1, "filename": "requests_aws_iam_auth-0.2.0.tar.gz", "has_sig": false, "md5_digest": "e2572c2c75ba6d1bb46797c9e0b991ac", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7.0", "size": 3426, "upload_time": "2020-02-05T23:03:54", "upload_time_iso_8601": "2020-02-05T23:03:54.972814Z", "url": "https://files.pythonhosted.org/packages/6c/d6/cfc0e8a8a723bddbe0ae54fced8389ac80b9a00c9d66624a9a04c3294b29/requests_aws_iam_auth-0.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:04:09 2020"}
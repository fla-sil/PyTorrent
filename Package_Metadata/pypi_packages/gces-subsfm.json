{"info": {"author": "Daniel Debonzi", "author_email": "debonzi@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: GNU Library or Lesser General Public License (LGPL)", "Programming Language :: Python", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# GCES Subscriber Framework\n\n * `listeners/collector/__init__.py`\n\n ```python\nimport logging\nfrom gces import EventSubscriber\n\n\nTOPIC_NAME = 'super_service_1.events'\nSUBSCRIBER_NAME = 'collector'\n\ndef log_data(self, data):\n    logger.info(data)\n\ndef subsetup_(config):\n    es = EventSubscriber(TOPIC_NAME, SUBSCRIBER_NAME)\n    es.register_fsub('LINK_ENABLE', log_data)\n    es.register_fsub('LINK_DISABLE', log_data)\n\n    config.register_subscriber(SUBSCRIBER_NAME, es)\n ```\n\n * `listeners/spammer/__init__.py`\n\n ```python\nimport logging\nfrom gces import EventSubscriber\n\n\nTOPIC_NAME = 'super_service_2.events'\nSUBSCRIBER_NAME = 'spammer'\n\ndef log_data(self, data):\n    logger.info(data)\n\ndef subsetup_(config):\n    es = EventSubscriber(TOPIC_NAME, SUBSCRIBER_NAME)\n    es.register_fsub('SPAM_DETECTED', log_data)\n    es.register_fsub('SPAM_REGISTERED', log_data)\n\n    config.register_subscriber(SUBSCRIBER_NAME, es)\n ```\n\n * `subscriber.py`\n\n```python\nimport logging\n\nlogging.basicConfig()\nlogger = logging.getLogger()\nlogger.setLevel('INFO')\n\nimport signal, os\nimport importlib\n\nfrom gces_subsfm import Configurator\n\n\ndef create_app():\n    config = Configurator()\n    config.include('listeners.collector')\n    config.include('listeners.spammer')\n\n    return config\n\napp = application()\n\n```\n\n## Run Subscriber\n\n```bash\n$ gces-subsfm -A subscriber:app\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "pubsub gces google", "license": "", "maintainer": "", "maintainer_email": "", "name": "gces-subsfm", "package_url": "https://pypi.org/project/gces-subsfm/", "platform": "", "project_url": "https://pypi.org/project/gces-subsfm/", "project_urls": null, "release_url": "https://pypi.org/project/gces-subsfm/0.0.1a0/", "requires_dist": null, "requires_python": "", "summary": "GCES Subscriber Framework", "version": "0.0.1a0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>GCES Subscriber Framework</h1>\n<ul>\n<li><code>listeners/collector/__init__.py</code></li>\n</ul>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n<span class=\"kn\">from</span> <span class=\"nn\">gces</span> <span class=\"kn\">import</span> <span class=\"n\">EventSubscriber</span>\n\n\n<span class=\"n\">TOPIC_NAME</span> <span class=\"o\">=</span> <span class=\"s1\">'super_service_1.events'</span>\n<span class=\"n\">SUBSCRIBER_NAME</span> <span class=\"o\">=</span> <span class=\"s1\">'collector'</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">log_data</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">):</span>\n   <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">subsetup_</span><span class=\"p\">(</span><span class=\"n\">config</span><span class=\"p\">):</span>\n   <span class=\"n\">es</span> <span class=\"o\">=</span> <span class=\"n\">EventSubscriber</span><span class=\"p\">(</span><span class=\"n\">TOPIC_NAME</span><span class=\"p\">,</span> <span class=\"n\">SUBSCRIBER_NAME</span><span class=\"p\">)</span>\n   <span class=\"n\">es</span><span class=\"o\">.</span><span class=\"n\">register_fsub</span><span class=\"p\">(</span><span class=\"s1\">'LINK_ENABLE'</span><span class=\"p\">,</span> <span class=\"n\">log_data</span><span class=\"p\">)</span>\n   <span class=\"n\">es</span><span class=\"o\">.</span><span class=\"n\">register_fsub</span><span class=\"p\">(</span><span class=\"s1\">'LINK_DISABLE'</span><span class=\"p\">,</span> <span class=\"n\">log_data</span><span class=\"p\">)</span>\n\n   <span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">register_subscriber</span><span class=\"p\">(</span><span class=\"n\">SUBSCRIBER_NAME</span><span class=\"p\">,</span> <span class=\"n\">es</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li><code>listeners/spammer/__init__.py</code></li>\n</ul>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n<span class=\"kn\">from</span> <span class=\"nn\">gces</span> <span class=\"kn\">import</span> <span class=\"n\">EventSubscriber</span>\n\n\n<span class=\"n\">TOPIC_NAME</span> <span class=\"o\">=</span> <span class=\"s1\">'super_service_2.events'</span>\n<span class=\"n\">SUBSCRIBER_NAME</span> <span class=\"o\">=</span> <span class=\"s1\">'spammer'</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">log_data</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">):</span>\n   <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">subsetup_</span><span class=\"p\">(</span><span class=\"n\">config</span><span class=\"p\">):</span>\n   <span class=\"n\">es</span> <span class=\"o\">=</span> <span class=\"n\">EventSubscriber</span><span class=\"p\">(</span><span class=\"n\">TOPIC_NAME</span><span class=\"p\">,</span> <span class=\"n\">SUBSCRIBER_NAME</span><span class=\"p\">)</span>\n   <span class=\"n\">es</span><span class=\"o\">.</span><span class=\"n\">register_fsub</span><span class=\"p\">(</span><span class=\"s1\">'SPAM_DETECTED'</span><span class=\"p\">,</span> <span class=\"n\">log_data</span><span class=\"p\">)</span>\n   <span class=\"n\">es</span><span class=\"o\">.</span><span class=\"n\">register_fsub</span><span class=\"p\">(</span><span class=\"s1\">'SPAM_REGISTERED'</span><span class=\"p\">,</span> <span class=\"n\">log_data</span><span class=\"p\">)</span>\n\n   <span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">register_subscriber</span><span class=\"p\">(</span><span class=\"n\">SUBSCRIBER_NAME</span><span class=\"p\">,</span> <span class=\"n\">es</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li><code>subscriber.py</code></li>\n</ul>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n\n<span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">basicConfig</span><span class=\"p\">()</span>\n<span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">()</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">setLevel</span><span class=\"p\">(</span><span class=\"s1\">'INFO'</span><span class=\"p\">)</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">signal</span><span class=\"o\">,</span> <span class=\"nn\">os</span>\n<span class=\"kn\">import</span> <span class=\"nn\">importlib</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">gces_subsfm</span> <span class=\"kn\">import</span> <span class=\"n\">Configurator</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">create_app</span><span class=\"p\">():</span>\n    <span class=\"n\">config</span> <span class=\"o\">=</span> <span class=\"n\">Configurator</span><span class=\"p\">()</span>\n    <span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">include</span><span class=\"p\">(</span><span class=\"s1\">'listeners.collector'</span><span class=\"p\">)</span>\n    <span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">include</span><span class=\"p\">(</span><span class=\"s1\">'listeners.spammer'</span><span class=\"p\">)</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">config</span>\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">application</span><span class=\"p\">()</span>\n</pre>\n<h2>Run Subscriber</h2>\n<pre>$ gces-subsfm -A subscriber:app\n</pre>\n\n          </div>"}, "last_serial": 4810786, "releases": {"0.0.1a0": [{"comment_text": "", "digests": {"md5": "569d8d3263abc826a8b493bd90acffea", "sha256": "4c8954baaa297351c7dfd2d171e0fe08ac4b4c90a7b9542aaa700e1e392aace3"}, "downloads": -1, "filename": "gces_subsfm-0.0.1a0.tar.gz", "has_sig": false, "md5_digest": "569d8d3263abc826a8b493bd90acffea", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3158, "upload_time": "2019-02-12T13:22:39", "upload_time_iso_8601": "2019-02-12T13:22:39.943831Z", "url": "https://files.pythonhosted.org/packages/f9/22/f2c315472a4a54551a52aa1ece15c8c8f251df827398c881913e81d6d7d0/gces_subsfm-0.0.1a0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "569d8d3263abc826a8b493bd90acffea", "sha256": "4c8954baaa297351c7dfd2d171e0fe08ac4b4c90a7b9542aaa700e1e392aace3"}, "downloads": -1, "filename": "gces_subsfm-0.0.1a0.tar.gz", "has_sig": false, "md5_digest": "569d8d3263abc826a8b493bd90acffea", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3158, "upload_time": "2019-02-12T13:22:39", "upload_time_iso_8601": "2019-02-12T13:22:39.943831Z", "url": "https://files.pythonhosted.org/packages/f9/22/f2c315472a4a54551a52aa1ece15c8c8f251df827398c881913e81d6d7d0/gces_subsfm-0.0.1a0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:58:51 2020"}
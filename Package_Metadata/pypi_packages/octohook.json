{"info": {"author": "Sridhar Vadlamani", "author_email": "v.sridhar.sreenivas@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: 3.9", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "![PyPI - Python Version](https://img.shields.io/pypi/pyversions/octohook) ![PyPI - Status](https://img.shields.io/pypi/status/octohook) ![PyPI - License](https://img.shields.io/pypi/l/octohook)\n\n## Octohook\n\nOctohook makes working with incoming [Github Webhooks](https://developer.github.com/v3/activity/events/types/) extremely easy. \n\nIt parses the incoming payload into Python classes to allow for auto-complete and other goodies. For example, `octohook` provides functions for payload values which require string interpolation.\n\nFor example, almost every repository payload has an `archive_url` with some required and conditional parameters.\n```json\n{\n  \"repository\" : {\n    \"archive_url\": \"https://api.github.com/repos/doodla/octohook-playground/{archive_format}{/ref}\"\n  }\n}\n\n```\n\nThe `Repository` model provides an `archive_url()` method which has `archive_format` as an argument and `ref` as an optional variable.\n\n```\n>>> repo.archive_url(\"hello\")\nhttps://api.github.com/repos/doodla/octohook-playground/hello\n>>> repo.archive_url(\"hello\",\"world\")\nhttps://api.github.com/repos/doodla/octohook-playground/hello/world\"\n```\n\n### Gotchas\n\nGithub doesn't send consistent payloads for each model. Depending on the event type, you can get more information for a particular model, or less.\nFor example, Github sends a `changes` key with some payloads with the `edited` action. For other actions, the key is not present. In such cases, our `event.changes` is `None`.\n\nThis can happen for arbitrary payloads, so I'd suggest tailoring your code to the expected incoming webhook.\n\nIf anyone has a good suggestion on how to tackle this issue, feel free to email me, or create a PR!\n\nBecause Github sends different payloads for a combination of `event type` and `action`, unless I have access to all the variations, I cannot be sure that the corresponding model is correct.\n\nCurrent coverage is documented [here](tests/TestCases.md). If you can provide any of the missing events, please make a PR.\n### Sample Usage\n\n#### app.py\n```python\nfrom flask import Flask, request, Response\nimport octohook\nfrom octohook.events import PullRequestEvent\nfrom octohook.models import PullRequest, Repository\n\napp = Flask(__name__)\n\n@app.route('/webhook', methods=['POST'])\ndef webhook():\n    github_event = request.headers.get('X-GitHub-Event') # pull_request\n\n    # Assuming the incoming event was a PullRequestEvent\n    event : PullRequestEvent = octohook.parse(github_event, request.json)\n\n    return Response(event.pull_request.head.user.name, status=200)\n```\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/doodla/octohook", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "octohook", "package_url": "https://pypi.org/project/octohook/", "platform": "", "project_url": "https://pypi.org/project/octohook/", "project_urls": {"Homepage": "https://github.com/doodla/octohook"}, "release_url": "https://pypi.org/project/octohook/0.3/", "requires_dist": null, "requires_python": ">=3.7", "summary": "Typed interactions with Github Webhooks", "version": "0.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><img alt=\"PyPI - Python Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/05e874e9b6e62e0470000e9145dd9b135ccb008f/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6f63746f686f6f6b\"> <img alt=\"PyPI - Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/847f2edfe522d9ecd43bd66390de30fa6361d977/68747470733a2f2f696d672e736869656c64732e696f2f707970692f7374617475732f6f63746f686f6f6b\"> <img alt=\"PyPI - License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f91d8f91a11a1bed2b5a85c7dae296862f43e7b3/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f6f63746f686f6f6b\"></p>\n<h2>Octohook</h2>\n<p>Octohook makes working with incoming <a href=\"https://developer.github.com/v3/activity/events/types/\" rel=\"nofollow\">Github Webhooks</a> extremely easy.</p>\n<p>It parses the incoming payload into Python classes to allow for auto-complete and other goodies. For example, <code>octohook</code> provides functions for payload values which require string interpolation.</p>\n<p>For example, almost every repository payload has an <code>archive_url</code> with some required and conditional parameters.</p>\n<pre><span class=\"p\">{</span>\n  <span class=\"nt\">\"repository\"</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"archive_url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://api.github.com/repos/doodla/octohook-playground/{archive_format}{/ref}\"</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre>\n<p>The <code>Repository</code> model provides an <code>archive_url()</code> method which has <code>archive_format</code> as an argument and <code>ref</code> as an optional variable.</p>\n<pre><code>&gt;&gt;&gt; repo.archive_url(\"hello\")\nhttps://api.github.com/repos/doodla/octohook-playground/hello\n&gt;&gt;&gt; repo.archive_url(\"hello\",\"world\")\nhttps://api.github.com/repos/doodla/octohook-playground/hello/world\"\n</code></pre>\n<h3>Gotchas</h3>\n<p>Github doesn't send consistent payloads for each model. Depending on the event type, you can get more information for a particular model, or less.\nFor example, Github sends a <code>changes</code> key with some payloads with the <code>edited</code> action. For other actions, the key is not present. In such cases, our <code>event.changes</code> is <code>None</code>.</p>\n<p>This can happen for arbitrary payloads, so I'd suggest tailoring your code to the expected incoming webhook.</p>\n<p>If anyone has a good suggestion on how to tackle this issue, feel free to email me, or create a PR!</p>\n<p>Because Github sends different payloads for a combination of <code>event type</code> and <code>action</code>, unless I have access to all the variations, I cannot be sure that the corresponding model is correct.</p>\n<p>Current coverage is documented <a href=\"tests/TestCases.md\" rel=\"nofollow\">here</a>. If you can provide any of the missing events, please make a PR.</p>\n<h3>Sample Usage</h3>\n<h4>app.py</h4>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">flask</span> <span class=\"kn\">import</span> <span class=\"n\">Flask</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"n\">Response</span>\n<span class=\"kn\">import</span> <span class=\"nn\">octohook</span>\n<span class=\"kn\">from</span> <span class=\"nn\">octohook.events</span> <span class=\"kn\">import</span> <span class=\"n\">PullRequestEvent</span>\n<span class=\"kn\">from</span> <span class=\"nn\">octohook.models</span> <span class=\"kn\">import</span> <span class=\"n\">PullRequest</span><span class=\"p\">,</span> <span class=\"n\">Repository</span>\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">Flask</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s1\">'/webhook'</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'POST'</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">webhook</span><span class=\"p\">():</span>\n    <span class=\"n\">github_event</span> <span class=\"o\">=</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">headers</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">'X-GitHub-Event'</span><span class=\"p\">)</span> <span class=\"c1\"># pull_request</span>\n\n    <span class=\"c1\"># Assuming the incoming event was a PullRequestEvent</span>\n    <span class=\"n\">event</span> <span class=\"p\">:</span> <span class=\"n\">PullRequestEvent</span> <span class=\"o\">=</span> <span class=\"n\">octohook</span><span class=\"o\">.</span><span class=\"n\">parse</span><span class=\"p\">(</span><span class=\"n\">github_event</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">)</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">Response</span><span class=\"p\">(</span><span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">pull_request</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"o\">.</span><span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">status</span><span class=\"o\">=</span><span class=\"mi\">200</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 6875234, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "4f482b07f2bd0873199539bdc12ae515", "sha256": "1ddffdd92366e8d7c8dda83f2c7b0a9645f88be2cc3985d7004a071ba454e13c"}, "downloads": -1, "filename": "octohook-0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "4f482b07f2bd0873199539bdc12ae515", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 11221, "upload_time": "2020-03-22T22:24:15", "upload_time_iso_8601": "2020-03-22T22:24:15.138407Z", "url": "https://files.pythonhosted.org/packages/53/ac/0652cabf21a5644d47b317076ffaf8d78de95cf7d94149af192c35078771/octohook-0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c0da017397ab1ec93ba2c023abf63a09", "sha256": "25a31b6b9c5e0d4f0fa0a99a726fda4e13d619a147a21a60973af9c6dccf2c27"}, "downloads": -1, "filename": "octohook-0.1.tar.gz", "has_sig": false, "md5_digest": "c0da017397ab1ec93ba2c023abf63a09", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 11121, "upload_time": "2020-03-22T22:24:17", "upload_time_iso_8601": "2020-03-22T22:24:17.412754Z", "url": "https://files.pythonhosted.org/packages/22/f2/e0461efa7eccbd6cc3538b4d99f2d41c41ff27622c15291f36f1222c8c04/octohook-0.1.tar.gz", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "5c8a15bc1f0fbe91005d06e55d527807", "sha256": "88656d04b54cb0d49d413af0994d7ac0b709e105bfab6e544fdc4e6f618826f9"}, "downloads": -1, "filename": "octohook-0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "5c8a15bc1f0fbe91005d06e55d527807", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 11563, "upload_time": "2020-03-24T18:17:17", "upload_time_iso_8601": "2020-03-24T18:17:17.565039Z", "url": "https://files.pythonhosted.org/packages/0f/25/c5b1c621ecb6b5680a0310d74410198211262d6f6887c5ed9e232cef7d40/octohook-0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8f049bb17d3ea2b5f53c60bff7e4932c", "sha256": "8afa4d4d87d0ff568ce30c2082b90c31e20df318cb808b87f1049e43467fa5f5"}, "downloads": -1, "filename": "octohook-0.2.tar.gz", "has_sig": false, "md5_digest": "8f049bb17d3ea2b5f53c60bff7e4932c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 11488, "upload_time": "2020-03-24T18:17:18", "upload_time_iso_8601": "2020-03-24T18:17:18.681688Z", "url": "https://files.pythonhosted.org/packages/eb/b4/62e51e8aa667d6de342a29892ee5a5192b16523faa63225983214a67a510/octohook-0.2.tar.gz", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "609659899eda4b279782f22ec85b3346", "sha256": "de9ff2384c43cb49e50dc32b7fdfe424cca8f9b599f7809e2fcd7e1a726efa82"}, "downloads": -1, "filename": "octohook-0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "609659899eda4b279782f22ec85b3346", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 11581, "upload_time": "2020-03-24T19:20:36", "upload_time_iso_8601": "2020-03-24T19:20:36.066600Z", "url": "https://files.pythonhosted.org/packages/2d/57/4bdb305ae17a66f2a7c0bfea24b03eb34d7170ec29dfdde0e9717598d81e/octohook-0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f346679146bb3fd5ccb04ecb19169083", "sha256": "1b60157d9c14e8b5ff005d6d3ab44f3c0d06397c70883a11ab390d41ca26005c"}, "downloads": -1, "filename": "octohook-0.3.tar.gz", "has_sig": false, "md5_digest": "f346679146bb3fd5ccb04ecb19169083", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 11504, "upload_time": "2020-03-24T19:20:37", "upload_time_iso_8601": "2020-03-24T19:20:37.836321Z", "url": "https://files.pythonhosted.org/packages/31/c2/227a84eedc82f3953fafcc02f677d8b582ae61c8795c4e762eef348ad119/octohook-0.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "609659899eda4b279782f22ec85b3346", "sha256": "de9ff2384c43cb49e50dc32b7fdfe424cca8f9b599f7809e2fcd7e1a726efa82"}, "downloads": -1, "filename": "octohook-0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "609659899eda4b279782f22ec85b3346", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 11581, "upload_time": "2020-03-24T19:20:36", "upload_time_iso_8601": "2020-03-24T19:20:36.066600Z", "url": "https://files.pythonhosted.org/packages/2d/57/4bdb305ae17a66f2a7c0bfea24b03eb34d7170ec29dfdde0e9717598d81e/octohook-0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f346679146bb3fd5ccb04ecb19169083", "sha256": "1b60157d9c14e8b5ff005d6d3ab44f3c0d06397c70883a11ab390d41ca26005c"}, "downloads": -1, "filename": "octohook-0.3.tar.gz", "has_sig": false, "md5_digest": "f346679146bb3fd5ccb04ecb19169083", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 11504, "upload_time": "2020-03-24T19:20:37", "upload_time_iso_8601": "2020-03-24T19:20:37.836321Z", "url": "https://files.pythonhosted.org/packages/31/c2/227a84eedc82f3953fafcc02f677d8b582ae61c8795c4e762eef348ad119/octohook-0.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:43:35 2020"}
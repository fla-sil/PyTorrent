{"info": {"author": "R\u00e9mi DEBETTE", "author_email": "remi.debette@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Web Environment", "Framework :: AsyncIO", "Intended Audience :: Developers", "Operating System :: OS Independent", "Programming Language :: Python :: 3.6"], "description": "## Asyncio alternative of the Python client for prismic.io\n\n[![Latest Version](https://img.shields.io/pypi/v/prismic-httpx.svg)](https://pypi.org/project/prismic-httpx/)\n[![Build Status](https://api.travis-ci.org/remidebette/prismic-httpx.png)](https://travis-ci.org/remidebette/prismic-httpx)\n\nDisclaimer: I am not affiliated with the Prismic team and do not provide professional support.\n\nThe [Async](https://docs.python.org/3/library/asyncio.html) paradigm and the async/await syntax \n(introduced in version 3.5) are Python code styles that can be used to write concurrent coroutines.\nThe support for this code style is still sparse in the Python community's libraries.\n\nYou may find that the existing [Prismic Python SDK](https://github.com/prismicio/python-kit), \nbased on the [requests](https://requests-fr.readthedocs.io/en/latest/) library cannot be used with the async/await\nsyntax.\nHence its architecture is not optimal for use with natively async webservers like \n[sanic](https://sanic.readthedocs.io/en/latest/) or tornado.\n\nThe emerging standard HTTP client for the Python asyncio community is [httpx](https://www.python-httpx.org/), \nwhich the current package uses.\n\n### Getting started\n\n#### Install the kit for your project\n\nSimply run:\n\n```\npip install prismic-httpx\n```\n\n#### Get started with prismic.io\n\nYou can find out [how to get started with prismic.io](https://developers.prismic.io/documentation/UjBaQsuvzdIHvE4D/getting-started) on our [prismic.io developer's portal](https://developers.prismic.io/).\n\n#### Get started using the kit\n\nAlso on our [prismic.io developer's portal](https://developers.prismic.io/), on top of our full documentation, you will:\n * get a thorough introduction of [how to use prismic.io kits](https://developers.prismic.io/documentation/UjBe8bGIJ3EKtgBZ/api-documentation#kits-and-helpers), including this one.\n * see [what else is available for Python](https://developers.prismic.io/technologies/UjBh78uvzeMJvE4o/python): starter projects, examples, ...\n\n\n#### Kit's detailed documentation\n\nYou can find the documentation of the Python kit right here: http://prismic.readthedocs.org/en/latest/\n\nHere is a basic example of use:\n(You can directly run it in a IPython console or in an async Python console: `python -m asyncio`)\n```python\n>>> import prismic\n>>> async with prismic.get(\"http://your-repo.prismic.io/api\", \"access_token\") as api:\n...     doc = await api.get_by_uid(\"speculoos-macaron\")\n>>> doc.get_text(\"product.name\")\nu'Speculoos Macaron'\n```\n\n#### Using Memcached (or any other cache)\n\nBy default, the kit will use a basic [in-memory cache](https://github.com/argaen/aiocache).\n\nFor use of more advanced caches (Redis, memcached), see [aiocache](https://github.com/argaen/aiocache)\n\nFor caching the requests in memory:\n\n```python\n>>> from aiocache import Cache\n>>> async with prismic.get(\"http://your-rep.prismic.io/api\", \"access_token\", Cache(Cache.MEMORY)) as api:\n...     [...]\n```\n\nNote: The official asyncio library currently provides no support of [files I/O](https://github.com/python/asyncio/wiki/ThirdParty#filesystem)\nthe ShelveCache object might be introduced again in the future using [aiofiles](https://github.com/Tinche/aiofiles/) if I get time.\n\n#### Using a Custom Request Handler\n\nBy default, the kit will use an httpx client [httpx](https://www.python-httpx.org/). \nYou can override the client parameters in this way:\n```python\n>>> import prismic\n...\n>>> headers = {'X-Auth': 'from-client'}\n>>> params = {'client_id': 'client1'}\n>>> client_kwargs = {headers:headers, params:params}\n...\n>>> async with prismic.get(\"http://your-repo.prismic.io/api\", \"access_token\", **client_kwargs) as api:\n...     doc = await api.get_by_uid(\"speculoos-macaron\")\n>>> doc.get_text(\"product.name\")\nu'Speculoos Macaron'\n```\n\nYou can also monkey patch the client itself with your own in such a way:\n\n```python\n>>> import prismic\n>>> import httpx\n>>> headers = {'X-Auth': 'from-client'}\n>>> params = {'client_id': 'client1'}\n>>> with httpx.AsyncClient(headers=headers, params=params) as client:\n...    api = prismic.get_with_client(\"http://your-rep.prismic.io/api\", \"access_token\", client=client)\n...    [...]\n```\n\n### Changelog\n\nNeed to see what changed, or to upgrade your kit? We keep our changelog on [this repository's \"Releases\" tab](https://github.com/remidebette/prismic-httpx/releases).\n\n### Contribute to the kit\n\nContribution is open to all developer levels\n\n#### Install the kit locally\n\nThis kit gets installed like any Python library.\n\n#### Test\n\nPlease write tests for any bugfix or new feature.\n\nIf you find existing code that is not optimally tested and wish to make it better, we really appreciate it; but you should document it on its own branch and its own pull request.\n\nYou can launch tests using: `pytest test`.\n\n#### Documentation\n\nPlease document any bugfix or new feature.\n\nIf you find existing code that is not optimally documented and wish to make it better, we really appreciate it; but you should document it on its own branch and its own pull request.\n\n### Licence\n\nThis software is licensed under the Apache 2 license, quoted below.\n\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use this project except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n\nUnless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/remidebette/prismic-httpx", "keywords": "", "license": "Apache 2", "maintainer": "", "maintainer_email": "", "name": "prismic-httpx", "package_url": "https://pypi.org/project/prismic-httpx/", "platform": "", "project_url": "https://pypi.org/project/prismic-httpx/", "project_urls": {"Homepage": "https://github.com/remidebette/prismic-httpx"}, "release_url": "https://pypi.org/project/prismic-httpx/0.0.2/", "requires_dist": null, "requires_python": ">=3.6", "summary": "Asyncio fork of the Python client for prismic.io", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h2>Asyncio alternative of the Python client for prismic.io</h2>\n<p><a href=\"https://pypi.org/project/prismic-httpx/\" rel=\"nofollow\"><img alt=\"Latest Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/73f322e45da158708dff80468f8d1785770b5fff/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f707269736d69632d68747470782e737667\"></a>\n<a href=\"https://travis-ci.org/remidebette/prismic-httpx\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a63e2fdfaeea47ac463865ec7afb6410b2d01ba2/68747470733a2f2f6170692e7472617669732d63692e6f72672f72656d69646562657474652f707269736d69632d68747470782e706e67\"></a></p>\n<p>Disclaimer: I am not affiliated with the Prismic team and do not provide professional support.</p>\n<p>The <a href=\"https://docs.python.org/3/library/asyncio.html\" rel=\"nofollow\">Async</a> paradigm and the async/await syntax\n(introduced in version 3.5) are Python code styles that can be used to write concurrent coroutines.\nThe support for this code style is still sparse in the Python community's libraries.</p>\n<p>You may find that the existing <a href=\"https://github.com/prismicio/python-kit\" rel=\"nofollow\">Prismic Python SDK</a>,\nbased on the <a href=\"https://requests-fr.readthedocs.io/en/latest/\" rel=\"nofollow\">requests</a> library cannot be used with the async/await\nsyntax.\nHence its architecture is not optimal for use with natively async webservers like\n<a href=\"https://sanic.readthedocs.io/en/latest/\" rel=\"nofollow\">sanic</a> or tornado.</p>\n<p>The emerging standard HTTP client for the Python asyncio community is <a href=\"https://www.python-httpx.org/\" rel=\"nofollow\">httpx</a>,\nwhich the current package uses.</p>\n<h3>Getting started</h3>\n<h4>Install the kit for your project</h4>\n<p>Simply run:</p>\n<pre><code>pip install prismic-httpx\n</code></pre>\n<h4>Get started with prismic.io</h4>\n<p>You can find out <a href=\"https://developers.prismic.io/documentation/UjBaQsuvzdIHvE4D/getting-started\" rel=\"nofollow\">how to get started with prismic.io</a> on our <a href=\"https://developers.prismic.io/\" rel=\"nofollow\">prismic.io developer's portal</a>.</p>\n<h4>Get started using the kit</h4>\n<p>Also on our <a href=\"https://developers.prismic.io/\" rel=\"nofollow\">prismic.io developer's portal</a>, on top of our full documentation, you will:</p>\n<ul>\n<li>get a thorough introduction of <a href=\"https://developers.prismic.io/documentation/UjBe8bGIJ3EKtgBZ/api-documentation#kits-and-helpers\" rel=\"nofollow\">how to use prismic.io kits</a>, including this one.</li>\n<li>see <a href=\"https://developers.prismic.io/technologies/UjBh78uvzeMJvE4o/python\" rel=\"nofollow\">what else is available for Python</a>: starter projects, examples, ...</li>\n</ul>\n<h4>Kit's detailed documentation</h4>\n<p>You can find the documentation of the Python kit right here: <a href=\"http://prismic.readthedocs.org/en/latest/\" rel=\"nofollow\">http://prismic.readthedocs.org/en/latest/</a></p>\n<p>Here is a basic example of use:\n(You can directly run it in a IPython console or in an async Python console: <code>python -m asyncio</code>)</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">import</span> <span class=\"nn\">prismic</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">prismic</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"http://your-repo.prismic.io/api\"</span><span class=\"p\">,</span> <span class=\"s2\">\"access_token\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">api</span><span class=\"p\">:</span>\n<span class=\"o\">...</span>     <span class=\"n\">doc</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">api</span><span class=\"o\">.</span><span class=\"n\">get_by_uid</span><span class=\"p\">(</span><span class=\"s2\">\"speculoos-macaron\"</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">doc</span><span class=\"o\">.</span><span class=\"n\">get_text</span><span class=\"p\">(</span><span class=\"s2\">\"product.name\"</span><span class=\"p\">)</span>\n<span class=\"sa\">u</span><span class=\"s1\">'Speculoos Macaron'</span>\n</pre>\n<h4>Using Memcached (or any other cache)</h4>\n<p>By default, the kit will use a basic <a href=\"https://github.com/argaen/aiocache\" rel=\"nofollow\">in-memory cache</a>.</p>\n<p>For use of more advanced caches (Redis, memcached), see <a href=\"https://github.com/argaen/aiocache\" rel=\"nofollow\">aiocache</a></p>\n<p>For caching the requests in memory:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">aiocache</span> <span class=\"kn\">import</span> <span class=\"n\">Cache</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">prismic</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"http://your-rep.prismic.io/api\"</span><span class=\"p\">,</span> <span class=\"s2\">\"access_token\"</span><span class=\"p\">,</span> <span class=\"n\">Cache</span><span class=\"p\">(</span><span class=\"n\">Cache</span><span class=\"o\">.</span><span class=\"n\">MEMORY</span><span class=\"p\">))</span> <span class=\"k\">as</span> <span class=\"n\">api</span><span class=\"p\">:</span>\n<span class=\"o\">...</span>     <span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">]</span>\n</pre>\n<p>Note: The official asyncio library currently provides no support of <a href=\"https://github.com/python/asyncio/wiki/ThirdParty#filesystem\" rel=\"nofollow\">files I/O</a>\nthe ShelveCache object might be introduced again in the future using <a href=\"https://github.com/Tinche/aiofiles/\" rel=\"nofollow\">aiofiles</a> if I get time.</p>\n<h4>Using a Custom Request Handler</h4>\n<p>By default, the kit will use an httpx client <a href=\"https://www.python-httpx.org/\" rel=\"nofollow\">httpx</a>.\nYou can override the client parameters in this way:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">import</span> <span class=\"nn\">prismic</span>\n<span class=\"o\">...</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">headers</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'X-Auth'</span><span class=\"p\">:</span> <span class=\"s1\">'from-client'</span><span class=\"p\">}</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">params</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'client_id'</span><span class=\"p\">:</span> <span class=\"s1\">'client1'</span><span class=\"p\">}</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">client_kwargs</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"n\">headers</span><span class=\"p\">:</span><span class=\"n\">headers</span><span class=\"p\">,</span> <span class=\"n\">params</span><span class=\"p\">:</span><span class=\"n\">params</span><span class=\"p\">}</span>\n<span class=\"o\">...</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">prismic</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"http://your-repo.prismic.io/api\"</span><span class=\"p\">,</span> <span class=\"s2\">\"access_token\"</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">client_kwargs</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">api</span><span class=\"p\">:</span>\n<span class=\"o\">...</span>     <span class=\"n\">doc</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">api</span><span class=\"o\">.</span><span class=\"n\">get_by_uid</span><span class=\"p\">(</span><span class=\"s2\">\"speculoos-macaron\"</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">doc</span><span class=\"o\">.</span><span class=\"n\">get_text</span><span class=\"p\">(</span><span class=\"s2\">\"product.name\"</span><span class=\"p\">)</span>\n<span class=\"sa\">u</span><span class=\"s1\">'Speculoos Macaron'</span>\n</pre>\n<p>You can also monkey patch the client itself with your own in such a way:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">import</span> <span class=\"nn\">prismic</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">import</span> <span class=\"nn\">httpx</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">headers</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'X-Auth'</span><span class=\"p\">:</span> <span class=\"s1\">'from-client'</span><span class=\"p\">}</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">params</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'client_id'</span><span class=\"p\">:</span> <span class=\"s1\">'client1'</span><span class=\"p\">}</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"k\">with</span> <span class=\"n\">httpx</span><span class=\"o\">.</span><span class=\"n\">AsyncClient</span><span class=\"p\">(</span><span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">headers</span><span class=\"p\">,</span> <span class=\"n\">params</span><span class=\"o\">=</span><span class=\"n\">params</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">client</span><span class=\"p\">:</span>\n<span class=\"o\">...</span>    <span class=\"n\">api</span> <span class=\"o\">=</span> <span class=\"n\">prismic</span><span class=\"o\">.</span><span class=\"n\">get_with_client</span><span class=\"p\">(</span><span class=\"s2\">\"http://your-rep.prismic.io/api\"</span><span class=\"p\">,</span> <span class=\"s2\">\"access_token\"</span><span class=\"p\">,</span> <span class=\"n\">client</span><span class=\"o\">=</span><span class=\"n\">client</span><span class=\"p\">)</span>\n<span class=\"o\">...</span>    <span class=\"p\">[</span><span class=\"o\">...</span><span class=\"p\">]</span>\n</pre>\n<h3>Changelog</h3>\n<p>Need to see what changed, or to upgrade your kit? We keep our changelog on <a href=\"https://github.com/remidebette/prismic-httpx/releases\" rel=\"nofollow\">this repository's \"Releases\" tab</a>.</p>\n<h3>Contribute to the kit</h3>\n<p>Contribution is open to all developer levels</p>\n<h4>Install the kit locally</h4>\n<p>This kit gets installed like any Python library.</p>\n<h4>Test</h4>\n<p>Please write tests for any bugfix or new feature.</p>\n<p>If you find existing code that is not optimally tested and wish to make it better, we really appreciate it; but you should document it on its own branch and its own pull request.</p>\n<p>You can launch tests using: <code>pytest test</code>.</p>\n<h4>Documentation</h4>\n<p>Please document any bugfix or new feature.</p>\n<p>If you find existing code that is not optimally documented and wish to make it better, we really appreciate it; but you should document it on its own branch and its own pull request.</p>\n<h3>Licence</h3>\n<p>This software is licensed under the Apache 2 license, quoted below.</p>\n<p>Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this project except in compliance with the License. You may obtain a copy of the License at <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" rel=\"nofollow\">http://www.apache.org/licenses/LICENSE-2.0</a>.</p>\n<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>\n\n          </div>"}, "last_serial": 7011275, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "1c2860336667acf87f294805971acc01", "sha256": "92e9a62f3b4f7a90d5a6fe4626eafd360c2940e42567dd8ac5f017b7bc5ddacb"}, "downloads": -1, "filename": "prismic-httpx-0.0.1.tar.gz", "has_sig": false, "md5_digest": "1c2860336667acf87f294805971acc01", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 32412, "upload_time": "2020-04-13T12:48:40", "upload_time_iso_8601": "2020-04-13T12:48:40.165043Z", "url": "https://files.pythonhosted.org/packages/ef/d7/3346e6fec8e48e323dea155a8587904682e13baed3f68aeadcebef38c607/prismic-httpx-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "a51f776a02ecc2ab26251e826339c8ae", "sha256": "5cd951840f2bcbd5966af7e658bdba9d35799ffee5764f9acfb7ddeda56d5739"}, "downloads": -1, "filename": "prismic-httpx-0.0.2.tar.gz", "has_sig": false, "md5_digest": "a51f776a02ecc2ab26251e826339c8ae", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 32374, "upload_time": "2020-04-13T17:09:42", "upload_time_iso_8601": "2020-04-13T17:09:42.351705Z", "url": "https://files.pythonhosted.org/packages/65/26/7e8fe0366069057318acec5bd30d829b337c15b5d0b07ff3c28d908ab416/prismic-httpx-0.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a51f776a02ecc2ab26251e826339c8ae", "sha256": "5cd951840f2bcbd5966af7e658bdba9d35799ffee5764f9acfb7ddeda56d5739"}, "downloads": -1, "filename": "prismic-httpx-0.0.2.tar.gz", "has_sig": false, "md5_digest": "a51f776a02ecc2ab26251e826339c8ae", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 32374, "upload_time": "2020-04-13T17:09:42", "upload_time_iso_8601": "2020-04-13T17:09:42.351705Z", "url": "https://files.pythonhosted.org/packages/65/26/7e8fe0366069057318acec5bd30d829b337c15b5d0b07ff3c28d908ab416/prismic-httpx-0.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:19:13 2020"}
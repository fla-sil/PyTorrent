{"info": {"author": "Alexandru Stanciu", "author_email": "alexandru.stanciu@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "=======\r\nSummary\r\n=======\r\n\r\nCurrent release: v0.2 - see CHANGES.txt for details.\r\n\r\nSimple usage\r\n------------\r\n\r\nWorking with the ``summary`` package::\r\n\r\n    >>> import summary\r\n    >>> s = summary.Summary('https://github.com/svven/summary')\r\n    >>> s.extract()\r\n    >>> s.title\r\n    u'svven/summary'\r\n    >>> s.image\r\n    https://avatars0.githubusercontent.com/u/7524085?s=400\r\n    >>> s.description\r\n    u'summary - Summary is a complete solution to extract the title, image and description from any URL.'\r\n\r\nBatch usage with HTML rendering\r\n-------------------------------\r\n\r\nIf you fork or clone the repo you can use summarize.py like this::\r\n\r\n    >>> import summary\r\n    >>> summary.GET_ALL_DATA = True # default is False\r\n    >>> urls = [\r\n            'http://www.wired.com/',\r\n            'http://www.nytimes.com/', \r\n            'http://www.technologyreview.com/lists/technologies/2014/'\r\n        ]\r\n    >>> from summarize import summarize, render\r\n    >>> summaries, result, speed = summarize(urls)\r\n    -> http://www.wired.com/\r\n    [BadImage] RatioImageException(398, 82): http://www.wired.com/wp-content/vendor/condenast/pangea/themes/wired/assets/images/wired_logo.gif\r\n    -> http://www.nytimes.com/\r\n    [BadImage] AdblockURLFilter: http://graphics8.nytimes.com/adx/images/ADS/37/33/ad.373366/bar1-3panel-nyt.png\r\n    [BadImage] AdblockURLFilter: http://graphics8.nytimes.com/adx/images/ADS/37/33/ad.373366/bar1-3panel-nytcom.png\r\n    [BadImage] AdblockURLFilter: http://graphics8.nytimes.com/adx/images/ADS/37/33/ad.373366/bar1-4panel-opinion.png\r\n    [BadImage] AdblockURLFilter: http://graphics8.nytimes.com/adx/images/ADS/37/51/ad.375173/CRS-1572_nytpinion_EARS_L_184x90_CP2.gif\r\n    [BadImage] AdblockURLFilter: http://graphics8.nytimes.com/adx/images/ADS/37/51/ad.375174/CRS-1572_nytpinion_EARS_R_184x90_ER1.gif\r\n    [BadImage] RatioImageException(379, 64): http://i1.nyt.com/images/misc/nytlogo379x64.gif\r\n    [BadImage] TinyImageException(16, 16): http://graphics8.nytimes.com/images/article/functions/facebook.gif\r\n    [BadImage] TinyImageException(16, 16): http://graphics8.nytimes.com/images/article/functions/twitter.gif-> http://www.technologyreview.com/lists/technologies/2014/\r\n    Success: 3.\r\n    >>> html = render(template=\"news.html\",\r\n        summaries=summaries, result=result, speed=speed)\r\n    >>> with open('demo.html', 'w') as file:\r\n    ...   file.write(html)\r\n    >>> \r\n\r\nIn a nutshell\r\n-------------\r\n\r\nSummary requests the page from the URL, then uses\r\n`extraction <https://github.com/lethain/extraction>`__ to parse the\r\nHTML. \r\n\r\nWorth mentioning that it downloads the head tag first, performs\r\nspecific extraction techniques, and goes further to body only if\r\nextracted data is not complete. Unless ``summary.GET_ALL_DATA = True``.\r\n\r\nThe resulting lists of titles, images, and descriptions are filtered on\r\nthe fly to rule out unwanted items like ads, tiny images (tracking\r\nimages or sharing buttons), and plain white images. See the whole list\r\nof filters below.\r\n\r\nMany thanks to Will Larson (`@lethain <https://github.com/lethain>`__)\r\nfor adapting his `extraction <https://github.com/lethain/extraction>`__\r\nlibrary to version 0.2 to accomodate summary.\r\n\r\nRendering\r\n---------\r\n\r\nThe purpose of the HTML rendering mechanism is just to visualize\r\nextracted data. \r\nThe included Jinja2 template (news.html) is built on top of bootstrap and displays the summaries in a nice responsive grid layout.\r\n\r\nYou can completely disregard the rendering mechanism and just\r\nimport summary module for data extraction and filtering. You probably\r\nhave your own means to render the data, so you only need the summary\r\nfolder.\r\n\r\n|image|\r\n\r\n![news.html\r\npreview](\\ https://dl.dropboxusercontent.com/u/134594/Svven/news.png)\r\n\r\nThis is the output having ``summary.GET_ALL_DATA = True``.\r\n\r\n**Clicking the summary title, image and description cycles through the\r\nmultiple extracted values.**\r\n\r\n<https://dl.dropboxusercontent.com/u/134594/svven/news.html>\r\n\r\n\r\n\r\nAnd this one produced much faster (see footer) with\r\n``summary.GET_ALL_DATA = False``. It contains only the first valid item\r\nof each kind - title, image, and description. This is the default\r\nbehaviour. \r\n\r\n<https://dl.dropboxusercontent.com/u/134594/svven/fast.html>\r\n\r\nInstallation\r\n------------\r\nPip it for simple usage::\r\n\r\n    $ pip install summary-extraction\r\n\r\n\r\nOr clone the repo if you need rendering::\r\n\r\n    $ virtualenv env \r\n    $ source env/bin/activate\r\n    $ git clone https://github.com/svven/summary.git \r\n    $ pip install -r summary/requirements.txt \r\n\r\n    $ cd summary\r\n    $ python # see the usage instructions above\r\n\r\nRequirements\r\n------------\r\nBase required packages are ``extraction`` and ``requests``, but it doesn't do much withouth ``adblockparser`` and ``Pillow``::\r\n\r\n    Jinja2==2.7.2 # only for rendering \r\n    Pillow==2.4.0\r\n    adblockparser==0.2\r\n    extraction==0.2 \r\n    lxml==3.3.5 \r\n    re2==0.2.20 # good for adblockparser\r\n    requests==2.2.1\r\n    w3lib==1.6\r\n\r\nFilters\r\n-------\r\n\r\nFilters are *callable* classes that perform specific data checks.\r\n\r\nFor the moment there are only image filters. The image URL is passed as\r\ninput parameter to the first filter. The check is performed and the URL\r\nis returned if it is valid, so it is passed to the second filter and so\r\non. When the check fails it returns ``None``.\r\n\r\nThis pattern makes it possible to write the filtering routine like this::\r\n\r\n    def _filter_image(self, url):\r\n      \"The param is the image URL, which is returned if it passes *all* the filters.\"\r\n      return reduce(lambda f, g: f and g(f), \r\n        [\r\n          filters.AdblockURLFilter()(url),\r\n          filters.NoImageFilter(),\r\n          filters.SizeImageFilter(),\r\n          filters.MonoImageFilter(),\r\n          filters.FormatImageFilter(),\r\n        ])\r\n\r\n    images = filter(None, map(self._filter_image, image_urls))\r\n\r\n- **AdblockURLFilter**\r\n\r\n   Uses `adblockparser <https://github.com/scrapinghub/adblockparser>`__\r\n   and returns ``None`` if it ``should_block`` the URL. \r\n   \r\n   Hats off to Mikhail Korobov (`@kmike <https://github.com/kmike>`__) for the\r\n   awesome work. It gives a lot of value to this mashup repo.\r\n\r\n- **NoImageFilter**\r\n\r\n   Retrieves actual image file, and returns ``None`` if it fails. \r\n   \r\n   Otherwise it returns an instance of the ``filters.Image`` class\r\n   containing the URL, together with the size and format of the actual\r\n   image. Basically it hydrates this instance which is passed to\r\n   following filters. \r\n   The ``Image.__repr__`` override returns just\r\n   the URL so we can write the beautiful filtering routine you can see\r\n   above.\r\n\r\n   Worth mentioning again that it only gets first few chunks of the\r\n   image file until the PIL parser gets the size and format of the\r\n   image.\r\n\r\n- **SizeImageFilter**\r\n\r\n   Checks the ``filters.Image`` instance to have proper size. \r\n   \r\n   This can raise following exceptions based on defined limits:\r\n   ``TinyImageException``, ``HugeImageException``, or\r\n   ``RatioImageException``. If any of these happens it returns ``None``.\r\n\r\n- **MonoImageFilter**\r\n\r\n   Checks whether the image is plain white and returns ``None``. \r\n   \r\n   This filter retrieves the whole image file so it has an extra regex\r\n   check before. E.g.: rules out these URLs: \r\n   \r\n   - http://wordpress.com/i/blank.jpg?m=1383295312g \r\n   - http://images.inc.com/leftnavmenu/inc-logo-white.png\r\n\r\n- **FormatImageFilter**\r\n\r\n   Rules out animated gif images for the moment. \r\n   This can be extended to exclude other image formats based on file contents.\r\n\r\n\r\nThat's it for now. You're very welcome to contribute. \r\n\r\nComments and suggestions are welcome as well. Cheers, `@ducu <http://twitter.com/ducu>`__\r\n\r\n\r\n.. |image| image:: https://dl.dropboxusercontent.com/u/134594/Svven/news.png", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/svven/summary", "keywords": "", "license": "LICENSE.txt", "maintainer": "", "maintainer_email": "", "name": "summary-extraction", "package_url": "https://pypi.org/project/summary-extraction/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/summary-extraction/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/svven/summary"}, "release_url": "https://pypi.org/project/summary-extraction/0.2/", "requires_dist": null, "requires_python": null, "summary": "Extract the title, image and description from any URL.", "version": "0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Current release: v0.2 - see CHANGES.txt for details.</p>\n<div id=\"simple-usage\">\n<h2>Simple usage</h2>\n<p>Working with the <tt>summary</tt> package:</p>\n<pre>&gt;&gt;&gt; import summary\n&gt;&gt;&gt; s = summary.Summary('https://github.com/svven/summary')\n&gt;&gt;&gt; s.extract()\n&gt;&gt;&gt; s.title\nu'svven/summary'\n&gt;&gt;&gt; s.image\nhttps://avatars0.githubusercontent.com/u/7524085?s=400\n&gt;&gt;&gt; s.description\nu'summary - Summary is a complete solution to extract the title, image and description from any URL.'\n</pre>\n</div>\n<div id=\"batch-usage-with-html-rendering\">\n<h2>Batch usage with HTML rendering</h2>\n<p>If you fork or clone the repo you can use summarize.py like this:</p>\n<pre>&gt;&gt;&gt; import summary\n&gt;&gt;&gt; summary.GET_ALL_DATA = True # default is False\n&gt;&gt;&gt; urls = [\n        'http://www.wired.com/',\n        'http://www.nytimes.com/',\n        'http://www.technologyreview.com/lists/technologies/2014/'\n    ]\n&gt;&gt;&gt; from summarize import summarize, render\n&gt;&gt;&gt; summaries, result, speed = summarize(urls)\n-&gt; http://www.wired.com/\n[BadImage] RatioImageException(398, 82): http://www.wired.com/wp-content/vendor/condenast/pangea/themes/wired/assets/images/wired_logo.gif\n-&gt; http://www.nytimes.com/\n[BadImage] AdblockURLFilter: http://graphics8.nytimes.com/adx/images/ADS/37/33/ad.373366/bar1-3panel-nyt.png\n[BadImage] AdblockURLFilter: http://graphics8.nytimes.com/adx/images/ADS/37/33/ad.373366/bar1-3panel-nytcom.png\n[BadImage] AdblockURLFilter: http://graphics8.nytimes.com/adx/images/ADS/37/33/ad.373366/bar1-4panel-opinion.png\n[BadImage] AdblockURLFilter: http://graphics8.nytimes.com/adx/images/ADS/37/51/ad.375173/CRS-1572_nytpinion_EARS_L_184x90_CP2.gif\n[BadImage] AdblockURLFilter: http://graphics8.nytimes.com/adx/images/ADS/37/51/ad.375174/CRS-1572_nytpinion_EARS_R_184x90_ER1.gif\n[BadImage] RatioImageException(379, 64): http://i1.nyt.com/images/misc/nytlogo379x64.gif\n[BadImage] TinyImageException(16, 16): http://graphics8.nytimes.com/images/article/functions/facebook.gif\n[BadImage] TinyImageException(16, 16): http://graphics8.nytimes.com/images/article/functions/twitter.gif-&gt; http://www.technologyreview.com/lists/technologies/2014/\nSuccess: 3.\n&gt;&gt;&gt; html = render(template=\"news.html\",\n    summaries=summaries, result=result, speed=speed)\n&gt;&gt;&gt; with open('demo.html', 'w') as file:\n...   file.write(html)\n&gt;&gt;&gt;\n</pre>\n</div>\n<div id=\"in-a-nutshell\">\n<h2>In a nutshell</h2>\n<p>Summary requests the page from the URL, then uses\n<a href=\"https://github.com/lethain/extraction\" rel=\"nofollow\">extraction</a> to parse the\nHTML.</p>\n<p>Worth mentioning that it downloads the head tag first, performs\nspecific extraction techniques, and goes further to body only if\nextracted data is not complete. Unless <tt>summary.GET_ALL_DATA = True</tt>.</p>\n<p>The resulting lists of titles, images, and descriptions are filtered on\nthe fly to rule out unwanted items like ads, tiny images (tracking\nimages or sharing buttons), and plain white images. See the whole list\nof filters below.</p>\n<p>Many thanks to Will Larson (<a href=\"https://github.com/lethain\" rel=\"nofollow\">@lethain</a>)\nfor adapting his <a href=\"https://github.com/lethain/extraction\" rel=\"nofollow\">extraction</a>\nlibrary to version 0.2 to accomodate summary.</p>\n</div>\n<div id=\"rendering\">\n<h2>Rendering</h2>\n<p>The purpose of the HTML rendering mechanism is just to visualize\nextracted data.\nThe included Jinja2 template (news.html) is built on top of bootstrap and displays the summaries in a nice responsive grid layout.</p>\n<p>You can completely disregard the rendering mechanism and just\nimport summary module for data extraction and filtering. You probably\nhave your own means to render the data, so you only need the summary\nfolder.</p>\n<p><img alt=\"image\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8571b01eb36b53c41c02729fa5f410583f1bcba3/68747470733a2f2f646c2e64726f70626f7875736572636f6e74656e742e636f6d2f752f3133343539342f537676656e2f6e6577732e706e67\"></p>\n<p>![news.html\npreview](<a href=\"https://dl.dropboxusercontent.com/u/134594/Svven/news.png\" rel=\"nofollow\">https://dl.dropboxusercontent.com/u/134594/Svven/news.png</a>)</p>\n<p>This is the output having <tt>summary.GET_ALL_DATA = True</tt>.</p>\n<p><strong>Clicking the summary title, image and description cycles through the\nmultiple extracted values.</strong></p>\n<p>&lt;<a href=\"https://dl.dropboxusercontent.com/u/134594/svven/news.html\" rel=\"nofollow\">https://dl.dropboxusercontent.com/u/134594/svven/news.html</a>&gt;</p>\n<p>And this one produced much faster (see footer) with\n<tt>summary.GET_ALL_DATA = False</tt>. It contains only the first valid item\nof each kind - title, image, and description. This is the default\nbehaviour.</p>\n<p>&lt;<a href=\"https://dl.dropboxusercontent.com/u/134594/svven/fast.html\" rel=\"nofollow\">https://dl.dropboxusercontent.com/u/134594/svven/fast.html</a>&gt;</p>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>Pip it for simple usage:</p>\n<pre>$ pip install summary-extraction\n</pre>\n<p>Or clone the repo if you need rendering:</p>\n<pre>$ virtualenv env\n$ source env/bin/activate\n$ git clone https://github.com/svven/summary.git\n$ pip install -r summary/requirements.txt\n\n$ cd summary\n$ python # see the usage instructions above\n</pre>\n</div>\n<div id=\"requirements\">\n<h2>Requirements</h2>\n<p>Base required packages are <tt>extraction</tt> and <tt>requests</tt>, but it doesn\u2019t do much withouth <tt>adblockparser</tt> and <tt>Pillow</tt>:</p>\n<pre>Jinja2==2.7.2 # only for rendering\nPillow==2.4.0\nadblockparser==0.2\nextraction==0.2\nlxml==3.3.5\nre2==0.2.20 # good for adblockparser\nrequests==2.2.1\nw3lib==1.6\n</pre>\n</div>\n<div id=\"filters\">\n<h2>Filters</h2>\n<p>Filters are <em>callable</em> classes that perform specific data checks.</p>\n<p>For the moment there are only image filters. The image URL is passed as\ninput parameter to the first filter. The check is performed and the URL\nis returned if it is valid, so it is passed to the second filter and so\non. When the check fails it returns <tt>None</tt>.</p>\n<p>This pattern makes it possible to write the filtering routine like this:</p>\n<pre>def _filter_image(self, url):\n  \"The param is the image URL, which is returned if it passes *all* the filters.\"\n  return reduce(lambda f, g: f and g(f),\n    [\n      filters.AdblockURLFilter()(url),\n      filters.NoImageFilter(),\n      filters.SizeImageFilter(),\n      filters.MonoImageFilter(),\n      filters.FormatImageFilter(),\n    ])\n\nimages = filter(None, map(self._filter_image, image_urls))\n</pre>\n<ul>\n<li><p><strong>AdblockURLFilter</strong></p>\n<blockquote>\n<p>Uses <a href=\"https://github.com/scrapinghub/adblockparser\" rel=\"nofollow\">adblockparser</a>\nand returns <tt>None</tt> if it <tt>should_block</tt> the URL.</p>\n<p>Hats off to Mikhail Korobov (<a href=\"https://github.com/kmike\" rel=\"nofollow\">@kmike</a>) for the\nawesome work. It gives a lot of value to this mashup repo.</p>\n</blockquote>\n</li>\n<li><p><strong>NoImageFilter</strong></p>\n<blockquote>\n<p>Retrieves actual image file, and returns <tt>None</tt> if it fails.</p>\n<p>Otherwise it returns an instance of the <tt>filters.Image</tt> class\ncontaining the URL, together with the size and format of the actual\nimage. Basically it hydrates this instance which is passed to\nfollowing filters.\nThe <tt>Image.__repr__</tt> override returns just\nthe URL so we can write the beautiful filtering routine you can see\nabove.</p>\n<p>Worth mentioning again that it only gets first few chunks of the\nimage file until the PIL parser gets the size and format of the\nimage.</p>\n</blockquote>\n</li>\n<li><p><strong>SizeImageFilter</strong></p>\n<blockquote>\n<p>Checks the <tt>filters.Image</tt> instance to have proper size.</p>\n<p>This can raise following exceptions based on defined limits:\n<tt>TinyImageException</tt>, <tt>HugeImageException</tt>, or\n<tt>RatioImageException</tt>. If any of these happens it returns <tt>None</tt>.</p>\n</blockquote>\n</li>\n<li><p><strong>MonoImageFilter</strong></p>\n<blockquote>\n<p>Checks whether the image is plain white and returns <tt>None</tt>.</p>\n<p>This filter retrieves the whole image file so it has an extra regex\ncheck before. E.g.: rules out these URLs:</p>\n<ul>\n<li><a href=\"http://wordpress.com/i/blank.jpg?m=1383295312g\" rel=\"nofollow\">http://wordpress.com/i/blank.jpg?m=1383295312g</a></li>\n<li><a href=\"http://images.inc.com/leftnavmenu/inc-logo-white.png\" rel=\"nofollow\">http://images.inc.com/leftnavmenu/inc-logo-white.png</a></li>\n</ul>\n</blockquote>\n</li>\n<li><p><strong>FormatImageFilter</strong></p>\n<blockquote>\n<p>Rules out animated gif images for the moment.\nThis can be extended to exclude other image formats based on file contents.</p>\n</blockquote>\n</li>\n</ul>\n<p>That\u2019s it for now. You\u2019re very welcome to contribute.</p>\n<p>Comments and suggestions are welcome as well. Cheers, <a href=\"http://twitter.com/ducu\" rel=\"nofollow\">@ducu</a></p>\n</div>\n\n          </div>"}, "last_serial": 1216077, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "89065165947e801905613d76c8519843", "sha256": "5c26a1a7b7d8313d232a6c98ae18f23f9cfec1de1f42190c30c61b072a663529"}, "downloads": -1, "filename": "summary-extraction-0.1.tar.gz", "has_sig": false, "md5_digest": "89065165947e801905613d76c8519843", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10447, "upload_time": "2014-06-08T17:01:49", "upload_time_iso_8601": "2014-06-08T17:01:49.085579Z", "url": "https://files.pythonhosted.org/packages/04/7e/96825cfcfc14b3db339fcfb65ed459d038cdee4416601c1bd795c4f1d98c/summary-extraction-0.1.tar.gz", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "4270de39cd97426ce942048d71966752", "sha256": "1fd0c6f74a24e4dbb59818688ef773ad6531ffd27230f136737e35ca618a621a"}, "downloads": -1, "filename": "summary-extraction-0.2.tar.gz", "has_sig": false, "md5_digest": "4270de39cd97426ce942048d71966752", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16412, "upload_time": "2014-09-07T14:33:32", "upload_time_iso_8601": "2014-09-07T14:33:32.458618Z", "url": "https://files.pythonhosted.org/packages/83/41/2ae0801ed23f4c4c3376a02b4a4e900abb6d7604610588b9b2a49f851ac1/summary-extraction-0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "4270de39cd97426ce942048d71966752", "sha256": "1fd0c6f74a24e4dbb59818688ef773ad6531ffd27230f136737e35ca618a621a"}, "downloads": -1, "filename": "summary-extraction-0.2.tar.gz", "has_sig": false, "md5_digest": "4270de39cd97426ce942048d71966752", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16412, "upload_time": "2014-09-07T14:33:32", "upload_time_iso_8601": "2014-09-07T14:33:32.458618Z", "url": "https://files.pythonhosted.org/packages/83/41/2ae0801ed23f4c4c3376a02b4a4e900abb6d7604610588b9b2a49f851ac1/summary-extraction-0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:00:26 2020"}
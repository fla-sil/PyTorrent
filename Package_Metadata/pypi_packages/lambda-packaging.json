{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": [], "description": "# Overview\n\nPulumi-based python solution for Packaging an AWS Lambda and its Layer.\n\n## Directory Structure\n```\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 example\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Pulumi.dev.yaml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Pulumi.yaml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __main__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 requirements.txt\n\u251c\u2500\u2500 lambda_packaging\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 components.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pip_requirements.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 utils.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 zip_package.py\n\u251c\u2500\u2500 requirements.txt\n\u251c\u2500\u2500 setup.cfg\n\u251c\u2500\u2500 setup.py\n\u2514\u2500\u2500 tests\n```\n\n## Installation\n```\n$ pip install lambda-packaging\n```\n## Quick Start\n\n### LambdaPackaging\nCreates a zip package of project files and install dependencies from requirements.txt.\n\nUse \"dockerize=True\" to pip install requirements using lambda environment docker image.\n\nUse \"layer=True\" to package dependencies and code seperately.\n\nExample: \n\n```python\n\n...\n\n...\n\n\nlambda_package = LambdaPackage(\n    name='example-test',\n    no_deploy=['pulumi', 'pulumi_aws', 'pulumi_docker'],\n    exclude=['__main__.py']\n)\n\n\n\n\n# Create Lambda function\nfunction = lambda_.Function(\n    resource_name='function',\n    role=role.arn,\n    runtime='python3.6',\n    description=f'Lambda function running the f`{pulumi.get_project()}` ({pulumi.get_stack()}) project',\n    handler='handler.lambda_handler',\n    code=lambda_package.package_archive\n)\n\n# path of package archive and dependencies package\n# containing installed requirements\npulumi.export(\"package_archive_path\", lambda_package.package_archive)\npulumi.export(\"layer_archive_path\", lambda_package.layer_archive_path)\n\n```\n\n### LambdaLayerPackaging\nCreates a lambda layer. By default it zips all the project files.\n\nUse \"include\" and \"exclude\" parameter to only add specific folders/files.\n\n```python\nfrom pulumi import log\nfrom lambda_packaging import LambdaLayerPackaging\n\n\nlambda_layer = LambdaLayerPackaging('example-layer-test',\n                                    runtimes=['python3.6'],\n                                    layer_name=\"example-layer\",\n                                    description=\"Example Layer for Testing\",\n                                    exclude=[\".gitignore\", '__main__.py'])\n\npulumi.export('layer_arn', lambda_layer.arn)\n\n```\n\n```bash\n$ pulumi up\n```\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/nuage-studio/lambda-packaging", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "lambda-packaging", "package_url": "https://pypi.org/project/lambda-packaging/", "platform": "", "project_url": "https://pypi.org/project/lambda-packaging/", "project_urls": {"Homepage": "https://github.com/nuage-studio/lambda-packaging"}, "release_url": "https://pypi.org/project/lambda-packaging/0.3.0/", "requires_dist": ["pulumi (==1.8.1)", "pulumi-aws (==1.17.0)", "pulumi-docker", "requirements-parser"], "requires_python": "", "summary": "Pulumi-based python solution for Packaging an AWS Lambda and its Layer.", "version": "0.3.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Overview</h1>\n<p>Pulumi-based python solution for Packaging an AWS Lambda and its Layer.</p>\n<h2>Directory Structure</h2>\n<pre><code>\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 example\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Pulumi.dev.yaml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Pulumi.yaml\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __main__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 requirements.txt\n\u251c\u2500\u2500 lambda_packaging\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 components.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pip_requirements.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 utils.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 zip_package.py\n\u251c\u2500\u2500 requirements.txt\n\u251c\u2500\u2500 setup.cfg\n\u251c\u2500\u2500 setup.py\n\u2514\u2500\u2500 tests\n</code></pre>\n<h2>Installation</h2>\n<pre><code>$ pip install lambda-packaging\n</code></pre>\n<h2>Quick Start</h2>\n<h3>LambdaPackaging</h3>\n<p>Creates a zip package of project files and install dependencies from requirements.txt.</p>\n<p>Use \"dockerize=True\" to pip install requirements using lambda environment docker image.</p>\n<p>Use \"layer=True\" to package dependencies and code seperately.</p>\n<p>Example:</p>\n<pre><span class=\"o\">...</span>\n\n<span class=\"o\">...</span>\n\n\n<span class=\"n\">lambda_package</span> <span class=\"o\">=</span> <span class=\"n\">LambdaPackage</span><span class=\"p\">(</span>\n    <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'example-test'</span><span class=\"p\">,</span>\n    <span class=\"n\">no_deploy</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'pulumi'</span><span class=\"p\">,</span> <span class=\"s1\">'pulumi_aws'</span><span class=\"p\">,</span> <span class=\"s1\">'pulumi_docker'</span><span class=\"p\">],</span>\n    <span class=\"n\">exclude</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'__main__.py'</span><span class=\"p\">]</span>\n<span class=\"p\">)</span>\n\n\n\n\n<span class=\"c1\"># Create Lambda function</span>\n<span class=\"n\">function</span> <span class=\"o\">=</span> <span class=\"n\">lambda_</span><span class=\"o\">.</span><span class=\"n\">Function</span><span class=\"p\">(</span>\n    <span class=\"n\">resource_name</span><span class=\"o\">=</span><span class=\"s1\">'function'</span><span class=\"p\">,</span>\n    <span class=\"n\">role</span><span class=\"o\">=</span><span class=\"n\">role</span><span class=\"o\">.</span><span class=\"n\">arn</span><span class=\"p\">,</span>\n    <span class=\"n\">runtime</span><span class=\"o\">=</span><span class=\"s1\">'python3.6'</span><span class=\"p\">,</span>\n    <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"sa\">f</span><span class=\"s1\">'Lambda function running the f`</span><span class=\"si\">{</span><span class=\"n\">pulumi</span><span class=\"o\">.</span><span class=\"n\">get_project</span><span class=\"p\">()</span><span class=\"si\">}</span><span class=\"s1\">` (</span><span class=\"si\">{</span><span class=\"n\">pulumi</span><span class=\"o\">.</span><span class=\"n\">get_stack</span><span class=\"p\">()</span><span class=\"si\">}</span><span class=\"s1\">) project'</span><span class=\"p\">,</span>\n    <span class=\"n\">handler</span><span class=\"o\">=</span><span class=\"s1\">'handler.lambda_handler'</span><span class=\"p\">,</span>\n    <span class=\"n\">code</span><span class=\"o\">=</span><span class=\"n\">lambda_package</span><span class=\"o\">.</span><span class=\"n\">package_archive</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># path of package archive and dependencies package</span>\n<span class=\"c1\"># containing installed requirements</span>\n<span class=\"n\">pulumi</span><span class=\"o\">.</span><span class=\"n\">export</span><span class=\"p\">(</span><span class=\"s2\">\"package_archive_path\"</span><span class=\"p\">,</span> <span class=\"n\">lambda_package</span><span class=\"o\">.</span><span class=\"n\">package_archive</span><span class=\"p\">)</span>\n<span class=\"n\">pulumi</span><span class=\"o\">.</span><span class=\"n\">export</span><span class=\"p\">(</span><span class=\"s2\">\"layer_archive_path\"</span><span class=\"p\">,</span> <span class=\"n\">lambda_package</span><span class=\"o\">.</span><span class=\"n\">layer_archive_path</span><span class=\"p\">)</span>\n</pre>\n<h3>LambdaLayerPackaging</h3>\n<p>Creates a lambda layer. By default it zips all the project files.</p>\n<p>Use \"include\" and \"exclude\" parameter to only add specific folders/files.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pulumi</span> <span class=\"kn\">import</span> <span class=\"n\">log</span>\n<span class=\"kn\">from</span> <span class=\"nn\">lambda_packaging</span> <span class=\"kn\">import</span> <span class=\"n\">LambdaLayerPackaging</span>\n\n\n<span class=\"n\">lambda_layer</span> <span class=\"o\">=</span> <span class=\"n\">LambdaLayerPackaging</span><span class=\"p\">(</span><span class=\"s1\">'example-layer-test'</span><span class=\"p\">,</span>\n                                    <span class=\"n\">runtimes</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'python3.6'</span><span class=\"p\">],</span>\n                                    <span class=\"n\">layer_name</span><span class=\"o\">=</span><span class=\"s2\">\"example-layer\"</span><span class=\"p\">,</span>\n                                    <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">\"Example Layer for Testing\"</span><span class=\"p\">,</span>\n                                    <span class=\"n\">exclude</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">\".gitignore\"</span><span class=\"p\">,</span> <span class=\"s1\">'__main__.py'</span><span class=\"p\">])</span>\n\n<span class=\"n\">pulumi</span><span class=\"o\">.</span><span class=\"n\">export</span><span class=\"p\">(</span><span class=\"s1\">'layer_arn'</span><span class=\"p\">,</span> <span class=\"n\">lambda_layer</span><span class=\"o\">.</span><span class=\"n\">arn</span><span class=\"p\">)</span>\n</pre>\n<pre>$ pulumi up\n</pre>\n\n          </div>"}, "last_serial": 7086801, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "4c9ceecd3c281e85135540057d584298", "sha256": "405110e80188ef00719420410f7e23343c0f79183fd3fc30f16faafc6354f652"}, "downloads": -1, "filename": "lambda_packaging-0.1.0-py3.6.egg", "has_sig": false, "md5_digest": "4c9ceecd3c281e85135540057d584298", "packagetype": "bdist_egg", "python_version": "3.6", "requires_python": null, "size": 27575, "upload_time": "2020-02-16T18:27:08", "upload_time_iso_8601": "2020-02-16T18:27:08.097546Z", "url": "https://files.pythonhosted.org/packages/77/f8/25bd538b33488cc2698c2ef7660e49eae743b3ae8704ce6332975aeb6190/lambda_packaging-0.1.0-py3.6.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "3ab537f1251e0d3d9e0a4e85476a6111", "sha256": "226e0c1c86d37f3c5a9e6ad724cb42ba0950e9c05961bd650f257d0229026662"}, "downloads": -1, "filename": "lambda_packaging-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "3ab537f1251e0d3d9e0a4e85476a6111", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 12901, "upload_time": "2020-02-16T18:27:06", "upload_time_iso_8601": "2020-02-16T18:27:06.739340Z", "url": "https://files.pythonhosted.org/packages/21/ac/0579a7f3293611944abe244ad3fd58a7515759a745b68743a53f492c7621/lambda_packaging-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2eefbc9527a6866d17b37db9df8cc2bf", "sha256": "821836bf23f8281ce713f9bf6d1bd273bf269672353aabe362660ade089b15d7"}, "downloads": -1, "filename": "lambda_packaging-0.1.0.tar.gz", "has_sig": false, "md5_digest": "2eefbc9527a6866d17b37db9df8cc2bf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4923, "upload_time": "2020-02-07T12:42:12", "upload_time_iso_8601": "2020-02-07T12:42:12.011938Z", "url": "https://files.pythonhosted.org/packages/84/81/df585fa4b2b0f8c471a78749155e68ee8f172a083318322a687625a18394/lambda_packaging-0.1.0.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "68817481614e3feec4125c5fe868ab98", "sha256": "764f2f66f01fadc81fb8eaf3b6b8db87aaab8622a685748cc6ba80e9630cfa1b"}, "downloads": -1, "filename": "lambda_packaging-0.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "68817481614e3feec4125c5fe868ab98", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7294, "upload_time": "2020-02-19T09:04:30", "upload_time_iso_8601": "2020-02-19T09:04:30.876768Z", "url": "https://files.pythonhosted.org/packages/89/b5/adf2b564f02a2f1d3500e1a3a8147b44a662b2ec753ddec6b8e55ec4238b/lambda_packaging-0.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "91ca38d9f9431de0a1815828a93e5fe2", "sha256": "d247727598955bf86c4cc0a71f40946381b45d6e3c8268764b13e9273d223aee"}, "downloads": -1, "filename": "lambda_packaging-0.3.0.tar.gz", "has_sig": false, "md5_digest": "91ca38d9f9431de0a1815828a93e5fe2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5390, "upload_time": "2020-02-19T09:04:32", "upload_time_iso_8601": "2020-02-19T09:04:32.147625Z", "url": "https://files.pythonhosted.org/packages/7a/9f/56c6a5e4519dfa0517efd6d3e3421e5d7b3ee8a8816aa92c64fc00362b0f/lambda_packaging-0.3.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "68817481614e3feec4125c5fe868ab98", "sha256": "764f2f66f01fadc81fb8eaf3b6b8db87aaab8622a685748cc6ba80e9630cfa1b"}, "downloads": -1, "filename": "lambda_packaging-0.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "68817481614e3feec4125c5fe868ab98", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7294, "upload_time": "2020-02-19T09:04:30", "upload_time_iso_8601": "2020-02-19T09:04:30.876768Z", "url": "https://files.pythonhosted.org/packages/89/b5/adf2b564f02a2f1d3500e1a3a8147b44a662b2ec753ddec6b8e55ec4238b/lambda_packaging-0.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "91ca38d9f9431de0a1815828a93e5fe2", "sha256": "d247727598955bf86c4cc0a71f40946381b45d6e3c8268764b13e9273d223aee"}, "downloads": -1, "filename": "lambda_packaging-0.3.0.tar.gz", "has_sig": false, "md5_digest": "91ca38d9f9431de0a1815828a93e5fe2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5390, "upload_time": "2020-02-19T09:04:32", "upload_time_iso_8601": "2020-02-19T09:04:32.147625Z", "url": "https://files.pythonhosted.org/packages/7a/9f/56c6a5e4519dfa0517efd6d3e3421e5d7b3ee8a8816aa92c64fc00362b0f/lambda_packaging-0.3.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:48:04 2020"}
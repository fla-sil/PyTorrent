{"info": {"author": "liuyancong", "author_email": "1437255447@qq.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "#                                                             Flow Control\n\n- \u529f\u80fd \n  - \u8fd9\u4e2apackages\u53ef\u4ee5\u63a7\u5236\u6bcf\u79d2\u4e00\u4e2a\u51fd\u6570\u6216\u8005\u8bed\u53e5\u7684\u8c03\u7528\u6b21\u6570\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u8bbf\u95ee\u6b21\u6570\u548c\u65f6\u95f4\u95f4\u9694\uff0c\n  - \u8bbf\u95ee\u9650\u5236 \u8bbf\u95ee\u6b21\u6570/\u65f6\u95f4\u95f4\u9694\n\n- \u4f7f\u7528\u65b9\u6cd5(\u5355\u8fdb\u7a0b\u60c5\u51b5\u4e0b\u4f7f\u7528FlowControl \u7c7b\uff0c\u591a\u8fdb\u7a0b\u60c5\u51b5\u4e0b\u4f7f\u7528ProcessFlowControl\u7c7b)\n\n  ```Python\n  #encoding=utf-8\n  import os\n  import threading\n\n  from datetime import datetime\n  from flow_control.controller import FlowControl\n  from flow_control.controller import ProcessFlowControl\n  from threading import Thread\n\n\n\n  def work(flowcontrol):\n      while True:\n          if flowcontrol.get():\n              print(\"{}--{}--{}\".format(os.getpid(), threading.currentThread().ident, datetime.now()))\n\n  flow_control = FlowControl(num=1, interval=1)\n  Thread(target=work, args=(flow_control,)).start()\n  work(flow_control)\n  ```\n\n\n\n\n\n  - \u521b\u5efa\u4e00\u4e2aFlowControl (\u5355\u8fdb\u7a0b\u60c5\u51b5\u4e0b)\u6216\u8005 ProcessFlowControl(\u591a\u8fdb\u7a0b\u60c5\u51b5\u4e0b) \u5bf9\u8c61\uff0c\u53c2\u6570\u4e3a(num=\u8bbf\u95ee\u6b21\u6570,interval=\u65f6\u95f4\u95f4\u9694)\uff0c\n  - num\u7684\u7c7b\u578b\u5e94\u8be5\u4e3aint\u7c7b\u578b\uff0cinterval\u5e94\u8be5\u4e3aint\u6216\u8005float\u7c7b\u578b\n  - \u7136\u540e\u8c03\u7528\u8be5\u5bf9\u8c61\u7684 get\u65b9\u6cd5\n  - \u5982\u679cget\u65b9\u6cd5\u8fd4\u56de True\uff0c\u5219\u8bf4\u660e\u53ef\u4ee5\u672a\u8fbe\u5230\u6d41\u63a7\u9650\u5236\uff0c\u5982\u679c\u8fd4\u56deFalse\u5219\u8bf4\u660e\u51fd\u6570\u8c03\u7528\u6b21\u6570\u6216\u8005\u8bbf\u95ee\u6b21\u6570\u5df2\u7ecf \u8fbe\u5230\u6d41\u63a7\u9650\u5236\uff0c\u5e94\u8be5\u62d2\u7edd\u8c03\u7528\u6216\u8bbf\u95ee\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/mt6979/flow_control", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "flow-control", "package_url": "https://pypi.org/project/flow-control/", "platform": "", "project_url": "https://pypi.org/project/flow-control/", "project_urls": {"Homepage": "https://github.com/mt6979/flow_control"}, "release_url": "https://pypi.org/project/flow-control/1.0.0/", "requires_dist": null, "requires_python": ">=3.5", "summary": "A flow control packages,control QPS", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Flow Control</h1>\n<ul>\n<li>\n<p>\u529f\u80fd</p>\n<ul>\n<li>\u8fd9\u4e2apackages\u53ef\u4ee5\u63a7\u5236\u6bcf\u79d2\u4e00\u4e2a\u51fd\u6570\u6216\u8005\u8bed\u53e5\u7684\u8c03\u7528\u6b21\u6570\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u8bbf\u95ee\u6b21\u6570\u548c\u65f6\u95f4\u95f4\u9694\uff0c</li>\n<li>\u8bbf\u95ee\u9650\u5236 \u8bbf\u95ee\u6b21\u6570/\u65f6\u95f4\u95f4\u9694</li>\n</ul>\n</li>\n<li>\n<p>\u4f7f\u7528\u65b9\u6cd5(\u5355\u8fdb\u7a0b\u60c5\u51b5\u4e0b\u4f7f\u7528FlowControl \u7c7b\uff0c\u591a\u8fdb\u7a0b\u60c5\u51b5\u4e0b\u4f7f\u7528ProcessFlowControl\u7c7b)</p>\n<pre><span class=\"c1\">#encoding=utf-8</span>\n<span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"kn\">import</span> <span class=\"nn\">threading</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n<span class=\"kn\">from</span> <span class=\"nn\">flow_control.controller</span> <span class=\"kn\">import</span> <span class=\"n\">FlowControl</span>\n<span class=\"kn\">from</span> <span class=\"nn\">flow_control.controller</span> <span class=\"kn\">import</span> <span class=\"n\">ProcessFlowControl</span>\n<span class=\"kn\">from</span> <span class=\"nn\">threading</span> <span class=\"kn\">import</span> <span class=\"n\">Thread</span>\n\n\n\n<span class=\"k\">def</span> <span class=\"nf\">work</span><span class=\"p\">(</span><span class=\"n\">flowcontrol</span><span class=\"p\">):</span>\n    <span class=\"k\">while</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n        <span class=\"k\">if</span> <span class=\"n\">flowcontrol</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">():</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"</span><span class=\"si\">{}</span><span class=\"s2\">--</span><span class=\"si\">{}</span><span class=\"s2\">--</span><span class=\"si\">{}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getpid</span><span class=\"p\">(),</span> <span class=\"n\">threading</span><span class=\"o\">.</span><span class=\"n\">currentThread</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">ident</span><span class=\"p\">,</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">()))</span>\n\n<span class=\"n\">flow_control</span> <span class=\"o\">=</span> <span class=\"n\">FlowControl</span><span class=\"p\">(</span><span class=\"n\">num</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">interval</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"n\">Thread</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">work</span><span class=\"p\">,</span> <span class=\"n\">args</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">flow_control</span><span class=\"p\">,))</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n<span class=\"n\">work</span><span class=\"p\">(</span><span class=\"n\">flow_control</span><span class=\"p\">)</span>\n</pre>\n<ul>\n<li>\u521b\u5efa\u4e00\u4e2aFlowControl (\u5355\u8fdb\u7a0b\u60c5\u51b5\u4e0b)\u6216\u8005 ProcessFlowControl(\u591a\u8fdb\u7a0b\u60c5\u51b5\u4e0b) \u5bf9\u8c61\uff0c\u53c2\u6570\u4e3a(num=\u8bbf\u95ee\u6b21\u6570,interval=\u65f6\u95f4\u95f4\u9694)\uff0c</li>\n<li>num\u7684\u7c7b\u578b\u5e94\u8be5\u4e3aint\u7c7b\u578b\uff0cinterval\u5e94\u8be5\u4e3aint\u6216\u8005float\u7c7b\u578b</li>\n<li>\u7136\u540e\u8c03\u7528\u8be5\u5bf9\u8c61\u7684 get\u65b9\u6cd5</li>\n<li>\u5982\u679cget\u65b9\u6cd5\u8fd4\u56de True\uff0c\u5219\u8bf4\u660e\u53ef\u4ee5\u672a\u8fbe\u5230\u6d41\u63a7\u9650\u5236\uff0c\u5982\u679c\u8fd4\u56deFalse\u5219\u8bf4\u660e\u51fd\u6570\u8c03\u7528\u6b21\u6570\u6216\u8005\u8bbf\u95ee\u6b21\u6570\u5df2\u7ecf \u8fbe\u5230\u6d41\u63a7\u9650\u5236\uff0c\u5e94\u8be5\u62d2\u7edd\u8c03\u7528\u6216\u8bbf\u95ee</li>\n</ul>\n</li>\n</ul>\n\n          </div>"}, "last_serial": 6429943, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "ccc43acefffef41f9554a4dd2cabba7e", "sha256": "829ac00f7c8c7542c24c9ed506d2640bd6815bc9c1f8ced13bd589b742105942"}, "downloads": -1, "filename": "flow_control-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ccc43acefffef41f9554a4dd2cabba7e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 3332, "upload_time": "2020-01-10T13:43:57", "upload_time_iso_8601": "2020-01-10T13:43:57.458186Z", "url": "https://files.pythonhosted.org/packages/6f/5b/12dcf46b5b5ac21261ea76ec506cbd2b6ce72892bf26ee58c398944547ce/flow_control-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bd4b03feec83b8f0a129460b32a36332", "sha256": "bd6ffad534a716e62b96cf92e20ccd1378d96140a2d2a3ad64eb07e8979e6026"}, "downloads": -1, "filename": "flow_control-1.0.0.tar.gz", "has_sig": false, "md5_digest": "bd4b03feec83b8f0a129460b32a36332", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 2533, "upload_time": "2020-01-10T13:44:00", "upload_time_iso_8601": "2020-01-10T13:44:00.664004Z", "url": "https://files.pythonhosted.org/packages/65/d7/1705b554e781cf778b5d85449929b2e6b618a262da04e2b2428e34651551/flow_control-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ccc43acefffef41f9554a4dd2cabba7e", "sha256": "829ac00f7c8c7542c24c9ed506d2640bd6815bc9c1f8ced13bd589b742105942"}, "downloads": -1, "filename": "flow_control-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ccc43acefffef41f9554a4dd2cabba7e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 3332, "upload_time": "2020-01-10T13:43:57", "upload_time_iso_8601": "2020-01-10T13:43:57.458186Z", "url": "https://files.pythonhosted.org/packages/6f/5b/12dcf46b5b5ac21261ea76ec506cbd2b6ce72892bf26ee58c398944547ce/flow_control-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bd4b03feec83b8f0a129460b32a36332", "sha256": "bd6ffad534a716e62b96cf92e20ccd1378d96140a2d2a3ad64eb07e8979e6026"}, "downloads": -1, "filename": "flow_control-1.0.0.tar.gz", "has_sig": false, "md5_digest": "bd4b03feec83b8f0a129460b32a36332", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 2533, "upload_time": "2020-01-10T13:44:00", "upload_time_iso_8601": "2020-01-10T13:44:00.664004Z", "url": "https://files.pythonhosted.org/packages/65/d7/1705b554e781cf778b5d85449929b2e6b618a262da04e2b2428e34651551/flow_control-1.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 01:01:44 2020"}
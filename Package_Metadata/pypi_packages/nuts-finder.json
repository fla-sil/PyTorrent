{"info": {"author": "Joel Klinger", "author_email": "joel.klinger@nesta.org.uk", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "Intended Audience :: Science/Research", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Operating System :: OS Independent", "Programming Language :: Python :: 3.6"], "description": "# Nuts Finder [![Build Status](https://travis-ci.com/nestauk/nuts_finder.svg?branch=master)](https://travis-ci.com/nestauk/nuts_finder)\n\nYou give it a point, it tells you all the EU NUTS regions.\n\n## Installation\n\n```bash\n\npip install nuts-finder\n```\n\n## Usage\n\n```python\n\nfrom nuts_finder import NutsFinder\n\nnf = NutsFinder()  # <-- expect a little bit of loading time here whilst it downloads some shapefiles\nnf.find(lat=53.406115, lon=-2.965604)  # <-- pretty quick\n\n>>> [{'CNTR_CODE': 'UK',\n>>>  'FID': 'UK',\n>>>  'LEVL_CODE': 0,\n>>>  'NUTS_ID': 'UK',\n>>>  'NUTS_NAME': 'UNITED KINGDOM'},\n>>> {'CNTR_CODE': 'UK',\n>>>  'FID': 'UKD',\n>>>  'LEVL_CODE': 1,\n>>>  'NUTS_ID': 'UKD',\n>>>  'NUTS_NAME': 'NORTH WEST (ENGLAND)'},\n>>> {'CNTR_CODE': 'UK',\n>>>  'FID': 'UKD7',\n>>>  'LEVL_CODE': 2,\n>>>  'NUTS_ID': 'UKD7',\n>>>  'NUTS_NAME': 'Merseyside'},\n>>> {'CNTR_CODE': 'UK',\n>>>  'FID': 'UKD72',\n>>>  'LEVL_CODE': 3,\n>>>  'NUTS_ID': 'UKD72',\n>>>  'NUTS_NAME': 'Liverpool'}]\n```\n\n## Give me the shapes\n\nYou can access all of the NUTS boundaries via:\n\n```python\n\nnf = NutsFinder()\nnf.shapes\n\n>>> {\"crs\": {\"properties\": {\"name\": \"urn:ogc:def:crs:EPSG::4326\"}, \"type\": \"name\"}, \"features\": [{\"geometry\": {\"coordinates\": [[[16.107, 50.662], [16.333, 50.592], [16.58, 50.143], [15.438, 50.11], [15.147, 50.523], [15.42, 50.5], [15.584, 50.627], [15.535, 50.779], [16.107, 50.662]]], \"type\": \"Polygon\"}, \"id\": \"CZ052\", \"properties\": {\"CNTR_CODE\": \"CZ\", \"FID\": \"CZ052\", \"LEVL_CODE\": 3, \"NUTS_ID\": \"CZ052\", \"NUTS_NAME\": \"Kr\\\\u00e1lov\\\\u00e9hradeck\\\\u00fd kraj\"}, \"type\": \"Feature\"}, ...}\n```\n\n## Advanced usage\n\nThe look-up is performed via point-in-polygon tests from the [official repository of NUTS shapefiles](https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units/nuts). You can additionally specify the year (`year`) and scale (1:`scale` Million) of the downloaded shapefiles as follows:\n\n```python\nnf = NutsFinder(year=2013, scale=60)\n```\n\nNote that the default year is the latest available, and the scale is the median available. At time of writing the available years were `{2003, 2006, 2010, 2013, 2016}` and available scales were `{1, 3, 10, 20, 60}`.\n\n## Points near rivers and coastlines\n\nUnless you use `scale=1`, expect to lose some coverage of points very near to water features (coastal and river regions). If you would like to optimise for speed, you might consider a recursive strategy of using a coarser `NutsFinder` followed by a more granular one to pick up missed points.\n\n## Speed-ups\n\nThe `find(...)` method is significantly faster for coarser geographical scales. For most purposes, a scale of around 10 should be sufficient. See below for a benchmark on my laptop (macOS, 2.3 GHz, 16GB) against the scales available at the time of writing:\n\n| `scale`  | time                      |\n| ---------|:-------------------------:|\n| 1        | 2.66 s \u00b1 191 ms per loop  |\n| 3        | 608 ms \u00b1 15 ms per loop   |\n| 10       | 215 ms \u00b1 1.85 ms per loop |\n| 20       | 145 ms \u00b1 11.6 ms per loop |\n| 60       | 105 ms \u00b1 14 ms per loop   |", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/nestauk/nuts_finder", "keywords": "", "license": "MIT", "maintainer": "Joel Klinger", "maintainer_email": "joel.klinger@nesta.org.uk", "name": "nuts-finder", "package_url": "https://pypi.org/project/nuts-finder/", "platform": "", "project_url": "https://pypi.org/project/nuts-finder/", "project_urls": {"Homepage": "https://github.com/nestauk/nuts_finder"}, "release_url": "https://pypi.org/project/nuts-finder/0.1.5/", "requires_dist": null, "requires_python": ">3.6", "summary": "", "version": "0.1.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Nuts Finder <a href=\"https://travis-ci.com/nestauk/nuts_finder\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8faa21de064720b43c54a47956df35264acf3fc2/68747470733a2f2f7472617669732d63692e636f6d2f6e65737461756b2f6e7574735f66696e6465722e7376673f6272616e63683d6d6173746572\"></a></h1>\n<p>You give it a point, it tells you all the EU NUTS regions.</p>\n<h2>Installation</h2>\n<pre>pip install nuts-finder\n</pre>\n<h2>Usage</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">nuts_finder</span> <span class=\"kn\">import</span> <span class=\"n\">NutsFinder</span>\n\n<span class=\"n\">nf</span> <span class=\"o\">=</span> <span class=\"n\">NutsFinder</span><span class=\"p\">()</span>  <span class=\"c1\"># &lt;-- expect a little bit of loading time here whilst it downloads some shapefiles</span>\n<span class=\"n\">nf</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">(</span><span class=\"n\">lat</span><span class=\"o\">=</span><span class=\"mf\">53.406115</span><span class=\"p\">,</span> <span class=\"n\">lon</span><span class=\"o\">=-</span><span class=\"mf\">2.965604</span><span class=\"p\">)</span>  <span class=\"c1\"># &lt;-- pretty quick</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"p\">[{</span><span class=\"s1\">'CNTR_CODE'</span><span class=\"p\">:</span> <span class=\"s1\">'UK'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'FID'</span><span class=\"p\">:</span> <span class=\"s1\">'UK'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'LEVL_CODE'</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'NUTS_ID'</span><span class=\"p\">:</span> <span class=\"s1\">'UK'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'NUTS_NAME'</span><span class=\"p\">:</span> <span class=\"s1\">'UNITED KINGDOM'</span><span class=\"p\">},</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"p\">{</span><span class=\"s1\">'CNTR_CODE'</span><span class=\"p\">:</span> <span class=\"s1\">'UK'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'FID'</span><span class=\"p\">:</span> <span class=\"s1\">'UKD'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'LEVL_CODE'</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'NUTS_ID'</span><span class=\"p\">:</span> <span class=\"s1\">'UKD'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'NUTS_NAME'</span><span class=\"p\">:</span> <span class=\"s1\">'NORTH WEST (ENGLAND)'</span><span class=\"p\">},</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"p\">{</span><span class=\"s1\">'CNTR_CODE'</span><span class=\"p\">:</span> <span class=\"s1\">'UK'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'FID'</span><span class=\"p\">:</span> <span class=\"s1\">'UKD7'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'LEVL_CODE'</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'NUTS_ID'</span><span class=\"p\">:</span> <span class=\"s1\">'UKD7'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'NUTS_NAME'</span><span class=\"p\">:</span> <span class=\"s1\">'Merseyside'</span><span class=\"p\">},</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"p\">{</span><span class=\"s1\">'CNTR_CODE'</span><span class=\"p\">:</span> <span class=\"s1\">'UK'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'FID'</span><span class=\"p\">:</span> <span class=\"s1\">'UKD72'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'LEVL_CODE'</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'NUTS_ID'</span><span class=\"p\">:</span> <span class=\"s1\">'UKD72'</span><span class=\"p\">,</span>\n<span class=\"o\">&gt;&gt;&gt;</span>  <span class=\"s1\">'NUTS_NAME'</span><span class=\"p\">:</span> <span class=\"s1\">'Liverpool'</span><span class=\"p\">}]</span>\n</pre>\n<h2>Give me the shapes</h2>\n<p>You can access all of the NUTS boundaries via:</p>\n<pre><span class=\"n\">nf</span> <span class=\"o\">=</span> <span class=\"n\">NutsFinder</span><span class=\"p\">()</span>\n<span class=\"n\">nf</span><span class=\"o\">.</span><span class=\"n\">shapes</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"p\">{</span><span class=\"s2\">\"crs\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"properties\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"urn:ogc:def:crs:EPSG::4326\"</span><span class=\"p\">},</span> <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"name\"</span><span class=\"p\">},</span> <span class=\"s2\">\"features\"</span><span class=\"p\">:</span> <span class=\"p\">[{</span><span class=\"s2\">\"geometry\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"coordinates\"</span><span class=\"p\">:</span> <span class=\"p\">[[[</span><span class=\"mf\">16.107</span><span class=\"p\">,</span> <span class=\"mf\">50.662</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">16.333</span><span class=\"p\">,</span> <span class=\"mf\">50.592</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">16.58</span><span class=\"p\">,</span> <span class=\"mf\">50.143</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">15.438</span><span class=\"p\">,</span> <span class=\"mf\">50.11</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">15.147</span><span class=\"p\">,</span> <span class=\"mf\">50.523</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">15.42</span><span class=\"p\">,</span> <span class=\"mf\">50.5</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">15.584</span><span class=\"p\">,</span> <span class=\"mf\">50.627</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">15.535</span><span class=\"p\">,</span> <span class=\"mf\">50.779</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">16.107</span><span class=\"p\">,</span> <span class=\"mf\">50.662</span><span class=\"p\">]]],</span> <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Polygon\"</span><span class=\"p\">},</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"CZ052\"</span><span class=\"p\">,</span> <span class=\"s2\">\"properties\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"CNTR_CODE\"</span><span class=\"p\">:</span> <span class=\"s2\">\"CZ\"</span><span class=\"p\">,</span> <span class=\"s2\">\"FID\"</span><span class=\"p\">:</span> <span class=\"s2\">\"CZ052\"</span><span class=\"p\">,</span> <span class=\"s2\">\"LEVL_CODE\"</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"s2\">\"NUTS_ID\"</span><span class=\"p\">:</span> <span class=\"s2\">\"CZ052\"</span><span class=\"p\">,</span> <span class=\"s2\">\"NUTS_NAME\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Kr</span><span class=\"se\">\\\\</span><span class=\"s2\">u00e1lov</span><span class=\"se\">\\\\</span><span class=\"s2\">u00e9hradeck</span><span class=\"se\">\\\\</span><span class=\"s2\">u00fd kraj\"</span><span class=\"p\">},</span> <span class=\"s2\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Feature\"</span><span class=\"p\">},</span> <span class=\"o\">...</span><span class=\"p\">}</span>\n</pre>\n<h2>Advanced usage</h2>\n<p>The look-up is performed via point-in-polygon tests from the <a href=\"https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units/nuts\" rel=\"nofollow\">official repository of NUTS shapefiles</a>. You can additionally specify the year (<code>year</code>) and scale (1:<code>scale</code> Million) of the downloaded shapefiles as follows:</p>\n<pre><span class=\"n\">nf</span> <span class=\"o\">=</span> <span class=\"n\">NutsFinder</span><span class=\"p\">(</span><span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2013</span><span class=\"p\">,</span> <span class=\"n\">scale</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">)</span>\n</pre>\n<p>Note that the default year is the latest available, and the scale is the median available. At time of writing the available years were <code>{2003, 2006, 2010, 2013, 2016}</code> and available scales were <code>{1, 3, 10, 20, 60}</code>.</p>\n<h2>Points near rivers and coastlines</h2>\n<p>Unless you use <code>scale=1</code>, expect to lose some coverage of points very near to water features (coastal and river regions). If you would like to optimise for speed, you might consider a recursive strategy of using a coarser <code>NutsFinder</code> followed by a more granular one to pick up missed points.</p>\n<h2>Speed-ups</h2>\n<p>The <code>find(...)</code> method is significantly faster for coarser geographical scales. For most purposes, a scale of around 10 should be sufficient. See below for a benchmark on my laptop (macOS, 2.3 GHz, 16GB) against the scales available at the time of writing:</p>\n<table>\n<thead>\n<tr>\n<th><code>scale</code></th>\n<th align=\"center\">time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td align=\"center\">2.66 s \u00b1 191 ms per loop</td>\n</tr>\n<tr>\n<td>3</td>\n<td align=\"center\">608 ms \u00b1 15 ms per loop</td>\n</tr>\n<tr>\n<td>10</td>\n<td align=\"center\">215 ms \u00b1 1.85 ms per loop</td>\n</tr>\n<tr>\n<td>20</td>\n<td align=\"center\">145 ms \u00b1 11.6 ms per loop</td>\n</tr>\n<tr>\n<td>60</td>\n<td align=\"center\">105 ms \u00b1 14 ms per loop</td>\n</tr></tbody></table>\n\n          </div>"}, "last_serial": 6093487, "releases": {"0.1.2": [{"comment_text": "", "digests": {"md5": "68e76d985dbe18b59cd7fe6fea56cd52", "sha256": "a0876b1fa8d5f8efde83707c3902ecea2448aab7fa8c0bc4719e4b88b26031db"}, "downloads": -1, "filename": "nuts_finder-0.1.2.tar.gz", "has_sig": false, "md5_digest": "68e76d985dbe18b59cd7fe6fea56cd52", "packagetype": "sdist", "python_version": "source", "requires_python": ">3.6", "size": 2918, "upload_time": "2019-10-23T15:24:10", "upload_time_iso_8601": "2019-10-23T15:24:10.942798Z", "url": "https://files.pythonhosted.org/packages/a6/33/dcedf3171c57d269e008441e774413ccec7ebdcaa549f6c67cb975f25017/nuts_finder-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "a17e7558fe362c53147b2802cd3fb0ef", "sha256": "85bd33e8b762e52159b646cebe6a1717e85f9bbe8cd4790ba923c2b764e605bc"}, "downloads": -1, "filename": "nuts_finder-0.1.3.tar.gz", "has_sig": false, "md5_digest": "a17e7558fe362c53147b2802cd3fb0ef", "packagetype": "sdist", "python_version": "source", "requires_python": ">3.6", "size": 3624, "upload_time": "2019-10-24T10:45:37", "upload_time_iso_8601": "2019-10-24T10:45:37.707072Z", "url": "https://files.pythonhosted.org/packages/78/a2/6ab7a3197cde6da9f06f74eda4401c771d4a69d5efa4e710555cfd62fe7f/nuts_finder-0.1.3.tar.gz", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "21477d0eebfb82ef29c8b3488f47a124", "sha256": "b578520c8dbc1ba49b12cd0bac55d62d5d7a6e5c059a7487ccaafd5f7a675c8e"}, "downloads": -1, "filename": "nuts_finder-0.1.4.tar.gz", "has_sig": false, "md5_digest": "21477d0eebfb82ef29c8b3488f47a124", "packagetype": "sdist", "python_version": "source", "requires_python": ">3.6", "size": 3609, "upload_time": "2019-11-07T11:18:27", "upload_time_iso_8601": "2019-11-07T11:18:27.101526Z", "url": "https://files.pythonhosted.org/packages/b7/dd/0311ceba1146a926573cb0dcccda3e0dce93df56abc755836e82fb08d7b9/nuts_finder-0.1.4.tar.gz", "yanked": false}], "0.1.5": [{"comment_text": "", "digests": {"md5": "5493e6699542adc05b4e501b735293e6", "sha256": "714d4c9810f90e6da55f1387b971b04b7e04453150f69d1b9a21e03e5e0767f0"}, "downloads": -1, "filename": "nuts_finder-0.1.5.tar.gz", "has_sig": false, "md5_digest": "5493e6699542adc05b4e501b735293e6", "packagetype": "sdist", "python_version": "source", "requires_python": ">3.6", "size": 3810, "upload_time": "2019-11-07T13:55:59", "upload_time_iso_8601": "2019-11-07T13:55:59.456295Z", "url": "https://files.pythonhosted.org/packages/ce/e1/40d5701e0a8b2b485c7d311d79f617470a74d9980d1040e7b0355ae9ea2d/nuts_finder-0.1.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5493e6699542adc05b4e501b735293e6", "sha256": "714d4c9810f90e6da55f1387b971b04b7e04453150f69d1b9a21e03e5e0767f0"}, "downloads": -1, "filename": "nuts_finder-0.1.5.tar.gz", "has_sig": false, "md5_digest": "5493e6699542adc05b4e501b735293e6", "packagetype": "sdist", "python_version": "source", "requires_python": ">3.6", "size": 3810, "upload_time": "2019-11-07T13:55:59", "upload_time_iso_8601": "2019-11-07T13:55:59.456295Z", "url": "https://files.pythonhosted.org/packages/ce/e1/40d5701e0a8b2b485c7d311d79f617470a74d9980d1040e7b0355ae9ea2d/nuts_finder-0.1.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:44:06 2020"}
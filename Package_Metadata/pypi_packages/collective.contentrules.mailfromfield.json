{"info": {"author": "RedTurtle Technology", "author_email": "sviluppoplone@redturtle.it", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Framework :: Plone", "Framework :: Plone :: 4.0", "Framework :: Plone :: 4.1", "Framework :: Plone :: 4.2", "Framework :: Plone :: 4.3", "License :: OSI Approved :: GNU General Public License (GPL)", "Programming Language :: Python", "Topic :: Communications :: Email"], "description": ".. contents::\n\nIntroduction\n============\n\nThis product will add to Plone a new content rules, someway similar to the default \"*Send an email*\" ones.\nThe difference is that the email recipient is taken dinamically from a site content, not from a\nstatic list of values.\n\nIn this way the same rule, applied in different places in the site, can send the message to different users.\n\nHow to use\n==========\n\nThe rules can be enabled globally and locally like every one else, as default Plone feature.\nIn the rule configuration panel you need to fill a set of information:\n\n``Subject``\n    The e-mail subject. You can place inside this text some markers (see below).\n``Sender email``\n    The sender of the e-mail. You can leave this empty and automatically use the one from the\n    general mail settings.\n``Source field``\n    You must put there the name of the attribute from which you want to retrieve the recipient\n    e-mail. See next section.\n``Target element``\n    You need to select if the recipient's e-mail must be taken from:\n    \n    * the container where the rules is activated on\n    * the content who notified the event that started the rule execution\n    * the parent of that content \n    \n    See below for details.\n``Mail message``\n    The body text of the e-mail that will be sent. The text is the same for all section where\n    the rule is activated on.\n    \n    You can place inside this text some markers (see below).\n\nHow it take the email data\n--------------------------\n\nFirst of all you must choose the *Target element*.\n\nIf you choose to keep default \"*From rule's container*\" option address will be read from the section you have\nactivated the rule on.\n\n*Example*: if you activated the rule on folder ``/site/section`` and the rule will raise event when\nworking on a document ``/site/section/folder/foo`` the email address will be taken\nfrom the folder.\n\nChanging to \"*From content that triggered the event*\" will change the behavior, trying to get email data\nfrom the content that raised the event.\n\n*Example*: if you activated the rule on a folder ``/site/section`` and the rule  will raise event when\nworking on a document ``/site/section/folder/foo`` the email address will be taken\nfrom the ``foo`` document.\n\nFinally, if you choose \"*From content's parent*\", adresses will the taken from the container of the content\nthat triggered the event.\n\n*Example*: if you activated the rule on a folder ``/site/section`` and the rule  will raise event when\nworking on a document ``/site/section/folder/foo`` the email address will be taken\nfrom ``folder``.\n\nWhat it try to read\n-------------------\n\nThe rule try to get from the object:\n\n* an attribute of the given name\n* a callable method from the given name\n* an Archetypes field with given id\n* a ZMI property with given id\n\nThe rule try to read, one after one, all this data. The first match found will be the one used;\nif not one give results, no e-mail is sent at all.\n\nMessage interpolation\n---------------------\n\nMarker labels that follow can be used in the message text and subject.\n\n``${title}``\n    The title of the content that triggered the event (``foo`` title in our example)\n``${url}``\n    The URL of the content that triggered the event (``foo`` URL in our example)\n``${section_name}``\n    The title of the folder where the rule is activated on (``section`` title in our example)\n``${section_url}``\n    The URL of the folder where the rule is activated on (``section`` URL in our example)\n\nA real Plone use case\n---------------------\n\nA Plone site use `Signup Sheet`__ for manage internal training session. The form fieldset is\ncustomized as normal, but one of the field is ``director_email``.\n\n__ http://plone.org/products/signupsheet\n\nWe want that this e-mail address is notified when a user subscribe and the user\nitself put there the e-mail address of the proper director.\n\nTo reach this we need to:\n\n* create a new rule triggered on \"*Object added to this container*\"\n* add a filter condition based on content type *Registrant*\n* add an action using the \"*Send email to address taken from the content*\"\n* specify in the action the SignupSheet field with the director email\n* specify in the action that we want to take the email from the target content\n  (the Registrant itself)\n\nTODO\n====\n\n* why don't support also looking in annotations?\n* right now the rules check all mail source until one is found with a defined order;\n  maybe is better to leave this choice to the configuration\n* Dexterity support (probably already there, but needs to be tested)\n\nRequirements\n============\n\nThis product has been tested on:\n\n* Plone 4.2\n* Plone 4.3\n\nCredits\n=======\n\nDeveloped with the support of `S. Anna Hospital, Ferrara`__; S. Anna Hospital supports the\n`PloneGov initiative`__.\n\n.. image:: http://www.ospfe.it/ospfe-logo.jpg\n   :alt: OspFE logo\n\n__ http://www.ospfe.it/\n__ http://www.plonegov.it/\n\nThis product was largely developed looking at the source of `collective.contentrules.mailtogroup`__.\n\n__ http://plone.org/products/collective.contentrules.mailtogroup\n\nAuthors\n=======\n\nThis product was developed by RedTurtle Technology team.\n\n.. image:: http://www.redturtle.it/redturtle_banner.png\n   :alt: RedTurtle Technology Site\n   :target: http://www.redturtle.it/\n\n\nChangelog\n=========\n\n0.4.0 (2015-03-13)\n------------------\n\nDropped Plone 3 compatibility\n\n- Fixed some label that were not i18n compatible\n  [keul]\n- Fixed wrong documentation mess introduced on version 0.3:\n  the new \"parent\" option was wrongly descripted\n  [keul]\n- Updated documentation to reflect changes done in version 0.3\n  [keul]\n\n0.3.0 (2014-05-06)\n------------------\n\n- Fix unicode error while replacing strings [nicolasenno]\n- Do not fail if a rule is activated on a non-AT content [keul]\n- Do not try to send mail to empty string recipients [keul]\n- Refactoring [alert]\n- Added parent option in the target vocabulary [alert]\n\n0.2.0 (2013-05-02)\n------------------\n\n* lowered logging level to debug\n  [keul]\n* fixed ruleAction factory\n  [cekk]\n\n0.1.0 (2011-10-21)\n------------------\n\n* Initial release", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://plone.org/products/collective.contentrules.mailfromfield", "keywords": "plone rules mail plonegov", "license": "GPL", "maintainer": null, "maintainer_email": null, "name": "collective.contentrules.mailfromfield", "package_url": "https://pypi.org/project/collective.contentrules.mailfromfield/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/collective.contentrules.mailfromfield/", "project_urls": {"Download": "UNKNOWN", "Homepage": "http://plone.org/products/collective.contentrules.mailfromfield"}, "release_url": "https://pypi.org/project/collective.contentrules.mailfromfield/0.4.0/", "requires_dist": null, "requires_python": null, "summary": "A Plone content rule for send e-mail to addresses taken from the content", "version": "0.4.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"contents\">\n<p>Contents</p>\n<ul>\n<li><a href=\"#introduction\" id=\"id9\" rel=\"nofollow\">Introduction</a></li>\n<li><a href=\"#how-to-use\" id=\"id10\" rel=\"nofollow\">How to use</a><ul>\n<li><a href=\"#how-it-take-the-email-data\" id=\"id11\" rel=\"nofollow\">How it take the email data</a></li>\n<li><a href=\"#what-it-try-to-read\" id=\"id12\" rel=\"nofollow\">What it try to read</a></li>\n<li><a href=\"#message-interpolation\" id=\"id13\" rel=\"nofollow\">Message interpolation</a></li>\n<li><a href=\"#a-real-plone-use-case\" id=\"id14\" rel=\"nofollow\">A real Plone use case</a></li>\n</ul>\n</li>\n<li><a href=\"#todo\" id=\"id15\" rel=\"nofollow\">TODO</a></li>\n<li><a href=\"#requirements\" id=\"id16\" rel=\"nofollow\">Requirements</a></li>\n<li><a href=\"#credits\" id=\"id17\" rel=\"nofollow\">Credits</a></li>\n<li><a href=\"#authors\" id=\"id18\" rel=\"nofollow\">Authors</a></li>\n<li><a href=\"#changelog\" id=\"id19\" rel=\"nofollow\">Changelog</a><ul>\n<li><a href=\"#id5\" id=\"id20\" rel=\"nofollow\">0.4.0 (2015-03-13)</a></li>\n<li><a href=\"#id6\" id=\"id21\" rel=\"nofollow\">0.3.0 (2014-05-06)</a></li>\n<li><a href=\"#id7\" id=\"id22\" rel=\"nofollow\">0.2.0 (2013-05-02)</a></li>\n<li><a href=\"#id8\" id=\"id23\" rel=\"nofollow\">0.1.0 (2011-10-21)</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<div id=\"introduction\">\n<h2><a href=\"#id9\" rel=\"nofollow\">Introduction</a></h2>\n<p>This product will add to Plone a new content rules, someway similar to the default \u201c<em>Send an email</em>\u201d ones.\nThe difference is that the email recipient is taken dinamically from a site content, not from a\nstatic list of values.</p>\n<p>In this way the same rule, applied in different places in the site, can send the message to different users.</p>\n</div>\n<div id=\"how-to-use\">\n<h2><a href=\"#id10\" rel=\"nofollow\">How to use</a></h2>\n<p>The rules can be enabled globally and locally like every one else, as default Plone feature.\nIn the rule configuration panel you need to fill a set of information:</p>\n<dl>\n<dt><tt>Subject</tt></dt>\n<dd>The e-mail subject. You can place inside this text some markers (see below).</dd>\n<dt><tt>Sender email</tt></dt>\n<dd>The sender of the e-mail. You can leave this empty and automatically use the one from the\ngeneral mail settings.</dd>\n<dt><tt>Source field</tt></dt>\n<dd>You must put there the name of the attribute from which you want to retrieve the recipient\ne-mail. See next section.</dd>\n<dt><tt>Target element</tt></dt>\n<dd><p>You need to select if the recipient\u2019s e-mail must be taken from:</p>\n<ul>\n<li>the container where the rules is activated on</li>\n<li>the content who notified the event that started the rule execution</li>\n<li>the parent of that content</li>\n</ul>\n<p>See below for details.</p>\n</dd>\n<dt><tt>Mail message</tt></dt>\n<dd><p>The body text of the e-mail that will be sent. The text is the same for all section where\nthe rule is activated on.</p>\n<p>You can place inside this text some markers (see below).</p>\n</dd>\n</dl>\n<div id=\"how-it-take-the-email-data\">\n<h3><a href=\"#id11\" rel=\"nofollow\">How it take the email data</a></h3>\n<p>First of all you must choose the <em>Target element</em>.</p>\n<p>If you choose to keep default \u201c<em>From rule\u2019s container</em>\u201d option address will be read from the section you have\nactivated the rule on.</p>\n<p><em>Example</em>: if you activated the rule on folder <tt>/site/section</tt> and the rule will raise event when\nworking on a document <tt>/site/section/folder/foo</tt> the email address will be taken\nfrom the folder.</p>\n<p>Changing to \u201c<em>From content that triggered the event</em>\u201d will change the behavior, trying to get email data\nfrom the content that raised the event.</p>\n<p><em>Example</em>: if you activated the rule on a folder <tt>/site/section</tt> and the rule  will raise event when\nworking on a document <tt>/site/section/folder/foo</tt> the email address will be taken\nfrom the <tt>foo</tt> document.</p>\n<p>Finally, if you choose \u201c<em>From content\u2019s parent</em>\u201d, adresses will the taken from the container of the content\nthat triggered the event.</p>\n<p><em>Example</em>: if you activated the rule on a folder <tt>/site/section</tt> and the rule  will raise event when\nworking on a document <tt>/site/section/folder/foo</tt> the email address will be taken\nfrom <tt>folder</tt>.</p>\n</div>\n<div id=\"what-it-try-to-read\">\n<h3><a href=\"#id12\" rel=\"nofollow\">What it try to read</a></h3>\n<p>The rule try to get from the object:</p>\n<ul>\n<li>an attribute of the given name</li>\n<li>a callable method from the given name</li>\n<li>an Archetypes field with given id</li>\n<li>a ZMI property with given id</li>\n</ul>\n<p>The rule try to read, one after one, all this data. The first match found will be the one used;\nif not one give results, no e-mail is sent at all.</p>\n</div>\n<div id=\"message-interpolation\">\n<h3><a href=\"#id13\" rel=\"nofollow\">Message interpolation</a></h3>\n<p>Marker labels that follow can be used in the message text and subject.</p>\n<dl>\n<dt><tt>${title}</tt></dt>\n<dd>The title of the content that triggered the event (<tt>foo</tt> title in our example)</dd>\n<dt><tt>${url}</tt></dt>\n<dd>The URL of the content that triggered the event (<tt>foo</tt> URL in our example)</dd>\n<dt><tt>${section_name}</tt></dt>\n<dd>The title of the folder where the rule is activated on (<tt>section</tt> title in our example)</dd>\n<dt><tt>${section_url}</tt></dt>\n<dd>The URL of the folder where the rule is activated on (<tt>section</tt> URL in our example)</dd>\n</dl>\n</div>\n<div id=\"a-real-plone-use-case\">\n<h3><a href=\"#id14\" rel=\"nofollow\">A real Plone use case</a></h3>\n<p>A Plone site use <a href=\"http://plone.org/products/signupsheet\" rel=\"nofollow\">Signup Sheet</a> for manage internal training session. The form fieldset is\ncustomized as normal, but one of the field is <tt>director_email</tt>.</p>\n<p>We want that this e-mail address is notified when a user subscribe and the user\nitself put there the e-mail address of the proper director.</p>\n<p>To reach this we need to:</p>\n<ul>\n<li>create a new rule triggered on \u201c<em>Object added to this container</em>\u201d</li>\n<li>add a filter condition based on content type <em>Registrant</em></li>\n<li>add an action using the \u201c<em>Send email to address taken from the content</em>\u201d</li>\n<li>specify in the action the SignupSheet field with the director email</li>\n<li>specify in the action that we want to take the email from the target content\n(the Registrant itself)</li>\n</ul>\n</div>\n</div>\n<div id=\"todo\">\n<h2><a href=\"#id15\" rel=\"nofollow\">TODO</a></h2>\n<ul>\n<li>why don\u2019t support also looking in annotations?</li>\n<li>right now the rules check all mail source until one is found with a defined order;\nmaybe is better to leave this choice to the configuration</li>\n<li>Dexterity support (probably already there, but needs to be tested)</li>\n</ul>\n</div>\n<div id=\"requirements\">\n<h2><a href=\"#id16\" rel=\"nofollow\">Requirements</a></h2>\n<p>This product has been tested on:</p>\n<ul>\n<li>Plone 4.2</li>\n<li>Plone 4.3</li>\n</ul>\n</div>\n<div id=\"credits\">\n<h2><a href=\"#id17\" rel=\"nofollow\">Credits</a></h2>\n<p>Developed with the support of <a href=\"http://www.ospfe.it/\" rel=\"nofollow\">S. Anna Hospital, Ferrara</a>; S. Anna Hospital supports the\n<a href=\"http://www.plonegov.it/\" rel=\"nofollow\">PloneGov initiative</a>.</p>\n<img alt=\"OspFE logo\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/63d938d4a6c3524ff18f7f9883763f1a70492531/687474703a2f2f7777772e6f737066652e69742f6f737066652d6c6f676f2e6a7067\">\n<p>This product was largely developed looking at the source of <a href=\"http://plone.org/products/collective.contentrules.mailtogroup\" rel=\"nofollow\">collective.contentrules.mailtogroup</a>.</p>\n</div>\n<div id=\"authors\">\n<h2><a href=\"#id18\" rel=\"nofollow\">Authors</a></h2>\n<p>This product was developed by RedTurtle Technology team.</p>\n<a href=\"http://www.redturtle.it/\" rel=\"nofollow\"><img alt=\"RedTurtle Technology Site\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6ea6aa086619f59e61ad184ae3739fda4ec31e20/687474703a2f2f7777772e726564747572746c652e69742f726564747572746c655f62616e6e65722e706e67\"></a>\n</div>\n<div id=\"changelog\">\n<h2><a href=\"#id19\" rel=\"nofollow\">Changelog</a></h2>\n<div id=\"id5\">\n<h3><a href=\"#id20\" rel=\"nofollow\">0.4.0 (2015-03-13)</a></h3>\n<p>Dropped Plone 3 compatibility</p>\n<ul>\n<li>Fixed some label that were not i18n compatible\n[keul]</li>\n<li>Fixed wrong documentation mess introduced on version 0.3:\nthe new \u201cparent\u201d option was wrongly descripted\n[keul]</li>\n<li>Updated documentation to reflect changes done in version 0.3\n[keul]</li>\n</ul>\n</div>\n<div id=\"id6\">\n<h3><a href=\"#id21\" rel=\"nofollow\">0.3.0 (2014-05-06)</a></h3>\n<ul>\n<li>Fix unicode error while replacing strings [nicolasenno]</li>\n<li>Do not fail if a rule is activated on a non-AT content [keul]</li>\n<li>Do not try to send mail to empty string recipients [keul]</li>\n<li>Refactoring [alert]</li>\n<li>Added parent option in the target vocabulary [alert]</li>\n</ul>\n</div>\n<div id=\"id7\">\n<h3><a href=\"#id22\" rel=\"nofollow\">0.2.0 (2013-05-02)</a></h3>\n<ul>\n<li>lowered logging level to debug\n[keul]</li>\n<li>fixed ruleAction factory\n[cekk]</li>\n</ul>\n</div>\n<div id=\"id8\">\n<h3><a href=\"#id23\" rel=\"nofollow\">0.1.0 (2011-10-21)</a></h3>\n<ul>\n<li>Initial release</li>\n</ul>\n</div>\n</div>\n\n          </div>"}, "last_serial": 2341052, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "fa919f24e1b0579e93a2c8dd07ae14fb", "sha256": "799eb29c3c619c4a3e2dd675bbef80d41660a15bb93f55b1b0fa34c3503a1e03"}, "downloads": -1, "filename": "collective.contentrules.mailfromfield-0.1.0.tar.gz", "has_sig": false, "md5_digest": "fa919f24e1b0579e93a2c8dd07ae14fb", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19665, "upload_time": "2011-10-21T10:50:18", "upload_time_iso_8601": "2011-10-21T10:50:18.713477Z", "url": "https://files.pythonhosted.org/packages/24/ce/a4173c3375009902922a8552406661be321d4164d764c505a67a2f4a3cc1/collective.contentrules.mailfromfield-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "8b1f02f5b7ea5678643dcd4f807bbebe", "sha256": "65b8b8a6d80128a3519cc8ad5915c2bbaa08446e31423037e6e929133eaf5816"}, "downloads": -1, "filename": "collective.contentrules.mailfromfield-0.2.0.zip", "has_sig": false, "md5_digest": "8b1f02f5b7ea5678643dcd4f807bbebe", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 34709, "upload_time": "2013-05-02T14:22:38", "upload_time_iso_8601": "2013-05-02T14:22:38.279591Z", "url": "https://files.pythonhosted.org/packages/8f/bc/e5ccd3984be705acaf3e8cc91f1cf3b1af0b951ca4d9dfee2fe343982338/collective.contentrules.mailfromfield-0.2.0.zip", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "d480f1cab8fc0e98a5d8f53961fc523b", "sha256": "0473ce4bbf6dca005460a6f6b28a97449efd39b16b05db9671fcc665f94594bb"}, "downloads": -1, "filename": "collective.contentrules.mailfromfield-0.3.0.zip", "has_sig": false, "md5_digest": "d480f1cab8fc0e98a5d8f53961fc523b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 33860, "upload_time": "2014-05-06T13:20:37", "upload_time_iso_8601": "2014-05-06T13:20:37.225929Z", "url": "https://files.pythonhosted.org/packages/3d/ab/8e2836f0affa0db1b995351487151b1ca919611cc9d913e7cecccd45b60b/collective.contentrules.mailfromfield-0.3.0.zip", "yanked": false}], "0.4.0": [{"comment_text": "", "digests": {"md5": "de77d5d9b896891148d811a64a475b4e", "sha256": "4aaca2b9b1421824a5be4a8663da28f6cf121353dfc03372a16377e6c8ff9340"}, "downloads": -1, "filename": "collective.contentrules.mailfromfield-0.4.0.zip", "has_sig": false, "md5_digest": "de77d5d9b896891148d811a64a475b4e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 38240, "upload_time": "2015-03-13T11:52:43", "upload_time_iso_8601": "2015-03-13T11:52:43.887740Z", "url": "https://files.pythonhosted.org/packages/a2/3c/9914dfeefff90c7c940389c1aa063199f141a216b280fc15abab50d55f58/collective.contentrules.mailfromfield-0.4.0.zip", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "de77d5d9b896891148d811a64a475b4e", "sha256": "4aaca2b9b1421824a5be4a8663da28f6cf121353dfc03372a16377e6c8ff9340"}, "downloads": -1, "filename": "collective.contentrules.mailfromfield-0.4.0.zip", "has_sig": false, "md5_digest": "de77d5d9b896891148d811a64a475b4e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 38240, "upload_time": "2015-03-13T11:52:43", "upload_time_iso_8601": "2015-03-13T11:52:43.887740Z", "url": "https://files.pythonhosted.org/packages/a2/3c/9914dfeefff90c7c940389c1aa063199f141a216b280fc15abab50d55f58/collective.contentrules.mailfromfield-0.4.0.zip", "yanked": false}], "timestamp": "Thu May  7 22:17:58 2020"}
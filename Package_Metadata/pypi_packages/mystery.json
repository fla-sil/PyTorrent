{"info": {"author": "Divo Kaplan", "author_email": "divokaplan@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Other Audience", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# Mystery\n\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n[![Build Status](https://travis-ci.org/DivoK/mystery.svg?branch=master)](https://travis-ci.org/DivoK/mystery)\n[![PyPI pyversions](https://img.shields.io/pypi/pyversions/mystery.svg)](https://pypi.python.org/pypi/mystery/)\n[![PyPI version fury.io](https://badge.fury.io/py/mystery.svg)](https://pypi.python.org/pypi/mystery/)\n[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/ambv/black)\n\n> \"It is a riddle, wrapped in a mystery, inside an enigma.\"\n>\n> -- _Sir Winston Churchill_\n\nMystery is a Python package that is instantiated as a _different_ package every time you install it!\n\nIt was inspired by [this episode](https://pythonbytes.fm/episodes/show/116/so-you-want-python-in-a-3d-graphics-engine) of the wonderful podcast [Python Bytes](https://pythonbytes.fm/) (which in turn talked about [this article](https://dustingram.com/articles/2018/03/05/why-pypi-doesnt-know-dependencies/) regarding pip dependencies).\n\nAlso, a shoutout to [this](https://github.com/hugovk/top-pypi-packages) project by [hugovk](https://github.com/hugovk) that creates dumps of the top downloaded packages in [PyPI](https://pypi.org/) every week. Without it's existence, being able to randomly choose a top package from PyPI would've been a lot less fun.\n\n## Installation\n\nUse the package manager [pip](https://pip.pypa.io/en/stable/) to install mystery.\n\n```bash\npip install --no-cache-dir mystery\n```\n\nThe reason the `--no-cache-dir` flag is used is the [random package choice process](##How-does-it-work?). The dynamically created local instance of the mystery package is simply getting cached so without disabling the caching process the same chosen package will be used in the next reinstallation.\n\n## Usage\n\n```python\nimport mystery  # Who knows what's inside?\n\n# `mystery` is now some random package!\n\nmystery.__name__  # Quick cheat if you really are curious ;)\n\n# Here for testing purposes only but go ahead:\nmystery.__mystery_init_py__  # String path pointing to mystery's __init__.py file.\nmystery.__mystery_package_name__  # The mystery package's supposed name.\n```\n\n## How does it work?\n\nMystery doesn't come with it's own `__init__.py` (well actually it does but it's only for setuptools to work, and even this one is also autogenerated when I distribute the package!).\n\nWhat happens behind the scenes is that a `__init__.py` file is being _dynamically generated_ when the package is built and installed. Mystery uses either the newest online dump of the top downloaded PyPI packages stored in [this repository](https://github.com/hugovk/top-pypi-packages) or (in case the repository was unreachable) the backup [offline dump](top-pypi-packages-30-days.min.json) that comes with mystery's distribution.\n\nAfter choosing a package, mystery's `setup.py` will create a **lockfile** in the temporary directory that will store the chosen package's name. The reason for that is that pip will actually run `setup.py` _twice_: first when building the package (`build_py` command) and again when actually installing the package (`install` command). The lockfile will hence be used after it's creation (first run of `setup.py`) to get the chosen package's name out of it (so the `install_requires` parameter in the two calls to `setuptools.setup()` will be in sync) and will then be deleted.\n\n> **Note** that using a lockfile means that if for some reason the lockfile's state gets out of sync (perhaps the setup process is stopped right after the build phase created the lockfile but before the installation phase deleted it) the next attempts at installing mystery will also **fail**. You can fix that by **manually deleting the lockfile** from your filesystem (it's location is stored in [this configuration file](config.json)).\n\n## I ran `import mystery` but I'm getting an error. Why?\n\nIf your error is in the form of:\n\n> Internal error: ...\n> The mystery package wasn't playing nice. Sorry!\n\nThat (hopefully) means that this package's PyPI name does not coorelate to their name under `setuptools.setup()`, so when mystery tries to import that same name (because again, it's done dynamically using the name registered in PyPI) it simply can't find a matching package and that lovely error message will pop up.\n\nSome famous packages who won't work for this reason are *scikit_learn*, _pyyaml_ and... A bunch of Google's stuff. Just reinstall mystery and have fun with a different package!\n\n## License\n\n[MIT](LICENSE.txt)", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/DivoK/mystery", "keywords": "mystery setuptools fun python-packages random", "license": "", "maintainer": "", "maintainer_email": "", "name": "mystery", "package_url": "https://pypi.org/project/mystery/", "platform": "", "project_url": "https://pypi.org/project/mystery/", "project_urls": {"Homepage": "https://github.com/DivoK/mystery"}, "release_url": "https://pypi.org/project/mystery/1.0.2/", "requires_dist": null, "requires_python": ">=3.6", "summary": "It is a riddle, wrapped in a mystery, inside an enigma.", "version": "1.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Mystery</h1>\n<p><a href=\"https://opensource.org/licenses/MIT\" rel=\"nofollow\"><img alt=\"License: MIT\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8645b002dd7ec1b54275a80574942e7a318e03c6/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d79656c6c6f772e737667\"></a>\n<a href=\"https://travis-ci.org/DivoK/mystery\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/70c32141302988f659bd00eee4bd6670ba578682/68747470733a2f2f7472617669732d63692e6f72672f4469766f4b2f6d7973746572792e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.python.org/pypi/mystery/\" rel=\"nofollow\"><img alt=\"PyPI pyversions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d121e67bd3093507e510627484157437b3420b7f/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6d7973746572792e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/mystery/\" rel=\"nofollow\"><img alt=\"PyPI version fury.io\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d62fa9089b5e3e4dbeb3a4ece17e413d297262c1/68747470733a2f2f62616467652e667572792e696f2f70792f6d7973746572792e737667\"></a>\n<a href=\"https://github.com/ambv/black\" rel=\"nofollow\"><img alt=\"Code style: black\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fbfdc7754183ecf079bc71ddeabaf88f6cbc5c00/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c61636b2d3030303030302e737667\"></a></p>\n<blockquote>\n<p>\"It is a riddle, wrapped in a mystery, inside an enigma.\"</p>\n<p>-- <em>Sir Winston Churchill</em></p>\n</blockquote>\n<p>Mystery is a Python package that is instantiated as a <em>different</em> package every time you install it!</p>\n<p>It was inspired by <a href=\"https://pythonbytes.fm/episodes/show/116/so-you-want-python-in-a-3d-graphics-engine\" rel=\"nofollow\">this episode</a> of the wonderful podcast <a href=\"https://pythonbytes.fm/\" rel=\"nofollow\">Python Bytes</a> (which in turn talked about <a href=\"https://dustingram.com/articles/2018/03/05/why-pypi-doesnt-know-dependencies/\" rel=\"nofollow\">this article</a> regarding pip dependencies).</p>\n<p>Also, a shoutout to <a href=\"https://github.com/hugovk/top-pypi-packages\" rel=\"nofollow\">this</a> project by <a href=\"https://github.com/hugovk\" rel=\"nofollow\">hugovk</a> that creates dumps of the top downloaded packages in <a href=\"https://pypi.org/\" rel=\"nofollow\">PyPI</a> every week. Without it's existence, being able to randomly choose a top package from PyPI would've been a lot less fun.</p>\n<h2>Installation</h2>\n<p>Use the package manager <a href=\"https://pip.pypa.io/en/stable/\" rel=\"nofollow\">pip</a> to install mystery.</p>\n<pre>pip install --no-cache-dir mystery\n</pre>\n<p>The reason the <code>--no-cache-dir</code> flag is used is the <a href=\"##How-does-it-work?\" rel=\"nofollow\">random package choice process</a>. The dynamically created local instance of the mystery package is simply getting cached so without disabling the caching process the same chosen package will be used in the next reinstallation.</p>\n<h2>Usage</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">mystery</span>  <span class=\"c1\"># Who knows what's inside?</span>\n\n<span class=\"c1\"># `mystery` is now some random package!</span>\n\n<span class=\"n\">mystery</span><span class=\"o\">.</span><span class=\"vm\">__name__</span>  <span class=\"c1\"># Quick cheat if you really are curious ;)</span>\n\n<span class=\"c1\"># Here for testing purposes only but go ahead:</span>\n<span class=\"n\">mystery</span><span class=\"o\">.</span><span class=\"n\">__mystery_init_py__</span>  <span class=\"c1\"># String path pointing to mystery's __init__.py file.</span>\n<span class=\"n\">mystery</span><span class=\"o\">.</span><span class=\"n\">__mystery_package_name__</span>  <span class=\"c1\"># The mystery package's supposed name.</span>\n</pre>\n<h2>How does it work?</h2>\n<p>Mystery doesn't come with it's own <code>__init__.py</code> (well actually it does but it's only for setuptools to work, and even this one is also autogenerated when I distribute the package!).</p>\n<p>What happens behind the scenes is that a <code>__init__.py</code> file is being <em>dynamically generated</em> when the package is built and installed. Mystery uses either the newest online dump of the top downloaded PyPI packages stored in <a href=\"https://github.com/hugovk/top-pypi-packages\" rel=\"nofollow\">this repository</a> or (in case the repository was unreachable) the backup <a href=\"top-pypi-packages-30-days.min.json\" rel=\"nofollow\">offline dump</a> that comes with mystery's distribution.</p>\n<p>After choosing a package, mystery's <code>setup.py</code> will create a <strong>lockfile</strong> in the temporary directory that will store the chosen package's name. The reason for that is that pip will actually run <code>setup.py</code> <em>twice</em>: first when building the package (<code>build_py</code> command) and again when actually installing the package (<code>install</code> command). The lockfile will hence be used after it's creation (first run of <code>setup.py</code>) to get the chosen package's name out of it (so the <code>install_requires</code> parameter in the two calls to <code>setuptools.setup()</code> will be in sync) and will then be deleted.</p>\n<blockquote>\n<p><strong>Note</strong> that using a lockfile means that if for some reason the lockfile's state gets out of sync (perhaps the setup process is stopped right after the build phase created the lockfile but before the installation phase deleted it) the next attempts at installing mystery will also <strong>fail</strong>. You can fix that by <strong>manually deleting the lockfile</strong> from your filesystem (it's location is stored in <a href=\"config.json\" rel=\"nofollow\">this configuration file</a>).</p>\n</blockquote>\n<h2>I ran <code>import mystery</code> but I'm getting an error. Why?</h2>\n<p>If your error is in the form of:</p>\n<blockquote>\n<p>Internal error: ...\nThe mystery package wasn't playing nice. Sorry!</p>\n</blockquote>\n<p>That (hopefully) means that this package's PyPI name does not coorelate to their name under <code>setuptools.setup()</code>, so when mystery tries to import that same name (because again, it's done dynamically using the name registered in PyPI) it simply can't find a matching package and that lovely error message will pop up.</p>\n<p>Some famous packages who won't work for this reason are <em>scikit_learn</em>, <em>pyyaml</em> and... A bunch of Google's stuff. Just reinstall mystery and have fun with a different package!</p>\n<h2>License</h2>\n<p><a href=\"LICENSE.txt\" rel=\"nofollow\">MIT</a></p>\n\n          </div>"}, "last_serial": 5358563, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "8d431b4f2e113c78897ee5ea06bafee2", "sha256": "45a5ea719cc4160fc0ca71b9f26a82a67602c1bf84556f8408a110dec5c78295"}, "downloads": -1, "filename": "mystery-1.0.0.tar.gz", "has_sig": false, "md5_digest": "8d431b4f2e113c78897ee5ea06bafee2", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 56184, "upload_time": "2019-05-31T12:31:48", "upload_time_iso_8601": "2019-05-31T12:31:48.230793Z", "url": "https://files.pythonhosted.org/packages/20/ba/dfda683b79970f39fca3788016e714516072f46c5c7a4bb8bc6f79a40aa8/mystery-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "afe82b0cfd9de473041827b21205611f", "sha256": "b33d2c298838c06cec2a08e8f865d7d870ad74489f2540b9bb334ac9b4a1943e"}, "downloads": -1, "filename": "mystery-1.0.1.tar.gz", "has_sig": false, "md5_digest": "afe82b0cfd9de473041827b21205611f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 56936, "upload_time": "2019-06-03T21:47:29", "upload_time_iso_8601": "2019-06-03T21:47:29.668846Z", "url": "https://files.pythonhosted.org/packages/95/87/d41d22fe91e0c3fd20dfe1e5b85f90790237e0d66263d004b8eec276a52c/mystery-1.0.1.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "e4dd214dba0a3000cad29e87346305cf", "sha256": "66c7d473b0daf9769eaaf091d2fcef622c2518c394fc1918a0d7fc47ba99560a"}, "downloads": -1, "filename": "mystery-1.0.2.tar.gz", "has_sig": false, "md5_digest": "e4dd214dba0a3000cad29e87346305cf", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 56962, "upload_time": "2019-06-04T16:31:25", "upload_time_iso_8601": "2019-06-04T16:31:25.889220Z", "url": "https://files.pythonhosted.org/packages/7d/10/839cbc6e924983ed61b66c54f87c61a48c3c12c8197cbc458bcbaa4429be/mystery-1.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e4dd214dba0a3000cad29e87346305cf", "sha256": "66c7d473b0daf9769eaaf091d2fcef622c2518c394fc1918a0d7fc47ba99560a"}, "downloads": -1, "filename": "mystery-1.0.2.tar.gz", "has_sig": false, "md5_digest": "e4dd214dba0a3000cad29e87346305cf", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 56962, "upload_time": "2019-06-04T16:31:25", "upload_time_iso_8601": "2019-06-04T16:31:25.889220Z", "url": "https://files.pythonhosted.org/packages/7d/10/839cbc6e924983ed61b66c54f87c61a48c3c12c8197cbc458bcbaa4429be/mystery-1.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:48:00 2020"}
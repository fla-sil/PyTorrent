{"info": {"author": "Carlos Salom", "author_email": "csalom@apsl.net", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django", "Intended Audience :: Developers", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Software Development"], "description": "Wagtail JsonSchema Forms\n========================\n\n.. image:: https://api.travis-ci.org/APSL/wagtail-jsonschema-forms.svg?branch=master\n    :target: https://travis-ci.org/APSL/wagtail-jsonschema-forms\n\nWagtail JsonSchema Forms is a simple Django app to Generate JsonSchema Forms from Wagtail's forms and validate it.\n\nThis app allows the generation of a JsonSchema form from a Wagtail's form in order to use JsonSchema technology.\nIn addition, it allows you to parse the response and validate it. After the validation, the wagtail form is\nsubmitted.\n\nFor example, you can retrieve the jsonschema from through an api, then validate the submitted data and finally\nsubmit de wagtail form.\n\nInstallation\n------------\n\nYou can install \"wagtail_jsonschema_forms\" via `pip`_ from `APSL GitHub`_:\n\n* pip install git+https://github.com/APSL/wagtail_jsonschema_forms.git#egg=wagtail_jsonschema_forms\n\nAnd then you have to add :code:`wagtail_jsonschema_forms` to your :code:`INSTALLED_APPS`.\n\n\nUtilities provided\n------------------\nThis app offers two python classes to generate the jsonschema and to submit the json response.\n\nJsonSchemaGenerator\n~~~~~~~~~~~~~~~~~~~\n\nThis first class has a method :code:`wagtail_form_to_json_schema` that goes over\nall the fields of the form and generate its jsonschema representation, if they are suported.\n\nEvery suported field type has a method that generate the representation, which is called during the generation.\nIf the field is required, it will be indicated too.\n\n\nJsonSchemaParser\n~~~~~~~~~~~~~~~~\n\nThis second class provides two main methods:\n\n* :code:`validate_json`:\n    method that validates the json recieved under the schema a return a dict with the possible errors.\n    If there are no error, a empty dict will be returned.\n* :code:`process_form_submission`:\n    method that accepts form instance with submitted data and page and creates submission instance.\n    Inside of this method, another one is called to format the data submited in order to create the\n    submission instance.\n\n\nUsage\n-----\nAs was explained before, this django app generates jsonschema forms from Wagtail's form and validate it.\nWagtail's forms offers a very rich set of form field types. However, not all of them are suported on\nJsonSchema and has not been covered on this app. For that reason, when you declare your :code:`FormField`\nclass on your models.py you should override the field_type field and the :code:`FORM_FIELD_CHOICES` variable:\n\n.. code-block:: python\n\n    FORM_FIELD_CHOICES = (\n        ('singleline', _('Single line text')),\n        ('multiline', _('Multi-line text')),\n        ('email', _('Email')),\n        ('number', _('Number')),\n        ('url', _('URL')),\n        ('checkbox', _('Checkbox')),\n        ('dropdown', _('Drop down')),\n        ('date', _('Date')),\n        ('datetime', _('Date/time')),\n      )\n\n    field_type = models.CharField(verbose_name=_('field type'), max_length=16, choices=FORM_FIELD_CHOICES)\n\nThere are two ways to use wagtail_json_schema_forms: you can choose between using the mixins or the abstract\nmodels provided.\n\nMixins\n~~~~~~\n\nIf you choose to use the mixins, the first thing thant you have to do is to add a new :code:`TextField` atribute\nto your wagtail form page called 'json_schema'. This field will be used to save the JsonSchema representation\nof the form.\n\nTwo mixins are provided: :code:`JsonSchemaFormMixin` and :code:`JsonSchemaEmailFormMixin`, which inherit from the first one.\n\n:code:`JsonSchemaFormMixin` overrides the save method in order to generate the json schema before every time the\nwagtail page is saved. This mixin uses the generator class explained above to prepare the jsonschema from the form.\n\nIt's also overrided the method :code:`process_form_submission`, where it's checked if the form has been submited as\na usual wagtail form or using jsonschema. If jsonschema has been used for submition, the parser class is used\nto register the form submission.\n\nAs said, the :code:`JsonSchemaEmailFormMixin` inherits from :code:`JsonSchemaFormMixin`. The diference between them is in\nthe process of the form submission. This second mixin tries to send an email after the form submission, if the\n:code:`to_address` attribute of the wagtail page has been filed.\n\n\nAbstract Models\n~~~~~~~~~~~~~~~\n\nAgain, there are two abstract models provided to allow to add the jsonschema functionality to a plain WagtailForm\nand a EmailWagtailForm: :code:`AbstractJsonSchemaForm` and :code:`AbstractJsonSchemaEmailForm`.\n\nThese abstract models inherit from the mixins explained above and the :code:`AbstractForm` or :code:`AbstractEmailForm`.\nThey also add the new :code:`TextField` atribute required. Then, Wagtail Pages implementing a form that need to\ngenerate a JsonSchema (and to send and email) should inherit from it.\n\n\n\nContributing\n------------\n\nContributions are very welcome. Please open a pull request or `file an issue`_.\nTests will be ready as soon as posible, please ensure the coverage at least stays the same\nbefore you submit a pull request.\n\nLicense\n-------\n\nDistributed under the terms of the `MIT`_ license, \"wagtail_jsonschema_forms\" is free and open source software\n\n\nIssues\n------\n\nIf you encounter any problems, please `file an issue`_ along with a detailed description.\n\n.. _`pip`: https://pypi.python.org/pypi/pip/\n.. _`APSL GitHub`: https://github.com/APSL/wagtail_jsonschema_forms\n.. _`file an issue`: https://github.com/APSL/wagtail_jsonschema_forms/issues\n.. _`MIT`: http://opensource.org/licenses/MIT", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/APSL/wagtail-jsonschema-forms", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "wagtail-jsonschema-forms", "package_url": "https://pypi.org/project/wagtail-jsonschema-forms/", "platform": "", "project_url": "https://pypi.org/project/wagtail-jsonschema-forms/", "project_urls": {"Homepage": "https://github.com/APSL/wagtail-jsonschema-forms"}, "release_url": "https://pypi.org/project/wagtail-jsonschema-forms/0.1/", "requires_dist": null, "requires_python": "", "summary": "Generate JsonSchema Forms from Wagtail's forms and validate it", "version": "0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://travis-ci.org/APSL/wagtail-jsonschema-forms\" rel=\"nofollow\"><img alt=\"https://api.travis-ci.org/APSL/wagtail-jsonschema-forms.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/229ab3ad9d5112bd957e877d785089a3d87e4254/68747470733a2f2f6170692e7472617669732d63692e6f72672f4150534c2f7761677461696c2d6a736f6e736368656d612d666f726d732e7376673f6272616e63683d6d6173746572\"></a>\n<p>Wagtail JsonSchema Forms is a simple Django app to Generate JsonSchema Forms from Wagtail\u2019s forms and validate it.</p>\n<p>This app allows the generation of a JsonSchema form from a Wagtail\u2019s form in order to use JsonSchema technology.\nIn addition, it allows you to parse the response and validate it. After the validation, the wagtail form is\nsubmitted.</p>\n<p>For example, you can retrieve the jsonschema from through an api, then validate the submitted data and finally\nsubmit de wagtail form.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>You can install \u201cwagtail_jsonschema_forms\u201d via <a href=\"https://pypi.python.org/pypi/pip/\" rel=\"nofollow\">pip</a> from <a href=\"https://github.com/APSL/wagtail_jsonschema_forms\" rel=\"nofollow\">APSL GitHub</a>:</p>\n<ul>\n<li>pip install git+https://github.com/APSL/wagtail_jsonschema_forms.git#egg=wagtail_jsonschema_forms</li>\n</ul>\n<p>And then you have to add <code>wagtail_jsonschema_forms</code> to your <code>INSTALLED_APPS</code>.</p>\n</div>\n<div id=\"utilities-provided\">\n<h2>Utilities provided</h2>\n<p>This app offers two python classes to generate the jsonschema and to submit the json response.</p>\n<div id=\"jsonschemagenerator\">\n<h3>JsonSchemaGenerator</h3>\n<p>This first class has a method <code>wagtail_form_to_json_schema</code> that goes over\nall the fields of the form and generate its jsonschema representation, if they are suported.</p>\n<p>Every suported field type has a method that generate the representation, which is called during the generation.\nIf the field is required, it will be indicated too.</p>\n</div>\n<div id=\"jsonschemaparser\">\n<h3>JsonSchemaParser</h3>\n<p>This second class provides two main methods:</p>\n<ul>\n<li><dl>\n<dt><code>validate_json</code>:</dt>\n<dd>method that validates the json recieved under the schema a return a dict with the possible errors.\nIf there are no error, a empty dict will be returned.</dd>\n</dl>\n</li>\n<li><dl>\n<dt><code>process_form_submission</code>:</dt>\n<dd>method that accepts form instance with submitted data and page and creates submission instance.\nInside of this method, another one is called to format the data submited in order to create the\nsubmission instance.</dd>\n</dl>\n</li>\n</ul>\n</div>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>As was explained before, this django app generates jsonschema forms from Wagtail\u2019s form and validate it.\nWagtail\u2019s forms offers a very rich set of form field types. However, not all of them are suported on\nJsonSchema and has not been covered on this app. For that reason, when you declare your <code>FormField</code>\nclass on your models.py you should override the field_type field and the <code>FORM_FIELD_CHOICES</code> variable:</p>\n<pre><span class=\"n\">FORM_FIELD_CHOICES</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"p\">(</span><span class=\"s1\">'singleline'</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s1\">'Single line text'</span><span class=\"p\">)),</span>\n    <span class=\"p\">(</span><span class=\"s1\">'multiline'</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s1\">'Multi-line text'</span><span class=\"p\">)),</span>\n    <span class=\"p\">(</span><span class=\"s1\">'email'</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s1\">'Email'</span><span class=\"p\">)),</span>\n    <span class=\"p\">(</span><span class=\"s1\">'number'</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s1\">'Number'</span><span class=\"p\">)),</span>\n    <span class=\"p\">(</span><span class=\"s1\">'url'</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s1\">'URL'</span><span class=\"p\">)),</span>\n    <span class=\"p\">(</span><span class=\"s1\">'checkbox'</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s1\">'Checkbox'</span><span class=\"p\">)),</span>\n    <span class=\"p\">(</span><span class=\"s1\">'dropdown'</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s1\">'Drop down'</span><span class=\"p\">)),</span>\n    <span class=\"p\">(</span><span class=\"s1\">'date'</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s1\">'Date'</span><span class=\"p\">)),</span>\n    <span class=\"p\">(</span><span class=\"s1\">'datetime'</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s1\">'Date/time'</span><span class=\"p\">)),</span>\n  <span class=\"p\">)</span>\n\n<span class=\"n\">field_type</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">verbose_name</span><span class=\"o\">=</span><span class=\"n\">_</span><span class=\"p\">(</span><span class=\"s1\">'field type'</span><span class=\"p\">),</span> <span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">16</span><span class=\"p\">,</span> <span class=\"n\">choices</span><span class=\"o\">=</span><span class=\"n\">FORM_FIELD_CHOICES</span><span class=\"p\">)</span>\n</pre>\n<p>There are two ways to use wagtail_json_schema_forms: you can choose between using the mixins or the abstract\nmodels provided.</p>\n<div id=\"mixins\">\n<h3>Mixins</h3>\n<p>If you choose to use the mixins, the first thing thant you have to do is to add a new <code>TextField</code> atribute\nto your wagtail form page called \u2018json_schema\u2019. This field will be used to save the JsonSchema representation\nof the form.</p>\n<p>Two mixins are provided: <code>JsonSchemaFormMixin</code> and <code>JsonSchemaEmailFormMixin</code>, which inherit from the first one.</p>\n<p><code>JsonSchemaFormMixin</code> overrides the save method in order to generate the json schema before every time the\nwagtail page is saved. This mixin uses the generator class explained above to prepare the jsonschema from the form.</p>\n<p>It\u2019s also overrided the method <code>process_form_submission</code>, where it\u2019s checked if the form has been submited as\na usual wagtail form or using jsonschema. If jsonschema has been used for submition, the parser class is used\nto register the form submission.</p>\n<p>As said, the <code>JsonSchemaEmailFormMixin</code> inherits from <code>JsonSchemaFormMixin</code>. The diference between them is in\nthe process of the form submission. This second mixin tries to send an email after the form submission, if the\n<code>to_address</code> attribute of the wagtail page has been filed.</p>\n</div>\n<div id=\"abstract-models\">\n<h3>Abstract Models</h3>\n<p>Again, there are two abstract models provided to allow to add the jsonschema functionality to a plain WagtailForm\nand a EmailWagtailForm: <code>AbstractJsonSchemaForm</code> and <code>AbstractJsonSchemaEmailForm</code>.</p>\n<p>These abstract models inherit from the mixins explained above and the <code>AbstractForm</code> or <code>AbstractEmailForm</code>.\nThey also add the new <code>TextField</code> atribute required. Then, Wagtail Pages implementing a form that need to\ngenerate a JsonSchema (and to send and email) should inherit from it.</p>\n</div>\n</div>\n<div id=\"contributing\">\n<h2>Contributing</h2>\n<p>Contributions are very welcome. Please open a pull request or <a href=\"https://github.com/APSL/wagtail_jsonschema_forms/issues\" rel=\"nofollow\">file an issue</a>.\nTests will be ready as soon as posible, please ensure the coverage at least stays the same\nbefore you submit a pull request.</p>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>Distributed under the terms of the <a href=\"http://opensource.org/licenses/MIT\" rel=\"nofollow\">MIT</a> license, \u201cwagtail_jsonschema_forms\u201d is free and open source software</p>\n</div>\n<div id=\"issues\">\n<h2>Issues</h2>\n<p>If you encounter any problems, please <a href=\"https://github.com/APSL/wagtail_jsonschema_forms/issues\" rel=\"nofollow\">file an issue</a> along with a detailed description.</p>\n</div>\n\n          </div>"}, "last_serial": 3267145, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "150b8b463ac1a562e0c796992650b672", "sha256": "b626926d7478a9fe130634880de13a05effb125329d16af58fdc892c249bbb7b"}, "downloads": -1, "filename": "wagtail-jsonschema-forms-0.1.tar.gz", "has_sig": false, "md5_digest": "150b8b463ac1a562e0c796992650b672", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13331, "upload_time": "2017-10-20T21:51:59", "upload_time_iso_8601": "2017-10-20T21:51:59.562609Z", "url": "https://files.pythonhosted.org/packages/6e/38/d4c9221bfb0eee9bb8731680bede4ba457a0e9b737f9e62ca69bc20922d5/wagtail-jsonschema-forms-0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "150b8b463ac1a562e0c796992650b672", "sha256": "b626926d7478a9fe130634880de13a05effb125329d16af58fdc892c249bbb7b"}, "downloads": -1, "filename": "wagtail-jsonschema-forms-0.1.tar.gz", "has_sig": false, "md5_digest": "150b8b463ac1a562e0c796992650b672", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13331, "upload_time": "2017-10-20T21:51:59", "upload_time_iso_8601": "2017-10-20T21:51:59.562609Z", "url": "https://files.pythonhosted.org/packages/6e/38/d4c9221bfb0eee9bb8731680bede4ba457a0e9b737f9e62ca69bc20922d5/wagtail-jsonschema-forms-0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:33:02 2020"}
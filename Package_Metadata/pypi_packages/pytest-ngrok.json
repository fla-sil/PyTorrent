{"info": {"author": "Apkawa", "author_email": "apkawa@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Environment :: Web Environment", "Framework :: Pytest", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: 3.9"], "description": "[![PyPi](https://img.shields.io/pypi/v/pytest-ngrok.svg)](https://pypi.python.org/pypi/pytest-ngrok)\n[![PyPI](https://img.shields.io/pypi/pyversions/pytest-ngrok.svg)](https://pypi.python.org/pypi/pytest-ngrok)\n[![Build Status](https://travis-ci.org/Apkawa/pytest-ngrok.svg?branch=master)](https://travis-ci.org/Apkawa/pytest-ngrok)\n[![Documentation Status](https://readthedocs.org/projects/pytest-ngrok/badge/?version=latest)](https://pytest-ngrok.readthedocs.io/en/latest/?badge=latest)\n\n<!--\n[![codecov](https://codecov.io/gh/Apkawa/pytest-ngrok/branch/master/graph/badge.svg)](https://codecov.io/gh/Apkawa/pytest-ngrok)\n[![Requirements Status](https://requires.io/github/Apkawa/pytest-ngrok/requirements.svg?branch=master)](https://requires.io/github/Apkawa/pytest-ngrok/requirements/?branch=master)\n[![PyUP](https://pyup.io/repos/github/Apkawa/pytest-ngrok/shield.svg)](https://pyup.io/repos/github/Apkawa/pytest-ngrok)\n-->\n\npytest integration for [ngrok.io](https://ngrok.com/)\n\n# Installation\n\nfrom PyPi\n\n```bash\npip install pytest-ngrok\n```\nor from git\n\n```bash\npip install -e git+https://githib.com/Apkawa/pytest-ngrok.git#egg=pytest-ngrok\n```\n\n\n# Usage\n\n```python\nimport pytest\n\nfrom urllib.error import HTTPError\nfrom urllib.request import urlopen\n\ndef test_ngrok(ngrok, httpserver):\n    httpserver.expect_request(\"/foobar\").respond_with_data(\"ok\")\n    remote_url = ngrok(httpserver.port)\n    assert urlopen(remote_url + \"/foobar\").read() == b'ok'\n\n\ndef test_ngrok_context_manager(ngrok, httpserver):\n    # example local server\n    httpserver.expect_request(\"/foobar\").respond_with_data(\"ok\")\n    with ngrok(httpserver.port) as remote_url:\n        _test_url = str(remote_url) + '/foobar'\n        assert urlopen(_test_url).read() == b'ok'\n\n    # Connection closes\n    pytest.raises(HTTPError, urlopen, _test_url)\n```\n\nWith `pytest-django` can use fixture `live_server_ngrok` \n\n```python\ndef test_server(live_server_ngrok):\n    assert live_server_ngrok.url.endswith('ngrok.io')\n```\n\n# Contributing\n\n## Initialize \n\n```bash\npython -m venv /tmp/.venv/pytest-ngrok\nsource /tmp/.venv/pytest-ngrok/activate\npip install -r requirements-dev.txt\n```\n\n## Run tests\n\n```bash\npytest\ntox\n```\n\n## Update version\n\n```bash\npython setup.py bumpversion\n```\n\n## Publish pypi\n\n```bash\npython setup.py publish\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Apkawa/pytest-ngrok", "keywords": "pytest", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "pytest-ngrok", "package_url": "https://pypi.org/project/pytest-ngrok/", "platform": "", "project_url": "https://pypi.org/project/pytest-ngrok/", "project_urls": {"Homepage": "https://github.com/Apkawa/pytest-ngrok"}, "release_url": "https://pypi.org/project/pytest-ngrok/0.0.3/", "requires_dist": null, "requires_python": "", "summary": "", "version": "0.0.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://pypi.python.org/pypi/pytest-ngrok\" rel=\"nofollow\"><img alt=\"PyPi\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dff6f6a3eff770513608e9d02c9adf14631d5790/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7079746573742d6e67726f6b2e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/pytest-ngrok\" rel=\"nofollow\"><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/53c9aa0cd3b4a50c2dfc3fa600c5494847d1c01a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f7079746573742d6e67726f6b2e737667\"></a>\n<a href=\"https://travis-ci.org/Apkawa/pytest-ngrok\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5557bb2bdb5370ec2ff3d2384c5ef15c6737cba6/68747470733a2f2f7472617669732d63692e6f72672f41706b6177612f7079746573742d6e67726f6b2e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pytest-ngrok.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6adfd72113611c95dd4ccfc28db8b408ce80558a/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f7079746573742d6e67726f6b2f62616467652f3f76657273696f6e3d6c6174657374\"></a></p>\n\n<p>pytest integration for <a href=\"https://ngrok.com/\" rel=\"nofollow\">ngrok.io</a></p>\n<h1>Installation</h1>\n<p>from PyPi</p>\n<pre>pip install pytest-ngrok\n</pre>\n<p>or from git</p>\n<pre>pip install -e git+https://githib.com/Apkawa/pytest-ngrok.git#egg<span class=\"o\">=</span>pytest-ngrok\n</pre>\n<h1>Usage</h1>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">pytest</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">urllib.error</span> <span class=\"kn\">import</span> <span class=\"n\">HTTPError</span>\n<span class=\"kn\">from</span> <span class=\"nn\">urllib.request</span> <span class=\"kn\">import</span> <span class=\"n\">urlopen</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">test_ngrok</span><span class=\"p\">(</span><span class=\"n\">ngrok</span><span class=\"p\">,</span> <span class=\"n\">httpserver</span><span class=\"p\">):</span>\n    <span class=\"n\">httpserver</span><span class=\"o\">.</span><span class=\"n\">expect_request</span><span class=\"p\">(</span><span class=\"s2\">\"/foobar\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">respond_with_data</span><span class=\"p\">(</span><span class=\"s2\">\"ok\"</span><span class=\"p\">)</span>\n    <span class=\"n\">remote_url</span> <span class=\"o\">=</span> <span class=\"n\">ngrok</span><span class=\"p\">(</span><span class=\"n\">httpserver</span><span class=\"o\">.</span><span class=\"n\">port</span><span class=\"p\">)</span>\n    <span class=\"k\">assert</span> <span class=\"n\">urlopen</span><span class=\"p\">(</span><span class=\"n\">remote_url</span> <span class=\"o\">+</span> <span class=\"s2\">\"/foobar\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"sa\">b</span><span class=\"s1\">'ok'</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">test_ngrok_context_manager</span><span class=\"p\">(</span><span class=\"n\">ngrok</span><span class=\"p\">,</span> <span class=\"n\">httpserver</span><span class=\"p\">):</span>\n    <span class=\"c1\"># example local server</span>\n    <span class=\"n\">httpserver</span><span class=\"o\">.</span><span class=\"n\">expect_request</span><span class=\"p\">(</span><span class=\"s2\">\"/foobar\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">respond_with_data</span><span class=\"p\">(</span><span class=\"s2\">\"ok\"</span><span class=\"p\">)</span>\n    <span class=\"k\">with</span> <span class=\"n\">ngrok</span><span class=\"p\">(</span><span class=\"n\">httpserver</span><span class=\"o\">.</span><span class=\"n\">port</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">remote_url</span><span class=\"p\">:</span>\n        <span class=\"n\">_test_url</span> <span class=\"o\">=</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">remote_url</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"s1\">'/foobar'</span>\n        <span class=\"k\">assert</span> <span class=\"n\">urlopen</span><span class=\"p\">(</span><span class=\"n\">_test_url</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"sa\">b</span><span class=\"s1\">'ok'</span>\n\n    <span class=\"c1\"># Connection closes</span>\n    <span class=\"n\">pytest</span><span class=\"o\">.</span><span class=\"n\">raises</span><span class=\"p\">(</span><span class=\"n\">HTTPError</span><span class=\"p\">,</span> <span class=\"n\">urlopen</span><span class=\"p\">,</span> <span class=\"n\">_test_url</span><span class=\"p\">)</span>\n</pre>\n<p>With <code>pytest-django</code> can use fixture <code>live_server_ngrok</code></p>\n<pre><span class=\"k\">def</span> <span class=\"nf\">test_server</span><span class=\"p\">(</span><span class=\"n\">live_server_ngrok</span><span class=\"p\">):</span>\n    <span class=\"k\">assert</span> <span class=\"n\">live_server_ngrok</span><span class=\"o\">.</span><span class=\"n\">url</span><span class=\"o\">.</span><span class=\"n\">endswith</span><span class=\"p\">(</span><span class=\"s1\">'ngrok.io'</span><span class=\"p\">)</span>\n</pre>\n<h1>Contributing</h1>\n<h2>Initialize</h2>\n<pre>python -m venv /tmp/.venv/pytest-ngrok\n<span class=\"nb\">source</span> /tmp/.venv/pytest-ngrok/activate\npip install -r requirements-dev.txt\n</pre>\n<h2>Run tests</h2>\n<pre>pytest\ntox\n</pre>\n<h2>Update version</h2>\n<pre>python setup.py bumpversion\n</pre>\n<h2>Publish pypi</h2>\n<pre>python setup.py publish\n</pre>\n\n          </div>"}, "last_serial": 6499671, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "36321459583a97750be71f47a46be105", "sha256": "4355f33fdf525194c5116644686c2ba0edf419765837e58f2b7faa37cf474ee1"}, "downloads": -1, "filename": "pytest_ngrok-0.0.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "36321459583a97750be71f47a46be105", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 6691, "upload_time": "2020-01-17T10:47:43", "upload_time_iso_8601": "2020-01-17T10:47:43.684429Z", "url": "https://files.pythonhosted.org/packages/70/88/7dcf93919083b783f87b3f0bf4a0dec94dc95e4afc49a16398172da81a7a/pytest_ngrok-0.0.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a4bd4083a9a846b31691484762c9808b", "sha256": "974407364e99481a26fcacc8b3941af0b4ace3c3212ed341aad7ac6b2b30410e"}, "downloads": -1, "filename": "pytest-ngrok-0.0.1.tar.gz", "has_sig": false, "md5_digest": "a4bd4083a9a846b31691484762c9808b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5249, "upload_time": "2020-01-17T10:47:46", "upload_time_iso_8601": "2020-01-17T10:47:46.062987Z", "url": "https://files.pythonhosted.org/packages/30/ae/a2f18e63e18b3ef96af6c98c4ff82a9781fbe04ed5a7eb2cb4f1e17173f0/pytest-ngrok-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "aa5e4884c61d8239a0e8dfb63c44bdda", "sha256": "682ad2dec5dcdace485ef5a53ca6123e22ecfaa2456be48b6c9d173acd1743fd"}, "downloads": -1, "filename": "pytest_ngrok-0.0.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "aa5e4884c61d8239a0e8dfb63c44bdda", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 6686, "upload_time": "2020-01-17T15:43:13", "upload_time_iso_8601": "2020-01-17T15:43:13.537648Z", "url": "https://files.pythonhosted.org/packages/e0/84/602c9dbd8a7e460bdb3d3a2ebc5ca0577016ce7a026834542da35b22e5a7/pytest_ngrok-0.0.2-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "47cbdf4dd78d0e67d63d98a4ca4ccdec", "sha256": "c5a9c11ac9732d79a833b88637441c2522911596d3cf8d56ee6f3636fd6ea488"}, "downloads": -1, "filename": "pytest-ngrok-0.0.2.tar.gz", "has_sig": false, "md5_digest": "47cbdf4dd78d0e67d63d98a4ca4ccdec", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5282, "upload_time": "2020-01-17T15:43:15", "upload_time_iso_8601": "2020-01-17T15:43:15.046008Z", "url": "https://files.pythonhosted.org/packages/3e/03/bdadd07997cc2621365487ee0e0e2a5c927890e060195c4c7e2dee4704c7/pytest-ngrok-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "61951cb15718c812b7f79000716b90e0", "sha256": "cafd0fa0c0418d5e5922aceb2abea3a2d083c9498f727f0d7cdace2f8c5d0d5b"}, "downloads": -1, "filename": "pytest-ngrok-0.0.3.tar.gz", "has_sig": false, "md5_digest": "61951cb15718c812b7f79000716b90e0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5192, "upload_time": "2020-01-22T11:09:40", "upload_time_iso_8601": "2020-01-22T11:09:40.807239Z", "url": "https://files.pythonhosted.org/packages/43/72/4780ff1e10a45df8a9585136d392ae3e8e8027e5eefec9a99a9c0d3ef6ca/pytest-ngrok-0.0.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "61951cb15718c812b7f79000716b90e0", "sha256": "cafd0fa0c0418d5e5922aceb2abea3a2d083c9498f727f0d7cdace2f8c5d0d5b"}, "downloads": -1, "filename": "pytest-ngrok-0.0.3.tar.gz", "has_sig": false, "md5_digest": "61951cb15718c812b7f79000716b90e0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5192, "upload_time": "2020-01-22T11:09:40", "upload_time_iso_8601": "2020-01-22T11:09:40.807239Z", "url": "https://files.pythonhosted.org/packages/43/72/4780ff1e10a45df8a9585136d392ae3e8e8027e5eefec9a99a9c0d3ef6ca/pytest-ngrok-0.0.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:54:56 2020"}
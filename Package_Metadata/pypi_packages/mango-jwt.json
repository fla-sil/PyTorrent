{"info": {"author": "Srijan Anand", "author_email": "srijan.pydev@gmail.com", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django", "Framework :: Django :: 2.0", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Internet :: WWW/HTTP", "Topic :: Internet :: WWW/HTTP :: Dynamic Content"], "description": "=========\nMango-JWT\n=========\n\nMango-JWT is a minimal JWT User Authentication tool for Django Rest Framework and MongoDB. Recommended for developers using django-rest-framework and pymongo. Not supported in versions below Django 2.0. ::\n\n    pip install mango-jwt\n\n\n\nQuick start\n-----------\n\n1. Add \"mongo_auth\" to your INSTALLED_APPS setting below \"rest_framework\"::\n\n    INSTALLED_APPS = [\n        ...\n        'rest_framework',\n        'mongo_auth',\n    ]\n\n\n2. Include the mongo_auth URLconf in your project urls.py like this::\n\n    path('mongo_auth/', include('mongo_auth.urls')),\n\n3. Add DB config in settings.py :- ::\n\n    # Minimal settings (all mandatory)\n    MANGO_JWT_SETTINGS = {\n        \"db_host\": \"some_db_host\", # Use srv host if connecting with MongoDB Atlas Cluster\n        \"db_port\": \"some_db_port\", # Don't include this field if connecting with MongoDB Atlas Cluster\n        \"db_name\": \"for_example_auth_db\",\n        \"db_user\": \"username\",\n        \"db_pass\": \"password\"\n    }\n\n\n    # Or use Advanced Settings (including optional settings)\n    MANGO_JWT_SETTINGS = {\n        \"db_host\": \"some_db_host\",\n        \"db_port\": \"some_db_port\",\n        \"db_name\": \"for_example_auth_db\",\n        \"db_user\": \"username\",\n        \"db_pass\": \"password\",\n        \"auth_collection\": \"name_your_auth_collection\", # default is \"user_profile\"\n        \"fields\": (\"email\", \"password\"), # default\n        \"jwt_secret\": \"secret\", # default\n        \"jwt_life\": 7, # default (in days)\n        \"secondary_username_field\": \"mobile\" # default is None\n    }\n\n\n**PLEASE NOTE: If you are connecting MongoDB Atlas Cluster, don't include \"db_port\" and use srv host in \"db_host\" e.g. if your host is showing mongodb+srv://something.mongodb.net/test in your account, then use \"something.mongodb.net\" as your host.**\n\n4. If **secondary_username_field** is provided, users will be able to login with this field as well as \"email\". This is best for scenarios where you want users to login with either of their unique fields.\n\n   For example, you may want users to login with \"email\" or \"mobile\".\n\n5. You may or may not include \"secondary_username_field\" in \"fields\".\n\n    **Note: \"secondary_username_field\" cannot be \"email\" as its \"primary_username\" and \"secondary_username_field\" will be set to None instead.**\n\n6. Make a POST request on http://127.0.0.1:8000/mongo_auth/signup/ with body as :- ::\n\n    {\n        \"email\": \"some_email@email.com\",\n        \"password\": \"some_password\",\n        other_fields\n        ...\n    }\n\n7. Now login with these credentials at http://127.0.0.1:8000/mongo_auth/login/ :- ::\n\n    {\n        \"username\": \"some_email@email.com or secondary_username_field_value\",\n        \"password\": \"some_password\"\n    }\n\n8. This will return a JWT. Pass this JWT in your request in **\"Authorization\"** header.\n\n---------------------------\nAuthenticatedOnly\n---------------------------\n\nThe **AuthenticatedOnly** permission class will only allow authenticated users to access your endpoint. ::\n\n    from rest_framework.views import APIView\n    from mongo_auth.permissions import AuthenticatedOnly\n    from rest_framework.response import Response\n    from rest_framework import status\n\n    class GetTest(APIView):\n\n        permission_classes = [AuthenticatedOnly]\n\n        def get(self, request, format=None):\n            try:\n                print(request.user)  # This is where magic happens\n                return Response(status=status.HTTP_200_OK,\n                                data={\"data\": {\"msg\": \"User Authenticated\"}})\n            except:\n                return Response(status=status.HTTP_404_NOT_FOUND)\n\n\nOr, if you're using the **@api_view** decorator with function based views. ::\n\n    from mongo_auth.permissions import AuthenticatedOnly\n    from rest_framework.decorators import permission_classes\n    from rest_framework.decorators import api_view\n    from rest_framework.response import Response\n    from rest_framework import status\n\n    @api_view([\"GET\"])\n    @permission_classes([AuthenticatedOnly])\n    def get_test(request):\n        try:\n            print(request.user)\n            return Response(status=status.HTTP_200_OK,\n                            data={\"data\": {\"msg\": \"User Authenticated\"}})\n        except:\n            return Response(status=status.HTTP_404_NOT_FOUND)\n\n\nDon't forget to pass **\"Authorization\"** Header in your requests while using your views with **\"AuthenticatedOnly\"** Permission Class.\n\n----------------------\nmongo_auth.db.database\n----------------------\n\nAs the Mongo Connection Object has already been initialised in the package, you can use it directly::\n\n    from mongo_auth.db import database\n\n    print(list(database[\"collection_name\"].find({}, {\"_id\": 0}).limit(10)))\n\n\nMore Info\n---------\n\n1. Passlib is used for password encryption with default scheme as \"django_pbkdf2_sha256\".\n\n2. Only for Django 2.0 and above.\n\n3. Dependent on \"django-rest-framework\" and \"pymongo\".\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/srijannnd/mango-jwt", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "mango-jwt", "package_url": "https://pypi.org/project/mango-jwt/", "platform": "", "project_url": "https://pypi.org/project/mango-jwt/", "project_urls": {"Homepage": "https://github.com/srijannnd/mango-jwt"}, "release_url": "https://pypi.org/project/mango-jwt/1.3.2/", "requires_dist": ["Django (>=2.0)", "djangorestframework", "passlib", "PyJWT", "pymongo", "pytz", "dnspython"], "requires_python": "", "summary": "JWT Authentication for Django Rest Framework and MongoDB", "version": "1.3.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Mango-JWT is a minimal JWT User Authentication tool for Django Rest Framework and MongoDB. Recommended for developers using django-rest-framework and pymongo. Not supported in versions below Django 2.0.</p>\n<pre>pip install mango-jwt\n</pre>\n<div id=\"quick-start\">\n<h2>Quick start</h2>\n<ol>\n<li><p>Add \u201cmongo_auth\u201d to your INSTALLED_APPS setting below \u201crest_framework\u201d:</p>\n<pre>INSTALLED_APPS = [\n    ...\n    'rest_framework',\n    'mongo_auth',\n]\n</pre>\n</li>\n<li><p>Include the mongo_auth URLconf in your project urls.py like this:</p>\n<pre>path('mongo_auth/', include('mongo_auth.urls')),\n</pre>\n</li>\n<li><p>Add DB config in settings.py :-</p>\n<pre># Minimal settings (all mandatory)\nMANGO_JWT_SETTINGS = {\n    \"db_host\": \"some_db_host\", # Use srv host if connecting with MongoDB Atlas Cluster\n    \"db_port\": \"some_db_port\", # Don't include this field if connecting with MongoDB Atlas Cluster\n    \"db_name\": \"for_example_auth_db\",\n    \"db_user\": \"username\",\n    \"db_pass\": \"password\"\n}\n\n\n# Or use Advanced Settings (including optional settings)\nMANGO_JWT_SETTINGS = {\n    \"db_host\": \"some_db_host\",\n    \"db_port\": \"some_db_port\",\n    \"db_name\": \"for_example_auth_db\",\n    \"db_user\": \"username\",\n    \"db_pass\": \"password\",\n    \"auth_collection\": \"name_your_auth_collection\", # default is \"user_profile\"\n    \"fields\": (\"email\", \"password\"), # default\n    \"jwt_secret\": \"secret\", # default\n    \"jwt_life\": 7, # default (in days)\n    \"secondary_username_field\": \"mobile\" # default is None\n}\n</pre>\n</li>\n</ol>\n<p><strong>PLEASE NOTE: If you are connecting MongoDB Atlas Cluster, don\u2019t include \u201cdb_port\u201d and use srv host in \u201cdb_host\u201d e.g. if your host is showing mongodb+srv://something.mongodb.net/test in your account, then use \u201csomething.mongodb.net\u201d as your host.</strong></p>\n<ol>\n<li><p>If <strong>secondary_username_field</strong> is provided, users will be able to login with this field as well as \u201cemail\u201d. This is best for scenarios where you want users to login with either of their unique fields.</p>\n<p>For example, you may want users to login with \u201cemail\u201d or \u201cmobile\u201d.</p>\n</li>\n<li><p>You may or may not include \u201csecondary_username_field\u201d in \u201cfields\u201d.</p>\n<blockquote>\n<p><strong>Note: \u201csecondary_username_field\u201d cannot be \u201cemail\u201d as its \u201cprimary_username\u201d and \u201csecondary_username_field\u201d will be set to None instead.</strong></p>\n</blockquote>\n</li>\n<li><p>Make a POST request on <a href=\"http://127.0.0.1:8000/mongo_auth/signup/\" rel=\"nofollow\">http://127.0.0.1:8000/mongo_auth/signup/</a> with body as :-</p>\n<pre>{\n    \"email\": \"some_email@email.com\",\n    \"password\": \"some_password\",\n    other_fields\n    ...\n}\n</pre>\n</li>\n<li><p>Now login with these credentials at <a href=\"http://127.0.0.1:8000/mongo_auth/login/\" rel=\"nofollow\">http://127.0.0.1:8000/mongo_auth/login/</a> :-</p>\n<pre>{\n    \"username\": \"some_email@email.com or secondary_username_field_value\",\n    \"password\": \"some_password\"\n}\n</pre>\n</li>\n<li><p>This will return a JWT. Pass this JWT in your request in <strong>\u201cAuthorization\u201d</strong> header.</p>\n</li>\n</ol>\n<div id=\"authenticatedonly\">\n<h3>AuthenticatedOnly</h3>\n<p>The <strong>AuthenticatedOnly</strong> permission class will only allow authenticated users to access your endpoint.</p>\n<pre>from rest_framework.views import APIView\nfrom mongo_auth.permissions import AuthenticatedOnly\nfrom rest_framework.response import Response\nfrom rest_framework import status\n\nclass GetTest(APIView):\n\n    permission_classes = [AuthenticatedOnly]\n\n    def get(self, request, format=None):\n        try:\n            print(request.user)  # This is where magic happens\n            return Response(status=status.HTTP_200_OK,\n                            data={\"data\": {\"msg\": \"User Authenticated\"}})\n        except:\n            return Response(status=status.HTTP_404_NOT_FOUND)\n</pre>\n<p>Or, if you\u2019re using the <strong>@api_view</strong> decorator with function based views.</p>\n<pre>from mongo_auth.permissions import AuthenticatedOnly\nfrom rest_framework.decorators import permission_classes\nfrom rest_framework.decorators import api_view\nfrom rest_framework.response import Response\nfrom rest_framework import status\n\n@api_view([\"GET\"])\n@permission_classes([AuthenticatedOnly])\ndef get_test(request):\n    try:\n        print(request.user)\n        return Response(status=status.HTTP_200_OK,\n                        data={\"data\": {\"msg\": \"User Authenticated\"}})\n    except:\n        return Response(status=status.HTTP_404_NOT_FOUND)\n</pre>\n<p>Don\u2019t forget to pass <strong>\u201cAuthorization\u201d</strong> Header in your requests while using your views with <strong>\u201cAuthenticatedOnly\u201d</strong> Permission Class.</p>\n</div>\n<div id=\"mongo-auth-db-database\">\n<h3>mongo_auth.db.database</h3>\n<p>As the Mongo Connection Object has already been initialised in the package, you can use it directly:</p>\n<pre>from mongo_auth.db import database\n\nprint(list(database[\"collection_name\"].find({}, {\"_id\": 0}).limit(10)))\n</pre>\n</div>\n</div>\n<div id=\"more-info\">\n<h2>More Info</h2>\n<ol>\n<li>Passlib is used for password encryption with default scheme as \u201cdjango_pbkdf2_sha256\u201d.</li>\n<li>Only for Django 2.0 and above.</li>\n<li>Dependent on \u201cdjango-rest-framework\u201d and \u201cpymongo\u201d.</li>\n</ol>\n</div>\n\n          </div>"}, "last_serial": 6519399, "releases": {"1.2.1": [{"comment_text": "", "digests": {"md5": "545929a2f550cf0a19fae5bfc57e8c41", "sha256": "b0ff361079c4d2c53635ac9be0bcc32deb8568fe682e2e17bf3d0974c30247fa"}, "downloads": -1, "filename": "mango_jwt-1.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "545929a2f550cf0a19fae5bfc57e8c41", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7043, "upload_time": "2018-10-27T12:57:14", "upload_time_iso_8601": "2018-10-27T12:57:14.134663Z", "url": "https://files.pythonhosted.org/packages/fd/33/cb90ada4ba48bb40c4f1c360ac3d90eb4e0173b55ca4cccd7a27ef54d733/mango_jwt-1.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9ffd0412460cb18a9543018f2e676d64", "sha256": "da0329d970f511a3a04f27a49b49b37e807ca7027f978ee4f633450512fc4d0f"}, "downloads": -1, "filename": "mango-jwt-1.2.1.tar.gz", "has_sig": false, "md5_digest": "9ffd0412460cb18a9543018f2e676d64", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5442, "upload_time": "2018-10-27T12:57:15", "upload_time_iso_8601": "2018-10-27T12:57:15.916427Z", "url": "https://files.pythonhosted.org/packages/b1/29/dbc49eaed1718a5c107a4541f5a42da4d28d38dc0b537724ab5c77bc647c/mango-jwt-1.2.1.tar.gz", "yanked": false}], "1.3.0": [{"comment_text": "", "digests": {"md5": "77f408e42377b4343b2ebcf05f1d5fff", "sha256": "4170031f12654ba0139620d6a0c9b675f1a63670f09612b56ccbffd735081fca"}, "downloads": -1, "filename": "mango_jwt-1.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "77f408e42377b4343b2ebcf05f1d5fff", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7581, "upload_time": "2018-10-31T11:52:27", "upload_time_iso_8601": "2018-10-31T11:52:27.224679Z", "url": "https://files.pythonhosted.org/packages/f7/ec/cacb4c61158fbbdc64cddd3485a3612514bf8e546b120cb7f04f80091105/mango_jwt-1.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0822c5667a8c413e53ec89b0325800a9", "sha256": "187769bed7988ce2087f0cbf8eabc74471ade2960d5fc8142212e92d2d7cf923"}, "downloads": -1, "filename": "mango-jwt-1.3.0.tar.gz", "has_sig": false, "md5_digest": "0822c5667a8c413e53ec89b0325800a9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5999, "upload_time": "2018-10-31T11:52:29", "upload_time_iso_8601": "2018-10-31T11:52:29.603451Z", "url": "https://files.pythonhosted.org/packages/b2/1a/19bdf630a4272df021832a5131068d726c60b5560fef9f76610ca671a01a/mango-jwt-1.3.0.tar.gz", "yanked": false}], "1.3.2": [{"comment_text": "", "digests": {"md5": "56c0a2fe0a25b3dc5c909e8341de5ecb", "sha256": "8b9ff6581efbae38b148386e86963ee4fa3875d2d2ac4f682cc67759413ddf81"}, "downloads": -1, "filename": "mango_jwt-1.3.2-py3-none-any.whl", "has_sig": false, "md5_digest": "56c0a2fe0a25b3dc5c909e8341de5ecb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7830, "upload_time": "2020-01-25T18:12:26", "upload_time_iso_8601": "2020-01-25T18:12:26.114381Z", "url": "https://files.pythonhosted.org/packages/06/bd/5e1f237972abea0812a5332f4b51a406bf1353ea42e8c28212039d03b070/mango_jwt-1.3.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1a5fbb59464dfbaa7d2ee8c14daa69b1", "sha256": "bda2164f7efba0644c707d3bc1638c66e5a1f76ada33eb8ad2890860a6776f39"}, "downloads": -1, "filename": "mango-jwt-1.3.2.tar.gz", "has_sig": false, "md5_digest": "1a5fbb59464dfbaa7d2ee8c14daa69b1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6242, "upload_time": "2020-01-25T18:12:27", "upload_time_iso_8601": "2020-01-25T18:12:27.514590Z", "url": "https://files.pythonhosted.org/packages/33/98/f7d6137aafbd7738f55bec1f46486be5190e882accafa33790615927fb05/mango-jwt-1.3.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "56c0a2fe0a25b3dc5c909e8341de5ecb", "sha256": "8b9ff6581efbae38b148386e86963ee4fa3875d2d2ac4f682cc67759413ddf81"}, "downloads": -1, "filename": "mango_jwt-1.3.2-py3-none-any.whl", "has_sig": false, "md5_digest": "56c0a2fe0a25b3dc5c909e8341de5ecb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7830, "upload_time": "2020-01-25T18:12:26", "upload_time_iso_8601": "2020-01-25T18:12:26.114381Z", "url": "https://files.pythonhosted.org/packages/06/bd/5e1f237972abea0812a5332f4b51a406bf1353ea42e8c28212039d03b070/mango_jwt-1.3.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1a5fbb59464dfbaa7d2ee8c14daa69b1", "sha256": "bda2164f7efba0644c707d3bc1638c66e5a1f76ada33eb8ad2890860a6776f39"}, "downloads": -1, "filename": "mango-jwt-1.3.2.tar.gz", "has_sig": false, "md5_digest": "1a5fbb59464dfbaa7d2ee8c14daa69b1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6242, "upload_time": "2020-01-25T18:12:27", "upload_time_iso_8601": "2020-01-25T18:12:27.514590Z", "url": "https://files.pythonhosted.org/packages/33/98/f7d6137aafbd7738f55bec1f46486be5190e882accafa33790615927fb05/mango-jwt-1.3.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:41:34 2020"}
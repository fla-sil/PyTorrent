{"info": {"author": "Igor `idle sign` Starikov", "author_email": "idlesign@yandex.ru", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Framework :: Pytest", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Topic :: Software Development :: Testing"], "description": "pytest-race\n===========\nhttps://github.com/idlesign/pytest-race\n\n.. image:: https://img.shields.io/pypi/v/pytest-race.svg\n    :target: https://pypi.python.org/pypi/pytest-race\n\n.. image:: https://img.shields.io/pypi/dm/pytest-race.svg\n    :target: https://pypi.python.org/pypi/pytest-race\n\n.. image:: https://img.shields.io/pypi/l/pytest-race.svg\n    :target: https://pypi.python.org/pypi/pytest-race\n\n.. image:: https://img.shields.io/coveralls/idlesign/pytest-race/master.svg\n    :target: https://coveralls.io/r/idlesign/pytest-race\n\n.. image:: https://img.shields.io/travis/idlesign/pytest-race/master.svg\n    :target: https://travis-ci.org/idlesign/pytest-race\n\n.. image:: https://landscape.io/github/idlesign/pytest-race/master/landscape.svg?style=flat\n   :target: https://landscape.io/github/idlesign/pytest-race/master\n\n\nDescription\n-----------\n\n*Race conditions tester for pytest*\n\nIntroduces **start_race** fixture to run race condition tests.\n\n\nRequirements\n------------\n\n* Python 2.7+, 3.3+\n* pytest 2.9.0+\n\n\nUsage\n-----\n\nYou can use **start_race** fixture in your tests as follows:\n\n.. code-block:: python\n\n    from time import sleep\n\n    ACCUMULATOR = 0  # This global var is race conditions prone.\n\n    def test_race(start_race):\n        from random import randint\n\n        def actual_test():\n            global ACCUMULATOR\n\n            increment = randint(1, 10000)\n\n            accumulator = ACCUMULATOR\n            sleep(1)  # Simulate some lag.\n            ACCUMULATOR += increment\n\n            # By that moment ACCUMULATOR should have been updated\n            # by another thread. Let's try to prove it.\n\n            # Using simple `assert` as usual for pytest.\n            assert accumulator + increment == ACCUMULATOR\n\n        # Let's run `actual_test` in 2 threads.\n        start_race(threads_num=2, target=actual_test)\n\n\n**start_race** accepts the following arguments:\n\n* **threads_num** - number of threads to run simultaneously.\n* **target** - actual test callable to run in threads.\n", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/idlesign/pytest-race", "keywords": "", "license": "BSD 3-Clause License", "maintainer": "", "maintainer_email": "", "name": "pytest-race", "package_url": "https://pypi.org/project/pytest-race/", "platform": "", "project_url": "https://pypi.org/project/pytest-race/", "project_urls": {"Homepage": "https://github.com/idlesign/pytest-race"}, "release_url": "https://pypi.org/project/pytest-race/0.1.1/", "requires_dist": null, "requires_python": "", "summary": "Race conditions tester for pytest", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://github.com/idlesign/pytest-race\" rel=\"nofollow\">https://github.com/idlesign/pytest-race</a></p>\n<a href=\"https://pypi.python.org/pypi/pytest-race\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/v/pytest-race.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/76f68165d99c8203aaad72a726e686fc0b7fadec/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7079746573742d726163652e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/pytest-race\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/dm/pytest-race.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fbc98e2656d1a33d9c5a0069747490ad9534571a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f7079746573742d726163652e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/pytest-race\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/l/pytest-race.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c6aa9c10ef74d865bc536c720676e2f388931841/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f7079746573742d726163652e737667\"></a>\n<a href=\"https://coveralls.io/r/idlesign/pytest-race\" rel=\"nofollow\"><img alt=\"https://img.shields.io/coveralls/idlesign/pytest-race/master.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/89b0ab3579d0a0708d86f6dccc01ab58a3b47c10/68747470733a2f2f696d672e736869656c64732e696f2f636f766572616c6c732f69646c657369676e2f7079746573742d726163652f6d61737465722e737667\"></a>\n<a href=\"https://travis-ci.org/idlesign/pytest-race\" rel=\"nofollow\"><img alt=\"https://img.shields.io/travis/idlesign/pytest-race/master.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/61396d7e650b6c9df48dfe000fd28d59a1d4da2b/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f69646c657369676e2f7079746573742d726163652f6d61737465722e737667\"></a>\n<a href=\"https://landscape.io/github/idlesign/pytest-race/master\" rel=\"nofollow\"><img alt=\"https://landscape.io/github/idlesign/pytest-race/master/landscape.svg?style=flat\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/107c99719e6d7ce948e74f18dec60a041a6218d5/68747470733a2f2f6c616e6473636170652e696f2f6769746875622f69646c657369676e2f7079746573742d726163652f6d61737465722f6c616e6473636170652e7376673f7374796c653d666c6174\"></a>\n<div id=\"description\">\n<h2>Description</h2>\n<p><em>Race conditions tester for pytest</em></p>\n<p>Introduces <strong>start_race</strong> fixture to run race condition tests.</p>\n</div>\n<div id=\"requirements\">\n<h2>Requirements</h2>\n<ul>\n<li>Python 2.7+, 3.3+</li>\n<li>pytest 2.9.0+</li>\n</ul>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>You can use <strong>start_race</strong> fixture in your tests as follows:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">time</span> <span class=\"kn\">import</span> <span class=\"n\">sleep</span>\n\n<span class=\"n\">ACCUMULATOR</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>  <span class=\"c1\"># This global var is race conditions prone.</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">test_race</span><span class=\"p\">(</span><span class=\"n\">start_race</span><span class=\"p\">):</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">random</span> <span class=\"kn\">import</span> <span class=\"n\">randint</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">actual_test</span><span class=\"p\">():</span>\n        <span class=\"k\">global</span> <span class=\"n\">ACCUMULATOR</span>\n\n        <span class=\"n\">increment</span> <span class=\"o\">=</span> <span class=\"n\">randint</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">10000</span><span class=\"p\">)</span>\n\n        <span class=\"n\">accumulator</span> <span class=\"o\">=</span> <span class=\"n\">ACCUMULATOR</span>\n        <span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>  <span class=\"c1\"># Simulate some lag.</span>\n        <span class=\"n\">ACCUMULATOR</span> <span class=\"o\">+=</span> <span class=\"n\">increment</span>\n\n        <span class=\"c1\"># By that moment ACCUMULATOR should have been updated</span>\n        <span class=\"c1\"># by another thread. Let's try to prove it.</span>\n\n        <span class=\"c1\"># Using simple `assert` as usual for pytest.</span>\n        <span class=\"k\">assert</span> <span class=\"n\">accumulator</span> <span class=\"o\">+</span> <span class=\"n\">increment</span> <span class=\"o\">==</span> <span class=\"n\">ACCUMULATOR</span>\n\n    <span class=\"c1\"># Let's run `actual_test` in 2 threads.</span>\n    <span class=\"n\">start_race</span><span class=\"p\">(</span><span class=\"n\">threads_num</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">target</span><span class=\"o\">=</span><span class=\"n\">actual_test</span><span class=\"p\">)</span>\n</pre>\n<p><strong>start_race</strong> accepts the following arguments:</p>\n<ul>\n<li><strong>threads_num</strong> - number of threads to run simultaneously.</li>\n<li><strong>target</strong> - actual test callable to run in threads.</li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 2473794, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "c23dbfd477b60c27be671bc8fc232fae", "sha256": "4bb633aa217cd5e0950cbb6554c339ab0a777058b630d1af537d495ee867ba4f"}, "downloads": -1, "filename": "pytest_race-0.1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "c23dbfd477b60c27be671bc8fc232fae", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 4924, "upload_time": "2016-11-20T13:12:02", "upload_time_iso_8601": "2016-11-20T13:12:02.006753Z", "url": "https://files.pythonhosted.org/packages/03/06/f4d26af70490a32fde32ed8b2add6b04b715e455198a6159085855d3134e/pytest_race-0.1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "17c0382d746d1c700312ee06507e3e1c", "sha256": "6ffaca299881bb6b15f52b39e14d191ae44c489ec23400ce26222b0eb8de40c4"}, "downloads": -1, "filename": "pytest-race-0.1.0.tar.gz", "has_sig": false, "md5_digest": "17c0382d746d1c700312ee06507e3e1c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4611, "upload_time": "2016-11-20T13:11:59", "upload_time_iso_8601": "2016-11-20T13:11:59.378583Z", "url": "https://files.pythonhosted.org/packages/63/d4/3719cd8503d5b6618820dff8d847095b0e350d00bf339e1ade395d8b4441/pytest-race-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "c45abd08eb747e5ac4d7b98c5209e203", "sha256": "655ba41001e9dc361ff318bb4da3ce394dd90b6e188379ffa3587c0cd8c77b2a"}, "downloads": -1, "filename": "pytest_race-0.1.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "c45abd08eb747e5ac4d7b98c5209e203", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 4946, "upload_time": "2016-11-21T14:03:08", "upload_time_iso_8601": "2016-11-21T14:03:08.576883Z", "url": "https://files.pythonhosted.org/packages/b1/e3/57e2d2edbd753f45ae24f3c82d723b0ce88d2237103bafe30414cde53159/pytest_race-0.1.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ea8e358b30cb278c448b9a18351fcb15", "sha256": "c49e437ba684c6d65c7f1b9719f2d29bc65ac81ceb20edea67bb5cee4271eebf"}, "downloads": -1, "filename": "pytest-race-0.1.1.tar.gz", "has_sig": false, "md5_digest": "ea8e358b30cb278c448b9a18351fcb15", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4638, "upload_time": "2016-11-21T14:03:05", "upload_time_iso_8601": "2016-11-21T14:03:05.816881Z", "url": "https://files.pythonhosted.org/packages/21/c9/54e1ef89ab37b1053b69e13f03e88e1e45cd6ad8e5467a877cc754455f92/pytest-race-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "c45abd08eb747e5ac4d7b98c5209e203", "sha256": "655ba41001e9dc361ff318bb4da3ce394dd90b6e188379ffa3587c0cd8c77b2a"}, "downloads": -1, "filename": "pytest_race-0.1.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "c45abd08eb747e5ac4d7b98c5209e203", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 4946, "upload_time": "2016-11-21T14:03:08", "upload_time_iso_8601": "2016-11-21T14:03:08.576883Z", "url": "https://files.pythonhosted.org/packages/b1/e3/57e2d2edbd753f45ae24f3c82d723b0ce88d2237103bafe30414cde53159/pytest_race-0.1.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ea8e358b30cb278c448b9a18351fcb15", "sha256": "c49e437ba684c6d65c7f1b9719f2d29bc65ac81ceb20edea67bb5cee4271eebf"}, "downloads": -1, "filename": "pytest-race-0.1.1.tar.gz", "has_sig": false, "md5_digest": "ea8e358b30cb278c448b9a18351fcb15", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4638, "upload_time": "2016-11-21T14:03:05", "upload_time_iso_8601": "2016-11-21T14:03:05.816881Z", "url": "https://files.pythonhosted.org/packages/21/c9/54e1ef89ab37b1053b69e13f03e88e1e45cd6ad8e5467a877cc754455f92/pytest-race-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:54:48 2020"}
{"info": {"author": "Christopher Simpkins", "author_email": "git.simpkins@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Operating System :: MacOS :: MacOS X", "Operating System :: Microsoft :: Windows", "Operating System :: POSIX", "Operating System :: Unix", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 3"], "description": "# shellescape\n\n## Description\n\nThe shellescape Python module defines the `shellescape.quote()` function that returns a shell-escaped version of a Python string.  This is a backport of the `shlex.quote()` function from Python 3.8 that makes it accessible to users of Python 3 versions < 3.3 and all Python 2.x versions.\n\n\n### quote(s)\n\n*From the Python documentation*:\n\nReturn a shell-escaped version of the string s. The returned value is a string that can safely be used as one token in a shell command line, for cases where you cannot use a list.\n\nThis idiom would be unsafe:\n\n```python\n>>> filename = 'somefile; rm -rf ~'\n>>> command = 'ls -l {}'.format(filename)\n>>> print(command)  # executed by a shell: boom!\nls -l somefile; rm -rf ~\n```\n\n`quote()` lets you plug the security hole:\n\n```python\n>>> command = 'ls -l {}'.format(quote(filename))\n>>> print(command)\nls -l 'somefile; rm -rf ~'\n>>> remote_command = 'ssh home {}'.format(quote(command))\n>>> print(remote_command)\nssh home 'ls -l '\"'\"'somefile; rm -rf ~'\"'\"''\n```\n\nThe quoting is compatible with UNIX shells and with `shlex.split()`:\n\n```python\n>>> remote_command = split(remote_command)\n>>> remote_command\n['ssh', 'home', \"ls -l 'somefile; rm -rf ~'\"]\n>>> command = split(remote_command[-1])\n>>> command\n['ls', '-l', 'somefile; rm -rf ~']\n```\n\n\n## Usage\n\nInclude `shellescape` in your project setup.py file `install_requires` dependency definition list:\n\n```python\nsetup(\n    ...\n    install_requires=['shellescape'],\n    ...\n)\n```\n\nThen import the `quote` function into your module(s) and use it as needed:\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nfrom shellescape import quote\n\nfilename = \"somefile; rm -rf ~\"\nescaped_shell_command = 'ls -l {}'.format(quote(filename))\n```\n\n## License\n\n[LICENSE](https://github.com/chrissimpkins/shellescape/blob/master/docs/LICENSE)\n\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/chrissimpkins/shellescape", "keywords": "shell,quote,escape,backport,command line,command,subprocess", "license": "MIT license", "maintainer": "", "maintainer_email": "", "name": "shellescape", "package_url": "https://pypi.org/project/shellescape/", "platform": "any", "project_url": "https://pypi.org/project/shellescape/", "project_urls": {"Homepage": "https://github.com/chrissimpkins/shellescape"}, "release_url": "https://pypi.org/project/shellescape/3.8.1/", "requires_dist": null, "requires_python": "", "summary": "Shell escape a string to safely use it as a token in a shell command (backport of cPython shlex.quote for Python versions 2.x & < 3.3)", "version": "3.8.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>shellescape</h1>\n<h2>Description</h2>\n<p>The shellescape Python module defines the <code>shellescape.quote()</code> function that returns a shell-escaped version of a Python string.  This is a backport of the <code>shlex.quote()</code> function from Python 3.8 that makes it accessible to users of Python 3 versions &lt; 3.3 and all Python 2.x versions.</p>\n<h3>quote(s)</h3>\n<p><em>From the Python documentation</em>:</p>\n<p>Return a shell-escaped version of the string s. The returned value is a string that can safely be used as one token in a shell command line, for cases where you cannot use a list.</p>\n<p>This idiom would be unsafe:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">filename</span> <span class=\"o\">=</span> <span class=\"s1\">'somefile; rm -rf ~'</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">command</span> <span class=\"o\">=</span> <span class=\"s1\">'ls -l </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">command</span><span class=\"p\">)</span>  <span class=\"c1\"># executed by a shell: boom!</span>\n<span class=\"n\">ls</span> <span class=\"o\">-</span><span class=\"n\">l</span> <span class=\"n\">somefile</span><span class=\"p\">;</span> <span class=\"n\">rm</span> <span class=\"o\">-</span><span class=\"n\">rf</span> <span class=\"o\">~</span>\n</pre>\n<p><code>quote()</code> lets you plug the security hole:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">command</span> <span class=\"o\">=</span> <span class=\"s1\">'ls -l </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">quote</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">))</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">command</span><span class=\"p\">)</span>\n<span class=\"n\">ls</span> <span class=\"o\">-</span><span class=\"n\">l</span> <span class=\"s1\">'somefile; rm -rf ~'</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">remote_command</span> <span class=\"o\">=</span> <span class=\"s1\">'ssh home </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">quote</span><span class=\"p\">(</span><span class=\"n\">command</span><span class=\"p\">))</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">remote_command</span><span class=\"p\">)</span>\n<span class=\"n\">ssh</span> <span class=\"n\">home</span> <span class=\"s1\">'ls -l '</span><span class=\"s2\">\"'\"</span><span class=\"s1\">'somefile; rm -rf ~'</span><span class=\"s2\">\"'\"</span><span class=\"s1\">''</span>\n</pre>\n<p>The quoting is compatible with UNIX shells and with <code>shlex.split()</code>:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">remote_command</span> <span class=\"o\">=</span> <span class=\"n\">split</span><span class=\"p\">(</span><span class=\"n\">remote_command</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">remote_command</span>\n<span class=\"p\">[</span><span class=\"s1\">'ssh'</span><span class=\"p\">,</span> <span class=\"s1\">'home'</span><span class=\"p\">,</span> <span class=\"s2\">\"ls -l 'somefile; rm -rf ~'\"</span><span class=\"p\">]</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">command</span> <span class=\"o\">=</span> <span class=\"n\">split</span><span class=\"p\">(</span><span class=\"n\">remote_command</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">command</span>\n<span class=\"p\">[</span><span class=\"s1\">'ls'</span><span class=\"p\">,</span> <span class=\"s1\">'-l'</span><span class=\"p\">,</span> <span class=\"s1\">'somefile; rm -rf ~'</span><span class=\"p\">]</span>\n</pre>\n<h2>Usage</h2>\n<p>Include <code>shellescape</code> in your project setup.py file <code>install_requires</code> dependency definition list:</p>\n<pre><span class=\"n\">setup</span><span class=\"p\">(</span>\n    <span class=\"o\">...</span>\n    <span class=\"n\">install_requires</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'shellescape'</span><span class=\"p\">],</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">)</span>\n</pre>\n<p>Then import the <code>quote</code> function into your module(s) and use it as needed:</p>\n<pre><span class=\"ch\">#!/usr/bin/env python</span>\n<span class=\"c1\"># -*- coding: utf-8 -*-</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">shellescape</span> <span class=\"kn\">import</span> <span class=\"n\">quote</span>\n\n<span class=\"n\">filename</span> <span class=\"o\">=</span> <span class=\"s2\">\"somefile; rm -rf ~\"</span>\n<span class=\"n\">escaped_shell_command</span> <span class=\"o\">=</span> <span class=\"s1\">'ls -l </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">quote</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">))</span>\n</pre>\n<h2>License</h2>\n<p><a href=\"https://github.com/chrissimpkins/shellescape/blob/master/docs/LICENSE\" rel=\"nofollow\">LICENSE</a></p>\n\n          </div>"}, "last_serial": 6520039, "releases": {"3.4.0": [{"comment_text": "", "digests": {"md5": "84fde126dd9a6ed0eb886caddc09256a", "sha256": "eb203e30725f7c0dbc7ed435973b749c442c68889965b28fd4a4363fe1a808e6"}, "downloads": -1, "filename": "shellescape-3.4.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "84fde126dd9a6ed0eb886caddc09256a", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 4927, "upload_time": "2015-05-08T11:55:25", "upload_time_iso_8601": "2015-05-08T11:55:25.215999Z", "url": "https://files.pythonhosted.org/packages/6f/77/71d10cd779daea6473b5d3957fe31af52ea1e0af8b9da4bf0bd653a67c18/shellescape-3.4.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8ca3b165a9c6a5f78183c05ca49cf2ba", "sha256": "a7c9e5ee7a8bffbdd9a53ccb9f1b50faa9cb659747bbcc0f4337f9005626be95"}, "downloads": -1, "filename": "shellescape-3.4.0.tar.gz", "has_sig": false, "md5_digest": "8ca3b165a9c6a5f78183c05ca49cf2ba", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4855, "upload_time": "2015-05-08T11:55:22", "upload_time_iso_8601": "2015-05-08T11:55:22.235552Z", "url": "https://files.pythonhosted.org/packages/8a/40/a0961dff6e7340d925d92015fb73eb12e03c223befc627af24fb064a545c/shellescape-3.4.0.tar.gz", "yanked": false}], "3.4.1": [{"comment_text": "", "digests": {"md5": "5bc6f494f210878685dc9492fbce52e2", "sha256": "3ff2aeb6ce2c5a4e6059fe4a2a745a824f5a3834fe8365a39c5ea691073cfdb6"}, "downloads": -1, "filename": "shellescape-3.4.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "5bc6f494f210878685dc9492fbce52e2", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 4933, "upload_time": "2015-05-13T01:39:58", "upload_time_iso_8601": "2015-05-13T01:39:58.735740Z", "url": "https://files.pythonhosted.org/packages/51/b6/986c99a10040beaaefca1ad6c93bd7738cb8e4f52f6caed13d3ed1caa7e4/shellescape-3.4.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8dc7545a9a27d19dfcc4d7b33a72c296", "sha256": "e618b2bc13f2553315ca1669995dc10fcc2cae5f1e0fda49035ef02d56f0b358"}, "downloads": -1, "filename": "shellescape-3.4.1.tar.gz", "has_sig": false, "md5_digest": "8dc7545a9a27d19dfcc4d7b33a72c296", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4876, "upload_time": "2015-05-13T01:39:55", "upload_time_iso_8601": "2015-05-13T01:39:55.126994Z", "url": "https://files.pythonhosted.org/packages/dd/72/797570d91fd1ba785966c43f12d5a6dec40438ba727dd02dbf636032b0a1/shellescape-3.4.1.tar.gz", "yanked": false}], "3.8.1": [{"comment_text": "", "digests": {"md5": "26e30843610330a890d96f35aa22859b", "sha256": "f17127e390fa3f9aaa80c69c16ea73615fd9b5318fd8309c1dca6168ae7d85bf"}, "downloads": -1, "filename": "shellescape-3.8.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "26e30843610330a890d96f35aa22859b", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 3081, "upload_time": "2020-01-25T21:28:21", "upload_time_iso_8601": "2020-01-25T21:28:21.772484Z", "url": "https://files.pythonhosted.org/packages/d0/f4/0081137fceff5779cd4205c1e96657e41cc2d2d56c940dc8eeb6111780f7/shellescape-3.8.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "82e0074ef39471286f37d701e9efce7e", "sha256": "40b310b30479be771bf3ab28bd8d40753778488bd46ea0969ba0b35038c3ec26"}, "downloads": -1, "filename": "shellescape-3.8.1.tar.gz", "has_sig": false, "md5_digest": "82e0074ef39471286f37d701e9efce7e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5246, "upload_time": "2020-01-25T21:28:23", "upload_time_iso_8601": "2020-01-25T21:28:23.228297Z", "url": "https://files.pythonhosted.org/packages/19/40/13b9e84bf04774365830cbed1bd95a989d5324a99d207bcb1619a6c517f2/shellescape-3.8.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "26e30843610330a890d96f35aa22859b", "sha256": "f17127e390fa3f9aaa80c69c16ea73615fd9b5318fd8309c1dca6168ae7d85bf"}, "downloads": -1, "filename": "shellescape-3.8.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "26e30843610330a890d96f35aa22859b", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 3081, "upload_time": "2020-01-25T21:28:21", "upload_time_iso_8601": "2020-01-25T21:28:21.772484Z", "url": "https://files.pythonhosted.org/packages/d0/f4/0081137fceff5779cd4205c1e96657e41cc2d2d56c940dc8eeb6111780f7/shellescape-3.8.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "82e0074ef39471286f37d701e9efce7e", "sha256": "40b310b30479be771bf3ab28bd8d40753778488bd46ea0969ba0b35038c3ec26"}, "downloads": -1, "filename": "shellescape-3.8.1.tar.gz", "has_sig": false, "md5_digest": "82e0074ef39471286f37d701e9efce7e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5246, "upload_time": "2020-01-25T21:28:23", "upload_time_iso_8601": "2020-01-25T21:28:23.228297Z", "url": "https://files.pythonhosted.org/packages/19/40/13b9e84bf04774365830cbed1bd95a989d5324a99d207bcb1619a6c517f2/shellescape-3.8.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:13:22 2020"}
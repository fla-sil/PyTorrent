{"info": {"author": "Zhuo Wei", "author_email": "zeaphoo@qq.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Framework :: AsyncIO", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: MacOS :: MacOS X", "Operating System :: POSIX", "Programming Language :: PL/SQL", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: Implementation :: CPython", "Topic :: Database", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# postmodel\n[![FOSSA Status](https://app.fossa.io/api/projects/git%2Bgithub.com%2Fzeaphoo%2Fpostmodel.svg?type=shield)](https://app.fossa.io/projects/git%2Bgithub.com%2Fzeaphoo%2Fpostmodel?ref=badge_shield)\n\n\n## Introduction\n\nPostmodel is an easy-to-use ``asyncio`` ORM *(Object Relational Mapper)* inspired by Django and Tortoise ORM.\n\nPostmodel provides 90% Django ORM like API, to ease the migration of developers wishing to switch to ``asyncio``.\n\nCurrently, Postmodel provides following features:\n\n* full active-record pattern\n* optimistic locking\n* 100% code coverage\n\n\nBut, it still have some limits:\n\n* only support Postgresql\n* no planing support SQLite, instead it will supports RediSQL\n* no support relation\n\n\nPostmodel is supported on CPython >= 3.6 for PostgreSQL.\n\n\n## Getting Started\n\n### Installation\n\nYou have to install postmodel like this:\n\n```\npip install postmodel\n```\n\n### Quick Tutorial\n\nPrimary entity of postmodel is ``postmodel.models.Model``.\nYou can start writing models like this:\n\n\n```python\nfrom postmodel import models\n\nclass Book(models.Model):\n    id = models.IntField(pk=True)\n    name = models.TextField()\n    tag = models.CharField(max_length=120)\n\n    class Meta:\n        table = \"book_test\"\n\n    def __str__(self):\n        return self.name\n```\n\nAfter you defined all your models, postmodel needs you to init them, in order to create backward relations between models and match your db client with appropriate models.\n\nYou can do it like this:\n\n```python\nfrom postmodel import Postmodel\n\nasync def init():\n    # Here we connect to a PostgreSQL DB.\n    # also specify the app name of \"models\"\n    # which contain models from \"app.models\"\n    await Postmodel.init(\n        'postgres://postgres@localhost:54320/test_db',\n        modules= [__name__]\n    )\n    # Generate the schema\n    await Postmodel.generate_schemas()\n```\n\n\nHere we create connection to Postgres database, and then we discover & initialise models.\n\nPostmodel currently supports the following databases:\n\n* PostgreSQL (requires ``asyncpg``)\n\n``generate_schema`` generates the schema on an empty database. Postmodel generates schemas in safe mode by default which\nincludes the ``IF NOT EXISTS`` clause, so you may include it in your main code.\n\n\nAfter that you can start using your models:\n\n```python\n# Create instance by save\nbook = Book(id=1, name='Mastering postmdel', tag=\"orm\")\nawait book.save()\n\n# Or by .create()\nawait Book.create(id=2, name='Learning Python', tag=\"python\")\n\n# Query\n\nbooks = await Book.filter(tag=\"orm\").all()\nassert len(books) == 1\n```\n\n\n\n## Contributing\n\nPlease have a look at the `Contribution Guide <docs/CONTRIBUTING.md>`_\n\n\n## License\n\nThis project is licensed under the MIT License - see the `LICENSE <LICENSE>`_ file for details\n\n\n[![FOSSA Status](https://app.fossa.io/api/projects/git%2Bgithub.com%2Fzeaphoo%2Fpostmodel.svg?type=large)](https://app.fossa.io/projects/git%2Bgithub.com%2Fzeaphoo%2Fpostmodel?ref=badge_large)\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/zeaphoo/postmodel", "keywords": "sql postgres psql asyncpg relational database rdbms orm object mapper asyncio", "license": "MIT License", "maintainer": "", "maintainer_email": "", "name": "postmodel", "package_url": "https://pypi.org/project/postmodel/", "platform": "", "project_url": "https://pypi.org/project/postmodel/", "project_urls": {"Documentation": "https://postmodel.readthedocs.io/", "Homepage": "https://github.com/zeaphoo/postmodel"}, "release_url": "https://pypi.org/project/postmodel/0.1.4/", "requires_dist": ["pypika (>=0.35.21)", "ciso8601 (>=2.1.2)", "basepy (>=0.3.1)", "asyncpg (>=0.20.1)", "contextvars (>=2.4) ; python_version < \"3.7\""], "requires_python": "", "summary": "Easy async ORM for python, built with relations in mind", "version": "0.1.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>postmodel</h1>\n<p><a href=\"https://app.fossa.io/projects/git%2Bgithub.com%2Fzeaphoo%2Fpostmodel?ref=badge_shield\" rel=\"nofollow\"><img alt=\"FOSSA Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5a7d8b948200c408eef982afa899b5237cc906bf/68747470733a2f2f6170702e666f7373612e696f2f6170692f70726f6a656374732f6769742532426769746875622e636f6d2532467a656170686f6f253246706f73746d6f64656c2e7376673f747970653d736869656c64\"></a></p>\n<h2>Introduction</h2>\n<p>Postmodel is an easy-to-use <code>asyncio</code> ORM <em>(Object Relational Mapper)</em> inspired by Django and Tortoise ORM.</p>\n<p>Postmodel provides 90% Django ORM like API, to ease the migration of developers wishing to switch to <code>asyncio</code>.</p>\n<p>Currently, Postmodel provides following features:</p>\n<ul>\n<li>full active-record pattern</li>\n<li>optimistic locking</li>\n<li>100% code coverage</li>\n</ul>\n<p>But, it still have some limits:</p>\n<ul>\n<li>only support Postgresql</li>\n<li>no planing support SQLite, instead it will supports RediSQL</li>\n<li>no support relation</li>\n</ul>\n<p>Postmodel is supported on CPython &gt;= 3.6 for PostgreSQL.</p>\n<h2>Getting Started</h2>\n<h3>Installation</h3>\n<p>You have to install postmodel like this:</p>\n<pre><code>pip install postmodel\n</code></pre>\n<h3>Quick Tutorial</h3>\n<p>Primary entity of postmodel is <code>postmodel.models.Model</code>.\nYou can start writing models like this:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">postmodel</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Book</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">IntField</span><span class=\"p\">(</span><span class=\"n\">pk</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">TextField</span><span class=\"p\">()</span>\n    <span class=\"n\">tag</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">120</span><span class=\"p\">)</span>\n\n    <span class=\"k\">class</span> <span class=\"nc\">Meta</span><span class=\"p\">:</span>\n        <span class=\"n\">table</span> <span class=\"o\">=</span> <span class=\"s2\">\"book_test\"</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__str__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span>\n</pre>\n<p>After you defined all your models, postmodel needs you to init them, in order to create backward relations between models and match your db client with appropriate models.</p>\n<p>You can do it like this:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">postmodel</span> <span class=\"kn\">import</span> <span class=\"n\">Postmodel</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">init</span><span class=\"p\">():</span>\n    <span class=\"c1\"># Here we connect to a PostgreSQL DB.</span>\n    <span class=\"c1\"># also specify the app name of \"models\"</span>\n    <span class=\"c1\"># which contain models from \"app.models\"</span>\n    <span class=\"k\">await</span> <span class=\"n\">Postmodel</span><span class=\"o\">.</span><span class=\"n\">init</span><span class=\"p\">(</span>\n        <span class=\"s1\">'postgres://postgres@localhost:54320/test_db'</span><span class=\"p\">,</span>\n        <span class=\"n\">modules</span><span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"vm\">__name__</span><span class=\"p\">]</span>\n    <span class=\"p\">)</span>\n    <span class=\"c1\"># Generate the schema</span>\n    <span class=\"k\">await</span> <span class=\"n\">Postmodel</span><span class=\"o\">.</span><span class=\"n\">generate_schemas</span><span class=\"p\">()</span>\n</pre>\n<p>Here we create connection to Postgres database, and then we discover &amp; initialise models.</p>\n<p>Postmodel currently supports the following databases:</p>\n<ul>\n<li>PostgreSQL (requires <code>asyncpg</code>)</li>\n</ul>\n<p><code>generate_schema</code> generates the schema on an empty database. Postmodel generates schemas in safe mode by default which\nincludes the <code>IF NOT EXISTS</code> clause, so you may include it in your main code.</p>\n<p>After that you can start using your models:</p>\n<pre><span class=\"c1\"># Create instance by save</span>\n<span class=\"n\">book</span> <span class=\"o\">=</span> <span class=\"n\">Book</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'Mastering postmdel'</span><span class=\"p\">,</span> <span class=\"n\">tag</span><span class=\"o\">=</span><span class=\"s2\">\"orm\"</span><span class=\"p\">)</span>\n<span class=\"k\">await</span> <span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Or by .create()</span>\n<span class=\"k\">await</span> <span class=\"n\">Book</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'Learning Python'</span><span class=\"p\">,</span> <span class=\"n\">tag</span><span class=\"o\">=</span><span class=\"s2\">\"python\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Query</span>\n\n<span class=\"n\">books</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Book</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">tag</span><span class=\"o\">=</span><span class=\"s2\">\"orm\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"k\">assert</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">books</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">1</span>\n</pre>\n<h2>Contributing</h2>\n<p>Please have a look at the <code>Contribution Guide &lt;docs/CONTRIBUTING.md&gt;</code>_</p>\n<h2>License</h2>\n<p>This project is licensed under the MIT License - see the <code>LICENSE &lt;LICENSE&gt;</code>_ file for details</p>\n<p><a href=\"https://app.fossa.io/projects/git%2Bgithub.com%2Fzeaphoo%2Fpostmodel?ref=badge_large\" rel=\"nofollow\"><img alt=\"FOSSA Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4f5ca8a44f1745bac7d9fb1568a9f312d5dd34a0/68747470733a2f2f6170702e666f7373612e696f2f6170692f70726f6a656374732f6769742532426769746875622e636f6d2532467a656170686f6f253246706f73746d6f64656c2e7376673f747970653d6c61726765\"></a></p>\n\n          </div>"}, "last_serial": 7029650, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "e73daa049a92a7ee8a954f16c38913de", "sha256": "b7770f713d3f8e535b2db7a25e617532eaa1fc99634723200653b68ee9592acb"}, "downloads": -1, "filename": "postmodel-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "e73daa049a92a7ee8a954f16c38913de", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 27272, "upload_time": "2020-02-14T12:14:46", "upload_time_iso_8601": "2020-02-14T12:14:46.288526Z", "url": "https://files.pythonhosted.org/packages/bc/6b/fbce12559c068e8aa278e2c704a53face4a80cda51378063c5122786224b/postmodel-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f3a52c31cad1432bfdf5348d991c5049", "sha256": "ac3098f9931470ac14f7a55562f69eecb1da170e07e89376c25593971540b834"}, "downloads": -1, "filename": "postmodel-0.1.1.tar.gz", "has_sig": false, "md5_digest": "f3a52c31cad1432bfdf5348d991c5049", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23813, "upload_time": "2020-02-14T12:14:48", "upload_time_iso_8601": "2020-02-14T12:14:48.341107Z", "url": "https://files.pythonhosted.org/packages/b6/4d/948a308f8f3c455cb1c624ea7bfc5e59e5e17e71864cb6ab3b31688660e2/postmodel-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "a6b0efa097dcd0c3c7117883aed270a4", "sha256": "05d30e6ab4614172217a9b24cc4c799f1483bd97092a42e52b1fda38c30bfe87"}, "downloads": -1, "filename": "postmodel-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "a6b0efa097dcd0c3c7117883aed270a4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 27206, "upload_time": "2020-03-02T08:07:07", "upload_time_iso_8601": "2020-03-02T08:07:07.794887Z", "url": "https://files.pythonhosted.org/packages/29/56/9fe1f2774a735a1f6e2394c52b541dbed3ffd51ef73c2ac9b99ea3d471f0/postmodel-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "784b15540bfab1797b2eaac08c702f61", "sha256": "0d242b5bf849714e5701209074563adc59b68c599e1a485fbde98562f820e546"}, "downloads": -1, "filename": "postmodel-0.1.2.tar.gz", "has_sig": false, "md5_digest": "784b15540bfab1797b2eaac08c702f61", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23931, "upload_time": "2020-03-02T08:07:09", "upload_time_iso_8601": "2020-03-02T08:07:09.914767Z", "url": "https://files.pythonhosted.org/packages/4a/2f/31d2746ee846554f102736174ba80bce1a8dc72e377e89c7001e906f0d58/postmodel-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "d86358faf1d2a9e381d3baffc4eb0bb8", "sha256": "3f49042b6e1519ae96986faf2dec251b22cc50b946b4a86cb84b1e7245d3521b"}, "downloads": -1, "filename": "postmodel-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "d86358faf1d2a9e381d3baffc4eb0bb8", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 27432, "upload_time": "2020-04-16T05:37:14", "upload_time_iso_8601": "2020-04-16T05:37:14.091437Z", "url": "https://files.pythonhosted.org/packages/e1/32/3e42a7d7f9646dea152d24a00ef4c758df9f0bda6010f15adcc24d8aa9e6/postmodel-0.1.3-py3-none-any.whl", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "e61a960c38ca5e8da61d6f662e10759e", "sha256": "10070f572586a57892e47cc05ae2da8fd24ba7a77d8e4bef16207f4e748df67d"}, "downloads": -1, "filename": "postmodel-0.1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "e61a960c38ca5e8da61d6f662e10759e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 27430, "upload_time": "2020-04-16T05:38:30", "upload_time_iso_8601": "2020-04-16T05:38:30.855123Z", "url": "https://files.pythonhosted.org/packages/a6/a2/ae7fb490f7802363804f69102380cbd109dd51511923a0de757fbb895604/postmodel-0.1.4-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e61a960c38ca5e8da61d6f662e10759e", "sha256": "10070f572586a57892e47cc05ae2da8fd24ba7a77d8e4bef16207f4e748df67d"}, "downloads": -1, "filename": "postmodel-0.1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "e61a960c38ca5e8da61d6f662e10759e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 27430, "upload_time": "2020-04-16T05:38:30", "upload_time_iso_8601": "2020-04-16T05:38:30.855123Z", "url": "https://files.pythonhosted.org/packages/a6/a2/ae7fb490f7802363804f69102380cbd109dd51511923a0de757fbb895604/postmodel-0.1.4-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 03:20:53 2020"}
{"info": {"author": "Nicolas Liampotis", "author_email": "nliam@grnet.gr", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "b2accessdeprovisioning\n======================\n\n.. image:: https://img.shields.io/pypi/v/b2accessdeprovisioning.svg\n    :target: https://pypi.python.org/pypi/b2accessdeprovisioning\n\nA Python tool for handling the (de)provisioning of B2ACCESS user accounts.\n\nThe b2accessdeprovisioning tool can be used to retrieve the list of permanently disabled B2ACCESS user accounts via Unity's Administration API. For each of the disabled accounts, the tool performs the following operations:\n\n#. immediate removal of assigned attributes (excluding user identifiers)\n#. scheduled removal of all account information after a given period of time\n\nFinally, the tool sends a notification to one or more recipients containing the list of deprovisioned accounts.\n\nFeatures\n--------\n\n* B2ACCESS integration via Unity's Administration API v1\n* Attribute whitelisting to indicate information that should be saved when removing account data; otherwise the tool removes all attributes assigned to permanently disabled B2ACCESS user accounts\n* Adjustable duration of time for which the records of deprovisioned users should be maintained\n* Email notifications via SMTP containing deprovisioned account information in json format\n\nPython version\n--------------\n\nPython 2.6 or 2.7 are fully supported.\n\nInstallation\n------------\n\nTo install the tool, simply run:\n\n.. code-block:: bash\n\n    $ pip install b2accessdeprovisioning\n    \ud83c\udf7a\n\nThird party libraries and dependencies\n--------------------------------------\n\nThe following libraries will be installed when you install the client library:\n\n* `PyYAML <https://github.com/yaml/pyyaml>`_\n* `unityapiclient <https://github.com/EUDAT-B2ACCESS/unity-api-python-client>`_\n* `pytz <https://github.com/newvem/pytz>`_\n* `requests <https://github.com/kennethreitz/requests>`_\n\nConfiguration\n-------------\nTool settings are adjustable via the ``config.yml`` configuration file.\n\nExample ``config.yml``\n^^^^^^^^^^^^^^^^^^^^^^\n\n.. code-block:: yaml\n\n    # B2ACCESS API endpoint connection details\n    api:\n      base_url: \"https://b2access.eudat.eu:8443\"\n      path: \"rest-admin\"\n      version: \"v1\"\n      user: \"unity_user\"\n      password: \"unity_password\"\n      cert_verify: True\n\n    # List of attributes that should be saved when removing user information.\n    # Attributes not listed here will be immediately removed upon user\n    # deprovisioning.\n    attr_whitelist: []\n\n    # Duration of time for which the records of deprovisioned users should be\n    # maintained (in days). After that period all information about the\n    # deprovisioned users will be permanently removed.\n    retention_period: 365\n\n    # Notification settings\n    notifications:\n      email:\n        # SMTP host to connect to. Defaults to the local host if empty.\n        host: \"smtp.example.eu\"\n        # SMTP port to connect to. Defaults to the standard SMTP port (25) if empty.\n        port: 587\n        # Whether to put the SMTP connection in TLS. Defaults to False.\n        use_tls: True\n        # Login username/password if the SMTP server requires authentication;\n        # otherwise empty.\n        user: \"smtp_user\"\n        password: \"smtp_password\"\n        # Sender address\n        from: \"B2ACCESS Notifications <noreply@b2access.eudat.eu>\"\n        # List of recipient addresses\n        to:\n          - \"SP1 Operator <admin@sp1.eudat.eu>\"\n          - \"SP2 Operator <admin@sp2.eudat.eu>\"\n        subject: \"Deprovisioned B2ACCESS accounts\"\n        intro_text: \"See attachment for details of deprovisioned B2ACCESS accounts.\\n\\nNote: This is an automated email, please don't reply.\"\n\nSee also ``config.yml.example``.\n\nUsage\n-----\n\nSimply run the ``b2accessdeprovisioning.monitor`` module:\n\n.. code-block:: bash\n\n    $ python -m b2accessdeprovisioning.monitor\n\nNote: The tool will look for the ``config.yml`` configuration file in the current directory.\n\nExample notification\n^^^^^^^^^^^^^^^^^^^^\n\nInformation about the deprovisioned user accounts is sent via an email attachment in json format (``users.json``):\n\n.. code-block:: json\n\n    [\n        {\n            \"id\": \"3f3d5b40-26ce-45db-808a-a5ca3a4e7515\"\n        },\n        {\n            \"id\": \"663a5b04-62ec-9d3b-078b-5ac3a4ae5733\"\n        }\n    ]\n\nDocumentation\n-------------\n\nDocumentation is available at http://eudat-b2access.github.io/b2access-deprovisioning \n\nLicense\n-------\n\nLicensed under the Apache 2.0 license, for details see `LICENSE`.\n\n\n", "description_content_type": null, "docs_url": null, "download_url": "https://github.com/EUDAT-B2ACCESS/b2access-deprovisioning", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://eudat-b2access.github.io/b2access-deprovisioning", "keywords": "B2ACCESS account (de)provisioning tool", "license": "Apache License 2.0", "maintainer": "", "maintainer_email": "", "name": "b2accessdeprovisioning", "package_url": "https://pypi.org/project/b2accessdeprovisioning/", "platform": "", "project_url": "https://pypi.org/project/b2accessdeprovisioning/", "project_urls": {"Download": "https://github.com/EUDAT-B2ACCESS/b2access-deprovisioning", "Homepage": "https://eudat-b2access.github.io/b2access-deprovisioning"}, "release_url": "https://pypi.org/project/b2accessdeprovisioning/0.9.1/", "requires_dist": ["unityapiclient", "PyYAML"], "requires_python": ">=2.6,<2.8", "summary": "B2ACCESS account (de)provisioning tool", "version": "0.9.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://pypi.python.org/pypi/b2accessdeprovisioning\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/v/b2accessdeprovisioning.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/064c716801e2a2d514c6ae854225e2080382de11/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6232616363657373646570726f766973696f6e696e672e737667\"></a>\n<p>A Python tool for handling the (de)provisioning of B2ACCESS user accounts.</p>\n<p>The b2accessdeprovisioning tool can be used to retrieve the list of permanently disabled B2ACCESS user accounts via Unity\u2019s Administration API. For each of the disabled accounts, the tool performs the following operations:</p>\n<ol>\n<li>immediate removal of assigned attributes (excluding user identifiers)</li>\n<li>scheduled removal of all account information after a given period of time</li>\n</ol>\n<p>Finally, the tool sends a notification to one or more recipients containing the list of deprovisioned accounts.</p>\n<div id=\"features\">\n<h2>Features</h2>\n<ul>\n<li>B2ACCESS integration via Unity\u2019s Administration API v1</li>\n<li>Attribute whitelisting to indicate information that should be saved when removing account data; otherwise the tool removes all attributes assigned to permanently disabled B2ACCESS user accounts</li>\n<li>Adjustable duration of time for which the records of deprovisioned users should be maintained</li>\n<li>Email notifications via SMTP containing deprovisioned account information in json format</li>\n</ul>\n</div>\n<div id=\"python-version\">\n<h2>Python version</h2>\n<p>Python 2.6 or 2.7 are fully supported.</p>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>To install the tool, simply run:</p>\n<pre>$ pip install b2accessdeprovisioning\n\ud83c\udf7a\n</pre>\n</div>\n<div id=\"third-party-libraries-and-dependencies\">\n<h2>Third party libraries and dependencies</h2>\n<p>The following libraries will be installed when you install the client library:</p>\n<ul>\n<li><a href=\"https://github.com/yaml/pyyaml\" rel=\"nofollow\">PyYAML</a></li>\n<li><a href=\"https://github.com/EUDAT-B2ACCESS/unity-api-python-client\" rel=\"nofollow\">unityapiclient</a></li>\n<li><a href=\"https://github.com/newvem/pytz\" rel=\"nofollow\">pytz</a></li>\n<li><a href=\"https://github.com/kennethreitz/requests\" rel=\"nofollow\">requests</a></li>\n</ul>\n</div>\n<div id=\"configuration\">\n<h2>Configuration</h2>\n<p>Tool settings are adjustable via the <tt>config.yml</tt> configuration file.</p>\n<div id=\"example-config-yml\">\n<h3>Example <tt>config.yml</tt></h3>\n<pre><span class=\"c1\"># B2ACCESS API endpoint connection details</span>\n<span class=\"nt\">api</span><span class=\"p\">:</span>\n  <span class=\"nt\">base_url</span><span class=\"p\">:</span> <span class=\"s\">\"https://b2access.eudat.eu:8443\"</span>\n  <span class=\"nt\">path</span><span class=\"p\">:</span> <span class=\"s\">\"rest-admin\"</span>\n  <span class=\"nt\">version</span><span class=\"p\">:</span> <span class=\"s\">\"v1\"</span>\n  <span class=\"nt\">user</span><span class=\"p\">:</span> <span class=\"s\">\"unity_user\"</span>\n  <span class=\"nt\">password</span><span class=\"p\">:</span> <span class=\"s\">\"unity_password\"</span>\n  <span class=\"nt\">cert_verify</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">True</span>\n\n<span class=\"c1\"># List of attributes that should be saved when removing user information.</span>\n<span class=\"c1\"># Attributes not listed here will be immediately removed upon user</span>\n<span class=\"c1\"># deprovisioning.</span>\n<span class=\"nt\">attr_whitelist</span><span class=\"p\">:</span> <span class=\"p-Indicator\">[]</span>\n\n<span class=\"c1\"># Duration of time for which the records of deprovisioned users should be</span>\n<span class=\"c1\"># maintained (in days). After that period all information about the</span>\n<span class=\"c1\"># deprovisioned users will be permanently removed.</span>\n<span class=\"nt\">retention_period</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">365</span>\n\n<span class=\"c1\"># Notification settings</span>\n<span class=\"nt\">notifications</span><span class=\"p\">:</span>\n  <span class=\"nt\">email</span><span class=\"p\">:</span>\n    <span class=\"c1\"># SMTP host to connect to. Defaults to the local host if empty.</span>\n    <span class=\"nt\">host</span><span class=\"p\">:</span> <span class=\"s\">\"smtp.example.eu\"</span>\n    <span class=\"c1\"># SMTP port to connect to. Defaults to the standard SMTP port (25) if empty.</span>\n    <span class=\"nt\">port</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">587</span>\n    <span class=\"c1\"># Whether to put the SMTP connection in TLS. Defaults to False.</span>\n    <span class=\"nt\">use_tls</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">True</span>\n    <span class=\"c1\"># Login username/password if the SMTP server requires authentication;</span>\n    <span class=\"c1\"># otherwise empty.</span>\n    <span class=\"nt\">user</span><span class=\"p\">:</span> <span class=\"s\">\"smtp_user\"</span>\n    <span class=\"nt\">password</span><span class=\"p\">:</span> <span class=\"s\">\"smtp_password\"</span>\n    <span class=\"c1\"># Sender address</span>\n    <span class=\"nt\">from</span><span class=\"p\">:</span> <span class=\"s\">\"B2ACCESS</span><span class=\"nv\"> </span><span class=\"s\">Notifications</span><span class=\"nv\"> </span><span class=\"s\">&lt;noreply@b2access.eudat.eu&gt;\"</span>\n    <span class=\"c1\"># List of recipient addresses</span>\n    <span class=\"nt\">to</span><span class=\"p\">:</span>\n      <span class=\"p-Indicator\">-</span> <span class=\"s\">\"SP1</span><span class=\"nv\"> </span><span class=\"s\">Operator</span><span class=\"nv\"> </span><span class=\"s\">&lt;admin@sp1.eudat.eu&gt;\"</span>\n      <span class=\"p-Indicator\">-</span> <span class=\"s\">\"SP2</span><span class=\"nv\"> </span><span class=\"s\">Operator</span><span class=\"nv\"> </span><span class=\"s\">&lt;admin@sp2.eudat.eu&gt;\"</span>\n    <span class=\"nt\">subject</span><span class=\"p\">:</span> <span class=\"s\">\"Deprovisioned</span><span class=\"nv\"> </span><span class=\"s\">B2ACCESS</span><span class=\"nv\"> </span><span class=\"s\">accounts\"</span>\n    <span class=\"nt\">intro_text</span><span class=\"p\">:</span> <span class=\"s\">\"See</span><span class=\"nv\"> </span><span class=\"s\">attachment</span><span class=\"nv\"> </span><span class=\"s\">for</span><span class=\"nv\"> </span><span class=\"s\">details</span><span class=\"nv\"> </span><span class=\"s\">of</span><span class=\"nv\"> </span><span class=\"s\">deprovisioned</span><span class=\"nv\"> </span><span class=\"s\">B2ACCESS</span><span class=\"nv\"> </span><span class=\"s\">accounts.\\n\\nNote:</span><span class=\"nv\"> </span><span class=\"s\">This</span><span class=\"nv\"> </span><span class=\"s\">is</span><span class=\"nv\"> </span><span class=\"s\">an</span><span class=\"nv\"> </span><span class=\"s\">automated</span><span class=\"nv\"> </span><span class=\"s\">email,</span><span class=\"nv\"> </span><span class=\"s\">please</span><span class=\"nv\"> </span><span class=\"s\">don't</span><span class=\"nv\"> </span><span class=\"s\">reply.\"</span>\n</pre>\n<p>See also <tt>config.yml.example</tt>.</p>\n</div>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>Simply run the <tt>b2accessdeprovisioning.monitor</tt> module:</p>\n<pre>$ python -m b2accessdeprovisioning.monitor\n</pre>\n<p>Note: The tool will look for the <tt>config.yml</tt> configuration file in the current directory.</p>\n<div id=\"example-notification\">\n<h3>Example notification</h3>\n<p>Information about the deprovisioned user accounts is sent via an email attachment in json format (<tt>users.json</tt>):</p>\n<pre><span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n        <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"3f3d5b40-26ce-45db-808a-a5ca3a4e7515\"</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">{</span>\n        <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"663a5b04-62ec-9d3b-078b-5ac3a4ae5733\"</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">]</span>\n</pre>\n</div>\n</div>\n<div id=\"documentation\">\n<h2>Documentation</h2>\n<p>Documentation is available at <a href=\"http://eudat-b2access.github.io/b2access-deprovisioning\" rel=\"nofollow\">http://eudat-b2access.github.io/b2access-deprovisioning</a></p>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>Licensed under the Apache 2.0 license, for details see <cite>LICENSE</cite>.</p>\n</div>\n\n          </div>"}, "last_serial": 3110848, "releases": {"0.9.0": [{"comment_text": "", "digests": {"md5": "799aefa266a589915b1de88b78bad715", "sha256": "5cdb400e91de0ee30fac42ef054b11eb6e1bd7326f54d9bdfd91f8dbf006fab5"}, "downloads": -1, "filename": "b2accessdeprovisioning-0.9.0-py2-none-any.whl", "has_sig": false, "md5_digest": "799aefa266a589915b1de88b78bad715", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": ">=2.6,<2.8", "size": 9340, "upload_time": "2017-02-25T03:35:13", "upload_time_iso_8601": "2017-02-25T03:35:13.154566Z", "url": "https://files.pythonhosted.org/packages/2e/0a/2b055153b0de893415e7ab6ebfb486a7e11b42a16eeb66fe781ec1e5f6cf/b2accessdeprovisioning-0.9.0-py2-none-any.whl", "yanked": false}], "0.9.1": [{"comment_text": "", "digests": {"md5": "e0ae2086f12e00988ca4991b506bfe70", "sha256": "884ca7c0f8990c2e58ecd494fd47d6c04927a5be555eafc47fa66b99cd58565c"}, "downloads": -1, "filename": "b2accessdeprovisioning-0.9.1-py2-none-any.whl", "has_sig": false, "md5_digest": "e0ae2086f12e00988ca4991b506bfe70", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": ">=2.6,<2.8", "size": 9539, "upload_time": "2017-08-21T02:53:58", "upload_time_iso_8601": "2017-08-21T02:53:58.254177Z", "url": "https://files.pythonhosted.org/packages/8d/9f/ad259afced75ef379bf98d5e83912a04043ae0ef772a268e22c2ade4eb79/b2accessdeprovisioning-0.9.1-py2-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e0ae2086f12e00988ca4991b506bfe70", "sha256": "884ca7c0f8990c2e58ecd494fd47d6c04927a5be555eafc47fa66b99cd58565c"}, "downloads": -1, "filename": "b2accessdeprovisioning-0.9.1-py2-none-any.whl", "has_sig": false, "md5_digest": "e0ae2086f12e00988ca4991b506bfe70", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": ">=2.6,<2.8", "size": 9539, "upload_time": "2017-08-21T02:53:58", "upload_time_iso_8601": "2017-08-21T02:53:58.254177Z", "url": "https://files.pythonhosted.org/packages/8d/9f/ad259afced75ef379bf98d5e83912a04043ae0ef772a268e22c2ade4eb79/b2accessdeprovisioning-0.9.1-py2-none-any.whl", "yanked": false}], "timestamp": "Thu May  7 18:15:12 2020"}
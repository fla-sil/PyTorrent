{"info": {"author": "zencore", "author_email": "dobetter@zencore.cn", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3 :: Only", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# django-admin-item-owner\n\nModel item always has an owner, and login user can only see owned items.\n\n## Goal\n\n- Set item's owner to current user automatically.\n\n## Install\n\n```bash\npip install django-admin-item-owner\n```\n\n## Settings\n\n```python\n\nINSTALLED_APPS = [\n    ....\n    'django_global_request',\n    'item_owner',\n    ...\n]\n\nMIDDLEWARE = [\n    ...\n    'django_global_request.middleware.GlobalRequestMiddleware',\n    ...\n]\n```\n\n## Example\n\nexample/models.py\n\n```python\nfrom django.db import models\nfrom item_owner.models import ItemOwnerMixin\nfrom item_owner.models import ItemShareMixin\n\nclass Category(ItemOwnerMixin, models.Model):\n    title = models.CharField(max_length=32)\n\n    def __str__(self):\n        return self.title\n\nclass Book(ItemOwnerMixin, ItemShareMixin, models.Model):\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True, related_name=\"books\")\n    title = models.CharField(max_length=32)\n\n    def __str__(self):\n        return self.title\n\n```\n\nexample/admin.py\n\n\n```python\nfrom django.contrib import admin\nfrom django import forms\nfrom item_owner.admin import ItemOwnerMixin\nfrom item_owner.admin import ItemShareMixin\nfrom .models import Category\nfrom .models import Book\n\n\n\nclass BookInline(ItemOwnerMixin, ItemShareMixin, admin.TabularInline):\n    model = Book\n\nclass CategoryAdmin(ItemOwnerMixin, admin.ModelAdmin):\n    list_display = [\"title\"]\n    inlines = [\n        BookInline,\n    ]\n\nclass BookAdmin(ItemOwnerMixin, ItemShareMixin, admin.ModelAdmin):\n    list_display = [\"title\"]\n\nadmin.site.register(Category, CategoryAdmin)\nadmin.site.register(Book, BookAdmin)\n\n```\n\n## Releases\n\n### v0.2.0 2020-01-08\n\n- Add ItemShareMixin for models and admins.\n\n### v0.1.0 2019-12-01\n\n- First release.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "django-admin-item-owner", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "django-admin-item-owner", "package_url": "https://pypi.org/project/django-admin-item-owner/", "platform": "", "project_url": "https://pypi.org/project/django-admin-item-owner/", "project_urls": null, "release_url": "https://pypi.org/project/django-admin-item-owner/0.2.0/", "requires_dist": null, "requires_python": "", "summary": "Model item always has an owner, and login user can only see owned items.", "version": "0.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>django-admin-item-owner</h1>\n<p>Model item always has an owner, and login user can only see owned items.</p>\n<h2>Goal</h2>\n<ul>\n<li>Set item's owner to current user automatically.</li>\n</ul>\n<h2>Install</h2>\n<pre>pip install django-admin-item-owner\n</pre>\n<h2>Settings</h2>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"o\">....</span>\n    <span class=\"s1\">'django_global_request'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'item_owner'</span><span class=\"p\">,</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">]</span>\n\n<span class=\"n\">MIDDLEWARE</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'django_global_request.middleware.GlobalRequestMiddleware'</span><span class=\"p\">,</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">]</span>\n</pre>\n<h2>Example</h2>\n<p>example/models.py</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">item_owner.models</span> <span class=\"kn\">import</span> <span class=\"n\">ItemOwnerMixin</span>\n<span class=\"kn\">from</span> <span class=\"nn\">item_owner.models</span> <span class=\"kn\">import</span> <span class=\"n\">ItemShareMixin</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Category</span><span class=\"p\">(</span><span class=\"n\">ItemOwnerMixin</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">32</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__str__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">title</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Book</span><span class=\"p\">(</span><span class=\"n\">ItemOwnerMixin</span><span class=\"p\">,</span> <span class=\"n\">ItemShareMixin</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">category</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">ForeignKey</span><span class=\"p\">(</span><span class=\"n\">Category</span><span class=\"p\">,</span> <span class=\"n\">on_delete</span><span class=\"o\">=</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">SET_NULL</span><span class=\"p\">,</span> <span class=\"n\">null</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">blank</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">related_name</span><span class=\"o\">=</span><span class=\"s2\">\"books\"</span><span class=\"p\">)</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">32</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__str__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">title</span>\n</pre>\n<p>example/admin.py</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.contrib</span> <span class=\"kn\">import</span> <span class=\"n\">admin</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django</span> <span class=\"kn\">import</span> <span class=\"n\">forms</span>\n<span class=\"kn\">from</span> <span class=\"nn\">item_owner.admin</span> <span class=\"kn\">import</span> <span class=\"n\">ItemOwnerMixin</span>\n<span class=\"kn\">from</span> <span class=\"nn\">item_owner.admin</span> <span class=\"kn\">import</span> <span class=\"n\">ItemShareMixin</span>\n<span class=\"kn\">from</span> <span class=\"nn\">.models</span> <span class=\"kn\">import</span> <span class=\"n\">Category</span>\n<span class=\"kn\">from</span> <span class=\"nn\">.models</span> <span class=\"kn\">import</span> <span class=\"n\">Book</span>\n\n\n\n<span class=\"k\">class</span> <span class=\"nc\">BookInline</span><span class=\"p\">(</span><span class=\"n\">ItemOwnerMixin</span><span class=\"p\">,</span> <span class=\"n\">ItemShareMixin</span><span class=\"p\">,</span> <span class=\"n\">admin</span><span class=\"o\">.</span><span class=\"n\">TabularInline</span><span class=\"p\">):</span>\n    <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">Book</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">CategoryAdmin</span><span class=\"p\">(</span><span class=\"n\">ItemOwnerMixin</span><span class=\"p\">,</span> <span class=\"n\">admin</span><span class=\"o\">.</span><span class=\"n\">ModelAdmin</span><span class=\"p\">):</span>\n    <span class=\"n\">list_display</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"title\"</span><span class=\"p\">]</span>\n    <span class=\"n\">inlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"n\">BookInline</span><span class=\"p\">,</span>\n    <span class=\"p\">]</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">BookAdmin</span><span class=\"p\">(</span><span class=\"n\">ItemOwnerMixin</span><span class=\"p\">,</span> <span class=\"n\">ItemShareMixin</span><span class=\"p\">,</span> <span class=\"n\">admin</span><span class=\"o\">.</span><span class=\"n\">ModelAdmin</span><span class=\"p\">):</span>\n    <span class=\"n\">list_display</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"title\"</span><span class=\"p\">]</span>\n\n<span class=\"n\">admin</span><span class=\"o\">.</span><span class=\"n\">site</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"n\">Category</span><span class=\"p\">,</span> <span class=\"n\">CategoryAdmin</span><span class=\"p\">)</span>\n<span class=\"n\">admin</span><span class=\"o\">.</span><span class=\"n\">site</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"n\">Book</span><span class=\"p\">,</span> <span class=\"n\">BookAdmin</span><span class=\"p\">)</span>\n</pre>\n<h2>Releases</h2>\n<h3>v0.2.0 2020-01-08</h3>\n<ul>\n<li>Add ItemShareMixin for models and admins.</li>\n</ul>\n<h3>v0.1.0 2019-12-01</h3>\n<ul>\n<li>First release.</li>\n</ul>\n\n          </div>"}, "last_serial": 6414084, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "d7ced9cd13a872b6d0858dc4d19d703c", "sha256": "89469e59792ec8d15b9ba64d0e512810c8b6bdd58f1c1b3f4cbc3bae73d293a3"}, "downloads": -1, "filename": "django-admin-item-owner-0.1.0.tar.gz", "has_sig": false, "md5_digest": "d7ced9cd13a872b6d0858dc4d19d703c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2715, "upload_time": "2019-12-01T09:11:36", "upload_time_iso_8601": "2019-12-01T09:11:36.918936Z", "url": "https://files.pythonhosted.org/packages/ba/7c/e649082a4772af26d10c13b0c544f4fa8b0daa04e832eca5e958c7082a24/django-admin-item-owner-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "4cfb8999ab9b4ab00df958505fab121e", "sha256": "4b76a085f53c41384c7a8fa4bd20ba68bf41bccd493270be6b2d6f8937449f05"}, "downloads": -1, "filename": "django-admin-item-owner-0.2.0.tar.gz", "has_sig": false, "md5_digest": "4cfb8999ab9b4ab00df958505fab121e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3022, "upload_time": "2020-01-08T08:34:44", "upload_time_iso_8601": "2020-01-08T08:34:44.266764Z", "url": "https://files.pythonhosted.org/packages/6b/08/a7a7104021d9d77725d2532c708a5b39c617df0c98191424b4a51c7e1322/django-admin-item-owner-0.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "4cfb8999ab9b4ab00df958505fab121e", "sha256": "4b76a085f53c41384c7a8fa4bd20ba68bf41bccd493270be6b2d6f8937449f05"}, "downloads": -1, "filename": "django-admin-item-owner-0.2.0.tar.gz", "has_sig": false, "md5_digest": "4cfb8999ab9b4ab00df958505fab121e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3022, "upload_time": "2020-01-08T08:34:44", "upload_time_iso_8601": "2020-01-08T08:34:44.266764Z", "url": "https://files.pythonhosted.org/packages/6b/08/a7a7104021d9d77725d2532c708a5b39c617df0c98191424b4a51c7e1322/django-admin-item-owner-0.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:37:49 2020"}
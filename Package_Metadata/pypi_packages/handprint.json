{"info": {"author": "Michael Hucka", "author_email": "mhucka@caltech.edu", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Environment :: Console", "Intended Audience :: Science/Research", "License :: OSI Approved :: BSD License", "Operating System :: MacOS :: MacOS X", "Operating System :: Microsoft :: Windows", "Operating System :: POSIX", "Operating System :: POSIX :: Linux", "Operating System :: Unix", "Programming Language :: Python", "Programming Language :: Python :: 3.5", "Topic :: Scientific/Engineering :: Artificial Intelligence", "Topic :: Scientific/Engineering :: Image Recognition", "Topic :: Text Processing :: Linguistic"], "description": "Handprint<img width=\"12%\" align=\"right\" src=\"https://raw.githubusercontent.com/caltechlibrary/handprint/master/.graphics/noun_Hand_733265.png\">\n=========\n\nThe _**Hand**written **P**age **R**ecognit**i**o**n** **T**est_ program applies HTR services to images of handwritten text and produces an annotated image (and optionally more) showing the text recognized.\n\n[![Latest release](https://img.shields.io/github/v/release/caltechlibrary/handprint.svg?style=flat-square&color=b44e88&label=Latest%20release)](https://github.com/caltechlibrary/handprint/releases)\n[![License](https://img.shields.io/badge/License-BSD%203--Clause-blue.svg?style=flat-square)](https://choosealicense.com/licenses/bsd-3-clause)\n[![Python](https://img.shields.io/badge/Python-3.5+-brightgreen.svg?style=flat-square)](http://shields.io)\n[![GitHub stars](https://img.shields.io/github/stars/caltechlibrary/handprint.svg?style=flat-square&color=lightgray&label=Stars)](https://github.com/caltechlibrary/handprint/stargazers)\n[![DOI](https://img.shields.io/badge/dynamic/json.svg?label=DOI&style=flat-square&colorA=gray&colorB=navy&query=$.metadata.doi&uri=https://data.caltech.edu/api/record/1373)](https://data.caltech.edu/records/1373)\n[![PyPI](https://img.shields.io/pypi/v/handprint.svg?style=flat-square&color=orange)](https://pypi.org/project/handprint/)\n\n\n\u2761 Log of recent changes\n-----------------------\n\n_Version 1.2.2_: This release fixes an inconsistency (compared to other Handprint output) in the way that Microsoft's text recognition service results are drawn on annotated images.  The copyright year in source files has also been updated.\n\n_Version 1.2.0_: This version fixes a bug in creating annotated results images, in which results from multiple services were overwritten on top of each other. It also fixes a bug with the Amazon interface that resulted in occasional random errors about `endpoint_resolver`. This version of Handprint also changes how output files are written; the new scheme uses the naming pattern `somefile.handprint.png` for the rescaled input image, `somefile.handprint-service.png` for the various service output results, and `somefile.handprint-all.png` for the summary grid image.  Handprint now also accepts PDF files as input.\n\nThe file [CHANGES](CHANGES.md) contains a more complete change log, and includes information about previous releases.\n\n\u00a7 Table of Contents\n-----------------\n\n* [Introduction](#-introduction)\n* [Installation](#-installation)\n   * [Install Handprint on your computer](#-install-handprint-on-your-computer)\n   * [Add cloud service credentials](#-add-cloud-service-credentials)\n* [Usage](#\ufe0e-usage)\n   * [Supported HTR/OCR services](#supported-htrocr-services)\n   * [Input files and URLs](#input-files-and-urls)\n   * [Annotated output images](#annotated-output-images)\n   * [Extended results](#extended-results)\n   * [Comparison to ground truth text](#comparison-to-ground-truth-text)\n   * [Other options](#other-options)\n   * [Command line options summary](#command-line-options-summary)\n* [Known issues and limitations](#known-issues-and-limitations)\n* [Getting help](#-getting-help)\n* [Contributing](#-contributing)\n* [License](#-license)\n* [Authors and history](#-authors-and-history)\n* [Acknowledgments](#\ufe0e-acknowledgments)\n\n\u261e Introduction\n-------------\n\n<img align=\"right\" width=\"550px\" src=\"https://raw.githubusercontent.com/caltechlibrary/handprint/master/.graphics/glaser-example-google.jpg\">\n\nHandprint (_**Hand**written **P**age **R**ecognit**i**o**n** **T**est_) is a small project to examine the performance of alternative services for offline [handwritten text recognition (HTR)](https://en.wikipedia.org/wiki/Handwriting_recognition).  It was developed for use with documents from the [Caltech Archives](http://archives.caltech.edu), but it is completely independent and can be applied to any images of text documents.  Services supported include Google's [Google Cloud Vision API](https://cloud.google.com/vision/docs/ocr), Microsoft's Azure [Computer Vision API](https://azure.microsoft.com/en-us/services/cognitive-services/computer-vision/), Amazon's [Textract](https://aws.amazon.com/textract/) and [Rekognition](https://aws.amazon.com/rekognition/), and more.  Among other features, Handprint can generate versions of the input images with recognized text overlaid over them, to visualize the results.  The image at right shows an example.\n\nHandprint can work with individual images, directories of images, and URLs pointing to images on remote servers.  In addition to producing annotated images as output, it can output the raw results from an HTR service as JSON and text files.  Handprint can use multiple processor threads for parallel execution.\n\n\u270e Installation and configuration\n-------------------------------\n\nThe instructions below assume you have a Python interpreter installed on your computer; if that's not the case, please first install Python and familiarize yourself with running Python programs on your system.\n\nHandprint includes several adapters for working with cloud-based HTR services from Amazon, Google, and Microsoft.  Installing Handprint requires a both installing a copy of Handprint on your computer and supplying your copy with credentials for accessing the cloud services you want to use.\n\n\n### \u24f5&nbsp;&nbsp; _Install Handprint on your computer_\n\nOn **Linux**, **macOS**, and **Windows** operating systems, you should be able to install Handprint with [pip](https://pip.pypa.io/en/stable/installing/).  If you don't have the `pip` package or are uncertain if you do, first run the following command in a terminal command line interpreter: \n```\nsudo python3 -m ensurepip\n```\n\nThen, to install Handprint from the Python package repository, run the following command:\n```\npython3 -m pip install handprint --user --upgrade\n```\n\nAs an alternative to getting it from PyPI, you can instruct `pip` to install Handprint directly from the GitHub repository:\n```sh\npython3 -m pip install git+https@github.com:caltechlibrary/handprint.git --user --upgrade\n```\n\n\n### \u24f6&nbsp;&nbsp; _Add cloud service credentials_\n\nA one-time configuration step is needed for each cloud-based HTR service after you install Handprint on a computer.  This step supplies Handprint with credentials to access the services.  In each case, the same command format is used:\n```sh\nhandprint -a SERVICENAME CREDENTIALSFILE.json\n```\n\n_SERVICENAME_ must be one of the service names printed by running `handprint -l`, and `CREDENTIALSFILE.json` must have one of the formats discussed below.  When you run this command, Handprint will copy `CREDENTIALSFILE.json` to a private location, and thereafter uses the credentials to access _SERVICENAME_.  (The private location is different on different systems; for example, on macOS it is `~/Library/Application Support/Handprint/`.)  Examples are given below.\n\n\n#### Microsoft\n\nMicrosoft's approach to credentials in Azure involves the use of [subscription keys](https://docs.microsoft.com/en-us/azure/cognitive-services/computer-vision/vision-api-how-to-topics/howtosubscribe).  The format of the credentials file for Handprint just needs to contain a single field:\n\n```json\n{\n \"subscription_key\": \"YOURKEYHERE\"\n}\n```\n\nThe value of \"YOURKEYHERE\" will be a string such as `\"18de248475134eb49ae4a4e94b93461c\"`.  To obtain a key, visit [https://portal.azure.com](https://portal.azure.com) and sign in using your account login.  (Note: you will need to turn off browser security plugins such as Ad&nbsp;Block and uMatrix if you have them, or else the site will not work.)  Once you are authenticated to the Azure portal, you can create credentials for using Azure's machine-learning services. Some notes about this can be found in the [Handprint project Wiki pages on GitHub](https://github.com/caltechlibrary/handprint/wiki/Getting-Microsoft-Azure-credentials).  Once you have obtained a key, use a text editor to create a JSON file in the simple format shown above, save that file somewhere on your computer (for the sake of this example, assume it is `myazurecredentials.json`), and use the command discussed above to make Handprint copy the credentials file:\n```sh\nhandprint -a microsoft myazurecredentials.json\n```\n\n#### Google\n\nCredentials for using a Google service account need to be stored in a JSON file that contains many fields.  The overall format looks like this:\n\n```json\n{\n  \"type\": \"service_account\",\n  \"project_id\": \"theid\",\n  \"private_key_id\": \"thekey\",\n  \"private_key\": \"-----BEGIN PRIVATE KEY-----anotherkey-----END PRIVATE KEY-----\\n\",\n  \"client_email\": \"emailaddress\",\n  \"client_id\": \"id\",\n  \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n  \"token_uri\": \"https://oauth2.googleapis.com/token\",\n  \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n  \"client_x509_cert_url\": \"someurl\"\n}\n```\n\nGetting one of these is summarized in the Google Cloud docs for [Creating a service account](https://cloud.google.com/docs/authentication/), but more explicit instructions can be found in the [Handprint project Wiki pages on GitHub](https://github.com/caltechlibrary/handprint/wiki/Getting-Google-Cloud-credentials).  Once you have downloaded a Google credentials file from Google, save the file somewhere on your computer (for the sake of this example, assume it is `mygooglecredentials.json`), and use the command discussed above to make Handprint copy the credentials file:\n```sh\nhandprint -a google mygooglecredentials.json\n```\n\n\n#### Amazon\n\nAmazon credentials for AWS take the form of two alphanumeric strings: a _key id_ string and a _secret access key_ string.  In addition, the service needs to be invoked with a region identifier.  For the purposes of Handprint, these should be stored in a JSON file with the following format:\n\n```json\n{\n    \"aws_access_key_id\": \"YOUR_KEY_ID_HERE\",\n    \"aws_secret_access_key\": \"YOUR_ACCESS_KEY_HERE\",\n    \"region_name\": \"YOUR_REGION_NAME_HERE\"\n}\n```\n\nGetting this information is, thankfully, a relatively simple process for Amazon's services. Instructions can be found in the [Handprint project Wiki pages on GitHub](https://github.com/caltechlibrary/handprint/wiki/Creating-credentials-for-use-with-Amazon-Rekognition).  Once you have obtained the two alphanumeric keys and a region identifier string, use a text editor to create a JSON file in the simple format shown above, save that file somewhere on your computer (for the sake of this example, assume it is `myamazoncredentials.json`), and use _two_ commands to make Handprint copy the credentials file for the two different Amazon services currently supported by Handprint:\n```sh\nhandprint -a amazon-textract myamazoncredentials.json\nhandprint -a amazon-rekognition myamazoncredentials.json\n```\n\n\n\u25b6\ufe0e Usage\n-------\n\nHandprint comes with a single command-line interface program called `handprint`.  Here is a screen cast to give a sense for what it's like to run Handprint. Click on the following image:\n\n<p align=\"center\">\n  <a href=\"https://raw.githubusercontent.com/caltechlibrary/handprint/master/.graphics/handprint-screencast.gif\"><img src=\"https://raw.githubusercontent.com/caltechlibrary/handprint/master/.graphics/handprint-preview-image.png\" alt=\"Screencast of simple Handprint demo\"></a>\n</p>\n\nThe `handprint` command-line program should end up installed in a location where software is normally installed on your computer, if the installation steps described in the previous section proceed successfully.  Running Handprint from a terminal shell then should be as simple as running any other shell command on your system:\n\n```bash\nhandprint -h\n```\n\nIf that fails for some reason, you should be able to run Handprint from anywhere using the normal approach for running Python modules:\n\n```bash\npython3 -m handprint -h\n```\n\nThe `-h` option (`/h` on Windows) will make `handprint` display some help information and exit immediately.  To make Handprint do more, you can supply other arguments that instruct Handprint to process image files (or alternatively, URLs pointing to image files at a network location) and run text recognition algorithms on them, as explained below.\n\n\n### _Supported HTR/OCR services_\n\nHandprint can contact more than one cloud service for HTR.  You can use the `-l` option (`/l` on Windows) to make it display a list of the services currently implemented:\n\n```\n# handprint -l\nKnown services: amazon-rekognition, amazon-textract, google, microsoft\n```\n\nBy default, Handprint will run every known service in turn, creating annotated images to represent the results of each individual service.  To invoke only specific services, use the `-s` option (`/s` on Windows) followed by a service name or a list of names separated by commas (e.g., `google,microsoft`).  For example, the following command will save the results of invoking only Microsoft's text recognition service on a page from [Clara Barton's unpublished draft book \"The Life of My Childhood\"](https://picryl.com/media/clara-barton-papers-speeches-and-writings-file-1849-1947-books-the-life-of-71), available in Handprint's source directory:\n```csh\nhandprint -s microsoft tests/images/public-domain/clara-barton-life-of-my-childhood-p90.jpg\n```\n\nHere is what that result looks like:\n<img src=\"https://raw.githubusercontent.com/caltechlibrary/handprint/master/.graphics/clara-barton-page.png\" alt=\"Example of running Microsoft's service on a page from Clara Barton's unpublished draft book, The Life of My Childhood.\">\n\n\n### _Input files and URLs_\n\nAfter credentials are installed, running Handprint _without_ the `-a` option will invoke one or more services on files, directories of files, or URLs pointing to files.  More specifically, inputs can be supplied in any of the following ways:\n\n* One or more directory paths or one or more image file paths on the local disk, which will be interpreted as images (either individually or in directories) to be processed\n* One or more URLs, which will be interpreted as network locations of image files to be processed\n* If given the `-f` option (`/f` on Windows), a file containing either image paths or image URLs to be processed\n\nHandprint considers each input path individually, and determines when an input is a URL based on whether the given path begins with letters followed by the characters `:/` followed by the rest of the path (e.g., `http://some/other/characters`).  If any of the input images are URLs, Handprint will first download the images found at the URLs to a directory indicated by the option `-o` (`/o` on Windows).  If a destination directory is not provided via `-o`, the current working directory where Handprint is running is used instead.\n\nNo matter whether files or URLs, each input should be a single image of a document page in which text should be recognized.  Handprint reads a number of common formats: JP2, JPEG, PDF, PNG, GIF, BMP, and TIFF.  However, for simplicity and maximum compatibility with all cloud services, **Handprint always converts all input files to PNG** if they are not already in that format, before sending them to a service.  Handprint also resizes images if necessary, to the smallest size accepted by any of the services invoked if an image exceeds that size.  (For example, if service A accepts files up to 10 MB in size and service B accepts files up to 5 MB, all input images will be resized to 5 MB before sending them to A and B, even if A could accept a higher-resolution image.)  In addition, a limitation of Handprint's current PDF support is that only the first image in a PDF file is read &ndash; if a PDF file contains more than one image, the remaining images are ignored.\n\nNote that providing URLs on the command line can be problematic due to how terminal shells interpret certain characters, and so when supplying URLs, it's usually better to store the URLs in a file in combination with the `-f` option (`/f` on Windows).\n\n\n### _Annotated output images_\n\nBy default, Handprint will create a single output file for each input file.  This file will be have the suffix `.handprint-all.png` and contain an annotated version of the results for each service invoked, tiled in a _N_&times;_N_ grid fashion to produce one (big) output image.  Here is a sample output image to illustrate:\n\n<p align=\"center\">\n<img src=\"https://raw.githubusercontent.com/caltechlibrary/handprint/master/.graphics/all-results-example.jpg\" alt=\"Example annotated results output image\">\n</p>\n\nThe 2&times;2 image above was produced by running the following command from the Handprint source directory:\n```csh\nhandprint tests/images/public-domain/H96566k.jpg\n```\n\nThe individual results, as well as individual annotated images corresponding to the results from each service, will not be retained unless the `-e` extended results option (`/e` on Windows) is invoked (described in more detail below).  The production of the overview grid image can be skipped by using the `-G` option (`/G` on Windows).\n\n\n### _Comparison to ground truth text_\n\nHandprint supports comparing the output of HTR services to expected output (i.e., ground truth) using the option `-c` (or `/c` on Windows).  This facility requires that the user provides text files that contain the expected text for each input image.  The ground-truth text files must have the following characteristics:\n\n* The file containing the expected results should be named `.gt.txt`, with a base name identical to the image file.  For example, an image file named `somefile.jpg` should have a corresponding text file `somefile.gt.txt`.  (This is a convention used by some other tools such as [ocropy](https://github.com/tmbdev/ocropy/wiki/Working-with-Ground-Truth).)\n* The ground-truth text file should be located in the same directory as the input image file.\n* The text should be line oriented, with each line representing a line of text in the image.\n* The text should be plain text only.  No Unicode or binary encodings.  (This limitation comes from the HTR services, which &ndash; as of this writing &ndash; return results in plain text format.)\n\nHandprint will write the comparison results to a tab-delimited file named after the input image and service but with the extension `.tsv`.  For example, for an input image `somefile.jpg` and results received from Google, the comparison results will be written to `somefile.handprint-google.tsv`.  The use of a tab-delimited format rather than comma-delimited format avoids the need to quote commas and other characters in the text.  The output file will have one row for each line of text in the input, plus an additional row at the end for total number of errors found.  Each row will have the following columns:\n\n1. number of errors on that line of text (computed as [Levenshtein distance](https://en.wikipedia.org/wiki/Levenshtein_distance)),\n2. the _character error rate_ (CER) for the line (see below)\n3. the expected text on that line\n4. the text received from the service for that line\n\nThe character error rate (CER) is computed as\n<p align=\"center\">\n 100&nbsp;&times;&nbsp;(<i>i</i> + <i>s</i> + <i>d</i>)/<i>n</i>\n</p>\n\nwhere _i_ is the number of inserted characters, _s_ the number of substituted characters, and _d_ the number of deleted characters needed to transform the the text received into the expected text, and _n_ is the number of characters in the expected text line.  This approach to normalizing the CER value is conventional but note that it **can lead to values greater than 100%**.\n\nBy default, scoring is done by Handprint on an exact basis; character case is not changed, punctuation is not removed, and stop words are not removed.  However, multiple contiguous spaces are converted to one space, and leading spaces are removed from text lines.\n\nIf given the option `-r` (`/r` on Windows), Handprint will relax the comparison algorithm further, as follows: it will convert all text to lower case, and it will ignore certain sentence punctuation characters, namely `,`, `.`, `:`, and `;`.  The rationale for these particular choices comes from experience with actual texts and HTR services.  For example, a difference sometimes seen between HTR services is how they handle seemingly large spaces between a word and a subsequent comma or period: sometimes the HTR service will add a space before the comma or period, but inspection of the input document will reveal sloppiness in the author's handwriting and neither the addition nor the omission of a space is provably right or wrong.  To avoid biasing the results one way or another, it is better to omit the punctuation.  On the other hand, this may not always be desirable, and thus needs to be a user-controlled option.\n\nHandprint attempts to cope with possibly-missing text in the HTR results by matching up likely corresponding lines in the expected and received results.  It does this by comparing each line of ground-truth text to each line of the HTR results using [longest common subsequence similarity](https://en.wikipedia.org/wiki/Longest_common_subsequence_problem) as implemented by the LCSSEQ function in the [textdistance](https://github.com/life4/textdistance) package.  If the lines do not pass a threshold score, Handprint looks at subsequent lines of the HTR results and tries to reestablish correspondence to ground truth.  If nothing else in the HTR results appear close enough to the expected ground-truth line, the line is assumed to be missing from the HTR results and scored appropriately.\n\nThe following is an example of a tab-separated file produced using `-c`.  This example shows a case where two lines were missing entirely from the HTR results; for those lines, the number of errors equals the length of the ground-truth text lines and the CER is 100%.\n\n<p align=\"center\">\n<img width=\"60%\" src=\"https://raw.githubusercontent.com/caltechlibrary/handprint/master/.graphics/example-tsv-file.png\">\n</p>\n\n\n### _Extended results_\n\nIf the option `-e` (`/e` on Windows) is used, Handprint saves not only the overview image containing all the results, but also, individual annotated images for each service's results, the raw data (converted to a JSON file by Handprint), and the text extracted by the service.  These additional outputs will be written in files named after the original files with the addition of a string that indicates the service used.  For example, a file named `somefile.jpg` will produce\n\n```\nsomefile.handprint.png\nsomefile.handprint-amazon-textract.png\nsomefile.handprint-amazon-textract.json\nsomefile.handprint-amazon-textract.txt\nsomefile.handprint-google.png\nsomefile.handprint-google.json\nsomefile.handprint-google.txt\n...\n```\n\nA complication arises with using URLs in combination with the `-e` option: how should Handprint name the files that it writes?  Some CMS systems store content using opaque schemes that provide no clear names in the URLs, making it impossible for a software tool such as Handprint to guess what file name would make sense to use for local storage.  Worse, some systems create extremely long URLs, making it impractical to use the URL itself as the file name.  For example, the following is a real URL pointing to an image in Caltech Archives:\n\n```\nhttps://hale.archives.caltech.edu/adore-djatoka//resolver?rft_id=https%3A%2F%2Fhale.archives.caltech.edu%2Fislandora%2Fobject%2Fhale%253A85240%2Fdatastream%2FJP2%2Fview%3Ftoken%3D7997253eb6195d89b2615e8fa60708a97204a4cdefe527a5ab593395ac7d4327&url_ver=Z39.88-2004&svc_id=info%3Alanl-repo%2Fsvc%2FgetRegion&svc_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajpeg2000&svc.format=image%2Fjpeg&svc.level=4&svc.rotate=0\n```\n\nTo deal with this situation, Handprint manufactures its own file names when a URL is encountered.  The scheme is simple: by default, Handprint will use a base name of `document-N`, where `N` is an integer.  The integers start from `1` for every run of Handprint, and the integers count the URLs found either on the command line or in the file indicated by the `-f` option.  The image found at a given URL is stored in a file named `document-N.E` where `E` is the format extension (e.g., `document-1.jpg`, `document-1.png`, etc.).  The URL itself is stored in another file named `document-1.url`.  Thus, the files produced by Handprint will look like this when the `-e` option is used (assuming, for this example, that the files at the source URLs are in JPEG format):\n\n```\ndocument-1.jpg\ndocument-1.url\ndocument-1.handprint-google.png\ndocument-1.handprint-google.json\ndocument-1.handprint-google.txt\ndocument-1.handprint-microsoft.png\ndocument-1.handprint-microsoft.json\ndocument-1.handprint-microsoft.txt\n...\ndocument-2.jpg\ndocument-2.url\ndocument-2.handprint-google.png\ndocument-2.handprint-google.json\ndocument-2.handprint-google.txt\ndocument-2.handprint-microsoft.png\ndocument-2.handprint-microsoft.json\ndocument-2.handprint-microsoft.txt\n...\ndocument-3.jpg\ndocument-3.url\ndocument-3.handprint-google.png\ndocument-3.handprint-google.json\ndocument-3.handprint-google.txt\ndocument-3.handprint-microsoft.png\ndocument-3.handprint-microsoft.json\ndocument-3.handprint-microsoft.txt\n...\n```\n\nThe base name `document` can be changed using the `-b` option (`/b` on Windows).  For example, running Handprint with the option `-b einstein` will cause the outputs to be named `einstein-1.jpg`, `einstein-1.url`, etc.\n\nFinally, if an image is too large for any of the services invoked, then Handprint will resize it prior to sending the image to any of the services (as noted above).  It will write the reduced image to a file named `FILENAME.handprint.EXT`, where `FILENAME` is the original file name and `EXT` is the file extension.  This file is normally deleted, unless you use the `-e` option (`/e` on Windows) mentioned above, in which case you will find this additional file in the same location as the others:\n\n```\ndocument-1.handprint.png\n```\n\n### _Other options_\n\nHandprint produces color-coded diagnostic output as it runs, by default.  However, some terminals or terminal configurations may make it hard to read the text with colors, so Handprint offers the `-C` option (`/C` on Windows) to turn off colored output.\n\nHandprint will send files to the different services in parallel, using a number of process threads equal to 1/2 of the number of cores on the computer it is running on.  (E.g., if your computer has 4 cores, it will by default use at most 2 threads.)  The `-t` option (`/t` on Windows) can be used to change this number.\n\nIf given the `-@` argument (`/@` on Windows), this program will output a detailed trace of what it is doing, and will also invoke [`pdb`](https://docs.python.org/library/pdb.html) upon the occurrence of any errors.  The trace will be written to the given destination, which can be a dash character (`-`) to indicate console output, or a file path.  *Important*: some Python version/platform combinations crash if `pdb` is invoked in a process thread &ndash; which is likely to happen if you are debugging the execution of Handprint. Consequently, to avoid this risk, **always use `-t 1` when debugging** to make Handprint use only one thread.\n\nIf given the `-V` option (`/V` on Windows), this program will print the version and other information, and exit without doing anything else.\n\n\n### _Command line options summary_\n\nThe following table summarizes all the command line options available. (Note: on Windows computers, `/` must be used as the prefix character instead of the `-` dash character):\n\n| Short&nbsp;&nbsp;&nbsp;&nbsp; | Long&nbsp;form | Meaning | Default |  |\n|------------------------------ |----------------|---------|---------|--|\n| `-a`_A_   | `--add-creds`_A_  | Add credentials for service _A_ and exit | | |\n| `-b`_B_   | `--base-name`_B_  | Write outputs to files named _B_-n | Use base names of image files | \u2691 |\n| `-c`      | `--compare`       | Compare to ground truth; also see `-r` | |\n| `-C`      | `--no-color`      | Don't color-code the output | Use colors in the terminal output |\n| `-e`      | `--extended`      | Produce extended results | Produce only results overview image | |\n| `-f`_F_   | `--from-file`_F_  | Read file names or URLs from file _F_ | Use names or URLs on command line |\n| `-G`      | `--no-grid`       | Don't produce results summary image | Produce an _N_&times;_N_ grid image| |\n| `-h`      | `--help`          | Display help text and exit | | |\n| `-l`      | `--list`          | Display known services and exit | | | \n| `-o`_O_   | `--output`_O_     | Write outputs to directory _O_ | Directories where images are found | |\n| `-q`      | `--quiet`         | Don't print messages while working | Be chatty while working |\n| `-r`      | `--relaxed`       | Use looser criteria for `--compare` | |\n| `-s`_S_   | `--service`_S_    | Use recognition service _S_ | \"all\" | |\n| `-t`_T_   | `--threads`_T_    | Use _T_ number of threads | Use (#cores)/2 threads | |\n| `-V`      | `--version`       | Display program version info and exit | | |\n| `-@`_OUT_ | `--debug`_OUT_    | Debugging mode; write trace to _OUT_ | Normal mode | \u2b25 |\n\n\u2691 &nbsp; If URLs are given, then the outputs will be written by default to names of the form `document-n`, where n is an integer.  Examples: `document-1.jpg`, `document-1.handprint-google.txt`, etc.  This is because images located in network content management systems may not have any clear names in their URLs.<br>\n\u2b25 &nbsp; To write to the console, use the character `-` as the value of _OUT_; otherwise, _OUT_ must be the name of a file where the output should be written.\n\n\n\u2639\ufe0e Known issues and limitations\n------------------------------\n\nHere are some known limitations in the current version of Handprint:\n\n* The Amazon Rekognition API will return [at most 50 words in an image](https://docs.aws.amazon.com/rekognition/latest/dg/limits.html).\n* The Microsoft Azure API will only detect a maximum of [300 lines of text per page](https://docs.microsoft.com/en-us/azure/cognitive-services/computer-vision/concept-recognizing-text).\n* Some services have different file size restrictions depending on the format of the file, but Handprint always uses the same limit for all files for a given service.  This is a code simplification.\n* When the input is a PDF file, only the first image in the PDF file is used; the rest (if any) are ignored.\n\n\n\u2047 Getting help\n-------------\n\nIf you find an issue, please submit it in [the GitHub issue tracker](https://github.com/caltechlibrary/handprint/issues) for this repository.\n\n\n\u266c Contributing\n-------------\n\nI would be happy to receive your help and participation with enhancing Handprint!  Please visit the [guidelines for contributing](CONTRIBUTING.md) for some tips on getting started.\n\n\n\u29f4 License\n---------\n\nCopyright (C) 2018&ndash;2020, Caltech.  This software is freely distributed under a BSD/MIT type license.  Please see the [LICENSE](LICENSE) file for more information.\n\n\n\u263a\ufe0e Authors and history\n--------------------\n\n[Mike Hucka](https://github.com/mhucka) designed and implemented Handprint beginning in mid-2018.\n\n\n\u2661 Acknowledgments\n-----------------------\n\nThe [vector artwork](https://thenounproject.com/search/?q=hand&i=733265) of a hand used as a logo for Handprint was created by [Kevin](https://thenounproject.com/kevn/) from the Noun Project.  It is licensed under the Creative Commons [CC-BY 3.0](https://creativecommons.org/licenses/by/3.0/) license.\n\nHandprint benefitted from feedback from several people, notably from Tommy Keswick, Mariella Soprano, Peter Collopy and Stephen Davison.\n\nHandprint makes use of numerous open-source packages, without which it would have been effectively impossible to develop Handprint with the resources we had.  I want to acknowledge this debt.  In alphabetical order, the packages are:\n\n* [appdirs](https://github.com/ActiveState/appdirs) &ndash; module for determining appropriate platform-specific directories\n* [boto3](https://github.com/boto/boto3) &ndash; Amazon AWS SDK for Python\n* [colorama](https://github.com/tartley/colorama) &ndash; makes ANSI escape character sequences work under MS Windows terminals\n* [colored](https://gitlab.com/dslackw/colored) &ndash; library for color and formatting in terminal\n* [google-api-core, google-api-python-client, google-auth, google-auth-httplib2, google-cloud, google-cloud-vision, googleapis-common-protos, google_api_python_client](https://github.com/googleapis/google-cloud-python) &ndash; Google API libraries \n* [halo](https://github.com/ManrajGrover/halo) &ndash; busy-spinners for Python command-line programs\n* [humanize](https://github.com/jmoiron/humanize) &ndash; make numbers more easily readable by humans\n* [httplib2](https://github.com/httplib2/httplib2) &ndash; a comprehensive HTTP client library\n* [imagesize](https://github.com/shibukawa/imagesize_py) &ndash; determine the dimensions of an image\n* [ipdb](https://github.com/gotcha/ipdb) &ndash; the IPython debugger\n* [matplotlib](https://matplotlib.org) &ndash; a Python 2-D plotting library\n* [numpy](https://numpy.org) &ndash; package for scientific computing in Python\n* [oauth2client](https://github.com/googleapis/oauth2client) &ndash; Google OAuth 2.0 library\n* [Pillow](https://github.com/python-pillow/Pillow) &ndash; a fork of the Python Imaging Library\n* [plac](http://micheles.github.io/plac/) &ndash; a command line argument parser\n* [psutil](https://github.com/giampaolo/psutil) &ndash; cross-platform package for process and system monitoring in Python\n* [requests](http://docs.python-requests.org) &ndash; an HTTP library for Python\n* [setuptools](https://github.com/pypa/setuptools) &ndash; library for `setup.py`\n* [StringDist](https://github.com/obulkin/string-dist) &ndash; library for calculating string distances\n* [textdistance](https://github.com/orsinium/textdistance) &ndash; compute distances between text sequences\n* [termcolor](https://pypi.org/project/termcolor/) &ndash; ANSI color formatting for output in terminal\n\nFinally, I am grateful for computing &amp; institutional resources made available by the California Institute of Technology.\n\n<div align=\"center\">\n  <a href=\"https://www.caltech.edu\">\n    <img width=\"120px\" src=\"https://raw.githubusercontent.com/caltechlibrary/handprint/master/.graphics/caltech-round.png\">\n  </a>\n</div>\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/caltechlibrary/handprint", "keywords": "HTR,OCR,handwritten text recognition,machine learning", "license": "BSD 3-clause", "maintainer": "", "maintainer_email": "", "name": "handprint", "package_url": "https://pypi.org/project/handprint/", "platform": "", "project_url": "https://pypi.org/project/handprint/", "project_urls": {"Bug Tracker": "https://github.com/caltechlibrary/handprint/issues", "Homepage": "https://github.com/caltechlibrary/handprint", "Source Code": "https://github.com/caltechlibrary/handprint"}, "release_url": "https://pypi.org/project/handprint/1.2.2/", "requires_dist": ["appdirs (>=1.4.3)", "boto3 (>=1.10.0)", "colorful (>=0.5.1)", "google-api-core (>=1.14.2)", "google-api-python-client (>=1.7.11)", "google-auth-httplib2 (>=0.0.3)", "google-auth (>=1.6.3)", "google-cloud-vision (>=0.39.8)", "google-cloud (>=0.34.0)", "googleapis-common-protos (>=1.6.0)", "grpcio (>=1.23.0)", "halo (>=0.0.23)", "humanize (>=0.5.1)", "imagesize (>=1.1.0)", "matplotlib (>=2.2.3)", "numpy (>=1.17.2)", "Pillow (>=5.2.0)", "plac (>=1.0.0)", "psutil (>=5.6.3)", "PyMuPDF (>=1.16.0)", "requests (>=2.19.1)", "setuptools (>=39.1.0)", "StringDist (>=1.0.9)", "termcolor (>=1.1.0)", "textdistance (>=4.1.5)", "urllib3 (>=1.25)", "wheel (>=0.33.6)"], "requires_python": ">=3.5", "summary": "Apply handwritten text recognition services to document images", "version": "1.2.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Handprint<img align=\"right\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4b8b5c4a9f31e4ff5b9ffa68073b952d39728bb2/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f63616c746563686c6962726172792f68616e647072696e742f6d61737465722f2e67726170686963732f6e6f756e5f48616e645f3733333236352e706e67\" width=\"12%\"></h1>\n<p>The <em><strong>Hand</strong>written <strong>P</strong>age <strong>R</strong>ecognit<strong>i</strong>o<strong>n</strong> <strong>T</strong>est</em> program applies HTR services to images of handwritten text and produces an annotated image (and optionally more) showing the text recognized.</p>\n<p><a href=\"https://github.com/caltechlibrary/handprint/releases\" rel=\"nofollow\"><img alt=\"Latest release\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9482d5b99dc5475c1d6c5c2af38d1eb8a09f87bc/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f72656c656173652f63616c746563686c6962726172792f68616e647072696e742e7376673f7374796c653d666c61742d73717561726526636f6c6f723d623434653838266c6162656c3d4c617465737425323072656c65617365\"></a>\n<a href=\"https://choosealicense.com/licenses/bsd-3-clause\" rel=\"nofollow\"><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/67035b11180e878dcdd60de3f21f469ef7a9d59c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d425344253230332d2d436c617573652d626c75652e7376673f7374796c653d666c61742d737175617265\"></a>\n<a href=\"http://shields.io\" rel=\"nofollow\"><img alt=\"Python\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/57bc80bc664752ae1b636dd9d077246aeffd04c5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f507974686f6e2d332e352b2d627269676874677265656e2e7376673f7374796c653d666c61742d737175617265\"></a>\n<a href=\"https://github.com/caltechlibrary/handprint/stargazers\" rel=\"nofollow\"><img alt=\"GitHub stars\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7808da2a6f2e50d82093efa430e662ca48c6d605/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f63616c746563686c6962726172792f68616e647072696e742e7376673f7374796c653d666c61742d73717561726526636f6c6f723d6c6967687467726179266c6162656c3d5374617273\"></a>\n<a href=\"https://data.caltech.edu/records/1373\" rel=\"nofollow\"><img alt=\"DOI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2369b23be1e90f11e99a5aed0ca29c7f6e0b74a5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f6a736f6e2e7376673f6c6162656c3d444f49267374796c653d666c61742d73717561726526636f6c6f72413d6772617926636f6c6f72423d6e6176792671756572793d242e6d657461646174612e646f69267572693d68747470733a2f2f646174612e63616c746563682e6564752f6170692f7265636f72642f31333733\"></a>\n<a href=\"https://pypi.org/project/handprint/\" rel=\"nofollow\"><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/bc48dad6b8951a39262666d911fa8e6d836c775f/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f68616e647072696e742e7376673f7374796c653d666c61742d73717561726526636f6c6f723d6f72616e6765\"></a></p>\n<h2>\u2761 Log of recent changes</h2>\n<p><em>Version 1.2.2</em>: This release fixes an inconsistency (compared to other Handprint output) in the way that Microsoft's text recognition service results are drawn on annotated images.  The copyright year in source files has also been updated.</p>\n<p><em>Version 1.2.0</em>: This version fixes a bug in creating annotated results images, in which results from multiple services were overwritten on top of each other. It also fixes a bug with the Amazon interface that resulted in occasional random errors about <code>endpoint_resolver</code>. This version of Handprint also changes how output files are written; the new scheme uses the naming pattern <code>somefile.handprint.png</code> for the rescaled input image, <code>somefile.handprint-service.png</code> for the various service output results, and <code>somefile.handprint-all.png</code> for the summary grid image.  Handprint now also accepts PDF files as input.</p>\n<p>The file <a href=\"CHANGES.md\" rel=\"nofollow\">CHANGES</a> contains a more complete change log, and includes information about previous releases.</p>\n<h2>\u00a7 Table of Contents</h2>\n<ul>\n<li><a href=\"#-introduction\" rel=\"nofollow\">Introduction</a></li>\n<li><a href=\"#-installation\" rel=\"nofollow\">Installation</a>\n<ul>\n<li><a href=\"#-install-handprint-on-your-computer\" rel=\"nofollow\">Install Handprint on your computer</a></li>\n<li><a href=\"#-add-cloud-service-credentials\" rel=\"nofollow\">Add cloud service credentials</a></li>\n</ul>\n</li>\n<li><a href=\"#%EF%B8%8E-usage\" rel=\"nofollow\">Usage</a>\n<ul>\n<li><a href=\"#supported-htrocr-services\" rel=\"nofollow\">Supported HTR/OCR services</a></li>\n<li><a href=\"#input-files-and-urls\" rel=\"nofollow\">Input files and URLs</a></li>\n<li><a href=\"#annotated-output-images\" rel=\"nofollow\">Annotated output images</a></li>\n<li><a href=\"#extended-results\" rel=\"nofollow\">Extended results</a></li>\n<li><a href=\"#comparison-to-ground-truth-text\" rel=\"nofollow\">Comparison to ground truth text</a></li>\n<li><a href=\"#other-options\" rel=\"nofollow\">Other options</a></li>\n<li><a href=\"#command-line-options-summary\" rel=\"nofollow\">Command line options summary</a></li>\n</ul>\n</li>\n<li><a href=\"#known-issues-and-limitations\" rel=\"nofollow\">Known issues and limitations</a></li>\n<li><a href=\"#-getting-help\" rel=\"nofollow\">Getting help</a></li>\n<li><a href=\"#-contributing\" rel=\"nofollow\">Contributing</a></li>\n<li><a href=\"#-license\" rel=\"nofollow\">License</a></li>\n<li><a href=\"#-authors-and-history\" rel=\"nofollow\">Authors and history</a></li>\n<li><a href=\"#%EF%B8%8E-acknowledgments\" rel=\"nofollow\">Acknowledgments</a></li>\n</ul>\n<h2>\u261e Introduction</h2>\n<img align=\"right\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/16d1ae2cbe797053bc6676689875832ccae74b45/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f63616c746563686c6962726172792f68616e647072696e742f6d61737465722f2e67726170686963732f676c617365722d6578616d706c652d676f6f676c652e6a7067\" width=\"550px\">\n<p>Handprint (<em><strong>Hand</strong>written <strong>P</strong>age <strong>R</strong>ecognit<strong>i</strong>o<strong>n</strong> <strong>T</strong>est</em>) is a small project to examine the performance of alternative services for offline <a href=\"https://en.wikipedia.org/wiki/Handwriting_recognition\" rel=\"nofollow\">handwritten text recognition (HTR)</a>.  It was developed for use with documents from the <a href=\"http://archives.caltech.edu\" rel=\"nofollow\">Caltech Archives</a>, but it is completely independent and can be applied to any images of text documents.  Services supported include Google's <a href=\"https://cloud.google.com/vision/docs/ocr\" rel=\"nofollow\">Google Cloud Vision API</a>, Microsoft's Azure <a href=\"https://azure.microsoft.com/en-us/services/cognitive-services/computer-vision/\" rel=\"nofollow\">Computer Vision API</a>, Amazon's <a href=\"https://aws.amazon.com/textract/\" rel=\"nofollow\">Textract</a> and <a href=\"https://aws.amazon.com/rekognition/\" rel=\"nofollow\">Rekognition</a>, and more.  Among other features, Handprint can generate versions of the input images with recognized text overlaid over them, to visualize the results.  The image at right shows an example.</p>\n<p>Handprint can work with individual images, directories of images, and URLs pointing to images on remote servers.  In addition to producing annotated images as output, it can output the raw results from an HTR service as JSON and text files.  Handprint can use multiple processor threads for parallel execution.</p>\n<h2>\u270e Installation and configuration</h2>\n<p>The instructions below assume you have a Python interpreter installed on your computer; if that's not the case, please first install Python and familiarize yourself with running Python programs on your system.</p>\n<p>Handprint includes several adapters for working with cloud-based HTR services from Amazon, Google, and Microsoft.  Installing Handprint requires a both installing a copy of Handprint on your computer and supplying your copy with credentials for accessing the cloud services you want to use.</p>\n<h3>\u24f5\u00a0\u00a0 <em>Install Handprint on your computer</em></h3>\n<p>On <strong>Linux</strong>, <strong>macOS</strong>, and <strong>Windows</strong> operating systems, you should be able to install Handprint with <a href=\"https://pip.pypa.io/en/stable/installing/\" rel=\"nofollow\">pip</a>.  If you don't have the <code>pip</code> package or are uncertain if you do, first run the following command in a terminal command line interpreter:</p>\n<pre><code>sudo python3 -m ensurepip\n</code></pre>\n<p>Then, to install Handprint from the Python package repository, run the following command:</p>\n<pre><code>python3 -m pip install handprint --user --upgrade\n</code></pre>\n<p>As an alternative to getting it from PyPI, you can instruct <code>pip</code> to install Handprint directly from the GitHub repository:</p>\n<pre>python3 -m pip install git+https@github.com:caltechlibrary/handprint.git --user --upgrade\n</pre>\n<h3>\u24f6\u00a0\u00a0 <em>Add cloud service credentials</em></h3>\n<p>A one-time configuration step is needed for each cloud-based HTR service after you install Handprint on a computer.  This step supplies Handprint with credentials to access the services.  In each case, the same command format is used:</p>\n<pre>handprint -a SERVICENAME CREDENTIALSFILE.json\n</pre>\n<p><em>SERVICENAME</em> must be one of the service names printed by running <code>handprint -l</code>, and <code>CREDENTIALSFILE.json</code> must have one of the formats discussed below.  When you run this command, Handprint will copy <code>CREDENTIALSFILE.json</code> to a private location, and thereafter uses the credentials to access <em>SERVICENAME</em>.  (The private location is different on different systems; for example, on macOS it is <code>~/Library/Application Support/Handprint/</code>.)  Examples are given below.</p>\n<h4>Microsoft</h4>\n<p>Microsoft's approach to credentials in Azure involves the use of <a href=\"https://docs.microsoft.com/en-us/azure/cognitive-services/computer-vision/vision-api-how-to-topics/howtosubscribe\" rel=\"nofollow\">subscription keys</a>.  The format of the credentials file for Handprint just needs to contain a single field:</p>\n<pre><span class=\"p\">{</span>\n <span class=\"nt\">\"subscription_key\"</span><span class=\"p\">:</span> <span class=\"s2\">\"YOURKEYHERE\"</span>\n<span class=\"p\">}</span>\n</pre>\n<p>The value of \"YOURKEYHERE\" will be a string such as <code>\"18de248475134eb49ae4a4e94b93461c\"</code>.  To obtain a key, visit <a href=\"https://portal.azure.com\" rel=\"nofollow\">https://portal.azure.com</a> and sign in using your account login.  (Note: you will need to turn off browser security plugins such as Ad\u00a0Block and uMatrix if you have them, or else the site will not work.)  Once you are authenticated to the Azure portal, you can create credentials for using Azure's machine-learning services. Some notes about this can be found in the <a href=\"https://github.com/caltechlibrary/handprint/wiki/Getting-Microsoft-Azure-credentials\" rel=\"nofollow\">Handprint project Wiki pages on GitHub</a>.  Once you have obtained a key, use a text editor to create a JSON file in the simple format shown above, save that file somewhere on your computer (for the sake of this example, assume it is <code>myazurecredentials.json</code>), and use the command discussed above to make Handprint copy the credentials file:</p>\n<pre>handprint -a microsoft myazurecredentials.json\n</pre>\n<h4>Google</h4>\n<p>Credentials for using a Google service account need to be stored in a JSON file that contains many fields.  The overall format looks like this:</p>\n<pre><span class=\"p\">{</span>\n  <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"service_account\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"project_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"theid\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"private_key_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"thekey\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"private_key\"</span><span class=\"p\">:</span> <span class=\"s2\">\"-----BEGIN PRIVATE KEY-----anotherkey-----END PRIVATE KEY-----\\n\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"client_email\"</span><span class=\"p\">:</span> <span class=\"s2\">\"emailaddress\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"client_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"id\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"auth_uri\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://accounts.google.com/o/oauth2/auth\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"token_uri\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://oauth2.googleapis.com/token\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"auth_provider_x509_cert_url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://www.googleapis.com/oauth2/v1/certs\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"client_x509_cert_url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"someurl\"</span>\n<span class=\"p\">}</span>\n</pre>\n<p>Getting one of these is summarized in the Google Cloud docs for <a href=\"https://cloud.google.com/docs/authentication/\" rel=\"nofollow\">Creating a service account</a>, but more explicit instructions can be found in the <a href=\"https://github.com/caltechlibrary/handprint/wiki/Getting-Google-Cloud-credentials\" rel=\"nofollow\">Handprint project Wiki pages on GitHub</a>.  Once you have downloaded a Google credentials file from Google, save the file somewhere on your computer (for the sake of this example, assume it is <code>mygooglecredentials.json</code>), and use the command discussed above to make Handprint copy the credentials file:</p>\n<pre>handprint -a google mygooglecredentials.json\n</pre>\n<h4>Amazon</h4>\n<p>Amazon credentials for AWS take the form of two alphanumeric strings: a <em>key id</em> string and a <em>secret access key</em> string.  In addition, the service needs to be invoked with a region identifier.  For the purposes of Handprint, these should be stored in a JSON file with the following format:</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"nt\">\"aws_access_key_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"YOUR_KEY_ID_HERE\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"aws_secret_access_key\"</span><span class=\"p\">:</span> <span class=\"s2\">\"YOUR_ACCESS_KEY_HERE\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"region_name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"YOUR_REGION_NAME_HERE\"</span>\n<span class=\"p\">}</span>\n</pre>\n<p>Getting this information is, thankfully, a relatively simple process for Amazon's services. Instructions can be found in the <a href=\"https://github.com/caltechlibrary/handprint/wiki/Creating-credentials-for-use-with-Amazon-Rekognition\" rel=\"nofollow\">Handprint project Wiki pages on GitHub</a>.  Once you have obtained the two alphanumeric keys and a region identifier string, use a text editor to create a JSON file in the simple format shown above, save that file somewhere on your computer (for the sake of this example, assume it is <code>myamazoncredentials.json</code>), and use <em>two</em> commands to make Handprint copy the credentials file for the two different Amazon services currently supported by Handprint:</p>\n<pre>handprint -a amazon-textract myamazoncredentials.json\nhandprint -a amazon-rekognition myamazoncredentials.json\n</pre>\n<h2>\u25b6\ufe0e Usage</h2>\n<p>Handprint comes with a single command-line interface program called <code>handprint</code>.  Here is a screen cast to give a sense for what it's like to run Handprint. Click on the following image:</p>\n<p align=\"center\">\n  <a href=\"https://raw.githubusercontent.com/caltechlibrary/handprint/master/.graphics/handprint-screencast.gif\" rel=\"nofollow\"><img alt=\"Screencast of simple Handprint demo\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8c33fdb1ba13a321e3ece9167a6a6b10780cf6a7/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f63616c746563686c6962726172792f68616e647072696e742f6d61737465722f2e67726170686963732f68616e647072696e742d707265766965772d696d6167652e706e67\"></a>\n</p>\n<p>The <code>handprint</code> command-line program should end up installed in a location where software is normally installed on your computer, if the installation steps described in the previous section proceed successfully.  Running Handprint from a terminal shell then should be as simple as running any other shell command on your system:</p>\n<pre>handprint -h\n</pre>\n<p>If that fails for some reason, you should be able to run Handprint from anywhere using the normal approach for running Python modules:</p>\n<pre>python3 -m handprint -h\n</pre>\n<p>The <code>-h</code> option (<code>/h</code> on Windows) will make <code>handprint</code> display some help information and exit immediately.  To make Handprint do more, you can supply other arguments that instruct Handprint to process image files (or alternatively, URLs pointing to image files at a network location) and run text recognition algorithms on them, as explained below.</p>\n<h3><em>Supported HTR/OCR services</em></h3>\n<p>Handprint can contact more than one cloud service for HTR.  You can use the <code>-l</code> option (<code>/l</code> on Windows) to make it display a list of the services currently implemented:</p>\n<pre><code># handprint -l\nKnown services: amazon-rekognition, amazon-textract, google, microsoft\n</code></pre>\n<p>By default, Handprint will run every known service in turn, creating annotated images to represent the results of each individual service.  To invoke only specific services, use the <code>-s</code> option (<code>/s</code> on Windows) followed by a service name or a list of names separated by commas (e.g., <code>google,microsoft</code>).  For example, the following command will save the results of invoking only Microsoft's text recognition service on a page from <a href=\"https://picryl.com/media/clara-barton-papers-speeches-and-writings-file-1849-1947-books-the-life-of-71\" rel=\"nofollow\">Clara Barton's unpublished draft book \"The Life of My Childhood\"</a>, available in Handprint's source directory:</p>\n<pre>handprint -s microsoft tests/images/public-domain/clara-barton-life-of-my-childhood-p90.jpg\n</pre>\n<p>Here is what that result looks like:\n<img alt=\"Example of running Microsoft's service on a page from Clara Barton's unpublished draft book, The Life of My Childhood.\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/916be8893e88c7368e7731f80b7041475c9c1556/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f63616c746563686c6962726172792f68616e647072696e742f6d61737465722f2e67726170686963732f636c6172612d626172746f6e2d706167652e706e67\"></p>\n<h3><em>Input files and URLs</em></h3>\n<p>After credentials are installed, running Handprint <em>without</em> the <code>-a</code> option will invoke one or more services on files, directories of files, or URLs pointing to files.  More specifically, inputs can be supplied in any of the following ways:</p>\n<ul>\n<li>One or more directory paths or one or more image file paths on the local disk, which will be interpreted as images (either individually or in directories) to be processed</li>\n<li>One or more URLs, which will be interpreted as network locations of image files to be processed</li>\n<li>If given the <code>-f</code> option (<code>/f</code> on Windows), a file containing either image paths or image URLs to be processed</li>\n</ul>\n<p>Handprint considers each input path individually, and determines when an input is a URL based on whether the given path begins with letters followed by the characters <code>:/</code> followed by the rest of the path (e.g., <code>http://some/other/characters</code>).  If any of the input images are URLs, Handprint will first download the images found at the URLs to a directory indicated by the option <code>-o</code> (<code>/o</code> on Windows).  If a destination directory is not provided via <code>-o</code>, the current working directory where Handprint is running is used instead.</p>\n<p>No matter whether files or URLs, each input should be a single image of a document page in which text should be recognized.  Handprint reads a number of common formats: JP2, JPEG, PDF, PNG, GIF, BMP, and TIFF.  However, for simplicity and maximum compatibility with all cloud services, <strong>Handprint always converts all input files to PNG</strong> if they are not already in that format, before sending them to a service.  Handprint also resizes images if necessary, to the smallest size accepted by any of the services invoked if an image exceeds that size.  (For example, if service A accepts files up to 10 MB in size and service B accepts files up to 5 MB, all input images will be resized to 5 MB before sending them to A and B, even if A could accept a higher-resolution image.)  In addition, a limitation of Handprint's current PDF support is that only the first image in a PDF file is read \u2013 if a PDF file contains more than one image, the remaining images are ignored.</p>\n<p>Note that providing URLs on the command line can be problematic due to how terminal shells interpret certain characters, and so when supplying URLs, it's usually better to store the URLs in a file in combination with the <code>-f</code> option (<code>/f</code> on Windows).</p>\n<h3><em>Annotated output images</em></h3>\n<p>By default, Handprint will create a single output file for each input file.  This file will be have the suffix <code>.handprint-all.png</code> and contain an annotated version of the results for each service invoked, tiled in a <em>N</em>\u00d7<em>N</em> grid fashion to produce one (big) output image.  Here is a sample output image to illustrate:</p>\n<p align=\"center\">\n<img alt=\"Example annotated results output image\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7ccc386e499dede1a1adbcb5d07759287791238c/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f63616c746563686c6962726172792f68616e647072696e742f6d61737465722f2e67726170686963732f616c6c2d726573756c74732d6578616d706c652e6a7067\">\n</p>\n<p>The 2\u00d72 image above was produced by running the following command from the Handprint source directory:</p>\n<pre>handprint tests/images/public-domain/H96566k.jpg\n</pre>\n<p>The individual results, as well as individual annotated images corresponding to the results from each service, will not be retained unless the <code>-e</code> extended results option (<code>/e</code> on Windows) is invoked (described in more detail below).  The production of the overview grid image can be skipped by using the <code>-G</code> option (<code>/G</code> on Windows).</p>\n<h3><em>Comparison to ground truth text</em></h3>\n<p>Handprint supports comparing the output of HTR services to expected output (i.e., ground truth) using the option <code>-c</code> (or <code>/c</code> on Windows).  This facility requires that the user provides text files that contain the expected text for each input image.  The ground-truth text files must have the following characteristics:</p>\n<ul>\n<li>The file containing the expected results should be named <code>.gt.txt</code>, with a base name identical to the image file.  For example, an image file named <code>somefile.jpg</code> should have a corresponding text file <code>somefile.gt.txt</code>.  (This is a convention used by some other tools such as <a href=\"https://github.com/tmbdev/ocropy/wiki/Working-with-Ground-Truth\" rel=\"nofollow\">ocropy</a>.)</li>\n<li>The ground-truth text file should be located in the same directory as the input image file.</li>\n<li>The text should be line oriented, with each line representing a line of text in the image.</li>\n<li>The text should be plain text only.  No Unicode or binary encodings.  (This limitation comes from the HTR services, which \u2013 as of this writing \u2013 return results in plain text format.)</li>\n</ul>\n<p>Handprint will write the comparison results to a tab-delimited file named after the input image and service but with the extension <code>.tsv</code>.  For example, for an input image <code>somefile.jpg</code> and results received from Google, the comparison results will be written to <code>somefile.handprint-google.tsv</code>.  The use of a tab-delimited format rather than comma-delimited format avoids the need to quote commas and other characters in the text.  The output file will have one row for each line of text in the input, plus an additional row at the end for total number of errors found.  Each row will have the following columns:</p>\n<ol>\n<li>number of errors on that line of text (computed as <a href=\"https://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"nofollow\">Levenshtein distance</a>),</li>\n<li>the <em>character error rate</em> (CER) for the line (see below)</li>\n<li>the expected text on that line</li>\n<li>the text received from the service for that line</li>\n</ol>\n<p>The character error rate (CER) is computed as</p>\n<p align=\"center\">\n 100\u00a0\u00d7\u00a0(<i>i</i> + <i>s</i> + <i>d</i>)/<i>n</i>\n</p>\n<p>where <em>i</em> is the number of inserted characters, <em>s</em> the number of substituted characters, and <em>d</em> the number of deleted characters needed to transform the the text received into the expected text, and <em>n</em> is the number of characters in the expected text line.  This approach to normalizing the CER value is conventional but note that it <strong>can lead to values greater than 100%</strong>.</p>\n<p>By default, scoring is done by Handprint on an exact basis; character case is not changed, punctuation is not removed, and stop words are not removed.  However, multiple contiguous spaces are converted to one space, and leading spaces are removed from text lines.</p>\n<p>If given the option <code>-r</code> (<code>/r</code> on Windows), Handprint will relax the comparison algorithm further, as follows: it will convert all text to lower case, and it will ignore certain sentence punctuation characters, namely <code>,</code>, <code>.</code>, <code>:</code>, and <code>;</code>.  The rationale for these particular choices comes from experience with actual texts and HTR services.  For example, a difference sometimes seen between HTR services is how they handle seemingly large spaces between a word and a subsequent comma or period: sometimes the HTR service will add a space before the comma or period, but inspection of the input document will reveal sloppiness in the author's handwriting and neither the addition nor the omission of a space is provably right or wrong.  To avoid biasing the results one way or another, it is better to omit the punctuation.  On the other hand, this may not always be desirable, and thus needs to be a user-controlled option.</p>\n<p>Handprint attempts to cope with possibly-missing text in the HTR results by matching up likely corresponding lines in the expected and received results.  It does this by comparing each line of ground-truth text to each line of the HTR results using <a href=\"https://en.wikipedia.org/wiki/Longest_common_subsequence_problem\" rel=\"nofollow\">longest common subsequence similarity</a> as implemented by the LCSSEQ function in the <a href=\"https://github.com/life4/textdistance\" rel=\"nofollow\">textdistance</a> package.  If the lines do not pass a threshold score, Handprint looks at subsequent lines of the HTR results and tries to reestablish correspondence to ground truth.  If nothing else in the HTR results appear close enough to the expected ground-truth line, the line is assumed to be missing from the HTR results and scored appropriately.</p>\n<p>The following is an example of a tab-separated file produced using <code>-c</code>.  This example shows a case where two lines were missing entirely from the HTR results; for those lines, the number of errors equals the length of the ground-truth text lines and the CER is 100%.</p>\n<p align=\"center\">\n<img src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3bbe3982f7c13f0748474fc5edea8952720dfafd/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f63616c746563686c6962726172792f68616e647072696e742f6d61737465722f2e67726170686963732f6578616d706c652d7473762d66696c652e706e67\" width=\"60%\">\n</p>\n<h3><em>Extended results</em></h3>\n<p>If the option <code>-e</code> (<code>/e</code> on Windows) is used, Handprint saves not only the overview image containing all the results, but also, individual annotated images for each service's results, the raw data (converted to a JSON file by Handprint), and the text extracted by the service.  These additional outputs will be written in files named after the original files with the addition of a string that indicates the service used.  For example, a file named <code>somefile.jpg</code> will produce</p>\n<pre><code>somefile.handprint.png\nsomefile.handprint-amazon-textract.png\nsomefile.handprint-amazon-textract.json\nsomefile.handprint-amazon-textract.txt\nsomefile.handprint-google.png\nsomefile.handprint-google.json\nsomefile.handprint-google.txt\n...\n</code></pre>\n<p>A complication arises with using URLs in combination with the <code>-e</code> option: how should Handprint name the files that it writes?  Some CMS systems store content using opaque schemes that provide no clear names in the URLs, making it impossible for a software tool such as Handprint to guess what file name would make sense to use for local storage.  Worse, some systems create extremely long URLs, making it impractical to use the URL itself as the file name.  For example, the following is a real URL pointing to an image in Caltech Archives:</p>\n<pre><code>https://hale.archives.caltech.edu/adore-djatoka//resolver?rft_id=https%3A%2F%2Fhale.archives.caltech.edu%2Fislandora%2Fobject%2Fhale%253A85240%2Fdatastream%2FJP2%2Fview%3Ftoken%3D7997253eb6195d89b2615e8fa60708a97204a4cdefe527a5ab593395ac7d4327&amp;url_ver=Z39.88-2004&amp;svc_id=info%3Alanl-repo%2Fsvc%2FgetRegion&amp;svc_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajpeg2000&amp;svc.format=image%2Fjpeg&amp;svc.level=4&amp;svc.rotate=0\n</code></pre>\n<p>To deal with this situation, Handprint manufactures its own file names when a URL is encountered.  The scheme is simple: by default, Handprint will use a base name of <code>document-N</code>, where <code>N</code> is an integer.  The integers start from <code>1</code> for every run of Handprint, and the integers count the URLs found either on the command line or in the file indicated by the <code>-f</code> option.  The image found at a given URL is stored in a file named <code>document-N.E</code> where <code>E</code> is the format extension (e.g., <code>document-1.jpg</code>, <code>document-1.png</code>, etc.).  The URL itself is stored in another file named <code>document-1.url</code>.  Thus, the files produced by Handprint will look like this when the <code>-e</code> option is used (assuming, for this example, that the files at the source URLs are in JPEG format):</p>\n<pre><code>document-1.jpg\ndocument-1.url\ndocument-1.handprint-google.png\ndocument-1.handprint-google.json\ndocument-1.handprint-google.txt\ndocument-1.handprint-microsoft.png\ndocument-1.handprint-microsoft.json\ndocument-1.handprint-microsoft.txt\n...\ndocument-2.jpg\ndocument-2.url\ndocument-2.handprint-google.png\ndocument-2.handprint-google.json\ndocument-2.handprint-google.txt\ndocument-2.handprint-microsoft.png\ndocument-2.handprint-microsoft.json\ndocument-2.handprint-microsoft.txt\n...\ndocument-3.jpg\ndocument-3.url\ndocument-3.handprint-google.png\ndocument-3.handprint-google.json\ndocument-3.handprint-google.txt\ndocument-3.handprint-microsoft.png\ndocument-3.handprint-microsoft.json\ndocument-3.handprint-microsoft.txt\n...\n</code></pre>\n<p>The base name <code>document</code> can be changed using the <code>-b</code> option (<code>/b</code> on Windows).  For example, running Handprint with the option <code>-b einstein</code> will cause the outputs to be named <code>einstein-1.jpg</code>, <code>einstein-1.url</code>, etc.</p>\n<p>Finally, if an image is too large for any of the services invoked, then Handprint will resize it prior to sending the image to any of the services (as noted above).  It will write the reduced image to a file named <code>FILENAME.handprint.EXT</code>, where <code>FILENAME</code> is the original file name and <code>EXT</code> is the file extension.  This file is normally deleted, unless you use the <code>-e</code> option (<code>/e</code> on Windows) mentioned above, in which case you will find this additional file in the same location as the others:</p>\n<pre><code>document-1.handprint.png\n</code></pre>\n<h3><em>Other options</em></h3>\n<p>Handprint produces color-coded diagnostic output as it runs, by default.  However, some terminals or terminal configurations may make it hard to read the text with colors, so Handprint offers the <code>-C</code> option (<code>/C</code> on Windows) to turn off colored output.</p>\n<p>Handprint will send files to the different services in parallel, using a number of process threads equal to 1/2 of the number of cores on the computer it is running on.  (E.g., if your computer has 4 cores, it will by default use at most 2 threads.)  The <code>-t</code> option (<code>/t</code> on Windows) can be used to change this number.</p>\n<p>If given the <code>-@</code> argument (<code>/@</code> on Windows), this program will output a detailed trace of what it is doing, and will also invoke <a href=\"https://docs.python.org/library/pdb.html\" rel=\"nofollow\"><code>pdb</code></a> upon the occurrence of any errors.  The trace will be written to the given destination, which can be a dash character (<code>-</code>) to indicate console output, or a file path.  <em>Important</em>: some Python version/platform combinations crash if <code>pdb</code> is invoked in a process thread \u2013 which is likely to happen if you are debugging the execution of Handprint. Consequently, to avoid this risk, <strong>always use <code>-t 1</code> when debugging</strong> to make Handprint use only one thread.</p>\n<p>If given the <code>-V</code> option (<code>/V</code> on Windows), this program will print the version and other information, and exit without doing anything else.</p>\n<h3><em>Command line options summary</em></h3>\n<p>The following table summarizes all the command line options available. (Note: on Windows computers, <code>/</code> must be used as the prefix character instead of the <code>-</code> dash character):</p>\n<table>\n<thead>\n<tr>\n<th>Short\u00a0\u00a0\u00a0\u00a0</th>\n<th>Long\u00a0form</th>\n<th>Meaning</th>\n<th>Default</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>-a</code><em>A</em></td>\n<td><code>--add-creds</code><em>A</em></td>\n<td>Add credentials for service <em>A</em> and exit</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><code>-b</code><em>B</em></td>\n<td><code>--base-name</code><em>B</em></td>\n<td>Write outputs to files named <em>B</em>-n</td>\n<td>Use base names of image files</td>\n<td>\u2691</td>\n</tr>\n<tr>\n<td><code>-c</code></td>\n<td><code>--compare</code></td>\n<td>Compare to ground truth; also see <code>-r</code></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><code>-C</code></td>\n<td><code>--no-color</code></td>\n<td>Don't color-code the output</td>\n<td>Use colors in the terminal output</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-e</code></td>\n<td><code>--extended</code></td>\n<td>Produce extended results</td>\n<td>Produce only results overview image</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-f</code><em>F</em></td>\n<td><code>--from-file</code><em>F</em></td>\n<td>Read file names or URLs from file <em>F</em></td>\n<td>Use names or URLs on command line</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-G</code></td>\n<td><code>--no-grid</code></td>\n<td>Don't produce results summary image</td>\n<td>Produce an <em>N</em>\u00d7<em>N</em> grid image</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-h</code></td>\n<td><code>--help</code></td>\n<td>Display help text and exit</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><code>-l</code></td>\n<td><code>--list</code></td>\n<td>Display known services and exit</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><code>-o</code><em>O</em></td>\n<td><code>--output</code><em>O</em></td>\n<td>Write outputs to directory <em>O</em></td>\n<td>Directories where images are found</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-q</code></td>\n<td><code>--quiet</code></td>\n<td>Don't print messages while working</td>\n<td>Be chatty while working</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-r</code></td>\n<td><code>--relaxed</code></td>\n<td>Use looser criteria for <code>--compare</code></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><code>-s</code><em>S</em></td>\n<td><code>--service</code><em>S</em></td>\n<td>Use recognition service <em>S</em></td>\n<td>\"all\"</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-t</code><em>T</em></td>\n<td><code>--threads</code><em>T</em></td>\n<td>Use <em>T</em> number of threads</td>\n<td>Use (#cores)/2 threads</td>\n<td></td>\n</tr>\n<tr>\n<td><code>-V</code></td>\n<td><code>--version</code></td>\n<td>Display program version info and exit</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><code>-@</code><em>OUT</em></td>\n<td><code>--debug</code><em>OUT</em></td>\n<td>Debugging mode; write trace to <em>OUT</em></td>\n<td>Normal mode</td>\n<td>\u2b25</td>\n</tr></tbody></table>\n<p>\u2691 \u00a0 If URLs are given, then the outputs will be written by default to names of the form <code>document-n</code>, where n is an integer.  Examples: <code>document-1.jpg</code>, <code>document-1.handprint-google.txt</code>, etc.  This is because images located in network content management systems may not have any clear names in their URLs.<br>\n\u2b25 \u00a0 To write to the console, use the character <code>-</code> as the value of <em>OUT</em>; otherwise, <em>OUT</em> must be the name of a file where the output should be written.</p>\n<h2>\u2639\ufe0e Known issues and limitations</h2>\n<p>Here are some known limitations in the current version of Handprint:</p>\n<ul>\n<li>The Amazon Rekognition API will return <a href=\"https://docs.aws.amazon.com/rekognition/latest/dg/limits.html\" rel=\"nofollow\">at most 50 words in an image</a>.</li>\n<li>The Microsoft Azure API will only detect a maximum of <a href=\"https://docs.microsoft.com/en-us/azure/cognitive-services/computer-vision/concept-recognizing-text\" rel=\"nofollow\">300 lines of text per page</a>.</li>\n<li>Some services have different file size restrictions depending on the format of the file, but Handprint always uses the same limit for all files for a given service.  This is a code simplification.</li>\n<li>When the input is a PDF file, only the first image in the PDF file is used; the rest (if any) are ignored.</li>\n</ul>\n<h2>\u2047 Getting help</h2>\n<p>If you find an issue, please submit it in <a href=\"https://github.com/caltechlibrary/handprint/issues\" rel=\"nofollow\">the GitHub issue tracker</a> for this repository.</p>\n<h2>\u266c Contributing</h2>\n<p>I would be happy to receive your help and participation with enhancing Handprint!  Please visit the <a href=\"CONTRIBUTING.md\" rel=\"nofollow\">guidelines for contributing</a> for some tips on getting started.</p>\n<h2>\u29f4 License</h2>\n<p>Copyright (C) 2018\u20132020, Caltech.  This software is freely distributed under a BSD/MIT type license.  Please see the <a href=\"LICENSE\" rel=\"nofollow\">LICENSE</a> file for more information.</p>\n<h2>\u263a\ufe0e Authors and history</h2>\n<p><a href=\"https://github.com/mhucka\" rel=\"nofollow\">Mike Hucka</a> designed and implemented Handprint beginning in mid-2018.</p>\n<h2>\u2661 Acknowledgments</h2>\n<p>The <a href=\"https://thenounproject.com/search/?q=hand&amp;i=733265\" rel=\"nofollow\">vector artwork</a> of a hand used as a logo for Handprint was created by <a href=\"https://thenounproject.com/kevn/\" rel=\"nofollow\">Kevin</a> from the Noun Project.  It is licensed under the Creative Commons <a href=\"https://creativecommons.org/licenses/by/3.0/\" rel=\"nofollow\">CC-BY 3.0</a> license.</p>\n<p>Handprint benefitted from feedback from several people, notably from Tommy Keswick, Mariella Soprano, Peter Collopy and Stephen Davison.</p>\n<p>Handprint makes use of numerous open-source packages, without which it would have been effectively impossible to develop Handprint with the resources we had.  I want to acknowledge this debt.  In alphabetical order, the packages are:</p>\n<ul>\n<li><a href=\"https://github.com/ActiveState/appdirs\" rel=\"nofollow\">appdirs</a> \u2013 module for determining appropriate platform-specific directories</li>\n<li><a href=\"https://github.com/boto/boto3\" rel=\"nofollow\">boto3</a> \u2013 Amazon AWS SDK for Python</li>\n<li><a href=\"https://github.com/tartley/colorama\" rel=\"nofollow\">colorama</a> \u2013 makes ANSI escape character sequences work under MS Windows terminals</li>\n<li><a href=\"https://gitlab.com/dslackw/colored\" rel=\"nofollow\">colored</a> \u2013 library for color and formatting in terminal</li>\n<li><a href=\"https://github.com/googleapis/google-cloud-python\" rel=\"nofollow\">google-api-core, google-api-python-client, google-auth, google-auth-httplib2, google-cloud, google-cloud-vision, googleapis-common-protos, google_api_python_client</a> \u2013 Google API libraries</li>\n<li><a href=\"https://github.com/ManrajGrover/halo\" rel=\"nofollow\">halo</a> \u2013 busy-spinners for Python command-line programs</li>\n<li><a href=\"https://github.com/jmoiron/humanize\" rel=\"nofollow\">humanize</a> \u2013 make numbers more easily readable by humans</li>\n<li><a href=\"https://github.com/httplib2/httplib2\" rel=\"nofollow\">httplib2</a> \u2013 a comprehensive HTTP client library</li>\n<li><a href=\"https://github.com/shibukawa/imagesize_py\" rel=\"nofollow\">imagesize</a> \u2013 determine the dimensions of an image</li>\n<li><a href=\"https://github.com/gotcha/ipdb\" rel=\"nofollow\">ipdb</a> \u2013 the IPython debugger</li>\n<li><a href=\"https://matplotlib.org\" rel=\"nofollow\">matplotlib</a> \u2013 a Python 2-D plotting library</li>\n<li><a href=\"https://numpy.org\" rel=\"nofollow\">numpy</a> \u2013 package for scientific computing in Python</li>\n<li><a href=\"https://github.com/googleapis/oauth2client\" rel=\"nofollow\">oauth2client</a> \u2013 Google OAuth 2.0 library</li>\n<li><a href=\"https://github.com/python-pillow/Pillow\" rel=\"nofollow\">Pillow</a> \u2013 a fork of the Python Imaging Library</li>\n<li><a href=\"http://micheles.github.io/plac/\" rel=\"nofollow\">plac</a> \u2013 a command line argument parser</li>\n<li><a href=\"https://github.com/giampaolo/psutil\" rel=\"nofollow\">psutil</a> \u2013 cross-platform package for process and system monitoring in Python</li>\n<li><a href=\"http://docs.python-requests.org\" rel=\"nofollow\">requests</a> \u2013 an HTTP library for Python</li>\n<li><a href=\"https://github.com/pypa/setuptools\" rel=\"nofollow\">setuptools</a> \u2013 library for <code>setup.py</code></li>\n<li><a href=\"https://github.com/obulkin/string-dist\" rel=\"nofollow\">StringDist</a> \u2013 library for calculating string distances</li>\n<li><a href=\"https://github.com/orsinium/textdistance\" rel=\"nofollow\">textdistance</a> \u2013 compute distances between text sequences</li>\n<li><a href=\"https://pypi.org/project/termcolor/\" rel=\"nofollow\">termcolor</a> \u2013 ANSI color formatting for output in terminal</li>\n</ul>\n<p>Finally, I am grateful for computing &amp; institutional resources made available by the California Institute of Technology.</p>\n<div>\n  <a href=\"https://www.caltech.edu\" rel=\"nofollow\">\n    <img src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/30f49fe1982d807e10d8ca246a507fc0e30eb875/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f63616c746563686c6962726172792f68616e647072696e742f6d61737465722f2e67726170686963732f63616c746563682d726f756e642e706e67\" width=\"120px\">\n  </a>\n</div>\n\n          </div>"}, "last_serial": 6671568, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "ed2bb44b486579d7cdf76e4177d80552", "sha256": "98b80cf0df082f6e8aa9eab595dbd21e31cc260cc561372caeba402e7da30ede"}, "downloads": -1, "filename": "handprint-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ed2bb44b486579d7cdf76e4177d80552", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 59750, "upload_time": "2019-08-21T01:14:04", "upload_time_iso_8601": "2019-08-21T01:14:04.826340Z", "url": "https://files.pythonhosted.org/packages/ea/67/3a7182e5e4035d626dd7e5554fc07d29410d55b5d664f9eea2a3054c18e0/handprint-1.0.0-py3-none-any.whl", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "65c1658dff6cb0ef06450d2f8d6ca760", "sha256": "3dc3bb9291080b041a98a15234debbba5fd08f3e41b3bdb92539254b46bff203"}, "downloads": -1, "filename": "handprint-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "65c1658dff6cb0ef06450d2f8d6ca760", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 59871, "upload_time": "2019-08-21T02:27:14", "upload_time_iso_8601": "2019-08-21T02:27:14.530612Z", "url": "https://files.pythonhosted.org/packages/16/0e/b5725d6455906835d09e370deda55908035d16dd82ce08ff95d167271669/handprint-1.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e6d76ed731ae58e30d8be170d5357744", "sha256": "206f5d10b20625ee2516a4f98d70e3d5d4c627dbb63d0ecb79d9aec2595c1fcb"}, "downloads": -1, "filename": "handprint-1.0.1.tar.gz", "has_sig": false, "md5_digest": "e6d76ed731ae58e30d8be170d5357744", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 65908, "upload_time": "2019-08-21T02:27:16", "upload_time_iso_8601": "2019-08-21T02:27:16.256070Z", "url": "https://files.pythonhosted.org/packages/3e/fa/c9af790433a603f58fe7955c250069d1c0c30e7e79399507dfee76c65e90/handprint-1.0.1.tar.gz", "yanked": false}], "1.0.3": [{"comment_text": "", "digests": {"md5": "52b63998542ef4159aa0a7616f02949f", "sha256": "453b408ce7bd6e2cac0d3b2bb4aba6820a975c7b11845f6f6386fc63b456e297"}, "downloads": -1, "filename": "handprint-1.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "52b63998542ef4159aa0a7616f02949f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 60381, "upload_time": "2019-12-11T02:28:08", "upload_time_iso_8601": "2019-12-11T02:28:08.246096Z", "url": "https://files.pythonhosted.org/packages/90/91/6bd32bb20d93a5918e40f6d94046fafde5eb81e8ea5564c12f41ebf7ce58/handprint-1.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "110ff2798c7f400d9509ac89574fe901", "sha256": "8d2155669fb45ae0271be8aa6c4ccff49804749f4a544f68d5602c9e908b0207"}, "downloads": -1, "filename": "handprint-1.0.3.tar.gz", "has_sig": false, "md5_digest": "110ff2798c7f400d9509ac89574fe901", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 58425, "upload_time": "2019-12-11T02:28:09", "upload_time_iso_8601": "2019-12-11T02:28:09.701877Z", "url": "https://files.pythonhosted.org/packages/a9/d2/68f289bf8324ce05bd8ecc304dddf877bb0f332e2dd383a394b0e278b5d5/handprint-1.0.3.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "b6e5f5321dfd3ce79dd3a6dabb254acf", "sha256": "74619a424d0e5f895bf671061515e1b200d450ec53c93ba2913c856fd64585ce"}, "downloads": -1, "filename": "handprint-1.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "b6e5f5321dfd3ce79dd3a6dabb254acf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 78873, "upload_time": "2019-12-24T17:22:50", "upload_time_iso_8601": "2019-12-24T17:22:50.704004Z", "url": "https://files.pythonhosted.org/packages/c0/5b/48a952dc0e8459f6758ca1d9e0adfe404a7d27a44e1c0183a5ba9818bab6/handprint-1.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8c57f926b289f8da0f24846a62f95839", "sha256": "4d8546cfd338cc8d25cb1d92553981c26b6053b1ed4cc5ff7f2b84e3a9e85d80"}, "downloads": -1, "filename": "handprint-1.1.0.tar.gz", "has_sig": false, "md5_digest": "8c57f926b289f8da0f24846a62f95839", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 73771, "upload_time": "2019-12-24T17:22:52", "upload_time_iso_8601": "2019-12-24T17:22:52.413437Z", "url": "https://files.pythonhosted.org/packages/ba/8e/010039f2f74f1a31c7ef59e9dd14af6baaa2ed45e39410dc4360294b80d4/handprint-1.1.0.tar.gz", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "11f786dbd207195d1e1a7494a62e496d", "sha256": "ea1eed1ff68303ed8cb54fea7363022fe538e7155433dabc5e3470a32e75fe98"}, "downloads": -1, "filename": "handprint-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "11f786dbd207195d1e1a7494a62e496d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 67871, "upload_time": "2020-01-08T00:09:11", "upload_time_iso_8601": "2020-01-08T00:09:11.423338Z", "url": "https://files.pythonhosted.org/packages/b7/a6/87fdfd9c43e7e8759cd55749308eea18aa5d6b2a42dfefcd41597e6514f1/handprint-1.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c9b6650ab122f31bb6b1cdea4434ff4c", "sha256": "29b2873908327eb1db21f5d86e9ae55bad8f22d5c649ce659a598c8aa12c2a19"}, "downloads": -1, "filename": "handprint-1.2.0.tar.gz", "has_sig": false, "md5_digest": "c9b6650ab122f31bb6b1cdea4434ff4c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 74095, "upload_time": "2020-01-08T00:09:13", "upload_time_iso_8601": "2020-01-08T00:09:13.151965Z", "url": "https://files.pythonhosted.org/packages/46/45/be9f30e1416565d4b59a5d6ce9fe005f28f952041bdc4f25b7b36324f0da/handprint-1.2.0.tar.gz", "yanked": false}], "1.2.2": [{"comment_text": "", "digests": {"md5": "a35d3d49c5da665c650002696f8ecc94", "sha256": "e05c044e155ad3ddf48f0f84e3b0c62813cf0689a831a5e0d3f1c72c404545df"}, "downloads": -1, "filename": "handprint-1.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "a35d3d49c5da665c650002696f8ecc94", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 70263, "upload_time": "2020-02-21T00:02:22", "upload_time_iso_8601": "2020-02-21T00:02:22.571910Z", "url": "https://files.pythonhosted.org/packages/bc/6d/827ae4d9e74acabf5905e65aa869334fdf5be29b31269e5755c4067ccaa2/handprint-1.2.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fe83502650955c63f946a4273072544c", "sha256": "f8f7f68cd7d95964e059493cabc32ed2e5aca59a624159127a634002a631ecff"}, "downloads": -1, "filename": "handprint-1.2.2.tar.gz", "has_sig": false, "md5_digest": "fe83502650955c63f946a4273072544c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 74812, "upload_time": "2020-02-21T00:02:24", "upload_time_iso_8601": "2020-02-21T00:02:24.382665Z", "url": "https://files.pythonhosted.org/packages/18/23/b2bd59b18592ed34b81635c51d82ac28db59dce83446984fd13437862ce9/handprint-1.2.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a35d3d49c5da665c650002696f8ecc94", "sha256": "e05c044e155ad3ddf48f0f84e3b0c62813cf0689a831a5e0d3f1c72c404545df"}, "downloads": -1, "filename": "handprint-1.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "a35d3d49c5da665c650002696f8ecc94", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 70263, "upload_time": "2020-02-21T00:02:22", "upload_time_iso_8601": "2020-02-21T00:02:22.571910Z", "url": "https://files.pythonhosted.org/packages/bc/6d/827ae4d9e74acabf5905e65aa869334fdf5be29b31269e5755c4067ccaa2/handprint-1.2.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fe83502650955c63f946a4273072544c", "sha256": "f8f7f68cd7d95964e059493cabc32ed2e5aca59a624159127a634002a631ecff"}, "downloads": -1, "filename": "handprint-1.2.2.tar.gz", "has_sig": false, "md5_digest": "fe83502650955c63f946a4273072544c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 74812, "upload_time": "2020-02-21T00:02:24", "upload_time_iso_8601": "2020-02-21T00:02:24.382665Z", "url": "https://files.pythonhosted.org/packages/18/23/b2bd59b18592ed34b81635c51d82ac28db59dce83446984fd13437862ce9/handprint-1.2.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:52:37 2020"}
{"info": {"author": "Paulius Maru\u0161ka", "author_email": "paulius.maruska+loggingex@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: MacOS :: MacOS X", "Operating System :: Microsoft :: Windows", "Operating System :: OS Independent", "Operating System :: POSIX", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3 :: Only", "Topic :: Software Development :: Libraries", "Topic :: System :: Logging"], "description": "##################\nLogging Extensions\n##################\n\n.. image:: https://img.shields.io/badge/code%20style-black-000000.svg\n    :target: https://github.com/ambv/black\n\n.. image:: https://img.shields.io/github/license/open-things/loggingex.svg\n    :target: https://github.com/open-things/loggingex/blob/master/LICENSE\n\n.. image:: https://travis-ci.com/open-things/loggingex.svg?branch=master\n    :target: https://travis-ci.com/open-things/loggingex\n\n.. image:: https://img.shields.io/pypi/v/loggingex.svg?color=green\n    :target: https://pypi.org/project/loggingex/\n\n.. image:: https://img.shields.io/pypi/pyversions/loggingex.svg\n    :target: https://pypi.org/project/loggingex/\n\n.. image:: https://img.shields.io/pypi/dm/loggingex.svg\n    :target: https://pypi.org/project/loggingex/\n\nImplements a few extensions for the standard python logging library.\n\nCurrently, this project lacks documentation. Sorry about that.\n\n\nLogging Context Filter\n======================\n\nLogging Context Filter injects context variables into LogRecord objects as extra\nfields.\n\nHere's a usage example:\n\n.. code-block:: python\n\n    import logging\n    import sys\n\n    from loggingex.context import LoggingContextFilter, context\n\n    log = logging.getLogger()\n\n\n    def process_lines(lines):\n        for index, line in enumerate(lines):\n            line = line.strip()\n            with context(current_line=index + 1):\n                log.debug(\"processing line: %s\", line)\n                if not line:\n                    log.error(\"empty line!\")\n                    continue\n                log.info(\"processed line: %s\", line)\n\n\n    def process_files(filenames):\n        log.debug(\"starting...\")\n        for filename in filenames:\n            with context(current_file=filename):\n                log.info(\"processing file: %s\", filename)\n                with open(filename, \"r\") as f:\n                    process_lines(f)\n                log.info(\"processed file: %s\", filename)\n        log.debug(\"work is complete!\")\n\n\n    if __name__ == \"__main__\":\n        formatter = logging.Formatter(\n            \"%(current_file)s:%(current_line)s:%(levelname)s: %(message)s\"\n        )\n        handler = logging.StreamHandler(stream=sys.stdout)\n        handler.setFormatter(formatter)\n        handler.setLevel(logging.DEBUG)\n        handler.addFilter(LoggingContextFilter())  # it's that simple\n        logging.basicConfig(handlers=[handler], level=logging.DEBUG)\n\n        with context(current_file=\"-\", current_line=\"-\"):\n            # The context above sets default value, so that the formatter does\n            # not crash, when they are not defined.\n            process_files(sys.argv[1:])\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/open-things/loggingex/", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "loggingex", "package_url": "https://pypi.org/project/loggingex/", "platform": "", "project_url": "https://pypi.org/project/loggingex/", "project_urls": {"Homepage": "https://github.com/open-things/loggingex/"}, "release_url": "https://pypi.org/project/loggingex/1.2.0/", "requires_dist": ["contextvars ; python_version < \"3.7\""], "requires_python": ">=3.5", "summary": "Logging Extensions", "version": "1.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://github.com/ambv/black\" rel=\"nofollow\"><img alt=\"https://img.shields.io/badge/code%20style-black-000000.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fbfdc7754183ecf079bc71ddeabaf88f6cbc5c00/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c61636b2d3030303030302e737667\"></a>\n<a href=\"https://github.com/open-things/loggingex/blob/master/LICENSE\" rel=\"nofollow\"><img alt=\"https://img.shields.io/github/license/open-things/loggingex.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/479ecded0bfaf597be1360921786883b761304eb/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6f70656e2d7468696e67732f6c6f6767696e6765782e737667\"></a>\n<a href=\"https://travis-ci.com/open-things/loggingex\" rel=\"nofollow\"><img alt=\"https://travis-ci.com/open-things/loggingex.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b658533d34d7017ef2c761d19c4ab21bb3962deb/68747470733a2f2f7472617669732d63692e636f6d2f6f70656e2d7468696e67732f6c6f6767696e6765782e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.org/project/loggingex/\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/v/loggingex.svg?color=green\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/016ba938f0cb33ad1aa35e8b9c255ff1e4642e13/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6c6f6767696e6765782e7376673f636f6c6f723d677265656e\"></a>\n<a href=\"https://pypi.org/project/loggingex/\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/pyversions/loggingex.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8f2e181a6447717718f1d817f1fad25bda8b96d1/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6c6f6767696e6765782e737667\"></a>\n<a href=\"https://pypi.org/project/loggingex/\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/dm/loggingex.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/589c73721308bffc01ab5c882fbc6c6ffc3c07ba/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f6c6f6767696e6765782e737667\"></a>\n<p>Implements a few extensions for the standard python logging library.</p>\n<p>Currently, this project lacks documentation. Sorry about that.</p>\n<div id=\"logging-context-filter\">\n<h2>Logging Context Filter</h2>\n<p>Logging Context Filter injects context variables into LogRecord objects as extra\nfields.</p>\n<p>Here\u2019s a usage example:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sys</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">loggingex.context</span> <span class=\"kn\">import</span> <span class=\"n\">LoggingContextFilter</span><span class=\"p\">,</span> <span class=\"n\">context</span>\n\n<span class=\"n\">log</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">()</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">process_lines</span><span class=\"p\">(</span><span class=\"n\">lines</span><span class=\"p\">):</span>\n    <span class=\"k\">for</span> <span class=\"n\">index</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"ow\">in</span> <span class=\"nb\">enumerate</span><span class=\"p\">(</span><span class=\"n\">lines</span><span class=\"p\">):</span>\n        <span class=\"n\">line</span> <span class=\"o\">=</span> <span class=\"n\">line</span><span class=\"o\">.</span><span class=\"n\">strip</span><span class=\"p\">()</span>\n        <span class=\"k\">with</span> <span class=\"n\">context</span><span class=\"p\">(</span><span class=\"n\">current_line</span><span class=\"o\">=</span><span class=\"n\">index</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">):</span>\n            <span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s2\">\"processing line: </span><span class=\"si\">%s</span><span class=\"s2\">\"</span><span class=\"p\">,</span> <span class=\"n\">line</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">line</span><span class=\"p\">:</span>\n                <span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">(</span><span class=\"s2\">\"empty line!\"</span><span class=\"p\">)</span>\n                <span class=\"k\">continue</span>\n            <span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s2\">\"processed line: </span><span class=\"si\">%s</span><span class=\"s2\">\"</span><span class=\"p\">,</span> <span class=\"n\">line</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">process_files</span><span class=\"p\">(</span><span class=\"n\">filenames</span><span class=\"p\">):</span>\n    <span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s2\">\"starting...\"</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">filename</span> <span class=\"ow\">in</span> <span class=\"n\">filenames</span><span class=\"p\">:</span>\n        <span class=\"k\">with</span> <span class=\"n\">context</span><span class=\"p\">(</span><span class=\"n\">current_file</span><span class=\"o\">=</span><span class=\"n\">filename</span><span class=\"p\">):</span>\n            <span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s2\">\"processing file: </span><span class=\"si\">%s</span><span class=\"s2\">\"</span><span class=\"p\">,</span> <span class=\"n\">filename</span><span class=\"p\">)</span>\n            <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"s2\">\"r\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n                <span class=\"n\">process_lines</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">)</span>\n            <span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s2\">\"processed file: </span><span class=\"si\">%s</span><span class=\"s2\">\"</span><span class=\"p\">,</span> <span class=\"n\">filename</span><span class=\"p\">)</span>\n    <span class=\"n\">log</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s2\">\"work is complete!\"</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">\"__main__\"</span><span class=\"p\">:</span>\n    <span class=\"n\">formatter</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">Formatter</span><span class=\"p\">(</span>\n        <span class=\"s2\">\"</span><span class=\"si\">%(current_file)s</span><span class=\"s2\">:</span><span class=\"si\">%(current_line)s</span><span class=\"s2\">:</span><span class=\"si\">%(levelname)s</span><span class=\"s2\">: </span><span class=\"si\">%(message)s</span><span class=\"s2\">\"</span>\n    <span class=\"p\">)</span>\n    <span class=\"n\">handler</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">StreamHandler</span><span class=\"p\">(</span><span class=\"n\">stream</span><span class=\"o\">=</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdout</span><span class=\"p\">)</span>\n    <span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">setFormatter</span><span class=\"p\">(</span><span class=\"n\">formatter</span><span class=\"p\">)</span>\n    <span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">setLevel</span><span class=\"p\">(</span><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">DEBUG</span><span class=\"p\">)</span>\n    <span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">addFilter</span><span class=\"p\">(</span><span class=\"n\">LoggingContextFilter</span><span class=\"p\">())</span>  <span class=\"c1\"># it's that simple</span>\n    <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">basicConfig</span><span class=\"p\">(</span><span class=\"n\">handlers</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">handler</span><span class=\"p\">],</span> <span class=\"n\">level</span><span class=\"o\">=</span><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">DEBUG</span><span class=\"p\">)</span>\n\n    <span class=\"k\">with</span> <span class=\"n\">context</span><span class=\"p\">(</span><span class=\"n\">current_file</span><span class=\"o\">=</span><span class=\"s2\">\"-\"</span><span class=\"p\">,</span> <span class=\"n\">current_line</span><span class=\"o\">=</span><span class=\"s2\">\"-\"</span><span class=\"p\">):</span>\n        <span class=\"c1\"># The context above sets default value, so that the formatter does</span>\n        <span class=\"c1\"># not crash, when they are not defined.</span>\n        <span class=\"n\">process_files</span><span class=\"p\">(</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">argv</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">:])</span>\n</pre>\n</div>\n\n          </div>"}, "last_serial": 5154465, "releases": {"1.0.1": [{"comment_text": "", "digests": {"md5": "ea4ec85e45f1f44b9f988fe08a4ae34e", "sha256": "8513ea12cd83e4fa8c7e44e487d0b33df664080ae162d9c423fa71b5b20b7882"}, "downloads": -1, "filename": "loggingex-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "ea4ec85e45f1f44b9f988fe08a4ae34e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 6329, "upload_time": "2019-04-10T13:17:25", "upload_time_iso_8601": "2019-04-10T13:17:25.778373Z", "url": "https://files.pythonhosted.org/packages/9b/84/a41d2ba8c1a74f0e949bda662b38fa89470fe32a0bd07597c17d1f1b8e06/loggingex-1.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bdfec844e40d102e4c15c3517c5dde44", "sha256": "11f3d00cc62be1862a28f0236c3566d60bd6e269549e1c64fbb1c6c8965e9fe0"}, "downloads": -1, "filename": "loggingex-1.0.1.tar.gz", "has_sig": false, "md5_digest": "bdfec844e40d102e4c15c3517c5dde44", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 12678, "upload_time": "2019-04-10T13:17:27", "upload_time_iso_8601": "2019-04-10T13:17:27.738815Z", "url": "https://files.pythonhosted.org/packages/e0/ee/024225aa43a3ea61aef1ca5407a71f3bec7be811c7a713485e5dbdea66d0/loggingex-1.0.1.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "cb59258dc2ba617bdb8d088c98fac414", "sha256": "166812b6b7fb2a1a1cdc7f1f1abdb961a8e6735de362a182f9b7c796716d7716"}, "downloads": -1, "filename": "loggingex-1.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "cb59258dc2ba617bdb8d088c98fac414", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 6472, "upload_time": "2019-04-11T12:42:08", "upload_time_iso_8601": "2019-04-11T12:42:08.192739Z", "url": "https://files.pythonhosted.org/packages/4e/50/247b866e6e8d36fc3b992f8b3ebb436f28978b228f8a307aae6add7a39bf/loggingex-1.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fc6bb8617c06696caf58dc2af239d0df", "sha256": "4885d430ae1d0ff8e84e8a6c021142c9497bda451c5c80ef1c46be476845aa1b"}, "downloads": -1, "filename": "loggingex-1.0.2.tar.gz", "has_sig": false, "md5_digest": "fc6bb8617c06696caf58dc2af239d0df", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 13866, "upload_time": "2019-04-11T12:42:09", "upload_time_iso_8601": "2019-04-11T12:42:09.471934Z", "url": "https://files.pythonhosted.org/packages/2e/e8/9ed7dbbbcd5df250128aef35eb0de031b3a6a5f1fe1fbd9f8f6a90bb92dd/loggingex-1.0.2.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "95efdafc3e3fe8e17d50122b2398424f", "sha256": "6cb6830bd5935fe854223ad1350702e0ec42928d1c9d4653e006e2f379418ec3"}, "downloads": -1, "filename": "loggingex-1.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "95efdafc3e3fe8e17d50122b2398424f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 8588, "upload_time": "2019-04-12T07:18:46", "upload_time_iso_8601": "2019-04-12T07:18:46.463966Z", "url": "https://files.pythonhosted.org/packages/f0/8f/b0e0724e43ecb77eb9508824f294217dfebaca26858a338f412392ec620f/loggingex-1.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b5c19630d616d534159f2d7746fb25dd", "sha256": "9154d22c272ddba279c0f10072d95b0ad9ac6fabfd8456b53dd4cf140d4696c9"}, "downloads": -1, "filename": "loggingex-1.1.0.tar.gz", "has_sig": false, "md5_digest": "b5c19630d616d534159f2d7746fb25dd", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 15228, "upload_time": "2019-04-12T07:18:47", "upload_time_iso_8601": "2019-04-12T07:18:47.697448Z", "url": "https://files.pythonhosted.org/packages/6d/7c/b5b2ccfde5e5a31994982cb9bc4187cb5bfd4d1799de28a4e1c06982150c/loggingex-1.1.0.tar.gz", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "0e228f29df8b09230749cd3df82e942a", "sha256": "806fe5c5e134210a894081fedcdf6dace919af62e351f4bfe4c7b2d6aa9c8bdf"}, "downloads": -1, "filename": "loggingex-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "0e228f29df8b09230749cd3df82e942a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 11641, "upload_time": "2019-04-17T10:19:59", "upload_time_iso_8601": "2019-04-17T10:19:59.622788Z", "url": "https://files.pythonhosted.org/packages/8e/a9/1c61e4763a616bdbf11fd0345cfbb0cf9fca327aec7e7e19ebef923217e5/loggingex-1.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "14874e8d14492e891d9a7aece8898906", "sha256": "bdd3bbb9a465f91bcc55c2858a9c6a52ac3918ab1ea2a9aa30002a9ca8c3420a"}, "downloads": -1, "filename": "loggingex-1.2.0.tar.gz", "has_sig": false, "md5_digest": "14874e8d14492e891d9a7aece8898906", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 20754, "upload_time": "2019-04-17T10:20:00", "upload_time_iso_8601": "2019-04-17T10:20:00.960124Z", "url": "https://files.pythonhosted.org/packages/91/01/bc4cc8eaf8c74a4fca35c26abb60053dfa333e0d22fdf54c964a450d0fe8/loggingex-1.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "0e228f29df8b09230749cd3df82e942a", "sha256": "806fe5c5e134210a894081fedcdf6dace919af62e351f4bfe4c7b2d6aa9c8bdf"}, "downloads": -1, "filename": "loggingex-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "0e228f29df8b09230749cd3df82e942a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 11641, "upload_time": "2019-04-17T10:19:59", "upload_time_iso_8601": "2019-04-17T10:19:59.622788Z", "url": "https://files.pythonhosted.org/packages/8e/a9/1c61e4763a616bdbf11fd0345cfbb0cf9fca327aec7e7e19ebef923217e5/loggingex-1.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "14874e8d14492e891d9a7aece8898906", "sha256": "bdd3bbb9a465f91bcc55c2858a9c6a52ac3918ab1ea2a9aa30002a9ca8c3420a"}, "downloads": -1, "filename": "loggingex-1.2.0.tar.gz", "has_sig": false, "md5_digest": "14874e8d14492e891d9a7aece8898906", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 20754, "upload_time": "2019-04-17T10:20:00", "upload_time_iso_8601": "2019-04-17T10:20:00.960124Z", "url": "https://files.pythonhosted.org/packages/91/01/bc4cc8eaf8c74a4fca35c26abb60053dfa333e0d22fdf54c964a450d0fe8/loggingex-1.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:44:18 2020"}
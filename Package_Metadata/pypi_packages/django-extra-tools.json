{"info": {"author": "Tomasz Jakub Rup", "author_email": "tomasz.rup@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Framework :: Django", "Framework :: Django :: 1.10", "Framework :: Django :: 1.11", "Framework :: Django :: 1.4", "Framework :: Django :: 1.5", "Framework :: Django :: 1.6", "Framework :: Django :: 1.7", "Framework :: Django :: 1.8", "Framework :: Django :: 1.9", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: PL/SQL", "Programming Language :: Python", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Software Development", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: Utilities"], "description": "==================\ndjango-extra-tools\n==================\n\n.. image:: https://travis-ci.org/tomi77/django-extra-tools.svg?branch=master\n   :target: https://travis-ci.org/tomi77/django-extra-tools\n.. image:: https://coveralls.io/repos/github/tomi77/django-extra-tools/badge.svg\n   :target: https://coveralls.io/github/tomi77/django-extra-tools?branch=master\n.. image:: https://codeclimate.com/github/tomi77/django-extra-tools/badges/gpa.svg\n   :target: https://codeclimate.com/github/tomi77/django-extra-tools\n   :alt: Code Climate\n\nInstallation\n============\n\n.. sourcecode:: sh\n\n   pip install django-extra-tools\n\nQuick start\n===========\n\nEnable ``django-extra-tools``\n\n.. sourcecode:: python\n\n   INSTALLED_APPS = [\n       ...\n       'django_extra_tools',\n   ]\n\nInstall SQL functions\n\n.. sourcecode:: sh\n\n   python manage.py migrate\n\nStringAgg aggregate function on Django 1.4 needs monkey patch\n\n.. sourcecode:: python\n\n   from django_extra_tools.monkey import patch_django\n\n   patch_all()\n\nTemplate filters\n================\n\nparse_datetime\n--------------\n\nParse datetime from string.\n\n.. sourcecode:: htmldjango\n\n   {% load parse %}\n\n   {{ string_datetime|parse_datetime|date:\"Y-m-d H:i\" }}\n\nparse_date\n----------\n\nParse date from string.\n\n.. sourcecode:: htmldjango\n\n   {% load parse %}\n\n   {{ string_date|parse_date|date:\"Y-m-d\" }}\n\nparse_time\n----------\n\nParse time from string.\n\n.. sourcecode:: htmldjango\n\n   {% load parse %}\n\n   {{ string_time|parse_time|date:\"H:i\" }}\n\nparse_duration\n--------------\n\nParse duration (timedelta) from string.\n\n.. sourcecode:: htmldjango\n\n   {% load parse %}\n\n   {{ string_duration|parse_duration }}\n\nAggregation\n===========\n\nFirst\n-----\n\nReturns the first non-NULL item.\n\n.. sourcecode:: python\n\n   from django_extra_tools.db.models.aggregates import First\n\n   Table.objects.aggregate(First('col1', order_by='col2'))\n\nLast\n----\n\nReturns the last non-NULL item.\n\n.. sourcecode:: python\n\n   from django_extra_tools.db.models.aggregates import Last\n\n   Table.objects.aggregate(Last('col1', order_by='col2'))\n\nMedian\n------\n\nReturns median value.\n\n.. sourcecode:: python\n\n   from django_extra_tools.db.models.aggregates import Median\n\n   Table.objects.aggregate(Median('col1'))\n\nStringAgg\n---------\n\nCombines the values as the text. Fields are separated by a \"separator\".\n\n.. sourcecode:: python\n\n   from django_extra_tools.db.models.aggregates import StringAgg\n\n   Table.objects.aggregate(StringAgg('col1'))\n\nModel mixins\n============\n\nCreatedAtMixin\n--------------\n\nAdd ``created_at`` field to model.\n\n.. sourcecode:: python\n\n   from django.db import models\n   from django_extra_tools.db.models import timestampable\n\n   class MyModel(timestampable.CreatedAtMixin, models.Model):\n       pass\n\n   model = MyModel()\n   print(model.created_at)\n\nCreatedByMixin\n--------------\n\nAdd ``created_by`` field to model.\n\n.. sourcecode:: python\n\n   from django.contrib.auth.models import User\n   from django.db import models\n   from django_extra_tools.db.models import timestampable\n\n   class MyModel(timestampable.CreatedByMixin, models.Model):\n       pass\n\n   user = User.objects.get(username='user')\n   model = MyModel(created_by=user)\n   print(model.created_by)\n\nUpdatedAtMixin\n--------------\n\nAdd ``updated_at`` field to model.\n\n.. sourcecode:: python\n\n   from django.db import models\n   from django_extra_tools.db.models import timestampable\n\n   class MyModel(timestampable.UpdatedAtMixin, models.Model):\n       operation = models.CharField(max_length=10)\n\n   model = MyModel()\n   print(model.updated_at)\n   model.operation = 'update'\n   model.save()\n   print(model.updated_at)\n\nUpdatedByMixin\n--------------\n\nAdd ``updated_by`` field to model.\n\n.. sourcecode:: python\n\n   from django.contrib.auth.models import User\n   from django.db import models\n   from django_extra_tools.db.models import timestampable\n\n   class MyModel(timestampable.UpdatedByMixin, models.Model):\n       operation = models.CharField(max_length=10)\n\n   user = User.objects.get(username='user')\n   model = MyModel()\n   print(model.updated_by)\n   model.operation = 'update'\n   model.save_by(user)\n   print(model.updated_by)\n\nDeletedAtMixin\n--------------\n\nAdd ``deleted_at`` field to model.\n\n.. sourcecode:: python\n\n   from django.db import models\n   from django_extra_tools.db.models import timestampable\n\n   class MyModel(timestampable.DeletedAtMixin, models.Model):\n       pass\n\n   model = MyModel()\n   print(model.deleted_at)\n   model.delete()\n   print(model.deleted_at)\n\nDeletedByMixin\n--------------\n\nAdd ``deleted_by`` field to model.\n\n.. sourcecode:: python\n\n   from django.contrib.auth.models import User\n   from django.db import models\n   from django_extra_tools.db.models import timestampable\n\n   class MyModel(timestampable.DeletedByMixin, models.Model):\n       pass\n\n   user = User.objects.get(username='user')\n   model = MyModel()\n   print(model.deleted_by)\n   model.delete_by(user)\n   print(model.deleted_by)\n\nCreatedMixin\n------------\n\nAdd ``created_at`` and ``created_by`` fields to model.\n\nUpdatedMixin\n------------\n\nAdd ``updated_at`` and ``updated_by`` fields to model.\n\nDeletedMixin\n------------\n\nAdd ``deleted_at`` and ``deleted_by`` fields to model.\n\nDatabase functions\n==================\n\nbatch_qs\n--------\n\nReturns a (start, end, total, queryset) tuple for each batch in the given queryset.\n\n.. sourcecode:: python\n\n   from django_extra_tools.db.models import batch_qs\n\n   qs = Table.objects.all()\n   start, end, total, queryset = batch_qs(qs, 10)\n\npg_version\n----------\n\nReturn tuple with PostgreSQL version of a specific connection.\n\n.. sourcecode:: python\n\n   from django_extra_tools.db.models import pg_version\n\n   version = pg_version()\n\nHTTP Response\n=============\n\nHttpResponseGetFile\n-------------------\n\nAn HTTP response class with the \"download file\" headers.\n\n.. sourcecode:: python\n\n   from django_extra_tools.http import HttpResponseGetFile\n\n   return HttpResponseGetFile(filename='file.txt', content=b'file content', content_type='file/text')\n\nWSGI Request\n============\n\nget_client_ip\n-------------\n\nGet the client IP from the request.\n\n.. sourcecode:: python\n\n   from django_extra_tools.wsgi_request import get_client_ip\n\n   ip = get_client_ip(request)\n\nManagement\n==========\n\nOneInstanceCommand\n------------------\n\nA management command which will be run only one instance of command with\nname ``name``. No other command with name ``name`` can not be run in the\nsame time.\n\n.. sourcecode:: python\n\n   from django_extra_tools.management import OneInstanceCommand\n\n   class Command(OneInstanceCommand):\n       name = 'mycommand'\n\n       def handle_instance(self, *args, **options):\n           # some operations\n\nNagiosCheckCommand\n------------------\n\nA management command which perform a Nagios check.\n\n.. sourcecode:: python\n\n   from django_extra_tools.management import NagiosCheckCommand\n\n   class Command(NagiosCheckCommand):\n       def handle_nagios_check(self, *args, **options):\n           return self.STATE_OK, 'OK'\n\nMiddleware\n==========\n\nXhrMiddleware\n-------------\n\nThis middleware allows cross-domain XHR using the html5 postMessage API.\n\n.. sourcecode:: python\n\n   MIDDLEWARE_CLASSES = (\n       ...\n       'django_extra_tools.middleware.XhrMiddleware'\n   )\n\n   XHR_MIDDLEWARE_ALLOWED_ORIGINS = '*'\n   XHR_MIDDLEWARE_ALLOWED_METHODS = ['POST', 'GET', 'OPTIONS', 'PUT', 'DELETE']\n   XHR_MIDDLEWARE_ALLOWED_HEADERS = ['Content-Type', 'Authorization', 'Location', '*']\n   XHR_MIDDLEWARE_ALLOWED_CREDENTIALS = 'true'\n   XHR_MIDDLEWARE_EXPOSE_HEADERS = ['Location']\n", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/tomi77/django-extra-tools", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "django-extra-tools", "package_url": "https://pypi.org/project/django-extra-tools/", "platform": "", "project_url": "https://pypi.org/project/django-extra-tools/", "project_urls": {"Homepage": "https://github.com/tomi77/django-extra-tools"}, "release_url": "https://pypi.org/project/django-extra-tools/0.3.0/", "requires_dist": null, "requires_python": "", "summary": "A set of functions related with Django", "version": "0.3.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://travis-ci.org/tomi77/django-extra-tools\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/tomi77/django-extra-tools.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ce04767c75ceaa958ffe9327adf71946eee3c85a/68747470733a2f2f7472617669732d63692e6f72672f746f6d6937372f646a616e676f2d65787472612d746f6f6c732e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://coveralls.io/github/tomi77/django-extra-tools?branch=master\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/github/tomi77/django-extra-tools/badge.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/adcb88ba1ff517d6376d54896f17abafbecf416e/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f746f6d6937372f646a616e676f2d65787472612d746f6f6c732f62616467652e737667\"></a>\n<a href=\"https://codeclimate.com/github/tomi77/django-extra-tools\" rel=\"nofollow\"><img alt=\"Code Climate\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d404d34ea22ace21bb1d331c12614e7e2b23194d/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f746f6d6937372f646a616e676f2d65787472612d746f6f6c732f6261646765732f6770612e737667\"></a>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>pip install django-extra-tools\n</pre>\n</div>\n<div id=\"quick-start\">\n<h2>Quick start</h2>\n<p>Enable <tt><span class=\"pre\">django-extra-tools</span></tt></p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'django_extra_tools'</span><span class=\"p\">,</span>\n<span class=\"p\">]</span>\n</pre>\n<p>Install SQL functions</p>\n<pre>python manage.py migrate\n</pre>\n<p>StringAgg aggregate function on Django 1.4 needs monkey patch</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.monkey</span> <span class=\"kn\">import</span> <span class=\"n\">patch_django</span>\n\n<span class=\"n\">patch_all</span><span class=\"p\">()</span>\n</pre>\n</div>\n<div id=\"template-filters\">\n<h2>Template filters</h2>\n<div id=\"parse-datetime\">\n<h3>parse_datetime</h3>\n<p>Parse datetime from string.</p>\n<pre><span class=\"cp\">{%</span> <span class=\"k\">load</span> <span class=\"nv\">parse</span> <span class=\"cp\">%}</span>\n\n<span class=\"cp\">{{</span> <span class=\"nv\">string_datetime</span><span class=\"o\">|</span><span class=\"nf\">parse_datetime</span><span class=\"o\">|</span><span class=\"nf\">date</span><span class=\"s2\">:\"Y-m-d H:i\"</span> <span class=\"cp\">}}</span>\n</pre>\n</div>\n<div id=\"parse-date\">\n<h3>parse_date</h3>\n<p>Parse date from string.</p>\n<pre><span class=\"cp\">{%</span> <span class=\"k\">load</span> <span class=\"nv\">parse</span> <span class=\"cp\">%}</span>\n\n<span class=\"cp\">{{</span> <span class=\"nv\">string_date</span><span class=\"o\">|</span><span class=\"nf\">parse_date</span><span class=\"o\">|</span><span class=\"nf\">date</span><span class=\"s2\">:\"Y-m-d\"</span> <span class=\"cp\">}}</span>\n</pre>\n</div>\n<div id=\"parse-time\">\n<h3>parse_time</h3>\n<p>Parse time from string.</p>\n<pre><span class=\"cp\">{%</span> <span class=\"k\">load</span> <span class=\"nv\">parse</span> <span class=\"cp\">%}</span>\n\n<span class=\"cp\">{{</span> <span class=\"nv\">string_time</span><span class=\"o\">|</span><span class=\"nf\">parse_time</span><span class=\"o\">|</span><span class=\"nf\">date</span><span class=\"s2\">:\"H:i\"</span> <span class=\"cp\">}}</span>\n</pre>\n</div>\n<div id=\"parse-duration\">\n<h3>parse_duration</h3>\n<p>Parse duration (timedelta) from string.</p>\n<pre><span class=\"cp\">{%</span> <span class=\"k\">load</span> <span class=\"nv\">parse</span> <span class=\"cp\">%}</span>\n\n<span class=\"cp\">{{</span> <span class=\"nv\">string_duration</span><span class=\"o\">|</span><span class=\"nf\">parse_duration</span> <span class=\"cp\">}}</span>\n</pre>\n</div>\n</div>\n<div id=\"aggregation\">\n<h2>Aggregation</h2>\n<div id=\"first\">\n<h3>First</h3>\n<p>Returns the first non-NULL item.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models.aggregates</span> <span class=\"kn\">import</span> <span class=\"n\">First</span>\n\n<span class=\"n\">Table</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span><span class=\"n\">First</span><span class=\"p\">(</span><span class=\"s1\">'col1'</span><span class=\"p\">,</span> <span class=\"n\">order_by</span><span class=\"o\">=</span><span class=\"s1\">'col2'</span><span class=\"p\">))</span>\n</pre>\n</div>\n<div id=\"last\">\n<h3>Last</h3>\n<p>Returns the last non-NULL item.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models.aggregates</span> <span class=\"kn\">import</span> <span class=\"n\">Last</span>\n\n<span class=\"n\">Table</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span><span class=\"n\">Last</span><span class=\"p\">(</span><span class=\"s1\">'col1'</span><span class=\"p\">,</span> <span class=\"n\">order_by</span><span class=\"o\">=</span><span class=\"s1\">'col2'</span><span class=\"p\">))</span>\n</pre>\n</div>\n<div id=\"median\">\n<h3>Median</h3>\n<p>Returns median value.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models.aggregates</span> <span class=\"kn\">import</span> <span class=\"n\">Median</span>\n\n<span class=\"n\">Table</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span><span class=\"n\">Median</span><span class=\"p\">(</span><span class=\"s1\">'col1'</span><span class=\"p\">))</span>\n</pre>\n</div>\n<div id=\"stringagg\">\n<h3>StringAgg</h3>\n<p>Combines the values as the text. Fields are separated by a \u201cseparator\u201d.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models.aggregates</span> <span class=\"kn\">import</span> <span class=\"n\">StringAgg</span>\n\n<span class=\"n\">Table</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span><span class=\"n\">StringAgg</span><span class=\"p\">(</span><span class=\"s1\">'col1'</span><span class=\"p\">))</span>\n</pre>\n</div>\n</div>\n<div id=\"model-mixins\">\n<h2>Model mixins</h2>\n<div id=\"createdatmixin\">\n<h3>CreatedAtMixin</h3>\n<p>Add <tt>created_at</tt> field to model.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">timestampable</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MyModel</span><span class=\"p\">(</span><span class=\"n\">timestampable</span><span class=\"o\">.</span><span class=\"n\">CreatedAtMixin</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">MyModel</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">created_at</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"createdbymixin\">\n<h3>CreatedByMixin</h3>\n<p>Add <tt>created_by</tt> field to model.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.auth.models</span> <span class=\"kn\">import</span> <span class=\"n\">User</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">timestampable</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MyModel</span><span class=\"p\">(</span><span class=\"n\">timestampable</span><span class=\"o\">.</span><span class=\"n\">CreatedByMixin</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n<span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"n\">User</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"o\">=</span><span class=\"s1\">'user'</span><span class=\"p\">)</span>\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">MyModel</span><span class=\"p\">(</span><span class=\"n\">created_by</span><span class=\"o\">=</span><span class=\"n\">user</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">created_by</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"updatedatmixin\">\n<h3>UpdatedAtMixin</h3>\n<p>Add <tt>updated_at</tt> field to model.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">timestampable</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MyModel</span><span class=\"p\">(</span><span class=\"n\">timestampable</span><span class=\"o\">.</span><span class=\"n\">UpdatedAtMixin</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">operation</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">MyModel</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">updated_at</span><span class=\"p\">)</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">operation</span> <span class=\"o\">=</span> <span class=\"s1\">'update'</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">updated_at</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"updatedbymixin\">\n<h3>UpdatedByMixin</h3>\n<p>Add <tt>updated_by</tt> field to model.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.auth.models</span> <span class=\"kn\">import</span> <span class=\"n\">User</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">timestampable</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MyModel</span><span class=\"p\">(</span><span class=\"n\">timestampable</span><span class=\"o\">.</span><span class=\"n\">UpdatedByMixin</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">operation</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n\n<span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"n\">User</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"o\">=</span><span class=\"s1\">'user'</span><span class=\"p\">)</span>\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">MyModel</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">updated_by</span><span class=\"p\">)</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">operation</span> <span class=\"o\">=</span> <span class=\"s1\">'update'</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">save_by</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">updated_by</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"deletedatmixin\">\n<h3>DeletedAtMixin</h3>\n<p>Add <tt>deleted_at</tt> field to model.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">timestampable</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MyModel</span><span class=\"p\">(</span><span class=\"n\">timestampable</span><span class=\"o\">.</span><span class=\"n\">DeletedAtMixin</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">MyModel</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">deleted_at</span><span class=\"p\">)</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">delete</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">deleted_at</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"deletedbymixin\">\n<h3>DeletedByMixin</h3>\n<p>Add <tt>deleted_by</tt> field to model.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.auth.models</span> <span class=\"kn\">import</span> <span class=\"n\">User</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">timestampable</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MyModel</span><span class=\"p\">(</span><span class=\"n\">timestampable</span><span class=\"o\">.</span><span class=\"n\">DeletedByMixin</span><span class=\"p\">,</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n\n<span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"n\">User</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"o\">=</span><span class=\"s1\">'user'</span><span class=\"p\">)</span>\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">MyModel</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">deleted_by</span><span class=\"p\">)</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">delete_by</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">deleted_by</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"createdmixin\">\n<h3>CreatedMixin</h3>\n<p>Add <tt>created_at</tt> and <tt>created_by</tt> fields to model.</p>\n</div>\n<div id=\"updatedmixin\">\n<h3>UpdatedMixin</h3>\n<p>Add <tt>updated_at</tt> and <tt>updated_by</tt> fields to model.</p>\n</div>\n<div id=\"deletedmixin\">\n<h3>DeletedMixin</h3>\n<p>Add <tt>deleted_at</tt> and <tt>deleted_by</tt> fields to model.</p>\n</div>\n</div>\n<div id=\"database-functions\">\n<h2>Database functions</h2>\n<div id=\"batch-qs\">\n<h3>batch_qs</h3>\n<p>Returns a (start, end, total, queryset) tuple for each batch in the given queryset.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">batch_qs</span>\n\n<span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">Table</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"n\">start</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"p\">,</span> <span class=\"n\">total</span><span class=\"p\">,</span> <span class=\"n\">queryset</span> <span class=\"o\">=</span> <span class=\"n\">batch_qs</span><span class=\"p\">(</span><span class=\"n\">qs</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"pg-version\">\n<h3>pg_version</h3>\n<p>Return tuple with PostgreSQL version of a specific connection.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">pg_version</span>\n\n<span class=\"n\">version</span> <span class=\"o\">=</span> <span class=\"n\">pg_version</span><span class=\"p\">()</span>\n</pre>\n</div>\n</div>\n<div id=\"http-response\">\n<h2>HTTP Response</h2>\n<h2 id=\"httpresponsegetfile\"><span class=\"section-subtitle\">HttpResponseGetFile</span></h2>\n<p>An HTTP response class with the \u201cdownload file\u201d headers.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.http</span> <span class=\"kn\">import</span> <span class=\"n\">HttpResponseGetFile</span>\n\n<span class=\"k\">return</span> <span class=\"n\">HttpResponseGetFile</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"o\">=</span><span class=\"s1\">'file.txt'</span><span class=\"p\">,</span> <span class=\"n\">content</span><span class=\"o\">=</span><span class=\"sa\">b</span><span class=\"s1\">'file content'</span><span class=\"p\">,</span> <span class=\"n\">content_type</span><span class=\"o\">=</span><span class=\"s1\">'file/text'</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"wsgi-request\">\n<h2>WSGI Request</h2>\n<h2 id=\"get-client-ip\"><span class=\"section-subtitle\">get_client_ip</span></h2>\n<p>Get the client IP from the request.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.wsgi_request</span> <span class=\"kn\">import</span> <span class=\"n\">get_client_ip</span>\n\n<span class=\"n\">ip</span> <span class=\"o\">=</span> <span class=\"n\">get_client_ip</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"management\">\n<h2>Management</h2>\n<div id=\"oneinstancecommand\">\n<h3>OneInstanceCommand</h3>\n<p>A management command which will be run only one instance of command with\nname <tt>name</tt>. No other command with name <tt>name</tt> can not be run in the\nsame time.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.management</span> <span class=\"kn\">import</span> <span class=\"n\">OneInstanceCommand</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Command</span><span class=\"p\">(</span><span class=\"n\">OneInstanceCommand</span><span class=\"p\">):</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s1\">'mycommand'</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">handle_instance</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">options</span><span class=\"p\">):</span>\n        <span class=\"c1\"># some operations</span>\n</pre>\n</div>\n<div id=\"nagioscheckcommand\">\n<h3>NagiosCheckCommand</h3>\n<p>A management command which perform a Nagios check.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_extra_tools.management</span> <span class=\"kn\">import</span> <span class=\"n\">NagiosCheckCommand</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Command</span><span class=\"p\">(</span><span class=\"n\">NagiosCheckCommand</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">handle_nagios_check</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">options</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">STATE_OK</span><span class=\"p\">,</span> <span class=\"s1\">'OK'</span>\n</pre>\n</div>\n</div>\n<div id=\"middleware\">\n<h2>Middleware</h2>\n<h2 id=\"xhrmiddleware\"><span class=\"section-subtitle\">XhrMiddleware</span></h2>\n<p>This middleware allows cross-domain XHR using the html5 postMessage API.</p>\n<pre><span class=\"n\">MIDDLEWARE_CLASSES</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'django_extra_tools.middleware.XhrMiddleware'</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">XHR_MIDDLEWARE_ALLOWED_ORIGINS</span> <span class=\"o\">=</span> <span class=\"s1\">'*'</span>\n<span class=\"n\">XHR_MIDDLEWARE_ALLOWED_METHODS</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'POST'</span><span class=\"p\">,</span> <span class=\"s1\">'GET'</span><span class=\"p\">,</span> <span class=\"s1\">'OPTIONS'</span><span class=\"p\">,</span> <span class=\"s1\">'PUT'</span><span class=\"p\">,</span> <span class=\"s1\">'DELETE'</span><span class=\"p\">]</span>\n<span class=\"n\">XHR_MIDDLEWARE_ALLOWED_HEADERS</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'Content-Type'</span><span class=\"p\">,</span> <span class=\"s1\">'Authorization'</span><span class=\"p\">,</span> <span class=\"s1\">'Location'</span><span class=\"p\">,</span> <span class=\"s1\">'*'</span><span class=\"p\">]</span>\n<span class=\"n\">XHR_MIDDLEWARE_ALLOWED_CREDENTIALS</span> <span class=\"o\">=</span> <span class=\"s1\">'true'</span>\n<span class=\"n\">XHR_MIDDLEWARE_EXPOSE_HEADERS</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'Location'</span><span class=\"p\">]</span>\n</pre>\n</div>\n\n          </div>"}, "last_serial": 2845874, "releases": {"0.1.0b2": [{"comment_text": "", "digests": {"md5": "ee06dc8299aa682de3ac9b001dd894b0", "sha256": "bf795424a01eadd09826e0e74d18df244ecb8a76066c20cbc8d0fb711663ccf5"}, "downloads": -1, "filename": "django_extra_tools-0.1.0b2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "ee06dc8299aa682de3ac9b001dd894b0", "packagetype": "bdist_wheel", "python_version": "3.5", "requires_python": null, "size": 21487, "upload_time": "2016-09-21T20:00:56", "upload_time_iso_8601": "2016-09-21T20:00:56.843148Z", "url": "https://files.pythonhosted.org/packages/f2/ff/30210e22178c9b731581052fe8b02a1a518f867db68924e8f0739de87494/django_extra_tools-0.1.0b2-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f2c6441a6e897abbf944206370b63753", "sha256": "dba9214f2621de900af28f11825c0249a7da5779142248824d6c61967f6776e6"}, "downloads": -1, "filename": "django-extra-tools-0.1.0b2.tar.gz", "has_sig": false, "md5_digest": "f2c6441a6e897abbf944206370b63753", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8313, "upload_time": "2016-09-21T20:00:27", "upload_time_iso_8601": "2016-09-21T20:00:27.017365Z", "url": "https://files.pythonhosted.org/packages/95/06/e792e02d299455d7b56ab5b0a4089973061b7260c8bc365e39fd585c3f1e/django-extra-tools-0.1.0b2.tar.gz", "yanked": false}], "0.2.0b1": [{"comment_text": "", "digests": {"md5": "d257126b792b51ab9d7ba37f97c51227", "sha256": "de30ce2948572920f0eea46c7520b0dcf8a94c5cbe4bb9a22e5f0c8752bd623c"}, "downloads": -1, "filename": "django_extra_tools-0.2.0b1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "d257126b792b51ab9d7ba37f97c51227", "packagetype": "bdist_wheel", "python_version": "3.5", "requires_python": null, "size": 22725, "upload_time": "2016-09-23T07:26:41", "upload_time_iso_8601": "2016-09-23T07:26:41.615722Z", "url": "https://files.pythonhosted.org/packages/68/d7/27349261bd0423cf8c2f6a699440659cc4588b58e5b7bbc5e5537c91e286/django_extra_tools-0.2.0b1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c2097edb06e1510f286536467c735ecd", "sha256": "cf425e857cc7d15384cac400a055f26f8fd3e3d83fa0dc410736736fd483083e"}, "downloads": -1, "filename": "django-extra-tools-0.2.0b1.tar.gz", "has_sig": false, "md5_digest": "c2097edb06e1510f286536467c735ecd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9123, "upload_time": "2016-09-23T07:26:38", "upload_time_iso_8601": "2016-09-23T07:26:38.695833Z", "url": "https://files.pythonhosted.org/packages/23/fd/4868c3d84cee9d3d53e2395b64aa4733b934e822e30b1313630c1309b353/django-extra-tools-0.2.0b1.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "29e147c661cfb0d2f87d7d68ef0ee433", "sha256": "b2b1b918912d8f62a1f560b5760057189e17ebeb18410cf8620599f0330fad67"}, "downloads": -1, "filename": "django_extra_tools-0.3.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "29e147c661cfb0d2f87d7d68ef0ee433", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 18583, "upload_time": "2017-05-02T08:28:12", "upload_time_iso_8601": "2017-05-02T08:28:12.841508Z", "url": "https://files.pythonhosted.org/packages/4b/6c/1052df17e91625a563d9855adfd5335eac774927a3357e21b671101d5470/django_extra_tools-0.3.0-py2.py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "29e147c661cfb0d2f87d7d68ef0ee433", "sha256": "b2b1b918912d8f62a1f560b5760057189e17ebeb18410cf8620599f0330fad67"}, "downloads": -1, "filename": "django_extra_tools-0.3.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "29e147c661cfb0d2f87d7d68ef0ee433", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 18583, "upload_time": "2017-05-02T08:28:12", "upload_time_iso_8601": "2017-05-02T08:28:12.841508Z", "url": "https://files.pythonhosted.org/packages/4b/6c/1052df17e91625a563d9855adfd5335eac774927a3357e21b671101d5470/django_extra_tools-0.3.0-py2.py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 00:36:15 2020"}
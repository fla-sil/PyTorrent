{"info": {"author": "John Reese", "author_email": "john@noswap.com", "bugtrack_url": null, "classifiers": ["Development Status :: 1 - Planning", "Framework :: AsyncIO", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Software Development :: Libraries"], "description": "aql\n===\n\nsimple query generator for modern python\n\n[![build status](https://github.com/jreese/aql/workflows/Build/badge.svg)](https://github.com/jreese/aql/actions)\n[![code coverage](https://img.shields.io/codecov/c/gh/jreese/aql)](https://codecov.io/gh/jreese/aql)\n[![version](https://img.shields.io/pypi/v/aql.svg)](https://pypi.org/project/aql)\n[![license](https://img.shields.io/pypi/l/aql.svg)](https://github.com/jreese/aql/blob/master/LICENSE)\n[![code style](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/ambv/black)\n\n\nHighlights\n----------\n\naql is a simple, modern, and composable query builder, with support for asynchronous\nexecution of queries against multiple database backends using a unified API.\naql uses modern, type annotated data structures for both table definitions and queries.\n\nDefine tables:\n\n```python\n@table(\"objects\")\nclass Object:\n    id: PrimaryKey[AutoIncrement[int]]\n    name: Unique[str]\n    description: text\n    created: datetime\n```\n\nBuild queries:\n\n```python\nquery = (\n    Object.select()\n    .where(Object.id >= 25)\n    .order_by(Object.name)\n    .limit(5)\n)\n\nsql, params = SqlEngine.prepare(query)\n# \"select * from `objects` where `id` >= ? order by `name` asc limit 5\", (25)\n```\n\nExecute queries:\n\n```python\nasync with connect(...) as db:\n    cursor = db.execute(Object.select().where(Object.id < 100))\n    async for row in cursor:\n        print(f\"{row.id} {row.name} {row.description}\")\n```\n\nSimple actions:\n\n```python\nasync with connect(...) as db:\n    rows = await db.get(Object, Object.id == 100)\n    rows[0].description += \"updated\"\n\n    await db.modify(Object, rows)\n```\n\n\nLicense\n-------\n\naql is copyright [John Reese](https://jreese.sh), and licensed under\nthe MIT license.  I am providing code in this repository to you under an open\nsource license.  This is my personal repository; the license you receive to\nmy code is from me and not from my employer. See the `LICENSE` file for details.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/jreese/aql", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "aql", "package_url": "https://pypi.org/project/aql/", "platform": "", "project_url": "https://pypi.org/project/aql/", "project_urls": {"Homepage": "https://github.com/jreese/aql"}, "release_url": "https://pypi.org/project/aql/0.1.1/", "requires_dist": null, "requires_python": "", "summary": "asyncio query generator", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>aql</h1>\n<p>simple query generator for modern python</p>\n<p><a href=\"https://github.com/jreese/aql/actions\" rel=\"nofollow\"><img alt=\"build status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0d51e931732d76d8c6a12e5608de7e396c0c55de/68747470733a2f2f6769746875622e636f6d2f6a72656573652f61716c2f776f726b666c6f77732f4275696c642f62616467652e737667\"></a>\n<a href=\"https://codecov.io/gh/jreese/aql\" rel=\"nofollow\"><img alt=\"code coverage\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/de427dc4dd1f8fe51e48e599d315483a0b6202a8/68747470733a2f2f696d672e736869656c64732e696f2f636f6465636f762f632f67682f6a72656573652f61716c\"></a>\n<a href=\"https://pypi.org/project/aql\" rel=\"nofollow\"><img alt=\"version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ebb6148608069ed17148e91c08d9d6a5365ab6d1/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f61716c2e737667\"></a>\n<a href=\"https://github.com/jreese/aql/blob/master/LICENSE\" rel=\"nofollow\"><img alt=\"license\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a72cf93eb1baecc91afb4e54070683e6d9370eaa/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f61716c2e737667\"></a>\n<a href=\"https://github.com/ambv/black\" rel=\"nofollow\"><img alt=\"code style\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fbfdc7754183ecf079bc71ddeabaf88f6cbc5c00/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c61636b2d3030303030302e737667\"></a></p>\n<h2>Highlights</h2>\n<p>aql is a simple, modern, and composable query builder, with support for asynchronous\nexecution of queries against multiple database backends using a unified API.\naql uses modern, type annotated data structures for both table definitions and queries.</p>\n<p>Define tables:</p>\n<pre><span class=\"nd\">@table</span><span class=\"p\">(</span><span class=\"s2\">\"objects\"</span><span class=\"p\">)</span>\n<span class=\"k\">class</span> <span class=\"nc\">Object</span><span class=\"p\">:</span>\n    <span class=\"nb\">id</span><span class=\"p\">:</span> <span class=\"n\">PrimaryKey</span><span class=\"p\">[</span><span class=\"n\">AutoIncrement</span><span class=\"p\">[</span><span class=\"nb\">int</span><span class=\"p\">]]</span>\n    <span class=\"n\">name</span><span class=\"p\">:</span> <span class=\"n\">Unique</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]</span>\n    <span class=\"n\">description</span><span class=\"p\">:</span> <span class=\"n\">text</span>\n    <span class=\"n\">created</span><span class=\"p\">:</span> <span class=\"n\">datetime</span>\n</pre>\n<p>Build queries:</p>\n<pre><span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"n\">Object</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span>\n    <span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">Object</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">25</span><span class=\"p\">)</span>\n    <span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Object</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n    <span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">sql</span><span class=\"p\">,</span> <span class=\"n\">params</span> <span class=\"o\">=</span> <span class=\"n\">SqlEngine</span><span class=\"o\">.</span><span class=\"n\">prepare</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">)</span>\n<span class=\"c1\"># \"select * from `objects` where `id` &gt;= ? order by `name` asc limit 5\", (25)</span>\n</pre>\n<p>Execute queries:</p>\n<pre><span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">db</span><span class=\"p\">:</span>\n    <span class=\"n\">cursor</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">Object</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">Object</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">&lt;</span> <span class=\"mi\">100</span><span class=\"p\">))</span>\n    <span class=\"k\">async</span> <span class=\"k\">for</span> <span class=\"n\">row</span> <span class=\"ow\">in</span> <span class=\"n\">cursor</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">\"</span><span class=\"si\">{</span><span class=\"n\">row</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"si\">}</span><span class=\"s2\"> </span><span class=\"si\">{</span><span class=\"n\">row</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"si\">}</span><span class=\"s2\"> </span><span class=\"si\">{</span><span class=\"n\">row</span><span class=\"o\">.</span><span class=\"n\">description</span><span class=\"si\">}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n</pre>\n<p>Simple actions:</p>\n<pre><span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">db</span><span class=\"p\">:</span>\n    <span class=\"n\">rows</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">Object</span><span class=\"p\">,</span> <span class=\"n\">Object</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">==</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n    <span class=\"n\">rows</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">description</span> <span class=\"o\">+=</span> <span class=\"s2\">\"updated\"</span>\n\n    <span class=\"k\">await</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">modify</span><span class=\"p\">(</span><span class=\"n\">Object</span><span class=\"p\">,</span> <span class=\"n\">rows</span><span class=\"p\">)</span>\n</pre>\n<h2>License</h2>\n<p>aql is copyright <a href=\"https://jreese.sh\" rel=\"nofollow\">John Reese</a>, and licensed under\nthe MIT license.  I am providing code in this repository to you under an open\nsource license.  This is my personal repository; the license you receive to\nmy code is from me and not from my employer. See the <code>LICENSE</code> file for details.</p>\n\n          </div>"}, "last_serial": 6639059, "releases": {"0.0.0": [{"comment_text": "", "digests": {"md5": "a87b1a07fc243791e037541e7c857fde", "sha256": "657b551137e349ae5ee4ae5bbb0042e727d195ecc8adbd12e88286933778c819"}, "downloads": -1, "filename": "aql-0.0.0.tar.gz", "has_sig": false, "md5_digest": "a87b1a07fc243791e037541e7c857fde", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2372, "upload_time": "2018-09-05T23:45:38", "upload_time_iso_8601": "2018-09-05T23:45:38.683570Z", "url": "https://files.pythonhosted.org/packages/e3/6e/8b8f85aa39b0325ce49f352eddc7b9c428851080232ca2027bc1a8131239/aql-0.0.0.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "7cfcd28b982ec4638fb2574c94d67cc9", "sha256": "9d2e9624df53db3b4de78c38a8d673f507030e53e2ffe1cd6a8a9dc0814b587f"}, "downloads": -1, "filename": "aql-0.1.0.tar.gz", "has_sig": false, "md5_digest": "7cfcd28b982ec4638fb2574c94d67cc9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15435, "upload_time": "2020-02-16T05:09:46", "upload_time_iso_8601": "2020-02-16T05:09:46.578668Z", "url": "https://files.pythonhosted.org/packages/86/3e/10ba38416241c8f92b0bec42ccc1e34b7c8e4496e52d42a059e6ad7ad68d/aql-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "b098a15958c00f31ad3891d8c6c84491", "sha256": "c1226b1aff7e9a323cc2f038225eb8b0d389ecac2fa3c63576aa86b072a84989"}, "downloads": -1, "filename": "aql-0.1.1.tar.gz", "has_sig": false, "md5_digest": "b098a15958c00f31ad3891d8c6c84491", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15625, "upload_time": "2020-02-16T06:14:54", "upload_time_iso_8601": "2020-02-16T06:14:54.101590Z", "url": "https://files.pythonhosted.org/packages/da/a0/a131e3c5ae5b6f6adb0c3b86a90879ea35ac8e4b3b8cd6cfcaa954e33664/aql-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b098a15958c00f31ad3891d8c6c84491", "sha256": "c1226b1aff7e9a323cc2f038225eb8b0d389ecac2fa3c63576aa86b072a84989"}, "downloads": -1, "filename": "aql-0.1.1.tar.gz", "has_sig": false, "md5_digest": "b098a15958c00f31ad3891d8c6c84491", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15625, "upload_time": "2020-02-16T06:14:54", "upload_time_iso_8601": "2020-02-16T06:14:54.101590Z", "url": "https://files.pythonhosted.org/packages/da/a0/a131e3c5ae5b6f6adb0c3b86a90879ea35ac8e4b3b8cd6cfcaa954e33664/aql-0.1.1.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:17:28 2020"}
{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3"], "description": "# Discord Health Check\n\nA small library and command line app to automate Docker health checks for [discord.py](https://discordpy.readthedocs.io/en/latest/) bots.\n\n## How it works\n\nThe library has 1 function, `start`. This takes a `discord.Client` object as well as optional parameters. This function\ncreates a TCP socket server and when a client connects, it tests the discord client for various things that indicate\nits health. The result of this health check is then sent to the client.\n\nThe CLI app is a simple client that connects to the server and determines its exit code from what the server sends.\n\n## Installation\n\n`pip install discordhealthcheck`\n\nThis will install both the Python library and the command line app.\n\nThe default server port is `40404`.\n\n## Usage\n\n### Python Library\n\n```python\nimport discord\nimport discordhealthcheck\n\nclass ExampleClient(discord.Client):\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n\n        discordhealthcheck.start(self)\n```\n\nor\n\n```python\nimport discord\nimport discordhealthcheck\n\nclient = discord.Client()\ndiscordhealthcheck.start(client)\n\n@client.event\nasync def on_ready():\n    print(\"Logged in\")\n```\n\n### Command Line App (in Dockerfile)\n\n```dockerfile\nFROM python:3.8-slim-buster\n\n# Copy files, install requirements, setup bot, etc.\n# Make sure `pip install discordhealthcheck` happens\n\nHEALTHCHECK CMD discordhealthcheck || exit 1\n\nCMD [\"python\",\"./path/to/bot/main.py\"]\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/psidex/discordhealthcheck", "keywords": "discord discord.py docker healthcheck health check bot", "license": "", "maintainer": "", "maintainer_email": "", "name": "discordhealthcheck", "package_url": "https://pypi.org/project/discordhealthcheck/", "platform": "", "project_url": "https://pypi.org/project/discordhealthcheck/", "project_urls": {"Homepage": "https://github.com/psidex/discordhealthcheck"}, "release_url": "https://pypi.org/project/discordhealthcheck/0.0.2/", "requires_dist": ["discord.py"], "requires_python": "", "summary": "A small library and command line app to automate Docker health checks for discord.py bots.", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Discord Health Check</h1>\n<p>A small library and command line app to automate Docker health checks for <a href=\"https://discordpy.readthedocs.io/en/latest/\" rel=\"nofollow\">discord.py</a> bots.</p>\n<h2>How it works</h2>\n<p>The library has 1 function, <code>start</code>. This takes a <code>discord.Client</code> object as well as optional parameters. This function\ncreates a TCP socket server and when a client connects, it tests the discord client for various things that indicate\nits health. The result of this health check is then sent to the client.</p>\n<p>The CLI app is a simple client that connects to the server and determines its exit code from what the server sends.</p>\n<h2>Installation</h2>\n<p><code>pip install discordhealthcheck</code></p>\n<p>This will install both the Python library and the command line app.</p>\n<p>The default server port is <code>40404</code>.</p>\n<h2>Usage</h2>\n<h3>Python Library</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">discord</span>\n<span class=\"kn\">import</span> <span class=\"nn\">discordhealthcheck</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">ExampleClient</span><span class=\"p\">(</span><span class=\"n\">discord</span><span class=\"o\">.</span><span class=\"n\">Client</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n\n        <span class=\"n\">discordhealthcheck</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span>\n</pre>\n<p>or</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">discord</span>\n<span class=\"kn\">import</span> <span class=\"nn\">discordhealthcheck</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">discord</span><span class=\"o\">.</span><span class=\"n\">Client</span><span class=\"p\">()</span>\n<span class=\"n\">discordhealthcheck</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">(</span><span class=\"n\">client</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@client</span><span class=\"o\">.</span><span class=\"n\">event</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">on_ready</span><span class=\"p\">():</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Logged in\"</span><span class=\"p\">)</span>\n</pre>\n<h3>Command Line App (in Dockerfile)</h3>\n<pre><span class=\"k\">FROM</span> <span class=\"s\">python:3.8-slim-buster</span>\n\n<span class=\"c\"># Copy files, install requirements, setup bot, etc.</span>\n<span class=\"c\"># Make sure `pip install discordhealthcheck` happens</span>\n\n<span class=\"k\">HEALTHCHECK</span> CMD discordhealthcheck <span class=\"o\">||</span> <span class=\"nb\">exit</span> <span class=\"m\">1</span>\n\n<span class=\"k\">CMD</span> <span class=\"p\">[</span><span class=\"s2\">\"python\"</span><span class=\"p\">,</span><span class=\"s2\">\"./path/to/bot/main.py\"</span><span class=\"p\">]</span>\n</pre>\n\n          </div>"}, "last_serial": 7161326, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "e5b2f807d3b3bf1096bda572f603aa51", "sha256": "825948f015a78286be8da59a2132d6a1c2ba4695ad0b8a695abc67540d751cf1"}, "downloads": -1, "filename": "discordhealthcheck-0.0.1-py3.8.egg", "has_sig": false, "md5_digest": "e5b2f807d3b3bf1096bda572f603aa51", "packagetype": "bdist_egg", "python_version": "3.8", "requires_python": null, "size": 4947, "upload_time": "2020-05-04T02:06:53", "upload_time_iso_8601": "2020-05-04T02:06:53.299259Z", "url": "https://files.pythonhosted.org/packages/5a/9c/e43b93836d9bf1f2292e348af3961c394a7f5ab54ae4d8d7af9df5272d28/discordhealthcheck-0.0.1-py3.8.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "fd99045e036a86b89ea6aeebb1d49f94", "sha256": "d05a5852130f17bec16f5ec8ba1ed3af0430e824ac98ac5495d058fd6206f442"}, "downloads": -1, "filename": "discordhealthcheck-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "fd99045e036a86b89ea6aeebb1d49f94", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4723, "upload_time": "2020-05-04T02:06:51", "upload_time_iso_8601": "2020-05-04T02:06:51.167895Z", "url": "https://files.pythonhosted.org/packages/09/2d/651a1833bb16eb12cca70ff51c53c5ca85b9e51ce9c5a13b130e521dddcc/discordhealthcheck-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "85f57f5507ed54b1e7e5186dc47188d8", "sha256": "bd67a3bff4d9ce5545586fd85635e550978dd368a86431c7da2ba39d1a089ef8"}, "downloads": -1, "filename": "discordhealthcheck-0.0.1.tar.gz", "has_sig": false, "md5_digest": "85f57f5507ed54b1e7e5186dc47188d8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3463, "upload_time": "2020-05-04T02:06:55", "upload_time_iso_8601": "2020-05-04T02:06:55.240666Z", "url": "https://files.pythonhosted.org/packages/43/46/3011dad818a7b104b7048c811bed1771da253f9c1d3c84c2245b21749b42/discordhealthcheck-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "2b56f8573d1bc408762064cb3c1137e3", "sha256": "6659e85735340f958b74940bb5b1a1b609324f962d85ab661f3176e89c40f7cb"}, "downloads": -1, "filename": "discordhealthcheck-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "2b56f8573d1bc408762064cb3c1137e3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4727, "upload_time": "2020-05-04T04:18:39", "upload_time_iso_8601": "2020-05-04T04:18:39.507193Z", "url": "https://files.pythonhosted.org/packages/23/c4/cbde0a5e9118d7e237f4e919a05bda220c30d7fd6e04d71ceb3e62801454/discordhealthcheck-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6808234802e91430b3b0ae267e7a7e6b", "sha256": "3958edf6d71e98c5808d07f945b7caf38206283c5a633c0ba42fd576b85f5dc2"}, "downloads": -1, "filename": "discordhealthcheck-0.0.2.tar.gz", "has_sig": false, "md5_digest": "6808234802e91430b3b0ae267e7a7e6b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3464, "upload_time": "2020-05-04T04:18:42", "upload_time_iso_8601": "2020-05-04T04:18:42.091618Z", "url": "https://files.pythonhosted.org/packages/a1/37/4537d8b7a251cf7a0b16aaa00f498b5028b789d51f15160f93a4cc8ad9da/discordhealthcheck-0.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "2b56f8573d1bc408762064cb3c1137e3", "sha256": "6659e85735340f958b74940bb5b1a1b609324f962d85ab661f3176e89c40f7cb"}, "downloads": -1, "filename": "discordhealthcheck-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "2b56f8573d1bc408762064cb3c1137e3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4727, "upload_time": "2020-05-04T04:18:39", "upload_time_iso_8601": "2020-05-04T04:18:39.507193Z", "url": "https://files.pythonhosted.org/packages/23/c4/cbde0a5e9118d7e237f4e919a05bda220c30d7fd6e04d71ceb3e62801454/discordhealthcheck-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6808234802e91430b3b0ae267e7a7e6b", "sha256": "3958edf6d71e98c5808d07f945b7caf38206283c5a633c0ba42fd576b85f5dc2"}, "downloads": -1, "filename": "discordhealthcheck-0.0.2.tar.gz", "has_sig": false, "md5_digest": "6808234802e91430b3b0ae267e7a7e6b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3464, "upload_time": "2020-05-04T04:18:42", "upload_time_iso_8601": "2020-05-04T04:18:42.091618Z", "url": "https://files.pythonhosted.org/packages/a1/37/4537d8b7a251cf7a0b16aaa00f498b5028b789d51f15160f93a4cc8ad9da/discordhealthcheck-0.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:38:12 2020"}
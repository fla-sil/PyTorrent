{"info": {"author": "zencore", "author_email": "dobetter@zencore.cn", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3 :: Only", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "django-db-lock\n==============\n\nLock something and keep status in database.\n\n\nInstall\n-------\n\n::\n\n    pip install django-db-lock\n\n\nSettings\n--------\n\n::\n\n    INSTALLED_APPS = [\n        ...\n        'django_db_lock',\n        ...\n    ]\n\n\nUse inside project\n------------------\n\n::\n\n    import uuid\n    from django_db_lock import acquire_lock\n    from django_db_lock import release_lock\n\n    def view01(request):\n        lock_name = \"view01lock\"\n        worker_name = str(uuid.uuid4())\n        timeout = 10\n        locked = acquire_lock(lock_name, worker_name, timeout)\n        if locked:\n            try:\n                ....\n            finally:\n                release_lock(lock_name, worker_name)\n        ...\n\nUse outout project\n------------------\n\n::\n\n    import requests\n\n    def view02(request):\n        data = {\n            \"lock_name\": \"view02lock\",\n            \"worker_name\": str(uuid.uuid4()),\n            \"timeout\": 10,\n        }\n        response = request.post(\"http://api.server/system/dblock/acquire-lock\", data=data)\n        if response[\"result\"]:\n            try:\n                ....\n            finally:\n                request.post(\"http://api.server/system/dblock/acquire-lock\", data=data)\n        ...\n\nApplication options' in settings.py\n-----------------------------------\n\n- REGISTER_DJANGO_DB_LOCK_ADMIN\n\n    Register LockAdmin in django's default admin site. Default to False.\n\n- ENABLE_DJANGO_DB_LOCK_CSRF_PROTECT\n\n    Enable csrf-protect for django-db-lock's views. Default to False.\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/appstore-zencore/django-db-lock", "keywords": "django-db-lock", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "django-db-lock", "package_url": "https://pypi.org/project/django-db-lock/", "platform": "", "project_url": "https://pypi.org/project/django-db-lock/", "project_urls": {"Homepage": "https://github.com/appstore-zencore/django-db-lock"}, "release_url": "https://pypi.org/project/django-db-lock/0.1.1/", "requires_dist": null, "requires_python": "", "summary": "Lock something and keep status in database.", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Lock something and keep status in database.</p>\n<div id=\"install\">\n<h2>Install</h2>\n<pre>pip install django-db-lock\n</pre>\n</div>\n<div id=\"settings\">\n<h2>Settings</h2>\n<pre>INSTALLED_APPS = [\n    ...\n    'django_db_lock',\n    ...\n]\n</pre>\n</div>\n<div id=\"use-inside-project\">\n<h2>Use inside project</h2>\n<pre>import uuid\nfrom django_db_lock import acquire_lock\nfrom django_db_lock import release_lock\n\ndef view01(request):\n    lock_name = \"view01lock\"\n    worker_name = str(uuid.uuid4())\n    timeout = 10\n    locked = acquire_lock(lock_name, worker_name, timeout)\n    if locked:\n        try:\n            ....\n        finally:\n            release_lock(lock_name, worker_name)\n    ...\n</pre>\n</div>\n<div id=\"use-outout-project\">\n<h2>Use outout project</h2>\n<pre>import requests\n\ndef view02(request):\n    data = {\n        \"lock_name\": \"view02lock\",\n        \"worker_name\": str(uuid.uuid4()),\n        \"timeout\": 10,\n    }\n    response = request.post(\"http://api.server/system/dblock/acquire-lock\", data=data)\n    if response[\"result\"]:\n        try:\n            ....\n        finally:\n            request.post(\"http://api.server/system/dblock/acquire-lock\", data=data)\n    ...\n</pre>\n</div>\n<div id=\"application-options-in-settings-py\">\n<h2>Application options\u2019 in settings.py</h2>\n<ul>\n<li><p>REGISTER_DJANGO_DB_LOCK_ADMIN</p>\n<blockquote>\n<p>Register LockAdmin in django\u2019s default admin site. Default to False.</p>\n</blockquote>\n</li>\n<li><p>ENABLE_DJANGO_DB_LOCK_CSRF_PROTECT</p>\n<blockquote>\n<p>Enable csrf-protect for django-db-lock\u2019s views. Default to False.</p>\n</blockquote>\n</li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 3852783, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "2d26fa14cae1511314b1ddb747ff15d4", "sha256": "cf75a2fdccf16fc246e0e81cbf5a9a1ba353aa428343f3f59b9d24ba8f257a00"}, "downloads": -1, "filename": "django-db-lock-0.1.0.tar.gz", "has_sig": false, "md5_digest": "2d26fa14cae1511314b1ddb747ff15d4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5369, "upload_time": "2018-05-10T09:57:24", "upload_time_iso_8601": "2018-05-10T09:57:24.266813Z", "url": "https://files.pythonhosted.org/packages/2a/34/5c0acce3f1945f09862120e962fd2ee9ede0b3d8a7808e70473a467ba6d6/django-db-lock-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "1610836278ed8715b167596530df81cf", "sha256": "37412c5c012cf7ad243bb706b363f56f3565c5c2d202af9e238949cc0a3246ee"}, "downloads": -1, "filename": "django-db-lock-0.1.1.tar.gz", "has_sig": false, "md5_digest": "1610836278ed8715b167596530df81cf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5567, "upload_time": "2018-05-11T03:39:49", "upload_time_iso_8601": "2018-05-11T03:39:49.795333Z", "url": "https://files.pythonhosted.org/packages/02/cd/04c3088d915ede31afd8a51a32c6364fa9fe66f63d933f799db93a4675ab/django-db-lock-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "1610836278ed8715b167596530df81cf", "sha256": "37412c5c012cf7ad243bb706b363f56f3565c5c2d202af9e238949cc0a3246ee"}, "downloads": -1, "filename": "django-db-lock-0.1.1.tar.gz", "has_sig": false, "md5_digest": "1610836278ed8715b167596530df81cf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5567, "upload_time": "2018-05-11T03:39:49", "upload_time_iso_8601": "2018-05-11T03:39:49.795333Z", "url": "https://files.pythonhosted.org/packages/02/cd/04c3088d915ede31afd8a51a32c6364fa9fe66f63d933f799db93a4675ab/django-db-lock-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:36:39 2020"}
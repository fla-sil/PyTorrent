{"info": {"author": "Mark Reed", "author_email": "markreed99@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: MacOS :: MacOS X", "Operating System :: POSIX :: Linux", "Programming Language :: C", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: Implementation :: CPython", "Topic :: Internet :: WWW/HTTP"], "description": "# MrWorkServer\nA simple clustered python 3.5+ asyncio based work server that uses the MrQ interface.\n\n# Example\n\n```python\n\nimport asyncio\nimport mrworkserver\n\nasync def callback(msgs):\n  print(\"Callback:\")\n  for m in msgs:\n    print(m)\n\nws = mrworkserver.WorkServer()\nws.cb = callback\nws.run()\n\n\n```\n\n# Example client\n\n```python\n\n# pip install asyncmrq mrjson\n\nimport asyncio\nfrom mrq.client import Client\nimport mrjson\n\nasync def run(loop):\n  c = Client()\n  await c.connect(io_loop=loop,servers=[(\"127.0.0.1\",7100)])\n\n  msg = mrjson.dumpb([1,2,3,4,5,6,7,8,9,10])\n  for x in range(10):\n    await c.push( 0, 0, msg, len(msg) )\n\n  await asyncio.sleep(1)\n  await c.close()\n\nif __name__ == '__main__':\n  loop = asyncio.get_event_loop()\n  loop.run_until_complete(run(loop))\n  loop.close()\n\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/MarkReedZ/mrworkserver/", "keywords": "web,asyncio", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "mrworkserver", "package_url": "https://pypi.org/project/mrworkserver/", "platform": "x86_64 Linux and MacOS X", "project_url": "https://pypi.org/project/mrworkserver/", "project_urls": {"Homepage": "http://github.com/MarkReedZ/mrworkserver/"}, "release_url": "https://pypi.org/project/mrworkserver/0.7/", "requires_dist": null, "requires_python": "", "summary": "A python work server written in C", "version": "0.7", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>MrWorkServer</h1>\n<p>A simple clustered python 3.5+ asyncio based work server that uses the MrQ interface.</p>\n<h1>Example</h1>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">import</span> <span class=\"nn\">mrworkserver</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">callback</span><span class=\"p\">(</span><span class=\"n\">msgs</span><span class=\"p\">):</span>\n  <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Callback:\"</span><span class=\"p\">)</span>\n  <span class=\"k\">for</span> <span class=\"n\">m</span> <span class=\"ow\">in</span> <span class=\"n\">msgs</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">m</span><span class=\"p\">)</span>\n\n<span class=\"n\">ws</span> <span class=\"o\">=</span> <span class=\"n\">mrworkserver</span><span class=\"o\">.</span><span class=\"n\">WorkServer</span><span class=\"p\">()</span>\n<span class=\"n\">ws</span><span class=\"o\">.</span><span class=\"n\">cb</span> <span class=\"o\">=</span> <span class=\"n\">callback</span>\n<span class=\"n\">ws</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n</pre>\n<h1>Example client</h1>\n<pre><span class=\"c1\"># pip install asyncmrq mrjson</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">from</span> <span class=\"nn\">mrq.client</span> <span class=\"kn\">import</span> <span class=\"n\">Client</span>\n<span class=\"kn\">import</span> <span class=\"nn\">mrjson</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">run</span><span class=\"p\">(</span><span class=\"n\">loop</span><span class=\"p\">):</span>\n  <span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">Client</span><span class=\"p\">()</span>\n  <span class=\"k\">await</span> <span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"n\">io_loop</span><span class=\"o\">=</span><span class=\"n\">loop</span><span class=\"p\">,</span><span class=\"n\">servers</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s2\">\"127.0.0.1\"</span><span class=\"p\">,</span><span class=\"mi\">7100</span><span class=\"p\">)])</span>\n\n  <span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"n\">mrjson</span><span class=\"o\">.</span><span class=\"n\">dumpb</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">8</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"mi\">10</span><span class=\"p\">])</span>\n  <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n    <span class=\"k\">await</span> <span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">push</span><span class=\"p\">(</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">msg</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">)</span> <span class=\"p\">)</span>\n\n  <span class=\"k\">await</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n  <span class=\"k\">await</span> <span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n  <span class=\"n\">loop</span> <span class=\"o\">=</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">get_event_loop</span><span class=\"p\">()</span>\n  <span class=\"n\">loop</span><span class=\"o\">.</span><span class=\"n\">run_until_complete</span><span class=\"p\">(</span><span class=\"n\">run</span><span class=\"p\">(</span><span class=\"n\">loop</span><span class=\"p\">))</span>\n  <span class=\"n\">loop</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre>\n\n          </div>"}, "last_serial": 4474333, "releases": {"0.2": [{"comment_text": "", "digests": {"md5": "5abccdb9b8f575c8f8857fa498907862", "sha256": "3197f68a0752e1d83bba7b88910e83f07b45180fe259775759de559ca15a08c6"}, "downloads": -1, "filename": "mrworkserver-0.2-py3.6-linux-x86_64.egg", "has_sig": false, "md5_digest": "5abccdb9b8f575c8f8857fa498907862", "packagetype": "bdist_egg", "python_version": "3.6", "requires_python": null, "size": 55025, "upload_time": "2018-08-10T01:09:30", "upload_time_iso_8601": "2018-08-10T01:09:30.924899Z", "url": "https://files.pythonhosted.org/packages/53/08/5a97fefcb3f0652afc36ea3c3b73347a8df2b59434d9e253c5bc426d94f6/mrworkserver-0.2-py3.6-linux-x86_64.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "a130d286a91328f8a4ea3b68a193c25e", "sha256": "8d3561449cfaec29a633c2aea8b2b7a3347659f66fea2e9cec0f1df6bc8d5dfc"}, "downloads": -1, "filename": "mrworkserver-0.2.tar.gz", "has_sig": false, "md5_digest": "a130d286a91328f8a4ea3b68a193c25e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10186, "upload_time": "2018-08-10T01:09:32", "upload_time_iso_8601": "2018-08-10T01:09:32.445889Z", "url": "https://files.pythonhosted.org/packages/eb/04/253316db7dfe6217ebe4040b2d4741ff4fc1af447586d617f8f945d187d4/mrworkserver-0.2.tar.gz", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "a98af1064dd7f4aa9f74f1d3ec7e617d", "sha256": "71a42c3e2fe1e6547a17d55f4e7767de321a476f34da47b28f0e5f343336c419"}, "downloads": -1, "filename": "mrworkserver-0.3.tar.gz", "has_sig": false, "md5_digest": "a98af1064dd7f4aa9f74f1d3ec7e617d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12832, "upload_time": "2018-08-10T01:17:03", "upload_time_iso_8601": "2018-08-10T01:17:03.938326Z", "url": "https://files.pythonhosted.org/packages/22/cf/2fb2de03a212be5944e8a4f9dfd36a244a4cfcbe39c7548bd5533f2e43b2/mrworkserver-0.3.tar.gz", "yanked": false}], "0.4": [{"comment_text": "", "digests": {"md5": "f6e66faad92c90046c350a4fb93332a7", "sha256": "e70ab28c9834393a59c2616ffabc4b66329e954c110b46bc9109b9a4c9094089"}, "downloads": -1, "filename": "mrworkserver-0.4.tar.gz", "has_sig": false, "md5_digest": "f6e66faad92c90046c350a4fb93332a7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13078, "upload_time": "2018-08-26T16:32:33", "upload_time_iso_8601": "2018-08-26T16:32:33.110239Z", "url": "https://files.pythonhosted.org/packages/e3/a2/850c5f2f3af4662c9ed00e8be7fa456051b6c8136388faa1ae935e1019d8/mrworkserver-0.4.tar.gz", "yanked": false}], "0.5": [{"comment_text": "", "digests": {"md5": "5dd248685003a77da880a99e221177fb", "sha256": "44a29fb5c64a0fc4f512969cade89bd02936066942aea2cda0af64046c4f2beb"}, "downloads": -1, "filename": "mrworkserver-0.5.tar.gz", "has_sig": false, "md5_digest": "5dd248685003a77da880a99e221177fb", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13961, "upload_time": "2018-08-27T20:04:39", "upload_time_iso_8601": "2018-08-27T20:04:39.381473Z", "url": "https://files.pythonhosted.org/packages/2c/63/27b6d3ba8fd6fada8120b9a2f6c8ac3eb7166aa7d1891ce53f1f50780ca3/mrworkserver-0.5.tar.gz", "yanked": false}], "0.6": [{"comment_text": "", "digests": {"md5": "bcbb9270fbcb2ac1babd8b0398a49f29", "sha256": "824882212be736ce4ad9179fc020d9cff5f1cafb945bbb75f91a331b9a466161"}, "downloads": -1, "filename": "mrworkserver-0.6.tar.gz", "has_sig": false, "md5_digest": "bcbb9270fbcb2ac1babd8b0398a49f29", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17568, "upload_time": "2018-10-16T22:39:18", "upload_time_iso_8601": "2018-10-16T22:39:18.061559Z", "url": "https://files.pythonhosted.org/packages/96/70/25484ca3fa1c013904dc6e1e0f65918cdbea522f274090692eeb2b20593c/mrworkserver-0.6.tar.gz", "yanked": false}], "0.7": [{"comment_text": "", "digests": {"md5": "2a09bf350594d95d40ec3f8e837807d6", "sha256": "074736ff65e90da1023b5d2594f768b0c823139a2499e3af3e0745eb5fdbf1ed"}, "downloads": -1, "filename": "mrworkserver-0.7.tar.gz", "has_sig": false, "md5_digest": "2a09bf350594d95d40ec3f8e837807d6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17978, "upload_time": "2018-11-11T13:56:31", "upload_time_iso_8601": "2018-11-11T13:56:31.690598Z", "url": "https://files.pythonhosted.org/packages/4e/d8/a69ed1d8afb55557e9608462bc20aaad5e11f505fb3e18c058d62196556c/mrworkserver-0.7.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "2a09bf350594d95d40ec3f8e837807d6", "sha256": "074736ff65e90da1023b5d2594f768b0c823139a2499e3af3e0745eb5fdbf1ed"}, "downloads": -1, "filename": "mrworkserver-0.7.tar.gz", "has_sig": false, "md5_digest": "2a09bf350594d95d40ec3f8e837807d6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17978, "upload_time": "2018-11-11T13:56:31", "upload_time_iso_8601": "2018-11-11T13:56:31.690598Z", "url": "https://files.pythonhosted.org/packages/4e/d8/a69ed1d8afb55557e9608462bc20aaad5e11f505fb3e18c058d62196556c/mrworkserver-0.7.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:50:57 2020"}
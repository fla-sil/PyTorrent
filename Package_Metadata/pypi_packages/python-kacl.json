{"info": {"author": "Matthias Schmieder", "author_email": "schmieder.matthias@gmail.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Topic :: Software Development :: Version Control"], "description": "# python-kacl\n\n[![Build Status](https://travis-ci.org/mschmieder/python-kacl.svg?branch=master)](https://travis-ci.org/mschmieder/python-kacl)\n[![Coverage](https://sonarcloud.io/api/project_badges/measure?project=mschmieder_python-kacl&metric=coverage)](https://sonarcloud.io/dashboard?id=mschmieder_python-kacl)\n[![Maintainability Rating](https://sonarcloud.io/api/project_badges/measure?project=mschmieder_python-kacl&metric=sqale_rating)](https://sonarcloud.io/dashboard?id=mschmieder_python-kacl)\n\nA tool for verifying and modifying changelog in the [**K**eep-**A-C**hange-**L**og](https://keepachangelog.com/en/1.0.0/) format.\n\n- [python-kacl](#python-kacl)\n  - [Installation](#installation)\n    - [From Source](#from-source)\n    - [Pip Package](#pip-package)\n    - [Docker](#docker)\n  - [CLI](#cli)\n  - [Create a Changelog](#create-a-changelog)\n  - [Verify a Changelog](#verify-a-changelog)\n  - [Print a single release changelog](#print-a-single-release-changelog)\n  - [Add an entry to an unreleased section](#add-an-entry-to-an-unreleased-section)\n  - [Prepare a Changelog for a Release](#prepare-a-changelog-for-a-release)\n  - [Link Generation](#link-generation)\n  - [Config file](#config-file)\n\n## Installation\n\n`python-kacl` and it `kacl-cli` can be installed either\n\n- from source\n- via the pip package `python-kacl`\n- docker\n\nAll approaches are described in detail within this section.\n\n### From Source\n\n```bash\ngit clone https://github.com/mschmieder/python-kacl\ncd python-kacl\n```\n\n**Global Install**\n\n```bash\npip3 install .\n```\n\n**Developer Mode**\n\n```bash\npip3 install -e .\n```\n\n### Pip Package\n\nThe package can simply be retrieves using\n\n```bash\npip3 install python-kacl\n```\n\n### Docker\n\n```bash\ndocker pull mschmieder/kacl-cli:latest\n```\n\nThe `kacl-cli` is defined as entrypoint. Therefore the image can be used like this\n\n```bash\ndocker -v $(pwd):$(pwd) -w $(pwd) mschmieder/kacl-cli:latest verify\n```\n\n## CLI\n\n```\nUsage: kacl-cli [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  -c, --config PATH  Path to kacl config file  [default: .kacl.conf]\n  -f, --file PATH    Path to changelog file  [default: CHANGELOG.md]\n  --help             Show this message and exit.\n\nCommands:\n  add      Adds a given message to a specified unreleased section.\n  get      Returns a given version from the Changelog\n  new      Creates a new changlog.\n  release  Creates a release for the latest 'unreleased' changes.\n  verify   Veryfies if the changelog is in \"keep-a-changlog\" format.\n```\n\n\n## Create a Changelog\n\n```\nUsage: kacl-cli new [OPTIONS]\n\n  Creates a new changlog.\n\nOptions:\n  -o, --output-file PATH  File to write the created changelog to.\n  --help                  Show this message and exit.\n```\n\n**Usage**\n\n```bash\nkacl-cli new\n```\n\nCreates the following changelog\n\n```markdown\n# Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## Unreleased\n```\n\n## Verify a Changelog\n\n```\nUsage: kacl-cli verify [OPTIONS]\n\n  Veryfies if the changelog is in \"keep-a-changlog\" format. Use '--json' get\n  JSON formatted output that can be easier integrated into CI workflows.\n  Exit code is the number of identified errors.\n\nOptions:\n  --json  Print validation output as yaml\n  --help  Show this message and exit.\n```\n\n**Usage**\n\n```bash\nkacl-cli verify\n```\n\n**JSON Output**\n\n```bash\nkacl-cli verify --json\n```\n\n```json\n{\n    \"errors\": [\n        {\n            \"end_character_pos\": 8,\n            \"error_message\": \"Versions need to be decorated with a release date in the following format 'YYYY-MM-DD'\",\n            \"line\": \"## 1.0.0\",\n            \"line_number\": 8,\n            \"start_char_pos\": 0\n        },\n        {\n            \"end_character_pos\": 10,\n            \"error_message\": \"\\\"Hacked\\\" is not a valid section for a version. Options are [Added,Changed,Deprecated,Removed,Fixed,Security]\",\n            \"line\": \"### Hacked\",\n            \"line_number\": 12,\n            \"start_char_pos\": 4\n        }\n    ],\n    \"valid\": false\n}\n```\n\n## Print a single release changelog\n\n**Usage**\n\n```bash\nkacl-cli get 0.2.2\n```\n\n```markdown\n## [0.2.2] - 2018-01-16\n\n### Added\n\n- Many prior version. This was added as first entry in CHANGELOG when it was added to this project.\n```\n\n## Add an entry to an unreleased section\n\n```\nUsage: kacl-cli add [OPTIONS] SECTION MESSAGE\n\n  Adds a given message to a specified unreleased section. Use '--modify' to\n  directly modify the changelog file.\n\nOptions:\n  -m, --modify  This option will add the changes directly into changelog file\n  --help        Show this message and exit.\n```\n\n**Usage**\n\n```bash\nkacl-cli add fixed 'We fixed some bad issues' --modify\nkacl-cli add added 'We just added some new cool stuff' --modify\nkacl-cli add changed 'And changed things a bit' --modify\n```\n\n## Prepare a Changelog for a Release\n\n```\nUsage: kacl-cli release [OPTIONS] VERSION\n\n  Creates a release for the latest 'unreleased' changes. Use '--modify' to\n  directly modify the changelog file. You can automatically use the latest\n  version by using the version keywords 'major', 'minor', 'patch'\n\n  Example:\n\n      kacl-cli release 1.0.0\n\n      kacl-cli release major|minor|patch\n\nOptions:\n  -m, --modify            This option will add the changes directly into\n                          changelog file.\n  -l, --link TEXT         A url that the version will be linked with.\n  -g, --auto-link         Will automatically create and update necessary\n                          links.\n  -c, --commit            If passed this will create a git commit with the\n                          changed Changelog.\n  --commit-message TEXT   The commit message to use when using --commit flag\n  -t, --tag               If passed this will create a git tag for the newly\n                          released version.\n  --tag-name TEXT         The tag name to use when using --tag flag\n  --tag-description TEXT  The tag description text to use when using --tag\n                          flag\n  -d, --allow-dirty       If passed this will allow to commit/tag even on a\n                          \"dirty\".\n  --help                  Show this message and exit.\n```\n\n**Git Support**\n\n`kacl-cli` provides a direct integration into your git repository. When releasing you often want to directly commit and tag the changes you did.\nUsing the `release` command you can simply add the `--commit/--tag` option(s) that will add the changes made by the tool to git. These flags only take effect if you also provide\nthe `--modify` option, otherwise no change will happen to your file system. By specifying `--commit-message` and `--tag-description` you can also decide what kind of information you\nwant to see within the commit. Have a look at the _config_ section that shows more options to use along with the `release` command.\n\n**Messages (--commit-message, --tag-name, --tag-description)**\n\nThis is templated using the Python Format String Syntax. Available in the template context are `latest_version` and `new_version` as well as all `environment variables` (prefixed with \\$).\nYou can also use the variables `now` or `utcnow` to get a current timestamp. Both accept datetime formatting (when used like as in `{now:%d.%m.%Y}`).\nAlso available as --message (e.g.: kacl-cli release patch --commit --commit--message '[{now:%Y-%m-%d}] Jenkins Build {$BUILD_NUMBER}: {new_version}')\n\n**Auto Link Generation**\n\n`kacl-cli` can automatically generate links for every version for you. Using the `--auto-link` option will generate _version comparison_ links for you. The link generation can be configured using the _config_ file. See the config section for more details\n\n```bash\nkacl-cli release 1.0.0 --auto-link\n```\n\nExample output:\n\n```markdown\n# Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [Unreleased]\n\n## [1.0.0] - 2020-01-14\n### Added\n- `release` command will make sure changelog is valid before doing any changes.\n\n## 0.2.16 - 2020-01-07\n### Fixed\n- fixed issue #3 that did not detect linked versions with missing links\n\n[Unreleased]: https://github.com/mschmieder/python-kacl/tree/v1.0.0...HEAD\n[1.0.0]: https://github.com/mschmieder/python-kacl/compare/v0.2.16...v1.0.0\n```\n\n**Usage with fixed version**\n\n```bash\nkacl-cli release 1.0.0\n```\n\nExample CHANGELOG.md (before):\n\n```markdown\n# Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [Unreleased]\n### Added\n- added default content checks\n- cli will now check for valid semantic version when using `release` command\n- implemented basic cli with `new`, `get`, `release`, `verify`\n- added `--json` option to `verify` command\n\n## 0.1.0 - 2019-12-12\n### Added\n- initial release\n\n[Unreleased]: https://github.com/mschmieder/python-kacl/compare/v1.0.0...HEAD\n```\n\nExample CHANGELOG.md (after):\n\n```markdown\n# Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [Unreleased]\n\n## 1.0.0 - 2019-12-22\n### Added\n- added default content checks\n- cli will now check for valid semantic version when using `release` command\n- implemented basic cli with `new`, `get`, `release`, `verify`\n- added `--json` option to `verify` command\n\n## 0.1.0 - 2019-12-12\n### Added\n- initial release\n\n[Unreleased]: https://github.com/mschmieder/python-kacl/compare/v1.0.0...HEAD\n```\n\n**Usage with version increment**\n\n```bash\nkacl-cli release patch\n```\n\nExample CHANGELOG.md (after):\n\n```markdown\n# Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [Unreleased]\n\n## 0.1.1 - 2019-12-22\n### Added\n- added default content checks\n- cli will now check for valid semantic version when using `release` command\n- implemented basic cli with `new`, `get`, `release`, `verify`\n- added `--json` option to `verify` command\n\n## 0.1.0 - 2019-12-12\n### Added\n- initial release\n\n[Unreleased]: https://github.com/mschmieder/python-kacl/compare/v1.0.0...HEAD\n```\n\n## Link Generation\n\n`kacl-cli` let's you easily generate links to your versions. You can automatically generate all links following the desired patterns using `kacl-cli link generate`.\nThe link generation can also be easily included into the `release` command and will take care of updating the `unreleased` and `latest_version` section.\n\n```bash\nUsage: kacl-cli link generate [OPTIONS]\n\nOptions:\n  -m, --modify                    This option will add the changes directly\n                                  into changelog file.\n  --host-url TEXT                 Host url to the git service. (i.e\n                                  https://github.com/mschmieder/python-kacl)\n  --compare-versions-template TEXT\n                                  Template string for version comparison link.\n  --unreleased-changes-template TEXT\n                                  Template string for unreleased changes link.\n  --initial-version-template TEXT\n                                  Template string for initial version link.\n  --help                          Show this message and exit.\n```\n\n**Url Templating**\n\nin order to generate the correct urls, `python-kacl` allows you to define three templates `compare-versions-template`, `unreleased-changes-template` and `initial-version-template` that can be used to tell the system how to generate proper links. The easiest way to provide this information is to pass it to the `.kacl.yml` config file\n\n```yaml\nkacl:\n  git:\n    links:\n        # The host url is optional and will be automatically determined using your the git repository\n        host_url: https://github.com/mschmieder/kacl-cli\n        compare_versions_template: '{host}/compare/v{previous_version}...v{version}'\n        unreleased_changes_template: '{host}/tree/v{latest_version}...HEAD'\n        initial_version_template: '{host}/tree/v{version}'\n```\n\nUsing the python format syntax you can generate any links you want. The available replacement variables are `version`, `previous_version`, `host` and `latest_version`.\n\n## Config file\n\n`kacl-cli` will automatically check if there is a `.kacl.yml` present within your execution directory. Within this configuration file you can set options to improve\nspecifically CI workflows. It also allows you to better customize the validation behaviour of the system by allowing to define _custom header titles_, _allowed_version_sections_ as well as the\nrequired _default content_.\n\nBy specifiying a `.kacl.yml` with any of those options, the _default config_ will be merged with those local changes. Most options are also available on the CLI which take precedence over the ones\nwithin the config files.\n\n**Default Config**\n\n```yaml\nkacl:\n  changelog_file: CHANGELOG.md\n  allowed_header_titles:\n    - Changelog\n    - Change Log\n  allowed_version_sections:\n    - Added\n    - Changed\n    - Deprecated\n    - Removed\n    - Fixed\n    - Security\n  default_content:\n    - All notable changes to this project will be documented in this file.\n    - The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n  git:\n    commit: True\n    commit_message: \"[skip ci] Releasing Changelog version {new_version}\"\n    commit_additional_files: []\n    tag: False\n    tag_name: \"v{new_version}\"\n    tag_description: \"Version v{new_version} released\"\n  links:\n      # The host url is optional and will be automatically determined using your the git repository\n      # host_url: https://github.com/mschmieder/kacl-cli\n      compare_versions_template: '{host}/compare/{previous_version}...{version}'\n      unreleased_changes_template: '{host}/compare/{latest_version}...master'\n      initial_version_template: '{host}/tree/{version}'\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/mschmieder/python-kacl", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "python-kacl", "package_url": "https://pypi.org/project/python-kacl/", "platform": "", "project_url": "https://pypi.org/project/python-kacl/", "project_urls": {"Homepage": "http://github.com/mschmieder/python-kacl"}, "release_url": "https://pypi.org/project/python-kacl/0.2.19/", "requires_dist": null, "requires_python": ">=3.6", "summary": "Pyhton module and CLI tool for validating and modifying Changelogs in \"keep-a-changelog\" format\"", "version": "0.2.19", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>python-kacl</h1>\n<p><a href=\"https://travis-ci.org/mschmieder/python-kacl\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/abc21295f4ed80d67af4abb6f78240702d02364d/68747470733a2f2f7472617669732d63692e6f72672f6d7363686d69656465722f707974686f6e2d6b61636c2e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://sonarcloud.io/dashboard?id=mschmieder_python-kacl\" rel=\"nofollow\"><img alt=\"Coverage\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/204cb87e9a7f7600feb543c7e6e3029e6b35ab4b/68747470733a2f2f736f6e6172636c6f75642e696f2f6170692f70726f6a6563745f6261646765732f6d6561737572653f70726f6a6563743d6d7363686d69656465725f707974686f6e2d6b61636c266d65747269633d636f766572616765\"></a>\n<a href=\"https://sonarcloud.io/dashboard?id=mschmieder_python-kacl\" rel=\"nofollow\"><img alt=\"Maintainability Rating\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e7656741bb2a41e1c4be507e04d61092221da7f9/68747470733a2f2f736f6e6172636c6f75642e696f2f6170692f70726f6a6563745f6261646765732f6d6561737572653f70726f6a6563743d6d7363686d69656465725f707974686f6e2d6b61636c266d65747269633d7371616c655f726174696e67\"></a></p>\n<p>A tool for verifying and modifying changelog in the <a href=\"https://keepachangelog.com/en/1.0.0/\" rel=\"nofollow\"><strong>K</strong>eep-<strong>A-C</strong>hange-<strong>L</strong>og</a> format.</p>\n<ul>\n<li><a href=\"#python-kacl\" rel=\"nofollow\">python-kacl</a>\n<ul>\n<li><a href=\"#installation\" rel=\"nofollow\">Installation</a>\n<ul>\n<li><a href=\"#from-source\" rel=\"nofollow\">From Source</a></li>\n<li><a href=\"#pip-package\" rel=\"nofollow\">Pip Package</a></li>\n<li><a href=\"#docker\" rel=\"nofollow\">Docker</a></li>\n</ul>\n</li>\n<li><a href=\"#cli\" rel=\"nofollow\">CLI</a></li>\n<li><a href=\"#create-a-changelog\" rel=\"nofollow\">Create a Changelog</a></li>\n<li><a href=\"#verify-a-changelog\" rel=\"nofollow\">Verify a Changelog</a></li>\n<li><a href=\"#print-a-single-release-changelog\" rel=\"nofollow\">Print a single release changelog</a></li>\n<li><a href=\"#add-an-entry-to-an-unreleased-section\" rel=\"nofollow\">Add an entry to an unreleased section</a></li>\n<li><a href=\"#prepare-a-changelog-for-a-release\" rel=\"nofollow\">Prepare a Changelog for a Release</a></li>\n<li><a href=\"#link-generation\" rel=\"nofollow\">Link Generation</a></li>\n<li><a href=\"#config-file\" rel=\"nofollow\">Config file</a></li>\n</ul>\n</li>\n</ul>\n<h2>Installation</h2>\n<p><code>python-kacl</code> and it <code>kacl-cli</code> can be installed either</p>\n<ul>\n<li>from source</li>\n<li>via the pip package <code>python-kacl</code></li>\n<li>docker</li>\n</ul>\n<p>All approaches are described in detail within this section.</p>\n<h3>From Source</h3>\n<pre>git clone https://github.com/mschmieder/python-kacl\n<span class=\"nb\">cd</span> python-kacl\n</pre>\n<p><strong>Global Install</strong></p>\n<pre>pip3 install .\n</pre>\n<p><strong>Developer Mode</strong></p>\n<pre>pip3 install -e .\n</pre>\n<h3>Pip Package</h3>\n<p>The package can simply be retrieves using</p>\n<pre>pip3 install python-kacl\n</pre>\n<h3>Docker</h3>\n<pre>docker pull mschmieder/kacl-cli:latest\n</pre>\n<p>The <code>kacl-cli</code> is defined as entrypoint. Therefore the image can be used like this</p>\n<pre>docker -v <span class=\"k\">$(</span><span class=\"nb\">pwd</span><span class=\"k\">)</span>:<span class=\"k\">$(</span><span class=\"nb\">pwd</span><span class=\"k\">)</span> -w <span class=\"k\">$(</span><span class=\"nb\">pwd</span><span class=\"k\">)</span> mschmieder/kacl-cli:latest verify\n</pre>\n<h2>CLI</h2>\n<pre><code>Usage: kacl-cli [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  -c, --config PATH  Path to kacl config file  [default: .kacl.conf]\n  -f, --file PATH    Path to changelog file  [default: CHANGELOG.md]\n  --help             Show this message and exit.\n\nCommands:\n  add      Adds a given message to a specified unreleased section.\n  get      Returns a given version from the Changelog\n  new      Creates a new changlog.\n  release  Creates a release for the latest 'unreleased' changes.\n  verify   Veryfies if the changelog is in \"keep-a-changlog\" format.\n</code></pre>\n<h2>Create a Changelog</h2>\n<pre><code>Usage: kacl-cli new [OPTIONS]\n\n  Creates a new changlog.\n\nOptions:\n  -o, --output-file PATH  File to write the created changelog to.\n  --help                  Show this message and exit.\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre>kacl-cli new\n</pre>\n<p>Creates the following changelog</p>\n<pre># Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## Unreleased\n</pre>\n<h2>Verify a Changelog</h2>\n<pre><code>Usage: kacl-cli verify [OPTIONS]\n\n  Veryfies if the changelog is in \"keep-a-changlog\" format. Use '--json' get\n  JSON formatted output that can be easier integrated into CI workflows.\n  Exit code is the number of identified errors.\n\nOptions:\n  --json  Print validation output as yaml\n  --help  Show this message and exit.\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre>kacl-cli verify\n</pre>\n<p><strong>JSON Output</strong></p>\n<pre>kacl-cli verify --json\n</pre>\n<pre><span class=\"p\">{</span>\n    <span class=\"nt\">\"errors\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">\"end_character_pos\"</span><span class=\"p\">:</span> <span class=\"mi\">8</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"error_message\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Versions need to be decorated with a release date in the following format 'YYYY-MM-DD'\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"line\"</span><span class=\"p\">:</span> <span class=\"s2\">\"## 1.0.0\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"line_number\"</span><span class=\"p\">:</span> <span class=\"mi\">8</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"start_char_pos\"</span><span class=\"p\">:</span> <span class=\"mi\">0</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">\"end_character_pos\"</span><span class=\"p\">:</span> <span class=\"mi\">10</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"error_message\"</span><span class=\"p\">:</span> <span class=\"s2\">\"\\\"Hacked\\\" is not a valid section for a version. Options are [Added,Changed,Deprecated,Removed,Fixed,Security]\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"line\"</span><span class=\"p\">:</span> <span class=\"s2\">\"### Hacked\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"line_number\"</span><span class=\"p\">:</span> <span class=\"mi\">12</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"start_char_pos\"</span><span class=\"p\">:</span> <span class=\"mi\">4</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">],</span>\n    <span class=\"nt\">\"valid\"</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n<span class=\"p\">}</span>\n</pre>\n<h2>Print a single release changelog</h2>\n<p><strong>Usage</strong></p>\n<pre>kacl-cli get <span class=\"m\">0</span>.2.2\n</pre>\n<pre>## [0.2.2] - 2018-01-16\n\n### Added\n\n- Many prior version. This was added as first entry in CHANGELOG when it was added to this project.\n</pre>\n<h2>Add an entry to an unreleased section</h2>\n<pre><code>Usage: kacl-cli add [OPTIONS] SECTION MESSAGE\n\n  Adds a given message to a specified unreleased section. Use '--modify' to\n  directly modify the changelog file.\n\nOptions:\n  -m, --modify  This option will add the changes directly into changelog file\n  --help        Show this message and exit.\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre>kacl-cli add fixed <span class=\"s1\">'We fixed some bad issues'</span> --modify\nkacl-cli add added <span class=\"s1\">'We just added some new cool stuff'</span> --modify\nkacl-cli add changed <span class=\"s1\">'And changed things a bit'</span> --modify\n</pre>\n<h2>Prepare a Changelog for a Release</h2>\n<pre><code>Usage: kacl-cli release [OPTIONS] VERSION\n\n  Creates a release for the latest 'unreleased' changes. Use '--modify' to\n  directly modify the changelog file. You can automatically use the latest\n  version by using the version keywords 'major', 'minor', 'patch'\n\n  Example:\n\n      kacl-cli release 1.0.0\n\n      kacl-cli release major|minor|patch\n\nOptions:\n  -m, --modify            This option will add the changes directly into\n                          changelog file.\n  -l, --link TEXT         A url that the version will be linked with.\n  -g, --auto-link         Will automatically create and update necessary\n                          links.\n  -c, --commit            If passed this will create a git commit with the\n                          changed Changelog.\n  --commit-message TEXT   The commit message to use when using --commit flag\n  -t, --tag               If passed this will create a git tag for the newly\n                          released version.\n  --tag-name TEXT         The tag name to use when using --tag flag\n  --tag-description TEXT  The tag description text to use when using --tag\n                          flag\n  -d, --allow-dirty       If passed this will allow to commit/tag even on a\n                          \"dirty\".\n  --help                  Show this message and exit.\n</code></pre>\n<p><strong>Git Support</strong></p>\n<p><code>kacl-cli</code> provides a direct integration into your git repository. When releasing you often want to directly commit and tag the changes you did.\nUsing the <code>release</code> command you can simply add the <code>--commit/--tag</code> option(s) that will add the changes made by the tool to git. These flags only take effect if you also provide\nthe <code>--modify</code> option, otherwise no change will happen to your file system. By specifying <code>--commit-message</code> and <code>--tag-description</code> you can also decide what kind of information you\nwant to see within the commit. Have a look at the <em>config</em> section that shows more options to use along with the <code>release</code> command.</p>\n<p><strong>Messages (--commit-message, --tag-name, --tag-description)</strong></p>\n<p>This is templated using the Python Format String Syntax. Available in the template context are <code>latest_version</code> and <code>new_version</code> as well as all <code>environment variables</code> (prefixed with $).\nYou can also use the variables <code>now</code> or <code>utcnow</code> to get a current timestamp. Both accept datetime formatting (when used like as in <code>{now:%d.%m.%Y}</code>).\nAlso available as --message (e.g.: kacl-cli release patch --commit --commit--message '[{now:%Y-%m-%d}] Jenkins Build {$BUILD_NUMBER}: {new_version}')</p>\n<p><strong>Auto Link Generation</strong></p>\n<p><code>kacl-cli</code> can automatically generate links for every version for you. Using the <code>--auto-link</code> option will generate <em>version comparison</em> links for you. The link generation can be configured using the <em>config</em> file. See the config section for more details</p>\n<pre>kacl-cli release <span class=\"m\">1</span>.0.0 --auto-link\n</pre>\n<p>Example output:</p>\n<pre># Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [Unreleased]\n\n## [1.0.0] - 2020-01-14\n### Added\n- `release` command will make sure changelog is valid before doing any changes.\n\n## 0.2.16 - 2020-01-07\n### Fixed\n- fixed issue #3 that did not detect linked versions with missing links\n\n[Unreleased]: https://github.com/mschmieder/python-kacl/tree/v1.0.0...HEAD\n[1.0.0]: https://github.com/mschmieder/python-kacl/compare/v0.2.16...v1.0.0\n</pre>\n<p><strong>Usage with fixed version</strong></p>\n<pre>kacl-cli release <span class=\"m\">1</span>.0.0\n</pre>\n<p>Example CHANGELOG.md (before):</p>\n<pre># Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [Unreleased]\n### Added\n- added default content checks\n- cli will now check for valid semantic version when using `release` command\n- implemented basic cli with `new`, `get`, `release`, `verify`\n- added `--json` option to `verify` command\n\n## 0.1.0 - 2019-12-12\n### Added\n- initial release\n\n[Unreleased]: https://github.com/mschmieder/python-kacl/compare/v1.0.0...HEAD\n</pre>\n<p>Example CHANGELOG.md (after):</p>\n<pre># Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [Unreleased]\n\n## 1.0.0 - 2019-12-22\n### Added\n- added default content checks\n- cli will now check for valid semantic version when using `release` command\n- implemented basic cli with `new`, `get`, `release`, `verify`\n- added `--json` option to `verify` command\n\n## 0.1.0 - 2019-12-12\n### Added\n- initial release\n\n[Unreleased]: https://github.com/mschmieder/python-kacl/compare/v1.0.0...HEAD\n</pre>\n<p><strong>Usage with version increment</strong></p>\n<pre>kacl-cli release patch\n</pre>\n<p>Example CHANGELOG.md (after):</p>\n<pre># Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [Unreleased]\n\n## 0.1.1 - 2019-12-22\n### Added\n- added default content checks\n- cli will now check for valid semantic version when using `release` command\n- implemented basic cli with `new`, `get`, `release`, `verify`\n- added `--json` option to `verify` command\n\n## 0.1.0 - 2019-12-12\n### Added\n- initial release\n\n[Unreleased]: https://github.com/mschmieder/python-kacl/compare/v1.0.0...HEAD\n</pre>\n<h2>Link Generation</h2>\n<p><code>kacl-cli</code> let's you easily generate links to your versions. You can automatically generate all links following the desired patterns using <code>kacl-cli link generate</code>.\nThe link generation can also be easily included into the <code>release</code> command and will take care of updating the <code>unreleased</code> and <code>latest_version</code> section.</p>\n<pre>Usage: kacl-cli link generate <span class=\"o\">[</span>OPTIONS<span class=\"o\">]</span>\n\nOptions:\n  -m, --modify                    This option will add the changes directly\n                                  into changelog file.\n  --host-url TEXT                 Host url to the git service. <span class=\"o\">(</span>i.e\n                                  https://github.com/mschmieder/python-kacl<span class=\"o\">)</span>\n  --compare-versions-template TEXT\n                                  Template string <span class=\"k\">for</span> version comparison link.\n  --unreleased-changes-template TEXT\n                                  Template string <span class=\"k\">for</span> unreleased changes link.\n  --initial-version-template TEXT\n                                  Template string <span class=\"k\">for</span> initial version link.\n  --help                          Show this message and exit.\n</pre>\n<p><strong>Url Templating</strong></p>\n<p>in order to generate the correct urls, <code>python-kacl</code> allows you to define three templates <code>compare-versions-template</code>, <code>unreleased-changes-template</code> and <code>initial-version-template</code> that can be used to tell the system how to generate proper links. The easiest way to provide this information is to pass it to the <code>.kacl.yml</code> config file</p>\n<pre><span class=\"nt\">kacl</span><span class=\"p\">:</span>\n  <span class=\"nt\">git</span><span class=\"p\">:</span>\n    <span class=\"nt\">links</span><span class=\"p\">:</span>\n        <span class=\"c1\"># The host url is optional and will be automatically determined using your the git repository</span>\n        <span class=\"nt\">host_url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">https://github.com/mschmieder/kacl-cli</span>\n        <span class=\"nt\">compare_versions_template</span><span class=\"p\">:</span> <span class=\"s\">'{host}/compare/v{previous_version}...v{version}'</span>\n        <span class=\"nt\">unreleased_changes_template</span><span class=\"p\">:</span> <span class=\"s\">'{host}/tree/v{latest_version}...HEAD'</span>\n        <span class=\"nt\">initial_version_template</span><span class=\"p\">:</span> <span class=\"s\">'{host}/tree/v{version}'</span>\n</pre>\n<p>Using the python format syntax you can generate any links you want. The available replacement variables are <code>version</code>, <code>previous_version</code>, <code>host</code> and <code>latest_version</code>.</p>\n<h2>Config file</h2>\n<p><code>kacl-cli</code> will automatically check if there is a <code>.kacl.yml</code> present within your execution directory. Within this configuration file you can set options to improve\nspecifically CI workflows. It also allows you to better customize the validation behaviour of the system by allowing to define <em>custom header titles</em>, <em>allowed_version_sections</em> as well as the\nrequired <em>default content</em>.</p>\n<p>By specifiying a <code>.kacl.yml</code> with any of those options, the <em>default config</em> will be merged with those local changes. Most options are also available on the CLI which take precedence over the ones\nwithin the config files.</p>\n<p><strong>Default Config</strong></p>\n<pre><span class=\"nt\">kacl</span><span class=\"p\">:</span>\n  <span class=\"nt\">changelog_file</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">CHANGELOG.md</span>\n  <span class=\"nt\">allowed_header_titles</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">Changelog</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">Change Log</span>\n  <span class=\"nt\">allowed_version_sections</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">Added</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">Changed</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">Deprecated</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">Removed</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">Fixed</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">Security</span>\n  <span class=\"nt\">default_content</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">All notable changes to this project will be documented in this file.</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).</span>\n  <span class=\"nt\">git</span><span class=\"p\">:</span>\n    <span class=\"nt\">commit</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">True</span>\n    <span class=\"nt\">commit_message</span><span class=\"p\">:</span> <span class=\"s\">\"[skip</span><span class=\"nv\"> </span><span class=\"s\">ci]</span><span class=\"nv\"> </span><span class=\"s\">Releasing</span><span class=\"nv\"> </span><span class=\"s\">Changelog</span><span class=\"nv\"> </span><span class=\"s\">version</span><span class=\"nv\"> </span><span class=\"s\">{new_version}\"</span>\n    <span class=\"nt\">commit_additional_files</span><span class=\"p\">:</span> <span class=\"p p-Indicator\">[]</span>\n    <span class=\"nt\">tag</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">False</span>\n    <span class=\"nt\">tag_name</span><span class=\"p\">:</span> <span class=\"s\">\"v{new_version}\"</span>\n    <span class=\"nt\">tag_description</span><span class=\"p\">:</span> <span class=\"s\">\"Version</span><span class=\"nv\"> </span><span class=\"s\">v{new_version}</span><span class=\"nv\"> </span><span class=\"s\">released\"</span>\n  <span class=\"nt\">links</span><span class=\"p\">:</span>\n      <span class=\"c1\"># The host url is optional and will be automatically determined using your the git repository</span>\n      <span class=\"c1\"># host_url: https://github.com/mschmieder/kacl-cli</span>\n      <span class=\"nt\">compare_versions_template</span><span class=\"p\">:</span> <span class=\"s\">'{host}/compare/{previous_version}...{version}'</span>\n      <span class=\"nt\">unreleased_changes_template</span><span class=\"p\">:</span> <span class=\"s\">'{host}/compare/{latest_version}...master'</span>\n      <span class=\"nt\">initial_version_template</span><span class=\"p\">:</span> <span class=\"s\">'{host}/tree/{version}'</span>\n</pre>\n\n          </div>"}, "last_serial": 6898035, "releases": {"0.2.11": [{"comment_text": "", "digests": {"md5": "e24648fe01233d3302bff6c9789c9422", "sha256": "5051b52dd4eff4553ef2fc93a8643892c5fca4f6a951fe96b9528b7e29086f81"}, "downloads": -1, "filename": "python-kacl-0.2.11.tar.gz", "has_sig": false, "md5_digest": "e24648fe01233d3302bff6c9789c9422", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 15527, "upload_time": "2019-12-26T11:35:45", "upload_time_iso_8601": "2019-12-26T11:35:45.702167Z", "url": "https://files.pythonhosted.org/packages/7a/87/d8c0692eeb174fe39d7f172006eb37be8f29b9ac3a2ee440dc09141acd79/python-kacl-0.2.11.tar.gz", "yanked": false}], "0.2.12": [{"comment_text": "", "digests": {"md5": "0034ed559b4e0e32754afec4a431566f", "sha256": "3fa7bf9641f657f70843969b5277f5d9a8dde7b4b068280a14e1176382048b44"}, "downloads": -1, "filename": "python-kacl-0.2.12.tar.gz", "has_sig": false, "md5_digest": "0034ed559b4e0e32754afec4a431566f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 15618, "upload_time": "2020-01-02T08:50:21", "upload_time_iso_8601": "2020-01-02T08:50:21.262011Z", "url": "https://files.pythonhosted.org/packages/81/e5/ddcce4eb8a658b5480a6d61e7258ffce2fbac97ebe4cbe0f61fa43c1d23f/python-kacl-0.2.12.tar.gz", "yanked": false}], "0.2.15": [{"comment_text": "", "digests": {"md5": "09e7d2b8a68adc88a028db7c7ac6b3c0", "sha256": "c926d72808da5d8b466f400cce3894b13977b8c3ea050f95d023d9dae72a18c7"}, "downloads": -1, "filename": "python-kacl-0.2.15.tar.gz", "has_sig": false, "md5_digest": "09e7d2b8a68adc88a028db7c7ac6b3c0", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 17747, "upload_time": "2020-01-06T19:15:13", "upload_time_iso_8601": "2020-01-06T19:15:13.530948Z", "url": "https://files.pythonhosted.org/packages/d1/8d/eb9b9c99e8c62ca73f310aca15232178a10644951e91ee03228a87c0328f/python-kacl-0.2.15.tar.gz", "yanked": false}], "0.2.16": [{"comment_text": "", "digests": {"md5": "80d9373e30575656d4095945c7308c32", "sha256": "eb0f683de1106c4ce3f12e505b4d2884b5c0431e3d68a0a04ab0ea4c2f903de1"}, "downloads": -1, "filename": "python-kacl-0.2.16.tar.gz", "has_sig": false, "md5_digest": "80d9373e30575656d4095945c7308c32", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 17892, "upload_time": "2020-01-07T19:41:49", "upload_time_iso_8601": "2020-01-07T19:41:49.132010Z", "url": "https://files.pythonhosted.org/packages/e3/73/a5324de21b58ba705d4eef5b5ef81aedfaba3fe530346429c7587102cea4/python-kacl-0.2.16.tar.gz", "yanked": false}], "0.2.17": [{"comment_text": "", "digests": {"md5": "dae4a2583dfb226b2c2fb0120c3749ad", "sha256": "a71fb9ce250bd69554432fd59835873f2f46e9d6074940d55db45f8ea7a76c1f"}, "downloads": -1, "filename": "python-kacl-0.2.17.tar.gz", "has_sig": false, "md5_digest": "dae4a2583dfb226b2c2fb0120c3749ad", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 20800, "upload_time": "2020-01-14T08:56:37", "upload_time_iso_8601": "2020-01-14T08:56:37.731490Z", "url": "https://files.pythonhosted.org/packages/0c/0b/4cbe4de5c1fc52de0b37e9db658d0c272604b115fc1e2e8c76159fb7fded/python-kacl-0.2.17.tar.gz", "yanked": false}], "0.2.18": [{"comment_text": "", "digests": {"md5": "01390d12c05abf1d6094b310866c4036", "sha256": "e180900e464871b14e4aaf50e6646aabf51439e810581a4f816223fa13ac5453"}, "downloads": -1, "filename": "python-kacl-0.2.18.tar.gz", "has_sig": false, "md5_digest": "01390d12c05abf1d6094b310866c4036", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 20972, "upload_time": "2020-01-14T09:40:00", "upload_time_iso_8601": "2020-01-14T09:40:00.799019Z", "url": "https://files.pythonhosted.org/packages/88/32/5174968669fdac6bd63b4a05f6a3c963e9cd71544dc3e9e4d6d1f98716e9/python-kacl-0.2.18.tar.gz", "yanked": false}], "0.2.19": [{"comment_text": "", "digests": {"md5": "fcc0f3e67972a66b7d32336049c4a3b9", "sha256": "130f3e0a2a1b369ef0d5d675fdd3ff8217111c1805095cf16abc4b1d3f4151d4"}, "downloads": -1, "filename": "python-kacl-0.2.19.tar.gz", "has_sig": false, "md5_digest": "fcc0f3e67972a66b7d32336049c4a3b9", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 21017, "upload_time": "2020-03-27T18:58:11", "upload_time_iso_8601": "2020-03-27T18:58:11.706934Z", "url": "https://files.pythonhosted.org/packages/c4/d0/a43504fe0096b0e6679c485fbc0a1020a01d3034b596a88bbf8f298e46c4/python-kacl-0.2.19.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "fcc0f3e67972a66b7d32336049c4a3b9", "sha256": "130f3e0a2a1b369ef0d5d675fdd3ff8217111c1805095cf16abc4b1d3f4151d4"}, "downloads": -1, "filename": "python-kacl-0.2.19.tar.gz", "has_sig": false, "md5_digest": "fcc0f3e67972a66b7d32336049c4a3b9", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 21017, "upload_time": "2020-03-27T18:58:11", "upload_time_iso_8601": "2020-03-27T18:58:11.706934Z", "url": "https://files.pythonhosted.org/packages/c4/d0/a43504fe0096b0e6679c485fbc0a1020a01d3034b596a88bbf8f298e46c4/python-kacl-0.2.19.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:17:03 2020"}
{"info": {"author": "Prometeo", "author_email": "dev@prometeoapi.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3"], "description": "Prometeo Python API Client [![PyPI version](https://badge.fury.io/py/prometeo.svg)](https://badge.fury.io/py/prometeo) [![Documentation Status](https://readthedocs.org/projects/prometeo-python/badge/?version=latest)](https://prometeo-python.readthedocs.io/en/latest/?badge=latest) ![Bitbucket Pipelines branch](https://img.shields.io/bitbucket/pipelines/qualiauy/prometeo-python/master)\n===============\n\nThis is the official python library for the [Prometeo API](https://prometeoapi.com/)\n\n## Documentation\n\nComplete client documentation is available at [Read the docs](https://readthedocs.org/projects/prometeo-python/)\n\n## Installation\n\n### Prerequisites\n\n* Python version 2.7 and 3.5+\n* An API Key ([contact us](mailto:info@prometeoapi.com) to get one!)\n\n### Install package\n\n```console\n$ pip install prometeo\n```\n\n\n## Quick Start\n\n### Get your key\n\nGo to [your dashboard](https://test.prometeo.qualia.uy/dashboard/), there you'll find your API key. Use it to instantiate the client:\n\n```python\nfrom prometeo import Client\n\n\nclient = Client('<YOUR_API_KEY>', environment='testing')\n```\n\nThe `environment` argument is either `testing` for the sandbox or `production` for the production environment.\n\n### Listing movements\n\nThe following example logs in to the sandboxed bank and retrieves a list of movements\n\n```python\nfrom datetime import datetime\n\nsession = client.banking.login(provider='test', username='12345', password='gfdsa')\naccounts = session.get_accounts()\naccount = accounts[0]\nprint(account.number, ' - ', account.name)\nmovements = account.get_movements(datetime(2019, 2, 1), datetime(2019, 2, 2))\nfor movement in movements:\n    print(movement.detail, movement.debit, movement.credit)\n```\n\n### Listing credit card movements\n\n```python\ncards = session.get_credit_cards()\ncard = cards[0]\nprint(card.number, ' - ', card.name)\nmovements = card.get_movements('USD', datetime(2019, 2, 1), datetime(2019, 2, 2))\nfor movement in movements:\n    print(movement.detail, movement.debit, movement.credit)\n```\n\n### Listing all available banks\n\n```python\nproviders = client.banking.get_providers()\nfor provider in providers:\n    print(provider.name, provider.country)\n```\n\n\n## CURP API\n\n### Checking the existence of a curp\n\n```python\nfrom prometeo.curp import exceptions\n\ncurp = 'ABCD12345EFGH'\ntry:\n    result = client.curp.query(curp)\nexcept exceptions.CurpError as e:\n    print(\"CURP does not exist:\", e.message)\n```\n\n### Looking for a CURP by person\n\n```python\nfrom datetime import datetime\nfrom prometeo.curp import exceptions, Gender, State\n\ncurp = 'ABCD12345EFGH'\nstate = State.SINALOA\nbirthdate = datetime(1988, 3, 4)\nname = 'JOHN'\nfirst_surname = 'DOE'\nlast_surname = 'PONCE'\ngender = Gender.MALE\ntry:\n    result = client.curp.reverse_query(\n        state, birthdate, name, first_surname, last_surname, gender\n    )\nexcept exceptions.CurpError as e:\n    print(\"CURP does not exist:\", e.message)\n```\n\n\n## DIAN API\n\n### Log in\n\nSupply the NIT to log in as a company:\n\n```python\nfrom prometeo.dian import DocumentType\n\nsession = client.dian.login(\n    nit='098765',\n    document_type=DocumentType.CEDULA_CIUDADANIA,\n    document='12345',\n    password='test_password',\n)\n```\n\nOr omit it to log in as a person:\n\n```python\nfrom prometeo.dian import DocumentType\n\nsession = client.dian.login(\n    document_type=DocumentType.CEDULA_CIUDADANIA,\n    document='12345',\n    password='test_password',\n)\n```\n\n### Get the data\n\nCompany info:\n\n```python\nsession.get_company_info()\n```\n\nBalances:\n\n```python\nsession.get_balances()\n```\n\nRent declaration:\n\n```python\nsession.get_rent_declaration(2018)\n```\n\nVAT declaration:\n\n```python\nfrom prometeo.dian import Periodicity, QuartlerlyPeriod\n\nsession.get_vat_declaration(2019, Periodicity.QUARTERLY, QuartlerlyPeriod.JANUARY_APRIL)\n```\n\nNumeration:\n\n```python\nfrom datetime import datetime\nfrom prometeo.dian import NumerationType\n\nsession.get_numeration(NumerationType.Authorization, datetime(2019, 1, 1), datetime(2019, 5, 1))\n```\n\nRetentions:\n\n```python\nfrom prometeo.dian import MonthlyPeriod\n\nsession.get_retentions(2019, MonthlyPeriod.NOVEMBER)\n```\n\n## SAT API\n\n### Login in\n\n```python\nfrom prometeo.sat import LoginScope\n\nsession = client.sat.login(\n    rfc='ABCD1234EFGH',\n    password='password',\n    scope=LoginScope.CFDI,\n)\n```\n\n### Work with CFDI bills\n\nList emitted and received bills\n\n```python\nfrom prometeo.sat import BillStatus\n\nemitted_bills = session.get_emitted_bills(\n    date_start=datetime(2020, 1, 1),\n    date_end=datetime(2020, 2, 1),\n    status=BillStatus.ANY,\n)\n\nreceived_bills = session.get_received_bills(\n    year=2020,\n    month=1,\n    status=BillStatus.ANY,\n```\n\nBulk download of bills\n\n```python\nfrom prometeo.sat import BillStatus\n\ndownload_requests = session.download_emitted_bills(\n    date_start=datetime(2020, 1, 1),\n    date_end=datetime(2020, 2, 1),\n    status=BillStatus.ANY,\n)\nfor request in download_requests:\n    download = request.get_download()\n    content = download.get_file().read()\n```\n\nDownload acknowledgements\n\n```python\nfrom prometeo.sat import Motive, DocumentType, Status, SendType\n\nacks = session.get_acknowledgement(\n    year=2020,\n    month_start=1,\n    month_end=2,\n    motive=Motive.ALL,\n    document_type=DocumentType.ALL,\n    status=Status.ALL,\n    send_type=SendType.ALL,\n)\nfor ack in acks:\n    download = ack.download().get_file()\n```\n\n## License\n\n[The MIT License](https://bitbucket.org/qualiauy/prometeo-python/src/master/LICENSE)", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://bitbucket.org/qualiauy/prometeo-python", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "prometeo", "package_url": "https://pypi.org/project/prometeo/", "platform": "", "project_url": "https://pypi.org/project/prometeo/", "project_urls": {"Homepage": "https://bitbucket.org/qualiauy/prometeo-python"}, "release_url": "https://pypi.org/project/prometeo/1.0.2/", "requires_dist": null, "requires_python": ">=2.7", "summary": "Python client library for Prometeo", "version": "1.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Prometeo Python API Client <a href=\"https://badge.fury.io/py/prometeo\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f9df2de8e0ecd983b3d3598c2a2cbca67da2aab9/68747470733a2f2f62616467652e667572792e696f2f70792f70726f6d6574656f2e737667\"></a> <a href=\"https://prometeo-python.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1191bf2329ad697f79cdff265fd1f84b3e80248c/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f70726f6d6574656f2d707974686f6e2f62616467652f3f76657273696f6e3d6c6174657374\"></a> <img alt=\"Bitbucket Pipelines branch\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/783bb891096d3fdf764ad935b72eda7bf2c1de02/68747470733a2f2f696d672e736869656c64732e696f2f6269746275636b65742f706970656c696e65732f7175616c696175792f70726f6d6574656f2d707974686f6e2f6d6173746572\"></h1>\n<p>This is the official python library for the <a href=\"https://prometeoapi.com/\" rel=\"nofollow\">Prometeo API</a></p>\n<h2>Documentation</h2>\n<p>Complete client documentation is available at <a href=\"https://readthedocs.org/projects/prometeo-python/\" rel=\"nofollow\">Read the docs</a></p>\n<h2>Installation</h2>\n<h3>Prerequisites</h3>\n<ul>\n<li>Python version 2.7 and 3.5+</li>\n<li>An API Key (<a href=\"mailto:info@prometeoapi.com\">contact us</a> to get one!)</li>\n</ul>\n<h3>Install package</h3>\n<pre><span class=\"gp\">$</span> pip install prometeo\n</pre>\n<h2>Quick Start</h2>\n<h3>Get your key</h3>\n<p>Go to <a href=\"https://test.prometeo.qualia.uy/dashboard/\" rel=\"nofollow\">your dashboard</a>, there you'll find your API key. Use it to instantiate the client:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometeo</span> <span class=\"kn\">import</span> <span class=\"n\">Client</span>\n\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">Client</span><span class=\"p\">(</span><span class=\"s1\">'&lt;YOUR_API_KEY&gt;'</span><span class=\"p\">,</span> <span class=\"n\">environment</span><span class=\"o\">=</span><span class=\"s1\">'testing'</span><span class=\"p\">)</span>\n</pre>\n<p>The <code>environment</code> argument is either <code>testing</code> for the sandbox or <code>production</code> for the production environment.</p>\n<h3>Listing movements</h3>\n<p>The following example logs in to the sandboxed bank and retrieves a list of movements</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n\n<span class=\"n\">session</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">banking</span><span class=\"o\">.</span><span class=\"n\">login</span><span class=\"p\">(</span><span class=\"n\">provider</span><span class=\"o\">=</span><span class=\"s1\">'test'</span><span class=\"p\">,</span> <span class=\"n\">username</span><span class=\"o\">=</span><span class=\"s1\">'12345'</span><span class=\"p\">,</span> <span class=\"n\">password</span><span class=\"o\">=</span><span class=\"s1\">'gfdsa'</span><span class=\"p\">)</span>\n<span class=\"n\">accounts</span> <span class=\"o\">=</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_accounts</span><span class=\"p\">()</span>\n<span class=\"n\">account</span> <span class=\"o\">=</span> <span class=\"n\">accounts</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">account</span><span class=\"o\">.</span><span class=\"n\">number</span><span class=\"p\">,</span> <span class=\"s1\">' - '</span><span class=\"p\">,</span> <span class=\"n\">account</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"n\">movements</span> <span class=\"o\">=</span> <span class=\"n\">account</span><span class=\"o\">.</span><span class=\"n\">get_movements</span><span class=\"p\">(</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">))</span>\n<span class=\"k\">for</span> <span class=\"n\">movement</span> <span class=\"ow\">in</span> <span class=\"n\">movements</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">movement</span><span class=\"o\">.</span><span class=\"n\">detail</span><span class=\"p\">,</span> <span class=\"n\">movement</span><span class=\"o\">.</span><span class=\"n\">debit</span><span class=\"p\">,</span> <span class=\"n\">movement</span><span class=\"o\">.</span><span class=\"n\">credit</span><span class=\"p\">)</span>\n</pre>\n<h3>Listing credit card movements</h3>\n<pre><span class=\"n\">cards</span> <span class=\"o\">=</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_credit_cards</span><span class=\"p\">()</span>\n<span class=\"n\">card</span> <span class=\"o\">=</span> <span class=\"n\">cards</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">card</span><span class=\"o\">.</span><span class=\"n\">number</span><span class=\"p\">,</span> <span class=\"s1\">' - '</span><span class=\"p\">,</span> <span class=\"n\">card</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"n\">movements</span> <span class=\"o\">=</span> <span class=\"n\">card</span><span class=\"o\">.</span><span class=\"n\">get_movements</span><span class=\"p\">(</span><span class=\"s1\">'USD'</span><span class=\"p\">,</span> <span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">))</span>\n<span class=\"k\">for</span> <span class=\"n\">movement</span> <span class=\"ow\">in</span> <span class=\"n\">movements</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">movement</span><span class=\"o\">.</span><span class=\"n\">detail</span><span class=\"p\">,</span> <span class=\"n\">movement</span><span class=\"o\">.</span><span class=\"n\">debit</span><span class=\"p\">,</span> <span class=\"n\">movement</span><span class=\"o\">.</span><span class=\"n\">credit</span><span class=\"p\">)</span>\n</pre>\n<h3>Listing all available banks</h3>\n<pre><span class=\"n\">providers</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">banking</span><span class=\"o\">.</span><span class=\"n\">get_providers</span><span class=\"p\">()</span>\n<span class=\"k\">for</span> <span class=\"n\">provider</span> <span class=\"ow\">in</span> <span class=\"n\">providers</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">provider</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">provider</span><span class=\"o\">.</span><span class=\"n\">country</span><span class=\"p\">)</span>\n</pre>\n<h2>CURP API</h2>\n<h3>Checking the existence of a curp</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometeo.curp</span> <span class=\"kn\">import</span> <span class=\"n\">exceptions</span>\n\n<span class=\"n\">curp</span> <span class=\"o\">=</span> <span class=\"s1\">'ABCD12345EFGH'</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">curp</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"n\">curp</span><span class=\"p\">)</span>\n<span class=\"k\">except</span> <span class=\"n\">exceptions</span><span class=\"o\">.</span><span class=\"n\">CurpError</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"CURP does not exist:\"</span><span class=\"p\">,</span> <span class=\"n\">e</span><span class=\"o\">.</span><span class=\"n\">message</span><span class=\"p\">)</span>\n</pre>\n<h3>Looking for a CURP by person</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n<span class=\"kn\">from</span> <span class=\"nn\">prometeo.curp</span> <span class=\"kn\">import</span> <span class=\"n\">exceptions</span><span class=\"p\">,</span> <span class=\"n\">Gender</span><span class=\"p\">,</span> <span class=\"n\">State</span>\n\n<span class=\"n\">curp</span> <span class=\"o\">=</span> <span class=\"s1\">'ABCD12345EFGH'</span>\n<span class=\"n\">state</span> <span class=\"o\">=</span> <span class=\"n\">State</span><span class=\"o\">.</span><span class=\"n\">SINALOA</span>\n<span class=\"n\">birthdate</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">1988</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s1\">'JOHN'</span>\n<span class=\"n\">first_surname</span> <span class=\"o\">=</span> <span class=\"s1\">'DOE'</span>\n<span class=\"n\">last_surname</span> <span class=\"o\">=</span> <span class=\"s1\">'PONCE'</span>\n<span class=\"n\">gender</span> <span class=\"o\">=</span> <span class=\"n\">Gender</span><span class=\"o\">.</span><span class=\"n\">MALE</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">curp</span><span class=\"o\">.</span><span class=\"n\">reverse_query</span><span class=\"p\">(</span>\n        <span class=\"n\">state</span><span class=\"p\">,</span> <span class=\"n\">birthdate</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">first_surname</span><span class=\"p\">,</span> <span class=\"n\">last_surname</span><span class=\"p\">,</span> <span class=\"n\">gender</span>\n    <span class=\"p\">)</span>\n<span class=\"k\">except</span> <span class=\"n\">exceptions</span><span class=\"o\">.</span><span class=\"n\">CurpError</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"CURP does not exist:\"</span><span class=\"p\">,</span> <span class=\"n\">e</span><span class=\"o\">.</span><span class=\"n\">message</span><span class=\"p\">)</span>\n</pre>\n<h2>DIAN API</h2>\n<h3>Log in</h3>\n<p>Supply the NIT to log in as a company:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometeo.dian</span> <span class=\"kn\">import</span> <span class=\"n\">DocumentType</span>\n\n<span class=\"n\">session</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">dian</span><span class=\"o\">.</span><span class=\"n\">login</span><span class=\"p\">(</span>\n    <span class=\"n\">nit</span><span class=\"o\">=</span><span class=\"s1\">'098765'</span><span class=\"p\">,</span>\n    <span class=\"n\">document_type</span><span class=\"o\">=</span><span class=\"n\">DocumentType</span><span class=\"o\">.</span><span class=\"n\">CEDULA_CIUDADANIA</span><span class=\"p\">,</span>\n    <span class=\"n\">document</span><span class=\"o\">=</span><span class=\"s1\">'12345'</span><span class=\"p\">,</span>\n    <span class=\"n\">password</span><span class=\"o\">=</span><span class=\"s1\">'test_password'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre>\n<p>Or omit it to log in as a person:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometeo.dian</span> <span class=\"kn\">import</span> <span class=\"n\">DocumentType</span>\n\n<span class=\"n\">session</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">dian</span><span class=\"o\">.</span><span class=\"n\">login</span><span class=\"p\">(</span>\n    <span class=\"n\">document_type</span><span class=\"o\">=</span><span class=\"n\">DocumentType</span><span class=\"o\">.</span><span class=\"n\">CEDULA_CIUDADANIA</span><span class=\"p\">,</span>\n    <span class=\"n\">document</span><span class=\"o\">=</span><span class=\"s1\">'12345'</span><span class=\"p\">,</span>\n    <span class=\"n\">password</span><span class=\"o\">=</span><span class=\"s1\">'test_password'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre>\n<h3>Get the data</h3>\n<p>Company info:</p>\n<pre><span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_company_info</span><span class=\"p\">()</span>\n</pre>\n<p>Balances:</p>\n<pre><span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_balances</span><span class=\"p\">()</span>\n</pre>\n<p>Rent declaration:</p>\n<pre><span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_rent_declaration</span><span class=\"p\">(</span><span class=\"mi\">2018</span><span class=\"p\">)</span>\n</pre>\n<p>VAT declaration:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometeo.dian</span> <span class=\"kn\">import</span> <span class=\"n\">Periodicity</span><span class=\"p\">,</span> <span class=\"n\">QuartlerlyPeriod</span>\n\n<span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_vat_declaration</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"n\">Periodicity</span><span class=\"o\">.</span><span class=\"n\">QUARTERLY</span><span class=\"p\">,</span> <span class=\"n\">QuartlerlyPeriod</span><span class=\"o\">.</span><span class=\"n\">JANUARY_APRIL</span><span class=\"p\">)</span>\n</pre>\n<p>Numeration:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n<span class=\"kn\">from</span> <span class=\"nn\">prometeo.dian</span> <span class=\"kn\">import</span> <span class=\"n\">NumerationType</span>\n\n<span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_numeration</span><span class=\"p\">(</span><span class=\"n\">NumerationType</span><span class=\"o\">.</span><span class=\"n\">Authorization</span><span class=\"p\">,</span> <span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">))</span>\n</pre>\n<p>Retentions:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometeo.dian</span> <span class=\"kn\">import</span> <span class=\"n\">MonthlyPeriod</span>\n\n<span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_retentions</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"n\">MonthlyPeriod</span><span class=\"o\">.</span><span class=\"n\">NOVEMBER</span><span class=\"p\">)</span>\n</pre>\n<h2>SAT API</h2>\n<h3>Login in</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometeo.sat</span> <span class=\"kn\">import</span> <span class=\"n\">LoginScope</span>\n\n<span class=\"n\">session</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">sat</span><span class=\"o\">.</span><span class=\"n\">login</span><span class=\"p\">(</span>\n    <span class=\"n\">rfc</span><span class=\"o\">=</span><span class=\"s1\">'ABCD1234EFGH'</span><span class=\"p\">,</span>\n    <span class=\"n\">password</span><span class=\"o\">=</span><span class=\"s1\">'password'</span><span class=\"p\">,</span>\n    <span class=\"n\">scope</span><span class=\"o\">=</span><span class=\"n\">LoginScope</span><span class=\"o\">.</span><span class=\"n\">CFDI</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre>\n<h3>Work with CFDI bills</h3>\n<p>List emitted and received bills</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometeo.sat</span> <span class=\"kn\">import</span> <span class=\"n\">BillStatus</span>\n\n<span class=\"n\">emitted_bills</span> <span class=\"o\">=</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_emitted_bills</span><span class=\"p\">(</span>\n    <span class=\"n\">date_start</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2020</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n    <span class=\"n\">date_end</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2020</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n    <span class=\"n\">status</span><span class=\"o\">=</span><span class=\"n\">BillStatus</span><span class=\"o\">.</span><span class=\"n\">ANY</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">received_bills</span> <span class=\"o\">=</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_received_bills</span><span class=\"p\">(</span>\n    <span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2020</span><span class=\"p\">,</span>\n    <span class=\"n\">month</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n    <span class=\"n\">status</span><span class=\"o\">=</span><span class=\"n\">BillStatus</span><span class=\"o\">.</span><span class=\"n\">ANY</span><span class=\"p\">,</span>\n</pre>\n<p>Bulk download of bills</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometeo.sat</span> <span class=\"kn\">import</span> <span class=\"n\">BillStatus</span>\n\n<span class=\"n\">download_requests</span> <span class=\"o\">=</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">download_emitted_bills</span><span class=\"p\">(</span>\n    <span class=\"n\">date_start</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2020</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n    <span class=\"n\">date_end</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2020</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span>\n    <span class=\"n\">status</span><span class=\"o\">=</span><span class=\"n\">BillStatus</span><span class=\"o\">.</span><span class=\"n\">ANY</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">request</span> <span class=\"ow\">in</span> <span class=\"n\">download_requests</span><span class=\"p\">:</span>\n    <span class=\"n\">download</span> <span class=\"o\">=</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">get_download</span><span class=\"p\">()</span>\n    <span class=\"n\">content</span> <span class=\"o\">=</span> <span class=\"n\">download</span><span class=\"o\">.</span><span class=\"n\">get_file</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n</pre>\n<p>Download acknowledgements</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometeo.sat</span> <span class=\"kn\">import</span> <span class=\"n\">Motive</span><span class=\"p\">,</span> <span class=\"n\">DocumentType</span><span class=\"p\">,</span> <span class=\"n\">Status</span><span class=\"p\">,</span> <span class=\"n\">SendType</span>\n\n<span class=\"n\">acks</span> <span class=\"o\">=</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get_acknowledgement</span><span class=\"p\">(</span>\n    <span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2020</span><span class=\"p\">,</span>\n    <span class=\"n\">month_start</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n    <span class=\"n\">month_end</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span>\n    <span class=\"n\">motive</span><span class=\"o\">=</span><span class=\"n\">Motive</span><span class=\"o\">.</span><span class=\"n\">ALL</span><span class=\"p\">,</span>\n    <span class=\"n\">document_type</span><span class=\"o\">=</span><span class=\"n\">DocumentType</span><span class=\"o\">.</span><span class=\"n\">ALL</span><span class=\"p\">,</span>\n    <span class=\"n\">status</span><span class=\"o\">=</span><span class=\"n\">Status</span><span class=\"o\">.</span><span class=\"n\">ALL</span><span class=\"p\">,</span>\n    <span class=\"n\">send_type</span><span class=\"o\">=</span><span class=\"n\">SendType</span><span class=\"o\">.</span><span class=\"n\">ALL</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">ack</span> <span class=\"ow\">in</span> <span class=\"n\">acks</span><span class=\"p\">:</span>\n    <span class=\"n\">download</span> <span class=\"o\">=</span> <span class=\"n\">ack</span><span class=\"o\">.</span><span class=\"n\">download</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">get_file</span><span class=\"p\">()</span>\n</pre>\n<h2>License</h2>\n<p><a href=\"https://bitbucket.org/qualiauy/prometeo-python/src/master/LICENSE\" rel=\"nofollow\">The MIT License</a></p>\n\n          </div>"}, "last_serial": 6750731, "releases": {"0.2.0": [{"comment_text": "", "digests": {"md5": "5bd543878addabc75a5970691fa04bbf", "sha256": "ca45858aacc5411cf967ae7093cb647d112545037126ce92273eb8ccfe58200e"}, "downloads": -1, "filename": "prometeo-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "5bd543878addabc75a5970691fa04bbf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 32451, "upload_time": "2020-01-16T23:58:56", "upload_time_iso_8601": "2020-01-16T23:58:56.594638Z", "url": "https://files.pythonhosted.org/packages/c2/66/0f40f8b7a2dd6a66fa4bca983428eb2641ccdf8382cacca851d76cf72a70/prometeo-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "69aa994f0ab26c792e803b509fbccfd1", "sha256": "3b9e8c62637c6b0a8c0aeae46841337c1fe62ce12d05048e9cddd19bb17e8cf0"}, "downloads": -1, "filename": "prometeo-0.2.0.tar.gz", "has_sig": false, "md5_digest": "69aa994f0ab26c792e803b509fbccfd1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 23091, "upload_time": "2020-01-16T23:58:59", "upload_time_iso_8601": "2020-01-16T23:58:59.462686Z", "url": "https://files.pythonhosted.org/packages/ea/c3/5a16831bebefe284a1e51d112cab9080873f1050800ea1ac5dc85f811db7/prometeo-0.2.0.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "e3aba2425c7a4036015a3a0d294c22de", "sha256": "0113f8409b2abd95c99daf2aa34f63a63dc46b66f5c334fc1f11d8fa4bfe32c8"}, "downloads": -1, "filename": "prometeo-1.0.0.tar.gz", "has_sig": false, "md5_digest": "e3aba2425c7a4036015a3a0d294c22de", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 22650, "upload_time": "2020-01-17T22:49:01", "upload_time_iso_8601": "2020-01-17T22:49:01.050785Z", "url": "https://files.pythonhosted.org/packages/33/13/b5eb288e06a86f5f5f384d0ebf90fdb173b04d63d5cf24396395942b1bb7/prometeo-1.0.0.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "327c4037a2098470f5e40ecd5a160a45", "sha256": "63234aa33de080de4b66bedba1495578f86321e2445ca0e8d677b25a4c927746"}, "downloads": -1, "filename": "prometeo-1.0.2.tar.gz", "has_sig": false, "md5_digest": "327c4037a2098470f5e40ecd5a160a45", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 22673, "upload_time": "2020-03-04T21:39:18", "upload_time_iso_8601": "2020-03-04T21:39:18.433747Z", "url": "https://files.pythonhosted.org/packages/6e/3b/c94d6d61fe67b7e9b1c4f219d5bc48ad27b1bbe559dd22dd2aa1103bfc69/prometeo-1.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "327c4037a2098470f5e40ecd5a160a45", "sha256": "63234aa33de080de4b66bedba1495578f86321e2445ca0e8d677b25a4c927746"}, "downloads": -1, "filename": "prometeo-1.0.2.tar.gz", "has_sig": false, "md5_digest": "327c4037a2098470f5e40ecd5a160a45", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 22673, "upload_time": "2020-03-04T21:39:18", "upload_time_iso_8601": "2020-03-04T21:39:18.433747Z", "url": "https://files.pythonhosted.org/packages/6e/3b/c94d6d61fe67b7e9b1c4f219d5bc48ad27b1bbe559dd22dd2aa1103bfc69/prometeo-1.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:17:12 2020"}
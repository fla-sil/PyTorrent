{"info": {"author": "Tomasz Wojcik", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Software Development :: Build Tools"], "description": "[![Build Status](https://travis-ci.org/tomwojcik/starlette-context.svg?branch=master)](https://travis-ci.org/tomwojcik/starlette-context)\n[![](https://img.shields.io/badge/python-3.7+-blue.svg)](https://www.python.org/downloads/release/python-370/)\n[![PyPI version](https://badge.fury.io/py/starlette-context.svg)](https://badge.fury.io/py/starlette-context)\n[![PyPI license](https://img.shields.io/pypi/l/ansicolortags.svg)](https://pypi.python.org/pypi/ansicolortags/)\n[![codecov](https://codecov.io/gh/tomwojcik/starlette-context/branch/master/graph/badge.svg)](https://codecov.io/gh/tomwojcik/starlette-context)\n[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)\n\n# starlette context\nMiddleware for Starlette that allows you to store and access the context data of a request. Can be used with logging so logs automatically use request headers such as x-request-id or x-correlation-id.\n\n### Installation \n\n`$ pip install starlette-context`\n\n\n### Requirements\nPython 3.7+\n\nFor Python 3.6 only:  \n`contextvar` came out with python3.7 and is required for this to run. If you need to use Starlette with python3.6, there is a backport of `contextvar` for py36. \nhttps://github.com/MagicStack/contextvars\n\n### Dependencies\n\n- `starlette`\n\nAll other dependencies from `requirements-dev.txt` are only needed to run tests or examples. Test/dev env is dockerized if you want to try them yourself.\n    \n### Example\n\n```python\nfrom starlette.applications import Starlette\nfrom starlette.middleware import Middleware\nfrom starlette.requests import Request\nfrom starlette.responses import JSONResponse\n\nimport uvicorn\nfrom starlette_context import context, plugins\nfrom starlette_context.middleware import ContextMiddleware\n\nmiddleware = [\n    Middleware(\n        ContextMiddleware,\n        plugins=(\n            plugins.RequestIdPlugin(),\n            plugins.CorrelationIdPlugin()\n        )\n    )\n]\n\napp = Starlette(middleware=middleware)\n\n\n@app.route(\"/\")\nasync def index(request: Request):\n    return JSONResponse(context.data)\n\n\nuvicorn.run(app, host=\"0.0.0.0\")\n\n```\nIn this example the response contains a json with\n```json\n{\n  \"X-Correlation-ID\":\"5ca2f0b43115461bad07ccae5976a990\",\n  \"X-Request-ID\":\"21f8d52208ec44948d152dc49a713fdd\"\n}\n```\n\nContext can be updated and accessed at anytime if it's created in the middleware.\n\n\n### Contribution\nAll tickets or PRs are more than welcome.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "https://github.com/tomwojcik/starlette-context/archive/0.2.2.tar.gz", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/tomwojcik/starlette-context", "keywords": "starlette,fastapi", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "starlette-context", "package_url": "https://pypi.org/project/starlette-context/", "platform": "any", "project_url": "https://pypi.org/project/starlette-context/", "project_urls": {"Download": "https://github.com/tomwojcik/starlette-context/archive/0.2.2.tar.gz", "Homepage": "https://github.com/tomwojcik/starlette-context"}, "release_url": "https://pypi.org/project/starlette-context/0.2.2/", "requires_dist": null, "requires_python": ">=3.7", "summary": "Access context in Starlette", "version": "0.2.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://travis-ci.org/tomwojcik/starlette-context\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ecf0b6f23578709293bc72b3094c1071ea582e55/68747470733a2f2f7472617669732d63692e6f72672f746f6d776f6a63696b2f737461726c657474652d636f6e746578742e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://www.python.org/downloads/release/python-370/\" rel=\"nofollow\"><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d7ca45f98bb42530c497ea344d405f84abf0cb71/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d332e372b2d626c75652e737667\"></a>\n<a href=\"https://badge.fury.io/py/starlette-context\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5fe0a27d2ad38454f8478d1752e0d7d830f1a6f1/68747470733a2f2f62616467652e667572792e696f2f70792f737461726c657474652d636f6e746578742e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/ansicolortags/\" rel=\"nofollow\"><img alt=\"PyPI license\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/cb7554d3f165ac5e7bc396a6fbc22d51a890512a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f616e7369636f6c6f72746167732e737667\"></a>\n<a href=\"https://codecov.io/gh/tomwojcik/starlette-context\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a2f330d3560a74a089003fe03a4774fc07c4b6c7/68747470733a2f2f636f6465636f762e696f2f67682f746f6d776f6a63696b2f737461726c657474652d636f6e746578742f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"https://github.com/psf/black\" rel=\"nofollow\"><img alt=\"Code style: black\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fbfdc7754183ecf079bc71ddeabaf88f6cbc5c00/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c61636b2d3030303030302e737667\"></a></p>\n<h1>starlette context</h1>\n<p>Middleware for Starlette that allows you to store and access the context data of a request. Can be used with logging so logs automatically use request headers such as x-request-id or x-correlation-id.</p>\n<h3>Installation</h3>\n<p><code>$ pip install starlette-context</code></p>\n<h3>Requirements</h3>\n<p>Python 3.7+</p>\n<p>For Python 3.6 only:<br>\n<code>contextvar</code> came out with python3.7 and is required for this to run. If you need to use Starlette with python3.6, there is a backport of <code>contextvar</code> for py36.\n<a href=\"https://github.com/MagicStack/contextvars\" rel=\"nofollow\">https://github.com/MagicStack/contextvars</a></p>\n<h3>Dependencies</h3>\n<ul>\n<li><code>starlette</code></li>\n</ul>\n<p>All other dependencies from <code>requirements-dev.txt</code> are only needed to run tests or examples. Test/dev env is dockerized if you want to try them yourself.</p>\n<h3>Example</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">starlette.applications</span> <span class=\"kn\">import</span> <span class=\"n\">Starlette</span>\n<span class=\"kn\">from</span> <span class=\"nn\">starlette.middleware</span> <span class=\"kn\">import</span> <span class=\"n\">Middleware</span>\n<span class=\"kn\">from</span> <span class=\"nn\">starlette.requests</span> <span class=\"kn\">import</span> <span class=\"n\">Request</span>\n<span class=\"kn\">from</span> <span class=\"nn\">starlette.responses</span> <span class=\"kn\">import</span> <span class=\"n\">JSONResponse</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">uvicorn</span>\n<span class=\"kn\">from</span> <span class=\"nn\">starlette_context</span> <span class=\"kn\">import</span> <span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"n\">plugins</span>\n<span class=\"kn\">from</span> <span class=\"nn\">starlette_context.middleware</span> <span class=\"kn\">import</span> <span class=\"n\">ContextMiddleware</span>\n\n<span class=\"n\">middleware</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"n\">Middleware</span><span class=\"p\">(</span>\n        <span class=\"n\">ContextMiddleware</span><span class=\"p\">,</span>\n        <span class=\"n\">plugins</span><span class=\"o\">=</span><span class=\"p\">(</span>\n            <span class=\"n\">plugins</span><span class=\"o\">.</span><span class=\"n\">RequestIdPlugin</span><span class=\"p\">(),</span>\n            <span class=\"n\">plugins</span><span class=\"o\">.</span><span class=\"n\">CorrelationIdPlugin</span><span class=\"p\">()</span>\n        <span class=\"p\">)</span>\n    <span class=\"p\">)</span>\n<span class=\"p\">]</span>\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">Starlette</span><span class=\"p\">(</span><span class=\"n\">middleware</span><span class=\"o\">=</span><span class=\"n\">middleware</span><span class=\"p\">)</span>\n\n\n<span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s2\">\"/\"</span><span class=\"p\">)</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">index</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">:</span> <span class=\"n\">Request</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">JSONResponse</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">uvicorn</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">(</span><span class=\"n\">app</span><span class=\"p\">,</span> <span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s2\">\"0.0.0.0\"</span><span class=\"p\">)</span>\n</pre>\n<p>In this example the response contains a json with</p>\n<pre><span class=\"p\">{</span>\n  <span class=\"nt\">\"X-Correlation-ID\"</span><span class=\"p\">:</span><span class=\"s2\">\"5ca2f0b43115461bad07ccae5976a990\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"X-Request-ID\"</span><span class=\"p\">:</span><span class=\"s2\">\"21f8d52208ec44948d152dc49a713fdd\"</span>\n<span class=\"p\">}</span>\n</pre>\n<p>Context can be updated and accessed at anytime if it's created in the middleware.</p>\n<h3>Contribution</h3>\n<p>All tickets or PRs are more than welcome.</p>\n\n          </div>"}, "last_serial": 7105724, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "0641cb3e93111cfe4a14e0ed9bf9bc89", "sha256": "bf0a16622563e65c0575dfdc503538fb6fe899e37d306250ab989a68da6e9551"}, "downloads": -1, "filename": "starlette_context-0.1.tar.gz", "has_sig": false, "md5_digest": "0641cb3e93111cfe4a14e0ed9bf9bc89", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1960, "upload_time": "2019-12-27T20:48:21", "upload_time_iso_8601": "2019-12-27T20:48:21.753171Z", "url": "https://files.pythonhosted.org/packages/5b/81/7ce2c18c2dece7ddc796cb556bbf3836a1099d7571fe009d929887265e59/starlette_context-0.1.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "46b7418089b06847e1142f9ec2b1d175", "sha256": "c31426bb92410490e96ce67940f83265dbfce11308d49059ab4f1bbf59aee6c4"}, "downloads": -1, "filename": "starlette_context-0.1.1.tar.gz", "has_sig": false, "md5_digest": "46b7418089b06847e1142f9ec2b1d175", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2099, "upload_time": "2019-12-28T12:20:32", "upload_time_iso_8601": "2019-12-28T12:20:32.661958Z", "url": "https://files.pythonhosted.org/packages/87/a2/ad423c9fba3dc8a377a2ffde73754897f3959655307848283ba6bb75db98/starlette_context-0.1.1.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "cf7d635b54cc7509bbd7534e5da8a76f", "sha256": "34e5ba782a83a1603cc18b26dd8f68160eab7ac449dff650e532bdbb2d306b47"}, "downloads": -1, "filename": "starlette_context-0.1.3.tar.gz", "has_sig": false, "md5_digest": "cf7d635b54cc7509bbd7534e5da8a76f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3784, "upload_time": "2019-12-30T15:43:40", "upload_time_iso_8601": "2019-12-30T15:43:40.736525Z", "url": "https://files.pythonhosted.org/packages/9c/d2/0eb17516355175a3cc9ea93e6e4b1771cb5fcd46e9b6996995178e87d71d/starlette_context-0.1.3.tar.gz", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "409da9ea77a54a7286e03594a330b78e", "sha256": "bd6d60701ff59443984a0b3eae968be0e13bed60caa04a0f7709d4df42f3b544"}, "downloads": -1, "filename": "starlette_context-0.1.4.tar.gz", "has_sig": false, "md5_digest": "409da9ea77a54a7286e03594a330b78e", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 4850, "upload_time": "2019-12-31T17:11:43", "upload_time_iso_8601": "2019-12-31T17:11:43.759461Z", "url": "https://files.pythonhosted.org/packages/84/76/b24b9f9e047e18e21fa6a1a5eb2bbca266a9ebae1885f9f8292b0d74c504/starlette_context-0.1.4.tar.gz", "yanked": false}], "0.1.5": [{"comment_text": "", "digests": {"md5": "f4424f7efa45516c1d5f7bf95b76fea9", "sha256": "3a228fd20677aeffc6dce8079c729d73cace68b38850d8b77ec442aa24ffd322"}, "downloads": -1, "filename": "starlette_context-0.1.5.tar.gz", "has_sig": false, "md5_digest": "f4424f7efa45516c1d5f7bf95b76fea9", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 5321, "upload_time": "2020-01-01T19:43:22", "upload_time_iso_8601": "2020-01-01T19:43:22.584346Z", "url": "https://files.pythonhosted.org/packages/f9/44/b724fffbe152e08c3f55bba2537c714f189e31d50e135f5fc947bf7171d6/starlette_context-0.1.5.tar.gz", "yanked": false}], "0.1.6": [{"comment_text": "", "digests": {"md5": "0593880a323e0dd2ebed01a03171fbd9", "sha256": "7cfec189de3a648447aad9bebb5f8ba07c638c036979eaa84b32a899a0606a5c"}, "downloads": -1, "filename": "starlette_context-0.1.6.tar.gz", "has_sig": false, "md5_digest": "0593880a323e0dd2ebed01a03171fbd9", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 6827, "upload_time": "2020-01-02T12:26:43", "upload_time_iso_8601": "2020-01-02T12:26:43.984327Z", "url": "https://files.pythonhosted.org/packages/a0/81/e9ec72fe7e6629b9eb884a0ed33be47d5f84c4f10db35c18a4e7ce75e894/starlette_context-0.1.6.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "2dea82247ad47d25fd8d1463ae61c390", "sha256": "ad0d034ae296b2af3dea6cc2a1773514a1c515761ca562a53ee7fef3b1109e66"}, "downloads": -1, "filename": "starlette_context-0.2.0.tar.gz", "has_sig": false, "md5_digest": "2dea82247ad47d25fd8d1463ae61c390", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 6882, "upload_time": "2020-02-21T17:18:26", "upload_time_iso_8601": "2020-02-21T17:18:26.614541Z", "url": "https://files.pythonhosted.org/packages/c7/8d/77c1d2a1a1b9aa49f41cb561628fa255b351f6c1b263aa61af03188be867/starlette_context-0.2.0.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "e412034b92f66b28358052304e59c2e0", "sha256": "c7bae1f37c4a7b8a036c60b0aade24d8d82a485c16b9aeef90569291d809256d"}, "downloads": -1, "filename": "starlette_context-0.2.1.tar.gz", "has_sig": false, "md5_digest": "e412034b92f66b28358052304e59c2e0", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 6648, "upload_time": "2020-04-18T17:32:39", "upload_time_iso_8601": "2020-04-18T17:32:39.384542Z", "url": "https://files.pythonhosted.org/packages/aa/6f/ef8acfbb7b804ab50b349ac64c6302eedd121eade61297f820aababbae4d/starlette_context-0.2.1.tar.gz", "yanked": false}], "0.2.2": [{"comment_text": "", "digests": {"md5": "995dedba1cc0aff0ac201e0cf047565a", "sha256": "478a10d3f4df40462a0d150ea8d774fc39a571b89121d32464d7b626f76cd41d"}, "downloads": -1, "filename": "starlette_context-0.2.2.tar.gz", "has_sig": false, "md5_digest": "995dedba1cc0aff0ac201e0cf047565a", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7559, "upload_time": "2020-04-26T16:20:01", "upload_time_iso_8601": "2020-04-26T16:20:01.634280Z", "url": "https://files.pythonhosted.org/packages/72/8e/e4b6be4f5d83ffc8af0bf12d20a89fef7fcd13a78c4e848f38e67f191a34/starlette_context-0.2.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "995dedba1cc0aff0ac201e0cf047565a", "sha256": "478a10d3f4df40462a0d150ea8d774fc39a571b89121d32464d7b626f76cd41d"}, "downloads": -1, "filename": "starlette_context-0.2.2.tar.gz", "has_sig": false, "md5_digest": "995dedba1cc0aff0ac201e0cf047565a", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7559, "upload_time": "2020-04-26T16:20:01", "upload_time_iso_8601": "2020-04-26T16:20:01.634280Z", "url": "https://files.pythonhosted.org/packages/72/8e/e4b6be4f5d83ffc8af0bf12d20a89fef7fcd13a78c4e848f38e67f191a34/starlette_context-0.2.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:02:36 2020"}
{"info": {"author": "Petr Olah", "author_email": "djangoguru@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Framework :: Django", "Framework :: Django :: 1.11", "Framework :: Django :: 2.0", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Natural Language :: English", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6"], "description": "=============================\ndjango-fperms\n=============================\n\n.. image:: https://badge.fury.io/py/django-fperms.svg\n    :target: https://badge.fury.io/py/django-fperms\n\n.. image:: https://travis-ci.org/Formulka/django-fperms.svg?branch=master\n    :target: https://travis-ci.org/Formulka/django-fperms\n\n.. image:: https://codecov.io/gh/Formulka/django-fperms/branch/master/graph/badge.svg\n    :target: https://codecov.io/gh/Formulka/django-fperms\n\nThe flexible permissions library uses a custom permission model, that when installed patches itself into the standard django authentication library.\n\nDocumentation\n-------------\n\nThe full documentation is at https://django-fperms.readthedocs.io.\n\nQuickstart\n----------\n\nInstall django-fperms::\n\n    pip install django-fperms\n\nAdd it to your `INSTALLED_APPS`:\n\n.. code-block:: python\n\n    INSTALLED_APPS = (\n        ...\n        'fperms.apps.FPermsConfig',\n        ...\n    )\n\n\nOut of the box you have access to several new permission types:\n\n- **generic**: for general purpose project wide permissions\n- **model**: for per model permissions (similar to django default permissions)\n- **instance**: for per instance permissions, similar to model permissions but specific per instance\n- **field**: for per model field permissions, similar to model permissions but specific per model field, work in progress\n\nYou can also create your own permission model subclassing the abstract base permission class:\n\n.. code-block:: python\n\n    fperms.models.BasePerm\n\nand setting the ``PERM_MODEL`` variable in your project settings with the path to your custom model. E.g.\n\n.. code-block:: python\n\n    ...\n    PERM_MODEL='fperms.models.Perm'\n    ...\n\nYou can find an example of custom permission model at https://github.com/formulka/django-fperms-iscore\n\nUsage\n-----\n\nA superuser has for all intents and purposes permission to do everything. For regular users you can assign permissions directly or via a user group.\n\n**Creating a new permission**:\n\nYou can create a new permission directly via its model or via a specially formated string:\n\n.. code-block:: python\n\n    from fperms import enums\n    from fperms.models import Perm\n\n    Perm.objects.create(\n        type=enums.PERM_TYPE_GENERIC,\n        codename='export',\n    )\n    Perm.objects.create_from_str('generic.export')\n\n**Assigning a permission**:\n\nYou can assign existing permission via the custom ``perms`` manager available for both User (including custom ones) and Group models. You can add single permission or multiple both directly via its instance or using the formated string:\n\n.. code-block:: python\n\n    from django.auth.models import User, Group\n\n    from fperms.models import Perm\n\n    perm_export = Perm.objects.create(\n        type=enums.PERM_TYPE_GENERIC,\n        codename='export',\n    )\n    perm_import = Perm.objects.create(\n        type=enums.PERM_TYPE_GENERIC,\n        codename='import',\n    )\n\n    user = User.objects.get(pk=1)\n    user.perms.add_perm(perm_export)\n    user.perms.add_perm(perms=[perm_export, perm_import])\n\n    group = Group.objects.get(pk=1)\n    group.perms.add_perm(perms=['generic.export', 'generic.import'])\n\nBy default if said permission does not exist, it will raise an exception. You can override this behavior by setting ``PERM_AUTO_CREATE`` variable in your project settings to ``True``, assigning a permission will then create it as well if it does not exist.\n\n**Retrieving permission instance**:\n\nYou can get a permission instance directly from the model or via the string representation.\n\n.. code-block:: python\n\n    perm = Perm.objects.get(type=enums.PERM_TYPE_GENERIC, codename='export')\n    perm = Perm.objects.get_from_str('generic.export')\n\n**Checking permission**:\n\nYou can check whether the user or group has a required permission via ``has_perm`` method of the ``perms`` manager again using both the permission instance or the string representation.\n\n.. code-block:: python\n\n    ...\n    perm = Perm.objects.create(\n        type=enums.PERM_TYPE_GENERIC,\n        codename='export',\n    )\n\n    assert user.perms.has_perm(perm)\n    assert user.perms.has_perm('generic.export')\n\nBuilt in perm types\n-------------------\n\n**generic**\n\n- generic permission useful for project wide permissions\n- type is defined as ``fperms.enums.PERM_TYPE_GENERIC``, it is the default permission type\n- it requires ``type`` and ``codename`` fields (type being default only the codename is actually required)\n- string representation is ``'generic.<codename>'``\n\n.. code-block:: python\n\n    ...\n    # equivalent results:\n    Perm.objects.create(\n        codename='export',\n    )\n    Perm.objects.create_from_str('generic.export')\n\n**model**\n\n- model level permission analogous to the builtin django permissions\n- type is defined as ``fperms.enums.PERM_TYPE_MODEL``\n- it requires ``type``, ``content_type`` and ``codename`` fields\n- django admin is using codenames ``add``, ``change`` and ``delete`` for its inner workings\n- string representation is ``'model.<app_label>.<module_name>.<codename>'``\n\n.. code-block:: python\n\n    from fperms import enums\n    from fprems.utils import get_content_type\n    ...\n    # equivalent results:\n    Perm.objects.create(\n        type=enums.PERM_TYPE_MODEL,\n        content_type=get_content_type(Article),\n        codename='add',\n    )\n    Perm.objects.create_from_str('model.articles.Article.add')\n\n**object**\n\n- model level permission specific per object\n- type is defined as ``fperms.enums.PERM_TYPE_OBJECT``\n- it requires ``type``, ``content_type``, ``object_id`` and ``codename`` fields\n- django admin is using codenames ``add``, ``change`` and ``delete`` for its inner workings\n- string representation is ``'object.<app_label>.<module_name>.<codename>'``\n\n.. code-block:: python\n\n    from fperms import enums\n    from fprems.utils import get_content_type\n    ...\n    article = Article.objects.get(pk=1)\n    # equivalent results:\n    Perm.objects.create(\n        type=enums.PERM_TYPE_OBJECT,\n        content_type=get_content_type(Article),\n        object_id=article.pk,\n        codename='add',\n    )\n    Perm.objects.create_from_str('object.articles.Article.add', obj_id=article.pk)\n\n    # creating multiple permissions for a single object at once is supported\n    Perm.objects.create_from_str(perms=[\n                                    'object.articles.Article.add',\n                                    'object.articles.Article.change',\n                                    'object.articles.Article.delete',\n                                ], obj_id=article.pk)\n\n**field**\n\n- model level permission specific per model field\n- type is defined as ``fperms.enums.PERM_TYPE_FIELD``\n- it requires ``type``, ``content_type``, ``field_name`` and ``codename`` fields\n- string representation is ``'field.<app_label>.<module_name>.<field_name>.<codename>'``\n- TODO:  this permission type is not fully implemented yet\n\n.. code-block:: python\n\n    from fperms import enums\n    from fprems.utils import get_content_type\n    ...\n    article = Article.objects.get(pk=1)\n    # equivalent results:\n    Perm.objects.create(\n        type=enums.PERM_TYPE_FIELD,\n        content_type=get_content_type(Article),\n        field_name='name',\n        codename='add',\n    )\n    Perm.objects.create_from_str('field.articles.Article.name.add')\n\nAdmin\n-----\n\nFlexible permisssions support django admin interface, to enable them you need to first update the list of authentication backends in your project settings:\n\n.. code-block:: python\n\n    AUTHENTICATION_BACKENDS = [\n        'django.contrib.auth.backends.ModelBackend',\n        'fperms.backends.PermBackend',\n    ]\n\nand then simply subclass the ``fperms.admin.PermModelAdmin`` instead of the regular ``admin.ModelAdmin``:\n\n.. code-block:: python\n\n    from django.contrib import admin\n    from fperms.admin import PermModelAdmin\n\n    from articles.models import Article\n\n\n    @admin.register(Article)\n    class ArticleAdmin(PermModelAdmin):\n        pass\n\nTo enable per-instance permission support, set ``perms_per_instance`` property of the admin class to ``True``.\n\n.. code-block:: python\n\n    ...\n    @admin.register(Article)\n    class ArticleAdmin(PermModelAdmin):\n\n        perms_per_instance = True\n\nUser still needs model level permission for each model it should be able to access via admin site.\n\nIf the ``perms_per_instance`` option is set to ``True``, author of a new instance will automatically receive the permission to update and delete said instance.\nYou can override this behavior by setting ``perms_per_instance_author_change`` and ``perms_per_instance_author_delete`` admin properties respectively to ``False``.\n\nRunning Tests\n-------------\n\nDoes the code actually work?\n\n::\n\n    source <YOURVIRTUALENV>/bin/activate\n    (myenv) $ pip install tox\n    (myenv) $ tox\n\nCredits\n-------\n\nTools used in rendering this package:\n\n*  Cookiecutter_\n*  `cookiecutter-djangopackage`_\n\n.. _Cookiecutter: https://github.com/audreyr/cookiecutter\n.. _`cookiecutter-djangopackage`: https://github.com/pydanny/cookiecutter-djangopackage\n\n\n\n\nHistory\n-------\n\n0.1.0 (2018-02-13)\n++++++++++++++++++\n\n* First release on PyPI.", "description_content_type": "", "docs_url": null, "download_url": "https://github.com/formulka/django-fperms/archive/0.4.5.tar.gz", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/formulka/django-fperms", "keywords": "django-fperms", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "django-fperms", "package_url": "https://pypi.org/project/django-fperms/", "platform": "", "project_url": "https://pypi.org/project/django-fperms/", "project_urls": {"Download": "https://github.com/formulka/django-fperms/archive/0.4.5.tar.gz", "Homepage": "https://github.com/formulka/django-fperms"}, "release_url": "https://pypi.org/project/django-fperms/0.4.5/", "requires_dist": null, "requires_python": "", "summary": "Flexible Django permissions backend", "version": "0.4.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://badge.fury.io/py/django-fperms\" rel=\"nofollow\"><img alt=\"https://badge.fury.io/py/django-fperms.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ad2d7f5a77d00e217f892fb4fdb6e34b062ec83e/68747470733a2f2f62616467652e667572792e696f2f70792f646a616e676f2d667065726d732e737667\"></a>\n<a href=\"https://travis-ci.org/Formulka/django-fperms\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/Formulka/django-fperms.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dda6c4583ccd3be3489456c852d180c541c447b2/68747470733a2f2f7472617669732d63692e6f72672f466f726d756c6b612f646a616e676f2d667065726d732e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/Formulka/django-fperms\" rel=\"nofollow\"><img alt=\"https://codecov.io/gh/Formulka/django-fperms/branch/master/graph/badge.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/218a35d5c563436b6a2109cc64b7f20efd337b41/68747470733a2f2f636f6465636f762e696f2f67682f466f726d756c6b612f646a616e676f2d667065726d732f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<p>The flexible permissions library uses a custom permission model, that when installed patches itself into the standard django authentication library.</p>\n<div id=\"documentation\">\n<h2>Documentation</h2>\n<p>The full documentation is at <a href=\"https://django-fperms.readthedocs.io\" rel=\"nofollow\">https://django-fperms.readthedocs.io</a>.</p>\n</div>\n<div id=\"quickstart\">\n<h2>Quickstart</h2>\n<p>Install django-fperms:</p>\n<pre>pip install django-fperms\n</pre>\n<p>Add it to your <cite>INSTALLED_APPS</cite>:</p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'fperms.apps.FPermsConfig'</span><span class=\"p\">,</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">)</span>\n</pre>\n<p>Out of the box you have access to several new permission types:</p>\n<ul>\n<li><strong>generic</strong>: for general purpose project wide permissions</li>\n<li><strong>model</strong>: for per model permissions (similar to django default permissions)</li>\n<li><strong>instance</strong>: for per instance permissions, similar to model permissions but specific per instance</li>\n<li><strong>field</strong>: for per model field permissions, similar to model permissions but specific per model field, work in progress</li>\n</ul>\n<p>You can also create your own permission model subclassing the abstract base permission class:</p>\n<pre><span class=\"n\">fperms</span><span class=\"o\">.</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">BasePerm</span>\n</pre>\n<p>and setting the <tt>PERM_MODEL</tt> variable in your project settings with the path to your custom model. E.g.</p>\n<pre><span class=\"o\">...</span>\n<span class=\"n\">PERM_MODEL</span><span class=\"o\">=</span><span class=\"s1\">'fperms.models.Perm'</span>\n<span class=\"o\">...</span>\n</pre>\n<p>You can find an example of custom permission model at <a href=\"https://github.com/formulka/django-fperms-iscore\" rel=\"nofollow\">https://github.com/formulka/django-fperms-iscore</a></p>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>A superuser has for all intents and purposes permission to do everything. For regular users you can assign permissions directly or via a user group.</p>\n<p><strong>Creating a new permission</strong>:</p>\n<p>You can create a new permission directly via its model or via a specially formated string:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">fperms</span> <span class=\"kn\">import</span> <span class=\"n\">enums</span>\n<span class=\"kn\">from</span> <span class=\"nn\">fperms.models</span> <span class=\"kn\">import</span> <span class=\"n\">Perm</span>\n\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span>\n    <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"n\">enums</span><span class=\"o\">.</span><span class=\"n\">PERM_TYPE_GENERIC</span><span class=\"p\">,</span>\n    <span class=\"n\">codename</span><span class=\"o\">=</span><span class=\"s1\">'export'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create_from_str</span><span class=\"p\">(</span><span class=\"s1\">'generic.export'</span><span class=\"p\">)</span>\n</pre>\n<p><strong>Assigning a permission</strong>:</p>\n<p>You can assign existing permission via the custom <tt>perms</tt> manager available for both User (including custom ones) and Group models. You can add single permission or multiple both directly via its instance or using the formated string:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.auth.models</span> <span class=\"kn\">import</span> <span class=\"n\">User</span><span class=\"p\">,</span> <span class=\"n\">Group</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">fperms.models</span> <span class=\"kn\">import</span> <span class=\"n\">Perm</span>\n\n<span class=\"n\">perm_export</span> <span class=\"o\">=</span> <span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span>\n    <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"n\">enums</span><span class=\"o\">.</span><span class=\"n\">PERM_TYPE_GENERIC</span><span class=\"p\">,</span>\n    <span class=\"n\">codename</span><span class=\"o\">=</span><span class=\"s1\">'export'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"n\">perm_import</span> <span class=\"o\">=</span> <span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span>\n    <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"n\">enums</span><span class=\"o\">.</span><span class=\"n\">PERM_TYPE_GENERIC</span><span class=\"p\">,</span>\n    <span class=\"n\">codename</span><span class=\"o\">=</span><span class=\"s1\">'import'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"n\">User</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">pk</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">perms</span><span class=\"o\">.</span><span class=\"n\">add_perm</span><span class=\"p\">(</span><span class=\"n\">perm_export</span><span class=\"p\">)</span>\n<span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">perms</span><span class=\"o\">.</span><span class=\"n\">add_perm</span><span class=\"p\">(</span><span class=\"n\">perms</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">perm_export</span><span class=\"p\">,</span> <span class=\"n\">perm_import</span><span class=\"p\">])</span>\n\n<span class=\"n\">group</span> <span class=\"o\">=</span> <span class=\"n\">Group</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">pk</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"n\">group</span><span class=\"o\">.</span><span class=\"n\">perms</span><span class=\"o\">.</span><span class=\"n\">add_perm</span><span class=\"p\">(</span><span class=\"n\">perms</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'generic.export'</span><span class=\"p\">,</span> <span class=\"s1\">'generic.import'</span><span class=\"p\">])</span>\n</pre>\n<p>By default if said permission does not exist, it will raise an exception. You can override this behavior by setting <tt>PERM_AUTO_CREATE</tt> variable in your project settings to <tt>True</tt>, assigning a permission will then create it as well if it does not exist.</p>\n<p><strong>Retrieving permission instance</strong>:</p>\n<p>You can get a permission instance directly from the model or via the string representation.</p>\n<pre><span class=\"n\">perm</span> <span class=\"o\">=</span> <span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"n\">enums</span><span class=\"o\">.</span><span class=\"n\">PERM_TYPE_GENERIC</span><span class=\"p\">,</span> <span class=\"n\">codename</span><span class=\"o\">=</span><span class=\"s1\">'export'</span><span class=\"p\">)</span>\n<span class=\"n\">perm</span> <span class=\"o\">=</span> <span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get_from_str</span><span class=\"p\">(</span><span class=\"s1\">'generic.export'</span><span class=\"p\">)</span>\n</pre>\n<p><strong>Checking permission</strong>:</p>\n<p>You can check whether the user or group has a required permission via <tt>has_perm</tt> method of the <tt>perms</tt> manager again using both the permission instance or the string representation.</p>\n<pre><span class=\"o\">...</span>\n<span class=\"n\">perm</span> <span class=\"o\">=</span> <span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span>\n    <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"n\">enums</span><span class=\"o\">.</span><span class=\"n\">PERM_TYPE_GENERIC</span><span class=\"p\">,</span>\n    <span class=\"n\">codename</span><span class=\"o\">=</span><span class=\"s1\">'export'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">perms</span><span class=\"o\">.</span><span class=\"n\">has_perm</span><span class=\"p\">(</span><span class=\"n\">perm</span><span class=\"p\">)</span>\n<span class=\"k\">assert</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">perms</span><span class=\"o\">.</span><span class=\"n\">has_perm</span><span class=\"p\">(</span><span class=\"s1\">'generic.export'</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"built-in-perm-types\">\n<h2>Built in perm types</h2>\n<p><strong>generic</strong></p>\n<ul>\n<li>generic permission useful for project wide permissions</li>\n<li>type is defined as <tt>fperms.enums.PERM_TYPE_GENERIC</tt>, it is the default permission type</li>\n<li>it requires <tt>type</tt> and <tt>codename</tt> fields (type being default only the codename is actually required)</li>\n<li>string representation is <tt><span class=\"pre\">'generic.&lt;codename&gt;'</span></tt></li>\n</ul>\n<pre><span class=\"o\">...</span>\n<span class=\"c1\"># equivalent results:</span>\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span>\n    <span class=\"n\">codename</span><span class=\"o\">=</span><span class=\"s1\">'export'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create_from_str</span><span class=\"p\">(</span><span class=\"s1\">'generic.export'</span><span class=\"p\">)</span>\n</pre>\n<p><strong>model</strong></p>\n<ul>\n<li>model level permission analogous to the builtin django permissions</li>\n<li>type is defined as <tt>fperms.enums.PERM_TYPE_MODEL</tt></li>\n<li>it requires <tt>type</tt>, <tt>content_type</tt> and <tt>codename</tt> fields</li>\n<li>django admin is using codenames <tt>add</tt>, <tt>change</tt> and <tt>delete</tt> for its inner workings</li>\n<li>string representation is <tt><span class=\"pre\">'model.&lt;app_label&gt;.&lt;module_name&gt;.&lt;codename&gt;'</span></tt></li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">fperms</span> <span class=\"kn\">import</span> <span class=\"n\">enums</span>\n<span class=\"kn\">from</span> <span class=\"nn\">fprems.utils</span> <span class=\"kn\">import</span> <span class=\"n\">get_content_type</span>\n<span class=\"o\">...</span>\n<span class=\"c1\"># equivalent results:</span>\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span>\n    <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"n\">enums</span><span class=\"o\">.</span><span class=\"n\">PERM_TYPE_MODEL</span><span class=\"p\">,</span>\n    <span class=\"n\">content_type</span><span class=\"o\">=</span><span class=\"n\">get_content_type</span><span class=\"p\">(</span><span class=\"n\">Article</span><span class=\"p\">),</span>\n    <span class=\"n\">codename</span><span class=\"o\">=</span><span class=\"s1\">'add'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create_from_str</span><span class=\"p\">(</span><span class=\"s1\">'model.articles.Article.add'</span><span class=\"p\">)</span>\n</pre>\n<p><strong>object</strong></p>\n<ul>\n<li>model level permission specific per object</li>\n<li>type is defined as <tt>fperms.enums.PERM_TYPE_OBJECT</tt></li>\n<li>it requires <tt>type</tt>, <tt>content_type</tt>, <tt>object_id</tt> and <tt>codename</tt> fields</li>\n<li>django admin is using codenames <tt>add</tt>, <tt>change</tt> and <tt>delete</tt> for its inner workings</li>\n<li>string representation is <tt><span class=\"pre\">'object.&lt;app_label&gt;.&lt;module_name&gt;.&lt;codename&gt;'</span></tt></li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">fperms</span> <span class=\"kn\">import</span> <span class=\"n\">enums</span>\n<span class=\"kn\">from</span> <span class=\"nn\">fprems.utils</span> <span class=\"kn\">import</span> <span class=\"n\">get_content_type</span>\n<span class=\"o\">...</span>\n<span class=\"n\">article</span> <span class=\"o\">=</span> <span class=\"n\">Article</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">pk</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"c1\"># equivalent results:</span>\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span>\n    <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"n\">enums</span><span class=\"o\">.</span><span class=\"n\">PERM_TYPE_OBJECT</span><span class=\"p\">,</span>\n    <span class=\"n\">content_type</span><span class=\"o\">=</span><span class=\"n\">get_content_type</span><span class=\"p\">(</span><span class=\"n\">Article</span><span class=\"p\">),</span>\n    <span class=\"n\">object_id</span><span class=\"o\">=</span><span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">pk</span><span class=\"p\">,</span>\n    <span class=\"n\">codename</span><span class=\"o\">=</span><span class=\"s1\">'add'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create_from_str</span><span class=\"p\">(</span><span class=\"s1\">'object.articles.Article.add'</span><span class=\"p\">,</span> <span class=\"n\">obj_id</span><span class=\"o\">=</span><span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">pk</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># creating multiple permissions for a single object at once is supported</span>\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create_from_str</span><span class=\"p\">(</span><span class=\"n\">perms</span><span class=\"o\">=</span><span class=\"p\">[</span>\n                                <span class=\"s1\">'object.articles.Article.add'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'object.articles.Article.change'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'object.articles.Article.delete'</span><span class=\"p\">,</span>\n                            <span class=\"p\">],</span> <span class=\"n\">obj_id</span><span class=\"o\">=</span><span class=\"n\">article</span><span class=\"o\">.</span><span class=\"n\">pk</span><span class=\"p\">)</span>\n</pre>\n<p><strong>field</strong></p>\n<ul>\n<li>model level permission specific per model field</li>\n<li>type is defined as <tt>fperms.enums.PERM_TYPE_FIELD</tt></li>\n<li>it requires <tt>type</tt>, <tt>content_type</tt>, <tt>field_name</tt> and <tt>codename</tt> fields</li>\n<li>string representation is <tt><span class=\"pre\">'field.&lt;app_label&gt;.&lt;module_name&gt;.&lt;field_name&gt;.&lt;codename&gt;'</span></tt></li>\n<li>TODO:  this permission type is not fully implemented yet</li>\n</ul>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">fperms</span> <span class=\"kn\">import</span> <span class=\"n\">enums</span>\n<span class=\"kn\">from</span> <span class=\"nn\">fprems.utils</span> <span class=\"kn\">import</span> <span class=\"n\">get_content_type</span>\n<span class=\"o\">...</span>\n<span class=\"n\">article</span> <span class=\"o\">=</span> <span class=\"n\">Article</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">pk</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"c1\"># equivalent results:</span>\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span>\n    <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"n\">enums</span><span class=\"o\">.</span><span class=\"n\">PERM_TYPE_FIELD</span><span class=\"p\">,</span>\n    <span class=\"n\">content_type</span><span class=\"o\">=</span><span class=\"n\">get_content_type</span><span class=\"p\">(</span><span class=\"n\">Article</span><span class=\"p\">),</span>\n    <span class=\"n\">field_name</span><span class=\"o\">=</span><span class=\"s1\">'name'</span><span class=\"p\">,</span>\n    <span class=\"n\">codename</span><span class=\"o\">=</span><span class=\"s1\">'add'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"n\">Perm</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create_from_str</span><span class=\"p\">(</span><span class=\"s1\">'field.articles.Article.name.add'</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"admin\">\n<h2>Admin</h2>\n<p>Flexible permisssions support django admin interface, to enable them you need to first update the list of authentication backends in your project settings:</p>\n<pre><span class=\"n\">AUTHENTICATION_BACKENDS</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"s1\">'django.contrib.auth.backends.ModelBackend'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'fperms.backends.PermBackend'</span><span class=\"p\">,</span>\n<span class=\"p\">]</span>\n</pre>\n<p>and then simply subclass the <tt>fperms.admin.PermModelAdmin</tt> instead of the regular <tt>admin.ModelAdmin</tt>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.contrib</span> <span class=\"kn\">import</span> <span class=\"n\">admin</span>\n<span class=\"kn\">from</span> <span class=\"nn\">fperms.admin</span> <span class=\"kn\">import</span> <span class=\"n\">PermModelAdmin</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">articles.models</span> <span class=\"kn\">import</span> <span class=\"n\">Article</span>\n\n\n<span class=\"nd\">@admin</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"n\">Article</span><span class=\"p\">)</span>\n<span class=\"k\">class</span> <span class=\"nc\">ArticleAdmin</span><span class=\"p\">(</span><span class=\"n\">PermModelAdmin</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n</pre>\n<p>To enable per-instance permission support, set <tt>perms_per_instance</tt> property of the admin class to <tt>True</tt>.</p>\n<pre><span class=\"o\">...</span>\n<span class=\"nd\">@admin</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"n\">Article</span><span class=\"p\">)</span>\n<span class=\"k\">class</span> <span class=\"nc\">ArticleAdmin</span><span class=\"p\">(</span><span class=\"n\">PermModelAdmin</span><span class=\"p\">):</span>\n\n    <span class=\"n\">perms_per_instance</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n</pre>\n<p>User still needs model level permission for each model it should be able to access via admin site.</p>\n<p>If the <tt>perms_per_instance</tt> option is set to <tt>True</tt>, author of a new instance will automatically receive the permission to update and delete said instance.\nYou can override this behavior by setting <tt>perms_per_instance_author_change</tt> and <tt>perms_per_instance_author_delete</tt> admin properties respectively to <tt>False</tt>.</p>\n</div>\n<div id=\"running-tests\">\n<h2>Running Tests</h2>\n<p>Does the code actually work?</p>\n<pre>source &lt;YOURVIRTUALENV&gt;/bin/activate\n(myenv) $ pip install tox\n(myenv) $ tox\n</pre>\n</div>\n<div id=\"credits\">\n<h2>Credits</h2>\n<p>Tools used in rendering this package:</p>\n<ul>\n<li><a href=\"https://github.com/audreyr/cookiecutter\" rel=\"nofollow\">Cookiecutter</a></li>\n<li><a href=\"https://github.com/pydanny/cookiecutter-djangopackage\" rel=\"nofollow\">cookiecutter-djangopackage</a></li>\n</ul>\n</div>\n<div id=\"history\">\n<h2>History</h2>\n<h2 id=\"id1\"><span class=\"section-subtitle\">0.1.0 (2018-02-13)</span></h2>\n<ul>\n<li>First release on PyPI.</li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 5672304, "releases": {"0.4.0": [{"comment_text": "", "digests": {"md5": "a256965024970765df9df925b5e8be42", "sha256": "7036a7b8a68a7a0c967b92ffabba50a112e9e6ca24c236d38834d03b82341af1"}, "downloads": -1, "filename": "django-fperms-0.4.0.tar.gz", "has_sig": false, "md5_digest": "a256965024970765df9df925b5e8be42", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12682, "upload_time": "2018-04-17T13:40:32", "upload_time_iso_8601": "2018-04-17T13:40:32.605706Z", "url": "https://files.pythonhosted.org/packages/70/d0/f5a587bef0d29a9e40f7eea2921868ae56ab13bf6e41a9f627e8ef42ffe6/django-fperms-0.4.0.tar.gz", "yanked": false}], "0.4.1": [{"comment_text": "", "digests": {"md5": "77650bee5a4ce6cd4c2f0b639efb4df5", "sha256": "37342daf062adf1b6f9a822851fcc0fb52ad92ed76b24e6f77c1d6f169bf67af"}, "downloads": -1, "filename": "django-fperms-0.4.1.tar.gz", "has_sig": false, "md5_digest": "77650bee5a4ce6cd4c2f0b639efb4df5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12686, "upload_time": "2018-04-25T11:57:35", "upload_time_iso_8601": "2018-04-25T11:57:35.453281Z", "url": "https://files.pythonhosted.org/packages/82/ea/a88c1607c31b761dec02313b629614f2e8dc03e89aabeb2c358d2173d2e2/django-fperms-0.4.1.tar.gz", "yanked": false}], "0.4.2": [{"comment_text": "", "digests": {"md5": "313b7e724d8acd923d4e3a33fd01598c", "sha256": "cbd5d4b144c48c3e40c2bcc633e3c046e7102d0b6a41570f3029cf0de668a012"}, "downloads": -1, "filename": "django-fperms-0.4.2.tar.gz", "has_sig": false, "md5_digest": "313b7e724d8acd923d4e3a33fd01598c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12714, "upload_time": "2018-04-27T09:15:39", "upload_time_iso_8601": "2018-04-27T09:15:39.069751Z", "url": "https://files.pythonhosted.org/packages/f1/95/e5b7cc394032c75c11077a311057c84f640a259639049611e8eab6a2c74d/django-fperms-0.4.2.tar.gz", "yanked": false}], "0.4.3": [{"comment_text": "", "digests": {"md5": "1ee80b6371b4390f52f2559da3c41437", "sha256": "545eccb9082315bb67c5417c6a64545345b822ee194884ac83c6bc704694b25a"}, "downloads": -1, "filename": "django-fperms-0.4.3.tar.gz", "has_sig": false, "md5_digest": "1ee80b6371b4390f52f2559da3c41437", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12835, "upload_time": "2019-08-12T08:38:09", "upload_time_iso_8601": "2019-08-12T08:38:09.468218Z", "url": "https://files.pythonhosted.org/packages/68/d4/5880c6d6db96cc809f787d0bbd4b8395bee41a231b3d2bd392c5177cad5e/django-fperms-0.4.3.tar.gz", "yanked": false}], "0.4.4": [{"comment_text": "", "digests": {"md5": "7946c0fb3bc8b6fe5111254defb3a36f", "sha256": "75bcf921faa10d2e60c4492361f5128166933d247458ff487eceec151f6af307"}, "downloads": -1, "filename": "django-fperms-0.4.4.tar.gz", "has_sig": false, "md5_digest": "7946c0fb3bc8b6fe5111254defb3a36f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12839, "upload_time": "2019-08-13T14:24:51", "upload_time_iso_8601": "2019-08-13T14:24:51.153979Z", "url": "https://files.pythonhosted.org/packages/a7/c0/2827153504b7b582e66f2f3aeb8a292d46ee32f1d83532d850392c0f6732/django-fperms-0.4.4.tar.gz", "yanked": false}], "0.4.5": [{"comment_text": "", "digests": {"md5": "ca7c25f9076d9dc7f083b96ece9cc4d5", "sha256": "4e0a54c98f99896af2db15317a839233ccc3757304e676c4fecd0787f26ac99b"}, "downloads": -1, "filename": "django-fperms-0.4.5.tar.gz", "has_sig": false, "md5_digest": "ca7c25f9076d9dc7f083b96ece9cc4d5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14133, "upload_time": "2019-08-13T14:58:54", "upload_time_iso_8601": "2019-08-13T14:58:54.322402Z", "url": "https://files.pythonhosted.org/packages/a5/19/c24220a4b8ee8eb8f6d86faab493f00e328cdfa3fc939e1baf2bcf09f2d6/django-fperms-0.4.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ca7c25f9076d9dc7f083b96ece9cc4d5", "sha256": "4e0a54c98f99896af2db15317a839233ccc3757304e676c4fecd0787f26ac99b"}, "downloads": -1, "filename": "django-fperms-0.4.5.tar.gz", "has_sig": false, "md5_digest": "ca7c25f9076d9dc7f083b96ece9cc4d5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14133, "upload_time": "2019-08-13T14:58:54", "upload_time_iso_8601": "2019-08-13T14:58:54.322402Z", "url": "https://files.pythonhosted.org/packages/a5/19/c24220a4b8ee8eb8f6d86faab493f00e328cdfa3fc939e1baf2bcf09f2d6/django-fperms-0.4.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:36:00 2020"}
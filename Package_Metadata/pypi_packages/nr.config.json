{"info": {"author": "Niklas Rosenstein", "author_email": "rosensteinniklas@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "# nr.config\n\nThe `nr.config` package helps with configuration file processing and dynamic reloading tasks.\nIt can serve as a generic library or give you a fast and easy framework.\n\n## Quickstart\n\nThe `nr.config.process_config()` function is the main function for processing config data. It\nexpects the data to process as well as a number of processor plugins that will run over config.\nA common pattern is to use a `conf` section to hydrate variables for the remainder of the\nconfiguration.\n\n```py\nfrom nr.config import process_config\nfrom nr.config.plugins import Vars\nimport yaml\n\nwith open('var/conf/runtime.yaml') as fp:\n  data = yaml.safe_load(fp)\n\nconfig = process_config(data['runtime'], Vars({'conf': data['conf']}))\n```\n\nThis particular example allows the use of references in the `runtime` block.\n\n```yaml\nconf:\n  value: 42\nruntime:\n  answer: '{{conf.value}}'\n```\n\nService applications may want to reload the configuration file whenever it changes. For this\npurpose the `nr.config` module provides the `ConfigReloadTask` that uses the `watchdog` module\nto observe file changes and reload the config when the file changes. Errors that occur during\nthe reload are automatically logged and the last valid configuration will be returned.\n\n```py\nfrom nr.config.reloader import ConfigReloadTask\nfrom nr.proxy import Proxy\n\nreload_task = ConfigReloadTask('var/conf/runtime.yaml', load_config_from_file)\nreload_task.reload_callback(callback)\nreload_task.start()\nconfig = Proxy(reload_task.get)\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://git.niklasrosenstein.com/NiklasRosenstein/nr-python-libs", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "nr.config", "package_url": "https://pypi.org/project/nr.config/", "platform": "", "project_url": "https://pypi.org/project/nr.config/", "project_urls": {"Homepage": "https://git.niklasrosenstein.com/NiklasRosenstein/nr-python-libs"}, "release_url": "https://pypi.org/project/nr.config/0.0.6/", "requires_dist": null, "requires_python": "", "summary": "Package description here.", "version": "0.0.6", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>nr.config</h1>\n<p>The <code>nr.config</code> package helps with configuration file processing and dynamic reloading tasks.\nIt can serve as a generic library or give you a fast and easy framework.</p>\n<h2>Quickstart</h2>\n<p>The <code>nr.config.process_config()</code> function is the main function for processing config data. It\nexpects the data to process as well as a number of processor plugins that will run over config.\nA common pattern is to use a <code>conf</code> section to hydrate variables for the remainder of the\nconfiguration.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">nr.config</span> <span class=\"kn\">import</span> <span class=\"n\">process_config</span>\n<span class=\"kn\">from</span> <span class=\"nn\">nr.config.plugins</span> <span class=\"kn\">import</span> <span class=\"n\">Vars</span>\n<span class=\"kn\">import</span> <span class=\"nn\">yaml</span>\n\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'var/conf/runtime.yaml'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">fp</span><span class=\"p\">:</span>\n  <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">yaml</span><span class=\"o\">.</span><span class=\"n\">safe_load</span><span class=\"p\">(</span><span class=\"n\">fp</span><span class=\"p\">)</span>\n\n<span class=\"n\">config</span> <span class=\"o\">=</span> <span class=\"n\">process_config</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">'runtime'</span><span class=\"p\">],</span> <span class=\"n\">Vars</span><span class=\"p\">({</span><span class=\"s1\">'conf'</span><span class=\"p\">:</span> <span class=\"n\">data</span><span class=\"p\">[</span><span class=\"s1\">'conf'</span><span class=\"p\">]}))</span>\n</pre>\n<p>This particular example allows the use of references in the <code>runtime</code> block.</p>\n<pre><span class=\"nt\">conf</span><span class=\"p\">:</span>\n  <span class=\"nt\">value</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">42</span>\n<span class=\"nt\">runtime</span><span class=\"p\">:</span>\n  <span class=\"nt\">answer</span><span class=\"p\">:</span> <span class=\"s\">'{{conf.value}}'</span>\n</pre>\n<p>Service applications may want to reload the configuration file whenever it changes. For this\npurpose the <code>nr.config</code> module provides the <code>ConfigReloadTask</code> that uses the <code>watchdog</code> module\nto observe file changes and reload the config when the file changes. Errors that occur during\nthe reload are automatically logged and the last valid configuration will be returned.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">nr.config.reloader</span> <span class=\"kn\">import</span> <span class=\"n\">ConfigReloadTask</span>\n<span class=\"kn\">from</span> <span class=\"nn\">nr.proxy</span> <span class=\"kn\">import</span> <span class=\"n\">Proxy</span>\n\n<span class=\"n\">reload_task</span> <span class=\"o\">=</span> <span class=\"n\">ConfigReloadTask</span><span class=\"p\">(</span><span class=\"s1\">'var/conf/runtime.yaml'</span><span class=\"p\">,</span> <span class=\"n\">load_config_from_file</span><span class=\"p\">)</span>\n<span class=\"n\">reload_task</span><span class=\"o\">.</span><span class=\"n\">reload_callback</span><span class=\"p\">(</span><span class=\"n\">callback</span><span class=\"p\">)</span>\n<span class=\"n\">reload_task</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n<span class=\"n\">config</span> <span class=\"o\">=</span> <span class=\"n\">Proxy</span><span class=\"p\">(</span><span class=\"n\">reload_task</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 7047305, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "a3c17cc7014d01bcf24829969552bb13", "sha256": "cc333a50574f1beb58c058613b024adab9690d4377299ea0afd4d965a5586677"}, "downloads": -1, "filename": "nr.config-0.0.1.tar.gz", "has_sig": false, "md5_digest": "a3c17cc7014d01bcf24829969552bb13", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7377, "upload_time": "2020-03-20T17:18:47", "upload_time_iso_8601": "2020-03-20T17:18:47.748044Z", "url": "https://files.pythonhosted.org/packages/a3/82/f20238fde25f962acd14884d02ef3e9703d5810ffac74019d1e7b4c1ed4d/nr.config-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "8e730757d58bc53b852889751e9bb543", "sha256": "df81529074dbb47af0a1c6c9867432073842348ab6d64cbc9d5453316649366f"}, "downloads": -1, "filename": "nr.config-0.0.2.tar.gz", "has_sig": false, "md5_digest": "8e730757d58bc53b852889751e9bb543", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6429, "upload_time": "2020-03-21T00:21:11", "upload_time_iso_8601": "2020-03-21T00:21:11.434582Z", "url": "https://files.pythonhosted.org/packages/cc/3f/af1840551c01ce3c2cccaee94f0c09aac50ae6cbed39c24192d75f1b1101/nr.config-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "67451c6d644d3db23fe97640efbfd271", "sha256": "aa366b3d5be47183a3cd33d3f551fb7f0eafc6a8f64828f3437ad456059bfdf9"}, "downloads": -1, "filename": "nr.config-0.0.3.tar.gz", "has_sig": false, "md5_digest": "67451c6d644d3db23fe97640efbfd271", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7660, "upload_time": "2020-04-13T11:29:41", "upload_time_iso_8601": "2020-04-13T11:29:41.896883Z", "url": "https://files.pythonhosted.org/packages/54/79/1a7b7d802ae21beb9e4fd1aa30c7a7ff6fd90803be91a0733db562560f37/nr.config-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "b9d85edb908d7084cd24ccb08d73ccd2", "sha256": "f91b058a132fa8e9bbda590cdd24993a61de342b54355436313ea2a9fadd59ab"}, "downloads": -1, "filename": "nr.config-0.0.4.tar.gz", "has_sig": false, "md5_digest": "b9d85edb908d7084cd24ccb08d73ccd2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7724, "upload_time": "2020-04-14T19:34:51", "upload_time_iso_8601": "2020-04-14T19:34:51.520178Z", "url": "https://files.pythonhosted.org/packages/0f/e6/99e86b42f00ad96a652fcfce3de7c4049340e441ad6849f5432e8e92e250/nr.config-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "396b7bca8a904c560e123165eb00c8bc", "sha256": "8ca3ad5622e154d1ba8b684410f0300f4f31547bce0c7fb01edf36580963cc86"}, "downloads": -1, "filename": "nr.config-0.0.5.tar.gz", "has_sig": false, "md5_digest": "396b7bca8a904c560e123165eb00c8bc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7733, "upload_time": "2020-04-18T11:25:05", "upload_time_iso_8601": "2020-04-18T11:25:05.695410Z", "url": "https://files.pythonhosted.org/packages/8b/dc/1c01b47d9b3009f08071b17c1a77d170fd46b655b5daa82e385c8389de0a/nr.config-0.0.5.tar.gz", "yanked": false}], "0.0.6": [{"comment_text": "", "digests": {"md5": "6dcfdcb278ce3fb4e30a8d9c84fa68b7", "sha256": "bb69c50164e6cfe2486d911c87608f7931e3330dd3e7882fc6a5326b3a438848"}, "downloads": -1, "filename": "nr.config-0.0.6.tar.gz", "has_sig": false, "md5_digest": "6dcfdcb278ce3fb4e30a8d9c84fa68b7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7738, "upload_time": "2020-04-18T11:33:33", "upload_time_iso_8601": "2020-04-18T11:33:33.464614Z", "url": "https://files.pythonhosted.org/packages/c6/11/ee4cf7279b39d00f718e9a24131e2ec6b94d0c9ee10149163243093bce2b/nr.config-0.0.6.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "6dcfdcb278ce3fb4e30a8d9c84fa68b7", "sha256": "bb69c50164e6cfe2486d911c87608f7931e3330dd3e7882fc6a5326b3a438848"}, "downloads": -1, "filename": "nr.config-0.0.6.tar.gz", "has_sig": false, "md5_digest": "6dcfdcb278ce3fb4e30a8d9c84fa68b7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7738, "upload_time": "2020-04-18T11:33:33", "upload_time_iso_8601": "2020-04-18T11:33:33.464614Z", "url": "https://files.pythonhosted.org/packages/c6/11/ee4cf7279b39d00f718e9a24131e2ec6b94d0c9ee10149163243093bce2b/nr.config-0.0.6.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:44:29 2020"}
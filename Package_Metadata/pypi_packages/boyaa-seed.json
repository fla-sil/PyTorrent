{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: Mozilla Public License 2.0 (MPL 2.0)", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "\n# \u9879\u76ee\u6982\u8ff0\nSeed\u81ea\u52a9\u6570\u636e\u5c55\u793a\u7cfb\u7edf\u53ea\u662f\u4e00\u6b3e\u7b80\u6613\u7684BI\u7cfb\u7edf\uff0c\u5b83\u65b9\u4fbf\u5feb\u6377\uff0c\u53ef\u4ee5\u901a\u8fc7\u7b80\u6613\u7684\u62d6\u62fd\u5e76\u914d\u7f6e\u62a5\u8868\uff0c\u4f7f\u53ea\u4f1aSQL\u7684\u7edf\u8ba1\u4eba\u5458\u90fd\u80fd\u5feb\u901f\u642d\u5efa\u51fa\u5c5e\u4e8e\u81ea\u5df1\u7684\u6570\u636e\u53ef\u89c6\u5316\u62a5\u8868\u3002\n<div align=\"center\">\n<img src=\"docs/\u5176\u4ed6\u56fe\u7247/\u9ed8\u8ba4\u9996\u9875.png\" height=\"300px\" alt=\"\u9996\u9875\" >\n<img src=\"docs/\u5176\u4ed6\u56fe\u7247/\u9ed8\u8ba4\u4e1a\u52a1\u56fe.png\" height=\"300px\" alt=\"\u9ed8\u8ba4\u4e1a\u52a1\" >\n</div>\n\n\n## \u6d4b\u8bd5\u7f51\u5740\nhttp://seed.boyaa.com\n\n\u6d4b\u8bd5\u8d26\u53f7: admin \u5bc6\u7801: admin123\n\n## \u7cfb\u7edf\u64cd\u4f5c\u624b\u518c\n[\u5982\u4f55\u64cd\u4f5cSeed\u81ea\u52a9\u6570\u636e\u5c55\u793a\u7cfb\u7edf](docs/README.md)\n\n## \u5982\u4f55\u5b89\u88c5\n1. \u9700\u8981\u73af\u5883\n    ```\n    \u7cfb\u7edf\u73af\u5883: Linux, Mac\u548cWindows\n    \u8fd0\u884c\u73af\u5883: Python3.5+\n    \u5176\u4ed6\u8f6f\u4ef6: Redis, MySQL(Postgresql)\n\n    \u6ce8: \u6570\u636e\u5e93\u4e00\u5b9a\u8981\u4f7f\u7528\u7a7a\u5e93\u3002\n    ```\n2. \u5b89\u88c5\n- pip\u5b89\u88c5\n    ```\n    pip install boyaa-seed\n    ```\n\n- \u7f16\u8bd1\u5b89\u88c5\n    ```\n    \u83b7\u53d6\u4ee3\u7801 git clone git@github.com:BoyaaDataCenter/seed.git\n    \u8fdb\u5165\u6587\u4ef6\u5939 cd seed\n    \u7f16\u8bd1\u4ee3\u7801 python setup.py install\n    ```\n3. \u521d\u59cb\u5316seed\u7684config\u6587\u4ef6\n    ```\n    \u6267\u884cseed init\n    ```\n4. config\u6587\u4ef6\u8bbe\u7f6e\n    ```\n    \u6253\u5f00\u7528\u6237\u6839\u76ee\u5f55\u4e0b\u7684.seed/seed_conf.py\u6587\u4ef6\n    \u8fdb\u884c\u6570\u636e\u5e93\u7b49\u76f8\u5173\u7684\u914d\u7f6e\n    \u5982: vim ~/.seed/seed_conf.py\n    ```\n5. \u521d\u59cb\u5316\u6570\u636e\u5e93\n    ```\n    \u8fdb\u884c\u6570\u636e\u5e93\u521d\u59cb\u5316, \u6267\u884c\n    seed upgrade\n    \u5373\u53ef\n    ```\n6. \u8fd0\u884cweb\u7a0b\u5e8f\n    ```\n    \u6267\u884c seed run web\u8fd0\u884cweb\u7cfb\u7edf\n    \u6ce8:\u56e0uwsgi\u6a21\u5757\u4e0d\u652f\u6301Windows,\u6545\u53ea\u80fd\u4ee5\u5f00\u53d1\u6a21\u5f0f\u8fd0\u884c:seed run web --debug=True\n    ```\n7. \u8bbf\u95ee\n    ```\n    127.0.0.1:5000 \u53ef\u8bbf\u95ee\u7cfb\u7edf\n    ```\n\n## \u5982\u4f55\u5347\u7ea7\n1. \u83b7\u53d6\u5230\u6700\u65b0\u4ee3\u7801\n2. \u6253\u5305seed\n    ```\n    \u8fdb\u5165seed\u9879\u76ee\u6839\u76ee\u5f55\n    \u8fd0\u884c python setup.py install\n    ```\n3. \u8fd0\u884cweb\u7a0b\u5e8f\n    ```\n    \u6267\u884c seed run web\u8fd0\u884cweb\u7cfb\u7edf\n    ```\n4. \u8bbf\u95ee\n    ```\n    127.0.0.1:5000 \u53ef\u8bbf\u95ee\u7cfb\u7edf\n    ```\n\n## \u5f00\u53d1\u6a21\u5f0f\n1. \u5b89\u88c5seed\u7684pip\u8fd0\u884c\u6587\u4ef6\u5230\u7b2c\u4e09\u65b9\u5e93\u4e2d\n    ```\n    python setup.py develop\n    ```\n2. \u8fd0\u884cseed\u6570\u636e\n    ```\n    seed init\n    ```\n3. \u8bbe\u7f6e\u6570\u636e\u5e93\n    ```\n    vim ~/.seed/seed_config.py\n    ```\n4. \u8fd0\u884cweb\n    ```\n    seed run web --debug=True\n    ```\n\n\n## \u56fe\u5f62\u8bf4\u660e\n\n### 1\u3001\u6851\u57fa\u56fe\u4f7f\u7528\u89c4\u8303\n\u6851\u57fa\u56fe\u6e90\u6570\u636e\u9700\u53ef\u4ee5\u5c06\u6570\u636e\u6309\u7167\u4ee5\u4e0b\u5f62\u5f0f\u7ec4\u5408:\n```\nselet source, target, value  from table\nunion all\nselet source, target, value from table\n```\n(\u4e0a\u9762\u4e00\u6761sql\u7684target\u9700\u8981\u548c\u4e0b\u4e00\u6761sql\u7684source\u76f8\u540c,\u5426\u5219\u5c31\u4e0d\u80fd\u5f62\u6210\u6851\u57fa\u56fe\u5f62\u5f0f\nsource, target \u8fd9\u4e24\u4e2a\u5b57\u6bb5\u522b\u540d\u5df2\u56fa\u5b9a)\n\n\n##### \u6570\u636e\u793a\u4f8b\u8bf4\u660e(\u4ee5mysql\u4e3a\u4f8b):\n```\nCREATE TABLE `sankey_testdata` (\n  `state` varchar(20) ,\n  `address` varchar(20) ,\n  `province` varchar(20) ,\n  `value` int\n) ENGINE=innodb  DEFAULT CHARSET=utf8;\n```\n```\ninsert into sankey_testdata values\n('\u4e1c\u90e8\u5730\u533a',  '\u4e1c\u4e09\u7701',  '\u9ed1\u9f99\u6c5f',246),\n('\u4e1c\u90e8\u5730\u533a',  '\u4e1c\u4e09\u7701',  '\u5409\u6797', 319),\n('\u4e1c\u90e8\u5730\u533a',  '\u4e1c\u4e09\u7701',  '\u8fbd\u5b81', 871),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u5e7f\u4e1c', 323),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u5e7f\u897f', 250),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u6d77\u5357', 431),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u798f\u5efa', 236),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u9999\u6e2f', 334),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u6fb3\u95e8', 544),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u53f0\u6e7e', 915),\n('\u4e1c\u90e8\u5730\u533a',  '\u73af\u6e24\u6d77',  '\u5317\u4eac', 687),\n('\u4e1c\u90e8\u5730\u533a',  '\u73af\u6e24\u6d77',  '\u5929\u6d25', 340),\n('\u4e1c\u90e8\u5730\u533a',  '\u73af\u6e24\u6d77',  '\u5185\u8499\u53e4',234),\n('\u4e1c\u90e8\u5730\u533a',  '\u73af\u6e24\u6d77',  '\u6cb3\u5317', 282),\n('\u4e1c\u90e8\u5730\u533a',  '\u73af\u6e24\u6d77',  '\u5c71\u4e1c', 102),\n('\u4e1c\u90e8\u5730\u533a',  '\u957f\u4e09\u89d2',  '\u4e0a\u6d77', 201),\n('\u4e1c\u90e8\u5730\u533a',  '\u957f\u4e09\u89d2',  '\u6c5f\u82cf', 717),\n('\u4e1c\u90e8\u5730\u533a',  '\u957f\u4e09\u89d2',  '\u6d59\u6c5f', 669),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5317',     '\u9752\u6d77', 335),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5317',     '\u7518\u8083', 357),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5317',     '\u5b81\u590f', 456),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5317',     '\u5c71\u897f', 119),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5317',     '\u65b0\u7586', 984),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5357',     '\u4e91\u5357', 611);\n```\n##### \u6851\u57fa\u56fe\u67e5\u8be2SQL\u793a\u4f8b:\n```\nSELECT\n  state as source,\n  address as target,\n  sum(value) as value\nFROM sankey_testdata\nGROUP BY state,address\nunion all\nSELECT\n  address as source,\n  province as target ,\n  sum(value) as value\nFROM sankey_testdata\nGROUP BY address,province\n```\n\n\n### 2\u3001\u5730\u56fe\u4f7f\u7528\u89c4\u8303\n\n\u5730\u56fe\u6e90\u6570\u636e\u81f3\u5c11\u9700\u8981\u4ee5\u4e0b\u5b57\u6bb5\n```\n\u7ecf\u5ea6\n\u7eac\u5ea6\n\u533a\u57df\u540d\u79f0\n\u533a\u57dfid\n\u533a\u57df\u4e0a\u7ea7id\n\u533a\u57df\u7ea7\u522bid(\u6ce8:\u533a\u57df\u7ea7\u522b\u9700\u6309\u4ee5\u4e0b\u5206\u7c7b,\u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u663e\u793a\u6df7\u4e71)\n   1-\u56fd\u5bb6\n   2-\u7701\u4efd\n   3-\u5730\u5e02\n   4-\u533a\u53bf/\u4e61\u9547(\u8857\u9053)\n   7-\u793e\u533a\n   8-\u5177\u4f53\u4f4d\u7f6e\n```\n\n##### \u6570\u636e\u793a\u4f8b\u8bf4\u660e(\u4ee5mysql\u4e3a\u4f8b):\n```\nCREATE TABLE `map_testdata` (\n  `fdate` date,\n  `fid` int comment '\u533a\u57dfid',\n  `region_name` varchar(100) comment '\u533a\u57df\u540d\u79f0',\n  `fpid` int comment '\u533a\u57df\u4e0a\u7ea7id',\n  `region_id` int comment '\u533a\u57df\u7ea7\u522bid',\n  `value1` int,\n  `value2` int,\n  `value3` int,\n  `lat` varchar(100) comment '\u7ecf\u5ea6',\n  `lng` varchar(100) comment '\u7eac\u5ea6'\n) ENGINE=innodb  DEFAULT CHARSET=utf8;\n```\n```\ninsert into map_testdata values\n('2019-05-08',1,'\u4e2d\u56fd',0,1,25000,10000,20000,'37.550339','104.114129'),\n('2019-05-08',107712,'\u5e7f\u4e1c\u7701',1,2,5000,3000,1000,'23.408003729025','113.39481755876'),\n('2019-05-08',112083,'\u6df1\u5733\u5e02',107712,3,3000,1000,1500,'22.546053546205','114.02597365732'),\n('2019-05-08',112313,'\u5357\u5c71\u533a',112083,4,2000,300,200,'22.558887751083','113.95072266574'),\n('2019-05-08',null,null,'112313',7,2,2,2,'22.5557455','114.026432'),\n('2019-05-08',null,null,'112313',7,40,40,40,'22.5658103','114.0948389'),\n('2019-05-08',null,null,'112313',7,166,166,166,'22.53615273','114.1144042'),\n('2019-05-08',null,null,'112313',7,80,80,80,'22.5232017','114.0353637'),\n('2019-05-08',null,null,'112313',7,14,14,14,'22.53781229','114.1248561'),\n('2019-05-08',null,null,'112313',7,1,1,1,'22.578339','114.140053'),\n('2019-05-08',null,null,'112313',7,1,1,1,'22.52957','114.200043'),\n('2019-05-08',null,null,'112313',7,33,33,33,'22.60465685','114.1245172'),\n('2019-05-08',null,null,'112313',7,154,154,154,'22.5465231','114.0245698'),\n('2019-05-08',null,null,'112313',7,1,1,1,'22.530012','114.199852'),\n('2019-05-08',null,null,'112313',7,12,12,12,'22.6010765','113.8757611'),\n('2019-05-08',null,null,'112313',7,5,5,5,'22.5274626','114.195732'),\n('2019-05-08',null,null,'112313',7,3,3,3,'22.58916333','113.9847973'),\n('2019-05-08',null,null,'112313',7,2,2,2,'22.510313','114.146149'),\n('2019-05-08',null,null,'112313',7,52,52,52,'22.56592831','114.1653427'),\n('2019-05-08',null,null,'112313',7,6,6,6,'22.5230185','113.8840307'),\n('2019-05-08',null,null,'112313',7,8,8,8,'22.55479675','113.876808'),\n('2019-05-08',null,null,'112313',7,2,2,2,'22.527546','114.1382295'),\n('2019-05-08',null,null,'112313',7,20,20,20,'22.60403745','113.8813462'),\n('2019-05-08',null,null,'112313',7,3,3,3,'22.53090833','114.0340117'),\n('2019-05-08',null,null,'112313',7,24,24,24,'22.52259221','114.1844415'),\n('2019-05-08',null,null,'112313',7,6,6,6,'22.56845417','113.8482768'),\n('2019-05-08',null,null,'112313',7,15,15,15,'22.50921313','114.1460804'),\n('2019-05-08',null,null,'112313',7,1,1,1,'22.52459','113.873619'),\n('2019-05-08',null,null,'112313',7,54,54,54,'22.51644502','113.9074763'),\n('2019-05-08',null,null,'112313',7,110,120,135,'22.54528264','113.9450687');\n```\n\n\n##### \u5730\u56fe\u67e5\u8be2SQL\u793a\u4f8b:\n\u4ee5\u4e0bSQL\u4e2d\u7684{}\u8868\u793a\u53d8\u91cf,\u4f7f\u7528\u5730\u56fe\u65f6\nregion_id,slat,elat,slng,elng,fpid\u5747\u4e3a\u5fc5\u987b\u53c2\u6570\n\npostgresql\u5199\u6cd5:\n```\nSELECT\n   a.region_name,\n   a.fid as fpid,\n   a.lat,\n   a.lng,\n   a.value1,\n   a.value2,\n   a.value3\nfrom  map_testdata a\nWHERE region_id = {region_id}\n  AND cast(lat AS decimal(20, 10)) > {slat}\n  AND cast(lat AS decimal(20, 10))< {elat}\n  AND cast(lng AS decimal(20, 10)) > {slng}\n  AND cast(lng AS decimal(20, 10))< {elng}\n  AND CASE cast( {fpid} AS bool ) WHEN TRUE THEN fpid={fpid} ELSE 1=1 END\n```\n\nmysql\u5199\u6cd5:\n```\nSELECT\n   a.region_name,\n   a.fid as fpid,\n   a.lat,\n   a.lng,\n   a.value1,\n   a.value2,\n   a.value3\nfrom  map_testdata a\nWHERE region_id = {region_id}\n  AND cast(lat AS decimal(20, 10)) > {slat}\n  AND cast(lat AS decimal(20, 10))< {elat}\n  AND cast(lng AS decimal(20, 10)) > {slng}\n  AND cast(lng AS decimal(20, 10))< {elng}\n  AND CASE {fpid}=true WHEN TRUE THEN fpid={fpid} ELSE 1=1 END\n```\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://seed.boyaa.com", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "boyaa-seed", "package_url": "https://pypi.org/project/boyaa-seed/", "platform": "", "project_url": "https://pypi.org/project/boyaa-seed/", "project_urls": {"Homepage": "http://seed.boyaa.com"}, "release_url": "https://pypi.org/project/boyaa-seed/0.1.6/", "requires_dist": ["alembic (==1.0.0)", "asn1crypto (==0.24.0)", "astroid (==2.0.1)", "certifi (==2018.8.24)", "cffi (==1.11.5)", "chardet (==3.0.4)", "click (==6.7)", "colorama (==0.3.9)", "cryptography (==2.3)", "decorator (==4.3.0)", "flake8 (==3.5.0)", "Flask (==1.0.2)", "Flask-Cors (==3.0.6)", "flask-marshmallow (==0.9.0)", "Flask-Migrate (==2.2.1)", "Flask-Script (==2.0.6)", "Flask-SQLAlchemy (==2.3.2)", "idna (==2.7)", "infinity (==1.4)", "intervals (==0.8.1)", "isort (==4.3.4)", "itsdangerous (==0.24)", "Jinja2 (==2.10.1)", "lazy-object-proxy (==1.3.1)", "Mako (==1.0.7)", "MarkupSafe (==1.0)", "marshmallow (==2.15.3)", "marshmallow-sqlalchemy (==0.14.0)", "mccabe (==0.6.1)", "psycopg2 (==2.7.5)", "pycodestyle (==2.3.1)", "pycparser (==2.18)", "pyflakes (==1.6.0)", "pylint (==2.0.1)", "PyMySQL (==0.9.2)", "python-dateutil (==2.7.3)", "python-editor (==1.0.3)", "redis (==2.10.6)", "requests (>=2.20.0)", "rope (==0.11.0)", "six (==1.11.0)", "SQLAlchemy (==1.3.3)", "SQLAlchemy-Utils (==0.33.3)", "typed-ast (==1.1.0)", "urllib3 (==1.25)", "validators (==0.12.2)", "Werkzeug (==0.14.1)", "wrapt (==1.10.11)", "WTForms (==2.2.1)", "WTForms-Alchemy (==0.16.7)", "WTForms-Components (==0.10.3)", "bcrypt (==3.1.4)", "uWSGI (==2.0.18)", "sqlparse (==0.3.0)", "impyla (==0.14.1)"], "requires_python": "", "summary": "seed data report system", "version": "0.1.6", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>\u9879\u76ee\u6982\u8ff0</h1>\n<p>Seed\u81ea\u52a9\u6570\u636e\u5c55\u793a\u7cfb\u7edf\u53ea\u662f\u4e00\u6b3e\u7b80\u6613\u7684BI\u7cfb\u7edf\uff0c\u5b83\u65b9\u4fbf\u5feb\u6377\uff0c\u53ef\u4ee5\u901a\u8fc7\u7b80\u6613\u7684\u62d6\u62fd\u5e76\u914d\u7f6e\u62a5\u8868\uff0c\u4f7f\u53ea\u4f1aSQL\u7684\u7edf\u8ba1\u4eba\u5458\u90fd\u80fd\u5feb\u901f\u642d\u5efa\u51fa\u5c5e\u4e8e\u81ea\u5df1\u7684\u6570\u636e\u53ef\u89c6\u5316\u62a5\u8868\u3002</p>\n<div>\n<img alt=\"\u9996\u9875\" height=\"300px\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f7d0d2c9bbd5c0e3eb093adcfa59b43ed1cd23ae/646f63732fe585b6e4bb96e59bbee789872fe9bb98e8aea4e9a696e9a1b52e706e67\">\n<img alt=\"\u9ed8\u8ba4\u4e1a\u52a1\" height=\"300px\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/208940f400f8edc1d25d4023a41d177d76cf63de/646f63732fe585b6e4bb96e59bbee789872fe9bb98e8aea4e4b89ae58aa1e59bbe2e706e67\">\n</div>\n<h2>\u6d4b\u8bd5\u7f51\u5740</h2>\n<p><a href=\"http://seed.boyaa.com\" rel=\"nofollow\">http://seed.boyaa.com</a></p>\n<p>\u6d4b\u8bd5\u8d26\u53f7: admin \u5bc6\u7801: admin123</p>\n<h2>\u7cfb\u7edf\u64cd\u4f5c\u624b\u518c</h2>\n<p><a href=\"docs/README.md\" rel=\"nofollow\">\u5982\u4f55\u64cd\u4f5cSeed\u81ea\u52a9\u6570\u636e\u5c55\u793a\u7cfb\u7edf</a></p>\n<h2>\u5982\u4f55\u5b89\u88c5</h2>\n<ol>\n<li>\u9700\u8981\u73af\u5883\n<pre><code>\u7cfb\u7edf\u73af\u5883: Linux, Mac\u548cWindows\n\u8fd0\u884c\u73af\u5883: Python3.5+\n\u5176\u4ed6\u8f6f\u4ef6: Redis, MySQL(Postgresql)\n\n\u6ce8: \u6570\u636e\u5e93\u4e00\u5b9a\u8981\u4f7f\u7528\u7a7a\u5e93\u3002\n</code></pre>\n</li>\n<li>\u5b89\u88c5</li>\n</ol>\n<ul>\n<li>\n<p>pip\u5b89\u88c5</p>\n<pre><code>pip install boyaa-seed\n</code></pre>\n</li>\n<li>\n<p>\u7f16\u8bd1\u5b89\u88c5</p>\n<pre><code>\u83b7\u53d6\u4ee3\u7801 git clone git@github.com:BoyaaDataCenter/seed.git\n\u8fdb\u5165\u6587\u4ef6\u5939 cd seed\n\u7f16\u8bd1\u4ee3\u7801 python setup.py install\n</code></pre>\n</li>\n</ul>\n<ol>\n<li>\u521d\u59cb\u5316seed\u7684config\u6587\u4ef6\n<pre><code>\u6267\u884cseed init\n</code></pre>\n</li>\n<li>config\u6587\u4ef6\u8bbe\u7f6e\n<pre><code>\u6253\u5f00\u7528\u6237\u6839\u76ee\u5f55\u4e0b\u7684.seed/seed_conf.py\u6587\u4ef6\n\u8fdb\u884c\u6570\u636e\u5e93\u7b49\u76f8\u5173\u7684\u914d\u7f6e\n\u5982: vim ~/.seed/seed_conf.py\n</code></pre>\n</li>\n<li>\u521d\u59cb\u5316\u6570\u636e\u5e93\n<pre><code>\u8fdb\u884c\u6570\u636e\u5e93\u521d\u59cb\u5316, \u6267\u884c\nseed upgrade\n\u5373\u53ef\n</code></pre>\n</li>\n<li>\u8fd0\u884cweb\u7a0b\u5e8f\n<pre><code>\u6267\u884c seed run web\u8fd0\u884cweb\u7cfb\u7edf\n\u6ce8:\u56e0uwsgi\u6a21\u5757\u4e0d\u652f\u6301Windows,\u6545\u53ea\u80fd\u4ee5\u5f00\u53d1\u6a21\u5f0f\u8fd0\u884c:seed run web --debug=True\n</code></pre>\n</li>\n<li>\u8bbf\u95ee\n<pre><code>127.0.0.1:5000 \u53ef\u8bbf\u95ee\u7cfb\u7edf\n</code></pre>\n</li>\n</ol>\n<h2>\u5982\u4f55\u5347\u7ea7</h2>\n<ol>\n<li>\u83b7\u53d6\u5230\u6700\u65b0\u4ee3\u7801</li>\n<li>\u6253\u5305seed\n<pre><code>\u8fdb\u5165seed\u9879\u76ee\u6839\u76ee\u5f55\n\u8fd0\u884c python setup.py install\n</code></pre>\n</li>\n<li>\u8fd0\u884cweb\u7a0b\u5e8f\n<pre><code>\u6267\u884c seed run web\u8fd0\u884cweb\u7cfb\u7edf\n</code></pre>\n</li>\n<li>\u8bbf\u95ee\n<pre><code>127.0.0.1:5000 \u53ef\u8bbf\u95ee\u7cfb\u7edf\n</code></pre>\n</li>\n</ol>\n<h2>\u5f00\u53d1\u6a21\u5f0f</h2>\n<ol>\n<li>\u5b89\u88c5seed\u7684pip\u8fd0\u884c\u6587\u4ef6\u5230\u7b2c\u4e09\u65b9\u5e93\u4e2d\n<pre><code>python setup.py develop\n</code></pre>\n</li>\n<li>\u8fd0\u884cseed\u6570\u636e\n<pre><code>seed init\n</code></pre>\n</li>\n<li>\u8bbe\u7f6e\u6570\u636e\u5e93\n<pre><code>vim ~/.seed/seed_config.py\n</code></pre>\n</li>\n<li>\u8fd0\u884cweb\n<pre><code>seed run web --debug=True\n</code></pre>\n</li>\n</ol>\n<h2>\u56fe\u5f62\u8bf4\u660e</h2>\n<h3>1\u3001\u6851\u57fa\u56fe\u4f7f\u7528\u89c4\u8303</h3>\n<p>\u6851\u57fa\u56fe\u6e90\u6570\u636e\u9700\u53ef\u4ee5\u5c06\u6570\u636e\u6309\u7167\u4ee5\u4e0b\u5f62\u5f0f\u7ec4\u5408:</p>\n<pre><code>selet source, target, value  from table\nunion all\nselet source, target, value from table\n</code></pre>\n<p>(\u4e0a\u9762\u4e00\u6761sql\u7684target\u9700\u8981\u548c\u4e0b\u4e00\u6761sql\u7684source\u76f8\u540c,\u5426\u5219\u5c31\u4e0d\u80fd\u5f62\u6210\u6851\u57fa\u56fe\u5f62\u5f0f\nsource, target \u8fd9\u4e24\u4e2a\u5b57\u6bb5\u522b\u540d\u5df2\u56fa\u5b9a)</p>\n<h5>\u6570\u636e\u793a\u4f8b\u8bf4\u660e(\u4ee5mysql\u4e3a\u4f8b):</h5>\n<pre><code>CREATE TABLE `sankey_testdata` (\n  `state` varchar(20) ,\n  `address` varchar(20) ,\n  `province` varchar(20) ,\n  `value` int\n) ENGINE=innodb  DEFAULT CHARSET=utf8;\n</code></pre>\n<pre><code>insert into sankey_testdata values\n('\u4e1c\u90e8\u5730\u533a',  '\u4e1c\u4e09\u7701',  '\u9ed1\u9f99\u6c5f',246),\n('\u4e1c\u90e8\u5730\u533a',  '\u4e1c\u4e09\u7701',  '\u5409\u6797', 319),\n('\u4e1c\u90e8\u5730\u533a',  '\u4e1c\u4e09\u7701',  '\u8fbd\u5b81', 871),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u5e7f\u4e1c', 323),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u5e7f\u897f', 250),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u6d77\u5357', 431),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u798f\u5efa', 236),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u9999\u6e2f', 334),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u6fb3\u95e8', 544),\n('\u4e1c\u90e8\u5730\u533a',  '\u534e\u5357',     '\u53f0\u6e7e', 915),\n('\u4e1c\u90e8\u5730\u533a',  '\u73af\u6e24\u6d77',  '\u5317\u4eac', 687),\n('\u4e1c\u90e8\u5730\u533a',  '\u73af\u6e24\u6d77',  '\u5929\u6d25', 340),\n('\u4e1c\u90e8\u5730\u533a',  '\u73af\u6e24\u6d77',  '\u5185\u8499\u53e4',234),\n('\u4e1c\u90e8\u5730\u533a',  '\u73af\u6e24\u6d77',  '\u6cb3\u5317', 282),\n('\u4e1c\u90e8\u5730\u533a',  '\u73af\u6e24\u6d77',  '\u5c71\u4e1c', 102),\n('\u4e1c\u90e8\u5730\u533a',  '\u957f\u4e09\u89d2',  '\u4e0a\u6d77', 201),\n('\u4e1c\u90e8\u5730\u533a',  '\u957f\u4e09\u89d2',  '\u6c5f\u82cf', 717),\n('\u4e1c\u90e8\u5730\u533a',  '\u957f\u4e09\u89d2',  '\u6d59\u6c5f', 669),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5317',     '\u9752\u6d77', 335),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5317',     '\u7518\u8083', 357),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5317',     '\u5b81\u590f', 456),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5317',     '\u5c71\u897f', 119),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5317',     '\u65b0\u7586', 984),\n('\u897f\u90e8\u5730\u533a',  '\u897f\u5357',     '\u4e91\u5357', 611);\n</code></pre>\n<h5>\u6851\u57fa\u56fe\u67e5\u8be2SQL\u793a\u4f8b:</h5>\n<pre><code>SELECT\n  state as source,\n  address as target,\n  sum(value) as value\nFROM sankey_testdata\nGROUP BY state,address\nunion all\nSELECT\n  address as source,\n  province as target ,\n  sum(value) as value\nFROM sankey_testdata\nGROUP BY address,province\n</code></pre>\n<h3>2\u3001\u5730\u56fe\u4f7f\u7528\u89c4\u8303</h3>\n<p>\u5730\u56fe\u6e90\u6570\u636e\u81f3\u5c11\u9700\u8981\u4ee5\u4e0b\u5b57\u6bb5</p>\n<pre><code>\u7ecf\u5ea6\n\u7eac\u5ea6\n\u533a\u57df\u540d\u79f0\n\u533a\u57dfid\n\u533a\u57df\u4e0a\u7ea7id\n\u533a\u57df\u7ea7\u522bid(\u6ce8:\u533a\u57df\u7ea7\u522b\u9700\u6309\u4ee5\u4e0b\u5206\u7c7b,\u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u663e\u793a\u6df7\u4e71)\n   1-\u56fd\u5bb6\n   2-\u7701\u4efd\n   3-\u5730\u5e02\n   4-\u533a\u53bf/\u4e61\u9547(\u8857\u9053)\n   7-\u793e\u533a\n   8-\u5177\u4f53\u4f4d\u7f6e\n</code></pre>\n<h5>\u6570\u636e\u793a\u4f8b\u8bf4\u660e(\u4ee5mysql\u4e3a\u4f8b):</h5>\n<pre><code>CREATE TABLE `map_testdata` (\n  `fdate` date,\n  `fid` int comment '\u533a\u57dfid',\n  `region_name` varchar(100) comment '\u533a\u57df\u540d\u79f0',\n  `fpid` int comment '\u533a\u57df\u4e0a\u7ea7id',\n  `region_id` int comment '\u533a\u57df\u7ea7\u522bid',\n  `value1` int,\n  `value2` int,\n  `value3` int,\n  `lat` varchar(100) comment '\u7ecf\u5ea6',\n  `lng` varchar(100) comment '\u7eac\u5ea6'\n) ENGINE=innodb  DEFAULT CHARSET=utf8;\n</code></pre>\n<pre><code>insert into map_testdata values\n('2019-05-08',1,'\u4e2d\u56fd',0,1,25000,10000,20000,'37.550339','104.114129'),\n('2019-05-08',107712,'\u5e7f\u4e1c\u7701',1,2,5000,3000,1000,'23.408003729025','113.39481755876'),\n('2019-05-08',112083,'\u6df1\u5733\u5e02',107712,3,3000,1000,1500,'22.546053546205','114.02597365732'),\n('2019-05-08',112313,'\u5357\u5c71\u533a',112083,4,2000,300,200,'22.558887751083','113.95072266574'),\n('2019-05-08',null,null,'112313',7,2,2,2,'22.5557455','114.026432'),\n('2019-05-08',null,null,'112313',7,40,40,40,'22.5658103','114.0948389'),\n('2019-05-08',null,null,'112313',7,166,166,166,'22.53615273','114.1144042'),\n('2019-05-08',null,null,'112313',7,80,80,80,'22.5232017','114.0353637'),\n('2019-05-08',null,null,'112313',7,14,14,14,'22.53781229','114.1248561'),\n('2019-05-08',null,null,'112313',7,1,1,1,'22.578339','114.140053'),\n('2019-05-08',null,null,'112313',7,1,1,1,'22.52957','114.200043'),\n('2019-05-08',null,null,'112313',7,33,33,33,'22.60465685','114.1245172'),\n('2019-05-08',null,null,'112313',7,154,154,154,'22.5465231','114.0245698'),\n('2019-05-08',null,null,'112313',7,1,1,1,'22.530012','114.199852'),\n('2019-05-08',null,null,'112313',7,12,12,12,'22.6010765','113.8757611'),\n('2019-05-08',null,null,'112313',7,5,5,5,'22.5274626','114.195732'),\n('2019-05-08',null,null,'112313',7,3,3,3,'22.58916333','113.9847973'),\n('2019-05-08',null,null,'112313',7,2,2,2,'22.510313','114.146149'),\n('2019-05-08',null,null,'112313',7,52,52,52,'22.56592831','114.1653427'),\n('2019-05-08',null,null,'112313',7,6,6,6,'22.5230185','113.8840307'),\n('2019-05-08',null,null,'112313',7,8,8,8,'22.55479675','113.876808'),\n('2019-05-08',null,null,'112313',7,2,2,2,'22.527546','114.1382295'),\n('2019-05-08',null,null,'112313',7,20,20,20,'22.60403745','113.8813462'),\n('2019-05-08',null,null,'112313',7,3,3,3,'22.53090833','114.0340117'),\n('2019-05-08',null,null,'112313',7,24,24,24,'22.52259221','114.1844415'),\n('2019-05-08',null,null,'112313',7,6,6,6,'22.56845417','113.8482768'),\n('2019-05-08',null,null,'112313',7,15,15,15,'22.50921313','114.1460804'),\n('2019-05-08',null,null,'112313',7,1,1,1,'22.52459','113.873619'),\n('2019-05-08',null,null,'112313',7,54,54,54,'22.51644502','113.9074763'),\n('2019-05-08',null,null,'112313',7,110,120,135,'22.54528264','113.9450687');\n</code></pre>\n<h5>\u5730\u56fe\u67e5\u8be2SQL\u793a\u4f8b:</h5>\n<p>\u4ee5\u4e0bSQL\u4e2d\u7684{}\u8868\u793a\u53d8\u91cf,\u4f7f\u7528\u5730\u56fe\u65f6\nregion_id,slat,elat,slng,elng,fpid\u5747\u4e3a\u5fc5\u987b\u53c2\u6570</p>\n<p>postgresql\u5199\u6cd5:</p>\n<pre><code>SELECT\n   a.region_name,\n   a.fid as fpid,\n   a.lat,\n   a.lng,\n   a.value1,\n   a.value2,\n   a.value3\nfrom  map_testdata a\nWHERE region_id = {region_id}\n  AND cast(lat AS decimal(20, 10)) &gt; {slat}\n  AND cast(lat AS decimal(20, 10))&lt; {elat}\n  AND cast(lng AS decimal(20, 10)) &gt; {slng}\n  AND cast(lng AS decimal(20, 10))&lt; {elng}\n  AND CASE cast( {fpid} AS bool ) WHEN TRUE THEN fpid={fpid} ELSE 1=1 END\n</code></pre>\n<p>mysql\u5199\u6cd5:</p>\n<pre><code>SELECT\n   a.region_name,\n   a.fid as fpid,\n   a.lat,\n   a.lng,\n   a.value1,\n   a.value2,\n   a.value3\nfrom  map_testdata a\nWHERE region_id = {region_id}\n  AND cast(lat AS decimal(20, 10)) &gt; {slat}\n  AND cast(lat AS decimal(20, 10))&lt; {elat}\n  AND cast(lng AS decimal(20, 10)) &gt; {slng}\n  AND cast(lng AS decimal(20, 10))&lt; {elng}\n  AND CASE {fpid}=true WHEN TRUE THEN fpid={fpid} ELSE 1=1 END\n</code></pre>\n\n          </div>"}, "last_serial": 5791233, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "deeab525640443424d8cd293f0527a47", "sha256": "5bcba087faaeb1079007cc22002feb970a7b8247fcf6a762364350484a5d9f40"}, "downloads": -1, "filename": "boyaa_seed-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "deeab525640443424d8cd293f0527a47", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11834229, "upload_time": "2018-12-19T13:24:09", "upload_time_iso_8601": "2018-12-19T13:24:09.447682Z", "url": "https://files.pythonhosted.org/packages/fb/61/656e94d41d8a4c175fdfac113cf5b60c99b706c7d8a736635115604741b3/boyaa_seed-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ee7d250b2b0edcc54090f717dc0ee1f9", "sha256": "b2aad11fecc3b068bbd692f2de9613a268a3a98445e8ddf7239062569b64b222"}, "downloads": -1, "filename": "boyaa-seed-0.1.1.tar.gz", "has_sig": false, "md5_digest": "ee7d250b2b0edcc54090f717dc0ee1f9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5865773, "upload_time": "2018-12-19T13:24:30", "upload_time_iso_8601": "2018-12-19T13:24:30.488532Z", "url": "https://files.pythonhosted.org/packages/fb/55/a47dcb1a12784e93532e660b08e89ad977c4d4ebb8cc20d43c525432c1c2/boyaa-seed-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "bcf2f3c432437b89067eefef25187adf", "sha256": "54a8fcc559ad181cb15ed15f0ddd829663c156dc350506266593d3f73121ac10"}, "downloads": -1, "filename": "boyaa_seed-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "bcf2f3c432437b89067eefef25187adf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11834268, "upload_time": "2018-12-19T14:37:47", "upload_time_iso_8601": "2018-12-19T14:37:47.137614Z", "url": "https://files.pythonhosted.org/packages/db/73/0b0af586288a61eb0abe723f58992ce43be2e40c889f0eee63a30651c7d6/boyaa_seed-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "90a1987004758c34d2e05b6a3e5cfd37", "sha256": "2420ebe4f452715ec6420acfc9a73f01170f874ac5a78c11ff45ffe3d0630fd2"}, "downloads": -1, "filename": "boyaa-seed-0.1.2.tar.gz", "has_sig": false, "md5_digest": "90a1987004758c34d2e05b6a3e5cfd37", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5865800, "upload_time": "2018-12-19T14:38:06", "upload_time_iso_8601": "2018-12-19T14:38:06.845913Z", "url": "https://files.pythonhosted.org/packages/71/55/9d82d2da524e13b2e85a99e83d4937b0965728e7535cb6e3bd0e4f01ea37/boyaa-seed-0.1.2.tar.gz", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "bf9b9b1bd5563ecbfb640ac38a632be3", "sha256": "b75ea0ef277a342cef71fdee3d2bbd62b7d357eeca4b361c9c859eeb950380c8"}, "downloads": -1, "filename": "boyaa_seed-0.1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "bf9b9b1bd5563ecbfb640ac38a632be3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5978801, "upload_time": "2019-03-27T07:20:56", "upload_time_iso_8601": "2019-03-27T07:20:56.467325Z", "url": "https://files.pythonhosted.org/packages/3d/e2/3a4355a2cddfe998f31b3367679eacd4be49c9525f76ca353f9870df297e/boyaa_seed-0.1.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4d9a9b11f7c2742f02b0bf76b3bd1cf8", "sha256": "1f18542dcccc084298ccc77e7f506ae4f65f348b216b58f7fa9c5c7a51fcb27a"}, "downloads": -1, "filename": "boyaa-seed-0.1.4.tar.gz", "has_sig": false, "md5_digest": "4d9a9b11f7c2742f02b0bf76b3bd1cf8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2983756, "upload_time": "2019-03-27T07:20:58", "upload_time_iso_8601": "2019-03-27T07:20:58.787574Z", "url": "https://files.pythonhosted.org/packages/02/58/06ba0c90af0f4ab3186c8cb5d52f3d7ae0c635687a3dc6a0eb433667f100/boyaa-seed-0.1.4.tar.gz", "yanked": false}], "0.1.6": [{"comment_text": "", "digests": {"md5": "bfb91a94b0e4e7f0c95548320e3c518c", "sha256": "8ea959cd970dc5cf89aff4123413ed32b8cace457badd0d34b4057ee191f5b19"}, "downloads": -1, "filename": "boyaa_seed-0.1.6-py3-none-any.whl", "has_sig": false, "md5_digest": "bfb91a94b0e4e7f0c95548320e3c518c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 6001779, "upload_time": "2019-09-06T09:32:27", "upload_time_iso_8601": "2019-09-06T09:32:27.746113Z", "url": "https://files.pythonhosted.org/packages/92/5d/4acead4e8a3f4f69c90d2f0c6ff1d2f90c91dc6fb5fd44a4a15d6a20552e/boyaa_seed-0.1.6-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "34aaa394e721f1c8050d4bea30e0a24d", "sha256": "c57e5c1d8ce3dd504b3cd7a8df89c49a76e6a72d4cf85c7e5d36edeb0995b759"}, "downloads": -1, "filename": "boyaa-seed-0.1.6.tar.gz", "has_sig": false, "md5_digest": "34aaa394e721f1c8050d4bea30e0a24d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2993653, "upload_time": "2019-09-06T09:32:31", "upload_time_iso_8601": "2019-09-06T09:32:31.400453Z", "url": "https://files.pythonhosted.org/packages/3e/df/2e05814dce1663d0c93186adaf567cc92e95c4fd8329e83936d886b39914/boyaa-seed-0.1.6.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "bfb91a94b0e4e7f0c95548320e3c518c", "sha256": "8ea959cd970dc5cf89aff4123413ed32b8cace457badd0d34b4057ee191f5b19"}, "downloads": -1, "filename": "boyaa_seed-0.1.6-py3-none-any.whl", "has_sig": false, "md5_digest": "bfb91a94b0e4e7f0c95548320e3c518c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 6001779, "upload_time": "2019-09-06T09:32:27", "upload_time_iso_8601": "2019-09-06T09:32:27.746113Z", "url": "https://files.pythonhosted.org/packages/92/5d/4acead4e8a3f4f69c90d2f0c6ff1d2f90c91dc6fb5fd44a4a15d6a20552e/boyaa_seed-0.1.6-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "34aaa394e721f1c8050d4bea30e0a24d", "sha256": "c57e5c1d8ce3dd504b3cd7a8df89c49a76e6a72d4cf85c7e5d36edeb0995b759"}, "downloads": -1, "filename": "boyaa-seed-0.1.6.tar.gz", "has_sig": false, "md5_digest": "34aaa394e721f1c8050d4bea30e0a24d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2993653, "upload_time": "2019-09-06T09:32:31", "upload_time_iso_8601": "2019-09-06T09:32:31.400453Z", "url": "https://files.pythonhosted.org/packages/3e/df/2e05814dce1663d0c93186adaf567cc92e95c4fd8329e83936d886b39914/boyaa-seed-0.1.6.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:36:29 2020"}
{"info": {"author": "Andrew Gryaznov", "author_email": "realgrandrew@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 1 - Planning", "Natural Language :: English", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7"], "description": "Unix: |Unix Build Status| Windows: |Windows Build Status|\\ Metrics:\n|Coverage Status| |Scrutinizer Code Quality|\\ Usage: |PyPI Version|\n\n|example screencast|\n\nRationale\n=========\n\nIt's **[whatever current year]** and still most of the tasks/project\nmanagement tools lack support for any means of automated planning. This\nlibrary helps to integrate automated planner that's been available for\nover a decade, with a shot of suporting different front-ends, complex\nscheduling strategies and potentially different planners.\n\n|example logic plan|\n\nRealize your craziest time management dreams!\n\n-  Current focus is on personal planning and small teams (hence no\n   support for multiple resource yet)\n-  No configuration is required to start\n-  Utility airtable API example provided with advanced planning strategy\n   (see below)\n\nOverview\n========\n\n``python_taskjuggler`` module provides python interfaces to TaskJuggler\n3 planner. It is a set of base classes that provide object abstractions\nthat TaskJuggler internally uses. The module comes with example\nimplementation of JSON project description parser.\n\nIt is still work in progress and currently supports:\n\n-  generating taskjuggler project file\n-  runnig the planner\n-  importing task bookings\n-  working with single default resource ``\"me\"``\n\n| The package comes with an example command line utility ``tjp-client``\n  that provides automatic planning for\n| tasks defined as records in `airtable <https://airtable.com>`__ table.\n| Working with google sheets, jira, trello, todoist, smartsheet and\n  others could be implemented the same way.\n\nThe utility allows to immediately re-schedule to reflect any changes to\nthe plans that may arise due to new fixed appointments, dependencies,\npriority amendments or required efforts re-evaluation.\n\nCommand-line utility usage:\n---------------------------\n\n::\n\n    $ tjp-client -a airtable -k <airtable_api_key> -b <airtable_database> -t <table_name> -v <view_name>\n\nPreparation\n~~~~~~~~~~~\n\n#. Create an `airtable <https://airtable.com>`__ database by copying\n   `this example base <https://airtable.com/shrivEunRhLcBm79R>`__ or\n   create a new database with table named \"Tasks\" with the following\n   columns (**case sensitive**):\n\n::\n\n\n    1. id           - the integer (number) field used as task ID. \"Auto Number\" type recommended.\n    2. summary      - single line text: task summary / title\n    3. effort       - integer number: task effort duration measured in hours. Default value of 1 recommended\n    4. priority     - single select: field with values \"CRITICAL\", \"High\", \"Low\", \"info\"\n    5. preference   - integer number: optional additional number 0-99 for higher granularity of priorities\n    6. depends      - single line text: with dependencies listed as id's, like: 2,3,4\n    7. appointment  - date field with time: the fixed tasks or appointments that can not be moved\n    8. deadline     - date: the desired deadline value. Current strategy will use it to emphasize priority if missed.\n    9. booking      - date+time: this is where output will be written to. Sort your table by this column\n\n    Other columns are just ignored.\n\n    You can add nice calculations to the table like time difference between deadline and calculated booking.\n\n#. Create a view called ``Work`` with all the tasks with status \"Done\"\n   filtered out *(it is left as an exercize for the reader to create a\n   new column and a filter for it)*\n#. Create a calendar view with ``booking`` field\n#. Add some tasks and appointments. Beware not to add impossible\n   scenarios - those are not supported yet (see console output to check)\n#. Get ``API key``, ``database ID``, note your table name and view name\n   should be ``Tasks`` and ``Work`` respectively\n#. Execute in terminal (change base name and key respectively):\n\n.. code:: sh\n\n    $ tjp-client -a airtable -k keyAnIuVcuhhkeAkc -b appA8ZtLosVV7HGXy -t Tasks -v Work\n\n#. Enjoy the show of ``taskjuggler_python`` moving your tasks around!\n\nNow try changing priorities, adding appointments and re-scheduling the\nplan.\n\nSetup\n=====\n\nRequirements\n------------\n\n-  Python 2.7+\n-  TaskJuggler 3.6+\n\nInstallation\n------------\n\nInstall TaskJuggler with gem:\n\n.. code:: sh\n\n    $ gem install taskjuggler\n\nInstall taskjuggler\\_python with pip:\n\n.. code:: sh\n\n    $ pip install taskjuggler_python\n\nor directly from the source code:\n\n.. code:: sh\n\n    $ git clone https://github.com/grandrew/taskjuggler-python.git\n    $ cd taskjuggler-python\n    $ python setup.py install\n\nUsage\n=====\n\nBasic usage concepts include:\n\n#. A ``Task``, referred to as ``issue`` throughout the code\n\n   #. Task's ``id`` which is used to identify and map the tasks - a\n      property of ``JugglerTask`` instance\n   #. Task's ``effort`` measured in units set as ``UNIT`` class\n      attribute of ``JugglerTaskEffort``\n   #. Task's dependencies\n   #. Task's ``start`` date (a.k.a. fixed appointment)\n   #. Task's ``priority`` measured as interger ``0-1000`` to set\n      scheduling preference. No priority is scheduled always first.\n\n#. Bookings - the taskjuggler execution result written as\n   ``JugglerTask``'s property object(s)\n\nThe minimal invocation will look like:\n\n.. code:: python\n\n    >>> from taskjuggler_python import juggler\n    >>> jg = juggler.GenericJuggler()\n    >>> t = juggler.JugglerTask()\n    >>> t.set_property(juggler.JugglerTaskEffort(1)) # hours by default\n    >>> jg.add_task(t)\n    >>> jg.run()\n    >>> t.walk(juggler.JugglerBooking)[0].decode()\n    [datetime.datetime(2017, 10, 12, 13, 0, tzinfo=<UTC>), datetime.datetime(2017, 10, 12, 14, 0, tzinfo=<UTC>)]\n\nJSON tasks loading:\n-------------------\n\n.. code:: sh\n\n    $ python\n    >>> from taskjuggler_python import jsonjuggler\n    >>> my_tasks = \"\"\"[\n      {\n        \"id\": 2,\n        \"depends\": [\n          1\n        ],\n        \"allocate\": \"me\",\n        \"effort\": 1.2\n      },\n      {\n        \"id\": 1,\n        \"effort\": 3,\n        \"allocate\": \"me\",\n        \"summary\": \"test\"\n      }\n    ]\"\"\"\n    >>> jg = jsonjuggler.JsonJuggler(my_tasks)\n    >>> jg.run()\n    >>> jg.toJSON()\n    [\n        {\n            \"allocate\": \"me\",\n            \"booking\": \"2017-10-10T11:00:00+00:00\",\n            \"depends\": [\n                1\n            ],\n            \"effort\": 1.2,\n            \"id\": 2\n        },\n        {\n            \"allocate\": \"me\",\n            \"booking\": \"2017-10-10T08:00:00+00:00\",\n            \"effort\": 3,\n            \"id\": 1,\n            \"summary\": \"test\"\n        }\n    ]\n\nPython interface usage example\n------------------------------\n\n| As an example, let's create interface to automatically schedule tasks\n  that are defined as airtable records\n| using `Airtable API\n  wrapper <https://github.com/gtalarico/airtable-python-wrapper>`__:\n\n| We are using the fact that airtable's API already emits nicely\n  formatted JSON in ``fields`` field.\n| We only have to name the table columns with correct field names that\n  `jsonjuggler <https://github.com/grandrew/taskjuggler-python/blob/master/taskjuggler_python/jsonjuggler.py>`__\n  example wrapper expects\n\n.. code:: python\n\n    from airtable import Airtable\n    from taskjuggler_python import juggler, jsonjuggler\n\n    airtable = Airtable(\"appA8ZtLosVV7HGXy\", \"Tasks\", api_key=\"keyAnIuVcuhhkeAkc\")\n\n    # use DictJuggler example wrapper from jsonjuggler module, directly feed what the API emits in \"fields\"\n    JUGGLER = jsonjuggler.DictJuggler([x[\"fields\"] for x in airtable.get_all(view=\"Work\")])\n\n    # run taskjuggler and calculate bookings\n    JUGGLER.run() \n\n    # walk through all tasks objects\n    for t in JUGGLER.walk(juggler.JugglerTask): \n        airtable.update_by_field(\"id\", t.get_id(), \n            {\"booking\": t.walk(juggler.JugglerBooking)[0].decode()[0].isoformat()})\n    # the last line finds first booking in this task, decodes it to datatime list and encodes to isoformat\n\n| After executing this code you should have time assigned to all of your\n  tasks, none of them overlapping,\n| respecting dependencies, taking into account default time shifts,\n  appointments and no overwork allowed.\n\nAdvanced booking strategies example\n-----------------------------------\n\n| Imagine that you want your older tasks to increase their percieved\n  priority so that every task with\n| any priority level gets a chance to be scheduled in the foreseeable\n  future:\n\n.. code:: python\n\n    # recalculate JSON issue priorities based on deadlines\n\n    for rec in json_issues:\n        if \"priority\" in rec and \"deadline\" in rec and not rec[\"priority\"] >= 300:\n\n                diff_days = (datetime.datetime.now() - dateutil.parser.parse(rec[\"deadline\"])).days\n\n                if diff_days < 0: diff_days = 0                 # deny lowering priority\n                rec[\"priority\"] += diff_days * 3                # after 30 days priority is up by 90\n                if rec[\"priority\"] >= 250:                      # limit maximum percieved priority\n                    rec[\"priority\"] = 250                       #    > 300 is critical in our strategy\n\nYou can find the fully working example\n`here <https://github.com/grandrew/taskjuggler-python/blob/master/taskjuggler_python/tjpy_client.py>`__.\n\nWriting your own interface\n--------------------------\n\nSee code for more examples of how to use the interfaces.\n\nTODO\n====\n\n-  **documentation!!**\n\nTaskJuggler support\n-------------------\n\n-  general error reporting support (capture stderr and decode id's)\n-  emit warnings if e.g. unable to start appointed event due to slipped\n   schedule\n-  working hours, shifts\n-  exporting of tjp file; generating reports, gantt charts, etc.\n-  *deadline (date) - is a check that the task is not scheduled after\n   this date [not in planner - this is a check and can not be enforced]*\n-  task grouping\n-  limits dailymax, etc.\n-  fixed stat time/end time (ALAP/ASAP strats)\n\n   -  period for appointments\n\n-  non-splittable tasks (``X = effort; limits { maximum Xh }`` ??),\n   split punishing\n-  extensive timezone support\n-  mark tasks as done / decouple depends\n\nGeneral enhancements\n--------------------\n\n-  Enable pylint with configuration that allows the check to pass\n   (pylint.ini)\n-  Loading scheduling results\n\n   -  export back to json\n\n-  Make ID management transparent in the API\n-  Extensive testing including safe strings checks\n-  TaskJuggler task identifier full path, subtask and validation\n-  Bookings and timesheets support\n-  Monte-carlo simulations\n-  Provide JSONEncoder and JSONDecoder interfaces for jsonjuggler module\n\n   -  https://stackoverflow.com/questions/3768895/how-to-make-a-class-json-serializable\n\n-  Data collection, analytics and prediction (e.g. average task error)\n\n   -  Store bookings and do automatic progress analytics\n\n-  Different backend support (e.g. OptaPlanner/Drools; rename to\n   ``python-planner`` package?)\n\n   -  produce multivariare pareto-optimal solutions\n   -  export to MiniZinc / FlatZinc for generic CP solvers\n   -  GPU-accelerated CP solvers?\n   -  QCL (Quantum Computation Language) export\n\nThoughts\n--------\n\n-  Use logging to predict average performance per day\n-  Create a universal API middleware with human interface to help with\n   life planning and performance measurements\n\n   -  Solve more advanded problems\n\n      -  like \"allocate some time during the day to low-priority tasks\n         if no critical-priority task exist\"\n      -  or \"adjust (increase) priority of low-priority tasks according\n         to their age\"\n\n.. |Unix Build Status| image:: https://img.shields.io/travis/grandrew/taskjuggler-python/master.svg\n   :target: https://travis-ci.org/grandrew/taskjuggler-python\n.. |Windows Build Status| image:: https://img.shields.io/appveyor/ci/grandrew/taskjuggler-python/master.svg\n   :target: https://ci.appveyor.com/project/grandrew/taskjuggler-python\n.. |Coverage Status| image:: https://img.shields.io/coveralls/grandrew/taskjuggler-python/master.svg\n   :target: https://coveralls.io/r/grandrew/taskjuggler-python\n.. |Scrutinizer Code Quality| image:: https://img.shields.io/scrutinizer/g/grandrew/taskjuggler-python.svg\n   :target: https://scrutinizer-ci.com/g/grandrew/taskjuggler-python/?branch=master\n.. |PyPI Version| image:: https://img.shields.io/pypi/v/taskjuggler_python.svg\n   :target: https://pypi.python.org/pypi/taskjuggler_python\n.. |example screencast| image:: assets/at_example.gif\n.. |example logic plan| image:: assets/plan_logic.png\n\n\nRevision History\n================\n\n0.0.0 (YYYY/MM/DD)\n------------------\n\n-  TBD\n\n\n\n", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/grandrew/taskjuggler-python", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "taskjuggler-python", "package_url": "https://pypi.org/project/taskjuggler-python/", "platform": "", "project_url": "https://pypi.org/project/taskjuggler-python/", "project_urls": {"Homepage": "https://github.com/grandrew/taskjuggler-python"}, "release_url": "https://pypi.org/project/taskjuggler-python/0.0.2/", "requires_dist": ["icalendar (>=3.11)", "airtable-python-wrapper (>=0.8)", "python-dateutil (>=2.6)"], "requires_python": "", "summary": "Python interfaces to TaskJuggler 3 planner", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Unix: <a href=\"https://travis-ci.org/grandrew/taskjuggler-python\" rel=\"nofollow\"><img alt=\"Unix Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/309c797125f5595a453265847a2881545fa59410/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f6772616e647265772f7461736b6a7567676c65722d707974686f6e2f6d61737465722e737667\"></a> Windows: <a href=\"https://ci.appveyor.com/project/grandrew/taskjuggler-python\" rel=\"nofollow\"><img alt=\"Windows Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dff94da38892d5567cee9f15136a38e6b6b155f2/68747470733a2f2f696d672e736869656c64732e696f2f6170707665796f722f63692f6772616e647265772f7461736b6a7567676c65722d707974686f6e2f6d61737465722e737667\"></a>Metrics:\n<a href=\"https://coveralls.io/r/grandrew/taskjuggler-python\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5f3fc8d61f3b8652a520768a49b72638120108c4/68747470733a2f2f696d672e736869656c64732e696f2f636f766572616c6c732f6772616e647265772f7461736b6a7567676c65722d707974686f6e2f6d61737465722e737667\"></a> <a href=\"https://scrutinizer-ci.com/g/grandrew/taskjuggler-python/?branch=master\" rel=\"nofollow\"><img alt=\"Scrutinizer Code Quality\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f162992cd43ac62f629f51b03be30d4c51f644c1/68747470733a2f2f696d672e736869656c64732e696f2f7363727574696e697a65722f672f6772616e647265772f7461736b6a7567676c65722d707974686f6e2e737667\"></a>Usage: <a href=\"https://pypi.python.org/pypi/taskjuggler_python\" rel=\"nofollow\"><img alt=\"PyPI Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ee83224aed1493ce5ba5f9920fb81f86a6e14703/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7461736b6a7567676c65725f707974686f6e2e737667\"></a></p>\n<p><img alt=\"example screencast\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6b6bab46f7eadc7252dca6ecedb6c85779820388/6173736574732f61745f6578616d706c652e676966\"></p>\n<div id=\"rationale\">\n<h2>Rationale</h2>\n<p>It\u2019s <strong>[whatever current year]</strong> and still most of the tasks/project\nmanagement tools lack support for any means of automated planning. This\nlibrary helps to integrate automated planner that\u2019s been available for\nover a decade, with a shot of suporting different front-ends, complex\nscheduling strategies and potentially different planners.</p>\n<p><img alt=\"example logic plan\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3bcd060ba9fb6f7321af730c773ec989db3a33fe/6173736574732f706c616e5f6c6f6769632e706e67\"></p>\n<p>Realize your craziest time management dreams!</p>\n<ul>\n<li>Current focus is on personal planning and small teams (hence no\nsupport for multiple resource yet)</li>\n<li>No configuration is required to start</li>\n<li>Utility airtable API example provided with advanced planning strategy\n(see below)</li>\n</ul>\n</div>\n<div id=\"overview\">\n<h2>Overview</h2>\n<p><tt>python_taskjuggler</tt> module provides python interfaces to TaskJuggler\n3 planner. It is a set of base classes that provide object abstractions\nthat TaskJuggler internally uses. The module comes with example\nimplementation of JSON project description parser.</p>\n<p>It is still work in progress and currently supports:</p>\n<ul>\n<li>generating taskjuggler project file</li>\n<li>runnig the planner</li>\n<li>importing task bookings</li>\n<li>working with single default resource <tt>\"me\"</tt></li>\n</ul>\n<div>\n<div>The package comes with an example command line utility <tt><span class=\"pre\">tjp-client</span></tt>\nthat provides automatic planning for</div>\n<div>tasks defined as records in <a href=\"https://airtable.com\" rel=\"nofollow\">airtable</a> table.</div>\n<div>Working with google sheets, jira, trello, todoist, smartsheet and\nothers could be implemented the same way.</div>\n</div>\n<p>The utility allows to immediately re-schedule to reflect any changes to\nthe plans that may arise due to new fixed appointments, dependencies,\npriority amendments or required efforts re-evaluation.</p>\n<div id=\"command-line-utility-usage\">\n<h3>Command-line utility usage:</h3>\n<pre>$ tjp-client -a airtable -k &lt;airtable_api_key&gt; -b &lt;airtable_database&gt; -t &lt;table_name&gt; -v &lt;view_name&gt;\n</pre>\n<div id=\"preparation\">\n<h4>Preparation</h4>\n<ol>\n<li>Create an <a href=\"https://airtable.com\" rel=\"nofollow\">airtable</a> database by copying\n<a href=\"https://airtable.com/shrivEunRhLcBm79R\" rel=\"nofollow\">this example base</a> or\ncreate a new database with table named \u201cTasks\u201d with the following\ncolumns (<strong>case sensitive</strong>):</li>\n</ol>\n<pre>1. id           - the integer (number) field used as task ID. \"Auto Number\" type recommended.\n2. summary      - single line text: task summary / title\n3. effort       - integer number: task effort duration measured in hours. Default value of 1 recommended\n4. priority     - single select: field with values \"CRITICAL\", \"High\", \"Low\", \"info\"\n5. preference   - integer number: optional additional number 0-99 for higher granularity of priorities\n6. depends      - single line text: with dependencies listed as id's, like: 2,3,4\n7. appointment  - date field with time: the fixed tasks or appointments that can not be moved\n8. deadline     - date: the desired deadline value. Current strategy will use it to emphasize priority if missed.\n9. booking      - date+time: this is where output will be written to. Sort your table by this column\n\nOther columns are just ignored.\n\nYou can add nice calculations to the table like time difference between deadline and calculated booking.\n</pre>\n<ol>\n<li>Create a view called <tt>Work</tt> with all the tasks with status \u201cDone\u201d\nfiltered out <em>(it is left as an exercize for the reader to create a\nnew column and a filter for it)</em></li>\n<li>Create a calendar view with <tt>booking</tt> field</li>\n<li>Add some tasks and appointments. Beware not to add impossible\nscenarios - those are not supported yet (see console output to check)</li>\n<li>Get <tt>API key</tt>, <tt>database ID</tt>, note your table name and view name\nshould be <tt>Tasks</tt> and <tt>Work</tt> respectively</li>\n<li>Execute in terminal (change base name and key respectively):</li>\n</ol>\n<pre>$ tjp-client -a airtable -k keyAnIuVcuhhkeAkc -b appA8ZtLosVV7HGXy -t Tasks -v Work\n</pre>\n<ol>\n<li>Enjoy the show of <tt>taskjuggler_python</tt> moving your tasks around!</li>\n</ol>\n<p>Now try changing priorities, adding appointments and re-scheduling the\nplan.</p>\n</div>\n</div>\n</div>\n<div id=\"setup\">\n<h2>Setup</h2>\n<div id=\"requirements\">\n<h3>Requirements</h3>\n<ul>\n<li>Python 2.7+</li>\n<li>TaskJuggler 3.6+</li>\n</ul>\n</div>\n<div id=\"installation\">\n<h3>Installation</h3>\n<p>Install TaskJuggler with gem:</p>\n<pre>$ gem install taskjuggler\n</pre>\n<p>Install taskjuggler_python with pip:</p>\n<pre>$ pip install taskjuggler_python\n</pre>\n<p>or directly from the source code:</p>\n<pre>$ git clone https://github.com/grandrew/taskjuggler-python.git\n$ <span class=\"nb\">cd</span> taskjuggler-python\n$ python setup.py install\n</pre>\n</div>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>Basic usage concepts include:</p>\n<ol>\n<li>A <tt>Task</tt>, referred to as <tt>issue</tt> throughout the code<ol>\n<li>Task\u2019s <tt>id</tt> which is used to identify and map the tasks - a\nproperty of <tt>JugglerTask</tt> instance</li>\n<li>Task\u2019s <tt>effort</tt> measured in units set as <tt>UNIT</tt> class\nattribute of <tt>JugglerTaskEffort</tt></li>\n<li>Task\u2019s dependencies</li>\n<li>Task\u2019s <tt>start</tt> date (a.k.a. fixed appointment)</li>\n<li>Task\u2019s <tt>priority</tt> measured as interger <tt><span class=\"pre\">0-1000</span></tt> to set\nscheduling preference. No priority is scheduled always first.</li>\n</ol>\n</li>\n<li>Bookings - the taskjuggler execution result written as\n<tt>JugglerTask</tt>\u2019s property object(s)</li>\n</ol>\n<p>The minimal invocation will look like:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">taskjuggler_python</span> <span class=\"kn\">import</span> <span class=\"n\">juggler</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">jg</span> <span class=\"o\">=</span> <span class=\"n\">juggler</span><span class=\"o\">.</span><span class=\"n\">GenericJuggler</span><span class=\"p\">()</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"n\">juggler</span><span class=\"o\">.</span><span class=\"n\">JugglerTask</span><span class=\"p\">()</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">set_property</span><span class=\"p\">(</span><span class=\"n\">juggler</span><span class=\"o\">.</span><span class=\"n\">JugglerTaskEffort</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">))</span> <span class=\"c1\"># hours by default</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">jg</span><span class=\"o\">.</span><span class=\"n\">add_task</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">jg</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">walk</span><span class=\"p\">(</span><span class=\"n\">juggler</span><span class=\"o\">.</span><span class=\"n\">JugglerBooking</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">()</span>\n<span class=\"p\">[</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2017</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">13</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">tzinfo</span><span class=\"o\">=&lt;</span><span class=\"n\">UTC</span><span class=\"o\">&gt;</span><span class=\"p\">),</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2017</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">14</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">tzinfo</span><span class=\"o\">=&lt;</span><span class=\"n\">UTC</span><span class=\"o\">&gt;</span><span class=\"p\">)]</span>\n</pre>\n<div id=\"json-tasks-loading\">\n<h3>JSON tasks loading:</h3>\n<pre>$ python\n&gt;&gt;&gt; from taskjuggler_python import jsonjuggler\n&gt;&gt;&gt; <span class=\"nv\">my_tasks</span> <span class=\"o\">=</span> <span class=\"s2\">\"\"\"[\n  {\n    \"</span>id<span class=\"s2\">\": 2,\n    \"</span>depends<span class=\"s2\">\": [\n      1\n    ],\n    \"</span>allocate<span class=\"s2\">\": \"</span>me<span class=\"s2\">\",\n    \"</span>effort<span class=\"s2\">\": 1.2\n  },\n  {\n    \"</span>id<span class=\"s2\">\": 1,\n    \"</span>effort<span class=\"s2\">\": 3,\n    \"</span>allocate<span class=\"s2\">\": \"</span>me<span class=\"s2\">\",\n    \"</span>summary<span class=\"s2\">\": \"</span>test<span class=\"s2\">\"\n  }\n]\"\"\"</span>\n&gt;&gt;&gt; <span class=\"nv\">jg</span> <span class=\"o\">=</span> jsonjuggler.JsonJuggler<span class=\"o\">(</span>my_tasks<span class=\"o\">)</span>\n&gt;&gt;&gt; jg.run<span class=\"o\">()</span>\n&gt;&gt;&gt; jg.toJSON<span class=\"o\">()</span>\n<span class=\"o\">[</span>\n    <span class=\"o\">{</span>\n        <span class=\"s2\">\"allocate\"</span>: <span class=\"s2\">\"me\"</span>,\n        <span class=\"s2\">\"booking\"</span>: <span class=\"s2\">\"2017-10-10T11:00:00+00:00\"</span>,\n        <span class=\"s2\">\"depends\"</span>: <span class=\"o\">[</span>\n            <span class=\"m\">1</span>\n        <span class=\"o\">]</span>,\n        <span class=\"s2\">\"effort\"</span>: <span class=\"m\">1</span>.2,\n        <span class=\"s2\">\"id\"</span>: <span class=\"m\">2</span>\n    <span class=\"o\">}</span>,\n    <span class=\"o\">{</span>\n        <span class=\"s2\">\"allocate\"</span>: <span class=\"s2\">\"me\"</span>,\n        <span class=\"s2\">\"booking\"</span>: <span class=\"s2\">\"2017-10-10T08:00:00+00:00\"</span>,\n        <span class=\"s2\">\"effort\"</span>: <span class=\"m\">3</span>,\n        <span class=\"s2\">\"id\"</span>: <span class=\"m\">1</span>,\n        <span class=\"s2\">\"summary\"</span>: <span class=\"s2\">\"test\"</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">]</span>\n</pre>\n</div>\n<div id=\"python-interface-usage-example\">\n<h3>Python interface usage example</h3>\n<div>\n<div>As an example, let\u2019s create interface to automatically schedule tasks\nthat are defined as airtable records</div>\n<div>using <a href=\"https://github.com/gtalarico/airtable-python-wrapper\" rel=\"nofollow\">Airtable API\nwrapper</a>:</div>\n</div>\n<div>\n<div>We are using the fact that airtable\u2019s API already emits nicely\nformatted JSON in <tt>fields</tt> field.</div>\n<div>We only have to name the table columns with correct field names that\n<a href=\"https://github.com/grandrew/taskjuggler-python/blob/master/taskjuggler_python/jsonjuggler.py\" rel=\"nofollow\">jsonjuggler</a>\nexample wrapper expects</div>\n</div>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">airtable</span> <span class=\"kn\">import</span> <span class=\"n\">Airtable</span>\n<span class=\"kn\">from</span> <span class=\"nn\">taskjuggler_python</span> <span class=\"kn\">import</span> <span class=\"n\">juggler</span><span class=\"p\">,</span> <span class=\"n\">jsonjuggler</span>\n\n<span class=\"n\">airtable</span> <span class=\"o\">=</span> <span class=\"n\">Airtable</span><span class=\"p\">(</span><span class=\"s2\">\"appA8ZtLosVV7HGXy\"</span><span class=\"p\">,</span> <span class=\"s2\">\"Tasks\"</span><span class=\"p\">,</span> <span class=\"n\">api_key</span><span class=\"o\">=</span><span class=\"s2\">\"keyAnIuVcuhhkeAkc\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># use DictJuggler example wrapper from jsonjuggler module, directly feed what the API emits in \"fields\"</span>\n<span class=\"n\">JUGGLER</span> <span class=\"o\">=</span> <span class=\"n\">jsonjuggler</span><span class=\"o\">.</span><span class=\"n\">DictJuggler</span><span class=\"p\">([</span><span class=\"n\">x</span><span class=\"p\">[</span><span class=\"s2\">\"fields\"</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"n\">airtable</span><span class=\"o\">.</span><span class=\"n\">get_all</span><span class=\"p\">(</span><span class=\"n\">view</span><span class=\"o\">=</span><span class=\"s2\">\"Work\"</span><span class=\"p\">)])</span>\n\n<span class=\"c1\"># run taskjuggler and calculate bookings</span>\n<span class=\"n\">JUGGLER</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># walk through all tasks objects</span>\n<span class=\"k\">for</span> <span class=\"n\">t</span> <span class=\"ow\">in</span> <span class=\"n\">JUGGLER</span><span class=\"o\">.</span><span class=\"n\">walk</span><span class=\"p\">(</span><span class=\"n\">juggler</span><span class=\"o\">.</span><span class=\"n\">JugglerTask</span><span class=\"p\">):</span>\n    <span class=\"n\">airtable</span><span class=\"o\">.</span><span class=\"n\">update_by_field</span><span class=\"p\">(</span><span class=\"s2\">\"id\"</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">get_id</span><span class=\"p\">(),</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"booking\"</span><span class=\"p\">:</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">walk</span><span class=\"p\">(</span><span class=\"n\">juggler</span><span class=\"o\">.</span><span class=\"n\">JugglerBooking</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">()[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">isoformat</span><span class=\"p\">()})</span>\n<span class=\"c1\"># the last line finds first booking in this task, decodes it to datatime list and encodes to isoformat</span>\n</pre>\n<div>\n<div>After executing this code you should have time assigned to all of your\ntasks, none of them overlapping,</div>\n<div>respecting dependencies, taking into account default time shifts,\nappointments and no overwork allowed.</div>\n</div>\n</div>\n<div id=\"advanced-booking-strategies-example\">\n<h3>Advanced booking strategies example</h3>\n<div>\n<div>Imagine that you want your older tasks to increase their percieved\npriority so that every task with</div>\n<div>any priority level gets a chance to be scheduled in the foreseeable\nfuture:</div>\n</div>\n<pre><span class=\"c1\"># recalculate JSON issue priorities based on deadlines</span>\n\n<span class=\"k\">for</span> <span class=\"n\">rec</span> <span class=\"ow\">in</span> <span class=\"n\">json_issues</span><span class=\"p\">:</span>\n    <span class=\"k\">if</span> <span class=\"s2\">\"priority\"</span> <span class=\"ow\">in</span> <span class=\"n\">rec</span> <span class=\"ow\">and</span> <span class=\"s2\">\"deadline\"</span> <span class=\"ow\">in</span> <span class=\"n\">rec</span> <span class=\"ow\">and</span> <span class=\"ow\">not</span> <span class=\"n\">rec</span><span class=\"p\">[</span><span class=\"s2\">\"priority\"</span><span class=\"p\">]</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">300</span><span class=\"p\">:</span>\n\n            <span class=\"n\">diff_days</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"n\">dateutil</span><span class=\"o\">.</span><span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">parse</span><span class=\"p\">(</span><span class=\"n\">rec</span><span class=\"p\">[</span><span class=\"s2\">\"deadline\"</span><span class=\"p\">]))</span><span class=\"o\">.</span><span class=\"n\">days</span>\n\n            <span class=\"k\">if</span> <span class=\"n\">diff_days</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">:</span> <span class=\"n\">diff_days</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>                 <span class=\"c1\"># deny lowering priority</span>\n            <span class=\"n\">rec</span><span class=\"p\">[</span><span class=\"s2\">\"priority\"</span><span class=\"p\">]</span> <span class=\"o\">+=</span> <span class=\"n\">diff_days</span> <span class=\"o\">*</span> <span class=\"mi\">3</span>                <span class=\"c1\"># after 30 days priority is up by 90</span>\n            <span class=\"k\">if</span> <span class=\"n\">rec</span><span class=\"p\">[</span><span class=\"s2\">\"priority\"</span><span class=\"p\">]</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">250</span><span class=\"p\">:</span>                      <span class=\"c1\"># limit maximum percieved priority</span>\n                <span class=\"n\">rec</span><span class=\"p\">[</span><span class=\"s2\">\"priority\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">250</span>                       <span class=\"c1\">#    &gt; 300 is critical in our strategy</span>\n</pre>\n<p>You can find the fully working example\n<a href=\"https://github.com/grandrew/taskjuggler-python/blob/master/taskjuggler_python/tjpy_client.py\" rel=\"nofollow\">here</a>.</p>\n</div>\n<div id=\"writing-your-own-interface\">\n<h3>Writing your own interface</h3>\n<p>See code for more examples of how to use the interfaces.</p>\n</div>\n</div>\n<div id=\"todo\">\n<h2>TODO</h2>\n<ul>\n<li><strong>documentation!!</strong></li>\n</ul>\n<div id=\"taskjuggler-support\">\n<h3>TaskJuggler support</h3>\n<ul>\n<li>general error reporting support (capture stderr and decode id\u2019s)</li>\n<li>emit warnings if e.g. unable to start appointed event due to slipped\nschedule</li>\n<li>working hours, shifts</li>\n<li>exporting of tjp file; generating reports, gantt charts, etc.</li>\n<li><em>deadline (date) - is a check that the task is not scheduled after\nthis date [not in planner - this is a check and can not be enforced]</em></li>\n<li>task grouping</li>\n<li>limits dailymax, etc.</li>\n<li>fixed stat time/end time (ALAP/ASAP strats)<ul>\n<li>period for appointments</li>\n</ul>\n</li>\n<li>non-splittable tasks (<tt>X = effort; limits { maximum Xh }</tt> ??),\nsplit punishing</li>\n<li>extensive timezone support</li>\n<li>mark tasks as done / decouple depends</li>\n</ul>\n</div>\n<div id=\"general-enhancements\">\n<h3>General enhancements</h3>\n<ul>\n<li>Enable pylint with configuration that allows the check to pass\n(pylint.ini)</li>\n<li>Loading scheduling results<ul>\n<li>export back to json</li>\n</ul>\n</li>\n<li>Make ID management transparent in the API</li>\n<li>Extensive testing including safe strings checks</li>\n<li>TaskJuggler task identifier full path, subtask and validation</li>\n<li>Bookings and timesheets support</li>\n<li>Monte-carlo simulations</li>\n<li>Provide JSONEncoder and JSONDecoder interfaces for jsonjuggler module<ul>\n<li><a href=\"https://stackoverflow.com/questions/3768895/how-to-make-a-class-json-serializable\" rel=\"nofollow\">https://stackoverflow.com/questions/3768895/how-to-make-a-class-json-serializable</a></li>\n</ul>\n</li>\n<li>Data collection, analytics and prediction (e.g. average task error)<ul>\n<li>Store bookings and do automatic progress analytics</li>\n</ul>\n</li>\n<li>Different backend support (e.g. OptaPlanner/Drools; rename to\n<tt><span class=\"pre\">python-planner</span></tt> package?)<ul>\n<li>produce multivariare pareto-optimal solutions</li>\n<li>export to MiniZinc / FlatZinc for generic CP solvers</li>\n<li>GPU-accelerated CP solvers?</li>\n<li>QCL (Quantum Computation Language) export</li>\n</ul>\n</li>\n</ul>\n</div>\n<div id=\"thoughts\">\n<h3>Thoughts</h3>\n<ul>\n<li>Use logging to predict average performance per day</li>\n<li>Create a universal API middleware with human interface to help with\nlife planning and performance measurements<ul>\n<li>Solve more advanded problems<ul>\n<li>like \u201callocate some time during the day to low-priority tasks\nif no critical-priority task exist\u201d</li>\n<li>or \u201cadjust (increase) priority of low-priority tasks according\nto their age\u201d</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>\n</div>\n<div id=\"revision-history\">\n<h2>Revision History</h2>\n<h2 id=\"yyyy-mm-dd\"><span class=\"section-subtitle\">0.0.0 (YYYY/MM/DD)</span></h2>\n<ul>\n<li>TBD</li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 3253386, "releases": {"0.0.2": [{"comment_text": "", "digests": {"md5": "8f3a15296154858fdd92ebfdc15afba1", "sha256": "26d4d660950da9fabff437b5c22aa02f77769a61d0ab36b3ddb9f9572ad32156"}, "downloads": -1, "filename": "taskjuggler_python-0.0.2-py2-none-any.whl", "has_sig": false, "md5_digest": "8f3a15296154858fdd92ebfdc15afba1", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 25543, "upload_time": "2017-10-12T20:34:12", "upload_time_iso_8601": "2017-10-12T20:34:12.766980Z", "url": "https://files.pythonhosted.org/packages/4b/ff/3f849bc37b035ffacb78d879e54ddd9ec80f33bd5657eb19d6c495ad006f/taskjuggler_python-0.0.2-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3afe4ab6dc16a6fac373231aae0b79d3", "sha256": "8d139663dabf18fddf56fe1a7edca5dd9ecca4cfbe6bc088840aef7dc3dea41c"}, "downloads": -1, "filename": "taskjuggler_python-0.0.2.tar.gz", "has_sig": false, "md5_digest": "3afe4ab6dc16a6fac373231aae0b79d3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25894, "upload_time": "2017-10-12T20:34:13", "upload_time_iso_8601": "2017-10-12T20:34:13.942942Z", "url": "https://files.pythonhosted.org/packages/f0/08/75dcb4a59f7a3013dd849425e80b51f9abc82da56a7b4798ce317b3540db/taskjuggler_python-0.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "8f3a15296154858fdd92ebfdc15afba1", "sha256": "26d4d660950da9fabff437b5c22aa02f77769a61d0ab36b3ddb9f9572ad32156"}, "downloads": -1, "filename": "taskjuggler_python-0.0.2-py2-none-any.whl", "has_sig": false, "md5_digest": "8f3a15296154858fdd92ebfdc15afba1", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 25543, "upload_time": "2017-10-12T20:34:12", "upload_time_iso_8601": "2017-10-12T20:34:12.766980Z", "url": "https://files.pythonhosted.org/packages/4b/ff/3f849bc37b035ffacb78d879e54ddd9ec80f33bd5657eb19d6c495ad006f/taskjuggler_python-0.0.2-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3afe4ab6dc16a6fac373231aae0b79d3", "sha256": "8d139663dabf18fddf56fe1a7edca5dd9ecca4cfbe6bc088840aef7dc3dea41c"}, "downloads": -1, "filename": "taskjuggler_python-0.0.2.tar.gz", "has_sig": false, "md5_digest": "3afe4ab6dc16a6fac373231aae0b79d3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25894, "upload_time": "2017-10-12T20:34:13", "upload_time_iso_8601": "2017-10-12T20:34:13.942942Z", "url": "https://files.pythonhosted.org/packages/f0/08/75dcb4a59f7a3013dd849425e80b51f9abc82da56a7b4798ce317b3540db/taskjuggler_python-0.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:57:46 2020"}
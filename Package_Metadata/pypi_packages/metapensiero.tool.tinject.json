{"info": {"author": "Lele Gaifax", "author_email": "lele@metapensiero.it", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Console", "Intended Audience :: Developers", "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3 :: Only", "Topic :: Software Development", "Topic :: Utilities"], "description": ".. -*- coding: utf-8 -*-\n.. :Project:   metapensiero.tool.tinject -- Automate creation of sources\n.. :Created:   Wed 13 Apr 2016 11:22:34 CEST\n.. :Author:    Lele Gaifax <lele@metapensiero.it>\n.. :License:   GNU General Public License version 3 or later\n.. :Copyright: \u00a9 2016, 2017, 2018 Lele Gaifax\n..\n\n===========================\n metapensiero.tool.tinject\n===========================\n\nAutomate creation of sources\n============================\n\n:author: Lele Gaifax\n:contact: lele@metapensiero.it\n:license: GNU General Public License version 3 or later\n\nThis is a simple tool that takes a YAML_ declarative configuration of `actions`, each\ndescribing the set of `steps` needed to accomplish it, and realizes one or more actions\npossibly interpolating a set of dynamic values inserted by the user.\n\nI've written it with the goal of taking away, as much as possible, the tediousness of creating\nnew content in a PatchDB_ setup.\n\nThere is a myriad of similar tools around, but most of them are either targeted at\nbootstrapping a hierarchy of files and directories (that is, a *one-shot* operation, for\nexample to create the *skeleton* of a new Python package, like cookiecutter_ to mention one) or\nbelong to a very specific domain (an example of this category may be ZopeSkel_).\n\nTo fulfill my goal I needed a tool able to perform an arbitrary list of operations, primarily:\n\n* create a directory\n* create a file with a particular content\n* change the content of an existing file\n\nIt obviously needs to be *parametric* in almost every part: the pathnames and the actual\ncontent of the files must be determined by a *template* interpolated with a set of *values*.\n\nThis is what Jinja2_ excels at.\n\nSince the values are mostly *volatile* (that is, almost all of them change from one invocation\nto the other), I first used the excellent `inquirer`_ library to prompt the user, but at some\npoint I was asked about compatibility with Windows and thus I switched to `whaaaaat`_, that\nbeing based on `prompt_toolkit`_ was more promising on that. More recently, due to a long\ninactivity on the port to version 2 of prompt_toolkit (see `whaaaaat's issue 23`_), I replaced\nit with `questionary`_: thankfully they all expose a very similar interface, so that was very\neasily achieved (hint: the latter two effectively inherit from the former).\n\n.. contents::\n\n.. _cookiecutter: https://pypi.python.org/pypi/cookiecutter\n.. _inquirer: https://pypi.org/project/inquirer/\n.. _jinja2: http://jinja.pocoo.org/\n.. _patchdb: https://pypi.python.org/pypi/metapensiero.sphinx.patchdb\n.. _prompt_toolkit: https://pypi.org/project/prompt_toolkit/\n.. _questionary: https://pypi.org/project/questionary/\n.. _whaaaaat's issue 23: https://github.com/finklabs/whaaaaat/issues/23\n.. _whaaaaat: https://pypi.python.org/pypi/whaaaaat\n.. _yaml: http://yaml.org/\n.. _zopeskel: https://pypi.python.org/pypi/ZopeSkel\n\n\nConfiguration\n-------------\n\nThe YAML configuration file may be composed by one or two *documents*: an optional *global\nsection* and a mandatory one containing the list of available `actions`, each of them being\nbasically a list of `steps`.\n\n\nGlobal section\n~~~~~~~~~~~~~~\n\nThe first *document* contains a set of optional global settings, in particular:\n\n* the options to instantiate the Jinja2 *environment*\n* a set of file *headers*, one for each kind of file\n* a list of *steps* to be performed at every invocation\n\n\nJinja2 environment\n++++++++++++++++++\n\nTo avoid clashes with the syntax used by Python's ``format()`` minilanguage, the `default\nenvironment settings`__ are the following:\n\nblock_start_string\n  The start of a block is ``<<``, instead of the default ``{%``\n\nblock_end_string\n  The end of a block is ``>>``, instead of the default ``%}``\n\nvariable_start_string\n  A variable is introduced by ``\u00ab``, instead of the classic ``{{``\n\nvariable_end_string\n  A variable ends with ``\u00bb``, and not with the classic ``}}``\n\nextensions\n  The extension ``jinja2_time.TimeExtension`` is automatically selected\n\nkeep_trailing_newline\n  By default the trailing newline is *not* discarded\n\nObviously any Jinja2 template defined by the configuration must adhere to these settings. If\nyou don't like them, or if you want define different ones, you can put an entry like the\nfollowing in the globals section of the configuration::\n\n  jinja:\n    block_start_string: \"[[\"\n    block_end_string: \"]]\"\n    variable_start_string: \"<<\"\n    variable_end_string: \">>\"\n\n__ http://jinja.pocoo.org/docs/dev/api/#jinja2.Environment\n\n\nFile headers\n++++++++++++\n\nThis is a map between a file *suffix* and a template that will be automatically injected in the\nrender's context as the variable ``header``. For example, should you need to generate a Pascal\nunit, you could insert the following::\n\n  headers:\n    pas: |\n      (*\u00ab \"*\" * 70 \u00bb\n       * Project: \u00abpackage_name\u00bb\n       * Created: \u00abtimestamp\u00bb\n       *\u00ab \"*\" * 70 \u00bb)\n\n\nInitial steps\n+++++++++++++\n\nThis is a list of steps to be executed unconditionally at startup. In particular it may be used\nto gather some values from arbitrary places to initialize the *answers*, to prompt the user for\na common set of values and to define custom *steps*. As an example, you could say::\n\n  steps:\n    - python:\n        script: |\n          import os, pwd, sys\n\n          class InitCustomAnswersWithoutPrompt(Step):\n              def __init__(self, state, config):\n                  super().__init__(state, config)\n                  self.name = config['name']\n                  self.value = config['value']\n\n              def announce(self):\n                  self.state.announce('*', \"Inject %s=%s\", self.name, self.value)\n\n              def __call__(self, *args, **kwargs):\n                  return {self.name: self.value, python_version: sys.version}\n\n          register_step('initcustom', InitCustomAnswersWithoutPrompt)\n\n          myself = pwd.getpwuid(os.getuid())\n          state.answers['author_username'] = myself.pw_name\n          state.answers['author_fullname'] = myself.pw_gecos.split(',')[0]\n\n    ## Here you can execute the new kind of operation defined above\n\n    - initcustom:\n        name: \"myextravar\"\n        value: \"thevalue\"\n\n\nActions\n~~~~~~~\n\nAn *action* is identified by a unique name and carries an optional description, an optional set\nof prompts specific to the action and a list of one or more steps.\n\nThe following is a complete example::\n\n  create_top_level_setup_py:\n    description: Create top level setup.py\n\n    prompt:\n      - package_name:\n          message: The name of the Python package\n\n    steps:\n      - createdir:\n          directory: src\n\n      - createfile:\n          directory: src\n          filename: setup.py\n          content: |\n            # Hi, I'm the setup.py file for \u00abpackage_name\u00bb\n\n\nSteps\n~~~~~\n\nA *step* is some kind of *operation* that must be carried out. The name of the step identifies\nthe kind of operation, and its value is used to specify the needed parameters. So, in the\nexample above, we have two steps, ``createdir`` and ``createfile``, each requiring its specific\narguments map.\n\nA step may be conditionally skipped specifying an expression in its ``when`` setting: if\npresent, the operation will be performed only when the expression evaluates to true.\n\nThis is the list of available operation kinds:\n\nchangefile\n  Perform some quite simple changes to the content of an existing file.\n\n  Required configuration:\n\n    directory\n      The directory containing the file to be changed\n\n    filename\n      The name of the existing file within the given directory\n\n    changes\n      A list of tweaks: there are currently just three types, one that *add* some content\n      *before* a given *marker*, one to add the content *after* it and one that *insert* some\n      content *between* a marker *and* another marker keeping the block sorted\n\n  Example::\n\n    - changefile:\n        directory: src\n        filename: listofitems.txt\n        changes:\n          - add: \"\u00abnewitemname\u00bb\\n\"\n            before: \"\\n;; items delimiter\\n\"\n          - add: \"\u00abnewitemname\u00bb\\n\"\n            after: \"\\n;; reversed insertion order\\n\"\n\n    - changefile:\n        directory: src\n        filename: __init__.py\n        changes:\n          - insert: \"from .\u00abtable_name\u00bb import \u00abtable_name\u00bb\\n\"\n            between: \"\\n## \u2304\u2304\u2304 tinject import marker \u2304\u2304\u2304, please don't remove!\\n\"\n            and: \"\\n## \u2303\u2303\u2303 tinject import marker \u2303\u2303\u2303, please don't remove!\\n\"\n\ncreatedir\n  Create a directory and its parents.\n\n  Required configuration:\n\n    directory\n      The directory to be created\n\n  Example::\n\n    - createdir:\n        directory: src/my/new/package\n\ncreatefile\n  Create a new file with a particular content.\n\n  Required configuration:\n\n    directory\n      The directory contained the file to be created\n\n    filename\n      The name of the new file\n\n    content\n      A Jinja2 template that will be rendered and written to the new file\n\n  Example::\n\n    - createfile:\n        directory: \"\u00abdocs_dir\u00bb/\u00abschema_name\u00bb/tables\"\n        filename: \"\u00abtable_name\u00bb.sql\"\n        description: Structure of table \u00abschema_name\u00bb.\u00abtable_name\u00bb\n        ## The template may be either inline or included from an external file\n        content: !include 'table.sql'\n\nprompt\n  Ask the user for some information bits.\n\n  Required configuration: a list of dictionaries, each representing a `questionary's\n  question`__.\n\n  Example::\n\n    - prompt:\n        - name_of_the_variable:\n            message: Tell me the value\n            default: \"default value\"\n\n        - different_kind_of_input:\n            message: Select the variant\n            kind: list\n            choices:\n              - Big\n              - Medium\n              - Small\n\n  __ https://github.com/tmbo/questionary#2-Dict-style-question-formulation\n\npython\n  Execute an arbitrary Python script.\n\n  Required configuration:\n\n    script\n      The code of the script\n\n  The script is executed with a context containing the class ``Step``, the function\n  ``register_step`` and the global ``state`` of the program.\n\n  See the `initial steps`_ above for an example.\n\nrepeat\n  Repeat a list of substeps\n\n  Required configuration:\n\n    steps\n      The list of substeps to repeat\n\n  Optional configuration:\n\n    description\n      A message string, emitted at the start, if given\n\n    answers\n      The name of variable holding a list of answers, when one substep is a ``prompt``\n\n    count\n      The number of iterations\n\n    when\n      A Jinja boolean expression: if given it's evaluated once before the loop begins, that\n      gets executed only when it expression's value is true, otherwise no repetition happens at\n      all; the expression may refer to previous answers, even those collected while looping\n      (that is, the variable specified by the ``answers`` option)\n\n    until\n      A Jinja boolean expression: if given (and ``count`` is **not**), then the loop is\n      terminated when the condition is false\n\n    again_message\n      When neither ``count`` nor ``until`` are specified, the step will explicitly ask\n      confirmation about looping again, at the end of all substeps execution\n\n  See ``examples/repeat.yml`` for an example.\n\n\nSample session\n--------------\n\nCreate a new schema with a new table::\n\n  $ tinject --verbose apply examples/patchdb.yml new_schema new_table\n\n  * Execute Python script\n  [?] Author fullname (author_fullname): Lele Gaifax\n  [?] Author username (author_username): lele\n  [?] Author email (author_email): \u00abauthor_username\u00bb@example.com\n  [?] Fully qualified package name (package_name): package.qualified.name\n  [?] Timestamp (timestamp): << now 'local', '%a %d %b %Y %H:%M:%S %Z' >>\n  [?] Year (year): << now 'local', '%Y' >>\n  [?] Distribution license (license): GNU General Public License version 3 or later\n  [?] Copyright holder (copyright): \u00a9 \u00abyear\u00bb \u00abauthor_fullname\u00bb\n  [?] Root directory of Sphinx documentation (docs_dir): docs/database\n  [?] Root directory of SQLAlchemy model sources (model_dir): src/\u00abpackage_name|replace(\".\",\"/\")\u00bb\n\n  =====================\n   Create a new schema\n  =====================\n  [?] Name of the new schema (schema_name): public\n\n  * Create directory docs/database/public\n\n  * Create file docs/database/public/index.rst\n\n  * Create directory docs/database/public/tables\n\n  * Create file docs/database/public/tables/index.rst\n\n  * Create directory src/package/qualified/name/entities/public\n\n  * Create file src/package/qualified/name/entities/public/__init__.py\n\n  * Create directory src/package/qualified/name/tables/public\n\n  * Create file src/package/qualified/name/tables/public/__init__.py\n\n  ====================\n   Create a new table\n  ====================\n  [?] Schema name of the new table (schema_name): public\n  [?] Name of the new table (table_name): things\n  [?] Description of the new table (table_description): The table ``\u00abschema_name\u00bb.\u00abtable_name\u00bb`` contains...\n  [?] Name of the corresponding entity (entity_name): Thing\n\n  * Create file docs/database/public/tables/things.rst\n\n  * Create file docs/database/public/tables/things.sql\n\n  * Create file src/package/qualified/name/entities/public/thing.py\n\n  * Change file src/package/qualified/name/entities/public/__init__.py\n\n    - insert \u201cfrom .thing import T\u2026\u201d between \u201c## \u2304\u2304\u2304 tinject impo\u2026\u201d and \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n\n    - add \u201cmapper(Thing, t.thi\u2026\u201d after \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n\n  * Create file src/package/qualified/name/tables/public/things.py\n\n  * Change file src/package/qualified/name/tables/public/__init__.py\n\n    - insert \u201cfrom .things import \u2026\u201d between \u201c## \u2304\u2304\u2304 tinject impo\u2026\u201d and \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n\nVerify::\n\n  $ cat src/package/qualified/name/entities/public/__init__.py\n  # -*- coding: utf-8 -*-\n  # :Project:   package.qualified.name -- Entities in schema public\n  # :Created:   mer 15 giu 2016 13:24:54 CEST\n  # :Author:    Lele Gaifax <lele@example.com>\n  # :License:   GNU General Public License version 3 or later\n  # :Copyright: \u00a9 2016 Lele Gaifax\n  #\n\n  from sqlalchemy.orm import mapper\n\n  from ...tables import public as t\n\n  ## \u2304\u2304\u2304 tinject import marker \u2304\u2304\u2304, please don't remove!\n  from .thing import Thing\n\n  ## \u2303\u2303\u2303 tinject import marker \u2303\u2303\u2303, please don't remove!\n\n  mapper(Thing, t.things, properties={\n  })\n\nAdd another table::\n\n  $ tinject --verbose apply examples/patchdb.yml new_table\n\n  * Execute Python script\n  [?] Author fullname (author_fullname): Lele Gaifax\n  [?] Author username (author_username): lele\n  [?] Author email (author_email): \u00abauthor_username\u00bb@example.com\n  [?] Fully qualified package name (package_name): package.qualified.name\n  [?] Timestamp (timestamp): << now 'local', '%a %d %b %Y %H:%M:%S %Z' >>\n  [?] Year (year): << now 'local', '%Y' >>\n  [?] Distribution license (license): GNU General Public License version 3 or later\n  [?] Copyright holder (copyright): \u00a9 \u00abyear\u00bb \u00abauthor_fullname\u00bb\n  [?] Root directory of Sphinx documentation (docs_dir): docs/database\n  [?] Root directory of SQLAlchemy model sources (model_dir): src/\u00abpackage_name|replace(\".\",\"/\")\u00bb\n\n  ====================\n   Create a new table\n  ====================\n  [?] Schema name of the new table (schema_name): public\n  [?] Name of the new table (table_name): thangs\n  [?] Description of the new table (table_description): The table ``\u00abschema_name\u00bb.\u00abtable_name\u00bb`` contains...\n  [?] Name of the corresponding entity (entity_name): Thang\n\n  * Create file docs/database/public/tables/thangs.rst\n\n  * Create file docs/database/public/tables/thangs.sql\n\n  * Create file src/package/qualified/name/entities/public/thang.py\n\n  * Change file src/package/qualified/name/entities/public/__init__.py\n\n    - insert \u201cfrom .thang import T\u2026\u201d between \u201c## \u2304\u2304\u2304 tinject impo\u2026\u201d and \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n\n    - add \u201cmapper(Thang, t.tha\u2026\u201d after \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n\n  * Create file src/package/qualified/name/tables/public/thangs.py\n\n  * Change file src/package/qualified/name/tables/public/__init__.py\n\n    - insert \u201cfrom .thangs import \u2026\u201d between \u201c## \u2304\u2304\u2304 tinject impo\u2026\u201d and \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n\nVerify::\n\n  $ cat src/package/qualified/name/entities/public/__init__.py\n  # -*- coding: utf-8 -*-\n  # :Project:   package.qualified.name -- Entities in schema public\n  # :Created:   mer 15 giu 2016 13:24:54 CEST\n  # :Author:    Lele Gaifax <lele@example.com>\n  # :License:   GNU General Public License version 3 or later\n  # :Copyright: \u00a9 2016 Lele Gaifax\n  #\n\n  from sqlalchemy.orm import mapper\n\n  from ...tables import public as t\n\n  ## \u2304\u2304\u2304 tinject import marker \u2304\u2304\u2304, please don't remove!\n  from .thang import Thang\n  from .thing import Thing\n\n  ## \u2303\u2303\u2303 tinject import marker \u2303\u2303\u2303, please don't remove!\n\n  mapper(Thang, t.thangs, properties={\n  })\n\n  mapper(Thing, t.things, properties={\n  })\n\n\nBatch mode\n----------\n\nThere are cases when all the *variables* are already known and thus there's no need to\ninteractively prompt the user to get the job done.\n\nThe ``apply`` action accepts the options ``--prompt-only`` and ``--answers-file`` to make that\npossible.\n\nThe former can be used to collect needed information and print that back, or write them into a\nYAML file with ``--output-answers``::\n\n  $ tinject apply -p -o pre-answered.yml patchdb.yml new_schema\n  ? Author fullname (author_fullname) Lele Gaifax\n  ? Author username (author_username) lele\n  ? Author email (author_email) \u00abauthor_username\u00bb@example.com\n  ? Fully qualified package name (package_name) package.qualified.name\n  ? Timestamp (timestamp) << now 'local', '%a %d %b %Y %H:%M:%S %Z' >>\n  ? Year (year) << now 'local', '%Y' >>\n  ? Distribution license (license) GNU General Public License version 3 or later\n  ? Copyright holder (copyright) \u00a9 \u00abyear\u00bb \u00abauthor_fullname\u00bb\n  ? Root directory of Sphinx documentation (docs_dir) docs/database\n  ? Root directory of SQLAlchemy model sources (model_dir) src/\u00abpackage_name|replace(\".\",\"/\")\u00bb\n  ? Name of the new schema (schema_name) public\n\nIf you put those settings into a YAML file, you can then execute the action in batch mode::\n\n  $ tinject -v apply -a pre-answered.yml patchdb.yml new_schema\n\n  * Execute Python script\n\n  =====================\n   Create a new schema\n  =====================\n\n  * Create directory docs/database/public\n\n  * Create file docs/database/public/index.rst\n\n  * Create directory docs/database/public/tables\n\n  * Create file docs/database/public/tables/index.rst\n\n  * Create directory src/package/qualified/name/entities/public\n\n  * Create file src/package/qualified/name/entities/public/__init__.py\n\n  * Create directory src/package/qualified/name/tables/public\n\n  * Create file src/package/qualified/name/tables/public/__init__.py\n\n\n.. -*- coding: utf-8 -*-\n\nChanges\n-------\n\n0.8 (2018-12-16)\n~~~~~~~~~~~~~~~~\n\n- Use questionary__ instead of whaaaaat_: the latter seems stale, the former is based on\n  `prompt_toolkit`_ v2\n\n  __ https://pypi.org/project/questionary/\n\n- Use `ruamel.yaml`__ instead of PyYAML__\n\n  __ https://pypi.org/project/ruamel.yaml/\n  __ https://pypi.org/project/PyYAML/\n\n- New option ``--answers-file`` mode, to read answers from a ``YAML`` file\n\n\n0.7 (2017-06-02)\n~~~~~~~~~~~~~~~~\n\n- Use whaaaaat_ instead of inquirer_: being based on `prompt_toolkit`_ it offers a better\n  user experience and should be usable also under Windows\n\n\n0.6 (2017-03-22)\n~~~~~~~~~~~~~~~~\n\n- Minor tweak, no externally visible changes\n\n\n0.5 (2016-11-07)\n~~~~~~~~~~~~~~~~\n\n- All steps support a \u201cwhen\u201d condition\n\n\n0.4 (2016-06-16)\n~~~~~~~~~~~~~~~~\n\n- New changefile tweak to insert a line in a sorted block\n\n\n0.3 (2016-05-22)\n~~~~~~~~~~~~~~~~\n\n- New ability to repeat a list of substeps\n\n\n0.2 (2016-05-19)\n~~~~~~~~~~~~~~~~\n\n- First release on PyPI\n\n\n0.1 (2016-04-26)\n~~~~~~~~~~~~~~~~\n\n- Initial effort\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.com/metapensiero/metapensiero.tool.tinject", "keywords": "YAML", "license": "GPLv3+", "maintainer": "", "maintainer_email": "", "name": "metapensiero.tool.tinject", "package_url": "https://pypi.org/project/metapensiero.tool.tinject/", "platform": "", "project_url": "https://pypi.org/project/metapensiero.tool.tinject/", "project_urls": {"Homepage": "https://gitlab.com/metapensiero/metapensiero.tool.tinject"}, "release_url": "https://pypi.org/project/metapensiero.tool.tinject/0.8/", "requires_dist": null, "requires_python": "", "summary": "Automate creation of sources", "version": "0.8", "yanked": false, "html_description": "<div class=\"project-description\">\n            <table>\n<col>\n<col>\n<tbody>\n<tr><th>Author:</th>\n<td>Lele Gaifax</td></tr>\n<tr><th>Contact:</th>\n<td><a href=\"mailto:lele%40metapensiero.it\">lele<span>@</span>metapensiero<span>.</span>it</a></td></tr>\n<tr><th>license:</th><td>GNU General Public License version 3 or later</td>\n</tr>\n</tbody>\n</table>\n<p>This is a simple tool that takes a <a href=\"http://yaml.org/\" rel=\"nofollow\">YAML</a> declarative configuration of <cite>actions</cite>, each\ndescribing the set of <cite>steps</cite> needed to accomplish it, and realizes one or more actions\npossibly interpolating a set of dynamic values inserted by the user.</p>\n<p>I\u2019ve written it with the goal of taking away, as much as possible, the tediousness of creating\nnew content in a <a href=\"https://pypi.python.org/pypi/metapensiero.sphinx.patchdb\" rel=\"nofollow\">PatchDB</a> setup.</p>\n<p>There is a myriad of similar tools around, but most of them are either targeted at\nbootstrapping a hierarchy of files and directories (that is, a <em>one-shot</em> operation, for\nexample to create the <em>skeleton</em> of a new Python package, like <a href=\"https://pypi.python.org/pypi/cookiecutter\" rel=\"nofollow\">cookiecutter</a> to mention one) or\nbelong to a very specific domain (an example of this category may be <a href=\"https://pypi.python.org/pypi/ZopeSkel\" rel=\"nofollow\">ZopeSkel</a>).</p>\n<p>To fulfill my goal I needed a tool able to perform an arbitrary list of operations, primarily:</p>\n<ul>\n<li>create a directory</li>\n<li>create a file with a particular content</li>\n<li>change the content of an existing file</li>\n</ul>\n<p>It obviously needs to be <em>parametric</em> in almost every part: the pathnames and the actual\ncontent of the files must be determined by a <em>template</em> interpolated with a set of <em>values</em>.</p>\n<p>This is what <a href=\"http://jinja.pocoo.org/\" rel=\"nofollow\">Jinja2</a> excels at.</p>\n<p>Since the values are mostly <em>volatile</em> (that is, almost all of them change from one invocation\nto the other), I first used the excellent <a href=\"https://pypi.org/project/inquirer/\" rel=\"nofollow\">inquirer</a> library to prompt the user, but at some\npoint I was asked about compatibility with Windows and thus I switched to <a href=\"https://pypi.python.org/pypi/whaaaaat\" rel=\"nofollow\">whaaaaat</a>, that\nbeing based on <a href=\"https://pypi.org/project/prompt_toolkit/\" rel=\"nofollow\">prompt_toolkit</a> was more promising on that. More recently, due to a long\ninactivity on the port to version 2 of prompt_toolkit (see <a href=\"https://github.com/finklabs/whaaaaat/issues/23\" rel=\"nofollow\">whaaaaat\u2019s issue 23</a>), I replaced\nit with <a href=\"https://pypi.org/project/questionary/\" rel=\"nofollow\">questionary</a>: thankfully they all expose a very similar interface, so that was very\neasily achieved (hint: the latter two effectively inherit from the former).</p>\n<div id=\"contents\">\n<p>Contents</p>\n<ul>\n<li><a href=\"#configuration\" id=\"id14\" rel=\"nofollow\">Configuration</a><ul>\n<li><a href=\"#global-section\" id=\"id15\" rel=\"nofollow\">Global section</a><ul>\n<li><a href=\"#jinja2-environment\" id=\"id16\" rel=\"nofollow\">Jinja2 environment</a></li>\n<li><a href=\"#file-headers\" id=\"id17\" rel=\"nofollow\">File headers</a></li>\n<li><a href=\"#initial-steps\" id=\"id18\" rel=\"nofollow\">Initial steps</a></li>\n</ul>\n</li>\n<li><a href=\"#actions\" id=\"id19\" rel=\"nofollow\">Actions</a></li>\n<li><a href=\"#steps\" id=\"id20\" rel=\"nofollow\">Steps</a></li>\n</ul>\n</li>\n<li><a href=\"#sample-session\" id=\"id21\" rel=\"nofollow\">Sample session</a></li>\n<li><a href=\"#batch-mode\" id=\"id22\" rel=\"nofollow\">Batch mode</a></li>\n<li><a href=\"#changes\" id=\"id23\" rel=\"nofollow\">Changes</a><ul>\n<li><a href=\"#id3\" id=\"id24\" rel=\"nofollow\">0.8 (2018-12-16)</a></li>\n<li><a href=\"#id7\" id=\"id25\" rel=\"nofollow\">0.7 (2017-06-02)</a></li>\n<li><a href=\"#id8\" id=\"id26\" rel=\"nofollow\">0.6 (2017-03-22)</a></li>\n<li><a href=\"#id9\" id=\"id27\" rel=\"nofollow\">0.5 (2016-11-07)</a></li>\n<li><a href=\"#id10\" id=\"id28\" rel=\"nofollow\">0.4 (2016-06-16)</a></li>\n<li><a href=\"#id11\" id=\"id29\" rel=\"nofollow\">0.3 (2016-05-22)</a></li>\n<li><a href=\"#id12\" id=\"id30\" rel=\"nofollow\">0.2 (2016-05-19)</a></li>\n<li><a href=\"#id13\" id=\"id31\" rel=\"nofollow\">0.1 (2016-04-26)</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<div id=\"configuration\">\n<h2><a href=\"#id14\" rel=\"nofollow\">Configuration</a></h2>\n<p>The YAML configuration file may be composed by one or two <em>documents</em>: an optional <em>global\nsection</em> and a mandatory one containing the list of available <cite>actions</cite>, each of them being\nbasically a list of <cite>steps</cite>.</p>\n<div id=\"global-section\">\n<h3><a href=\"#id15\" rel=\"nofollow\">Global section</a></h3>\n<p>The first <em>document</em> contains a set of optional global settings, in particular:</p>\n<ul>\n<li>the options to instantiate the Jinja2 <em>environment</em></li>\n<li>a set of file <em>headers</em>, one for each kind of file</li>\n<li>a list of <em>steps</em> to be performed at every invocation</li>\n</ul>\n<div id=\"jinja2-environment\">\n<h4><a href=\"#id16\" rel=\"nofollow\">Jinja2 environment</a></h4>\n<p>To avoid clashes with the syntax used by Python\u2019s <tt>format()</tt> minilanguage, the <a href=\"http://jinja.pocoo.org/docs/dev/api/#jinja2.Environment\" rel=\"nofollow\">default\nenvironment settings</a> are the following:</p>\n<dl>\n<dt>block_start_string</dt>\n<dd>The start of a block is <tt>&lt;&lt;</tt>, instead of the default <tt>{%</tt></dd>\n<dt>block_end_string</dt>\n<dd>The end of a block is <tt>&gt;&gt;</tt>, instead of the default <tt>%}</tt></dd>\n<dt>variable_start_string</dt>\n<dd>A variable is introduced by <tt>\u00ab</tt>, instead of the classic <tt>{{</tt></dd>\n<dt>variable_end_string</dt>\n<dd>A variable ends with <tt>\u00bb</tt>, and not with the classic <tt>}}</tt></dd>\n<dt>extensions</dt>\n<dd>The extension <tt>jinja2_time.TimeExtension</tt> is automatically selected</dd>\n<dt>keep_trailing_newline</dt>\n<dd>By default the trailing newline is <em>not</em> discarded</dd>\n</dl>\n<p>Obviously any Jinja2 template defined by the configuration must adhere to these settings. If\nyou don\u2019t like them, or if you want define different ones, you can put an entry like the\nfollowing in the globals section of the configuration:</p>\n<pre>jinja:\n  block_start_string: \"[[\"\n  block_end_string: \"]]\"\n  variable_start_string: \"&lt;&lt;\"\n  variable_end_string: \"&gt;&gt;\"\n</pre>\n</div>\n<div id=\"file-headers\">\n<h4><a href=\"#id17\" rel=\"nofollow\">File headers</a></h4>\n<p>This is a map between a file <em>suffix</em> and a template that will be automatically injected in the\nrender\u2019s context as the variable <tt>header</tt>. For example, should you need to generate a Pascal\nunit, you could insert the following:</p>\n<pre>headers:\n  pas: |\n    (*\u00ab \"*\" * 70 \u00bb\n     * Project: \u00abpackage_name\u00bb\n     * Created: \u00abtimestamp\u00bb\n     *\u00ab \"*\" * 70 \u00bb)\n</pre>\n</div>\n<div id=\"initial-steps\">\n<h4><a href=\"#id18\" rel=\"nofollow\">Initial steps</a></h4>\n<p>This is a list of steps to be executed unconditionally at startup. In particular it may be used\nto gather some values from arbitrary places to initialize the <em>answers</em>, to prompt the user for\na common set of values and to define custom <em>steps</em>. As an example, you could say:</p>\n<pre>steps:\n  - python:\n      script: |\n        import os, pwd, sys\n\n        class InitCustomAnswersWithoutPrompt(Step):\n            def __init__(self, state, config):\n                super().__init__(state, config)\n                self.name = config['name']\n                self.value = config['value']\n\n            def announce(self):\n                self.state.announce('*', \"Inject %s=%s\", self.name, self.value)\n\n            def __call__(self, *args, **kwargs):\n                return {self.name: self.value, python_version: sys.version}\n\n        register_step('initcustom', InitCustomAnswersWithoutPrompt)\n\n        myself = pwd.getpwuid(os.getuid())\n        state.answers['author_username'] = myself.pw_name\n        state.answers['author_fullname'] = myself.pw_gecos.split(',')[0]\n\n  ## Here you can execute the new kind of operation defined above\n\n  - initcustom:\n      name: \"myextravar\"\n      value: \"thevalue\"\n</pre>\n</div>\n</div>\n<div id=\"actions\">\n<h3><a href=\"#id19\" rel=\"nofollow\">Actions</a></h3>\n<p>An <em>action</em> is identified by a unique name and carries an optional description, an optional set\nof prompts specific to the action and a list of one or more steps.</p>\n<p>The following is a complete example:</p>\n<pre>create_top_level_setup_py:\n  description: Create top level setup.py\n\n  prompt:\n    - package_name:\n        message: The name of the Python package\n\n  steps:\n    - createdir:\n        directory: src\n\n    - createfile:\n        directory: src\n        filename: setup.py\n        content: |\n          # Hi, I'm the setup.py file for \u00abpackage_name\u00bb\n</pre>\n</div>\n<div id=\"steps\">\n<h3><a href=\"#id20\" rel=\"nofollow\">Steps</a></h3>\n<p>A <em>step</em> is some kind of <em>operation</em> that must be carried out. The name of the step identifies\nthe kind of operation, and its value is used to specify the needed parameters. So, in the\nexample above, we have two steps, <tt>createdir</tt> and <tt>createfile</tt>, each requiring its specific\narguments map.</p>\n<p>A step may be conditionally skipped specifying an expression in its <tt>when</tt> setting: if\npresent, the operation will be performed only when the expression evaluates to true.</p>\n<p>This is the list of available operation kinds:</p>\n<dl>\n<dt>changefile</dt>\n<dd><p>Perform some quite simple changes to the content of an existing file.</p>\n<p>Required configuration:</p>\n<blockquote>\n<dl>\n<dt>directory</dt>\n<dd>The directory containing the file to be changed</dd>\n<dt>filename</dt>\n<dd>The name of the existing file within the given directory</dd>\n<dt>changes</dt>\n<dd>A list of tweaks: there are currently just three types, one that <em>add</em> some content\n<em>before</em> a given <em>marker</em>, one to add the content <em>after</em> it and one that <em>insert</em> some\ncontent <em>between</em> a marker <em>and</em> another marker keeping the block sorted</dd>\n</dl>\n</blockquote>\n<p>Example:</p>\n<pre>- changefile:\n    directory: src\n    filename: listofitems.txt\n    changes:\n      - add: \"\u00abnewitemname\u00bb\\n\"\n        before: \"\\n;; items delimiter\\n\"\n      - add: \"\u00abnewitemname\u00bb\\n\"\n        after: \"\\n;; reversed insertion order\\n\"\n\n- changefile:\n    directory: src\n    filename: __init__.py\n    changes:\n      - insert: \"from .\u00abtable_name\u00bb import \u00abtable_name\u00bb\\n\"\n        between: \"\\n## \u2304\u2304\u2304 tinject import marker \u2304\u2304\u2304, please don't remove!\\n\"\n        and: \"\\n## \u2303\u2303\u2303 tinject import marker \u2303\u2303\u2303, please don't remove!\\n\"\n</pre>\n</dd>\n<dt>createdir</dt>\n<dd><p>Create a directory and its parents.</p>\n<p>Required configuration:</p>\n<blockquote>\n<dl>\n<dt>directory</dt>\n<dd>The directory to be created</dd>\n</dl>\n</blockquote>\n<p>Example:</p>\n<pre>- createdir:\n    directory: src/my/new/package\n</pre>\n</dd>\n<dt>createfile</dt>\n<dd><p>Create a new file with a particular content.</p>\n<p>Required configuration:</p>\n<blockquote>\n<dl>\n<dt>directory</dt>\n<dd>The directory contained the file to be created</dd>\n<dt>filename</dt>\n<dd>The name of the new file</dd>\n<dt>content</dt>\n<dd>A Jinja2 template that will be rendered and written to the new file</dd>\n</dl>\n</blockquote>\n<p>Example:</p>\n<pre>- createfile:\n    directory: \"\u00abdocs_dir\u00bb/\u00abschema_name\u00bb/tables\"\n    filename: \"\u00abtable_name\u00bb.sql\"\n    description: Structure of table \u00abschema_name\u00bb.\u00abtable_name\u00bb\n    ## The template may be either inline or included from an external file\n    content: !include 'table.sql'\n</pre>\n</dd>\n<dt>prompt</dt>\n<dd><p>Ask the user for some information bits.</p>\n<p>Required configuration: a list of dictionaries, each representing a <a href=\"https://github.com/tmbo/questionary#2-Dict-style-question-formulation\" rel=\"nofollow\">questionary\u2019s\nquestion</a>.</p>\n<p>Example:</p>\n<pre>- prompt:\n    - name_of_the_variable:\n        message: Tell me the value\n        default: \"default value\"\n\n    - different_kind_of_input:\n        message: Select the variant\n        kind: list\n        choices:\n          - Big\n          - Medium\n          - Small\n</pre>\n</dd>\n<dt>python</dt>\n<dd><p>Execute an arbitrary Python script.</p>\n<p>Required configuration:</p>\n<blockquote>\n<dl>\n<dt>script</dt>\n<dd>The code of the script</dd>\n</dl>\n</blockquote>\n<p>The script is executed with a context containing the class <tt>Step</tt>, the function\n<tt>register_step</tt> and the global <tt>state</tt> of the program.</p>\n<p>See the <a href=\"#initial-steps\" rel=\"nofollow\">initial steps</a> above for an example.</p>\n</dd>\n<dt>repeat</dt>\n<dd><p>Repeat a list of substeps</p>\n<p>Required configuration:</p>\n<blockquote>\n<dl>\n<dt>steps</dt>\n<dd>The list of substeps to repeat</dd>\n</dl>\n</blockquote>\n<p>Optional configuration:</p>\n<blockquote>\n<dl>\n<dt>description</dt>\n<dd>A message string, emitted at the start, if given</dd>\n<dt>answers</dt>\n<dd>The name of variable holding a list of answers, when one substep is a <tt>prompt</tt></dd>\n<dt>count</dt>\n<dd>The number of iterations</dd>\n<dt>when</dt>\n<dd>A Jinja boolean expression: if given it\u2019s evaluated once before the loop begins, that\ngets executed only when it expression\u2019s value is true, otherwise no repetition happens at\nall; the expression may refer to previous answers, even those collected while looping\n(that is, the variable specified by the <tt>answers</tt> option)</dd>\n<dt>until</dt>\n<dd>A Jinja boolean expression: if given (and <tt>count</tt> is <strong>not</strong>), then the loop is\nterminated when the condition is false</dd>\n<dt>again_message</dt>\n<dd>When neither <tt>count</tt> nor <tt>until</tt> are specified, the step will explicitly ask\nconfirmation about looping again, at the end of all substeps execution</dd>\n</dl>\n</blockquote>\n<p>See <tt>examples/repeat.yml</tt> for an example.</p>\n</dd>\n</dl>\n</div>\n</div>\n<div id=\"sample-session\">\n<h2><a href=\"#id21\" rel=\"nofollow\">Sample session</a></h2>\n<p>Create a new schema with a new table:</p>\n<pre>$ tinject --verbose apply examples/patchdb.yml new_schema new_table\n\n* Execute Python script\n[?] Author fullname (author_fullname): Lele Gaifax\n[?] Author username (author_username): lele\n[?] Author email (author_email): \u00abauthor_username\u00bb@example.com\n[?] Fully qualified package name (package_name): package.qualified.name\n[?] Timestamp (timestamp): &lt;&lt; now 'local', '%a %d %b %Y %H:%M:%S %Z' &gt;&gt;\n[?] Year (year): &lt;&lt; now 'local', '%Y' &gt;&gt;\n[?] Distribution license (license): GNU General Public License version 3 or later\n[?] Copyright holder (copyright): \u00a9 \u00abyear\u00bb \u00abauthor_fullname\u00bb\n[?] Root directory of Sphinx documentation (docs_dir): docs/database\n[?] Root directory of SQLAlchemy model sources (model_dir): src/\u00abpackage_name|replace(\".\",\"/\")\u00bb\n\n=====================\n Create a new schema\n=====================\n[?] Name of the new schema (schema_name): public\n\n* Create directory docs/database/public\n\n* Create file docs/database/public/index.rst\n\n* Create directory docs/database/public/tables\n\n* Create file docs/database/public/tables/index.rst\n\n* Create directory src/package/qualified/name/entities/public\n\n* Create file src/package/qualified/name/entities/public/__init__.py\n\n* Create directory src/package/qualified/name/tables/public\n\n* Create file src/package/qualified/name/tables/public/__init__.py\n\n====================\n Create a new table\n====================\n[?] Schema name of the new table (schema_name): public\n[?] Name of the new table (table_name): things\n[?] Description of the new table (table_description): The table ``\u00abschema_name\u00bb.\u00abtable_name\u00bb`` contains...\n[?] Name of the corresponding entity (entity_name): Thing\n\n* Create file docs/database/public/tables/things.rst\n\n* Create file docs/database/public/tables/things.sql\n\n* Create file src/package/qualified/name/entities/public/thing.py\n\n* Change file src/package/qualified/name/entities/public/__init__.py\n\n  - insert \u201cfrom .thing import T\u2026\u201d between \u201c## \u2304\u2304\u2304 tinject impo\u2026\u201d and \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n\n  - add \u201cmapper(Thing, t.thi\u2026\u201d after \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n\n* Create file src/package/qualified/name/tables/public/things.py\n\n* Change file src/package/qualified/name/tables/public/__init__.py\n\n  - insert \u201cfrom .things import \u2026\u201d between \u201c## \u2304\u2304\u2304 tinject impo\u2026\u201d and \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n</pre>\n<p>Verify:</p>\n<pre>$ cat src/package/qualified/name/entities/public/__init__.py\n# -*- coding: utf-8 -*-\n# :Project:   package.qualified.name -- Entities in schema public\n# :Created:   mer 15 giu 2016 13:24:54 CEST\n# :Author:    Lele Gaifax &lt;lele@example.com&gt;\n# :License:   GNU General Public License version 3 or later\n# :Copyright: \u00a9 2016 Lele Gaifax\n#\n\nfrom sqlalchemy.orm import mapper\n\nfrom ...tables import public as t\n\n## \u2304\u2304\u2304 tinject import marker \u2304\u2304\u2304, please don't remove!\nfrom .thing import Thing\n\n## \u2303\u2303\u2303 tinject import marker \u2303\u2303\u2303, please don't remove!\n\nmapper(Thing, t.things, properties={\n})\n</pre>\n<p>Add another table:</p>\n<pre>$ tinject --verbose apply examples/patchdb.yml new_table\n\n* Execute Python script\n[?] Author fullname (author_fullname): Lele Gaifax\n[?] Author username (author_username): lele\n[?] Author email (author_email): \u00abauthor_username\u00bb@example.com\n[?] Fully qualified package name (package_name): package.qualified.name\n[?] Timestamp (timestamp): &lt;&lt; now 'local', '%a %d %b %Y %H:%M:%S %Z' &gt;&gt;\n[?] Year (year): &lt;&lt; now 'local', '%Y' &gt;&gt;\n[?] Distribution license (license): GNU General Public License version 3 or later\n[?] Copyright holder (copyright): \u00a9 \u00abyear\u00bb \u00abauthor_fullname\u00bb\n[?] Root directory of Sphinx documentation (docs_dir): docs/database\n[?] Root directory of SQLAlchemy model sources (model_dir): src/\u00abpackage_name|replace(\".\",\"/\")\u00bb\n\n====================\n Create a new table\n====================\n[?] Schema name of the new table (schema_name): public\n[?] Name of the new table (table_name): thangs\n[?] Description of the new table (table_description): The table ``\u00abschema_name\u00bb.\u00abtable_name\u00bb`` contains...\n[?] Name of the corresponding entity (entity_name): Thang\n\n* Create file docs/database/public/tables/thangs.rst\n\n* Create file docs/database/public/tables/thangs.sql\n\n* Create file src/package/qualified/name/entities/public/thang.py\n\n* Change file src/package/qualified/name/entities/public/__init__.py\n\n  - insert \u201cfrom .thang import T\u2026\u201d between \u201c## \u2304\u2304\u2304 tinject impo\u2026\u201d and \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n\n  - add \u201cmapper(Thang, t.tha\u2026\u201d after \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n\n* Create file src/package/qualified/name/tables/public/thangs.py\n\n* Change file src/package/qualified/name/tables/public/__init__.py\n\n  - insert \u201cfrom .thangs import \u2026\u201d between \u201c## \u2304\u2304\u2304 tinject impo\u2026\u201d and \u201c## \u2303\u2303\u2303 tinject impo\u2026\u201d\n</pre>\n<p>Verify:</p>\n<pre>$ cat src/package/qualified/name/entities/public/__init__.py\n# -*- coding: utf-8 -*-\n# :Project:   package.qualified.name -- Entities in schema public\n# :Created:   mer 15 giu 2016 13:24:54 CEST\n# :Author:    Lele Gaifax &lt;lele@example.com&gt;\n# :License:   GNU General Public License version 3 or later\n# :Copyright: \u00a9 2016 Lele Gaifax\n#\n\nfrom sqlalchemy.orm import mapper\n\nfrom ...tables import public as t\n\n## \u2304\u2304\u2304 tinject import marker \u2304\u2304\u2304, please don't remove!\nfrom .thang import Thang\nfrom .thing import Thing\n\n## \u2303\u2303\u2303 tinject import marker \u2303\u2303\u2303, please don't remove!\n\nmapper(Thang, t.thangs, properties={\n})\n\nmapper(Thing, t.things, properties={\n})\n</pre>\n</div>\n<div id=\"batch-mode\">\n<h2><a href=\"#id22\" rel=\"nofollow\">Batch mode</a></h2>\n<p>There are cases when all the <em>variables</em> are already known and thus there\u2019s no need to\ninteractively prompt the user to get the job done.</p>\n<p>The <tt>apply</tt> action accepts the options <tt><span class=\"pre\">--prompt-only</span></tt> and <tt><span class=\"pre\">--answers-file</span></tt> to make that\npossible.</p>\n<p>The former can be used to collect needed information and print that back, or write them into a\nYAML file with <tt><span class=\"pre\">--output-answers</span></tt>:</p>\n<pre>$ tinject apply -p -o pre-answered.yml patchdb.yml new_schema\n? Author fullname (author_fullname) Lele Gaifax\n? Author username (author_username) lele\n? Author email (author_email) \u00abauthor_username\u00bb@example.com\n? Fully qualified package name (package_name) package.qualified.name\n? Timestamp (timestamp) &lt;&lt; now 'local', '%a %d %b %Y %H:%M:%S %Z' &gt;&gt;\n? Year (year) &lt;&lt; now 'local', '%Y' &gt;&gt;\n? Distribution license (license) GNU General Public License version 3 or later\n? Copyright holder (copyright) \u00a9 \u00abyear\u00bb \u00abauthor_fullname\u00bb\n? Root directory of Sphinx documentation (docs_dir) docs/database\n? Root directory of SQLAlchemy model sources (model_dir) src/\u00abpackage_name|replace(\".\",\"/\")\u00bb\n? Name of the new schema (schema_name) public\n</pre>\n<p>If you put those settings into a YAML file, you can then execute the action in batch mode:</p>\n<pre>$ tinject -v apply -a pre-answered.yml patchdb.yml new_schema\n\n* Execute Python script\n\n=====================\n Create a new schema\n=====================\n\n* Create directory docs/database/public\n\n* Create file docs/database/public/index.rst\n\n* Create directory docs/database/public/tables\n\n* Create file docs/database/public/tables/index.rst\n\n* Create directory src/package/qualified/name/entities/public\n\n* Create file src/package/qualified/name/entities/public/__init__.py\n\n* Create directory src/package/qualified/name/tables/public\n\n* Create file src/package/qualified/name/tables/public/__init__.py\n</pre>\n</div>\n<div id=\"changes\">\n<h2><a href=\"#id23\" rel=\"nofollow\">Changes</a></h2>\n<div id=\"id3\">\n<h3><a href=\"#id24\" rel=\"nofollow\">0.8 (2018-12-16)</a></h3>\n<ul>\n<li>Use <a href=\"https://pypi.org/project/questionary/\" rel=\"nofollow\">questionary</a> instead of <a href=\"https://pypi.python.org/pypi/whaaaaat\" rel=\"nofollow\">whaaaaat</a>: the latter seems stale, the former is based on\n<a href=\"https://pypi.org/project/prompt_toolkit/\" rel=\"nofollow\">prompt_toolkit</a> v2</li>\n<li>Use <a href=\"https://pypi.org/project/ruamel.yaml/\" rel=\"nofollow\">ruamel.yaml</a> instead of <a href=\"https://pypi.org/project/PyYAML/\" rel=\"nofollow\">PyYAML</a></li>\n<li>New option <tt><span class=\"pre\">--answers-file</span></tt> mode, to read answers from a <tt>YAML</tt> file</li>\n</ul>\n</div>\n<div id=\"id7\">\n<h3><a href=\"#id25\" rel=\"nofollow\">0.7 (2017-06-02)</a></h3>\n<ul>\n<li>Use <a href=\"https://pypi.python.org/pypi/whaaaaat\" rel=\"nofollow\">whaaaaat</a> instead of <a href=\"https://pypi.org/project/inquirer/\" rel=\"nofollow\">inquirer</a>: being based on <a href=\"https://pypi.org/project/prompt_toolkit/\" rel=\"nofollow\">prompt_toolkit</a> it offers a better\nuser experience and should be usable also under Windows</li>\n</ul>\n</div>\n<div id=\"id8\">\n<h3><a href=\"#id26\" rel=\"nofollow\">0.6 (2017-03-22)</a></h3>\n<ul>\n<li>Minor tweak, no externally visible changes</li>\n</ul>\n</div>\n<div id=\"id9\">\n<h3><a href=\"#id27\" rel=\"nofollow\">0.5 (2016-11-07)</a></h3>\n<ul>\n<li>All steps support a \u201cwhen\u201d condition</li>\n</ul>\n</div>\n<div id=\"id10\">\n<h3><a href=\"#id28\" rel=\"nofollow\">0.4 (2016-06-16)</a></h3>\n<ul>\n<li>New changefile tweak to insert a line in a sorted block</li>\n</ul>\n</div>\n<div id=\"id11\">\n<h3><a href=\"#id29\" rel=\"nofollow\">0.3 (2016-05-22)</a></h3>\n<ul>\n<li>New ability to repeat a list of substeps</li>\n</ul>\n</div>\n<div id=\"id12\">\n<h3><a href=\"#id30\" rel=\"nofollow\">0.2 (2016-05-19)</a></h3>\n<ul>\n<li>First release on PyPI</li>\n</ul>\n</div>\n<div id=\"id13\">\n<h3><a href=\"#id31\" rel=\"nofollow\">0.1 (2016-04-26)</a></h3>\n<ul>\n<li>Initial effort</li>\n</ul>\n</div>\n</div>\n\n          </div>"}, "last_serial": 4604813, "releases": {"0.0": [], "0.1": [{"comment_text": "", "digests": {"md5": "f2f15f1794bb6101488e65114afb76c0", "sha256": "047e73d167cf61d157da1d5dd38e125b2dd8752f6a0cc2f8fac295cf3ad27c30"}, "downloads": -1, "filename": "metapensiero.tool.tinject-0.1.tar.gz", "has_sig": false, "md5_digest": "f2f15f1794bb6101488e65114afb76c0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16764, "upload_time": "2016-04-26T07:55:33", "upload_time_iso_8601": "2016-04-26T07:55:33.933812Z", "url": "https://files.pythonhosted.org/packages/5e/c6/a15e2a32081ee8c2da856c57da030e801ae96735cf16011bc1ceab7868c0/metapensiero.tool.tinject-0.1.tar.gz", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "62588840ab035c358f0546fa8381cae2", "sha256": "a776d541102305dc118f4297d10861416667034f3b81ca61f8ebd358d82e88e7"}, "downloads": -1, "filename": "metapensiero.tool.tinject-0.2.tar.gz", "has_sig": false, "md5_digest": "62588840ab035c358f0546fa8381cae2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16835, "upload_time": "2016-05-19T19:11:22", "upload_time_iso_8601": "2016-05-19T19:11:22.735255Z", "url": "https://files.pythonhosted.org/packages/5d/5b/31b8003f49e8e715725c952d56d8c3ef615a4a10794efaea896751cd39d3/metapensiero.tool.tinject-0.2.tar.gz", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "64c012aeb0b5f5ad77a316b8c7256b91", "sha256": "19586411a31a057f61690a04c83cf835aed5abfafd5e93827530cc3517df95ef"}, "downloads": -1, "filename": "metapensiero.tool.tinject-0.3.tar.gz", "has_sig": false, "md5_digest": "64c012aeb0b5f5ad77a316b8c7256b91", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17730, "upload_time": "2016-05-22T14:30:38", "upload_time_iso_8601": "2016-05-22T14:30:38.785544Z", "url": "https://files.pythonhosted.org/packages/bf/f0/af4ea5a813cc20fc55d0ec075140eac3bf0ba8c367d02f42bce96b7ef6e9/metapensiero.tool.tinject-0.3.tar.gz", "yanked": false}], "0.4": [{"comment_text": "", "digests": {"md5": "4787bd148a8c56996599d7b14507f979", "sha256": "009840fa8e6242d6a37de82c9659168040d73854367d38adcbf57e933126d10a"}, "downloads": -1, "filename": "metapensiero.tool.tinject-0.4.tar.gz", "has_sig": false, "md5_digest": "4787bd148a8c56996599d7b14507f979", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19082, "upload_time": "2016-06-16T09:22:35", "upload_time_iso_8601": "2016-06-16T09:22:35.171881Z", "url": "https://files.pythonhosted.org/packages/df/d2/ae108492ae2ce12f030b5e383df945a54442fdb24b803c43de875eba57f0/metapensiero.tool.tinject-0.4.tar.gz", "yanked": false}], "0.5": [{"comment_text": "", "digests": {"md5": "45a62bbed28865e5ecf6b28d13494185", "sha256": "8b0a96b71246af79544fe23c5079935672d43ffdd1af0fcf3b31998472c98b5f"}, "downloads": -1, "filename": "metapensiero.tool.tinject-0.5.tar.gz", "has_sig": false, "md5_digest": "45a62bbed28865e5ecf6b28d13494185", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19383, "upload_time": "2016-11-07T22:38:33", "upload_time_iso_8601": "2016-11-07T22:38:33.590504Z", "url": "https://files.pythonhosted.org/packages/87/3c/56a2d3b78800406de85815d42a9b45491325e79ae24ac88ec4002328f1d2/metapensiero.tool.tinject-0.5.tar.gz", "yanked": false}], "0.6": [{"comment_text": "", "digests": {"md5": "05a028117eb2e27daf7ae8082dde417b", "sha256": "c46515bfeb0a20b04f21db7e26093edbf4c4ca57ad7b4e841285fe292f81706a"}, "downloads": -1, "filename": "metapensiero.tool.tinject-0.6.tar.gz", "has_sig": false, "md5_digest": "05a028117eb2e27daf7ae8082dde417b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19482, "upload_time": "2017-03-22T21:09:45", "upload_time_iso_8601": "2017-03-22T21:09:45.053127Z", "url": "https://files.pythonhosted.org/packages/62/13/2236f7410dec911a58722385c680ed0be92f2d16303685c5b272b12d8d5a/metapensiero.tool.tinject-0.6.tar.gz", "yanked": false}], "0.7": [{"comment_text": "", "digests": {"md5": "902b24d207add10836250bb143b1eb6d", "sha256": "a2fff289f237865f05829c5b13f2f471abd496b106dd9e5c96e185ea32a8b6a5"}, "downloads": -1, "filename": "metapensiero.tool.tinject-0.7.tar.gz", "has_sig": false, "md5_digest": "902b24d207add10836250bb143b1eb6d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19565, "upload_time": "2017-06-02T16:35:12", "upload_time_iso_8601": "2017-06-02T16:35:12.298316Z", "url": "https://files.pythonhosted.org/packages/0f/f8/a621ed930475d91a80823e5eb7c431ce9e5a964f88e56b39dbdd31feb88c/metapensiero.tool.tinject-0.7.tar.gz", "yanked": false}], "0.8": [{"comment_text": "", "digests": {"md5": "d855f97f77a1a201420487aef4ec25c0", "sha256": "5ca7556b56787d21a09f834dd010c7f37e09b10e437be05b09e1897c9cdfb30a"}, "downloads": -1, "filename": "metapensiero.tool.tinject-0.8.tar.gz", "has_sig": false, "md5_digest": "d855f97f77a1a201420487aef4ec25c0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24589, "upload_time": "2018-12-16T14:10:20", "upload_time_iso_8601": "2018-12-16T14:10:20.499267Z", "url": "https://files.pythonhosted.org/packages/50/d3/e2df4404dc3628d0b51451c73225a5bfdac01dab3b80711e55341f645cfd/metapensiero.tool.tinject-0.8.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "d855f97f77a1a201420487aef4ec25c0", "sha256": "5ca7556b56787d21a09f834dd010c7f37e09b10e437be05b09e1897c9cdfb30a"}, "downloads": -1, "filename": "metapensiero.tool.tinject-0.8.tar.gz", "has_sig": false, "md5_digest": "d855f97f77a1a201420487aef4ec25c0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24589, "upload_time": "2018-12-16T14:10:20", "upload_time_iso_8601": "2018-12-16T14:10:20.499267Z", "url": "https://files.pythonhosted.org/packages/50/d3/e2df4404dc3628d0b51451c73225a5bfdac01dab3b80711e55341f645cfd/metapensiero.tool.tinject-0.8.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:55:50 2020"}
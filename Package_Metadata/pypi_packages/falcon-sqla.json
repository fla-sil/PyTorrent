{"info": {"author": "Vytautas Liuolia", "author_email": "vytautas.liuolia@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Natural Language :: English", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: Implementation :: CPython", "Programming Language :: Python :: Implementation :: PyPy", "Topic :: Database :: Front-Ends", "Topic :: Software Development :: Libraries :: Application Frameworks"], "description": "|Build Status| |codecov.io|\n\nFalcon Middleware: SQLAlchemy Integration\n=========================================\n\nThe ``falcon-sqla`` package provides a middleware component for managing\n`SQLAlchemy sessions <https://docs.sqlalchemy.org/orm/session_api.html#Session>`_.\nThe manager component can also serve as a base building block or a recipe for\nmore complex use cases, such as applications leveraging multiple database\nbinds.\n\n\nInstallation\n------------\n\n.. code:: bash\n\n    $ pip install falcon-sqla\n\n\nUsage\n-----\n\nThe ``falcon_sqla`` session ``Manager`` can be used in two ways:\n\n* As a `Falcon middleware component\n  <https://falcon.readthedocs.io/en/stable/api/middleware.html>`_\n* As a context manager to explicitly provide a database session\n\n\nConfiguration\n^^^^^^^^^^^^^\n\n* Create a SQLAlchemy engine.\n* Pass the engine to the ``Manager()`` initializer as its first parameter.\n* If using the manager as a middleware component, pass its ``middleware``\n  property to the ``falcon.API()`` (to be renamed to ``falcon.App`` in\n  Falcon 3.0+) initializer:\n\n.. code:: python\n\n    engine = create_engine('dialect+driver://my/database')\n    manager = falcon_sqla.Manager(engine)\n\n    app = falcon.API(middleware=[manager.middleware])\n\n    # The database session will be available as req.context.session\n\nContext Manager\n^^^^^^^^^^^^^^^\n\nA ``falcon_sqla.Manager`` can also explicitly provide a database session using\nthe ``session_scope()`` context manager:\n\n.. code:: python\n\n    # Somewhere inside a responder\n    with self.manager.session_scope(req, resp) as session:\n        # Use the session\n        # <...>\n\n``session_scope()`` can also be used as a standalone session context outside of\nthe request-response cycle:\n\n.. code:: python\n\n    with self.manager.session_scope() as session:\n        # Use the session\n        # <...>\n\nCustom Vertical Partitioning\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nSimple random selection of read- and write- database replicas is supported\nout of the box. Use the ``add_engine()`` method to instruct the ``Manager`` to\ninclude the provided engines in the runtime bind selection logic:\n\n.. code:: python\n\n    manager = falcon_sqla.Manager(engine)\n\n    read_replica = create_engine('dialect+driver://my/database.replica')\n    manager.add_engine(read_replica, 'r')\n\n\nThe ``Manager.get_bind()`` method can be overridden to implement custom engine\nselection logic for more complex use cases.\n\nSee also this SQLAlchemy recipe:\n`Custom Vertical Partitioning\n<https://docs.sqlalchemy.org/orm/persistence_techniques.html#custom-vertical-partitioning>`_.\n\n\nAbout Falcon\n------------\n\n`Falcon <https://falconframework.org/>`_ is the minimalist web API framework\nfor building reliable, correct, and high-performance REST APIs, microservices,\nproxies, and app backends in Python.\n\n\nAbout SQLAlchemy\n----------------\n\n`SQLAlchemy <https://www.sqlalchemy.org/>`_ is the Python SQL toolkit and\nObject Relational Mapper that gives application developers the full power and\nflexibility of SQL.\n\n\n.. |Build Status| image:: https://api.travis-ci.org/vytas7/falcon-sqla.svg\n   :target: https://travis-ci.org/vytas7/falcon-sqla\n.. |codecov.io| image:: https://codecov.io/gh/vytas7/falcon-sqla/branch/master/graphs/badge.svg\n   :target: http://codecov.io/gh/vytas7/falcon-sqla\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/vytas7/falcon-sqla", "keywords": "falcon wsgi database middleware orm sqlalchemy", "license": "Apache 2.0", "maintainer": "", "maintainer_email": "", "name": "falcon-sqla", "package_url": "https://pypi.org/project/falcon-sqla/", "platform": "", "project_url": "https://pypi.org/project/falcon-sqla/", "project_urls": {"Homepage": "https://github.com/vytas7/falcon-sqla"}, "release_url": "https://pypi.org/project/falcon-sqla/0.2.0/", "requires_dist": ["falcon (>=2.0.0)", "SQLAlchemy (>=1.3.0)", "pytest ; extra == 'test'", "pytest-cov ; extra == 'test'"], "requires_python": ">=3.5", "summary": "Middleware for integrating Falcon applications with SQLAlchemy.", "version": "0.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://travis-ci.org/vytas7/falcon-sqla\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ce39d5aabc4e5556bbf726d7400e5e092a4b407f/68747470733a2f2f6170692e7472617669732d63692e6f72672f7679746173372f66616c636f6e2d73716c612e737667\"></a> <a href=\"http://codecov.io/gh/vytas7/falcon-sqla\" rel=\"nofollow\"><img alt=\"codecov.io\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/eeaf1d4b982d0fcba5d3b139113ed534c7963d1f/68747470733a2f2f636f6465636f762e696f2f67682f7679746173372f66616c636f6e2d73716c612f6272616e63682f6d61737465722f6772617068732f62616467652e737667\"></a></p>\n<div id=\"falcon-middleware-sqlalchemy-integration\">\n<h2>Falcon Middleware: SQLAlchemy Integration</h2>\n<p>The <tt><span class=\"pre\">falcon-sqla</span></tt> package provides a middleware component for managing\n<a href=\"https://docs.sqlalchemy.org/orm/session_api.html#Session\" rel=\"nofollow\">SQLAlchemy sessions</a>.\nThe manager component can also serve as a base building block or a recipe for\nmore complex use cases, such as applications leveraging multiple database\nbinds.</p>\n<div id=\"installation\">\n<h3>Installation</h3>\n<pre>$ pip install falcon-sqla\n</pre>\n</div>\n<div id=\"usage\">\n<h3>Usage</h3>\n<p>The <tt>falcon_sqla</tt> session <tt>Manager</tt> can be used in two ways:</p>\n<ul>\n<li>As a <a href=\"https://falcon.readthedocs.io/en/stable/api/middleware.html\" rel=\"nofollow\">Falcon middleware component</a></li>\n<li>As a context manager to explicitly provide a database session</li>\n</ul>\n<div id=\"configuration\">\n<h4>Configuration</h4>\n<ul>\n<li>Create a SQLAlchemy engine.</li>\n<li>Pass the engine to the <tt>Manager()</tt> initializer as its first parameter.</li>\n<li>If using the manager as a middleware component, pass its <tt>middleware</tt>\nproperty to the <tt>falcon.API()</tt> (to be renamed to <tt>falcon.App</tt> in\nFalcon 3.0+) initializer:</li>\n</ul>\n<pre><span class=\"n\">engine</span> <span class=\"o\">=</span> <span class=\"n\">create_engine</span><span class=\"p\">(</span><span class=\"s1\">'dialect+driver://my/database'</span><span class=\"p\">)</span>\n<span class=\"n\">manager</span> <span class=\"o\">=</span> <span class=\"n\">falcon_sqla</span><span class=\"o\">.</span><span class=\"n\">Manager</span><span class=\"p\">(</span><span class=\"n\">engine</span><span class=\"p\">)</span>\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">falcon</span><span class=\"o\">.</span><span class=\"n\">API</span><span class=\"p\">(</span><span class=\"n\">middleware</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">middleware</span><span class=\"p\">])</span>\n\n<span class=\"c1\"># The database session will be available as req.context.session</span>\n</pre>\n</div>\n<div id=\"context-manager\">\n<h4>Context Manager</h4>\n<p>A <tt>falcon_sqla.Manager</tt> can also explicitly provide a database session using\nthe <tt>session_scope()</tt> context manager:</p>\n<pre><span class=\"c1\"># Somewhere inside a responder</span>\n<span class=\"k\">with</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">session_scope</span><span class=\"p\">(</span><span class=\"n\">req</span><span class=\"p\">,</span> <span class=\"n\">resp</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">session</span><span class=\"p\">:</span>\n    <span class=\"c1\"># Use the session</span>\n    <span class=\"c1\"># &lt;...&gt;</span>\n</pre>\n<p><tt>session_scope()</tt> can also be used as a standalone session context outside of\nthe request-response cycle:</p>\n<pre><span class=\"k\">with</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">session_scope</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">session</span><span class=\"p\">:</span>\n    <span class=\"c1\"># Use the session</span>\n    <span class=\"c1\"># &lt;...&gt;</span>\n</pre>\n</div>\n<div id=\"custom-vertical-partitioning\">\n<h4>Custom Vertical Partitioning</h4>\n<p>Simple random selection of read- and write- database replicas is supported\nout of the box. Use the <tt>add_engine()</tt> method to instruct the <tt>Manager</tt> to\ninclude the provided engines in the runtime bind selection logic:</p>\n<pre><span class=\"n\">manager</span> <span class=\"o\">=</span> <span class=\"n\">falcon_sqla</span><span class=\"o\">.</span><span class=\"n\">Manager</span><span class=\"p\">(</span><span class=\"n\">engine</span><span class=\"p\">)</span>\n\n<span class=\"n\">read_replica</span> <span class=\"o\">=</span> <span class=\"n\">create_engine</span><span class=\"p\">(</span><span class=\"s1\">'dialect+driver://my/database.replica'</span><span class=\"p\">)</span>\n<span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">add_engine</span><span class=\"p\">(</span><span class=\"n\">read_replica</span><span class=\"p\">,</span> <span class=\"s1\">'r'</span><span class=\"p\">)</span>\n</pre>\n<p>The <tt>Manager.get_bind()</tt> method can be overridden to implement custom engine\nselection logic for more complex use cases.</p>\n<p>See also this SQLAlchemy recipe:\n<a href=\"https://docs.sqlalchemy.org/orm/persistence_techniques.html#custom-vertical-partitioning\" rel=\"nofollow\">Custom Vertical Partitioning</a>.</p>\n</div>\n</div>\n<div id=\"about-falcon\">\n<h3>About Falcon</h3>\n<p><a href=\"https://falconframework.org/\" rel=\"nofollow\">Falcon</a> is the minimalist web API framework\nfor building reliable, correct, and high-performance REST APIs, microservices,\nproxies, and app backends in Python.</p>\n</div>\n<div id=\"about-sqlalchemy\">\n<h3>About SQLAlchemy</h3>\n<p><a href=\"https://www.sqlalchemy.org/\" rel=\"nofollow\">SQLAlchemy</a> is the Python SQL toolkit and\nObject Relational Mapper that gives application developers the full power and\nflexibility of SQL.</p>\n</div>\n</div>\n\n          </div>"}, "last_serial": 7139144, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "e2450423c9dee8fed098c0e35c5214fd", "sha256": "b0681dc2fe1f45383b9a20cfd4c684bccdb141f5bc3a0e1c903a05a0e9420d05"}, "downloads": -1, "filename": "falcon-sqla-0.1.0.tar.gz", "has_sig": false, "md5_digest": "e2450423c9dee8fed098c0e35c5214fd", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5713, "upload_time": "2020-02-10T19:47:11", "upload_time_iso_8601": "2020-02-10T19:47:11.476712Z", "url": "https://files.pythonhosted.org/packages/e6/3e/6c2a377cbb4f1bc7b757c033715c01aaf9a9c5c623366bb5206e2a70d30b/falcon-sqla-0.1.0.tar.gz", "yanked": false}], "0.1.0a1": [{"comment_text": "", "digests": {"md5": "119c05a9317c45495f2d460c7042022c", "sha256": "0a83576a3d827fc6040df8878c7e4107e6db0d75de7e86e03e273ec7940dca24"}, "downloads": -1, "filename": "falcon-sqla-0.1.0a1.tar.gz", "has_sig": false, "md5_digest": "119c05a9317c45495f2d460c7042022c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5209, "upload_time": "2020-01-03T23:16:58", "upload_time_iso_8601": "2020-01-03T23:16:58.459407Z", "url": "https://files.pythonhosted.org/packages/f1/7d/6a04e80b115e4d334760d5ab8ec11a0d1205b03bedcb0572334f482b8500/falcon-sqla-0.1.0a1.tar.gz", "yanked": false}], "0.1.0a2": [{"comment_text": "", "digests": {"md5": "2245f0bece250c96280b2aa4c2aa98f3", "sha256": "92edd77e9f2fe8de7e1ee613d6a0177651031a96ebf1ba7ea6017ffae02f0dce"}, "downloads": -1, "filename": "falcon-sqla-0.1.0a2.tar.gz", "has_sig": false, "md5_digest": "2245f0bece250c96280b2aa4c2aa98f3", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5242, "upload_time": "2020-01-03T23:47:54", "upload_time_iso_8601": "2020-01-03T23:47:54.149316Z", "url": "https://files.pythonhosted.org/packages/27/de/215bfe137df13bd894679d52d7abe12a0ac76e6be37fa32e86a91d1dd906/falcon-sqla-0.1.0a2.tar.gz", "yanked": false}], "0.1.0a3": [{"comment_text": "", "digests": {"md5": "f613dcad30c84e7d77c8dc74f361d318", "sha256": "bd96af8111c8d94571d5569c12a2de231df3387bd395e3bfe7d3a66feef24399"}, "downloads": -1, "filename": "falcon-sqla-0.1.0a3.tar.gz", "has_sig": false, "md5_digest": "f613dcad30c84e7d77c8dc74f361d318", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5413, "upload_time": "2020-01-08T23:19:12", "upload_time_iso_8601": "2020-01-08T23:19:12.295797Z", "url": "https://files.pythonhosted.org/packages/d4/95/8ae2ee92626568ab7b243b4512096dc16830f7a876849e835151d4e31ce8/falcon-sqla-0.1.0a3.tar.gz", "yanked": false}], "0.1.0b1": [{"comment_text": "", "digests": {"md5": "78a1aa4b187dd79b84d18843208e0ac1", "sha256": "c2f98d8f1445a38d51d8d38d47d35de6722cbb7fd98cdb107a9a27da98d8a2f4"}, "downloads": -1, "filename": "falcon-sqla-0.1.0b1.tar.gz", "has_sig": false, "md5_digest": "78a1aa4b187dd79b84d18843208e0ac1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5550, "upload_time": "2020-01-11T17:16:06", "upload_time_iso_8601": "2020-01-11T17:16:06.775704Z", "url": "https://files.pythonhosted.org/packages/93/d5/8cb8ba403afb0660d25612032d285bbffc3e2a05c38dc3f49340fbc7b05f/falcon-sqla-0.1.0b1.tar.gz", "yanked": false}], "0.1.0b2": [{"comment_text": "", "digests": {"md5": "00e795198ef37c62a820c4de2a68f959", "sha256": "2bd735c182c89cf033d28eb1ac54e4ac9b2fcd728540effd018ae5b0314b742d"}, "downloads": -1, "filename": "falcon-sqla-0.1.0b2.tar.gz", "has_sig": false, "md5_digest": "00e795198ef37c62a820c4de2a68f959", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5634, "upload_time": "2020-01-24T07:56:57", "upload_time_iso_8601": "2020-01-24T07:56:57.074964Z", "url": "https://files.pythonhosted.org/packages/96/ac/5b582a314193519538ce0e320d9692d710b357138afb3fe70880e540ad63/falcon-sqla-0.1.0b2.tar.gz", "yanked": false}], "0.1.0b3": [{"comment_text": "", "digests": {"md5": "d315c9b312d9bce7d04902bdb6cf2387", "sha256": "1d08f31e22e4920f7175834e7faeff102b4de9acb8680745f4bf6215b167cc8a"}, "downloads": -1, "filename": "falcon-sqla-0.1.0b3.tar.gz", "has_sig": false, "md5_digest": "d315c9b312d9bce7d04902bdb6cf2387", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5722, "upload_time": "2020-01-26T16:04:36", "upload_time_iso_8601": "2020-01-26T16:04:36.143923Z", "url": "https://files.pythonhosted.org/packages/57/30/a99fb717fbae8a867d6a48b34db43e43e91b5c712a1db6b1129f9aa2a32a/falcon-sqla-0.1.0b3.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "2001f773d72603203b3d83c08fb0e63f", "sha256": "2eb901a7db608c005536731f8812f147814770a28a63ae4dcc0bb9ae0e191c5e"}, "downloads": -1, "filename": "falcon_sqla-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "2001f773d72603203b3d83c08fb0e63f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 14049, "upload_time": "2020-04-30T17:32:07", "upload_time_iso_8601": "2020-04-30T17:32:07.589687Z", "url": "https://files.pythonhosted.org/packages/17/b3/d9d84b71472ba755803ca18edcd53e9dd4afa157fafb0dd09a35b255a3bc/falcon_sqla-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a597f81f6b980d150134003c60da3eed", "sha256": "25c149c0dffc24fbb04684546cd5f7decdf7667f5b12a13fc8b2c9c3432c4e0a"}, "downloads": -1, "filename": "falcon-sqla-0.2.0.tar.gz", "has_sig": false, "md5_digest": "a597f81f6b980d150134003c60da3eed", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 7248, "upload_time": "2020-04-30T17:32:09", "upload_time_iso_8601": "2020-04-30T17:32:09.718602Z", "url": "https://files.pythonhosted.org/packages/a6/02/e028f17289b521777e275c84056d67e729377439c4476651f7072c5f8ef7/falcon-sqla-0.2.0.tar.gz", "yanked": false}], "0.2.0a1": [{"comment_text": "", "digests": {"md5": "8d7015a5a8a4769cdad3834cd538991c", "sha256": "c1f2e0fe089471eccdac3f74f9b18f1712833519a677b583dd8c529f292670db"}, "downloads": -1, "filename": "falcon_sqla-0.2.0a1-py3-none-any.whl", "has_sig": false, "md5_digest": "8d7015a5a8a4769cdad3834cd538991c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 14077, "upload_time": "2020-04-17T16:54:22", "upload_time_iso_8601": "2020-04-17T16:54:22.797143Z", "url": "https://files.pythonhosted.org/packages/fe/16/8ff815815a02c0ecf16dd2f0dea5897b30345a901ff0b6ee9a85a9601b6e/falcon_sqla-0.2.0a1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "138a16245d390078d23193725e494be9", "sha256": "0d97fa2ff721a3209f9e04224bef97e9e4d4971cfd92c6a04a124db2546c274d"}, "downloads": -1, "filename": "falcon-sqla-0.2.0a1.tar.gz", "has_sig": false, "md5_digest": "138a16245d390078d23193725e494be9", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 7252, "upload_time": "2020-04-17T16:54:24", "upload_time_iso_8601": "2020-04-17T16:54:24.187808Z", "url": "https://files.pythonhosted.org/packages/13/a5/c54901ffcade7112ba4fcfde7ab4a9402460f5bd9fb4e57bc91ae0138640/falcon-sqla-0.2.0a1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "2001f773d72603203b3d83c08fb0e63f", "sha256": "2eb901a7db608c005536731f8812f147814770a28a63ae4dcc0bb9ae0e191c5e"}, "downloads": -1, "filename": "falcon_sqla-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "2001f773d72603203b3d83c08fb0e63f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 14049, "upload_time": "2020-04-30T17:32:07", "upload_time_iso_8601": "2020-04-30T17:32:07.589687Z", "url": "https://files.pythonhosted.org/packages/17/b3/d9d84b71472ba755803ca18edcd53e9dd4afa157fafb0dd09a35b255a3bc/falcon_sqla-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a597f81f6b980d150134003c60da3eed", "sha256": "25c149c0dffc24fbb04684546cd5f7decdf7667f5b12a13fc8b2c9c3432c4e0a"}, "downloads": -1, "filename": "falcon-sqla-0.2.0.tar.gz", "has_sig": false, "md5_digest": "a597f81f6b980d150134003c60da3eed", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 7248, "upload_time": "2020-04-30T17:32:09", "upload_time_iso_8601": "2020-04-30T17:32:09.718602Z", "url": "https://files.pythonhosted.org/packages/a6/02/e028f17289b521777e275c84056d67e729377439c4476651f7072c5f8ef7/falcon-sqla-0.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:43:51 2020"}
{"info": {"author": "Vinicius Schettino", "author_email": "vinicius.schettino@ice.ufjf.br", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# SDK for Henry Argos Biometric Fingerprint\n\nHenry Argos SDK is a helper project to handle communication with [Henry Argos](http://www.henry.com.br/controle-de-acesso/argos) access control fingerprint/card reader. All communication happens through TCP/IP sockets, where the reader is the server and this SDK plays the client role.\n\n## Compability\nThe protocol should be compatible with other [Henry products](https://www.henry.com.br/controle-de-acesso), but many features were tailored down to Argos use, since this is the main goal of the project. Given it time, the goal is to remain compatible and feature balanced with other products as well. All development, use and automated testing were conducted using Argos firmware versions **1.0.1.3b** and **1.0.0.24**.\n\n## Basic install\n\nYou can install it from pip like:\n```bash\npip install ArgosSDK\n```\nIt has the following dependencies:\n1. Python 3.6+\n1. [Daiquiri](https://daiquiri.readthedocs.io/) for logging\n1. [Parse](https://pypi.org/project/parse/) for handling package parsing.\n\n## Basic usage\nIn the basic usage you only need to import the SDK and the exceptions for error handling:\n\n```python\nfrom argos import SDK, exceptions\nfrom datetime import datetime, timedelta\nimport daiquiri, logging\n\ndaiquiri.setup(level=logging.INFO)\nlogger = daiquiri.getLogger()\n\nip = \"192.168.0.200\"\nfingerprints = [\n    \"021474747414\",\n    \"021474747414\"\n]\nnow = datetime.today()\nd = now - timedelta(days=1)\ntry:\n    with SDK(ip) as s:\n        s.set_timestamp(timestamp=now)\n        s.get_timestamp()\n        s.get_cards(count=14, start_index=0)\n        s.get_quantity(typec=SDK.QT_CARDS)\n        s.send_cards(card_number=\"TEST\")\n        s.capture_fingerprint(card_number=\"47854785\", timeout=30)\n        s.get_fingerprints(card_number=\"47854785\")\n        s.send_fingerprints(\"47854785\", fingerprints)\n        s.delete_fingerprints(card_number=\"47854785\")\n        s.send_cards(card_number=\"47854785\", mode=SDK.SEND_DELETE)\n        s.get_events(start_date=d)\nexcept (\n    exceptions.ConnectTimeout,\n    exceptions.SendCommandTimeout,\n    exceptions.TooManyCardsRequested,\n    exceptions.GenericErrorResponse,\n) as e:\n    logger.warning(e)\n```\n\nBesides the IP, you can also specify the following parameters to the SDK:\n\n1. `port` (default 3000)\n1. `timeout`, meaning the default time the socket should hang while expecting a response. Valid to the connection procedure. (default 3s)\n1. `max_tries` specifies how many times the command should be resend before it gives up. (default 5 times)\n1. `sleep_between_tries` meaning how much the SDK should wait before sending again the command. (default .5s)\n\n\n## Commands\n\n# Command send configuration\nEvery command can receive the following ``**connection_params``:\n\n1. `timeout` overrides the SDK configuration on how much the socket should hang while expecting a response.\n1. `tries` overrides the SDK configuration on how many times the command should be resend before it gives up.\n\n# Command response\nCommands always return a `Response` object. If you want to access the returned data, you can simply use it as a dict:\n\n```python\nwith SDK(ip) as s:\n    response = s.set_timestamp(timestamp=now)\n    print(response) # print the response dict repr()\n    print(response.data) # the actual dict with the response data\n    print(response['payload']) # the payload of the response, already parsed\n\n```\n\nIf the return code is **greater than 10**, it means something went wrong. A `GenericErrorResponse` or one of its children will be raised containing more information.\n\n## Command list\n\n### SDK.get_timestamp([\\*\\*conection_params])\nGet the current timestamp setted on the equipment.\n\n**Expects**: None\n\n**Returns**: datetime object\n\n### SDK.set_timestamp([timestamp], [\\*\\*conection_params])\nSet the current timestamp setted on the equipment.\n\n**Expects**: Datime object. If none, `datetime.now()` will be used instead.\n\n**Returns**: No payload.\n\n### SDK.get_cards(count, start_index, [\\*\\*conection_params])\nRetrieve the cards registered, between `[start_index, start_index+count]`.\nThe protocol here limitates the response into 30 cards. If you try to get more than\nthat, a `TooManyCardsRequested` will be raised.\n\n**Expects**:\n1. `count`: how many cards\n1. `start_index`: from index. These parameters work like SQL's [LIMIT and OFFSET](http://www.sqltutorial.org/sql-limit/)\n\n**Returns**: payload containing `count` cards on a list\n\n### SDK.get_quantity([type, \\*\\*conection_params])\nGet the count of a given entry type.\n\n\n**Expects**: Type. The options are:\n\n1. SDK.QT_USERS = \"U\"\n1. SDK.QT_CARDS = \"C\"\n1. SDK.QT_FINGERPRINTS = \"D\"\n1. SDK.QT_MAX_FINGERPRINTS = \"TD\"\n\n**Returns**: a String containing a numeric value.\n\n### SDK.send_cards([card_number, [master], [verify_fingerprint], [send_mode]\\*\\*conection_params])\nGet the current timestamp setted on the equipment.\n\n**Expects**:\n1. `card_number` MAX 20\n1. `master` the card type, being:\n  - SDK.NORMAL_MODE ('1') without master access (default)\n  - SDK.MASTER_MODE ('6') master access\n1. `verify_fingerprint` whether the fingerprint is required to validate access (default True)\n1. `send_mode` the way the command should be send, being:\n  - SEND_INSERT = \"I\" (default)\n  - SEND_UPDATE = \"A\"\n  - SEND_DELETE = \"E\"  (complete wipe out, be careful)\n\n**Returns**: No payload\n\n### SDK.capture_fingerprints(card_number, [\\*\\*conection_params])\nAsk to the reader to collect a new fingerprint. The user will have about 15 seconds to put his finger on the reader. The system will ask the user to put the finger twice to confirm and save it into memory.\n\n**Expects**:\n1. `card_number` MAX 20 (must be registered already)\n\n**Returns**: No payload\n\n### SDK.get_fingerprints(card_number, [\\*\\*conection_params])\nGet all fingerprints of a card from the equipment.\n\n**Expects**:\n1. `card_number` MAX 20 (must be registered already)\n\n**Returns**: List of hex strings representing the fingerprint.\n\n### SDK.send_fingerprints(card_number, fingerprints[\\*\\*conection_params])\nSend a list of fingerprints to the reader.\n\n**Expects**:\n1. `card_number` MAX 20 (must be registered already)\n1. `fingerprints` a list of fingerprints as hex strings.\n\n**Returns**: No payload\n\n### SDK.delete_fingerprints(card_number, [\\*\\*conection_params])\nClear fingerprints of a card.\n\n**Expects**:\n1. `card_number` MAX 20 (must be registered already)\n\n**Returns**: No payload\n\n### SDK.get_events(start_date, [end_date], [\\*\\*conection_params])\nGet the current timestamp setted on the equipment.\n\n**Expects**:\n1. `start_date` datetime object\n1. `end_date` datetime object, `default datetime.now()`\n\n**Returns**: A list of events.\n\n## Basic package protocol information\nUsually the protocol follows this format:\n```python\n{START:1}{PAYLOAD_SIZE:2}{MESSAGE:8|10}{PAYLOAD:??}{CHECKSUM:1}{END:1}\n```\n\n1. `START`: Initial byte - 0x02\n1. `PAYLOAD_SIZE`: 2 bytes where the most significant byte is most right. **Like 421 = A5 01 (not 01 A5)**  \n1. `MESSAGE`: that can be 8 byte like \"00+RH+00\" or 10 byte like \"00+ECAR+00\". The first two bytes indicate the version, and the last two bytes whether there was an error.\n1. `CHECKSUM`: resut of a **bitwise xor** of each byte from `PAYLOAD_SIZE` to the end of the `PAYLOAD`.\n1. `END`: End byte - 0x03\n\n## Create your own command\n\nYou can extend this project creating your own command and sending it to the SDK. It would be something like this:\n\n\n```python\nfrom argos import SDK, Command, Response\n\nclass AnotherResponse(Response):\n    response_mapping = {\"payload\": (12, 29, False)}\n\n    def parse_payload(self, bytes):\n        string = bytes.decode()\n        return self.dosomething(string)\n\nclass AnotherCommand(Command):\n    response = AnotherResponse\n\n    def payload(self):\n        return \"01+??+00\"\n\nwith SDK(ip) as s:\n    response = s.send_command(AnotherCommand(params), timeout=30)\n    print(response['payload'])\n```\n## #ToDo stuff\n1. Use checksum byte in order to verify package integrity. Today it only verifies the start/end bytes.\n1. Send more than one card at time.\n\n## Building and testing\n\nYou can use docker to build and run the test suit, like:\n```bash\ndocker build . -t argos-sdk\ndocker run -eEQUIPMENT_IP=x.x.x.x -it argos-sdk\n# build and upload it to PyPi\ndocker run -eTWINE_PASSWORD=pass -eTWINE_USERNAME=user -eARGOS_SDK_VERSION=3.0 argos-sdk sh ./build_script\n```\n## About this Project\n\nThis project came from a demand at [Universidade Federal de Juiz de Fora (UFJF)](https://www2.ufjf.br/ufjf/), more specifically the Departamento de Energia Eletrica (DENE) at [Faculdade de Engenharia](http://www.ufjf.br/engenharia/). We needed a better system to access control of our labs and classrooms, so we decided to ship this communication layer as a opensource project.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.com/engenharia-ufjf/biometria/argos-sdk", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "ArgosSDK", "package_url": "https://pypi.org/project/ArgosSDK/", "platform": "", "project_url": "https://pypi.org/project/ArgosSDK/", "project_urls": {"Homepage": "https://gitlab.com/engenharia-ufjf/biometria/argos-sdk"}, "release_url": "https://pypi.org/project/ArgosSDK/0.5.2/", "requires_dist": ["daiquiri", "parse"], "requires_python": ">=3.6", "summary": "A SDK to handle Henry Argos Fingerprint/Card readers", "version": "0.5.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>SDK for Henry Argos Biometric Fingerprint</h1>\n<p>Henry Argos SDK is a helper project to handle communication with <a href=\"http://www.henry.com.br/controle-de-acesso/argos\" rel=\"nofollow\">Henry Argos</a> access control fingerprint/card reader. All communication happens through TCP/IP sockets, where the reader is the server and this SDK plays the client role.</p>\n<h2>Compability</h2>\n<p>The protocol should be compatible with other <a href=\"https://www.henry.com.br/controle-de-acesso\" rel=\"nofollow\">Henry products</a>, but many features were tailored down to Argos use, since this is the main goal of the project. Given it time, the goal is to remain compatible and feature balanced with other products as well. All development, use and automated testing were conducted using Argos firmware versions <strong>1.0.1.3b</strong> and <strong>1.0.0.24</strong>.</p>\n<h2>Basic install</h2>\n<p>You can install it from pip like:</p>\n<pre>pip install ArgosSDK\n</pre>\n<p>It has the following dependencies:</p>\n<ol>\n<li>Python 3.6+</li>\n<li><a href=\"https://daiquiri.readthedocs.io/\" rel=\"nofollow\">Daiquiri</a> for logging</li>\n<li><a href=\"https://pypi.org/project/parse/\" rel=\"nofollow\">Parse</a> for handling package parsing.</li>\n</ol>\n<h2>Basic usage</h2>\n<p>In the basic usage you only need to import the SDK and the exceptions for error handling:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">argos</span> <span class=\"kn\">import</span> <span class=\"n\">SDK</span><span class=\"p\">,</span> <span class=\"n\">exceptions</span>\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span><span class=\"p\">,</span> <span class=\"n\">timedelta</span>\n<span class=\"kn\">import</span> <span class=\"nn\">daiquiri</span><span class=\"o\">,</span> <span class=\"nn\">logging</span>\n\n<span class=\"n\">daiquiri</span><span class=\"o\">.</span><span class=\"n\">setup</span><span class=\"p\">(</span><span class=\"n\">level</span><span class=\"o\">=</span><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">INFO</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"n\">daiquiri</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">()</span>\n\n<span class=\"n\">ip</span> <span class=\"o\">=</span> <span class=\"s2\">\"192.168.0.200\"</span>\n<span class=\"n\">fingerprints</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"s2\">\"021474747414\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"021474747414\"</span>\n<span class=\"p\">]</span>\n<span class=\"n\">now</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">today</span><span class=\"p\">()</span>\n<span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">now</span> <span class=\"o\">-</span> <span class=\"n\">timedelta</span><span class=\"p\">(</span><span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"k\">with</span> <span class=\"n\">SDK</span><span class=\"p\">(</span><span class=\"n\">ip</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">s</span><span class=\"p\">:</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">set_timestamp</span><span class=\"p\">(</span><span class=\"n\">timestamp</span><span class=\"o\">=</span><span class=\"n\">now</span><span class=\"p\">)</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">get_timestamp</span><span class=\"p\">()</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">get_cards</span><span class=\"p\">(</span><span class=\"n\">count</span><span class=\"o\">=</span><span class=\"mi\">14</span><span class=\"p\">,</span> <span class=\"n\">start_index</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">get_quantity</span><span class=\"p\">(</span><span class=\"n\">typec</span><span class=\"o\">=</span><span class=\"n\">SDK</span><span class=\"o\">.</span><span class=\"n\">QT_CARDS</span><span class=\"p\">)</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">send_cards</span><span class=\"p\">(</span><span class=\"n\">card_number</span><span class=\"o\">=</span><span class=\"s2\">\"TEST\"</span><span class=\"p\">)</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">capture_fingerprint</span><span class=\"p\">(</span><span class=\"n\">card_number</span><span class=\"o\">=</span><span class=\"s2\">\"47854785\"</span><span class=\"p\">,</span> <span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">30</span><span class=\"p\">)</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">get_fingerprints</span><span class=\"p\">(</span><span class=\"n\">card_number</span><span class=\"o\">=</span><span class=\"s2\">\"47854785\"</span><span class=\"p\">)</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">send_fingerprints</span><span class=\"p\">(</span><span class=\"s2\">\"47854785\"</span><span class=\"p\">,</span> <span class=\"n\">fingerprints</span><span class=\"p\">)</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">delete_fingerprints</span><span class=\"p\">(</span><span class=\"n\">card_number</span><span class=\"o\">=</span><span class=\"s2\">\"47854785\"</span><span class=\"p\">)</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">send_cards</span><span class=\"p\">(</span><span class=\"n\">card_number</span><span class=\"o\">=</span><span class=\"s2\">\"47854785\"</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"n\">SDK</span><span class=\"o\">.</span><span class=\"n\">SEND_DELETE</span><span class=\"p\">)</span>\n        <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">get_events</span><span class=\"p\">(</span><span class=\"n\">start_date</span><span class=\"o\">=</span><span class=\"n\">d</span><span class=\"p\">)</span>\n<span class=\"k\">except</span> <span class=\"p\">(</span>\n    <span class=\"n\">exceptions</span><span class=\"o\">.</span><span class=\"n\">ConnectTimeout</span><span class=\"p\">,</span>\n    <span class=\"n\">exceptions</span><span class=\"o\">.</span><span class=\"n\">SendCommandTimeout</span><span class=\"p\">,</span>\n    <span class=\"n\">exceptions</span><span class=\"o\">.</span><span class=\"n\">TooManyCardsRequested</span><span class=\"p\">,</span>\n    <span class=\"n\">exceptions</span><span class=\"o\">.</span><span class=\"n\">GenericErrorResponse</span><span class=\"p\">,</span>\n<span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">e</span><span class=\"p\">:</span>\n    <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">warning</span><span class=\"p\">(</span><span class=\"n\">e</span><span class=\"p\">)</span>\n</pre>\n<p>Besides the IP, you can also specify the following parameters to the SDK:</p>\n<ol>\n<li><code>port</code> (default 3000)</li>\n<li><code>timeout</code>, meaning the default time the socket should hang while expecting a response. Valid to the connection procedure. (default 3s)</li>\n<li><code>max_tries</code> specifies how many times the command should be resend before it gives up. (default 5 times)</li>\n<li><code>sleep_between_tries</code> meaning how much the SDK should wait before sending again the command. (default .5s)</li>\n</ol>\n<h2>Commands</h2>\n<h1>Command send configuration</h1>\n<p>Every command can receive the following <code>**connection_params</code>:</p>\n<ol>\n<li><code>timeout</code> overrides the SDK configuration on how much the socket should hang while expecting a response.</li>\n<li><code>tries</code> overrides the SDK configuration on how many times the command should be resend before it gives up.</li>\n</ol>\n<h1>Command response</h1>\n<p>Commands always return a <code>Response</code> object. If you want to access the returned data, you can simply use it as a dict:</p>\n<pre><span class=\"k\">with</span> <span class=\"n\">SDK</span><span class=\"p\">(</span><span class=\"n\">ip</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">s</span><span class=\"p\">:</span>\n    <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">set_timestamp</span><span class=\"p\">(</span><span class=\"n\">timestamp</span><span class=\"o\">=</span><span class=\"n\">now</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">)</span> <span class=\"c1\"># print the response dict repr()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span> <span class=\"c1\"># the actual dict with the response data</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">[</span><span class=\"s1\">'payload'</span><span class=\"p\">])</span> <span class=\"c1\"># the payload of the response, already parsed</span>\n</pre>\n<p>If the return code is <strong>greater than 10</strong>, it means something went wrong. A <code>GenericErrorResponse</code> or one of its children will be raised containing more information.</p>\n<h2>Command list</h2>\n<h3>SDK.get_timestamp([**conection_params])</h3>\n<p>Get the current timestamp setted on the equipment.</p>\n<p><strong>Expects</strong>: None</p>\n<p><strong>Returns</strong>: datetime object</p>\n<h3>SDK.set_timestamp([timestamp], [**conection_params])</h3>\n<p>Set the current timestamp setted on the equipment.</p>\n<p><strong>Expects</strong>: Datime object. If none, <code>datetime.now()</code> will be used instead.</p>\n<p><strong>Returns</strong>: No payload.</p>\n<h3>SDK.get_cards(count, start_index, [**conection_params])</h3>\n<p>Retrieve the cards registered, between <code>[start_index, start_index+count]</code>.\nThe protocol here limitates the response into 30 cards. If you try to get more than\nthat, a <code>TooManyCardsRequested</code> will be raised.</p>\n<p><strong>Expects</strong>:</p>\n<ol>\n<li><code>count</code>: how many cards</li>\n<li><code>start_index</code>: from index. These parameters work like SQL's <a href=\"http://www.sqltutorial.org/sql-limit/\" rel=\"nofollow\">LIMIT and OFFSET</a></li>\n</ol>\n<p><strong>Returns</strong>: payload containing <code>count</code> cards on a list</p>\n<h3>SDK.get_quantity([type, **conection_params])</h3>\n<p>Get the count of a given entry type.</p>\n<p><strong>Expects</strong>: Type. The options are:</p>\n<ol>\n<li>SDK.QT_USERS = \"U\"</li>\n<li>SDK.QT_CARDS = \"C\"</li>\n<li>SDK.QT_FINGERPRINTS = \"D\"</li>\n<li>SDK.QT_MAX_FINGERPRINTS = \"TD\"</li>\n</ol>\n<p><strong>Returns</strong>: a String containing a numeric value.</p>\n<h3>SDK.send_cards([card_number, [master], [verify_fingerprint], [send_mode]**conection_params])</h3>\n<p>Get the current timestamp setted on the equipment.</p>\n<p><strong>Expects</strong>:</p>\n<ol>\n<li><code>card_number</code> MAX 20</li>\n<li><code>master</code> the card type, being:</li>\n</ol>\n<ul>\n<li>SDK.NORMAL_MODE ('1') without master access (default)</li>\n<li>SDK.MASTER_MODE ('6') master access</li>\n</ul>\n<ol>\n<li><code>verify_fingerprint</code> whether the fingerprint is required to validate access (default True)</li>\n<li><code>send_mode</code> the way the command should be send, being:</li>\n</ol>\n<ul>\n<li>SEND_INSERT = \"I\" (default)</li>\n<li>SEND_UPDATE = \"A\"</li>\n<li>SEND_DELETE = \"E\"  (complete wipe out, be careful)</li>\n</ul>\n<p><strong>Returns</strong>: No payload</p>\n<h3>SDK.capture_fingerprints(card_number, [**conection_params])</h3>\n<p>Ask to the reader to collect a new fingerprint. The user will have about 15 seconds to put his finger on the reader. The system will ask the user to put the finger twice to confirm and save it into memory.</p>\n<p><strong>Expects</strong>:</p>\n<ol>\n<li><code>card_number</code> MAX 20 (must be registered already)</li>\n</ol>\n<p><strong>Returns</strong>: No payload</p>\n<h3>SDK.get_fingerprints(card_number, [**conection_params])</h3>\n<p>Get all fingerprints of a card from the equipment.</p>\n<p><strong>Expects</strong>:</p>\n<ol>\n<li><code>card_number</code> MAX 20 (must be registered already)</li>\n</ol>\n<p><strong>Returns</strong>: List of hex strings representing the fingerprint.</p>\n<h3>SDK.send_fingerprints(card_number, fingerprints[**conection_params])</h3>\n<p>Send a list of fingerprints to the reader.</p>\n<p><strong>Expects</strong>:</p>\n<ol>\n<li><code>card_number</code> MAX 20 (must be registered already)</li>\n<li><code>fingerprints</code> a list of fingerprints as hex strings.</li>\n</ol>\n<p><strong>Returns</strong>: No payload</p>\n<h3>SDK.delete_fingerprints(card_number, [**conection_params])</h3>\n<p>Clear fingerprints of a card.</p>\n<p><strong>Expects</strong>:</p>\n<ol>\n<li><code>card_number</code> MAX 20 (must be registered already)</li>\n</ol>\n<p><strong>Returns</strong>: No payload</p>\n<h3>SDK.get_events(start_date, [end_date], [**conection_params])</h3>\n<p>Get the current timestamp setted on the equipment.</p>\n<p><strong>Expects</strong>:</p>\n<ol>\n<li><code>start_date</code> datetime object</li>\n<li><code>end_date</code> datetime object, <code>default datetime.now()</code></li>\n</ol>\n<p><strong>Returns</strong>: A list of events.</p>\n<h2>Basic package protocol information</h2>\n<p>Usually the protocol follows this format:</p>\n<pre><span class=\"p\">{</span><span class=\"n\">START</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">}{</span><span class=\"n\">PAYLOAD_SIZE</span><span class=\"p\">:</span><span class=\"mi\">2</span><span class=\"p\">}{</span><span class=\"n\">MESSAGE</span><span class=\"p\">:</span><span class=\"mi\">8</span><span class=\"o\">|</span><span class=\"mi\">10</span><span class=\"p\">}{</span><span class=\"n\">PAYLOAD</span><span class=\"p\">:</span><span class=\"err\">??</span><span class=\"p\">}{</span><span class=\"n\">CHECKSUM</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">}{</span><span class=\"n\">END</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">}</span>\n</pre>\n<ol>\n<li><code>START</code>: Initial byte - 0x02</li>\n<li><code>PAYLOAD_SIZE</code>: 2 bytes where the most significant byte is most right. <strong>Like 421 = A5 01 (not 01 A5)</strong></li>\n<li><code>MESSAGE</code>: that can be 8 byte like \"00+RH+00\" or 10 byte like \"00+ECAR+00\". The first two bytes indicate the version, and the last two bytes whether there was an error.</li>\n<li><code>CHECKSUM</code>: resut of a <strong>bitwise xor</strong> of each byte from <code>PAYLOAD_SIZE</code> to the end of the <code>PAYLOAD</code>.</li>\n<li><code>END</code>: End byte - 0x03</li>\n</ol>\n<h2>Create your own command</h2>\n<p>You can extend this project creating your own command and sending it to the SDK. It would be something like this:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">argos</span> <span class=\"kn\">import</span> <span class=\"n\">SDK</span><span class=\"p\">,</span> <span class=\"n\">Command</span><span class=\"p\">,</span> <span class=\"n\">Response</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">AnotherResponse</span><span class=\"p\">(</span><span class=\"n\">Response</span><span class=\"p\">):</span>\n    <span class=\"n\">response_mapping</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">\"payload\"</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">29</span><span class=\"p\">,</span> <span class=\"kc\">False</span><span class=\"p\">)}</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">parse_payload</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"nb\">bytes</span><span class=\"p\">):</span>\n        <span class=\"n\">string</span> <span class=\"o\">=</span> <span class=\"nb\">bytes</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">()</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">dosomething</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">)</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">AnotherCommand</span><span class=\"p\">(</span><span class=\"n\">Command</span><span class=\"p\">):</span>\n    <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">AnotherResponse</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">payload</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"s2\">\"01+??+00\"</span>\n\n<span class=\"k\">with</span> <span class=\"n\">SDK</span><span class=\"p\">(</span><span class=\"n\">ip</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">s</span><span class=\"p\">:</span>\n    <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">send_command</span><span class=\"p\">(</span><span class=\"n\">AnotherCommand</span><span class=\"p\">(</span><span class=\"n\">params</span><span class=\"p\">),</span> <span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mi\">30</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">[</span><span class=\"s1\">'payload'</span><span class=\"p\">])</span>\n</pre>\n<h2>#ToDo stuff</h2>\n<ol>\n<li>Use checksum byte in order to verify package integrity. Today it only verifies the start/end bytes.</li>\n<li>Send more than one card at time.</li>\n</ol>\n<h2>Building and testing</h2>\n<p>You can use docker to build and run the test suit, like:</p>\n<pre>docker build . -t argos-sdk\ndocker run -eEQUIPMENT_IP<span class=\"o\">=</span>x.x.x.x -it argos-sdk\n<span class=\"c1\"># build and upload it to PyPi</span>\ndocker run -eTWINE_PASSWORD<span class=\"o\">=</span>pass -eTWINE_USERNAME<span class=\"o\">=</span>user -eARGOS_SDK_VERSION<span class=\"o\">=</span><span class=\"m\">3</span>.0 argos-sdk sh ./build_script\n</pre>\n<h2>About this Project</h2>\n<p>This project came from a demand at <a href=\"https://www2.ufjf.br/ufjf/\" rel=\"nofollow\">Universidade Federal de Juiz de Fora (UFJF)</a>, more specifically the Departamento de Energia Eletrica (DENE) at <a href=\"http://www.ufjf.br/engenharia/\" rel=\"nofollow\">Faculdade de Engenharia</a>. We needed a better system to access control of our labs and classrooms, so we decided to ship this communication layer as a opensource project.</p>\n\n          </div>"}, "last_serial": 5820303, "releases": {"0.1b0": [{"comment_text": "", "digests": {"md5": "6a108c80eea1690db10493a6b408aa64", "sha256": "13c44a3c668097f2363f93336e866d08ceaa4f99597725a68af432b2eabc89ac"}, "downloads": -1, "filename": "ArgosSDK-0.1b0-py3-none-any.whl", "has_sig": false, "md5_digest": "6a108c80eea1690db10493a6b408aa64", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8152, "upload_time": "2019-09-10T13:17:33", "upload_time_iso_8601": "2019-09-10T13:17:33.093730Z", "url": "https://files.pythonhosted.org/packages/85/96/13054d1f1db025e67518bfb523336a5c050dcfc835aa2a2838ffe59ebd52/ArgosSDK-0.1b0-py3-none-any.whl", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "67e9c5baf663e721ea31a84c3495e3f8", "sha256": "45fe2cb2395c1c31c386504fd16632781d0418dde51fe1d0bbe02afc02619a10"}, "downloads": -1, "filename": "ArgosSDK-0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "67e9c5baf663e721ea31a84c3495e3f8", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11315, "upload_time": "2019-09-10T15:40:13", "upload_time_iso_8601": "2019-09-10T15:40:13.895488Z", "url": "https://files.pythonhosted.org/packages/bd/c7/81e48155652e91bf34995ca4af3ae74386c0fb9dfbfb2050d552fd5bade6/ArgosSDK-0.2-py3-none-any.whl", "yanked": false}], "0.2.2": [{"comment_text": "", "digests": {"md5": "8ce1c0e1dcf414ce73b1dc57a61cb9e5", "sha256": "659073f34da2ef70307f86ad30740dc32ccde21ea7071e0b1c62a065810c0ccb"}, "downloads": -1, "filename": "ArgosSDK-0.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "8ce1c0e1dcf414ce73b1dc57a61cb9e5", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11335, "upload_time": "2019-09-10T18:28:13", "upload_time_iso_8601": "2019-09-10T18:28:13.406789Z", "url": "https://files.pythonhosted.org/packages/2f/53/f38bdc1e05ab1de761e43a359ae432c7e0bcf5d1f230d8637269ae8492ec/ArgosSDK-0.2.2-py3-none-any.whl", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "8922e930d3f0974b5fcf8c228dfb9c72", "sha256": "cc188b74d46041407785438561adfdf72c6cb7800221cfda1240660e6750025c"}, "downloads": -1, "filename": "ArgosSDK-0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "8922e930d3f0974b5fcf8c228dfb9c72", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11124, "upload_time": "2019-09-10T18:30:31", "upload_time_iso_8601": "2019-09-10T18:30:31.033504Z", "url": "https://files.pythonhosted.org/packages/a1/4b/3d11eee9be589c5f4745d525e5395e6fea2eb952cfef93e5541ec0dd77ed/ArgosSDK-0.3-py3-none-any.whl", "yanked": false}], "0.4": [{"comment_text": "", "digests": {"md5": "318418967a7a765bacfdf452fc86b300", "sha256": "9f65bcc5fd12648513930feabf83582f560213d4d6be27746f9501985dd83d3c"}, "downloads": -1, "filename": "ArgosSDK-0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "318418967a7a765bacfdf452fc86b300", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11123, "upload_time": "2019-09-11T17:49:47", "upload_time_iso_8601": "2019-09-11T17:49:47.480741Z", "url": "https://files.pythonhosted.org/packages/6b/c0/e3c7387ae59ad9c91148e917ce9c22e47bf92ca6d5f8377cbfc7f07e0f01/ArgosSDK-0.4-py3-none-any.whl", "yanked": false}], "0.4.1": [{"comment_text": "", "digests": {"md5": "878a4ae88c3c2992cf49ffe60872b74b", "sha256": "7ec7bf43927d91bd0b1f131fc772567368f9068e0eaa687813daf56cd7501a4a"}, "downloads": -1, "filename": "ArgosSDK-0.4.1-py3-none-any.whl", "has_sig": false, "md5_digest": "878a4ae88c3c2992cf49ffe60872b74b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11201, "upload_time": "2019-09-11T19:13:53", "upload_time_iso_8601": "2019-09-11T19:13:53.312220Z", "url": "https://files.pythonhosted.org/packages/1e/aa/b04529b9522d3c4e1e90e86f9e178b7c4c986b1b884efbb645dde90ff371/ArgosSDK-0.4.1-py3-none-any.whl", "yanked": false}], "0.4b3": [{"comment_text": "", "digests": {"md5": "53a0b78ad34333abf131a7ca64d05be9", "sha256": "6a67c0d2217a5d3d0d70e3b0767df9ad2c006d4ffea760496d165d1a86219b67"}, "downloads": -1, "filename": "ArgosSDK-0.4b3-py3-none-any.whl", "has_sig": false, "md5_digest": "53a0b78ad34333abf131a7ca64d05be9", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11144, "upload_time": "2019-09-11T17:26:34", "upload_time_iso_8601": "2019-09-11T17:26:34.522293Z", "url": "https://files.pythonhosted.org/packages/dc/20/56116dc6904a13d231824252e510a7f5e519101b5a03abacd92737d4972a/ArgosSDK-0.4b3-py3-none-any.whl", "yanked": false}], "0.4b4": [{"comment_text": "", "digests": {"md5": "502cc47005e134b5c4e5ea5d65c22ef8", "sha256": "c735ae09aeb99b2d575c2e11050c4f2d715592797389926e4f8efc95feddc5f2"}, "downloads": -1, "filename": "ArgosSDK-0.4b4-py3-none-any.whl", "has_sig": false, "md5_digest": "502cc47005e134b5c4e5ea5d65c22ef8", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11143, "upload_time": "2019-09-11T17:29:04", "upload_time_iso_8601": "2019-09-11T17:29:04.442232Z", "url": "https://files.pythonhosted.org/packages/94/df/fb16ee7dd0097b0c9daeee03c68bb6025ba684cfdd87a6dc271b173660d5/ArgosSDK-0.4b4-py3-none-any.whl", "yanked": false}], "0.4b5": [{"comment_text": "", "digests": {"md5": "3f4e87eb1011ca8b3fc42ad4ddd0cc6a", "sha256": "53ffb57548cee9d0faa357db842960e4f35e79200941fc1ab8893430613071ac"}, "downloads": -1, "filename": "ArgosSDK-0.4b5-py3-none-any.whl", "has_sig": false, "md5_digest": "3f4e87eb1011ca8b3fc42ad4ddd0cc6a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11143, "upload_time": "2019-09-11T17:40:30", "upload_time_iso_8601": "2019-09-11T17:40:30.349227Z", "url": "https://files.pythonhosted.org/packages/a0/87/c606121f9f01b48f4647acaf8954f0ed97badaebffc32bfa56d37287d2aa/ArgosSDK-0.4b5-py3-none-any.whl", "yanked": false}], "0.5.2": [{"comment_text": "", "digests": {"md5": "86954200689c048a52191c50136a086b", "sha256": "18e70f063c6269ea97d3b0fbe2dbbccdd038575a6ae80e25b38b3a86faeea2cc"}, "downloads": -1, "filename": "ArgosSDK-0.5.2-py3-none-any.whl", "has_sig": false, "md5_digest": "86954200689c048a52191c50136a086b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11275, "upload_time": "2019-09-12T13:02:24", "upload_time_iso_8601": "2019-09-12T13:02:24.781163Z", "url": "https://files.pythonhosted.org/packages/bb/57/e0dbb249076c7c2e3322bc492684e0be40a1e21b9de78c7a54e323722c45/ArgosSDK-0.5.2-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "86954200689c048a52191c50136a086b", "sha256": "18e70f063c6269ea97d3b0fbe2dbbccdd038575a6ae80e25b38b3a86faeea2cc"}, "downloads": -1, "filename": "ArgosSDK-0.5.2-py3-none-any.whl", "has_sig": false, "md5_digest": "86954200689c048a52191c50136a086b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11275, "upload_time": "2019-09-12T13:02:24", "upload_time_iso_8601": "2019-09-12T13:02:24.781163Z", "url": "https://files.pythonhosted.org/packages/bb/57/e0dbb249076c7c2e3322bc492684e0be40a1e21b9de78c7a54e323722c45/ArgosSDK-0.5.2-py3-none-any.whl", "yanked": false}], "timestamp": "Thu May  7 18:17:18 2020"}
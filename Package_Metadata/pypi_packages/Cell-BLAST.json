{"info": {"author": "Zhijie Cao", "author_email": "caozj@mail.cbi.pku.edu.cn", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3.6"], "description": "# Cell BLAST\n\nCell BLAST is a cell querying tool for single-cell transcriptomics data.\n\nFor each query cell, it searches for most similar cells in the reference database.\nAnnotations in reference cells, e.g. cell type, can then be transfered to query\ncells based on cell-to-cell similarities. See our\n[preprint](https://www.biorxiv.org/content/10.1101/587360v2) for details.\n\n![flowchart](docs/_static/flowchart.svg)\n\n## Installing the python package\n\nWe only support installation via pip right now.\n\nInstallation within virtual environments are recommended, see\n[virtualenv](https://virtualenv.pypa.io/en/latest/) or\n[conda](https://conda.io/docs/user-guide/tasks/manage-environments.html).\n\nFor conda, here's a one-liner to set up an empty environment\nfor installing Cell BLAST:\n\n`conda create -n cb python=3.6 && source activate cb`\n\nNow follow the instructions below to install Cell BLAST:\n\n1. Make sure you have a working version of tensorflow or tensorflow-gpu\n   (version >= 1.5). You can follow the\n   [official instructions](https://www.tensorflow.org/install/)\n   about how to install tensorflow (and dependencies like CUDA and CuDNN\n   for the GPU version), or just install via anaconda, which handles\n   dependencies automatically:\n\n   For installing the GPU supported version:\n   `conda install tensorflow-gpu=1.8`\n\n   For installing the CPU only version:\n   `conda install tensorflow=1.8`\n\n2. Install Cell BLAST by running:\n   `pip install Cell-BLAST`\n\n3. Check if the package can be imported in python interpreter:\n   `import Cell_BLAST as cb`\n\nOnline documentation can be found [here](http://cblast.gao-lab.org/doc/index.html).\n\n## Web-based interface\n\nWe also provide a [Web-based service](http://cblast.gao-lab.org/) for\noff-the-shelf querying of our ACA reference panels.\n\n## Repository structure\n\n* The `Cell_BLAST` directory contains the Cell BLAST python package.\n* The `Datasets` directory contains scripts used for building the ACA database.\n* The `Evaluation` directory contains scripts used for benchmarking\n  and producing some figures of the manuscript.\n* The `docs` directory contains files used to generate the online documentation.\n* The `test` directory contains unit tests for the python package.\n\n## Reproduce results\n\n### Obtain required data files\n\n<!-- TODO: Provide data download information here -->\n\n### Environment setup\n\n#### Python\n\nFirst create a conda environment and install most packages via:\n\n```bash\nconda env create -n cb-gpu -f env.yml && conda activate cb-gpu\n```\n\nOptionally, if GPU does not work properly (possibly due to inconsistent conda\nchannels used), reinstalling tensorflow should solve the problem:\n\n```bash\nconda install tensorflow=1.8.0 tensorflow-base=1.8.0 tensorflow-gpu=1.8.0 --force-reinstall\n```\n\nFinally, install customized packages or packages unavailable in conda.\nAll dependencies have already been installed via `env.yml`,\nso `--no-deps` is added to prevent overwriting conda installed packages:\n\n```bash\npip install Cell-BLAST==0.2.14 --no-deps\npip install local/scScope-0.1.5.tar.gz --no-deps  # Add random seed setting\npip install local/DCA-0.2.2.tar.gz --no-deps  # Allow GPU memory growth, suppress integer warning\npip install local/DCA_modpp-0.2.2.tar.gz --no-deps  # Modify preprocessing\npip install local/ZIFA-0.1.tar.gz --no-deps  # Remove fixed random seeds\npip install local/Dhaka-0.1.tar.gz --no-deps\npip install local/scvi-0.2.3.tar.gz --no-deps  # Fix torch bugs\n```\n\n#### R\n\nStart R (tested on version `3.6.0`) at project root and run:\n\n```R\npackrat::restore()\n```\n\nThen install the customized version of Seurat by:\n\n```R\ninstall.packages(\"local/seurat-2.3.3.tar.gz\", repos=NULL, type=\"source\")  # Remove fixed random seeds\n```\n\nFor CCA anchor (Seurat v3), we used a separate packrat environment.\n\nTo build this dedicated environment, start R at directory \"packrat/envs/seurat_v3\" and run:\n\n```R\npackrat::restore()\n```\n\nThen install the customized version of Seurat v3 by:\n\n```R\ninstall.packages(\"../../../local/seurat-3.0.2.tar.gz\", repos=NULL, type=\"source\")  # Remove fixed random seeds\n```\n\n### Run all benchmarks and reproduce figures\n\nMake sure the conda environment create above is activated.\nGo to directory \"Evaluation\" and run the following command:\n\n```bash\nsnakemake -prk\n```\n\nSome jobs will likely fail, e.g. due to timeout or memory issues, and cause\ndownstream steps, including result plotting, to fail as well.\n\nThese failing jobs will be blacklisted in future runs, so just run the above\ncommand for a second time, and results for the successful jobs should be\nsummarized and plotted without error.\n\n## Contact\n\nFeel free to submit an issue or contact us at\n[cblast@mail.cbi.pku.edu.cn](mailto:cblast@mail.cbi.pku.edu.cn)\nfor problems about the python package, website or database.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/gao-lab/Cell_BLAST", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "Cell-BLAST", "package_url": "https://pypi.org/project/Cell-BLAST/", "platform": "", "project_url": "https://pypi.org/project/Cell-BLAST/", "project_urls": {"Homepage": "https://github.com/gao-lab/Cell_BLAST"}, "release_url": "https://pypi.org/project/Cell-BLAST/0.3.6/", "requires_dist": ["numpy", "numba (>=0.39.0)", "scipy (>=1.0.0)", "joblib (>=0.12.0)", "scikit-learn (>=0.17.0)", "tqdm (>=4.12.0)", "pandas (>=0.21.0)", "h5py (>=2.7.0)", "python-igraph (>=0.7.1)", "pronto (>=0.10.2)", "seaborn (>=0.9.0)", "umap-learn (>=0.2.1)", "anndata (>=0.6.14)", "loompy (>=2.0.6)", "statsmodels (>=0.8.0)", "plotly"], "requires_python": "", "summary": "Single-cell transcriptome querying tool", "version": "0.3.6", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Cell BLAST</h1>\n<p>Cell BLAST is a cell querying tool for single-cell transcriptomics data.</p>\n<p>For each query cell, it searches for most similar cells in the reference database.\nAnnotations in reference cells, e.g. cell type, can then be transfered to query\ncells based on cell-to-cell similarities. See our\n<a href=\"https://www.biorxiv.org/content/10.1101/587360v2\" rel=\"nofollow\">preprint</a> for details.</p>\n<p><img alt=\"flowchart\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/61ff02b6bbadf6ec366ff2a8687cf3f9635c4ef8/646f63732f5f7374617469632f666c6f7763686172742e737667\"></p>\n<h2>Installing the python package</h2>\n<p>We only support installation via pip right now.</p>\n<p>Installation within virtual environments are recommended, see\n<a href=\"https://virtualenv.pypa.io/en/latest/\" rel=\"nofollow\">virtualenv</a> or\n<a href=\"https://conda.io/docs/user-guide/tasks/manage-environments.html\" rel=\"nofollow\">conda</a>.</p>\n<p>For conda, here's a one-liner to set up an empty environment\nfor installing Cell BLAST:</p>\n<p><code>conda create -n cb python=3.6 &amp;&amp; source activate cb</code></p>\n<p>Now follow the instructions below to install Cell BLAST:</p>\n<ol>\n<li>\n<p>Make sure you have a working version of tensorflow or tensorflow-gpu\n(version &gt;= 1.5). You can follow the\n<a href=\"https://www.tensorflow.org/install/\" rel=\"nofollow\">official instructions</a>\nabout how to install tensorflow (and dependencies like CUDA and CuDNN\nfor the GPU version), or just install via anaconda, which handles\ndependencies automatically:</p>\n<p>For installing the GPU supported version:\n<code>conda install tensorflow-gpu=1.8</code></p>\n<p>For installing the CPU only version:\n<code>conda install tensorflow=1.8</code></p>\n</li>\n<li>\n<p>Install Cell BLAST by running:\n<code>pip install Cell-BLAST</code></p>\n</li>\n<li>\n<p>Check if the package can be imported in python interpreter:\n<code>import Cell_BLAST as cb</code></p>\n</li>\n</ol>\n<p>Online documentation can be found <a href=\"http://cblast.gao-lab.org/doc/index.html\" rel=\"nofollow\">here</a>.</p>\n<h2>Web-based interface</h2>\n<p>We also provide a <a href=\"http://cblast.gao-lab.org/\" rel=\"nofollow\">Web-based service</a> for\noff-the-shelf querying of our ACA reference panels.</p>\n<h2>Repository structure</h2>\n<ul>\n<li>The <code>Cell_BLAST</code> directory contains the Cell BLAST python package.</li>\n<li>The <code>Datasets</code> directory contains scripts used for building the ACA database.</li>\n<li>The <code>Evaluation</code> directory contains scripts used for benchmarking\nand producing some figures of the manuscript.</li>\n<li>The <code>docs</code> directory contains files used to generate the online documentation.</li>\n<li>The <code>test</code> directory contains unit tests for the python package.</li>\n</ul>\n<h2>Reproduce results</h2>\n<h3>Obtain required data files</h3>\n\n<h3>Environment setup</h3>\n<h4>Python</h4>\n<p>First create a conda environment and install most packages via:</p>\n<pre>conda env create -n cb-gpu -f env.yml <span class=\"o\">&amp;&amp;</span> conda activate cb-gpu\n</pre>\n<p>Optionally, if GPU does not work properly (possibly due to inconsistent conda\nchannels used), reinstalling tensorflow should solve the problem:</p>\n<pre>conda install <span class=\"nv\">tensorflow</span><span class=\"o\">=</span><span class=\"m\">1</span>.8.0 tensorflow-base<span class=\"o\">=</span><span class=\"m\">1</span>.8.0 tensorflow-gpu<span class=\"o\">=</span><span class=\"m\">1</span>.8.0 --force-reinstall\n</pre>\n<p>Finally, install customized packages or packages unavailable in conda.\nAll dependencies have already been installed via <code>env.yml</code>,\nso <code>--no-deps</code> is added to prevent overwriting conda installed packages:</p>\n<pre>pip install Cell-BLAST<span class=\"o\">==</span><span class=\"m\">0</span>.2.14 --no-deps\npip install local/scScope-0.1.5.tar.gz --no-deps  <span class=\"c1\"># Add random seed setting</span>\npip install local/DCA-0.2.2.tar.gz --no-deps  <span class=\"c1\"># Allow GPU memory growth, suppress integer warning</span>\npip install local/DCA_modpp-0.2.2.tar.gz --no-deps  <span class=\"c1\"># Modify preprocessing</span>\npip install local/ZIFA-0.1.tar.gz --no-deps  <span class=\"c1\"># Remove fixed random seeds</span>\npip install local/Dhaka-0.1.tar.gz --no-deps\npip install local/scvi-0.2.3.tar.gz --no-deps  <span class=\"c1\"># Fix torch bugs</span>\n</pre>\n<h4>R</h4>\n<p>Start R (tested on version <code>3.6.0</code>) at project root and run:</p>\n<pre><span class=\"n\">packrat</span><span class=\"o\">::</span><span class=\"nf\">restore</span><span class=\"p\">()</span>\n</pre>\n<p>Then install the customized version of Seurat by:</p>\n<pre><span class=\"nf\">install.packages</span><span class=\"p\">(</span><span class=\"s\">\"local/seurat-2.3.3.tar.gz\"</span><span class=\"p\">,</span> <span class=\"n\">repos</span><span class=\"o\">=</span><span class=\"kc\">NULL</span><span class=\"p\">,</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"source\"</span><span class=\"p\">)</span>  <span class=\"c1\"># Remove fixed random seeds</span>\n</pre>\n<p>For CCA anchor (Seurat v3), we used a separate packrat environment.</p>\n<p>To build this dedicated environment, start R at directory \"packrat/envs/seurat_v3\" and run:</p>\n<pre><span class=\"n\">packrat</span><span class=\"o\">::</span><span class=\"nf\">restore</span><span class=\"p\">()</span>\n</pre>\n<p>Then install the customized version of Seurat v3 by:</p>\n<pre><span class=\"nf\">install.packages</span><span class=\"p\">(</span><span class=\"s\">\"../../../local/seurat-3.0.2.tar.gz\"</span><span class=\"p\">,</span> <span class=\"n\">repos</span><span class=\"o\">=</span><span class=\"kc\">NULL</span><span class=\"p\">,</span> <span class=\"n\">type</span><span class=\"o\">=</span><span class=\"s\">\"source\"</span><span class=\"p\">)</span>  <span class=\"c1\"># Remove fixed random seeds</span>\n</pre>\n<h3>Run all benchmarks and reproduce figures</h3>\n<p>Make sure the conda environment create above is activated.\nGo to directory \"Evaluation\" and run the following command:</p>\n<pre>snakemake -prk\n</pre>\n<p>Some jobs will likely fail, e.g. due to timeout or memory issues, and cause\ndownstream steps, including result plotting, to fail as well.</p>\n<p>These failing jobs will be blacklisted in future runs, so just run the above\ncommand for a second time, and results for the successful jobs should be\nsummarized and plotted without error.</p>\n<h2>Contact</h2>\n<p>Feel free to submit an issue or contact us at\n<a href=\"mailto:cblast@mail.cbi.pku.edu.cn\">cblast@mail.cbi.pku.edu.cn</a>\nfor problems about the python package, website or database.</p>\n\n          </div>"}, "last_serial": 6863229, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "eb4c7c62af302d37299b25c421c11e01", "sha256": "ae95da2b3a4b3cbd7c0dbaec72755e14fcfe1b38348fd7ed50a3f5a2527c90a3"}, "downloads": -1, "filename": "Cell_BLAST-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "eb4c7c62af302d37299b25c421c11e01", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 53349, "upload_time": "2019-03-24T09:05:53", "upload_time_iso_8601": "2019-03-24T09:05:53.303600Z", "url": "https://files.pythonhosted.org/packages/d5/3e/d4bf83fecd0284d4a28422f47fcc82d11b59ba0b2e8cf88b4e6b4d86aa90/Cell_BLAST-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2a3f09590dee092d394f149a6c4550f1", "sha256": "cb7d561cdfcdb9e1a1ae7aa8ccdffd33d106507eeeb756cea6684cd1a75a70ad"}, "downloads": -1, "filename": "Cell_BLAST-0.1.0.tar.gz", "has_sig": false, "md5_digest": "2a3f09590dee092d394f149a6c4550f1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 51497, "upload_time": "2019-03-24T09:05:56", "upload_time_iso_8601": "2019-03-24T09:05:56.070721Z", "url": "https://files.pythonhosted.org/packages/86/6e/b9728ee6a4acf9810e53119ba14e3697f2c794f7b797e7a0171ae941ab61/Cell_BLAST-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "058965d764995eec7e5909d93188e742", "sha256": "939ab91301e920279c0a0be14241de64b07b9ff9e2252364e07ae7acd7fd529e"}, "downloads": -1, "filename": "Cell_BLAST-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "058965d764995eec7e5909d93188e742", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 54379, "upload_time": "2019-03-27T12:35:30", "upload_time_iso_8601": "2019-03-27T12:35:30.337615Z", "url": "https://files.pythonhosted.org/packages/20/f1/5c656831a9be046462c134f2e6bfc7c8d7140a1b6c623ea20a6705fdcf12/Cell_BLAST-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "273f14a9df9e8dacaf98ebecec202a39", "sha256": "6b2d48657cec8c11f0ded7f7cda4259317aee99b976d6e16b64fe9b73b2f7a67"}, "downloads": -1, "filename": "Cell_BLAST-0.1.1.tar.gz", "has_sig": false, "md5_digest": "273f14a9df9e8dacaf98ebecec202a39", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 53782, "upload_time": "2019-03-27T12:35:33", "upload_time_iso_8601": "2019-03-27T12:35:33.682559Z", "url": "https://files.pythonhosted.org/packages/52/1c/8eb74581b8f785c8502cded305e394ec63c4dc8ae08f5eafcee7e9b41277/Cell_BLAST-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "3e710a79909c59c85c1d96b20be42029", "sha256": "59989c36f0e583bb51cfb5cdcda9c1a6890a2949d628a21147b1a7d6ee8febe1"}, "downloads": -1, "filename": "Cell_BLAST-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "3e710a79909c59c85c1d96b20be42029", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 54603, "upload_time": "2019-04-02T16:27:28", "upload_time_iso_8601": "2019-04-02T16:27:28.853124Z", "url": "https://files.pythonhosted.org/packages/a4/41/560d7cbf58f763a889de019f9e4fca6e53ee8f99407f9d4b95cb2d520448/Cell_BLAST-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "882dab358503130525821a8480475850", "sha256": "6a8745972cc5f4ccd39c08dc753bf99b296a64ba55597e77e1503a4f9355dc2c"}, "downloads": -1, "filename": "Cell_BLAST-0.1.2.tar.gz", "has_sig": false, "md5_digest": "882dab358503130525821a8480475850", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 54019, "upload_time": "2019-04-02T16:27:31", "upload_time_iso_8601": "2019-04-02T16:27:31.068607Z", "url": "https://files.pythonhosted.org/packages/cd/89/c22dd5d7ebefd4abb26848460a09c4e1b9b827b0bcfce8c6d5b6460467ee/Cell_BLAST-0.1.2.tar.gz", "yanked": false}], "0.2.14": [{"comment_text": "", "digests": {"md5": "aa8181569ccefee313905b4c35b32b35", "sha256": "1b10d8b775f4fe672b1c50f0a58fb2cc840b86c7c7ad6790a52345ef24e17222"}, "downloads": -1, "filename": "Cell_BLAST-0.2.14-py3-none-any.whl", "has_sig": false, "md5_digest": "aa8181569ccefee313905b4c35b32b35", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 58115, "upload_time": "2019-09-28T16:05:54", "upload_time_iso_8601": "2019-09-28T16:05:54.935877Z", "url": "https://files.pythonhosted.org/packages/86/7a/042772f1fe5f703a7b58ccd4fdcc7a3e2d67a9b52d9aea8831a589f0ada6/Cell_BLAST-0.2.14-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4021b20c8d332b3d9bef41d300af7974", "sha256": "9c33f1c9fb21863d8c0a4804cc341089714b6270abc8805de4d3fa4f5d7dca89"}, "downloads": -1, "filename": "Cell_BLAST-0.2.14.tar.gz", "has_sig": false, "md5_digest": "4021b20c8d332b3d9bef41d300af7974", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 58741, "upload_time": "2019-09-28T16:05:57", "upload_time_iso_8601": "2019-09-28T16:05:57.112140Z", "url": "https://files.pythonhosted.org/packages/29/18/09bdb5775ee5be10c97e0a914989d5775acf1020f064aeec70aa9689a1c0/Cell_BLAST-0.2.14.tar.gz", "yanked": false}], "0.3.6": [{"comment_text": "", "digests": {"md5": "1bd37d84f6675ca08af15bafa0da8b92", "sha256": "0332fded84109f90e78380bf6d4bc74e495622e74f9a448fbc34826b07d2cbb1"}, "downloads": -1, "filename": "Cell_BLAST-0.3.6-py3-none-any.whl", "has_sig": false, "md5_digest": "1bd37d84f6675ca08af15bafa0da8b92", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 65717, "upload_time": "2020-03-23T04:45:17", "upload_time_iso_8601": "2020-03-23T04:45:17.023759Z", "url": "https://files.pythonhosted.org/packages/d3/d2/24ff4f7654ce657a9d576ab8e2ab0b2b2c0b7f5ee790ea31d5f6423e79bf/Cell_BLAST-0.3.6-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6a1ef4c603c9cdcd1240451d7c5f8583", "sha256": "9867fa557564f8215aeca1e0d5c36c04b6bcc9930e4460bfc81ebc4d14f851ad"}, "downloads": -1, "filename": "Cell_BLAST-0.3.6.tar.gz", "has_sig": false, "md5_digest": "6a1ef4c603c9cdcd1240451d7c5f8583", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 65761, "upload_time": "2020-03-23T04:45:19", "upload_time_iso_8601": "2020-03-23T04:45:19.249567Z", "url": "https://files.pythonhosted.org/packages/56/88/048c47b380bbdac7fe52ba9b4c486230d83cba519ee8a5d432dee5b92152/Cell_BLAST-0.3.6.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "1bd37d84f6675ca08af15bafa0da8b92", "sha256": "0332fded84109f90e78380bf6d4bc74e495622e74f9a448fbc34826b07d2cbb1"}, "downloads": -1, "filename": "Cell_BLAST-0.3.6-py3-none-any.whl", "has_sig": false, "md5_digest": "1bd37d84f6675ca08af15bafa0da8b92", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 65717, "upload_time": "2020-03-23T04:45:17", "upload_time_iso_8601": "2020-03-23T04:45:17.023759Z", "url": "https://files.pythonhosted.org/packages/d3/d2/24ff4f7654ce657a9d576ab8e2ab0b2b2c0b7f5ee790ea31d5f6423e79bf/Cell_BLAST-0.3.6-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6a1ef4c603c9cdcd1240451d7c5f8583", "sha256": "9867fa557564f8215aeca1e0d5c36c04b6bcc9930e4460bfc81ebc4d14f851ad"}, "downloads": -1, "filename": "Cell_BLAST-0.3.6.tar.gz", "has_sig": false, "md5_digest": "6a1ef4c603c9cdcd1240451d7c5f8583", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 65761, "upload_time": "2020-03-23T04:45:19", "upload_time_iso_8601": "2020-03-23T04:45:19.249567Z", "url": "https://files.pythonhosted.org/packages/56/88/048c47b380bbdac7fe52ba9b4c486230d83cba519ee8a5d432dee5b92152/Cell_BLAST-0.3.6.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:34:50 2020"}
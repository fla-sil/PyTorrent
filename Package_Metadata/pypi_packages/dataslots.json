{"info": {"author": "Adrian Stachlewski", "author_email": "starhel.github@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": "# dataslots\n[![Build Status](https://travis-ci.org/starhel/dataslots.svg?branch=master)](https://travis-ci.org/starhel/dataslots)\n[![codecov](https://codecov.io/gh/starhel/dataslots/branch/master/graph/badge.svg)](https://codecov.io/gh/starhel/dataslots)\n\n[![PyPI - Python Version](https://img.shields.io/pypi/pyversions/dataslots.svg)](https://pypi.org/project/dataslots/)\n[![PyPI - Status](https://img.shields.io/pypi/status/dataslots.svg)](https://pypi.org/project/dataslots/)\n![license](https://img.shields.io/github/license/starhel/dataslots.svg)\n\n## Decorator for adding __slots__\nPython3.7 provides dataclasses module for faster class creation ([PEP 557](https://www.python.org/dev/peps/pep-0557/)).\nUnfortunately there's no support for \\_\\_slots__. If you want to create more memory efficient instances, you need to \ndo it by yourself or use dataslots.with_slots decorator. \n\n## Usage\n#### Simple example\n```python\n@with_slots\n@dataclass\nclass Point2D:\n    x: int\n    y: int\n```\n####  Inheritance\nAs described in docs, in derived class \\_\\_dict__ is created, because base class does not have \\_\\_slots__. \nSlots are created from all defined properties (returned by dataclasses.fields() function).\n```python\n@dataclass\nclass Base:\n    a: int\n\n\n@with_slots\n@dataclass\nclass Derived(Base):\n    c: int\n    d: int\n```\n\n#### Dynamic assignment of new variables\n```python\n@with_slots(add_dict=True)\n@dataclass\nclass Point2D:\n    x: int\n    y: int\n    \npoint = Point2D(10, 20)\npoint.length = math.sqrt(point.x ** 2 + point.y ** 2)\n```\n\n#### Weakref\n```python\n@with_slots(add_weakref=True)\n@dataclass\nclass Point2D:\n    x: int\n    y: int\n    \npoint = Point2D(10, 20)\nr = weakref.ref(point)\n```\n\n#### Read-only class variables\nWith \\_\\_slots__ it's possible to define read-only class variables. When using dataclasses you cannot provide type \nfor attribute or use typing.ClassVar to declare one. \n```python\n@with_slots\n@dataclass\nclass A:\n    x = 5\n    y: ClassVar[set] = set()\n```\n\n## More about \\_\\_slots__\n* https://docs.python.org/3/reference/datamodel.html#slots\n* https://github.com/ericvsmith/dataclasses/issues/28\n\n[dataclasses_issue]: https://github.com/ericvsmith/dataclasses/issues/28", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/starhel/dataslots", "keywords": "dataslots,slots,dataclasses", "license": "", "maintainer": "", "maintainer_email": "", "name": "dataslots", "package_url": "https://pypi.org/project/dataslots/", "platform": "", "project_url": "https://pypi.org/project/dataslots/", "project_urls": {"Homepage": "https://github.com/starhel/dataslots"}, "release_url": "https://pypi.org/project/dataslots/1.0.1/", "requires_dist": null, "requires_python": ">=3.6", "summary": "Decorator to add __slots__ in dataclasses", "version": "1.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>dataslots</h1>\n<p><a href=\"https://travis-ci.org/starhel/dataslots\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/98a0215d3f9993451649deb2dba42c72c3487c01/68747470733a2f2f7472617669732d63692e6f72672f7374617268656c2f64617461736c6f74732e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/starhel/dataslots\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/91aa40c331e268342db6d9f9a03665315dad300e/68747470733a2f2f636f6465636f762e696f2f67682f7374617268656c2f64617461736c6f74732f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a></p>\n<p><a href=\"https://pypi.org/project/dataslots/\" rel=\"nofollow\"><img alt=\"PyPI - Python Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/53e174a7567a6177e4e6c6cf2fffa841a56bf1cc/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f64617461736c6f74732e737667\"></a>\n<a href=\"https://pypi.org/project/dataslots/\" rel=\"nofollow\"><img alt=\"PyPI - Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/77af25592a1e925d3668b801f38643b1233cf879/68747470733a2f2f696d672e736869656c64732e696f2f707970692f7374617475732f64617461736c6f74732e737667\"></a>\n<img alt=\"license\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f50281b4ad4388f01b7d81bcaa9c2c2be7ae975c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f7374617268656c2f64617461736c6f74732e737667\"></p>\n<h2>Decorator for adding <strong>slots</strong></h2>\n<p>Python3.7 provides dataclasses module for faster class creation (<a href=\"https://www.python.org/dev/peps/pep-0557/\" rel=\"nofollow\">PEP 557</a>).\nUnfortunately there's no support for __slots__. If you want to create more memory efficient instances, you need to\ndo it by yourself or use dataslots.with_slots decorator.</p>\n<h2>Usage</h2>\n<h4>Simple example</h4>\n<pre><span class=\"nd\">@with_slots</span>\n<span class=\"nd\">@dataclass</span>\n<span class=\"k\">class</span> <span class=\"nc\">Point2D</span><span class=\"p\">:</span>\n    <span class=\"n\">x</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n    <span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n</pre>\n<h4>Inheritance</h4>\n<p>As described in docs, in derived class __dict__ is created, because base class does not have __slots__.\nSlots are created from all defined properties (returned by dataclasses.fields() function).</p>\n<pre><span class=\"nd\">@dataclass</span>\n<span class=\"k\">class</span> <span class=\"nc\">Base</span><span class=\"p\">:</span>\n    <span class=\"n\">a</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n\n\n<span class=\"nd\">@with_slots</span>\n<span class=\"nd\">@dataclass</span>\n<span class=\"k\">class</span> <span class=\"nc\">Derived</span><span class=\"p\">(</span><span class=\"n\">Base</span><span class=\"p\">):</span>\n    <span class=\"n\">c</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n    <span class=\"n\">d</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n</pre>\n<h4>Dynamic assignment of new variables</h4>\n<pre><span class=\"nd\">@with_slots</span><span class=\"p\">(</span><span class=\"n\">add_dict</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"nd\">@dataclass</span>\n<span class=\"k\">class</span> <span class=\"nc\">Point2D</span><span class=\"p\">:</span>\n    <span class=\"n\">x</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n    <span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n    \n<span class=\"n\">point</span> <span class=\"o\">=</span> <span class=\"n\">Point2D</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">)</span>\n<span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">length</span> <span class=\"o\">=</span> <span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">x</span> <span class=\"o\">**</span> <span class=\"mi\">2</span> <span class=\"o\">+</span> <span class=\"n\">point</span><span class=\"o\">.</span><span class=\"n\">y</span> <span class=\"o\">**</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n</pre>\n<h4>Weakref</h4>\n<pre><span class=\"nd\">@with_slots</span><span class=\"p\">(</span><span class=\"n\">add_weakref</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"nd\">@dataclass</span>\n<span class=\"k\">class</span> <span class=\"nc\">Point2D</span><span class=\"p\">:</span>\n    <span class=\"n\">x</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n    <span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"nb\">int</span>\n    \n<span class=\"n\">point</span> <span class=\"o\">=</span> <span class=\"n\">Point2D</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">)</span>\n<span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"n\">weakref</span><span class=\"o\">.</span><span class=\"n\">ref</span><span class=\"p\">(</span><span class=\"n\">point</span><span class=\"p\">)</span>\n</pre>\n<h4>Read-only class variables</h4>\n<p>With __slots__ it's possible to define read-only class variables. When using dataclasses you cannot provide type\nfor attribute or use typing.ClassVar to declare one.</p>\n<pre><span class=\"nd\">@with_slots</span>\n<span class=\"nd\">@dataclass</span>\n<span class=\"k\">class</span> <span class=\"nc\">A</span><span class=\"p\">:</span>\n    <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>\n    <span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">ClassVar</span><span class=\"p\">[</span><span class=\"nb\">set</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nb\">set</span><span class=\"p\">()</span>\n</pre>\n<h2>More about __slots__</h2>\n<ul>\n<li><a href=\"https://docs.python.org/3/reference/datamodel.html#slots\" rel=\"nofollow\">https://docs.python.org/3/reference/datamodel.html#slots</a></li>\n<li><a href=\"https://github.com/ericvsmith/dataclasses/issues/28\" rel=\"nofollow\">https://github.com/ericvsmith/dataclasses/issues/28</a></li>\n</ul>\n\n          </div>"}, "last_serial": 4159476, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "d6f564656a2f34181a325c50dbfc46bc", "sha256": "c4478589fb1c67afaf5f6e59d6d45a6e17ca08a082a73e8ac1387f1f393fbde1"}, "downloads": -1, "filename": "dataslots-1.0.0.tar.gz", "has_sig": false, "md5_digest": "d6f564656a2f34181a325c50dbfc46bc", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 2569, "upload_time": "2018-03-20T21:37:35", "upload_time_iso_8601": "2018-03-20T21:37:35.585637Z", "url": "https://files.pythonhosted.org/packages/d4/82/c19d83aaa1b2ae1b19b924343bd8b3a2763930b13c436d923a33abc4f0f0/dataslots-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "241bb8a96644fa32a116888dc4e1e3df", "sha256": "e2fb733f9a65a48b1d6edd17dbb9a77ee959362dfaeb7d09a14cf02378a40021"}, "downloads": -1, "filename": "dataslots-1.0.1.tar.gz", "has_sig": false, "md5_digest": "241bb8a96644fa32a116888dc4e1e3df", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 2699, "upload_time": "2018-08-11T11:06:55", "upload_time_iso_8601": "2018-08-11T11:06:55.614516Z", "url": "https://files.pythonhosted.org/packages/f4/43/058405488f368d9651fa07474067fb438063f9730b6385b8504edc961d64/dataslots-1.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "241bb8a96644fa32a116888dc4e1e3df", "sha256": "e2fb733f9a65a48b1d6edd17dbb9a77ee959362dfaeb7d09a14cf02378a40021"}, "downloads": -1, "filename": "dataslots-1.0.1.tar.gz", "has_sig": false, "md5_digest": "241bb8a96644fa32a116888dc4e1e3df", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 2699, "upload_time": "2018-08-11T11:06:55", "upload_time_iso_8601": "2018-08-11T11:06:55.614516Z", "url": "https://files.pythonhosted.org/packages/f4/43/058405488f368d9651fa07474067fb438063f9730b6385b8504edc961d64/dataslots-1.0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:40:10 2020"}
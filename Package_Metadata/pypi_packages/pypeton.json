{"info": {"author": "RED Interactive Agency", "author_email": "geeks@ff0000.com", "bugtrack_url": null, "classifiers": [], "description": "An application to bootstrap \n\nFrequently we need to create a Django project from scratch and push it on a production machine. \n**pypeton** helps reduce the number of manual steps to achieve this goal.\n\n\n## Installation\n    \n    pip install -e git+git://github.com/ff0000/pypeton.git\n\n\n## Usage\n\n    pypeton [options] project_name\n    \n### Options\n\n      --version          show program's version number and exit\n      -h, --help         show this help message and exit\n      -v, --virtualenv   initialise virtual envirnment\n      -s, --subversion   create project in svn style with trunk/tags/branches\n      -d DIR, --dir=DIR  base project directory\n      -e ENV, --env=ENV  [django]\n      \n### Examples\n\nMost basic project\n\n    pypeton my_project\n    \n    \nBuild out an svn folder structure, insert a django project into trunk, and \ninitialize a virtual environment all in one step.\n\n    pypeton -s -v my_project  \n    \nSpecify a directory other than the present working directory\n\n    pypeton -d /path/to/folder  my_project\n    \n    \n## TODO: \n\nAdd description of project customization:\n\n* how to define requirements\n* what's in which folder\n\n\n\n## Installing requirements\n\nThe next step is to install the requirements for the project, with these commands:\n\n    cd fooapp/trunk\n    source activate\n    cd project\n    ./manage.py require\n\nwhere `./manage.py require` is a provided shortcut for `pip install -r ../deploy/requirements.txt && pip install -r ../deploy/requirements/development.txt`.\n\n## Running the project in the browser\n\nThe project comes with an empty home-page which can be seen in a web browser by running:\n\n    ./manage.py syncdb\n    ./manage.py server\n\nand then opening [http://localhost:8000/](http://localhost:8000/) in a browser window. `./manage.py server` is a shortcut provided for the command `./manage.py runserver 0.0.0.0:8000` used frequently to start the local server.\n\n## Resetting the database and loading fixtures\n \nThe project also comes with an application named *initial_data*, a model with a fixture to create in the development environment an *admin* user with password *admin* and a site called http://example.com:8000. These data can be loaded by running:\n\n    ./manage.py sync\n\nwhere `./manage.py sync` is a shortcut to:\n\n* reset the database structure \n* synchronize it again with the latest models\n* optionally reload the fixtures for the specified environment (in this case, users and sites for development)\n\nAt this point, Django admin can be accessed by running `./manage.py server` again, then logging into [http://example.com:8000/admin](http://example.com:8000/admin) with admin/admin (make sure to have \"example.com\" in the machine hosts file pointing to the localhost).\n\n## Creating a new model and application\n\nA new model (e.g., called *Picture*) can be created with the command:\n\n    ./sta Picture\n\nwhich extends the default \"./manage.py startapp\" command by delivering a coherent file structure and providing two basic views for index and show. To include this model in the application:\n\n* add `'pictures',` to `INSTALLED_APPS` in settings/\\_\\_init\\_\\_.py, and\n* add `(r'^pictures/', include('pictures.urls'))` to `urlpatterns` in urls.py.\n* run `./manage.py sync` to add the model to the database\n\nAt this point, all these new views become available:\n\n* http://example.com:8000/admin/pictures/picture/add/ (to add a picture)\n* http://example.com:8000/admin/pictures/picture/ (to admin the pictures)\n* http://example.com:8000/pictures/ (to show the list of pictures)\n* http://example.com:8000/pictures/1/ (to show one picture after its creation)\n\n## Customizing the model\n\nThe newly created model can be edited at will. For instance, the Picture model can be inherited by [django-imagekit](https://github.com/jdriscoll/django-imagekit)'s ImageModel in order to have many image-related functions available. For this purpose:\n\n<!-- requirements should also be split according to the environment! -->\n\n* add the following lines to deploy/requirements.txt:\n\n        pil                  # to use models.ImageField\n        django-imagekit      # to deal with image size, thumbnails\n\n* run the command `./manage.py require` to install the new requirements\n\n* edit apps/pictures/models.py to begin as:\n\n        from django.db import models\n        from imagekit.models import ImageModel\n        \n        class Picture(ImageModel):\n            name = models.CharField(max_length=255)\n            image = models.ImageField(upload_to='pictures')\n            num_views = models.PositiveIntegerField(editable=False, default=0)\n            #\n            class IKOptions:\n                # This inner class is where we define the ImageKit options for the model\n                spec_module   = 'pictures.specs'\n                cache_dir     = 'cache'\n                image_field   = 'image'\n                save_count_as = 'num_views'\n  \n* add apps/pictures/specs.py as:\n\n        from imagekit.specs import ImageSpec\n        from imagekit import processors\n        \n        # first we define our thumbnail resize processor\n        class ResizeThumb(processors.Resize):\n            width =  20\n            height = 20\n            crop = True\n        \n        # now we can define our thumbnail spec\n        class Thumbnail(ImageSpec):\n            access_as = 'thumbnail_image'\n            pre_cache = True\n            processors = [ResizeThumb]\n        \n* change the loop in template/pictures/index.html as:\n\n        {% for picture in pictures %}\n            <li><a href={{ picture.get_absolute_url }}>\n              {{ picture.id }}\n              <img src=\"{{ picture.thumbnail_image.url}}\" />\n            </a></li>\n        {% endfor %}\n\n* add `<img src=\"{{picture.image.url}}\" />` to the content in templates/pictures/show.html\n\nAt this point, run `./manage.py sync` to adjust the database in order the include the Imagekit fields into the Picture table. Then the following views allow to:\n\n* http://example.com:8000/admin/pictures/picture/add/ (add a picture with an attached image)\n* http://example.com:8000/pictures/ (see the list of images with a thumbnail)\n* http://example.com:8000/pictures/1/ (see the original image inserted)\n\n## Creating fixtures\n\nWhenever the `./manage.py sync` command is run, all the data in the database is deleted. The method not to lose data during a synchronization is using fixtures.\n\nFor instance, after adding a Picture through the admin interface, this can be stored in a fixture running:\n\n    ./manage.py dump pictures\n\nwhere `./manage.py dump` is a shortcut for `./manage.py dumpdata` to output the data with the right indentation in the specified environment.\n\nAt this point, running `.syn development` again will reset the database and reload the images from the fixtures, without losing any data in the operation.\n\n## Storing uploads on a CDN\n\nFor local development, storing uploads (such as images) in the same folder as the Django code is fine. But this is not the desired behavior on staging or production machines. Uploads can be easily stored in [Rackspace CDN](http://www.rackspace.com/cloud/) by using [django-cumulus](https://github.com/richleland/django-cumulus):\n\n* log into Rackspace cloud and create a new container\n* add the following line to deploy/requirements.txt:\n\n        django-cumulus       # to store uploads on CDN\n\n* run the command `./manage.py require` to install the new requirement\n* add the following lines to settings/staging.py:\n\n        INSTALLED_APPS = INSTALLED_APPS + (\n            'cumulus',\n        )\n\n        DEFAULT_FILE_STORAGE     = 'cumulus.storage.CloudFilesStorage'\n        CUMULUS_USERNAME         = '[Your Rackspace Cloud username]'\n        CUMULUS_API_KEY          = '[Your Rackspace Cloud API key]'\n        CUMULUS_CONTAINER        = '[Your Rackspace Cloud container]'\n        CUMULUS_FILTER_LIST      = ['.DS_Store']\n        CUMULUS_STATIC_CONTAINER = CUMULUS_CONTAINER\n        CUMULUS_USE_SERVICENET   = False\n        STATIC_URL               = \"\"\n\nAt this point, run `./manage.py sync --settings=settings.staging` to set up a database for the staging server (which, for now, is on the same development machine). Since it's a staging server, an admin/admin user will not be created automatically, but prompted, in order to use a valid password. \n\nThen run `./manage.py server --settings=settings.staging` to run the server with the staging settings. All the pictures will then be uploaded to the CDN and not to any local folder.\n\nIt is also possible to batch upload all the pictures loaded so far in the development machine onto the CDN server that serves the staging environment by running:\n\n    ./manage.py syncstatic --settings=settings.staging", "description_content_type": null, "docs_url": null, "download_url": "http://www.github.com/ff0000/pypeton/", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://www.github.com/ff0000/pypeton/", "keywords": null, "license": "MIT license", "maintainer": null, "maintainer_email": null, "name": "pypeton", "package_url": "https://pypi.org/project/pypeton/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/pypeton/", "project_urls": {"Download": "http://www.github.com/ff0000/pypeton/", "Homepage": "http://www.github.com/ff0000/pypeton/"}, "release_url": "https://pypi.org/project/pypeton/0.5.0/", "requires_dist": null, "requires_python": null, "summary": "Tool to start Django and Bongo projects", "version": "0.5.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            An application to bootstrap <br><br>Frequently we need to create a Django project from scratch and push it on a production machine. <br>**pypeton** helps reduce the number of manual steps to achieve this goal.<br><br><br>## Installation<br>    <br>    pip install -e git+git://github.com/ff0000/pypeton.git<br><br><br>## Usage<br><br>    pypeton [options] project_name<br>    <br>### Options<br><br>      --version          show program's version number and exit<br>      -h, --help         show this help message and exit<br>      -v, --virtualenv   initialise virtual envirnment<br>      -s, --subversion   create project in svn style with trunk/tags/branches<br>      -d DIR, --dir=DIR  base project directory<br>      -e ENV, --env=ENV  [django]<br>      <br>### Examples<br><br>Most basic project<br><br>    pypeton my_project<br>    <br>    <br>Build out an svn folder structure, insert a django project into trunk, and <br>initialize a virtual environment all in one step.<br><br>    pypeton -s -v my_project  <br>    <br>Specify a directory other than the present working directory<br><br>    pypeton -d /path/to/folder  my_project<br>    <br>    <br>## TODO: <br><br>Add description of project customization:<br><br>* how to define requirements<br>* what's in which folder<br><br><br><br>## Installing requirements<br><br>The next step is to install the requirements for the project, with these commands:<br><br>    cd fooapp/trunk<br>    source activate<br>    cd project<br>    ./manage.py require<br><br>where `./manage.py require` is a provided shortcut for `pip install -r ../deploy/requirements.txt &amp;&amp; pip install -r ../deploy/requirements/development.txt`.<br><br>## Running the project in the browser<br><br>The project comes with an empty home-page which can be seen in a web browser by running:<br><br>    ./manage.py syncdb<br>    ./manage.py server<br><br>and then opening [http://localhost:8000/](http://localhost:8000/) in a browser window. `./manage.py server` is a shortcut provided for the command `./manage.py runserver 0.0.0.0:8000` used frequently to start the local server.<br><br>## Resetting the database and loading fixtures<br> <br>The project also comes with an application named *initial_data*, a model with a fixture to create in the development environment an *admin* user with password *admin* and a site called http://example.com:8000. These data can be loaded by running:<br><br>    ./manage.py sync<br><br>where `./manage.py sync` is a shortcut to:<br><br>* reset the database structure <br>* synchronize it again with the latest models<br>* optionally reload the fixtures for the specified environment (in this case, users and sites for development)<br><br>At this point, Django admin can be accessed by running `./manage.py server` again, then logging into [http://example.com:8000/admin](http://example.com:8000/admin) with admin/admin (make sure to have \"example.com\" in the machine hosts file pointing to the localhost).<br><br>## Creating a new model and application<br><br>A new model (e.g., called *Picture*) can be created with the command:<br><br>    ./sta Picture<br><br>which extends the default \"./manage.py startapp\" command by delivering a coherent file structure and providing two basic views for index and show. To include this model in the application:<br><br>* add `'pictures',` to `INSTALLED_APPS` in settings/\\_\\_init\\_\\_.py, and<br>* add `(r'^pictures/', include('pictures.urls'))` to `urlpatterns` in urls.py.<br>* run `./manage.py sync` to add the model to the database<br><br>At this point, all these new views become available:<br><br>* http://example.com:8000/admin/pictures/picture/add/ (to add a picture)<br>* http://example.com:8000/admin/pictures/picture/ (to admin the pictures)<br>* http://example.com:8000/pictures/ (to show the list of pictures)<br>* http://example.com:8000/pictures/1/ (to show one picture after its creation)<br><br>## Customizing the model<br><br>The newly created model can be edited at will. For instance, the Picture model can be inherited by [django-imagekit](https://github.com/jdriscoll/django-imagekit)'s ImageModel in order to have many image-related functions available. For this purpose:<br><br>&lt;!-- requirements should also be split according to the environment! --&gt;<br><br>* add the following lines to deploy/requirements.txt:<br><br>        pil                  # to use models.ImageField<br>        django-imagekit      # to deal with image size, thumbnails<br><br>* run the command `./manage.py require` to install the new requirements<br><br>* edit apps/pictures/models.py to begin as:<br><br>        from django.db import models<br>        from imagekit.models import ImageModel<br>        <br>        class Picture(ImageModel):<br>            name = models.CharField(max_length=255)<br>            image = models.ImageField(upload_to='pictures')<br>            num_views = models.PositiveIntegerField(editable=False, default=0)<br>            #<br>            class IKOptions:<br>                # This inner class is where we define the ImageKit options for the model<br>                spec_module   = 'pictures.specs'<br>                cache_dir     = 'cache'<br>                image_field   = 'image'<br>                save_count_as = 'num_views'<br>  <br>* add apps/pictures/specs.py as:<br><br>        from imagekit.specs import ImageSpec<br>        from imagekit import processors<br>        <br>        # first we define our thumbnail resize processor<br>        class ResizeThumb(processors.Resize):<br>            width =  20<br>            height = 20<br>            crop = True<br>        <br>        # now we can define our thumbnail spec<br>        class Thumbnail(ImageSpec):<br>            access_as = 'thumbnail_image'<br>            pre_cache = True<br>            processors = [ResizeThumb]<br>        <br>* change the loop in template/pictures/index.html as:<br><br>        {% for picture in pictures %}<br>            &lt;li&gt;&lt;a href={{ picture.get_absolute_url }}&gt;<br>              {{ picture.id }}<br>              &lt;img src=\"{{ picture.thumbnail_image.url}}\" /&gt;<br>            &lt;/a&gt;&lt;/li&gt;<br>        {% endfor %}<br><br>* add `&lt;img src=\"{{picture.image.url}}\" /&gt;` to the content in templates/pictures/show.html<br><br>At this point, run `./manage.py sync` to adjust the database in order the include the Imagekit fields into the Picture table. Then the following views allow to:<br><br>* http://example.com:8000/admin/pictures/picture/add/ (add a picture with an attached image)<br>* http://example.com:8000/pictures/ (see the list of images with a thumbnail)<br>* http://example.com:8000/pictures/1/ (see the original image inserted)<br><br>## Creating fixtures<br><br>Whenever the `./manage.py sync` command is run, all the data in the database is deleted. The method not to lose data during a synchronization is using fixtures.<br><br>For instance, after adding a Picture through the admin interface, this can be stored in a fixture running:<br><br>    ./manage.py dump pictures<br><br>where `./manage.py dump` is a shortcut for `./manage.py dumpdata` to output the data with the right indentation in the specified environment.<br><br>At this point, running `.syn development` again will reset the database and reload the images from the fixtures, without losing any data in the operation.<br><br>## Storing uploads on a CDN<br><br>For local development, storing uploads (such as images) in the same folder as the Django code is fine. But this is not the desired behavior on staging or production machines. Uploads can be easily stored in [Rackspace CDN](http://www.rackspace.com/cloud/) by using [django-cumulus](https://github.com/richleland/django-cumulus):<br><br>* log into Rackspace cloud and create a new container<br>* add the following line to deploy/requirements.txt:<br><br>        django-cumulus       # to store uploads on CDN<br><br>* run the command `./manage.py require` to install the new requirement<br>* add the following lines to settings/staging.py:<br><br>        INSTALLED_APPS = INSTALLED_APPS + (<br>            'cumulus',<br>        )<br><br>        DEFAULT_FILE_STORAGE     = 'cumulus.storage.CloudFilesStorage'<br>        CUMULUS_USERNAME         = '[Your Rackspace Cloud username]'<br>        CUMULUS_API_KEY          = '[Your Rackspace Cloud API key]'<br>        CUMULUS_CONTAINER        = '[Your Rackspace Cloud container]'<br>        CUMULUS_FILTER_LIST      = ['.DS_Store']<br>        CUMULUS_STATIC_CONTAINER = CUMULUS_CONTAINER<br>        CUMULUS_USE_SERVICENET   = False<br>        STATIC_URL               = \"\"<br><br>At this point, run `./manage.py sync --settings=settings.staging` to set up a database for the staging server (which, for now, is on the same development machine). Since it's a staging server, an admin/admin user will not be created automatically, but prompted, in order to use a valid password. <br><br>Then run `./manage.py server --settings=settings.staging` to run the server with the staging settings. All the pictures will then be uploaded to the CDN and not to any local folder.<br><br>It is also possible to batch upload all the pictures loaded so far in the development machine onto the CDN server that serves the staging environment by running:<br><br>    ./manage.py syncstatic --settings=settings.staging\n          </div>"}, "last_serial": 797521, "releases": {"0.5.0": [{"comment_text": "", "digests": {"md5": "6a7744342d5833c8243e3e724ef6bccc", "sha256": "16256b59bc97545fb1e0384389c56eae403e54c1659a3fe7372387c6baed8a96"}, "downloads": -1, "filename": "pypeton-0.5.0.tar.gz", "has_sig": false, "md5_digest": "6a7744342d5833c8243e3e724ef6bccc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21910, "upload_time": "2011-08-05T01:40:55", "upload_time_iso_8601": "2011-08-05T01:40:55.602601Z", "url": "https://files.pythonhosted.org/packages/20/ba/14defd70cc7e47fed7133d5c35523c557fc736549fd409dec38777af2b67/pypeton-0.5.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "6a7744342d5833c8243e3e724ef6bccc", "sha256": "16256b59bc97545fb1e0384389c56eae403e54c1659a3fe7372387c6baed8a96"}, "downloads": -1, "filename": "pypeton-0.5.0.tar.gz", "has_sig": false, "md5_digest": "6a7744342d5833c8243e3e724ef6bccc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21910, "upload_time": "2011-08-05T01:40:55", "upload_time_iso_8601": "2011-08-05T01:40:55.602601Z", "url": "https://files.pythonhosted.org/packages/20/ba/14defd70cc7e47fed7133d5c35523c557fc736549fd409dec38777af2b67/pypeton-0.5.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:59:42 2020"}
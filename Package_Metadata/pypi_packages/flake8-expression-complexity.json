{"info": {"author": "Ilya Lebedev", "author_email": "melevir@gmail.com", "bugtrack_url": null, "classifiers": ["Environment :: Console", "Framework :: Flake8", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Software Development :: Documentation", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: Software Development :: Quality Assurance"], "description": "# flake8-expression-complexity\n\n\n[![Build Status](https://travis-ci.org/best-doctor/flake8-expression-complexity.svg?branch=master)](https://travis-ci.org/best-doctor/flake8-expression-complexity)\n[![Maintainability](https://api.codeclimate.com/v1/badges/f85c1fd2ad4af63d93b6/maintainability)](https://codeclimate.com/github/best-doctor/flake8-expression-complexity/maintainability)\n[![Test Coverage](https://api.codeclimate.com/v1/badges/f85c1fd2ad4af63d93b6/test_coverage)](https://codeclimate.com/github/best-doctor/flake8-expression-complexity/test_coverage)\n[![PyPI version](https://badge.fury.io/py/flake8-expression-complexity.svg?)](https://badge.fury.io/py/flake8-expression-complexity)\n![PyPI - Python Version](https://img.shields.io/pypi/pyversions/flake8-expression-complexity)\n\nAn extension for flake8 that validates expression complexity.\n\nSplits code into expression and scores each according to how much one is complicated.\nFires an error on each expression more complex than theshold.\n\nDefault complexity is 7, can be configured via `--max-expression-complexity` option.\n\nSince Django ORM queries can produce long and readable expressions,\nchecker can skip them. To enable this behaviour,\nuse `--ignore-django-orm-queries-complexity` option.\n\n\n\n## Installation\n\n    pip install flake8-expression-complexity\n\n\n## Example\n\n```python\nif (\n    (user and user.is_authorized)\n    and user.subscriptions.filter(start_date__lt=today, end_date__gt=today).exists()\n    and (\n        user.total_credits_added\n        - Check.objects.filter(user=user).aggregate(Sum('price'))['check__sum']\n    )\n    and UserAction.objects.filter(user=user).last().datetime > today - datetime.timedelta(days=10)\n):\n    ...\n\n```\nUsage:\n\n```terminal\n$ flake8 --max-expression-complexity=3 test.py\ntext.py:2:5: ECE001 Expression is too complex (7.0 > 3)\n```\n\nTested on Python 3.6, 3.7 and flake8 3.7.8.\n\n\n## Error codes\n\n| Error code |                     Description   |\n|:----------:|:---------------------------------:|\n|   ECE001   | Expression is too complex (X > Y) |\n\n\n## Contributing\n\nWe would love you to contribute to our project. It's simple:\n\n1. Create an issue with bug you found or proposal you have. Wait for approve from maintainer.\n2. Create a pull request. Make sure all checks are green.\n3. Fix review comments if any.\n4. Be awesome.\n\nHere are useful tips:\n\n- You can run all checks and tests with `make check`. Please do it before TravisCI does.\n- We use [BestDoctor python styleguide](https://github.com/best-doctor/guides/blob/master/guides/python_styleguide.md). Sorry, styleguide is available only in Russian for now.\n- We respect [Django CoC](https://www.djangoproject.com/conduct/). Make soft, not bullshit.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/best-doctor/flake8-expression-complexity", "keywords": "flake8", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "flake8-expression-complexity", "package_url": "https://pypi.org/project/flake8-expression-complexity/", "platform": "", "project_url": "https://pypi.org/project/flake8-expression-complexity/", "project_urls": {"Homepage": "https://github.com/best-doctor/flake8-expression-complexity"}, "release_url": "https://pypi.org/project/flake8-expression-complexity/0.0.7/", "requires_dist": null, "requires_python": ">=3.6", "summary": "A flake8 extension that checks expressions complexity", "version": "0.0.7", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>flake8-expression-complexity</h1>\n<p><a href=\"https://travis-ci.org/best-doctor/flake8-expression-complexity\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2098e0e5a55c7c39db4e9d8d7bba7a8d62e3a8b4/68747470733a2f2f7472617669732d63692e6f72672f626573742d646f63746f722f666c616b65382d65787072657373696f6e2d636f6d706c65786974792e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codeclimate.com/github/best-doctor/flake8-expression-complexity/maintainability\" rel=\"nofollow\"><img alt=\"Maintainability\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/976fc5b31a54a9af347ded8fc469d01b0447d3b4/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f66383563316664326164346166363364393362362f6d61696e7461696e6162696c697479\"></a>\n<a href=\"https://codeclimate.com/github/best-doctor/flake8-expression-complexity/test_coverage\" rel=\"nofollow\"><img alt=\"Test Coverage\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/517154a218080ecdb9255d80a1e63dbdcc680b19/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f66383563316664326164346166363364393362362f746573745f636f766572616765\"></a>\n<a href=\"https://badge.fury.io/py/flake8-expression-complexity\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/da4a2106f354db49a22e0cb6e0bcbfa0ad231340/68747470733a2f2f62616467652e667572792e696f2f70792f666c616b65382d65787072657373696f6e2d636f6d706c65786974792e7376673f\"></a>\n<img alt=\"PyPI - Python Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/17cd918269044ee457945a8decc3812563f128a7/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f666c616b65382d65787072657373696f6e2d636f6d706c6578697479\"></p>\n<p>An extension for flake8 that validates expression complexity.</p>\n<p>Splits code into expression and scores each according to how much one is complicated.\nFires an error on each expression more complex than theshold.</p>\n<p>Default complexity is 7, can be configured via <code>--max-expression-complexity</code> option.</p>\n<p>Since Django ORM queries can produce long and readable expressions,\nchecker can skip them. To enable this behaviour,\nuse <code>--ignore-django-orm-queries-complexity</code> option.</p>\n<h2>Installation</h2>\n<pre><code>pip install flake8-expression-complexity\n</code></pre>\n<h2>Example</h2>\n<pre><span class=\"k\">if</span> <span class=\"p\">(</span>\n    <span class=\"p\">(</span><span class=\"n\">user</span> <span class=\"ow\">and</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">is_authorized</span><span class=\"p\">)</span>\n    <span class=\"ow\">and</span> <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">subscriptions</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">start_date__lt</span><span class=\"o\">=</span><span class=\"n\">today</span><span class=\"p\">,</span> <span class=\"n\">end_date__gt</span><span class=\"o\">=</span><span class=\"n\">today</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">exists</span><span class=\"p\">()</span>\n    <span class=\"ow\">and</span> <span class=\"p\">(</span>\n        <span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">total_credits_added</span>\n        <span class=\"o\">-</span> <span class=\"n\">Check</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"o\">=</span><span class=\"n\">user</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">aggregate</span><span class=\"p\">(</span><span class=\"n\">Sum</span><span class=\"p\">(</span><span class=\"s1\">'price'</span><span class=\"p\">))[</span><span class=\"s1\">'check__sum'</span><span class=\"p\">]</span>\n    <span class=\"p\">)</span>\n    <span class=\"ow\">and</span> <span class=\"n\">UserAction</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"o\">=</span><span class=\"n\">user</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">last</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">datetime</span> <span class=\"o\">&gt;</span> <span class=\"n\">today</span> <span class=\"o\">-</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">timedelta</span><span class=\"p\">(</span><span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"p\">):</span>\n    <span class=\"o\">...</span>\n</pre>\n<p>Usage:</p>\n<pre>$ flake8 --max-expression-complexity=3 test.py\ntext.py:2:5: ECE001 Expression is too complex (7.0 &gt; 3)\n</pre>\n<p>Tested on Python 3.6, 3.7 and flake8 3.7.8.</p>\n<h2>Error codes</h2>\n<table>\n<thead>\n<tr>\n<th align=\"center\">Error code</th>\n<th align=\"center\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">ECE001</td>\n<td align=\"center\">Expression is too complex (X &gt; Y)</td>\n</tr></tbody></table>\n<h2>Contributing</h2>\n<p>We would love you to contribute to our project. It's simple:</p>\n<ol>\n<li>Create an issue with bug you found or proposal you have. Wait for approve from maintainer.</li>\n<li>Create a pull request. Make sure all checks are green.</li>\n<li>Fix review comments if any.</li>\n<li>Be awesome.</li>\n</ol>\n<p>Here are useful tips:</p>\n<ul>\n<li>You can run all checks and tests with <code>make check</code>. Please do it before TravisCI does.</li>\n<li>We use <a href=\"https://github.com/best-doctor/guides/blob/master/guides/python_styleguide.md\" rel=\"nofollow\">BestDoctor python styleguide</a>. Sorry, styleguide is available only in Russian for now.</li>\n<li>We respect <a href=\"https://www.djangoproject.com/conduct/\" rel=\"nofollow\">Django CoC</a>. Make soft, not bullshit.</li>\n</ul>\n\n          </div>"}, "last_serial": 6814421, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "5b6ae3df09c88f4b948a9bb71a479d4b", "sha256": "764b37e7cedc85117cb15d9475c4696c8ebfbe6e3d4f5c4baa0be9828f8ba8ee"}, "downloads": -1, "filename": "flake8_expression_complexity-0.0.1.tar.gz", "has_sig": false, "md5_digest": "5b6ae3df09c88f4b948a9bb71a479d4b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5316, "upload_time": "2019-10-30T06:17:04", "upload_time_iso_8601": "2019-10-30T06:17:04.601311Z", "url": "https://files.pythonhosted.org/packages/1e/77/ae637203a4e498f61540259e5a5a1856e15c972e2429c1cdb73327271658/flake8_expression_complexity-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "e9d3f67e18059244d5b854982e90a2f2", "sha256": "97b0b4f4fbe4f69bd09280a2a1d3175baf8564e255c129254ae5d5fe8aab315f"}, "downloads": -1, "filename": "flake8_expression_complexity-0.0.2.tar.gz", "has_sig": false, "md5_digest": "e9d3f67e18059244d5b854982e90a2f2", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5559, "upload_time": "2019-11-04T04:29:11", "upload_time_iso_8601": "2019-11-04T04:29:11.164061Z", "url": "https://files.pythonhosted.org/packages/9a/54/99599681203caa53beec486e846f48f58ffaad76dedf7afca2ff8abb8d1a/flake8_expression_complexity-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "e5c69b926cb1b41aa54c5739159ddf68", "sha256": "2c1a6c1bb169de7ebb13801e22f010635a1f8b4197ab4169a109525b43d7630f"}, "downloads": -1, "filename": "flake8_expression_complexity-0.0.3.tar.gz", "has_sig": false, "md5_digest": "e5c69b926cb1b41aa54c5739159ddf68", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5592, "upload_time": "2019-11-05T23:00:32", "upload_time_iso_8601": "2019-11-05T23:00:32.301888Z", "url": "https://files.pythonhosted.org/packages/de/69/30d87f2af4371119f36f7bed9f9babc8c62fa04c159595cdd3fbf0635e82/flake8_expression_complexity-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "517cfafa2b6ad204701965660622d949", "sha256": "750dfc458e8d5424bbd7625aaf54489e6c68d7247fd04d74641f3b8510e79927"}, "downloads": -1, "filename": "flake8_expression_complexity-0.0.4.tar.gz", "has_sig": false, "md5_digest": "517cfafa2b6ad204701965660622d949", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5598, "upload_time": "2019-11-13T08:08:19", "upload_time_iso_8601": "2019-11-13T08:08:19.324522Z", "url": "https://files.pythonhosted.org/packages/6f/11/a5316903d3729c24c220dd2c94432b878db0963abc6674b23c7ed05c3797/flake8_expression_complexity-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "2a5a8100f7b09473f92e2025a7944e03", "sha256": "3411a3e4c030eba22acc3747ca21759bf00d50e0f0373dbd4b1f238b6a25d7df"}, "downloads": -1, "filename": "flake8_expression_complexity-0.0.5.tar.gz", "has_sig": false, "md5_digest": "2a5a8100f7b09473f92e2025a7944e03", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5635, "upload_time": "2020-01-09T20:17:14", "upload_time_iso_8601": "2020-01-09T20:17:14.569785Z", "url": "https://files.pythonhosted.org/packages/9a/07/3b1c4db3138942485ad19db4a18dd3b9360fb70f3d7f32c4881c9f7b129a/flake8_expression_complexity-0.0.5.tar.gz", "yanked": false}], "0.0.6": [{"comment_text": "", "digests": {"md5": "2ef0f3ba568b46742435ce97afbf050d", "sha256": "a4f3a06772dcedd99aa21469fa6a5b1533cfe390c3218bdc4838ec01bd8374c5"}, "downloads": -1, "filename": "flake8_expression_complexity-0.0.6.tar.gz", "has_sig": false, "md5_digest": "2ef0f3ba568b46742435ce97afbf050d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 6662, "upload_time": "2020-01-12T08:39:20", "upload_time_iso_8601": "2020-01-12T08:39:20.481121Z", "url": "https://files.pythonhosted.org/packages/9d/1c/282fe80ea1c3f0b7c8fd0cca7ff0e6307e47909560d9e978f4298a3783a6/flake8_expression_complexity-0.0.6.tar.gz", "yanked": false}], "0.0.7": [{"comment_text": "", "digests": {"md5": "9316a9ba67859856ca3a1cc700f4c1c8", "sha256": "2378e0235a87c00b4ad7a9759dde1f9c71aebf344f53c9ffa0c2e2c4ee8cd142"}, "downloads": -1, "filename": "flake8_expression_complexity-0.0.7.tar.gz", "has_sig": false, "md5_digest": "9316a9ba67859856ca3a1cc700f4c1c8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5657, "upload_time": "2020-03-15T06:26:06", "upload_time_iso_8601": "2020-03-15T06:26:06.911494Z", "url": "https://files.pythonhosted.org/packages/94/02/2699e1205f1f5e7b13b43e65211b3e4fe157a6ce8668a048a99ff6ef954d/flake8_expression_complexity-0.0.7.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "9316a9ba67859856ca3a1cc700f4c1c8", "sha256": "2378e0235a87c00b4ad7a9759dde1f9c71aebf344f53c9ffa0c2e2c4ee8cd142"}, "downloads": -1, "filename": "flake8_expression_complexity-0.0.7.tar.gz", "has_sig": false, "md5_digest": "9316a9ba67859856ca3a1cc700f4c1c8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5657, "upload_time": "2020-03-15T06:26:06", "upload_time_iso_8601": "2020-03-15T06:26:06.911494Z", "url": "https://files.pythonhosted.org/packages/94/02/2699e1205f1f5e7b13b43e65211b3e4fe157a6ce8668a048a99ff6ef954d/flake8_expression_complexity-0.0.7.tar.gz", "yanked": false}], "timestamp": "Fri May  8 01:03:24 2020"}
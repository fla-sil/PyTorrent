{"info": {"author": "Lucas Kahlert", "author_email": "lucas.kahlert@square-src.de", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Environment :: Console", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Operating System :: POSIX", "Operating System :: Unix", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: Implementation :: CPython", "Topic :: Software Development"], "description": "=========\npynghttp2\n=========\n\n.. image:: https://badge.fury.io/py/pynghttp2.svg\n    :target: https://badge.fury.io/py/pynghttp2\n    :alt: PyPi Version\n\n.. image:: https://travis-ci.org/f3anaro/pynghttp2.svg?branch=master\n    :target: https://travis-ci.org/f3anaro/pynghttp2\n    :alt: Build Status\n\n.. image:: https://codecov.io/gh/f3anaro/pynghttp2/branch/master/graph/badge.svg\n    :target: https://codecov.io/gh/f3anaro/pynghttp2\n    :alt: Code Coverage\n\n.. image:: https://readthedocs.org/projects/pynghttp2/badge/?version=latest\n    :target: http://pynghttp2.readthedocs.io/en/latest/?badge=latest\n    :alt: Documentation Status\n\npynghttp2 are simple asyncio Python bindings based on ctypes for the nghttp2_\nlibrary. The only thing you need is a ``libnghttp2`` version on your system.\n\nOn Debian-based systems you can install nghttp2 simply via apt:\n\n.. code:: bash\n\n    apt-get install libnghttp2-14\n\nThe project was created in the context of a student work for an HTTP/2 protocol\ngateway in the \u00b5PCN_ project - an implementation of Delay-tolerant Networking\n(DTN) protocols.\n\n\nInstallation\n============\n\n.. code:: bash\n\n    pip install pynghttp2\n\n\nExamples\n========\n\nHigh-Level API\n--------------\n\n.. code:: python\n\n    from pynghttp2 import http2\n\n    # GET request\n    resp = await http2.get('http://localhost:64602/ping')\n\n    content = await resp.text()\n    assert content == 'pong'\n\n    # POST request\n    message = b\"Lorem ipsum dolorem\"\n    resp = await http2.post('http://localhost:64602/echo', data=message)\n    echo = await resp.read()\n    assert echo == message\n\n\nClient Session\n--------------\n\n.. code:: python\n\n    from pynghttp2 import ClientSession\n\n    # Multiplex two requests\n    async with ClientSession(host='localhost', port=64602) as session:\n        stream1 = session.get('http://localhost:64602/stream')\n        stream2 = session.get('http://localhost:64602/stream')\n\n        await asyncio.gather(stream1.read(), stream2.read())\n\n\nServer Session\n--------------\n\n.. code:: python\n\n    import asyncio\n    from pynghttp2 import ServerSession\n\n    async def handle_request(req):\n        \"\"\"Echo the request body\"\"\"\n        msg = await req.read()\n        await req.response(200, data=msg)\n\n    with ServerSession(host='localhost', port=8080) as session:\n        while True:\n            # Wait for next incoming request\n            req = await session\n\n            # Handle each request in its own task to be able to multiplex\n            # multiple requests and responses\n            asyncio.ensure_future(handle_request(req))\n\n\n.. _nghttp2: https://nghttp2.org/\n.. _\u00b5PCN: https://upcn.eu/", "description_content_type": "text/x-rst; charset=UTF-8", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/f3anaro/pynghttp2", "keywords": "HTTP/2 nghttp2 bindings asyncio ctypes", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "pynghttp2", "package_url": "https://pypi.org/project/pynghttp2/", "platform": "POSIX/Unix", "project_url": "https://pypi.org/project/pynghttp2/", "project_urls": {"Bug Tracker": "https://github.com/f3anaro/pynghttp2/issues", "Documentation": "https://pynghttp2.readthedocs.io/", "Homepage": "https://github.com/f3anaro/pynghttp2", "Source Code": "https://github.com/f3anaro/pynghttp2/"}, "release_url": "https://pypi.org/project/pynghttp2/0.3.1/", "requires_dist": null, "requires_python": "", "summary": "Asyncio bindings for libnghttp2 based on ctypes", "version": "0.3.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://badge.fury.io/py/pynghttp2\" rel=\"nofollow\"><img alt=\"PyPi Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/bf0af2c5e7d7058b29d7fc2a3977ebcc04d54f47/68747470733a2f2f62616467652e667572792e696f2f70792f70796e6768747470322e737667\"></a>\n<a href=\"https://travis-ci.org/f3anaro/pynghttp2\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/db01c9ea21132e8af27ade355f194b1cb8a6f77a/68747470733a2f2f7472617669732d63692e6f72672f6633616e61726f2f70796e6768747470322e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/f3anaro/pynghttp2\" rel=\"nofollow\"><img alt=\"Code Coverage\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2a9755e1dbe875e9e0096f5f98cd5adba31811d1/68747470733a2f2f636f6465636f762e696f2f67682f6633616e61726f2f70796e6768747470322f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"http://pynghttp2.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c4a6ca60e181f26e65d866f2e56f0c801380230a/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f70796e6768747470322f62616467652f3f76657273696f6e3d6c6174657374\"></a>\n<p>pynghttp2 are simple asyncio Python bindings based on ctypes for the <a href=\"https://nghttp2.org/\" rel=\"nofollow\">nghttp2</a>\nlibrary. The only thing you need is a <tt>libnghttp2</tt> version on your system.</p>\n<p>On Debian-based systems you can install nghttp2 simply via apt:</p>\n<pre>apt-get install libnghttp2-14\n</pre>\n<p>The project was created in the context of a student work for an HTTP/2 protocol\ngateway in the <a href=\"https://upcn.eu/\" rel=\"nofollow\">\u00b5PCN</a> project - an implementation of Delay-tolerant Networking\n(DTN) protocols.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>pip install pynghttp2\n</pre>\n</div>\n<div id=\"examples\">\n<h2>Examples</h2>\n<div id=\"high-level-api\">\n<h3>High-Level API</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pynghttp2</span> <span class=\"kn\">import</span> <span class=\"n\">http2</span>\n\n<span class=\"c1\"># GET request</span>\n<span class=\"n\">resp</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">http2</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">'http://localhost:64602/ping'</span><span class=\"p\">)</span>\n\n<span class=\"n\">content</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">resp</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">()</span>\n<span class=\"k\">assert</span> <span class=\"n\">content</span> <span class=\"o\">==</span> <span class=\"s1\">'pong'</span>\n\n<span class=\"c1\"># POST request</span>\n<span class=\"n\">message</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s2\">\"Lorem ipsum dolorem\"</span>\n<span class=\"n\">resp</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">http2</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span><span class=\"s1\">'http://localhost:64602/echo'</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">message</span><span class=\"p\">)</span>\n<span class=\"n\">echo</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">resp</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n<span class=\"k\">assert</span> <span class=\"n\">echo</span> <span class=\"o\">==</span> <span class=\"n\">message</span>\n</pre>\n</div>\n<div id=\"client-session\">\n<h3>Client Session</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pynghttp2</span> <span class=\"kn\">import</span> <span class=\"n\">ClientSession</span>\n\n<span class=\"c1\"># Multiplex two requests</span>\n<span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">ClientSession</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'localhost'</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">64602</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">session</span><span class=\"p\">:</span>\n    <span class=\"n\">stream1</span> <span class=\"o\">=</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">'http://localhost:64602/stream'</span><span class=\"p\">)</span>\n    <span class=\"n\">stream2</span> <span class=\"o\">=</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">'http://localhost:64602/stream'</span><span class=\"p\">)</span>\n\n    <span class=\"k\">await</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">gather</span><span class=\"p\">(</span><span class=\"n\">stream1</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(),</span> <span class=\"n\">stream2</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">())</span>\n</pre>\n</div>\n<div id=\"server-session\">\n<h3>Server Session</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pynghttp2</span> <span class=\"kn\">import</span> <span class=\"n\">ServerSession</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">handle_request</span><span class=\"p\">(</span><span class=\"n\">req</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"Echo the request body\"\"\"</span>\n    <span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">req</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n    <span class=\"k\">await</span> <span class=\"n\">req</span><span class=\"o\">.</span><span class=\"n\">response</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">msg</span><span class=\"p\">)</span>\n\n<span class=\"k\">with</span> <span class=\"n\">ServerSession</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'localhost'</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">8080</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">session</span><span class=\"p\">:</span>\n    <span class=\"k\">while</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n        <span class=\"c1\"># Wait for next incoming request</span>\n        <span class=\"n\">req</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">session</span>\n\n        <span class=\"c1\"># Handle each request in its own task to be able to multiplex</span>\n        <span class=\"c1\"># multiple requests and responses</span>\n        <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">ensure_future</span><span class=\"p\">(</span><span class=\"n\">handle_request</span><span class=\"p\">(</span><span class=\"n\">req</span><span class=\"p\">))</span>\n</pre>\n</div>\n</div>\n\n          </div>"}, "last_serial": 3926312, "releases": {"0.1.5": [{"comment_text": "", "digests": {"md5": "be0ab5771cddc48027cc6feb478470bb", "sha256": "6677e68c759a1a2dcf8e311f27ed887096bd7fe709cc01c333eeacab65c63dbc"}, "downloads": -1, "filename": "pynghttp2-0.1.5.tar.gz", "has_sig": false, "md5_digest": "be0ab5771cddc48027cc6feb478470bb", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21647, "upload_time": "2018-05-21T11:52:32", "upload_time_iso_8601": "2018-05-21T11:52:32.383249Z", "url": "https://files.pythonhosted.org/packages/7c/63/8fd8179e3c6759856f93cf75a19f8687e7678d59fd2a3751ad93760b80f8/pynghttp2-0.1.5.tar.gz", "yanked": false}], "0.2.2": [{"comment_text": "", "digests": {"md5": "adec0e8959311ee67cadccb38ebd0e11", "sha256": "3b8ba914715c1b49a72bd39b0967cd127d765c5077a67b4237304b3d0436fde1"}, "downloads": -1, "filename": "pynghttp2-0.2.2.tar.gz", "has_sig": false, "md5_digest": "adec0e8959311ee67cadccb38ebd0e11", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 20804, "upload_time": "2018-05-25T16:12:42", "upload_time_iso_8601": "2018-05-25T16:12:42.104126Z", "url": "https://files.pythonhosted.org/packages/15/f5/2bb062e509a91775e70dc1188fe13a870b7deffc27b034e83fcc964f4170/pynghttp2-0.2.2.tar.gz", "yanked": false}], "0.3.1": [{"comment_text": "", "digests": {"md5": "60fd0344618d0ab9df33656fdb931bcd", "sha256": "6f8567cba77735981f0a56ba9315b59a743a8d892dcd1baac447b4093852c04b"}, "downloads": -1, "filename": "pynghttp2-0.3.1.tar.gz", "has_sig": false, "md5_digest": "60fd0344618d0ab9df33656fdb931bcd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21844, "upload_time": "2018-06-03T21:26:51", "upload_time_iso_8601": "2018-06-03T21:26:51.581689Z", "url": "https://files.pythonhosted.org/packages/00/f6/e9374dd5d7d207a78501ed6f4cbe9d8430486bdea2161a0a3a6792573922/pynghttp2-0.3.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "60fd0344618d0ab9df33656fdb931bcd", "sha256": "6f8567cba77735981f0a56ba9315b59a743a8d892dcd1baac447b4093852c04b"}, "downloads": -1, "filename": "pynghttp2-0.3.1.tar.gz", "has_sig": false, "md5_digest": "60fd0344618d0ab9df33656fdb931bcd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21844, "upload_time": "2018-06-03T21:26:51", "upload_time_iso_8601": "2018-06-03T21:26:51.581689Z", "url": "https://files.pythonhosted.org/packages/00/f6/e9374dd5d7d207a78501ed6f4cbe9d8430486bdea2161a0a3a6792573922/pynghttp2-0.3.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:01:12 2020"}
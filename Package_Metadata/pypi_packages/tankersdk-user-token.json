{"info": {"author": "Kontrol SAS", "author_email": "", "bugtrack_url": null, "classifiers": ["Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": "User Token\n==========\n\nUser token generation in Python for the `Tanker SDK <https://tanker.io/docs/latest>`_.\n\n.. image:: https://travis-ci.org/TankerHQ/user-token-python.svg?branch=master\n    :target: https://travis-ci.org/TankerHQ/user-token-python\n\n.. image:: https://img.shields.io/pypi/v/tankersdk-user-token.svg\n    :target: https://pypi.org/project/tankersdk-user-token\n\n\nInstallation\n------------\n\n\nWith `pip`:\n\n.. code-block:: console\n\n    $ pip install tankersdk-user-token\n\n\nUsage\n-----\n\n\n\n.. code-block:: python\n\n      import tankersdk.usertoken\n\n      def retrieve_user_token(user_id):\n          \"\"\" Fetch a previously stored token \"\"\"\n          ...\n\n\n       def store_user_token(user_id, token):\n          \"\"\" Store a previously generated token \"\"\"\n          ...\n\n\n       def check_auth(user_id):\n          \"\"\" Check the user is authenticated \"\"\"\n          ...\n\n\n      def serve_user_token(user_id):\n          \"\"\" Called during sign/up sign in of your users.\n\n          Send a user token, generated if necessary, but only to\n          authenticated users\n          \"\"\"\n          authorized = check_auth(user_id)\n          if not authorized:\n              raise UnAuthorizedError()\n\n          token = retrieve_user_token(user_id)\n\n          if not token:\n            token = tankersdk.usertoken.generate_user_token(trustchain_id, trustchain_private_key, user_id)\n            store_user_token(user_id, token)\n\n          return token\n\n\nGoing further\n-------------\n\n\nRead more about user tokens in the `Tanker guide <https://tanker.io/docs/latest/guide/server/>`_.\n\nCheck the `examples <https://github.com/TankerHQ/user-token-python/tree/master/examples>`_ folder for usage examples.\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/TankerHQ/user-token-python", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "tankersdk-user-token", "package_url": "https://pypi.org/project/tankersdk-user-token/", "platform": "", "project_url": "https://pypi.org/project/tankersdk-user-token/", "project_urls": {"Homepage": "https://github.com/TankerHQ/user-token-python"}, "release_url": "https://pypi.org/project/tankersdk-user-token/0.3/", "requires_dist": ["PyNaCl", "pytest ; extra == 'dev'"], "requires_python": "", "summary": "Tanker user token library", "version": "0.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>User token generation in Python for the <a href=\"https://tanker.io/docs/latest\" rel=\"nofollow\">Tanker SDK</a>.</p>\n<a href=\"https://travis-ci.org/TankerHQ/user-token-python\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/TankerHQ/user-token-python.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/84efb0472c9371579b9e90b71c8556d9b1efef03/68747470733a2f2f7472617669732d63692e6f72672f54616e6b657248512f757365722d746f6b656e2d707974686f6e2e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.org/project/tankersdk-user-token\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/v/tankersdk-user-token.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2012f74fcad0d953266edf0a1b2803c64457a99e/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f74616e6b657273646b2d757365722d746f6b656e2e737667\"></a>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>With <cite>pip</cite>:</p>\n<pre><span class=\"gp\">$</span> pip install tankersdk-user-token\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">tankersdk.usertoken</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">retrieve_user_token</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\" Fetch a previously stored token \"\"\"</span>\n    <span class=\"o\">...</span>\n\n\n <span class=\"k\">def</span> <span class=\"nf\">store_user_token</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\" Store a previously generated token \"\"\"</span>\n    <span class=\"o\">...</span>\n\n\n <span class=\"k\">def</span> <span class=\"nf\">check_auth</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\" Check the user is authenticated \"\"\"</span>\n    <span class=\"o\">...</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">serve_user_token</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\" Called during sign/up sign in of your users.\n\n    Send a user token, generated if necessary, but only to\n    authenticated users\n    \"\"\"</span>\n    <span class=\"n\">authorized</span> <span class=\"o\">=</span> <span class=\"n\">check_auth</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">authorized</span><span class=\"p\">:</span>\n        <span class=\"k\">raise</span> <span class=\"n\">UnAuthorizedError</span><span class=\"p\">()</span>\n\n    <span class=\"n\">token</span> <span class=\"o\">=</span> <span class=\"n\">retrieve_user_token</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">)</span>\n\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">token</span><span class=\"p\">:</span>\n      <span class=\"n\">token</span> <span class=\"o\">=</span> <span class=\"n\">tankersdk</span><span class=\"o\">.</span><span class=\"n\">usertoken</span><span class=\"o\">.</span><span class=\"n\">generate_user_token</span><span class=\"p\">(</span><span class=\"n\">trustchain_id</span><span class=\"p\">,</span> <span class=\"n\">trustchain_private_key</span><span class=\"p\">,</span> <span class=\"n\">user_id</span><span class=\"p\">)</span>\n      <span class=\"n\">store_user_token</span><span class=\"p\">(</span><span class=\"n\">user_id</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"p\">)</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">token</span>\n</pre>\n</div>\n<div id=\"going-further\">\n<h2>Going further</h2>\n<p>Read more about user tokens in the <a href=\"https://tanker.io/docs/latest/guide/server/\" rel=\"nofollow\">Tanker guide</a>.</p>\n<p>Check the <a href=\"https://github.com/TankerHQ/user-token-python/tree/master/examples\" rel=\"nofollow\">examples</a> folder for usage examples.</p>\n</div>\n\n          </div>"}, "last_serial": 4845537, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "f129e99856be88a1f9d7ffa2561e15e2", "sha256": "dca80656c2139e38a40c4679c154a9b1e3c2955c2362aea3d7ed6dbc3c488ed5"}, "downloads": -1, "filename": "tankersdk-user-token-0.1.tar.gz", "has_sig": false, "md5_digest": "f129e99856be88a1f9d7ffa2561e15e2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2011, "upload_time": "2018-03-26T14:50:51", "upload_time_iso_8601": "2018-03-26T14:50:51.962157Z", "url": "https://files.pythonhosted.org/packages/df/0b/71b3ea49f3d02b19431c64ab11a085e123737207a5c42fcbd1ede7fe95f0/tankersdk-user-token-0.1.tar.gz", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "f43a6c9de53ab12ac7c35ae7be8d0f4d", "sha256": "1c6ed9ef2c323b454212befb473ba56701aef1340080e0b2f8c4401b78eb85f1"}, "downloads": -1, "filename": "tankersdk-user-token-0.2.tar.gz", "has_sig": false, "md5_digest": "f43a6c9de53ab12ac7c35ae7be8d0f4d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2504, "upload_time": "2018-03-26T16:05:23", "upload_time_iso_8601": "2018-03-26T16:05:23.855128Z", "url": "https://files.pythonhosted.org/packages/79/44/9fd0b18827e95f019230387607839c150d3d5b1256ae866f2ea36ec05665/tankersdk-user-token-0.2.tar.gz", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "cc320f03d568c0cf4bd1407d545dc493", "sha256": "7f23c01324c71f1a7f1a095c946de2f58763e1cd915b7bb44d08330cbd9841c0"}, "downloads": -1, "filename": "tankersdk_user_token-0.3-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "cc320f03d568c0cf4bd1407d545dc493", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 5731, "upload_time": "2018-12-11T14:34:10", "upload_time_iso_8601": "2018-12-11T14:34:10.785157Z", "url": "https://files.pythonhosted.org/packages/97/d0/979a975ddb1ca9685258c96880a3c7c6537c98de145444edbedf12121c99/tankersdk_user_token-0.3-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a65bc1964580b2a20619f90659010ab7", "sha256": "dc98a7f3d2f47329eba196e55ce4e69e17d5953690e42fe8aaa4a191455bb36d"}, "downloads": -1, "filename": "tankersdk-user-token-0.3.tar.gz", "has_sig": false, "md5_digest": "a65bc1964580b2a20619f90659010ab7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3939, "upload_time": "2018-12-11T14:34:12", "upload_time_iso_8601": "2018-12-11T14:34:12.429766Z", "url": "https://files.pythonhosted.org/packages/7d/70/6ac511044537e35e3a85ac8bbfac6edf2a9b4112bc770ac4c119484adba7/tankersdk-user-token-0.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "cc320f03d568c0cf4bd1407d545dc493", "sha256": "7f23c01324c71f1a7f1a095c946de2f58763e1cd915b7bb44d08330cbd9841c0"}, "downloads": -1, "filename": "tankersdk_user_token-0.3-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "cc320f03d568c0cf4bd1407d545dc493", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 5731, "upload_time": "2018-12-11T14:34:10", "upload_time_iso_8601": "2018-12-11T14:34:10.785157Z", "url": "https://files.pythonhosted.org/packages/97/d0/979a975ddb1ca9685258c96880a3c7c6537c98de145444edbedf12121c99/tankersdk_user_token-0.3-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a65bc1964580b2a20619f90659010ab7", "sha256": "dc98a7f3d2f47329eba196e55ce4e69e17d5953690e42fe8aaa4a191455bb36d"}, "downloads": -1, "filename": "tankersdk-user-token-0.3.tar.gz", "has_sig": false, "md5_digest": "a65bc1964580b2a20619f90659010ab7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3939, "upload_time": "2018-12-11T14:34:12", "upload_time_iso_8601": "2018-12-11T14:34:12.429766Z", "url": "https://files.pythonhosted.org/packages/7d/70/6ac511044537e35e3a85ac8bbfac6edf2a9b4112bc770ac4c119484adba7/tankersdk-user-token-0.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:58:10 2020"}
{"info": {"author": "rain0day", "author_email": "251280920@qq.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "itchat\n======\n\n|Python2| |Python3|\n\nitchat is an open source api for WeChat, a commonly-used Chinese social networking app.\n\nAccessing your personal wechat account through itchat in python has never been easier.\n\nA wechat robot can handle all the basic messages with only less than 30 lines of codes.\n\nAnd it's similiar to itchatmp (api for wechat massive platform), learn once and get two tools.\n\nNow Wechat is an important part of personal life, hopefully this repo can help you extend your personal wechat account's functionality and enbetter user's experience with wechat.\n\n**Installation**\n\n.. code:: bash\n\n    pip install itchat\n\n**Simple uses**\n\nWith itchat, if you want to send a message to filehelper, this is how:\n\n.. code:: python\n\n    import itchat\n\n    itchat.auto_login()\n\n    itchat.send('Hello, filehelper', toUserName='filehelper')\n\nAnd you only need to write this to reply personal text messages.\n\n.. code:: python\n    \n    import itchat\n\n    @itchat.msg_register(itchat.content.TEXT)\n    def text_reply(msg):\n        return msg.text\n\n    itchat.auto_login()\n    itchat.run()\n\nFor more advanced uses you may continue on reading or browse the `document <https://itchat.readthedocs.org/zh/latest/>`__.\n\n**Try**\n\nYou may have a try of the robot based on this project first:\n\n|QRCodeOfRobot|\n\nHere is the `code <https://gist.github.com/littlecodersh/ec8ddab12364323c97d4e36459174f0d>`__.\n\n**Advanced uses**\n\n*Special usage of message dictionary*\n\nYou may find out that all the users and messages of itchat are dictionaries by printing them out onto the screen.\n\nBut actually they are useful classes itchat created.\n\nThey have useful keys and useful interfaces, like:\n\n.. code:: python\n    \n    @itchat.msg_register(TEXT)\n    def _(msg):\n        # equals to print(msg['FromUserName'])\n        print(msg.fromUserName)\n\nAnd like:\n\n.. code:: python\n\n    author = itchat.search_friends(nickName='LittleCoder')[0]\n    author.send('greeting, littlecoder!')\n\n*Message register of various types*\n\nThe following is a demo of how itchat is configured to fetch and reply daily information.\n\n.. code:: python\n\n    import itchat, time\n    from itchat.content import *\n\n    @itchat.msg_register([TEXT, MAP, CARD, NOTE, SHARING])\n    def text_reply(msg):\n        msg.user.send('%s: %s' % (msg.type, msg.text))\n\n    @itchat.msg_register([PICTURE, RECORDING, ATTACHMENT, VIDEO])\n    def download_files(msg):\n        msg.download(msg.fileName)\n        typeSymbol = {\n            PICTURE: 'img',\n            VIDEO: 'vid', }.get(msg.type, 'fil')\n        return '@%s@%s' % (typeSymbol, msg.fileName)\n\n    @itchat.msg_register(FRIENDS)\n    def add_friend(msg):\n        msg.user.verify()\n        msg.user.send('Nice to meet you!')\n\n    @itchat.msg_register(TEXT, isGroupChat=True)\n    def text_reply(msg):\n        if msg.isAt:\n            msg.user.send(u'@%s\\u2005I received: %s' % (\n                msg.actualNickName, msg.text))\n\n    itchat.auto_login(True)\n    itchat.run(True)\n\n*Command line QR Code*\n\nYou can access the QR Code in command line through using this command:\n\n.. code:: python\n\n    itchat.auto_login(enableCmdQR=True)\n\nBecause of width of some character differs from systems, you may adjust the enableCmdQR to fix the problem.\n\n.. code:: python\n\n    # for some linux system, width of block character is one instead of two, so enableCmdQR should be 2\n    itchat.auto_login(enableCmdQR=2)\n\nDefault background color of command line is dark (black), if it's not, you may set enableCmdQR to be negative:\n\n.. code:: python\n\n    itchat.auto_login(enableCmdQR=-1)\n\n*Hot reload*\n\nBy using the following command, you may reload the program without re-scan QRCode in some time.\n\n.. code:: python\n\n    itchat.auto_login(hotReload=True)\n\n*User search*\n\nBy using `search_friends`, you have four ways to search a user:\n\n1. Get your own user information\n2. Get user information through `UserName`\n3. Get user information whose remark name or wechat account or nickname matches name key of the function\n4. Get user information whose remark name, wechat account and nickname match what are given to the function\n\nWay 3, 4 can be used together, the following is the demo program:\n\n.. code:: python\n\n    # get your own user information\n    itchat.search_friends()\n    # get user information of specific username\n    itchat.search_friends(userName='@abcdefg1234567')\n    # get user information of function 3\n    itchat.search_friends(name='littlecodersh')\n    # get user information of function 4\n    itchat.search_friends(wechatAccount='littlecodersh')\n    # combination of way 3, 4\n    itchat.search_friends(name='LittleCoder\u673a\u5668\u4eba', wechatAccount='littlecodersh')\n\nThere are detailed information about searching and getting of massive platforms and chatrooms in document.\n\n*Download and send attachments*\n\nThe attachment download function of itchat is in Text key of msg\n\nName of the file (default name of picture) is in FileName key of msg\n\nDownload function accept one location value (include the file name) and store attachment accordingly.\n\n.. code:: python\n\n    @itchat.msg_register([PICTURE, RECORDING, ATTACHMENT, VIDEO])\n    def download_files(msg):\n        msg.download(msg.fileName)\n        itchat.send('@%s@%s' % (\n            'img' if msg['Type'] == 'Picture' else 'fil', msg['FileName']),\n            msg['FromUserName'])\n        return '%s received' % msg['Type']\n\nIf you don't want a local copy of the picture, you may pass nothing to the function to get a binary string.\n\n.. code:: python\n\n    @itchat.msg_register([PICTURE, RECORDING, ATTACHMENT, VIDEO])\n    def download_files(msg):\n        with open(msg.fileName, 'wb') as f:\n            f.write(msg.download())\n\n*Multi instance*\n\nYou may use the following commands to open multi instance.\n\n.. code:: python\n\n    import itchat\n\n    newInstance = itchat.new_instance()\n    newInstance.auto_login(hotReload=True, statusStorageDir='newInstance.pkl')\n\n    @newInstance.msg_register(itchat.content.TEXT)\n    def reply(msg):\n        return msg['Text']\n\n    newInstance.run()\n\n*Set callback after login and logout*\n\nCallback of login and logout are set through `loginCallback` and `exitCallback`.\n\n.. code:: python\n\n    import time\n\n    import itchat\n\n    def lc():\n        print('finish login')\n    def ec():\n        print('exit')\n\n    itchat.auto_login(loginCallback=lc, exitCallback=ec)\n    time.sleep(3)\n    itchat.logout()\n\nIf loginCallback is not set, qr picture will be deleted and cmd will be cleared.\n\nIf you exit through phone, exitCallback will also be called.\n\n**FAQ**\n\nQ: Why I can't send files whose name is encoded in utf8?\n\nA: That's because of the upload setting of requests, you can put `this file <https://gist.github.com/littlecodersh/9a0c5466f442d67d910f877744011705>`__ (for py3 you need `this <https://gist.github.com/littlecodersh/e93532d5e7ddf0ec56c336499165c4dc>`__) into packages/urllib3 of requests package.\n\nQ: How to use this package to use my wechat as an monitor?\n\nA: There are two ways: communicate with your own account or with filehelper.\n\nQ: Why sometimes I can't send messages?\n\nA: Some account simply can't send messages to yourself, so use `filehelper` instead.\n\n**Comments**\n\nIf you have any problems or suggestions, you can talk to me in this `issue <https://github.com/littlecodersh/ItChat/issues/1>`__\n\nOr on `gitter <https://badges.gitter.im/littlecodersh/ItChat.svg>`__.\n\n.. |QRCodeOfRobot| image:: http://7xrip4.com1.z0.glb.clouddn.com/ItChat%2FQRCode2.jpg?imageView/2/w/200/\n.. |Python2| image:: https://img.shields.io/badge/python-2.7-ff69b4.svg\n.. |Python3| image:: https://img.shields.io/badge/python-3.5-red.svg", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/littlecodersh/ItChat", "keywords": "wechat itchat api robot weixin personal extend", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "hitchat", "package_url": "https://pypi.org/project/hitchat/", "platform": "", "project_url": "https://pypi.org/project/hitchat/", "project_urls": {"Homepage": "https://github.com/littlecodersh/ItChat"}, "release_url": "https://pypi.org/project/hitchat/1.1.1/", "requires_dist": null, "requires_python": "", "summary": "base on itchat ,modify some features", "version": "1.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><img alt=\"Python2\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dbad2a2c174a1b8933a98fe2fad155e21581052a/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d322e372d6666363962342e737667\"> <img alt=\"Python3\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/83322815ecd5e32f1d811a2b525ca4eca1e42dd9/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d332e352d7265642e737667\"></p>\n<p>itchat is an open source api for WeChat, a commonly-used Chinese social networking app.</p>\n<p>Accessing your personal wechat account through itchat in python has never been easier.</p>\n<p>A wechat robot can handle all the basic messages with only less than 30 lines of codes.</p>\n<p>And it\u2019s similiar to itchatmp (api for wechat massive platform), learn once and get two tools.</p>\n<p>Now Wechat is an important part of personal life, hopefully this repo can help you extend your personal wechat account\u2019s functionality and enbetter user\u2019s experience with wechat.</p>\n<p><strong>Installation</strong></p>\n<pre>pip install itchat\n</pre>\n<p><strong>Simple uses</strong></p>\n<p>With itchat, if you want to send a message to filehelper, this is how:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">itchat</span>\n\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">auto_login</span><span class=\"p\">()</span>\n\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">(</span><span class=\"s1\">'Hello, filehelper'</span><span class=\"p\">,</span> <span class=\"n\">toUserName</span><span class=\"o\">=</span><span class=\"s1\">'filehelper'</span><span class=\"p\">)</span>\n</pre>\n<p>And you only need to write this to reply personal text messages.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">itchat</span>\n\n<span class=\"nd\">@itchat</span><span class=\"o\">.</span><span class=\"n\">msg_register</span><span class=\"p\">(</span><span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">content</span><span class=\"o\">.</span><span class=\"n\">TEXT</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">text_reply</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">text</span>\n\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">auto_login</span><span class=\"p\">()</span>\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n</pre>\n<p>For more advanced uses you may continue on reading or browse the <a href=\"https://itchat.readthedocs.org/zh/latest/\" rel=\"nofollow\">document</a>.</p>\n<p><strong>Try</strong></p>\n<p>You may have a try of the robot based on this project first:</p>\n<p><img alt=\"QRCodeOfRobot\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fadbb3fe2117b574c5c4e0b106d746deb761be2e/687474703a2f2f3778726970342e636f6d312e7a302e676c622e636c6f7564646e2e636f6d2f4974436861742532465152436f6465322e6a70673f696d616765566965772f322f772f3230302f\"></p>\n<p>Here is the <a href=\"https://gist.github.com/littlecodersh/ec8ddab12364323c97d4e36459174f0d\" rel=\"nofollow\">code</a>.</p>\n<p><strong>Advanced uses</strong></p>\n<p><em>Special usage of message dictionary</em></p>\n<p>You may find out that all the users and messages of itchat are dictionaries by printing them out onto the screen.</p>\n<p>But actually they are useful classes itchat created.</p>\n<p>They have useful keys and useful interfaces, like:</p>\n<pre><span class=\"nd\">@itchat</span><span class=\"o\">.</span><span class=\"n\">msg_register</span><span class=\"p\">(</span><span class=\"n\">TEXT</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">_</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"c1\"># equals to print(msg['FromUserName'])</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">fromUserName</span><span class=\"p\">)</span>\n</pre>\n<p>And like:</p>\n<pre><span class=\"n\">author</span> <span class=\"o\">=</span> <span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">search_friends</span><span class=\"p\">(</span><span class=\"n\">nickName</span><span class=\"o\">=</span><span class=\"s1\">'LittleCoder'</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"n\">author</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">(</span><span class=\"s1\">'greeting, littlecoder!'</span><span class=\"p\">)</span>\n</pre>\n<p><em>Message register of various types</em></p>\n<p>The following is a demo of how itchat is configured to fetch and reply daily information.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">itchat</span><span class=\"o\">,</span> <span class=\"nn\">time</span>\n<span class=\"kn\">from</span> <span class=\"nn\">itchat.content</span> <span class=\"kn\">import</span> <span class=\"o\">*</span>\n\n<span class=\"nd\">@itchat</span><span class=\"o\">.</span><span class=\"n\">msg_register</span><span class=\"p\">([</span><span class=\"n\">TEXT</span><span class=\"p\">,</span> <span class=\"n\">MAP</span><span class=\"p\">,</span> <span class=\"n\">CARD</span><span class=\"p\">,</span> <span class=\"n\">NOTE</span><span class=\"p\">,</span> <span class=\"n\">SHARING</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">text_reply</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">(</span><span class=\"s1\">'</span><span class=\"si\">%s</span><span class=\"s1\">: </span><span class=\"si\">%s</span><span class=\"s1\">'</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">type</span><span class=\"p\">,</span> <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">))</span>\n\n<span class=\"nd\">@itchat</span><span class=\"o\">.</span><span class=\"n\">msg_register</span><span class=\"p\">([</span><span class=\"n\">PICTURE</span><span class=\"p\">,</span> <span class=\"n\">RECORDING</span><span class=\"p\">,</span> <span class=\"n\">ATTACHMENT</span><span class=\"p\">,</span> <span class=\"n\">VIDEO</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">download_files</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">download</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">fileName</span><span class=\"p\">)</span>\n    <span class=\"n\">typeSymbol</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"n\">PICTURE</span><span class=\"p\">:</span> <span class=\"s1\">'img'</span><span class=\"p\">,</span>\n        <span class=\"n\">VIDEO</span><span class=\"p\">:</span> <span class=\"s1\">'vid'</span><span class=\"p\">,</span> <span class=\"p\">}</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">type</span><span class=\"p\">,</span> <span class=\"s1\">'fil'</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'@</span><span class=\"si\">%s</span><span class=\"s1\">@</span><span class=\"si\">%s</span><span class=\"s1\">'</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">typeSymbol</span><span class=\"p\">,</span> <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">fileName</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@itchat</span><span class=\"o\">.</span><span class=\"n\">msg_register</span><span class=\"p\">(</span><span class=\"n\">FRIENDS</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">add_friend</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">verify</span><span class=\"p\">()</span>\n    <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">(</span><span class=\"s1\">'Nice to meet you!'</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@itchat</span><span class=\"o\">.</span><span class=\"n\">msg_register</span><span class=\"p\">(</span><span class=\"n\">TEXT</span><span class=\"p\">,</span> <span class=\"n\">isGroupChat</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">text_reply</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"k\">if</span> <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">isAt</span><span class=\"p\">:</span>\n        <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">(</span><span class=\"sa\">u</span><span class=\"s1\">'@</span><span class=\"si\">%s</span><span class=\"se\">\\u2005</span><span class=\"s1\">I received: </span><span class=\"si\">%s</span><span class=\"s1\">'</span> <span class=\"o\">%</span> <span class=\"p\">(</span>\n            <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">actualNickName</span><span class=\"p\">,</span> <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">))</span>\n\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">auto_login</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n<p><em>Command line QR Code</em></p>\n<p>You can access the QR Code in command line through using this command:</p>\n<pre><span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">auto_login</span><span class=\"p\">(</span><span class=\"n\">enableCmdQR</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n<p>Because of width of some character differs from systems, you may adjust the enableCmdQR to fix the problem.</p>\n<pre><span class=\"c1\"># for some linux system, width of block character is one instead of two, so enableCmdQR should be 2</span>\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">auto_login</span><span class=\"p\">(</span><span class=\"n\">enableCmdQR</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n</pre>\n<p>Default background color of command line is dark (black), if it\u2019s not, you may set enableCmdQR to be negative:</p>\n<pre><span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">auto_login</span><span class=\"p\">(</span><span class=\"n\">enableCmdQR</span><span class=\"o\">=-</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre>\n<p><em>Hot reload</em></p>\n<p>By using the following command, you may reload the program without re-scan QRCode in some time.</p>\n<pre><span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">auto_login</span><span class=\"p\">(</span><span class=\"n\">hotReload</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n<p><em>User search</em></p>\n<p>By using <cite>search_friends</cite>, you have four ways to search a user:</p>\n<ol>\n<li>Get your own user information</li>\n<li>Get user information through <cite>UserName</cite></li>\n<li>Get user information whose remark name or wechat account or nickname matches name key of the function</li>\n<li>Get user information whose remark name, wechat account and nickname match what are given to the function</li>\n</ol>\n<p>Way 3, 4 can be used together, the following is the demo program:</p>\n<pre><span class=\"c1\"># get your own user information</span>\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">search_friends</span><span class=\"p\">()</span>\n<span class=\"c1\"># get user information of specific username</span>\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">search_friends</span><span class=\"p\">(</span><span class=\"n\">userName</span><span class=\"o\">=</span><span class=\"s1\">'@abcdefg1234567'</span><span class=\"p\">)</span>\n<span class=\"c1\"># get user information of function 3</span>\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">search_friends</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'littlecodersh'</span><span class=\"p\">)</span>\n<span class=\"c1\"># get user information of function 4</span>\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">search_friends</span><span class=\"p\">(</span><span class=\"n\">wechatAccount</span><span class=\"o\">=</span><span class=\"s1\">'littlecodersh'</span><span class=\"p\">)</span>\n<span class=\"c1\"># combination of way 3, 4</span>\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">search_friends</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'LittleCoder\u673a\u5668\u4eba'</span><span class=\"p\">,</span> <span class=\"n\">wechatAccount</span><span class=\"o\">=</span><span class=\"s1\">'littlecodersh'</span><span class=\"p\">)</span>\n</pre>\n<p>There are detailed information about searching and getting of massive platforms and chatrooms in document.</p>\n<p><em>Download and send attachments</em></p>\n<p>The attachment download function of itchat is in Text key of msg</p>\n<p>Name of the file (default name of picture) is in FileName key of msg</p>\n<p>Download function accept one location value (include the file name) and store attachment accordingly.</p>\n<pre><span class=\"nd\">@itchat</span><span class=\"o\">.</span><span class=\"n\">msg_register</span><span class=\"p\">([</span><span class=\"n\">PICTURE</span><span class=\"p\">,</span> <span class=\"n\">RECORDING</span><span class=\"p\">,</span> <span class=\"n\">ATTACHMENT</span><span class=\"p\">,</span> <span class=\"n\">VIDEO</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">download_files</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">download</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">fileName</span><span class=\"p\">)</span>\n    <span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">(</span><span class=\"s1\">'@</span><span class=\"si\">%s</span><span class=\"s1\">@</span><span class=\"si\">%s</span><span class=\"s1\">'</span> <span class=\"o\">%</span> <span class=\"p\">(</span>\n        <span class=\"s1\">'img'</span> <span class=\"k\">if</span> <span class=\"n\">msg</span><span class=\"p\">[</span><span class=\"s1\">'Type'</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"s1\">'Picture'</span> <span class=\"k\">else</span> <span class=\"s1\">'fil'</span><span class=\"p\">,</span> <span class=\"n\">msg</span><span class=\"p\">[</span><span class=\"s1\">'FileName'</span><span class=\"p\">]),</span>\n        <span class=\"n\">msg</span><span class=\"p\">[</span><span class=\"s1\">'FromUserName'</span><span class=\"p\">])</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'</span><span class=\"si\">%s</span><span class=\"s1\"> received'</span> <span class=\"o\">%</span> <span class=\"n\">msg</span><span class=\"p\">[</span><span class=\"s1\">'Type'</span><span class=\"p\">]</span>\n</pre>\n<p>If you don\u2019t want a local copy of the picture, you may pass nothing to the function to get a binary string.</p>\n<pre><span class=\"nd\">@itchat</span><span class=\"o\">.</span><span class=\"n\">msg_register</span><span class=\"p\">([</span><span class=\"n\">PICTURE</span><span class=\"p\">,</span> <span class=\"n\">RECORDING</span><span class=\"p\">,</span> <span class=\"n\">ATTACHMENT</span><span class=\"p\">,</span> <span class=\"n\">VIDEO</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">download_files</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">fileName</span><span class=\"p\">,</span> <span class=\"s1\">'wb'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n        <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">download</span><span class=\"p\">())</span>\n</pre>\n<p><em>Multi instance</em></p>\n<p>You may use the following commands to open multi instance.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">itchat</span>\n\n<span class=\"n\">newInstance</span> <span class=\"o\">=</span> <span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">new_instance</span><span class=\"p\">()</span>\n<span class=\"n\">newInstance</span><span class=\"o\">.</span><span class=\"n\">auto_login</span><span class=\"p\">(</span><span class=\"n\">hotReload</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">statusStorageDir</span><span class=\"o\">=</span><span class=\"s1\">'newInstance.pkl'</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@newInstance</span><span class=\"o\">.</span><span class=\"n\">msg_register</span><span class=\"p\">(</span><span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">content</span><span class=\"o\">.</span><span class=\"n\">TEXT</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">reply</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">msg</span><span class=\"p\">[</span><span class=\"s1\">'Text'</span><span class=\"p\">]</span>\n\n<span class=\"n\">newInstance</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n</pre>\n<p><em>Set callback after login and logout</em></p>\n<p>Callback of login and logout are set through <cite>loginCallback</cite> and <cite>exitCallback</cite>.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">time</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">itchat</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">lc</span><span class=\"p\">():</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'finish login'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">ec</span><span class=\"p\">():</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'exit'</span><span class=\"p\">)</span>\n\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">auto_login</span><span class=\"p\">(</span><span class=\"n\">loginCallback</span><span class=\"o\">=</span><span class=\"n\">lc</span><span class=\"p\">,</span> <span class=\"n\">exitCallback</span><span class=\"o\">=</span><span class=\"n\">ec</span><span class=\"p\">)</span>\n<span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"n\">itchat</span><span class=\"o\">.</span><span class=\"n\">logout</span><span class=\"p\">()</span>\n</pre>\n<p>If loginCallback is not set, qr picture will be deleted and cmd will be cleared.</p>\n<p>If you exit through phone, exitCallback will also be called.</p>\n<p><strong>FAQ</strong></p>\n<p>Q: Why I can\u2019t send files whose name is encoded in utf8?</p>\n<p>A: That\u2019s because of the upload setting of requests, you can put <a href=\"https://gist.github.com/littlecodersh/9a0c5466f442d67d910f877744011705\" rel=\"nofollow\">this file</a> (for py3 you need <a href=\"https://gist.github.com/littlecodersh/e93532d5e7ddf0ec56c336499165c4dc\" rel=\"nofollow\">this</a>) into packages/urllib3 of requests package.</p>\n<p>Q: How to use this package to use my wechat as an monitor?</p>\n<p>A: There are two ways: communicate with your own account or with filehelper.</p>\n<p>Q: Why sometimes I can\u2019t send messages?</p>\n<p>A: Some account simply can\u2019t send messages to yourself, so use <cite>filehelper</cite> instead.</p>\n<p><strong>Comments</strong></p>\n<p>If you have any problems or suggestions, you can talk to me in this <a href=\"https://github.com/littlecodersh/ItChat/issues/1\" rel=\"nofollow\">issue</a></p>\n<p>Or on <a href=\"https://badges.gitter.im/littlecodersh/ItChat.svg\" rel=\"nofollow\">gitter</a>.</p>\n\n          </div>"}, "last_serial": 4420175, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "ccfe48993a2f582a775fd41ac07786d2", "sha256": "c44a1945f0f736441735fbff1d48d7de3470fcaeed37b3ea7f6d448da788aeb8"}, "downloads": -1, "filename": "hitchat-1.0.tar.gz", "has_sig": false, "md5_digest": "ccfe48993a2f582a775fd41ac07786d2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 32532, "upload_time": "2018-10-26T17:32:02", "upload_time_iso_8601": "2018-10-26T17:32:02.382294Z", "url": "https://files.pythonhosted.org/packages/60/d5/83d61686c8f43140e50ff184db26f145c59bb250c72e677713fa27ba6d6d/hitchat-1.0.tar.gz", "yanked": false}], "1.1": [{"comment_text": "", "digests": {"md5": "7bdac731cc0aa3d00153ad749d2ed3f5", "sha256": "3f6bbcf50ba0776f8904ad8b8da327d427e7e0fd5537bbc395eede974fbc6cb3"}, "downloads": -1, "filename": "hitchat-1.1.tar.gz", "has_sig": false, "md5_digest": "7bdac731cc0aa3d00153ad749d2ed3f5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 32530, "upload_time": "2018-10-26T17:51:45", "upload_time_iso_8601": "2018-10-26T17:51:45.531054Z", "url": "https://files.pythonhosted.org/packages/5d/70/4d189e266fbc68d02499ed6a8c1bc780bc0173dd45161789298bb195d36b/hitchat-1.1.tar.gz", "yanked": false}], "1.1.1": [{"comment_text": "", "digests": {"md5": "07e53c6d5d0f97f5829a822944f8afca", "sha256": "c9b7dc8d048ecfa2a9901b5b2656365639ebb649454049542dbb7c8819b66280"}, "downloads": -1, "filename": "hitchat-1.1.1.tar.gz", "has_sig": false, "md5_digest": "07e53c6d5d0f97f5829a822944f8afca", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 32541, "upload_time": "2018-10-26T17:59:14", "upload_time_iso_8601": "2018-10-26T17:59:14.483830Z", "url": "https://files.pythonhosted.org/packages/0c/bb/e7917f0cd35271de0dce0e015615e6b20d75d35b168be965f472dd02dae5/hitchat-1.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "07e53c6d5d0f97f5829a822944f8afca", "sha256": "c9b7dc8d048ecfa2a9901b5b2656365639ebb649454049542dbb7c8819b66280"}, "downloads": -1, "filename": "hitchat-1.1.1.tar.gz", "has_sig": false, "md5_digest": "07e53c6d5d0f97f5829a822944f8afca", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 32541, "upload_time": "2018-10-26T17:59:14", "upload_time_iso_8601": "2018-10-26T17:59:14.483830Z", "url": "https://files.pythonhosted.org/packages/0c/bb/e7917f0cd35271de0dce0e015615e6b20d75d35b168be965f472dd02dae5/hitchat-1.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:51:03 2020"}
{"info": {"author": "CERN", "author_email": "cds.support@cern.ch", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: GNU General Public License v2 (GPLv2)", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Topic :: Internet :: WWW/HTTP :: Dynamic Content", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "Record Recommender\n==================\n\n.. image:: https://travis-ci.org/CERNDocumentServer/record-recommender.svg?branch=master\n    :target: https://travis-ci.org/CERNDocumentServer/record-recommender\n\n\nThe Record Recommender creates recommendations for Invenio.\nBy reading page views and downloads from Elasticsearch calculating the\nrecommendations and storing them in Redis to be retrieve and displayed\nby Invenio.\n\n\nUsage\n-----\n\nThe workflow to generate the recommendations is:\n\n1. ``recommender fetch 24`` to cache the last 24 weeks of page views and downloads\n   from Elasticsearch.\n2. ``recommender profiles 24`` generate the user profiles from the page views\n   and downloads. For the not logged in users profiles based on the\n   ip-address and user agent are created.\n3. ``recommender build 50`` calculates the recommendations using 50 processes\n   and stores them in the specified Redis server.\n\nAlternative the recommendations can be automatically be fetched, the profiles\ngenerated and the recommendations calculated all this with one command:\n\n`recommender update_recommender 24 50` for the last 24 weeks and using\n50 processes.\n\n\n\nConfiguration\n-------------\nThe configuration file is expected to be in ``/etc/record_recommender.yml``\notherwise the path to the config file can be defined by using the\ncommand line option ``--config_path``.\n\n.. code-block:: yaml\n\n    # Record-Recommender configuration.\n\n    elasticsearch:\n    es_index: ['index-2014', 'index-2015', 'index-2016']\n    es_user: user\n    es_password:\n    es_host: localhost\n    es_port: 443\n\n    recommendation_version: 1\n\n    # Sentry connection string\n    sentry:\n\n    redis:\n    host: localhost\n    port: 6379\n    db: 0\n    prefix: 'Reco_1::'\n\n    cache:\n    base_path: cache/\n    cache_file_prefix: ''\n\n    logging:\n    version: 1\n    disable_existing_loggers: False\n    formatters:\n        simple:\n        format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n    handlers:\n        console:\n        class: logging.StreamHandler\n        level: INFO\n        formatter: simple\n        stream: ext://sys.stdout\n        sentry:\n        class: raven.handlers.logging.SentryHandler\n        level: WARN\n        dsn:\n        file:\n        class : logging.FileHandler\n        formatter: simple\n        level: DEBUG\n        filename: log_recommender.log\n    loggers:\n        record_recommender:\n        level: DEBUG\n        handlers: [console, file, sentry]\n        propagate: no\n        # elasticsearch:\n        #   level: WARN\n        #   handlers: [console]\n        #   propagate: no\n    root:\n        level: ERROR\n        handlers: [console, file, sentry]\n\nAdditional to the configuration options found in the config file\nenvironment variables, which overwrite the ones from the config file can be set.\n\n- ``RECOMMENDER_ES_PASSWORD`` to set the Elasticsearch password.\n- ``RECOMMENDER_SENTRY`` to set the Sentry connection string.\n\n\n\n\nCommand line\n------------\n\n.. code-block:: console\n\n    Usage: recommender [OPTIONS] COMMAND [ARGS]...\n\n    Record-Recommender command line version.\n\n    Options:\n    -v, --verbose           Enables verbose mode.\n    -c, --config_path TEXT  Path to the configuration file.\n    --help                  Show this message and exit.\n\n    Commands:\n    debug               Debug the application and recommender.\n    fetch               Fetch newest PageViews and Downloads.\n    build               Calculate all recommendations.\n    profiles            Number of weeks to build.\n    update_recommender  Download and build the recommendations.\n\n\nDebugging the Recommendations\n-----------------------------\nAs first step look into the created user profiles in the defined ``cache``\nfolder.\n\nTo explore the graph with all loaded data use the\n``recommender debug`` command to get a interactive python shell.", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/CERNDocumentServer/record-recommender", "keywords": "invenio recommendation", "license": "GPLv2", "maintainer": "", "maintainer_email": "", "name": "record-recommender", "package_url": "https://pypi.org/project/record-recommender/", "platform": "any", "project_url": "https://pypi.org/project/record-recommender/", "project_urls": {"Homepage": "https://github.com/CERNDocumentServer/record-recommender"}, "release_url": "https://pypi.org/project/record-recommender/0.0.2/", "requires_dist": null, "requires_python": "", "summary": "Record to Record Recommendations for Invenio.", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://travis-ci.org/CERNDocumentServer/record-recommender\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/CERNDocumentServer/record-recommender.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a7beb9c44281cd636c2b6292f73bfb892161fd7b/68747470733a2f2f7472617669732d63692e6f72672f4345524e446f63756d656e745365727665722f7265636f72642d7265636f6d6d656e6465722e7376673f6272616e63683d6d6173746572\"></a>\n<p>The Record Recommender creates recommendations for Invenio.\nBy reading page views and downloads from Elasticsearch calculating the\nrecommendations and storing them in Redis to be retrieve and displayed\nby Invenio.</p>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>The workflow to generate the recommendations is:</p>\n<ol>\n<li><tt>recommender fetch 24</tt> to cache the last 24 weeks of page views and downloads\nfrom Elasticsearch.</li>\n<li><tt>recommender profiles 24</tt> generate the user profiles from the page views\nand downloads. For the not logged in users profiles based on the\nip-address and user agent are created.</li>\n<li><tt>recommender build 50</tt> calculates the recommendations using 50 processes\nand stores them in the specified Redis server.</li>\n</ol>\n<p>Alternative the recommendations can be automatically be fetched, the profiles\ngenerated and the recommendations calculated all this with one command:</p>\n<p><cite>recommender update_recommender 24 50</cite> for the last 24 weeks and using\n50 processes.</p>\n</div>\n<div id=\"configuration\">\n<h2>Configuration</h2>\n<p>The configuration file is expected to be in <tt>/etc/record_recommender.yml</tt>\notherwise the path to the config file can be defined by using the\ncommand line option <tt><span class=\"pre\">--config_path</span></tt>.</p>\n<pre><span class=\"c1\"># Record-Recommender configuration.</span>\n\n<span class=\"nt\">elasticsearch</span><span class=\"p\">:</span>\n<span class=\"nt\">es_index</span><span class=\"p\">:</span> <span class=\"p-Indicator\">[</span><span class=\"s\">'index-2014'</span><span class=\"p-Indicator\">,</span> <span class=\"s\">'index-2015'</span><span class=\"p-Indicator\">,</span> <span class=\"s\">'index-2016'</span><span class=\"p-Indicator\">]</span>\n<span class=\"nt\">es_user</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">user</span>\n<span class=\"nt\">es_password</span><span class=\"p\">:</span>\n<span class=\"nt\">es_host</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">localhost</span>\n<span class=\"nt\">es_port</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">443</span>\n\n<span class=\"nt\">recommendation_version</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">1</span>\n\n<span class=\"c1\"># Sentry connection string</span>\n<span class=\"nt\">sentry</span><span class=\"p\">:</span>\n\n<span class=\"nt\">redis</span><span class=\"p\">:</span>\n<span class=\"nt\">host</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">localhost</span>\n<span class=\"nt\">port</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">6379</span>\n<span class=\"nt\">db</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">0</span>\n<span class=\"nt\">prefix</span><span class=\"p\">:</span> <span class=\"s\">'Reco_1::'</span>\n\n<span class=\"nt\">cache</span><span class=\"p\">:</span>\n<span class=\"nt\">base_path</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">cache/</span>\n<span class=\"nt\">cache_file_prefix</span><span class=\"p\">:</span> <span class=\"s\">''</span>\n\n<span class=\"nt\">logging</span><span class=\"p\">:</span>\n<span class=\"nt\">version</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">1</span>\n<span class=\"nt\">disable_existing_loggers</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">False</span>\n<span class=\"nt\">formatters</span><span class=\"p\">:</span>\n    <span class=\"nt\">simple</span><span class=\"p\">:</span>\n    <span class=\"nt\">format</span><span class=\"p\">:</span> <span class=\"s\">'%(asctime)s</span><span class=\"nv\"> </span><span class=\"s\">-</span><span class=\"nv\"> </span><span class=\"s\">%(name)s</span><span class=\"nv\"> </span><span class=\"s\">-</span><span class=\"nv\"> </span><span class=\"s\">%(levelname)s</span><span class=\"nv\"> </span><span class=\"s\">-</span><span class=\"nv\"> </span><span class=\"s\">%(message)s'</span>\n<span class=\"nt\">handlers</span><span class=\"p\">:</span>\n    <span class=\"nt\">console</span><span class=\"p\">:</span>\n    <span class=\"nt\">class</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">logging.StreamHandler</span>\n    <span class=\"nt\">level</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">INFO</span>\n    <span class=\"nt\">formatter</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">simple</span>\n    <span class=\"nt\">stream</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">ext://sys.stdout</span>\n    <span class=\"nt\">sentry</span><span class=\"p\">:</span>\n    <span class=\"nt\">class</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">raven.handlers.logging.SentryHandler</span>\n    <span class=\"nt\">level</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">WARN</span>\n    <span class=\"nt\">dsn</span><span class=\"p\">:</span>\n    <span class=\"nt\">file</span><span class=\"p\">:</span>\n    <span class=\"nt\">class </span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">logging.FileHandler</span>\n    <span class=\"nt\">formatter</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">simple</span>\n    <span class=\"nt\">level</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">DEBUG</span>\n    <span class=\"nt\">filename</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">log_recommender.log</span>\n<span class=\"nt\">loggers</span><span class=\"p\">:</span>\n    <span class=\"nt\">record_recommender</span><span class=\"p\">:</span>\n    <span class=\"nt\">level</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">DEBUG</span>\n    <span class=\"nt\">handlers</span><span class=\"p\">:</span> <span class=\"p-Indicator\">[</span><span class=\"nv\">console</span><span class=\"p-Indicator\">,</span> <span class=\"nv\">file</span><span class=\"p-Indicator\">,</span> <span class=\"nv\">sentry</span><span class=\"p-Indicator\">]</span>\n    <span class=\"nt\">propagate</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">no</span>\n    <span class=\"c1\"># elasticsearch:</span>\n    <span class=\"c1\">#   level: WARN</span>\n    <span class=\"c1\">#   handlers: [console]</span>\n    <span class=\"c1\">#   propagate: no</span>\n<span class=\"nt\">root</span><span class=\"p\">:</span>\n    <span class=\"nt\">level</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">ERROR</span>\n    <span class=\"nt\">handlers</span><span class=\"p\">:</span> <span class=\"p-Indicator\">[</span><span class=\"nv\">console</span><span class=\"p-Indicator\">,</span> <span class=\"nv\">file</span><span class=\"p-Indicator\">,</span> <span class=\"nv\">sentry</span><span class=\"p-Indicator\">]</span>\n</pre>\n<p>Additional to the configuration options found in the config file\nenvironment variables, which overwrite the ones from the config file can be set.</p>\n<ul>\n<li><tt>RECOMMENDER_ES_PASSWORD</tt> to set the Elasticsearch password.</li>\n<li><tt>RECOMMENDER_SENTRY</tt> to set the Sentry connection string.</li>\n</ul>\n</div>\n<div id=\"command-line\">\n<h2>Command line</h2>\n<pre><span class=\"go\">Usage: recommender [OPTIONS] COMMAND [ARGS]...\n\nRecord-Recommender command line version.\n\nOptions:\n-v, --verbose           Enables verbose mode.\n-c, --config_path TEXT  Path to the configuration file.\n--help                  Show this message and exit.\n\nCommands:\ndebug               Debug the application and recommender.\nfetch               Fetch newest PageViews and Downloads.\nbuild               Calculate all recommendations.\nprofiles            Number of weeks to build.\nupdate_recommender  Download and build the recommendations.</span>\n</pre>\n</div>\n<div id=\"debugging-the-recommendations\">\n<h2>Debugging the Recommendations</h2>\n<p>As first step look into the created user profiles in the defined <tt>cache</tt>\nfolder.</p>\n<p>To explore the graph with all loaded data use the\n<tt>recommender debug</tt> command to get a interactive python shell.</p>\n</div>\n\n          </div>"}, "last_serial": 3933997, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "6047ad6877365471cc0656480b3e1f91", "sha256": "9613a148bd8cb4d6dd975697cba97e89879e09cff322f73c8b5c24b03fd52d93"}, "downloads": -1, "filename": "record-recommender-0.0.1.tar.gz", "has_sig": false, "md5_digest": "6047ad6877365471cc0656480b3e1f91", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25423, "upload_time": "2016-05-12T08:23:59", "upload_time_iso_8601": "2016-05-12T08:23:59.013299Z", "url": "https://files.pythonhosted.org/packages/ac/ab/f8cc3c840a7a8e4bc586140d9e619fc84e94dd79967c5c92429fdf276f86/record-recommender-0.0.1.tar.gz", "yanked": false}], "0.0.1.dev20160000": [], "0.0.2": [{"comment_text": "", "digests": {"md5": "a19dfdb81c00cb9d538ec06036a4dbd7", "sha256": "cc9cf2131ec1ad3d5b0ab4a6acd6a9d7b9386b516b9886bfa7fb23eebfd57e1b"}, "downloads": -1, "filename": "record-recommender-0.0.2.tar.gz", "has_sig": false, "md5_digest": "a19dfdb81c00cb9d538ec06036a4dbd7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25629, "upload_time": "2016-05-17T09:32:09", "upload_time_iso_8601": "2016-05-17T09:32:09.624445Z", "url": "https://files.pythonhosted.org/packages/32/67/e09ad681936b1a4025c20854a5f6524f9d2f46a2e4f98ee63a87e9867228/record-recommender-0.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a19dfdb81c00cb9d538ec06036a4dbd7", "sha256": "cc9cf2131ec1ad3d5b0ab4a6acd6a9d7b9386b516b9886bfa7fb23eebfd57e1b"}, "downloads": -1, "filename": "record-recommender-0.0.2.tar.gz", "has_sig": false, "md5_digest": "a19dfdb81c00cb9d538ec06036a4dbd7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25629, "upload_time": "2016-05-17T09:32:09", "upload_time_iso_8601": "2016-05-17T09:32:09.624445Z", "url": "https://files.pythonhosted.org/packages/32/67/e09ad681936b1a4025c20854a5f6524f9d2f46a2e4f98ee63a87e9867228/record-recommender-0.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:06:06 2020"}
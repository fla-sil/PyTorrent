{"info": {"author": "Qordoba", "author_email": "sam.havens@qordoba.com", "bugtrack_url": null, "classifiers": [], "description": "# library.qpubsub\n\npubsub layer for NLP services\n\n## Usages\n### Configs\nYou need to configure these in your service:\n```python\n{\n    \"PROJECT_ID\": \"...\",\n    \"SUBSCRIPTION_NAME\": \"...\",\n    \"TOPIC_NAME\": \"...\",\n    \"MAX_MESSAGES\": ...\n}\n```\nWhere:\n`PROJECT_ID`: qordoba project id e.g. qordoba-devel\n`SUBSCRIPTION_NAME`: a subscription to pull the messages from e.g. dev4.segment-delegator.gender-tone-pubsub.allLang\n`TOPIC_NAME`: where to publish the result messages e.g. dev4.segment-delegator.gender-tone-pubsub-latch.allLang\n`MAX_MESSAGES`: The maximum number of messages in the subscriber queue e.g. 100\n\n\n\n### Use PubSub only\nAdd this to the service `application.py`\n```python\n    ps_connection = QPubSub(\n        analyzer,\n        white_lister=whitelister,\n        category=category,\n        verbose=VERBOSE,\n        debug=DEBUG,\n        ignore_html=IGNORE_HTML,\n        sentence_token_limit=SENTENCE_TOKEN_LIMIT,\n        ignore_inside_quotes=False\n    )\n\n    ps_connection.connect()\n```\n\n### Use PubSub with REST\nAdd this to the service `application.py`\n```python\n    rest_connection = QRest(\n        analyzer,\n        white_lister=whitelister,\n        category=category,\n        verbose=VERBOSE,\n        debug=DEBUG,\n        ignore_html=IGNORE_HTML,\n        sentence_token_limit=SENTENCE_TOKEN_LIMIT,\n        ignore_inside_quotes=False\n    )\n    ps_connection = QPubSub(\n        analyzer,\n        white_lister=whitelister,\n        category=category,\n        verbose=VERBOSE,\n        debug=DEBUG,\n        ignore_html=IGNORE_HTML,\n        sentence_token_limit=SENTENCE_TOKEN_LIMIT,\n        ignore_inside_quotes=False\n    )\n\n    ps_connection.connect_with_rest(rest_connection)\n```\n\n### Service docker changes to compile `google-cloud-pubsub`\nadd the following lines before `pip install -r requirements.txt` command\n```dockerfile \n    apk update && \\\n    apk add --virtual build-dependencies linux-headers build-base gcc && \\\n```\n\n\nadd the following lines after `pip install -r requirements.txt` command\n```dockerfile\n    apk del build-dependencies && \\\n    rm -rf /var/cache/apk/* && \\\n```\n\n## License\n\nThis software is not licensed. If you do not work at Qordoba, you are not legally allowed to use it. Also, it's just helper functions that really won't help you. If something in it does look interesting, and you would like access, open an issue.\n\n\n## TODO\n- reduce compile time\n- add tests\n- handle errors, e.g. publish it to an error topic or return empty issues to the same topic.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Qordobacode/library.qpubsub", "keywords": "", "license": "unlicensed", "maintainer": "", "maintainer_email": "", "name": "qpubsub", "package_url": "https://pypi.org/project/qpubsub/", "platform": "", "project_url": "https://pypi.org/project/qpubsub/", "project_urls": {"Homepage": "https://github.com/Qordobacode/library.qpubsub"}, "release_url": "https://pypi.org/project/qpubsub/0.1.0/", "requires_dist": null, "requires_python": ">=3.6.4", "summary": "", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>library.qpubsub</h1>\n<p>pubsub layer for NLP services</p>\n<h2>Usages</h2>\n<h3>Configs</h3>\n<p>You need to configure these in your service:</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"s2\">\"PROJECT_ID\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"SUBSCRIPTION_NAME\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"TOPIC_NAME\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"MAX_MESSAGES\"</span><span class=\"p\">:</span> <span class=\"o\">...</span>\n<span class=\"p\">}</span>\n</pre>\n<p>Where:\n<code>PROJECT_ID</code>: qordoba project id e.g. qordoba-devel\n<code>SUBSCRIPTION_NAME</code>: a subscription to pull the messages from e.g. dev4.segment-delegator.gender-tone-pubsub.allLang\n<code>TOPIC_NAME</code>: where to publish the result messages e.g. dev4.segment-delegator.gender-tone-pubsub-latch.allLang\n<code>MAX_MESSAGES</code>: The maximum number of messages in the subscriber queue e.g. 100</p>\n<h3>Use PubSub only</h3>\n<p>Add this to the service <code>application.py</code></p>\n<pre>    <span class=\"n\">ps_connection</span> <span class=\"o\">=</span> <span class=\"n\">QPubSub</span><span class=\"p\">(</span>\n        <span class=\"n\">analyzer</span><span class=\"p\">,</span>\n        <span class=\"n\">white_lister</span><span class=\"o\">=</span><span class=\"n\">whitelister</span><span class=\"p\">,</span>\n        <span class=\"n\">category</span><span class=\"o\">=</span><span class=\"n\">category</span><span class=\"p\">,</span>\n        <span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">VERBOSE</span><span class=\"p\">,</span>\n        <span class=\"n\">debug</span><span class=\"o\">=</span><span class=\"n\">DEBUG</span><span class=\"p\">,</span>\n        <span class=\"n\">ignore_html</span><span class=\"o\">=</span><span class=\"n\">IGNORE_HTML</span><span class=\"p\">,</span>\n        <span class=\"n\">sentence_token_limit</span><span class=\"o\">=</span><span class=\"n\">SENTENCE_TOKEN_LIMIT</span><span class=\"p\">,</span>\n        <span class=\"n\">ignore_inside_quotes</span><span class=\"o\">=</span><span class=\"kc\">False</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">ps_connection</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">()</span>\n</pre>\n<h3>Use PubSub with REST</h3>\n<p>Add this to the service <code>application.py</code></p>\n<pre>    <span class=\"n\">rest_connection</span> <span class=\"o\">=</span> <span class=\"n\">QRest</span><span class=\"p\">(</span>\n        <span class=\"n\">analyzer</span><span class=\"p\">,</span>\n        <span class=\"n\">white_lister</span><span class=\"o\">=</span><span class=\"n\">whitelister</span><span class=\"p\">,</span>\n        <span class=\"n\">category</span><span class=\"o\">=</span><span class=\"n\">category</span><span class=\"p\">,</span>\n        <span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">VERBOSE</span><span class=\"p\">,</span>\n        <span class=\"n\">debug</span><span class=\"o\">=</span><span class=\"n\">DEBUG</span><span class=\"p\">,</span>\n        <span class=\"n\">ignore_html</span><span class=\"o\">=</span><span class=\"n\">IGNORE_HTML</span><span class=\"p\">,</span>\n        <span class=\"n\">sentence_token_limit</span><span class=\"o\">=</span><span class=\"n\">SENTENCE_TOKEN_LIMIT</span><span class=\"p\">,</span>\n        <span class=\"n\">ignore_inside_quotes</span><span class=\"o\">=</span><span class=\"kc\">False</span>\n    <span class=\"p\">)</span>\n    <span class=\"n\">ps_connection</span> <span class=\"o\">=</span> <span class=\"n\">QPubSub</span><span class=\"p\">(</span>\n        <span class=\"n\">analyzer</span><span class=\"p\">,</span>\n        <span class=\"n\">white_lister</span><span class=\"o\">=</span><span class=\"n\">whitelister</span><span class=\"p\">,</span>\n        <span class=\"n\">category</span><span class=\"o\">=</span><span class=\"n\">category</span><span class=\"p\">,</span>\n        <span class=\"n\">verbose</span><span class=\"o\">=</span><span class=\"n\">VERBOSE</span><span class=\"p\">,</span>\n        <span class=\"n\">debug</span><span class=\"o\">=</span><span class=\"n\">DEBUG</span><span class=\"p\">,</span>\n        <span class=\"n\">ignore_html</span><span class=\"o\">=</span><span class=\"n\">IGNORE_HTML</span><span class=\"p\">,</span>\n        <span class=\"n\">sentence_token_limit</span><span class=\"o\">=</span><span class=\"n\">SENTENCE_TOKEN_LIMIT</span><span class=\"p\">,</span>\n        <span class=\"n\">ignore_inside_quotes</span><span class=\"o\">=</span><span class=\"kc\">False</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">ps_connection</span><span class=\"o\">.</span><span class=\"n\">connect_with_rest</span><span class=\"p\">(</span><span class=\"n\">rest_connection</span><span class=\"p\">)</span>\n</pre>\n<h3>Service docker changes to compile <code>google-cloud-pubsub</code></h3>\n<p>add the following lines before <code>pip install -r requirements.txt</code> command</p>\n<pre>    apk update <span class=\"o\">&amp;&amp;</span> <span class=\"se\">\\</span>\n    apk add --virtual build-dependencies linux-headers build-base gcc <span class=\"o\">&amp;&amp;</span> <span class=\"err\">\\</span>\n</pre>\n<p>add the following lines after <code>pip install -r requirements.txt</code> command</p>\n<pre>    apk del build-dependencies <span class=\"o\">&amp;&amp;</span> <span class=\"se\">\\</span>\n    rm -rf /var/cache/apk/* <span class=\"o\">&amp;&amp;</span> <span class=\"err\">\\</span>\n</pre>\n<h2>License</h2>\n<p>This software is not licensed. If you do not work at Qordoba, you are not legally allowed to use it. Also, it's just helper functions that really won't help you. If something in it does look interesting, and you would like access, open an issue.</p>\n<h2>TODO</h2>\n<ul>\n<li>reduce compile time</li>\n<li>add tests</li>\n<li>handle errors, e.g. publish it to an error topic or return empty issues to the same topic.</li>\n</ul>\n\n          </div>"}, "last_serial": 6785420, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "e3de1fcb7129a6280d4bc81778265c44", "sha256": "8cd2293a3662f5f509a27bff73ea625fd7a29d1da246b2691d2ef87e816d44a1"}, "downloads": -1, "filename": "qpubsub-0.1.0.tar.gz", "has_sig": false, "md5_digest": "e3de1fcb7129a6280d4bc81778265c44", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6.4", "size": 4428, "upload_time": "2020-03-10T14:33:02", "upload_time_iso_8601": "2020-03-10T14:33:02.612509Z", "url": "https://files.pythonhosted.org/packages/8c/d4/c6f0c290502444153e4377dca43cd641b3dd1becebc953eab135d10ae6f1/qpubsub-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e3de1fcb7129a6280d4bc81778265c44", "sha256": "8cd2293a3662f5f509a27bff73ea625fd7a29d1da246b2691d2ef87e816d44a1"}, "downloads": -1, "filename": "qpubsub-0.1.0.tar.gz", "has_sig": false, "md5_digest": "e3de1fcb7129a6280d4bc81778265c44", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6.4", "size": 4428, "upload_time": "2020-03-10T14:33:02", "upload_time_iso_8601": "2020-03-10T14:33:02.612509Z", "url": "https://files.pythonhosted.org/packages/8c/d4/c6f0c290502444153e4377dca43cd641b3dd1becebc953eab135d10ae6f1/qpubsub-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:09:19 2020"}
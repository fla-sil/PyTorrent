{"info": {"author": "Niv Ben-David", "author_email": "nivbend@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Environment :: Console", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Topic :: Software Development", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: Software Development :: Testing"], "description": "mock-open\n=========\n[![PyPI version](https://badge.fury.io/py/mock-open.svg)](https://pypi.python.org/pypi/mock-open/)\n[![Build Status](https://travis-ci.org/nivbend/mock-open.svg?branch=master)](https://travis-ci.org/nivbend/mock-open)\n[![GitHub license](https://img.shields.io/github/license/nivbend/mock-open.svg)](https://github.com/nivbend/mock-open/blob/master/LICENSE)\n[![Maintenance](https://img.shields.io/badge/Maintained%3F-yes-green.svg)](https://GitHub.com/nivbend/mock-open/graphs/commit-activity)\n[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)](http://makeapullrequest.com)\n\nA better mock for file I/O.\n\nInstall\n-------\n```\n$ pip install mock-open\n```\n\nclass `MockOpen`\n----------------\nThe `MockOpen` class should work as a stand-in replacement for [`mock.mock_open`][mock-open] with\nsome added features (though it tries to conform to how the builtin `open` works where the two\ndiffer):\n * Multiple file support, including a mapping-like access to file mocks by path:\n   ```python\n   from mock_open import MockOpen\n   mock_open = MockOpen()\n   mock_open[\"/path/to/file\"].read_data = \"Data from a fake file-like object\"\n   mock_open[\"/path/to/bad_file\"].side_effect = IOError()\n   ```\n\n   You can also configure behavior via the regular `mock` library API:\n   ```python\n   mock_open = MockOpen()\n   mock_open.return_value.write.side_effect = IOError()\n   ```\n\n * Persistent file contents between calls to `open`:\n   ```python\n   with patch(\"builtins.open\", MockOpen()):\n       with open(\"/path/to/file\", \"w\") as handle:\n           handle.write(\"Some text\")\n\n       with open(\"/path/to/file\", \"r\") as handle:\n           assert \"Some text\" == handle.read()\n   ```\n\n * All the regular file operations: `read`, `readline`, `readlines`, `write`, `writelines`, `seek`,\n   `tell`.\n\nAcknowledgements\n----------------\nThis library uses modified versions of tests from the [CPython source code][CPython] as part of its\ntest suite. The original tests are licensed under the [PSF license agreement][PSF License] and are\ncopyright of the Python Software Foundation.\n\n[mock-open]: http://docs.python.org/library/unittest.mock.html#mock-open\n[CPython]: https://github.com/python/cpython\n[PSF License]: https://docs.python.org/license.html#terms-and-conditions-for-accessing-or-otherwise-using-python", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/nivbend/mock-open", "keywords": "testing unittest test mock mocking patch patching stubs fakes doubles", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "mock-open", "package_url": "https://pypi.org/project/mock-open/", "platform": "", "project_url": "https://pypi.org/project/mock-open/", "project_urls": {"Homepage": "http://github.com/nivbend/mock-open"}, "release_url": "https://pypi.org/project/mock-open/1.4.0/", "requires_dist": null, "requires_python": "", "summary": "A better mock for file I/O", "version": "1.4.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>mock-open</h1>\n<p><a href=\"https://pypi.python.org/pypi/mock-open/\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/176e1ece20ea54e0f9668b22c421e84afa76a2da/68747470733a2f2f62616467652e667572792e696f2f70792f6d6f636b2d6f70656e2e737667\"></a>\n<a href=\"https://travis-ci.org/nivbend/mock-open\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a48e34a8ec087806bc03b118b58e72b7dbf9941b/68747470733a2f2f7472617669732d63692e6f72672f6e697662656e642f6d6f636b2d6f70656e2e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://github.com/nivbend/mock-open/blob/master/LICENSE\" rel=\"nofollow\"><img alt=\"GitHub license\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8bc65a3b00c549928bd6aad67b17157ec952b189/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6e697662656e642f6d6f636b2d6f70656e2e737667\"></a>\n<a href=\"https://GitHub.com/nivbend/mock-open/graphs/commit-activity\" rel=\"nofollow\"><img alt=\"Maintenance\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/90bf1b2a4d99698c4dffbc494b9734690a777fec/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d61696e7461696e65642533462d7965732d677265656e2e737667\"></a>\n<a href=\"http://makeapullrequest.com\" rel=\"nofollow\"><img alt=\"PRs Welcome\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a8897c5f5e8a5eacb8ddf983bb640b73cc10464c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5052732d77656c636f6d652d627269676874677265656e2e7376673f7374796c653d666c61742d737175617265\"></a></p>\n<p>A better mock for file I/O.</p>\n<h2>Install</h2>\n<pre><code>$ pip install mock-open\n</code></pre>\n<h2>class <code>MockOpen</code></h2>\n<p>The <code>MockOpen</code> class should work as a stand-in replacement for <a href=\"http://docs.python.org/library/unittest.mock.html#mock-open\" rel=\"nofollow\"><code>mock.mock_open</code></a> with\nsome added features (though it tries to conform to how the builtin <code>open</code> works where the two\ndiffer):</p>\n<ul>\n<li>\n<p>Multiple file support, including a mapping-like access to file mocks by path:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">mock_open</span> <span class=\"kn\">import</span> <span class=\"n\">MockOpen</span>\n<span class=\"n\">mock_open</span> <span class=\"o\">=</span> <span class=\"n\">MockOpen</span><span class=\"p\">()</span>\n<span class=\"n\">mock_open</span><span class=\"p\">[</span><span class=\"s2\">\"/path/to/file\"</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">read_data</span> <span class=\"o\">=</span> <span class=\"s2\">\"Data from a fake file-like object\"</span>\n<span class=\"n\">mock_open</span><span class=\"p\">[</span><span class=\"s2\">\"/path/to/bad_file\"</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">side_effect</span> <span class=\"o\">=</span> <span class=\"ne\">IOError</span><span class=\"p\">()</span>\n</pre>\n<p>You can also configure behavior via the regular <code>mock</code> library API:</p>\n<pre><span class=\"n\">mock_open</span> <span class=\"o\">=</span> <span class=\"n\">MockOpen</span><span class=\"p\">()</span>\n<span class=\"n\">mock_open</span><span class=\"o\">.</span><span class=\"n\">return_value</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"o\">.</span><span class=\"n\">side_effect</span> <span class=\"o\">=</span> <span class=\"ne\">IOError</span><span class=\"p\">()</span>\n</pre>\n</li>\n<li>\n<p>Persistent file contents between calls to <code>open</code>:</p>\n<pre><span class=\"k\">with</span> <span class=\"n\">patch</span><span class=\"p\">(</span><span class=\"s2\">\"builtins.open\"</span><span class=\"p\">,</span> <span class=\"n\">MockOpen</span><span class=\"p\">()):</span>\n    <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"/path/to/file\"</span><span class=\"p\">,</span> <span class=\"s2\">\"w\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">handle</span><span class=\"p\">:</span>\n        <span class=\"n\">handle</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"Some text\"</span><span class=\"p\">)</span>\n\n    <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"/path/to/file\"</span><span class=\"p\">,</span> <span class=\"s2\">\"r\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">handle</span><span class=\"p\">:</span>\n        <span class=\"k\">assert</span> <span class=\"s2\">\"Some text\"</span> <span class=\"o\">==</span> <span class=\"n\">handle</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n</pre>\n</li>\n<li>\n<p>All the regular file operations: <code>read</code>, <code>readline</code>, <code>readlines</code>, <code>write</code>, <code>writelines</code>, <code>seek</code>,\n<code>tell</code>.</p>\n</li>\n</ul>\n<h2>Acknowledgements</h2>\n<p>This library uses modified versions of tests from the <a href=\"https://github.com/python/cpython\" rel=\"nofollow\">CPython source code</a> as part of its\ntest suite. The original tests are licensed under the <a href=\"https://docs.python.org/license.html#terms-and-conditions-for-accessing-or-otherwise-using-python\" rel=\"nofollow\">PSF license agreement</a> and are\ncopyright of the Python Software Foundation.</p>\n\n          </div>"}, "last_serial": 7025401, "releases": {"1.1.0": [{"comment_text": "", "digests": {"md5": "d6ae503175cb8e44dc9f918e40ec590b", "sha256": "f7d14bda3e80113b4122ad2e68b9de1d0586e1945b355f15621253fcbc109862"}, "downloads": -1, "filename": "mock-open-1.1.0.tar.gz", "has_sig": false, "md5_digest": "d6ae503175cb8e44dc9f918e40ec590b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2831, "upload_time": "2015-08-17T21:02:49", "upload_time_iso_8601": "2015-08-17T21:02:49.194542Z", "url": "https://files.pythonhosted.org/packages/fa/44/5a92273a08ea4270e41d6b8f172387e61b2825af5dba8fdcb3ccea805dc0/mock-open-1.1.0.tar.gz", "yanked": false}], "1.2.1": [{"comment_text": "", "digests": {"md5": "c8ad6fc2c2dd798f931bd4aa94bcf3db", "sha256": "f90ef97be59f36cdb44067d54742e47c70515838c6a5e651ce8d8b15b2bd614b"}, "downloads": -1, "filename": "mock-open-1.2.1.tar.gz", "has_sig": false, "md5_digest": "c8ad6fc2c2dd798f931bd4aa94bcf3db", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3011, "upload_time": "2015-08-22T18:56:17", "upload_time_iso_8601": "2015-08-22T18:56:17.369047Z", "url": "https://files.pythonhosted.org/packages/0f/4d/68b7925fc54802a4952720bb0021d338820b832f292681cde7d88e125458/mock-open-1.2.1.tar.gz", "yanked": false}], "1.2.2": [{"comment_text": "", "digests": {"md5": "ad9152b44c3a81a6174b3cde4b12fdd9", "sha256": "4feb727aaa1db415085fede3818a431142ac34c9cf5cb0d180485fe42cd04968"}, "downloads": -1, "filename": "mock-open-1.2.2.tar.gz", "has_sig": false, "md5_digest": "ad9152b44c3a81a6174b3cde4b12fdd9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3141, "upload_time": "2015-08-22T19:34:56", "upload_time_iso_8601": "2015-08-22T19:34:56.949352Z", "url": "https://files.pythonhosted.org/packages/cc/e5/eaee3aff8cc36c4d3d926448a4b2fc4f3dda15475939f6a378c3aae9a41b/mock-open-1.2.2.tar.gz", "yanked": false}], "1.3.0": [], "1.3.1": [{"comment_text": "", "digests": {"md5": "6094f825fcb7a9a02a9d66d14626bd82", "sha256": "0d3021f5677e4590957c6d1131897c63a02c8f3fbdf61fc1a3d9e96fc0fbcf2a"}, "downloads": -1, "filename": "mock-open-1.3.1.tar.gz", "has_sig": false, "md5_digest": "6094f825fcb7a9a02a9d66d14626bd82", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4101, "upload_time": "2016-05-11T07:09:36", "upload_time_iso_8601": "2016-05-11T07:09:36.965539Z", "url": "https://files.pythonhosted.org/packages/bf/9a/55c5c17c1e49412f5dd63d4aa63024c4ec89b5184ed239c2fa2d52d70b23/mock-open-1.3.1.tar.gz", "yanked": false}], "1.3.2": [{"comment_text": "", "digests": {"md5": "6b53772ba25a3632de557fe631c82673", "sha256": "ff0c426b2d73ca8440a1d5da3c561b5e4d888e4e238de26e6a5523e90736f9f3"}, "downloads": -1, "filename": "mock-open-1.3.2.tar.gz", "has_sig": false, "md5_digest": "6b53772ba25a3632de557fe631c82673", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4899, "upload_time": "2019-11-23T08:30:38", "upload_time_iso_8601": "2019-11-23T08:30:38.794913Z", "url": "https://files.pythonhosted.org/packages/55/e1/9491710233ffd694774c60690fa9ec99855d0070115977e1704eab748854/mock-open-1.3.2.tar.gz", "yanked": false}], "1.4.0": [{"comment_text": "", "digests": {"md5": "25f39b17675491dfc4a20b6c54380215", "sha256": "c3ecb6b8c32a5899a4f5bf4495083b598b520c698bba00e1ce2ace6e9c239100"}, "downloads": -1, "filename": "mock-open-1.4.0.tar.gz", "has_sig": false, "md5_digest": "25f39b17675491dfc4a20b6c54380215", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12127, "upload_time": "2020-04-15T15:26:51", "upload_time_iso_8601": "2020-04-15T15:26:51.234780Z", "url": "https://files.pythonhosted.org/packages/9a/02/cef85a80ff6d3092a458448c46816656d1c532afd45aeeeb8f50a84aed35/mock-open-1.4.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "25f39b17675491dfc4a20b6c54380215", "sha256": "c3ecb6b8c32a5899a4f5bf4495083b598b520c698bba00e1ce2ace6e9c239100"}, "downloads": -1, "filename": "mock-open-1.4.0.tar.gz", "has_sig": false, "md5_digest": "25f39b17675491dfc4a20b6c54380215", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12127, "upload_time": "2020-04-15T15:26:51", "upload_time_iso_8601": "2020-04-15T15:26:51.234780Z", "url": "https://files.pythonhosted.org/packages/9a/02/cef85a80ff6d3092a458448c46816656d1c532afd45aeeeb8f50a84aed35/mock-open-1.4.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:53:02 2020"}
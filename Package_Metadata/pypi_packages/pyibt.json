{"info": {"author": "Perry Sprat", "author_email": "perrywespratt@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "## pyibt\npyibt is a Python module that extends the functionality of the ECCELES Electrophysiology Suite with a simple and intuitive API for the analysis and visualization of electrophysiology data in Python.\n\nECCELES is an online electrophysiology acquisition program developed for the IGOR Pro data analysis platform (WaveMetrics) that allows for conducting and and analyzing highly customizable and flexible electrophysiological experiments. ELLECES however requires a very specific computing environment to run correctly, requires proprietary software (Igor Pro), and has a limited ability to implement automated and repetitive analyses.\n\npyibt was developed to read the custom binary files generated by ECCELES (ibt files) and provide a simple API to interact with the data stored with them. At its core, pyibt provides an easy access to ibt data to facilitate custom analysis in Python. However, pyibt also includes a set of native methods to quickly and easily plot and analyze ephys data. Please see the examples below to learn how to get started with pyibt.\n\n### Loading data\n```python\nfrom pyibt.read_ibt import Read_IBT\nibt = Read_IBT('demo.ibt')\n```\n\n### Accessing file information\n```python\nprint('ibt file name:', ibt.name)\nprint('Number of sweeps:', len(ibt.sweeps))\n```\n```\nibt file name: demo\nNumber of sweeps: 28\n```\n### Accessing sweep data\n```python\nsweep = ibt.sweeps[0]\nprint('Recording mode:', sweep.rec_mode)\nprint('Sweep data:', sweep.data)\nprint('Recording mode:', sweep.y_label)\nprint('Sweep time:', sweep.time)\nprint('Recording mode:', sweep.x_label)\nprint('Sweep command:', sweep.command)\n```\n```\nRecording mode: current clamp\nSweep data: [-63.18666667 -62.98666667 -62.89333333 ... -62.98666667 -62.98666667 -63.18666667]\nRecording mode: Membrane Potential (mV)\nSweep time: [0.0000e+00 2.0000e-05 4.0000e-05 ... 9.9994e-01 9.9996e-01 9.9998e-01]\nRecording mode: Time (seconds)\nSweep command: [0. 0. 0. ... 0. 0. 0.]\n```\n### Quick plot functions\n```python\nfig = plt.figure(figsize=(8, 7))\nax1 = fig.add_subplot(211)\nax1 = ibt.plot_sweep(sweep_num=16, ax=ax1)\n\nax2 = fig.add_subplot(212)\nax2 = ibt.plot_command(sweep_num=16, ax=ax2)\n```\n![docs/example_plots/single_sweep.png](https://raw.githubusercontent.com/pspratt/pyibt/master/docs/example_plots/single_sweep.png)\n```python\nfig = plt.figure(figsize=(5, 5))\nax=ibt.plot_sweep_phase_plane(sweep_num=16)\nax.set_xlim(-50, 60)\n```\n![docs/examples/example_plots/phase_plane.png](https://raw.githubusercontent.com/pspratt/pyibt/master/docs/example_plots/phase_plane.png)\n```python\nfig=plt.figure(figsize=(8,5))\nax=ibt.plot_all_sweeps()\n```\n![docs/examples/example_plots/all_sweeps.png](https://raw.githubusercontent.com/pspratt/pyibt/master/docs/example_plots/all_sweeps.png)\n### Get Creative\n```python\nsweeps = ibt.sweeps[9:25]\ncm = plt.get_cmap(\"winter\")\ncolors = [cm(i/len(sweeps)) for i, x in enumerate(sweeps)]\n\nplt.figure(figsize=(12, 8))\nfor i, sweep in enumerate(sweeps):\n    num_pnts = int(0.5/sweep.dx)\n    x = sweep.time[:num_pnts] + 0.02 * i\n    y = sweep.data[:num_pnts] + 10 * i\n    plt.plot(x, y, color=colors[i], alpha=0.5)\nplt.gca().axis('off')\n```\n![docs/examples/example_plots/fancy_FI_curve.png](https://raw.githubusercontent.com/pspratt/pyibt/master/docs/example_plots/fancy_FI_plot.png)\n### Automatic detection of action potentials\n```Python\ncommand = 4\nsweeps = ibt.sweeps[9:25]\n\nnum_APs = []\ncurrent = []\nfor sweep  in sweeps:\n    num_APs.append(len(sweep.spike_times_during_command(command)))\n    current.append(sweep.commands[4]['value'])\n\nfig=plt.figure(figsize=(8, 5))\nplt.plot(current, num_APs, '-o', markersize=10)\nplt.ylabel('Number of Action potentials')\nplt.xlabel('Applied current (pA)')\nplt.savefig('example_plots/FI_curve.png')\n```\n![docs/examples/example_plots/FI_curve.png](https://raw.githubusercontent.com/pspratt/pyibt/master/docs/example_plots/FI_curve.png)\n\n```Python\nimport numpy as np\n\nsweep = ibt.sweeps[25]\nspikes = sweep.spike_properties()\n\nspike_num = [x for x in range(len(spikes))]\nspike_height = [spike['height'] for spike in spikes]\nspike_width = [spike['half_width'] for spike in spikes]\nspike_thresh = [spike['thresh'] for spike in spikes]\nspike_dVdt = [spike['peak_dVdt'] for spike in spikes]\n\nfig = plt.figure(figsize=(12, 8))\n\nax1 = fig.add_subplot(231)\nax1.set_ylabel('Membrane Potential (mV)')\nax1.set_xlabel('Time (ms)')\n\nax4 = fig.add_subplot(234)\nax4.set_ylabel('dVdt (V/s')\nax4.set_xlabel('Membrane Potential (mV)')\n\ncm=plt.cm.magma\ncolors = [cm(i/len(sweeps)) for i, x in enumerate(sweeps)]\nfor i, spike in enumerate(spikes):\n    ax1.plot(spike['time'] * 1000, spike['Vm'], color=colors[i])\n\n    dVdt = np.gradient(spike['Vm'], spike['time'])/1000\n    ax4.plot(spike['Vm'], dVdt, color=colors[i])\n\nax2 = fig.add_subplot(232)\nax2.set_ylabel('AP half width (ms)')\nax2.set_xlabel('AP number')\nax2.set_xticks(spike_num)\nax2.plot(spike_num,spike_width, '-o', markersize=8, color='tab:blue')\n\nax3 = fig.add_subplot(233, sharex=ax2)\nax3.set_ylabel('AP Height (mV)')\nax3.set_xlabel('AP number')\nax3.plot(spike_num,spike_height, '-o', markersize=8, color='tab:orange')\n\nax2 = fig.add_subplot(235, sharex=ax2)\nax2.set_ylabel('Threshold (mV)')\nax2.set_xlabel('AP number')\nax2.plot(spike_num,spike_thresh, '-o', markersize=8, color='tab:green')\n\nax3 = fig.add_subplot(236, sharex=ax2)\nax3.set_ylabel('dVdt (V/s)')\nax3.set_xlabel('AP number')\nax3.plot(spike_num,spike_dVdt, '-o', markersize=8, color='tab:red')\n```\n![docs/examples/example_plots/AP_char.png](https://raw.githubusercontent.com/pspratt/pyibt/master/docs/example_plots/AP_char.png)\n\n**Details of the ibt file structure can be found** [here](docs/ibt_structure.md)\n\npyibt was inspired by the [pyABF module written by Scott Harden](https://github.com/swharden/pyABF) for Axon Binary Format (ABF) files.\n\n### Author\n\nPerry Spratt\\\nPhD Candidate, Bender Lab\\\nUniversity of California, San Francisco\\\nperrywespratt@gmail.com\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/pspratt/pyibt", "keywords": "", "license": "MIT License", "maintainer": "", "maintainer_email": "", "name": "pyibt", "package_url": "https://pypi.org/project/pyibt/", "platform": "any", "project_url": "https://pypi.org/project/pyibt/", "project_urls": {"Homepage": "https://github.com/pspratt/pyibt"}, "release_url": "https://pypi.org/project/pyibt/0.0.2/", "requires_dist": ["matplotlib (>=2.1.0)", "numpy (>=1.13.3)"], "requires_python": "", "summary": "Python module for analyzing electrophysiological data", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h2>pyibt</h2>\n<p>pyibt is a Python module that extends the functionality of the ECCELES Electrophysiology Suite with a simple and intuitive API for the analysis and visualization of electrophysiology data in Python.</p>\n<p>ECCELES is an online electrophysiology acquisition program developed for the IGOR Pro data analysis platform (WaveMetrics) that allows for conducting and and analyzing highly customizable and flexible electrophysiological experiments. ELLECES however requires a very specific computing environment to run correctly, requires proprietary software (Igor Pro), and has a limited ability to implement automated and repetitive analyses.</p>\n<p>pyibt was developed to read the custom binary files generated by ECCELES (ibt files) and provide a simple API to interact with the data stored with them. At its core, pyibt provides an easy access to ibt data to facilitate custom analysis in Python. However, pyibt also includes a set of native methods to quickly and easily plot and analyze ephys data. Please see the examples below to learn how to get started with pyibt.</p>\n<h3>Loading data</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pyibt.read_ibt</span> <span class=\"kn\">import</span> <span class=\"n\">Read_IBT</span>\n<span class=\"n\">ibt</span> <span class=\"o\">=</span> <span class=\"n\">Read_IBT</span><span class=\"p\">(</span><span class=\"s1\">'demo.ibt'</span><span class=\"p\">)</span>\n</pre>\n<h3>Accessing file information</h3>\n<pre><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'ibt file name:'</span><span class=\"p\">,</span> <span class=\"n\">ibt</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Number of sweeps:'</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">ibt</span><span class=\"o\">.</span><span class=\"n\">sweeps</span><span class=\"p\">))</span>\n</pre>\n<pre><code>ibt file name: demo\nNumber of sweeps: 28\n</code></pre>\n<h3>Accessing sweep data</h3>\n<pre><span class=\"n\">sweep</span> <span class=\"o\">=</span> <span class=\"n\">ibt</span><span class=\"o\">.</span><span class=\"n\">sweeps</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Recording mode:'</span><span class=\"p\">,</span> <span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">rec_mode</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Sweep data:'</span><span class=\"p\">,</span> <span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Recording mode:'</span><span class=\"p\">,</span> <span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">y_label</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Sweep time:'</span><span class=\"p\">,</span> <span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Recording mode:'</span><span class=\"p\">,</span> <span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">x_label</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Sweep command:'</span><span class=\"p\">,</span> <span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">command</span><span class=\"p\">)</span>\n</pre>\n<pre><code>Recording mode: current clamp\nSweep data: [-63.18666667 -62.98666667 -62.89333333 ... -62.98666667 -62.98666667 -63.18666667]\nRecording mode: Membrane Potential (mV)\nSweep time: [0.0000e+00 2.0000e-05 4.0000e-05 ... 9.9994e-01 9.9996e-01 9.9998e-01]\nRecording mode: Time (seconds)\nSweep command: [0. 0. 0. ... 0. 0. 0.]\n</code></pre>\n<h3>Quick plot functions</h3>\n<pre><span class=\"n\">fig</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">))</span>\n<span class=\"n\">ax1</span> <span class=\"o\">=</span> <span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">add_subplot</span><span class=\"p\">(</span><span class=\"mi\">211</span><span class=\"p\">)</span>\n<span class=\"n\">ax1</span> <span class=\"o\">=</span> <span class=\"n\">ibt</span><span class=\"o\">.</span><span class=\"n\">plot_sweep</span><span class=\"p\">(</span><span class=\"n\">sweep_num</span><span class=\"o\">=</span><span class=\"mi\">16</span><span class=\"p\">,</span> <span class=\"n\">ax</span><span class=\"o\">=</span><span class=\"n\">ax1</span><span class=\"p\">)</span>\n\n<span class=\"n\">ax2</span> <span class=\"o\">=</span> <span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">add_subplot</span><span class=\"p\">(</span><span class=\"mi\">212</span><span class=\"p\">)</span>\n<span class=\"n\">ax2</span> <span class=\"o\">=</span> <span class=\"n\">ibt</span><span class=\"o\">.</span><span class=\"n\">plot_command</span><span class=\"p\">(</span><span class=\"n\">sweep_num</span><span class=\"o\">=</span><span class=\"mi\">16</span><span class=\"p\">,</span> <span class=\"n\">ax</span><span class=\"o\">=</span><span class=\"n\">ax2</span><span class=\"p\">)</span>\n</pre>\n<p><img alt=\"docs/example_plots/single_sweep.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4fa100216e2d0dfe935981bc51373fd0e6aba1c4/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f707370726174742f70796962742f6d61737465722f646f63732f6578616d706c655f706c6f74732f73696e676c655f73776565702e706e67\"></p>\n<pre><span class=\"n\">fig</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">))</span>\n<span class=\"n\">ax</span><span class=\"o\">=</span><span class=\"n\">ibt</span><span class=\"o\">.</span><span class=\"n\">plot_sweep_phase_plane</span><span class=\"p\">(</span><span class=\"n\">sweep_num</span><span class=\"o\">=</span><span class=\"mi\">16</span><span class=\"p\">)</span>\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">set_xlim</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"mi\">60</span><span class=\"p\">)</span>\n</pre>\n<p><img alt=\"docs/examples/example_plots/phase_plane.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3ed4d2f9983bbde191ac3cc3d3e91131133d3fbe/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f707370726174742f70796962742f6d61737465722f646f63732f6578616d706c655f706c6f74732f70686173655f706c616e652e706e67\"></p>\n<pre><span class=\"n\">fig</span><span class=\"o\">=</span><span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">))</span>\n<span class=\"n\">ax</span><span class=\"o\">=</span><span class=\"n\">ibt</span><span class=\"o\">.</span><span class=\"n\">plot_all_sweeps</span><span class=\"p\">()</span>\n</pre>\n<p><img alt=\"docs/examples/example_plots/all_sweeps.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/bd91a73b07331a1fb0bda18c20775ab8712c2b1f/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f707370726174742f70796962742f6d61737465722f646f63732f6578616d706c655f706c6f74732f616c6c5f7377656570732e706e67\"></p>\n<h3>Get Creative</h3>\n<pre><span class=\"n\">sweeps</span> <span class=\"o\">=</span> <span class=\"n\">ibt</span><span class=\"o\">.</span><span class=\"n\">sweeps</span><span class=\"p\">[</span><span class=\"mi\">9</span><span class=\"p\">:</span><span class=\"mi\">25</span><span class=\"p\">]</span>\n<span class=\"n\">cm</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">get_cmap</span><span class=\"p\">(</span><span class=\"s2\">\"winter\"</span><span class=\"p\">)</span>\n<span class=\"n\">colors</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">cm</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">/</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">sweeps</span><span class=\"p\">))</span> <span class=\"k\">for</span> <span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"nb\">enumerate</span><span class=\"p\">(</span><span class=\"n\">sweeps</span><span class=\"p\">)]</span>\n\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">))</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">sweep</span> <span class=\"ow\">in</span> <span class=\"nb\">enumerate</span><span class=\"p\">(</span><span class=\"n\">sweeps</span><span class=\"p\">):</span>\n    <span class=\"n\">num_pnts</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"mf\">0.5</span><span class=\"o\">/</span><span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">dx</span><span class=\"p\">)</span>\n    <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">[:</span><span class=\"n\">num_pnts</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"mf\">0.02</span> <span class=\"o\">*</span> <span class=\"n\">i</span>\n    <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">[:</span><span class=\"n\">num_pnts</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"mi\">10</span> <span class=\"o\">*</span> <span class=\"n\">i</span>\n    <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"n\">colors</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">],</span> <span class=\"n\">alpha</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">gca</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">axis</span><span class=\"p\">(</span><span class=\"s1\">'off'</span><span class=\"p\">)</span>\n</pre>\n<p><img alt=\"docs/examples/example_plots/fancy_FI_curve.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/512b7201c7087931022a475e083a0d6620040d28/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f707370726174742f70796962742f6d61737465722f646f63732f6578616d706c655f706c6f74732f66616e63795f46495f706c6f742e706e67\"></p>\n<h3>Automatic detection of action potentials</h3>\n<pre><span class=\"n\">command</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>\n<span class=\"n\">sweeps</span> <span class=\"o\">=</span> <span class=\"n\">ibt</span><span class=\"o\">.</span><span class=\"n\">sweeps</span><span class=\"p\">[</span><span class=\"mi\">9</span><span class=\"p\">:</span><span class=\"mi\">25</span><span class=\"p\">]</span>\n\n<span class=\"n\">num_APs</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"n\">current</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"k\">for</span> <span class=\"n\">sweep</span>  <span class=\"ow\">in</span> <span class=\"n\">sweeps</span><span class=\"p\">:</span>\n    <span class=\"n\">num_APs</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">spike_times_during_command</span><span class=\"p\">(</span><span class=\"n\">command</span><span class=\"p\">)))</span>\n    <span class=\"n\">current</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">commands</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">][</span><span class=\"s1\">'value'</span><span class=\"p\">])</span>\n\n<span class=\"n\">fig</span><span class=\"o\">=</span><span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">))</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">current</span><span class=\"p\">,</span> <span class=\"n\">num_APs</span><span class=\"p\">,</span> <span class=\"s1\">'-o'</span><span class=\"p\">,</span> <span class=\"n\">markersize</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">ylabel</span><span class=\"p\">(</span><span class=\"s1\">'Number of Action potentials'</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">xlabel</span><span class=\"p\">(</span><span class=\"s1\">'Applied current (pA)'</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">savefig</span><span class=\"p\">(</span><span class=\"s1\">'example_plots/FI_curve.png'</span><span class=\"p\">)</span>\n</pre>\n<p><img alt=\"docs/examples/example_plots/FI_curve.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2f34ba6b7d3b2bd82173b87bc77580e2271972dd/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f707370726174742f70796962742f6d61737465722f646f63732f6578616d706c655f706c6f74732f46495f63757276652e706e67\"></p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n\n<span class=\"n\">sweep</span> <span class=\"o\">=</span> <span class=\"n\">ibt</span><span class=\"o\">.</span><span class=\"n\">sweeps</span><span class=\"p\">[</span><span class=\"mi\">25</span><span class=\"p\">]</span>\n<span class=\"n\">spikes</span> <span class=\"o\">=</span> <span class=\"n\">sweep</span><span class=\"o\">.</span><span class=\"n\">spike_properties</span><span class=\"p\">()</span>\n\n<span class=\"n\">spike_num</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">x</span> <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">spikes</span><span class=\"p\">))]</span>\n<span class=\"n\">spike_height</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">spike</span><span class=\"p\">[</span><span class=\"s1\">'height'</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">spike</span> <span class=\"ow\">in</span> <span class=\"n\">spikes</span><span class=\"p\">]</span>\n<span class=\"n\">spike_width</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">spike</span><span class=\"p\">[</span><span class=\"s1\">'half_width'</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">spike</span> <span class=\"ow\">in</span> <span class=\"n\">spikes</span><span class=\"p\">]</span>\n<span class=\"n\">spike_thresh</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">spike</span><span class=\"p\">[</span><span class=\"s1\">'thresh'</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">spike</span> <span class=\"ow\">in</span> <span class=\"n\">spikes</span><span class=\"p\">]</span>\n<span class=\"n\">spike_dVdt</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">spike</span><span class=\"p\">[</span><span class=\"s1\">'peak_dVdt'</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">spike</span> <span class=\"ow\">in</span> <span class=\"n\">spikes</span><span class=\"p\">]</span>\n\n<span class=\"n\">fig</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">))</span>\n\n<span class=\"n\">ax1</span> <span class=\"o\">=</span> <span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">add_subplot</span><span class=\"p\">(</span><span class=\"mi\">231</span><span class=\"p\">)</span>\n<span class=\"n\">ax1</span><span class=\"o\">.</span><span class=\"n\">set_ylabel</span><span class=\"p\">(</span><span class=\"s1\">'Membrane Potential (mV)'</span><span class=\"p\">)</span>\n<span class=\"n\">ax1</span><span class=\"o\">.</span><span class=\"n\">set_xlabel</span><span class=\"p\">(</span><span class=\"s1\">'Time (ms)'</span><span class=\"p\">)</span>\n\n<span class=\"n\">ax4</span> <span class=\"o\">=</span> <span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">add_subplot</span><span class=\"p\">(</span><span class=\"mi\">234</span><span class=\"p\">)</span>\n<span class=\"n\">ax4</span><span class=\"o\">.</span><span class=\"n\">set_ylabel</span><span class=\"p\">(</span><span class=\"s1\">'dVdt (V/s'</span><span class=\"p\">)</span>\n<span class=\"n\">ax4</span><span class=\"o\">.</span><span class=\"n\">set_xlabel</span><span class=\"p\">(</span><span class=\"s1\">'Membrane Potential (mV)'</span><span class=\"p\">)</span>\n\n<span class=\"n\">cm</span><span class=\"o\">=</span><span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">cm</span><span class=\"o\">.</span><span class=\"n\">magma</span>\n<span class=\"n\">colors</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">cm</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">/</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">sweeps</span><span class=\"p\">))</span> <span class=\"k\">for</span> <span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"nb\">enumerate</span><span class=\"p\">(</span><span class=\"n\">sweeps</span><span class=\"p\">)]</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">spike</span> <span class=\"ow\">in</span> <span class=\"nb\">enumerate</span><span class=\"p\">(</span><span class=\"n\">spikes</span><span class=\"p\">):</span>\n    <span class=\"n\">ax1</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">spike</span><span class=\"p\">[</span><span class=\"s1\">'time'</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span><span class=\"p\">,</span> <span class=\"n\">spike</span><span class=\"p\">[</span><span class=\"s1\">'Vm'</span><span class=\"p\">],</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"n\">colors</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">])</span>\n\n    <span class=\"n\">dVdt</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">gradient</span><span class=\"p\">(</span><span class=\"n\">spike</span><span class=\"p\">[</span><span class=\"s1\">'Vm'</span><span class=\"p\">],</span> <span class=\"n\">spike</span><span class=\"p\">[</span><span class=\"s1\">'time'</span><span class=\"p\">])</span><span class=\"o\">/</span><span class=\"mi\">1000</span>\n    <span class=\"n\">ax4</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">spike</span><span class=\"p\">[</span><span class=\"s1\">'Vm'</span><span class=\"p\">],</span> <span class=\"n\">dVdt</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"n\">colors</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">])</span>\n\n<span class=\"n\">ax2</span> <span class=\"o\">=</span> <span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">add_subplot</span><span class=\"p\">(</span><span class=\"mi\">232</span><span class=\"p\">)</span>\n<span class=\"n\">ax2</span><span class=\"o\">.</span><span class=\"n\">set_ylabel</span><span class=\"p\">(</span><span class=\"s1\">'AP half width (ms)'</span><span class=\"p\">)</span>\n<span class=\"n\">ax2</span><span class=\"o\">.</span><span class=\"n\">set_xlabel</span><span class=\"p\">(</span><span class=\"s1\">'AP number'</span><span class=\"p\">)</span>\n<span class=\"n\">ax2</span><span class=\"o\">.</span><span class=\"n\">set_xticks</span><span class=\"p\">(</span><span class=\"n\">spike_num</span><span class=\"p\">)</span>\n<span class=\"n\">ax2</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">spike_num</span><span class=\"p\">,</span><span class=\"n\">spike_width</span><span class=\"p\">,</span> <span class=\"s1\">'-o'</span><span class=\"p\">,</span> <span class=\"n\">markersize</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"s1\">'tab:blue'</span><span class=\"p\">)</span>\n\n<span class=\"n\">ax3</span> <span class=\"o\">=</span> <span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">add_subplot</span><span class=\"p\">(</span><span class=\"mi\">233</span><span class=\"p\">,</span> <span class=\"n\">sharex</span><span class=\"o\">=</span><span class=\"n\">ax2</span><span class=\"p\">)</span>\n<span class=\"n\">ax3</span><span class=\"o\">.</span><span class=\"n\">set_ylabel</span><span class=\"p\">(</span><span class=\"s1\">'AP Height (mV)'</span><span class=\"p\">)</span>\n<span class=\"n\">ax3</span><span class=\"o\">.</span><span class=\"n\">set_xlabel</span><span class=\"p\">(</span><span class=\"s1\">'AP number'</span><span class=\"p\">)</span>\n<span class=\"n\">ax3</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">spike_num</span><span class=\"p\">,</span><span class=\"n\">spike_height</span><span class=\"p\">,</span> <span class=\"s1\">'-o'</span><span class=\"p\">,</span> <span class=\"n\">markersize</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"s1\">'tab:orange'</span><span class=\"p\">)</span>\n\n<span class=\"n\">ax2</span> <span class=\"o\">=</span> <span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">add_subplot</span><span class=\"p\">(</span><span class=\"mi\">235</span><span class=\"p\">,</span> <span class=\"n\">sharex</span><span class=\"o\">=</span><span class=\"n\">ax2</span><span class=\"p\">)</span>\n<span class=\"n\">ax2</span><span class=\"o\">.</span><span class=\"n\">set_ylabel</span><span class=\"p\">(</span><span class=\"s1\">'Threshold (mV)'</span><span class=\"p\">)</span>\n<span class=\"n\">ax2</span><span class=\"o\">.</span><span class=\"n\">set_xlabel</span><span class=\"p\">(</span><span class=\"s1\">'AP number'</span><span class=\"p\">)</span>\n<span class=\"n\">ax2</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">spike_num</span><span class=\"p\">,</span><span class=\"n\">spike_thresh</span><span class=\"p\">,</span> <span class=\"s1\">'-o'</span><span class=\"p\">,</span> <span class=\"n\">markersize</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"s1\">'tab:green'</span><span class=\"p\">)</span>\n\n<span class=\"n\">ax3</span> <span class=\"o\">=</span> <span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">add_subplot</span><span class=\"p\">(</span><span class=\"mi\">236</span><span class=\"p\">,</span> <span class=\"n\">sharex</span><span class=\"o\">=</span><span class=\"n\">ax2</span><span class=\"p\">)</span>\n<span class=\"n\">ax3</span><span class=\"o\">.</span><span class=\"n\">set_ylabel</span><span class=\"p\">(</span><span class=\"s1\">'dVdt (V/s)'</span><span class=\"p\">)</span>\n<span class=\"n\">ax3</span><span class=\"o\">.</span><span class=\"n\">set_xlabel</span><span class=\"p\">(</span><span class=\"s1\">'AP number'</span><span class=\"p\">)</span>\n<span class=\"n\">ax3</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">spike_num</span><span class=\"p\">,</span><span class=\"n\">spike_dVdt</span><span class=\"p\">,</span> <span class=\"s1\">'-o'</span><span class=\"p\">,</span> <span class=\"n\">markersize</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"s1\">'tab:red'</span><span class=\"p\">)</span>\n</pre>\n<p><img alt=\"docs/examples/example_plots/AP_char.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d22919eb5737358e02c7cf86e36f9ead6cb2aa06/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f707370726174742f70796962742f6d61737465722f646f63732f6578616d706c655f706c6f74732f41505f636861722e706e67\"></p>\n<p><strong>Details of the ibt file structure can be found</strong> <a href=\"docs/ibt_structure.md\" rel=\"nofollow\">here</a></p>\n<p>pyibt was inspired by the <a href=\"https://github.com/swharden/pyABF\" rel=\"nofollow\">pyABF module written by Scott Harden</a> for Axon Binary Format (ABF) files.</p>\n<h3>Author</h3>\n<p>Perry Spratt<br>\nPhD Candidate, Bender Lab<br>\nUniversity of California, San Francisco<br>\n<a href=\"mailto:perrywespratt@gmail.com\">perrywespratt@gmail.com</a></p>\n\n          </div>"}, "last_serial": 6480597, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "c7e3ac7149889f2a2e5347533b7468ab", "sha256": "fc083fb954ff682d4f930d1152eee553f2ac3861227530d2fe3bde6ab3fd2767"}, "downloads": -1, "filename": "pyibt-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "c7e3ac7149889f2a2e5347533b7468ab", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10909, "upload_time": "2020-01-19T03:31:03", "upload_time_iso_8601": "2020-01-19T03:31:03.097133Z", "url": "https://files.pythonhosted.org/packages/18/77/5eadbd40135afbf135b417cf28e1362b45ffaae22eb47b97b3b16e2e2fa8/pyibt-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b2f4531dc81a14eadc031410bb683afc", "sha256": "602936d3bb8761b1bca0c9616d27b5f90bf64c27f962c1e83d981d43f19b15e2"}, "downloads": -1, "filename": "pyibt-0.0.1.tar.gz", "has_sig": false, "md5_digest": "b2f4531dc81a14eadc031410bb683afc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11651, "upload_time": "2020-01-19T03:31:07", "upload_time_iso_8601": "2020-01-19T03:31:07.734090Z", "url": "https://files.pythonhosted.org/packages/b6/7a/c15202d876e064621ca00464cb5a09d6543ae1601919a5cd7b214df2292f/pyibt-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "d607c70b3aa2124154757350903ec29e", "sha256": "99c403bfca81d43cf8ea5ba35c632c4d94e973b5ed9a8c083f5ea710b7dc0bd7"}, "downloads": -1, "filename": "pyibt-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "d607c70b3aa2124154757350903ec29e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10944, "upload_time": "2020-01-19T03:31:06", "upload_time_iso_8601": "2020-01-19T03:31:06.047988Z", "url": "https://files.pythonhosted.org/packages/70/8f/787b3f2e6d09591deea36c9bd6782b6a7b4d1734cbd8a95cc03c100841a0/pyibt-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "318feaae8caa629ec225b35051b3904d", "sha256": "a36b4b77cd3b8357ccf32d1e4d765aadbb352424d53e8464b8d33565ecdeeafa"}, "downloads": -1, "filename": "pyibt-0.0.2.tar.gz", "has_sig": false, "md5_digest": "318feaae8caa629ec225b35051b3904d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11713, "upload_time": "2020-01-19T03:31:09", "upload_time_iso_8601": "2020-01-19T03:31:09.287538Z", "url": "https://files.pythonhosted.org/packages/78/e0/e62fc511b852371c6964afbdafd72100e387e27eefcfa4813c9519f627c6/pyibt-0.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "d607c70b3aa2124154757350903ec29e", "sha256": "99c403bfca81d43cf8ea5ba35c632c4d94e973b5ed9a8c083f5ea710b7dc0bd7"}, "downloads": -1, "filename": "pyibt-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "d607c70b3aa2124154757350903ec29e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10944, "upload_time": "2020-01-19T03:31:06", "upload_time_iso_8601": "2020-01-19T03:31:06.047988Z", "url": "https://files.pythonhosted.org/packages/70/8f/787b3f2e6d09591deea36c9bd6782b6a7b4d1734cbd8a95cc03c100841a0/pyibt-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "318feaae8caa629ec225b35051b3904d", "sha256": "a36b4b77cd3b8357ccf32d1e4d765aadbb352424d53e8464b8d33565ecdeeafa"}, "downloads": -1, "filename": "pyibt-0.0.2.tar.gz", "has_sig": false, "md5_digest": "318feaae8caa629ec225b35051b3904d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11713, "upload_time": "2020-01-19T03:31:09", "upload_time_iso_8601": "2020-01-19T03:31:09.287538Z", "url": "https://files.pythonhosted.org/packages/78/e0/e62fc511b852371c6964afbdafd72100e387e27eefcfa4813c9519f627c6/pyibt-0.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:04:11 2020"}
{"info": {"author": "Laurent Savaete", "author_email": "laurent@where.tf", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# SlowApi\n\nA rate limiting library for Starlette and FastAPI adapted from [flask-limiter](http://github.com/alisaifee/flask-limiter).\n\nNote: this is alpha quality code still, the API may change, and things may fall apart while you try it.\n\n# Quick start\n\n## Installation\n\n`slowapi` is available from [pypi](https://pypi.org/project/slowapi/) so you can install it as usual:\n\n```\n$ pip install slowapi\n```\n\n## Starlette\n\n```python\n    from starlette.applications import Starlette\n    from slowapi import Limiter, _rate_limit_exceeded_handler\n\n    limiter = Limiter(key_func=get_remote_address)\n    app = Starlette()\n    app.state.limiter = limiter\n    app.add_exception_handler(RateLimitExceeded, _rate_limit_exceeded_handler)\n\n    @limiter.limit(\"5/minute\")\n    async def homepage(request: Request):\n        return PlainTextResponse(\"test\")\n\n    app.add_route(\"/home\", homepage)\n```\n\nThe above app will have a route `t1` that will accept up to 5 requests per minute. Requests beyond this limit will be answered with an HTTP 429 error, and the body of the view will not run.\n\n## FastAPI\n\n```python\n    from fastapi import FastAPI\n    from slowapi import Limiter, _rate_limit_exceeded_handler\n\n    limiter = Limiter(key_func=get_remote_address)\n    app = FastAPI()\n    app.state.limiter = limiter\n    app.add_exception_handler(RateLimitExceeded, _rate_limit_exceeded_handler)\n\n    @app.get(\"/home\")\n    @limiter.limit(\"5/minute\")\n    async def homepage(request: Request):\n        return PlainTextResponse(\"test\")\n```\n\nThis will provide the same result, but with a FastAPI app.\n\n# Features\n\nMost feature are coming from (will come from) FlaskLimiter and the underlying [limits](https://limits.readthedocs.io/).\n\nSupported now:\n- Single and multiple `limit` decorator on endpoint functions to apply limits\n- redis, memcached and memory backends to track your limits (memory as a fallback)\n- support for sync and async HTTP endpoints\n- Support for shared limits across a set of routes\n\n\n# Limitations and known issues\n\n  * There is no support for default limits yet (in other words, the only default limit supported is \"unlimited\")\n\n  * The `request` argument must be explicitly passed to your endpoint, or `slowapi` won't be able to hook into it. In other words, write:\n\n```python\n    @limiter.limit(\"5/minute\")\n    async def myendpoint(request: Request)\n        pass\n```\n\nand not:\n\n```python\n    @limiter.limit(\"5/minute\")\n    async def myendpoint()\n        pass\n```\n\n  * `websocket` endpoints are not supported yet.\n\n# Developing and contributing\n\nPRs are more than welcome! Please include tests for your changes :)\n\nThe package uses [poetry](https://python-poetry.org) to manage dependencies. To setup your dev env:\n\n```bash\n$ poetry install\n```\n\nTo run the tests:\n```bash\n$ pytest\n```\n\n# Credits\n\nCredits go to [flask-limiter](https://github.com/alisaifee/flask-limiter) of which SlowApi is a (still partial) adaptation to Starlette and FastAPI.\nIt's also important to mention that the actual rate limiting work is done by [limits](https://github.com/alisaifee/limits/), `slowapi` is just a wrapper around it.\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/laurents/slowapi", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "slowapi", "package_url": "https://pypi.org/project/slowapi/", "platform": "", "project_url": "https://pypi.org/project/slowapi/", "project_urls": {"Homepage": "https://github.com/laurents/slowapi", "Repository": "https://github.com/laurents/slowapi"}, "release_url": "https://pypi.org/project/slowapi/0.1.1/", "requires_dist": ["limits (>=1.5,<2.0)", "redis (>=3.4.1,<4.0.0)"], "requires_python": ">=3.6,<4.0", "summary": "A rate limiting extension for Starlette and Fastapi", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>SlowApi</h1>\n<p>A rate limiting library for Starlette and FastAPI adapted from <a href=\"http://github.com/alisaifee/flask-limiter\" rel=\"nofollow\">flask-limiter</a>.</p>\n<p>Note: this is alpha quality code still, the API may change, and things may fall apart while you try it.</p>\n<h1>Quick start</h1>\n<h2>Installation</h2>\n<p><code>slowapi</code> is available from <a href=\"https://pypi.org/project/slowapi/\" rel=\"nofollow\">pypi</a> so you can install it as usual:</p>\n<pre><code>$ pip install slowapi\n</code></pre>\n<h2>Starlette</h2>\n<pre>    <span class=\"kn\">from</span> <span class=\"nn\">starlette.applications</span> <span class=\"kn\">import</span> <span class=\"n\">Starlette</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">slowapi</span> <span class=\"kn\">import</span> <span class=\"n\">Limiter</span><span class=\"p\">,</span> <span class=\"n\">_rate_limit_exceeded_handler</span>\n\n    <span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">Limiter</span><span class=\"p\">(</span><span class=\"n\">key_func</span><span class=\"o\">=</span><span class=\"n\">get_remote_address</span><span class=\"p\">)</span>\n    <span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">Starlette</span><span class=\"p\">()</span>\n    <span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">state</span><span class=\"o\">.</span><span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">limiter</span>\n    <span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">add_exception_handler</span><span class=\"p\">(</span><span class=\"n\">RateLimitExceeded</span><span class=\"p\">,</span> <span class=\"n\">_rate_limit_exceeded_handler</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">\"5/minute\"</span><span class=\"p\">)</span>\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">homepage</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">:</span> <span class=\"n\">Request</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">PlainTextResponse</span><span class=\"p\">(</span><span class=\"s2\">\"test\"</span><span class=\"p\">)</span>\n\n    <span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">add_route</span><span class=\"p\">(</span><span class=\"s2\">\"/home\"</span><span class=\"p\">,</span> <span class=\"n\">homepage</span><span class=\"p\">)</span>\n</pre>\n<p>The above app will have a route <code>t1</code> that will accept up to 5 requests per minute. Requests beyond this limit will be answered with an HTTP 429 error, and the body of the view will not run.</p>\n<h2>FastAPI</h2>\n<pre>    <span class=\"kn\">from</span> <span class=\"nn\">fastapi</span> <span class=\"kn\">import</span> <span class=\"n\">FastAPI</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">slowapi</span> <span class=\"kn\">import</span> <span class=\"n\">Limiter</span><span class=\"p\">,</span> <span class=\"n\">_rate_limit_exceeded_handler</span>\n\n    <span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">Limiter</span><span class=\"p\">(</span><span class=\"n\">key_func</span><span class=\"o\">=</span><span class=\"n\">get_remote_address</span><span class=\"p\">)</span>\n    <span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">FastAPI</span><span class=\"p\">()</span>\n    <span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">state</span><span class=\"o\">.</span><span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">limiter</span>\n    <span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">add_exception_handler</span><span class=\"p\">(</span><span class=\"n\">RateLimitExceeded</span><span class=\"p\">,</span> <span class=\"n\">_rate_limit_exceeded_handler</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"/home\"</span><span class=\"p\">)</span>\n    <span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">\"5/minute\"</span><span class=\"p\">)</span>\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">homepage</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">:</span> <span class=\"n\">Request</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">PlainTextResponse</span><span class=\"p\">(</span><span class=\"s2\">\"test\"</span><span class=\"p\">)</span>\n</pre>\n<p>This will provide the same result, but with a FastAPI app.</p>\n<h1>Features</h1>\n<p>Most feature are coming from (will come from) FlaskLimiter and the underlying <a href=\"https://limits.readthedocs.io/\" rel=\"nofollow\">limits</a>.</p>\n<p>Supported now:</p>\n<ul>\n<li>Single and multiple <code>limit</code> decorator on endpoint functions to apply limits</li>\n<li>redis, memcached and memory backends to track your limits (memory as a fallback)</li>\n<li>support for sync and async HTTP endpoints</li>\n<li>Support for shared limits across a set of routes</li>\n</ul>\n<h1>Limitations and known issues</h1>\n<ul>\n<li>\n<p>There is no support for default limits yet (in other words, the only default limit supported is \"unlimited\")</p>\n</li>\n<li>\n<p>The <code>request</code> argument must be explicitly passed to your endpoint, or <code>slowapi</code> won't be able to hook into it. In other words, write:</p>\n</li>\n</ul>\n<pre>    <span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">\"5/minute\"</span><span class=\"p\">)</span>\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">myendpoint</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">:</span> <span class=\"n\">Request</span><span class=\"p\">)</span>\n        <span class=\"k\">pass</span>\n</pre>\n<p>and not:</p>\n<pre>    <span class=\"nd\">@limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"s2\">\"5/minute\"</span><span class=\"p\">)</span>\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">myendpoint</span><span class=\"p\">()</span>\n        <span class=\"k\">pass</span>\n</pre>\n<ul>\n<li><code>websocket</code> endpoints are not supported yet.</li>\n</ul>\n<h1>Developing and contributing</h1>\n<p>PRs are more than welcome! Please include tests for your changes :)</p>\n<p>The package uses <a href=\"https://python-poetry.org\" rel=\"nofollow\">poetry</a> to manage dependencies. To setup your dev env:</p>\n<pre>$ poetry install\n</pre>\n<p>To run the tests:</p>\n<pre>$ pytest\n</pre>\n<h1>Credits</h1>\n<p>Credits go to <a href=\"https://github.com/alisaifee/flask-limiter\" rel=\"nofollow\">flask-limiter</a> of which SlowApi is a (still partial) adaptation to Starlette and FastAPI.\nIt's also important to mention that the actual rate limiting work is done by <a href=\"https://github.com/alisaifee/limits/\" rel=\"nofollow\">limits</a>, <code>slowapi</code> is just a wrapper around it.</p>\n\n          </div>"}, "last_serial": 6788786, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "71fc5b9dda3b6beb334581de90b8f5f6", "sha256": "36ea6079b8de1418778a9a3bcd6f2b0eab32832ac55131bf5700f3d515d0e7fc"}, "downloads": -1, "filename": "slowapi-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "71fc5b9dda3b6beb334581de90b8f5f6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 11271, "upload_time": "2020-02-21T13:54:44", "upload_time_iso_8601": "2020-02-21T13:54:44.838822Z", "url": "https://files.pythonhosted.org/packages/f2/a7/d590c1176ec7f5347dd9c978619261ef676f083907865149fc156b40dc05/slowapi-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6dba13e42c1e649e45c8a2914517e911", "sha256": "bb043a3efc16cf44354407348491957a362435373f7c7ec7457d0e652e05ec28"}, "downloads": -1, "filename": "slowapi-0.1.0.tar.gz", "has_sig": false, "md5_digest": "6dba13e42c1e649e45c8a2914517e911", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 11382, "upload_time": "2020-02-21T13:54:47", "upload_time_iso_8601": "2020-02-21T13:54:47.602784Z", "url": "https://files.pythonhosted.org/packages/6e/be/e279afa9b68be584ed0b7f1c6ff88a02ba3b2fd6b4dd779a7b31724b1d4e/slowapi-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "323079e77cf18cfb3f4ec1c44528a101", "sha256": "bb6ca34b9d7d9e2e5e8e660464dbb91170dc96d8a379a2a93fc1c9c29d4f084b"}, "downloads": -1, "filename": "slowapi-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "323079e77cf18cfb3f4ec1c44528a101", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 11568, "upload_time": "2020-03-11T00:03:24", "upload_time_iso_8601": "2020-03-11T00:03:24.787224Z", "url": "https://files.pythonhosted.org/packages/6c/e8/9865f6f1ecb8242319f319e4f1c699476c75f02c7dafefcba568c7f14e4d/slowapi-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ae0d63f8666885688c567f2a1ff54d02", "sha256": "eee99232f73a7d97328f29df0b0ffe0f59eddb2ea9cf8deab815a44657a30d09"}, "downloads": -1, "filename": "slowapi-0.1.1.tar.gz", "has_sig": false, "md5_digest": "ae0d63f8666885688c567f2a1ff54d02", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 11763, "upload_time": "2020-03-11T00:03:26", "upload_time_iso_8601": "2020-03-11T00:03:26.116439Z", "url": "https://files.pythonhosted.org/packages/2e/c0/a229d1771e150cd679e3d51a7ab7c15b9cbf02470c4ee00f3f00a36c649b/slowapi-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "323079e77cf18cfb3f4ec1c44528a101", "sha256": "bb6ca34b9d7d9e2e5e8e660464dbb91170dc96d8a379a2a93fc1c9c29d4f084b"}, "downloads": -1, "filename": "slowapi-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "323079e77cf18cfb3f4ec1c44528a101", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 11568, "upload_time": "2020-03-11T00:03:24", "upload_time_iso_8601": "2020-03-11T00:03:24.787224Z", "url": "https://files.pythonhosted.org/packages/6c/e8/9865f6f1ecb8242319f319e4f1c699476c75f02c7dafefcba568c7f14e4d/slowapi-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ae0d63f8666885688c567f2a1ff54d02", "sha256": "eee99232f73a7d97328f29df0b0ffe0f59eddb2ea9cf8deab815a44657a30d09"}, "downloads": -1, "filename": "slowapi-0.1.1.tar.gz", "has_sig": false, "md5_digest": "ae0d63f8666885688c567f2a1ff54d02", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 11763, "upload_time": "2020-03-11T00:03:26", "upload_time_iso_8601": "2020-03-11T00:03:26.116439Z", "url": "https://files.pythonhosted.org/packages/2e/c0/a229d1771e150cd679e3d51a7ab7c15b9cbf02470c4ee00f3f00a36c649b/slowapi-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:08:15 2020"}
{"info": {"author": "Joachim Ungar", "author_email": "joachim.ungar@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Scientific/Engineering :: GIS"], "description": "===============\nmapchete xarray\n===============\n\nThis driver enables mapchete to write multidimensional arrays into a tile directory structure.\n\n.. image:: https://badge.fury.io/py/mapchete-xarray.svg\n    :target: https://badge.fury.io/py/mapchete-xarray\n\n.. image:: https://travis-ci.org/ungarj/mapchete_xarray.svg?branch=master\n    :target: https://travis-ci.org/ungarj/mapchete_xarray\n\n.. image:: https://coveralls.io/repos/github/ungarj/mapchete_xarray/badge.svg?branch=master\n    :target: https://coveralls.io/github/ungarj/mapchete_xarray?branch=master\n\n.. image:: https://img.shields.io/pypi/pyversions/mapchete_xarray.svg\n    :target: https://pypi.python.org/pypi/mapchete_xarray\n\n\n\n-----\nUsage\n-----\n\nExample ``.mapchete`` file:\n\n.. code-block:: yaml\n\n    process: process.py\n    zoom_levels:\n        min: 0\n        max: 12\n    input:\n    output:\n        format: xarray\n        path: /some/output/path\n        dtype: uint16\n        bands: 3\n        storage: zarr  # or netcdf\n    pyramid:\n        grid: geodetic\n        metatiling: 2\n\n\n\nExample process file:\n\n.. code-block:: python\n\n    from dateutil import parser\n    import numpy as np\n    import xarray as xr\n\n\n    def execute(mp, stack_height=10):\n        # create 4D arrays with current tile shape and dtype\n        arrs = [\n            np.ones((3, ) + mp.tile.shape, dtype=\"uint16\")\n            for _ in range(1, stack_height)\n        ]\n\n        # create timestamps for each array\n        timestamps = [parser.parse(\"2018-04-0%s\" % i) for i in range(1, stack_height)]\n\n        # build xarray with time axis\n        timeseries = xr.DataArray(\n            np.stack(arrs), coords={'time': timestamps}, dims=('time', 'bands', 'x', 'y')\n        )\n\n        # return to write\n        return timeseries\n\n\n------------\nInstallation\n------------\n\n.. code-block:: shell\n\n    # install using pip:\n    pip install mapchete_xarray\n    # verify driver is vailable ('xarray' should be listed as output format):\n    mapchete formats\n\n\n-------------------\nCurrent Limitations\n-------------------\n\n- no reprojection allowed\n- when reading from existing output, process metatiling must be smaller than xarray output metatiling\n\n\n-------\nLicense\n-------\n\nMIT License\n\nCopyright (c) 2019-2020 `EOX IT Services`_\n\n.. _`EOX IT Services`: https://eox.at/\n\n\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/ungarj/mapchete_xarray", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "mapchete-xarray", "package_url": "https://pypi.org/project/mapchete-xarray/", "platform": "", "project_url": "https://pypi.org/project/mapchete-xarray/", "project_urls": {"Homepage": "https://github.com/ungarj/mapchete_xarray"}, "release_url": "https://pypi.org/project/mapchete-xarray/0.4/", "requires_dist": ["boto3", "mapchete (>=0.28)", "netCDF4", "s3fs", "xarray", "zarr"], "requires_python": "", "summary": "Mapchete xarray output driver", "version": "0.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>This driver enables mapchete to write multidimensional arrays into a tile directory structure.</p>\n<a href=\"https://badge.fury.io/py/mapchete-xarray\" rel=\"nofollow\"><img alt=\"https://badge.fury.io/py/mapchete-xarray.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/12a3d80657ef86c8343136d069c9de576d133299/68747470733a2f2f62616467652e667572792e696f2f70792f6d617063686574652d7861727261792e737667\"></a>\n<a href=\"https://travis-ci.org/ungarj/mapchete_xarray\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/ungarj/mapchete_xarray.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d48ada8557d696a53917b0de4ff349d86df6d8ae/68747470733a2f2f7472617669732d63692e6f72672f756e6761726a2f6d617063686574655f7861727261792e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://coveralls.io/github/ungarj/mapchete_xarray?branch=master\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/github/ungarj/mapchete_xarray/badge.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2f7e870eb3d021c51a7de23991a454c32cdaa386/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f756e6761726a2f6d617063686574655f7861727261792f62616467652e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.python.org/pypi/mapchete_xarray\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/pyversions/mapchete_xarray.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ca1c6c4640a3e1c8b101bcc42733b0c7788661cb/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6d617063686574655f7861727261792e737667\"></a>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>Example <tt>.mapchete</tt> file:</p>\n<pre><span class=\"nt\">process</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">process.py</span>\n<span class=\"nt\">zoom_levels</span><span class=\"p\">:</span>\n    <span class=\"nt\">min</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">0</span>\n    <span class=\"nt\">max</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">12</span>\n<span class=\"nt\">input</span><span class=\"p\">:</span>\n<span class=\"nt\">output</span><span class=\"p\">:</span>\n    <span class=\"nt\">format</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">xarray</span>\n    <span class=\"nt\">path</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">/some/output/path</span>\n    <span class=\"nt\">dtype</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">uint16</span>\n    <span class=\"nt\">bands</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">3</span>\n    <span class=\"nt\">storage</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">zarr</span>  <span class=\"c1\"># or netcdf</span>\n<span class=\"nt\">pyramid</span><span class=\"p\">:</span>\n    <span class=\"nt\">grid</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">geodetic</span>\n    <span class=\"nt\">metatiling</span><span class=\"p\">:</span> <span class=\"l-Scalar-Plain\">2</span>\n</pre>\n<p>Example process file:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">dateutil</span> <span class=\"kn\">import</span> <span class=\"n\">parser</span>\n<span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">import</span> <span class=\"nn\">xarray</span> <span class=\"k\">as</span> <span class=\"nn\">xr</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">execute</span><span class=\"p\">(</span><span class=\"n\">mp</span><span class=\"p\">,</span> <span class=\"n\">stack_height</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n    <span class=\"c1\"># create 4D arrays with current tile shape and dtype</span>\n    <span class=\"n\">arrs</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ones</span><span class=\"p\">((</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">mp</span><span class=\"o\">.</span><span class=\"n\">tile</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"s2\">\"uint16\"</span><span class=\"p\">)</span>\n        <span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">stack_height</span><span class=\"p\">)</span>\n    <span class=\"p\">]</span>\n\n    <span class=\"c1\"># create timestamps for each array</span>\n    <span class=\"n\">timestamps</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">parse</span><span class=\"p\">(</span><span class=\"s2\">\"2018-04-0</span><span class=\"si\">%s</span><span class=\"s2\">\"</span> <span class=\"o\">%</span> <span class=\"n\">i</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">stack_height</span><span class=\"p\">)]</span>\n\n    <span class=\"c1\"># build xarray with time axis</span>\n    <span class=\"n\">timeseries</span> <span class=\"o\">=</span> <span class=\"n\">xr</span><span class=\"o\">.</span><span class=\"n\">DataArray</span><span class=\"p\">(</span>\n        <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">stack</span><span class=\"p\">(</span><span class=\"n\">arrs</span><span class=\"p\">),</span> <span class=\"n\">coords</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'time'</span><span class=\"p\">:</span> <span class=\"n\">timestamps</span><span class=\"p\">},</span> <span class=\"n\">dims</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">'time'</span><span class=\"p\">,</span> <span class=\"s1\">'bands'</span><span class=\"p\">,</span> <span class=\"s1\">'x'</span><span class=\"p\">,</span> <span class=\"s1\">'y'</span><span class=\"p\">)</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"c1\"># return to write</span>\n    <span class=\"k\">return</span> <span class=\"n\">timeseries</span>\n</pre>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre><span class=\"c1\"># install using pip:\n</span>pip install mapchete_xarray\n<span class=\"c1\"># verify driver is vailable ('xarray' should be listed as output format):\n</span>mapchete formats\n</pre>\n</div>\n<div id=\"current-limitations\">\n<h2>Current Limitations</h2>\n<ul>\n<li>no reprojection allowed</li>\n<li>when reading from existing output, process metatiling must be smaller than xarray output metatiling</li>\n</ul>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>MIT License</p>\n<p>Copyright (c) 2019-2020 <a href=\"https://eox.at/\" rel=\"nofollow\">EOX IT Services</a></p>\n</div>\n\n          </div>"}, "last_serial": 7189678, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "ceb93ed40d51cf4241d1a2941d2a59dc", "sha256": "ec41909ee0461bb2e20303e0d998e34b61f81a849f0c3274bd131b163491d4b8"}, "downloads": -1, "filename": "mapchete_xarray-0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "ceb93ed40d51cf4241d1a2941d2a59dc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5428, "upload_time": "2019-04-18T14:41:32", "upload_time_iso_8601": "2019-04-18T14:41:32.252382Z", "url": "https://files.pythonhosted.org/packages/85/f9/fedaec8cb17b35351ed8a52236af64d01d5811763dbfbbe367e1890bf7f3/mapchete_xarray-0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1bec2d947fdd3296ee9063a8356b8c35", "sha256": "fe8cdc19cc15fd60dfc936ee93b69b5f25187bf8a45d074ce9b566052abd0a93"}, "downloads": -1, "filename": "mapchete_xarray-0.1.tar.gz", "has_sig": false, "md5_digest": "1bec2d947fdd3296ee9063a8356b8c35", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4294, "upload_time": "2019-04-18T14:41:34", "upload_time_iso_8601": "2019-04-18T14:41:34.561519Z", "url": "https://files.pythonhosted.org/packages/48/2f/4d59f9bd5d8446645e0d739679987e2608f1053a9d37f67115c03a091273/mapchete_xarray-0.1.tar.gz", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "faddf3326f2caa9886ef36b2d56cdec5", "sha256": "94a2073f0135fae00135e2a31588307400973a60dfef4c699b4e0853b3f0f347"}, "downloads": -1, "filename": "mapchete_xarray-0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "faddf3326f2caa9886ef36b2d56cdec5", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5960, "upload_time": "2019-05-20T12:39:39", "upload_time_iso_8601": "2019-05-20T12:39:39.565214Z", "url": "https://files.pythonhosted.org/packages/e4/0a/ce82ec87404b5043402bab9598b3cc1d6c2f818499cfe90af32333d50a68/mapchete_xarray-0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "05505291e751c910b442d8b0edcf8fb7", "sha256": "616ff6404d8fd3f176a6bd39fb1ddd93d2f2c038d5f51525418c1f3b3e1e1c29"}, "downloads": -1, "filename": "mapchete_xarray-0.2.tar.gz", "has_sig": false, "md5_digest": "05505291e751c910b442d8b0edcf8fb7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4963, "upload_time": "2019-05-20T12:39:41", "upload_time_iso_8601": "2019-05-20T12:39:41.153448Z", "url": "https://files.pythonhosted.org/packages/6b/c4/492c532fa01834e428f4af5e04602bef44a90cae94d927d491663d3b0814/mapchete_xarray-0.2.tar.gz", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "8d36c1f8016c4c6188184f4ba0b4ffd1", "sha256": "17b5930f251aa3e8a756c3d69a71ac187398585dc78fcb4a82f650bfc2b857ce"}, "downloads": -1, "filename": "mapchete_xarray-0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "8d36c1f8016c4c6188184f4ba0b4ffd1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5962, "upload_time": "2019-05-20T12:41:21", "upload_time_iso_8601": "2019-05-20T12:41:21.215064Z", "url": "https://files.pythonhosted.org/packages/59/76/3850b365d123b16f94ffdd196791ae02acf8cfb624b13bc384627aa21766/mapchete_xarray-0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7e5f99f8168407cc8f252dc6ff6d7f4f", "sha256": "365dc0ae65a14c57a8acf67d29cfeacc1af7eaa5db894eaa62d066bc78de96c1"}, "downloads": -1, "filename": "mapchete_xarray-0.3.tar.gz", "has_sig": false, "md5_digest": "7e5f99f8168407cc8f252dc6ff6d7f4f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4963, "upload_time": "2019-05-20T12:41:22", "upload_time_iso_8601": "2019-05-20T12:41:22.880572Z", "url": "https://files.pythonhosted.org/packages/4d/e3/3df4e8c51b20492bc1c57abdcff7bebe361a359202ddc254db8a9c5c1595/mapchete_xarray-0.3.tar.gz", "yanked": false}], "0.4": [{"comment_text": "", "digests": {"md5": "050991d9807fb699c5b756a9a9ffa733", "sha256": "53f54e8613e298d5b196505335e1f55ededa49b802ce7a526d112616938b92dc"}, "downloads": -1, "filename": "mapchete_xarray-0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "050991d9807fb699c5b756a9a9ffa733", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 6567, "upload_time": "2020-05-07T15:51:07", "upload_time_iso_8601": "2020-05-07T15:51:07.871253Z", "url": "https://files.pythonhosted.org/packages/81/d5/97f9d4bc4eae34959d0299f75b1baa51151a14f0fd3e4b292c09bfd797b9/mapchete_xarray-0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "de827b8290aae0b25e41a67f1d49539d", "sha256": "a6f8412351bc8ffa5018fc301a60ef0483a2363569894774b09b412816fd7e31"}, "downloads": -1, "filename": "mapchete_xarray-0.4.tar.gz", "has_sig": false, "md5_digest": "de827b8290aae0b25e41a67f1d49539d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5446, "upload_time": "2020-05-07T15:51:09", "upload_time_iso_8601": "2020-05-07T15:51:09.428949Z", "url": "https://files.pythonhosted.org/packages/b6/fa/518e8883504f8c3e41614182a6ccf7c6f8fdb7a5859232e3af1b7703bd11/mapchete_xarray-0.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "050991d9807fb699c5b756a9a9ffa733", "sha256": "53f54e8613e298d5b196505335e1f55ededa49b802ce7a526d112616938b92dc"}, "downloads": -1, "filename": "mapchete_xarray-0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "050991d9807fb699c5b756a9a9ffa733", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 6567, "upload_time": "2020-05-07T15:51:07", "upload_time_iso_8601": "2020-05-07T15:51:07.871253Z", "url": "https://files.pythonhosted.org/packages/81/d5/97f9d4bc4eae34959d0299f75b1baa51151a14f0fd3e4b292c09bfd797b9/mapchete_xarray-0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "de827b8290aae0b25e41a67f1d49539d", "sha256": "a6f8412351bc8ffa5018fc301a60ef0483a2363569894774b09b412816fd7e31"}, "downloads": -1, "filename": "mapchete_xarray-0.4.tar.gz", "has_sig": false, "md5_digest": "de827b8290aae0b25e41a67f1d49539d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5446, "upload_time": "2020-05-07T15:51:09", "upload_time_iso_8601": "2020-05-07T15:51:09.428949Z", "url": "https://files.pythonhosted.org/packages/b6/fa/518e8883504f8c3e41614182a6ccf7c6f8fdb7a5859232e3af1b7703bd11/mapchete_xarray-0.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:57:56 2020"}
{"info": {"author": "Argyrios Samourkasidis", "author_email": "argysamo@gmail.com", "bugtrack_url": null, "classifiers": ["Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6"], "description": "[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)](http://makeapullrequest.com)\n\n# Table of contents\n\n- [Installation](#installation)   \n- [Test cases](#test-cases)   \n\t- [AgMIP and APSIM weather data files](#agmip-and-apsim-weather-data-files)\n\t\t- [AgMIP data files](#agmip-data-files)\n\t\t\t- [AgMIP dataset](#agmip-dataset)\n\t\t\t- [AgMIP template](#agmip-template)\n\t\t\t- [AgMIP metadata](#agmip-metadata)\n\t\t\t- [Parse AgMIP](#parse-agmip)\n\t\t- [APSIM station](#apsim-station)\n\t\t\t- [APSIM dataset](#apsim-dataset)\n\t\t\t- [APSIM template](#apsim-template)\n\t\t\t- [APSIM metadata](#apsim-metadata)\n\t\t\t- [Parse APSIM](#parse-apsim)\n[Template language](#template-language)   \n[Proposed workflow](#proposed-workflow)   \n   \n# Installation\n\nThis project runs on **python3**. Thus, python3 should be installed.   \n\nFor MacOS users issuing a `brew install python3` should do the trick. \nAbove command installs python3 (`/usr/local/bin/python3`) and pip3 (`/usr/local/bin/pip3`).\n\n\nYou can install and run this version. Issue the followings:\n\n`pip3 install edam`\n\nAbove commands install `edam` in your system. \nThey also create an **.edam** folder in your system's home directory. \nAll EDAM related documents are located in this folder. \nUser drafted *template* and *metadat* , and *input* files should be put in this folder. \n\nMore information about the proposed workflow can be found [here](#proposed-worflow). \n\n# Test cases\n\nAfter parsing datasets using `edam` command, you can issue `viewer` command \nand a webservice starts on you computer. If no changes to `settings.yaml` \n(check [Proposed workflow](#proposed-workflow)) have been made, you can visit \n`http://127.0.0.1:5000` and view the data. \n\nFor more details about the `edam` command usage, issue a `edam --help` in your terminal.  \n\n## **AgMIP and APSIM weather data files**\n\nThe Agricultural Model Intercomparison and Improvement Project (AgMIP) brought into the spotlight agricultural modelling data sharing. \nWithin AgMIP, various agricultural models (such as the APSIM) were transformed into the AgMIP data scheme. \n\nAgMIP and APSIM data files use different *timestamp components*. \nThe challenge here is to compose these into one universal timestamp. \nAPSIM uses *julian dates* and *years*, while AgMIP timestamp is represented through *year*, *month*, *date* components. \n\nAnother challenge was related with metadata encoded in the preamble of APSIM data files. \nSpecifically, prior to the timeseries there are station metadata such as station name, location and others. \nThe APSIM data files share the same structure, so these preamble-encoded metadata distinguish the different stations. \n\n\n### AgMIP data files\n\n#### AgMIP dataset\n\n```csv\n@DATE    YYYY  MM  DD  SRAD  TMAX  TMIN  RAIN  WIND  DEWP  VPRS  RHUM\n1980001  1980   1   1  15.0  26.0  12.2   0.0   1.4   4.8   8.6    25\n1980002  1980   1   2   6.9  21.2   9.5   0.0   1.6   8.1  10.8    42\n1980003  1980   1   3  10.7  22.2  14.7   8.0   1.5  11.9  14.0    52\n1980004  1980   1   4  15.6  24.0  10.0   0.0   2.9   9.2  11.7    39\n1980005  1980   1   5  16.3  23.9  12.0   0.0   2.7   1.7   6.9    23\n1980006  1980   1   6  15.0  23.0  11.8   0.0   2.7   2.8   7.5    26\n1980007  1980   1   7  16.5  22.2  11.4   0.0   2.5  -0.5   5.9    22\n```\n\n#### AgMIP template\n\n```csv\n@DATE    YYYY  MM  DD  SRAD  TMAX  TMIN  RAIN  WIND  DEWP  VPRS  RHUM\n{%for timestamp, srad, tmax, tmin, rain, wind, dewp, vprs, rhum in chunk%}\n1980001  {{timestamp.year}}   {{timestamp.month}}   {{timestamp.day}}  {{srad.value}}  {{tmax.value}}  {{tmin.value}}   {{rain.value}}   {{wind.value}}   {{dewp.value}}   {{vprs.value}}    {{rhum.value}}\n{%endfor%}\n```\n\n#### AgMIP metadata\n\n```yaml\nStation:\n    name: Agmip\n    mobile: False\n    latitude: 23.200\n    longitude: 89.330\n    license: Attribution\n    tags:\n        key1: value1\n        key2: value2\nObservables:\n    - observable_id: tmin\n      name: Temperature Min\n      ontology: http://edam.gr#Temperature\n      qualifiers: http://edam.gr#min\n    - observable_id: tmax\n      name: Temperature Max\n      ontology: http://edam.gr#Temperature\n      qualifiers: http://edam.gr#max\n    - observable_id: rain\n      name: Rain\n      ontology: http://edam.gr#Rain\n    - observable_id: srad\n      name: Solar radiation\n      ontology: http://edam.gr#SolarRadiation\n    - observable_id: wind\n      name: Wind\n      ontology: http://edam.gr#WindSpeed\n    - observable_id: rhum\n      name: Humidity\n      ontology: http://edam.gr#RelativeHumidity\n    - observable_id: vprs\n      name: Vprs\n      ontology: http://edam.gr#VaporPressure\n    - observable_id: dewp\n      name: Dewing point\n      ontology: http://edam.gr#DewingPoint\nUnits of Measurement:\n    - name: Megajoule per square metre\n      symbol: MJ/m^2\n      relevant_observables: srad\n    - name: Kilopascal\n      symbol: kPa\n      relevant_observables: vprs\n    - name: Percent\n      symbol: \\%\n      relevant_observables: rhum\n    - name: Celcius\n      symbol: degC\n      relevant_observables: tmin, tmax, dewp\n    - name: Millimeters\n      symbol: mm\n      relevant_observables: rain\n    - name: kilometers per hour\n      symbol: km/hr\n      relevant_observables: wind\n```\n\n#### Parse AgMIP\n\nFollowing command is executed in approximately 2 seconds:\n\n`edam --input Agmip.csv --template Agmip.tmpl --metadata Agmip.yaml --drop yes`   \n\n\n### APSIM station\n\n#### APSIM dataset\n\n```csv\n[weather.met.weather]\n\nLatitude   =   36.68\nlongitude   =   116.98\ntav   =   14.6   (oC)   !   annual   average   ambient   temperature\namp   =   28.2   (oC)   !   annual   amplitude   in   mean   monthly   temperature\n!!!!   1/01/1961   to   31/12/2005\n   day   year   radn   maxt   mint   rain   wind   RH\n   273   2002   17.5   27.2   14.6   0   3.5   54\n  274   2002   13.6   23.1   14.7   0   5.3   40\n  275   2002   15.8   27.1   11.1   0   5.5   29\n  276   2002   15.5   25.8   16.5   0   3.8   39\n  277   2002   14.9   25.5   14.6   0   2.5   63\n  278   2002   15.2   23.1   15.2   0   3   47\n  279   2002   13.4   19.9   10.9   0   3   38\n  280   2002   15.7   19.3   8.2   0   2.5   47\n```\n\n#### APSIM template\n\n```csv\n[weather.met.weather]\n\nLatitude   =   {{station.latitude}}\nlongitude   =   {{station.longitude}}\ntav   =   {{station.tags.tav}}\namp   =   {{station.tags.amp}}\n!!!!   1/01/1961   to   31/12/2005\n   day   year   radn   maxt   mint   rain   wind   RH\n{%for timestamp, radn,maxt,mint,rain,wind,RH in chunk%}\n{{timestamp.dayofyear}}  {{timestamp.year}}  {{radn.value}}  {{maxt.value}}  {{mint.value}}  {{rain.value}}  {{wind.value}}  {{RH.value}}\n{%endfor%}\n```\n\n#### APSIM metadata\n\n```yaml\nStation:\n    name: Yucheng\n    license: Attribution\nObservables:\n    - observable_id: mint\n      name: Temperature\n      ontology: http://edam.gr#Temperature\n      qualifiers: http://edam.gr#min\n    - observable_id: maxt\n      name: Max Temperature\n      ontology: http://edam.gr#Temperature\n      qualifiers: http://edam.gr#max\n    - observable_id: rain\n      name: Rain\n      ontology: http://edam.gr#Rain\n    - observable_id: radn\n      name: Solar radiation\n      ontology: http://edam.gr#SolarRadiation\n    - observable_id: wind\n      name: Wind\n      ontology: http://edam.gr#WindSpeed\n    - observable_id: RH\n      name: Relative humidity\n      ontology: http://edam.gr#RelativeHumidity\nUnits of Measurement:\n    - name: Millijoule per square meters\n      symbol: mJ/m^2\n      relevant_observables: radn\n    - name: Percent\n      symbol: \\%\n      relevant_observables: RH\n    - name: Celcius\n      symbol: degC\n      relevant_observables: mint, maxt\n    - name: Millimeters\n      symbol: mm\n      relevant_observables: rain\n    - name: Meters per second\n      symbol: m/s\n      relevant_observables: wind\n```\n\n#### Parse APSIM\n\nFollowing command is executed in less than 1 second:\n\n`edam --input Yucheng.met --template Yucheng.tmpl --metadata Yucheng.yaml --drop yes`   \n\n\n## **UK Meteorological Office**\n\nIn the context of Open Data, the UK Meteorological Office, reports historical observations of 27 weather stations. \nFor every station, monthly observations are stored in one text document. \nNew observations are appended every month and each weather station can be found on a certain URI. \nURI follows the pattern: \n`http://www.metoffice.gov.uk/pub/data/weather/uk/climate/stationdata/{station name}data.txt`, where {station name} is replaced with an actual station name. \n\nData points reported in Met Office weather stations' documents have special markers. \nThe challenge here is concerned with establishing a relation among markers and attributes. \nThis relation, expressed using natural language, is defined in each document's preamble. \nFor example, \"estimated data is marked with a * after the value\". \nThese types of metadata are essential, so they have to be parsed and stored. \n\n### UK Met dataset\n\n```csv\nCwmystwyth\nLocation: 277300E 274900N, Lat 52.358 Lon -3.802, 301 metres amsl\nEstimated data is marked with a * after the value.\nMissing data (more than 2 days missing in month) is marked by  ---.\nSunshine data taken from an automatic Kipp & Zonen sensor marked with a #, otherwise sunshine data taken from a Campbell Stokes recorder.\n   yyyy  mm   tmax    tmin      af    rain     sun\n              degC    degC    days      mm   hours\n   1959   1    4.5    -1.9      20    ---     57.2\n  1959    2    7.3     0.9      15    ---     87.2\n  1959    3    8.4     3.1       3    ---     81.6\n  1959    4   10.8     3.7       1    ---    107.4\n  1959    5   15.8     5.8       1    ---    213.5\n  1959    6   16.9     8.2       0    ---    209.4\n  1959    7   18.5     9.5       0    ---    167.8\n  1959    8   19.0    10.5       0    ---    164.8\n  1959    9   18.3     5.9       0    ---    196.5\n  1959   10   14.8     7.9       1    ---    101.1\n  1959   11    8.8     3.9       3    ---     38.9\n  1959   12    7.2     2.5       3    ---     19.2\n```\n\n### UK Met template\n\n```csv\n{{station.name}}\nLocation:{{station.location}}, Lat {{station.latitude}} Lon {{station.longitude}}, {{station.tags.altitude}}\nEstimated data is marked with a * after the value.\nMissing data (more than 2 days missing in month) is marked by  ---.\nSunshine data taken from an automatic Kipp & Zonen sensor marked with a #, otherwise sunshine data taken from a Campbell Stokes recorder.\n   yyyy  mm   tmax    tmin      af    rain     sun\n              degC    degC    days      mm   hours\n{%for timestamp, tmax,tmin,af,rain,sun in chunk%}\n{{timestamp.year}}  {{timestamp.month}}  {{tmax.value}}  {{tmin.value}}  {{af.value}}  {{rain.value}}  {{sun.value}}\n{%endfor%}\n```\n\n### UK Met metadata\n\n```yaml\nStation:\n    license: Attribution\n    region: United Kingdom\n    url: http://www.metoffice.gov.uk/\n    tags:\n        key1:value1\n        key2:value2\nObservables:\n    -   observable_id: tmin\n        name: Temperature minimum\n        ontology: http://edam.gr#Temperature\n        qualifiers: http://edam.gr#min\n    -   observable_id: tmax\n        name: Temperature Max\n        ontology: http://edam.gr#Temperature\n        qualifiers: http://edam.gr#max\n    -   observable_id: rain\n        name: Rain\n        ontology: http://edam.gr#Rain\n    -   observable_id: af\n        name: Days of air frost\n        ontology: http://edam.gr#AirFrostDays\n    -   observable_id: sun\n        name: Sunshine duration\n        ontology: http://edam.gr#SunShineDuration\nUnits of Measurement:\n    -   name: Days\n        symbol: D\n        relevant_observables: af, sun\n    -   name: Celcius\n        symbol: degC\n        relevant_observables: tmin, tmax\n    -   name: Millimeters\n        symbol: mm\n        relevant_observables: rain\n```\n\n### Parse all UK Met weather stations\n\nFollowing command downloads and stores data from 27 weather stations. \nIt is executed in approximately 9 seconds.   \n\n`edam --input \"http://www.metoffice.gov.uk/pub/data/weather/uk/climate/stationdata/{\\$var}data.txt\" --template uk.tmpl --metadata uk.yaml --var \"aberporth,armagh, ballypatrick, camborne, cambridge, cardiff, chivenor, cwmystwyth, dunstaffnage, durham, eastbourne, eskdalemuir\" --drop yes`\n\n## **Australian Bureau of Meteorology (Online)**\n\nBureau of Meteorology (BoM) in Australia offers historical timeseries from a number of weather stations. \nThey concern *daily* observations which are published every month in HTML documents. \nThese <!-- documents --> share the same structure and semantics, and are available online. \nUsers can access the timeseries by crafting URLs which comprise of information about the requested station id, and month/year. \nFor example, the URL for the meteorological data about Adelaide station (*5002* station id) for *October 2017* is:   \n[http://www.bom.gov.au/climate/dwo/**201710**/text/IDCJDW**5002**.**201710**.csv](http://www.bom.gov.au/climate/dwo/201710/text/IDCJDW5002.201710.csv)\n\nThe challenge in curating BoM timeseries was regarded with their structure. \nIn most other cases, every data-row corresponds to *one observation* for a *given timestamp*. \nHowever, each BoM row has *two observations* for the *same* daily-sampled timestamp. \nThese two observations are taken during different time of a day. \nThis *sampling hour*, which will complement the *daily-sampled timestamp* for the bi-daily observations, is encoded in the dataset's header.\n\n### BoM dataset\n\n```csv\n\"Daily Weather Observations for Elliston, South Australia for July 2017\"\n\"Prepared at 13:05 GMT on Monday 21 August 2017   IDCJDW5017.201707\"\n\"Copyright 2003 Commonwealth Bureau of Meteorology\"\n\"Observations were drawn from Elliston {station 018069}\"\n\n,\"Date\",\"Minimum temperature (\u00b0C)\",\"Maximum temperature (\u00b0C)\",\"Rainfall (mm)\",\"Evaporation (mm)\",\"Sunshine (hours)\",\"Direction of maximum wind gust \",\"Speed of maximum wind gust (km/h)\",\"Time of maximum wind gust\",\"9am Temperature (\u00b0C)\",\"9am relative humidity (%)\",\"9am cloud amount (oktas)\",\"9am wind direction\",\"9am wind speed (km/h)\",\"9am MSL pressure (hPa)\",\"3pm Temperature (\u00b0C)\",\"3pm relative humidity (%)\",\"3pm cloud amount (oktas)\",\"3pm wind direction\",\"3pm wind speed (km/h)\",\"3pm MSL pressure (hPa)\"\n,2017-07-1,6.4,18.4,0,,,,,,10.0,74,0,,,1024.3,,,,,,\n,2017-07-2,10.1,16.6,0,,,,,,12.0,64,0,NNW,19,1014.1,,,,,,\n,2017-07-3,7.5,17.3,8.8,,,,,,10.0,90,8,NNW,33,1005.9,,,,,,\n,2017-07-4,9.8,16.4,14.2,,,,,,13.4,92,8,NNW,15,1014.1,,,,,,\n,2017-07-5,10.5,17.5,27.8,,,,,,14.4,83,6,WSW,17,1017.0,,,,,,\n,2017-07-6,5.6,16.1,0.2,,,,,,9.7,68,0,NNW,11,1012.8,,,,,,\n,2017-07-7,9.1,15.8,9.2,,,,,,12.6,75,6,SW,37,1015.1,,,,,,\n,2017-07-8,8.4,15.7,4.6,,,,,,10.8,97,8,WNW,7,1019.7,,,,,,\n,2017-07-9,7.6,15.7,5.0,,,,,,10.8,96,6,NNE,2,1023.2,,,,,,\n,2017-07-10,6.9,16.8,0.8,,,,,,11.0,97,6,NNE,2,1027.1,,,,,,\n,2017-07-11,5.5,18.6,0,,,,,,9.9,82,1,NNE,4,1030.6,,,,,,\n,2017-07-12,8.7,21.2,0,,,,,,12.2,51,6,N,22,1024.5,,,,,,\n,2017-07-13,10.0,18.7,0,,,,,,11.9,80,8,NNE,2,1018.0,,,,,,\n,2017-07-14,10.6,16.8,3.4,,,,,,13.9,78,7,SSW,11,1020.6,,,,,,\n,2017-07-15,8.9,16.0,1.4,,,,,,11.0,82,8,NNW,15,1023.8,,,,,,\n,2017-07-16,9.1,15.4,0.2,,,,,,11.7,78,8,N,15,1013.2,,,,,,\n,2017-07-17,11.0,15.9,9.4,,,,,,14.5,69,4,WSW,33,1011.2,,,,,,\n,2017-07-18,11.0,15.8,5.0,,,,,,12.0,87,8,SSW,28,1018.9,,,,,,\n,2017-07-19,11.1,15.2,2.6,,,,,,13.5,72,8,SSE,15,1026.8,,,,,,\n,2017-07-20,5.1,14.1,0,,,,,,8.2,84,8,ENE,7,1024.5,,,,,,\n,2017-07-21,7.3,22.9,0,,,,,,12.5,60,3,NNE,22,1018.2,,,,,,\n,2017-07-22,8.9,20.5,0,,,,,,13.0,61,0,NNW,4,1016.6,,,,,,\n,2017-07-23,12.9,18.0,0,,,,,,15.5,86,0,NNW,11,1020.2,,,,,,\n,2017-07-24,6.1,21.5,0,,,,,,11.9,89,0,NNE,4,1021.3,,,,,,\n,2017-07-25,5.4,18.0,0,,,,,,14.4,99,7,NW,11,1020.2,,,,,,\n,2017-07-26,8.3,18.9,0.2,,,,,,10.1,97,2, ,Calm,1025.6,,,,,,\n,2017-07-27,6.7,18.4,0,,,,,,16.4,61,8,NNW,22,1016.5,,,,,,\n,2017-07-28,4.2,25.6,0.6,,,,,,10.6,89,7,NNE,9,1019.8,,,,,,\n,2017-07-29,10.1,17.4,0,,,,,,16.8,70,8,WNW,22,1007.0,,,,,,\n,2017-07-30,11.3,16.8,3.6,,,,,,13.1,86,2,WSW,11,1015.9,,,,,,\n,2017-07-31,10.3,16.9,5.0,,,,,,12.4,82,6,SSW,22,1022.7,,,,,,\n```\n\n### BoM template\n\n```csv\n\"Daily Weather Observations for {{station.name}}, {{station.region}} for July 2017\"\n\"Prepared at 16:06 GMT on Monday  7 August 2017   IDCJDW5002.201701\"\n\"Copyright 2003 Commonwealth Bureau of Meteorology\"\n\"The \"official\" Adelaide site is now at West Terrace / ngayirdapira.\"\n\"The \"official\" Adelaide weather observations site is now at West Terrace / ngayirdapira {site number 023000}. This Kent Town site is about 2 km east of the city centre.\"\n\"Observations were drawn from Adelaide (Kent Town) {station 023090}\"\n\n,\"Date\",\"Minimum temperature (\u00b0C)\",\"Maximum temperature (\u00b0C)\",\"Rainfall (mm)\",\"Evaporation (mm)\",\"Sunshine (hours)\",\"Direction of maximum wind gust \",\"Speed of maximum wind gust (km/h)\",\"Time of maximum wind gust\",{% set hour=9 %},{% set hour=9 %},{% set hour=9 %},{% set hour=9 %},{% set hour=9 %},{%set hour=9 %},{% set hour=15 %},{% set hour=15 %},{%set hour=15 %},{% set hour=15 %},{% set hour=15 %},{% set hour=15 %}\n{%for temp, wind, timestamp, windm_spd, windm_dir, wind_spd, wind_dir, rain, evap, sun, humidity, cloud, mlsp, tempMIN, tempMAX in chunk%}\n,{{timestamp.date()}},{{tempMIN.value}},{{tempMAX.value}},{{rain.value}},{{evap.value}},{{sun.value}},{{windm_dir.value}},{{windm_spd.value}},{{same_timestamp(windm_spd.timestamp.time, windm_dir.timestamp.time)}},{{temp.value}},{{humidity.value}},{{cloud.value}},{{wind_dir.value}},{{wind_spd.value}},{{mlsp.value}},{{temp.value}},{{humidity.value}},{{cloud.value}},{{wind_dir.value}},{{wind_spd.value}},{{mlsp.value}}\n{%endfor%}\n```\n\n### Bom metadata\n\n```yaml\nStation:\n  url: http://www.bom.gov.au\n  license: Attribution\nObservables:\n    - observable_id: temp\n      name: Temperature above sea level\n    - observable_id: tempMIN\n      name: Temperature Min\n    - observable_id: tempMAX\n      name: Temperature Max\n    - observable_id: rain\n      name: Rain\n    - observable_id: evap\n      name: Evapotranspiration\n    - observable_id: sun\n      name: Sunlight\n    - observable_id: windm_dir\n      name: Wind max direction\n    - observable_id: windm_spd\n      name: Wind max speed\n    - observable_id: wind_dir\n      name: Wind direction\n    - observable_id: wind_spd\n      name: Wind speed\n    - observable_id: humidity\n      name: Humidity\n    - observable_id: cloud\n      name: Cloud\n    - observable_id: mlsp\n      name: Pressure\nUnits of Measurement:\n    - name: Celcius\n      symbol: C\n      relevant_observables: temp, tempMIN, tempMAX\n    - name: Millimeters\n      symbol: mm\n      relevant_observables: rain, evap\n    - name: hours\n      symbol: hr\n      relevant_observables: sun\n    - name: hectoPascal\n      symbol: hPa\n      relevant_observables: mlsp\n    - name: eights\n      symbol: 8th\n      relevant_observables: cloud\n    - name: Percent\n      symbol: \\%\n      relevant_observables: humidity\n    - name: Wind speed\n      symbol: km/h\n      relevant_observables: wind_spd\n    - name: Wind direction\n      symbol:\n      relevant_observables: windm_dir\n```\n\n### Parse all BoM stations for July 2017\n\nThe following command will generate the URLs for 574 stations, download, and store them. \nUltimately 478 stations exist.  \nThis command takes some time to be executed (aprox. 5 minutes). \n\n`edam --input \"http://www.bom.gov.au/climate/dwo/201707/text/IDCJDW{2-8}0{01-82}.201707.csv\" --template bom.tmpl --metadata bom.yaml --drop yes`  \n\n# EDAM template language\n\n## Metadata file\n\nIn the metadata file you can define *observables*, *station* and *sensors*. \n\nAn *observable* can have the following attributes: \n1. name (e.g. Wind)\n2. unit (e.g. direction km/h)\n3. observable_id (e.g. wind). This corresponds to the name one can use in the .tmpl\n\n## Template\n\nIn a template one can use in a *placeholder (**{{}}**)* only the *template_id*'s, which were defined in the metadata files. \n\nA *template_id* can have certain attributes. \nThese are:\n1. value (e.g.`{{wind.value}}`)\n2. timestamp. In case the table (csv) has a dedicated column which denotes the timestamp of a **specific observable**, this will be defined as `{{wind.timestamp.time}}` (if it's in the hh:mm format).\n3. In case the one column-timestamp refers to more than one observables (e.g. BoM wind_direction_max and wind_speed_max), this should be defined as `{{same_timestamp(windm_spd.timestamp.time, windm_dir.timestamp.time)}}`\n\nIn case a column has the timestamp which corresponds to **all observables in each row**, users will use the `{{timestamp.}}`.  \n\n# Proposed workflow\n\n1. Edit `setting.yaml` to correspond to your database system \n1. Draft a metadata file and put it into metadata folder (~/.edam/metadata)\n2. Draft a template file (`~/.edam/templates`)\n3. Add your input csv file into inputs folder (`~/.edam/inputs`)", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/ecologismico/edam", "keywords": "", "license": "GNU General Public License v3.0", "maintainer": "", "maintainer_email": "", "name": "edam", "package_url": "https://pypi.org/project/edam/", "platform": "", "project_url": "https://pypi.org/project/edam/", "project_urls": {"Homepage": "http://github.com/ecologismico/edam"}, "release_url": "https://pypi.org/project/edam/1.0.20/", "requires_dist": null, "requires_python": ">=3.3", "summary": "An input template framework", "version": "1.0.20", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"http://makeapullrequest.com\" rel=\"nofollow\"><img alt=\"PRs Welcome\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a8897c5f5e8a5eacb8ddf983bb640b73cc10464c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5052732d77656c636f6d652d627269676874677265656e2e7376673f7374796c653d666c61742d737175617265\"></a></p>\n<h1>Table of contents</h1>\n<ul>\n<li><a href=\"#installation\" rel=\"nofollow\">Installation</a></li>\n<li><a href=\"#test-cases\" rel=\"nofollow\">Test cases</a>\n<ul>\n<li><a href=\"#agmip-and-apsim-weather-data-files\" rel=\"nofollow\">AgMIP and APSIM weather data files</a>\n<ul>\n<li><a href=\"#agmip-data-files\" rel=\"nofollow\">AgMIP data files</a>\n<ul>\n<li><a href=\"#agmip-dataset\" rel=\"nofollow\">AgMIP dataset</a></li>\n<li><a href=\"#agmip-template\" rel=\"nofollow\">AgMIP template</a></li>\n<li><a href=\"#agmip-metadata\" rel=\"nofollow\">AgMIP metadata</a></li>\n<li><a href=\"#parse-agmip\" rel=\"nofollow\">Parse AgMIP</a></li>\n</ul>\n</li>\n<li><a href=\"#apsim-station\" rel=\"nofollow\">APSIM station</a>\n<ul>\n<li><a href=\"#apsim-dataset\" rel=\"nofollow\">APSIM dataset</a></li>\n<li><a href=\"#apsim-template\" rel=\"nofollow\">APSIM template</a></li>\n<li><a href=\"#apsim-metadata\" rel=\"nofollow\">APSIM metadata</a></li>\n<li><a href=\"#parse-apsim\" rel=\"nofollow\">Parse APSIM</a>\n<a href=\"#template-language\" rel=\"nofollow\">Template language</a><br>\n<a href=\"#proposed-workflow\" rel=\"nofollow\">Proposed workflow</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h1>Installation</h1>\n<p>This project runs on <strong>python3</strong>. Thus, python3 should be installed.</p>\n<p>For MacOS users issuing a <code>brew install python3</code> should do the trick.\nAbove command installs python3 (<code>/usr/local/bin/python3</code>) and pip3 (<code>/usr/local/bin/pip3</code>).</p>\n<p>You can install and run this version. Issue the followings:</p>\n<p><code>pip3 install edam</code></p>\n<p>Above commands install <code>edam</code> in your system.\nThey also create an <strong>.edam</strong> folder in your system's home directory.\nAll EDAM related documents are located in this folder.\nUser drafted <em>template</em> and <em>metadat</em> , and <em>input</em> files should be put in this folder.</p>\n<p>More information about the proposed workflow can be found <a href=\"#proposed-worflow\" rel=\"nofollow\">here</a>.</p>\n<h1>Test cases</h1>\n<p>After parsing datasets using <code>edam</code> command, you can issue <code>viewer</code> command\nand a webservice starts on you computer. If no changes to <code>settings.yaml</code>\n(check <a href=\"#proposed-workflow\" rel=\"nofollow\">Proposed workflow</a>) have been made, you can visit\n<code>http://127.0.0.1:5000</code> and view the data.</p>\n<p>For more details about the <code>edam</code> command usage, issue a <code>edam --help</code> in your terminal.</p>\n<h2><strong>AgMIP and APSIM weather data files</strong></h2>\n<p>The Agricultural Model Intercomparison and Improvement Project (AgMIP) brought into the spotlight agricultural modelling data sharing.\nWithin AgMIP, various agricultural models (such as the APSIM) were transformed into the AgMIP data scheme.</p>\n<p>AgMIP and APSIM data files use different <em>timestamp components</em>.\nThe challenge here is to compose these into one universal timestamp.\nAPSIM uses <em>julian dates</em> and <em>years</em>, while AgMIP timestamp is represented through <em>year</em>, <em>month</em>, <em>date</em> components.</p>\n<p>Another challenge was related with metadata encoded in the preamble of APSIM data files.\nSpecifically, prior to the timeseries there are station metadata such as station name, location and others.\nThe APSIM data files share the same structure, so these preamble-encoded metadata distinguish the different stations.</p>\n<h3>AgMIP data files</h3>\n<h4>AgMIP dataset</h4>\n<pre>@DATE    YYYY  MM  DD  SRAD  TMAX  TMIN  RAIN  WIND  DEWP  VPRS  RHUM\n1980001  1980   1   1  15.0  26.0  12.2   0.0   1.4   4.8   8.6    25\n1980002  1980   1   2   6.9  21.2   9.5   0.0   1.6   8.1  10.8    42\n1980003  1980   1   3  10.7  22.2  14.7   8.0   1.5  11.9  14.0    52\n1980004  1980   1   4  15.6  24.0  10.0   0.0   2.9   9.2  11.7    39\n1980005  1980   1   5  16.3  23.9  12.0   0.0   2.7   1.7   6.9    23\n1980006  1980   1   6  15.0  23.0  11.8   0.0   2.7   2.8   7.5    26\n1980007  1980   1   7  16.5  22.2  11.4   0.0   2.5  -0.5   5.9    22\n</pre>\n<h4>AgMIP template</h4>\n<pre>@DATE    YYYY  MM  DD  SRAD  TMAX  TMIN  RAIN  WIND  DEWP  VPRS  RHUM\n{%for timestamp, srad, tmax, tmin, rain, wind, dewp, vprs, rhum in chunk%}\n1980001  {{timestamp.year}}   {{timestamp.month}}   {{timestamp.day}}  {{srad.value}}  {{tmax.value}}  {{tmin.value}}   {{rain.value}}   {{wind.value}}   {{dewp.value}}   {{vprs.value}}    {{rhum.value}}\n{%endfor%}\n</pre>\n<h4>AgMIP metadata</h4>\n<pre><span class=\"nt\">Station</span><span class=\"p\">:</span>\n    <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Agmip</span>\n    <span class=\"nt\">mobile</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">False</span>\n    <span class=\"nt\">latitude</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">23.200</span>\n    <span class=\"nt\">longitude</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">89.330</span>\n    <span class=\"nt\">license</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Attribution</span>\n    <span class=\"nt\">tags</span><span class=\"p\">:</span>\n        <span class=\"nt\">key1</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">value1</span>\n        <span class=\"nt\">key2</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">value2</span>\n<span class=\"nt\">Observables</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">tmin</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Temperature Min</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#Temperature</span>\n      <span class=\"nt\">qualifiers</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#min</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">tmax</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Temperature Max</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#Temperature</span>\n      <span class=\"nt\">qualifiers</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#max</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">rain</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Rain</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#Rain</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">srad</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Solar radiation</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#SolarRadiation</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">wind</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Wind</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#WindSpeed</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">rhum</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Humidity</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#RelativeHumidity</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">vprs</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Vprs</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#VaporPressure</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">dewp</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Dewing point</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#DewingPoint</span>\n<span class=\"nt\">Units of Measurement</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Megajoule per square metre</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">MJ/m^2</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">srad</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Kilopascal</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">kPa</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">vprs</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Percent</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">\\%</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">rhum</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Celcius</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">degC</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">tmin, tmax, dewp</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Millimeters</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">mm</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">rain</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">kilometers per hour</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">km/hr</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">wind</span>\n</pre>\n<h4>Parse AgMIP</h4>\n<p>Following command is executed in approximately 2 seconds:</p>\n<p><code>edam --input Agmip.csv --template Agmip.tmpl --metadata Agmip.yaml --drop yes</code></p>\n<h3>APSIM station</h3>\n<h4>APSIM dataset</h4>\n<pre>[weather.met.weather]\n\nLatitude   =   36.68\nlongitude   =   116.98\ntav   =   14.6   (oC)   !   annual   average   ambient   temperature\namp   =   28.2   (oC)   !   annual   amplitude   in   mean   monthly   temperature\n!!!!   1/01/1961   to   31/12/2005\n   day   year   radn   maxt   mint   rain   wind   RH\n   273   2002   17.5   27.2   14.6   0   3.5   54\n  274   2002   13.6   23.1   14.7   0   5.3   40\n  275   2002   15.8   27.1   11.1   0   5.5   29\n  276   2002   15.5   25.8   16.5   0   3.8   39\n  277   2002   14.9   25.5   14.6   0   2.5   63\n  278   2002   15.2   23.1   15.2   0   3   47\n  279   2002   13.4   19.9   10.9   0   3   38\n  280   2002   15.7   19.3   8.2   0   2.5   47\n</pre>\n<h4>APSIM template</h4>\n<pre>[weather.met.weather]\n\nLatitude   =   {{station.latitude}}\nlongitude   =   {{station.longitude}}\ntav   =   {{station.tags.tav}}\namp   =   {{station.tags.amp}}\n!!!!   1/01/1961   to   31/12/2005\n   day   year   radn   maxt   mint   rain   wind   RH\n{%for timestamp, radn,maxt,mint,rain,wind,RH in chunk%}\n{{timestamp.dayofyear}}  {{timestamp.year}}  {{radn.value}}  {{maxt.value}}  {{mint.value}}  {{rain.value}}  {{wind.value}}  {{RH.value}}\n{%endfor%}\n</pre>\n<h4>APSIM metadata</h4>\n<pre><span class=\"nt\">Station</span><span class=\"p\">:</span>\n    <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Yucheng</span>\n    <span class=\"nt\">license</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Attribution</span>\n<span class=\"nt\">Observables</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">mint</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Temperature</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#Temperature</span>\n      <span class=\"nt\">qualifiers</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#min</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">maxt</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Max Temperature</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#Temperature</span>\n      <span class=\"nt\">qualifiers</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#max</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">rain</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Rain</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#Rain</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">radn</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Solar radiation</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#SolarRadiation</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">wind</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Wind</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#WindSpeed</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">RH</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Relative humidity</span>\n      <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#RelativeHumidity</span>\n<span class=\"nt\">Units of Measurement</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Millijoule per square meters</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">mJ/m^2</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">radn</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Percent</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">\\%</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">RH</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Celcius</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">degC</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">mint, maxt</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Millimeters</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">mm</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">rain</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Meters per second</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">m/s</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">wind</span>\n</pre>\n<h4>Parse APSIM</h4>\n<p>Following command is executed in less than 1 second:</p>\n<p><code>edam --input Yucheng.met --template Yucheng.tmpl --metadata Yucheng.yaml --drop yes</code></p>\n<h2><strong>UK Meteorological Office</strong></h2>\n<p>In the context of Open Data, the UK Meteorological Office, reports historical observations of 27 weather stations.\nFor every station, monthly observations are stored in one text document.\nNew observations are appended every month and each weather station can be found on a certain URI.\nURI follows the pattern:\n<code>http://www.metoffice.gov.uk/pub/data/weather/uk/climate/stationdata/{station name}data.txt</code>, where {station name} is replaced with an actual station name.</p>\n<p>Data points reported in Met Office weather stations' documents have special markers.\nThe challenge here is concerned with establishing a relation among markers and attributes.\nThis relation, expressed using natural language, is defined in each document's preamble.\nFor example, \"estimated data is marked with a * after the value\".\nThese types of metadata are essential, so they have to be parsed and stored.</p>\n<h3>UK Met dataset</h3>\n<pre>Cwmystwyth\nLocation: 277300E 274900N, Lat 52.358 Lon -3.802, 301 metres amsl\nEstimated data is marked with a * after the value.\nMissing data (more than 2 days missing in month) is marked by  ---.\nSunshine data taken from an automatic Kipp &amp; Zonen sensor marked with a #, otherwise sunshine data taken from a Campbell Stokes recorder.\n   yyyy  mm   tmax    tmin      af    rain     sun\n              degC    degC    days      mm   hours\n   1959   1    4.5    -1.9      20    ---     57.2\n  1959    2    7.3     0.9      15    ---     87.2\n  1959    3    8.4     3.1       3    ---     81.6\n  1959    4   10.8     3.7       1    ---    107.4\n  1959    5   15.8     5.8       1    ---    213.5\n  1959    6   16.9     8.2       0    ---    209.4\n  1959    7   18.5     9.5       0    ---    167.8\n  1959    8   19.0    10.5       0    ---    164.8\n  1959    9   18.3     5.9       0    ---    196.5\n  1959   10   14.8     7.9       1    ---    101.1\n  1959   11    8.8     3.9       3    ---     38.9\n  1959   12    7.2     2.5       3    ---     19.2\n</pre>\n<h3>UK Met template</h3>\n<pre>{{station.name}}\nLocation:{{station.location}}, Lat {{station.latitude}} Lon {{station.longitude}}, {{station.tags.altitude}}\nEstimated data is marked with a * after the value.\nMissing data (more than 2 days missing in month) is marked by  ---.\nSunshine data taken from an automatic Kipp &amp; Zonen sensor marked with a #, otherwise sunshine data taken from a Campbell Stokes recorder.\n   yyyy  mm   tmax    tmin      af    rain     sun\n              degC    degC    days      mm   hours\n{%for timestamp, tmax,tmin,af,rain,sun in chunk%}\n{{timestamp.year}}  {{timestamp.month}}  {{tmax.value}}  {{tmin.value}}  {{af.value}}  {{rain.value}}  {{sun.value}}\n{%endfor%}\n</pre>\n<h3>UK Met metadata</h3>\n<pre><span class=\"nt\">Station</span><span class=\"p\">:</span>\n    <span class=\"nt\">license</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Attribution</span>\n    <span class=\"nt\">region</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">United Kingdom</span>\n    <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://www.metoffice.gov.uk/</span>\n    <span class=\"nt\">tags</span><span class=\"p\">:</span>\n        <span class=\"l l-Scalar l-Scalar-Plain\">key1:value1</span>\n        <span class=\"l l-Scalar l-Scalar-Plain\">key2:value2</span>\n<span class=\"nt\">Observables</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span>   <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">tmin</span>\n        <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Temperature minimum</span>\n        <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#Temperature</span>\n        <span class=\"nt\">qualifiers</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#min</span>\n    <span class=\"p p-Indicator\">-</span>   <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">tmax</span>\n        <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Temperature Max</span>\n        <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#Temperature</span>\n        <span class=\"nt\">qualifiers</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#max</span>\n    <span class=\"p p-Indicator\">-</span>   <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">rain</span>\n        <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Rain</span>\n        <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#Rain</span>\n    <span class=\"p p-Indicator\">-</span>   <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">af</span>\n        <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Days of air frost</span>\n        <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#AirFrostDays</span>\n    <span class=\"p p-Indicator\">-</span>   <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">sun</span>\n        <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Sunshine duration</span>\n        <span class=\"nt\">ontology</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://edam.gr#SunShineDuration</span>\n<span class=\"nt\">Units of Measurement</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span>   <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Days</span>\n        <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">D</span>\n        <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">af, sun</span>\n    <span class=\"p p-Indicator\">-</span>   <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Celcius</span>\n        <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">degC</span>\n        <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">tmin, tmax</span>\n    <span class=\"p p-Indicator\">-</span>   <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Millimeters</span>\n        <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">mm</span>\n        <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">rain</span>\n</pre>\n<h3>Parse all UK Met weather stations</h3>\n<p>Following command downloads and stores data from 27 weather stations.\nIt is executed in approximately 9 seconds.</p>\n<p><code>edam --input \"http://www.metoffice.gov.uk/pub/data/weather/uk/climate/stationdata/{\\$var}data.txt\" --template uk.tmpl --metadata uk.yaml --var \"aberporth,armagh, ballypatrick, camborne, cambridge, cardiff, chivenor, cwmystwyth, dunstaffnage, durham, eastbourne, eskdalemuir\" --drop yes</code></p>\n<h2><strong>Australian Bureau of Meteorology (Online)</strong></h2>\n<p>Bureau of Meteorology (BoM) in Australia offers historical timeseries from a number of weather stations.\nThey concern <em>daily</em> observations which are published every month in HTML documents.\nThese  share the same structure and semantics, and are available online.\nUsers can access the timeseries by crafting URLs which comprise of information about the requested station id, and month/year.\nFor example, the URL for the meteorological data about Adelaide station (<em>5002</em> station id) for <em>October 2017</em> is:<br>\n<a href=\"http://www.bom.gov.au/climate/dwo/201710/text/IDCJDW5002.201710.csv\" rel=\"nofollow\">http://www.bom.gov.au/climate/dwo/<strong>201710</strong>/text/IDCJDW<strong>5002</strong>.<strong>201710</strong>.csv</a></p>\n<p>The challenge in curating BoM timeseries was regarded with their structure.\nIn most other cases, every data-row corresponds to <em>one observation</em> for a <em>given timestamp</em>.\nHowever, each BoM row has <em>two observations</em> for the <em>same</em> daily-sampled timestamp.\nThese two observations are taken during different time of a day.\nThis <em>sampling hour</em>, which will complement the <em>daily-sampled timestamp</em> for the bi-daily observations, is encoded in the dataset's header.</p>\n<h3>BoM dataset</h3>\n<pre>\"Daily Weather Observations for Elliston, South Australia for July 2017\"\n\"Prepared at 13:05 GMT on Monday 21 August 2017   IDCJDW5017.201707\"\n\"Copyright 2003 Commonwealth Bureau of Meteorology\"\n\"Observations were drawn from Elliston {station 018069}\"\n\n,\"Date\",\"Minimum temperature (\u00b0C)\",\"Maximum temperature (\u00b0C)\",\"Rainfall (mm)\",\"Evaporation (mm)\",\"Sunshine (hours)\",\"Direction of maximum wind gust \",\"Speed of maximum wind gust (km/h)\",\"Time of maximum wind gust\",\"9am Temperature (\u00b0C)\",\"9am relative humidity (%)\",\"9am cloud amount (oktas)\",\"9am wind direction\",\"9am wind speed (km/h)\",\"9am MSL pressure (hPa)\",\"3pm Temperature (\u00b0C)\",\"3pm relative humidity (%)\",\"3pm cloud amount (oktas)\",\"3pm wind direction\",\"3pm wind speed (km/h)\",\"3pm MSL pressure (hPa)\"\n,2017-07-1,6.4,18.4,0,,,,,,10.0,74,0,,,1024.3,,,,,,\n,2017-07-2,10.1,16.6,0,,,,,,12.0,64,0,NNW,19,1014.1,,,,,,\n,2017-07-3,7.5,17.3,8.8,,,,,,10.0,90,8,NNW,33,1005.9,,,,,,\n,2017-07-4,9.8,16.4,14.2,,,,,,13.4,92,8,NNW,15,1014.1,,,,,,\n,2017-07-5,10.5,17.5,27.8,,,,,,14.4,83,6,WSW,17,1017.0,,,,,,\n,2017-07-6,5.6,16.1,0.2,,,,,,9.7,68,0,NNW,11,1012.8,,,,,,\n,2017-07-7,9.1,15.8,9.2,,,,,,12.6,75,6,SW,37,1015.1,,,,,,\n,2017-07-8,8.4,15.7,4.6,,,,,,10.8,97,8,WNW,7,1019.7,,,,,,\n,2017-07-9,7.6,15.7,5.0,,,,,,10.8,96,6,NNE,2,1023.2,,,,,,\n,2017-07-10,6.9,16.8,0.8,,,,,,11.0,97,6,NNE,2,1027.1,,,,,,\n,2017-07-11,5.5,18.6,0,,,,,,9.9,82,1,NNE,4,1030.6,,,,,,\n,2017-07-12,8.7,21.2,0,,,,,,12.2,51,6,N,22,1024.5,,,,,,\n,2017-07-13,10.0,18.7,0,,,,,,11.9,80,8,NNE,2,1018.0,,,,,,\n,2017-07-14,10.6,16.8,3.4,,,,,,13.9,78,7,SSW,11,1020.6,,,,,,\n,2017-07-15,8.9,16.0,1.4,,,,,,11.0,82,8,NNW,15,1023.8,,,,,,\n,2017-07-16,9.1,15.4,0.2,,,,,,11.7,78,8,N,15,1013.2,,,,,,\n,2017-07-17,11.0,15.9,9.4,,,,,,14.5,69,4,WSW,33,1011.2,,,,,,\n,2017-07-18,11.0,15.8,5.0,,,,,,12.0,87,8,SSW,28,1018.9,,,,,,\n,2017-07-19,11.1,15.2,2.6,,,,,,13.5,72,8,SSE,15,1026.8,,,,,,\n,2017-07-20,5.1,14.1,0,,,,,,8.2,84,8,ENE,7,1024.5,,,,,,\n,2017-07-21,7.3,22.9,0,,,,,,12.5,60,3,NNE,22,1018.2,,,,,,\n,2017-07-22,8.9,20.5,0,,,,,,13.0,61,0,NNW,4,1016.6,,,,,,\n,2017-07-23,12.9,18.0,0,,,,,,15.5,86,0,NNW,11,1020.2,,,,,,\n,2017-07-24,6.1,21.5,0,,,,,,11.9,89,0,NNE,4,1021.3,,,,,,\n,2017-07-25,5.4,18.0,0,,,,,,14.4,99,7,NW,11,1020.2,,,,,,\n,2017-07-26,8.3,18.9,0.2,,,,,,10.1,97,2, ,Calm,1025.6,,,,,,\n,2017-07-27,6.7,18.4,0,,,,,,16.4,61,8,NNW,22,1016.5,,,,,,\n,2017-07-28,4.2,25.6,0.6,,,,,,10.6,89,7,NNE,9,1019.8,,,,,,\n,2017-07-29,10.1,17.4,0,,,,,,16.8,70,8,WNW,22,1007.0,,,,,,\n,2017-07-30,11.3,16.8,3.6,,,,,,13.1,86,2,WSW,11,1015.9,,,,,,\n,2017-07-31,10.3,16.9,5.0,,,,,,12.4,82,6,SSW,22,1022.7,,,,,,\n</pre>\n<h3>BoM template</h3>\n<pre>\"Daily Weather Observations for {{station.name}}, {{station.region}} for July 2017\"\n\"Prepared at 16:06 GMT on Monday  7 August 2017   IDCJDW5002.201701\"\n\"Copyright 2003 Commonwealth Bureau of Meteorology\"\n\"The \"official\" Adelaide site is now at West Terrace / ngayirdapira.\"\n\"The \"official\" Adelaide weather observations site is now at West Terrace / ngayirdapira {site number 023000}. This Kent Town site is about 2 km east of the city centre.\"\n\"Observations were drawn from Adelaide (Kent Town) {station 023090}\"\n\n,\"Date\",\"Minimum temperature (\u00b0C)\",\"Maximum temperature (\u00b0C)\",\"Rainfall (mm)\",\"Evaporation (mm)\",\"Sunshine (hours)\",\"Direction of maximum wind gust \",\"Speed of maximum wind gust (km/h)\",\"Time of maximum wind gust\",{% set hour=9 %},{% set hour=9 %},{% set hour=9 %},{% set hour=9 %},{% set hour=9 %},{%set hour=9 %},{% set hour=15 %},{% set hour=15 %},{%set hour=15 %},{% set hour=15 %},{% set hour=15 %},{% set hour=15 %}\n{%for temp, wind, timestamp, windm_spd, windm_dir, wind_spd, wind_dir, rain, evap, sun, humidity, cloud, mlsp, tempMIN, tempMAX in chunk%}\n,{{timestamp.date()}},{{tempMIN.value}},{{tempMAX.value}},{{rain.value}},{{evap.value}},{{sun.value}},{{windm_dir.value}},{{windm_spd.value}},{{same_timestamp(windm_spd.timestamp.time, windm_dir.timestamp.time)}},{{temp.value}},{{humidity.value}},{{cloud.value}},{{wind_dir.value}},{{wind_spd.value}},{{mlsp.value}},{{temp.value}},{{humidity.value}},{{cloud.value}},{{wind_dir.value}},{{wind_spd.value}},{{mlsp.value}}\n{%endfor%}\n</pre>\n<h3>Bom metadata</h3>\n<pre><span class=\"nt\">Station</span><span class=\"p\">:</span>\n  <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://www.bom.gov.au</span>\n  <span class=\"nt\">license</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Attribution</span>\n<span class=\"nt\">Observables</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">temp</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Temperature above sea level</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">tempMIN</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Temperature Min</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">tempMAX</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Temperature Max</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">rain</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Rain</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">evap</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Evapotranspiration</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">sun</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Sunlight</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">windm_dir</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Wind max direction</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">windm_spd</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Wind max speed</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">wind_dir</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Wind direction</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">wind_spd</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Wind speed</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">humidity</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Humidity</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">cloud</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Cloud</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">observable_id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">mlsp</span>\n      <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Pressure</span>\n<span class=\"nt\">Units of Measurement</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Celcius</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">C</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">temp, tempMIN, tempMAX</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Millimeters</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">mm</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">rain, evap</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">hours</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">hr</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">sun</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">hectoPascal</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">hPa</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">mlsp</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">eights</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">8th</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">cloud</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Percent</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">\\%</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">humidity</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Wind speed</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">km/h</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">wind_spd</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Wind direction</span>\n      <span class=\"nt\">symbol</span><span class=\"p\">:</span>\n      <span class=\"nt\">relevant_observables</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">windm_dir</span>\n</pre>\n<h3>Parse all BoM stations for July 2017</h3>\n<p>The following command will generate the URLs for 574 stations, download, and store them.\nUltimately 478 stations exist.<br>\nThis command takes some time to be executed (aprox. 5 minutes).</p>\n<p><code>edam --input \"http://www.bom.gov.au/climate/dwo/201707/text/IDCJDW{2-8}0{01-82}.201707.csv\" --template bom.tmpl --metadata bom.yaml --drop yes</code></p>\n<h1>EDAM template language</h1>\n<h2>Metadata file</h2>\n<p>In the metadata file you can define <em>observables</em>, <em>station</em> and <em>sensors</em>.</p>\n<p>An <em>observable</em> can have the following attributes:</p>\n<ol>\n<li>name (e.g. Wind)</li>\n<li>unit (e.g. direction km/h)</li>\n<li>observable_id (e.g. wind). This corresponds to the name one can use in the .tmpl</li>\n</ol>\n<h2>Template</h2>\n<p>In a template one can use in a <em>placeholder (<strong>{{}}</strong>)</em> only the <em>template_id</em>'s, which were defined in the metadata files.</p>\n<p>A <em>template_id</em> can have certain attributes.\nThese are:</p>\n<ol>\n<li>value (e.g.<code>{{wind.value}}</code>)</li>\n<li>timestamp. In case the table (csv) has a dedicated column which denotes the timestamp of a <strong>specific observable</strong>, this will be defined as <code>{{wind.timestamp.time}}</code> (if it's in the hh:mm format).</li>\n<li>In case the one column-timestamp refers to more than one observables (e.g. BoM wind_direction_max and wind_speed_max), this should be defined as <code>{{same_timestamp(windm_spd.timestamp.time, windm_dir.timestamp.time)}}</code></li>\n</ol>\n<p>In case a column has the timestamp which corresponds to <strong>all observables in each row</strong>, users will use the <code>{{timestamp.}}</code>.</p>\n<h1>Proposed workflow</h1>\n<ol>\n<li>Edit <code>setting.yaml</code> to correspond to your database system</li>\n<li>Draft a metadata file and put it into metadata folder (~/.edam/metadata)</li>\n<li>Draft a template file (<code>~/.edam/templates</code>)</li>\n<li>Add your input csv file into inputs folder (<code>~/.edam/inputs</code>)</li>\n</ol>\n\n          </div>"}, "last_serial": 4346746, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "1f5a634f32ea10e7ac8c0be7b5e91db5", "sha256": "2683ce7692d66b539fb916113914965d27b9bda1cc7ef84f515201082e2c28f2"}, "downloads": -1, "filename": "edam-1.0.0.tar.gz", "has_sig": false, "md5_digest": "1f5a634f32ea10e7ac8c0be7b5e91db5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 42488, "upload_time": "2018-04-01T13:42:28", "upload_time_iso_8601": "2018-04-01T13:42:28.585477Z", "url": "https://files.pythonhosted.org/packages/8f/81/3e93e86d470755f020ede451555d145f4917d7bfb0f990ab3bd74c9ae28a/edam-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "c04a2a6e0f99da2f61f04eab8bea4bef", "sha256": "6b22b196481cf247e732a4516bc752294a16baea3c7504a7f6cf40d540d5a8a8"}, "downloads": -1, "filename": "edam-1.0.1.tar.gz", "has_sig": false, "md5_digest": "c04a2a6e0f99da2f61f04eab8bea4bef", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 42516, "upload_time": "2018-04-01T13:45:36", "upload_time_iso_8601": "2018-04-01T13:45:36.031021Z", "url": "https://files.pythonhosted.org/packages/20/a8/dc6a8096be2107f74853037cc3785b2042a0e6771c1da1362a79d32c2dfe/edam-1.0.1.tar.gz", "yanked": false}], "1.0.10": [{"comment_text": "", "digests": {"md5": "2076ac17d759867c06fe8dba1137f255", "sha256": "756951c9ff296696f3edf3cb19a177d76acec0d80b80ef2ad65478785c59d579"}, "downloads": -1, "filename": "edam-1.0.10.tar.gz", "has_sig": false, "md5_digest": "2076ac17d759867c06fe8dba1137f255", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 52612, "upload_time": "2018-05-03T09:33:43", "upload_time_iso_8601": "2018-05-03T09:33:43.137351Z", "url": "https://files.pythonhosted.org/packages/be/e9/7fd5ebf61fe5d1101edb9cf1ce28f91551ce7421ca7c9b72fc5b98b17fcc/edam-1.0.10.tar.gz", "yanked": false}], "1.0.11": [{"comment_text": "", "digests": {"md5": "b4c5290978cd926d329273aaab7e3641", "sha256": "c0bec837fd8f8167e1034080443a42baf39e6efe5591828e67c5e59208f8009a"}, "downloads": -1, "filename": "edam-1.0.11.tar.gz", "has_sig": false, "md5_digest": "b4c5290978cd926d329273aaab7e3641", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 52615, "upload_time": "2018-05-03T09:40:24", "upload_time_iso_8601": "2018-05-03T09:40:24.804567Z", "url": "https://files.pythonhosted.org/packages/1f/67/6fef58c59047ad0ddc086ff56086744827eefa049dda64abb70096c742de/edam-1.0.11.tar.gz", "yanked": false}], "1.0.12": [{"comment_text": "", "digests": {"md5": "fc7fa6f625e9947aeec77bebc79e67cd", "sha256": "89f5e043ca69fc56395a138b58bc6f46ba5c1eb9f98807c4a694a2b117825a69"}, "downloads": -1, "filename": "edam-1.0.12.tar.gz", "has_sig": false, "md5_digest": "fc7fa6f625e9947aeec77bebc79e67cd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1091283, "upload_time": "2018-05-03T09:46:07", "upload_time_iso_8601": "2018-05-03T09:46:07.141380Z", "url": "https://files.pythonhosted.org/packages/58/2a/95fe8e10eb6973584ce7e3f8a14bc15e4fe6b7395774b3cfefad164b392f/edam-1.0.12.tar.gz", "yanked": false}], "1.0.13": [{"comment_text": "", "digests": {"md5": "36d07b0dbab88312b7b73906a523e8db", "sha256": "cb806da0a09798ad2892d3932777db46b188ff7a40bced7f9bf0f42fcf02f1a3"}, "downloads": -1, "filename": "edam-1.0.13.tar.gz", "has_sig": false, "md5_digest": "36d07b0dbab88312b7b73906a523e8db", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1091440, "upload_time": "2018-05-03T10:06:34", "upload_time_iso_8601": "2018-05-03T10:06:34.942764Z", "url": "https://files.pythonhosted.org/packages/24/30/7449d22bcf9655034713c0599d98e0f5e6c31660f1acade04268641851dc/edam-1.0.13.tar.gz", "yanked": false}], "1.0.14": [{"comment_text": "", "digests": {"md5": "8eb372f48ec5285ad7c8d24a3c2bd070", "sha256": "e71ad0c56f82438c6cdec5b684758c6f82c660ac8717c1b55cefdb8fc08b5c4a"}, "downloads": -1, "filename": "edam-1.0.14.tar.gz", "has_sig": false, "md5_digest": "8eb372f48ec5285ad7c8d24a3c2bd070", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1091249, "upload_time": "2018-05-03T10:09:25", "upload_time_iso_8601": "2018-05-03T10:09:25.703530Z", "url": "https://files.pythonhosted.org/packages/e6/32/ec919f552eacfaf074995881298b64382b8b0d59774d19c6df1608ebcd74/edam-1.0.14.tar.gz", "yanked": false}], "1.0.15": [{"comment_text": "", "digests": {"md5": "21c3bbc15d3d85b2255d35a243a1ff5d", "sha256": "a9613caa9e4f93a2e227f543a57f0a558634b3f4c04f2ac2bd3adea646fea693"}, "downloads": -1, "filename": "edam-1.0.15.tar.gz", "has_sig": false, "md5_digest": "21c3bbc15d3d85b2255d35a243a1ff5d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1091271, "upload_time": "2018-05-03T10:12:42", "upload_time_iso_8601": "2018-05-03T10:12:42.216665Z", "url": "https://files.pythonhosted.org/packages/53/b8/0552ac663daad8f1ea17e074ecba9eeaedbd46213257d17c94de4a02b00f/edam-1.0.15.tar.gz", "yanked": false}], "1.0.16": [{"comment_text": "", "digests": {"md5": "74d2fe90c4aa28335b24a63d17e255c1", "sha256": "5c07ddb77427ee28f32fa4c34b3718be5aaa6778afdbc78ee0ce1fc3d7e5da00"}, "downloads": -1, "filename": "edam-1.0.16.tar.gz", "has_sig": false, "md5_digest": "74d2fe90c4aa28335b24a63d17e255c1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.3", "size": 1138137, "upload_time": "2018-10-04T22:06:42", "upload_time_iso_8601": "2018-10-04T22:06:42.382808Z", "url": "https://files.pythonhosted.org/packages/d3/48/935e031e26c382ec55d37d0f2fa24eea05990884ede0429476f82e1aa7e7/edam-1.0.16.tar.gz", "yanked": false}], "1.0.17": [{"comment_text": "", "digests": {"md5": "f6f32eeb8f9df4a24d4d3033835a64a1", "sha256": "0cb9ce7f3514c7e8233c75082d28d1ea0758336cd9ba2f2b9a6b3ddfd3eb8d97"}, "downloads": -1, "filename": "edam-1.0.17.tar.gz", "has_sig": false, "md5_digest": "f6f32eeb8f9df4a24d4d3033835a64a1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.3", "size": 1138135, "upload_time": "2018-10-05T15:52:18", "upload_time_iso_8601": "2018-10-05T15:52:18.198515Z", "url": "https://files.pythonhosted.org/packages/a2/2b/f225d8880f2c7c735c6294d15e1497cd60d04cd9f32e2514d785c0d2610f/edam-1.0.17.tar.gz", "yanked": false}], "1.0.18": [{"comment_text": "", "digests": {"md5": "1900ecf50292c02ea6e89515c6188a01", "sha256": "1e0dc7a85083f59a9a0d275a5be59298c436f2555c73560e626e2e03ed5173e5"}, "downloads": -1, "filename": "edam-1.0.18.tar.gz", "has_sig": false, "md5_digest": "1900ecf50292c02ea6e89515c6188a01", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.3", "size": 1137692, "upload_time": "2018-10-05T16:13:07", "upload_time_iso_8601": "2018-10-05T16:13:07.704299Z", "url": "https://files.pythonhosted.org/packages/d4/fc/e6405954c7d9efe1415cafbea0f9ff7e38537498c6d6d6d542f1311c457c/edam-1.0.18.tar.gz", "yanked": false}], "1.0.19": [{"comment_text": "", "digests": {"md5": "c81d97dd80a5bf01bd5cb9046a9088db", "sha256": "975d3dd19d8056b443c071f46c73c12405cd0296168adf76a91ceaae877366fe"}, "downloads": -1, "filename": "edam-1.0.19.tar.gz", "has_sig": false, "md5_digest": "c81d97dd80a5bf01bd5cb9046a9088db", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.3", "size": 1137702, "upload_time": "2018-10-05T16:21:47", "upload_time_iso_8601": "2018-10-05T16:21:47.706177Z", "url": "https://files.pythonhosted.org/packages/38/e4/64a13e4f32a1b0db468f4eebb02052e09de68bb2add5b8f408b4616919d8/edam-1.0.19.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "e923c779ffb893a8868b189b29e83897", "sha256": "3a33d57c3f7c73b19f1d0a75ce4bc8416cab5fb3024b291da3e9d4f0afda4b69"}, "downloads": -1, "filename": "edam-1.0.2.tar.gz", "has_sig": false, "md5_digest": "e923c779ffb893a8868b189b29e83897", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 43175, "upload_time": "2018-04-01T13:50:02", "upload_time_iso_8601": "2018-04-01T13:50:02.980337Z", "url": "https://files.pythonhosted.org/packages/81/45/581e2a63e5d1c0ea866b783f5248dba7d21b3ee7b47adaf86a449ec742c0/edam-1.0.2.tar.gz", "yanked": false}], "1.0.20": [{"comment_text": "", "digests": {"md5": "9ebc0692db91eed384a0a78ee0faa965", "sha256": "305fd70f6954f13f8c44d9da4dd045b4182ddf13fae961e9b9dcee467ce82f61"}, "downloads": -1, "filename": "edam-1.0.20.tar.gz", "has_sig": false, "md5_digest": "9ebc0692db91eed384a0a78ee0faa965", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.3", "size": 1137614, "upload_time": "2018-10-06T08:39:37", "upload_time_iso_8601": "2018-10-06T08:39:37.788513Z", "url": "https://files.pythonhosted.org/packages/5f/0e/fcad11b7a02a4c3f58f272ae773bad02c5ad3f1b4b08cdefa0019da03155/edam-1.0.20.tar.gz", "yanked": false}], "1.0.3": [{"comment_text": "", "digests": {"md5": "31a389ed06598a2562dd81cfea734252", "sha256": "09d069a87ad1c334a9b624982abacd7b5bfffdd0b67434adf05f918e20637f7b"}, "downloads": -1, "filename": "edam-1.0.3.tar.gz", "has_sig": false, "md5_digest": "31a389ed06598a2562dd81cfea734252", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 42588, "upload_time": "2018-05-03T08:39:10", "upload_time_iso_8601": "2018-05-03T08:39:10.826553Z", "url": "https://files.pythonhosted.org/packages/a5/72/1805c42b372e6a08303c9fc0dc94ad8e7082a7e0b637186bd3f99c9af9c3/edam-1.0.3.tar.gz", "yanked": false}], "1.0.4": [{"comment_text": "", "digests": {"md5": "0245fae9a0a0f3d6c79a51e2d06a2a8f", "sha256": "9b10c2b029e3c3e886e256f966f33ddb79119182c4404da321b9bc3fe306fea9"}, "downloads": -1, "filename": "edam-1.0.4.tar.gz", "has_sig": false, "md5_digest": "0245fae9a0a0f3d6c79a51e2d06a2a8f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 42591, "upload_time": "2018-05-03T08:42:00", "upload_time_iso_8601": "2018-05-03T08:42:00.466933Z", "url": "https://files.pythonhosted.org/packages/f1/5f/eb571562968a97b74817e218bc18e3aa8f34024bbcf59e5715a78be690f2/edam-1.0.4.tar.gz", "yanked": false}], "1.0.5": [{"comment_text": "", "digests": {"md5": "c183d878f8851eff9d9e895d4b17ebd2", "sha256": "9677c99ae37a744d4781ff6ad9f966e8393d35f525d3ee0321d1c5df55682d41"}, "downloads": -1, "filename": "edam-1.0.5.tar.gz", "has_sig": false, "md5_digest": "c183d878f8851eff9d9e895d4b17ebd2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 42607, "upload_time": "2018-05-03T08:55:52", "upload_time_iso_8601": "2018-05-03T08:55:52.789733Z", "url": "https://files.pythonhosted.org/packages/a4/2b/e75ae28f5a1981a45b65850e8c767fbc1e95e2686b2d2034b1fc32463c20/edam-1.0.5.tar.gz", "yanked": false}], "1.0.6": [{"comment_text": "", "digests": {"md5": "75436f8d82a9f24836282c0d58baef0f", "sha256": "1256b02550160d1ebf3010ea7a34d89e13ba3112049adbb0b86d9ffbf5e2c998"}, "downloads": -1, "filename": "edam-1.0.6.tar.gz", "has_sig": false, "md5_digest": "75436f8d82a9f24836282c0d58baef0f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 42617, "upload_time": "2018-05-03T08:57:22", "upload_time_iso_8601": "2018-05-03T08:57:22.732519Z", "url": "https://files.pythonhosted.org/packages/c7/03/4a9b05c6e31035a3130159635adf25c991a082d3719dd6ee4cc2ac5ea7fb/edam-1.0.6.tar.gz", "yanked": false}], "1.0.7": [{"comment_text": "", "digests": {"md5": "4df0541d4d5cdcea7bfa6d1d0ba8f1c8", "sha256": "80619a22ec0e9995f87217a008ee19c63221c4320cc3eb0eb20bc3c49f62bb47"}, "downloads": -1, "filename": "edam-1.0.7.tar.gz", "has_sig": false, "md5_digest": "4df0541d4d5cdcea7bfa6d1d0ba8f1c8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 42709, "upload_time": "2018-05-03T09:24:07", "upload_time_iso_8601": "2018-05-03T09:24:07.591199Z", "url": "https://files.pythonhosted.org/packages/44/c9/c5062ff96dbf10058fa5fc4f22e3452aac85a18f7141414374efc05a8198/edam-1.0.7.tar.gz", "yanked": false}], "1.0.8": [{"comment_text": "", "digests": {"md5": "7ea35ca4d9b35666c713e233db866067", "sha256": "715d6497567398b10bbeea4a0d979656352749a1e2b9e18a28dd7343451ce905"}, "downloads": -1, "filename": "edam-1.0.8.tar.gz", "has_sig": false, "md5_digest": "7ea35ca4d9b35666c713e233db866067", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 43791, "upload_time": "2018-05-03T09:25:56", "upload_time_iso_8601": "2018-05-03T09:25:56.608320Z", "url": "https://files.pythonhosted.org/packages/6e/a3/a1479ae9a9c323314100857de2e58b5d6637268f0d599ed3991bd25d7d6c/edam-1.0.8.tar.gz", "yanked": false}], "1.0.9": [{"comment_text": "", "digests": {"md5": "49421d5ed5f5eddd551011b2e5e327ca", "sha256": "edf53173d7e932b744197607f7985d306a5179d476eaf4a059c1914e01eaf1a7"}, "downloads": -1, "filename": "edam-1.0.9.tar.gz", "has_sig": false, "md5_digest": "49421d5ed5f5eddd551011b2e5e327ca", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 43781, "upload_time": "2018-05-03T09:28:53", "upload_time_iso_8601": "2018-05-03T09:28:53.797851Z", "url": "https://files.pythonhosted.org/packages/36/99/b04bc94d4d620268dfb914acc84cf1a50001c210ad3fc3d8920c430374a6/edam-1.0.9.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "9ebc0692db91eed384a0a78ee0faa965", "sha256": "305fd70f6954f13f8c44d9da4dd045b4182ddf13fae961e9b9dcee467ce82f61"}, "downloads": -1, "filename": "edam-1.0.20.tar.gz", "has_sig": false, "md5_digest": "9ebc0692db91eed384a0a78ee0faa965", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.3", "size": 1137614, "upload_time": "2018-10-06T08:39:37", "upload_time_iso_8601": "2018-10-06T08:39:37.788513Z", "url": "https://files.pythonhosted.org/packages/5f/0e/fcad11b7a02a4c3f58f272ae773bad02c5ad3f1b4b08cdefa0019da03155/edam-1.0.20.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:47:54 2020"}
{"info": {"author": "Hanne Moa", "author_email": "hanne.moa@uninett.no", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django", "Framework :: Flask", "Framework :: Pyramid", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Internet :: WWW/HTTP", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: Utilities"], "description": "python-dataporten-auth\n======================\n\nDataporten_ is an authentication, authorization and API platform\nfor higher and lower education and research in Norway. Dataporten\noffers authentication of users to applications using OAuth 2.0 and\nthe OpenID Connect.\n\nDataporten-auth is a client for dataporten that depends on\nsocial-auth-core_.\n\nThis library is not compatible with the pre-refactor\npython-social-auth_, see any version prior to 2.0.x for that.\nFurthermore, this is now a Python 3 based project; No attempts\nhave been made to make it backwards compatible with Python 2.\n\nIf you are using the previous incarnation of ``python-dataporten-auth``:\n``dataporten-auth``, see `Upgrading from dataporten-auth`_.\n\n\nInstallation\n------------\n\nInstall with ``pip install python-dataporten-auth`` or by downloading the\nsource and running ``setup.py``.\n\n\n\nUsage\n-----\n\nSet up an application at Dataporten\n...................................\n\nThere needs to exist an entry for your site/app at dataporten. Log\nin to `dataporten's dashboard`_ and create an application. The\nentry needs one or more redirect uris.\n\nYou can have several redirect-uris, and you will be needing at\nleast one per plugin used.\n\nThe redirect uri is of the form ``<type>://<domainpath>/<suffix>/``,\nwhere ``<type>`` is one of ``http`` or ``https``, ``<domainpath>``\nis the domain name of your site and an optional path, and the\n``<suffix>`` is plugin-dependent. See the examples under\n**Plugins**.\n\nSet up your site\n................\n\nYou'll need to set the client id and client secret generated by\nDataporten in the settings of your app/site.\n\n\nBoth the name of the settings and the redirect uris depend on the\nplugins used. Add at least one of the plugins below.\n\nSee `social's documentation`_ for more.\n\nDjango\n......\n\nIn your ``settings.py``:\n\n* Add ``'social_django'`` to ``INSTALLED_APPS``.\n* Add one or more of the plugin names below to the start of\n  ``AUTHENTICATION_BACKENDS``. If you're also using user-models\n  \u00e0 la Django, ``'django.contrib.auth.backends.ModelBackend'``\n  must be in the same list, following the plugins.\n* Set ``SOCIAL_AUTH_DATAPORTEN_FEIDE_SSL_PROTOCOL`` to ``True`` to\n  use SSL. * ``SOCIAL_AUTH_LOGIN_REDIRECT_URL``,\n  ``SOCIAL_AUTH_NEW_USER_REDIRECT_URL`` and\n  ``SOCIAL_AUTH_REDIRECT_IS_HTTPS`` will have to be set depending\n  on the needs of your site.\n* If you use the Django admin, you might want to set\n  ``SOCIAL_AUTH_ADMIN_USER_SEARCH_FIELDS``, for instance to\n  ``['username', 'email']``.\n\nAlso see the settings in ``src\\demosite\\settings.py`` in the source.\n\nIn your site's ``urls.py``, include:\n\n``url(PREFIX, include('social_django.urls', namespace='social')),``\n\n... where PREFIX is a string to start off the urls with. Empty\nstring, ``''``, is fine.\n\nUpgrading from dataporten-auth\n------------------------------\n\nSee `PSA's official migration document`_, here follows a summary.\n\n1. Install ``python-social-auth`` version 0.2.21.\n2. Run migrations.\n3. Uninstall ``dataporten-auth``\n4. Install ``python-dataporten-auth``.\n5. Install ``social-auth-app-django``.\n6. In your ``urls.py`` rename ``'social.apps.django_app.urls'`` to  ``'social_django.urls'``.\n7. In your ``settings.py``, in this order:\n\n  1. Rename ``'social.apps.django_app.default'`` to ``'social_django'``.\n  2. Replace all mentions of ``'social.*'`` with ``'social_core.*'``.\n  3. Replace all mentions of ``psa`` with ``social``.\n\n8. Run migrations for ``social_django``.\n9. Uninstall ``python-social-auth``.\n\nPlugins\n-------\n\ndataporten.social.DataportenOAuth2\n..................................\n\nPlugin name\n    ``dataporten.social.DataportenOAuth2``\n\nSettings\n    Client id: ``SOCIAL_AUTH_DATAPORTEN_KEY``\n\n    Client secret: ``SOCIAL_AUTH_DATAPORTEN_SECRET``\n\nScopes needed\n    ``userid`` and ``profile``, this is the default.\n\nUsername generated:\n    Unique, alphanumeric string. You might want to let users\n    change this generated username. The plugin only cares that a\n    username exists and won't change the username back.\n\nRedirect-uri ends with\n    /complete/dataporten/\n\nExample redirect uri:\n    http://127.0.0.1/complete/dataporten/\n\ndataporten.social.DataportenEmailOAuth2\n.......................................\n\nPlugin name\n    ``dataporten.social.DataportenEmailOAuth2``\n\nSettings\n    Client id: ``SOCIAL_AUTH_DATAPORTEN_EMAIL_KEY``\n\n    Client secret: ``SOCIAL_AUTH_DATAPORTEN_EMAIL_SECRET``\n\nScopes needed\n    ``email``, this must be explicitly allowed in the dashboard.\n\nUsername generated:\n    From email-address\n\nRedirect-uri ends with\n    /complete/dataporten_email/\n\nExample redirect uri:\n    https://supersites.example.net/mysite/complete/dataporten_email/\n\ndataporten.social.DataportenFeideOAuth2\n.......................................\n\nPlugin name\n    ``dataporten.social.DataportenFeideOAuth2``\n\nSettings\n    Client id: ``SOCIAL_AUTH_DATAPORTEN_FEIDE_KEY``\n\n    Client secret: ``SOCIAL_AUTH_DATAPORTEN_FEIDE_SECRET``\n\nScopes needed\n    ``userid-feide``, this must be explicitly allowed in the dashboard.\n\nUsername generated:\n    From the Feide attribute ``eduPersonPrincipalName``, which looks\n    like an email address.\n\nRedirect-uri ends with\n    /complete/dataporten_feide/\n\nExample redirect uri:\n    https://example.com/cheatsheet/complete/dataporten_feide/\n\n\n\nDemo\n----\n\nThe Demo needs Django 1.8 or newer.\n\n1. Get the source code\n2. Install dependencies: ``pip install -r requirements/demo.txt``\n3. Make an application at dataporten\n4. Edit the settings-file to set ``SOCIAL_AUTH_DATAPORTEN_KEY`` and ``SOCIAL_AUTH_DATAPORTEN_SECRET``\n5. Set three redirect-uris, all starting with ``http://127.0.0.1:8000``\n6. Run ``python mange.py runserver``\n7. Visit http://127.0.0.1:8000 in a fresh browser. Log out doesn't work (yet),\n   so to reset, delete the file ``db.sqlite3`` and run ``python mange.py runserver`` again\n\nOptionally, you can add other ``social`` plugins as well.\n\n\n.. _Dataporten: https://docs.dataporten.no/\n.. _social-auth-core: https://python-social-auth.readthedocs.io/en/latest/\n.. _`dataporten's dashboard`: https://dashboard.dataporten.no/\n.. _social's documentation: https://python-social-auth.readthedocs.io/en/latest/\n.. _python-social-auth: https://pypi.python.org/pypi/python-social-auth\n.. _`PSA's official migration document`: https://github.com/omab/python-social-auth/blob/master/MIGRATING_TO_SOCIAL.md\n\n\n\n:Version: 2.0.0", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/UNINETT/python-dataporten-auth", "keywords": "django,oauth2", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "python-dataporten-auth", "package_url": "https://pypi.org/project/python-dataporten-auth/", "platform": "any", "project_url": "https://pypi.org/project/python-dataporten-auth/", "project_urls": {"Homepage": "https://github.com/UNINETT/python-dataporten-auth"}, "release_url": "https://pypi.org/project/python-dataporten-auth/2.0.0/", "requires_dist": ["social-auth-core"], "requires_python": "", "summary": "A plugin for python-social-auth to authenticate with dataporten", "version": "2.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://docs.dataporten.no/\" rel=\"nofollow\">Dataporten</a> is an authentication, authorization and API platform\nfor higher and lower education and research in Norway. Dataporten\noffers authentication of users to applications using OAuth 2.0 and\nthe OpenID Connect.</p>\n<p>Dataporten-auth is a client for dataporten that depends on\n<a href=\"https://python-social-auth.readthedocs.io/en/latest/\" rel=\"nofollow\">social-auth-core</a>.</p>\n<p>This library is not compatible with the pre-refactor\n<a href=\"https://pypi.python.org/pypi/python-social-auth\" rel=\"nofollow\">python-social-auth</a>, see any version prior to 2.0.x for that.\nFurthermore, this is now a Python 3 based project; No attempts\nhave been made to make it backwards compatible with Python 2.</p>\n<p>If you are using the previous incarnation of <tt><span class=\"pre\">python-dataporten-auth</span></tt>:\n<tt><span class=\"pre\">dataporten-auth</span></tt>, see <a href=\"#upgrading-from-dataporten-auth\" rel=\"nofollow\">Upgrading from dataporten-auth</a>.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>Install with <tt>pip install <span class=\"pre\">python-dataporten-auth</span></tt> or by downloading the\nsource and running <tt>setup.py</tt>.</p>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<div id=\"set-up-an-application-at-dataporten\">\n<h3>Set up an application at Dataporten</h3>\n<p>There needs to exist an entry for your site/app at dataporten. Log\nin to <a href=\"https://dashboard.dataporten.no/\" rel=\"nofollow\">dataporten\u2019s dashboard</a> and create an application. The\nentry needs one or more redirect uris.</p>\n<p>You can have several redirect-uris, and you will be needing at\nleast one per plugin used.</p>\n<p>The redirect uri is of the form <tt><span class=\"pre\">&lt;type&gt;://&lt;domainpath&gt;/&lt;suffix&gt;/</span></tt>,\nwhere <tt>&lt;type&gt;</tt> is one of <tt>http</tt> or <tt>https</tt>, <tt>&lt;domainpath&gt;</tt>\nis the domain name of your site and an optional path, and the\n<tt>&lt;suffix&gt;</tt> is plugin-dependent. See the examples under\n<strong>Plugins</strong>.</p>\n</div>\n<div id=\"set-up-your-site\">\n<h3>Set up your site</h3>\n<p>You\u2019ll need to set the client id and client secret generated by\nDataporten in the settings of your app/site.</p>\n<p>Both the name of the settings and the redirect uris depend on the\nplugins used. Add at least one of the plugins below.</p>\n<p>See <a href=\"https://python-social-auth.readthedocs.io/en/latest/\" rel=\"nofollow\">social\u2019s documentation</a> for more.</p>\n</div>\n<div id=\"django\">\n<h3>Django</h3>\n<p>In your <tt>settings.py</tt>:</p>\n<ul>\n<li>Add <tt>'social_django'</tt> to <tt>INSTALLED_APPS</tt>.</li>\n<li>Add one or more of the plugin names below to the start of\n<tt>AUTHENTICATION_BACKENDS</tt>. If you\u2019re also using user-models\n\u00e0 la Django, <tt>'django.contrib.auth.backends.ModelBackend'</tt>\nmust be in the same list, following the plugins.</li>\n<li>Set <tt>SOCIAL_AUTH_DATAPORTEN_FEIDE_SSL_PROTOCOL</tt> to <tt>True</tt> to\nuse SSL. * <tt>SOCIAL_AUTH_LOGIN_REDIRECT_URL</tt>,\n<tt>SOCIAL_AUTH_NEW_USER_REDIRECT_URL</tt> and\n<tt>SOCIAL_AUTH_REDIRECT_IS_HTTPS</tt> will have to be set depending\non the needs of your site.</li>\n<li>If you use the Django admin, you might want to set\n<tt>SOCIAL_AUTH_ADMIN_USER_SEARCH_FIELDS</tt>, for instance to\n<tt>['username', 'email']</tt>.</li>\n</ul>\n<p>Also see the settings in <tt>src\\demosite\\settings.py</tt> in the source.</p>\n<p>In your site\u2019s <tt>urls.py</tt>, include:</p>\n<p><tt>url(PREFIX, <span class=\"pre\">include('social_django.urls',</span> <span class=\"pre\">namespace='social')),</span></tt></p>\n<p>\u2026 where PREFIX is a string to start off the urls with. Empty\nstring, <tt>''</tt>, is fine.</p>\n</div>\n</div>\n<div id=\"upgrading-from-dataporten-auth\">\n<h2>Upgrading from dataporten-auth</h2>\n<p>See <a href=\"https://github.com/omab/python-social-auth/blob/master/MIGRATING_TO_SOCIAL.md\" rel=\"nofollow\">PSA\u2019s official migration document</a>, here follows a summary.</p>\n<ol>\n<li>Install <tt><span class=\"pre\">python-social-auth</span></tt> version 0.2.21.</li>\n<li>Run migrations.</li>\n<li>Uninstall <tt><span class=\"pre\">dataporten-auth</span></tt></li>\n<li>Install <tt><span class=\"pre\">python-dataporten-auth</span></tt>.</li>\n<li>Install <tt><span class=\"pre\">social-auth-app-django</span></tt>.</li>\n<li>In your <tt>urls.py</tt> rename <tt>'social.apps.django_app.urls'</tt> to  <tt>'social_django.urls'</tt>.</li>\n<li>In your <tt>settings.py</tt>, in this order:</li>\n</ol>\n<blockquote>\n<ol>\n<li>Rename <tt>'social.apps.django_app.default'</tt> to <tt>'social_django'</tt>.</li>\n<li>Replace all mentions of <tt><span class=\"pre\">'social.*'</span></tt> with <tt><span class=\"pre\">'social_core.*'</span></tt>.</li>\n<li>Replace all mentions of <tt>psa</tt> with <tt>social</tt>.</li>\n</ol>\n</blockquote>\n<ol>\n<li>Run migrations for <tt>social_django</tt>.</li>\n<li>Uninstall <tt><span class=\"pre\">python-social-auth</span></tt>.</li>\n</ol>\n</div>\n<div id=\"plugins\">\n<h2>Plugins</h2>\n<div id=\"dataporten-social-dataportenoauth2\">\n<h3>dataporten.social.DataportenOAuth2</h3>\n<dl>\n<dt>Plugin name</dt>\n<dd><tt>dataporten.social.DataportenOAuth2</tt></dd>\n<dt>Settings</dt>\n<dd><p>Client id: <tt>SOCIAL_AUTH_DATAPORTEN_KEY</tt></p>\n<p>Client secret: <tt>SOCIAL_AUTH_DATAPORTEN_SECRET</tt></p>\n</dd>\n<dt>Scopes needed</dt>\n<dd><tt>userid</tt> and <tt>profile</tt>, this is the default.</dd>\n<dt>Username generated:</dt>\n<dd>Unique, alphanumeric string. You might want to let users\nchange this generated username. The plugin only cares that a\nusername exists and won\u2019t change the username back.</dd>\n<dt>Redirect-uri ends with</dt>\n<dd>/complete/dataporten/</dd>\n<dt>Example redirect uri:</dt>\n<dd><a href=\"http://127.0.0.1/complete/dataporten/\" rel=\"nofollow\">http://127.0.0.1/complete/dataporten/</a></dd>\n</dl>\n</div>\n<div id=\"dataporten-social-dataportenemailoauth2\">\n<h3>dataporten.social.DataportenEmailOAuth2</h3>\n<dl>\n<dt>Plugin name</dt>\n<dd><tt>dataporten.social.DataportenEmailOAuth2</tt></dd>\n<dt>Settings</dt>\n<dd><p>Client id: <tt>SOCIAL_AUTH_DATAPORTEN_EMAIL_KEY</tt></p>\n<p>Client secret: <tt>SOCIAL_AUTH_DATAPORTEN_EMAIL_SECRET</tt></p>\n</dd>\n<dt>Scopes needed</dt>\n<dd><tt>email</tt>, this must be explicitly allowed in the dashboard.</dd>\n<dt>Username generated:</dt>\n<dd>From email-address</dd>\n<dt>Redirect-uri ends with</dt>\n<dd>/complete/dataporten_email/</dd>\n<dt>Example redirect uri:</dt>\n<dd><a href=\"https://supersites.example.net/mysite/complete/dataporten_email/\" rel=\"nofollow\">https://supersites.example.net/mysite/complete/dataporten_email/</a></dd>\n</dl>\n</div>\n<div id=\"dataporten-social-dataportenfeideoauth2\">\n<h3>dataporten.social.DataportenFeideOAuth2</h3>\n<dl>\n<dt>Plugin name</dt>\n<dd><tt>dataporten.social.DataportenFeideOAuth2</tt></dd>\n<dt>Settings</dt>\n<dd><p>Client id: <tt>SOCIAL_AUTH_DATAPORTEN_FEIDE_KEY</tt></p>\n<p>Client secret: <tt>SOCIAL_AUTH_DATAPORTEN_FEIDE_SECRET</tt></p>\n</dd>\n<dt>Scopes needed</dt>\n<dd><tt><span class=\"pre\">userid-feide</span></tt>, this must be explicitly allowed in the dashboard.</dd>\n<dt>Username generated:</dt>\n<dd>From the Feide attribute <tt>eduPersonPrincipalName</tt>, which looks\nlike an email address.</dd>\n<dt>Redirect-uri ends with</dt>\n<dd>/complete/dataporten_feide/</dd>\n<dt>Example redirect uri:</dt>\n<dd><a href=\"https://example.com/cheatsheet/complete/dataporten_feide/\" rel=\"nofollow\">https://example.com/cheatsheet/complete/dataporten_feide/</a></dd>\n</dl>\n</div>\n</div>\n<div id=\"demo\">\n<h2>Demo</h2>\n<p>The Demo needs Django 1.8 or newer.</p>\n<ol>\n<li>Get the source code</li>\n<li>Install dependencies: <tt>pip install <span class=\"pre\">-r</span> requirements/demo.txt</tt></li>\n<li>Make an application at dataporten</li>\n<li>Edit the settings-file to set <tt>SOCIAL_AUTH_DATAPORTEN_KEY</tt> and <tt>SOCIAL_AUTH_DATAPORTEN_SECRET</tt></li>\n<li>Set three redirect-uris, all starting with <tt><span class=\"pre\">http://127.0.0.1:8000</span></tt></li>\n<li>Run <tt>python mange.py runserver</tt></li>\n<li>Visit <a href=\"http://127.0.0.1:8000\" rel=\"nofollow\">http://127.0.0.1:8000</a> in a fresh browser. Log out doesn\u2019t work (yet),\nso to reset, delete the file <tt>db.sqlite3</tt> and run <tt>python mange.py runserver</tt> again</li>\n</ol>\n<p>Optionally, you can add other <tt>social</tt> plugins as well.</p>\n<table>\n<col>\n<col>\n<tbody>\n<tr><th>Version:</th><td>2.0.0</td>\n</tr>\n</tbody>\n</table>\n</div>\n\n          </div>"}, "last_serial": 2959106, "releases": {"2.0.0": [{"comment_text": "", "digests": {"md5": "7b5d350ced91eaed8098edb4a47e7b7d", "sha256": "fff2e6416a7fc924fd58d1c682dced0bac4c86be3ab35727a4d75c2a1a036ee7"}, "downloads": -1, "filename": "python_dataporten_auth-2.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "7b5d350ced91eaed8098edb4a47e7b7d", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 8625, "upload_time": "2017-06-19T10:37:41", "upload_time_iso_8601": "2017-06-19T10:37:41.311376Z", "url": "https://files.pythonhosted.org/packages/34/46/36d973cb02f8af6f248dd2ca06532459185cec14bcb69982280d0fb711a5/python_dataporten_auth-2.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "330d327984e1ce7a78a05233583476a6", "sha256": "2a4d9651ac008195133480e83e895d888bc1f9a68abc118601d21c41f8f90e73"}, "downloads": -1, "filename": "python-dataporten-auth-2.0.0.tar.gz", "has_sig": false, "md5_digest": "330d327984e1ce7a78a05233583476a6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6223, "upload_time": "2017-06-19T10:37:43", "upload_time_iso_8601": "2017-06-19T10:37:43.510572Z", "url": "https://files.pythonhosted.org/packages/6d/d1/d07d332826f071a43dc573fafee03104c4d02bbac6bbf53c1e1378c7ea12/python-dataporten-auth-2.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "7b5d350ced91eaed8098edb4a47e7b7d", "sha256": "fff2e6416a7fc924fd58d1c682dced0bac4c86be3ab35727a4d75c2a1a036ee7"}, "downloads": -1, "filename": "python_dataporten_auth-2.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "7b5d350ced91eaed8098edb4a47e7b7d", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 8625, "upload_time": "2017-06-19T10:37:41", "upload_time_iso_8601": "2017-06-19T10:37:41.311376Z", "url": "https://files.pythonhosted.org/packages/34/46/36d973cb02f8af6f248dd2ca06532459185cec14bcb69982280d0fb711a5/python_dataporten_auth-2.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "330d327984e1ce7a78a05233583476a6", "sha256": "2a4d9651ac008195133480e83e895d888bc1f9a68abc118601d21c41f8f90e73"}, "downloads": -1, "filename": "python-dataporten-auth-2.0.0.tar.gz", "has_sig": false, "md5_digest": "330d327984e1ce7a78a05233583476a6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6223, "upload_time": "2017-06-19T10:37:43", "upload_time_iso_8601": "2017-06-19T10:37:43.510572Z", "url": "https://files.pythonhosted.org/packages/6d/d1/d07d332826f071a43dc573fafee03104c4d02bbac6bbf53c1e1378c7ea12/python-dataporten-auth-2.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:18:08 2020"}
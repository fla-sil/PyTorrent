{"info": {"author": "Michael Pan", "author_email": "panmpan@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6"], "description": "# SQLAlchemy Migration Maker\n[SQLalchemy](https://github.com/zzzeek/sqlalchemy) \u662f\u500b Python \u7684 Database Library\uff0c\u53ef\u4ee5\u8207 Postgres\u3001MySQL \u8207\u5176\u4ed6 Database \u9023\u7d50\uff0c\u4f46\u662f\u537b\u7f3a\u5c11\u4e86\u66f4\u65b0 Database \u7684\u529f\u80fd\u3002 <br>\n\u53d7\u5230 [Django](https://github.com/django/django) Database \u7684\u555f\u767c\uff0c\u6211\u5beb\u4e86\u9019\u5957\u4ef6\u4f7f\u66f4\u65b0\u66f4\u8f15\u9b06\uff0c\u628a Database \u7d50\u69cb\u5316\u6210\u7279\u5225\u7684 Id\uff0c\u4e26\u5b58\u5230\u8cc7\u6599\u5eab\uff0c\u900f\u904e\u6bd4\u8f03\u7d50\u69cb\u4f86\u6c7a\u5b9a\u9700\u8981\u4e0b\u54ea\u4e9b SQL \u6307\u4ee4\u3002<br>\n**\u6b64\u5957\u4ef6\u9700\u8981\u81ea\u884c\u8a2d\u5b9a**\n\n[SQLalchemy](https://github.com/zzzeek/sqlalchemy) is a  python library that deal with database. Can be used to connect with Postgres, MySQL, etc. But it lack of builtin migrate functionality. <br>\nInspire by django db manager, I write this package to migrate db more easily. <br>\nIt turn Database structure into special id then store in database. <br>\nWhen there's new version structure, it compares two version then decide what SQL command need to be executed. <br>\n**This package need to setup yourself**\n\n## Intall\n`pip install sqlalchemy-migration-maker`\n\n## Requiremnt\n- sqlalchemy\n\n## Testing\n#### Require psycopg2\nIn my testing, I use postgres database to execute sql language\n\n### Tested Envirment\n- MacOSX\n- Python3\n\n### Tested Database\n- Postgres\n\n## Example\nmodel.py\n\n```python\nfrom sqlalchemy import Column\nfrom sqlalchemy.types import Integer\nfrom sqlalchemy.ext.declarative import declarative_base\n\n\nBase = declarative_base()\n\n\nclass User(Base):\n    __tablename__ = \"user\"\n\n    id = Column(Integer, primary_key=True, autoincrement=True)\n\n    def __repr__(self):\n        return f\"<User {self.id} {self.create_at}>\"\n\n```\n\nmigrate.py\n\n```python\nfrom .model import Base\nfrom migrationmaker import VersionControl\n\nversion_ctl = VersionCtrol(\"{DB_URI}\")\n\n# \u6aa2\u67e5\u7248\u672c\u63a7\u5236\u662f\u5426\u5b58\u5728\u65bc DB\n# Check version ctrl exist in DB\nversion_ctl.check_version_ctl_exist()\n\n# \u53d6\u56de\u820a\u7248\u672c\n# Retrieve old version\nself.version_ctl.get_latest_version(is_old_metadata=True)\n\n# \u6307\u5b9a\u65b0\u7248\u672c\n# Assign new version\nself.version_ctl.new_version(Base.metadata)\n\nif not self.version_ctl.check_same():\n    self.version_ctl.migrate()\n\n```\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/panmpan17/MigrationMaker", "keywords": "sqlalchemy migration database db postgres python python3", "license": "", "maintainer": "", "maintainer_email": "", "name": "sqlalchemy-migration-maker", "package_url": "https://pypi.org/project/sqlalchemy-migration-maker/", "platform": "", "project_url": "https://pypi.org/project/sqlalchemy-migration-maker/", "project_urls": {"Homepage": "https://github.com/panmpan17/MigrationMaker"}, "release_url": "https://pypi.org/project/sqlalchemy-migration-maker/0.4/", "requires_dist": ["sqlalchemy"], "requires_python": ">=3.6", "summary": "SQLAlachemy migration maker.Generate SQL command to auto migrate", "version": "0.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>SQLAlchemy Migration Maker</h1>\n<p><a href=\"https://github.com/zzzeek/sqlalchemy\" rel=\"nofollow\">SQLalchemy</a> \u662f\u500b Python \u7684 Database Library\uff0c\u53ef\u4ee5\u8207 Postgres\u3001MySQL \u8207\u5176\u4ed6 Database \u9023\u7d50\uff0c\u4f46\u662f\u537b\u7f3a\u5c11\u4e86\u66f4\u65b0 Database \u7684\u529f\u80fd\u3002 <br>\n\u53d7\u5230 <a href=\"https://github.com/django/django\" rel=\"nofollow\">Django</a> Database \u7684\u555f\u767c\uff0c\u6211\u5beb\u4e86\u9019\u5957\u4ef6\u4f7f\u66f4\u65b0\u66f4\u8f15\u9b06\uff0c\u628a Database \u7d50\u69cb\u5316\u6210\u7279\u5225\u7684 Id\uff0c\u4e26\u5b58\u5230\u8cc7\u6599\u5eab\uff0c\u900f\u904e\u6bd4\u8f03\u7d50\u69cb\u4f86\u6c7a\u5b9a\u9700\u8981\u4e0b\u54ea\u4e9b SQL \u6307\u4ee4\u3002<br>\n<strong>\u6b64\u5957\u4ef6\u9700\u8981\u81ea\u884c\u8a2d\u5b9a</strong></p>\n<p><a href=\"https://github.com/zzzeek/sqlalchemy\" rel=\"nofollow\">SQLalchemy</a> is a  python library that deal with database. Can be used to connect with Postgres, MySQL, etc. But it lack of builtin migrate functionality. <br>\nInspire by django db manager, I write this package to migrate db more easily. <br>\nIt turn Database structure into special id then store in database. <br>\nWhen there's new version structure, it compares two version then decide what SQL command need to be executed. <br>\n<strong>This package need to setup yourself</strong></p>\n<h2>Intall</h2>\n<p><code>pip install sqlalchemy-migration-maker</code></p>\n<h2>Requiremnt</h2>\n<ul>\n<li>sqlalchemy</li>\n</ul>\n<h2>Testing</h2>\n<h4>Require psycopg2</h4>\n<p>In my testing, I use postgres database to execute sql language</p>\n<h3>Tested Envirment</h3>\n<ul>\n<li>MacOSX</li>\n<li>Python3</li>\n</ul>\n<h3>Tested Database</h3>\n<ul>\n<li>Postgres</li>\n</ul>\n<h2>Example</h2>\n<p>model.py</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">sqlalchemy</span> <span class=\"kn\">import</span> <span class=\"n\">Column</span>\n<span class=\"kn\">from</span> <span class=\"nn\">sqlalchemy.types</span> <span class=\"kn\">import</span> <span class=\"n\">Integer</span>\n<span class=\"kn\">from</span> <span class=\"nn\">sqlalchemy.ext.declarative</span> <span class=\"kn\">import</span> <span class=\"n\">declarative_base</span>\n\n\n<span class=\"n\">Base</span> <span class=\"o\">=</span> <span class=\"n\">declarative_base</span><span class=\"p\">()</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">User</span><span class=\"p\">(</span><span class=\"n\">Base</span><span class=\"p\">):</span>\n    <span class=\"n\">__tablename__</span> <span class=\"o\">=</span> <span class=\"s2\">\"user\"</span>\n\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">Integer</span><span class=\"p\">,</span> <span class=\"n\">primary_key</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">autoincrement</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__repr__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"sa\">f</span><span class=\"s2\">\"&lt;User </span><span class=\"si\">{</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"si\">}</span><span class=\"s2\"> </span><span class=\"si\">{</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">create_at</span><span class=\"si\">}</span><span class=\"s2\">&gt;\"</span>\n</pre>\n<p>migrate.py</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">.model</span> <span class=\"kn\">import</span> <span class=\"n\">Base</span>\n<span class=\"kn\">from</span> <span class=\"nn\">migrationmaker</span> <span class=\"kn\">import</span> <span class=\"n\">VersionControl</span>\n\n<span class=\"n\">version_ctl</span> <span class=\"o\">=</span> <span class=\"n\">VersionCtrol</span><span class=\"p\">(</span><span class=\"s2\">\"</span><span class=\"si\">{DB_URI}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u6aa2\u67e5\u7248\u672c\u63a7\u5236\u662f\u5426\u5b58\u5728\u65bc DB</span>\n<span class=\"c1\"># Check version ctrl exist in DB</span>\n<span class=\"n\">version_ctl</span><span class=\"o\">.</span><span class=\"n\">check_version_ctl_exist</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># \u53d6\u56de\u820a\u7248\u672c</span>\n<span class=\"c1\"># Retrieve old version</span>\n<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">version_ctl</span><span class=\"o\">.</span><span class=\"n\">get_latest_version</span><span class=\"p\">(</span><span class=\"n\">is_old_metadata</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u6307\u5b9a\u65b0\u7248\u672c</span>\n<span class=\"c1\"># Assign new version</span>\n<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">version_ctl</span><span class=\"o\">.</span><span class=\"n\">new_version</span><span class=\"p\">(</span><span class=\"n\">Base</span><span class=\"o\">.</span><span class=\"n\">metadata</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">version_ctl</span><span class=\"o\">.</span><span class=\"n\">check_same</span><span class=\"p\">():</span>\n    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">version_ctl</span><span class=\"o\">.</span><span class=\"n\">migrate</span><span class=\"p\">()</span>\n</pre>\n\n          </div>"}, "last_serial": 6738179, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "4e5f7b277f597aae6eccf26e42706252", "sha256": "87f6cc345a779c8fb7b95a128df6e1f936bc650819dbf8105952a5ff780633eb"}, "downloads": -1, "filename": "sqlalchemy_migration_maker-0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "4e5f7b277f597aae6eccf26e42706252", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 6192, "upload_time": "2019-06-14T05:47:08", "upload_time_iso_8601": "2019-06-14T05:47:08.262887Z", "url": "https://files.pythonhosted.org/packages/ac/94/f6b3c7e94b9f395a20ab7fc942c315d5ac8bb961a2fd9b67b2a60c98ce03/sqlalchemy_migration_maker-0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "792af15d335830095e1e3da77565524b", "sha256": "96751ba50dafcb605778cb4b849e9e1f0b3ccf9fa85d159f2b1c6a6857357b77"}, "downloads": -1, "filename": "sqlalchemy-migration-maker-0.1.tar.gz", "has_sig": false, "md5_digest": "792af15d335830095e1e3da77565524b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 4893, "upload_time": "2019-06-14T05:47:10", "upload_time_iso_8601": "2019-06-14T05:47:10.576599Z", "url": "https://files.pythonhosted.org/packages/92/aa/f732109fe6f087e18f28268dba54e1b07feec977de554f9d81b21028a364/sqlalchemy-migration-maker-0.1.tar.gz", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "4a43f61c2f5ad9ad975031a271324cb3", "sha256": "cebb9d3fe434382214912d5f7742bab39af2a1814aac0f06af6b66a535af2c4b"}, "downloads": -1, "filename": "sqlalchemy_migration_maker-0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "4a43f61c2f5ad9ad975031a271324cb3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 7171, "upload_time": "2019-06-14T15:42:19", "upload_time_iso_8601": "2019-06-14T15:42:19.853081Z", "url": "https://files.pythonhosted.org/packages/5b/80/81414aa7e1bda9fa703d8088905c522fef72d3d84118c96f829f38663b49/sqlalchemy_migration_maker-0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ed4a1129b798564348a56b25b94c7a4b", "sha256": "9fff8f66ddb8ebab7415f0f804d048e219aa0e117d6f4c74f9216dd33ad5fbc0"}, "downloads": -1, "filename": "sqlalchemy-migration-maker-0.2.tar.gz", "has_sig": false, "md5_digest": "ed4a1129b798564348a56b25b94c7a4b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5469, "upload_time": "2019-06-14T15:42:21", "upload_time_iso_8601": "2019-06-14T15:42:21.427319Z", "url": "https://files.pythonhosted.org/packages/85/17/e49b61e04c5208b3871e16d39cf7baec384056702842f9ec20966ed40b90/sqlalchemy-migration-maker-0.2.tar.gz", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "1605eaf3459eb47fe999a026dc6df2a6", "sha256": "e445e5ef35f984c0600d87c9036ea8f623a6c090329cd5504eecb8367d9c179b"}, "downloads": -1, "filename": "sqlalchemy_migration_maker-0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "1605eaf3459eb47fe999a026dc6df2a6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 7273, "upload_time": "2019-06-17T07:11:24", "upload_time_iso_8601": "2019-06-17T07:11:24.544712Z", "url": "https://files.pythonhosted.org/packages/89/0b/aa109f3e00f6ee87884f0c45923835bef302e542e1ffff2858674d948852/sqlalchemy_migration_maker-0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f51263b74a6bc85101e95417191eb404", "sha256": "f11b7b425a4d378391ba295b8f8a6c3f393a52c73ac1f8b8f8c5d6931dfe0825"}, "downloads": -1, "filename": "sqlalchemy-migration-maker-0.3.tar.gz", "has_sig": false, "md5_digest": "f51263b74a6bc85101e95417191eb404", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5568, "upload_time": "2019-06-17T07:11:25", "upload_time_iso_8601": "2019-06-17T07:11:25.760871Z", "url": "https://files.pythonhosted.org/packages/c4/b8/8c929e7f20e3fc7e5bf5318f0666b9350931321a1a177c5c118badc456dc/sqlalchemy-migration-maker-0.3.tar.gz", "yanked": false}], "0.4": [{"comment_text": "", "digests": {"md5": "b9c7a7f99d3d10cece182460ee92a59d", "sha256": "655fa21ca053266bd040581fec0232b55d9d5684e898e6469fa0954e42cb6216"}, "downloads": -1, "filename": "sqlalchemy_migration_maker-0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "b9c7a7f99d3d10cece182460ee92a59d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 9019, "upload_time": "2020-03-03T05:28:11", "upload_time_iso_8601": "2020-03-03T05:28:11.175426Z", "url": "https://files.pythonhosted.org/packages/bc/bf/0f25295e4da4fd59ad4610be4f3364f4108037333f1144dedbc2e46d76df/sqlalchemy_migration_maker-0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e871be58c45a548a00fb72af379b6db1", "sha256": "6d0a91e2b8e5494626a269363f35d9db0fc46beceb291300c27bb3db88e995b2"}, "downloads": -1, "filename": "sqlalchemy-migration-maker-0.4.tar.gz", "has_sig": false, "md5_digest": "e871be58c45a548a00fb72af379b6db1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 7434, "upload_time": "2020-03-03T05:28:12", "upload_time_iso_8601": "2020-03-03T05:28:12.728013Z", "url": "https://files.pythonhosted.org/packages/37/fd/16b6bc48707aa0e49db054b8987e3bdd817ff5d89f8c540ead57c177867b/sqlalchemy-migration-maker-0.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b9c7a7f99d3d10cece182460ee92a59d", "sha256": "655fa21ca053266bd040581fec0232b55d9d5684e898e6469fa0954e42cb6216"}, "downloads": -1, "filename": "sqlalchemy_migration_maker-0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "b9c7a7f99d3d10cece182460ee92a59d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 9019, "upload_time": "2020-03-03T05:28:11", "upload_time_iso_8601": "2020-03-03T05:28:11.175426Z", "url": "https://files.pythonhosted.org/packages/bc/bf/0f25295e4da4fd59ad4610be4f3364f4108037333f1144dedbc2e46d76df/sqlalchemy_migration_maker-0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e871be58c45a548a00fb72af379b6db1", "sha256": "6d0a91e2b8e5494626a269363f35d9db0fc46beceb291300c27bb3db88e995b2"}, "downloads": -1, "filename": "sqlalchemy-migration-maker-0.4.tar.gz", "has_sig": false, "md5_digest": "e871be58c45a548a00fb72af379b6db1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 7434, "upload_time": "2020-03-03T05:28:12", "upload_time_iso_8601": "2020-03-03T05:28:12.728013Z", "url": "https://files.pythonhosted.org/packages/37/fd/16b6bc48707aa0e49db054b8987e3bdd817ff5d89f8c540ead57c177867b/sqlalchemy-migration-maker-0.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:03:55 2020"}
{"info": {"author": "zencore", "author_email": "dobetter@zencore.cn", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3 :: Only", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# django-gazing-select-widget\n\nChoices of select widget changes while the value of another filed changes.\n\n## Install\n\n```shell\npip install django-gazing-select-widget\n```\n\n## DjangoGazingSelectWidget Init Parameters\n\n```python\n\nclass DjangoGazingSelectWidget(Select):\n\n    def __init__(self,\n            gazing_field_name,\n            this_field_name,\n            choices_related=None,\n            gazing_related=True,\n            optgroups_related=None,\n            empty_label=\"-\"*10,\n            hide_all_if_empty=True,\n            attrs=None,\n            choices=(),\n            ):\n        ...\n```\n\n- gazing_field_name: Name of the gazing field.\n- this_field_name: Name of this field.\n- choices_related: List of tuple (option_value, related_value)\n    - It means, if the gazing_field value equals to related_value, then the option with option_value will be show.\n- gazing_related: Default to true, means gazing field is at the same level with this field.\n    - If set to false, then the gazing field is always at the top level of the form.\n- empty_label: Defualt to \"-\"*10. Empty value option for this field. \n- hide_all_if_empty: Default to true. If true, hide all options if gazing value is empty. If false, show all options if gazing value is empty.\n- attrs: Same with system's default Select widget.\n- choices: Same with system's default Select widget.\n    - choices can be a callable object, if it's a callable object, it will be called again before get_context.\n\n## Usage\n\n**pro/settings.py\n\n```python\nINSTALLED_APPS = [\n    ...\n    'django_static_jquery3',\n    'django_gazing_select_widget',\n    ...\n]\n```\n\n**app/admin.py**\n\n```python\nfrom django.contrib import admin\nfrom django import forms\nfrom django_gazing_select_widget.widgets import DjangoGazingSelectWidget\nfrom .models import Category\n\ncat1_choices = [\n    (\"\", \"-\"*10),\n    (1, \"1\"),\n    (2, \"2\"),\n]\n\ncat2_choices = [\n    (\"group1\", [\n        (1, \"a1\"),\n        (2, \"b1\"),\n        (3, \"c1\"),\n        (4, \"d1\"),\n    ]),\n    (\"group2\", [\n        (5, \"a2\"),\n        (6, \"b2\"),\n        (7, \"c2\"),\n        (8, \"d2\"),\n    ]),\n]\n\ncat2_choices_related = {\n    1: [\"1\"],\n    2: [\"1\"],\n    3: [\"1\"],\n    4: [\"1\"],\n    5: [\"2\"],\n    6: [\"2\"],\n    7: [\"2\"],\n    8: [\"2\"],\n}\n\nclass CategoryForm(forms.ModelForm):\n    class Meta:\n        model = Category\n        exclude = []\n        widgets = {\n            \"cat1\": forms.Select(choices=cat1_choices),\n            \"cat2\": DjangoGazingSelectWidget(gazing_field=\"cat1\", choices=cat2_choices, choices_related=cat2_choices_related, hide_all_if_empty=False),\n        }\n\nclass CategoryAdmin(admin.ModelAdmin):\n    list_display = [\"cat1\", \"cat2\", \"name\"]\n    form = CategoryForm\n\nadmin.site.register(Category, CategoryAdmin)\n\n```\n\n**Note:**\n\n1. field cat2 is gazing at field cat1.\n1. if the field cat1's value is empty, show none options in field cat2.\n1. if the field cat1's value is 1, show group1 options in field cat2.\n1. if the field cat1's value is 2, show group2 options in field cat2.\n\n\n## Releases\n\n### v0.1.1 2020/03/28\n\n- Add callable choices support.\n- Add gazing_related support.\n\n### v0.1.0 2020/03/28\n\n- First release.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "django admin extentions,django gazing select widget", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "django-gazing-select-widget", "package_url": "https://pypi.org/project/django-gazing-select-widget/", "platform": "", "project_url": "https://pypi.org/project/django-gazing-select-widget/", "project_urls": null, "release_url": "https://pypi.org/project/django-gazing-select-widget/0.1.1/", "requires_dist": null, "requires_python": "", "summary": "Choices of select widget changes while the value of another filed changes.", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>django-gazing-select-widget</h1>\n<p>Choices of select widget changes while the value of another filed changes.</p>\n<h2>Install</h2>\n<pre>pip install django-gazing-select-widget\n</pre>\n<h2>DjangoGazingSelectWidget Init Parameters</h2>\n<pre><span class=\"k\">class</span> <span class=\"nc\">DjangoGazingSelectWidget</span><span class=\"p\">(</span><span class=\"n\">Select</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span>\n            <span class=\"n\">gazing_field_name</span><span class=\"p\">,</span>\n            <span class=\"n\">this_field_name</span><span class=\"p\">,</span>\n            <span class=\"n\">choices_related</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n            <span class=\"n\">gazing_related</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n            <span class=\"n\">optgroups_related</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n            <span class=\"n\">empty_label</span><span class=\"o\">=</span><span class=\"s2\">\"-\"</span><span class=\"o\">*</span><span class=\"mi\">10</span><span class=\"p\">,</span>\n            <span class=\"n\">hide_all_if_empty</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n            <span class=\"n\">attrs</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span>\n            <span class=\"n\">choices</span><span class=\"o\">=</span><span class=\"p\">(),</span>\n            <span class=\"p\">):</span>\n        <span class=\"o\">...</span>\n</pre>\n<ul>\n<li>gazing_field_name: Name of the gazing field.</li>\n<li>this_field_name: Name of this field.</li>\n<li>choices_related: List of tuple (option_value, related_value)\n<ul>\n<li>It means, if the gazing_field value equals to related_value, then the option with option_value will be show.</li>\n</ul>\n</li>\n<li>gazing_related: Default to true, means gazing field is at the same level with this field.\n<ul>\n<li>If set to false, then the gazing field is always at the top level of the form.</li>\n</ul>\n</li>\n<li>empty_label: Defualt to \"-\"*10. Empty value option for this field.</li>\n<li>hide_all_if_empty: Default to true. If true, hide all options if gazing value is empty. If false, show all options if gazing value is empty.</li>\n<li>attrs: Same with system's default Select widget.</li>\n<li>choices: Same with system's default Select widget.\n<ul>\n<li>choices can be a callable object, if it's a callable object, it will be called again before get_context.</li>\n</ul>\n</li>\n</ul>\n<h2>Usage</h2>\n<p>**pro/settings.py</p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'django_static_jquery3'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'django_gazing_select_widget'</span><span class=\"p\">,</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">]</span>\n</pre>\n<p><strong>app/admin.py</strong></p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.contrib</span> <span class=\"kn\">import</span> <span class=\"n\">admin</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django</span> <span class=\"kn\">import</span> <span class=\"n\">forms</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_gazing_select_widget.widgets</span> <span class=\"kn\">import</span> <span class=\"n\">DjangoGazingSelectWidget</span>\n<span class=\"kn\">from</span> <span class=\"nn\">.models</span> <span class=\"kn\">import</span> <span class=\"n\">Category</span>\n\n<span class=\"n\">cat1_choices</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">,</span> <span class=\"s2\">\"-\"</span><span class=\"o\">*</span><span class=\"mi\">10</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">\"1\"</span><span class=\"p\">),</span>\n    <span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s2\">\"2\"</span><span class=\"p\">),</span>\n<span class=\"p\">]</span>\n\n<span class=\"n\">cat2_choices</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"p\">(</span><span class=\"s2\">\"group1\"</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s2\">\"a1\"</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s2\">\"b1\"</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"s2\">\"c1\"</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"s2\">\"d1\"</span><span class=\"p\">),</span>\n    <span class=\"p\">]),</span>\n    <span class=\"p\">(</span><span class=\"s2\">\"group2\"</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"s2\">\"a2\"</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"s2\">\"b2\"</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"s2\">\"c2\"</span><span class=\"p\">),</span>\n        <span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"s2\">\"d2\"</span><span class=\"p\">),</span>\n    <span class=\"p\">]),</span>\n<span class=\"p\">]</span>\n\n<span class=\"n\">cat2_choices_related</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"mi\">1</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"1\"</span><span class=\"p\">],</span>\n    <span class=\"mi\">2</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"1\"</span><span class=\"p\">],</span>\n    <span class=\"mi\">3</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"1\"</span><span class=\"p\">],</span>\n    <span class=\"mi\">4</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"1\"</span><span class=\"p\">],</span>\n    <span class=\"mi\">5</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"2\"</span><span class=\"p\">],</span>\n    <span class=\"mi\">6</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"2\"</span><span class=\"p\">],</span>\n    <span class=\"mi\">7</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"2\"</span><span class=\"p\">],</span>\n    <span class=\"mi\">8</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"2\"</span><span class=\"p\">],</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">CategoryForm</span><span class=\"p\">(</span><span class=\"n\">forms</span><span class=\"o\">.</span><span class=\"n\">ModelForm</span><span class=\"p\">):</span>\n    <span class=\"k\">class</span> <span class=\"nc\">Meta</span><span class=\"p\">:</span>\n        <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">Category</span>\n        <span class=\"n\">exclude</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n        <span class=\"n\">widgets</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n            <span class=\"s2\">\"cat1\"</span><span class=\"p\">:</span> <span class=\"n\">forms</span><span class=\"o\">.</span><span class=\"n\">Select</span><span class=\"p\">(</span><span class=\"n\">choices</span><span class=\"o\">=</span><span class=\"n\">cat1_choices</span><span class=\"p\">),</span>\n            <span class=\"s2\">\"cat2\"</span><span class=\"p\">:</span> <span class=\"n\">DjangoGazingSelectWidget</span><span class=\"p\">(</span><span class=\"n\">gazing_field</span><span class=\"o\">=</span><span class=\"s2\">\"cat1\"</span><span class=\"p\">,</span> <span class=\"n\">choices</span><span class=\"o\">=</span><span class=\"n\">cat2_choices</span><span class=\"p\">,</span> <span class=\"n\">choices_related</span><span class=\"o\">=</span><span class=\"n\">cat2_choices_related</span><span class=\"p\">,</span> <span class=\"n\">hide_all_if_empty</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">),</span>\n        <span class=\"p\">}</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">CategoryAdmin</span><span class=\"p\">(</span><span class=\"n\">admin</span><span class=\"o\">.</span><span class=\"n\">ModelAdmin</span><span class=\"p\">):</span>\n    <span class=\"n\">list_display</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"cat1\"</span><span class=\"p\">,</span> <span class=\"s2\">\"cat2\"</span><span class=\"p\">,</span> <span class=\"s2\">\"name\"</span><span class=\"p\">]</span>\n    <span class=\"n\">form</span> <span class=\"o\">=</span> <span class=\"n\">CategoryForm</span>\n\n<span class=\"n\">admin</span><span class=\"o\">.</span><span class=\"n\">site</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"n\">Category</span><span class=\"p\">,</span> <span class=\"n\">CategoryAdmin</span><span class=\"p\">)</span>\n</pre>\n<p><strong>Note:</strong></p>\n<ol>\n<li>field cat2 is gazing at field cat1.</li>\n<li>if the field cat1's value is empty, show none options in field cat2.</li>\n<li>if the field cat1's value is 1, show group1 options in field cat2.</li>\n<li>if the field cat1's value is 2, show group2 options in field cat2.</li>\n</ol>\n<h2>Releases</h2>\n<h3>v0.1.1 2020/03/28</h3>\n<ul>\n<li>Add callable choices support.</li>\n<li>Add gazing_related support.</li>\n</ul>\n<h3>v0.1.0 2020/03/28</h3>\n<ul>\n<li>First release.</li>\n</ul>\n\n          </div>"}, "last_serial": 6901713, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "32120dc482412c33f7a949b948ba8219", "sha256": "29ef4abbdf03f817e6959a19900eec4b837fad896cc05f936ebe1fa57e4fe095"}, "downloads": -1, "filename": "django-gazing-select-widget-0.1.0.tar.gz", "has_sig": false, "md5_digest": "32120dc482412c33f7a949b948ba8219", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6135, "upload_time": "2020-03-28T02:39:32", "upload_time_iso_8601": "2020-03-28T02:39:32.359771Z", "url": "https://files.pythonhosted.org/packages/e6/df/1d7157596bdfdfdadf4c8593acc010c7e7112ccc16750905d2862703da35/django-gazing-select-widget-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "6ae8274ad8069350b22ef2d63f69ec31", "sha256": "4fda46220ce186051ca66ee6e7db4226724f6df20245005783bbe76f898b25bd"}, "downloads": -1, "filename": "django-gazing-select-widget-0.1.1.tar.gz", "has_sig": false, "md5_digest": "6ae8274ad8069350b22ef2d63f69ec31", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6640, "upload_time": "2020-03-28T12:51:54", "upload_time_iso_8601": "2020-03-28T12:51:54.086638Z", "url": "https://files.pythonhosted.org/packages/33/ad/c92505a7c7f73bdd9f8766eb1748d3907e19f062098c89c9b46966771ed3/django-gazing-select-widget-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "6ae8274ad8069350b22ef2d63f69ec31", "sha256": "4fda46220ce186051ca66ee6e7db4226724f6df20245005783bbe76f898b25bd"}, "downloads": -1, "filename": "django-gazing-select-widget-0.1.1.tar.gz", "has_sig": false, "md5_digest": "6ae8274ad8069350b22ef2d63f69ec31", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6640, "upload_time": "2020-03-28T12:51:54", "upload_time_iso_8601": "2020-03-28T12:51:54.086638Z", "url": "https://files.pythonhosted.org/packages/33/ad/c92505a7c7f73bdd9f8766eb1748d3907e19f062098c89c9b46966771ed3/django-gazing-select-widget-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:35:55 2020"}
{"info": {"author": "Haruki Nishikawa", "author_email": "harukinishikawa84@hotmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.2", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: 3.9"], "description": "# jismesh\n\n\u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306b\u95a2\u3059\u308b\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u3067\u3059\u3002\n\n## \u5bfe\u5fdc\u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\n- 1\u6b21(\u6a19\u6e96\u5730\u57df\u30e1\u30c3\u30b7\u30e5 80km\u56db\u65b9): 1\n- 40\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 40km\u56db\u65b9): 40000\n- 20\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 20km\u56db\u65b9): 20000\n- 16\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 16km\u56db\u65b9): 16000\n- 2\u6b21(\u6a19\u6e96\u5730\u57df\u30e1\u30c3\u30b7\u30e5 10km\u56db\u65b9): 2\n- 8\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 8km\u56db\u65b9): 8000\n- 5\u500d(\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 5km\u56db\u65b9): 5000\n- 4\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 4km\u56db\u65b9): 4000\n- 2.5\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 2.5km\u56db\u65b9): 2500\n- 2\u500d(\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 2km\u56db\u65b9): 2000\n- 3\u6b21(\u6a19\u6e96\u5730\u57df\u30e1\u30c3\u30b7\u30e5 1km\u56db\u65b9): 3\n- 4\u6b21(\u5206\u5272\u5730\u57df\u30e1\u30c3\u30b7\u30e5 500m\u56db\u65b9): 4\n- 5\u6b21(\u5206\u5272\u5730\u57df\u30e1\u30c3\u30b7\u30e5 250m\u56db\u65b9): 5\n- 6\u6b21(\u5206\u5272\u5730\u57df\u30e1\u30c3\u30b7\u30e5 125m\u56db\u65b9): 6\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash\npip install jismesh\n```\n\n## \u7def\u5ea6\u7d4c\u5ea6\u304b\u3089\u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u6c42\u3081\u308b\n\n\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306b\u5909\u63db\u3059\u308b\u4e16\u754c\u6e2c\u5730\u7cfb\u7def\u5ea6\u7d4c\u5ea6\u3068\u5909\u63db\u3059\u308b\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306e\u6b21\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n### \u4f7f\u7528\u4f8b\n```python\nimport jismesh.utils as ju\n\n# \u7def\u5ea6\u7d4c\u5ea6\u304b\u3089\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u6c42\u3081\u308b\u3002\nmeshcode = ju.to_meshcode(35.658581, 139.745433, 3)\nprint(meshcode)\n53393599\n\n# pandas DataFrame\u4e2d\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306b\u5909\u63db\u3059\u308b\u3002\nimport pandas as pd\ndf = pd.DataFrame({'lat': [35.658581, 34.987574], 'lon':[139.745433, 135.759363]})\nprint(df)\n         lat         lon\n0  35.658581  139.745433\n1  34.987574  135.759363\n\ndf['meshcode'] = ju.to_meshcode(df.lat, df.lon, 3)\nprint(df)\n         lat         lon  meshcode\n0  35.658581  139.745433  53393599\n1  34.987574  135.759363  52353680\n```\n\n\n## \u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u304b\u3089\u6b21\u6570\u3092\u6c42\u3081\u308b\n\n\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u304b\u3089\u305d\u306e\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306e\u6b21\u6570\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\n\n### \u4f7f\u7528\u4f8b\n```python\nimport jismesh.utils as ju\n\n# \u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306e\u6b21\u6570\u3092\u6c42\u3081\u308b\u3002\nmeshlevel = ju.to_meshlevel(53393599)\nprint(meshlevel)\n3\n\n# pandas DataFrame\u4e2d\u306e\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u6b21\u6570\u306b\u5909\u63db\u3059\u308b\u3002\nimport pandas as pd\ndf = pd.DataFrame({'meshcode': [53393599, 52353680]})\nprint(df)\n   meshcode\n0  53393599\n1  52353680\n\ndf['level'] = ju.to_meshlevel(df.meshcode)\nprint(df)\n   meshcode  level\n0  53393599      3\n1  52353680      3\n```\n\n\n## \u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u304b\u3089\u7def\u5ea6\u7d4c\u5ea6\u3092\u6c42\u3081\u308b\n\n\u6c42\u3081\u308b\u7def\u5ea6\u7d4c\u5ea6\u3067\u8868\u3055\u308c\u308b\u70b9\u306f\u3001\u5f53\u8a72\u30e1\u30c3\u30b7\u30e5\u306e\u57fa\u6e96\u70b9(\u5357\u897f\u7aef)\u304b\u3089\u3001\n\u7def\u5ea6\u5ea7\u6a19\u4e0a\u306e\u70b9\u306e\u4f4d\u7f6e(\u5f53\u8a72\u30e1\u30c3\u30b7\u30e5\u306e\u5358\u4f4d\u7d4c\u5ea6\u306e\u500d\u6570)\u3001\u7d4c\u5ea6\u5ea7\u6a19\u4e0a\u306e\u70b9\u306e\u4f4d\u7f6e(\u5f53\u8a72\u30e1\u30c3\u30b7\u30e5\u306e\u5358\u4f4d\u7def\u5ea6\u306e\u500d\u6570)\n\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n### \u4f7f\u7528\u4f8b\n```python\nimport jismesh.utils as ju\n\n# \u5357\u897f\u7aef\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u6c42\u3081\u308b\u3002\nlat_sw, lon_sw = ju.to_meshpoint(53393599, 0, 0)\nprint(lat_sw, lon_sw)\n35.6583333333 139.7375\n\n# \u5317\u6771\u7aef\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u6c42\u3081\u308b\u3002\nlat_ne, lon_ne = ju.to_meshpoint(53393599, 1, 1)\nprint(lat_ne, lon_ne)\n35.6666666667 139.75\n\n# \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u6c42\u3081\u308b\u3002\nlat_c, lon_c = ju.to_meshpoint(53393599, 0.5, 0.5)\nprint(lat_c, lon_c)\n35.6625 139.74375\n\n# \u6771\u96a3\u63a5\u30e1\u30c3\u30b7\u30e5\u306e\u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u6c42\u3081\u308b\u3002\nlat_east_neighbor_c, lon_east_neighbor_c = ju.to_meshpoint(53393599, 0.5, 1.5)\nprint(lat_east_neighbor_c, lon_east_neighbor_c)\n35.6625 139.75625\n\n# pandas DataFrame\u4e2d\u306e\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u4e2d\u5fc3\u70b9\u7def\u5ea6\u7d4c\u5ea6\u306b\u5909\u63db\u3059\u308b\u3002\nimport pandas as pd\ndf = pd.DataFrame({'meshcode': [53393599, 52353680]})\nprint(df)\n   meshcode\n0  53393599\n1  52353680\n\ndf['lat'], df['lon'] = ju.to_meshpoint(df.meshcode, lat_multiplier=0.5, lon_multiplier=0.5) \nprint(df)\n   meshcode      lat        lon\n0  53393599  35.6625  139.74375\n1  52353680  34.9875  135.75625\n```\n\n## \u4ea4\u5dee\u3059\u308b\u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u6c42\u3081\u308b\n\n### \u4f7f\u7528\u4f8b\n```python\nimport jismesh.utils as ju\n\n# \u4ea4\u5dee\u3059\u308b\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u6c42\u3081\u308b\u3002\ngenerator_intersects = ju.to_intersects(53394611, 4)\n\nfor meshcode in generator_intersects:\n\tprint(meshcode)\n\n533946111\n533946112\n533946113\n533946114\n```\n\n## TIPS\nlru\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u3088\u308b\u9ad8\u901f\u5316\n```python\nimport jismesh.utils as ju\nfrom functools import lru_cache\n\n# lru\u30ad\u30e3\u30c3\u30b7\u30e5\u7121\u52b9\u306a\u95a2\u6570\u306e\u5b9f\u884c\u901f\u5ea6\ntimeit ju.to_meshcode(35.6625, 139.75625, 3)\n12.6 \u00b5s \u00b1 908 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n\n# lru\u30ad\u30e3\u30c3\u30b7\u30e5\u6709\u52b9\u306a\u95a2\u6570\u306e\u5b9f\u884c\u901f\u5ea6\ncached_to_meshcode = lru_cache(10)(ju.to_meshcode)\n\ntimeit cached_to_meshcode(35.6625, 139.75625, 3)\n\n192 ns \u00b1 3.5 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "https://github.com/hni14/jismesh/archive/v2.1.0.tar.gz", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/hni14/jismesh", "keywords": "mesh,grid,meshcode,mesh code,JIS X 0410", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "jismesh", "package_url": "https://pypi.org/project/jismesh/", "platform": "any", "project_url": "https://pypi.org/project/jismesh/", "project_urls": {"Download": "https://github.com/hni14/jismesh/archive/v2.1.0.tar.gz", "Homepage": "https://github.com/hni14/jismesh"}, "release_url": "https://pypi.org/project/jismesh/2.1.0/", "requires_dist": ["numpy (>=1.15)", "functools32 ; python_version < \"3.0\"", "nose (>=1.3.7) ; extra == 'test'"], "requires_python": "", "summary": "Utilities for the Japanese regional grid system defined in Japanese Industrial Standards (JIS X 0410 \u5730\u57df\u30e1\u30c3\u30b7\u30e5).", "version": "2.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>jismesh</h1>\n<p>\u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306b\u95a2\u3059\u308b\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u3067\u3059\u3002</p>\n<h2>\u5bfe\u5fdc\u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9</h2>\n<ul>\n<li>1\u6b21(\u6a19\u6e96\u5730\u57df\u30e1\u30c3\u30b7\u30e5 80km\u56db\u65b9): 1</li>\n<li>40\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 40km\u56db\u65b9): 40000</li>\n<li>20\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 20km\u56db\u65b9): 20000</li>\n<li>16\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 16km\u56db\u65b9): 16000</li>\n<li>2\u6b21(\u6a19\u6e96\u5730\u57df\u30e1\u30c3\u30b7\u30e5 10km\u56db\u65b9): 2</li>\n<li>8\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 8km\u56db\u65b9): 8000</li>\n<li>5\u500d(\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 5km\u56db\u65b9): 5000</li>\n<li>4\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 4km\u56db\u65b9): 4000</li>\n<li>2.5\u500d(\u62e1\u5f35\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 2.5km\u56db\u65b9): 2500</li>\n<li>2\u500d(\u7d71\u5408\u5730\u57df\u30e1\u30c3\u30b7\u30e5 2km\u56db\u65b9): 2000</li>\n<li>3\u6b21(\u6a19\u6e96\u5730\u57df\u30e1\u30c3\u30b7\u30e5 1km\u56db\u65b9): 3</li>\n<li>4\u6b21(\u5206\u5272\u5730\u57df\u30e1\u30c3\u30b7\u30e5 500m\u56db\u65b9): 4</li>\n<li>5\u6b21(\u5206\u5272\u5730\u57df\u30e1\u30c3\u30b7\u30e5 250m\u56db\u65b9): 5</li>\n<li>6\u6b21(\u5206\u5272\u5730\u57df\u30e1\u30c3\u30b7\u30e5 125m\u56db\u65b9): 6</li>\n</ul>\n<h2>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</h2>\n<pre>pip install jismesh\n</pre>\n<h2>\u7def\u5ea6\u7d4c\u5ea6\u304b\u3089\u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u6c42\u3081\u308b</h2>\n<p>\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306b\u5909\u63db\u3059\u308b\u4e16\u754c\u6e2c\u5730\u7cfb\u7def\u5ea6\u7d4c\u5ea6\u3068\u5909\u63db\u3059\u308b\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306e\u6b21\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</p>\n<h3>\u4f7f\u7528\u4f8b</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">jismesh.utils</span> <span class=\"k\">as</span> <span class=\"nn\">ju</span>\n\n<span class=\"c1\"># \u7def\u5ea6\u7d4c\u5ea6\u304b\u3089\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u6c42\u3081\u308b\u3002</span>\n<span class=\"n\">meshcode</span> <span class=\"o\">=</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshcode</span><span class=\"p\">(</span><span class=\"mf\">35.658581</span><span class=\"p\">,</span> <span class=\"mf\">139.745433</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">meshcode</span><span class=\"p\">)</span>\n<span class=\"mi\">53393599</span>\n\n<span class=\"c1\"># pandas DataFrame\u4e2d\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306b\u5909\u63db\u3059\u308b\u3002</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">({</span><span class=\"s1\">'lat'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mf\">35.658581</span><span class=\"p\">,</span> <span class=\"mf\">34.987574</span><span class=\"p\">],</span> <span class=\"s1\">'lon'</span><span class=\"p\">:[</span><span class=\"mf\">139.745433</span><span class=\"p\">,</span> <span class=\"mf\">135.759363</span><span class=\"p\">]})</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n         <span class=\"n\">lat</span>         <span class=\"n\">lon</span>\n<span class=\"mi\">0</span>  <span class=\"mf\">35.658581</span>  <span class=\"mf\">139.745433</span>\n<span class=\"mi\">1</span>  <span class=\"mf\">34.987574</span>  <span class=\"mf\">135.759363</span>\n\n<span class=\"n\">df</span><span class=\"p\">[</span><span class=\"s1\">'meshcode'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshcode</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">lat</span><span class=\"p\">,</span> <span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">lon</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n         <span class=\"n\">lat</span>         <span class=\"n\">lon</span>  <span class=\"n\">meshcode</span>\n<span class=\"mi\">0</span>  <span class=\"mf\">35.658581</span>  <span class=\"mf\">139.745433</span>  <span class=\"mi\">53393599</span>\n<span class=\"mi\">1</span>  <span class=\"mf\">34.987574</span>  <span class=\"mf\">135.759363</span>  <span class=\"mi\">52353680</span>\n</pre>\n<h2>\u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u304b\u3089\u6b21\u6570\u3092\u6c42\u3081\u308b</h2>\n<p>\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u304b\u3089\u305d\u306e\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306e\u6b21\u6570\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002</p>\n<h3>\u4f7f\u7528\u4f8b</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">jismesh.utils</span> <span class=\"k\">as</span> <span class=\"nn\">ju</span>\n\n<span class=\"c1\"># \u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u306e\u6b21\u6570\u3092\u6c42\u3081\u308b\u3002</span>\n<span class=\"n\">meshlevel</span> <span class=\"o\">=</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshlevel</span><span class=\"p\">(</span><span class=\"mi\">53393599</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">meshlevel</span><span class=\"p\">)</span>\n<span class=\"mi\">3</span>\n\n<span class=\"c1\"># pandas DataFrame\u4e2d\u306e\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u6b21\u6570\u306b\u5909\u63db\u3059\u308b\u3002</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">({</span><span class=\"s1\">'meshcode'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">53393599</span><span class=\"p\">,</span> <span class=\"mi\">52353680</span><span class=\"p\">]})</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n   <span class=\"n\">meshcode</span>\n<span class=\"mi\">0</span>  <span class=\"mi\">53393599</span>\n<span class=\"mi\">1</span>  <span class=\"mi\">52353680</span>\n\n<span class=\"n\">df</span><span class=\"p\">[</span><span class=\"s1\">'level'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshlevel</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">meshcode</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n   <span class=\"n\">meshcode</span>  <span class=\"n\">level</span>\n<span class=\"mi\">0</span>  <span class=\"mi\">53393599</span>      <span class=\"mi\">3</span>\n<span class=\"mi\">1</span>  <span class=\"mi\">52353680</span>      <span class=\"mi\">3</span>\n</pre>\n<h2>\u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u304b\u3089\u7def\u5ea6\u7d4c\u5ea6\u3092\u6c42\u3081\u308b</h2>\n<p>\u6c42\u3081\u308b\u7def\u5ea6\u7d4c\u5ea6\u3067\u8868\u3055\u308c\u308b\u70b9\u306f\u3001\u5f53\u8a72\u30e1\u30c3\u30b7\u30e5\u306e\u57fa\u6e96\u70b9(\u5357\u897f\u7aef)\u304b\u3089\u3001\n\u7def\u5ea6\u5ea7\u6a19\u4e0a\u306e\u70b9\u306e\u4f4d\u7f6e(\u5f53\u8a72\u30e1\u30c3\u30b7\u30e5\u306e\u5358\u4f4d\u7d4c\u5ea6\u306e\u500d\u6570)\u3001\u7d4c\u5ea6\u5ea7\u6a19\u4e0a\u306e\u70b9\u306e\u4f4d\u7f6e(\u5f53\u8a72\u30e1\u30c3\u30b7\u30e5\u306e\u5358\u4f4d\u7def\u5ea6\u306e\u500d\u6570)\n\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</p>\n<h3>\u4f7f\u7528\u4f8b</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">jismesh.utils</span> <span class=\"k\">as</span> <span class=\"nn\">ju</span>\n\n<span class=\"c1\"># \u5357\u897f\u7aef\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u6c42\u3081\u308b\u3002</span>\n<span class=\"n\">lat_sw</span><span class=\"p\">,</span> <span class=\"n\">lon_sw</span> <span class=\"o\">=</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshpoint</span><span class=\"p\">(</span><span class=\"mi\">53393599</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">lat_sw</span><span class=\"p\">,</span> <span class=\"n\">lon_sw</span><span class=\"p\">)</span>\n<span class=\"mf\">35.6583333333</span> <span class=\"mf\">139.7375</span>\n\n<span class=\"c1\"># \u5317\u6771\u7aef\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u6c42\u3081\u308b\u3002</span>\n<span class=\"n\">lat_ne</span><span class=\"p\">,</span> <span class=\"n\">lon_ne</span> <span class=\"o\">=</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshpoint</span><span class=\"p\">(</span><span class=\"mi\">53393599</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">lat_ne</span><span class=\"p\">,</span> <span class=\"n\">lon_ne</span><span class=\"p\">)</span>\n<span class=\"mf\">35.6666666667</span> <span class=\"mf\">139.75</span>\n\n<span class=\"c1\"># \u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u6c42\u3081\u308b\u3002</span>\n<span class=\"n\">lat_c</span><span class=\"p\">,</span> <span class=\"n\">lon_c</span> <span class=\"o\">=</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshpoint</span><span class=\"p\">(</span><span class=\"mi\">53393599</span><span class=\"p\">,</span> <span class=\"mf\">0.5</span><span class=\"p\">,</span> <span class=\"mf\">0.5</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">lat_c</span><span class=\"p\">,</span> <span class=\"n\">lon_c</span><span class=\"p\">)</span>\n<span class=\"mf\">35.6625</span> <span class=\"mf\">139.74375</span>\n\n<span class=\"c1\"># \u6771\u96a3\u63a5\u30e1\u30c3\u30b7\u30e5\u306e\u4e2d\u5fc3\u70b9\u306e\u7def\u5ea6\u7d4c\u5ea6\u3092\u6c42\u3081\u308b\u3002</span>\n<span class=\"n\">lat_east_neighbor_c</span><span class=\"p\">,</span> <span class=\"n\">lon_east_neighbor_c</span> <span class=\"o\">=</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshpoint</span><span class=\"p\">(</span><span class=\"mi\">53393599</span><span class=\"p\">,</span> <span class=\"mf\">0.5</span><span class=\"p\">,</span> <span class=\"mf\">1.5</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">lat_east_neighbor_c</span><span class=\"p\">,</span> <span class=\"n\">lon_east_neighbor_c</span><span class=\"p\">)</span>\n<span class=\"mf\">35.6625</span> <span class=\"mf\">139.75625</span>\n\n<span class=\"c1\"># pandas DataFrame\u4e2d\u306e\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u4e2d\u5fc3\u70b9\u7def\u5ea6\u7d4c\u5ea6\u306b\u5909\u63db\u3059\u308b\u3002</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">({</span><span class=\"s1\">'meshcode'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">53393599</span><span class=\"p\">,</span> <span class=\"mi\">52353680</span><span class=\"p\">]})</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n   <span class=\"n\">meshcode</span>\n<span class=\"mi\">0</span>  <span class=\"mi\">53393599</span>\n<span class=\"mi\">1</span>  <span class=\"mi\">52353680</span>\n\n<span class=\"n\">df</span><span class=\"p\">[</span><span class=\"s1\">'lat'</span><span class=\"p\">],</span> <span class=\"n\">df</span><span class=\"p\">[</span><span class=\"s1\">'lon'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshpoint</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">meshcode</span><span class=\"p\">,</span> <span class=\"n\">lat_multiplier</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">,</span> <span class=\"n\">lon_multiplier</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">)</span> \n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n   <span class=\"n\">meshcode</span>      <span class=\"n\">lat</span>        <span class=\"n\">lon</span>\n<span class=\"mi\">0</span>  <span class=\"mi\">53393599</span>  <span class=\"mf\">35.6625</span>  <span class=\"mf\">139.74375</span>\n<span class=\"mi\">1</span>  <span class=\"mi\">52353680</span>  <span class=\"mf\">34.9875</span>  <span class=\"mf\">135.75625</span>\n</pre>\n<h2>\u4ea4\u5dee\u3059\u308b\u5730\u57df\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u6c42\u3081\u308b</h2>\n<h3>\u4f7f\u7528\u4f8b</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">jismesh.utils</span> <span class=\"k\">as</span> <span class=\"nn\">ju</span>\n\n<span class=\"c1\"># \u4ea4\u5dee\u3059\u308b\u30e1\u30c3\u30b7\u30e5\u30b3\u30fc\u30c9\u3092\u6c42\u3081\u308b\u3002</span>\n<span class=\"n\">generator_intersects</span> <span class=\"o\">=</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_intersects</span><span class=\"p\">(</span><span class=\"mi\">53394611</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)</span>\n\n<span class=\"k\">for</span> <span class=\"n\">meshcode</span> <span class=\"ow\">in</span> <span class=\"n\">generator_intersects</span><span class=\"p\">:</span>\n\t<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">meshcode</span><span class=\"p\">)</span>\n\n<span class=\"mi\">533946111</span>\n<span class=\"mi\">533946112</span>\n<span class=\"mi\">533946113</span>\n<span class=\"mi\">533946114</span>\n</pre>\n<h2>TIPS</h2>\n<p>lru\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u3088\u308b\u9ad8\u901f\u5316</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">jismesh.utils</span> <span class=\"k\">as</span> <span class=\"nn\">ju</span>\n<span class=\"kn\">from</span> <span class=\"nn\">functools</span> <span class=\"kn\">import</span> <span class=\"n\">lru_cache</span>\n\n<span class=\"c1\"># lru\u30ad\u30e3\u30c3\u30b7\u30e5\u7121\u52b9\u306a\u95a2\u6570\u306e\u5b9f\u884c\u901f\u5ea6</span>\n<span class=\"n\">timeit</span> <span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshcode</span><span class=\"p\">(</span><span class=\"mf\">35.6625</span><span class=\"p\">,</span> <span class=\"mf\">139.75625</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"mf\">12.6</span> <span class=\"n\">\u00b5s</span> <span class=\"err\">\u00b1</span> <span class=\"mi\">908</span> <span class=\"n\">ns</span> <span class=\"n\">per</span> <span class=\"n\">loop</span> <span class=\"p\">(</span><span class=\"n\">mean</span> <span class=\"err\">\u00b1</span> <span class=\"n\">std</span><span class=\"o\">.</span> <span class=\"n\">dev</span><span class=\"o\">.</span> <span class=\"n\">of</span> <span class=\"mi\">7</span> <span class=\"n\">runs</span><span class=\"p\">,</span> <span class=\"mi\">100000</span> <span class=\"n\">loops</span> <span class=\"n\">each</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># lru\u30ad\u30e3\u30c3\u30b7\u30e5\u6709\u52b9\u306a\u95a2\u6570\u306e\u5b9f\u884c\u901f\u5ea6</span>\n<span class=\"n\">cached_to_meshcode</span> <span class=\"o\">=</span> <span class=\"n\">lru_cache</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)(</span><span class=\"n\">ju</span><span class=\"o\">.</span><span class=\"n\">to_meshcode</span><span class=\"p\">)</span>\n\n<span class=\"n\">timeit</span> <span class=\"n\">cached_to_meshcode</span><span class=\"p\">(</span><span class=\"mf\">35.6625</span><span class=\"p\">,</span> <span class=\"mf\">139.75625</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n\n<span class=\"mi\">192</span> <span class=\"n\">ns</span> <span class=\"err\">\u00b1</span> <span class=\"mf\">3.5</span> <span class=\"n\">ns</span> <span class=\"n\">per</span> <span class=\"n\">loop</span> <span class=\"p\">(</span><span class=\"n\">mean</span> <span class=\"err\">\u00b1</span> <span class=\"n\">std</span><span class=\"o\">.</span> <span class=\"n\">dev</span><span class=\"o\">.</span> <span class=\"n\">of</span> <span class=\"mi\">7</span> <span class=\"n\">runs</span><span class=\"p\">,</span> <span class=\"mi\">10000000</span> <span class=\"n\">loops</span> <span class=\"n\">each</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 6441131, "releases": {"1.1.0": [{"comment_text": "", "digests": {"md5": "d98930d979d1a13a6bfadc090b549693", "sha256": "53cca2a0599714cd2a866ffa2e77628d914df5670f40a9ebf4187b4ac1628fa7"}, "downloads": -1, "filename": "jismesh-1.1.0.tar.gz", "has_sig": false, "md5_digest": "d98930d979d1a13a6bfadc090b549693", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3315, "upload_time": "2016-03-15T16:51:12", "upload_time_iso_8601": "2016-03-15T16:51:12.938162Z", "url": "https://files.pythonhosted.org/packages/be/d5/969f10e50e656dd5ca8d6b0cc63de818b3c236daec3d4f9a96b4f6d9b2bd/jismesh-1.1.0.tar.gz", "yanked": false}], "1.1.1": [{"comment_text": "", "digests": {"md5": "b24cefae2708275f06e79c88e004c3ec", "sha256": "ac2d959c36cfcbdbaeae8d5cbbb57bb0d19673382cf2b211842500b93c9efbe5"}, "downloads": -1, "filename": "jismesh-1.1.1.tar.gz", "has_sig": false, "md5_digest": "b24cefae2708275f06e79c88e004c3ec", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3412, "upload_time": "2017-11-26T08:23:32", "upload_time_iso_8601": "2017-11-26T08:23:32.028977Z", "url": "https://files.pythonhosted.org/packages/eb/4c/be673645a6d194537e2bea85f97399a205fe224d8e36acb9a7679182cb77/jismesh-1.1.1.tar.gz", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "2f62fbebc82b056d5b63869514747e07", "sha256": "e7c7fdd9447f467740c418991a0cba8f653f1947bc185e57586943aeca5c608b"}, "downloads": -1, "filename": "jismesh-1.2.0.tar.gz", "has_sig": false, "md5_digest": "2f62fbebc82b056d5b63869514747e07", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3728, "upload_time": "2017-11-26T06:42:10", "upload_time_iso_8601": "2017-11-26T06:42:10.835080Z", "url": "https://files.pythonhosted.org/packages/06/81/88304fd6437e70fc882e83d3df311bf9f14e011c548a70cab1193f354636/jismesh-1.2.0.tar.gz", "yanked": false}], "1.3.1": [{"comment_text": "", "digests": {"md5": "006b4a8ec3f073f7e79fc7dce9ff8035", "sha256": "018dfe3e105f0d6b5f8d48e549f8f9ede943700b0d63f133d80a27e7d4053fee"}, "downloads": -1, "filename": "jismesh-1.3.1.tar.gz", "has_sig": false, "md5_digest": "006b4a8ec3f073f7e79fc7dce9ff8035", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5217, "upload_time": "2018-01-07T16:20:48", "upload_time_iso_8601": "2018-01-07T16:20:48.512232Z", "url": "https://files.pythonhosted.org/packages/9c/9d/deeabb8c805242acf28e09c0f0ed88f211c1ae023e755de190210b89b88e/jismesh-1.3.1.tar.gz", "yanked": false}], "2.0.0": [{"comment_text": "", "digests": {"md5": "b4da58ca3976feb7d397578e64993444", "sha256": "e29f5a01f324c3ddea4984a3556014a9bcd3d03526f08431f3226ac460fdf3a4"}, "downloads": -1, "filename": "jismesh-2.0.0.tar.gz", "has_sig": false, "md5_digest": "b4da58ca3976feb7d397578e64993444", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5694, "upload_time": "2018-11-21T08:48:37", "upload_time_iso_8601": "2018-11-21T08:48:37.648060Z", "url": "https://files.pythonhosted.org/packages/26/54/d052d271037b43ee4df050b2b99a9caf799ee60fbc26d0a3059d1efcbbaa/jismesh-2.0.0.tar.gz", "yanked": false}], "2.1.0": [{"comment_text": "", "digests": {"md5": "0ff5c78e8312abc4e8dd657cbea41059", "sha256": "ed89918a8634c121eff29d4e74b6c2179f3fccfa498d60ea6e259683b8e2380a"}, "downloads": -1, "filename": "jismesh-2.1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "0ff5c78e8312abc4e8dd657cbea41059", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 11770, "upload_time": "2020-01-12T20:20:41", "upload_time_iso_8601": "2020-01-12T20:20:41.846779Z", "url": "https://files.pythonhosted.org/packages/ad/9a/d639b2d0728e6b42dd79e38e13ed4ec62538bf6d8adfca7080e1c3cddb60/jismesh-2.1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9bca99bc4e6ff3b752b7a18726245a54", "sha256": "7dcc9be29caf8bc62edd3bb0a1ad1649d75721981c4edd7c92c334761f779526"}, "downloads": -1, "filename": "jismesh-2.1.0.tar.gz", "has_sig": false, "md5_digest": "9bca99bc4e6ff3b752b7a18726245a54", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17774, "upload_time": "2020-01-12T20:20:43", "upload_time_iso_8601": "2020-01-12T20:20:43.783031Z", "url": "https://files.pythonhosted.org/packages/54/19/510a87d2245f5f15191de2f1a5e15c2a0275b45141cd941ca0ce61a0ee18/jismesh-2.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "0ff5c78e8312abc4e8dd657cbea41059", "sha256": "ed89918a8634c121eff29d4e74b6c2179f3fccfa498d60ea6e259683b8e2380a"}, "downloads": -1, "filename": "jismesh-2.1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "0ff5c78e8312abc4e8dd657cbea41059", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 11770, "upload_time": "2020-01-12T20:20:41", "upload_time_iso_8601": "2020-01-12T20:20:41.846779Z", "url": "https://files.pythonhosted.org/packages/ad/9a/d639b2d0728e6b42dd79e38e13ed4ec62538bf6d8adfca7080e1c3cddb60/jismesh-2.1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9bca99bc4e6ff3b752b7a18726245a54", "sha256": "7dcc9be29caf8bc62edd3bb0a1ad1649d75721981c4edd7c92c334761f779526"}, "downloads": -1, "filename": "jismesh-2.1.0.tar.gz", "has_sig": false, "md5_digest": "9bca99bc4e6ff3b752b7a18726245a54", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17774, "upload_time": "2020-01-12T20:20:43", "upload_time_iso_8601": "2020-01-12T20:20:43.783031Z", "url": "https://files.pythonhosted.org/packages/54/19/510a87d2245f5f15191de2f1a5e15c2a0275b45141cd941ca0ce61a0ee18/jismesh-2.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:52:31 2020"}
{"info": {"author": "Xiaoping Li", "author_email": "lixiaopi@oregonstate.edu", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "License :: OSI Approved :: MIT License", "Operating System :: POSIX :: Linux", "Programming Language :: Python :: 3"], "description": "# NCBI_Companion\n## Introduction\n\nNCBI_Companion targets to construct databases, generate a fasta file and a taxonomy mappingusing by using Genbank Entrez utilities.\n\nBiopython copyright belongs to Biopython teams\nEntrez copyright belongs to NCBI entrez teams\n***\n## Contents\n\n### class LoadSpecies\n\n>This class is to used fetch species name contains in csv file, text file, excel or fasta file.\n\n**Functions**\n\n| function names | parameters | Return |\n|--------------------|-----------------|-------|\n| LoadSpecies | species_input, species_output, ifout | initialize |\n| ReadSpeciesFile_text | None | a list  (if specified, a table in local directory) |\n| ReadSpeciesFile_excel | sp_col, sheetname, header, fullname | a list (or a local file) |\n| ReadSpeciesFile_csv | sp_col, header, fullname | a list (or a local file ) |\n| ExtractSpeciesFromFasta | ranges, delimiter | a list (or a local file) |\n\n>all those functions return a list of species names or ID list\n\n**Usage**\n\n```python\nspecies = LoadSpecies(input_file, output_file, ifout = True)\nspecies.ReadSpeciesFile_excel(sp_col='act_sym_fullname', sheetname = 0, header = 0,  fullname = False)\n```\n\n***\n### class NCBI_Tools\n> This class implements Biopython Entrez to interact with NCBI/Genbank API to either get accession id, taxonomy id, sequences or taxonomy ranking, or converting them. Some of core functions return a tracker flag that can trace which functions have been called. This order will be used by Sqlite_Dumps class to generate fasta file and mapping file\n\n**Functions**\n\n| Functions | parameters | return | database table name | Tracker Flag |\n|---|---|---|---|---|\n| NCBI_Tools | ncbi_key, ncbi_email, sqlite_db, ncbi_db, idtype | initialize | None | None |\n| Update_API | key, email | updated key and email | None | None |\n| getTracker | None | a tracker list | None | None |\n| ncbi_Species2Genome | species list | accession ID list | Sp2Genome | P9 |\n| ncbi_Search2Acc | search terms, howmany to quire | Search2AccIDs |Tracker | P1 |\n| ncbi_Species2Acc | species list, more terms (optional) | Sp2AccIDs | Tracker | P2 |\n| ncbi_GetSeqsFromAcc | table_name, column_name | Acc2Seq | Tracker | P3 |\n| ncbi_GetTaxIdFromAcc | table_name, column_name | Uid2TaxIDs | Tracker | P4 |\n| ncbi_eAcc2Seq | accession ID | Tracker | Acc2Seq | P5 |\n| ncbi_eAcc2TaxID | accession ID | Tracker | Uid2TaxIDs | P6 |\n| ncbi_Species2Taxa | species list, style, levels_n | Tracker | Sp2Taxa | P7 |\n| ncbi_Id2Taxa | style, levels_n | Tracker | TaxId2Ranking | P8 |\n\n\n**Usage**\n\nExample 1: Known species list and search for its trnL gene\n\nTracker Flag: P2---> P3 / P4 ---> P4 / P3 ---> P8 \n\n```python\nfrom NCBI_Companion import NCBI_Companion\ncompanion = NCBI_Companion.NCBI_Tools(key, email, 'databasename', 'nuccore', 'acc')\ncompanion.ncbi_Species2Acc(species_list, 'trnL')\ncompanion.ncbi_GetSeqsFromAcc('Sp2AccIDs', 'acc_id')\ncompanion.ncbi_GetTaxIdFromAcc('Sp2AccIDs', 'acc_id')\ncompanion.ncbi_Id2Taxa(style = 'qiime', levels_n = 7) # 7 levels of taxonomy ranking qiime style D_0_..;\n```\n\n\n### class Sqlite_Dumps\n\n**Functions**\n\n| functions | parameters | return |\n|---|---|---|\n| Sqlite_Dumps | sqlite_db, output_prefix, tracker, header_type = 'acc' | initialize |\n| sqlite_dump | None | a fasta and a mapping file in local |\n\n\n**Usage**\n\n```python\n# get tracker\ntracker = companion.getTracker()\ndump = Sqlite_Dumps('database constructed by NCBI_Tools', 'fasta and mapping file name, not extension', tracker, header_type = 'acc')\n```\n\n\n\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/lixiaopi1985/NCBI_Companion", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "NCBI-Companion", "package_url": "https://pypi.org/project/NCBI-Companion/", "platform": "", "project_url": "https://pypi.org/project/NCBI-Companion/", "project_urls": {"Homepage": "https://github.com/lixiaopi1985/NCBI_Companion"}, "release_url": "https://pypi.org/project/NCBI-Companion/1.0.9/", "requires_dist": ["biopython (>=1.72)", "pandas (>=0.23.4)", "beautifulsoup4 (>=4.6.3)"], "requires_python": "", "summary": "NCBI_Companion assists you to build a reference database with a fasta and a mapping file through Genbank", "version": "1.0.9", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>NCBI_Companion</h1>\n<h2>Introduction</h2>\n<p>NCBI_Companion targets to construct databases, generate a fasta file and a taxonomy mappingusing by using Genbank Entrez utilities.</p>\n<p>Biopython copyright belongs to Biopython teams\nEntrez copyright belongs to NCBI entrez teams</p>\n<hr>\n<h2>Contents</h2>\n<h3>class LoadSpecies</h3>\n<blockquote>\n<p>This class is to used fetch species name contains in csv file, text file, excel or fasta file.</p>\n</blockquote>\n<p><strong>Functions</strong></p>\n<table>\n<thead>\n<tr>\n<th>function names</th>\n<th>parameters</th>\n<th>Return</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>LoadSpecies</td>\n<td>species_input, species_output, ifout</td>\n<td>initialize</td>\n</tr>\n<tr>\n<td>ReadSpeciesFile_text</td>\n<td>None</td>\n<td>a list  (if specified, a table in local directory)</td>\n</tr>\n<tr>\n<td>ReadSpeciesFile_excel</td>\n<td>sp_col, sheetname, header, fullname</td>\n<td>a list (or a local file)</td>\n</tr>\n<tr>\n<td>ReadSpeciesFile_csv</td>\n<td>sp_col, header, fullname</td>\n<td>a list (or a local file )</td>\n</tr>\n<tr>\n<td>ExtractSpeciesFromFasta</td>\n<td>ranges, delimiter</td>\n<td>a list (or a local file)</td>\n</tr></tbody></table>\n<blockquote>\n<p>all those functions return a list of species names or ID list</p>\n</blockquote>\n<p><strong>Usage</strong></p>\n<pre><span class=\"n\">species</span> <span class=\"o\">=</span> <span class=\"n\">LoadSpecies</span><span class=\"p\">(</span><span class=\"n\">input_file</span><span class=\"p\">,</span> <span class=\"n\">output_file</span><span class=\"p\">,</span> <span class=\"n\">ifout</span> <span class=\"o\">=</span> <span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"n\">species</span><span class=\"o\">.</span><span class=\"n\">ReadSpeciesFile_excel</span><span class=\"p\">(</span><span class=\"n\">sp_col</span><span class=\"o\">=</span><span class=\"s1\">'act_sym_fullname'</span><span class=\"p\">,</span> <span class=\"n\">sheetname</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">header</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span>  <span class=\"n\">fullname</span> <span class=\"o\">=</span> <span class=\"kc\">False</span><span class=\"p\">)</span>\n</pre>\n<hr>\n<h3>class NCBI_Tools</h3>\n<blockquote>\n<p>This class implements Biopython Entrez to interact with NCBI/Genbank API to either get accession id, taxonomy id, sequences or taxonomy ranking, or converting them. Some of core functions return a tracker flag that can trace which functions have been called. This order will be used by Sqlite_Dumps class to generate fasta file and mapping file</p>\n</blockquote>\n<p><strong>Functions</strong></p>\n<table>\n<thead>\n<tr>\n<th>Functions</th>\n<th>parameters</th>\n<th>return</th>\n<th>database table name</th>\n<th>Tracker Flag</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>NCBI_Tools</td>\n<td>ncbi_key, ncbi_email, sqlite_db, ncbi_db, idtype</td>\n<td>initialize</td>\n<td>None</td>\n<td>None</td>\n</tr>\n<tr>\n<td>Update_API</td>\n<td>key, email</td>\n<td>updated key and email</td>\n<td>None</td>\n<td>None</td>\n</tr>\n<tr>\n<td>getTracker</td>\n<td>None</td>\n<td>a tracker list</td>\n<td>None</td>\n<td>None</td>\n</tr>\n<tr>\n<td>ncbi_Species2Genome</td>\n<td>species list</td>\n<td>accession ID list</td>\n<td>Sp2Genome</td>\n<td>P9</td>\n</tr>\n<tr>\n<td>ncbi_Search2Acc</td>\n<td>search terms, howmany to quire</td>\n<td>Search2AccIDs</td>\n<td>Tracker</td>\n<td>P1</td>\n</tr>\n<tr>\n<td>ncbi_Species2Acc</td>\n<td>species list, more terms (optional)</td>\n<td>Sp2AccIDs</td>\n<td>Tracker</td>\n<td>P2</td>\n</tr>\n<tr>\n<td>ncbi_GetSeqsFromAcc</td>\n<td>table_name, column_name</td>\n<td>Acc2Seq</td>\n<td>Tracker</td>\n<td>P3</td>\n</tr>\n<tr>\n<td>ncbi_GetTaxIdFromAcc</td>\n<td>table_name, column_name</td>\n<td>Uid2TaxIDs</td>\n<td>Tracker</td>\n<td>P4</td>\n</tr>\n<tr>\n<td>ncbi_eAcc2Seq</td>\n<td>accession ID</td>\n<td>Tracker</td>\n<td>Acc2Seq</td>\n<td>P5</td>\n</tr>\n<tr>\n<td>ncbi_eAcc2TaxID</td>\n<td>accession ID</td>\n<td>Tracker</td>\n<td>Uid2TaxIDs</td>\n<td>P6</td>\n</tr>\n<tr>\n<td>ncbi_Species2Taxa</td>\n<td>species list, style, levels_n</td>\n<td>Tracker</td>\n<td>Sp2Taxa</td>\n<td>P7</td>\n</tr>\n<tr>\n<td>ncbi_Id2Taxa</td>\n<td>style, levels_n</td>\n<td>Tracker</td>\n<td>TaxId2Ranking</td>\n<td>P8</td>\n</tr></tbody></table>\n<p><strong>Usage</strong></p>\n<p>Example 1: Known species list and search for its trnL gene</p>\n<p>Tracker Flag: P2---&gt; P3 / P4 ---&gt; P4 / P3 ---&gt; P8</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">NCBI_Companion</span> <span class=\"kn\">import</span> <span class=\"n\">NCBI_Companion</span>\n<span class=\"n\">companion</span> <span class=\"o\">=</span> <span class=\"n\">NCBI_Companion</span><span class=\"o\">.</span><span class=\"n\">NCBI_Tools</span><span class=\"p\">(</span><span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">email</span><span class=\"p\">,</span> <span class=\"s1\">'databasename'</span><span class=\"p\">,</span> <span class=\"s1\">'nuccore'</span><span class=\"p\">,</span> <span class=\"s1\">'acc'</span><span class=\"p\">)</span>\n<span class=\"n\">companion</span><span class=\"o\">.</span><span class=\"n\">ncbi_Species2Acc</span><span class=\"p\">(</span><span class=\"n\">species_list</span><span class=\"p\">,</span> <span class=\"s1\">'trnL'</span><span class=\"p\">)</span>\n<span class=\"n\">companion</span><span class=\"o\">.</span><span class=\"n\">ncbi_GetSeqsFromAcc</span><span class=\"p\">(</span><span class=\"s1\">'Sp2AccIDs'</span><span class=\"p\">,</span> <span class=\"s1\">'acc_id'</span><span class=\"p\">)</span>\n<span class=\"n\">companion</span><span class=\"o\">.</span><span class=\"n\">ncbi_GetTaxIdFromAcc</span><span class=\"p\">(</span><span class=\"s1\">'Sp2AccIDs'</span><span class=\"p\">,</span> <span class=\"s1\">'acc_id'</span><span class=\"p\">)</span>\n<span class=\"n\">companion</span><span class=\"o\">.</span><span class=\"n\">ncbi_Id2Taxa</span><span class=\"p\">(</span><span class=\"n\">style</span> <span class=\"o\">=</span> <span class=\"s1\">'qiime'</span><span class=\"p\">,</span> <span class=\"n\">levels_n</span> <span class=\"o\">=</span> <span class=\"mi\">7</span><span class=\"p\">)</span> <span class=\"c1\"># 7 levels of taxonomy ranking qiime style D_0_..;</span>\n</pre>\n<h3>class Sqlite_Dumps</h3>\n<p><strong>Functions</strong></p>\n<table>\n<thead>\n<tr>\n<th>functions</th>\n<th>parameters</th>\n<th>return</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Sqlite_Dumps</td>\n<td>sqlite_db, output_prefix, tracker, header_type = 'acc'</td>\n<td>initialize</td>\n</tr>\n<tr>\n<td>sqlite_dump</td>\n<td>None</td>\n<td>a fasta and a mapping file in local</td>\n</tr></tbody></table>\n<p><strong>Usage</strong></p>\n<pre><span class=\"c1\"># get tracker</span>\n<span class=\"n\">tracker</span> <span class=\"o\">=</span> <span class=\"n\">companion</span><span class=\"o\">.</span><span class=\"n\">getTracker</span><span class=\"p\">()</span>\n<span class=\"n\">dump</span> <span class=\"o\">=</span> <span class=\"n\">Sqlite_Dumps</span><span class=\"p\">(</span><span class=\"s1\">'database constructed by NCBI_Tools'</span><span class=\"p\">,</span> <span class=\"s1\">'fasta and mapping file name, not extension'</span><span class=\"p\">,</span> <span class=\"n\">tracker</span><span class=\"p\">,</span> <span class=\"n\">header_type</span> <span class=\"o\">=</span> <span class=\"s1\">'acc'</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 6289587, "releases": {"1.0.9": [{"comment_text": "", "digests": {"md5": "5e71e4940cefd59bcc3a3aab03aed085", "sha256": "953c3378b0ef097e9fdc07250779e96271586f85dcfe567d0df58018a8013858"}, "downloads": -1, "filename": "NCBI_Companion-1.0.9-py3-none-any.whl", "has_sig": false, "md5_digest": "5e71e4940cefd59bcc3a3aab03aed085", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 13179, "upload_time": "2019-12-12T23:33:04", "upload_time_iso_8601": "2019-12-12T23:33:04.133202Z", "url": "https://files.pythonhosted.org/packages/a4/37/37daeda7fef59578dce7f510bb0411dc1b4b0359756c3d4fc88b270c3a15/NCBI_Companion-1.0.9-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f827e6b2ec3bf82a5676a2bddbda0aba", "sha256": "2b581de6fa14fa01462124a12d0f45c5616cccb5768d790413549a32db0a540b"}, "downloads": -1, "filename": "NCBI_Companion-1.0.9.tar.gz", "has_sig": false, "md5_digest": "f827e6b2ec3bf82a5676a2bddbda0aba", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11834, "upload_time": "2019-12-12T23:33:07", "upload_time_iso_8601": "2019-12-12T23:33:07.138671Z", "url": "https://files.pythonhosted.org/packages/c8/b0/87eb0d46977e033151c1a8ca686367d3f937cc4408cea97d75bbae4cde9b/NCBI_Companion-1.0.9.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5e71e4940cefd59bcc3a3aab03aed085", "sha256": "953c3378b0ef097e9fdc07250779e96271586f85dcfe567d0df58018a8013858"}, "downloads": -1, "filename": "NCBI_Companion-1.0.9-py3-none-any.whl", "has_sig": false, "md5_digest": "5e71e4940cefd59bcc3a3aab03aed085", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 13179, "upload_time": "2019-12-12T23:33:04", "upload_time_iso_8601": "2019-12-12T23:33:04.133202Z", "url": "https://files.pythonhosted.org/packages/a4/37/37daeda7fef59578dce7f510bb0411dc1b4b0359756c3d4fc88b270c3a15/NCBI_Companion-1.0.9-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f827e6b2ec3bf82a5676a2bddbda0aba", "sha256": "2b581de6fa14fa01462124a12d0f45c5616cccb5768d790413549a32db0a540b"}, "downloads": -1, "filename": "NCBI_Companion-1.0.9.tar.gz", "has_sig": false, "md5_digest": "f827e6b2ec3bf82a5676a2bddbda0aba", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11834, "upload_time": "2019-12-12T23:33:07", "upload_time_iso_8601": "2019-12-12T23:33:07.138671Z", "url": "https://files.pythonhosted.org/packages/c8/b0/87eb0d46977e033151c1a8ca686367d3f937cc4408cea97d75bbae4cde9b/NCBI_Companion-1.0.9.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:46:49 2020"}
{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": [], "description": "# PyOpsview :snake:\n\n**Python REST API Client for Opsview!**\n\n![Opsview Logo](https://raw.githubusercontent.com/jpgxs/pyopsview/master/opsview.png)\n\n## Installation\n\n### Installing Dependencies\n\n```bash\n# Using `pip`\npip install -r https://raw.githubusercontent.com/jpgxs/pyopsview/master/requirements.txt\n\n# Using `apt`\napt update && apt install python-requests python-six\n\n# Using `apt-get`\napt-get update && apt-get install python-requests python-six\n\n# Using `yum`\nyum install python-requests python-six\n\n# Using `dnf`\ndnf install python-requests python-six\n\n# Using `urpmi`\nurpmi python-requests python-six\n```\n\n### Installing\n\n```bash\n# From `pypi`\npip install pyopsview\n\n# From source\ngit clone https://github.com/jpgxs/pyopsview\ncd pyopsview\npython setup.py install\n```\n\n## Usage\n\n### Basic Usage\n\n```python\nfrom __future__ import print_function\n\nfrom pyopsview import OpsviewClient\nfrom pyopsview.exceptions import OpsviewClientException\n\n# Authenticate the client and load the appropriate API schema for the\n# specific Opsview version\nclient = OpsviewClient(username='admin', password='initial',\n                       endpoint='https://opsview.example.com')\n\n# Create a new client using the token; this is useful for things like ansible\n# where the login operation would otherwise have to be done for every operation\nauth_token = client.token\nclient = OpsviewClient(username='admin', token=auth_token,\n                       endpoint='https://opsview.example.com')\n\n# Get a list of the configured hosts. This returns a generator.\nall_hosts = client.config.hosts.list()\nfor host in all_hosts:\n    print(host['check_interval'])\n\n# Find all hosts monitored by the master monitoring server.\nmonitored_by_master = client.config.hosts.find(monitored_by='Master Monitoring Server')\n\n# Update the address of one host\nupdate_host = all_hosts[-1]\nupdate_host['address'] = '127.128.129.130'\nupdate_host = client.config.hosts.update(update_host['id'], **update_host)\n\n# Find the Master opsview server\nopsview_master = client.config.hosts.find_one(name='Opsview')\nif opsview_master is None:\n    raise RuntimeError('Failed to find the Opsview master server!')\n\n# Get a list of all Service Checks on the Opsview master\nmaster_service_checks = []\nmaster_service_checks += opsview_master['service_checks']\n\nfor template in opsview_master['host_templates']:\n    template_detail = client.hosttemplates.find_one(template['name'])\n    master_service_checks += template_detail['service_checks']\n```\n\n\n## TODO\n\n* Add schemas for other versions of Opsview\n* Add API operations for:\n  * Downtime\n  * Service/Host Status\n  * Live Object Information (Runtime)\n  * Acknowledgements\n  * Scheduling Rechecks\n  * Graphing Data\n  * Event/History Data\n  * Notes\n  * SNMP queries\n\n\n## Contributing\n\n1. Fork it!\n2. Create your feature branch: `git checkout -b my-new-feature`\n3. Commit your changes: `git commit -am 'Add some feature'`\n4. Push to the branch: `git push origin my-new-feature`\n5. Submit a pull request\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "https://github.com/jpgxs/pyopsview", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/jpgxs/pyopsview", "keywords": "", "license": "", "maintainer": "Joshua Griffiths", "maintainer_email": "joshua.griffiths@opsview.com", "name": "pyopsview", "package_url": "https://pypi.org/project/pyopsview/", "platform": "", "project_url": "https://pypi.org/project/pyopsview/", "project_urls": {"Download": "https://github.com/jpgxs/pyopsview", "Homepage": "https://github.com/jpgxs/pyopsview"}, "release_url": "https://pypi.org/project/pyopsview/6.2.1/", "requires_dist": ["requests (>=2.0.0)", "six (>=1.0.0)"], "requires_python": "", "summary": "Python client for the Opsview API", "version": "6.2.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>PyOpsview :snake:</h1>\n<p><strong>Python REST API Client for Opsview!</strong></p>\n<p><img alt=\"Opsview Logo\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/82d0215bdbe243b6c6078b998c72c743ef80c5ad/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6a706778732f70796f7073766965772f6d61737465722f6f7073766965772e706e67\"></p>\n<h2>Installation</h2>\n<h3>Installing Dependencies</h3>\n<pre><span class=\"c1\"># Using `pip`</span>\npip install -r https://raw.githubusercontent.com/jpgxs/pyopsview/master/requirements.txt\n\n<span class=\"c1\"># Using `apt`</span>\napt update <span class=\"o\">&amp;&amp;</span> apt install python-requests python-six\n\n<span class=\"c1\"># Using `apt-get`</span>\napt-get update <span class=\"o\">&amp;&amp;</span> apt-get install python-requests python-six\n\n<span class=\"c1\"># Using `yum`</span>\nyum install python-requests python-six\n\n<span class=\"c1\"># Using `dnf`</span>\ndnf install python-requests python-six\n\n<span class=\"c1\"># Using `urpmi`</span>\nurpmi python-requests python-six\n</pre>\n<h3>Installing</h3>\n<pre><span class=\"c1\"># From `pypi`</span>\npip install pyopsview\n\n<span class=\"c1\"># From source</span>\ngit clone https://github.com/jpgxs/pyopsview\n<span class=\"nb\">cd</span> pyopsview\npython setup.py install\n</pre>\n<h2>Usage</h2>\n<h3>Basic Usage</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">__future__</span> <span class=\"kn\">import</span> <span class=\"n\">print_function</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">pyopsview</span> <span class=\"kn\">import</span> <span class=\"n\">OpsviewClient</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyopsview.exceptions</span> <span class=\"kn\">import</span> <span class=\"n\">OpsviewClientException</span>\n\n<span class=\"c1\"># Authenticate the client and load the appropriate API schema for the</span>\n<span class=\"c1\"># specific Opsview version</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">OpsviewClient</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"o\">=</span><span class=\"s1\">'admin'</span><span class=\"p\">,</span> <span class=\"n\">password</span><span class=\"o\">=</span><span class=\"s1\">'initial'</span><span class=\"p\">,</span>\n                       <span class=\"n\">endpoint</span><span class=\"o\">=</span><span class=\"s1\">'https://opsview.example.com'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Create a new client using the token; this is useful for things like ansible</span>\n<span class=\"c1\"># where the login operation would otherwise have to be done for every operation</span>\n<span class=\"n\">auth_token</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">token</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">OpsviewClient</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"o\">=</span><span class=\"s1\">'admin'</span><span class=\"p\">,</span> <span class=\"n\">token</span><span class=\"o\">=</span><span class=\"n\">auth_token</span><span class=\"p\">,</span>\n                       <span class=\"n\">endpoint</span><span class=\"o\">=</span><span class=\"s1\">'https://opsview.example.com'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Get a list of the configured hosts. This returns a generator.</span>\n<span class=\"n\">all_hosts</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">hosts</span><span class=\"o\">.</span><span class=\"n\">list</span><span class=\"p\">()</span>\n<span class=\"k\">for</span> <span class=\"n\">host</span> <span class=\"ow\">in</span> <span class=\"n\">all_hosts</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"p\">[</span><span class=\"s1\">'check_interval'</span><span class=\"p\">])</span>\n\n<span class=\"c1\"># Find all hosts monitored by the master monitoring server.</span>\n<span class=\"n\">monitored_by_master</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">hosts</span><span class=\"o\">.</span><span class=\"n\">find</span><span class=\"p\">(</span><span class=\"n\">monitored_by</span><span class=\"o\">=</span><span class=\"s1\">'Master Monitoring Server'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Update the address of one host</span>\n<span class=\"n\">update_host</span> <span class=\"o\">=</span> <span class=\"n\">all_hosts</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"n\">update_host</span><span class=\"p\">[</span><span class=\"s1\">'address'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">'127.128.129.130'</span>\n<span class=\"n\">update_host</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">hosts</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">(</span><span class=\"n\">update_host</span><span class=\"p\">[</span><span class=\"s1\">'id'</span><span class=\"p\">],</span> <span class=\"o\">**</span><span class=\"n\">update_host</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Find the Master opsview server</span>\n<span class=\"n\">opsview_master</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">config</span><span class=\"o\">.</span><span class=\"n\">hosts</span><span class=\"o\">.</span><span class=\"n\">find_one</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'Opsview'</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">opsview_master</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n    <span class=\"k\">raise</span> <span class=\"ne\">RuntimeError</span><span class=\"p\">(</span><span class=\"s1\">'Failed to find the Opsview master server!'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Get a list of all Service Checks on the Opsview master</span>\n<span class=\"n\">master_service_checks</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"n\">master_service_checks</span> <span class=\"o\">+=</span> <span class=\"n\">opsview_master</span><span class=\"p\">[</span><span class=\"s1\">'service_checks'</span><span class=\"p\">]</span>\n\n<span class=\"k\">for</span> <span class=\"n\">template</span> <span class=\"ow\">in</span> <span class=\"n\">opsview_master</span><span class=\"p\">[</span><span class=\"s1\">'host_templates'</span><span class=\"p\">]:</span>\n    <span class=\"n\">template_detail</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">hosttemplates</span><span class=\"o\">.</span><span class=\"n\">find_one</span><span class=\"p\">(</span><span class=\"n\">template</span><span class=\"p\">[</span><span class=\"s1\">'name'</span><span class=\"p\">])</span>\n    <span class=\"n\">master_service_checks</span> <span class=\"o\">+=</span> <span class=\"n\">template_detail</span><span class=\"p\">[</span><span class=\"s1\">'service_checks'</span><span class=\"p\">]</span>\n</pre>\n<h2>TODO</h2>\n<ul>\n<li>Add schemas for other versions of Opsview</li>\n<li>Add API operations for:\n<ul>\n<li>Downtime</li>\n<li>Service/Host Status</li>\n<li>Live Object Information (Runtime)</li>\n<li>Acknowledgements</li>\n<li>Scheduling Rechecks</li>\n<li>Graphing Data</li>\n<li>Event/History Data</li>\n<li>Notes</li>\n<li>SNMP queries</li>\n</ul>\n</li>\n</ul>\n<h2>Contributing</h2>\n<ol>\n<li>Fork it!</li>\n<li>Create your feature branch: <code>git checkout -b my-new-feature</code></li>\n<li>Commit your changes: <code>git commit -am 'Add some feature'</code></li>\n<li>Push to the branch: <code>git push origin my-new-feature</code></li>\n<li>Submit a pull request</li>\n</ol>\n\n          </div>"}, "last_serial": 6019720, "releases": {"5.3.1": [{"comment_text": "", "digests": {"md5": "bed38ecaef1c71d31bc3d387864473fb", "sha256": "80fd7bf5b89bf5a2b2f4e60a13f5aab59ffdb1270127c82ab41c886003496d7e"}, "downloads": -1, "filename": "pyopsview-5.3.1.tar.gz", "has_sig": false, "md5_digest": "bed38ecaef1c71d31bc3d387864473fb", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 29922, "upload_time": "2017-03-11T14:33:59", "upload_time_iso_8601": "2017-03-11T14:33:59.138022Z", "url": "https://files.pythonhosted.org/packages/a9/79/82d07e4cc85dd4598d8fe23e2579b801f6f342c43fcae0175dd11aca6597/pyopsview-5.3.1.tar.gz", "yanked": false}], "5.3.2": [{"comment_text": "", "digests": {"md5": "198612eaff89ad1d35b1483ac69d5073", "sha256": "1dc19920359f416f48b642e2899e18046a808ac6ffaf9a2de205238e29d8d37d"}, "downloads": -1, "filename": "pyopsview-5.3.2.tar.gz", "has_sig": false, "md5_digest": "198612eaff89ad1d35b1483ac69d5073", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 34008, "upload_time": "2017-07-25T13:45:08", "upload_time_iso_8601": "2017-07-25T13:45:08.357977Z", "url": "https://files.pythonhosted.org/packages/97/9a/44a7a31d26cb0f0607d1891b133f06d3f2051c5394b12d8eeab795a7f481/pyopsview-5.3.2.tar.gz", "yanked": false}], "5.3.3": [{"comment_text": "", "digests": {"md5": "ddae809bb66b10da028786561919e988", "sha256": "d32e7ca63e410cc8ce2760ad643feba582bba32be2eb6d07ebc77539acc985c8"}, "downloads": -1, "filename": "pyopsview-5.3.3.tar.gz", "has_sig": false, "md5_digest": "ddae809bb66b10da028786561919e988", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 35297, "upload_time": "2017-09-07T09:27:52", "upload_time_iso_8601": "2017-09-07T09:27:52.690829Z", "url": "https://files.pythonhosted.org/packages/0c/23/5e074bde0d6ffe280ad6f31dca9d9a8e6dfb9017e3910393f960e6726bca/pyopsview-5.3.3.tar.gz", "yanked": false}], "6.2.0": [{"comment_text": "", "digests": {"md5": "ac7424e6d1ca2f52579d79dbcea5ba19", "sha256": "d06415e6e3bcf4fab03b85db469d08a0c16dcaf4d94aa49f817866a919b3b117"}, "downloads": -1, "filename": "pyopsview-6.2.0-py2-none-any.whl", "has_sig": false, "md5_digest": "ac7424e6d1ca2f52579d79dbcea5ba19", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 73892, "upload_time": "2019-10-16T16:26:36", "upload_time_iso_8601": "2019-10-16T16:26:36.630780Z", "url": "https://files.pythonhosted.org/packages/ea/0a/6361a33ba904171cfa545b6214ec63f3d1027c70661fcf21766b4c06df39/pyopsview-6.2.0-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3c940ed1755900dfb3ddc4f7074a6c07", "sha256": "bd66ae3ec267fa98e27a0c107636411c3dd172b891bcea4372cdc28999f7f2ac"}, "downloads": -1, "filename": "pyopsview-6.2.0.tar.gz", "has_sig": false, "md5_digest": "3c940ed1755900dfb3ddc4f7074a6c07", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 40479, "upload_time": "2019-10-16T16:26:39", "upload_time_iso_8601": "2019-10-16T16:26:39.516300Z", "url": "https://files.pythonhosted.org/packages/d2/a9/871a7e5d1e885df87ea9037b5453a3afe797da18d24dff1d5a74ed63458d/pyopsview-6.2.0.tar.gz", "yanked": false}], "6.2.1": [{"comment_text": "", "digests": {"md5": "c98a7a23e4d3957aaac6cf96222b2d3e", "sha256": "e0d19bf40417823adcec86fe5d0188d6066d8b77465643d43aa546a4b1bd38a5"}, "downloads": -1, "filename": "pyopsview-6.2.1-py2-none-any.whl", "has_sig": false, "md5_digest": "c98a7a23e4d3957aaac6cf96222b2d3e", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 73935, "upload_time": "2019-10-23T17:39:50", "upload_time_iso_8601": "2019-10-23T17:39:50.897604Z", "url": "https://files.pythonhosted.org/packages/0d/7d/929adb1ceb1a50c4c06cd0e3d9708499c533b0f9b09dcfd863b2ccbdeb6c/pyopsview-6.2.1-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d3870ff05298990a61af2d64cf039e9e", "sha256": "f79442e9694f301cbd8c90b855be3b1fde858a2ac751df3f422509d145e5e4a9"}, "downloads": -1, "filename": "pyopsview-6.2.1.tar.gz", "has_sig": false, "md5_digest": "d3870ff05298990a61af2d64cf039e9e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 41123, "upload_time": "2019-10-23T17:39:53", "upload_time_iso_8601": "2019-10-23T17:39:53.146782Z", "url": "https://files.pythonhosted.org/packages/ed/fe/98d3f00a4b18a75187db5ddfd136bc3c37dc2d86254565eb80933ddc5dc7/pyopsview-6.2.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "c98a7a23e4d3957aaac6cf96222b2d3e", "sha256": "e0d19bf40417823adcec86fe5d0188d6066d8b77465643d43aa546a4b1bd38a5"}, "downloads": -1, "filename": "pyopsview-6.2.1-py2-none-any.whl", "has_sig": false, "md5_digest": "c98a7a23e4d3957aaac6cf96222b2d3e", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 73935, "upload_time": "2019-10-23T17:39:50", "upload_time_iso_8601": "2019-10-23T17:39:50.897604Z", "url": "https://files.pythonhosted.org/packages/0d/7d/929adb1ceb1a50c4c06cd0e3d9708499c533b0f9b09dcfd863b2ccbdeb6c/pyopsview-6.2.1-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d3870ff05298990a61af2d64cf039e9e", "sha256": "f79442e9694f301cbd8c90b855be3b1fde858a2ac751df3f422509d145e5e4a9"}, "downloads": -1, "filename": "pyopsview-6.2.1.tar.gz", "has_sig": false, "md5_digest": "d3870ff05298990a61af2d64cf039e9e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 41123, "upload_time": "2019-10-23T17:39:53", "upload_time_iso_8601": "2019-10-23T17:39:53.146782Z", "url": "https://files.pythonhosted.org/packages/ed/fe/98d3f00a4b18a75187db5ddfd136bc3c37dc2d86254565eb80933ddc5dc7/pyopsview-6.2.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:00:07 2020"}
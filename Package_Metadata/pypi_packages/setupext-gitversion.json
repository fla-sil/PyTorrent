{"info": {"author": "Dave Shawley", "author_email": "daveshawley@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Framework :: Setuptools Plugin", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: Implementation :: CPython", "Programming Language :: Python :: Implementation :: PyPy"], "description": "gitversion Setuptools Extension\n===============================\n\n|Version| |Downloads| |Status| |License| |Docs|\n\nWait... Why? What??\n-------------------\n`PEP440`_ codifies a version scheme for Python packages.  This `setuptools`_\nextension will generate `Developmental Release`_ and `Local Version Label`_\nsegments that identify the revision that is being built.  `PEP440`_ defines\nthe following format for Python package versions::\n\n   version         = [epoch \"!\"] public-version [\"+\" local-version]\n   epoch           = digit+\n   public-version  = release-segment [pre-segment] [post-segment] [dev-segment]\n   local-version   = (letter | digit)+ [\".\" (letter|digit)+]\n   release-segment = digit+ (\".\" digit+)*\n   pre-segment     = \"a\" digit+ | \"b\" digit+ | \"rc\" digit+\n   post-segment    = \".post\" digit+\n   dev-segment     = \".dev\" digit+\n\nIt also recommends that package indecies only accept *final releases* which\nare defined as having a version that consists of only a release segment and\nan optional epoch.  So why did I go through all of the trouble to create an\nextension for managing versions that should not be submitted to a package\nindex?  If you develop Python packages that are used inside the walls of a\nbusiness, then you probably know exactly why -- using a local Python Package\nIndex that holds non-public packages is commonplace.  It is also common to\nstage pre-release packages and builds from a CI server in an internal index.\nThis is where this extension comes into play.  It provides a consistent way\nto manage package versions throughout all stages of development.\n\nLet's look at the state of this project as I am writing this document.  The\ngit history looks like the following::\n\n   * 3fdc192 - (HEAD, origin/initial-implementation, initial-implementation)\n   ###### 9 more commits here\n   * 7ca1fd2 - (origin/master, master)\n   *   87d944e - Merge pull request #1 from dave-shawley/reorg (6 days ago)\n   |\\\n   | * 04d0cca - (origin/reorg, reorg)\n   | ###### 9 more commits here\n   |/\n   * bd7ad3c - (tag: 0.0.0) SYN (4 months ago)\n\nWhen I run **setup.py git_version** it sets the version to ``0.0.0.post1.dev11``.\nThe ``0.0.0`` portion is the release segment that is passed to the ``setup``\nfunction in *setup.py*.   The extension finds that tag in the history and\ncounts the number of merges that have occurred since that tag -- this value\nbecomes the *post* version segment.  In this case there has only been a single\nmerge.  Then it counts the number of commits since the last merge occurred --\nthis value becomes the *development* version segment.\n\nHow?\n----\nThe easiest way to use this extension is to install it into your build\nenvironment and then use it from the command line when you generate and upload\nyour distribution.\n\n1. ``pip install setupext-gitversion`` into your build environment\n2. Add the following lines to your *setup.cfg*:\n\n.. code-block:: ini\n\n     [git_version]\n     version-file = LOCAL-VERSION\n\n3. Add the following line to your *MANIFEST.in*::\n\n      include LOCAL-VERSION\n\n4. Modify your *setup.py* to append the contents of *LOCAL-VERSION*\n   to your ``version`` keyword:\n\n    .. code-block:: python\n\n      version_suffix = ''\n      try:\n         with open('LOCAL-VERSION') as f:\n            version_suffix = f.readline().strip()\n      except IOError:\n         pass\n\n      setup(\n         # normal keywords\n         version='1.2.3' + version_suffix,\n      )\n\n   Where ``1.2.3`` is the tag of the last release package.\n\n5. Add ``git_version`` to your *upload* or distribution generation\n   command.  You want to use something like the following::\n\n      setup.py git_version sdist upload\n      setup.py git_version bdist_egg upload\n\nAnd that's it.  That will embed SCM information into your package when\nyour build a distribution.  It is also smart enough to generate an empty\nsuffix for a build from a tagged commit.\n\nOk... Where?\n------------\n+---------------+--------------------------------------------------------------+\n| Source        | https://github.com/dave-shawley/setupext-gitversion          |\n+---------------+--------------------------------------------------------------+\n| Status        | https://travis-ci.org/dave-shawley/setupext-gitversion       |\n+---------------+--------------------------------------------------------------+\n| Download      | https://pypi.python.org/pypi/setupext-gitversion             |\n+---------------+--------------------------------------------------------------+\n| Documentation | http://setupext-gitversion.readthedocs.org/en/latest         |\n+---------------+--------------------------------------------------------------+\n| Issues        | https://github.com/dave-shawley/setupext-gitversion          |\n+---------------+--------------------------------------------------------------+\n\n.. _setuptools: https://pythonhosted.org/setuptools/\n.. _PEP440: https://www.python.org/dev/peps/pep-0440\n.. _Developmental Release: https://www.python.org/dev/peps/pep-0440/#local-version-identifiers\n.. _Local Version Label: https://www.python.org/dev/peps/pep-0440/#local-version-identifiers\n.. _pkg_resources: https://pythonhosted.org/setuptools/pkg_resources.html#getting-or-creating-distributions\n\n.. |Version| image:: https://pypip.in/version/setupext-gitversion/badge.svg\n   :target: https://pypi.python.org/pypi/setupext-gitversion\n.. |Downloads| image:: https://pypip.in/download/setupext-gitversion/badge.svg\n   :target: https://pypi.python.org/pypi/setupext-gitversion\n.. |Status| image:: https://travis-ci.org/dave-shawley/setupext-gitversion.svg\n   :target: https://travis-ci.org/dave-shawley/setupext-gitversion\n.. |License| image:: https://pypip.in/license/setupext-gitversion/badge.svg\n   :target: http://opensource.org/licenses/BSD-3-Clause\n.. |Docs| image:: https://readthedocs.org/projects/setupext-gitversion/badge/?version=latest\n   :target: https://setupext-gitversion.readthedocs.org/", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/dave-shawley/setupext-gitversion", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "setupext-gitversion", "package_url": "https://pypi.org/project/setupext-gitversion/", "platform": "any", "project_url": "https://pypi.org/project/setupext-gitversion/", "project_urls": {"Homepage": "http://github.com/dave-shawley/setupext-gitversion"}, "release_url": "https://pypi.org/project/setupext-gitversion/1.1.1/", "requires_dist": ["packaging (>=14.5)"], "requires_python": "", "summary": "PEP-440 compliant versioning helper", "version": "1.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://pypi.python.org/pypi/setupext-gitversion\" rel=\"nofollow\"><img alt=\"Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9021207541f39539d22a9e91425992842b75f2c7/68747470733a2f2f70797069702e696e2f76657273696f6e2f73657475706578742d67697476657273696f6e2f62616467652e737667\"></a> <a href=\"https://pypi.python.org/pypi/setupext-gitversion\" rel=\"nofollow\"><img alt=\"Downloads\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8a317a217b43631c6333b393256c6d6e4079abd3/68747470733a2f2f70797069702e696e2f646f776e6c6f61642f73657475706578742d67697476657273696f6e2f62616467652e737667\"></a> <a href=\"https://travis-ci.org/dave-shawley/setupext-gitversion\" rel=\"nofollow\"><img alt=\"Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/84ee40cc585ec1ee6b7c481e05b5ed7fd96f25f3/68747470733a2f2f7472617669732d63692e6f72672f646176652d736861776c65792f73657475706578742d67697476657273696f6e2e737667\"></a> <a href=\"http://opensource.org/licenses/BSD-3-Clause\" rel=\"nofollow\"><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0d76a70e8fcea5943a4acca4e2bedf7f68d390a0/68747470733a2f2f70797069702e696e2f6c6963656e73652f73657475706578742d67697476657273696f6e2f62616467652e737667\"></a> <a href=\"https://setupext-gitversion.readthedocs.org/\" rel=\"nofollow\"><img alt=\"Docs\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/27021204dcc217d287139268f01f688df6a5d271/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f73657475706578742d67697476657273696f6e2f62616467652f3f76657273696f6e3d6c6174657374\"></a></p>\n<div id=\"wait-why-what\">\n<h2>Wait\u2026 Why? What??</h2>\n<p><a href=\"https://www.python.org/dev/peps/pep-0440\" rel=\"nofollow\">PEP440</a> codifies a version scheme for Python packages.  This <a href=\"https://pythonhosted.org/setuptools/\" rel=\"nofollow\">setuptools</a>\nextension will generate <a href=\"https://www.python.org/dev/peps/pep-0440/#local-version-identifiers\" rel=\"nofollow\">Developmental Release</a> and <a href=\"https://www.python.org/dev/peps/pep-0440/#local-version-identifiers\" rel=\"nofollow\">Local Version Label</a>\nsegments that identify the revision that is being built.  <a href=\"https://www.python.org/dev/peps/pep-0440\" rel=\"nofollow\">PEP440</a> defines\nthe following format for Python package versions:</p>\n<pre>version         = [epoch \"!\"] public-version [\"+\" local-version]\nepoch           = digit+\npublic-version  = release-segment [pre-segment] [post-segment] [dev-segment]\nlocal-version   = (letter | digit)+ [\".\" (letter|digit)+]\nrelease-segment = digit+ (\".\" digit+)*\npre-segment     = \"a\" digit+ | \"b\" digit+ | \"rc\" digit+\npost-segment    = \".post\" digit+\ndev-segment     = \".dev\" digit+\n</pre>\n<p>It also recommends that package indecies only accept <em>final releases</em> which\nare defined as having a version that consists of only a release segment and\nan optional epoch.  So why did I go through all of the trouble to create an\nextension for managing versions that should not be submitted to a package\nindex?  If you develop Python packages that are used inside the walls of a\nbusiness, then you probably know exactly why \u2013 using a local Python Package\nIndex that holds non-public packages is commonplace.  It is also common to\nstage pre-release packages and builds from a CI server in an internal index.\nThis is where this extension comes into play.  It provides a consistent way\nto manage package versions throughout all stages of development.</p>\n<p>Let\u2019s look at the state of this project as I am writing this document.  The\ngit history looks like the following:</p>\n<pre>* 3fdc192 - (HEAD, origin/initial-implementation, initial-implementation)\n###### 9 more commits here\n* 7ca1fd2 - (origin/master, master)\n*   87d944e - Merge pull request #1 from dave-shawley/reorg (6 days ago)\n|\\\n| * 04d0cca - (origin/reorg, reorg)\n| ###### 9 more commits here\n|/\n* bd7ad3c - (tag: 0.0.0) SYN (4 months ago)\n</pre>\n<p>When I run <strong>setup.py git_version</strong> it sets the version to <tt>0.0.0.post1.dev11</tt>.\nThe <tt>0.0.0</tt> portion is the release segment that is passed to the <tt>setup</tt>\nfunction in <em>setup.py</em>.   The extension finds that tag in the history and\ncounts the number of merges that have occurred since that tag \u2013 this value\nbecomes the <em>post</em> version segment.  In this case there has only been a single\nmerge.  Then it counts the number of commits since the last merge occurred \u2013\nthis value becomes the <em>development</em> version segment.</p>\n</div>\n<div id=\"how\">\n<h2>How?</h2>\n<p>The easiest way to use this extension is to install it into your build\nenvironment and then use it from the command line when you generate and upload\nyour distribution.</p>\n<ol>\n<li><tt>pip install <span class=\"pre\">setupext-gitversion</span></tt> into your build environment</li>\n<li>Add the following lines to your <em>setup.cfg</em>:</li>\n</ol>\n<pre><span class=\"k\">[git_version]</span>\n<span class=\"na\">version-file</span> <span class=\"o\">=</span> <span class=\"s\">LOCAL-VERSION</span>\n</pre>\n<ol>\n<li><p>Add the following line to your <em>MANIFEST.in</em>:</p>\n<pre>include LOCAL-VERSION\n</pre>\n</li>\n<li><p>Modify your <em>setup.py</em> to append the contents of <em>LOCAL-VERSION</em>\nto your <tt>version</tt> keyword:</p>\n<blockquote>\n<pre><span class=\"n\">version_suffix</span> <span class=\"o\">=</span> <span class=\"s1\">''</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n   <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'LOCAL-VERSION'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n      <span class=\"n\">version_suffix</span> <span class=\"o\">=</span> <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">readline</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">strip</span><span class=\"p\">()</span>\n<span class=\"k\">except</span> <span class=\"ne\">IOError</span><span class=\"p\">:</span>\n   <span class=\"k\">pass</span>\n\n<span class=\"n\">setup</span><span class=\"p\">(</span>\n   <span class=\"c1\"># normal keywords</span>\n   <span class=\"n\">version</span><span class=\"o\">=</span><span class=\"s1\">'1.2.3'</span> <span class=\"o\">+</span> <span class=\"n\">version_suffix</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre>\n</blockquote>\n<p>Where <tt>1.2.3</tt> is the tag of the last release package.</p>\n</li>\n<li><p>Add <tt>git_version</tt> to your <em>upload</em> or distribution generation\ncommand.  You want to use something like the following:</p>\n<pre>setup.py git_version sdist upload\nsetup.py git_version bdist_egg upload\n</pre>\n</li>\n</ol>\n<p>And that\u2019s it.  That will embed SCM information into your package when\nyour build a distribution.  It is also smart enough to generate an empty\nsuffix for a build from a tagged commit.</p>\n</div>\n<div id=\"ok-where\">\n<h2>Ok\u2026 Where?</h2>\n<table>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<tbody>\n<tr><td>Source</td>\n<td><a href=\"https://github.com/dave-shawley/setupext-gitversion\" rel=\"nofollow\">https://github.com/dave-shawley/setupext-gitversion</a></td>\n</tr>\n<tr><td>Status</td>\n<td><a href=\"https://travis-ci.org/dave-shawley/setupext-gitversion\" rel=\"nofollow\">https://travis-ci.org/dave-shawley/setupext-gitversion</a></td>\n</tr>\n<tr><td>Download</td>\n<td><a href=\"https://pypi.python.org/pypi/setupext-gitversion\" rel=\"nofollow\">https://pypi.python.org/pypi/setupext-gitversion</a></td>\n</tr>\n<tr><td>Documentation</td>\n<td><a href=\"http://setupext-gitversion.readthedocs.org/en/latest\" rel=\"nofollow\">http://setupext-gitversion.readthedocs.org/en/latest</a></td>\n</tr>\n<tr><td>Issues</td>\n<td><a href=\"https://github.com/dave-shawley/setupext-gitversion\" rel=\"nofollow\">https://github.com/dave-shawley/setupext-gitversion</a></td>\n</tr>\n</tbody>\n</table>\n</div>\n\n          </div>"}, "last_serial": 2811287, "releases": {"1.0.1": [{"comment_text": "", "digests": {"md5": "dbaecec3e383b7a58dc2bcc07a4129f5", "sha256": "56733d7cf005ee17983dbbcd92d9cc733a6a1d26f1cdb9f3c89f441293d57b02"}, "downloads": -1, "filename": "setupext_gitversion-1.0.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "dbaecec3e383b7a58dc2bcc07a4129f5", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 9025, "upload_time": "2015-01-03T17:41:57", "upload_time_iso_8601": "2015-01-03T17:41:57.380033Z", "url": "https://files.pythonhosted.org/packages/0d/66/c4cdcd8b71851ebd801db20f97cb6f164caf4a896e5f7796ac266dd8e905/setupext_gitversion-1.0.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "48c4ccfa5b40386067fa63163a52a1aa", "sha256": "feb42a4535cc1706733f8ea337a123c2e77414365cd0594660c6f1cf5437a919"}, "downloads": -1, "filename": "setupext-gitversion-1.0.1.tar.gz", "has_sig": false, "md5_digest": "48c4ccfa5b40386067fa63163a52a1aa", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7934, "upload_time": "2015-01-03T17:41:54", "upload_time_iso_8601": "2015-01-03T17:41:54.907104Z", "url": "https://files.pythonhosted.org/packages/9f/0b/70986e853fc534dbd10ff5cd3cf191e675b9aa378bf436e6b8a39d2418e4/setupext-gitversion-1.0.1.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "4b0e76de8380d55649d7f4d6f7946bd0", "sha256": "14cfcc9d0d4cd610569c7a0b1218527da0c1f583e60f480a81a3bbfebc236b51"}, "downloads": -1, "filename": "setupext_gitversion-1.1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "4b0e76de8380d55649d7f4d6f7946bd0", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 9135, "upload_time": "2015-01-07T02:28:58", "upload_time_iso_8601": "2015-01-07T02:28:58.295492Z", "url": "https://files.pythonhosted.org/packages/c2/6e/82e225aee2ed40e81b17771d411e2257cedd0fe43eca31d0c3fbf0dc4d08/setupext_gitversion-1.1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3ef5e10d14a0df68a97fbac5cf7e9d9c", "sha256": "0fc86c60599fdaa8d7e9f7d19c3ecd75de8b46e4121c25b9298ca90c08ec8900"}, "downloads": -1, "filename": "setupext-gitversion-1.1.0.tar.gz", "has_sig": false, "md5_digest": "3ef5e10d14a0df68a97fbac5cf7e9d9c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8077, "upload_time": "2015-01-07T02:28:56", "upload_time_iso_8601": "2015-01-07T02:28:56.582049Z", "url": "https://files.pythonhosted.org/packages/0a/55/f8ecc04e617cee0e3d80d4753410f8bf078de74f5da428ee2b51e6c1645b/setupext-gitversion-1.1.0.tar.gz", "yanked": false}], "1.1.1": [{"comment_text": "", "digests": {"md5": "046f5c52bbb9993b03e66a5318d61595", "sha256": "ae51ccabf6cbe6cf0b8104a195af128b574622a2e47dd2a9bd0ce3cca5ac101b"}, "downloads": -1, "filename": "setupext_gitversion-1.1.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "046f5c52bbb9993b03e66a5318d61595", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 9132, "upload_time": "2017-04-18T14:25:30", "upload_time_iso_8601": "2017-04-18T14:25:30.981299Z", "url": "https://files.pythonhosted.org/packages/25/98/19adf5657f12e61778b67e58445251bc856b5d3ba69bb4d3600590636381/setupext_gitversion-1.1.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "641d46350d3de890bc68a1257a127dae", "sha256": "f8b25e1fa6adc0cb4682fd32d734ba4df0ef660d7b49bd88a1587882e2b45aa8"}, "downloads": -1, "filename": "setupext-gitversion-1.1.1.tar.gz", "has_sig": false, "md5_digest": "641d46350d3de890bc68a1257a127dae", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11747, "upload_time": "2017-04-18T14:25:32", "upload_time_iso_8601": "2017-04-18T14:25:32.458704Z", "url": "https://files.pythonhosted.org/packages/bf/07/a39d68aca8740b277733f99c452c274e2bffd1bb0d2f648ff5d71be54fa4/setupext-gitversion-1.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "046f5c52bbb9993b03e66a5318d61595", "sha256": "ae51ccabf6cbe6cf0b8104a195af128b574622a2e47dd2a9bd0ce3cca5ac101b"}, "downloads": -1, "filename": "setupext_gitversion-1.1.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "046f5c52bbb9993b03e66a5318d61595", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 9132, "upload_time": "2017-04-18T14:25:30", "upload_time_iso_8601": "2017-04-18T14:25:30.981299Z", "url": "https://files.pythonhosted.org/packages/25/98/19adf5657f12e61778b67e58445251bc856b5d3ba69bb4d3600590636381/setupext_gitversion-1.1.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "641d46350d3de890bc68a1257a127dae", "sha256": "f8b25e1fa6adc0cb4682fd32d734ba4df0ef660d7b49bd88a1587882e2b45aa8"}, "downloads": -1, "filename": "setupext-gitversion-1.1.1.tar.gz", "has_sig": false, "md5_digest": "641d46350d3de890bc68a1257a127dae", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11747, "upload_time": "2017-04-18T14:25:32", "upload_time_iso_8601": "2017-04-18T14:25:32.458704Z", "url": "https://files.pythonhosted.org/packages/bf/07/a39d68aca8740b277733f99c452c274e2bffd1bb0d2f648ff5d71be54fa4/setupext-gitversion-1.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:14:43 2020"}
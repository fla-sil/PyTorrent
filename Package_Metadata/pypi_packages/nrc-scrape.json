{"info": {"author": "Bradley Fox", "author_email": "bradfox2@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "Set of modules to scrape Event Reports from the NRC.gov website. \n\n# Tests \n\n```bash\npytest \n```\n\n# Usage\n\nDownload all event reports into yearly csv files:\n\n```bash \n\npython bulk_downloader --start_year 2004 --end_year 2020\n\n```\n\n```python\n    # generate single event notification report event\n    url3 = 'https://www.nrc.gov/reading-rm/doc-collections/event-status/event/2019/20190612en.html'\n\n    h = EventNotificationReport.from_url(url3, headers)\n\n    # get event notification urls from 2019 to 2020\n    er_urls = generate_nrc_event_report_urls(2019, 2020)\n\n    from random import sample\n    urls = sample(list(extract_nested_values(er_urls)), 10)\n\n    sl = logging.getLogger('success_log')\n    el = logging.getLogger('error_log')\n    fl = logging.getLogger('fof_log')\n\n    # get a subsample of the urls, and log attempts to request \n    enrs, errors, fofs = fetch_enrs(urls)\n\n    # convert an event to dataframe\n    df = enrs[0].events[0].to_dataframe()\n\n    # event notification report to dataframe\n    enr_df = enrs[1].to_dataframe()\n\n    # event notification reports to dataframe\n    enrs_df = pd.concat([enr.to_dataframe() for enr in enrs])\n\n    #dump to csv\n    enrs_df.to_csv('enrs.csv')\n\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/bradfox2/nrc-scrape", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "nrc-scrape", "package_url": "https://pypi.org/project/nrc-scrape/", "platform": "", "project_url": "https://pypi.org/project/nrc-scrape/", "project_urls": {"Homepage": "https://github.com/bradfox2/nrc-scrape"}, "release_url": "https://pypi.org/project/nrc-scrape/0.0.4/", "requires_dist": ["beautifulsoup4 (==4.8.2)", "numpy (==1.18.1)", "pandas (==1.0.1)", "requests (==2.23.0)", "python-dateutil (==2.8.1)"], "requires_python": ">=3.7", "summary": "Python package to scrape NRC Event Reports.", "version": "0.0.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Set of modules to scrape Event Reports from the NRC.gov website.</p>\n<h1>Tests</h1>\n<pre>pytest \n</pre>\n<h1>Usage</h1>\n<p>Download all event reports into yearly csv files:</p>\n<pre>python bulk_downloader --start_year <span class=\"m\">2004</span> --end_year <span class=\"m\">2020</span>\n</pre>\n<pre>    <span class=\"c1\"># generate single event notification report event</span>\n    <span class=\"n\">url3</span> <span class=\"o\">=</span> <span class=\"s1\">'https://www.nrc.gov/reading-rm/doc-collections/event-status/event/2019/20190612en.html'</span>\n\n    <span class=\"n\">h</span> <span class=\"o\">=</span> <span class=\"n\">EventNotificationReport</span><span class=\"o\">.</span><span class=\"n\">from_url</span><span class=\"p\">(</span><span class=\"n\">url3</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># get event notification urls from 2019 to 2020</span>\n    <span class=\"n\">er_urls</span> <span class=\"o\">=</span> <span class=\"n\">generate_nrc_event_report_urls</span><span class=\"p\">(</span><span class=\"mi\">2019</span><span class=\"p\">,</span> <span class=\"mi\">2020</span><span class=\"p\">)</span>\n\n    <span class=\"kn\">from</span> <span class=\"nn\">random</span> <span class=\"kn\">import</span> <span class=\"n\">sample</span>\n    <span class=\"n\">urls</span> <span class=\"o\">=</span> <span class=\"n\">sample</span><span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">extract_nested_values</span><span class=\"p\">(</span><span class=\"n\">er_urls</span><span class=\"p\">)),</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n\n    <span class=\"n\">sl</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s1\">'success_log'</span><span class=\"p\">)</span>\n    <span class=\"n\">el</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s1\">'error_log'</span><span class=\"p\">)</span>\n    <span class=\"n\">fl</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s1\">'fof_log'</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># get a subsample of the urls, and log attempts to request </span>\n    <span class=\"n\">enrs</span><span class=\"p\">,</span> <span class=\"n\">errors</span><span class=\"p\">,</span> <span class=\"n\">fofs</span> <span class=\"o\">=</span> <span class=\"n\">fetch_enrs</span><span class=\"p\">(</span><span class=\"n\">urls</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># convert an event to dataframe</span>\n    <span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">enrs</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">events</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">to_dataframe</span><span class=\"p\">()</span>\n\n    <span class=\"c1\"># event notification report to dataframe</span>\n    <span class=\"n\">enr_df</span> <span class=\"o\">=</span> <span class=\"n\">enrs</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">to_dataframe</span><span class=\"p\">()</span>\n\n    <span class=\"c1\"># event notification reports to dataframe</span>\n    <span class=\"n\">enrs_df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">concat</span><span class=\"p\">([</span><span class=\"n\">enr</span><span class=\"o\">.</span><span class=\"n\">to_dataframe</span><span class=\"p\">()</span> <span class=\"k\">for</span> <span class=\"n\">enr</span> <span class=\"ow\">in</span> <span class=\"n\">enrs</span><span class=\"p\">])</span>\n\n    <span class=\"c1\">#dump to csv</span>\n    <span class=\"n\">enrs_df</span><span class=\"o\">.</span><span class=\"n\">to_csv</span><span class=\"p\">(</span><span class=\"s1\">'enrs.csv'</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 6779163, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "63f60197a7a656f25fae9fd1bc41964d", "sha256": "c74f96490be00484af81ceac1fdcddcb1a76c80fde4a8c9ec240627b35f96ac8"}, "downloads": -1, "filename": "nrc_scrape-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "63f60197a7a656f25fae9fd1bc41964d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 8449, "upload_time": "2020-02-25T04:50:43", "upload_time_iso_8601": "2020-02-25T04:50:43.143807Z", "url": "https://files.pythonhosted.org/packages/5e/ee/5be5f76331e5f373b8458b5f60971c8f9672adde08ffecef644af63e119f/nrc_scrape-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "04f50b0be03a88bdccdd762121d109fa", "sha256": "07144155d2989520d25e2561fdf6f4cb6cd06a237d4b6c59f68c677ac2689b5b"}, "downloads": -1, "filename": "nrc-scrape-0.0.1.tar.gz", "has_sig": false, "md5_digest": "04f50b0be03a88bdccdd762121d109fa", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7029, "upload_time": "2020-02-25T04:50:45", "upload_time_iso_8601": "2020-02-25T04:50:45.070023Z", "url": "https://files.pythonhosted.org/packages/67/f2/3f62aaada96464b32132d4e59c212e0aca9672d67d3c7a1dd22a4e2c4626/nrc-scrape-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "794c9ceed0624465546597ebbdee5159", "sha256": "5578fa0adeeff3edf73d013940a73e6875d2e43808a4334234d9ba15ebbde2f6"}, "downloads": -1, "filename": "nrc_scrape-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "794c9ceed0624465546597ebbdee5159", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 8526, "upload_time": "2020-02-25T04:56:55", "upload_time_iso_8601": "2020-02-25T04:56:55.769981Z", "url": "https://files.pythonhosted.org/packages/b6/56/1bd63cc68bf36cda3c50870ec9b7750a4030f26f8bb7b513e4ba8157cbe5/nrc_scrape-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bbf3a8dd1a20693d98af35d7bb73d163", "sha256": "bb397e79301c98de7c0ccb6892a920d4ae5e8df3bb38280b1210f585a658b67c"}, "downloads": -1, "filename": "nrc-scrape-0.0.2.tar.gz", "has_sig": false, "md5_digest": "bbf3a8dd1a20693d98af35d7bb73d163", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7160, "upload_time": "2020-02-25T04:56:56", "upload_time_iso_8601": "2020-02-25T04:56:56.712490Z", "url": "https://files.pythonhosted.org/packages/44/42/c8c15d18acbe2441977763a4fa9429c3be728c0f4ef502f97b508e11b0e4/nrc-scrape-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "79c6586520fd05032d35eb4a9400a12e", "sha256": "98bbd702d56592ffc11ebd9f7d44bf5fce503a01d5da4b24b5dfeef68bef0135"}, "downloads": -1, "filename": "nrc_scrape-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "79c6586520fd05032d35eb4a9400a12e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 9402, "upload_time": "2020-03-02T19:04:18", "upload_time_iso_8601": "2020-03-02T19:04:18.708983Z", "url": "https://files.pythonhosted.org/packages/33/69/7740e980221ff058e9cf7b239114f3a31b5cae35a0efa8e899a68c7a3426/nrc_scrape-0.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e03035994c94796db6f9f060def8399d", "sha256": "9dcbc5190ab18133b09062df2b426782a18e5e144e76b9ebce872c8b8fa7a494"}, "downloads": -1, "filename": "nrc-scrape-0.0.3.tar.gz", "has_sig": false, "md5_digest": "e03035994c94796db6f9f060def8399d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7863, "upload_time": "2020-03-02T19:04:20", "upload_time_iso_8601": "2020-03-02T19:04:20.263458Z", "url": "https://files.pythonhosted.org/packages/69/85/43b7ad98f55d5270147f426760c854e29822fc90bccecf11986989206a96/nrc-scrape-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "c740d5dcd88d13aa2b4fe8e2474f60ed", "sha256": "03a7dd7c73624f28688b4fe54e33f7fc767c58c988cede949cab81550d504470"}, "downloads": -1, "filename": "nrc_scrape-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "c740d5dcd88d13aa2b4fe8e2474f60ed", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 10874, "upload_time": "2020-03-09T18:37:33", "upload_time_iso_8601": "2020-03-09T18:37:33.405291Z", "url": "https://files.pythonhosted.org/packages/95/1f/1325873de53329f55a7b16e67f69618a2dd917233153805029f8f1b8b1e4/nrc_scrape-0.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ba59207a85682ce59a101438108033e8", "sha256": "2f21aba4c7201ff31b3c3233e0828ce68dd5bcc57300c8cc4567a67cea371f25"}, "downloads": -1, "filename": "nrc-scrape-0.0.4.tar.gz", "has_sig": false, "md5_digest": "ba59207a85682ce59a101438108033e8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 9081, "upload_time": "2020-03-09T18:37:34", "upload_time_iso_8601": "2020-03-09T18:37:34.640414Z", "url": "https://files.pythonhosted.org/packages/de/1b/f5c53e2b8b051ca19fabb4927377d7fef853231f36d26c3c9ea5229d4314/nrc-scrape-0.0.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "c740d5dcd88d13aa2b4fe8e2474f60ed", "sha256": "03a7dd7c73624f28688b4fe54e33f7fc767c58c988cede949cab81550d504470"}, "downloads": -1, "filename": "nrc_scrape-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "c740d5dcd88d13aa2b4fe8e2474f60ed", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 10874, "upload_time": "2020-03-09T18:37:33", "upload_time_iso_8601": "2020-03-09T18:37:33.405291Z", "url": "https://files.pythonhosted.org/packages/95/1f/1325873de53329f55a7b16e67f69618a2dd917233153805029f8f1b8b1e4/nrc_scrape-0.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ba59207a85682ce59a101438108033e8", "sha256": "2f21aba4c7201ff31b3c3233e0828ce68dd5bcc57300c8cc4567a67cea371f25"}, "downloads": -1, "filename": "nrc-scrape-0.0.4.tar.gz", "has_sig": false, "md5_digest": "ba59207a85682ce59a101438108033e8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 9081, "upload_time": "2020-03-09T18:37:34", "upload_time_iso_8601": "2020-03-09T18:37:34.640414Z", "url": "https://files.pythonhosted.org/packages/de/1b/f5c53e2b8b051ca19fabb4927377d7fef853231f36d26c3c9ea5229d4314/nrc-scrape-0.0.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:44:29 2020"}
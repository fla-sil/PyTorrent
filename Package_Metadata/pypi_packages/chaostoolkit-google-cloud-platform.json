{"info": {"author": "chaostoolkit Team", "author_email": "contact@chaostoolkit.org", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: Freely Distributable", "License :: OSI Approved :: Apache Software License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: Implementation", "Programming Language :: Python :: Implementation :: CPython"], "description": "# Chaos Toolkit Extension for Google Cloud Platform\n\n[![Build Status](https://travis-ci.com/chaostoolkit-incubator/chaostoolkit-google-cloud-platform.svg?branch=master)](https://travis-ci.com/chaostoolkit-incubator/chaostoolkit-google-cloud-platform)\n[![Python versions](https://img.shields.io/pypi/pyversions/chaostoolkit-google-cloud-platform.svg)](https://www.python.org/)\n\nThis project is a collection of [actions][] and [probes][], gathered as an\nextension to the [Chaos Toolkit][chaostoolkit]. It targets the\n[Google Cloud Platform][gcp].\n\n[actions]: http://chaostoolkit.org/reference/api/experiment/#action\n[probes]: http://chaostoolkit.org/reference/api/experiment/#probe\n[chaostoolkit]: http://chaostoolkit.org\n[gce]: https://cloud.google.com/compute/\n[gcp]: https://cloud.google.com\n\n\n## Install\n\nThis package requires Python 3.5+\n\nTo be used from your experiment, this package must be installed in the Python\nenvironment where [chaostoolkit][] already lives.\n\n```\n$ pip install -U chaostoolkit-google-cloud-platform\n```\n\n## Usage\n\nTo use the probes and actions from this package, add the following to your\nexperiment file:\n\n```json\n{\n    \"type\": \"action\",\n    \"name\": \"swap-nodepool-for-a-new-one\",\n    \"provider\": {\n        \"type\": \"python\",\n        \"module\": \"chaosgcp.gke.nodepool.actions\",\n        \"func\": \"swap_nodepool\",\n        \"secrets\": [\"gcp\", \"k8s\"],\n        \"arguments\": {\n            \"old_node_pool_id\": \"...\",\n            \"new_nodepool_body\": {\n                \"nodePool\": {\n                    \"config\": { \n                        \"oauthScopes\": [\n                            \"gke-version-default\",\n                            \"https://www.googleapis.com/auth/devstorage.read_only\",\n                            \"https://www.googleapis.com/auth/logging.write\",\n                            \"https://www.googleapis.com/auth/monitoring\",\n                            \"https://www.googleapis.com/auth/service.management.readonly\",\n                            \"https://www.googleapis.com/auth/servicecontrol\",\n                            \"https://www.googleapis.com/auth/trace.append\"\n                        ]\n                    },\n                    \"initialNodeCount\": 3,\n                    \"name\": \"new-default-pool\"\n                }\n            }\n        }\n    }\n}\n```\n\nThat's it!\n\nPlease explore the code to see existing probes and actions.\n\n\n## Configuration\n\n### Project and Cluster Information\n\nYou can pass the context via the `configuration` section of your experiment:\n\n```json\n{\n    \"configuration\": {\n        \"gcp_project_id\": \"...\",\n        \"gcp_gke_cluster_name\": \"...\",\n        \"gcp_region\": \"...\",\n        \"gcp_zone\": \"...\"\n    }\n}\n```\n\nNote that most functions exposed in this package also take those values\ndirectly when you want specific values for them.\n\n### Credentials\n\nThis extension expects a [service account][sa] with enough permissions to\nperform its operations. Please create such a service account manually (do not\nuse the default one for your cluster if you can, so you'll be able to delete\nthat service account if need be).\n\n[sa]: https://cloud.google.com/iam/docs/creating-managing-service-accounts \n\nOnce you have created your service account, either keep the file on the same\nmachine where you will be running the experiment from. Or, pass its content\nas part of the `secrets` section, although this is not recommended because your\nsensitive data will be quite visible.\n\nHere is the first way:\n\n```json\n{\n    \"secrets\": {\n        \"gcp\": {\n            \"service_account_file\": \"/path/to/sa.json\"\n        }\n    }\n}\n```\n\nWhile the embedded way looks like this:\n\n\n```json\n{\n    \"secrets\": {\n        \"k8s\": {\n            \"KUBERNETES_CONTEXT\": \"gke_project_name-g70e8ya0_us-central1_cluster-hello-world\"\n        },\n        \"gcp\": {\n            \"service_account_info\": {\n                \"type\": \"service_account\",\n                \"project_id\": \"...\",\n                \"private_key_id\": \"...\",\n                \"private_key\": \"...\",\n                \"client_email\": \"...\",\n                \"client_id\": \"...\",\n                \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n                \"token_uri\": \"https://accounts.google.com/o/oauth2/token\",\n                \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n                \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/....\"\n            }\n        }\n    }\n}\n```\n\nNotice also how we provided here the `k8s` entry. This is only because, in our\nexample we use the `swap_nodepool` action which drains the Kubernetes nodes\nand it requires the Kubernetes cluster credentials to work. These are documented\nin the [Kubernetes extension for Chaos Toolkit][k8sctk]. This is the only\naction that requires such a secret payload, others only speak to the GCP API.\n\n[k8sctk]: https://docs.chaostoolkit.org/drivers/kubernetes/\n\n### Putting it all together\n\nHere is a full example:\n\n```json\n{\n    \"version\": \"1.0.0\",\n    \"title\": \"...\",\n    \"description\": \"...\",\n    \"configuration\": {\n        \"gcp_project_id\": \"...\",\n        \"gcp_gke_cluster_name\": \"...\",\n        \"gcp_region\": \"...\",\n        \"gcp_zone\": \"...\"\n    },\n    \"secrets\": {\n        \"gcp\": {\n            \"service_account_file\": \"/path/to/sa.json\"\n        },\n        \"k8s\": {\n            \"KUBERNETES_CONTEXT\": \"gke_project_name-g70e8ya0_us-central1_cluster-hello-world\"\n        },\n    },\n    \"method\": [\n        {\n            \"type\": \"action\",\n            \"name\": \"swap-nodepool-for-a-new-one\",\n            \"provider\": {\n                \"type\": \"python\",\n                \"module\": \"chaosgcp.gke.nodepool.actions\",\n                \"func\": \"swap_nodepool\",\n                \"secrets\": [\"gcp\", \"k8s\"],\n                \"arguments\": {\n                    \"old_node_pool_id\": \"...\",\n                    \"new_nodepool_body\": {\n                        \"nodePool\": {\n                            \"config\": { \n                                \"oauthScopes\": [\n                                    \"gke-version-default\",\n                                    \"https://www.googleapis.com/auth/devstorage.read_only\",\n                                    \"https://www.googleapis.com/auth/logging.write\",\n                                    \"https://www.googleapis.com/auth/monitoring\",\n                                    \"https://www.googleapis.com/auth/service.management.readonly\",\n                                    \"https://www.googleapis.com/auth/servicecontrol\",\n                                    \"https://www.googleapis.com/auth/trace.append\"\n                                ]\n                            },\n                            \"initialNodeCount\": 3,\n                            \"name\": \"new-default-pool\"\n                        }\n                    }\n                }\n            }\n        }\n    ]\n}\n```\n\n## Migrate from GCE extension\n\nIf you previously used the deprecated [GCE extension][ctk-gce], here is a quick\nrecap of changes you'll need to go through to update your experiments.\n\n[ctk-gce]: https://github.com/chaostoolkit-incubator/chaostoolkit-google-cloud\n\n-   The module `chaosgce.nodepool.actions` has been replaced by\n    `chaosgcp.gke.nodepool.actions`.\n    You will need to update the `module` key for the python providers.\n-   The configuration keys in the `configuration` section have been\n    renamed accordingly:\n    - `\"gce_project_id\"` -> `\"gcp_project_id\"`\n    - `\"gce_region\"` -> `\"gcp_region\"`\n    - `\"gce_zone\"` -> `\"gcp_zone\"`\n    - `\"gce_cluster_name\"` -> `\"gcp_gke_cluster_name\"`\n\n## Contribute\n\nIf you wish to contribute more functions to this package, you are more than\nwelcome to do so. Please, fork this project, make your changes following the\nusual [PEP 8][pep8] code style, sprinkling with tests and submit a PR for\nreview.\n\n[pep8]: https://pycodestyle.readthedocs.io/en/latest/\n\nThe Chaos Toolkit projects require all contributors must sign a\n[Developer Certificate of Origin][dco] on each commit they would like to merge\ninto the master branch of the repository. Please, make sure you can abide by\nthe rules of the DCO before submitting a PR.\n\n[dco]: https://github.com/probot/dco#how-it-works\n\nIf you wish to add a new function to this extension, that is related to a \nGoogle Cloud product that is not available yet in this package, please use \nthe product short name or acronym as a first level subpackage (eg. iam, gke, \nsql, storage, ...). See the list of [GCP products and services][gcp_products].\n\n[gcp_products] https://cloud.google.com/products/\n\n### Develop\n\nIf you wish to develop on this project, make sure to install the development\ndependencies. But first, [create a virtual environment][venv] and then install\nthose dependencies.\n\n[venv]: http://chaostoolkit.org/reference/usage/install/#create-a-virtual-environment\n\n```console\n$ pip install -r requirements-dev.txt -r requirements.txt \n```\n\nThen, point your environment to this directory:\n\n```console\n$ python setup.py develop\n```\n\nNow, you can edit the files and they will be automatically be seen by your\nenvironment, even when running from the `chaos` command locally.\n\n### Test\n\nTo run the tests for the project execute the following:\n\n```\n$ pytest\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://chaostoolkit.org", "keywords": "", "license": "Apache License Version 2.0", "maintainer": "", "maintainer_email": "", "name": "chaostoolkit-google-cloud-platform", "package_url": "https://pypi.org/project/chaostoolkit-google-cloud-platform/", "platform": "", "project_url": "https://pypi.org/project/chaostoolkit-google-cloud-platform/", "project_urls": {"CI: Travis": "https://travis-ci.com/chaostoolkit-incubator/chaostoolkit-google-cloud-platform", "GitHub: issues": "https://github.com/chaostoolkit-incubator/chaostoolkit-google-cloud-platform/issues", "GitHub: repo": "https://github.com/chaostoolkit-incubator/chaostoolkit-google-cloud-platform", "Homepage": "https://chaostoolkit.org"}, "release_url": "https://pypi.org/project/chaostoolkit-google-cloud-platform/0.2.1/", "requires_dist": ["chaostoolkit-lib (>=0.16.0)", "chaostoolkit-kubernetes (>=0.15.0)", "google-auth", "google-auth-httplib2", "google-api-python-client", "google-cloud-storage", "logzero"], "requires_python": ">=3.5.*", "summary": "Chaos Toolkit Extension for Google Cloud Platform", "version": "0.2.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Chaos Toolkit Extension for Google Cloud Platform</h1>\n<p><a href=\"https://travis-ci.com/chaostoolkit-incubator/chaostoolkit-google-cloud-platform\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ed525b8e56935b0b8ad3970408fcb2fdc7c65cee/68747470733a2f2f7472617669732d63692e636f6d2f6368616f73746f6f6c6b69742d696e63756261746f722f6368616f73746f6f6c6b69742d676f6f676c652d636c6f75642d706c6174666f726d2e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://www.python.org/\" rel=\"nofollow\"><img alt=\"Python versions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0aa39ea5d843a19a8b33e03ee29f1542d470019d/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6368616f73746f6f6c6b69742d676f6f676c652d636c6f75642d706c6174666f726d2e737667\"></a></p>\n<p>This project is a collection of <a href=\"http://chaostoolkit.org/reference/api/experiment/#action\" rel=\"nofollow\">actions</a> and <a href=\"http://chaostoolkit.org/reference/api/experiment/#probe\" rel=\"nofollow\">probes</a>, gathered as an\nextension to the <a href=\"http://chaostoolkit.org\" rel=\"nofollow\">Chaos Toolkit</a>. It targets the\n<a href=\"https://cloud.google.com\" rel=\"nofollow\">Google Cloud Platform</a>.</p>\n<h2>Install</h2>\n<p>This package requires Python 3.5+</p>\n<p>To be used from your experiment, this package must be installed in the Python\nenvironment where <a href=\"http://chaostoolkit.org\" rel=\"nofollow\">chaostoolkit</a> already lives.</p>\n<pre><code>$ pip install -U chaostoolkit-google-cloud-platform\n</code></pre>\n<h2>Usage</h2>\n<p>To use the probes and actions from this package, add the following to your\nexperiment file:</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"action\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"swap-nodepool-for-a-new-one\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"provider\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"python\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"module\"</span><span class=\"p\">:</span> <span class=\"s2\">\"chaosgcp.gke.nodepool.actions\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"func\"</span><span class=\"p\">:</span> <span class=\"s2\">\"swap_nodepool\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"secrets\"</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"gcp\"</span><span class=\"p\">,</span> <span class=\"s2\">\"k8s\"</span><span class=\"p\">],</span>\n        <span class=\"nt\">\"arguments\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"old_node_pool_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"new_nodepool_body\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"nt\">\"nodePool\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                    <span class=\"nt\">\"config\"</span><span class=\"p\">:</span> <span class=\"p\">{</span> \n                        <span class=\"nt\">\"oauthScopes\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n                            <span class=\"s2\">\"gke-version-default\"</span><span class=\"p\">,</span>\n                            <span class=\"s2\">\"https://www.googleapis.com/auth/devstorage.read_only\"</span><span class=\"p\">,</span>\n                            <span class=\"s2\">\"https://www.googleapis.com/auth/logging.write\"</span><span class=\"p\">,</span>\n                            <span class=\"s2\">\"https://www.googleapis.com/auth/monitoring\"</span><span class=\"p\">,</span>\n                            <span class=\"s2\">\"https://www.googleapis.com/auth/service.management.readonly\"</span><span class=\"p\">,</span>\n                            <span class=\"s2\">\"https://www.googleapis.com/auth/servicecontrol\"</span><span class=\"p\">,</span>\n                            <span class=\"s2\">\"https://www.googleapis.com/auth/trace.append\"</span>\n                        <span class=\"p\">]</span>\n                    <span class=\"p\">},</span>\n                    <span class=\"nt\">\"initialNodeCount\"</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n                    <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"new-default-pool\"</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre>\n<p>That's it!</p>\n<p>Please explore the code to see existing probes and actions.</p>\n<h2>Configuration</h2>\n<h3>Project and Cluster Information</h3>\n<p>You can pass the context via the <code>configuration</code> section of your experiment:</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"nt\">\"configuration\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"gcp_project_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"gcp_gke_cluster_name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"gcp_region\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"gcp_zone\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre>\n<p>Note that most functions exposed in this package also take those values\ndirectly when you want specific values for them.</p>\n<h3>Credentials</h3>\n<p>This extension expects a <a href=\"https://cloud.google.com/iam/docs/creating-managing-service-accounts\" rel=\"nofollow\">service account</a> with enough permissions to\nperform its operations. Please create such a service account manually (do not\nuse the default one for your cluster if you can, so you'll be able to delete\nthat service account if need be).</p>\n<p>Once you have created your service account, either keep the file on the same\nmachine where you will be running the experiment from. Or, pass its content\nas part of the <code>secrets</code> section, although this is not recommended because your\nsensitive data will be quite visible.</p>\n<p>Here is the first way:</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"nt\">\"secrets\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"gcp\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"service_account_file\"</span><span class=\"p\">:</span> <span class=\"s2\">\"/path/to/sa.json\"</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre>\n<p>While the embedded way looks like this:</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"nt\">\"secrets\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"k8s\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"KUBERNETES_CONTEXT\"</span><span class=\"p\">:</span> <span class=\"s2\">\"gke_project_name-g70e8ya0_us-central1_cluster-hello-world\"</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">\"gcp\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"service_account_info\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"service_account\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"project_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"private_key_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"private_key\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"client_email\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"client_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"auth_uri\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://accounts.google.com/o/oauth2/auth\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"token_uri\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://accounts.google.com/o/oauth2/token\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"auth_provider_x509_cert_url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://www.googleapis.com/oauth2/v1/certs\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"client_x509_cert_url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://www.googleapis.com/robot/v1/metadata/x509/....\"</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre>\n<p>Notice also how we provided here the <code>k8s</code> entry. This is only because, in our\nexample we use the <code>swap_nodepool</code> action which drains the Kubernetes nodes\nand it requires the Kubernetes cluster credentials to work. These are documented\nin the <a href=\"https://docs.chaostoolkit.org/drivers/kubernetes/\" rel=\"nofollow\">Kubernetes extension for Chaos Toolkit</a>. This is the only\naction that requires such a secret payload, others only speak to the GCP API.</p>\n<h3>Putting it all together</h3>\n<p>Here is a full example:</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"nt\">\"version\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1.0.0\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"title\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"description\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"configuration\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"gcp_project_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"gcp_gke_cluster_name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"gcp_region\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"gcp_zone\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span>\n    <span class=\"p\">},</span>\n    <span class=\"nt\">\"secrets\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"gcp\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"service_account_file\"</span><span class=\"p\">:</span> <span class=\"s2\">\"/path/to/sa.json\"</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">\"k8s\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"KUBERNETES_CONTEXT\"</span><span class=\"p\">:</span> <span class=\"s2\">\"gke_project_name-g70e8ya0_us-central1_cluster-hello-world\"</span>\n        <span class=\"p\">},</span>\n    <span class=\"p\">},</span>\n    <span class=\"nt\">\"method\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"action\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"swap-nodepool-for-a-new-one\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"provider\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"python\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"module\"</span><span class=\"p\">:</span> <span class=\"s2\">\"chaosgcp.gke.nodepool.actions\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"func\"</span><span class=\"p\">:</span> <span class=\"s2\">\"swap_nodepool\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"secrets\"</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"gcp\"</span><span class=\"p\">,</span> <span class=\"s2\">\"k8s\"</span><span class=\"p\">],</span>\n                <span class=\"nt\">\"arguments\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                    <span class=\"nt\">\"old_node_pool_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"...\"</span><span class=\"p\">,</span>\n                    <span class=\"nt\">\"new_nodepool_body\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                        <span class=\"nt\">\"nodePool\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                            <span class=\"nt\">\"config\"</span><span class=\"p\">:</span> <span class=\"p\">{</span> \n                                <span class=\"nt\">\"oauthScopes\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n                                    <span class=\"s2\">\"gke-version-default\"</span><span class=\"p\">,</span>\n                                    <span class=\"s2\">\"https://www.googleapis.com/auth/devstorage.read_only\"</span><span class=\"p\">,</span>\n                                    <span class=\"s2\">\"https://www.googleapis.com/auth/logging.write\"</span><span class=\"p\">,</span>\n                                    <span class=\"s2\">\"https://www.googleapis.com/auth/monitoring\"</span><span class=\"p\">,</span>\n                                    <span class=\"s2\">\"https://www.googleapis.com/auth/service.management.readonly\"</span><span class=\"p\">,</span>\n                                    <span class=\"s2\">\"https://www.googleapis.com/auth/servicecontrol\"</span><span class=\"p\">,</span>\n                                    <span class=\"s2\">\"https://www.googleapis.com/auth/trace.append\"</span>\n                                <span class=\"p\">]</span>\n                            <span class=\"p\">},</span>\n                            <span class=\"nt\">\"initialNodeCount\"</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n                            <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"new-default-pool\"</span>\n                        <span class=\"p\">}</span>\n                    <span class=\"p\">}</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre>\n<h2>Migrate from GCE extension</h2>\n<p>If you previously used the deprecated <a href=\"https://github.com/chaostoolkit-incubator/chaostoolkit-google-cloud\" rel=\"nofollow\">GCE extension</a>, here is a quick\nrecap of changes you'll need to go through to update your experiments.</p>\n<ul>\n<li>The module <code>chaosgce.nodepool.actions</code> has been replaced by\n<code>chaosgcp.gke.nodepool.actions</code>.\nYou will need to update the <code>module</code> key for the python providers.</li>\n<li>The configuration keys in the <code>configuration</code> section have been\nrenamed accordingly:\n<ul>\n<li><code>\"gce_project_id\"</code> -&gt; <code>\"gcp_project_id\"</code></li>\n<li><code>\"gce_region\"</code> -&gt; <code>\"gcp_region\"</code></li>\n<li><code>\"gce_zone\"</code> -&gt; <code>\"gcp_zone\"</code></li>\n<li><code>\"gce_cluster_name\"</code> -&gt; <code>\"gcp_gke_cluster_name\"</code></li>\n</ul>\n</li>\n</ul>\n<h2>Contribute</h2>\n<p>If you wish to contribute more functions to this package, you are more than\nwelcome to do so. Please, fork this project, make your changes following the\nusual <a href=\"https://pycodestyle.readthedocs.io/en/latest/\" rel=\"nofollow\">PEP 8</a> code style, sprinkling with tests and submit a PR for\nreview.</p>\n<p>The Chaos Toolkit projects require all contributors must sign a\n<a href=\"https://github.com/probot/dco#how-it-works\" rel=\"nofollow\">Developer Certificate of Origin</a> on each commit they would like to merge\ninto the master branch of the repository. Please, make sure you can abide by\nthe rules of the DCO before submitting a PR.</p>\n<p>If you wish to add a new function to this extension, that is related to a\nGoogle Cloud product that is not available yet in this package, please use\nthe product short name or acronym as a first level subpackage (eg. iam, gke,\nsql, storage, ...). See the list of [GCP products and services][gcp_products].</p>\n<p>[gcp_products] <a href=\"https://cloud.google.com/products/\" rel=\"nofollow\">https://cloud.google.com/products/</a></p>\n<h3>Develop</h3>\n<p>If you wish to develop on this project, make sure to install the development\ndependencies. But first, <a href=\"http://chaostoolkit.org/reference/usage/install/#create-a-virtual-environment\" rel=\"nofollow\">create a virtual environment</a> and then install\nthose dependencies.</p>\n<pre><span class=\"gp\">$</span> pip install -r requirements-dev.txt -r requirements.txt \n</pre>\n<p>Then, point your environment to this directory:</p>\n<pre><span class=\"gp\">$</span> python setup.py develop\n</pre>\n<p>Now, you can edit the files and they will be automatically be seen by your\nenvironment, even when running from the <code>chaos</code> command locally.</p>\n<h3>Test</h3>\n<p>To run the tests for the project execute the following:</p>\n<pre><code>$ pytest\n</code></pre>\n\n          </div>"}, "last_serial": 7140794, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "764670156ba641ca2804b51908b886a2", "sha256": "d10dc3b9c979483b69865255f3a2e00f41229dd7b1cf25bd206540d989d71b8c"}, "downloads": -1, "filename": "chaostoolkit_google_cloud_platform-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "764670156ba641ca2804b51908b886a2", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5.*", "size": 16437, "upload_time": "2019-12-11T13:29:01", "upload_time_iso_8601": "2019-12-11T13:29:01.038911Z", "url": "https://files.pythonhosted.org/packages/43/a1/c90e6b6351a6b3c5b9082c4ad3a73c5300dfa3ead156e8f7c6d57f0f67fa/chaostoolkit_google_cloud_platform-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "09a772b40431deabd4a7bf69184adcd5", "sha256": "303937f115c649d53e9f36cf4d533a18660840a7ebeebc1e3f4109970df64614"}, "downloads": -1, "filename": "chaostoolkit-google-cloud-platform-0.1.0.tar.gz", "has_sig": false, "md5_digest": "09a772b40431deabd4a7bf69184adcd5", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5.*", "size": 14885, "upload_time": "2019-12-11T13:29:03", "upload_time_iso_8601": "2019-12-11T13:29:03.837058Z", "url": "https://files.pythonhosted.org/packages/7a/6b/a741e2c81256ffbb8c9875b81479d589c16e08559756ea08869baa76fa5f/chaostoolkit-google-cloud-platform-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "81d45aee77373589c19ef530e5d39f4a", "sha256": "b455ed0ce09b2bfcba7bec7c404f99e07eb22a96a306dae53fa1a6df83ab409b"}, "downloads": -1, "filename": "chaostoolkit_google_cloud_platform-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "81d45aee77373589c19ef530e5d39f4a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5.*", "size": 11123, "upload_time": "2020-04-30T15:26:29", "upload_time_iso_8601": "2020-04-30T15:26:29.927251Z", "url": "https://files.pythonhosted.org/packages/06/b8/099e43edc76fce3e684c9ed09a7785d8fd0eb955cc3b1f6b53aba510211a/chaostoolkit_google_cloud_platform-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f51aee29901f9b0f46ac3b6995ea7653", "sha256": "d961a230e1c8c1efa6e5b803dd396d579ba493034782475d5228315a27ffbceb"}, "downloads": -1, "filename": "chaostoolkit-google-cloud-platform-0.2.0.tar.gz", "has_sig": false, "md5_digest": "f51aee29901f9b0f46ac3b6995ea7653", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5.*", "size": 12410, "upload_time": "2020-04-30T15:26:30", "upload_time_iso_8601": "2020-04-30T15:26:30.926594Z", "url": "https://files.pythonhosted.org/packages/a2/f9/41bb550e0631dccb0eb60a67469a7d07f62eef8c8881a8c186057ee16cc0/chaostoolkit-google-cloud-platform-0.2.0.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "45fa8a545c51635a8c203cb0bb3291c4", "sha256": "4579997b3f472ba30339e9935cc1fb336155f5c49e944ed845b43cf3f1f57739"}, "downloads": -1, "filename": "chaostoolkit_google_cloud_platform-0.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "45fa8a545c51635a8c203cb0bb3291c4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5.*", "size": 18539, "upload_time": "2020-04-30T20:45:44", "upload_time_iso_8601": "2020-04-30T20:45:44.712439Z", "url": "https://files.pythonhosted.org/packages/15/f3/97958be6a7d3390ef50c11f08f148bfe2c1b74ac8bac6915792f2d81aae6/chaostoolkit_google_cloud_platform-0.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9e2ae8e5e83bcc93be388cd44759d354", "sha256": "9ab38611c53a684267185ac6bb874810adaa8bee2280f48e37e084bba119630b"}, "downloads": -1, "filename": "chaostoolkit-google-cloud-platform-0.2.1.tar.gz", "has_sig": false, "md5_digest": "9e2ae8e5e83bcc93be388cd44759d354", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5.*", "size": 16202, "upload_time": "2020-04-30T20:45:45", "upload_time_iso_8601": "2020-04-30T20:45:45.912873Z", "url": "https://files.pythonhosted.org/packages/1e/52/93e5a35033e666ca526ab1bbe8be86c22d7a4988c4ae99e679ef72bf6e87/chaostoolkit-google-cloud-platform-0.2.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "45fa8a545c51635a8c203cb0bb3291c4", "sha256": "4579997b3f472ba30339e9935cc1fb336155f5c49e944ed845b43cf3f1f57739"}, "downloads": -1, "filename": "chaostoolkit_google_cloud_platform-0.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "45fa8a545c51635a8c203cb0bb3291c4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5.*", "size": 18539, "upload_time": "2020-04-30T20:45:44", "upload_time_iso_8601": "2020-04-30T20:45:44.712439Z", "url": "https://files.pythonhosted.org/packages/15/f3/97958be6a7d3390ef50c11f08f148bfe2c1b74ac8bac6915792f2d81aae6/chaostoolkit_google_cloud_platform-0.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9e2ae8e5e83bcc93be388cd44759d354", "sha256": "9ab38611c53a684267185ac6bb874810adaa8bee2280f48e37e084bba119630b"}, "downloads": -1, "filename": "chaostoolkit-google-cloud-platform-0.2.1.tar.gz", "has_sig": false, "md5_digest": "9e2ae8e5e83bcc93be388cd44759d354", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5.*", "size": 16202, "upload_time": "2020-04-30T20:45:45", "upload_time_iso_8601": "2020-04-30T20:45:45.912873Z", "url": "https://files.pythonhosted.org/packages/1e/52/93e5a35033e666ca526ab1bbe8be86c22d7a4988c4ae99e679ef72bf6e87/chaostoolkit-google-cloud-platform-0.2.1.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:34:27 2020"}
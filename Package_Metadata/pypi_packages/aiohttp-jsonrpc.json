{"info": {"author": "Dmitry Orlov <me@mosquito.su>", "author_email": "", "bugtrack_url": null, "classifiers": ["Environment :: Console", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3 :: Only"], "description": "AIOHTTP JSON RPC\n================\n\n.. image:: https://travis-ci.org/mosquito/aiohttp-jsonrpc.svg\n    :target: https://travis-ci.org/mosquito/aiohttp-jsonrpc\n\n.. image:: https://img.shields.io/pypi/v/aiohttp-jsonrpc.svg\n    :target: https://pypi.python.org/pypi/aiohttp-jsonrpc/\n    :alt: Latest Version\n\n.. image:: https://img.shields.io/pypi/wheel/aiohttp-jsonrpc.svg\n    :target: https://pypi.python.org/pypi/aiohttp-jsonrpc/\n\n.. image:: https://img.shields.io/pypi/pyversions/aiohttp-jsonrpc.svg\n    :target: https://pypi.python.org/pypi/aiohttp-jsonrpc/\n\n.. image:: https://img.shields.io/pypi/l/aiohttp-jsonrpc.svg\n    :target: https://pypi.python.org/pypi/aiohttp-jsonrpc/\n\n\nJSON-RPC server and client implementation based on aiohttp.\n\n\nServer example\n---------------\n\n.. code-block:: python\n\n    from aiohttp import web\n    from aiohttp_jsonrpc import handler\n\n\n    class JSONRPCExample(handler.JSONRPCView):\n        def rpc_test(self):\n            return None\n\n        def rpc_args(self, *args):\n            return len(args)\n\n        def rpc_kwargs(self, **kwargs):\n            return len(kwargs)\n\n        def rpc_args_kwargs(self, *args, **kwargs):\n            return len(args) + len(kwargs)\n\n        def rpc_exception(self):\n            raise Exception(\"YEEEEEE!!!\")\n\n\n    app = web.Application()\n    app.router.add_route('*', '/', JSONRPCExample)\n\n    if __name__ == \"__main__\":\n        import logging\n        logging.basicConfig(level=logging.INFO)\n        web.run_app(app, print=logging.info)\n\n\n\nClient example\n--------------\n\n.. code-block:: python\n\n    import asyncio\n    from aiohttp_jsonrpc.client import ServerProxy, batch\n\n\n    loop = asyncio.get_event_loop()\n    client = ServerProxy(\"http://127.0.0.1:8080/\", loop=loop)\n\n\n    async def main():\n        print(await client.test())\n\n        # Or via __getitem__\n        method = client['args']\n        print(await method(1, 2, 3))\n\n        results = await batch(\n            client,\n            client['test'],\n            client['test'].prepare(),\n            client['args'].prepare(1, 2, 3),\n            client['not_found'].prepare(1, 2, 3),\n        )\n\n        print(results)\n\n        client.close()\n\n    if __name__ == \"__main__\":\n        loop.run_until_complete(main())\n\n", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "aiohttp-jsonrpc", "package_url": "https://pypi.org/project/aiohttp-jsonrpc/", "platform": "all", "project_url": "https://pypi.org/project/aiohttp-jsonrpc/", "project_urls": null, "release_url": "https://pypi.org/project/aiohttp-jsonrpc/0.1.0/", "requires_dist": null, "requires_python": "", "summary": "aiohttp JSON-RPC server handler and client", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://travis-ci.org/mosquito/aiohttp-jsonrpc\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/mosquito/aiohttp-jsonrpc.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9b4e43a93cbf982cef1994982f01d04633038372/68747470733a2f2f7472617669732d63692e6f72672f6d6f73717569746f2f61696f687474702d6a736f6e7270632e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/aiohttp-jsonrpc/\" rel=\"nofollow\"><img alt=\"Latest Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e0f6f6dc4c5a8d512e2fae469a9a7cbb2345a158/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f61696f687474702d6a736f6e7270632e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/aiohttp-jsonrpc/\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/wheel/aiohttp-jsonrpc.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2f4285402c0e85e157be323d7cd8f4cb967cb628/68747470733a2f2f696d672e736869656c64732e696f2f707970692f776865656c2f61696f687474702d6a736f6e7270632e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/aiohttp-jsonrpc/\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/pyversions/aiohttp-jsonrpc.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/918c291e145b43c9351c431b38032f9904882aee/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f61696f687474702d6a736f6e7270632e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/aiohttp-jsonrpc/\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/l/aiohttp-jsonrpc.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9633716dc3506d15e6f66145015df853438fccb0/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f61696f687474702d6a736f6e7270632e737667\"></a>\n<p>JSON-RPC server and client implementation based on aiohttp.</p>\n<div id=\"server-example\">\n<h2>Server example</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">aiohttp</span> <span class=\"kn\">import</span> <span class=\"n\">web</span>\n<span class=\"kn\">from</span> <span class=\"nn\">aiohttp_jsonrpc</span> <span class=\"kn\">import</span> <span class=\"n\">handler</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">JSONRPCExample</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">JSONRPCView</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">rpc_test</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"kc\">None</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">rpc_args</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">rpc_kwargs</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">rpc_args_kwargs</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">rpc_exception</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">Exception</span><span class=\"p\">(</span><span class=\"s2\">\"YEEEEEE!!!\"</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">web</span><span class=\"o\">.</span><span class=\"n\">Application</span><span class=\"p\">()</span>\n<span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">router</span><span class=\"o\">.</span><span class=\"n\">add_route</span><span class=\"p\">(</span><span class=\"s1\">'*'</span><span class=\"p\">,</span> <span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"n\">JSONRPCExample</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">\"__main__\"</span><span class=\"p\">:</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n    <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">basicConfig</span><span class=\"p\">(</span><span class=\"n\">level</span><span class=\"o\">=</span><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">INFO</span><span class=\"p\">)</span>\n    <span class=\"n\">web</span><span class=\"o\">.</span><span class=\"n\">run_app</span><span class=\"p\">(</span><span class=\"n\">app</span><span class=\"p\">,</span> <span class=\"nb\">print</span><span class=\"o\">=</span><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"client-example\">\n<h2>Client example</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">from</span> <span class=\"nn\">aiohttp_jsonrpc.client</span> <span class=\"kn\">import</span> <span class=\"n\">ServerProxy</span><span class=\"p\">,</span> <span class=\"n\">batch</span>\n\n\n<span class=\"n\">loop</span> <span class=\"o\">=</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">get_event_loop</span><span class=\"p\">()</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">ServerProxy</span><span class=\"p\">(</span><span class=\"s2\">\"http://127.0.0.1:8080/\"</span><span class=\"p\">,</span> <span class=\"n\">loop</span><span class=\"o\">=</span><span class=\"n\">loop</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"k\">await</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">test</span><span class=\"p\">())</span>\n\n    <span class=\"c1\"># Or via __getitem__</span>\n    <span class=\"n\">method</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"p\">[</span><span class=\"s1\">'args'</span><span class=\"p\">]</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"k\">await</span> <span class=\"n\">method</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">))</span>\n\n    <span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">batch</span><span class=\"p\">(</span>\n        <span class=\"n\">client</span><span class=\"p\">,</span>\n        <span class=\"n\">client</span><span class=\"p\">[</span><span class=\"s1\">'test'</span><span class=\"p\">],</span>\n        <span class=\"n\">client</span><span class=\"p\">[</span><span class=\"s1\">'test'</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">prepare</span><span class=\"p\">(),</span>\n        <span class=\"n\">client</span><span class=\"p\">[</span><span class=\"s1\">'args'</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">prepare</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span>\n        <span class=\"n\">client</span><span class=\"p\">[</span><span class=\"s1\">'not_found'</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">prepare</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">results</span><span class=\"p\">)</span>\n\n    <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">\"__main__\"</span><span class=\"p\">:</span>\n    <span class=\"n\">loop</span><span class=\"o\">.</span><span class=\"n\">run_until_complete</span><span class=\"p\">(</span><span class=\"n\">main</span><span class=\"p\">())</span>\n</pre>\n</div>\n\n          </div>"}, "last_serial": 3323268, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "1fd935c25dae2e5742a7705734a5a561", "sha256": "26ad38f1d48cdbe1e4c3e70e4a345c45e5b559b8c2c31bc87c94b89249930283"}, "downloads": -1, "filename": "aiohttp-jsonrpc-0.1.0.tar.gz", "has_sig": false, "md5_digest": "1fd935c25dae2e5742a7705734a5a561", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5724, "upload_time": "2017-11-10T21:07:05", "upload_time_iso_8601": "2017-11-10T21:07:05.900874Z", "url": "https://files.pythonhosted.org/packages/6d/58/77e34a043920fa4f51818b0b18ae800ae2cdcbc8993a93d92d5f33898ad1/aiohttp-jsonrpc-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "1fd935c25dae2e5742a7705734a5a561", "sha256": "26ad38f1d48cdbe1e4c3e70e4a345c45e5b559b8c2c31bc87c94b89249930283"}, "downloads": -1, "filename": "aiohttp-jsonrpc-0.1.0.tar.gz", "has_sig": false, "md5_digest": "1fd935c25dae2e5742a7705734a5a561", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5724, "upload_time": "2017-11-10T21:07:05", "upload_time_iso_8601": "2017-11-10T21:07:05.900874Z", "url": "https://files.pythonhosted.org/packages/6d/58/77e34a043920fa4f51818b0b18ae800ae2cdcbc8993a93d92d5f33898ad1/aiohttp-jsonrpc-0.1.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:21:19 2020"}
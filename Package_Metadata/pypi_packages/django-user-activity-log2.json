{"info": {"author": "sebatyler", "author_email": "sebatyler@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Web Environment", "Framework :: Django", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "This django app intended for writing HTTP log to database and/or watch last user activity.\n\nFeatures:\n- DB router for writing logs to another database.\n- Filters for ignoring some queries by URL, HTTP methods and response codes.\n- Saving anonymous activity as fake user.\n- Autocreation log DB (for postgresql)\n\nInstall:\n\n$ pip install django-user-activity-log2\n\nsettings.py:\n\n\n```python\nINSTALLED_APPS = (\n    ...\n    'activity_log',\n)\n\nMIDDLEWARE_CLASSES = (\n    ...\n    'activity_log.middleware.ActivityLogMiddleware',\n)\n\n# For writing log to another DB\n\nDATABASE_ROUTERS = ['activity_log.router.DatabaseAppsRouter']\nDATABASE_APPS_MAPPING = {'activity_log': 'logs'}\n\n# If you set up DATABASE_APPS_MAPPING, but don't set related value in\n# DATABASES, it will created automatically using \"default\" DB settings\n# as example.\nDATABASES = {\n    'logs': {\n        ...\n    },\n}\n\n# Create DB automatically (for postgres, and may be mysql).\n# We create log database automatically using raw SQL in pre_migrate signal.\n# You must insure, that DB user has permissions for creation databases. \n# Tested only for postgresql\nACTIVITYLOG_AUTOCREATE_DB = False\n\n# App settings\n\n# Log anonymous actions?\nACTIVITYLOG_ANONYMOUS = True\n\n# Update last activity datetime in user profile. Needs updates for user model.\nACTIVITYLOG_LAST_ACTIVITY = True\n\n# Only this methods will be logged\nACTIVITYLOG_METHODS = ('POST', 'GET')\n\n# List of response statuses, which logged. By default - all logged.\n# Don't use with ACTIVITYLOG_EXCLUDE_STATUSES\nACTIVITYLOG_STATUSES = (200, )\n\n# List of response statuses, which ignores. Don't use with ACTIVITYLOG_STATUSES\n# ACTIVITYLOG_EXCLUDE_STATUSES = (302, )\n\n# URL substrings, which ignores\nACTIVITYLOG_EXCLUDE_URLS = ('/admin/activity_log/activitylog', )\n```\n\naccount/models.py:\n\n```python\nfrom django.contrib.auth.models import AbstractUser\nfrom activity_log.models import UserMixin\n\n# Only for LAST_ACTIVITY = True\nclass User(AbstractUser, UserMixin):\n    pass\n```\n\n$ python manage.py migrate & python manage.py migrate --database=logs\n\nIf you use ACTIVITYLOG_AUTOCREATE_DB migrations to logs database \nwill be run automatically.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/sebatyler/django-user-activity-log/", "keywords": "", "license": "MIT license", "maintainer": "", "maintainer_email": "", "name": "django-user-activity-log2", "package_url": "https://pypi.org/project/django-user-activity-log2/", "platform": "", "project_url": "https://pypi.org/project/django-user-activity-log2/", "project_urls": {"Homepage": "https://github.com/sebatyler/django-user-activity-log/"}, "release_url": "https://pypi.org/project/django-user-activity-log2/0.0.24/", "requires_dist": null, "requires_python": "", "summary": "HTTP queries logger with flexible filters.", "version": "0.0.24", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>This django app intended for writing HTTP log to database and/or watch last user activity.</p>\n<p>Features:</p>\n<ul>\n<li>DB router for writing logs to another database.</li>\n<li>Filters for ignoring some queries by URL, HTTP methods and response codes.</li>\n<li>Saving anonymous activity as fake user.</li>\n<li>Autocreation log DB (for postgresql)</li>\n</ul>\n<p>Install:</p>\n<p>$ pip install django-user-activity-log2</p>\n<p>settings.py:</p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'activity_log'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">MIDDLEWARE_CLASSES</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'activity_log.middleware.ActivityLogMiddleware'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># For writing log to another DB</span>\n\n<span class=\"n\">DATABASE_ROUTERS</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'activity_log.router.DatabaseAppsRouter'</span><span class=\"p\">]</span>\n<span class=\"n\">DATABASE_APPS_MAPPING</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'activity_log'</span><span class=\"p\">:</span> <span class=\"s1\">'logs'</span><span class=\"p\">}</span>\n\n<span class=\"c1\"># If you set up DATABASE_APPS_MAPPING, but don't set related value in</span>\n<span class=\"c1\"># DATABASES, it will created automatically using \"default\" DB settings</span>\n<span class=\"c1\"># as example.</span>\n<span class=\"n\">DATABASES</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'logs'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"o\">...</span>\n    <span class=\"p\">},</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\"># Create DB automatically (for postgres, and may be mysql).</span>\n<span class=\"c1\"># We create log database automatically using raw SQL in pre_migrate signal.</span>\n<span class=\"c1\"># You must insure, that DB user has permissions for creation databases. </span>\n<span class=\"c1\"># Tested only for postgresql</span>\n<span class=\"n\">ACTIVITYLOG_AUTOCREATE_DB</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>\n\n<span class=\"c1\"># App settings</span>\n\n<span class=\"c1\"># Log anonymous actions?</span>\n<span class=\"n\">ACTIVITYLOG_ANONYMOUS</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n\n<span class=\"c1\"># Update last activity datetime in user profile. Needs updates for user model.</span>\n<span class=\"n\">ACTIVITYLOG_LAST_ACTIVITY</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n\n<span class=\"c1\"># Only this methods will be logged</span>\n<span class=\"n\">ACTIVITYLOG_METHODS</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">'POST'</span><span class=\"p\">,</span> <span class=\"s1\">'GET'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># List of response statuses, which logged. By default - all logged.</span>\n<span class=\"c1\"># Don't use with ACTIVITYLOG_EXCLUDE_STATUSES</span>\n<span class=\"n\">ACTIVITYLOG_STATUSES</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">,</span> <span class=\"p\">)</span>\n\n<span class=\"c1\"># List of response statuses, which ignores. Don't use with ACTIVITYLOG_STATUSES</span>\n<span class=\"c1\"># ACTIVITYLOG_EXCLUDE_STATUSES = (302, )</span>\n\n<span class=\"c1\"># URL substrings, which ignores</span>\n<span class=\"n\">ACTIVITYLOG_EXCLUDE_URLS</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">'/admin/activity_log/activitylog'</span><span class=\"p\">,</span> <span class=\"p\">)</span>\n</pre>\n<p>account/models.py:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.auth.models</span> <span class=\"kn\">import</span> <span class=\"n\">AbstractUser</span>\n<span class=\"kn\">from</span> <span class=\"nn\">activity_log.models</span> <span class=\"kn\">import</span> <span class=\"n\">UserMixin</span>\n\n<span class=\"c1\"># Only for LAST_ACTIVITY = True</span>\n<span class=\"k\">class</span> <span class=\"nc\">User</span><span class=\"p\">(</span><span class=\"n\">AbstractUser</span><span class=\"p\">,</span> <span class=\"n\">UserMixin</span><span class=\"p\">):</span>\n    <span class=\"k\">pass</span>\n</pre>\n<p>$ python manage.py migrate &amp; python manage.py migrate --database=logs</p>\n<p>If you use ACTIVITYLOG_AUTOCREATE_DB migrations to logs database\nwill be run automatically.</p>\n\n          </div>"}, "last_serial": 5935789, "releases": {"0.0.16": [], "0.0.17": [{"comment_text": "", "digests": {"md5": "cf2998f2d5187ea0d2a71cc1dbd37bb4", "sha256": "b98a84cbe6423e6a6eab4ddf00ce18aea123a99850219d84221461d40cd96425"}, "downloads": -1, "filename": "django-user-activity-log2-0.0.17.tar.gz", "has_sig": false, "md5_digest": "cf2998f2d5187ea0d2a71cc1dbd37bb4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4632, "upload_time": "2017-03-09T09:30:53", "upload_time_iso_8601": "2017-03-09T09:30:53.835172Z", "url": "https://files.pythonhosted.org/packages/64/be/6aaf777ba4ac961b4ba9385473fa432c01ce304a3995271a32c65a5ee42b/django-user-activity-log2-0.0.17.tar.gz", "yanked": false}], "0.0.18": [{"comment_text": "", "digests": {"md5": "49a4591a87f92cb313ca0a4337805e01", "sha256": "bfc9ced1df2f00bab82cd7d1fea36cbca29c32d3bea13e250e23080d2035b09c"}, "downloads": -1, "filename": "django-user-activity-log2-0.0.18.tar.gz", "has_sig": false, "md5_digest": "49a4591a87f92cb313ca0a4337805e01", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4679, "upload_time": "2017-03-13T07:58:45", "upload_time_iso_8601": "2017-03-13T07:58:45.823220Z", "url": "https://files.pythonhosted.org/packages/55/c6/139e55267aee072752eea31097ba46b5f2aa339e0939b7b9eeaad38c28b8/django-user-activity-log2-0.0.18.tar.gz", "yanked": false}], "0.0.19": [{"comment_text": "", "digests": {"md5": "27eeb5fc04c378b04d1374f62f6ead9c", "sha256": "15c4d0c3743d9bead8bd70f2dd5ac8cfc65215895dafe0b1062056421d8ec9a2"}, "downloads": -1, "filename": "django-user-activity-log2-0.0.19.tar.gz", "has_sig": false, "md5_digest": "27eeb5fc04c378b04d1374f62f6ead9c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4723, "upload_time": "2018-05-09T10:55:43", "upload_time_iso_8601": "2018-05-09T10:55:43.645298Z", "url": "https://files.pythonhosted.org/packages/e4/6d/039b2437cd054161700997070e1ee9f921c3dc51806ab80cf2d21539f2c6/django-user-activity-log2-0.0.19.tar.gz", "yanked": false}], "0.0.20": [{"comment_text": "", "digests": {"md5": "4994ee61bc0fe6063e443b7b874a0c35", "sha256": "9f110dea0facd5908f729c1f8e659e2741df131a46d6918a894433b6be979411"}, "downloads": -1, "filename": "django-user-activity-log2-0.0.20.tar.gz", "has_sig": false, "md5_digest": "4994ee61bc0fe6063e443b7b874a0c35", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5299, "upload_time": "2018-06-01T15:28:03", "upload_time_iso_8601": "2018-06-01T15:28:03.685317Z", "url": "https://files.pythonhosted.org/packages/69/f3/36fd63994e8ac5d8b03a6f481ee9478e8301ad28248d9a0fdab835b1a5fa/django-user-activity-log2-0.0.20.tar.gz", "yanked": false}], "0.0.21": [{"comment_text": "", "digests": {"md5": "763d8f7f2dccbe1ba3f7280acb967c3e", "sha256": "9a5d10863c9426e853b214e8ebaea5d81f4e3f5b351e85be92cdff4b7f1f2718"}, "downloads": -1, "filename": "django-user-activity-log2-0.0.21.tar.gz", "has_sig": false, "md5_digest": "763d8f7f2dccbe1ba3f7280acb967c3e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5296, "upload_time": "2018-06-01T15:35:50", "upload_time_iso_8601": "2018-06-01T15:35:50.091632Z", "url": "https://files.pythonhosted.org/packages/3f/12/c5b2312a40b26eb675f893edd1f542c5930516c994f33b208a3af4ceba8c/django-user-activity-log2-0.0.21.tar.gz", "yanked": false}], "0.0.22": [{"comment_text": "", "digests": {"md5": "9e1965843a49884e40800a366e12b3aa", "sha256": "118a04ea61351cfa50b40fb9629cf9466d8dd72d35a664f75c527e3a1de5f6fd"}, "downloads": -1, "filename": "django_user_activity_log2-0.0.22-py3-none-any.whl", "has_sig": false, "md5_digest": "9e1965843a49884e40800a366e12b3aa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10370, "upload_time": "2019-08-16T16:42:44", "upload_time_iso_8601": "2019-08-16T16:42:44.432931Z", "url": "https://files.pythonhosted.org/packages/35/5f/4414e69acc8e535b1c8becc89c64727787eca5f86c36739c8ec51c56913e/django_user_activity_log2-0.0.22-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f9b1205b2dd488494ab142c8e27f4cc5", "sha256": "1a4aa14176525112c8a618453199a1191e5e81d55c7263b4fd1cfce2c9787e77"}, "downloads": -1, "filename": "django-user-activity-log2-0.0.22.tar.gz", "has_sig": false, "md5_digest": "f9b1205b2dd488494ab142c8e27f4cc5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5356, "upload_time": "2019-08-16T16:42:46", "upload_time_iso_8601": "2019-08-16T16:42:46.821555Z", "url": "https://files.pythonhosted.org/packages/70/7a/849bda24b286a8185cccc1b06910c643f5770436615708ca5759589969e5/django-user-activity-log2-0.0.22.tar.gz", "yanked": false}], "0.0.23": [{"comment_text": "", "digests": {"md5": "6f90c980bf2b5d18bde6a93ad1148f02", "sha256": "1dc47421739752e62afc8a56fe91dcafdd15b2b84da86dd8afce8083b88b2d86"}, "downloads": -1, "filename": "django_user_activity_log2-0.0.23-py3-none-any.whl", "has_sig": false, "md5_digest": "6f90c980bf2b5d18bde6a93ad1148f02", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10381, "upload_time": "2019-10-05T16:24:48", "upload_time_iso_8601": "2019-10-05T16:24:48.938789Z", "url": "https://files.pythonhosted.org/packages/69/3a/010fe902dfb12940a9aa877df6ce8f4c48b981eb4a6b147657b0e364f0a9/django_user_activity_log2-0.0.23-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5b0f794d7a40138b915182c4c22cfb2e", "sha256": "6ac394ed1c6317f4e9d43a3feb93ee63175d6b6cb45279a5acb4702e2a6bab2e"}, "downloads": -1, "filename": "django-user-activity-log2-0.0.23.tar.gz", "has_sig": false, "md5_digest": "5b0f794d7a40138b915182c4c22cfb2e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5367, "upload_time": "2019-10-05T16:24:52", "upload_time_iso_8601": "2019-10-05T16:24:52.577589Z", "url": "https://files.pythonhosted.org/packages/92/86/720bb09ccb3d19352947d72da467f62d9e6b11c46583770d656fa87bd5b2/django-user-activity-log2-0.0.23.tar.gz", "yanked": false}], "0.0.24": [{"comment_text": "", "digests": {"md5": "66e5be0daed1785a553f1b19b1f899cf", "sha256": "ff6f21dd71572b0f18232194fd3e6740768045f9d6ee2a6acef43706bb505309"}, "downloads": -1, "filename": "django_user_activity_log2-0.0.24-py3-none-any.whl", "has_sig": false, "md5_digest": "66e5be0daed1785a553f1b19b1f899cf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10876, "upload_time": "2019-10-06T19:44:16", "upload_time_iso_8601": "2019-10-06T19:44:16.532836Z", "url": "https://files.pythonhosted.org/packages/d2/74/17602b3c1a3e689f1f815675d6b59c12f0163e9ccb7f2f317724565d10f4/django_user_activity_log2-0.0.24-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "402ac40a2ae0d62e449768c93e3e064d", "sha256": "4187fb311f26918b852a9ce96291e6bf33ab9484967e3b7ad96494b8b011b232"}, "downloads": -1, "filename": "django-user-activity-log2-0.0.24.tar.gz", "has_sig": false, "md5_digest": "402ac40a2ae0d62e449768c93e3e064d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5731, "upload_time": "2019-10-06T19:44:21", "upload_time_iso_8601": "2019-10-06T19:44:21.587765Z", "url": "https://files.pythonhosted.org/packages/f9/ba/e4898afaaf7986fcbecac223c57a07425a7aa8318b9c32f3d9c2ade1e9ca/django-user-activity-log2-0.0.24.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "66e5be0daed1785a553f1b19b1f899cf", "sha256": "ff6f21dd71572b0f18232194fd3e6740768045f9d6ee2a6acef43706bb505309"}, "downloads": -1, "filename": "django_user_activity_log2-0.0.24-py3-none-any.whl", "has_sig": false, "md5_digest": "66e5be0daed1785a553f1b19b1f899cf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 10876, "upload_time": "2019-10-06T19:44:16", "upload_time_iso_8601": "2019-10-06T19:44:16.532836Z", "url": "https://files.pythonhosted.org/packages/d2/74/17602b3c1a3e689f1f815675d6b59c12f0163e9ccb7f2f317724565d10f4/django_user_activity_log2-0.0.24-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "402ac40a2ae0d62e449768c93e3e064d", "sha256": "4187fb311f26918b852a9ce96291e6bf33ab9484967e3b7ad96494b8b011b232"}, "downloads": -1, "filename": "django-user-activity-log2-0.0.24.tar.gz", "has_sig": false, "md5_digest": "402ac40a2ae0d62e449768c93e3e064d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5731, "upload_time": "2019-10-06T19:44:21", "upload_time_iso_8601": "2019-10-06T19:44:21.587765Z", "url": "https://files.pythonhosted.org/packages/f9/ba/e4898afaaf7986fcbecac223c57a07425a7aa8318b9c32f3d9c2ade1e9ca/django-user-activity-log2-0.0.24.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:52:09 2020"}
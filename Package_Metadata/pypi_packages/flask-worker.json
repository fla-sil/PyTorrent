{"info": {"author": "Dillon Bowen", "author_email": "dsbowen@wharton.upenn.edu", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# Flask-Worker\n\nFlask-Worker simplifies interaction with a Redis Queue for executing long-running tasks in a Flask application. \n\nLong-running tasks are managed by a Worker, who sends the client a loading page until it completes the task. Upon completing the task, the Worker automatically replaces the client's window with the loaded page.\n\n## Example\n\nSuppose a model (the employer) must run a long, complex task before the next page loads.\n\nWhat we want is for the complex task to run once, and for the view function to return a loading page while the complex task is running. Additional requests to this route should not cause the complex task to run multiple times. Once the task is complete, the loaded page should appear automatically. \n\nAfter setup, we can achieve this with the following:\n\n```python\n@app.route('/')\ndef index():\n    employer = Employer.query.filter_by(name='name').first()\n    if employer.worker is None:\n        employer.worker = Worker(method_name='complex_task')\n    worker = employer.worker\n    if not worker.job_finished:\n        return worker()\n    return 'Hello World'\n```\n\n## Documentation\n\nYou can find the latest documentation at [https://dsbowen.github.io/flask-worker](https://dsbowen.github.io/flask-worker).\n\n## License\n\nPublications which use this software should include the following citations for Flask-Worker and its dependencies, [SQLAlchemy-Mutable](https://pypi.org/project/sqlalchemy-mutable/) and [SQLAlchemy-MutableSoup](https://dsbowen.github.io/sqlalchemy-mutablesoup).\n\nBowen, D.S. (2019). Flask-Worker [Compluter software]. [https://github.com/dsbowen/flask-worker](https://github.com/dsbowen/flask-worker).\n\nBowen, D.S. (2019). SQLAlchemy-Mutable [Computer software]. [https://github.com/dsbowen/sqlalchemy-mutable](https://github.com/dsbowen/sqlalchemy-mutable).\n\nBowen, D.S. (2020). SQLAlchemy-MutableSoup [Computer software]. [https://dsbowen.github.io/sqlalchemy-mutablesoup](https://dsbowen.github.io/sqlalchemy-mutablesoup).\n\nThis project is licensed under the MIT License [LICENSE](https://github.com/dsbowen/flask-worker/blob/master/LICENSE).\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/dsbowen/flask-worker", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "flask-worker", "package_url": "https://pypi.org/project/flask-worker/", "platform": "", "project_url": "https://pypi.org/project/flask-worker/", "project_urls": {"Homepage": "https://github.com/dsbowen/flask-worker"}, "release_url": "https://pypi.org/project/flask-worker/0.0.7/", "requires_dist": ["bs4 (==0.0.1)", "flask (==1.1.1)", "rq (==1.2.0)", "sqlalchemy (==1.3.12)", "sqlalchemy-modelid (==0.0.2)", "sqlalchemy-mutable (==0.0.7)", "sqlalchemy-mutablesoup (==0.0.6)"], "requires_python": ">=3.6", "summary": "Flask-Worker simplifies interaction with a Redis Queue for executing long-running tasks in a Flask application.", "version": "0.0.7", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Flask-Worker</h1>\n<p>Flask-Worker simplifies interaction with a Redis Queue for executing long-running tasks in a Flask application.</p>\n<p>Long-running tasks are managed by a Worker, who sends the client a loading page until it completes the task. Upon completing the task, the Worker automatically replaces the client's window with the loaded page.</p>\n<h2>Example</h2>\n<p>Suppose a model (the employer) must run a long, complex task before the next page loads.</p>\n<p>What we want is for the complex task to run once, and for the view function to return a loading page while the complex task is running. Additional requests to this route should not cause the complex task to run multiple times. Once the task is complete, the loaded page should appear automatically.</p>\n<p>After setup, we can achieve this with the following:</p>\n<pre><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">index</span><span class=\"p\">():</span>\n    <span class=\"n\">employer</span> <span class=\"o\">=</span> <span class=\"n\">Employer</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"o\">.</span><span class=\"n\">filter_by</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'name'</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">first</span><span class=\"p\">()</span>\n    <span class=\"k\">if</span> <span class=\"n\">employer</span><span class=\"o\">.</span><span class=\"n\">worker</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">employer</span><span class=\"o\">.</span><span class=\"n\">worker</span> <span class=\"o\">=</span> <span class=\"n\">Worker</span><span class=\"p\">(</span><span class=\"n\">method_name</span><span class=\"o\">=</span><span class=\"s1\">'complex_task'</span><span class=\"p\">)</span>\n    <span class=\"n\">worker</span> <span class=\"o\">=</span> <span class=\"n\">employer</span><span class=\"o\">.</span><span class=\"n\">worker</span>\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">worker</span><span class=\"o\">.</span><span class=\"n\">job_finished</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"n\">worker</span><span class=\"p\">()</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'Hello World'</span>\n</pre>\n<h2>Documentation</h2>\n<p>You can find the latest documentation at <a href=\"https://dsbowen.github.io/flask-worker\" rel=\"nofollow\">https://dsbowen.github.io/flask-worker</a>.</p>\n<h2>License</h2>\n<p>Publications which use this software should include the following citations for Flask-Worker and its dependencies, <a href=\"https://pypi.org/project/sqlalchemy-mutable/\" rel=\"nofollow\">SQLAlchemy-Mutable</a> and <a href=\"https://dsbowen.github.io/sqlalchemy-mutablesoup\" rel=\"nofollow\">SQLAlchemy-MutableSoup</a>.</p>\n<p>Bowen, D.S. (2019). Flask-Worker [Compluter software]. <a href=\"https://github.com/dsbowen/flask-worker\" rel=\"nofollow\">https://github.com/dsbowen/flask-worker</a>.</p>\n<p>Bowen, D.S. (2019). SQLAlchemy-Mutable [Computer software]. <a href=\"https://github.com/dsbowen/sqlalchemy-mutable\" rel=\"nofollow\">https://github.com/dsbowen/sqlalchemy-mutable</a>.</p>\n<p>Bowen, D.S. (2020). SQLAlchemy-MutableSoup [Computer software]. <a href=\"https://dsbowen.github.io/sqlalchemy-mutablesoup\" rel=\"nofollow\">https://dsbowen.github.io/sqlalchemy-mutablesoup</a>.</p>\n<p>This project is licensed under the MIT License <a href=\"https://github.com/dsbowen/flask-worker/blob/master/LICENSE\" rel=\"nofollow\">LICENSE</a>.</p>\n\n          </div>"}, "last_serial": 6591623, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "6751402f882816274908ec28e9199f11", "sha256": "f42bbc372cb1209cd29a9f46a19b5393554ace06d48f7ef06fe358599b42325d"}, "downloads": -1, "filename": "flask_worker-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "6751402f882816274908ec28e9199f11", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 8574, "upload_time": "2019-10-14T22:14:19", "upload_time_iso_8601": "2019-10-14T22:14:19.975331Z", "url": "https://files.pythonhosted.org/packages/77/9f/6238b9e8e7c1e904dfd173942c987a7aa86cd2f367cae92457557a7350e4/flask_worker-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "efef9de16bbed5ccbca0cdadee5d5782", "sha256": "f2666ecd89064059e53675728977660a65f75f024d451de48d6454c85b599090"}, "downloads": -1, "filename": "flask-worker-0.0.1.tar.gz", "has_sig": false, "md5_digest": "efef9de16bbed5ccbca0cdadee5d5782", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5884, "upload_time": "2019-10-14T22:14:22", "upload_time_iso_8601": "2019-10-14T22:14:22.570804Z", "url": "https://files.pythonhosted.org/packages/a5/46/e136b9ec91fd74e855e5c46627dcae7bb931fd31a3d9eebc4b5bd37df9e8/flask-worker-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "a0d85fffb716c670a85ceec91128272f", "sha256": "f8d6923df68b83052da0eac4f25dc2941917f524ef13b2d20062e7115eaae5ba"}, "downloads": -1, "filename": "flask_worker-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "a0d85fffb716c670a85ceec91128272f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10203, "upload_time": "2019-10-17T15:25:04", "upload_time_iso_8601": "2019-10-17T15:25:04.638778Z", "url": "https://files.pythonhosted.org/packages/61/3d/c6045e439ae218b38823f13ae04ee64b16eb1f6f5c76ad49a7d208503852/flask_worker-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "74807a41f1420ac2d9fd30f21788a46f", "sha256": "b9d6ba01816565049eed88dae5fda814c1489380b3be78436ba0fc0759c3421e"}, "downloads": -1, "filename": "flask-worker-0.0.2.tar.gz", "has_sig": false, "md5_digest": "74807a41f1420ac2d9fd30f21788a46f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 6054, "upload_time": "2019-10-17T15:25:09", "upload_time_iso_8601": "2019-10-17T15:25:09.002790Z", "url": "https://files.pythonhosted.org/packages/70/43/5c60c269298fab5de5eab587478b4145ac3d8381259369dd444729b1677f/flask-worker-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "4830cb810685d2c33597148a2b3ed500", "sha256": "05ee364271f1dc2eb566e13b32d6070ac8a8db2772d989845cf213f08efc3e6d"}, "downloads": -1, "filename": "flask_worker-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "4830cb810685d2c33597148a2b3ed500", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10241, "upload_time": "2019-11-05T17:44:13", "upload_time_iso_8601": "2019-11-05T17:44:13.606822Z", "url": "https://files.pythonhosted.org/packages/ea/e7/155aff857b1f459b1e6968dc5c339a8286e1e90365e9d320547b7752c034/flask_worker-0.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b6debee3cfdf9d761d2d9f40e253ae58", "sha256": "d510d597727570dbcf3f18b465f83eab1b6b0626e5f3795185ca6817d82682a7"}, "downloads": -1, "filename": "flask-worker-0.0.3.tar.gz", "has_sig": false, "md5_digest": "b6debee3cfdf9d761d2d9f40e253ae58", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 6096, "upload_time": "2019-11-05T17:44:16", "upload_time_iso_8601": "2019-11-05T17:44:16.448825Z", "url": "https://files.pythonhosted.org/packages/23/87/9d319d7e0bc3d7dd12f22740d2016d26e0dd7ee559b8c236369263ce23e7/flask-worker-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "b890b5a1bb6a816bcf53b8dbdfb6c97b", "sha256": "6dbe3931342fea0e9c4f66a16d58341100584dead688cc81195e41921f6be193"}, "downloads": -1, "filename": "flask_worker-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "b890b5a1bb6a816bcf53b8dbdfb6c97b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10296, "upload_time": "2020-01-18T17:28:23", "upload_time_iso_8601": "2020-01-18T17:28:23.229384Z", "url": "https://files.pythonhosted.org/packages/58/ac/cc1742ae015645690773d2b6bba4508f31de38b7737d866d9c846c2ea961/flask_worker-0.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6cbe6b405136e0f350698097d9799569", "sha256": "df634cdb8cbeca5dfc2c04ba2b8ea417f855da166e369eabb5a126ad3947c9e9"}, "downloads": -1, "filename": "flask-worker-0.0.4.tar.gz", "has_sig": false, "md5_digest": "6cbe6b405136e0f350698097d9799569", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 6193, "upload_time": "2020-01-18T17:28:24", "upload_time_iso_8601": "2020-01-18T17:28:24.800521Z", "url": "https://files.pythonhosted.org/packages/a9/14/2ee59af32ea04e6cb5b3f22c9d0769409e2224b255849a140837322c5d05/flask-worker-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "a6e1ebf2d40ea62938a6f740be2caf41", "sha256": "9f3db8dfd00f44c9498383f55a205c1dd3cd42a54b9d7b33595c0a61175f0fd6"}, "downloads": -1, "filename": "flask_worker-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "a6e1ebf2d40ea62938a6f740be2caf41", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10039, "upload_time": "2020-01-22T16:39:29", "upload_time_iso_8601": "2020-01-22T16:39:29.392372Z", "url": "https://files.pythonhosted.org/packages/c4/c5/c768082072117f40da483544a28f9395d35177c71aba514a63d87e01f68c/flask_worker-0.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c8c0008321a8fb54f2edd545096e1639", "sha256": "5b49834d665b6a46667778356278f39fea568778c6455b6e4431094b1d01e361"}, "downloads": -1, "filename": "flask-worker-0.0.5.tar.gz", "has_sig": false, "md5_digest": "c8c0008321a8fb54f2edd545096e1639", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5909, "upload_time": "2020-01-22T16:39:30", "upload_time_iso_8601": "2020-01-22T16:39:30.595305Z", "url": "https://files.pythonhosted.org/packages/ab/cd/0e0eebc373df85e2b43110aee3bc344a731a90abd76f8422eb2ca9589d69/flask-worker-0.0.5.tar.gz", "yanked": false}], "0.0.6": [{"comment_text": "", "digests": {"md5": "4797cead0b9a6f36a43f064060a8dbbe", "sha256": "4371721f91ce6f0c8431c93206afbabbf89e02048c0c7a555d5b79ec515f4a41"}, "downloads": -1, "filename": "flask_worker-0.0.6-py3-none-any.whl", "has_sig": false, "md5_digest": "4797cead0b9a6f36a43f064060a8dbbe", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10081, "upload_time": "2020-01-22T17:08:44", "upload_time_iso_8601": "2020-01-22T17:08:44.851350Z", "url": "https://files.pythonhosted.org/packages/df/73/e04dedc586ef4cb827bf4aeaef55700023bed4ae9b2039c70f7fa85400e3/flask_worker-0.0.6-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "86c79d516013ff82a8c8849e5a4500e3", "sha256": "c2f1f5496564eff4056130e6c547f6abd8fbfd18313d6459601c659ab8ba6e60"}, "downloads": -1, "filename": "flask-worker-0.0.6.tar.gz", "has_sig": false, "md5_digest": "86c79d516013ff82a8c8849e5a4500e3", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5955, "upload_time": "2020-01-22T17:08:46", "upload_time_iso_8601": "2020-01-22T17:08:46.321089Z", "url": "https://files.pythonhosted.org/packages/08/10/3dce9eac818c3432cbda3e1daafeecdae2db516a51498ecc314ffe090a55/flask-worker-0.0.6.tar.gz", "yanked": false}], "0.0.7": [{"comment_text": "", "digests": {"md5": "33441fa29cb8a2c549f9760ecaa665d0", "sha256": "faf59236edf9c8f9f98b40495a52a58b7fcfc62354689327a024621aca931898"}, "downloads": -1, "filename": "flask_worker-0.0.7-py3-none-any.whl", "has_sig": false, "md5_digest": "33441fa29cb8a2c549f9760ecaa665d0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10083, "upload_time": "2020-02-07T23:18:07", "upload_time_iso_8601": "2020-02-07T23:18:07.200647Z", "url": "https://files.pythonhosted.org/packages/fa/c0/3ee3623b8d678ab7f1d0ae65d2d75bdefcb3e6bb66c515f134be9bf9a4ea/flask_worker-0.0.7-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "33441fa29cb8a2c549f9760ecaa665d0", "sha256": "faf59236edf9c8f9f98b40495a52a58b7fcfc62354689327a024621aca931898"}, "downloads": -1, "filename": "flask_worker-0.0.7-py3-none-any.whl", "has_sig": false, "md5_digest": "33441fa29cb8a2c549f9760ecaa665d0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10083, "upload_time": "2020-02-07T23:18:07", "upload_time_iso_8601": "2020-02-07T23:18:07.200647Z", "url": "https://files.pythonhosted.org/packages/fa/c0/3ee3623b8d678ab7f1d0ae65d2d75bdefcb3e6bb66c515f134be9bf9a4ea/flask_worker-0.0.7-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 01:02:07 2020"}
{"info": {"author": "Ding Ruiqi", "author_email": "416640656@qq.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "\n\n# audioSpectrum\n\n[7_rings.wav](https://github.com/tesla-cat/audioSpectrum/blob/master/0-examples/audioSpectrum_demo-1/7_rings.wav?raw=true)\n\n[GitHub](https://github.com/tesla-cat/audioSpectrum)\n\n[PyPI](https://pypi.org/project/audioSpectrum/)\n\n## Not my bug\n\n*   Somehow in Google Colab, you need to `run all` many times before you can load the entire sequence, this should be a bug from the dependency: `soundfile`  \n\n## Install\n\n\n```python\n!pip install audioSpectrum\n```\n\n## Plot the spectrum\n\n\n```python\nimport audioSpectrum as aus\nconfig={\n    'fft':{'size':2000},\n    'smoothen':{'aCut':0.01,'binary':False},\n    'select':{'freqMax':3000,'timeRange':[0,500]},\n}\nplotConfig={'size':3,'dpi':150,'cmap':'Blues'}\n\nfname = '7_rings.wav'\ndata, sampleRate = aus.read(fname)\nfreq,time,fftAmp = aus.spectrum(config,data,sampleRate)\naus.plot(plotConfig,freq,time,fftAmp)\n```\n\n    spectrum: data reshaped from (9086976, 2) to (2, 4543, 2000)\n    plot: starting\n\n\n\n![png](output_3_1.png)\n\n\n## Reduce frequencies, keep N largest\n\n\n```python\nfreq,time,fftAmp = aus.reduceFreqs(freq,time,fftAmp,keep=1,plot=True)\n```\n\n    reduceFreqs: old shapes of freq,fftAmp  [(136,), (2, 4542, 136)]\n    reduceFreqs: enforce freq[fftAmp==0] = 0\n    reduceFreqs: new shapes of freq,fftAmp  [(2, 4542, 1), (2, 4542, 1)]\n\n\n\n![png](output_5_1.png)\n\n\n## Convert to MIDI and save as file\n\n\n```python\n# freq,time,fftAmp must be from aus.reduceFreqs()\nnotes = aus.toMidi(freq,time,fftAmp,fname,minDuration=0.1)\naus.plotNotes(notes)\n```\n\n    toMidi: fftAmp normalized to 126\n\n\n\n![png](output_7_1.png)\n\n\nOutput: [7_rings.wav.mid](https://github.com/tesla-cat/audioSpectrum/blob/master/0-examples/audioSpectrum_demo-1/7_rings.wav.mid?raw=true)\n\n### plotNotes from another App\n\n![jpg](image.jpg)\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/tesla-cat/audioSpectrum", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "audioSpectrum", "package_url": "https://pypi.org/project/audioSpectrum/", "platform": "", "project_url": "https://pypi.org/project/audioSpectrum/", "project_urls": {"Homepage": "https://github.com/tesla-cat/audioSpectrum"}, "release_url": "https://pypi.org/project/audioSpectrum/1.0.5/", "requires_dist": ["soundfile", "midiutil"], "requires_python": ">=3.6", "summary": "A package for audio spectrum", "version": "1.0.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>audioSpectrum</h1>\n<p><a href=\"https://github.com/tesla-cat/audioSpectrum/blob/master/0-examples/audioSpectrum_demo-1/7_rings.wav?raw=true\" rel=\"nofollow\">7_rings.wav</a></p>\n<p><a href=\"https://github.com/tesla-cat/audioSpectrum\" rel=\"nofollow\">GitHub</a></p>\n<p><a href=\"https://pypi.org/project/audioSpectrum/\" rel=\"nofollow\">PyPI</a></p>\n<h2>Not my bug</h2>\n<ul>\n<li>Somehow in Google Colab, you need to <code>run all</code> many times before you can load the entire sequence, this should be a bug from the dependency: <code>soundfile</code></li>\n</ul>\n<h2>Install</h2>\n<pre><span class=\"err\">!</span><span class=\"n\">pip</span> <span class=\"n\">install</span> <span class=\"n\">audioSpectrum</span>\n</pre>\n<h2>Plot the spectrum</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">audioSpectrum</span> <span class=\"k\">as</span> <span class=\"nn\">aus</span>\n<span class=\"n\">config</span><span class=\"o\">=</span><span class=\"p\">{</span>\n    <span class=\"s1\">'fft'</span><span class=\"p\">:{</span><span class=\"s1\">'size'</span><span class=\"p\">:</span><span class=\"mi\">2000</span><span class=\"p\">},</span>\n    <span class=\"s1\">'smoothen'</span><span class=\"p\">:{</span><span class=\"s1\">'aCut'</span><span class=\"p\">:</span><span class=\"mf\">0.01</span><span class=\"p\">,</span><span class=\"s1\">'binary'</span><span class=\"p\">:</span><span class=\"kc\">False</span><span class=\"p\">},</span>\n    <span class=\"s1\">'select'</span><span class=\"p\">:{</span><span class=\"s1\">'freqMax'</span><span class=\"p\">:</span><span class=\"mi\">3000</span><span class=\"p\">,</span><span class=\"s1\">'timeRange'</span><span class=\"p\">:[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">500</span><span class=\"p\">]},</span>\n<span class=\"p\">}</span>\n<span class=\"n\">plotConfig</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'size'</span><span class=\"p\">:</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"s1\">'dpi'</span><span class=\"p\">:</span><span class=\"mi\">150</span><span class=\"p\">,</span><span class=\"s1\">'cmap'</span><span class=\"p\">:</span><span class=\"s1\">'Blues'</span><span class=\"p\">}</span>\n\n<span class=\"n\">fname</span> <span class=\"o\">=</span> <span class=\"s1\">'7_rings.wav'</span>\n<span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">sampleRate</span> <span class=\"o\">=</span> <span class=\"n\">aus</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"n\">fname</span><span class=\"p\">)</span>\n<span class=\"n\">freq</span><span class=\"p\">,</span><span class=\"n\">time</span><span class=\"p\">,</span><span class=\"n\">fftAmp</span> <span class=\"o\">=</span> <span class=\"n\">aus</span><span class=\"o\">.</span><span class=\"n\">spectrum</span><span class=\"p\">(</span><span class=\"n\">config</span><span class=\"p\">,</span><span class=\"n\">data</span><span class=\"p\">,</span><span class=\"n\">sampleRate</span><span class=\"p\">)</span>\n<span class=\"n\">aus</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">plotConfig</span><span class=\"p\">,</span><span class=\"n\">freq</span><span class=\"p\">,</span><span class=\"n\">time</span><span class=\"p\">,</span><span class=\"n\">fftAmp</span><span class=\"p\">)</span>\n</pre>\n<pre><code>spectrum: data reshaped from (9086976, 2) to (2, 4543, 2000)\nplot: starting\n</code></pre>\n<p><img alt=\"png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a65e592b0d8e48f051ab8e48e7d6e89704d46ee7/6f75747075745f335f312e706e67\"></p>\n<h2>Reduce frequencies, keep N largest</h2>\n<pre><span class=\"n\">freq</span><span class=\"p\">,</span><span class=\"n\">time</span><span class=\"p\">,</span><span class=\"n\">fftAmp</span> <span class=\"o\">=</span> <span class=\"n\">aus</span><span class=\"o\">.</span><span class=\"n\">reduceFreqs</span><span class=\"p\">(</span><span class=\"n\">freq</span><span class=\"p\">,</span><span class=\"n\">time</span><span class=\"p\">,</span><span class=\"n\">fftAmp</span><span class=\"p\">,</span><span class=\"n\">keep</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"n\">plot</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n<pre><code>reduceFreqs: old shapes of freq,fftAmp  [(136,), (2, 4542, 136)]\nreduceFreqs: enforce freq[fftAmp==0] = 0\nreduceFreqs: new shapes of freq,fftAmp  [(2, 4542, 1), (2, 4542, 1)]\n</code></pre>\n<p><img alt=\"png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ec002af3de15ee27314e0afd1884ad364bf9f514/6f75747075745f355f312e706e67\"></p>\n<h2>Convert to MIDI and save as file</h2>\n<pre><span class=\"c1\"># freq,time,fftAmp must be from aus.reduceFreqs()</span>\n<span class=\"n\">notes</span> <span class=\"o\">=</span> <span class=\"n\">aus</span><span class=\"o\">.</span><span class=\"n\">toMidi</span><span class=\"p\">(</span><span class=\"n\">freq</span><span class=\"p\">,</span><span class=\"n\">time</span><span class=\"p\">,</span><span class=\"n\">fftAmp</span><span class=\"p\">,</span><span class=\"n\">fname</span><span class=\"p\">,</span><span class=\"n\">minDuration</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">)</span>\n<span class=\"n\">aus</span><span class=\"o\">.</span><span class=\"n\">plotNotes</span><span class=\"p\">(</span><span class=\"n\">notes</span><span class=\"p\">)</span>\n</pre>\n<pre><code>toMidi: fftAmp normalized to 126\n</code></pre>\n<p><img alt=\"png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/61f862f0004afaec487cb53d5dc00354a7472922/6f75747075745f375f312e706e67\"></p>\n<p>Output: <a href=\"https://github.com/tesla-cat/audioSpectrum/blob/master/0-examples/audioSpectrum_demo-1/7_rings.wav.mid?raw=true\" rel=\"nofollow\">7_rings.wav.mid</a></p>\n<h3>plotNotes from another App</h3>\n<p><img alt=\"jpg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e940fcbf7c4ea329220f51a7a513f0c2b2667aad/696d6167652e6a7067\"></p>\n\n          </div>"}, "last_serial": 7007438, "releases": {"1.0.5": [{"comment_text": "", "digests": {"md5": "dccf7d566163c5a96ffa1f11f4a8ee8d", "sha256": "a676f1b731d4140ba47150dd6e3e7ef934f2c6ee26cc0740ee1ae23046724e77"}, "downloads": -1, "filename": "audioSpectrum-1.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "dccf7d566163c5a96ffa1f11f4a8ee8d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 4770, "upload_time": "2020-04-13T03:01:52", "upload_time_iso_8601": "2020-04-13T03:01:52.504784Z", "url": "https://files.pythonhosted.org/packages/a9/ae/5f2f64f3acd432abefb952811391542a3ea57301c85955854febbe5dbd3e/audioSpectrum-1.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "27227a498e1a62e17440d37fb0c087be", "sha256": "a9b3fe8432a54953a1946eff047f81a20c29fe1f9e259934b4052ce6f2708e9a"}, "downloads": -1, "filename": "audioSpectrum-1.0.5.tar.gz", "has_sig": false, "md5_digest": "27227a498e1a62e17440d37fb0c087be", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 3726, "upload_time": "2020-04-13T03:01:53", "upload_time_iso_8601": "2020-04-13T03:01:53.744632Z", "url": "https://files.pythonhosted.org/packages/1c/b8/dff84b8e101b84d64c0e960d088e753ee06b726660d834f44e5b2cd2135e/audioSpectrum-1.0.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "dccf7d566163c5a96ffa1f11f4a8ee8d", "sha256": "a676f1b731d4140ba47150dd6e3e7ef934f2c6ee26cc0740ee1ae23046724e77"}, "downloads": -1, "filename": "audioSpectrum-1.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "dccf7d566163c5a96ffa1f11f4a8ee8d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 4770, "upload_time": "2020-04-13T03:01:52", "upload_time_iso_8601": "2020-04-13T03:01:52.504784Z", "url": "https://files.pythonhosted.org/packages/a9/ae/5f2f64f3acd432abefb952811391542a3ea57301c85955854febbe5dbd3e/audioSpectrum-1.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "27227a498e1a62e17440d37fb0c087be", "sha256": "a9b3fe8432a54953a1946eff047f81a20c29fe1f9e259934b4052ce6f2708e9a"}, "downloads": -1, "filename": "audioSpectrum-1.0.5.tar.gz", "has_sig": false, "md5_digest": "27227a498e1a62e17440d37fb0c087be", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 3726, "upload_time": "2020-04-13T03:01:53", "upload_time_iso_8601": "2020-04-13T03:01:53.744632Z", "url": "https://files.pythonhosted.org/packages/1c/b8/dff84b8e101b84d64c0e960d088e753ee06b726660d834f44e5b2cd2135e/audioSpectrum-1.0.5.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:16:27 2020"}
{"info": {"author": "Keombre", "author_email": "keombre8@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# Python EET API\nSimple to use and mostly secure (mainly pedantic) API for Czech EET Gate.\n\n![PyPI - License](https://img.shields.io/pypi/l/czech-eet)\n![PyPI](https://img.shields.io/pypi/v/czech-eet)\n[![Downloads](https://pepy.tech/badge/czech-eet)](https://pepy.tech/project/czech-eet)\n\n## Installation\n```\npip install czech-eet\n```\n\n## Usage\n\n### Basic usage with single request\n```python\nfrom eet import invoices, helpers\n\ncert_text = b'''\n-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----\n'''\n\nkey_text = b'''\n-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----\n'''\n\n# prepare certificate and private key\ncert = helpers.parse_cert(cert_text)\npk   = helpers.parse_key(key_text)\n\n# create config\nconfig = invoices.Config(cert, pk, 141, \"1patro-vpravo\")\n\n# create factory using config\nfactory = invoices.Factory(config)\n\n# build new invoice & send\ninvoice = factory.new(\"141-18543-05\", 236.00, zakl_dan1=100.0, dan1=21.0)\nresponse = invoice.send()\n# note: if resending, you should set `eet.invoice.Hlavicka[\"prvni_zaslani\"] = eet.types.boolean(False)`\n#       or use scheduler ;-)\n\n# now validate response and get fik\ncodes = response.codes()\nif response:\n    print(\"BKP: {0}\\nFIK: {1}\".format(codes.bkp, codes.fik))\nelse:\n    print(\"BKP: {0}\\nPKP: {1}\".format(codes.bkp, codes.pkp))\n    print(\"Errors:\", response.Chyba, response.Varovani)\n\n```\n\n### Example of scheduler\n```python\nfrom eet import invoices, helpers, remote\n\n... # prepare invoice as before\n\n# create instance of scheduler\nscheduler = remote.Scheduler()\n\n# same as before but now you can resend invoices\nresponse = scheduler.process(invoice)\n\n# call dispatch is reasonable time interval from your mainloop\n\nimport time\nwhile True:\n    scheduler.dispatch()\n\n    time.sleep(60)\n\n```\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/keombre/python-eet", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "czech-eet", "package_url": "https://pypi.org/project/czech-eet/", "platform": "", "project_url": "https://pypi.org/project/czech-eet/", "project_urls": {"Homepage": "https://github.com/keombre/python-eet"}, "release_url": "https://pypi.org/project/czech-eet/1.0.4/", "requires_dist": ["cryptography", "lxml"], "requires_python": ">=3.6", "summary": "API for EET", "version": "1.0.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Python EET API</h1>\n<p>Simple to use and mostly secure (mainly pedantic) API for Czech EET Gate.</p>\n<p><img alt=\"PyPI - License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ba0a52b54b6528b204783253b5ecc284b2ab4070/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f637a6563682d656574\">\n<img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c8a331a6662ff433585e703ff6dd69cfeedbbde2/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f637a6563682d656574\">\n<a href=\"https://pepy.tech/project/czech-eet\" rel=\"nofollow\"><img alt=\"Downloads\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/696d0b831f8170a02368be4da6bdec8e843fdcf4/68747470733a2f2f706570792e746563682f62616467652f637a6563682d656574\"></a></p>\n<h2>Installation</h2>\n<pre><code>pip install czech-eet\n</code></pre>\n<h2>Usage</h2>\n<h3>Basic usage with single request</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">eet</span> <span class=\"kn\">import</span> <span class=\"n\">invoices</span><span class=\"p\">,</span> <span class=\"n\">helpers</span>\n\n<span class=\"n\">cert_text</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s1\">'''</span>\n<span class=\"s1\">-----BEGIN CERTIFICATE-----</span>\n<span class=\"s1\">...</span>\n<span class=\"s1\">-----END CERTIFICATE-----</span>\n<span class=\"s1\">'''</span>\n\n<span class=\"n\">key_text</span> <span class=\"o\">=</span> <span class=\"sa\">b</span><span class=\"s1\">'''</span>\n<span class=\"s1\">-----BEGIN RSA PRIVATE KEY-----</span>\n<span class=\"s1\">...</span>\n<span class=\"s1\">-----END RSA PRIVATE KEY-----</span>\n<span class=\"s1\">'''</span>\n\n<span class=\"c1\"># prepare certificate and private key</span>\n<span class=\"n\">cert</span> <span class=\"o\">=</span> <span class=\"n\">helpers</span><span class=\"o\">.</span><span class=\"n\">parse_cert</span><span class=\"p\">(</span><span class=\"n\">cert_text</span><span class=\"p\">)</span>\n<span class=\"n\">pk</span>   <span class=\"o\">=</span> <span class=\"n\">helpers</span><span class=\"o\">.</span><span class=\"n\">parse_key</span><span class=\"p\">(</span><span class=\"n\">key_text</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># create config</span>\n<span class=\"n\">config</span> <span class=\"o\">=</span> <span class=\"n\">invoices</span><span class=\"o\">.</span><span class=\"n\">Config</span><span class=\"p\">(</span><span class=\"n\">cert</span><span class=\"p\">,</span> <span class=\"n\">pk</span><span class=\"p\">,</span> <span class=\"mi\">141</span><span class=\"p\">,</span> <span class=\"s2\">\"1patro-vpravo\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># create factory using config</span>\n<span class=\"n\">factory</span> <span class=\"o\">=</span> <span class=\"n\">invoices</span><span class=\"o\">.</span><span class=\"n\">Factory</span><span class=\"p\">(</span><span class=\"n\">config</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># build new invoice &amp; send</span>\n<span class=\"n\">invoice</span> <span class=\"o\">=</span> <span class=\"n\">factory</span><span class=\"o\">.</span><span class=\"n\">new</span><span class=\"p\">(</span><span class=\"s2\">\"141-18543-05\"</span><span class=\"p\">,</span> <span class=\"mf\">236.00</span><span class=\"p\">,</span> <span class=\"n\">zakl_dan1</span><span class=\"o\">=</span><span class=\"mf\">100.0</span><span class=\"p\">,</span> <span class=\"n\">dan1</span><span class=\"o\">=</span><span class=\"mf\">21.0</span><span class=\"p\">)</span>\n<span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">invoice</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">()</span>\n<span class=\"c1\"># note: if resending, you should set `eet.invoice.Hlavicka[\"prvni_zaslani\"] = eet.types.boolean(False)`</span>\n<span class=\"c1\">#       or use scheduler ;-)</span>\n\n<span class=\"c1\"># now validate response and get fik</span>\n<span class=\"n\">codes</span> <span class=\"o\">=</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">codes</span><span class=\"p\">()</span>\n<span class=\"k\">if</span> <span class=\"n\">response</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"BKP: </span><span class=\"si\">{0}</span><span class=\"se\">\\n</span><span class=\"s2\">FIK: </span><span class=\"si\">{1}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">codes</span><span class=\"o\">.</span><span class=\"n\">bkp</span><span class=\"p\">,</span> <span class=\"n\">codes</span><span class=\"o\">.</span><span class=\"n\">fik</span><span class=\"p\">))</span>\n<span class=\"k\">else</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"BKP: </span><span class=\"si\">{0}</span><span class=\"se\">\\n</span><span class=\"s2\">PKP: </span><span class=\"si\">{1}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">codes</span><span class=\"o\">.</span><span class=\"n\">bkp</span><span class=\"p\">,</span> <span class=\"n\">codes</span><span class=\"o\">.</span><span class=\"n\">pkp</span><span class=\"p\">))</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Errors:\"</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">Chyba</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">Varovani</span><span class=\"p\">)</span>\n</pre>\n<h3>Example of scheduler</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">eet</span> <span class=\"kn\">import</span> <span class=\"n\">invoices</span><span class=\"p\">,</span> <span class=\"n\">helpers</span><span class=\"p\">,</span> <span class=\"n\">remote</span>\n\n<span class=\"o\">...</span> <span class=\"c1\"># prepare invoice as before</span>\n\n<span class=\"c1\"># create instance of scheduler</span>\n<span class=\"n\">scheduler</span> <span class=\"o\">=</span> <span class=\"n\">remote</span><span class=\"o\">.</span><span class=\"n\">Scheduler</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># same as before but now you can resend invoices</span>\n<span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">scheduler</span><span class=\"o\">.</span><span class=\"n\">process</span><span class=\"p\">(</span><span class=\"n\">invoice</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># call dispatch is reasonable time interval from your mainloop</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">time</span>\n<span class=\"k\">while</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n    <span class=\"n\">scheduler</span><span class=\"o\">.</span><span class=\"n\">dispatch</span><span class=\"p\">()</span>\n\n    <span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mi\">60</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 6843713, "releases": {"1.0.1": [{"comment_text": "", "digests": {"md5": "98c36b17d2976de920efea95b9c62e6d", "sha256": "2fad0b87403b341c6228c399361624cb720303af2a086645692612dec821b686"}, "downloads": -1, "filename": "czech_eet-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "98c36b17d2976de920efea95b9c62e6d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10271, "upload_time": "2020-02-03T01:47:17", "upload_time_iso_8601": "2020-02-03T01:47:17.910375Z", "url": "https://files.pythonhosted.org/packages/e6/15/2bb2afa65f8ee25318536943b1c4582f52d43d6ddfe80043eea5f1434196/czech_eet-1.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9389d58df4b190c90ea3aa33efb70a03", "sha256": "78551f45a6b1b17dfb643be98546b92ba3ce5680abf20098b7f7de8a1bb9ee7c"}, "downloads": -1, "filename": "czech-eet-1.0.1.tar.gz", "has_sig": false, "md5_digest": "9389d58df4b190c90ea3aa33efb70a03", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 7467, "upload_time": "2020-02-03T01:47:20", "upload_time_iso_8601": "2020-02-03T01:47:20.384469Z", "url": "https://files.pythonhosted.org/packages/31/f6/18c06cff205b361969eb66ce3290517421458e338f732a0398d68eff7ee0/czech-eet-1.0.1.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "467e447228fa1e2b496f91677aacdc57", "sha256": "1a58e208416c5963601ea614fb04f90cb253e5598033d38dcac2c7aa309d1023"}, "downloads": -1, "filename": "czech_eet-1.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "467e447228fa1e2b496f91677aacdc57", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10391, "upload_time": "2020-03-05T18:50:55", "upload_time_iso_8601": "2020-03-05T18:50:55.222034Z", "url": "https://files.pythonhosted.org/packages/36/4c/0cd64306cc73c7eb45dd527abb8d12a08418f7898d547c1999e825a0e79e/czech_eet-1.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "38fd0e92e53778b2c32fec9ea38e1352", "sha256": "4fd8824343d51c42a9dfe72c59d47452831bd7b74e1e8ea329dd0c0b381c8682"}, "downloads": -1, "filename": "czech-eet-1.0.2.tar.gz", "has_sig": false, "md5_digest": "38fd0e92e53778b2c32fec9ea38e1352", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 7567, "upload_time": "2020-03-05T18:50:56", "upload_time_iso_8601": "2020-03-05T18:50:56.498778Z", "url": "https://files.pythonhosted.org/packages/83/5a/a27b27a521facd4b28ce7a375d1e6445e631f5d8b1e2a6df07e749bbdbc9/czech-eet-1.0.2.tar.gz", "yanked": false}], "1.0.3": [{"comment_text": "", "digests": {"md5": "8ab7b77e68f515808fb8ecc622b7738c", "sha256": "ef2aff0606ae730f0fa3664e7172d6d71ae9251ea7ee4b7c80a12170c9186615"}, "downloads": -1, "filename": "czech_eet-1.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "8ab7b77e68f515808fb8ecc622b7738c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11088, "upload_time": "2020-03-14T16:01:44", "upload_time_iso_8601": "2020-03-14T16:01:44.152320Z", "url": "https://files.pythonhosted.org/packages/a1/21/975619944300beb4919909ac4b92ddbd0714a1ddac17d4a71fc865b74d6f/czech_eet-1.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "72b30d872accb5fdc715cdab45d94013", "sha256": "5ebd39af23d4ace955292c9f027d221cd95fe04477a9b5fc12d8e899a565fff0"}, "downloads": -1, "filename": "czech-eet-1.0.3.tar.gz", "has_sig": false, "md5_digest": "72b30d872accb5fdc715cdab45d94013", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 8012, "upload_time": "2020-03-14T16:01:45", "upload_time_iso_8601": "2020-03-14T16:01:45.586581Z", "url": "https://files.pythonhosted.org/packages/dc/38/448e020c76a5a8bd356149b27ca1c62daf423a87469a8850228ccb1a487f/czech-eet-1.0.3.tar.gz", "yanked": false}], "1.0.4": [{"comment_text": "", "digests": {"md5": "8d4b2e8e60a54d023fd2b023efeb4b6d", "sha256": "8c9743c0733a8ce74327aba8b94f11a936b351847a84171de6ddfea615b3dc2e"}, "downloads": -1, "filename": "czech_eet-1.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "8d4b2e8e60a54d023fd2b023efeb4b6d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11064, "upload_time": "2020-03-19T15:00:17", "upload_time_iso_8601": "2020-03-19T15:00:17.502726Z", "url": "https://files.pythonhosted.org/packages/80/95/5c924842f78f89a73523b804deb0d9f6c767029dc29a0643b5e80e8b3305/czech_eet-1.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "071537311b1ef5d57f7895cb468de675", "sha256": "b9e5d24f5eaa446cc612425445cc8113055452b61e3107b33618f739783f2418"}, "downloads": -1, "filename": "czech-eet-1.0.4.tar.gz", "has_sig": false, "md5_digest": "071537311b1ef5d57f7895cb468de675", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 7985, "upload_time": "2020-03-19T15:00:18", "upload_time_iso_8601": "2020-03-19T15:00:18.708275Z", "url": "https://files.pythonhosted.org/packages/b5/0e/a17749da59f93253a9b63758cf7b7f033aa720de4ef62eda1d5efe3af669/czech-eet-1.0.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "8d4b2e8e60a54d023fd2b023efeb4b6d", "sha256": "8c9743c0733a8ce74327aba8b94f11a936b351847a84171de6ddfea615b3dc2e"}, "downloads": -1, "filename": "czech_eet-1.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "8d4b2e8e60a54d023fd2b023efeb4b6d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 11064, "upload_time": "2020-03-19T15:00:17", "upload_time_iso_8601": "2020-03-19T15:00:17.502726Z", "url": "https://files.pythonhosted.org/packages/80/95/5c924842f78f89a73523b804deb0d9f6c767029dc29a0643b5e80e8b3305/czech_eet-1.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "071537311b1ef5d57f7895cb468de675", "sha256": "b9e5d24f5eaa446cc612425445cc8113055452b61e3107b33618f739783f2418"}, "downloads": -1, "filename": "czech-eet-1.0.4.tar.gz", "has_sig": false, "md5_digest": "071537311b1ef5d57f7895cb468de675", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 7985, "upload_time": "2020-03-19T15:00:18", "upload_time_iso_8601": "2020-03-19T15:00:18.708275Z", "url": "https://files.pythonhosted.org/packages/b5/0e/a17749da59f93253a9b63758cf7b7f033aa720de4ef62eda1d5efe3af669/czech-eet-1.0.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:41:00 2020"}
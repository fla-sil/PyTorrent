{"info": {"author": "Hai Liang Wang", "author_email": "hain@chatopera.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Natural Language :: Chinese (Simplified)", "Natural Language :: Chinese (Traditional)", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Topic :: Utilities"], "description": "# Compose4py\n\nOnion Model in Python.\nPyton \u6d0b\u8471\u6a21\u578b\n\n```\npip install compose4py\n```\n\n## Installation\n\n## Usage\n\nImport `compose4py`:\n\n```\nfrom compose4py import Compose\n```\n\nAll the usual function composition you know and love:\n\n```\n    def mw_1(ctx, loader_context):\n        print(\"mw_1: %s\" % ctx)\n        print(\"mw_1 loader_context: %s\" % loader_context)\n        ctx += \":mw1\"\n        # call the next middleware and waiting the new ctx\n        ctx = yield ctx\n        # use the latest ctx and process more logic\n        ctx += \":post_mw1\"\n        return ctx\n\n    def mw_2(ctx):\n        print(\"mw_2: %s\" % ctx)\n        ctx += \":mw2\"\n        ctx = yield ctx\n        ctx += \":post_mw2\"\n        return ctx\n\n    def mw_3(ctx):\n        print(\"mw_3: %s\" % ctx)\n        ctx += \":mw3\"\n        return ctx\n\n    compose = Compose(mw_1, mw_2, mw_3, loader_context = {\"foo\": \"bar\"})\n    result = compose(\"foo\")\n    print(\"final: %s\" % result)\n    # final: foo:mw1:mw2:mw3:post_mw2:post_mw1\n```\n\n## Give credits to\n\n[scrapy](https://github.com/scrapy/scrapy)\n\n## \u5f00\u6e90\u8bb8\u53ef\u534f\u8bae\n\nCopyright (2018-2020) <a href=\"https://www.chatopera.com/\" target=\"_blank\">\u5317\u4eac\u534e\u590f\u6625\u677e\u79d1\u6280\u6709\u9650\u516c\u53f8</a>\n\n[Apache License Version 2.0](https://github.com/chatopera/cosin/blob/master/LICENSE)\n\n[![chatoper banner][co-banner-image]][co-url]\n\n[co-banner-image]: https://user-images.githubusercontent.com/3538629/42383104-da925942-8168-11e8-8195-868d5fcec170.png\n[co-url]: https://www.chatopera.com\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/chatopera/compose4py", "keywords": "onion,compose,chain", "license": "Apache Software License", "maintainer": "", "maintainer_email": "", "name": "compose4py", "package_url": "https://pypi.org/project/compose4py/", "platform": "", "project_url": "https://pypi.org/project/compose4py/", "project_urls": {"Homepage": "https://github.com/chatopera/compose4py"}, "release_url": "https://pypi.org/project/compose4py/1.3.3/", "requires_dist": null, "requires_python": "", "summary": "Onion Model in Python", "version": "1.3.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Compose4py</h1>\n<p>Onion Model in Python.\nPyton \u6d0b\u8471\u6a21\u578b</p>\n<pre><code>pip install compose4py\n</code></pre>\n<h2>Installation</h2>\n<h2>Usage</h2>\n<p>Import <code>compose4py</code>:</p>\n<pre><code>from compose4py import Compose\n</code></pre>\n<p>All the usual function composition you know and love:</p>\n<pre><code>    def mw_1(ctx, loader_context):\n        print(\"mw_1: %s\" % ctx)\n        print(\"mw_1 loader_context: %s\" % loader_context)\n        ctx += \":mw1\"\n        # call the next middleware and waiting the new ctx\n        ctx = yield ctx\n        # use the latest ctx and process more logic\n        ctx += \":post_mw1\"\n        return ctx\n\n    def mw_2(ctx):\n        print(\"mw_2: %s\" % ctx)\n        ctx += \":mw2\"\n        ctx = yield ctx\n        ctx += \":post_mw2\"\n        return ctx\n\n    def mw_3(ctx):\n        print(\"mw_3: %s\" % ctx)\n        ctx += \":mw3\"\n        return ctx\n\n    compose = Compose(mw_1, mw_2, mw_3, loader_context = {\"foo\": \"bar\"})\n    result = compose(\"foo\")\n    print(\"final: %s\" % result)\n    # final: foo:mw1:mw2:mw3:post_mw2:post_mw1\n</code></pre>\n<h2>Give credits to</h2>\n<p><a href=\"https://github.com/scrapy/scrapy\" rel=\"nofollow\">scrapy</a></p>\n<h2>\u5f00\u6e90\u8bb8\u53ef\u534f\u8bae</h2>\n<p>Copyright (2018-2020) <a href=\"https://www.chatopera.com/\" rel=\"nofollow\">\u5317\u4eac\u534e\u590f\u6625\u677e\u79d1\u6280\u6709\u9650\u516c\u53f8</a></p>\n<p><a href=\"https://github.com/chatopera/cosin/blob/master/LICENSE\" rel=\"nofollow\">Apache License Version 2.0</a></p>\n<p><a href=\"https://www.chatopera.com\" rel=\"nofollow\"><img alt=\"chatoper banner\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e398a358a35ad2c4fd3719bfba36f5ca71cf5ea4/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f333533383632392f34323338333130342d64613932353934322d383136382d313165382d383139352d3836386435666365633137302e706e67\"></a></p>\n\n          </div>"}, "last_serial": 6902288, "releases": {"1.1.1": [{"comment_text": "", "digests": {"md5": "952d413cefc3f74616b61b80371bd797", "sha256": "a9abb6aeef4adb121c1e916486e2fe29a2cfeb446e6eff3eee74e244cb57a8ef"}, "downloads": -1, "filename": "compose4py-1.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "952d413cefc3f74616b61b80371bd797", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7070, "upload_time": "2020-03-21T04:22:45", "upload_time_iso_8601": "2020-03-21T04:22:45.366575Z", "url": "https://files.pythonhosted.org/packages/37/c2/c893861acbec42755d29bbcee479135f93640a5be0a19bc04f0769dd9232/compose4py-1.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ed4eedcc004ba9d7e54412478964d137", "sha256": "7d2fa308f0b9558e3de2c3af576771d291041ad655db32cfc502c3659dbc78ed"}, "downloads": -1, "filename": "compose4py-1.1.1.tar.gz", "has_sig": false, "md5_digest": "ed4eedcc004ba9d7e54412478964d137", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5393, "upload_time": "2020-03-21T04:22:48", "upload_time_iso_8601": "2020-03-21T04:22:48.111028Z", "url": "https://files.pythonhosted.org/packages/02/69/36911c3041cbaa2dd0dad5efa06825b6d9fcd79d09f7a0f849a1ccb25619/compose4py-1.1.1.tar.gz", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "7d36cd2c478d7bb83f86a370ccf343cd", "sha256": "b2c4894e613445746e592a9836dfd4e62662daa2edbacf0845a7c970c6e81f23"}, "downloads": -1, "filename": "compose4py-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "7d36cd2c478d7bb83f86a370ccf343cd", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7103, "upload_time": "2020-03-21T04:26:05", "upload_time_iso_8601": "2020-03-21T04:26:05.104006Z", "url": "https://files.pythonhosted.org/packages/51/98/9385bb1d107b5306e045e0348b469c51d0800a6f31b77d6024c2cfe27eb5/compose4py-1.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6d31d49d5edb27f036cefef3923a0496", "sha256": "010ab45867b0922646a195cedfc084cd1521a1e8a39a0c28026a9398b4c26cc1"}, "downloads": -1, "filename": "compose4py-1.2.0.tar.gz", "has_sig": false, "md5_digest": "6d31d49d5edb27f036cefef3923a0496", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5423, "upload_time": "2020-03-21T04:26:07", "upload_time_iso_8601": "2020-03-21T04:26:07.732722Z", "url": "https://files.pythonhosted.org/packages/f3/54/8ada39e6996fc647d1dd76eac9200ff0001e4e3d5946c6bc02cd3e79cfc1/compose4py-1.2.0.tar.gz", "yanked": false}], "1.3.0": [{"comment_text": "", "digests": {"md5": "3948f37a2b952f1e7be06d6e363f4826", "sha256": "82b27548432ebcc12ce37e50fdd7a01bb294a4a99b5ed610748b5600faa49eb6"}, "downloads": -1, "filename": "compose4py-1.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "3948f37a2b952f1e7be06d6e363f4826", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7197, "upload_time": "2020-03-28T14:26:38", "upload_time_iso_8601": "2020-03-28T14:26:38.067070Z", "url": "https://files.pythonhosted.org/packages/83/92/2d26ed64c6f5021c66dee5fe87e9b22c41dabefffa512a5df7bfcef4a79c/compose4py-1.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4ac69e11dda94c3689d767b628cb196e", "sha256": "2f2d03ebc6dd980fd584d45350d2b42ad314913cd2136e371aeaa017a3e9c878"}, "downloads": -1, "filename": "compose4py-1.3.0.tar.gz", "has_sig": false, "md5_digest": "4ac69e11dda94c3689d767b628cb196e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5521, "upload_time": "2020-03-28T14:26:40", "upload_time_iso_8601": "2020-03-28T14:26:40.286786Z", "url": "https://files.pythonhosted.org/packages/5f/7c/382f391cd20f0c9e932c232028fbd597366dcee59855f4e15bade2a5abbb/compose4py-1.3.0.tar.gz", "yanked": false}], "1.3.1": [{"comment_text": "", "digests": {"md5": "ee37fe9cf4f9826295c78496f07d212f", "sha256": "3c615115486569b2d8124c006fd43baa2f18a76d1e8239bd37dd60a1a2478822"}, "downloads": -1, "filename": "compose4py-1.3.1-py3-none-any.whl", "has_sig": false, "md5_digest": "ee37fe9cf4f9826295c78496f07d212f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7246, "upload_time": "2020-03-28T14:29:59", "upload_time_iso_8601": "2020-03-28T14:29:59.896198Z", "url": "https://files.pythonhosted.org/packages/b0/0b/2b4cf3109615cb56853cab7c92b61f372871ae911f89f88c4f35ec058f18/compose4py-1.3.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "db51f41b181cf5f321cc9a638757e4d8", "sha256": "b75ac2461ddab1077486285d5be7726ba5a624376c7163e7d169d940c0266043"}, "downloads": -1, "filename": "compose4py-1.3.1.tar.gz", "has_sig": false, "md5_digest": "db51f41b181cf5f321cc9a638757e4d8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5576, "upload_time": "2020-03-28T14:30:01", "upload_time_iso_8601": "2020-03-28T14:30:01.092122Z", "url": "https://files.pythonhosted.org/packages/ff/0d/50e39f1a28725f59239fbbc1c7cb4687f91c1d5020c82ce23e2a46cc9fd2/compose4py-1.3.1.tar.gz", "yanked": false}], "1.3.2": [{"comment_text": "", "digests": {"md5": "843986abf85b6b11e4766f67bf1498c7", "sha256": "699420a9994f86ef448c8f31edd994fa7ac900fb98a178b9533ff065f5cdf768"}, "downloads": -1, "filename": "compose4py-1.3.2-py3-none-any.whl", "has_sig": false, "md5_digest": "843986abf85b6b11e4766f67bf1498c7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7269, "upload_time": "2020-03-28T15:07:01", "upload_time_iso_8601": "2020-03-28T15:07:01.055823Z", "url": "https://files.pythonhosted.org/packages/8d/87/a1bf04a1b9e45a5d7a59215e71aabd3fd8d9e0472ae648f74e6e4ead7296/compose4py-1.3.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b9f857b706c53041574e8b60b4f1c77e", "sha256": "0e500652c872c857490d58be31232181762cfb24d6a01ad3f2fbbe64456a8286"}, "downloads": -1, "filename": "compose4py-1.3.2.tar.gz", "has_sig": false, "md5_digest": "b9f857b706c53041574e8b60b4f1c77e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5590, "upload_time": "2020-03-28T15:07:02", "upload_time_iso_8601": "2020-03-28T15:07:02.689162Z", "url": "https://files.pythonhosted.org/packages/d8/23/7a08c166af4973efb8b15cca1193770e9d4ffcb9e77d1db21b6dbb64f68c/compose4py-1.3.2.tar.gz", "yanked": false}], "1.3.3": [{"comment_text": "", "digests": {"md5": "a456ae68161b4aa769be8f1aabebaec0", "sha256": "a79f2822a7d474050c9ebf5f337f43969ef46af88e9f4d50d82a7e4862260472"}, "downloads": -1, "filename": "compose4py-1.3.3-py3-none-any.whl", "has_sig": false, "md5_digest": "a456ae68161b4aa769be8f1aabebaec0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7275, "upload_time": "2020-03-28T15:47:12", "upload_time_iso_8601": "2020-03-28T15:47:12.885670Z", "url": "https://files.pythonhosted.org/packages/42/69/6bc35e257659ea25f67642f5c749aab0a5fe371740ead02b2c2c6bb9d363/compose4py-1.3.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fcfa32d2dbfd7ebfd0742985bda7373c", "sha256": "16a966aa33024d63afff6dcb7da107634d1945fbe8f12d418008f66e0509bfdc"}, "downloads": -1, "filename": "compose4py-1.3.3.tar.gz", "has_sig": false, "md5_digest": "fcfa32d2dbfd7ebfd0742985bda7373c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5595, "upload_time": "2020-03-28T15:47:15", "upload_time_iso_8601": "2020-03-28T15:47:15.166774Z", "url": "https://files.pythonhosted.org/packages/10/55/fb9a20cfc5a1f413101ba53a8120308cdacf39a03bead973b788ef0c76fd/compose4py-1.3.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a456ae68161b4aa769be8f1aabebaec0", "sha256": "a79f2822a7d474050c9ebf5f337f43969ef46af88e9f4d50d82a7e4862260472"}, "downloads": -1, "filename": "compose4py-1.3.3-py3-none-any.whl", "has_sig": false, "md5_digest": "a456ae68161b4aa769be8f1aabebaec0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7275, "upload_time": "2020-03-28T15:47:12", "upload_time_iso_8601": "2020-03-28T15:47:12.885670Z", "url": "https://files.pythonhosted.org/packages/42/69/6bc35e257659ea25f67642f5c749aab0a5fe371740ead02b2c2c6bb9d363/compose4py-1.3.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fcfa32d2dbfd7ebfd0742985bda7373c", "sha256": "16a966aa33024d63afff6dcb7da107634d1945fbe8f12d418008f66e0509bfdc"}, "downloads": -1, "filename": "compose4py-1.3.3.tar.gz", "has_sig": false, "md5_digest": "fcfa32d2dbfd7ebfd0742985bda7373c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5595, "upload_time": "2020-03-28T15:47:15", "upload_time_iso_8601": "2020-03-28T15:47:15.166774Z", "url": "https://files.pythonhosted.org/packages/10/55/fb9a20cfc5a1f413101ba53a8120308cdacf39a03bead973b788ef0c76fd/compose4py-1.3.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:44:12 2020"}
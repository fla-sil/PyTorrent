{"info": {"author": "mittelholcz", "author_email": "", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: POSIX :: Linux", "Programming Language :: Python :: 3"], "description": "[![license](https://img.shields.io/badge/license-MIT-blue.svg)](https://github.com/mittelholcz/hellopypa/blob/master/LICENSE)\n[![pypi](https://img.shields.io/badge/pypi-0.0.11-blue.svg)](https://pypi.org/project/hellopypa/)\n\n# Hogyan k\u00e9sz\u00edts\u00fcnk python csomagot\n\n- [1. Bevezet\u00e9s](#1-bevezet\u00e9s)\n- [2. K\u00f6nyvt\u00e1rszerkezet](#2-k\u00f6nyvt\u00e1rszerkezet)\n- [3. K\u00f6rnyezet](#3-k\u00f6rnyezet)\n- [4. Az `__init__.py` f\u00e1jl](#4-az-__init__py-f\u00e1jl)\n- [5. Tesztel\u00e9s](#5-tesztel\u00e9s)\n- [6. A `setup.py` f\u00e1jl](#6-a-setuppy-f\u00e1jl)\n- [7. Tov\u00e1bbi lehet\u0151s\u00e9gek](#7-tov\u00e1bbi-lehet\u0151s\u00e9gek)\n  - [7.1. Verzi\u00f3](#71-verzi\u00f3)\n  - [7.2. F\u00e1jlok hozz\u00e1ad\u00e1sa](#72-f\u00e1jlok-hozz\u00e1ad\u00e1sa)\n  - [7.3. Parancssori futtat\u00e1s](#73-parancssori-futtat\u00e1s)\n- [TODO](#todo)\n- [Irodalom](#irodalom)\n\n## 1. Bevezet\u00e9s\n\nA *modul* (*module*) egy python f\u00e1jl, ami import\u00e1lhat\u00f3, n\u00e9vteret alkot \u00e9s tetsz\u0151leges tov\u00e1bbi python objektumokat tartalmazhat.\n\nA *csomag* (*package*) egy olyan k\u00f6nyvt\u00e1r, ami tartalmaz egy `__init__.py`\nf\u00e1jlt, tov\u00e1bb\u00e1 tartalmazhat tov\u00e1bbi alcsomagokat (alk\u00f6nyvt\u00e1rakat) \u00e9s\nmodulokat (python f\u00e1jlokat). A *csomag* is import\u00e1lhat\u00f3, n\u00e9vteret alkot \u00e9s\ntov\u00e1bbi python objektumokat tartalmazhat.\n\n*Megjegyz\u00e9s*: A *modul~f\u00e1jl* \u00e9s a *csomag~k\u00f6nyvt\u00e1r* csak anal\u00f3gia, nem minden\nesetben igaz. R\u00e9szletek [itt](https://docs.python.org/3/reference/import.html).\n\nA csomagokat a Python csomagkezel\u0151j\u00e9vel, a\n[`pip`](https://pip.pypa.io/en/stable/)-pel lehet telep\u00edteni, friss\u00edteni,\nelt\u00e1vol\u00edtani. A `pip` k\u00e9pes verzi\u00f3kezel\u0151 repozit\u00f3riumokb\u00f3l is telep\u00edteni, \u00edgy\npl. a Github-r\u00f3l is, de a python csomagok publik\u00e1l\u00e1s\u00e1nak szokott m\u00f3dja a\ncsomag felt\u00f6lt\u00e9se a [pypi.org](https://pypi.org/)-ra (*PyPI*: Python Package\nIndex). Ennek mik\u00e9ntj\u00e9r\u0151l lesz sz\u00f3 az al\u00e1bbiakban.\n\nA [pypi.org](https://pypi.org/)-ot \u00e9s a csomagol\u00e1shoz sz\u00fcks\u00e9ges eszk\u00f6z\u00f6ket a\n*PyPA* (*Python Packaging Authority*) fejleszti \u00e9s tartja karban. Honlapjukon\n([pypa.io](https://www.pypa.io/en/latest/)) sok hasznos anyag el\u00e9rhet\u0151\ncsomagol\u00e1s \u00e9s terjeszt\u00e9s t\u00e9mak\u00f6rben.\n\n## 2. K\u00f6nyvt\u00e1rszerkezet\n\n```txt\nhellopypa/\n    hellopypa/\n        __init__.py\n        __main__.py\n        example.cfg\n        hellopypa.py\n        version.py\n    test/\n        __init__.py\n        test_hello.py\n    LICENSE\n    MANIFEST.in\n    README.md\n    requirements.txt\n    requirements-dev.txt\n    setup.py\n```\n\nFontosabb k\u00f6nyvt\u00e1rak \u00e9s f\u00e1jlok:\n\n- `hellopypa/`: A csomagunk f\u0151 k\u00f6nyvt\u00e1ra. \u00c1ltal\u00e1ban j\u00f3, ha ez megegyezik\n  mag\u00e1nak a rep\u00f3nak a nev\u00e9vel (k\u00fcls\u0151 `hellopypa/` k\u00f6nyvt\u00e1r), de nem sz\u00fcks\u00e9ges.\n- `test/`: A csomaghoz val\u00f3 tesztek k\u00f6nyvt\u00e1ra. A tesztek nem r\u00e9szei a\n  csomagnak, csak a rep\u00f3nak.\n- `LICENSE`: Licenc, a lehet\u0151s\u00e9geket l. [itt](https://choosealicense.com/) \u00e9s\n  [itt](https://opensource.org/licenses), tov\u00e1bbi tan\u00e1csok\n  [itt](https://arstechnica.com/gadgets/2020/02/how-to-choose-an-open-source-license/).\n- `MANIFEST.in`: Itt soroljuk fel a csomaghoz tartoz\u00f3 nem python f\u00e1jlokat (bin\u00e1risok, konfig f\u00e1jlok, stb).\n- `README.md`: Readme f\u00e1jl, r\u00f6viden le\u00edrja, hogy mire j\u00f3 a csomag, hogyan kell telep\u00edteni \u00e9s hogyan lehet futtatni. A *markdown* form\u00e1tumr\u00f3l b\u0151vebben [itt](https://guides.github.com/features/mastering-markdown/), a tartalm\u00e1r\u00f3l [itt](https://dbader.org/blog/write-a-great-readme-for-your-github-project) lehet olvasni.\n- `requirements*.txt`: Ezekben vannak felsorolva azok a python csomagok, amelyeket haszn\u00e1lunk (f\u00fcgg\u0151s\u00e9gek). A `requirements.txt` tartalmazza mag\u00e1nak a csomagnak a f\u00fcgg\u0151s\u00e9geit, a `requirements-dev.txt` pedig a fejleszt\u00e9shez sz\u00fcks\u00e9ges f\u00fcgg\u0151s\u00e9geket (tesztel\u00e9s, linter, stb).\n- `setup.py`: Ez a f\u00e1jl tartalmazza csomagol\u00e1shoz kell\u0151 metaadatokat.\n\n## 3. K\u00f6rnyezet\n\nHozzunk l\u00e9tre a csomagnak k\u00fcl\u00f6n virtu\u00e1lis k\u00f6rnyezetet \u00e9s aktiv\u00e1ljuk\n(r\u00e9szletek [itt](https://docs.python.org/3/library/venv.html) \u00e9s\n[itt](https://docs.python.org/3/tutorial/venv.html)):\n\n```txt\npython3 -m venv .venv\nsource .venv/bin/activate\n```\n\nTelep\u00edts\u00fck a csomaghoz (`requirements.txt`) valamint a csomagol\u00e1shoz \u00e9s\nfejleszt\u00e9shez sz\u00fcks\u00e9ges f\u00fcgg\u0151s\u00e9geket (`requirements-dev.txt`):\n\n```sh\npip install -r requirements-dev.txt\n```\n\n*Megjegyz\u00e9s*: A `requirements-dev.txt` import\u00e1lja sima `requirements.txt`-t is.\nA `requirements.txt` f\u00e1jlok le\u00edr\u00e1s\u00e1t l.\n[itt](https://pip.pypa.io/en/stable/reference/pip_install/#requirements-file-format)\n\u00e9s [itt](https://pip.pypa.io/en/stable/user_guide/#requirements-files).\n\nA csomagol\u00e1shoz az al\u00e1bbi csomagok sz\u00fcks\u00e9gesek:\n\n- `setuptools`: Ez a `setup.py` f\u00fcgg\u0151s\u00e9ge.\n- `twine`: Ezzel lehet a [pypi.org](https://pypi.org/)-ra felt\u00f6lteni az\n  elk\u00e9sz\u00fclt csomagot.\n- `wheel`: Ez kell a 2012-ben bevezetett *wheel* csomagform\u00e1tumhoz (l. [PEP\n  427](https://www.python.org/dev/peps/pep-0427/)).\n\n## 4. Az `__init__.py` f\u00e1jl\n\nAz `__init__.py` lehet \u00fcres is, de ekkor is l\u00e9teznie kell. Ha nem \u00fcres, akkor\na csomag import\u00e1l\u00e1s\u00e1n\u00e1l a tartalma v\u00e9grehajt\u00f3dik. Szok\u00e1s a metaadatok \u00e9s az\nAPI meghat\u00e1roz\u00e1s\u00e1ra haszn\u00e1lni.\n\n*Metaadatok*: Kisebb projektekn\u00e9l itt lehet felsorolni a csomag szerz\u0151it,\nverzi\u00f3j\u00e1t, licenc\u00e9t, megadni email-c\u00edmet, karbantart\u00f3t, h\u00e1l\u00e1t kifejezni a\nhozz\u00e1j\u00e1rul\u00f3knak, stb. R\u00e9szletek [itt](https://stackoverflow.com/a/1523456). A\nverzi\u00f3t \u00e9rdemes k\u00fcl\u00f6n f\u00e1jlban tartani, l. al\u00e1bb a *Verzi\u00f3* fejezetet.\n\n*API*: Alapesetben ha haszn\u00e1lni szeretn\u00e9nk egy import\u00e1lt csomag egy f\u00fcggv\u00e9ny\u00e9t,\nakkor azt \u00edgy tudjuk h\u00edvni:\n\n```txt\ncsomag[.alcsomag].f\u00e1jl.f\u00fcggv\u00e9ny()\n```\n\nEbb\u0151l a `csomag`-ot \u00e9s a `f\u00fcggv\u00e9ny`-t nem lehet elhagyni, de az `alcsomag` \u00e9s\na `f\u00e1jl` \u00e1ltal\u00e1ban felesleges. A felhaszn\u00e1l\u00f3nak csak azt kellene\nmegjegyeznie, hogy melyik f\u00fcggv\u00e9ny melyik csomagban van, azt nem, hogy melyik\ncsomag melyik f\u00e1jlj\u00e1ban van. R\u00e1ad\u00e1sul a csomag \u00edr\u00f3i is szeretik a k\u00f3dot\nrugalmasan \u00e1tszervezni a h\u00e1tt\u00e9rben, pl. egy nagyra n\u0151tt f\u00e1jl egy r\u00e9sz\u00e9t\n\u00faj f\u00e1jlba \u00edrni an\u00e9lk\u00fcl, hogy elt\u00f6rn\u00e9k az *API*-t.\n\nMivel az `__init__.py`-ban tal\u00e1lhat\u00f3 k\u00f3d import\u00e1l\u00e1skor v\u00e9grehajt\u00f3dik,\nez\u00e9rt \u00e9rdemes itt import\u00e1lni a publikusnak sz\u00e1nt f\u00fcggv\u00e9nyeket, oszt\u00e1lyokat, ezzel a csomag import\u00e1l\u00e1sakor ezek az objektumok is k\u00f6zvetlen\u00fcl haszn\u00e1lhat\u00f3k lesznek. P\u00e9lda:\n\n```py\n# mypackage/__init__.py\nfrom file1 import function1, function2\nfrom file2 import function3\n```\n\nEzut\u00e1n a haszn\u00e1lat egyszer\u0171:\n\n```py\nimport mypackage\nmypackage.function1()\n```\n\n*Megjegyz\u00e9s*: Ha az `__init__.py`-ban csillaggal import\u00e1lunk (`from file\nimport *`), akkor az alulvon\u00e1ssal kezd\u0151d\u0151 objektumok nem ker\u00fclnek\nimport\u00e1l\u00e1sra (a teljes el\u00e9r\u00e9si \u00fatjukon kereszt\u00fcl tov\u00e1bbra is el\u00e9rhet\u0151ek\nlesznek, r\u00e9szletek\n[itt](https://dbader.org/blog/meaning-of-underscores-in-python)).\n\n## 5. Tesztel\u00e9s\n\nMiel\u0151tt csomagoln\u00e1nk, tesztelj\u00fck le az alkalmaz\u00e1sunkat. A tesztel\u00e9shez\nhaszn\u00e1lhatjuk a hagyom\u00e1nyos\n[*unittest*](https://docs.python.org/3/library/unittest.html)-et, vagy az\n\u00fajabban elterjedt [*pytest*](https://docs.pytest.org/en/latest/)-et. A\n`test/` k\u00f6nyvt\u00e1rban vannak a tesztf\u00e1jlok, ezeket *pytest* est\u00e9n a k\u00f6vetkez\u0151\nparanccsal futtathatjuk:\n\n```sh\npytest --verbose test/\n```\n\n*Megjegyz\u00e9s*: a `test/` k\u00f6nyvt\u00e1r maga is csomag, kell benne lennie\n`__init__.py` f\u00e1jlnak.\n\n## 6. A `setup.py` f\u00e1jl\n\nMag\u00e1t a csomagol\u00e1st (a terjeszthet\u0151 \u00e9s telep\u00edthet\u0151 form\u00e1tum l\u00e9trehoz\u00e1s\u00e1t) a\n[*setuptools*](https://setuptools.readthedocs.io/en/latest/) nev\u0171 python\ncsomag v\u00e9gzi. A `setup.py` f\u00e1jl tartalmazza a *setuptools* sz\u00e1m\u00e1ra sz\u00fcks\u00e9ges\nadatokat. Az adatokat lehet k\u00f6zvetlen\u00fcl a `setup.py`-ba is be\u00edrni, de n\u00e9ha\nhasznosabb m\u00e1shol t\u00e1rolni az adatot \u00e9s a `setup.py`-ban csak import\u00e1lni, vagy\nm\u00e1s m\u00f3don beolvasni.\n\nEgy viszonylag minimalista p\u00e9lda:\n\n```py\nimport setuptools\n\nwith open('README.md', 'r') as fh:\n    long_description = fh.read()\n\nsetuptools.setup(\n    name='csomagn\u00e9v',\n    version='0.0.1',\n    author='szerz\u0151',\n    description='Minimalista p\u00e9lda csomag',\n    long_description=long_description,\n    long_description_content_type='text/markdown',\n    url='https://github.com/szerz\u0151/csomagn\u00e9v',\n    packages=setuptools.find_packages(exclude=['test']),\n    classifiers=[\n        'Programming Language :: Python :: 3',\n        'License :: OSI Approved :: MIT License',\n        'Operating System :: POSIX :: Linux',\n    ],\n    python_requires='>=3.6',\n)\n```\n\nA *setuptools.setup* fontosabb mez\u0151i:\n\n- `name`: A csomag neve (k\u00f6telez\u0151).\n- `version`: A csomag verzi\u00f3ja (k\u00f6telez\u0151). A pypi.org-ra nem lehet k\u00e9tszer\n  ugyanazt a verzi\u00f3sz\u00e1m\u00fa csomagot felt\u00f6lteni, akkor sem, ha am\u00fagy k\u00fcl\u00f6nb\u00f6znek.\n- `author`: A csomag szerz\u0151je.\n- `description`: R\u00f6vid le\u00edr\u00e1s.\n- `long_description`: Hossz\u00fa le\u00edr\u00e1s, jellemz\u0151en mag\u00e1t a README.md-t szokt\u00e1k\n  megadni. A PyPI ezt fogja a csomag oldal\u00e1n megjelen\u00edteni. Ha *markdown* f\u00e1jlt\n  adunk meg, akkor meg kell adnunk a form\u00e1tumot is\n  ([*.rst*](https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html)\n  az alap\u00e9rtelmezett).\n- `url`: A projekt honlapja.\n- `packages`: Itt adhat\u00f3 meg, hol keresse a python f\u00e1jlokat. \u00c9rdemes a\n  *setuptools* `find_packages()` f\u00fcggv\u00e9ny\u00e9re b\u00edzni a dolgot. Az `exclude=[dir1,\n  dir2, ...]` param\u00e9ternek megadott k\u00f6nyvt\u00e1rakban nem fog keresni.\n- `classifiers`: A PyPI sz\u00e1m\u00e1ra megadhat\u00f3 c\u00edmk\u00e9k list\u00e1ja [itt](https://pypi.org/classifiers/).\n- `python_requires`: Megadhat\u00f3 a minimum python verzi\u00f3.\n\nFuttassuk a `setup.py` f\u00e1jlt:\n\n```sh\npython3 setup.py sdist bdist_wheel\n```\n\nA rep\u00f3nkban h\u00e1rom \u00faj k\u00f6nyvt\u00e1r fog l\u00e9trej\u00f6nni: egy `build/`, egy `dist/` \u00e9s\negy `csomagn\u00e9v.egg-info/` (\u00e9rdemes ezeket a `.gitignore` f\u00e1jlba felvenni,\nvagy a GitHub python-hoz \u00edrt `.gitignore`\n[f\u00e1jlj\u00e1t](https://github.com/github/gitignore/blob/master/Python.gitignore)\nhaszn\u00e1lni). Ezek k\u00f6z\u00fcl a `dist/` ami fontos, ebben tal\u00e1lhat\u00f3 ugyanis a\ncsomagunk terjeszthet\u0151 \u00e9s telep\u00edthet\u0151 v\u00e1ltozata.\n\nA csomag k\u00f6zvetlen\u00fcl telep\u00edthet\u0151 a `pip install .` paranccal, vagy\nregisztr\u00e1ci\u00f3t k\u00f6vet\u0151en felt\u00f6lthet\u0151 a pypi.org oldalra a k\u00f6vetkez\u0151 paranccsal:\n\n```sh\npython3 -m twine upload dist/*\n```\n\nEzut\u00e1n b\u00e1rmelyik g\u00e9pen telep\u00edthet\u0151 a csomag a `pip install csomagn\u00e9v`\nparanccsal.\n\nA pypi.org oldalnak van egy teszt v\u00e1ltozata is, ha csak k\u00eds\u00e9rletezni\nszeretn\u00e9nk, javasolt ezt haszn\u00e1lni. A fenti parancsok ekkor \u00edgy m\u00f3dosulnak:\n\n```sh\ntwine upload --repository-url https://test.pypi.org/legacy/ dist/*\npip install --index-url https://test.pypi.org/simple/ hellopypa\n```\n\n## 7. Tov\u00e1bbi lehet\u0151s\u00e9gek\n\nTov\u00e1bbi tan\u00e1csok \u00e9s lehet\u0151s\u00e9gek a terjeszthet\u0151 csomag testreszab\u00e1s\u00e1ra.\n\n### 7.1. Verzi\u00f3\n\nA csomag verzi\u00f3j\u00e1t \u00e9rdemes egy helyen t\u00e1rolni csak \u00e9s m\u00e1shol csak innen beolvasni. A lehet\u0151s\u00e9geket l. [itt](https://packaging.python.org/guides/single-sourcing-package-version/). Az al\u00e1bbi megold\u00e1s l\u00e9nyege, hogy a csomagon bel\u00fcl egy k\u00fcl\u00f6n f\u00e1jlt haszn\u00e1lunk erre (`hellopypa/version.py`). Ezt a f\u00e1jlt import\u00e1ljuk a `setup.py`-ban \u00e9s a `hellopypa/__init__.py`-ban is. Ezzel elker\u00fclhet\u0151k a `hellopypa/__init__.py` k\u00f6zvetlen import\u00e1l\u00e1s\u00e1nak probl\u00e9m\u00e1i (l. az el\u0151bbi cikk 6. pontj\u00e1hoz \u00edrt figyelmeztet\u00e9st), de telep\u00edt\u00e9s n\u00e9lk\u00fcl is hozz\u00e1f\u00e9rhet\u0151 lesz a verzi\u00f3, mintha az `__init__.py`-ban lenne k\u00f6zvetlen\u00fcl.\n\n```py\n# hellopypa/version.py\n__version__ = '0.0.3'\n```\n\n```py\n# hellopypa/__init__.py\n# ...\nfrom hellopypa.version import __version__\n# ...\n```\n\n```py\n# setup.py\n# ...\nfrom hellopypa.version import __version__\n# ...\nsetuptools.setup(\n    # ...\n    version=__version__,\n    # ...\n)\n```\n\n### 7.2. F\u00e1jlok hozz\u00e1ad\u00e1sa\n\nA *setuptools* csak a python f\u00e1jlokat veszi figyelembe. Ha m\u00e1s f\u00e1jlokat is a\ncsomaghoz szeretn\u00e9nk adni (konfigur\u00e1ci\u00f3s f\u00e1jlokat, bin\u00e1risokat, adatot),\nakkor k\u00e9t dolgot kell csin\u00e1lnunk.\n\n1. L\u00e9tre kell hoznunk egy *MANIFEST.in* f\u00e1jlt, amiben felsoroljuk, hogy miket\nszeretn\u00e9nk m\u00e9g a csomaghoz adni. R\u00e9szletek\n[itt](https://packaging.python.org/guides/using-manifest-in/). P\u00e9lda: adjuk a\nprojekthez a *.cfg* kiterjeszt\u00e9s\u0171 f\u00e1jlokat.\n\n    ```txt\n    # MANIFEST.in\n    include hellopypa/*.cfg\n    ```\n\n2. A *setup.py*-ba is bele kell \u00edrni, hogy tov\u00e1bbi f\u00e1jlok is lesznek.\n\n    ```py\n    # setup.py\n    # ...\n    setuptools.setup(\n        # ...\n        include_package_data=True,\n        # ...\n    )\n    ```\n\n### 7.3. Parancssori futtat\u00e1s\n\nHa csomagunkat a `pip install hellopypa` ut\u00e1n nem csak import\u00e1lva, de\nparancssori alkalmaz\u00e1sk\u00e9nt is szeretn\u00e9nk haszn\u00e1lni, akkor k\u00e9t dolgot\ntehet\u00fcnk.\n\n1. Egy python csomag futtathat\u00f3 az `-m` kapcsol\u00f3val (pl. `# python -m\nhellopypa`). Ehhez az kell, hogy a csomagban legyen egy `__main__.py` f\u00e1jl, a\npython ezt fogja keresni \u00e9s ha l\u00e9tezik, akkor futtatni. R\u00e9szletek (nem mintha\nnagyon lenn\u00e9nek) [itt](https://docs.python.org/3/library/__main__.html).\n2. Egy python csomag futtathat\u00f3 rendes, telep\u00edtett parancsk\u00e9nt is (pl.\n`# hellopypa`). Ekkor a *setup.py*-ban meg kell adni egy \u00fagynevezett bel\u00e9p\u00e9si\npontot, konkr\u00e9tan egy f\u00fcggv\u00e9nyt, amit meg fog h\u00edvni a python. R\u00e9szletek\n[itt](https://setuptools.readthedocs.io/en/latest/pkg_resources.html#entry-points).\nP\u00e9lda:\n\n    ```py\n    # setup.py\n    # ...\n    setuptools.setup(\n        # ...\n        entry_points={\n            \"console_scripts\": [\n                \"hellopypa=hellopypa.__main__:main\",\n            ]\n        },\n        # ...\n    )\n    ```\n\n## 8. Make\n\n*\u00c1tmeneti megold\u00e1s, am\u00edg nincs rendes automatiz\u00e1l\u00e1s.*\n\n`make clean`: A build-el\u00e9s sor\u00e1n keletkezett k\u00f6nyvt\u00e1rak t\u00f6rl\u00e9se (`buld/`,\n`dist/`, `*.egg-info/`).\n\n`make test`: Tesztek futtat\u00e1sa.\n\n`make build`: Build-el\u00e9s.\n\n`make release_major`: *Major* verzi\u00f3sz\u00e1m v\u00e1lt\u00e1s, \u00faj release a GitHub-on \u00e9s a\nPyPI-n.\n\n`make release_minor`: *Minor* verzi\u00f3sz\u00e1m v\u00e1lt\u00e1s, \u00faj release a GitHub-on \u00e9s a\nPyPI-n.\n\n`make release_patch`: *Patch* verzi\u00f3sz\u00e1m v\u00e1lt\u00e1s, \u00faj release a GitHub-on \u00e9s a\nPyPI-n.\n\n\n## TODO\n\n- [x] Tartalom\n- [x] Bevezet\u00e9s: modul, csomag, pypi\n- [x] K\u00f6nyvt\u00e1rszerkezet\n- [x] K\u00f6rnyezet\n- [x] Tesztel\u00e9s\n- [ ] Dokument\u00e1ci\u00f3\n- [x] A `setup.py` f\u00e1jl\n- [x] A `MANIFEST.in` f\u00e1jl\n- [x] `__main__.py`, CLI\n- [x] `__init__.py`, API\n- [x] Verzi\u00f3z\u00e1s\n- [x] Csomagol\u00e1s\n- [x] K\u00f6zz\u00e9t\u00e9tel\n- [ ] Automatiz\u00e1l\u00e1s\n- [x] Telep\u00edt\u00e9s\n  - [x] lok\u00e1lisan\n  - [x] pypi\n- [x] make\n- [ ] f\u00fcgg\u0151s\u00e9g buildel\u00e9se a setup.py haszn\u00e1lat\u00e1val???\n- [ ] f\u00fcgg\u0151s\u00e9g let\u00f6lt\u00e9se telep\u00edt\u00e9skor???\n\n## Irodalom\n\n- PyPA gyorstalpal\u00f3ja: <https://packaging.python.org/tutorials/packaging-projects/>\n- PyPA \u00fatmutat\u00f3i egyes t\u00e9m\u00e1khoz: <https://packaging.python.org/guides/>\n- *Real Python* tutorial: <https://realpython.com/pypi-publish-python-package/>\n- *setuptools* dokument\u00e1ci\u00f3: <https://setuptools.readthedocs.io/en/latest/>\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/mittelholcz/hellopypa", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "hellopypa", "package_url": "https://pypi.org/project/hellopypa/", "platform": "", "project_url": "https://pypi.org/project/hellopypa/", "project_urls": {"Homepage": "https://github.com/mittelholcz/hellopypa"}, "release_url": "https://pypi.org/project/hellopypa/0.0.11/", "requires_dist": null, "requires_python": ">=3.6", "summary": "A sample Python package", "version": "0.0.11", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://github.com/mittelholcz/hellopypa/blob/master/LICENSE\" rel=\"nofollow\"><img alt=\"license\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c88fab50b4a1dc0cd91faeb7ba5654d56e380260/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d626c75652e737667\"></a>\n<a href=\"https://pypi.org/project/hellopypa/\" rel=\"nofollow\"><img alt=\"pypi\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/bbe3de1ff0553c0cfcfa608979d4768c2cdca8f6/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707970692d302e302e31312d626c75652e737667\"></a></p>\n<h1>Hogyan k\u00e9sz\u00edts\u00fcnk python csomagot</h1>\n<ul>\n<li><a href=\"#1-bevezet%C3%A9s\" rel=\"nofollow\">1. Bevezet\u00e9s</a></li>\n<li><a href=\"#2-k%C3%B6nyvt%C3%A1rszerkezet\" rel=\"nofollow\">2. K\u00f6nyvt\u00e1rszerkezet</a></li>\n<li><a href=\"#3-k%C3%B6rnyezet\" rel=\"nofollow\">3. K\u00f6rnyezet</a></li>\n<li><a href=\"#4-az-__init__py-f%C3%A1jl\" rel=\"nofollow\">4. Az <code>__init__.py</code> f\u00e1jl</a></li>\n<li><a href=\"#5-tesztel%C3%A9s\" rel=\"nofollow\">5. Tesztel\u00e9s</a></li>\n<li><a href=\"#6-a-setuppy-f%C3%A1jl\" rel=\"nofollow\">6. A <code>setup.py</code> f\u00e1jl</a></li>\n<li><a href=\"#7-tov%C3%A1bbi-lehet%C5%91s%C3%A9gek\" rel=\"nofollow\">7. Tov\u00e1bbi lehet\u0151s\u00e9gek</a>\n<ul>\n<li><a href=\"#71-verzi%C3%B3\" rel=\"nofollow\">7.1. Verzi\u00f3</a></li>\n<li><a href=\"#72-f%C3%A1jlok-hozz%C3%A1ad%C3%A1sa\" rel=\"nofollow\">7.2. F\u00e1jlok hozz\u00e1ad\u00e1sa</a></li>\n<li><a href=\"#73-parancssori-futtat%C3%A1s\" rel=\"nofollow\">7.3. Parancssori futtat\u00e1s</a></li>\n</ul>\n</li>\n<li><a href=\"#todo\" rel=\"nofollow\">TODO</a></li>\n<li><a href=\"#irodalom\" rel=\"nofollow\">Irodalom</a></li>\n</ul>\n<h2>1. Bevezet\u00e9s</h2>\n<p>A <em>modul</em> (<em>module</em>) egy python f\u00e1jl, ami import\u00e1lhat\u00f3, n\u00e9vteret alkot \u00e9s tetsz\u0151leges tov\u00e1bbi python objektumokat tartalmazhat.</p>\n<p>A <em>csomag</em> (<em>package</em>) egy olyan k\u00f6nyvt\u00e1r, ami tartalmaz egy <code>__init__.py</code>\nf\u00e1jlt, tov\u00e1bb\u00e1 tartalmazhat tov\u00e1bbi alcsomagokat (alk\u00f6nyvt\u00e1rakat) \u00e9s\nmodulokat (python f\u00e1jlokat). A <em>csomag</em> is import\u00e1lhat\u00f3, n\u00e9vteret alkot \u00e9s\ntov\u00e1bbi python objektumokat tartalmazhat.</p>\n<p><em>Megjegyz\u00e9s</em>: A <em>modul~f\u00e1jl</em> \u00e9s a <em>csomag~k\u00f6nyvt\u00e1r</em> csak anal\u00f3gia, nem minden\nesetben igaz. R\u00e9szletek <a href=\"https://docs.python.org/3/reference/import.html\" rel=\"nofollow\">itt</a>.</p>\n<p>A csomagokat a Python csomagkezel\u0151j\u00e9vel, a\n<a href=\"https://pip.pypa.io/en/stable/\" rel=\"nofollow\"><code>pip</code></a>-pel lehet telep\u00edteni, friss\u00edteni,\nelt\u00e1vol\u00edtani. A <code>pip</code> k\u00e9pes verzi\u00f3kezel\u0151 repozit\u00f3riumokb\u00f3l is telep\u00edteni, \u00edgy\npl. a Github-r\u00f3l is, de a python csomagok publik\u00e1l\u00e1s\u00e1nak szokott m\u00f3dja a\ncsomag felt\u00f6lt\u00e9se a <a href=\"https://pypi.org/\" rel=\"nofollow\">pypi.org</a>-ra (<em>PyPI</em>: Python Package\nIndex). Ennek mik\u00e9ntj\u00e9r\u0151l lesz sz\u00f3 az al\u00e1bbiakban.</p>\n<p>A <a href=\"https://pypi.org/\" rel=\"nofollow\">pypi.org</a>-ot \u00e9s a csomagol\u00e1shoz sz\u00fcks\u00e9ges eszk\u00f6z\u00f6ket a\n<em>PyPA</em> (<em>Python Packaging Authority</em>) fejleszti \u00e9s tartja karban. Honlapjukon\n(<a href=\"https://www.pypa.io/en/latest/\" rel=\"nofollow\">pypa.io</a>) sok hasznos anyag el\u00e9rhet\u0151\ncsomagol\u00e1s \u00e9s terjeszt\u00e9s t\u00e9mak\u00f6rben.</p>\n<h2>2. K\u00f6nyvt\u00e1rszerkezet</h2>\n<pre>hellopypa/\n    hellopypa/\n        __init__.py\n        __main__.py\n        example.cfg\n        hellopypa.py\n        version.py\n    test/\n        __init__.py\n        test_hello.py\n    LICENSE\n    MANIFEST.in\n    README.md\n    requirements.txt\n    requirements-dev.txt\n    setup.py\n</pre>\n<p>Fontosabb k\u00f6nyvt\u00e1rak \u00e9s f\u00e1jlok:</p>\n<ul>\n<li><code>hellopypa/</code>: A csomagunk f\u0151 k\u00f6nyvt\u00e1ra. \u00c1ltal\u00e1ban j\u00f3, ha ez megegyezik\nmag\u00e1nak a rep\u00f3nak a nev\u00e9vel (k\u00fcls\u0151 <code>hellopypa/</code> k\u00f6nyvt\u00e1r), de nem sz\u00fcks\u00e9ges.</li>\n<li><code>test/</code>: A csomaghoz val\u00f3 tesztek k\u00f6nyvt\u00e1ra. A tesztek nem r\u00e9szei a\ncsomagnak, csak a rep\u00f3nak.</li>\n<li><code>LICENSE</code>: Licenc, a lehet\u0151s\u00e9geket l. <a href=\"https://choosealicense.com/\" rel=\"nofollow\">itt</a> \u00e9s\n<a href=\"https://opensource.org/licenses\" rel=\"nofollow\">itt</a>, tov\u00e1bbi tan\u00e1csok\n<a href=\"https://arstechnica.com/gadgets/2020/02/how-to-choose-an-open-source-license/\" rel=\"nofollow\">itt</a>.</li>\n<li><code>MANIFEST.in</code>: Itt soroljuk fel a csomaghoz tartoz\u00f3 nem python f\u00e1jlokat (bin\u00e1risok, konfig f\u00e1jlok, stb).</li>\n<li><code>README.md</code>: Readme f\u00e1jl, r\u00f6viden le\u00edrja, hogy mire j\u00f3 a csomag, hogyan kell telep\u00edteni \u00e9s hogyan lehet futtatni. A <em>markdown</em> form\u00e1tumr\u00f3l b\u0151vebben <a href=\"https://guides.github.com/features/mastering-markdown/\" rel=\"nofollow\">itt</a>, a tartalm\u00e1r\u00f3l <a href=\"https://dbader.org/blog/write-a-great-readme-for-your-github-project\" rel=\"nofollow\">itt</a> lehet olvasni.</li>\n<li><code>requirements*.txt</code>: Ezekben vannak felsorolva azok a python csomagok, amelyeket haszn\u00e1lunk (f\u00fcgg\u0151s\u00e9gek). A <code>requirements.txt</code> tartalmazza mag\u00e1nak a csomagnak a f\u00fcgg\u0151s\u00e9geit, a <code>requirements-dev.txt</code> pedig a fejleszt\u00e9shez sz\u00fcks\u00e9ges f\u00fcgg\u0151s\u00e9geket (tesztel\u00e9s, linter, stb).</li>\n<li><code>setup.py</code>: Ez a f\u00e1jl tartalmazza csomagol\u00e1shoz kell\u0151 metaadatokat.</li>\n</ul>\n<h2>3. K\u00f6rnyezet</h2>\n<p>Hozzunk l\u00e9tre a csomagnak k\u00fcl\u00f6n virtu\u00e1lis k\u00f6rnyezetet \u00e9s aktiv\u00e1ljuk\n(r\u00e9szletek <a href=\"https://docs.python.org/3/library/venv.html\" rel=\"nofollow\">itt</a> \u00e9s\n<a href=\"https://docs.python.org/3/tutorial/venv.html\" rel=\"nofollow\">itt</a>):</p>\n<pre>python3 -m venv .venv\nsource .venv/bin/activate\n</pre>\n<p>Telep\u00edts\u00fck a csomaghoz (<code>requirements.txt</code>) valamint a csomagol\u00e1shoz \u00e9s\nfejleszt\u00e9shez sz\u00fcks\u00e9ges f\u00fcgg\u0151s\u00e9geket (<code>requirements-dev.txt</code>):</p>\n<pre>pip install -r requirements-dev.txt\n</pre>\n<p><em>Megjegyz\u00e9s</em>: A <code>requirements-dev.txt</code> import\u00e1lja sima <code>requirements.txt</code>-t is.\nA <code>requirements.txt</code> f\u00e1jlok le\u00edr\u00e1s\u00e1t l.\n<a href=\"https://pip.pypa.io/en/stable/reference/pip_install/#requirements-file-format\" rel=\"nofollow\">itt</a>\n\u00e9s <a href=\"https://pip.pypa.io/en/stable/user_guide/#requirements-files\" rel=\"nofollow\">itt</a>.</p>\n<p>A csomagol\u00e1shoz az al\u00e1bbi csomagok sz\u00fcks\u00e9gesek:</p>\n<ul>\n<li><code>setuptools</code>: Ez a <code>setup.py</code> f\u00fcgg\u0151s\u00e9ge.</li>\n<li><code>twine</code>: Ezzel lehet a <a href=\"https://pypi.org/\" rel=\"nofollow\">pypi.org</a>-ra felt\u00f6lteni az\nelk\u00e9sz\u00fclt csomagot.</li>\n<li><code>wheel</code>: Ez kell a 2012-ben bevezetett <em>wheel</em> csomagform\u00e1tumhoz (l. <a href=\"https://www.python.org/dev/peps/pep-0427/\" rel=\"nofollow\">PEP\n427</a>).</li>\n</ul>\n<h2>4. Az <code>__init__.py</code> f\u00e1jl</h2>\n<p>Az <code>__init__.py</code> lehet \u00fcres is, de ekkor is l\u00e9teznie kell. Ha nem \u00fcres, akkor\na csomag import\u00e1l\u00e1s\u00e1n\u00e1l a tartalma v\u00e9grehajt\u00f3dik. Szok\u00e1s a metaadatok \u00e9s az\nAPI meghat\u00e1roz\u00e1s\u00e1ra haszn\u00e1lni.</p>\n<p><em>Metaadatok</em>: Kisebb projektekn\u00e9l itt lehet felsorolni a csomag szerz\u0151it,\nverzi\u00f3j\u00e1t, licenc\u00e9t, megadni email-c\u00edmet, karbantart\u00f3t, h\u00e1l\u00e1t kifejezni a\nhozz\u00e1j\u00e1rul\u00f3knak, stb. R\u00e9szletek <a href=\"https://stackoverflow.com/a/1523456\" rel=\"nofollow\">itt</a>. A\nverzi\u00f3t \u00e9rdemes k\u00fcl\u00f6n f\u00e1jlban tartani, l. al\u00e1bb a <em>Verzi\u00f3</em> fejezetet.</p>\n<p><em>API</em>: Alapesetben ha haszn\u00e1lni szeretn\u00e9nk egy import\u00e1lt csomag egy f\u00fcggv\u00e9ny\u00e9t,\nakkor azt \u00edgy tudjuk h\u00edvni:</p>\n<pre>csomag[.alcsomag].f\u00e1jl.f\u00fcggv\u00e9ny()\n</pre>\n<p>Ebb\u0151l a <code>csomag</code>-ot \u00e9s a <code>f\u00fcggv\u00e9ny</code>-t nem lehet elhagyni, de az <code>alcsomag</code> \u00e9s\na <code>f\u00e1jl</code> \u00e1ltal\u00e1ban felesleges. A felhaszn\u00e1l\u00f3nak csak azt kellene\nmegjegyeznie, hogy melyik f\u00fcggv\u00e9ny melyik csomagban van, azt nem, hogy melyik\ncsomag melyik f\u00e1jlj\u00e1ban van. R\u00e1ad\u00e1sul a csomag \u00edr\u00f3i is szeretik a k\u00f3dot\nrugalmasan \u00e1tszervezni a h\u00e1tt\u00e9rben, pl. egy nagyra n\u0151tt f\u00e1jl egy r\u00e9sz\u00e9t\n\u00faj f\u00e1jlba \u00edrni an\u00e9lk\u00fcl, hogy elt\u00f6rn\u00e9k az <em>API</em>-t.</p>\n<p>Mivel az <code>__init__.py</code>-ban tal\u00e1lhat\u00f3 k\u00f3d import\u00e1l\u00e1skor v\u00e9grehajt\u00f3dik,\nez\u00e9rt \u00e9rdemes itt import\u00e1lni a publikusnak sz\u00e1nt f\u00fcggv\u00e9nyeket, oszt\u00e1lyokat, ezzel a csomag import\u00e1l\u00e1sakor ezek az objektumok is k\u00f6zvetlen\u00fcl haszn\u00e1lhat\u00f3k lesznek. P\u00e9lda:</p>\n<pre><span class=\"c1\"># mypackage/__init__.py</span>\n<span class=\"kn\">from</span> <span class=\"nn\">file1</span> <span class=\"kn\">import</span> <span class=\"n\">function1</span><span class=\"p\">,</span> <span class=\"n\">function2</span>\n<span class=\"kn\">from</span> <span class=\"nn\">file2</span> <span class=\"kn\">import</span> <span class=\"n\">function3</span>\n</pre>\n<p>Ezut\u00e1n a haszn\u00e1lat egyszer\u0171:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">mypackage</span>\n<span class=\"n\">mypackage</span><span class=\"o\">.</span><span class=\"n\">function1</span><span class=\"p\">()</span>\n</pre>\n<p><em>Megjegyz\u00e9s</em>: Ha az <code>__init__.py</code>-ban csillaggal import\u00e1lunk (<code>from file import *</code>), akkor az alulvon\u00e1ssal kezd\u0151d\u0151 objektumok nem ker\u00fclnek\nimport\u00e1l\u00e1sra (a teljes el\u00e9r\u00e9si \u00fatjukon kereszt\u00fcl tov\u00e1bbra is el\u00e9rhet\u0151ek\nlesznek, r\u00e9szletek\n<a href=\"https://dbader.org/blog/meaning-of-underscores-in-python\" rel=\"nofollow\">itt</a>).</p>\n<h2>5. Tesztel\u00e9s</h2>\n<p>Miel\u0151tt csomagoln\u00e1nk, tesztelj\u00fck le az alkalmaz\u00e1sunkat. A tesztel\u00e9shez\nhaszn\u00e1lhatjuk a hagyom\u00e1nyos\n<a href=\"https://docs.python.org/3/library/unittest.html\" rel=\"nofollow\"><em>unittest</em></a>-et, vagy az\n\u00fajabban elterjedt <a href=\"https://docs.pytest.org/en/latest/\" rel=\"nofollow\"><em>pytest</em></a>-et. A\n<code>test/</code> k\u00f6nyvt\u00e1rban vannak a tesztf\u00e1jlok, ezeket <em>pytest</em> est\u00e9n a k\u00f6vetkez\u0151\nparanccsal futtathatjuk:</p>\n<pre>pytest --verbose test/\n</pre>\n<p><em>Megjegyz\u00e9s</em>: a <code>test/</code> k\u00f6nyvt\u00e1r maga is csomag, kell benne lennie\n<code>__init__.py</code> f\u00e1jlnak.</p>\n<h2>6. A <code>setup.py</code> f\u00e1jl</h2>\n<p>Mag\u00e1t a csomagol\u00e1st (a terjeszthet\u0151 \u00e9s telep\u00edthet\u0151 form\u00e1tum l\u00e9trehoz\u00e1s\u00e1t) a\n<a href=\"https://setuptools.readthedocs.io/en/latest/\" rel=\"nofollow\"><em>setuptools</em></a> nev\u0171 python\ncsomag v\u00e9gzi. A <code>setup.py</code> f\u00e1jl tartalmazza a <em>setuptools</em> sz\u00e1m\u00e1ra sz\u00fcks\u00e9ges\nadatokat. Az adatokat lehet k\u00f6zvetlen\u00fcl a <code>setup.py</code>-ba is be\u00edrni, de n\u00e9ha\nhasznosabb m\u00e1shol t\u00e1rolni az adatot \u00e9s a <code>setup.py</code>-ban csak import\u00e1lni, vagy\nm\u00e1s m\u00f3don beolvasni.</p>\n<p>Egy viszonylag minimalista p\u00e9lda:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">setuptools</span>\n\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'README.md'</span><span class=\"p\">,</span> <span class=\"s1\">'r'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">fh</span><span class=\"p\">:</span>\n    <span class=\"n\">long_description</span> <span class=\"o\">=</span> <span class=\"n\">fh</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n\n<span class=\"n\">setuptools</span><span class=\"o\">.</span><span class=\"n\">setup</span><span class=\"p\">(</span>\n    <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'csomagn\u00e9v'</span><span class=\"p\">,</span>\n    <span class=\"n\">version</span><span class=\"o\">=</span><span class=\"s1\">'0.0.1'</span><span class=\"p\">,</span>\n    <span class=\"n\">author</span><span class=\"o\">=</span><span class=\"s1\">'szerz\u0151'</span><span class=\"p\">,</span>\n    <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s1\">'Minimalista p\u00e9lda csomag'</span><span class=\"p\">,</span>\n    <span class=\"n\">long_description</span><span class=\"o\">=</span><span class=\"n\">long_description</span><span class=\"p\">,</span>\n    <span class=\"n\">long_description_content_type</span><span class=\"o\">=</span><span class=\"s1\">'text/markdown'</span><span class=\"p\">,</span>\n    <span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s1\">'https://github.com/szerz\u0151/csomagn\u00e9v'</span><span class=\"p\">,</span>\n    <span class=\"n\">packages</span><span class=\"o\">=</span><span class=\"n\">setuptools</span><span class=\"o\">.</span><span class=\"n\">find_packages</span><span class=\"p\">(</span><span class=\"n\">exclude</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'test'</span><span class=\"p\">]),</span>\n    <span class=\"n\">classifiers</span><span class=\"o\">=</span><span class=\"p\">[</span>\n        <span class=\"s1\">'Programming Language :: Python :: 3'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'License :: OSI Approved :: MIT License'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'Operating System :: POSIX :: Linux'</span><span class=\"p\">,</span>\n    <span class=\"p\">],</span>\n    <span class=\"n\">python_requires</span><span class=\"o\">=</span><span class=\"s1\">'&gt;=3.6'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre>\n<p>A <em>setuptools.setup</em> fontosabb mez\u0151i:</p>\n<ul>\n<li><code>name</code>: A csomag neve (k\u00f6telez\u0151).</li>\n<li><code>version</code>: A csomag verzi\u00f3ja (k\u00f6telez\u0151). A pypi.org-ra nem lehet k\u00e9tszer\nugyanazt a verzi\u00f3sz\u00e1m\u00fa csomagot felt\u00f6lteni, akkor sem, ha am\u00fagy k\u00fcl\u00f6nb\u00f6znek.</li>\n<li><code>author</code>: A csomag szerz\u0151je.</li>\n<li><code>description</code>: R\u00f6vid le\u00edr\u00e1s.</li>\n<li><code>long_description</code>: Hossz\u00fa le\u00edr\u00e1s, jellemz\u0151en mag\u00e1t a README.md-t szokt\u00e1k\nmegadni. A PyPI ezt fogja a csomag oldal\u00e1n megjelen\u00edteni. Ha <em>markdown</em> f\u00e1jlt\nadunk meg, akkor meg kell adnunk a form\u00e1tumot is\n(<a href=\"https://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html\" rel=\"nofollow\"><em>.rst</em></a>\naz alap\u00e9rtelmezett).</li>\n<li><code>url</code>: A projekt honlapja.</li>\n<li><code>packages</code>: Itt adhat\u00f3 meg, hol keresse a python f\u00e1jlokat. \u00c9rdemes a\n<em>setuptools</em> <code>find_packages()</code> f\u00fcggv\u00e9ny\u00e9re b\u00edzni a dolgot. Az <code>exclude=[dir1, dir2, ...]</code> param\u00e9ternek megadott k\u00f6nyvt\u00e1rakban nem fog keresni.</li>\n<li><code>classifiers</code>: A PyPI sz\u00e1m\u00e1ra megadhat\u00f3 c\u00edmk\u00e9k list\u00e1ja <a href=\"https://pypi.org/classifiers/\" rel=\"nofollow\">itt</a>.</li>\n<li><code>python_requires</code>: Megadhat\u00f3 a minimum python verzi\u00f3.</li>\n</ul>\n<p>Futtassuk a <code>setup.py</code> f\u00e1jlt:</p>\n<pre>python3 setup.py sdist bdist_wheel\n</pre>\n<p>A rep\u00f3nkban h\u00e1rom \u00faj k\u00f6nyvt\u00e1r fog l\u00e9trej\u00f6nni: egy <code>build/</code>, egy <code>dist/</code> \u00e9s\negy <code>csomagn\u00e9v.egg-info/</code> (\u00e9rdemes ezeket a <code>.gitignore</code> f\u00e1jlba felvenni,\nvagy a GitHub python-hoz \u00edrt <code>.gitignore</code>\n<a href=\"https://github.com/github/gitignore/blob/master/Python.gitignore\" rel=\"nofollow\">f\u00e1jlj\u00e1t</a>\nhaszn\u00e1lni). Ezek k\u00f6z\u00fcl a <code>dist/</code> ami fontos, ebben tal\u00e1lhat\u00f3 ugyanis a\ncsomagunk terjeszthet\u0151 \u00e9s telep\u00edthet\u0151 v\u00e1ltozata.</p>\n<p>A csomag k\u00f6zvetlen\u00fcl telep\u00edthet\u0151 a <code>pip install .</code> paranccal, vagy\nregisztr\u00e1ci\u00f3t k\u00f6vet\u0151en felt\u00f6lthet\u0151 a pypi.org oldalra a k\u00f6vetkez\u0151 paranccsal:</p>\n<pre>python3 -m twine upload dist/*\n</pre>\n<p>Ezut\u00e1n b\u00e1rmelyik g\u00e9pen telep\u00edthet\u0151 a csomag a <code>pip install csomagn\u00e9v</code>\nparanccsal.</p>\n<p>A pypi.org oldalnak van egy teszt v\u00e1ltozata is, ha csak k\u00eds\u00e9rletezni\nszeretn\u00e9nk, javasolt ezt haszn\u00e1lni. A fenti parancsok ekkor \u00edgy m\u00f3dosulnak:</p>\n<pre>twine upload --repository-url https://test.pypi.org/legacy/ dist/*\npip install --index-url https://test.pypi.org/simple/ hellopypa\n</pre>\n<h2>7. Tov\u00e1bbi lehet\u0151s\u00e9gek</h2>\n<p>Tov\u00e1bbi tan\u00e1csok \u00e9s lehet\u0151s\u00e9gek a terjeszthet\u0151 csomag testreszab\u00e1s\u00e1ra.</p>\n<h3>7.1. Verzi\u00f3</h3>\n<p>A csomag verzi\u00f3j\u00e1t \u00e9rdemes egy helyen t\u00e1rolni csak \u00e9s m\u00e1shol csak innen beolvasni. A lehet\u0151s\u00e9geket l. <a href=\"https://packaging.python.org/guides/single-sourcing-package-version/\" rel=\"nofollow\">itt</a>. Az al\u00e1bbi megold\u00e1s l\u00e9nyege, hogy a csomagon bel\u00fcl egy k\u00fcl\u00f6n f\u00e1jlt haszn\u00e1lunk erre (<code>hellopypa/version.py</code>). Ezt a f\u00e1jlt import\u00e1ljuk a <code>setup.py</code>-ban \u00e9s a <code>hellopypa/__init__.py</code>-ban is. Ezzel elker\u00fclhet\u0151k a <code>hellopypa/__init__.py</code> k\u00f6zvetlen import\u00e1l\u00e1s\u00e1nak probl\u00e9m\u00e1i (l. az el\u0151bbi cikk 6. pontj\u00e1hoz \u00edrt figyelmeztet\u00e9st), de telep\u00edt\u00e9s n\u00e9lk\u00fcl is hozz\u00e1f\u00e9rhet\u0151 lesz a verzi\u00f3, mintha az <code>__init__.py</code>-ban lenne k\u00f6zvetlen\u00fcl.</p>\n<pre><span class=\"c1\"># hellopypa/version.py</span>\n<span class=\"n\">__version__</span> <span class=\"o\">=</span> <span class=\"s1\">'0.0.3'</span>\n</pre>\n<pre><span class=\"c1\"># hellopypa/__init__.py</span>\n<span class=\"c1\"># ...</span>\n<span class=\"kn\">from</span> <span class=\"nn\">hellopypa.version</span> <span class=\"kn\">import</span> <span class=\"n\">__version__</span>\n<span class=\"c1\"># ...</span>\n</pre>\n<pre><span class=\"c1\"># setup.py</span>\n<span class=\"c1\"># ...</span>\n<span class=\"kn\">from</span> <span class=\"nn\">hellopypa.version</span> <span class=\"kn\">import</span> <span class=\"n\">__version__</span>\n<span class=\"c1\"># ...</span>\n<span class=\"n\">setuptools</span><span class=\"o\">.</span><span class=\"n\">setup</span><span class=\"p\">(</span>\n    <span class=\"c1\"># ...</span>\n    <span class=\"n\">version</span><span class=\"o\">=</span><span class=\"n\">__version__</span><span class=\"p\">,</span>\n    <span class=\"c1\"># ...</span>\n<span class=\"p\">)</span>\n</pre>\n<h3>7.2. F\u00e1jlok hozz\u00e1ad\u00e1sa</h3>\n<p>A <em>setuptools</em> csak a python f\u00e1jlokat veszi figyelembe. Ha m\u00e1s f\u00e1jlokat is a\ncsomaghoz szeretn\u00e9nk adni (konfigur\u00e1ci\u00f3s f\u00e1jlokat, bin\u00e1risokat, adatot),\nakkor k\u00e9t dolgot kell csin\u00e1lnunk.</p>\n<ol>\n<li>\n<p>L\u00e9tre kell hoznunk egy <em>MANIFEST.in</em> f\u00e1jlt, amiben felsoroljuk, hogy miket\nszeretn\u00e9nk m\u00e9g a csomaghoz adni. R\u00e9szletek\n<a href=\"https://packaging.python.org/guides/using-manifest-in/\" rel=\"nofollow\">itt</a>. P\u00e9lda: adjuk a\nprojekthez a <em>.cfg</em> kiterjeszt\u00e9s\u0171 f\u00e1jlokat.</p>\n<pre># MANIFEST.in\ninclude hellopypa/*.cfg\n</pre>\n</li>\n<li>\n<p>A <em>setup.py</em>-ba is bele kell \u00edrni, hogy tov\u00e1bbi f\u00e1jlok is lesznek.</p>\n<pre><span class=\"c1\"># setup.py</span>\n<span class=\"c1\"># ...</span>\n<span class=\"n\">setuptools</span><span class=\"o\">.</span><span class=\"n\">setup</span><span class=\"p\">(</span>\n    <span class=\"c1\"># ...</span>\n    <span class=\"n\">include_package_data</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"c1\"># ...</span>\n<span class=\"p\">)</span>\n</pre>\n</li>\n</ol>\n<h3>7.3. Parancssori futtat\u00e1s</h3>\n<p>Ha csomagunkat a <code>pip install hellopypa</code> ut\u00e1n nem csak import\u00e1lva, de\nparancssori alkalmaz\u00e1sk\u00e9nt is szeretn\u00e9nk haszn\u00e1lni, akkor k\u00e9t dolgot\ntehet\u00fcnk.</p>\n<ol>\n<li>\n<p>Egy python csomag futtathat\u00f3 az <code>-m</code> kapcsol\u00f3val (pl. <code># python -m hellopypa</code>). Ehhez az kell, hogy a csomagban legyen egy <code>__main__.py</code> f\u00e1jl, a\npython ezt fogja keresni \u00e9s ha l\u00e9tezik, akkor futtatni. R\u00e9szletek (nem mintha\nnagyon lenn\u00e9nek) <a href=\"https://docs.python.org/3/library/__main__.html\" rel=\"nofollow\">itt</a>.</p>\n</li>\n<li>\n<p>Egy python csomag futtathat\u00f3 rendes, telep\u00edtett parancsk\u00e9nt is (pl.\n<code># hellopypa</code>). Ekkor a <em>setup.py</em>-ban meg kell adni egy \u00fagynevezett bel\u00e9p\u00e9si\npontot, konkr\u00e9tan egy f\u00fcggv\u00e9nyt, amit meg fog h\u00edvni a python. R\u00e9szletek\n<a href=\"https://setuptools.readthedocs.io/en/latest/pkg_resources.html#entry-points\" rel=\"nofollow\">itt</a>.\nP\u00e9lda:</p>\n<pre><span class=\"c1\"># setup.py</span>\n<span class=\"c1\"># ...</span>\n<span class=\"n\">setuptools</span><span class=\"o\">.</span><span class=\"n\">setup</span><span class=\"p\">(</span>\n    <span class=\"c1\"># ...</span>\n    <span class=\"n\">entry_points</span><span class=\"o\">=</span><span class=\"p\">{</span>\n        <span class=\"s2\">\"console_scripts\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"s2\">\"hellopypa=hellopypa.__main__:main\"</span><span class=\"p\">,</span>\n        <span class=\"p\">]</span>\n    <span class=\"p\">},</span>\n    <span class=\"c1\"># ...</span>\n<span class=\"p\">)</span>\n</pre>\n</li>\n</ol>\n<h2>8. Make</h2>\n<p><em>\u00c1tmeneti megold\u00e1s, am\u00edg nincs rendes automatiz\u00e1l\u00e1s.</em></p>\n<p><code>make clean</code>: A build-el\u00e9s sor\u00e1n keletkezett k\u00f6nyvt\u00e1rak t\u00f6rl\u00e9se (<code>buld/</code>,\n<code>dist/</code>, <code>*.egg-info/</code>).</p>\n<p><code>make test</code>: Tesztek futtat\u00e1sa.</p>\n<p><code>make build</code>: Build-el\u00e9s.</p>\n<p><code>make release_major</code>: <em>Major</em> verzi\u00f3sz\u00e1m v\u00e1lt\u00e1s, \u00faj release a GitHub-on \u00e9s a\nPyPI-n.</p>\n<p><code>make release_minor</code>: <em>Minor</em> verzi\u00f3sz\u00e1m v\u00e1lt\u00e1s, \u00faj release a GitHub-on \u00e9s a\nPyPI-n.</p>\n<p><code>make release_patch</code>: <em>Patch</em> verzi\u00f3sz\u00e1m v\u00e1lt\u00e1s, \u00faj release a GitHub-on \u00e9s a\nPyPI-n.</p>\n<h2>TODO</h2>\n<ul>\n<li>[x] Tartalom</li>\n<li>[x] Bevezet\u00e9s: modul, csomag, pypi</li>\n<li>[x] K\u00f6nyvt\u00e1rszerkezet</li>\n<li>[x] K\u00f6rnyezet</li>\n<li>[x] Tesztel\u00e9s</li>\n<li>[ ] Dokument\u00e1ci\u00f3</li>\n<li>[x] A <code>setup.py</code> f\u00e1jl</li>\n<li>[x] A <code>MANIFEST.in</code> f\u00e1jl</li>\n<li>[x] <code>__main__.py</code>, CLI</li>\n<li>[x] <code>__init__.py</code>, API</li>\n<li>[x] Verzi\u00f3z\u00e1s</li>\n<li>[x] Csomagol\u00e1s</li>\n<li>[x] K\u00f6zz\u00e9t\u00e9tel</li>\n<li>[ ] Automatiz\u00e1l\u00e1s</li>\n<li>[x] Telep\u00edt\u00e9s\n<ul>\n<li>[x] lok\u00e1lisan</li>\n<li>[x] pypi</li>\n</ul>\n</li>\n<li>[x] make</li>\n<li>[ ] f\u00fcgg\u0151s\u00e9g buildel\u00e9se a setup.py haszn\u00e1lat\u00e1val???</li>\n<li>[ ] f\u00fcgg\u0151s\u00e9g let\u00f6lt\u00e9se telep\u00edt\u00e9skor???</li>\n</ul>\n<h2>Irodalom</h2>\n<ul>\n<li>PyPA gyorstalpal\u00f3ja: <a href=\"https://packaging.python.org/tutorials/packaging-projects/\" rel=\"nofollow\">https://packaging.python.org/tutorials/packaging-projects/</a></li>\n<li>PyPA \u00fatmutat\u00f3i egyes t\u00e9m\u00e1khoz: <a href=\"https://packaging.python.org/guides/\" rel=\"nofollow\">https://packaging.python.org/guides/</a></li>\n<li><em>Real Python</em> tutorial: <a href=\"https://realpython.com/pypi-publish-python-package/\" rel=\"nofollow\">https://realpython.com/pypi-publish-python-package/</a></li>\n<li><em>setuptools</em> dokument\u00e1ci\u00f3: <a href=\"https://setuptools.readthedocs.io/en/latest/\" rel=\"nofollow\">https://setuptools.readthedocs.io/en/latest/</a></li>\n</ul>\n\n          </div>"}, "last_serial": 6733174, "releases": {"0.0.10": [{"comment_text": "", "digests": {"md5": "63621b18487c3a290d3c10d87f0a12ff", "sha256": "7ce96e170bc71ff2d3da394a49f1e8ed88a156e6851465941b3c362c7becee28"}, "downloads": -1, "filename": "hellopypa-0.0.10-py3-none-any.whl", "has_sig": false, "md5_digest": "63621b18487c3a290d3c10d87f0a12ff", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 9084, "upload_time": "2020-02-26T14:54:48", "upload_time_iso_8601": "2020-02-26T14:54:48.878434Z", "url": "https://files.pythonhosted.org/packages/23/70/4699cba09928076c53a30f7e8a309c04f7f9cb60fc3142c32ecff115cb05/hellopypa-0.0.10-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "02735c22b725a9c7a764940ac4b26728", "sha256": "4028c295acf104890e7e3acd0dabade45394cc1ccb422de0ff492755281ba6c2"}, "downloads": -1, "filename": "hellopypa-0.0.10.tar.gz", "has_sig": false, "md5_digest": "02735c22b725a9c7a764940ac4b26728", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 9774, "upload_time": "2020-02-26T14:54:51", "upload_time_iso_8601": "2020-02-26T14:54:51.577050Z", "url": "https://files.pythonhosted.org/packages/0b/86/db3f87f07177adb04ef3b89c003f833008f9bb784b4207411062deaacc34/hellopypa-0.0.10.tar.gz", "yanked": false}], "0.0.11": [{"comment_text": "", "digests": {"md5": "ddd64afd584e28816ae88500e9367398", "sha256": "93ea1120cc0ab40eb1c0dc11d76eb80e2f5389f2ed601a27340ff26bccd6caca"}, "downloads": -1, "filename": "hellopypa-0.0.11-py3-none-any.whl", "has_sig": false, "md5_digest": "ddd64afd584e28816ae88500e9367398", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 9249, "upload_time": "2020-03-02T13:12:29", "upload_time_iso_8601": "2020-03-02T13:12:29.335934Z", "url": "https://files.pythonhosted.org/packages/a3/a3/9b15ff6eac829ccbcdf563ed5d0fcf0f881573d9ff3d9056397a16026731/hellopypa-0.0.11-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "389d94f616d39d60590be94f3e0a9344", "sha256": "a9e3b9af4af51c84b47438acc71cc9efed634782a6992dd61d22b4a89e6ae9ad"}, "downloads": -1, "filename": "hellopypa-0.0.11.tar.gz", "has_sig": false, "md5_digest": "389d94f616d39d60590be94f3e0a9344", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 10052, "upload_time": "2020-03-02T13:12:31", "upload_time_iso_8601": "2020-03-02T13:12:31.297523Z", "url": "https://files.pythonhosted.org/packages/23/2f/1328fde7d57c2db21c12ce6f215c5c338933352719e522464735eff7e197/hellopypa-0.0.11.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ddd64afd584e28816ae88500e9367398", "sha256": "93ea1120cc0ab40eb1c0dc11d76eb80e2f5389f2ed601a27340ff26bccd6caca"}, "downloads": -1, "filename": "hellopypa-0.0.11-py3-none-any.whl", "has_sig": false, "md5_digest": "ddd64afd584e28816ae88500e9367398", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 9249, "upload_time": "2020-03-02T13:12:29", "upload_time_iso_8601": "2020-03-02T13:12:29.335934Z", "url": "https://files.pythonhosted.org/packages/a3/a3/9b15ff6eac829ccbcdf563ed5d0fcf0f881573d9ff3d9056397a16026731/hellopypa-0.0.11-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "389d94f616d39d60590be94f3e0a9344", "sha256": "a9e3b9af4af51c84b47438acc71cc9efed634782a6992dd61d22b4a89e6ae9ad"}, "downloads": -1, "filename": "hellopypa-0.0.11.tar.gz", "has_sig": false, "md5_digest": "389d94f616d39d60590be94f3e0a9344", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 10052, "upload_time": "2020-03-02T13:12:31", "upload_time_iso_8601": "2020-03-02T13:12:31.297523Z", "url": "https://files.pythonhosted.org/packages/23/2f/1328fde7d57c2db21c12ce6f215c5c338933352719e522464735eff7e197/hellopypa-0.0.11.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:51:43 2020"}
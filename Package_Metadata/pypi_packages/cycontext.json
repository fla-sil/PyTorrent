{"info": {"author": "medSpaCy", "author_email": "medspacy.dev@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "# cycontext\nA Python implementation of the ConText algorithm for clinical text concept assertion using the spaCy framework\n\n[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)\n\n# Overview\nThis package implements the ConText algorithm within the [spaCy](https://spacy.io) framework. \n[ConText](https://www.sciencedirect.com/science/article/pii/S1532046409000744) detects semantic modifiers such as **negation**, \n**family history**, and **certainty** in clinical text by\nrelating target concepts (such as \"pneumonia\") with semantic modifiers (such as \"no evidence of\"). \n\nThis builds on [pyConText](https://github.com/chapmanbe/pyConTextNLP), which extracts both targets and modifiers using\nregular expressions and relates them using a NetworkX graph.\n\nSee `notebooks/` for detailed explanations and examples.\n\nBefore getting started, make sure you've installed [spacy](https://spacy.io/usage) \nand [downloaded a model](https://spacy.io/usage/models) (ie., **en_core_web_sm**).\n\n# Key Features\n- cycontext is used as a modular [spaCy component](https://spacy.io/usage/processing-pipelines)\n- Modifiers are defined in a knowledge base which are used to modify target spans\n- Results are stored in a custom attribute `Doc._.context_graph`\n- Modifier -> target relationships are stored in `Doc._.context_graph.edges`\n\n# Basic Usage\n\n## Installation\nYou can install cycontext using pip:\n```bash\npip install cycontext\n```\n\nOr clone this repository install cycontext using the `setup.py` script:\n```bash\n$ python setup.py install\n```\n\nOnce you've installed the package and spaCy, make sure you have a spaCy language model installed (see https://spacy.io/usage/models):\n\n```bash\n$ python -m spacy download en_core_web_sm\n```\n\nIn the future cycontext should be made available through conda.\n\n## Example\n```python\nimport spacy\n\nfrom cycontext import ConTextComponent, ConTextItem\n\nnlp = spacy.load(\"en_core_web_sm\")\ntext = \"There is no evidence of pneumonia.\"\n\n###########################################\n# Add code for extracting target concepts #\n###########################################\ndoc = nlp(text)\nprint(doc.ents)\n>>> (pneumonia,)\n\nitem_data = [ConTextItem(\"no evidence of\", \"DEFINITE_NEGATED_EXISTENCE\", rule=\"forward\")]\ncontext = ConTextComponent(nlp)\ncontext.add(item_data)\nnlp.add_pipe(context, last=True)\n\ndoc = nlp(text)\nprint(doc._.context_graph.edges)\n>>> [(pneumonia, <TagObject> [No evidence of, definite_negated_existence])]\n\nfor target in doc.ents:\n    print(target._.is_experienced)\n\n>>> False\n```\n\n## Visualization\nWe can use [spaCy's visualizers](https://spacy.io/usage/visualizers) to display the results of cycontext.\nThis NER-style visualization highlights the targets and modifiers in text:\n\n```python\nfrom cycontext import viz\nviz.visualize_ent(doc)\n``` \n\n<p align=\"center\"><img width=\"75%\" src=\"img/ent_viz.png\" /></p>\n\nWhile this dependency-style visualization shows the relationships between targets and modifiers:\n```python\nviz.visualize_dep(doc)\n``` \n<p align=\"center\"><img width=\"75%\" src=\"img/dep_viz.png\" /></p>\n\n## Tests\nTo run tests:\n```bash\ncd cycontext\npytest tests\n```\n\n\n# Contact Information\nmedSpaCy team: medspacy.dev@gmail.com", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "cycontext", "package_url": "https://pypi.org/project/cycontext/", "platform": "", "project_url": "https://pypi.org/project/cycontext/", "project_urls": null, "release_url": "https://pypi.org/project/cycontext/1.0.1/", "requires_dist": null, "requires_python": "", "summary": "ConText algorithm using spaCy for clinical NLP", "version": "1.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>cycontext</h1>\n<p>A Python implementation of the ConText algorithm for clinical text concept assertion using the spaCy framework</p>\n<p><a href=\"https://github.com/psf/black\" rel=\"nofollow\"><img alt=\"Code style: black\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fbfdc7754183ecf079bc71ddeabaf88f6cbc5c00/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c61636b2d3030303030302e737667\"></a></p>\n<h1>Overview</h1>\n<p>This package implements the ConText algorithm within the <a href=\"https://spacy.io\" rel=\"nofollow\">spaCy</a> framework.\n<a href=\"https://www.sciencedirect.com/science/article/pii/S1532046409000744\" rel=\"nofollow\">ConText</a> detects semantic modifiers such as <strong>negation</strong>,\n<strong>family history</strong>, and <strong>certainty</strong> in clinical text by\nrelating target concepts (such as \"pneumonia\") with semantic modifiers (such as \"no evidence of\").</p>\n<p>This builds on <a href=\"https://github.com/chapmanbe/pyConTextNLP\" rel=\"nofollow\">pyConText</a>, which extracts both targets and modifiers using\nregular expressions and relates them using a NetworkX graph.</p>\n<p>See <code>notebooks/</code> for detailed explanations and examples.</p>\n<p>Before getting started, make sure you've installed <a href=\"https://spacy.io/usage\" rel=\"nofollow\">spacy</a>\nand <a href=\"https://spacy.io/usage/models\" rel=\"nofollow\">downloaded a model</a> (ie., <strong>en_core_web_sm</strong>).</p>\n<h1>Key Features</h1>\n<ul>\n<li>cycontext is used as a modular <a href=\"https://spacy.io/usage/processing-pipelines\" rel=\"nofollow\">spaCy component</a></li>\n<li>Modifiers are defined in a knowledge base which are used to modify target spans</li>\n<li>Results are stored in a custom attribute <code>Doc._.context_graph</code></li>\n<li>Modifier -&gt; target relationships are stored in <code>Doc._.context_graph.edges</code></li>\n</ul>\n<h1>Basic Usage</h1>\n<h2>Installation</h2>\n<p>You can install cycontext using pip:</p>\n<pre>pip install cycontext\n</pre>\n<p>Or clone this repository install cycontext using the <code>setup.py</code> script:</p>\n<pre>$ python setup.py install\n</pre>\n<p>Once you've installed the package and spaCy, make sure you have a spaCy language model installed (see <a href=\"https://spacy.io/usage/models\" rel=\"nofollow\">https://spacy.io/usage/models</a>):</p>\n<pre>$ python -m spacy download en_core_web_sm\n</pre>\n<p>In the future cycontext should be made available through conda.</p>\n<h2>Example</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">spacy</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">cycontext</span> <span class=\"kn\">import</span> <span class=\"n\">ConTextComponent</span><span class=\"p\">,</span> <span class=\"n\">ConTextItem</span>\n\n<span class=\"n\">nlp</span> <span class=\"o\">=</span> <span class=\"n\">spacy</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"s2\">\"en_core_web_sm\"</span><span class=\"p\">)</span>\n<span class=\"n\">text</span> <span class=\"o\">=</span> <span class=\"s2\">\"There is no evidence of pneumonia.\"</span>\n\n<span class=\"c1\">###########################################</span>\n<span class=\"c1\"># Add code for extracting target concepts #</span>\n<span class=\"c1\">###########################################</span>\n<span class=\"n\">doc</span> <span class=\"o\">=</span> <span class=\"n\">nlp</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">doc</span><span class=\"o\">.</span><span class=\"n\">ents</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"p\">(</span><span class=\"n\">pneumonia</span><span class=\"p\">,)</span>\n\n<span class=\"n\">item_data</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">ConTextItem</span><span class=\"p\">(</span><span class=\"s2\">\"no evidence of\"</span><span class=\"p\">,</span> <span class=\"s2\">\"DEFINITE_NEGATED_EXISTENCE\"</span><span class=\"p\">,</span> <span class=\"n\">rule</span><span class=\"o\">=</span><span class=\"s2\">\"forward\"</span><span class=\"p\">)]</span>\n<span class=\"n\">context</span> <span class=\"o\">=</span> <span class=\"n\">ConTextComponent</span><span class=\"p\">(</span><span class=\"n\">nlp</span><span class=\"p\">)</span>\n<span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">item_data</span><span class=\"p\">)</span>\n<span class=\"n\">nlp</span><span class=\"o\">.</span><span class=\"n\">add_pipe</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"n\">last</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"n\">doc</span> <span class=\"o\">=</span> <span class=\"n\">nlp</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">doc</span><span class=\"o\">.</span><span class=\"n\">_</span><span class=\"o\">.</span><span class=\"n\">context_graph</span><span class=\"o\">.</span><span class=\"n\">edges</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"p\">[(</span><span class=\"n\">pneumonia</span><span class=\"p\">,</span> <span class=\"o\">&lt;</span><span class=\"n\">TagObject</span><span class=\"o\">&gt;</span> <span class=\"p\">[</span><span class=\"n\">No</span> <span class=\"n\">evidence</span> <span class=\"n\">of</span><span class=\"p\">,</span> <span class=\"n\">definite_negated_existence</span><span class=\"p\">])]</span>\n\n<span class=\"k\">for</span> <span class=\"n\">target</span> <span class=\"ow\">in</span> <span class=\"n\">doc</span><span class=\"o\">.</span><span class=\"n\">ents</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"o\">.</span><span class=\"n\">_</span><span class=\"o\">.</span><span class=\"n\">is_experienced</span><span class=\"p\">)</span>\n\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kc\">False</span>\n</pre>\n<h2>Visualization</h2>\n<p>We can use <a href=\"https://spacy.io/usage/visualizers\" rel=\"nofollow\">spaCy's visualizers</a> to display the results of cycontext.\nThis NER-style visualization highlights the targets and modifiers in text:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">cycontext</span> <span class=\"kn\">import</span> <span class=\"n\">viz</span>\n<span class=\"n\">viz</span><span class=\"o\">.</span><span class=\"n\">visualize_ent</span><span class=\"p\">(</span><span class=\"n\">doc</span><span class=\"p\">)</span>\n</pre>\n<p align=\"center\"><img src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/000bd60c665462edebae44d1bb1b7adccb52eb6c/696d672f656e745f76697a2e706e67\" width=\"75%\"></p>\n<p>While this dependency-style visualization shows the relationships between targets and modifiers:</p>\n<pre><span class=\"n\">viz</span><span class=\"o\">.</span><span class=\"n\">visualize_dep</span><span class=\"p\">(</span><span class=\"n\">doc</span><span class=\"p\">)</span>\n</pre>\n<p align=\"center\"><img src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7941dadae301f4f7d120bfb37ec2f25a1b6683a4/696d672f6465705f76697a2e706e67\" width=\"75%\"></p>\n<h2>Tests</h2>\n<p>To run tests:</p>\n<pre><span class=\"nb\">cd</span> cycontext\npytest tests\n</pre>\n<h1>Contact Information</h1>\n<p>medSpaCy team: <a href=\"mailto:medspacy.dev@gmail.com\">medspacy.dev@gmail.com</a></p>\n\n          </div>"}, "last_serial": 6985960, "releases": {"0.1.2": [{"comment_text": "", "digests": {"md5": "a58613eb56e4b2f1e4a3a551b3c5e2c6", "sha256": "358a67e43e4a0b7e7e3347063ad9d361ae0b159400dc8db9f35f555727814ed2"}, "downloads": -1, "filename": "cycontext-0.1.2.tar.gz", "has_sig": false, "md5_digest": "a58613eb56e4b2f1e4a3a551b3c5e2c6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8780, "upload_time": "2019-12-08T15:42:09", "upload_time_iso_8601": "2019-12-08T15:42:09.959681Z", "url": "https://files.pythonhosted.org/packages/8d/3a/5f07d1252d7736065e1d70772a043fd0d70dd4232b75d5682f9ddd681c8b/cycontext-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "9621939a36c7bbfbf01ceaaa80124303", "sha256": "4f6d1d03b30b5f4c1d546172d52c3aec4c9c78363faef54f6c73bb292e1774fc"}, "downloads": -1, "filename": "cycontext-0.1.3.tar.gz", "has_sig": false, "md5_digest": "9621939a36c7bbfbf01ceaaa80124303", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10445, "upload_time": "2020-01-22T13:40:27", "upload_time_iso_8601": "2020-01-22T13:40:27.846762Z", "url": "https://files.pythonhosted.org/packages/e3/3b/88af872c412530211a20e2f580493666f263b703a39e863dfe717c0f1497/cycontext-0.1.3.tar.gz", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "930168bfd1e883b8460635a6acfc7dde", "sha256": "cc793df3ff64e5038c93f65e1a3509095edc67bb203120d56f38c984aaae1eb4"}, "downloads": -1, "filename": "cycontext-0.1.4-py3.7.egg", "has_sig": false, "md5_digest": "930168bfd1e883b8460635a6acfc7dde", "packagetype": "bdist_egg", "python_version": "3.7", "requires_python": null, "size": 36171, "upload_time": "2020-03-13T14:33:21", "upload_time_iso_8601": "2020-03-13T14:33:21.535647Z", "url": "https://files.pythonhosted.org/packages/24/19/1956134c4ac441391f4cbbf95dac7eea56b329a39a391651a46acb998407/cycontext-0.1.4-py3.7.egg", "yanked": false}], "0.1.5": [{"comment_text": "", "digests": {"md5": "df56c6d28f61142413bc86540dc9b57e", "sha256": "26401a151c442e821198e4f06774c97853621e32b8553254b174c4da64bdf8aa"}, "downloads": -1, "filename": "cycontext-0.1.5-py3-none-any.whl", "has_sig": false, "md5_digest": "df56c6d28f61142413bc86540dc9b57e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 21811, "upload_time": "2020-03-13T14:33:18", "upload_time_iso_8601": "2020-03-13T14:33:18.316176Z", "url": "https://files.pythonhosted.org/packages/0a/0d/df7a59e4b75b5073589318b2fe818fdcfb7c97cfde523976d59f930d268f/cycontext-0.1.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a534af02ed51dd0a404e90f3168d2943", "sha256": "f3e78a350d1e31f3b338e556ec616bb4af60436c326fd000722a43e4ce5f6ab9"}, "downloads": -1, "filename": "cycontext-0.1.5.tar.gz", "has_sig": false, "md5_digest": "a534af02ed51dd0a404e90f3168d2943", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15524, "upload_time": "2020-03-13T14:33:23", "upload_time_iso_8601": "2020-03-13T14:33:23.186497Z", "url": "https://files.pythonhosted.org/packages/19/e9/73a68b9368ba1f5376bddf1636c1ac85c821b5ca84d8bb367cba7b035986/cycontext-0.1.5.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "239368ecaeab5bb32decbee1197b7844", "sha256": "795e691ab3db122e159bf3d90acafd395e3de9391fdc9e912f35ba8d517051f4"}, "downloads": -1, "filename": "cycontext-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "239368ecaeab5bb32decbee1197b7844", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 21809, "upload_time": "2020-03-13T14:33:19", "upload_time_iso_8601": "2020-03-13T14:33:19.864265Z", "url": "https://files.pythonhosted.org/packages/c5/94/f0db0469ea197f4dd8b3d4e2f268f1c236399b607e19a2341308bf542370/cycontext-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1e82ffd0f79a2c076307d9a2e2abd89a", "sha256": "46f79b4448b68d7d7bc63643d6b48d612f24b28e661df5433731e466a49cf4df"}, "downloads": -1, "filename": "cycontext-1.0.0.tar.gz", "has_sig": false, "md5_digest": "1e82ffd0f79a2c076307d9a2e2abd89a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15525, "upload_time": "2020-03-13T14:33:24", "upload_time_iso_8601": "2020-03-13T14:33:24.647475Z", "url": "https://files.pythonhosted.org/packages/fd/f6/ffc6e8a1da2e29700259ea4c18e318edd382468cb706f49bdce2c973af1e/cycontext-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "4d712c11b11a3734b421896e4c0c0c9b", "sha256": "383278dd9b57b9247b1b43ea7ca98089efd85bb631dde2d7b7863db4ec32b364"}, "downloads": -1, "filename": "cycontext-1.0.1.tar.gz", "has_sig": false, "md5_digest": "4d712c11b11a3734b421896e4c0c0c9b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16791, "upload_time": "2020-04-09T12:54:52", "upload_time_iso_8601": "2020-04-09T12:54:52.012725Z", "url": "https://files.pythonhosted.org/packages/f3/c4/41c4a15c94664000ca954f3849a02f47d6016b2a4ca8a80f6bdf98e687e3/cycontext-1.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "4d712c11b11a3734b421896e4c0c0c9b", "sha256": "383278dd9b57b9247b1b43ea7ca98089efd85bb631dde2d7b7863db4ec32b364"}, "downloads": -1, "filename": "cycontext-1.0.1.tar.gz", "has_sig": false, "md5_digest": "4d712c11b11a3734b421896e4c0c0c9b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16791, "upload_time": "2020-04-09T12:54:52", "upload_time_iso_8601": "2020-04-09T12:54:52.012725Z", "url": "https://files.pythonhosted.org/packages/f3/c4/41c4a15c94664000ca954f3849a02f47d6016b2a4ca8a80f6bdf98e687e3/cycontext-1.0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:41:07 2020"}
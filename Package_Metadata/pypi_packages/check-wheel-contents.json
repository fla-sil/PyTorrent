{"info": {"author": "John Thorvald Wodder II", "author_email": "check-wheel-contents@varonathe.org", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Console", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: 3 :: Only", "Programming Language :: Python :: Implementation :: CPython", "Programming Language :: Python :: Implementation :: PyPy", "Topic :: Software Development :: Build Tools", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: Software Development :: Quality Assurance"], "description": ".. image:: http://www.repostatus.org/badges/latest/active.svg\n    :target: http://www.repostatus.org/#active\n    :alt: Project Status: Active \u2014 The project has reached a stable, usable\n          state and is being actively developed.\n\n.. image:: https://travis-ci.com/jwodder/check-wheel-contents.svg?branch=master\n    :target: https://travis-ci.com/jwodder/check-wheel-contents\n\n.. image:: https://codecov.io/gh/jwodder/check-wheel-contents/branch/master/graph/badge.svg\n    :target: https://codecov.io/gh/jwodder/check-wheel-contents\n\n.. image:: https://img.shields.io/pypi/pyversions/check-wheel-contents.svg\n    :target: https://pypi.org/project/check-wheel-contents/\n\n.. image:: https://img.shields.io/github/license/jwodder/check-wheel-contents.svg\n    :target: https://opensource.org/licenses/MIT\n    :alt: MIT License\n\n.. image:: https://img.shields.io/badge/Say%20Thanks-!-1EAEDB.svg\n    :target: https://saythanks.io/to/jwodder\n\n`GitHub <https://github.com/jwodder/check-wheel-contents>`_\n| `PyPI <https://pypi.org/project/check-wheel-contents/>`_\n| `Issues <https://github.com/jwodder/check-wheel-contents/issues>`_\n\nGetting the right files into your wheel is tricky, and sometimes we mess up and\npublish a wheel containing ``__pycache__`` directories or ``tests/``.  Do we\nhave to manually check the contents of every wheel we build before uploading it\nto PyPI?  How about letting this program check for you?  Just run\n``check-wheel-contents`` on your wheel, and it'll fail and notify you if any of\nseveral common errors & mistakes are detected.  The errors are described below,\nalong with common causes and corresponding fixes.\n\nInstallation\n============\n``check-wheel-contents`` requires Python 3.6 or higher.  Just use `pip\n<https://pip.pypa.io>`_ for Python 3 (You have pip, right?) to install\n``check-wheel-contents`` and its dependencies::\n\n    python3 -m pip install check-wheel-contents\n\n\nUsage\n=====\n\n::\n\n    check-wheel-contents [<options>] <wheel or directory> ...\n\n``check-wheel-contents`` takes zero or more paths as arguments, each pointing\nto either a wheel to analyze or a directory that will be traversed for wheels\nto analyze.  If a given wheel fails any checks, a message will be printed for\neach check along with (if applicable) a list of filepaths in the wheel causing\nthe check to fail, and the command will exit with a nonzero status.  If a wheel\npasses all checks, the program will print ``{path_to_wheel}: OK``.\n\nOptions\n-------\n\n- ``-c <file>``, ``--config <file>`` \u2014 Read configuration from the given file;\n  see below for more information\n\n- ``--no-config`` \u2014 Disable reading from the configuration file\n\n- ``-h``, ``--help`` \u2014 Display a usage message and exit\n\n- ``-V``, ``--version`` \u2014 Display the program version and exit\n\nThe remaining options can be given either on the command line or in the\nconfiguration file; see \"`Configuration Options <configuration_options_>`_\" for\nmore information.\n\n\nConfiguration\n=============\n\nConfiguration File\n------------------\n\nIf a configuration file is specified on the command line with the ``--config``\noption, ``check-wheel-contents`` reads its configuration from the given file.\nFiles with a ``.toml`` extension are parsed as TOML files, and the\nconfiguration is read from the ``tool.check-wheel-contents`` table.  All other\nfiles are parsed as INI files, and their configuration is read from the\n``[check-wheel-contents]`` section (unless the file is named ``setup.cfg``, in\nwhich case the section ``[tool:check-wheel-contents]`` is used instead).\n\nIf no configuration file is specified on the command line, the program begins\nsearching for a file named ``pyproject.toml``, ``tox.ini``, ``setup.cfg``,\n``check-wheel-contents.cfg``, or ``.check-wheel-contents.cfg``, starting in the\ncurrent directory and going up.  The files are read using the same rules as for\nthe ``--config`` option, and the first file in the list that contains the\nappropriate section is used.  Searching stops once a directory containing any\nof the named files is found, even if none of them contain the relevant section.\n\n.. _configuration_options:\n\nConfiguration Options\n---------------------\n\nThe following options may be set either on the command line or in the\nconfiguration file.  Settings given on the command line override those in the\nconfiguration file.  Unknown keys in configuration files are ignored.\n\n``--select <checks>`` / ``select = <checks>``\n   Select/enable only the given checks.  ``<checks>`` is a comma-separated list\n   of check IDs and/or check ID prefixes (to select all checks beginning with\n   the given prefixes).\n\n   In a TOML file, ``<checks>`` may alternatively be given as a list of\n   strings.\n\n   By default, all checks are selected (though some checks are no-ops when\n   certain other options are/aren't given).\n\n``--ignore <checks>`` / ``ignore = <checks>``\n   Ignore/skip the given checks.  ``<checks>`` is a comma-separated list of\n   check IDs and/or check ID prefixes (to ignore all checks beginning with the\n   given prefixes).\n\n   In a TOML file, ``<checks>`` may alternatively be given as a list of\n   strings.\n\n   By default, no checks are ignored.\n\n``--toplevel <names>`` / ``toplevel = <names>``\n   Tell ``check-wheel-contents`` to check that the toplevel library entries of\n   the wheel equal the set of names in the comma-separated list ``<names>``;\n   e.g., ``--toplevel foo.py,bar/`` checks that ``foo.py``, ``bar``, and\n   nothing else is at the top level of your wheel.  Trailing slashes on\n   directory names are optional.\n\n   In a TOML file, ``<names>`` may alternatively be given as a list of strings.\n\n   This option disables check W009 and enables checks W201 and W202.\n\n``--package <path>`` / ``package = <paths>``\n   Tell ``check-wheel-contents`` to check that the wheel's library sections\n   contain the file tree rooted at ``<path>``.\n\n   Paths given on the command line are resolved relative to the current working\n   directory.  Paths given in a configuration file are resolved relative to the\n   directory containing the configuration file.\n\n   On the command line, multiple paths can be specified by supplying\n   ``--package`` multiple times.  In a configuration file, multiple paths can\n   be specified by setting ``package`` to a comma-separated list of paths.  In\n   a TOML file, ``<paths>`` may alternatively be given as a list of strings.\n\n   This option disables check W009 and enables checks W101 and W102.\n\n``--src-dir <path>`` / ``src_dir = <paths>``\n   The same as ``--package``, except that only the contents of ``<path>``\n   (which must be a directory) and not ``<path>`` itself are checked against\n   the wheel's contents.\n\n``--package-omit <patterns>`` / ``package_omit = <patterns>``\n   Ignore files & directories inside ``--package`` or ``--src-dir`` arguments\n   that match any of the glob patterns in the comma-separated list\n   ``<patterns>``.  Ignored files will not be looked for in wheels for check\n   W101, and if any of them do show up in a wheel, it will cause check W102 to\n   fail.\n\n   In a TOML file, ``<patterns>`` may alternatively be given as a list of\n   strings.\n\n   The default set of ignored patterns is ``.*, CVS, RCS, *.pyc, *.pyo,\n   *.egg-info``.\n\n\nChecks\n======\n\n**Note**: Unless otherwise stated, the common causes and their fixes listed\nhere are specific to projects developed using setuptools.  Users of other tools\nlike flit and poetry will have to consult those projects' documentation in\norder to resolve failed checks.\n\n**Note**: When rebuilding a wheel with setuptools, it is a good idea to delete\nthe ``build/`` directory first.  (This can be done in a single command with\n``python setup.py clean --all bdist_wheel``.)  Not doing this can cause various\nchecks to continue to fail or new ones to start failing.\n\n\nW001 \u2014 Wheel contains .pyc/.pyo files\n-------------------------------------\nThis check fails if there are any files in the wheel with a ``.pyc`` or\n``.pyo`` extension.  Such files are compiled Python bytecode files, and they do\nnot belong in wheels, because (a) they are platform-specific and thus useless\nto many of your users, and (b) pip generates ``.pyc`` files for the ``.py``\nfiles in your wheel automatically.\n\nCommon causes:\n\n- You have ``include_package_data`` set to ``True``, your ``MANIFEST.in``\n  contains ``graft packagename`` or ``recursive-include packagename *``, and\n  the line ``global-exclude *.py[co]`` or similar is either missing from the\n  ``MANIFEST.in`` or else in the wrong location.\n\n  **Solution**: Ensure that ``global-exclude *.py[co]`` appears in your\n  ``MANIFEST.in`` file *after* all ``include``, ``recursive-include``,\n  ``global-include``, and ``graft`` commands.\n\n- You have ``[install]optimize = 1`` set in ``setup.cfg`` (or, equivalently,\n  ``options={\"install\": {\"optimize\": \"1\"}}`` set in ``setup.py``).\n\n  **Solution**: Remove this setting.  It's only useful when using ``setup.py\n  install`` anyway, which is deprecated.\n\n\nW002 \u2014 Wheel contains duplicate files\n-------------------------------------\nThis check fails if any two files in the wheel have the same contents.  Common\nfile contents, such as files that are empty or just contain the line \"``# -*-\ncoding: utf-8 -*-``\", are excluded from this check.\n\nCommon causes:\n\n- *(Build tool agnostic)* You copied a file or directory when you actually\n  meant to rename it.\n\n  **Solution**: Delete the original copy of the file or directory.\n\n- You built a wheel, renamed a file or directory, and then built a wheel again\n  without first deleting the ``build/`` directory.\n\n  **Solution**: Delete the ``build/`` directory and build the wheel again.\n\n\nW003 \u2014 Wheel contains non-module at library toplevel\n----------------------------------------------------\nThis check fails if there are any files at the root of the purelib or platlib\nsection of the wheel that are not Python modules or ``.pth`` files.\nNon-modules belong elsewhere in a wheel:\n\n- Licenses and similar notices should be stored in the wheel's ``*.dist-info``\n  directory using ``wheel``'s ``license_files`` option.\n\n- Package data/resource files belong inside a package directory so that they\n  can be located with ``pkg_resources`` or ``importlib-resources``.\n\n- A project's ``README`` should already be used as the project's\n  ``long_description``, in which case the text of the ``README`` is already\n  included in the wheel inside the ``*.dist-info/METADATA`` file.  There should\n  thus be no need to store the ``README`` in the wheel's library sections.\n\n\nW004 \u2014 Module is not located at importable path\n-----------------------------------------------\nThis check fails if there are any Python modules in the purelib or platlib\nsection of the wheel that cannot be imported due to one or more of their path\ncomponents being invalid Python identifiers.\n\nCommon causes:\n\n- *(Build tool agnostic)* You gave a package directory or module a name\n  containing a hyphen or other character not allowed in Python identifiers.\n\n  **Solution**: Rename the offending directory or module to remove the\n  offending character, most likely by changing it to an underscore.\n\n- *(Build tool agnostic)* You gave a package directory or module the name of a\n  Python keyword.\n\n  **Solution**: Rename the offending directory or module.\n\n\nW005 \u2014 Wheel contains common toplevel name in library\n-----------------------------------------------------\nThis check fails if there are any files or directories named ``.eggs``,\n``.nox``, ``.tox``, ``.venv``, ``build``, ``data``, ``dist``, ``doc``,\n``docs``, ``example``, ``examples``, ``src``, ``test``, ``tests``, or ``venv``\nlocated at the root of the purelib or platlib section of the wheel.  These\nnames are conventionally used for directories that don't belong in wheels\n(aside from ``src``, whose contents belong in wheels but itself does not belong\nin a wheel).  Projects should only use toplevel names that resemble the project\nname; using common names will cause different projects' files to overwrite each\nother on installation.\n\nCommon causes:\n\n- For ``src``: You failed to set up your ``src/`` layout correctly.  ``src``\n  should not contain an ``__init__.py`` file, ``where='src'`` needs to be\n  passed to ``setuptools.find_packages()`` in ``setup.py``, and\n  ``package_dir={\"\": \"src\"}`` needs to be passed to ``setup()`` in\n  ``setup.py``.\n\n- For directories other than ``src``: The directory contains an ``__init__.py``\n  file, and the directory is not listed in the ``exclude`` argument to\n  ``setuptools.find_packages()`` in ``setup.py``.\n\n  **Solution**: Include ``'DIRNAME'`` and ``'DIRNAME.*'`` in the list passed to\n  the ``exclude`` argument of ``find_packages()``.\n\n- For directories other than ``src``: The directory is listed in the\n  ``exclude`` argument to ``find_packages()``, but ``'DIRNAME.*'`` is not, and\n  a subdirectory of the directory contains an ``__init__.py`` file.\n\n  **Solution**: Include ``'DIRNAME.*'`` in the list passed to the ``exclude``\n  argument of ``find_packages()``.\n\n- You actually want to include your tests or examples in your wheel.\n\n  **Solution**: Move the tests or whatever to inside your main package\n  directory (e.g., move ``tests/`` to ``somepackage/tests/``) so that they\n  won't collide with other projects' files on installation.\n\n\nW006 \u2014 ``__init__.py`` at top level of library\n----------------------------------------------\nThis check fails if there is a file named ``__init__.py`` at the root of the\npurelib or platlib section of the wheel.  ``__init__.py`` files only belong\ninside package directories, not at the root of an installation.\n\nCommon causes:\n\n- You failed to set up your ``src/`` layout correctly.  ``src`` should not\n  contain an ``__init__.py`` file, ``where='src'`` needs to be passed to\n  ``setuptools.find_packages()`` in ``setup.py``, and ``package_dir={\"\":\n  \"src\"}`` needs to be passed to ``setup()`` in ``setup.py``.\n\n- You created an ``__init__.py`` file at the root of your project and set\n  ``packages='.'`` in ``setup.py``.\n\n  **Solution**: Configure your project's packages correctly.  For single-file\n  modules, pass a list of their names (without the ``.py`` extension) to the\n  ``py_modules`` argument to ``setup()``.  For package modules (directories),\n  pass a list of their names and the dotted names of their descendant\n  subpackages (possibly obtained by calling ``setuptools.find_packages()``) to\n  ``packages``.\n\n\nW007 \u2014 Wheel library is empty\n-----------------------------\nThis check fails if the wheel contains no files in either its purelib or\nplatlib section.\n\nCommon causes:\n\n- Your project consists of a single-file ``.py`` module, but you declared it to\n  ``setup()`` in ``setup.py`` using the ``packages`` keyword.\n\n  **Solution**: Single-file modules must be declared to ``setup()`` using the\n  ``py_modules`` keyword.  Pass it a list of the names of your single-file\n  modules without the ``.py`` extension.\n\n- You are using ``setuptools.find_packages()`` to list your packages for\n  ``setup()``, but your package does not contain an ``__init__.py`` file.\n\n  **Solution**: Create an ``__init__.py`` file in your package.  If this is not\n  an option because you are building a namespace package, use\n  ``setuptools.find_namespace_packages()`` instead of ``find_packages()``.  Be\n  sure to set the arguments appropriately so that the function only finds your\n  main package; `see the documentation for further information\n  <https://setuptools.readthedocs.io/en/latest/setuptools.html#find-namespace-packages>`_.\n\n- You're deliberately creating a wheel that only contains scripts, headers, or\n  other data files.\n\n  **Solution**: Ignore this check.\n\n\nW008 \u2014 Wheel is empty\n---------------------\nThis check fails if the wheel contains no files other than the ``*.dist-info``\nmetadata directory.  It is a stronger check than W007, intended for users who\nare creating wheels that only contain scripts, headers, and other data files\nand thus need to ignore W007.\n\nCommon causes:\n\n- Same causes as for W007\n\n- You're deliberately creating an empty wheel whose only function is to cause a\n  set of dependencies to be installed.\n\n  **Solution**: Ignore this check.\n\n\nW009 \u2014 Wheel contains multiple toplevel library entries\n-------------------------------------------------------\nThis check fails if the wheel's purelib and platlib sections contain more than\none toplevel entry between them, excluding ``.pth`` files and files &\ndirectories that begin with an underscore.  This is generally a sign that\nsomething has gone wrong in packaging your project, as very few projects want\nto distribute code with multiple top-level modules or packages.\n\nThis check is disabled if the ``--toplevel``, ``--package``, or ``--src-dir``\noption is given either on the command line or in the configuration file.\n\nCommon causes:\n\n- You built a wheel, renamed a toplevel file or directory, and then built a\n  wheel again without first deleting the ``build/`` directory.\n\n  **Solution**: Delete the ``build/`` directory and build the wheel again.\n\n- You are using ``setuptools.find_packages()`` in your ``setup.py``, your\n  project contains multiple directories with ``__init__.py`` files, and one or\n  more of these directories (other than your main package) is not listed in the\n  ``exclude`` argument to ``find_packages()``.\n\n  **Solution**: Pass a list of all ``__init__.py``-having directories in your\n  project other than your main package to the ``exclude`` argument of\n  ``find_packages()``.  For proper exclusion, each directory ``DIRNAME`` should\n  correspond to two elements of this list, ``'DIRNAME'`` and ``'DIRNAME.*'``,\n  in order to ensure that the directory and all of its subdirectories are\n  excluded.\n\n- You are deliberately creating a wheel with multiple top-level Python modules\n  or packages.\n\n  **Solution**: Use the ``--toplevel`` option to let ``check-wheel-contents``\n  know what toplevel entries to expect.\n\n\nW010 \u2014 Toplevel library directory contains no Python modules\n------------------------------------------------------------\nThis check fails if a directory tree rooted at the root of the purelib or\nplatlib section of the wheel contains no Python modules.  ``*-stubs``\ndirectories are excluded from this check.\n\n\nW101 \u2014 Wheel library is missing files in package tree\n-----------------------------------------------------\nThis check is only enabled if the ``--package`` or ``--src-dir`` option is set.\nThis check fails if a path in a tree rooted at an argument to ``--package`` or\ninside an argument to ``--src-dir`` does not appear in the wheel's purelib or\nplatlib section.  Empty directories and local files & directories that match\nany of the patterns specified with ``--package-omit`` or its default value are\nexcluded from this check.\n\nNote that this check only checks file paths, i.e., names of files &\ndirectories.  File contents are not examined.\n\nFor example, given the below local tree::\n\n    /usr/src/project/\n    \u251c\u2500\u2500 foo/\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 .gitignore\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 foo.py\n    \u2514\u2500\u2500 src/\n        \u251c\u2500\u2500 bar/\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 bar.py\n        \u2502\u00a0\u00a0 \u251c\u2500\u2500 empty/\n        \u2502\u00a0\u00a0 \u2514\u2500\u2500 quux/\n        \u2502\u00a0\u00a0     \u2514\u2500\u2500 data.dat\n        \u2514\u2500\u2500 bar.egg-info/\n            \u2514\u2500\u2500 PKG-INFO\n\nIf the options ``--package /usr/src/project/foo`` and ``--src-dir\n/usr/src/project/src`` are supplied and ``--package-omit`` is left at its\ndefault value, then ``check-wheel-contents`` will look for the following paths\nin the wheel, and the check will fail if any of them do not appear in either\nthe purelib or platlib section::\n\n    foo/__init__.py\n    foo/foo.py\n    bar/__init__.py\n    bar/bar.py\n    bar/quux/data.dat\n\nNote that ``foo/.gitignore`` and ``src/bar.egg-info`` are omitted from this\ncheck (and if they do appear in the wheel, it will cause check W102 to fail).\nEmpty directories are ignored altogether.\n\nCommon causes:\n\n- For Python files: You failed to pass all of your project's packages &\n  subpackages to ``setup()``'s ``packages`` argument.  If you are using\n  ``setuptools.find_packages()``, all of your packages & subpackages need to\n  contain ``__init__.py`` files.\n\n- For non-Python files: You failed to declare your project's package data\n  appropriately.  `See the setuptools documentation for information on how to\n  do this\n  <https://setuptools.readthedocs.io/en/latest/setuptools.html#including-data-files>_`.\n\n\nW102 \u2014 Wheel library contains files not in package tree\n-------------------------------------------------------\nThis check is only enabled if the ``--package`` or ``--src-dir`` option is set.\nThis check fails if the purelib or platlib section of the wheel contains any\nfiles at paths that do not exist in any of the file trees specified with\n``--package`` or ``--src-dir``.\n\nNote that this check only checks file paths, i.e., names of files &\ndirectories.  File contents are not examined.\n\nFor example, given the local tree and options shown in the example under W101,\nthis check will fail if the wheel contains any files in its purelib or platlib\nsection other than the following::\n\n    foo/__init__.py\n    foo/foo.py\n    bar/__init__.py\n    bar/bar.py\n    bar/quux/data.dat\n\nNote that files & directories that match any of the patterns specified with\n``--package-omit`` or its default value are ignored in local trees, and so any\nentries with those names in the wheel will cause this check to fail.  Empty\ndirectories are ignored altogether.\n\nCommon causes: See common causes of W009\n\n\nW201 \u2014 Wheel library is missing specified toplevel entry\n--------------------------------------------------------\nThis check is only enabled if the ``--toplevel`` option is set.  This check\nfails if one or more of the names given in the ``--toplevel`` option does not\nappear at the root of the purelib or platlib section of the wheel.\n\nCommon causes: See common causes of W007\n\n\nW202 \u2014 Wheel library has undeclared toplevel entry\n--------------------------------------------------\nThis check is only enabled if the ``--toplevel`` option is set.  This check\nfails if there is a file or directory at the root of the purelib or platlib\nsection of the wheel that is not listed in the ``--toplevel`` option.\n``*.pth`` files are ignored for the purposes of this check.\n\nCommon causes: See common causes of W009\n\n\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/jwodder/check-wheel-contents", "keywords": "linter,packaging,wheel", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "check-wheel-contents", "package_url": "https://pypi.org/project/check-wheel-contents/", "platform": "", "project_url": "https://pypi.org/project/check-wheel-contents/", "project_urls": {"Bug Tracker": "https://github.com/jwodder/check-wheel-contents/issues", "Homepage": "https://github.com/jwodder/check-wheel-contents", "Say Thanks!": "https://saythanks.io/to/jwodder", "Source Code": "https://github.com/jwodder/check-wheel-contents"}, "release_url": "https://pypi.org/project/check-wheel-contents/0.1.0/", "requires_dist": ["attrs (>=18.1)", "click (~=7.0)", "property-manager (~=3.0)", "toml", "wheel-filename (~=1.1)"], "requires_python": "~=3.6", "summary": "Check your wheels have the right contents", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"http://www.repostatus.org/#active\" rel=\"nofollow\"><img alt=\"Project Status: Active \u2014 The project has reached a stable, usable state and is being actively developed.\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/51adb09f202aea47725eca73a3fcf5e1ab47f2e9/687474703a2f2f7777772e7265706f7374617475732e6f72672f6261646765732f6c61746573742f6163746976652e737667\"></a>\n<a href=\"https://travis-ci.com/jwodder/check-wheel-contents\" rel=\"nofollow\"><img alt=\"https://travis-ci.com/jwodder/check-wheel-contents.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/00ff5c1da86649de2d35a5e22375ac0928cc3bcf/68747470733a2f2f7472617669732d63692e636f6d2f6a776f646465722f636865636b2d776865656c2d636f6e74656e74732e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/jwodder/check-wheel-contents\" rel=\"nofollow\"><img alt=\"https://codecov.io/gh/jwodder/check-wheel-contents/branch/master/graph/badge.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/52eb25d51cf0597283ae129f7a0781e5c646dcb8/68747470733a2f2f636f6465636f762e696f2f67682f6a776f646465722f636865636b2d776865656c2d636f6e74656e74732f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"https://pypi.org/project/check-wheel-contents/\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/pyversions/check-wheel-contents.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ceccbd8d3d4f3541857b481df880212682d263d8/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f636865636b2d776865656c2d636f6e74656e74732e737667\"></a>\n<a href=\"https://opensource.org/licenses/MIT\" rel=\"nofollow\"><img alt=\"MIT License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0c56ba877047f93d048fc0350a90c91fbfcefae1/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6a776f646465722f636865636b2d776865656c2d636f6e74656e74732e737667\"></a>\n<a href=\"https://saythanks.io/to/jwodder\" rel=\"nofollow\"><img alt=\"https://img.shields.io/badge/Say%20Thanks-!-1EAEDB.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/51b7f145f134a99621f186ddcdb0af646a24c8aa/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5361792532305468616e6b732d212d3145414544422e737667\"></a>\n<p><a href=\"https://github.com/jwodder/check-wheel-contents\" rel=\"nofollow\">GitHub</a>\n| <a href=\"https://pypi.org/project/check-wheel-contents/\" rel=\"nofollow\">PyPI</a>\n| <a href=\"https://github.com/jwodder/check-wheel-contents/issues\" rel=\"nofollow\">Issues</a></p>\n<p>Getting the right files into your wheel is tricky, and sometimes we mess up and\npublish a wheel containing <tt>__pycache__</tt> directories or <tt>tests/</tt>.  Do we\nhave to manually check the contents of every wheel we build before uploading it\nto PyPI?  How about letting this program check for you?  Just run\n<tt><span class=\"pre\">check-wheel-contents</span></tt> on your wheel, and it\u2019ll fail and notify you if any of\nseveral common errors &amp; mistakes are detected.  The errors are described below,\nalong with common causes and corresponding fixes.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p><tt><span class=\"pre\">check-wheel-contents</span></tt> requires Python 3.6 or higher.  Just use <a href=\"https://pip.pypa.io\" rel=\"nofollow\">pip</a> for Python 3 (You have pip, right?) to install\n<tt><span class=\"pre\">check-wheel-contents</span></tt> and its dependencies:</p>\n<pre>python3 -m pip install check-wheel-contents\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<pre>check-wheel-contents [&lt;options&gt;] &lt;wheel or directory&gt; ...\n</pre>\n<p><tt><span class=\"pre\">check-wheel-contents</span></tt> takes zero or more paths as arguments, each pointing\nto either a wheel to analyze or a directory that will be traversed for wheels\nto analyze.  If a given wheel fails any checks, a message will be printed for\neach check along with (if applicable) a list of filepaths in the wheel causing\nthe check to fail, and the command will exit with a nonzero status.  If a wheel\npasses all checks, the program will print <tt>{path_to_wheel}: OK</tt>.</p>\n<div id=\"options\">\n<h3>Options</h3>\n<ul>\n<li><tt><span class=\"pre\">-c</span> &lt;file&gt;</tt>, <tt><span class=\"pre\">--config</span> &lt;file&gt;</tt> \u2014 Read configuration from the given file;\nsee below for more information</li>\n<li><tt><span class=\"pre\">--no-config</span></tt> \u2014 Disable reading from the configuration file</li>\n<li><tt><span class=\"pre\">-h</span></tt>, <tt><span class=\"pre\">--help</span></tt> \u2014 Display a usage message and exit</li>\n<li><tt><span class=\"pre\">-V</span></tt>, <tt><span class=\"pre\">--version</span></tt> \u2014 Display the program version and exit</li>\n</ul>\n<p>The remaining options can be given either on the command line or in the\nconfiguration file; see \u201c<a href=\"#configuration-options\" rel=\"nofollow\">Configuration Options</a>\u201d for\nmore information.</p>\n</div>\n</div>\n<div id=\"configuration\">\n<h2>Configuration</h2>\n<div id=\"configuration-file\">\n<h3>Configuration File</h3>\n<p>If a configuration file is specified on the command line with the <tt><span class=\"pre\">--config</span></tt>\noption, <tt><span class=\"pre\">check-wheel-contents</span></tt> reads its configuration from the given file.\nFiles with a <tt>.toml</tt> extension are parsed as TOML files, and the\nconfiguration is read from the <tt><span class=\"pre\">tool.check-wheel-contents</span></tt> table.  All other\nfiles are parsed as INI files, and their configuration is read from the\n<tt><span class=\"pre\">[check-wheel-contents]</span></tt> section (unless the file is named <tt>setup.cfg</tt>, in\nwhich case the section <tt><span class=\"pre\">[tool:check-wheel-contents]</span></tt> is used instead).</p>\n<p>If no configuration file is specified on the command line, the program begins\nsearching for a file named <tt>pyproject.toml</tt>, <tt>tox.ini</tt>, <tt>setup.cfg</tt>,\n<tt><span class=\"pre\">check-wheel-contents.cfg</span></tt>, or <tt><span class=\"pre\">.check-wheel-contents.cfg</span></tt>, starting in the\ncurrent directory and going up.  The files are read using the same rules as for\nthe <tt><span class=\"pre\">--config</span></tt> option, and the first file in the list that contains the\nappropriate section is used.  Searching stops once a directory containing any\nof the named files is found, even if none of them contain the relevant section.</p>\n</div>\n<div id=\"id1\">\n<span id=\"configuration-options\"></span><h3>Configuration Options</h3>\n<p>The following options may be set either on the command line or in the\nconfiguration file.  Settings given on the command line override those in the\nconfiguration file.  Unknown keys in configuration files are ignored.</p>\n<dl>\n<dt><tt><span class=\"pre\">--select</span> &lt;checks&gt;</tt> / <tt>select = &lt;checks&gt;</tt></dt>\n<dd><p>Select/enable only the given checks.  <tt>&lt;checks&gt;</tt> is a comma-separated list\nof check IDs and/or check ID prefixes (to select all checks beginning with\nthe given prefixes).</p>\n<p>In a TOML file, <tt>&lt;checks&gt;</tt> may alternatively be given as a list of\nstrings.</p>\n<p>By default, all checks are selected (though some checks are no-ops when\ncertain other options are/aren\u2019t given).</p>\n</dd>\n<dt><tt><span class=\"pre\">--ignore</span> &lt;checks&gt;</tt> / <tt>ignore = &lt;checks&gt;</tt></dt>\n<dd><p>Ignore/skip the given checks.  <tt>&lt;checks&gt;</tt> is a comma-separated list of\ncheck IDs and/or check ID prefixes (to ignore all checks beginning with the\ngiven prefixes).</p>\n<p>In a TOML file, <tt>&lt;checks&gt;</tt> may alternatively be given as a list of\nstrings.</p>\n<p>By default, no checks are ignored.</p>\n</dd>\n<dt><tt><span class=\"pre\">--toplevel</span> &lt;names&gt;</tt> / <tt>toplevel = &lt;names&gt;</tt></dt>\n<dd><p>Tell <tt><span class=\"pre\">check-wheel-contents</span></tt> to check that the toplevel library entries of\nthe wheel equal the set of names in the comma-separated list <tt>&lt;names&gt;</tt>;\ne.g., <tt><span class=\"pre\">--toplevel</span> foo.py,bar/</tt> checks that <tt>foo.py</tt>, <tt>bar</tt>, and\nnothing else is at the top level of your wheel.  Trailing slashes on\ndirectory names are optional.</p>\n<p>In a TOML file, <tt>&lt;names&gt;</tt> may alternatively be given as a list of strings.</p>\n<p>This option disables check W009 and enables checks W201 and W202.</p>\n</dd>\n<dt><tt><span class=\"pre\">--package</span> &lt;path&gt;</tt> / <tt>package = &lt;paths&gt;</tt></dt>\n<dd><p>Tell <tt><span class=\"pre\">check-wheel-contents</span></tt> to check that the wheel\u2019s library sections\ncontain the file tree rooted at <tt>&lt;path&gt;</tt>.</p>\n<p>Paths given on the command line are resolved relative to the current working\ndirectory.  Paths given in a configuration file are resolved relative to the\ndirectory containing the configuration file.</p>\n<p>On the command line, multiple paths can be specified by supplying\n<tt><span class=\"pre\">--package</span></tt> multiple times.  In a configuration file, multiple paths can\nbe specified by setting <tt>package</tt> to a comma-separated list of paths.  In\na TOML file, <tt>&lt;paths&gt;</tt> may alternatively be given as a list of strings.</p>\n<p>This option disables check W009 and enables checks W101 and W102.</p>\n</dd>\n<dt><tt><span class=\"pre\">--src-dir</span> &lt;path&gt;</tt> / <tt>src_dir = &lt;paths&gt;</tt></dt>\n<dd>The same as <tt><span class=\"pre\">--package</span></tt>, except that only the contents of <tt>&lt;path&gt;</tt>\n(which must be a directory) and not <tt>&lt;path&gt;</tt> itself are checked against\nthe wheel\u2019s contents.</dd>\n<dt><tt><span class=\"pre\">--package-omit</span> &lt;patterns&gt;</tt> / <tt>package_omit = &lt;patterns&gt;</tt></dt>\n<dd><p>Ignore files &amp; directories inside <tt><span class=\"pre\">--package</span></tt> or <tt><span class=\"pre\">--src-dir</span></tt> arguments\nthat match any of the glob patterns in the comma-separated list\n<tt>&lt;patterns&gt;</tt>.  Ignored files will not be looked for in wheels for check\nW101, and if any of them do show up in a wheel, it will cause check W102 to\nfail.</p>\n<p>In a TOML file, <tt>&lt;patterns&gt;</tt> may alternatively be given as a list of\nstrings.</p>\n<p>The default set of ignored patterns is <tt>.*, CVS, RCS, *.pyc, *.pyo,\n<span class=\"pre\">*.egg-info</span></tt>.</p>\n</dd>\n</dl>\n</div>\n</div>\n<div id=\"checks\">\n<h2>Checks</h2>\n<p><strong>Note</strong>: Unless otherwise stated, the common causes and their fixes listed\nhere are specific to projects developed using setuptools.  Users of other tools\nlike flit and poetry will have to consult those projects\u2019 documentation in\norder to resolve failed checks.</p>\n<p><strong>Note</strong>: When rebuilding a wheel with setuptools, it is a good idea to delete\nthe <tt>build/</tt> directory first.  (This can be done in a single command with\n<tt>python setup.py clean <span class=\"pre\">--all</span> bdist_wheel</tt>.)  Not doing this can cause various\nchecks to continue to fail or new ones to start failing.</p>\n<div id=\"w001-wheel-contains-pyc-pyo-files\">\n<h3>W001 \u2014 Wheel contains .pyc/.pyo files</h3>\n<p>This check fails if there are any files in the wheel with a <tt>.pyc</tt> or\n<tt>.pyo</tt> extension.  Such files are compiled Python bytecode files, and they do\nnot belong in wheels, because (a) they are platform-specific and thus useless\nto many of your users, and (b) pip generates <tt>.pyc</tt> files for the <tt>.py</tt>\nfiles in your wheel automatically.</p>\n<p>Common causes:</p>\n<ul>\n<li><p>You have <tt>include_package_data</tt> set to <tt>True</tt>, your <tt>MANIFEST.in</tt>\ncontains <tt>graft packagename</tt> or <tt><span class=\"pre\">recursive-include</span> packagename *</tt>, and\nthe line <tt><span class=\"pre\">global-exclude</span> *.py[co]</tt> or similar is either missing from the\n<tt>MANIFEST.in</tt> or else in the wrong location.</p>\n<p><strong>Solution</strong>: Ensure that <tt><span class=\"pre\">global-exclude</span> *.py[co]</tt> appears in your\n<tt>MANIFEST.in</tt> file <em>after</em> all <tt>include</tt>, <tt><span class=\"pre\">recursive-include</span></tt>,\n<tt><span class=\"pre\">global-include</span></tt>, and <tt>graft</tt> commands.</p>\n</li>\n<li><p>You have <tt>[install]optimize = 1</tt> set in <tt>setup.cfg</tt> (or, equivalently,\n<tt><span class=\"pre\">options={\"install\":</span> {\"optimize\": <span class=\"pre\">\"1\"}}</span></tt> set in <tt>setup.py</tt>).</p>\n<p><strong>Solution</strong>: Remove this setting.  It\u2019s only useful when using <tt>setup.py\ninstall</tt> anyway, which is deprecated.</p>\n</li>\n</ul>\n</div>\n<div id=\"w002-wheel-contains-duplicate-files\">\n<h3>W002 \u2014 Wheel contains duplicate files</h3>\n<p>This check fails if any two files in the wheel have the same contents.  Common\nfile contents, such as files that are empty or just contain the line \u201c<tt># <span class=\"pre\">-*-</span>\ncoding: <span class=\"pre\">utf-8</span> <span class=\"pre\">-*-</span></tt>\u201c, are excluded from this check.</p>\n<p>Common causes:</p>\n<ul>\n<li><p><em>(Build tool agnostic)</em> You copied a file or directory when you actually\nmeant to rename it.</p>\n<p><strong>Solution</strong>: Delete the original copy of the file or directory.</p>\n</li>\n<li><p>You built a wheel, renamed a file or directory, and then built a wheel again\nwithout first deleting the <tt>build/</tt> directory.</p>\n<p><strong>Solution</strong>: Delete the <tt>build/</tt> directory and build the wheel again.</p>\n</li>\n</ul>\n</div>\n<div id=\"w003-wheel-contains-non-module-at-library-toplevel\">\n<h3>W003 \u2014 Wheel contains non-module at library toplevel</h3>\n<p>This check fails if there are any files at the root of the purelib or platlib\nsection of the wheel that are not Python modules or <tt>.pth</tt> files.\nNon-modules belong elsewhere in a wheel:</p>\n<ul>\n<li>Licenses and similar notices should be stored in the wheel\u2019s <tt><span class=\"pre\">*.dist-info</span></tt>\ndirectory using <tt>wheel</tt>\u2019s <tt>license_files</tt> option.</li>\n<li>Package data/resource files belong inside a package directory so that they\ncan be located with <tt>pkg_resources</tt> or <tt><span class=\"pre\">importlib-resources</span></tt>.</li>\n<li>A project\u2019s <tt>README</tt> should already be used as the project\u2019s\n<tt>long_description</tt>, in which case the text of the <tt>README</tt> is already\nincluded in the wheel inside the <tt><span class=\"pre\">*.dist-info/METADATA</span></tt> file.  There should\nthus be no need to store the <tt>README</tt> in the wheel\u2019s library sections.</li>\n</ul>\n</div>\n<div id=\"w004-module-is-not-located-at-importable-path\">\n<h3>W004 \u2014 Module is not located at importable path</h3>\n<p>This check fails if there are any Python modules in the purelib or platlib\nsection of the wheel that cannot be imported due to one or more of their path\ncomponents being invalid Python identifiers.</p>\n<p>Common causes:</p>\n<ul>\n<li><p><em>(Build tool agnostic)</em> You gave a package directory or module a name\ncontaining a hyphen or other character not allowed in Python identifiers.</p>\n<p><strong>Solution</strong>: Rename the offending directory or module to remove the\noffending character, most likely by changing it to an underscore.</p>\n</li>\n<li><p><em>(Build tool agnostic)</em> You gave a package directory or module the name of a\nPython keyword.</p>\n<p><strong>Solution</strong>: Rename the offending directory or module.</p>\n</li>\n</ul>\n</div>\n<div id=\"w005-wheel-contains-common-toplevel-name-in-library\">\n<h3>W005 \u2014 Wheel contains common toplevel name in library</h3>\n<p>This check fails if there are any files or directories named <tt>.eggs</tt>,\n<tt>.nox</tt>, <tt>.tox</tt>, <tt>.venv</tt>, <tt>build</tt>, <tt>data</tt>, <tt>dist</tt>, <tt>doc</tt>,\n<tt>docs</tt>, <tt>example</tt>, <tt>examples</tt>, <tt>src</tt>, <tt>test</tt>, <tt>tests</tt>, or <tt>venv</tt>\nlocated at the root of the purelib or platlib section of the wheel.  These\nnames are conventionally used for directories that don\u2019t belong in wheels\n(aside from <tt>src</tt>, whose contents belong in wheels but itself does not belong\nin a wheel).  Projects should only use toplevel names that resemble the project\nname; using common names will cause different projects\u2019 files to overwrite each\nother on installation.</p>\n<p>Common causes:</p>\n<ul>\n<li><p>For <tt>src</tt>: You failed to set up your <tt>src/</tt> layout correctly.  <tt>src</tt>\nshould not contain an <tt>__init__.py</tt> file, <tt><span class=\"pre\">where='src'</span></tt> needs to be\npassed to <tt>setuptools.find_packages()</tt> in <tt>setup.py</tt>, and\n<tt><span class=\"pre\">package_dir={\"\":</span> \"src\"}</tt> needs to be passed to <tt>setup()</tt> in\n<tt>setup.py</tt>.</p>\n</li>\n<li><p>For directories other than <tt>src</tt>: The directory contains an <tt>__init__.py</tt>\nfile, and the directory is not listed in the <tt>exclude</tt> argument to\n<tt>setuptools.find_packages()</tt> in <tt>setup.py</tt>.</p>\n<p><strong>Solution</strong>: Include <tt>'DIRNAME'</tt> and <tt><span class=\"pre\">'DIRNAME.*'</span></tt> in the list passed to\nthe <tt>exclude</tt> argument of <tt>find_packages()</tt>.</p>\n</li>\n<li><p>For directories other than <tt>src</tt>: The directory is listed in the\n<tt>exclude</tt> argument to <tt>find_packages()</tt>, but <tt><span class=\"pre\">'DIRNAME.*'</span></tt> is not, and\na subdirectory of the directory contains an <tt>__init__.py</tt> file.</p>\n<p><strong>Solution</strong>: Include <tt><span class=\"pre\">'DIRNAME.*'</span></tt> in the list passed to the <tt>exclude</tt>\nargument of <tt>find_packages()</tt>.</p>\n</li>\n<li><p>You actually want to include your tests or examples in your wheel.</p>\n<p><strong>Solution</strong>: Move the tests or whatever to inside your main package\ndirectory (e.g., move <tt>tests/</tt> to <tt>somepackage/tests/</tt>) so that they\nwon\u2019t collide with other projects\u2019 files on installation.</p>\n</li>\n</ul>\n</div>\n<div id=\"w006-init-py-at-top-level-of-library\">\n<h3>W006 \u2014 <tt>__init__.py</tt> at top level of library</h3>\n<p>This check fails if there is a file named <tt>__init__.py</tt> at the root of the\npurelib or platlib section of the wheel.  <tt>__init__.py</tt> files only belong\ninside package directories, not at the root of an installation.</p>\n<p>Common causes:</p>\n<ul>\n<li><p>You failed to set up your <tt>src/</tt> layout correctly.  <tt>src</tt> should not\ncontain an <tt>__init__.py</tt> file, <tt><span class=\"pre\">where='src'</span></tt> needs to be passed to\n<tt>setuptools.find_packages()</tt> in <tt>setup.py</tt>, and <tt><span class=\"pre\">package_dir={\"\":</span>\n\"src\"}</tt> needs to be passed to <tt>setup()</tt> in <tt>setup.py</tt>.</p>\n</li>\n<li><p>You created an <tt>__init__.py</tt> file at the root of your project and set\n<tt><span class=\"pre\">packages='.'</span></tt> in <tt>setup.py</tt>.</p>\n<p><strong>Solution</strong>: Configure your project\u2019s packages correctly.  For single-file\nmodules, pass a list of their names (without the <tt>.py</tt> extension) to the\n<tt>py_modules</tt> argument to <tt>setup()</tt>.  For package modules (directories),\npass a list of their names and the dotted names of their descendant\nsubpackages (possibly obtained by calling <tt>setuptools.find_packages()</tt>) to\n<tt>packages</tt>.</p>\n</li>\n</ul>\n</div>\n<div id=\"w007-wheel-library-is-empty\">\n<h3>W007 \u2014 Wheel library is empty</h3>\n<p>This check fails if the wheel contains no files in either its purelib or\nplatlib section.</p>\n<p>Common causes:</p>\n<ul>\n<li><p>Your project consists of a single-file <tt>.py</tt> module, but you declared it to\n<tt>setup()</tt> in <tt>setup.py</tt> using the <tt>packages</tt> keyword.</p>\n<p><strong>Solution</strong>: Single-file modules must be declared to <tt>setup()</tt> using the\n<tt>py_modules</tt> keyword.  Pass it a list of the names of your single-file\nmodules without the <tt>.py</tt> extension.</p>\n</li>\n<li><p>You are using <tt>setuptools.find_packages()</tt> to list your packages for\n<tt>setup()</tt>, but your package does not contain an <tt>__init__.py</tt> file.</p>\n<p><strong>Solution</strong>: Create an <tt>__init__.py</tt> file in your package.  If this is not\nan option because you are building a namespace package, use\n<tt>setuptools.find_namespace_packages()</tt> instead of <tt>find_packages()</tt>.  Be\nsure to set the arguments appropriately so that the function only finds your\nmain package; <a href=\"https://setuptools.readthedocs.io/en/latest/setuptools.html#find-namespace-packages\" rel=\"nofollow\">see the documentation for further information</a>.</p>\n</li>\n<li><p>You\u2019re deliberately creating a wheel that only contains scripts, headers, or\nother data files.</p>\n<p><strong>Solution</strong>: Ignore this check.</p>\n</li>\n</ul>\n</div>\n<div id=\"w008-wheel-is-empty\">\n<h3>W008 \u2014 Wheel is empty</h3>\n<p>This check fails if the wheel contains no files other than the <tt><span class=\"pre\">*.dist-info</span></tt>\nmetadata directory.  It is a stronger check than W007, intended for users who\nare creating wheels that only contain scripts, headers, and other data files\nand thus need to ignore W007.</p>\n<p>Common causes:</p>\n<ul>\n<li><p>Same causes as for W007</p>\n</li>\n<li><p>You\u2019re deliberately creating an empty wheel whose only function is to cause a\nset of dependencies to be installed.</p>\n<p><strong>Solution</strong>: Ignore this check.</p>\n</li>\n</ul>\n</div>\n<div id=\"w009-wheel-contains-multiple-toplevel-library-entries\">\n<h3>W009 \u2014 Wheel contains multiple toplevel library entries</h3>\n<p>This check fails if the wheel\u2019s purelib and platlib sections contain more than\none toplevel entry between them, excluding <tt>.pth</tt> files and files &amp;\ndirectories that begin with an underscore.  This is generally a sign that\nsomething has gone wrong in packaging your project, as very few projects want\nto distribute code with multiple top-level modules or packages.</p>\n<p>This check is disabled if the <tt><span class=\"pre\">--toplevel</span></tt>, <tt><span class=\"pre\">--package</span></tt>, or <tt><span class=\"pre\">--src-dir</span></tt>\noption is given either on the command line or in the configuration file.</p>\n<p>Common causes:</p>\n<ul>\n<li><p>You built a wheel, renamed a toplevel file or directory, and then built a\nwheel again without first deleting the <tt>build/</tt> directory.</p>\n<p><strong>Solution</strong>: Delete the <tt>build/</tt> directory and build the wheel again.</p>\n</li>\n<li><p>You are using <tt>setuptools.find_packages()</tt> in your <tt>setup.py</tt>, your\nproject contains multiple directories with <tt>__init__.py</tt> files, and one or\nmore of these directories (other than your main package) is not listed in the\n<tt>exclude</tt> argument to <tt>find_packages()</tt>.</p>\n<p><strong>Solution</strong>: Pass a list of all <tt>__init__.py</tt>-having directories in your\nproject other than your main package to the <tt>exclude</tt> argument of\n<tt>find_packages()</tt>.  For proper exclusion, each directory <tt>DIRNAME</tt> should\ncorrespond to two elements of this list, <tt>'DIRNAME'</tt> and <tt><span class=\"pre\">'DIRNAME.*'</span></tt>,\nin order to ensure that the directory and all of its subdirectories are\nexcluded.</p>\n</li>\n<li><p>You are deliberately creating a wheel with multiple top-level Python modules\nor packages.</p>\n<p><strong>Solution</strong>: Use the <tt><span class=\"pre\">--toplevel</span></tt> option to let <tt><span class=\"pre\">check-wheel-contents</span></tt>\nknow what toplevel entries to expect.</p>\n</li>\n</ul>\n</div>\n<div id=\"w010-toplevel-library-directory-contains-no-python-modules\">\n<h3>W010 \u2014 Toplevel library directory contains no Python modules</h3>\n<p>This check fails if a directory tree rooted at the root of the purelib or\nplatlib section of the wheel contains no Python modules.  <tt><span class=\"pre\">*-stubs</span></tt>\ndirectories are excluded from this check.</p>\n</div>\n<div id=\"w101-wheel-library-is-missing-files-in-package-tree\">\n<h3>W101 \u2014 Wheel library is missing files in package tree</h3>\n<p>This check is only enabled if the <tt><span class=\"pre\">--package</span></tt> or <tt><span class=\"pre\">--src-dir</span></tt> option is set.\nThis check fails if a path in a tree rooted at an argument to <tt><span class=\"pre\">--package</span></tt> or\ninside an argument to <tt><span class=\"pre\">--src-dir</span></tt> does not appear in the wheel\u2019s purelib or\nplatlib section.  Empty directories and local files &amp; directories that match\nany of the patterns specified with <tt><span class=\"pre\">--package-omit</span></tt> or its default value are\nexcluded from this check.</p>\n<p>Note that this check only checks file paths, i.e., names of files &amp;\ndirectories.  File contents are not examined.</p>\n<p>For example, given the below local tree:</p>\n<pre>/usr/src/project/\n\u251c\u2500\u2500 foo/\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 .gitignore\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 foo.py\n\u2514\u2500\u2500 src/\n    \u251c\u2500\u2500 bar/\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 bar.py\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 empty/\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 quux/\n    \u2502\u00a0\u00a0     \u2514\u2500\u2500 data.dat\n    \u2514\u2500\u2500 bar.egg-info/\n        \u2514\u2500\u2500 PKG-INFO\n</pre>\n<p>If the options <tt><span class=\"pre\">--package</span> /usr/src/project/foo</tt> and <tt><span class=\"pre\">--src-dir</span>\n/usr/src/project/src</tt> are supplied and <tt><span class=\"pre\">--package-omit</span></tt> is left at its\ndefault value, then <tt><span class=\"pre\">check-wheel-contents</span></tt> will look for the following paths\nin the wheel, and the check will fail if any of them do not appear in either\nthe purelib or platlib section:</p>\n<pre>foo/__init__.py\nfoo/foo.py\nbar/__init__.py\nbar/bar.py\nbar/quux/data.dat\n</pre>\n<p>Note that <tt><span class=\"pre\">foo/.gitignore</span></tt> and <tt><span class=\"pre\">src/bar.egg-info</span></tt> are omitted from this\ncheck (and if they do appear in the wheel, it will cause check W102 to fail).\nEmpty directories are ignored altogether.</p>\n<p>Common causes:</p>\n<ul>\n<li>For Python files: You failed to pass all of your project\u2019s packages &amp;\nsubpackages to <tt>setup()</tt>\u2019s <tt>packages</tt> argument.  If you are using\n<tt>setuptools.find_packages()</tt>, all of your packages &amp; subpackages need to\ncontain <tt>__init__.py</tt> files.</li>\n<li>For non-Python files: You failed to declare your project\u2019s package data\nappropriately.  <cite>See the setuptools documentation for information on how to\ndo this\n&lt;https://setuptools.readthedocs.io/en/latest/setuptools.html#including-data-files&gt;_</cite>.</li>\n</ul>\n</div>\n<div id=\"w102-wheel-library-contains-files-not-in-package-tree\">\n<h3>W102 \u2014 Wheel library contains files not in package tree</h3>\n<p>This check is only enabled if the <tt><span class=\"pre\">--package</span></tt> or <tt><span class=\"pre\">--src-dir</span></tt> option is set.\nThis check fails if the purelib or platlib section of the wheel contains any\nfiles at paths that do not exist in any of the file trees specified with\n<tt><span class=\"pre\">--package</span></tt> or <tt><span class=\"pre\">--src-dir</span></tt>.</p>\n<p>Note that this check only checks file paths, i.e., names of files &amp;\ndirectories.  File contents are not examined.</p>\n<p>For example, given the local tree and options shown in the example under W101,\nthis check will fail if the wheel contains any files in its purelib or platlib\nsection other than the following:</p>\n<pre>foo/__init__.py\nfoo/foo.py\nbar/__init__.py\nbar/bar.py\nbar/quux/data.dat\n</pre>\n<p>Note that files &amp; directories that match any of the patterns specified with\n<tt><span class=\"pre\">--package-omit</span></tt> or its default value are ignored in local trees, and so any\nentries with those names in the wheel will cause this check to fail.  Empty\ndirectories are ignored altogether.</p>\n<p>Common causes: See common causes of W009</p>\n</div>\n<div id=\"w201-wheel-library-is-missing-specified-toplevel-entry\">\n<h3>W201 \u2014 Wheel library is missing specified toplevel entry</h3>\n<p>This check is only enabled if the <tt><span class=\"pre\">--toplevel</span></tt> option is set.  This check\nfails if one or more of the names given in the <tt><span class=\"pre\">--toplevel</span></tt> option does not\nappear at the root of the purelib or platlib section of the wheel.</p>\n<p>Common causes: See common causes of W007</p>\n</div>\n<div id=\"w202-wheel-library-has-undeclared-toplevel-entry\">\n<h3>W202 \u2014 Wheel library has undeclared toplevel entry</h3>\n<p>This check is only enabled if the <tt><span class=\"pre\">--toplevel</span></tt> option is set.  This check\nfails if there is a file or directory at the root of the purelib or platlib\nsection of the wheel that is not listed in the <tt><span class=\"pre\">--toplevel</span></tt> option.\n<tt>*.pth</tt> files are ignored for the purposes of this check.</p>\n<p>Common causes: See common causes of W009</p>\n</div>\n</div>\n\n          </div>"}, "last_serial": 6938301, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "e7614cf72fb0a050dfa6ae0f0d38b6c6", "sha256": "1a6f7f1f10775de7bf388b13fc60bd62c5bece1d9457f4e910e3200c076952bb"}, "downloads": -1, "filename": "check_wheel_contents-0.1.0-py3-none-any.whl", "has_sig": true, "md5_digest": "e7614cf72fb0a050dfa6ae0f0d38b6c6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": "~=3.6", "size": 26843, "upload_time": "2020-04-02T19:51:36", "upload_time_iso_8601": "2020-04-02T19:51:36.666672Z", "url": "https://files.pythonhosted.org/packages/da/07/242d4a2b2b2c8e1b69335eb341687459677b179e198414355ac48851a7b9/check_wheel_contents-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "74e721358d3d5d006c98c83f24711930", "sha256": "ad49551fe3b89fee6ae3b483df7b8166c0cf5c3ac04259933540bcafd6367841"}, "downloads": -1, "filename": "check-wheel-contents-0.1.0.tar.gz", "has_sig": true, "md5_digest": "74e721358d3d5d006c98c83f24711930", "packagetype": "sdist", "python_version": "source", "requires_python": "~=3.6", "size": 592101, "upload_time": "2020-04-02T19:51:39", "upload_time_iso_8601": "2020-04-02T19:51:39.212807Z", "url": "https://files.pythonhosted.org/packages/6b/63/c74722933e6066a1c3076ff322741af6cc55f301da7284dd46a44a7b042c/check-wheel-contents-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e7614cf72fb0a050dfa6ae0f0d38b6c6", "sha256": "1a6f7f1f10775de7bf388b13fc60bd62c5bece1d9457f4e910e3200c076952bb"}, "downloads": -1, "filename": "check_wheel_contents-0.1.0-py3-none-any.whl", "has_sig": true, "md5_digest": "e7614cf72fb0a050dfa6ae0f0d38b6c6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": "~=3.6", "size": 26843, "upload_time": "2020-04-02T19:51:36", "upload_time_iso_8601": "2020-04-02T19:51:36.666672Z", "url": "https://files.pythonhosted.org/packages/da/07/242d4a2b2b2c8e1b69335eb341687459677b179e198414355ac48851a7b9/check_wheel_contents-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "74e721358d3d5d006c98c83f24711930", "sha256": "ad49551fe3b89fee6ae3b483df7b8166c0cf5c3ac04259933540bcafd6367841"}, "downloads": -1, "filename": "check-wheel-contents-0.1.0.tar.gz", "has_sig": true, "md5_digest": "74e721358d3d5d006c98c83f24711930", "packagetype": "sdist", "python_version": "source", "requires_python": "~=3.6", "size": 592101, "upload_time": "2020-04-02T19:51:39", "upload_time_iso_8601": "2020-04-02T19:51:39.212807Z", "url": "https://files.pythonhosted.org/packages/6b/63/c74722933e6066a1c3076ff322741af6cc55f301da7284dd46a44a7b042c/check-wheel-contents-0.1.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:19:42 2020"}
{"info": {"author": "Mike Fiedler", "author_email": "miketheman@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Framework :: Pytest", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: Implementation :: CPython", "Topic :: Software Development :: Testing"], "description": "=============\npytest-socket\n=============\n\n.. image:: https://img.shields.io/pypi/v/pytest-socket.svg\n    :target: https://pypi.python.org/pypi/pytest-socket\n\n.. image:: https://img.shields.io/pypi/pyversions/pytest-socket.svg\n    :target: https://pypi.python.org/pypi/pytest-socket\n\n.. image:: https://github.com/miketheman/pytest-socket/workflows/Python%20Tests/badge.svg\n    :target: https://github.com/miketheman/pytest-socket/actions?query=workflow%3A%22Python+Tests%22\n    :alt: Python Tests\n\n.. image:: https://api.codeclimate.com/v1/badges/1608a75b1c3a20211992/maintainability\n   :target: https://codeclimate.com/github/miketheman/pytest-socket/maintainability\n   :alt: Maintainability\n\n.. image:: https://app.fossa.io/api/projects/git%2Bgithub.com%2Fmiketheman%2Fpytest-socket.svg?type=shield\n   :target: https://app.fossa.io/projects/git%2Bgithub.com%2Fmiketheman%2Fpytest-socket?ref=badge_shield\n   :alt: FOSSA Status\n\n\nA plugin to use with Pytest to disable or restrict ``socket`` calls during tests to ensure network calls are prevented.\n\n----\n\nThis `Pytest`_ plugin was generated with `Cookiecutter`_ along with `@hackebrot`_'s `Cookiecutter-pytest-plugin`_ template.\n\n\nFeatures\n--------\n\n* Disables all network calls flowing through Python's ``socket`` interface.\n\n\nRequirements\n------------\n\n* `Pytest`_ 3.6.3 or greater\n\n\nInstallation\n------------\n\nYou can install \"pytest-socket\" via `pip`_ from `PyPI`_::\n\n    $ pip install pytest-socket\n\n\nUsage\n-----\n\n* Run ``pytest --disable-socket``, tests should fail on any access to ``socket`` or libraries using\n  socket with a ``SocketBlockedError``.\n\n  To add this flag as the default behavior, add this section to your ``pytest.ini`` or ``setup.cfg``:\n\n  .. code:: ini\n\n    [pytest]\n    addopts = --disable-socket\n\n\n  or update your ``conftest.py`` to include:\n\n  .. code:: python\n\n    from pytest_socket import disable_socket\n\n    def pytest_runtest_setup():\n        disable_socket()\n\n\n* To enable specific tests use of ``socket``, pass in the fixture to the test or use a marker:\n\n  .. code:: python\n\n    def test_explicitly_enable_socket(socket_enabled):\n        assert socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n\n    @pytest.mark.enable_socket\n    def test_explicitly_enable_socket_with_mark():\n        assert socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n* To allow only specific hosts per-test:\n\n  .. code:: python\n\n    @pytest.mark.allow_hosts(['127.0.0.1'])\n    def test_explicitly_enable_socket_with_mark():\n        assert socket.socket.connect(('127.0.0.1', 80))\n\nor for whole test run\n\n  .. code:: ini\n\n    [pytest]\n    addopts = --allow-hosts=127.0.0.1,127.0.1.1\n\n\nContributing\n------------\nContributions are very welcome. Tests can be run with `pytest`_, please ensure\nthe coverage at least stays the same before you submit a pull request.\n\nLicense\n-------\n\nDistributed under the terms of the `MIT`_ license, \"pytest-socket\" is free and open source software\n\n.. image:: https://app.fossa.io/api/projects/git%2Bgithub.com%2Fmiketheman%2Fpytest-socket.svg?type=large\n   :target: https://app.fossa.io/projects/git%2Bgithub.com%2Fmiketheman%2Fpytest-socket?ref=badge_large\n   :alt: FOSSA Status\n\nIssues\n------\n\nIf you encounter any problems, please `file an issue`_ along with a detailed description.\n\n\nReferences\n----------\n\nThis plugin came about due to the efforts by `@hangtwenty`_ solving a `StackOverflow question`_,\nthen converted into a pytest plugin by `@miketheman`_.\n\n\n.. _`Cookiecutter`: https://github.com/audreyr/cookiecutter\n.. _`@hackebrot`: https://github.com/hackebrot\n.. _`MIT`: http://opensource.org/licenses/MIT\n.. _`cookiecutter-pytest-plugin`: https://github.com/pytest-dev/cookiecutter-pytest-plugin\n.. _`file an issue`: https://github.com/miketheman/pytest-socket/issues\n.. _`pytest`: https://github.com/pytest-dev/pytest\n.. _`tox`: https://tox.readthedocs.io/en/latest/\n.. _`pip`: https://pypi.python.org/pypi/pip/\n.. _`PyPI`: https://pypi.python.org/pypi\n.. _`@hangtwenty`: https://github.com/hangtwenty\n.. _`StackOverflow question`: https://stackoverflow.com/a/30064664\n.. _`@miketheman`: https://github.com/miketheman\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://pypi.org/project/pytest-socket/", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "pytest-socket", "package_url": "https://pypi.org/project/pytest-socket/", "platform": "", "project_url": "https://pypi.org/project/pytest-socket/", "project_urls": {"Bug Tracker": "https://github.com/miketheman/pytest-socket/issues", "Homepage": "https://pypi.org/project/pytest-socket/", "Repository": "https://github.com/miketheman/pytest-socket"}, "release_url": "https://pypi.org/project/pytest-socket/0.3.4/", "requires_dist": ["pytest (>=3.6.3)"], "requires_python": ">=3.5,<4.0", "summary": "Pytest Plugin to disable socket calls during tests", "version": "0.3.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://pypi.python.org/pypi/pytest-socket\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/v/pytest-socket.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4c56480af1ba31817eaa572127f9c3a18abaa6ca/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7079746573742d736f636b65742e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/pytest-socket\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/pyversions/pytest-socket.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c62c76ae6100cb367b8285175757af67c2f2b310/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f7079746573742d736f636b65742e737667\"></a>\n<a href=\"https://github.com/miketheman/pytest-socket/actions?query=workflow%3A%22Python+Tests%22\" rel=\"nofollow\"><img alt=\"Python Tests\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d7f206b32ab8fdf902dad5ef50cc55f7b5e70d6c/68747470733a2f2f6769746875622e636f6d2f6d696b657468656d616e2f7079746573742d736f636b65742f776f726b666c6f77732f507974686f6e25323054657374732f62616467652e737667\"></a>\n<a href=\"https://codeclimate.com/github/miketheman/pytest-socket/maintainability\" rel=\"nofollow\"><img alt=\"Maintainability\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/bab09c70215e2a0dcd475d2631f6c3537576d495/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f31363038613735623163336132303231313939322f6d61696e7461696e6162696c697479\"></a>\n<a href=\"https://app.fossa.io/projects/git%2Bgithub.com%2Fmiketheman%2Fpytest-socket?ref=badge_shield\" rel=\"nofollow\"><img alt=\"FOSSA Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1a42151ef4565504c07fc053e4e578622e380d24/68747470733a2f2f6170702e666f7373612e696f2f6170692f70726f6a656374732f6769742532426769746875622e636f6d2532466d696b657468656d616e2532467079746573742d736f636b65742e7376673f747970653d736869656c64\"></a>\n<p>A plugin to use with Pytest to disable or restrict <tt>socket</tt> calls during tests to ensure network calls are prevented.</p>\n<hr class=\"docutils\">\n<p>This <a href=\"https://github.com/pytest-dev/pytest\" rel=\"nofollow\">Pytest</a> plugin was generated with <a href=\"https://github.com/audreyr/cookiecutter\" rel=\"nofollow\">Cookiecutter</a> along with <a href=\"https://github.com/hackebrot\" rel=\"nofollow\">@hackebrot</a>\u2019s <a href=\"https://github.com/pytest-dev/cookiecutter-pytest-plugin\" rel=\"nofollow\">Cookiecutter-pytest-plugin</a> template.</p>\n<div id=\"features\">\n<h2>Features</h2>\n<ul>\n<li>Disables all network calls flowing through Python\u2019s <tt>socket</tt> interface.</li>\n</ul>\n</div>\n<div id=\"requirements\">\n<h2>Requirements</h2>\n<ul>\n<li><a href=\"https://github.com/pytest-dev/pytest\" rel=\"nofollow\">Pytest</a> 3.6.3 or greater</li>\n</ul>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>You can install \u201cpytest-socket\u201d via <a href=\"https://pypi.python.org/pypi/pip/\" rel=\"nofollow\">pip</a> from <a href=\"https://pypi.python.org/pypi\" rel=\"nofollow\">PyPI</a>:</p>\n<pre>$ pip install pytest-socket\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<ul>\n<li><p>Run <tt>pytest <span class=\"pre\">--disable-socket</span></tt>, tests should fail on any access to <tt>socket</tt> or libraries using\nsocket with a <tt>SocketBlockedError</tt>.</p>\n<p>To add this flag as the default behavior, add this section to your <tt>pytest.ini</tt> or <tt>setup.cfg</tt>:</p>\n<pre><span class=\"k\">[pytest]</span>\n<span class=\"na\">addopts</span> <span class=\"o\">=</span> <span class=\"s\">--disable-socket</span>\n</pre>\n<p>or update your <tt>conftest.py</tt> to include:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">pytest_socket</span> <span class=\"kn\">import</span> <span class=\"n\">disable_socket</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">pytest_runtest_setup</span><span class=\"p\">():</span>\n    <span class=\"n\">disable_socket</span><span class=\"p\">()</span>\n</pre>\n</li>\n<li><p>To enable specific tests use of <tt>socket</tt>, pass in the fixture to the test or use a marker:</p>\n<pre><span class=\"k\">def</span> <span class=\"nf\">test_explicitly_enable_socket</span><span class=\"p\">(</span><span class=\"n\">socket_enabled</span><span class=\"p\">):</span>\n    <span class=\"k\">assert</span> <span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"n\">socket</span><span class=\"p\">(</span><span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"n\">AF_INET</span><span class=\"p\">,</span> <span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"n\">SOCK_STREAM</span><span class=\"p\">)</span>\n\n\n<span class=\"nd\">@pytest</span><span class=\"o\">.</span><span class=\"n\">mark</span><span class=\"o\">.</span><span class=\"n\">enable_socket</span>\n<span class=\"k\">def</span> <span class=\"nf\">test_explicitly_enable_socket_with_mark</span><span class=\"p\">():</span>\n    <span class=\"k\">assert</span> <span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"n\">socket</span><span class=\"p\">(</span><span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"n\">AF_INET</span><span class=\"p\">,</span> <span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"n\">SOCK_STREAM</span><span class=\"p\">)</span>\n</pre>\n</li>\n<li><p>To allow only specific hosts per-test:</p>\n<pre><span class=\"nd\">@pytest</span><span class=\"o\">.</span><span class=\"n\">mark</span><span class=\"o\">.</span><span class=\"n\">allow_hosts</span><span class=\"p\">([</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">])</span>\n<span class=\"k\">def</span> <span class=\"nf\">test_explicitly_enable_socket_with_mark</span><span class=\"p\">():</span>\n    <span class=\"k\">assert</span> <span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">((</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">,</span> <span class=\"mi\">80</span><span class=\"p\">))</span>\n</pre>\n</li>\n</ul>\n<p>or for whole test run</p>\n<blockquote>\n<pre><span class=\"k\">[pytest]</span>\n<span class=\"na\">addopts</span> <span class=\"o\">=</span> <span class=\"s\">--allow-hosts=127.0.0.1,127.0.1.1</span>\n</pre>\n</blockquote>\n</div>\n<div id=\"contributing\">\n<h2>Contributing</h2>\n<p>Contributions are very welcome. Tests can be run with <a href=\"https://github.com/pytest-dev/pytest\" rel=\"nofollow\">pytest</a>, please ensure\nthe coverage at least stays the same before you submit a pull request.</p>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>Distributed under the terms of the <a href=\"http://opensource.org/licenses/MIT\" rel=\"nofollow\">MIT</a> license, \u201cpytest-socket\u201d is free and open source software</p>\n<a href=\"https://app.fossa.io/projects/git%2Bgithub.com%2Fmiketheman%2Fpytest-socket?ref=badge_large\" rel=\"nofollow\"><img alt=\"FOSSA Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/54c2804ebcc29e03134a3ffbdb86ef5929807a26/68747470733a2f2f6170702e666f7373612e696f2f6170692f70726f6a656374732f6769742532426769746875622e636f6d2532466d696b657468656d616e2532467079746573742d736f636b65742e7376673f747970653d6c61726765\"></a>\n</div>\n<div id=\"issues\">\n<h2>Issues</h2>\n<p>If you encounter any problems, please <a href=\"https://github.com/miketheman/pytest-socket/issues\" rel=\"nofollow\">file an issue</a> along with a detailed description.</p>\n</div>\n<div id=\"references\">\n<h2>References</h2>\n<p>This plugin came about due to the efforts by <a href=\"https://github.com/hangtwenty\" rel=\"nofollow\">@hangtwenty</a> solving a <a href=\"https://stackoverflow.com/a/30064664\" rel=\"nofollow\">StackOverflow question</a>,\nthen converted into a pytest plugin by <a href=\"https://github.com/miketheman\" rel=\"nofollow\">@miketheman</a>.</p>\n</div>\n\n          </div>"}, "last_serial": 6997199, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "59dd732a5c693d8ad5a5cea2cc5743e9", "sha256": "7089bb3418a1f41d9d29b18dbb65820c47bbe29254f6967bfb421d9ff42abf3d"}, "downloads": -1, "filename": "pytest-socket-0.1.0.tar.gz", "has_sig": false, "md5_digest": "59dd732a5c693d8ad5a5cea2cc5743e9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3812, "upload_time": "2017-06-01T16:40:57", "upload_time_iso_8601": "2017-06-01T16:40:57.298219Z", "url": "https://files.pythonhosted.org/packages/e4/95/3cd275e3500ddfe5bf12fdf3c7ac75bd72204f76981797785ced00c477a5/pytest-socket-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "467d0b56c7106432553c22c4f3025bc2", "sha256": "b25297375d32661219c6fd7913dc5a9bd9d6f422b404bd4acbfd36b26b0a1546"}, "downloads": -1, "filename": "pytest-socket-0.2.0.tar.gz", "has_sig": false, "md5_digest": "467d0b56c7106432553c22c4f3025bc2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4156, "upload_time": "2017-07-15T12:37:40", "upload_time_iso_8601": "2017-07-15T12:37:40.784071Z", "url": "https://files.pythonhosted.org/packages/7b/7c/75b6d7542cd883585b334bb2e6f1f80b04bce7f4398c3cc5522e607e0240/pytest-socket-0.2.0.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "7022af527cfd8df68c860de05ce042b9", "sha256": "b82ed132b5a8e9eacef6c6532ace93a37865ff873090459ca360da25a2c7e1aa"}, "downloads": -1, "filename": "pytest-socket-0.3.0.tar.gz", "has_sig": false, "md5_digest": "7022af527cfd8df68c860de05ce042b9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4923, "upload_time": "2018-07-15T14:08:24", "upload_time_iso_8601": "2018-07-15T14:08:24.548813Z", "url": "https://files.pythonhosted.org/packages/b6/35/77740db342367db69b41bce1eaba63b5881d60f816e3697237935225f6f5/pytest-socket-0.3.0.tar.gz", "yanked": false}], "0.3.1": [{"comment_text": "", "digests": {"md5": "8d3652951ffb57dd6c64dc4685fb6890", "sha256": "bb0857c4a459b7ed4586c51b48ad99920ca82f3314c95ed6de84847c2a8b6eef"}, "downloads": -1, "filename": "pytest-socket-0.3.1.tar.gz", "has_sig": false, "md5_digest": "8d3652951ffb57dd6c64dc4685fb6890", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4920, "upload_time": "2018-07-16T11:46:01", "upload_time_iso_8601": "2018-07-16T11:46:01.302371Z", "url": "https://files.pythonhosted.org/packages/c3/3f/a879ee90224e7b46482be0d9fd8abcc4030d800712707740cac5ac2d1326/pytest-socket-0.3.1.tar.gz", "yanked": false}], "0.3.2": [{"comment_text": "", "digests": {"md5": "020d2e42db306c0408bba958f2e91d8c", "sha256": "7012782c865bfe3c7c397fa29753b7a83c482a1be5c43c8b6b3bcaeba794ef2a"}, "downloads": -1, "filename": "pytest-socket-0.3.2.tar.gz", "has_sig": false, "md5_digest": "020d2e42db306c0408bba958f2e91d8c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4921, "upload_time": "2019-01-08T00:53:21", "upload_time_iso_8601": "2019-01-08T00:53:21.592035Z", "url": "https://files.pythonhosted.org/packages/aa/cc/b9a9f7a992bcb6a48ed39aff057c1043f11bc7889ac84aea849530686c57/pytest-socket-0.3.2.tar.gz", "yanked": false}], "0.3.3": [{"comment_text": "", "digests": {"md5": "5d3a96b1aff2d7a744ae2f002391d14c", "sha256": "a90401b7a6db7091add1e33fc94a29dae6b449fdc469a725bd7cea303d12a7ed"}, "downloads": -1, "filename": "pytest-socket-0.3.3.tar.gz", "has_sig": false, "md5_digest": "5d3a96b1aff2d7a744ae2f002391d14c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5001, "upload_time": "2019-02-09T18:29:25", "upload_time_iso_8601": "2019-02-09T18:29:25.488145Z", "url": "https://files.pythonhosted.org/packages/20/ee/3baa774789ae1f998fe7795f09d06beb026189ca7846ac6d6662ec35c279/pytest-socket-0.3.3.tar.gz", "yanked": false}], "0.3.4": [{"comment_text": "", "digests": {"md5": "59b9750292cb4d20fa2ca54baadb4280", "sha256": "e66de7ad7582cf23cce39f276156782c39505d20a21a705c0208b5305643a38a"}, "downloads": -1, "filename": "pytest_socket-0.3.4-py3-none-any.whl", "has_sig": false, "md5_digest": "59b9750292cb4d20fa2ca54baadb4280", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5,<4.0", "size": 7279, "upload_time": "2020-04-10T23:11:30", "upload_time_iso_8601": "2020-04-10T23:11:30.916094Z", "url": "https://files.pythonhosted.org/packages/c8/77/c9d518551c1f787f0419957953345d20c8cb8b304041ca607a4376279cd6/pytest_socket-0.3.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4de333f221846cb92414cdeef76ed40f", "sha256": "6480d6962b1f908f4b7c267ed4cfbc8fe27555562dec31cf9f8988fc1bf11f64"}, "downloads": -1, "filename": "pytest-socket-0.3.4.tar.gz", "has_sig": false, "md5_digest": "4de333f221846cb92414cdeef76ed40f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5,<4.0", "size": 5128, "upload_time": "2020-04-10T23:11:29", "upload_time_iso_8601": "2020-04-10T23:11:29.357101Z", "url": "https://files.pythonhosted.org/packages/7d/71/21859837ff4348407c17b9f0dd4ca7278d05696c8db5844326968f254c54/pytest-socket-0.3.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "59b9750292cb4d20fa2ca54baadb4280", "sha256": "e66de7ad7582cf23cce39f276156782c39505d20a21a705c0208b5305643a38a"}, "downloads": -1, "filename": "pytest_socket-0.3.4-py3-none-any.whl", "has_sig": false, "md5_digest": "59b9750292cb4d20fa2ca54baadb4280", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5,<4.0", "size": 7279, "upload_time": "2020-04-10T23:11:30", "upload_time_iso_8601": "2020-04-10T23:11:30.916094Z", "url": "https://files.pythonhosted.org/packages/c8/77/c9d518551c1f787f0419957953345d20c8cb8b304041ca607a4376279cd6/pytest_socket-0.3.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4de333f221846cb92414cdeef76ed40f", "sha256": "6480d6962b1f908f4b7c267ed4cfbc8fe27555562dec31cf9f8988fc1bf11f64"}, "downloads": -1, "filename": "pytest-socket-0.3.4.tar.gz", "has_sig": false, "md5_digest": "4de333f221846cb92414cdeef76ed40f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5,<4.0", "size": 5128, "upload_time": "2020-04-10T23:11:29", "upload_time_iso_8601": "2020-04-10T23:11:29.357101Z", "url": "https://files.pythonhosted.org/packages/7d/71/21859837ff4348407c17b9f0dd4ca7278d05696c8db5844326968f254c54/pytest-socket-0.3.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:54:41 2020"}
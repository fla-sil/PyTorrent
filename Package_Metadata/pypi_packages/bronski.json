{"info": {"author": "Curtis Maloney", "author_email": "curtis@tinbrain.net", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "=======\nBronski\n=======\n\n.. rubric:: A beat server for Django, with cron-like syntax\n\nBronski allows you to configure periodic function calls using a Django model.\n\nIt is ideally suited to being a task \"beat\" sever, akin to celery-beat.\n\nInstall\n-------\n\n.. code-block:: sh\n\n    $ pip install bronski\n\n\nSetup\n-----\n\n1. Add 'bronski' to your ``INSTALLED_APPS``\n\n   This is only needed to enable the management command.\n\n2. Create a model in your own app that inherits from ``bronski.models.CrontabBase``\n\n3. Create and apply migrations:\n\n   .. code-block:: sh\n\n    $ manage.py makemigrations\n    $ manage.py migrate\n\n4. Specify your model in settings\n\n   .. code-block:: python\n\n    CRONTAB_MODEL = \"myapp.MyCronModel\"\n\n5. Launch your beat server:\n\n   .. code-block:: sh\n\n    $ ./manage.py bronski\n\nEach minute the ``bronski`` service will scan the model for enabled jobs that\nhaven't been run in the past 59 seconds. It will then check each to see if its\ncrontab definition matches the next minute.\n\nFor job records that match, their ``run`` method will be called. The default\n``run`` method will:\n\n- get the specified function by calling ``self.get_function()``\n- resolve the ``kwargs`` to use by calling ``self.get_kwargs()``\n- invoke the function with the ``kwargs``.\n\nYou can override ``run`` in your custom model to, for instance, enqueue jobs:\n\n.. code-block:: python\n\n    class Jobs(CrontabBase):\n\n        def run(self):\n            func = self.get_function()\n            kwargs = self.get_kwargs()\n\n            # Celery task API:\n            func.delay(**kwargs)\n            # Dramatiq actor API:\n            func.send(**kwargs)\n\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/uptick/bronski", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "bronski", "package_url": "https://pypi.org/project/bronski/", "platform": "", "project_url": "https://pypi.org/project/bronski/", "project_urls": {"Homepage": "https://github.com/uptick/bronski"}, "release_url": "https://pypi.org/project/bronski/0.3.3/", "requires_dist": ["croniter (>=0.3.31,<0.4.0)", "django (>=2.2,<3.0)"], "requires_python": ">=3.7,<4.0", "summary": "Simple, generic cron-like job runner service for Django", "version": "0.3.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>A beat server for Django, with cron-like syntax</p>\n<p>Bronski allows you to configure periodic function calls using a Django model.</p>\n<p>It is ideally suited to being a task \u201cbeat\u201d sever, akin to celery-beat.</p>\n<div id=\"install\">\n<h2>Install</h2>\n<pre>$ pip install bronski\n</pre>\n</div>\n<div id=\"setup\">\n<h2>Setup</h2>\n<ol>\n<li><p>Add \u2018bronski\u2019 to your <tt>INSTALLED_APPS</tt></p>\n<p>This is only needed to enable the management command.</p>\n</li>\n<li><p>Create a model in your own app that inherits from <tt>bronski.models.CrontabBase</tt></p>\n</li>\n<li><p>Create and apply migrations:</p>\n<pre>$ manage.py makemigrations\n$ manage.py migrate\n</pre>\n</li>\n<li><p>Specify your model in settings</p>\n<pre><span class=\"n\">CRONTAB_MODEL</span> <span class=\"o\">=</span> <span class=\"s2\">\"myapp.MyCronModel\"</span>\n</pre>\n</li>\n<li><p>Launch your beat server:</p>\n<pre>$ ./manage.py bronski\n</pre>\n</li>\n</ol>\n<p>Each minute the <tt>bronski</tt> service will scan the model for enabled jobs that\nhaven\u2019t been run in the past 59 seconds. It will then check each to see if its\ncrontab definition matches the next minute.</p>\n<p>For job records that match, their <tt>run</tt> method will be called. The default\n<tt>run</tt> method will:</p>\n<ul>\n<li>get the specified function by calling <tt>self.get_function()</tt></li>\n<li>resolve the <tt>kwargs</tt> to use by calling <tt>self.get_kwargs()</tt></li>\n<li>invoke the function with the <tt>kwargs</tt>.</li>\n</ul>\n<p>You can override <tt>run</tt> in your custom model to, for instance, enqueue jobs:</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">Jobs</span><span class=\"p\">(</span><span class=\"n\">CrontabBase</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">run</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">func</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_function</span><span class=\"p\">()</span>\n        <span class=\"n\">kwargs</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_kwargs</span><span class=\"p\">()</span>\n\n        <span class=\"c1\"># Celery task API:</span>\n        <span class=\"n\">func</span><span class=\"o\">.</span><span class=\"n\">delay</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n        <span class=\"c1\"># Dramatiq actor API:</span>\n        <span class=\"n\">func</span><span class=\"o\">.</span><span class=\"n\">send</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n</pre>\n</div>\n\n          </div>"}, "last_serial": 7007733, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "5da24bba9ef4d73c344104c7338e87af", "sha256": "4c275e01d63fc7d4e6997f4f1eeea2ae95e7d309241e62255ac21a3fee711d69"}, "downloads": -1, "filename": "bronski-0.1.0.tar.gz", "has_sig": false, "md5_digest": "5da24bba9ef4d73c344104c7338e87af", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3744, "upload_time": "2020-03-15T23:35:31", "upload_time_iso_8601": "2020-03-15T23:35:31.681644Z", "url": "https://files.pythonhosted.org/packages/2a/84/fdddbd50391c18290c69093f345d871df2b5dd1d5ddc44afe320d1381223/bronski-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "1082610d56e87e0101b598ab772a80e7", "sha256": "7d21fcac5e4c8c69ff397a79df49bc6dd18c6754150d8090a883093026593d1c"}, "downloads": -1, "filename": "bronski-0.1.1.tar.gz", "has_sig": false, "md5_digest": "1082610d56e87e0101b598ab772a80e7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5101, "upload_time": "2020-03-16T04:15:18", "upload_time_iso_8601": "2020-03-16T04:15:18.622785Z", "url": "https://files.pythonhosted.org/packages/a1/34/bc99f923f390f044665ff43693f24f9ea5120315c5dc1d8441c354d393bb/bronski-0.1.1.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "038cd4ff158d88f7b6375a4b5f86f625", "sha256": "53deb71f02c34ee053a3d71ee45f4ffb28dc75115005496b92a4379a596f57ca"}, "downloads": -1, "filename": "bronski-0.2.0.tar.gz", "has_sig": false, "md5_digest": "038cd4ff158d88f7b6375a4b5f86f625", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4371, "upload_time": "2020-03-16T05:32:55", "upload_time_iso_8601": "2020-03-16T05:32:55.977027Z", "url": "https://files.pythonhosted.org/packages/3c/d1/622681fed04d674a872039499f7468b84fcac7a36c9e275d6fbf9f52348d/bronski-0.2.0.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "f4bb8fb9168d26698b9d94b7367920fd", "sha256": "b475f415e7e60c4503bb9d67e9acebd124ec67ed371b74065bd3b4e34de63c73"}, "downloads": -1, "filename": "bronski-0.2.1.tar.gz", "has_sig": false, "md5_digest": "f4bb8fb9168d26698b9d94b7367920fd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4277, "upload_time": "2020-03-16T05:52:41", "upload_time_iso_8601": "2020-03-16T05:52:41.875746Z", "url": "https://files.pythonhosted.org/packages/d8/a4/0ceb8593ed2bbca27ee3dd4383a73ec015ccbd3be5f7039d42075758ba12/bronski-0.2.1.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "49720697ec6920a179d7dcd396dbff20", "sha256": "ea58c0bd0b13c35cae806bf5c0b16f1494b62949c3c3781b14c7b2b021fc50a4"}, "downloads": -1, "filename": "bronski-0.3.0.tar.gz", "has_sig": false, "md5_digest": "49720697ec6920a179d7dcd396dbff20", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4101, "upload_time": "2020-03-22T23:43:18", "upload_time_iso_8601": "2020-03-22T23:43:18.095836Z", "url": "https://files.pythonhosted.org/packages/b8/87/5d94f6c2445e8c7516d73ee6631e6182c4a471fb018efc4013c7d32acf2a/bronski-0.3.0.tar.gz", "yanked": false}], "0.3.1": [{"comment_text": "", "digests": {"md5": "35991abaaaf343f488b7c878c9f15c7a", "sha256": "34f9f63c3ff61455f6c8fc743aa8a685b2a10dd974206b7a1c58176ccb165e83"}, "downloads": -1, "filename": "bronski-0.3.1.tar.gz", "has_sig": false, "md5_digest": "35991abaaaf343f488b7c878c9f15c7a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4093, "upload_time": "2020-03-23T00:04:12", "upload_time_iso_8601": "2020-03-23T00:04:12.323452Z", "url": "https://files.pythonhosted.org/packages/c8/49/3f41f9794a86a309f27e614df4abfab08c8e0b18927af383ab3125d07a94/bronski-0.3.1.tar.gz", "yanked": false}], "0.3.2": [{"comment_text": "", "digests": {"md5": "8e5b433cee171e1c6d948592069deb67", "sha256": "655826959a8c2820173d044ec5f491c7b55efc1701e187a58b0868fe049b0e44"}, "downloads": -1, "filename": "bronski-0.3.2.tar.gz", "has_sig": false, "md5_digest": "8e5b433cee171e1c6d948592069deb67", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4312, "upload_time": "2020-03-23T01:04:14", "upload_time_iso_8601": "2020-03-23T01:04:14.008060Z", "url": "https://files.pythonhosted.org/packages/a8/9a/a59cd5ab7dc18dcf88ee6fc8709ad98a2a416ccfbfeaf19b50018c51bce1/bronski-0.3.2.tar.gz", "yanked": false}], "0.3.3": [{"comment_text": "", "digests": {"md5": "3b70c3076235d12046dcbea046fa72ab", "sha256": "eed5303befc6c7a25f6b1519f38981addf616e4c5d7f74cabebcec4a5388788b"}, "downloads": -1, "filename": "bronski-0.3.3-py3-none-any.whl", "has_sig": false, "md5_digest": "3b70c3076235d12046dcbea046fa72ab", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 5460, "upload_time": "2020-04-13T05:02:30", "upload_time_iso_8601": "2020-04-13T05:02:30.369283Z", "url": "https://files.pythonhosted.org/packages/bf/fc/8088c52fabad97519d6b63075be649ca033c1bfe0a1f9a5c69a0c421d22b/bronski-0.3.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5f66aaeed6ec610527b6ee4c11b6779c", "sha256": "5e7fe3ad891442e2252575e7120a9fd4172db9b7283a42cb22206f1c154dfa98"}, "downloads": -1, "filename": "bronski-0.3.3.tar.gz", "has_sig": false, "md5_digest": "5f66aaeed6ec610527b6ee4c11b6779c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 4592, "upload_time": "2020-04-13T05:02:32", "upload_time_iso_8601": "2020-04-13T05:02:32.241074Z", "url": "https://files.pythonhosted.org/packages/a9/e2/ce808902dcddc7ec13bf898e90d7f9b0c5f28dea004d1b0d2ab18e728557/bronski-0.3.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "3b70c3076235d12046dcbea046fa72ab", "sha256": "eed5303befc6c7a25f6b1519f38981addf616e4c5d7f74cabebcec4a5388788b"}, "downloads": -1, "filename": "bronski-0.3.3-py3-none-any.whl", "has_sig": false, "md5_digest": "3b70c3076235d12046dcbea046fa72ab", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 5460, "upload_time": "2020-04-13T05:02:30", "upload_time_iso_8601": "2020-04-13T05:02:30.369283Z", "url": "https://files.pythonhosted.org/packages/bf/fc/8088c52fabad97519d6b63075be649ca033c1bfe0a1f9a5c69a0c421d22b/bronski-0.3.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5f66aaeed6ec610527b6ee4c11b6779c", "sha256": "5e7fe3ad891442e2252575e7120a9fd4172db9b7283a42cb22206f1c154dfa98"}, "downloads": -1, "filename": "bronski-0.3.3.tar.gz", "has_sig": false, "md5_digest": "5f66aaeed6ec610527b6ee4c11b6779c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 4592, "upload_time": "2020-04-13T05:02:32", "upload_time_iso_8601": "2020-04-13T05:02:32.241074Z", "url": "https://files.pythonhosted.org/packages/a9/e2/ce808902dcddc7ec13bf898e90d7f9b0c5f28dea004d1b0d2ab18e728557/bronski-0.3.3.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:36:16 2020"}
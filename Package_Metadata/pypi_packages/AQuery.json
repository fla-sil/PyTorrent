{"info": {"author": "Peng Shiyu", "author_email": "pengshiyuyx@gmail.com", "bugtrack_url": null, "classifiers": ["Programming Language :: Python :: 3.7"], "description": "\nAQuery \u4e00\u4e2a\u6ce8\u89e3\u65b9\u5f0f\u64cd\u4f5c\u6570\u636e\u5e93\u7684\u4fbf\u6377\u5e93 \n\n\u5b89\u88c5\n```bash\npip install AQuery\n```\n\n1\u3001IQuery\u8d1f\u8d23\u6570\u636e\u67e5\u8be2\u64cd\u4f5c\n\n    \u4e0d\u540c\u7684\u64cd\u4f5c\u4ec5\u4ee3\u8868\u4e0d\u540c\u7c7b\u578b\u7684\u8fd4\u56de\u503c\uff0c\u53c2\u6570\u90fd\u662f\u4e00\u6837 \u4e5f\u66f4\u52a0\u8bed\u4e49\u5316\n\n         \u64cd\u4f5c          | \u88c5\u9970\u5668\u65b9\u5f0f   | data\u53c2\u6570    |       \u8fd4\u56de\u503c\n    ===========================================================\n    query_insert      | insert      | dict       | lastrowid {int}\n    query_insert_many | insert_many | list[dict] | rowcount {int}\n    query_select      | select      | dict       | fetchall {list[dict]}\n    query_select_one  | select_one  | dict       | fetchone {dict}\n    query_update      | update      | dict       | rowcount {int}\n    query_delete      | delete      | dict       | rowcount {int}\n\n    2\u3001\u5173\u952e\u5b57\u4f7f\u7528\n    #{key}  \u53d8\u91cf\u53c2\u6570 \u9884\u7f16\u8bd1\u4e3a %(key)s\n    ${key}  \u539f\u6837\u66ff\u6362 ${key} -> value, \u5982\u679c\u643a\u5e26\u7684data\u4e2d\u4e0d\u5b58\u5728\uff0c\u4f1a\u5c1d\u8bd5\u4ece class_object \u53c2\u6570\u4e2d\u83b7\u53d6\n    @{key}  \u81ea\u52a8\u53c2\u6570 \u5df2\u5b9e\u73b0\u7279\u6b8a\u53c2\u6570\uff1afields\uff0cvalues, data\n    ({key}) \u5217\u8868\u53c2\u6570  ({key}) -> (1, 2, 3)\n\n    \u53c2\u8003 https://www.bbsmax.com/A/n2d9P9gY5D/\n\n    4\u3001kwargs \u53c2\u6570\n        class_object  \u4f20\u9012\u4e00\u4e2a\u7c7b\u5bf9\u8c61\uff0c\u7528\u4e8e\u4ece\u7c7b\u4e2d\u83b7\u53d6\u539f\u6837\u6570\u636e\n        ignore_errors \u6267\u884cSQL \u65f6\u5ffd\u7565\u7684\u5f02\u5e38\n\n    5\u3001\u51fd\u6570\u65b9\u5f0f\u67e5\u8be2\n    \u5f53\u4f7f\u7528query_* \u67e5\u8be2\u662f\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570sql\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570data\u662fdict\u7c7b\u578b\n\n    6\u3001\u88c5\u9970\u5668\u65b9\u5f0f\u67e5\u8be2\n    \u5f53\u4f7f\u7528\u88c5\u9970\u5668\u65b9\u5f0f\u65f6\uff0csql\u901a\u8fc7\u88c5\u9970\u5668\u4f20\u9012\uff0c\u800cdata\u901a\u8fc7\u88ab\u88c5\u9970\u7684\u51fd\u6570\u8fd4\u56de\u503c\u4f20\u9012\uff0c\n    \u5982\u679c\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u5219\u53d6\u88ab\u88c5\u9970\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u6216\u53d6\u5168\u90e8\u5173\u952e\u5b57\u53c2\u6570\n\n    \u5e94\u7528\u573a\u666f\uff1a\n        1\u3001\u5982\u679c\u51fd\u6570\u4f20\u5165\u4e00\u4e2adict \u6216list\uff0c\u4e0d\u9700\u8981\u643a\u5e26\u989d\u5916\u53c2\u6570\uff0c\u53ef\u4ee5\u7b80\u5199\n\n        @query.select(\"insert into student(name, age) values (#{name}, #{age})\")\n        def insert(data):\n            pass\n\n        insert({'name': \"Tom\", 'age': 23})\n\n        2\u3001\u5982\u679c\u9700\u8981\u6709\u539f\u6837\u66ff\u6362\u7684\u5b57\u7b26\u4e32\uff0c\u9700\u8981data \u8fd4\u56de\n        @query.select(\"insert into student ${field} values ${value}\")\n        def insert(data):\n            data.update({\n                'field': '(name, age)',\n                'value': '(#{name}, #{age})'\n            })\n            return data\n\n        insert({'name': \"Tom\", 'age': 23})\n\n ## Demo\n ```python\n # -*- coding: utf-8 -*-\nimport mysql\n\nfrom aquery.query import Query\n\n\nclass MysqlQuery(Query):\n    DATABASE_CONFIG = {\n        \"database\": \"data\",\n        \"user\": \"root\",\n        \"password\": \"aBc@123456\",\n        \"host\": \"127.0.0.1\",\n        \"port\": 3306,\n        \"autocommit\": True,\n        \"pool_name\": \"mypool\",  # \u4f7f\u7528\u8fde\u63a5\u6c60\n        \"pool_size\": 1,\n    }\n\n    # \u5ffd\u7565\u7684\u5f02\u5e38\n    IGNORE_ERRORS = (\n        mysql.connector.errors.IntegrityError,\n    )\n\n    # mysql-connector-python \u8fde\u63a5\u64cd\u4f5cmysql\n    # http://www.zhangdongshengtech.com/article-detials/269\n\n\n# \u88c5\u9970\u5668\u65b9\u5f0f\u4f7f\u7528\n\n# \u51fd\u6570\u53c2\u6570\u9ed8\u8ba4\u4e3adata, \u6570\u636e\u7c7b\u578b\u662f\u4e00\u4e2adict\uff0c\u6216\u8005\u662fNone\n# \u5f53\u4f7f\u7528insert_many\u65f6 \u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2alist\n@MysqlQuery.select(\"select * from student where name=#{name}\")\ndef get_student_by_name(name):\n    pass\n\n\n# print(get_student_by_name(name=\"Tom\"))\n\n\n# \u53ef\u4ee5\u81ea\u5b9a\u4e49\u51fd\u6570\u53c2\u6570\uff0c\u4e0d\u8fc7\u9700\u8981\u8fd4\u56de\u4e00\u4e2adict \u7c7b\u578b\u7684\u6570\u636e\uff0c\u4f20\u9012\u7ed9sql \u6267\u884c\u5668\n@MysqlQuery.select(\"select * from student where id=#{uid}\")\ndef get_student_by_id(uid):\n    pass\n\n\n# print(get_student_by_id(uid=12))\n\n# \u53ef\u4ee5\u81ea\u5b9a\u4e49\u51fd\u6570\u53c2\u6570\uff0c\u4e0d\u8fc7\u9700\u8981\u8fd4\u56de\u4e00\u4e2adict \u7c7b\u578b\u7684\u6570\u636e\uff0c\u4f20\u9012\u7ed9sql \u6267\u884c\u5668\n@MysqlQuery.select(\"select * from student where id in ({uids})\")\ndef get_student_by_ids(uids):\n    pass\n\n\n# print(get_student_by_ids(uids=[13, 23, 33]))\n\n@MysqlQuery.insert(\"insert into student @{fields} values @{values}\")\ndef insert_student(data):\n    pass\n\n\n# data = {\"name\": \"Tom\", 'age': 23}\n# print(insert_student(data))\n\n@MysqlQuery.update(\"update student set @{data} where id = #{uid}\")\ndef update_student(uid, name):\n    pass\n\n\n# print(update_student(uid=12, name=12))\n\n\n@MysqlQuery.delete(\"delete from student where id = #{uid}\")\ndef delete_student(uid):\n    pass\n\n\n# print(delete_student(uid=12))\n\nif __name__ == '__main__':\n    sql = \"select * from student limit 10\"\n    # print(MysqlQuery.query(sql))\n\n    sql2 = \"INSERT INTO student @{fields} VALUES @{values}\"\n    MysqlQuery.query_insert_many(sql2, [{\"name\": \"Tom\", \"age\": 12}, {\"name\": \"Tom\", \"age\": 12}])\n\n``` \n\n ```python\n# -*- coding: utf-8 -*-\n\nfrom demo.query_demo import MysqlQuery\nfrom aquery.query_model import IQueryModel\n\n\nclass BaseQueryModel(IQueryModel):\n    query = MysqlQuery\n\n\nclass StudentModel(BaseQueryModel):\n    table = \"student\"\n\n    select_fields = \"name, age\"\n\n    @classmethod\n    @MysqlQuery.select('select ${select_fields} from ${table} where name = #{name}')\n    def select_by_name(cls, name):\n        pass\n\n\nif __name__ == '__main__':\n    pass\n\n    # print(StudentModel.insert_many([{\"name\": \"Tom\", \"age\": 12}]))\n\n    # print(StudentModel.insert({\"name\": \"Tom\", \"age\": 12}))\n\n    # print(StudentModel.select_by_id(27))\n\n    # print(StudentModel.delete_by_id(27))\n\n    # print(StudentModel.select_by_ids([27, 25]))\n\n    # print(StudentModel.update_by_id(27, {'id': 26, \"name\": \"--T'om\", \"age\": 13}))\n\n    print(StudentModel.select_by_name(name='Jack'))\n\n```\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/mouday/AQuery", "keywords": "aquery mysql", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "AQuery", "package_url": "https://pypi.org/project/AQuery/", "platform": "", "project_url": "https://pypi.org/project/AQuery/", "project_urls": {"Homepage": "https://github.com/mouday/AQuery"}, "release_url": "https://pypi.org/project/AQuery/0.0.3/", "requires_dist": ["mysql-connector-python (==8.0.17)"], "requires_python": "", "summary": "\u4e00\u4e2aMySQL\u6ce8\u89e3\u64cd\u4f5c\u65b9\u5f0f", "version": "0.0.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>AQuery \u4e00\u4e2a\u6ce8\u89e3\u65b9\u5f0f\u64cd\u4f5c\u6570\u636e\u5e93\u7684\u4fbf\u6377\u5e93</p>\n<p>\u5b89\u88c5</p>\n<pre>pip install AQuery\n</pre>\n<p>1\u3001IQuery\u8d1f\u8d23\u6570\u636e\u67e5\u8be2\u64cd\u4f5c</p>\n<pre><code>\u4e0d\u540c\u7684\u64cd\u4f5c\u4ec5\u4ee3\u8868\u4e0d\u540c\u7c7b\u578b\u7684\u8fd4\u56de\u503c\uff0c\u53c2\u6570\u90fd\u662f\u4e00\u6837 \u4e5f\u66f4\u52a0\u8bed\u4e49\u5316\n\n     \u64cd\u4f5c          | \u88c5\u9970\u5668\u65b9\u5f0f   | data\u53c2\u6570    |       \u8fd4\u56de\u503c\n===========================================================\nquery_insert      | insert      | dict       | lastrowid {int}\nquery_insert_many | insert_many | list[dict] | rowcount {int}\nquery_select      | select      | dict       | fetchall {list[dict]}\nquery_select_one  | select_one  | dict       | fetchone {dict}\nquery_update      | update      | dict       | rowcount {int}\nquery_delete      | delete      | dict       | rowcount {int}\n\n2\u3001\u5173\u952e\u5b57\u4f7f\u7528\n#{key}  \u53d8\u91cf\u53c2\u6570 \u9884\u7f16\u8bd1\u4e3a %(key)s\n${key}  \u539f\u6837\u66ff\u6362 ${key} -&gt; value, \u5982\u679c\u643a\u5e26\u7684data\u4e2d\u4e0d\u5b58\u5728\uff0c\u4f1a\u5c1d\u8bd5\u4ece class_object \u53c2\u6570\u4e2d\u83b7\u53d6\n@{key}  \u81ea\u52a8\u53c2\u6570 \u5df2\u5b9e\u73b0\u7279\u6b8a\u53c2\u6570\uff1afields\uff0cvalues, data\n({key}) \u5217\u8868\u53c2\u6570  ({key}) -&gt; (1, 2, 3)\n\n\u53c2\u8003 https://www.bbsmax.com/A/n2d9P9gY5D/\n\n4\u3001kwargs \u53c2\u6570\n    class_object  \u4f20\u9012\u4e00\u4e2a\u7c7b\u5bf9\u8c61\uff0c\u7528\u4e8e\u4ece\u7c7b\u4e2d\u83b7\u53d6\u539f\u6837\u6570\u636e\n    ignore_errors \u6267\u884cSQL \u65f6\u5ffd\u7565\u7684\u5f02\u5e38\n\n5\u3001\u51fd\u6570\u65b9\u5f0f\u67e5\u8be2\n\u5f53\u4f7f\u7528query_* \u67e5\u8be2\u662f\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570sql\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570data\u662fdict\u7c7b\u578b\n\n6\u3001\u88c5\u9970\u5668\u65b9\u5f0f\u67e5\u8be2\n\u5f53\u4f7f\u7528\u88c5\u9970\u5668\u65b9\u5f0f\u65f6\uff0csql\u901a\u8fc7\u88c5\u9970\u5668\u4f20\u9012\uff0c\u800cdata\u901a\u8fc7\u88ab\u88c5\u9970\u7684\u51fd\u6570\u8fd4\u56de\u503c\u4f20\u9012\uff0c\n\u5982\u679c\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u5219\u53d6\u88ab\u88c5\u9970\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u6216\u53d6\u5168\u90e8\u5173\u952e\u5b57\u53c2\u6570\n\n\u5e94\u7528\u573a\u666f\uff1a\n    1\u3001\u5982\u679c\u51fd\u6570\u4f20\u5165\u4e00\u4e2adict \u6216list\uff0c\u4e0d\u9700\u8981\u643a\u5e26\u989d\u5916\u53c2\u6570\uff0c\u53ef\u4ee5\u7b80\u5199\n\n    @query.select(\"insert into student(name, age) values (#{name}, #{age})\")\n    def insert(data):\n        pass\n\n    insert({'name': \"Tom\", 'age': 23})\n\n    2\u3001\u5982\u679c\u9700\u8981\u6709\u539f\u6837\u66ff\u6362\u7684\u5b57\u7b26\u4e32\uff0c\u9700\u8981data \u8fd4\u56de\n    @query.select(\"insert into student ${field} values ${value}\")\n    def insert(data):\n        data.update({\n            'field': '(name, age)',\n            'value': '(#{name}, #{age})'\n        })\n        return data\n\n    insert({'name': \"Tom\", 'age': 23})\n</code></pre>\n<h2>Demo</h2>\n<pre><span class=\"c1\"># -*- coding: utf-8 -*-</span>\n<span class=\"kn\">import</span> <span class=\"nn\">mysql</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">aquery.query</span> <span class=\"kn\">import</span> <span class=\"n\">Query</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">MysqlQuery</span><span class=\"p\">(</span><span class=\"n\">Query</span><span class=\"p\">):</span>\n   <span class=\"n\">DATABASE_CONFIG</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n       <span class=\"s2\">\"database\"</span><span class=\"p\">:</span> <span class=\"s2\">\"data\"</span><span class=\"p\">,</span>\n       <span class=\"s2\">\"user\"</span><span class=\"p\">:</span> <span class=\"s2\">\"root\"</span><span class=\"p\">,</span>\n       <span class=\"s2\">\"password\"</span><span class=\"p\">:</span> <span class=\"s2\">\"aBc@123456\"</span><span class=\"p\">,</span>\n       <span class=\"s2\">\"host\"</span><span class=\"p\">:</span> <span class=\"s2\">\"127.0.0.1\"</span><span class=\"p\">,</span>\n       <span class=\"s2\">\"port\"</span><span class=\"p\">:</span> <span class=\"mi\">3306</span><span class=\"p\">,</span>\n       <span class=\"s2\">\"autocommit\"</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n       <span class=\"s2\">\"pool_name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"mypool\"</span><span class=\"p\">,</span>  <span class=\"c1\"># \u4f7f\u7528\u8fde\u63a5\u6c60</span>\n       <span class=\"s2\">\"pool_size\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n   <span class=\"p\">}</span>\n\n   <span class=\"c1\"># \u5ffd\u7565\u7684\u5f02\u5e38</span>\n   <span class=\"n\">IGNORE_ERRORS</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n       <span class=\"n\">mysql</span><span class=\"o\">.</span><span class=\"n\">connector</span><span class=\"o\">.</span><span class=\"n\">errors</span><span class=\"o\">.</span><span class=\"n\">IntegrityError</span><span class=\"p\">,</span>\n   <span class=\"p\">)</span>\n\n   <span class=\"c1\"># mysql-connector-python \u8fde\u63a5\u64cd\u4f5cmysql</span>\n   <span class=\"c1\"># http://www.zhangdongshengtech.com/article-detials/269</span>\n\n\n<span class=\"c1\"># \u88c5\u9970\u5668\u65b9\u5f0f\u4f7f\u7528</span>\n\n<span class=\"c1\"># \u51fd\u6570\u53c2\u6570\u9ed8\u8ba4\u4e3adata, \u6570\u636e\u7c7b\u578b\u662f\u4e00\u4e2adict\uff0c\u6216\u8005\u662fNone</span>\n<span class=\"c1\"># \u5f53\u4f7f\u7528insert_many\u65f6 \u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2alist</span>\n<span class=\"nd\">@MysqlQuery</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">(</span><span class=\"s2\">\"select * from student where name=#</span><span class=\"si\">{name}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_student_by_name</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">):</span>\n   <span class=\"k\">pass</span>\n\n\n<span class=\"c1\"># print(get_student_by_name(name=\"Tom\"))</span>\n\n\n<span class=\"c1\"># \u53ef\u4ee5\u81ea\u5b9a\u4e49\u51fd\u6570\u53c2\u6570\uff0c\u4e0d\u8fc7\u9700\u8981\u8fd4\u56de\u4e00\u4e2adict \u7c7b\u578b\u7684\u6570\u636e\uff0c\u4f20\u9012\u7ed9sql \u6267\u884c\u5668</span>\n<span class=\"nd\">@MysqlQuery</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">(</span><span class=\"s2\">\"select * from student where id=#</span><span class=\"si\">{uid}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_student_by_id</span><span class=\"p\">(</span><span class=\"n\">uid</span><span class=\"p\">):</span>\n   <span class=\"k\">pass</span>\n\n\n<span class=\"c1\"># print(get_student_by_id(uid=12))</span>\n\n<span class=\"c1\"># \u53ef\u4ee5\u81ea\u5b9a\u4e49\u51fd\u6570\u53c2\u6570\uff0c\u4e0d\u8fc7\u9700\u8981\u8fd4\u56de\u4e00\u4e2adict \u7c7b\u578b\u7684\u6570\u636e\uff0c\u4f20\u9012\u7ed9sql \u6267\u884c\u5668</span>\n<span class=\"nd\">@MysqlQuery</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">(</span><span class=\"s2\">\"select * from student where id in (</span><span class=\"si\">{uids}</span><span class=\"s2\">)\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_student_by_ids</span><span class=\"p\">(</span><span class=\"n\">uids</span><span class=\"p\">):</span>\n   <span class=\"k\">pass</span>\n\n\n<span class=\"c1\"># print(get_student_by_ids(uids=[13, 23, 33]))</span>\n\n<span class=\"nd\">@MysqlQuery</span><span class=\"o\">.</span><span class=\"n\">insert</span><span class=\"p\">(</span><span class=\"s2\">\"insert into student @</span><span class=\"si\">{fields}</span><span class=\"s2\"> values @</span><span class=\"si\">{values}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">insert_student</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">):</span>\n   <span class=\"k\">pass</span>\n\n\n<span class=\"c1\"># data = {\"name\": \"Tom\", 'age': 23}</span>\n<span class=\"c1\"># print(insert_student(data))</span>\n\n<span class=\"nd\">@MysqlQuery</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">(</span><span class=\"s2\">\"update student set @</span><span class=\"si\">{data}</span><span class=\"s2\"> where id = #</span><span class=\"si\">{uid}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">update_student</span><span class=\"p\">(</span><span class=\"n\">uid</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n   <span class=\"k\">pass</span>\n\n\n<span class=\"c1\"># print(update_student(uid=12, name=12))</span>\n\n\n<span class=\"nd\">@MysqlQuery</span><span class=\"o\">.</span><span class=\"n\">delete</span><span class=\"p\">(</span><span class=\"s2\">\"delete from student where id = #</span><span class=\"si\">{uid}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">delete_student</span><span class=\"p\">(</span><span class=\"n\">uid</span><span class=\"p\">):</span>\n   <span class=\"k\">pass</span>\n\n\n<span class=\"c1\"># print(delete_student(uid=12))</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n   <span class=\"n\">sql</span> <span class=\"o\">=</span> <span class=\"s2\">\"select * from student limit 10\"</span>\n   <span class=\"c1\"># print(MysqlQuery.query(sql))</span>\n\n   <span class=\"n\">sql2</span> <span class=\"o\">=</span> <span class=\"s2\">\"INSERT INTO student @</span><span class=\"si\">{fields}</span><span class=\"s2\"> VALUES @</span><span class=\"si\">{values}</span><span class=\"s2\">\"</span>\n   <span class=\"n\">MysqlQuery</span><span class=\"o\">.</span><span class=\"n\">query_insert_many</span><span class=\"p\">(</span><span class=\"n\">sql2</span><span class=\"p\">,</span> <span class=\"p\">[{</span><span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Tom\"</span><span class=\"p\">,</span> <span class=\"s2\">\"age\"</span><span class=\"p\">:</span> <span class=\"mi\">12</span><span class=\"p\">},</span> <span class=\"p\">{</span><span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Tom\"</span><span class=\"p\">,</span> <span class=\"s2\">\"age\"</span><span class=\"p\">:</span> <span class=\"mi\">12</span><span class=\"p\">}])</span>\n</pre>\n<pre><span class=\"c1\"># -*- coding: utf-8 -*-</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">demo.query_demo</span> <span class=\"kn\">import</span> <span class=\"n\">MysqlQuery</span>\n<span class=\"kn\">from</span> <span class=\"nn\">aquery.query_model</span> <span class=\"kn\">import</span> <span class=\"n\">IQueryModel</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">BaseQueryModel</span><span class=\"p\">(</span><span class=\"n\">IQueryModel</span><span class=\"p\">):</span>\n   <span class=\"n\">query</span> <span class=\"o\">=</span> <span class=\"n\">MysqlQuery</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">StudentModel</span><span class=\"p\">(</span><span class=\"n\">BaseQueryModel</span><span class=\"p\">):</span>\n   <span class=\"n\">table</span> <span class=\"o\">=</span> <span class=\"s2\">\"student\"</span>\n\n   <span class=\"n\">select_fields</span> <span class=\"o\">=</span> <span class=\"s2\">\"name, age\"</span>\n\n   <span class=\"nd\">@classmethod</span>\n   <span class=\"nd\">@MysqlQuery</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">(</span><span class=\"s1\">'select $</span><span class=\"si\">{select_fields}</span><span class=\"s1\"> from $</span><span class=\"si\">{table}</span><span class=\"s1\"> where name = #</span><span class=\"si\">{name}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n   <span class=\"k\">def</span> <span class=\"nf\">select_by_name</span><span class=\"p\">(</span><span class=\"bp\">cls</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n       <span class=\"k\">pass</span>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n   <span class=\"k\">pass</span>\n\n   <span class=\"c1\"># print(StudentModel.insert_many([{\"name\": \"Tom\", \"age\": 12}]))</span>\n\n   <span class=\"c1\"># print(StudentModel.insert({\"name\": \"Tom\", \"age\": 12}))</span>\n\n   <span class=\"c1\"># print(StudentModel.select_by_id(27))</span>\n\n   <span class=\"c1\"># print(StudentModel.delete_by_id(27))</span>\n\n   <span class=\"c1\"># print(StudentModel.select_by_ids([27, 25]))</span>\n\n   <span class=\"c1\"># print(StudentModel.update_by_id(27, {'id': 26, \"name\": \"--T'om\", \"age\": 13}))</span>\n\n   <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">StudentModel</span><span class=\"o\">.</span><span class=\"n\">select_by_name</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'Jack'</span><span class=\"p\">))</span>\n</pre>\n\n          </div>"}, "last_serial": 6265432, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "3ff3bf891dad138baa75c3845913d527", "sha256": "b775f2a325592b18bbdeff87c5f2ccb2f67ca0b99d25422afe2989cc467e5265"}, "downloads": -1, "filename": "AQuery-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "3ff3bf891dad138baa75c3845913d527", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7202, "upload_time": "2019-12-07T12:04:09", "upload_time_iso_8601": "2019-12-07T12:04:09.192348Z", "url": "https://files.pythonhosted.org/packages/66/c3/26c74d52a05c9d4f1b274c1eac7fe80045928726bfa389c8bfeccc1cd8b7/AQuery-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8f5591598b46cd169c5c52d41699418b", "sha256": "375dedaa78e7145d8acf4015f9f682418825a4cd81df0296c9ab035a8aa56f0d"}, "downloads": -1, "filename": "AQuery-0.0.1.tar.gz", "has_sig": false, "md5_digest": "8f5591598b46cd169c5c52d41699418b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5379, "upload_time": "2019-12-07T12:04:12", "upload_time_iso_8601": "2019-12-07T12:04:12.147498Z", "url": "https://files.pythonhosted.org/packages/31/d2/f91029211fb165498fd5b3328ad4db76ca0c18c55b460aa6f61b85a6ebbd/AQuery-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "0726254d419bc0efe50ef6292ae70abc", "sha256": "428c5c8ccba4d31a5e213ce5a115636829b66f227d08601bf35447795ecf8617"}, "downloads": -1, "filename": "AQuery-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "0726254d419bc0efe50ef6292ae70abc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11887, "upload_time": "2019-12-09T08:32:55", "upload_time_iso_8601": "2019-12-09T08:32:55.511770Z", "url": "https://files.pythonhosted.org/packages/82/df/a14f28376c2dd1b3dddf3a27494111040be672c2dddecc1a8acd871bb287/AQuery-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "96224e6b365fd8c4a08f4eb480b907a9", "sha256": "9fac697ff7173a805fc4e21fc982c4681edeee9bd5b212468ab6a9d551ea4942"}, "downloads": -1, "filename": "AQuery-0.0.2.tar.gz", "has_sig": false, "md5_digest": "96224e6b365fd8c4a08f4eb480b907a9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8617, "upload_time": "2019-12-09T08:32:57", "upload_time_iso_8601": "2019-12-09T08:32:57.322782Z", "url": "https://files.pythonhosted.org/packages/fa/89/b12b5e2ee7bb979e220a1216d7dbca6e425f4786d49a12f0dd37de3a129e/AQuery-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "d00ea03df402bc51d1baf03ab0541215", "sha256": "17eaef25cc8a0764e1e85fee4e35b65c04c8b32e46a8877eb57e757a55e421c7"}, "downloads": -1, "filename": "AQuery-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "d00ea03df402bc51d1baf03ab0541215", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11905, "upload_time": "2019-12-09T09:10:42", "upload_time_iso_8601": "2019-12-09T09:10:42.297344Z", "url": "https://files.pythonhosted.org/packages/db/7c/3376f3f73fe545ae5014f772fa77e5daa2de98941d5de56194eabe34aebb/AQuery-0.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5fe92aed9399d976a790e6e6368d15ea", "sha256": "476db427e705d0061aa4a44770326617e977eef16c66426312b77b8f5d12a521"}, "downloads": -1, "filename": "AQuery-0.0.3.tar.gz", "has_sig": false, "md5_digest": "5fe92aed9399d976a790e6e6368d15ea", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8639, "upload_time": "2019-12-09T09:10:43", "upload_time_iso_8601": "2019-12-09T09:10:43.987775Z", "url": "https://files.pythonhosted.org/packages/67/55/25d33936bb32c621f5992cd562e0e66f204f96ed60bd45128bae913804ab/AQuery-0.0.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "d00ea03df402bc51d1baf03ab0541215", "sha256": "17eaef25cc8a0764e1e85fee4e35b65c04c8b32e46a8877eb57e757a55e421c7"}, "downloads": -1, "filename": "AQuery-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "d00ea03df402bc51d1baf03ab0541215", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11905, "upload_time": "2019-12-09T09:10:42", "upload_time_iso_8601": "2019-12-09T09:10:42.297344Z", "url": "https://files.pythonhosted.org/packages/db/7c/3376f3f73fe545ae5014f772fa77e5daa2de98941d5de56194eabe34aebb/AQuery-0.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5fe92aed9399d976a790e6e6368d15ea", "sha256": "476db427e705d0061aa4a44770326617e977eef16c66426312b77b8f5d12a521"}, "downloads": -1, "filename": "AQuery-0.0.3.tar.gz", "has_sig": false, "md5_digest": "5fe92aed9399d976a790e6e6368d15ea", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8639, "upload_time": "2019-12-09T09:10:43", "upload_time_iso_8601": "2019-12-09T09:10:43.987775Z", "url": "https://files.pythonhosted.org/packages/67/55/25d33936bb32c621f5992cd562e0e66f204f96ed60bd45128bae913804ab/AQuery-0.0.3.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:17:28 2020"}
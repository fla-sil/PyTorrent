{"info": {"author": "Jacob Alexander", "author_email": "haata@kiibohd.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "Programming Language :: Python :: 3", "Topic :: Software Development :: Libraries"], "description": "# hidio Client Python Library\nHID-IO Client Side Library for Python\n\n[![Linux Status](https://github.com/hid-io/hid-io/workflows/Rust%20Linux/badge.svg)](https://github.com/hid-io/hid-io/actions)\n[![macOS Status](https://github.com/hid-io/hid-io/workflows/Rust%20macOS/badge.svg)](https://github.com/hid-io/hid-io/actions)\n[![Windows Status](https://github.com/hid-io/hid-io/workflows/Rust%20Windows/badge.svg)](https://github.com/hid-io/hid-io/actions)\n\n[![Visit our IRC channel](https://kiwiirc.com/buttons/irc.freenode.net/hid-io.png)](https://kiwiirc.com/client/irc.freenode.net/#hid-io)\n\n## Getting\n\n```bash\npip install hidio\n```\n\n\n## Overview\n\nThis is a convenience Python library for the HID-IO daemon which handles automatic reconnection if the server goes down for any reason.\nThe library also handles the HID-IO authentication procedure (key negotiation and TLS wrapping).\n\n\n## Usage\n\n```python\nimport asyncio\nimport sys\n\nimport hidio.client\n\n# Optional callbacks\nclass MyHIDIOClient(hidio.client.HIDIOClient):\n    async def on_connect(self, cap):\n        print(\"Connected!\")\n        print(\"Connected API Call\", await cap.alive().a_wait())\n\n\n    async def on_disconnect(self):\n        print(\"Disconnected!\")\n\n\nasync def main():\n    client = MyHIDIOClient('Python example.py')\n    # Connect the client to the server using a background task\n    # This will automatically reconnect\n    tasks = [asyncio.gather(*[client.connect(auth=hidio.client.HIDIOClient.AUTH_BASIC)], return_exceptions=True)]\n    while client.retry_connection_status():\n        if client.capability_hidioserver():\n            try:\n                print(\"API Call\", await asyncio.wait_for(\n                    client.capability_hidioserver().alive().a_wait(),\n                    timeout=2.0\n                ))\n                print(\"API Call\", await asyncio.wait_for(\n                    client.capability_authenticated().nodes().a_wait(),\n                    timeout=2.0\n                ))\n            except asyncio.TimeoutError:\n                print(\"Alive timeout.\")\n                continue\n        await asyncio.sleep(5)\n\n\ntry:\n    loop = asyncio.get_event_loop()\n    loop.run_until_complete(main())\nexcept KeyboardInterrupt:\n    print(\"Ctrl+C detected, exiting...\")\n    sys.exit(1)\n```\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/kiibohd/kll", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "hidio", "package_url": "https://pypi.org/project/hidio/", "platform": "", "project_url": "https://pypi.org/project/hidio/", "project_urls": {"Homepage": "https://github.com/kiibohd/kll"}, "release_url": "https://pypi.org/project/hidio/0.1.0b1/", "requires_dist": ["cython>=0.29.12", "pycapnp==0.6.4"], "requires_python": ">=3.7", "summary": "HID-IO Python Library", "version": "0.1.0b1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>hidio Client Python Library</h1>\n<p>HID-IO Client Side Library for Python</p>\n<p><a href=\"https://github.com/hid-io/hid-io/actions\" rel=\"nofollow\"><img alt=\"Linux Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ec5a7a9fa6f9256eb9302dbace4398525260148e/68747470733a2f2f6769746875622e636f6d2f6869642d696f2f6869642d696f2f776f726b666c6f77732f527573742532304c696e75782f62616467652e737667\"></a>\n<a href=\"https://github.com/hid-io/hid-io/actions\" rel=\"nofollow\"><img alt=\"macOS Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0e5568e4786e94a149e6c2ec8e900393785075b2/68747470733a2f2f6769746875622e636f6d2f6869642d696f2f6869642d696f2f776f726b666c6f77732f527573742532306d61634f532f62616467652e737667\"></a>\n<a href=\"https://github.com/hid-io/hid-io/actions\" rel=\"nofollow\"><img alt=\"Windows Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a1c4b6c90baba66088f44f65ac9fc6fb7e6b4971/68747470733a2f2f6769746875622e636f6d2f6869642d696f2f6869642d696f2f776f726b666c6f77732f5275737425323057696e646f77732f62616467652e737667\"></a></p>\n<p><a href=\"https://kiwiirc.com/client/irc.freenode.net/#hid-io\" rel=\"nofollow\"><img alt=\"Visit our IRC channel\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/65e899fcf113a9075b11da68dca1e8e8e08eab7f/68747470733a2f2f6b6977696972632e636f6d2f627574746f6e732f6972632e667265656e6f64652e6e65742f6869642d696f2e706e67\"></a></p>\n<h2>Getting</h2>\n<pre>pip install hidio\n</pre>\n<h2>Overview</h2>\n<p>This is a convenience Python library for the HID-IO daemon which handles automatic reconnection if the server goes down for any reason.\nThe library also handles the HID-IO authentication procedure (key negotiation and TLS wrapping).</p>\n<h2>Usage</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sys</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">hidio.client</span>\n\n<span class=\"c1\"># Optional callbacks</span>\n<span class=\"k\">class</span> <span class=\"nc\">MyHIDIOClient</span><span class=\"p\">(</span><span class=\"n\">hidio</span><span class=\"o\">.</span><span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">HIDIOClient</span><span class=\"p\">):</span>\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">on_connect</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">cap</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Connected!\"</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Connected API Call\"</span><span class=\"p\">,</span> <span class=\"k\">await</span> <span class=\"n\">cap</span><span class=\"o\">.</span><span class=\"n\">alive</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">a_wait</span><span class=\"p\">())</span>\n\n\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">on_disconnect</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Disconnected!\"</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">MyHIDIOClient</span><span class=\"p\">(</span><span class=\"s1\">'Python example.py'</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Connect the client to the server using a background task</span>\n    <span class=\"c1\"># This will automatically reconnect</span>\n    <span class=\"n\">tasks</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">gather</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">[</span><span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"n\">auth</span><span class=\"o\">=</span><span class=\"n\">hidio</span><span class=\"o\">.</span><span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">HIDIOClient</span><span class=\"o\">.</span><span class=\"n\">AUTH_BASIC</span><span class=\"p\">)],</span> <span class=\"n\">return_exceptions</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)]</span>\n    <span class=\"k\">while</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">retry_connection_status</span><span class=\"p\">():</span>\n        <span class=\"k\">if</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">capability_hidioserver</span><span class=\"p\">():</span>\n            <span class=\"k\">try</span><span class=\"p\">:</span>\n                <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"API Call\"</span><span class=\"p\">,</span> <span class=\"k\">await</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">wait_for</span><span class=\"p\">(</span>\n                    <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">capability_hidioserver</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">alive</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">a_wait</span><span class=\"p\">(),</span>\n                    <span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mf\">2.0</span>\n                <span class=\"p\">))</span>\n                <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"API Call\"</span><span class=\"p\">,</span> <span class=\"k\">await</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">wait_for</span><span class=\"p\">(</span>\n                    <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">capability_authenticated</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">nodes</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">a_wait</span><span class=\"p\">(),</span>\n                    <span class=\"n\">timeout</span><span class=\"o\">=</span><span class=\"mf\">2.0</span>\n                <span class=\"p\">))</span>\n            <span class=\"k\">except</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">TimeoutError</span><span class=\"p\">:</span>\n                <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Alive timeout.\"</span><span class=\"p\">)</span>\n                <span class=\"k\">continue</span>\n        <span class=\"k\">await</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"n\">loop</span> <span class=\"o\">=</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">get_event_loop</span><span class=\"p\">()</span>\n    <span class=\"n\">loop</span><span class=\"o\">.</span><span class=\"n\">run_until_complete</span><span class=\"p\">(</span><span class=\"n\">main</span><span class=\"p\">())</span>\n<span class=\"k\">except</span> <span class=\"ne\">KeyboardInterrupt</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Ctrl+C detected, exiting...\"</span><span class=\"p\">)</span>\n    <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 5972517, "releases": {"0.1.0b1": [{"comment_text": "", "digests": {"md5": "4949949ab4608a4cc7682431e30f303b", "sha256": "21e2a0874aa6b807d0ecf2795dfb130df7881abdb1d91aef0e09f75a14b61e6d"}, "downloads": -1, "filename": "hidio-0.1.0b1-py3-none-any.whl", "has_sig": false, "md5_digest": "4949949ab4608a4cc7682431e30f303b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 28158, "upload_time": "2019-10-14T17:40:17", "upload_time_iso_8601": "2019-10-14T17:40:17.140114Z", "url": "https://files.pythonhosted.org/packages/84/46/f9c0ba89d3819fa0d09ef86276154dfb9f5c2f180acbb6373dd7acc0a6ca/hidio-0.1.0b1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "223fc361d234327a991e28bb08467b77", "sha256": "68a835685cf6391172d4a00efd7ec49ed169656500a0dafe3ee5ab236e6ed8f2"}, "downloads": -1, "filename": "hidio-0.1.0b1.tar.gz", "has_sig": false, "md5_digest": "223fc361d234327a991e28bb08467b77", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 11266, "upload_time": "2019-10-14T17:40:24", "upload_time_iso_8601": "2019-10-14T17:40:24.086924Z", "url": "https://files.pythonhosted.org/packages/10/b0/ab433b1682520546cf88416350c2b57d7e101032ec981db54ddd0f357f52/hidio-0.1.0b1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "4949949ab4608a4cc7682431e30f303b", "sha256": "21e2a0874aa6b807d0ecf2795dfb130df7881abdb1d91aef0e09f75a14b61e6d"}, "downloads": -1, "filename": "hidio-0.1.0b1-py3-none-any.whl", "has_sig": false, "md5_digest": "4949949ab4608a4cc7682431e30f303b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 28158, "upload_time": "2019-10-14T17:40:17", "upload_time_iso_8601": "2019-10-14T17:40:17.140114Z", "url": "https://files.pythonhosted.org/packages/84/46/f9c0ba89d3819fa0d09ef86276154dfb9f5c2f180acbb6373dd7acc0a6ca/hidio-0.1.0b1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "223fc361d234327a991e28bb08467b77", "sha256": "68a835685cf6391172d4a00efd7ec49ed169656500a0dafe3ee5ab236e6ed8f2"}, "downloads": -1, "filename": "hidio-0.1.0b1.tar.gz", "has_sig": false, "md5_digest": "223fc361d234327a991e28bb08467b77", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 11266, "upload_time": "2019-10-14T17:40:24", "upload_time_iso_8601": "2019-10-14T17:40:24.086924Z", "url": "https://files.pythonhosted.org/packages/10/b0/ab433b1682520546cf88416350c2b57d7e101032ec981db54ddd0f357f52/hidio-0.1.0b1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:51:16 2020"}
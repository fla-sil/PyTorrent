{"info": {"author": "Ulrik Mikaelsson", "author_email": "ulrik.mikaelsson@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: Apache Software License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "POTHEAD\n=======\n\nWhat?\n-----\n\nPOTHEAD uses a reverse-http proxy solution to improve request-latency when load-balancing expensive non-concurrent HTTP requests.\n\n### Why?\nA certain class of http-backend-requests are poorly served by regular HTTP-load-balancing solutions, wether hashed or round-robin. This class of requests cannot efficiently over-use resources in the worker, for example due to breaking RAM-limits, or concurrency causing non-optimal CPU cache use. In a traditional forwarding HTTP load-balancer, the worker can throttle incoming requests by slowing down \"accept\"-rate, but doing so would increase latency and potentially leave free workers unused. One prime example is transcoders of audio, video or images, which is typically CPU-intensive and cache-sensitive.\n\n### How?\nPOTHEAD solves this problem by employing \"reverse\"-HTTP on the worker side. The TCP \"client\" (the worker initiating the TCP-connection), implements the server side of the HTTP, protocol, waiting for the TCP \"server\" to initiate the HTTP request. Both the workers and the service consumers connect to a service hub. Requests from the consumers are queued by the hub and dequed when a worker connects. The worker can thus control how many parallel connections to maintain, thereby the concurrency of the requests.\n\n### Why not?\nTo control the concurrency, the worker might need to employ `Connection: close` in order to accept a new request only when resources are available. This TCP reconnection leads to some overhead in network traffic, latency, and could lead to the TCP \"lingering\" problem. Therefore it's not recommended to use POTHEAD for requests with less than 50ms of average execution time.\n\n### (Why \"POTHEAD\"?)\nBecause PTTH was taken.\n\nOk, ok. How do I get started?\n-----------------------------\nThis implementation provides a hub based on `aiohttp`. It will open up two ports, one main port for consumers and one for workers. Run with `python3 -m pothead.server`.\n\nIt also includes a WSGI-enabled worker-runner, allowing you to host your regular WSGI-app through POTHEAD. Run using `python3 -m pothead.worker --connect <host>:<port> <module>:<app-symbol>`.\n\nWhat then?\n----------\nHow would I know? You tell me.\n\nLicense\n-------\nCopyright 2019 Ulrik Mikaelsson\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.com/rawler/pothead", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "POTHEAD", "package_url": "https://pypi.org/project/POTHEAD/", "platform": "", "project_url": "https://pypi.org/project/POTHEAD/", "project_urls": {"Homepage": "https://gitlab.com/rawler/pothead"}, "release_url": "https://pypi.org/project/POTHEAD/0.0.1/", "requires_dist": null, "requires_python": "", "summary": "A reverse-http proxy implementation for non-concurrent requests", "version": "0.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>POTHEAD</h1>\n<h2>What?</h2>\n<p>POTHEAD uses a reverse-http proxy solution to improve request-latency when load-balancing expensive non-concurrent HTTP requests.</p>\n<h3>Why?</h3>\n<p>A certain class of http-backend-requests are poorly served by regular HTTP-load-balancing solutions, wether hashed or round-robin. This class of requests cannot efficiently over-use resources in the worker, for example due to breaking RAM-limits, or concurrency causing non-optimal CPU cache use. In a traditional forwarding HTTP load-balancer, the worker can throttle incoming requests by slowing down \"accept\"-rate, but doing so would increase latency and potentially leave free workers unused. One prime example is transcoders of audio, video or images, which is typically CPU-intensive and cache-sensitive.</p>\n<h3>How?</h3>\n<p>POTHEAD solves this problem by employing \"reverse\"-HTTP on the worker side. The TCP \"client\" (the worker initiating the TCP-connection), implements the server side of the HTTP, protocol, waiting for the TCP \"server\" to initiate the HTTP request. Both the workers and the service consumers connect to a service hub. Requests from the consumers are queued by the hub and dequed when a worker connects. The worker can thus control how many parallel connections to maintain, thereby the concurrency of the requests.</p>\n<h3>Why not?</h3>\n<p>To control the concurrency, the worker might need to employ <code>Connection: close</code> in order to accept a new request only when resources are available. This TCP reconnection leads to some overhead in network traffic, latency, and could lead to the TCP \"lingering\" problem. Therefore it's not recommended to use POTHEAD for requests with less than 50ms of average execution time.</p>\n<h3>(Why \"POTHEAD\"?)</h3>\n<p>Because PTTH was taken.</p>\n<h2>Ok, ok. How do I get started?</h2>\n<p>This implementation provides a hub based on <code>aiohttp</code>. It will open up two ports, one main port for consumers and one for workers. Run with <code>python3 -m pothead.server</code>.</p>\n<p>It also includes a WSGI-enabled worker-runner, allowing you to host your regular WSGI-app through POTHEAD. Run using <code>python3 -m pothead.worker --connect &lt;host&gt;:&lt;port&gt; &lt;module&gt;:&lt;app-symbol&gt;</code>.</p>\n<h2>What then?</h2>\n<p>How would I know? You tell me.</p>\n<h2>License</h2>\n<p>Copyright 2019 Ulrik Mikaelsson</p>\n<p>Licensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at</p>\n<pre><code>   http://www.apache.org/licenses/LICENSE-2.0\n</code></pre>\n<p>Unless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.</p>\n\n          </div>"}, "last_serial": 5542294, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "ba0c49d75389d2efcf5500c23169291b", "sha256": "97ed339ce4b3dfdb7e47d4939fa82b904602b16fdb05633a37173274e6b81208"}, "downloads": -1, "filename": "POTHEAD-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "ba0c49d75389d2efcf5500c23169291b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8830, "upload_time": "2019-07-16T19:28:09", "upload_time_iso_8601": "2019-07-16T19:28:09.448698Z", "url": "https://files.pythonhosted.org/packages/16/9c/861355aaf13d295bacabbb4770f4d1e08cda2409694f6801ee8672199d50/POTHEAD-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bdf691b445ff91acdaacbb0f110bb918", "sha256": "bf0f3fe2b3faa7d07c892e39adb61a31ecc2c272abb94600c5e6c9ec06e1497f"}, "downloads": -1, "filename": "POTHEAD-0.0.1.tar.gz", "has_sig": false, "md5_digest": "bdf691b445ff91acdaacbb0f110bb918", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4431, "upload_time": "2019-07-16T19:28:11", "upload_time_iso_8601": "2019-07-16T19:28:11.693569Z", "url": "https://files.pythonhosted.org/packages/62/ec/f7c292890bff4732d6dbb06b8435bfa46f919369ccac389432cb91e12637/POTHEAD-0.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ba0c49d75389d2efcf5500c23169291b", "sha256": "97ed339ce4b3dfdb7e47d4939fa82b904602b16fdb05633a37173274e6b81208"}, "downloads": -1, "filename": "POTHEAD-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "ba0c49d75389d2efcf5500c23169291b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8830, "upload_time": "2019-07-16T19:28:09", "upload_time_iso_8601": "2019-07-16T19:28:09.448698Z", "url": "https://files.pythonhosted.org/packages/16/9c/861355aaf13d295bacabbb4770f4d1e08cda2409694f6801ee8672199d50/POTHEAD-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bdf691b445ff91acdaacbb0f110bb918", "sha256": "bf0f3fe2b3faa7d07c892e39adb61a31ecc2c272abb94600c5e6c9ec06e1497f"}, "downloads": -1, "filename": "POTHEAD-0.0.1.tar.gz", "has_sig": false, "md5_digest": "bdf691b445ff91acdaacbb0f110bb918", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4431, "upload_time": "2019-07-16T19:28:11", "upload_time_iso_8601": "2019-07-16T19:28:11.693569Z", "url": "https://files.pythonhosted.org/packages/62/ec/f7c292890bff4732d6dbb06b8435bfa46f919369ccac389432cb91e12637/POTHEAD-0.0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:20:50 2020"}
{"info": {"author": "Damian Zaremba", "author_email": "damian@damianzaremba.co.uk", "bugtrack_url": null, "classifiers": [], "description": "VIBootstrap\n===========\n\nVirtual Image Bootstrapping Tool.\n\nDesigned to build an image from nothing (IE via netboot/kickstart), strip it down and re-package it for different targets.\n\nCreated due to the huge amount of manual work involved in re-packaging images for new versions of things.\n\nExpected setup\n--------------\n\nRequirements:\n\n* Hardware virtualization support\n* 64bit host (if you want to build 64bit images)\n* Standard qemu setup (default NAT'd network)\n\nPackages installed:\n\n* python-libvirt\n* qemu\n* qemu-system\n* qemu-kvm\n* libvirt-bin\n* bridge-utils\n* libguestfs-tools\n\nValidate the install:\n\n    damian@Capricorn:~$ virsh -c qemu:///system net-list\n    Name                 State      Autostart\n    -----------------------------------------\n    default              active     yes  \n\nWorkflow\n--------\n\n* virt-install the machine\n* serve up a ks file based off the template\n* run the scripts\n* shutdown the machine\n* virt-prep the machine\n* undefine it\n* save the image\n* run qemu-img convert against the image for all desired formats\n\nExample:\n\n    >> cat ubuntu-base.conf\n    distro: ubuntu\n    release: saucy\n    target: server\n    arch: x86_64\n    source: http://mirror.bytemark.co.uk/%(distro)/dists/%(release)/main/installer-%(arch)/\n\n    packages:\n    - ubuntu-minimal\n    - openssh-server\n    - salt-minion\n    - puppet\n\n    post-scripts:\n    - ../scripts/bootup-generic.sh\n\n    images:\n    - vmdk\n    - vdi\n    - qcow2\n    - raw\n\n    >> cat ubuntu-13.10-i386.conf\n    include('ubuntu-base.conf')\n    release: saucy\n    target: server\n    arch: i386\n\n    >> ls ./ubuntu/\n    - bootup-generic.sh\n    - ubuntu-base.conf\n    - ubuntu-13.10-i386.conf\n    - ubuntu-12.10-i386.conf\n    \n    >> vibootstrap --host=qemu:///system --settings=ubuntu/ubuntu-13.10-i386.conf\n    Setting up qemu box\n    Installing\n    - Progress via callbacks -\n    Post scripts\n    Shutdown\n    Virt prep\n    Undefine\n    Converting images\n    qemu-img convert -O vmdk ubuntu-13.10-i386.raw ubuntu-13.10-i386.vmdk\n    qemu-img convert -O vdi ubuntu-13.10-i386.raw ubuntu-13.10-i386.vdi\n    qemu-img convert -O qcow2 ubuntu-13.10-i386.raw ubuntu-13.10-i386.qcow2\n    qemu-img convert -O raw ubuntu-13.10-i386.raw ubuntu-13.10-i386.raw\n    Artifacts:\n    - ubuntu-13.10-i386.raw\n    - ubuntu-13.10-i386.vmdk\n    - ubuntu-13.10-i386.vdi\n    - ubuntu-13.10-i386.qcow2", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://packages.python.org/vibootstrap", "keywords": "example documentation tutorial", "license": "WTFPL", "maintainer": null, "maintainer_email": null, "name": "vibootstrap", "package_url": "https://pypi.org/project/vibootstrap/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/vibootstrap/", "project_urls": {"Download": "UNKNOWN", "Homepage": "http://packages.python.org/vibootstrap"}, "release_url": "https://pypi.org/project/vibootstrap/0.0.2/", "requires_dist": null, "requires_python": null, "summary": "A simple kickstart based virtual image bootstrapping tool", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Virtual Image Bootstrapping Tool.</p>\n<p>Designed to build an image from nothing (IE via netboot/kickstart), strip it down and re-package it for different targets.</p>\n<p>Created due to the huge amount of manual work involved in re-packaging images for new versions of things.</p>\n<div id=\"expected-setup\">\n<h2>Expected setup</h2>\n<p>Requirements:</p>\n<ul>\n<li>Hardware virtualization support</li>\n<li>64bit host (if you want to build 64bit images)</li>\n<li>Standard qemu setup (default NAT\u2019d network)</li>\n</ul>\n<p>Packages installed:</p>\n<ul>\n<li>python-libvirt</li>\n<li>qemu</li>\n<li>qemu-system</li>\n<li>qemu-kvm</li>\n<li>libvirt-bin</li>\n<li>bridge-utils</li>\n<li>libguestfs-tools</li>\n</ul>\n<p>Validate the install:</p>\n<blockquote>\n<a href=\"mailto:damian%40Capricorn\">damian<span>@</span>Capricorn</a>:~$ virsh -c qemu:///system net-list\nName                 State      Autostart\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2013\ndefault              active     yes</blockquote>\n</div>\n<div id=\"workflow\">\n<h2>Workflow</h2>\n<ul>\n<li>virt-install the machine</li>\n<li>serve up a ks file based off the template</li>\n<li>run the scripts</li>\n<li>shutdown the machine</li>\n<li>virt-prep the machine</li>\n<li>undefine it</li>\n<li>save the image</li>\n<li>run qemu-img convert against the image for all desired formats</li>\n</ul>\n<p>Example:</p>\n<blockquote>\n<p>&gt;&gt; cat ubuntu-base.conf\ndistro: ubuntu\nrelease: saucy\ntarget: server\narch: x86_64\nsource: <a href=\"http://mirror.bytemark.co.uk/%(distro)/dists/%(release)/main/installer-%(arch)/\" rel=\"nofollow\">http://mirror.bytemark.co.uk/%(distro)/dists/%(release)/main/installer-%(arch)/</a></p>\n<p>packages:\n- ubuntu-minimal\n- openssh-server\n- salt-minion\n- puppet</p>\n<p>post-scripts:\n- ../scripts/bootup-generic.sh</p>\n<p>images:\n- vmdk\n- vdi\n- qcow2\n- raw</p>\n<p>&gt;&gt; cat ubuntu-13.10-i386.conf\ninclude(\u2018ubuntu-base.conf\u2019)\nrelease: saucy\ntarget: server\narch: i386</p>\n<p>&gt;&gt; ls ./ubuntu/\n- bootup-generic.sh\n- ubuntu-base.conf\n- ubuntu-13.10-i386.conf\n- ubuntu-12.10-i386.conf</p>\n<p>&gt;&gt; vibootstrap \u2013host=qemu:///system \u2013settings=ubuntu/ubuntu-13.10-i386.conf\nSetting up qemu box\nInstalling\n- Progress via callbacks -\nPost scripts\nShutdown\nVirt prep\nUndefine\nConverting images\nqemu-img convert -O vmdk ubuntu-13.10-i386.raw ubuntu-13.10-i386.vmdk\nqemu-img convert -O vdi ubuntu-13.10-i386.raw ubuntu-13.10-i386.vdi\nqemu-img convert -O qcow2 ubuntu-13.10-i386.raw ubuntu-13.10-i386.qcow2\nqemu-img convert -O raw ubuntu-13.10-i386.raw ubuntu-13.10-i386.raw\nArtifacts:\n- ubuntu-13.10-i386.raw\n- ubuntu-13.10-i386.vmdk\n- ubuntu-13.10-i386.vdi\n- ubuntu-13.10-i386.qcow2</p>\n</blockquote>\n</div>\n\n          </div>"}, "last_serial": 992253, "releases": {"0.0.2": []}, "urls": [], "timestamp": "Fri May  8 03:36:20 2020"}
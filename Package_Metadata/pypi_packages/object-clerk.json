{"info": {"author": "NSO / AURA", "author_email": "\"swiant@nso.edu\"", "bugtrack_url": null, "classifiers": ["Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7"], "description": "object-clerk\n============\n\n|codecov|\n\nA wrapper for the following boto3 s3 client operations with connection retry and checksum verification:\n\n- get_object\n\n- head_object\n\n- upload_fileobj\n\n- copy_object\n\n- delete_object\n\n- list_objects_v2\n\nFeatures\n--------\n\n- Retry connection failures\n\n- Confirm checksum of uploaded and retrieved objects\n\n- Move object\n\n- Constrained interface to support simple CRUD operations for objects in existing buckets\n\nInstallation\n------------\n\n.. code:: bash\n\n    pip install object-clerk\n\nExamples\n--------\n\n**Initialize**\n\n.. code:: python\n\n    clerk = ObjectClerk(host=127.0.0.1, port=8080, access_key=12342, secret_key=12342, retry_delay=1, retry_backoff=1, retry_jitter=(1, 3), retry_max_delay=5, retry_tries=3, use_ssl=False)'\n\n**Get Object**\n\n.. code:: python\n\n    # with checksum verified\n\n    bytes_response = clerk.get_object(\"bucket\", \"object_key\")\n\n    # without checksum verified\n\n    bytes_response = clerk.get_object(\"bucket\", \"object_key\", verify_checksum=False)\n\n**Delete Object**\n\n.. code:: python\n\n    clerk.delete_object(\"bucket\", \"object_key\")\n\n**Get Object Info**\n\n.. code:: python\n\n    dict_response = clerk.get_object_info(\"bucket\", \"object_key\")\n\n**Copy Object**\n\n.. code:: python\n\n    # with checksum verified\n\n    clerk.copy_object(\n        \"source_bucket\",\n        \"source_object_key\",\n        \"destination_bucket\",\n        \"destination_object_key\",\n    )\n\n    # without checksum verified\n\n    clerk.copy_object(\n        \"source_bucket\",\n        \"source_object_key\",\n        \"destination_bucket\",\n        \"destination_object_key\",\n        verify_checksum=False\n    )\n\n**Upload Object**\n\n.. code:: python\n\n    # with checksum verified\n\n    with open(\"file\", mode='rb') as f:\n\n        clerk.upload_object(f, \"bucket\", \"object_key\")\n\n    # without checksum verified\n\n    with open(\"file\", mode='rb') as f:\n\n        clerk.upload_object(f, \"bucket\", \"object_key\", verify_checksum=False)\n\n**Move Object**\n\n.. code:: python\n\n    # with checksum verified\n\n    clerk.move_object(\n        \"source_bucket\",\n        \"source_object_key\",\n        \"destination_bucket\",\n        \"destination_object_key\",\n    )\n\n    # without checksum verified\n\n    clerk.move_object(\n        \"source_bucket\",\n        \"source_object_key\",\n        \"destination_bucket\",\n        \"destination_object_key\",\n        verify_checksum=False\n    )\n\n**List Object**\n\n.. code:: python\n\n    clerk.list_objects(\n        \"bucket_name\",\n        1000\n    )\n\n\nTest\n----\n\n.. code:: bash\n\n    git clone git@bitbucket.org:swiant/object_store_wrapper.git\n\n    pip install -e .\n\n    export HOST=<host>\n\n    export PORT=<port>\n\n    export ACCESS_KEY=<access_key>\n\n    export SECRET_KEY=<secret_key>\n\n    pytest -v object_clerk\n\n\n\n.. |codecov| image:: https://codecov.io/bb/dkistdc/object_store_wrapper/branch/master/graph/badge.svg\n   :target: https://codecov.io/bb/dkistdc/object_store_wrapper", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://bitbucket.org/dkistdc/object_clerk/src/master", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "object-clerk", "package_url": "https://pypi.org/project/object-clerk/", "platform": "", "project_url": "https://pypi.org/project/object-clerk/", "project_urls": {"Homepage": "https://bitbucket.org/dkistdc/object_clerk/src/master"}, "release_url": "https://pypi.org/project/object-clerk/0.0.8/", "requires_dist": null, "requires_python": ">=3.6", "summary": "A wrapper for select object operations using boto3 for Ceph which confirms integrity of reads and heals intermittent connectivity.", "version": "0.0.8", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://codecov.io/bb/dkistdc/object_store_wrapper\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f72e912378f1ac061f020636a2e3f8d5dc445190/68747470733a2f2f636f6465636f762e696f2f62622f646b69737464632f6f626a6563745f73746f72655f777261707065722f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a></p>\n<p>A wrapper for the following boto3 s3 client operations with connection retry and checksum verification:</p>\n<ul>\n<li>get_object</li>\n<li>head_object</li>\n<li>upload_fileobj</li>\n<li>copy_object</li>\n<li>delete_object</li>\n<li>list_objects_v2</li>\n</ul>\n<div id=\"features\">\n<h2>Features</h2>\n<ul>\n<li>Retry connection failures</li>\n<li>Confirm checksum of uploaded and retrieved objects</li>\n<li>Move object</li>\n<li>Constrained interface to support simple CRUD operations for objects in existing buckets</li>\n</ul>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>pip install object-clerk\n</pre>\n</div>\n<div id=\"examples\">\n<h2>Examples</h2>\n<p><strong>Initialize</strong></p>\n<pre><span class=\"n\">clerk</span> <span class=\"o\">=</span> <span class=\"n\">ObjectClerk</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">8080</span><span class=\"p\">,</span> <span class=\"n\">access_key</span><span class=\"o\">=</span><span class=\"mi\">12342</span><span class=\"p\">,</span> <span class=\"n\">secret_key</span><span class=\"o\">=</span><span class=\"mi\">12342</span><span class=\"p\">,</span> <span class=\"n\">retry_delay</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">retry_backoff</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">retry_jitter</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"n\">retry_max_delay</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"n\">retry_tries</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">use_ssl</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span><span class=\"s1\">'</span>\n</pre>\n<p><strong>Get Object</strong></p>\n<pre><span class=\"c1\"># with checksum verified</span>\n\n<span class=\"n\">bytes_response</span> <span class=\"o\">=</span> <span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">get_object</span><span class=\"p\">(</span><span class=\"s2\">\"bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"object_key\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># without checksum verified</span>\n\n<span class=\"n\">bytes_response</span> <span class=\"o\">=</span> <span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">get_object</span><span class=\"p\">(</span><span class=\"s2\">\"bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"object_key\"</span><span class=\"p\">,</span> <span class=\"n\">verify_checksum</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n</pre>\n<p><strong>Delete Object</strong></p>\n<pre><span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">delete_object</span><span class=\"p\">(</span><span class=\"s2\">\"bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"object_key\"</span><span class=\"p\">)</span>\n</pre>\n<p><strong>Get Object Info</strong></p>\n<pre><span class=\"n\">dict_response</span> <span class=\"o\">=</span> <span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">get_object_info</span><span class=\"p\">(</span><span class=\"s2\">\"bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"object_key\"</span><span class=\"p\">)</span>\n</pre>\n<p><strong>Copy Object</strong></p>\n<pre><span class=\"c1\"># with checksum verified</span>\n\n<span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">copy_object</span><span class=\"p\">(</span>\n    <span class=\"s2\">\"source_bucket\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"source_object_key\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"destination_bucket\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"destination_object_key\"</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># without checksum verified</span>\n\n<span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">copy_object</span><span class=\"p\">(</span>\n    <span class=\"s2\">\"source_bucket\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"source_object_key\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"destination_bucket\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"destination_object_key\"</span><span class=\"p\">,</span>\n    <span class=\"n\">verify_checksum</span><span class=\"o\">=</span><span class=\"kc\">False</span>\n<span class=\"p\">)</span>\n</pre>\n<p><strong>Upload Object</strong></p>\n<pre><span class=\"c1\"># with checksum verified</span>\n\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"file\"</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s1\">'rb'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n\n    <span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">upload_object</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"s2\">\"bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"object_key\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># without checksum verified</span>\n\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"file\"</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s1\">'rb'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n\n    <span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">upload_object</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"s2\">\"bucket\"</span><span class=\"p\">,</span> <span class=\"s2\">\"object_key\"</span><span class=\"p\">,</span> <span class=\"n\">verify_checksum</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n</pre>\n<p><strong>Move Object</strong></p>\n<pre><span class=\"c1\"># with checksum verified</span>\n\n<span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">move_object</span><span class=\"p\">(</span>\n    <span class=\"s2\">\"source_bucket\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"source_object_key\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"destination_bucket\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"destination_object_key\"</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># without checksum verified</span>\n\n<span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">move_object</span><span class=\"p\">(</span>\n    <span class=\"s2\">\"source_bucket\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"source_object_key\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"destination_bucket\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"destination_object_key\"</span><span class=\"p\">,</span>\n    <span class=\"n\">verify_checksum</span><span class=\"o\">=</span><span class=\"kc\">False</span>\n<span class=\"p\">)</span>\n</pre>\n<p><strong>List Object</strong></p>\n<pre><span class=\"n\">clerk</span><span class=\"o\">.</span><span class=\"n\">list_objects</span><span class=\"p\">(</span>\n    <span class=\"s2\">\"bucket_name\"</span><span class=\"p\">,</span>\n    <span class=\"mi\">1000</span>\n<span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"test\">\n<h2>Test</h2>\n<pre>git clone git@bitbucket.org:swiant/object_store_wrapper.git\n\npip install -e .\n\n<span class=\"nb\">export</span> <span class=\"nv\">HOST</span><span class=\"o\">=</span>&lt;host&gt;\n\n<span class=\"nb\">export</span> <span class=\"nv\">PORT</span><span class=\"o\">=</span>&lt;port&gt;\n\n<span class=\"nb\">export</span> <span class=\"nv\">ACCESS_KEY</span><span class=\"o\">=</span>&lt;access_key&gt;\n\n<span class=\"nb\">export</span> <span class=\"nv\">SECRET_KEY</span><span class=\"o\">=</span>&lt;secret_key&gt;\n\npytest -v object_clerk\n</pre>\n</div>\n\n          </div>"}, "last_serial": 6838678, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "359e5560d6be9ab4a8f81b484996e2f9", "sha256": "6affabed0da39e7234aad8a4c26f2669207fc23116bbb79f1573b19d76d10932"}, "downloads": -1, "filename": "object-clerk-0.0.1.tar.gz", "has_sig": false, "md5_digest": "359e5560d6be9ab4a8f81b484996e2f9", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 10714, "upload_time": "2020-02-07T21:20:14", "upload_time_iso_8601": "2020-02-07T21:20:14.828360Z", "url": "https://files.pythonhosted.org/packages/68/71/ad492427d8beb0d460c93a41c530a39ebd97f28cc8a7a630701c93ca3f1c/object-clerk-0.0.1.tar.gz", "yanked": false}], "0.0.1rc4": [{"comment_text": "", "digests": {"md5": "e4058a36b7cc8f059018b75702b1d720", "sha256": "012e8bb86cf8d09a8b3622b2da28b1ad58560bfbaf34a96ef9a9c2437cfd3398"}, "downloads": -1, "filename": "object-clerk-0.0.1rc4.tar.gz", "has_sig": false, "md5_digest": "e4058a36b7cc8f059018b75702b1d720", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 9853, "upload_time": "2020-02-07T00:29:59", "upload_time_iso_8601": "2020-02-07T00:29:59.671505Z", "url": "https://files.pythonhosted.org/packages/5f/7c/e23a43eeaa6e43fd9bd67ef3b7ed47b2c69dc18006437b74c427a98e21f6/object-clerk-0.0.1rc4.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "0bd43e1a0e151bdcb9c07da5680d2ec0", "sha256": "e2e07202e10ed230cf116e56c8f961a34c79d218a160376e4715a889f3525fc9"}, "downloads": -1, "filename": "object-clerk-0.0.2.tar.gz", "has_sig": false, "md5_digest": "0bd43e1a0e151bdcb9c07da5680d2ec0", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 10711, "upload_time": "2020-02-11T19:54:05", "upload_time_iso_8601": "2020-02-11T19:54:05.687106Z", "url": "https://files.pythonhosted.org/packages/64/7c/ec4b696cfc8688d4c342c8c4ef7eaca95c80a5a387555b6634a59d5914be/object-clerk-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "f1d131bc88f89a5c609415a92b80bc21", "sha256": "91ce3076ae5e8a520f34a746b5f54ecfb04cfa50d7e2dcb0b36f743ec3a3fa5c"}, "downloads": -1, "filename": "object-clerk-0.0.3.tar.gz", "has_sig": false, "md5_digest": "f1d131bc88f89a5c609415a92b80bc21", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 11138, "upload_time": "2020-02-12T20:16:27", "upload_time_iso_8601": "2020-02-12T20:16:27.267038Z", "url": "https://files.pythonhosted.org/packages/43/60/b33219520165731a8a485180c9291479a8983a74037615454b6e69682fb7/object-clerk-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "9f083f9eb8d20faca60dfa05d76b749c", "sha256": "baffff3d659b57973123a6e4178439b2d0f7d436f080c68f2472f752127a268a"}, "downloads": -1, "filename": "object-clerk-0.0.4.tar.gz", "has_sig": false, "md5_digest": "9f083f9eb8d20faca60dfa05d76b749c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 13257, "upload_time": "2020-02-18T16:17:28", "upload_time_iso_8601": "2020-02-18T16:17:28.858329Z", "url": "https://files.pythonhosted.org/packages/2a/9b/ad5b8499d96cf3a51685be67e458605fe9d63ab85978499567465b897c90/object-clerk-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "96e9d92c3f9b343d5baa0efe7e82a119", "sha256": "0a027142f581c9ff8eab7ecfbe2539dc9dcf6b1e8a558c69175f17ad50a4eeea"}, "downloads": -1, "filename": "object-clerk-0.0.5.tar.gz", "has_sig": false, "md5_digest": "96e9d92c3f9b343d5baa0efe7e82a119", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 13661, "upload_time": "2020-02-20T17:27:47", "upload_time_iso_8601": "2020-02-20T17:27:47.345782Z", "url": "https://files.pythonhosted.org/packages/2a/c0/ac37484f53575a467fe570b9635ec2e8b7bd46f6eb1b4a8438c0c41b6ab4/object-clerk-0.0.5.tar.gz", "yanked": false}], "0.0.6": [{"comment_text": "", "digests": {"md5": "6ae5ef5081049e4cbb8614069604662d", "sha256": "d7cda34578a4bef482dd3964a3a1aea539619bed2e0db59dc53504070ef7c8e2"}, "downloads": -1, "filename": "object-clerk-0.0.6.tar.gz", "has_sig": false, "md5_digest": "6ae5ef5081049e4cbb8614069604662d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 13781, "upload_time": "2020-02-20T18:58:40", "upload_time_iso_8601": "2020-02-20T18:58:40.867293Z", "url": "https://files.pythonhosted.org/packages/e7/b0/7bc56156b7557d841bd517ab8791a927d071c1baac0aa591992d4b82be72/object-clerk-0.0.6.tar.gz", "yanked": false}], "0.0.7": [{"comment_text": "", "digests": {"md5": "1b3a685c2897d4c0672d3a16b762e113", "sha256": "513aa422a37ca942d499564dbbce533dcccf6d16ea8d72e7885859366a60c55a"}, "downloads": -1, "filename": "object-clerk-0.0.7.tar.gz", "has_sig": false, "md5_digest": "1b3a685c2897d4c0672d3a16b762e113", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 13907, "upload_time": "2020-02-24T18:01:48", "upload_time_iso_8601": "2020-02-24T18:01:48.179629Z", "url": "https://files.pythonhosted.org/packages/2f/6c/a4753bbbd5b33ec79756be792c3f31f8194747c1714c80a2eaad2e2da85a/object-clerk-0.0.7.tar.gz", "yanked": false}], "0.0.8": [{"comment_text": "", "digests": {"md5": "98fc711e31279eed4df31e9f4e0e2bee", "sha256": "a779e35f23ed8884ac3887170e273d0284b428aabc0bd1ec9460f14ae908f928"}, "downloads": -1, "filename": "object-clerk-0.0.8.tar.gz", "has_sig": false, "md5_digest": "98fc711e31279eed4df31e9f4e0e2bee", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 13877, "upload_time": "2020-03-18T19:44:40", "upload_time_iso_8601": "2020-03-18T19:44:40.687131Z", "url": "https://files.pythonhosted.org/packages/20/cc/4702a4baedbfe9cf19a6979a122f0fce89224ed734738d0b7c02c5d4467f/object-clerk-0.0.8.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "98fc711e31279eed4df31e9f4e0e2bee", "sha256": "a779e35f23ed8884ac3887170e273d0284b428aabc0bd1ec9460f14ae908f928"}, "downloads": -1, "filename": "object-clerk-0.0.8.tar.gz", "has_sig": false, "md5_digest": "98fc711e31279eed4df31e9f4e0e2bee", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 13877, "upload_time": "2020-03-18T19:44:40", "upload_time_iso_8601": "2020-03-18T19:44:40.687131Z", "url": "https://files.pythonhosted.org/packages/20/cc/4702a4baedbfe9cf19a6979a122f0fce89224ed734738d0b7c02c5d4467f/object-clerk-0.0.8.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:43:50 2020"}
{"info": {"author": "Steven Klass", "author_email": "sklass@pivotalenergysolutions.com", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Environment :: Web Environment", "Framework :: Django", "Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Operating System :: OS Independent", "Programming Language :: Python", "Topic :: Software Development"], "description": "******************************************\nSimple-history: History for Django Models\n******************************************\n\ndjango-simple-history is a tool to store state of DB objects on every create/update/delete. It has been tested to work in django 1.X (including 1.4 as of 08/30/2011).\n\n**Install**\n\nDownload the tar.gz, extract it and run the following inside the directory:\n\n.. code-block:: bash\n\n    python setup.py install\n\n**Basic usage**\n\nUsing this package is *really* simple; you just have to ``import HistoricalRecords`` and create an instance of it on every model you want to historically track.\n\nAppend the following line you your ``MIDDLEWARE_CLASSES``\n\n\n.. code-block:: python\n\n    MIDDLEWARE_CLASSES = (\n      'simple_history.middleware.CurrentUserMiddleware',\n      )\n\nOn your models you need to include the following line at the top:\n\n.. code-block:: python\n\n    from simple_history.models import HistoricalRecords\n\n\nThen in your model class, include the following line:\n\n.. code-block:: python\n\n    history = HistoricalRecords()\n\n\nThen from either the model class or from an instance, you can access ``history.all()`` which will give you either every history item of the class, or every history item of the specific instance.\n\n**Example**\n\n.. code-block:: python\n\n    class Poll(models.Model):\n        question = models.CharField(max_length = 200)\n        pub_date = models.DateTimeField('date published')\n\n        history = HistoricalRecords()\n\n    class Choice(models.Model):\n        poll = models.ForeignKey(Poll)\n        choice = models.CharField(max_length=200)\n        votes = models.IntegerField()\n\n        history = HistoricalRecords()\n\n.. code-block:: bash\n\n    $ ./manage.py shell\n\n.. code-block:: python\n\n    In [2]: from poll.models import Poll, Choice\n\n    In [3]: Poll.objects.all()\n    Out[3]: []\n\n    In [4]: import datetime\n\n    In [5]: p = Poll(question=\"what's up?\", pub_date=datetime.datetime.now())\n\n    In [6]: p.save()\n\n    In [7]: p\n    Out[7]: <Poll: Poll object>\n\n    In [9]: p.history.all()\n    Out[9]: [<HistoricalPoll: Poll object as of 2010-10-25 18:03:29.855689>]\n\n    In [10]: p.pub_date = datetime.datetime(2007,4,1,0,0)\n\n    In [11]: p.save()\n\n    In [13]: p.history.all()\n    Out[13]: [<HistoricalPoll: Poll object as of 2010-10-25 18:04:13.814128>, <HistoricalPoll: Poll object as of 2010-10-25 18:03:29.855689>]\n\n    In [14]: p.choice_set.create(choice='Not Much', votes=0)\n    Out[14]: <Choice: Choice object>\n\n    In [15]: p.choice_set.create(choice='The sky', votes=0)\n    Out[15]: <Choice: Choice object>\n\n    In [16]: c = p.choice_set.create(choice='Just hacking again', votes=0)\n\n    In [17]: c.poll\n    Out[17]: <Poll: Poll object>\n\n    In [19]: c.history.all()\n    Out[19]: [<HistoricalChoice: Choice object as of 2010-10-25 18:05:30.160595>]\n\n    In [20]: Choice.history\n    Out[20]: <simple_history.manager.HistoryManager object at 0x1cc4290>\n\n    In [21]: Choice.history.all()\n    Out[21]: [<HistoricalChoice: Choice object as of 2010-10-25 18:05:30.160595>, <HistoricalChoice: Choice object as of 2010-10-25 18:05:12.183340>, <HistoricalChoice: Choice object as of 2010-10-25 18:04:59.047351>]\n\n**Copyright and license**\n\nCopyright (c) 2012-2013 Pivotal Energy Solutions.  All rights reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this work except in compliance with the License.\nYou may obtain a copy of the License in the LICENSE file, or at:\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.", "description_content_type": null, "docs_url": null, "download_url": "https://github.com/pivotal-energy-solutions/django-simple-history/archive/simple_history-simple_history.tar.gz", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/pivotal-energy-solutions/django-simple-history", "keywords": null, "license": "Apache License (2.0)", "maintainer": null, "maintainer_email": null, "name": "simple_history", "package_url": "https://pypi.org/project/simple_history/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/simple_history/", "project_urls": {"Download": "https://github.com/pivotal-energy-solutions/django-simple-history/archive/simple_history-simple_history.tar.gz", "Homepage": "https://github.com/pivotal-energy-solutions/django-simple-history"}, "release_url": "https://pypi.org/project/simple_history/1.3.6/", "requires_dist": null, "requires_python": null, "summary": "Simple-history: History for Django Models", "version": "1.3.6", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>django-simple-history is a tool to store state of DB objects on every create/update/delete. It has been tested to work in django 1.X (including 1.4 as of 08/30/2011).</p>\n<p><strong>Install</strong></p>\n<p>Download the tar.gz, extract it and run the following inside the directory:</p>\n<pre>python setup.py install\n</pre>\n<p><strong>Basic usage</strong></p>\n<p>Using this package is <em>really</em> simple; you just have to <tt>import HistoricalRecords</tt> and create an instance of it on every model you want to historically track.</p>\n<p>Append the following line you your <tt>MIDDLEWARE_CLASSES</tt></p>\n<pre><span class=\"n\">MIDDLEWARE_CLASSES</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n  <span class=\"s1\">'simple_history.middleware.CurrentUserMiddleware'</span><span class=\"p\">,</span>\n  <span class=\"p\">)</span>\n</pre>\n<p>On your models you need to include the following line at the top:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">simple_history.models</span> <span class=\"kn\">import</span> <span class=\"n\">HistoricalRecords</span>\n</pre>\n<p>Then in your model class, include the following line:</p>\n<pre><span class=\"n\">history</span> <span class=\"o\">=</span> <span class=\"n\">HistoricalRecords</span><span class=\"p\">()</span>\n</pre>\n<p>Then from either the model class or from an instance, you can access <tt>history.all()</tt> which will give you either every history item of the class, or every history item of the specific instance.</p>\n<p><strong>Example</strong></p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">Poll</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">question</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span> <span class=\"o\">=</span> <span class=\"mi\">200</span><span class=\"p\">)</span>\n    <span class=\"n\">pub_date</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">DateTimeField</span><span class=\"p\">(</span><span class=\"s1\">'date published'</span><span class=\"p\">)</span>\n\n    <span class=\"n\">history</span> <span class=\"o\">=</span> <span class=\"n\">HistoricalRecords</span><span class=\"p\">()</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Choice</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">poll</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">ForeignKey</span><span class=\"p\">(</span><span class=\"n\">Poll</span><span class=\"p\">)</span>\n    <span class=\"n\">choice</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">200</span><span class=\"p\">)</span>\n    <span class=\"n\">votes</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">IntegerField</span><span class=\"p\">()</span>\n\n    <span class=\"n\">history</span> <span class=\"o\">=</span> <span class=\"n\">HistoricalRecords</span><span class=\"p\">()</span>\n</pre>\n<pre>$ ./manage.py shell\n</pre>\n<pre><span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]:</span> <span class=\"kn\">from</span> <span class=\"nn\">poll.models</span> <span class=\"kn\">import</span> <span class=\"n\">Poll</span><span class=\"p\">,</span> <span class=\"n\">Choice</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">]:</span> <span class=\"n\">Poll</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">]:</span> <span class=\"p\">[]</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]:</span> <span class=\"kn\">import</span> <span class=\"nn\">datetime</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">5</span><span class=\"p\">]:</span> <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">Poll</span><span class=\"p\">(</span><span class=\"n\">question</span><span class=\"o\">=</span><span class=\"s2\">\"what's up?\"</span><span class=\"p\">,</span> <span class=\"n\">pub_date</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">())</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">6</span><span class=\"p\">]:</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">7</span><span class=\"p\">]:</span> <span class=\"n\">p</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">7</span><span class=\"p\">]:</span> <span class=\"o\">&lt;</span><span class=\"n\">Poll</span><span class=\"p\">:</span> <span class=\"n\">Poll</span> <span class=\"nb\">object</span><span class=\"o\">&gt;</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">9</span><span class=\"p\">]:</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">history</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">9</span><span class=\"p\">]:</span> <span class=\"p\">[</span><span class=\"o\">&lt;</span><span class=\"n\">HistoricalPoll</span><span class=\"p\">:</span> <span class=\"n\">Poll</span> <span class=\"nb\">object</span> <span class=\"k\">as</span> <span class=\"n\">of</span> <span class=\"mi\">2010</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">25</span> <span class=\"mi\">18</span><span class=\"p\">:</span><span class=\"mi\">03</span><span class=\"p\">:</span><span class=\"mf\">29.855689</span><span class=\"o\">&gt;</span><span class=\"p\">]</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">10</span><span class=\"p\">]:</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">pub_date</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2007</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">11</span><span class=\"p\">]:</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">13</span><span class=\"p\">]:</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">history</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">13</span><span class=\"p\">]:</span> <span class=\"p\">[</span><span class=\"o\">&lt;</span><span class=\"n\">HistoricalPoll</span><span class=\"p\">:</span> <span class=\"n\">Poll</span> <span class=\"nb\">object</span> <span class=\"k\">as</span> <span class=\"n\">of</span> <span class=\"mi\">2010</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">25</span> <span class=\"mi\">18</span><span class=\"p\">:</span><span class=\"mi\">04</span><span class=\"p\">:</span><span class=\"mf\">13.814128</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"o\">&lt;</span><span class=\"n\">HistoricalPoll</span><span class=\"p\">:</span> <span class=\"n\">Poll</span> <span class=\"nb\">object</span> <span class=\"k\">as</span> <span class=\"n\">of</span> <span class=\"mi\">2010</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">25</span> <span class=\"mi\">18</span><span class=\"p\">:</span><span class=\"mi\">03</span><span class=\"p\">:</span><span class=\"mf\">29.855689</span><span class=\"o\">&gt;</span><span class=\"p\">]</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">14</span><span class=\"p\">]:</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">choice_set</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">choice</span><span class=\"o\">=</span><span class=\"s1\">'Not Much'</span><span class=\"p\">,</span> <span class=\"n\">votes</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">14</span><span class=\"p\">]:</span> <span class=\"o\">&lt;</span><span class=\"n\">Choice</span><span class=\"p\">:</span> <span class=\"n\">Choice</span> <span class=\"nb\">object</span><span class=\"o\">&gt;</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">15</span><span class=\"p\">]:</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">choice_set</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">choice</span><span class=\"o\">=</span><span class=\"s1\">'The sky'</span><span class=\"p\">,</span> <span class=\"n\">votes</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">15</span><span class=\"p\">]:</span> <span class=\"o\">&lt;</span><span class=\"n\">Choice</span><span class=\"p\">:</span> <span class=\"n\">Choice</span> <span class=\"nb\">object</span><span class=\"o\">&gt;</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">16</span><span class=\"p\">]:</span> <span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">choice_set</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">choice</span><span class=\"o\">=</span><span class=\"s1\">'Just hacking again'</span><span class=\"p\">,</span> <span class=\"n\">votes</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">17</span><span class=\"p\">]:</span> <span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">poll</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">17</span><span class=\"p\">]:</span> <span class=\"o\">&lt;</span><span class=\"n\">Poll</span><span class=\"p\">:</span> <span class=\"n\">Poll</span> <span class=\"nb\">object</span><span class=\"o\">&gt;</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">19</span><span class=\"p\">]:</span> <span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">history</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">19</span><span class=\"p\">]:</span> <span class=\"p\">[</span><span class=\"o\">&lt;</span><span class=\"n\">HistoricalChoice</span><span class=\"p\">:</span> <span class=\"n\">Choice</span> <span class=\"nb\">object</span> <span class=\"k\">as</span> <span class=\"n\">of</span> <span class=\"mi\">2010</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">25</span> <span class=\"mi\">18</span><span class=\"p\">:</span><span class=\"mi\">05</span><span class=\"p\">:</span><span class=\"mf\">30.160595</span><span class=\"o\">&gt;</span><span class=\"p\">]</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">20</span><span class=\"p\">]:</span> <span class=\"n\">Choice</span><span class=\"o\">.</span><span class=\"n\">history</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">20</span><span class=\"p\">]:</span> <span class=\"o\">&lt;</span><span class=\"n\">simple_history</span><span class=\"o\">.</span><span class=\"n\">manager</span><span class=\"o\">.</span><span class=\"n\">HistoryManager</span> <span class=\"nb\">object</span> <span class=\"n\">at</span> <span class=\"mh\">0x1cc4290</span><span class=\"o\">&gt;</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">21</span><span class=\"p\">]:</span> <span class=\"n\">Choice</span><span class=\"o\">.</span><span class=\"n\">history</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">21</span><span class=\"p\">]:</span> <span class=\"p\">[</span><span class=\"o\">&lt;</span><span class=\"n\">HistoricalChoice</span><span class=\"p\">:</span> <span class=\"n\">Choice</span> <span class=\"nb\">object</span> <span class=\"k\">as</span> <span class=\"n\">of</span> <span class=\"mi\">2010</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">25</span> <span class=\"mi\">18</span><span class=\"p\">:</span><span class=\"mi\">05</span><span class=\"p\">:</span><span class=\"mf\">30.160595</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"o\">&lt;</span><span class=\"n\">HistoricalChoice</span><span class=\"p\">:</span> <span class=\"n\">Choice</span> <span class=\"nb\">object</span> <span class=\"k\">as</span> <span class=\"n\">of</span> <span class=\"mi\">2010</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">25</span> <span class=\"mi\">18</span><span class=\"p\">:</span><span class=\"mi\">05</span><span class=\"p\">:</span><span class=\"mf\">12.183340</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"o\">&lt;</span><span class=\"n\">HistoricalChoice</span><span class=\"p\">:</span> <span class=\"n\">Choice</span> <span class=\"nb\">object</span> <span class=\"k\">as</span> <span class=\"n\">of</span> <span class=\"mi\">2010</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">25</span> <span class=\"mi\">18</span><span class=\"p\">:</span><span class=\"mi\">04</span><span class=\"p\">:</span><span class=\"mf\">59.047351</span><span class=\"o\">&gt;</span><span class=\"p\">]</span>\n</pre>\n<p><strong>Copyright and license</strong></p>\n<p>Copyright (c) 2012-2013 Pivotal Energy Solutions.  All rights reserved.</p>\n<p>Licensed under the Apache License, Version 2.0 (the \u201cLicense\u201d);\nyou may not use this work except in compliance with the License.\nYou may obtain a copy of the License in the LICENSE file, or at:</p>\n<blockquote>\n<a href=\"http://www.apache.org/licenses/LICENSE-2.0\" rel=\"nofollow\">http://www.apache.org/licenses/LICENSE-2.0</a></blockquote>\n<p>Unless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \u201cAS IS\u201d BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.</p>\n\n          </div>"}, "last_serial": 814554, "releases": {"1.0": [], "1.1": [{"comment_text": "", "digests": {"md5": "b4c4bb2512904d7826a75f58cc9df651", "sha256": "97babb49e8ca0902ec1fe55a639e66b5d7e876e50aea240da2ad3e3275178dc0"}, "downloads": -1, "filename": "simple_history-1.1.tar.gz", "has_sig": false, "md5_digest": "b4c4bb2512904d7826a75f58cc9df651", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8793, "upload_time": "2013-07-12T23:03:35", "upload_time_iso_8601": "2013-07-12T23:03:35.887391Z", "url": "https://files.pythonhosted.org/packages/85/4d/5e006ac6f5858ed39f02799f6d6b77bae0d73a6bdae771ae114cf30b2e10/simple_history-1.1.tar.gz", "yanked": false}], "1.3.5": [], "1.3.6": []}, "urls": [], "timestamp": "Fri May  8 03:10:43 2020"}
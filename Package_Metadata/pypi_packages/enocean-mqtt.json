{"info": {"author": "Roman Morawek", "author_email": "roman.morawek@embyt.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Programming Language :: Python :: 3"], "description": "# EnOcean to MQTT Forwarder #\n\n[![PyPI pyversions](https://img.shields.io/pypi/pyversions/enocean-mqtt.svg)](https://pypi.python.org/pypi/enocean-mqtt/) [![PyPI status](https://img.shields.io/pypi/status/enocean-mqtt.svg)](https://pypi.python.org/pypi/enocean-mqtt/) [![PyPI version shields.io](https://img.shields.io/pypi/v/enocean-mqtt.svg)](https://pypi.python.org/pypi/enocean-mqtt/) [![PyPI download total](https://img.shields.io/pypi/dm/enocean-mqtt.svg)](https://pypi.python.org/pypi/enocean-mqtt/)\n\nThis Python module receives messages from an EnOcean interface (e.g. via USB) and publishes selected messages to an MQTT broker.\n\nYou may also configure it to answer to incoming EnOcean messages with outgoing responses. The response content is also defined using MQTT requests.\n\nIt builds upon the [Python EnOcean](https://github.com/kipe/enocean) library.\n\n## Installation ##\n\nenocean-mqtt is available on PyPI and can be installed using pip:\n - `pip install enocean-mqtt`\n\nAlternatively, install the latest release directly from github:\n - download this repository to an arbritary directory\n - install it using `python setup.py develop`\n\nAfterwards, perform configuration:\n - adapt the `enoceanmqtt.conf.sample` file and put it to /etc/enoceanmqtt.conf\n   - set the enocean interface port\n   - define the MQTT broker address\n   - define the sensors to monitor\n - ensure that the MQTT broker is running\n - run `enoceanmqtt` from within the directory of the config file or provide the config file as a command line argument\n\n### Setup as a daemon ###\n\nAssuming you want this tool to run as a daemon, which gets automatically started by systemd:\n - copy the `enoceanmqtt.service` to `/etc/systemd/system/` (making only a symbolic link [will not work](https://bugzilla.redhat.com/show_bug.cgi?id=955379))\n - `systemctl enable enoceanmqtt`\n - `systemctl start enoceanmqtt`\n\n### Setup as a docker container ###\n\nAlternatively, instead of running a native deamon you may want to use Docker:\n- Mount the `/config` volume and your enocean USB device\n- Adapt the `enoceanmqtt.conf` file in the `/config` folder\n\n### Define persistant device name for EnOcean interface ###\n\nIf you own an USB EnOcean interface and use it together with some other USB devices you may face the situation that the EnOcean interface gets different device names depending on your plugging and unplugging sequence, such as `/dev/ttyUSB0`or `/dev/ttyUSB1`. You would need to always adapt your config file then.\n\nTo solve this you can make an udev rule that assigns a symbolic name to the device. For this, create the file `/etc/udev/rules.d/99-usb.rules` with the following content:\n\n`SUBSYSTEM==\"tty\", ATTRS{product}==\"EnOcean USB 300 DB\", SYMLINK+=\"enocean\"`\n\nAfter reboot, this assigns the symbolic name `/dev/enocean`. If you use a different enocean interface, you may want to check the product string by looking into `dmesg` and search for the corresponding entry here. Alternatively you can check `udevadm info -a -n /dev/ttyUSB0`, assuming that the interface is currently mapped to `ttyUSB0`.\n\n## Configuration ##\n\nPlease take a look at the provided [enoceanmqtt.conf.sample](enoceanmqtt.conf.sample) sample config file. Most should be self explaining.\n\nMultiple config files can be specified as command line arguments. Values are merged, later config files override values of the former. This is the order:\n\n* `/etc/enoceanmqtt.conf`\n* in Dockerfile: `/enoceanmqtt-default.conf`, compare [enoceanmqtt-default.conf](enoceanmqtt-default.conf).\n* any further command line argument.\n\nThis can be used to split security sensitive values from the device configs.\n\n### Answering EnOcean Messages ###\n\nTo answer EnOcean messages you configure the `answer` switch and the `default_data` in the config file. To customize the response data you publish an MQTT message to the sensor topic where you prefix the topic with `/req`.\n\nAn example: If you want to set the valve position (set point) of a heating actuator named `heating` (e.g. with `rorg = 0xA5`, `func = 0x20`, `type = 0x01`) to 80 % you publish the integer value 80 to the topic `enocean/heating/req/SP`. This replaces the corresponding part of `default_data`.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/embyt/enocean-mqtt", "keywords": "enOcean MQTT IoT", "license": "GPLv3", "maintainer": "", "maintainer_email": "", "name": "enocean-mqtt", "package_url": "https://pypi.org/project/enocean-mqtt/", "platform": "", "project_url": "https://pypi.org/project/enocean-mqtt/", "project_urls": {"Homepage": "https://github.com/embyt/enocean-mqtt"}, "release_url": "https://pypi.org/project/enocean-mqtt/0.1.1/", "requires_dist": ["enocean", "paho-mqtt"], "requires_python": "", "summary": "Receives messages from an enOcean serial interface (USB) and provides selected messages to an MQTT broker.", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>EnOcean to MQTT Forwarder</h1>\n<p><a href=\"https://pypi.python.org/pypi/enocean-mqtt/\" rel=\"nofollow\"><img alt=\"PyPI pyversions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/bc11898eb8cfb1bf28e49e69a50c7f8677b83a9a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f656e6f6365616e2d6d7174742e737667\"></a> <a href=\"https://pypi.python.org/pypi/enocean-mqtt/\" rel=\"nofollow\"><img alt=\"PyPI status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b055e14a414a124718f4bbf8175be38a437db733/68747470733a2f2f696d672e736869656c64732e696f2f707970692f7374617475732f656e6f6365616e2d6d7174742e737667\"></a> <a href=\"https://pypi.python.org/pypi/enocean-mqtt/\" rel=\"nofollow\"><img alt=\"PyPI version shields.io\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6070d8d5cbe006a30ea32cd748cc3450ffd7195a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f656e6f6365616e2d6d7174742e737667\"></a> <a href=\"https://pypi.python.org/pypi/enocean-mqtt/\" rel=\"nofollow\"><img alt=\"PyPI download total\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9f789cd66ab10c27c4a1bcc7ffacbfb07887b401/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f656e6f6365616e2d6d7174742e737667\"></a></p>\n<p>This Python module receives messages from an EnOcean interface (e.g. via USB) and publishes selected messages to an MQTT broker.</p>\n<p>You may also configure it to answer to incoming EnOcean messages with outgoing responses. The response content is also defined using MQTT requests.</p>\n<p>It builds upon the <a href=\"https://github.com/kipe/enocean\" rel=\"nofollow\">Python EnOcean</a> library.</p>\n<h2>Installation</h2>\n<p>enocean-mqtt is available on PyPI and can be installed using pip:</p>\n<ul>\n<li><code>pip install enocean-mqtt</code></li>\n</ul>\n<p>Alternatively, install the latest release directly from github:</p>\n<ul>\n<li>download this repository to an arbritary directory</li>\n<li>install it using <code>python setup.py develop</code></li>\n</ul>\n<p>Afterwards, perform configuration:</p>\n<ul>\n<li>adapt the <code>enoceanmqtt.conf.sample</code> file and put it to /etc/enoceanmqtt.conf\n<ul>\n<li>set the enocean interface port</li>\n<li>define the MQTT broker address</li>\n<li>define the sensors to monitor</li>\n</ul>\n</li>\n<li>ensure that the MQTT broker is running</li>\n<li>run <code>enoceanmqtt</code> from within the directory of the config file or provide the config file as a command line argument</li>\n</ul>\n<h3>Setup as a daemon</h3>\n<p>Assuming you want this tool to run as a daemon, which gets automatically started by systemd:</p>\n<ul>\n<li>copy the <code>enoceanmqtt.service</code> to <code>/etc/systemd/system/</code> (making only a symbolic link <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=955379\" rel=\"nofollow\">will not work</a>)</li>\n<li><code>systemctl enable enoceanmqtt</code></li>\n<li><code>systemctl start enoceanmqtt</code></li>\n</ul>\n<h3>Setup as a docker container</h3>\n<p>Alternatively, instead of running a native deamon you may want to use Docker:</p>\n<ul>\n<li>Mount the <code>/config</code> volume and your enocean USB device</li>\n<li>Adapt the <code>enoceanmqtt.conf</code> file in the <code>/config</code> folder</li>\n</ul>\n<h3>Define persistant device name for EnOcean interface</h3>\n<p>If you own an USB EnOcean interface and use it together with some other USB devices you may face the situation that the EnOcean interface gets different device names depending on your plugging and unplugging sequence, such as <code>/dev/ttyUSB0</code>or <code>/dev/ttyUSB1</code>. You would need to always adapt your config file then.</p>\n<p>To solve this you can make an udev rule that assigns a symbolic name to the device. For this, create the file <code>/etc/udev/rules.d/99-usb.rules</code> with the following content:</p>\n<p><code>SUBSYSTEM==\"tty\", ATTRS{product}==\"EnOcean USB 300 DB\", SYMLINK+=\"enocean\"</code></p>\n<p>After reboot, this assigns the symbolic name <code>/dev/enocean</code>. If you use a different enocean interface, you may want to check the product string by looking into <code>dmesg</code> and search for the corresponding entry here. Alternatively you can check <code>udevadm info -a -n /dev/ttyUSB0</code>, assuming that the interface is currently mapped to <code>ttyUSB0</code>.</p>\n<h2>Configuration</h2>\n<p>Please take a look at the provided <a href=\"enoceanmqtt.conf.sample\" rel=\"nofollow\">enoceanmqtt.conf.sample</a> sample config file. Most should be self explaining.</p>\n<p>Multiple config files can be specified as command line arguments. Values are merged, later config files override values of the former. This is the order:</p>\n<ul>\n<li><code>/etc/enoceanmqtt.conf</code></li>\n<li>in Dockerfile: <code>/enoceanmqtt-default.conf</code>, compare <a href=\"enoceanmqtt-default.conf\" rel=\"nofollow\">enoceanmqtt-default.conf</a>.</li>\n<li>any further command line argument.</li>\n</ul>\n<p>This can be used to split security sensitive values from the device configs.</p>\n<h3>Answering EnOcean Messages</h3>\n<p>To answer EnOcean messages you configure the <code>answer</code> switch and the <code>default_data</code> in the config file. To customize the response data you publish an MQTT message to the sensor topic where you prefix the topic with <code>/req</code>.</p>\n<p>An example: If you want to set the valve position (set point) of a heating actuator named <code>heating</code> (e.g. with <code>rorg = 0xA5</code>, <code>func = 0x20</code>, <code>type = 0x01</code>) to 80 % you publish the integer value 80 to the topic <code>enocean/heating/req/SP</code>. This replaces the corresponding part of <code>default_data</code>.</p>\n\n          </div>"}, "last_serial": 7194417, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "066ea66a74913d269c36e679dc9408f1", "sha256": "3f9f5fe3c1d4672a101c686d48bf1e68ee3f130a9175b085fe29b90795b5c34c"}, "downloads": -1, "filename": "enocean_mqtt-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "066ea66a74913d269c36e679dc9408f1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 20945, "upload_time": "2020-04-27T15:16:57", "upload_time_iso_8601": "2020-04-27T15:16:57.874848Z", "url": "https://files.pythonhosted.org/packages/88/fb/449af1bf21ab0f43e48e696bee5ade1845ffe0438d96182e2131251ffa14/enocean_mqtt-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a06f8b4661e1efa15449c251eb32a991", "sha256": "5ae8ed084d29e74776978a7518cf1d85ceb053625585a91e612f44f20f2d4f80"}, "downloads": -1, "filename": "enocean-mqtt-0.1.0.tar.gz", "has_sig": false, "md5_digest": "a06f8b4661e1efa15449c251eb32a991", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7921, "upload_time": "2020-04-27T15:17:00", "upload_time_iso_8601": "2020-04-27T15:17:00.430893Z", "url": "https://files.pythonhosted.org/packages/a4/69/316042dfabe71f098edd7f3b6376261560b9b03cc7f9530c3a6ffb051ddf/enocean-mqtt-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "2bea413c92720ff4543887233441cf55", "sha256": "66263bc02aa095be362087e5677be3c8f91c9a8ed5f88c0911239ec7815be7d4"}, "downloads": -1, "filename": "enocean_mqtt-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "2bea413c92720ff4543887233441cf55", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 21131, "upload_time": "2020-05-08T06:20:37", "upload_time_iso_8601": "2020-05-08T06:20:37.685562Z", "url": "https://files.pythonhosted.org/packages/fa/83/9531d479c15f05a1c5c4ae7e2bfbeb27d6e6f227f4e382937af0de9b78c2/enocean_mqtt-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4383f1e0b0580142f2b5a7a5af58c946", "sha256": "a7930b86cd4174b46b0fefe95eec2b4a6cc1e813d59f6e9cdd09e9028eb14741"}, "downloads": -1, "filename": "enocean-mqtt-0.1.1.tar.gz", "has_sig": false, "md5_digest": "4383f1e0b0580142f2b5a7a5af58c946", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8539, "upload_time": "2020-05-08T06:20:38", "upload_time_iso_8601": "2020-05-08T06:20:38.978344Z", "url": "https://files.pythonhosted.org/packages/7f/7d/46a7e0a625d691aeb79ac24f15d6de6dfdf620190744d37d235cdf5acbeb/enocean-mqtt-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "2bea413c92720ff4543887233441cf55", "sha256": "66263bc02aa095be362087e5677be3c8f91c9a8ed5f88c0911239ec7815be7d4"}, "downloads": -1, "filename": "enocean_mqtt-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "2bea413c92720ff4543887233441cf55", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 21131, "upload_time": "2020-05-08T06:20:37", "upload_time_iso_8601": "2020-05-08T06:20:37.685562Z", "url": "https://files.pythonhosted.org/packages/fa/83/9531d479c15f05a1c5c4ae7e2bfbeb27d6e6f227f4e382937af0de9b78c2/enocean_mqtt-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4383f1e0b0580142f2b5a7a5af58c946", "sha256": "a7930b86cd4174b46b0fefe95eec2b4a6cc1e813d59f6e9cdd09e9028eb14741"}, "downloads": -1, "filename": "enocean-mqtt-0.1.1.tar.gz", "has_sig": false, "md5_digest": "4383f1e0b0580142f2b5a7a5af58c946", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8539, "upload_time": "2020-05-08T06:20:38", "upload_time_iso_8601": "2020-05-08T06:20:38.978344Z", "url": "https://files.pythonhosted.org/packages/7f/7d/46a7e0a625d691aeb79ac24f15d6de6dfdf620190744d37d235cdf5acbeb/enocean-mqtt-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:46:18 2020"}
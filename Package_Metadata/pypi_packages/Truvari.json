{"info": {"author": "ACEnglish", "author_email": "acenglish@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "```\n\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557   \u2588\u2588\u2557\u2588\u2588\u2557   \u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557\n\u255a\u2550\u2550\u2588\u2588\u2554\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551\n   \u2588\u2588\u2551   \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551\n   \u2588\u2588\u2551   \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u255a\u2588\u2588\u2557 \u2588\u2588\u2554\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551\n   \u2588\u2588\u2551   \u2588\u2588\u2551  \u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u255a\u2588\u2588\u2588\u2588\u2554\u255d \u2588\u2588\u2551  \u2588\u2588\u2551\u2588\u2588\u2551  \u2588\u2588\u2551\u2588\u2588\u2551\n   \u255a\u2550\u255d   \u255a\u2550\u255d  \u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d   \u255a\u2550\u2550\u2550\u255d  \u255a\u2550\u255d  \u255a\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u255d\u255a\u2550\u255d\n```\n\nStructural variant comparison tool for VCFs\n\nGiven benchmark and comparsion sets of SVs, calculate the recall, precision, and f-measure.\n\n[Spiral Genetics](https:www.spiralgenetics.com)\n\n[Motivation](https://docs.google.com/presentation/d/17mvC1XOpOm7khAbZwF3SgtG2Rl4M9Mro37yF2nN7GhE/edit)\n\nUPDATES\n=======\n\nTruvari has some big changes. In order to keep up with the retirement of Python 2.7 https://pythonclock.org/\nWe're now only supporting Python 3.\n\nAdditionally, we now package Truvari so it and its dependencies can be installed directly. See Installation \nbelow. This will enable us to refactor the code for easier maintenance and reusability.\n\nFinally, we now automatically report genotype comparisons in the summary stats.\n\nInstallation\n============\n\nTruvari uses Python 3.7 and can be installed with pip:\n\n  $ pip install Truvari \n\n\nQuick start\n===========\n\n  $ truvari -b base_calls.vcf -c compare_calls.vcf -o output_dir/\n\nOutputs\n=======\n\n  * tp-call.vcf -- annotated true positive calls from the COMP\n  * tp-base.vcf -- anotated true positive calls form the BASE\n  * fn.vcf -- false negative calls from BASE\n  * fp.vcf -- false positive calls from COMP\n  * base-filter.vcf -- size filtered calls from BASE\n  * call-filter.vcf -- size filtered calls from COMP\n  * summary.txt -- json output of performance stats\n  * log.txt -- run log\n  * giab_report.txt -- (optional) Summary of GIAB benchmark calls. See \"Using the GIAB Report\" below.\n\nsummary.txt\n===========\n\nThe following stats are generated for benchmarking your call set.\n<table><tr><th>Metric</th><th>Definition</th>\n<tr><td>TP-base</td><td>Number of matching calls from the base vcf</td></tr>\n<tr><td>TP-call</td><td>Number of matching calls from the comp vcf</td></tr>\n<tr><td>FP</td><td>Number of non-matching calls from the comp vcf</td></tr>\n<tr><td>FN</td><td>Number of non-matching calls from the base vcf</td></tr>\n<tr><td>precision</td><td>TP-call / (TP-call +  FP)</td></tr>\n<tr><td>recall</td><td>TP-base / (TP-base + FN)</td></tr>\n<tr><td>f1</td><td>(recall * precision) / (recall + precision)</td></tr>\n<tr><td>base cnt</td><td>Number of calls in the base vcf</td></tr>\n<tr><td>call cnt</td><td>Number of calls in the comp vcf</td></tr>\n<tr><td>base size filtered</td><td>Number of base vcf calls outside of (sizemin, sizemax)</td></tr>\n<tr><td>call size filtered</td><td>Number of comp vcf calls outside of (sizemin, sizemax)</td></tr>\n<tr><td>base gt filtered</td><td>Number of base calls not passing the no-ref parameter filter</td></tr>\n<tr><td>call gt filtered</td><td>Number of comp calls not passing the no-ref parameter filter</td></tr>\n<tr><td>TP-call_TP-gt</td><td>TP-call's with genotype match</td></tr>\n<tr><td>TP-call_FP-gt</td><td>TP-call's without genotype match</td></tr>\n<tr><td>TP-base_TP-gt</td><td>TP-base's with genotype match</td></tr>\n<tr><td>TP-base_FP-gt</td><td>TP-base's without genotype match</td></tr>\n<tr><td>gt_precision</td><td>TP-call_TP-gt / (TP-call_TP-gt + FP + TP-call_FP-gt)</td></tr>\n<tr><td>gt_recall</td><td>TP-base_TP-gt / (TP-base_TP-gt / FN)</td></tr>\n<tr><td>gt_f1</td><td>(gt_recall * gt_precision) / (gt_recall + gt_precision)</td></tr>\n</table>\n\nMethodology\n===========\n\n```\nInput:\n    BaseCall - Benchmark TruthSet of SVs\n    CompCalls - Comparison SVs from another program\nBuild IntervalTree of CompCalls\nFor each BaseCall:\n  Fetch CompCalls overlapping within *refdist*. \n    If typematch and LevDistRatio >= *pctsim* \\\n    and SizeRatio >= *pctsize* and PctRecOvl >= *pctovl*: \n      Add CompCall to list of Neighbors\n  Sort list of Neighbors by TruScore ((2*sim + 1*size + 1*ovl) / 3.0)\n  Take CompCall with highest TruScore and BaseCall as TPs\n  Only use a CompCall once if not --multimatch\n  If no neighbors: BaseCall is FN\nFor each CompCall:\n  If not used: mark as FP\n```\n\nMatching Parameters\n--------------------\n<table><tr><th>Parameter</th><th>Default</th><th>Definition</th>\n<tr><td>refdist</td><td>500</td>\n<td>Maximum distance comparison calls must be within from base call's start/end</td></tr>\n<tr><td>pctsim</td><td>0.7</td>\n<td>Levenshtein distance ratio between the REF/ALT haplotype sequences of base and comparison call.\nSee \"Comparing Haplotype Sequences of Variants\" below.\n<tr><td>pctsize</td><td>0.7</td>\n<td>Ratio of min(base_size, comp_size)/max(base_size, comp_size)</td></tr>\n<tr><td>pctovl</td><td>0.0</td>\n<td>Ratio of two calls' (overlapping bases)/(longest span)</td></tr>\n<tr><td>typeignore</td><td>False</td>\n<td>Types don't need to match to compare calls.</td>\n</table>\n\nComparing VCFs without sequence resolved calls\n----------------------------------------------\n\nIf the base or comp vcfs do not have sequence resolved calls, simply set `--pctsim=0` to turn off\nsequence comparison.\n\nDifference between --sizemin and --sizefilt\n-------------------------------------------\n\n`--sizemin` is the minimum size of a base call or comparison call to be considered.  \n\n`--sizefilt` is the minimum size of a call to be added into the IntervalTree for searching. It should\nbe less than `sizemin` for edge case variants.\n\nFor example: `sizemin` is 50 and `sizefilt` is 30. A 50bp base call is 98% similar to a 49bp call at \nthe same position.\n\nThese two calls should be considered matching. If we instead removed calls less than `sizemin`, we'd\nincorrectly classify the 50bp base call as a false negative.\n\nThis does have the side effect of artificially inflating specificity. If that same 49bp call in the\nabove were below the similarity threshold, it would not be classified as a FP due to the `sizemin`\nthreshold. So we're giving the call a better chance to be useful and less chance to be detrimental\nto final statistics.\n\nDefinition of annotations added to TP vcfs\n--------------------------------------------\n<table>\n<tr><th>Anno                   </th><th>Definition</th></tr>\n<tr><td>TruScore\t       </td><td>Truvari score for similarity of match. `((2*sim + 1*size + 1*ovl) / 3.0)`</td></tr>\n<tr><td>PctSeqSimilarity       </td><td>Pct sequence similarity between this variant and its closest match</td></tr>\n<tr><td>PctSizeSimilarity      </td><td>Pct size similarity between this variant and it's closest match</td></tr>\n<tr><td>PctRecOverlap          </td><td>Percent reciprocal overlap of the two calls' coordinates</td></tr>\n<tr><td>StartDistance          </td><td>Distance of this call's start from matching  call's start</td></tr>\n<tr><td>EndDistance            </td><td>Distance of this call's end from matching  call's end</td></tr>\n<tr><td>SizeDiff               </td><td>Difference in size(basecall) and size(compcall)</td></tr>\n<tr><td>NumNeighbors           </td><td>Number of comparison calls that were in the neighborhood (REFDIST) of the base call</td></tr>\n<tr><td>NumThresholdNeighbors  </td><td>Number of comparison calls that passed threshold matching of the base call</td></tr>\n</table>\n\nNumNeighbors and NumThresholdNeighbors are also added to the FN vcf.\n\nUsing the GIAB Report\n---------------------\n\nWhen running against the GIAB SV benchmark (link below), you can create a detailed report of \ncalls summarized by the GIAB VCF's SVTYPE, SVLEN, Technology, and Repeat annotations.\n\nTo create this report.\n\n1. Run truvari with the flag `--giabreport`.\n2. In your output directory, you will find a file named `giab_report.txt`.\n3. Next, make a copy of the \n[Truvari Report Template Google Sheet](https://docs.google.com/spreadsheets/d/1T3EdpyLO1Kq-bJ8SDatqJ5nP_wwFKCrH0qhxorvTVd4/edit?usp=sharing).\n4. Finally, paste ALL of the information inside `giab_report.txt` into the \"RawData\" tab. Be careful not \nto alter the report text in any way. If successul, the \"Formatted\" tab you will have a fully formated report.\n\nWhile Truvari can use other benchmark sets, this formatted report currently only works with GIAB SV v0.5 and v0.6. Work\nwill need to be done to ensure Truvari can parse future GIAB SV releases.\n\n<a href=\"ftp://ftp-trace.ncbi.nlm.nih.gov/giab/ftp/data/AshkenazimTrio/analysis/NIST_SVs_Integration_v0.6/\">GIAB v0.6 Download Link</a>\n\nInclude Bed & VCF Header Contigs \n--------------------------------\n\nIf an `--includebed` is provided, only base and comp calls contained within the defined regions are used \nfor comparison. This is similar to pre-filtering your base/comp calls using:\n\n```bash\n(zgrep \"#\" my_calls.vcf.gz && bedtools intersect -u -a my_calls.vcf.gz -b include.bed) | bgzip > filtered.vcf.gz\n```\n\nwith the exception that Truvari requires the start and the end to be contained in the same includebed region \nwhereas `bedtools intersect` does not.\n\nIf an `--includebed` is not provided, the comparison is restricted to only the contigs present in the base VCF\nheader. Therefore, any comparison calls on contigs not in the base calls will not be counted toward summary \nstatistics and will not be present in any output vcfs.\n\n\nComparing Haplotype Sequences of Variants\n---------------------------------------\n\nWhile many SV overlapping approaches match changes within regions with metrics such as reciprocal overlap and\nstart/end distances, few account for the possibility to represent the same sequence change in multiple ways.\n\nFor example, consider a tandem repeat expansion of the reference sequence 'AB'. Here, we'll represent the 'insertion'\nsequence as lower-case 'ab', though it should be considered equivalent to 'AB'. Three equally valid descriptions of this \nvariant would be:\n\n```text\n#POS INS  Haplotype\n  0  ab   abAB\n  1  ba   AbaB\n  2  ab   ABab\n```\n\nTherefore, to compare the sequence similarity, Truvari builds the haplotypes over the range of a pair of calls'\n`min(starts):max(ends)` before making the the sequence change introduced by the variants. In python, this line \nlooks like:\n\n``` python\nhap1_seq = ref.get_seq(a1_chrom, start + 1, a1_start).seq + a1_seq + ref.get_seq(a1_chrom, a1_end + 1, end).seq\n```\n\nWhere `a1_seq1` is the longer of the REF or ALT allele.\n\nFuture versions of Truvari may take this concept further to reconstruct haplotypes based on phasing information\nbetween variants in order to allow for more flexibilty in complex multi-allelic representations.\n\nMore Information\n----------------\n\nFind more details and discussions about Truvari on the [WIKI page](https://github.com/spiralgenetics/truvari/wiki).\n\n\n\n<a href=\"https://www.spiralgenetics.com\" rel=\"Spiral Genetics\" style=\"width:400px;\">![Spiral Genetics](http://static1.squarespace.com/static/5a81ef7629f187c795c973c3/t/5a986ab453450a17fc3003e8/1533115866026/?format=1500w)</a>\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/spiralgenetics/truvari", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "Truvari", "package_url": "https://pypi.org/project/Truvari/", "platform": "", "project_url": "https://pypi.org/project/Truvari/", "project_urls": {"Homepage": "https://github.com/spiralgenetics/truvari"}, "release_url": "https://pypi.org/project/Truvari/1.3.4/", "requires_dist": ["python-Levenshtein (==0.12.0)", "progressbar2 (==3.41.0)", "pysam (==0.15.2)", "pyfaidx (==0.5.5.2)", "intervaltree (==3.0.2)"], "requires_python": "", "summary": "Structural variant comparison tool for VCFs", "version": "1.3.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <pre><code>\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557   \u2588\u2588\u2557\u2588\u2588\u2557   \u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557\n\u255a\u2550\u2550\u2588\u2588\u2554\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551\n   \u2588\u2588\u2551   \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551\n   \u2588\u2588\u2551   \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u255a\u2588\u2588\u2557 \u2588\u2588\u2554\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551\n   \u2588\u2588\u2551   \u2588\u2588\u2551  \u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u255a\u2588\u2588\u2588\u2588\u2554\u255d \u2588\u2588\u2551  \u2588\u2588\u2551\u2588\u2588\u2551  \u2588\u2588\u2551\u2588\u2588\u2551\n   \u255a\u2550\u255d   \u255a\u2550\u255d  \u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d   \u255a\u2550\u2550\u2550\u255d  \u255a\u2550\u255d  \u255a\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u255d\u255a\u2550\u255d\n</code></pre>\n<p>Structural variant comparison tool for VCFs</p>\n<p>Given benchmark and comparsion sets of SVs, calculate the recall, precision, and f-measure.</p>\n<p><a href=\"https:www.spiralgenetics.com\" rel=\"nofollow\">Spiral Genetics</a></p>\n<p><a href=\"https://docs.google.com/presentation/d/17mvC1XOpOm7khAbZwF3SgtG2Rl4M9Mro37yF2nN7GhE/edit\" rel=\"nofollow\">Motivation</a></p>\n<h1>UPDATES</h1>\n<p>Truvari has some big changes. In order to keep up with the retirement of Python 2.7 <a href=\"https://pythonclock.org/\" rel=\"nofollow\">https://pythonclock.org/</a>\nWe're now only supporting Python 3.</p>\n<p>Additionally, we now package Truvari so it and its dependencies can be installed directly. See Installation\nbelow. This will enable us to refactor the code for easier maintenance and reusability.</p>\n<p>Finally, we now automatically report genotype comparisons in the summary stats.</p>\n<h1>Installation</h1>\n<p>Truvari uses Python 3.7 and can be installed with pip:</p>\n<p>$ pip install Truvari</p>\n<h1>Quick start</h1>\n<p>$ truvari -b base_calls.vcf -c compare_calls.vcf -o output_dir/</p>\n<h1>Outputs</h1>\n<ul>\n<li>tp-call.vcf -- annotated true positive calls from the COMP</li>\n<li>tp-base.vcf -- anotated true positive calls form the BASE</li>\n<li>fn.vcf -- false negative calls from BASE</li>\n<li>fp.vcf -- false positive calls from COMP</li>\n<li>base-filter.vcf -- size filtered calls from BASE</li>\n<li>call-filter.vcf -- size filtered calls from COMP</li>\n<li>summary.txt -- json output of performance stats</li>\n<li>log.txt -- run log</li>\n<li>giab_report.txt -- (optional) Summary of GIAB benchmark calls. See \"Using the GIAB Report\" below.</li>\n</ul>\n<h1>summary.txt</h1>\n<p>The following stats are generated for benchmarking your call set.</p>\n<table><tr><th>Metric</th><th>Definition</th>\n</tr><tr><td>TP-base</td><td>Number of matching calls from the base vcf</td></tr>\n<tr><td>TP-call</td><td>Number of matching calls from the comp vcf</td></tr>\n<tr><td>FP</td><td>Number of non-matching calls from the comp vcf</td></tr>\n<tr><td>FN</td><td>Number of non-matching calls from the base vcf</td></tr>\n<tr><td>precision</td><td>TP-call / (TP-call +  FP)</td></tr>\n<tr><td>recall</td><td>TP-base / (TP-base + FN)</td></tr>\n<tr><td>f1</td><td>(recall * precision) / (recall + precision)</td></tr>\n<tr><td>base cnt</td><td>Number of calls in the base vcf</td></tr>\n<tr><td>call cnt</td><td>Number of calls in the comp vcf</td></tr>\n<tr><td>base size filtered</td><td>Number of base vcf calls outside of (sizemin, sizemax)</td></tr>\n<tr><td>call size filtered</td><td>Number of comp vcf calls outside of (sizemin, sizemax)</td></tr>\n<tr><td>base gt filtered</td><td>Number of base calls not passing the no-ref parameter filter</td></tr>\n<tr><td>call gt filtered</td><td>Number of comp calls not passing the no-ref parameter filter</td></tr>\n<tr><td>TP-call_TP-gt</td><td>TP-call's with genotype match</td></tr>\n<tr><td>TP-call_FP-gt</td><td>TP-call's without genotype match</td></tr>\n<tr><td>TP-base_TP-gt</td><td>TP-base's with genotype match</td></tr>\n<tr><td>TP-base_FP-gt</td><td>TP-base's without genotype match</td></tr>\n<tr><td>gt_precision</td><td>TP-call_TP-gt / (TP-call_TP-gt + FP + TP-call_FP-gt)</td></tr>\n<tr><td>gt_recall</td><td>TP-base_TP-gt / (TP-base_TP-gt / FN)</td></tr>\n<tr><td>gt_f1</td><td>(gt_recall * gt_precision) / (gt_recall + gt_precision)</td></tr>\n</table>\n<h1>Methodology</h1>\n<pre><code>Input:\n    BaseCall - Benchmark TruthSet of SVs\n    CompCalls - Comparison SVs from another program\nBuild IntervalTree of CompCalls\nFor each BaseCall:\n  Fetch CompCalls overlapping within *refdist*. \n    If typematch and LevDistRatio &gt;= *pctsim* \\\n    and SizeRatio &gt;= *pctsize* and PctRecOvl &gt;= *pctovl*: \n      Add CompCall to list of Neighbors\n  Sort list of Neighbors by TruScore ((2*sim + 1*size + 1*ovl) / 3.0)\n  Take CompCall with highest TruScore and BaseCall as TPs\n  Only use a CompCall once if not --multimatch\n  If no neighbors: BaseCall is FN\nFor each CompCall:\n  If not used: mark as FP\n</code></pre>\n<h2>Matching Parameters</h2>\n<table><tr><th>Parameter</th><th>Default</th><th>Definition</th>\n</tr><tr><td>refdist</td><td>500</td>\n<td>Maximum distance comparison calls must be within from base call's start/end</td></tr>\n<tr><td>pctsim</td><td>0.7</td>\n<td>Levenshtein distance ratio between the REF/ALT haplotype sequences of base and comparison call.\nSee \"Comparing Haplotype Sequences of Variants\" below.\n</td></tr><tr><td>pctsize</td><td>0.7</td>\n<td>Ratio of min(base_size, comp_size)/max(base_size, comp_size)</td></tr>\n<tr><td>pctovl</td><td>0.0</td>\n<td>Ratio of two calls' (overlapping bases)/(longest span)</td></tr>\n<tr><td>typeignore</td><td>False</td>\n<td>Types don't need to match to compare calls.</td>\n</tr></table>\n<h2>Comparing VCFs without sequence resolved calls</h2>\n<p>If the base or comp vcfs do not have sequence resolved calls, simply set <code>--pctsim=0</code> to turn off\nsequence comparison.</p>\n<h2>Difference between --sizemin and --sizefilt</h2>\n<p><code>--sizemin</code> is the minimum size of a base call or comparison call to be considered.</p>\n<p><code>--sizefilt</code> is the minimum size of a call to be added into the IntervalTree for searching. It should\nbe less than <code>sizemin</code> for edge case variants.</p>\n<p>For example: <code>sizemin</code> is 50 and <code>sizefilt</code> is 30. A 50bp base call is 98% similar to a 49bp call at\nthe same position.</p>\n<p>These two calls should be considered matching. If we instead removed calls less than <code>sizemin</code>, we'd\nincorrectly classify the 50bp base call as a false negative.</p>\n<p>This does have the side effect of artificially inflating specificity. If that same 49bp call in the\nabove were below the similarity threshold, it would not be classified as a FP due to the <code>sizemin</code>\nthreshold. So we're giving the call a better chance to be useful and less chance to be detrimental\nto final statistics.</p>\n<h2>Definition of annotations added to TP vcfs</h2>\n<table>\n<tr><th>Anno                   </th><th>Definition</th></tr>\n<tr><td>TruScore\t       </td><td>Truvari score for similarity of match. `((2*sim + 1*size + 1*ovl) / 3.0)`</td></tr>\n<tr><td>PctSeqSimilarity       </td><td>Pct sequence similarity between this variant and its closest match</td></tr>\n<tr><td>PctSizeSimilarity      </td><td>Pct size similarity between this variant and it's closest match</td></tr>\n<tr><td>PctRecOverlap          </td><td>Percent reciprocal overlap of the two calls' coordinates</td></tr>\n<tr><td>StartDistance          </td><td>Distance of this call's start from matching  call's start</td></tr>\n<tr><td>EndDistance            </td><td>Distance of this call's end from matching  call's end</td></tr>\n<tr><td>SizeDiff               </td><td>Difference in size(basecall) and size(compcall)</td></tr>\n<tr><td>NumNeighbors           </td><td>Number of comparison calls that were in the neighborhood (REFDIST) of the base call</td></tr>\n<tr><td>NumThresholdNeighbors  </td><td>Number of comparison calls that passed threshold matching of the base call</td></tr>\n</table>\n<p>NumNeighbors and NumThresholdNeighbors are also added to the FN vcf.</p>\n<h2>Using the GIAB Report</h2>\n<p>When running against the GIAB SV benchmark (link below), you can create a detailed report of\ncalls summarized by the GIAB VCF's SVTYPE, SVLEN, Technology, and Repeat annotations.</p>\n<p>To create this report.</p>\n<ol>\n<li>Run truvari with the flag <code>--giabreport</code>.</li>\n<li>In your output directory, you will find a file named <code>giab_report.txt</code>.</li>\n<li>Next, make a copy of the\n<a href=\"https://docs.google.com/spreadsheets/d/1T3EdpyLO1Kq-bJ8SDatqJ5nP_wwFKCrH0qhxorvTVd4/edit?usp=sharing\" rel=\"nofollow\">Truvari Report Template Google Sheet</a>.</li>\n<li>Finally, paste ALL of the information inside <code>giab_report.txt</code> into the \"RawData\" tab. Be careful not\nto alter the report text in any way. If successul, the \"Formatted\" tab you will have a fully formated report.</li>\n</ol>\n<p>While Truvari can use other benchmark sets, this formatted report currently only works with GIAB SV v0.5 and v0.6. Work\nwill need to be done to ensure Truvari can parse future GIAB SV releases.</p>\n<p><a>GIAB v0.6 Download Link</a></p>\n<h2>Include Bed &amp; VCF Header Contigs</h2>\n<p>If an <code>--includebed</code> is provided, only base and comp calls contained within the defined regions are used\nfor comparison. This is similar to pre-filtering your base/comp calls using:</p>\n<pre><span class=\"o\">(</span>zgrep <span class=\"s2\">\"#\"</span> my_calls.vcf.gz <span class=\"o\">&amp;&amp;</span> bedtools intersect -u -a my_calls.vcf.gz -b include.bed<span class=\"o\">)</span> <span class=\"p\">|</span> bgzip &gt; filtered.vcf.gz\n</pre>\n<p>with the exception that Truvari requires the start and the end to be contained in the same includebed region\nwhereas <code>bedtools intersect</code> does not.</p>\n<p>If an <code>--includebed</code> is not provided, the comparison is restricted to only the contigs present in the base VCF\nheader. Therefore, any comparison calls on contigs not in the base calls will not be counted toward summary\nstatistics and will not be present in any output vcfs.</p>\n<h2>Comparing Haplotype Sequences of Variants</h2>\n<p>While many SV overlapping approaches match changes within regions with metrics such as reciprocal overlap and\nstart/end distances, few account for the possibility to represent the same sequence change in multiple ways.</p>\n<p>For example, consider a tandem repeat expansion of the reference sequence 'AB'. Here, we'll represent the 'insertion'\nsequence as lower-case 'ab', though it should be considered equivalent to 'AB'. Three equally valid descriptions of this\nvariant would be:</p>\n<pre>#POS INS  Haplotype\n  0  ab   abAB\n  1  ba   AbaB\n  2  ab   ABab\n</pre>\n<p>Therefore, to compare the sequence similarity, Truvari builds the haplotypes over the range of a pair of calls'\n<code>min(starts):max(ends)</code> before making the the sequence change introduced by the variants. In python, this line\nlooks like:</p>\n<pre><span class=\"n\">hap1_seq</span> <span class=\"o\">=</span> <span class=\"n\">ref</span><span class=\"o\">.</span><span class=\"n\">get_seq</span><span class=\"p\">(</span><span class=\"n\">a1_chrom</span><span class=\"p\">,</span> <span class=\"n\">start</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">a1_start</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">seq</span> <span class=\"o\">+</span> <span class=\"n\">a1_seq</span> <span class=\"o\">+</span> <span class=\"n\">ref</span><span class=\"o\">.</span><span class=\"n\">get_seq</span><span class=\"p\">(</span><span class=\"n\">a1_chrom</span><span class=\"p\">,</span> <span class=\"n\">a1_end</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">seq</span>\n</pre>\n<p>Where <code>a1_seq1</code> is the longer of the REF or ALT allele.</p>\n<p>Future versions of Truvari may take this concept further to reconstruct haplotypes based on phasing information\nbetween variants in order to allow for more flexibilty in complex multi-allelic representations.</p>\n<h2>More Information</h2>\n<p>Find more details and discussions about Truvari on the <a href=\"https://github.com/spiralgenetics/truvari/wiki\" rel=\"nofollow\">WIKI page</a>.</p>\n<p><a href=\"https://www.spiralgenetics.com\" rel=\"nofollow\"><img alt=\"Spiral Genetics\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/79f5f324e677609a9d6d703093ebfdd42ef19a17/687474703a2f2f737461746963312e73717561726573706163652e636f6d2f7374617469632f3561383165663736323966313837633739356339373363332f742f3561393836616234353334353061313766633330303365382f313533333131353836363032362f3f666f726d61743d3135303077\"></a></p>\n\n          </div>"}, "last_serial": 6095942, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "d6ebc4580d9a69337cc8c655722f082d", "sha256": "456cab48b9f182e87d1a0197bfc631ea8d86e39654f681013b8d6faae2f048dc"}, "downloads": -1, "filename": "Truvari-1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "d6ebc4580d9a69337cc8c655722f082d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 23275, "upload_time": "2019-06-05T22:02:48", "upload_time_iso_8601": "2019-06-05T22:02:48.059627Z", "url": "https://files.pythonhosted.org/packages/1d/32/53ebe68453d065bac9427d01492f34afa856467c5f0221448d429ecf2127/Truvari-1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6e247e3c76d9c45107db211e115193ae", "sha256": "a21d0bb083b1630dc8a8e6908901afee2a0439c5595ba117272234feebe4d8a7"}, "downloads": -1, "filename": "Truvari-1.0.tar.gz", "has_sig": false, "md5_digest": "6e247e3c76d9c45107db211e115193ae", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 20944, "upload_time": "2019-06-05T22:02:50", "upload_time_iso_8601": "2019-06-05T22:02:50.442715Z", "url": "https://files.pythonhosted.org/packages/6a/d1/f6063ffdc0016c07534d12dbb11d3b7dd3dbb38f276df036cd012cd40c2b/Truvari-1.0.tar.gz", "yanked": false}], "1.1": [{"comment_text": "", "digests": {"md5": "3f58ae03166ae8f0c76331afdc8e8ad1", "sha256": "534955f051cb8b3fae7d7046c8807c539fcd15b4ac44ffa76732a9d1b6d36c06"}, "downloads": -1, "filename": "Truvari-1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "3f58ae03166ae8f0c76331afdc8e8ad1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 23281, "upload_time": "2019-06-05T22:09:43", "upload_time_iso_8601": "2019-06-05T22:09:43.714010Z", "url": "https://files.pythonhosted.org/packages/e3/bf/5e81266724284f9c84577701f4f268a97987c931d91e21d9465e85f7728f/Truvari-1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d58dd4a7148bd6839dc7a606de0e8e3d", "sha256": "1b4dac06860e9f16714ac2074cc7a8bb8af48e80d82d2e3a6e84af4e09962ecf"}, "downloads": -1, "filename": "Truvari-1.1.tar.gz", "has_sig": false, "md5_digest": "d58dd4a7148bd6839dc7a606de0e8e3d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 20948, "upload_time": "2019-06-05T22:09:45", "upload_time_iso_8601": "2019-06-05T22:09:45.290071Z", "url": "https://files.pythonhosted.org/packages/9c/a1/5e915c8b8bb87d3f777c743199cb3e6413d0fd738eed9611fd1ba520f852/Truvari-1.1.tar.gz", "yanked": false}], "1.2": [{"comment_text": "", "digests": {"md5": "9ed03993da5530961b76cd35aebd91c4", "sha256": "b50328edfa0fafdb1faecfb8423ee89756f987facd15633f63a566561980b690"}, "downloads": -1, "filename": "Truvari-1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "9ed03993da5530961b76cd35aebd91c4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 23315, "upload_time": "2019-07-15T22:53:16", "upload_time_iso_8601": "2019-07-15T22:53:16.577889Z", "url": "https://files.pythonhosted.org/packages/ae/b0/d38c27288858619a557a7b8a29078502906f0294d8c227cf1a3f557e77e5/Truvari-1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fe2f103abbbdd5189bab22322f667819", "sha256": "9cd34d44d64a3c6db163a3659a8abc0f43d0ca3071a616fc13949d47d5ced9cf"}, "downloads": -1, "filename": "Truvari-1.2.tar.gz", "has_sig": false, "md5_digest": "fe2f103abbbdd5189bab22322f667819", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24755, "upload_time": "2019-07-15T22:53:17", "upload_time_iso_8601": "2019-07-15T22:53:17.851802Z", "url": "https://files.pythonhosted.org/packages/9d/89/d444243cc518686d9c5bf974e2846f1325cb289ade4fcab407fe0cf936c4/Truvari-1.2.tar.gz", "yanked": false}], "1.3": [{"comment_text": "", "digests": {"md5": "cf8d1e0fb447b0b930d4038862e3f3be", "sha256": "ec7803f8b4578caedc7f2c7c94ff07fd8fb1b398fc8cd3847b71556070d3eb61"}, "downloads": -1, "filename": "Truvari-1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "cf8d1e0fb447b0b930d4038862e3f3be", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 23609, "upload_time": "2019-09-26T06:04:02", "upload_time_iso_8601": "2019-09-26T06:04:02.826960Z", "url": "https://files.pythonhosted.org/packages/03/d8/a703bd1189689d185d4bcd1bf27fc824d2bd5e9c234d9de367a00b301728/Truvari-1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0e39ce8a073b4416094118f5bfb897e2", "sha256": "9bbf6b98c632b4de4f97791cfaca9af14541d773f29a3b847dfd5edda678dc25"}, "downloads": -1, "filename": "Truvari-1.3.tar.gz", "has_sig": false, "md5_digest": "0e39ce8a073b4416094118f5bfb897e2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21483, "upload_time": "2019-09-26T06:04:04", "upload_time_iso_8601": "2019-09-26T06:04:04.446783Z", "url": "https://files.pythonhosted.org/packages/be/97/b8b8fcf4885828db1f632c57a7ee947445f155538692ad606a9273e870a0/Truvari-1.3.tar.gz", "yanked": false}], "1.3.1": [{"comment_text": "", "digests": {"md5": "993c28e758e5776694da2890a4bc6d3a", "sha256": "644a646edc3a78e0e0e1031fb9af9f9cf284a6752f01dd902f0f6da87c5905d6"}, "downloads": -1, "filename": "Truvari-1.3.1-py3-none-any.whl", "has_sig": false, "md5_digest": "993c28e758e5776694da2890a4bc6d3a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 23629, "upload_time": "2019-09-30T18:47:17", "upload_time_iso_8601": "2019-09-30T18:47:17.362987Z", "url": "https://files.pythonhosted.org/packages/49/e7/13dd1acb2ab9d477779df77990dcae8f879f35812f12ad2e55476c82b2a8/Truvari-1.3.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9b3b9f9035d1398c9a876e99ff271a07", "sha256": "63b1b3b25de1058f77e4b4bb2ca94dd35790dbae54e6079b8f40d9e30a2998ab"}, "downloads": -1, "filename": "Truvari-1.3.1.tar.gz", "has_sig": false, "md5_digest": "9b3b9f9035d1398c9a876e99ff271a07", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21486, "upload_time": "2019-09-30T18:47:20", "upload_time_iso_8601": "2019-09-30T18:47:20.683985Z", "url": "https://files.pythonhosted.org/packages/2f/11/6850dff4cbf7359e019502f9bce0c8c28f81537f5508bcd2f599802fb02b/Truvari-1.3.1.tar.gz", "yanked": false}], "1.3.2": [{"comment_text": "", "digests": {"md5": "1eba10e7688d9c627b2c573867c37f3e", "sha256": "fe3ccc4d94186c25ee2c5455fb364b73b9ef72db73162a118488ed1fdc2b01c0"}, "downloads": -1, "filename": "Truvari-1.3.2-py3-none-any.whl", "has_sig": false, "md5_digest": "1eba10e7688d9c627b2c573867c37f3e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 18999, "upload_time": "2019-10-04T17:44:53", "upload_time_iso_8601": "2019-10-04T17:44:53.498199Z", "url": "https://files.pythonhosted.org/packages/49/c7/20d46334fe058ef00c44d1608b4c6206f3b545ce23edbd9ca9e6f435079a/Truvari-1.3.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5660efb830378503c88be6c416ddbbdf", "sha256": "2e66fa83c1c39b4cbac58e7a7c64e1cde5d9ee4055dd548b8ea9ee81d56362ab"}, "downloads": -1, "filename": "Truvari-1.3.2.tar.gz", "has_sig": false, "md5_digest": "5660efb830378503c88be6c416ddbbdf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17925, "upload_time": "2019-10-04T17:44:55", "upload_time_iso_8601": "2019-10-04T17:44:55.277319Z", "url": "https://files.pythonhosted.org/packages/b1/63/134dec6010259f9df6c5450a1bd10c0ca5d0e13d8497ec3c1e9ddaf6297c/Truvari-1.3.2.tar.gz", "yanked": false}], "1.3.3": [{"comment_text": "", "digests": {"md5": "18a96ed3c2d7f7e131fc08e96bc92118", "sha256": "59855b11b8f279d06c4f6a2de9dc128db14ca57224dc55019c5b95de0d2185fb"}, "downloads": -1, "filename": "Truvari-1.3.3-py3-none-any.whl", "has_sig": false, "md5_digest": "18a96ed3c2d7f7e131fc08e96bc92118", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 19366, "upload_time": "2019-11-06T23:43:14", "upload_time_iso_8601": "2019-11-06T23:43:14.586399Z", "url": "https://files.pythonhosted.org/packages/7b/31/4ab25e3ef3d083dadf4899b475318c64791ee02d9728ddf661c21efc0d7d/Truvari-1.3.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c09053168ac6d6216a99f91cdca41568", "sha256": "4690fed846b1cb45087fdceb8e28470a0ab306f6679f74c56c0f6490a205ec3c"}, "downloads": -1, "filename": "Truvari-1.3.3.tar.gz", "has_sig": false, "md5_digest": "c09053168ac6d6216a99f91cdca41568", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18360, "upload_time": "2019-11-06T23:43:16", "upload_time_iso_8601": "2019-11-06T23:43:16.253688Z", "url": "https://files.pythonhosted.org/packages/76/e4/f206cd6837effdcbd2ec384b0b81bc7c62d33929d332b503532de23c6d80/Truvari-1.3.3.tar.gz", "yanked": false}], "1.3.4": [{"comment_text": "", "digests": {"md5": "4dacde7aa4d3d29e45f27faf91dabe96", "sha256": "d5db1f754928d2d4321539f4e6452cdb87ccf003e73a0422d0a0270815fd62c1"}, "downloads": -1, "filename": "Truvari-1.3.4-py3-none-any.whl", "has_sig": false, "md5_digest": "4dacde7aa4d3d29e45f27faf91dabe96", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 19355, "upload_time": "2019-11-07T21:33:57", "upload_time_iso_8601": "2019-11-07T21:33:57.612929Z", "url": "https://files.pythonhosted.org/packages/77/95/b658d0815b011c365e6a6c29f72799d16ab3fa79a26c1f4ed6e9fc776a65/Truvari-1.3.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "269fd8b712f2b8d9d9bc8be3e4c8504e", "sha256": "3a679e2af12614107c25695ac7d8f8ca51ca87bbf3ee0e78d00fa6d99df909c5"}, "downloads": -1, "filename": "Truvari-1.3.4.tar.gz", "has_sig": false, "md5_digest": "269fd8b712f2b8d9d9bc8be3e4c8504e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18342, "upload_time": "2019-11-07T21:33:58", "upload_time_iso_8601": "2019-11-07T21:33:58.981495Z", "url": "https://files.pythonhosted.org/packages/4a/22/160db784e6d633131e4b266abe29aca5f02dba92274d4193be04475125d3/Truvari-1.3.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "4dacde7aa4d3d29e45f27faf91dabe96", "sha256": "d5db1f754928d2d4321539f4e6452cdb87ccf003e73a0422d0a0270815fd62c1"}, "downloads": -1, "filename": "Truvari-1.3.4-py3-none-any.whl", "has_sig": false, "md5_digest": "4dacde7aa4d3d29e45f27faf91dabe96", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 19355, "upload_time": "2019-11-07T21:33:57", "upload_time_iso_8601": "2019-11-07T21:33:57.612929Z", "url": "https://files.pythonhosted.org/packages/77/95/b658d0815b011c365e6a6c29f72799d16ab3fa79a26c1f4ed6e9fc776a65/Truvari-1.3.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "269fd8b712f2b8d9d9bc8be3e4c8504e", "sha256": "3a679e2af12614107c25695ac7d8f8ca51ca87bbf3ee0e78d00fa6d99df909c5"}, "downloads": -1, "filename": "Truvari-1.3.4.tar.gz", "has_sig": false, "md5_digest": "269fd8b712f2b8d9d9bc8be3e4c8504e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18342, "upload_time": "2019-11-07T21:33:58", "upload_time_iso_8601": "2019-11-07T21:33:58.981495Z", "url": "https://files.pythonhosted.org/packages/4a/22/160db784e6d633131e4b266abe29aca5f02dba92274d4193be04475125d3/Truvari-1.3.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:46:31 2020"}
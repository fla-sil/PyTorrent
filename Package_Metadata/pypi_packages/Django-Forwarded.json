{"info": {"author": "Shreyansh Khajanchi", "author_email": "shreyansh.khajanchi@cern.ch", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Topic :: Internet :: WWW/HTTP :: Dynamic Content", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# Django-Forwarded\n\n[![PyPi](https://img.shields.io/pypi/v/django-forwarded.svg)](https://pypi.org/project/Django-Forwarded/)\n\nSupport HTTP \"Forwarded\" header in your Django applications.\n\nThis middleware for [Django](https://www.djangoproject.com/) adds support for the `Forwarded` header which is standardized by Internet Engineering Task Force (IETF) in [RFC 7239](https://tools.ietf.org/html/rfc7239#section-5) and summarized in [Mozilla Developer Network (MDN) article](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Forwarded) of the same name. This header is used by many reverse HTTP proxies to pass client identification details (such as IPv4 or IPv6) to the backend application.\n\n## Installation\n\nInstall the middleware with your favorite Python package manager\n\nPip:\n```shell\n$ pip install django-forwarded\n```\n\nPipenv:\n```shell\n$ pipenv install django-forwarded\n```\n\n## Usage\n\n### Activate\n\nAdd the middleware to Django's MIDDLEWARE setting.\n\n```python\nMIDDLEWARE = (\n    ... # some middlewares\n    \"django_forwarded.Forwarded\",\n    ... # more middlewares\n)\n```\n\n### Configure\n\nYou can configure Django-Forwarded by adding appropriate variable to your Django application [configuration file](https://docs.djangoproject.com/en/2.2/topics/settings/).\n\n#### With TRUSTED_PROXY_LIST\n\nJust specify a list of trusted proxies with the `TRUSTED_PROXY_LIST` variable in the file. This is the recommended way to specify the proxies.\n\n```python\nTRUSTED_PROXY_LIST = [\n    '2001:db8::10',\n    '10.2.3.100',\n]\n```\n\n#### With TRUSTED_PROXY_DEPTH\n\nJust specify the number of trusted proxies with the `TRUSTED_PROXY_DEPTH` variable. This is useful when you have no control over them and their IP(s) might change frequently over the lifetime of your application.\n\n```python\nTRUSTED_PROXY_DEPTH = 2  # trusts maximum of 2 proxies\n```\n\n**Note: It is not secure as secure as specifying a list.**\n\n### Access client IP\n\nThe middleware identifies the correct client IP from the user supplied configuration and the header received from the proxies. This information is then placed in the `request.META['REMOTE_ADDR']` field.\n\n```python\ndef some_function(request):\n    print(request.META['REMOTE_ADDR'])\n```\n\n## Testing\n\nTo execute the included test suit, run the following commands in a terminal:\n\n```shell\n$ cd <path to the django-forwarded>\n$ pipenv shell  # opens a shell in dev environment\n$ DJANGO_SETTINGS_MODULE=tests.settings python3 -m unittest  # run the tests\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.cern.ch/ComputerSecurity/django-forwarded", "keywords": "", "license": "Apache License 2.0", "maintainer": "", "maintainer_email": "", "name": "Django-Forwarded", "package_url": "https://pypi.org/project/Django-Forwarded/", "platform": "", "project_url": "https://pypi.org/project/Django-Forwarded/", "project_urls": {"Homepage": "https://gitlab.cern.ch/ComputerSecurity/django-forwarded"}, "release_url": "https://pypi.org/project/Django-Forwarded/0.0.2/", "requires_dist": null, "requires_python": ">=3.6", "summary": "Support HTTP \"Forwarded\" header in your Django applications", "version": "0.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Django-Forwarded</h1>\n<p><a href=\"https://pypi.org/project/Django-Forwarded/\" rel=\"nofollow\"><img alt=\"PyPi\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b504982f8e5112dec92927017ad13920c4f801f5/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f646a616e676f2d666f727761726465642e737667\"></a></p>\n<p>Support HTTP \"Forwarded\" header in your Django applications.</p>\n<p>This middleware for <a href=\"https://www.djangoproject.com/\" rel=\"nofollow\">Django</a> adds support for the <code>Forwarded</code> header which is standardized by Internet Engineering Task Force (IETF) in <a href=\"https://tools.ietf.org/html/rfc7239#section-5\" rel=\"nofollow\">RFC 7239</a> and summarized in <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Forwarded\" rel=\"nofollow\">Mozilla Developer Network (MDN) article</a> of the same name. This header is used by many reverse HTTP proxies to pass client identification details (such as IPv4 or IPv6) to the backend application.</p>\n<h2>Installation</h2>\n<p>Install the middleware with your favorite Python package manager</p>\n<p>Pip:</p>\n<pre>$ pip install django-forwarded\n</pre>\n<p>Pipenv:</p>\n<pre>$ pipenv install django-forwarded\n</pre>\n<h2>Usage</h2>\n<h3>Activate</h3>\n<p>Add the middleware to Django's MIDDLEWARE setting.</p>\n<pre><span class=\"n\">MIDDLEWARE</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"o\">...</span> <span class=\"c1\"># some middlewares</span>\n    <span class=\"s2\">\"django_forwarded.Forwarded\"</span><span class=\"p\">,</span>\n    <span class=\"o\">...</span> <span class=\"c1\"># more middlewares</span>\n<span class=\"p\">)</span>\n</pre>\n<h3>Configure</h3>\n<p>You can configure Django-Forwarded by adding appropriate variable to your Django application <a href=\"https://docs.djangoproject.com/en/2.2/topics/settings/\" rel=\"nofollow\">configuration file</a>.</p>\n<h4>With TRUSTED_PROXY_LIST</h4>\n<p>Just specify a list of trusted proxies with the <code>TRUSTED_PROXY_LIST</code> variable in the file. This is the recommended way to specify the proxies.</p>\n<pre><span class=\"n\">TRUSTED_PROXY_LIST</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"s1\">'2001:db8::10'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'10.2.3.100'</span><span class=\"p\">,</span>\n<span class=\"p\">]</span>\n</pre>\n<h4>With TRUSTED_PROXY_DEPTH</h4>\n<p>Just specify the number of trusted proxies with the <code>TRUSTED_PROXY_DEPTH</code> variable. This is useful when you have no control over them and their IP(s) might change frequently over the lifetime of your application.</p>\n<pre><span class=\"n\">TRUSTED_PROXY_DEPTH</span> <span class=\"o\">=</span> <span class=\"mi\">2</span>  <span class=\"c1\"># trusts maximum of 2 proxies</span>\n</pre>\n<p><strong>Note: It is not secure as secure as specifying a list.</strong></p>\n<h3>Access client IP</h3>\n<p>The middleware identifies the correct client IP from the user supplied configuration and the header received from the proxies. This information is then placed in the <code>request.META['REMOTE_ADDR']</code> field.</p>\n<pre><span class=\"k\">def</span> <span class=\"nf\">some_function</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">META</span><span class=\"p\">[</span><span class=\"s1\">'REMOTE_ADDR'</span><span class=\"p\">])</span>\n</pre>\n<h2>Testing</h2>\n<p>To execute the included test suit, run the following commands in a terminal:</p>\n<pre>$ <span class=\"nb\">cd</span> &lt;path to the django-forwarded&gt;\n$ pipenv shell  <span class=\"c1\"># opens a shell in dev environment</span>\n$ <span class=\"nv\">DJANGO_SETTINGS_MODULE</span><span class=\"o\">=</span>tests.settings python3 -m unittest  <span class=\"c1\"># run the tests</span>\n</pre>\n\n          </div>"}, "last_serial": 6941653, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "eae9a2855bc162031eba24444da14bed", "sha256": "4287aca7260428e9b4c81115e495ccc9ce1309f4b6ebb236adf7455c5463de3f"}, "downloads": -1, "filename": "Django-Forwarded-0.0.1.tar.gz", "has_sig": false, "md5_digest": "eae9a2855bc162031eba24444da14bed", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5146, "upload_time": "2019-12-06T08:54:36", "upload_time_iso_8601": "2019-12-06T08:54:36.862973Z", "url": "https://files.pythonhosted.org/packages/de/fa/fd11b3fccddfe7c5f99961ba275feadf24ed050daed5796683118de953d0/Django-Forwarded-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "5a1b90073412415d317a22594ed7a8c3", "sha256": "824686f4341f613097e27b51c8f9fb3b9239269fcba4b7009fa0cf7f618c1a76"}, "downloads": -1, "filename": "Django-Forwarded-0.0.2.tar.gz", "has_sig": false, "md5_digest": "5a1b90073412415d317a22594ed7a8c3", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5194, "upload_time": "2019-12-06T10:21:06", "upload_time_iso_8601": "2019-12-06T10:21:06.210775Z", "url": "https://files.pythonhosted.org/packages/35/9a/e4d962c172312c4970c7aef787b063c08418662074d69b7c6c5e9df1b280/Django-Forwarded-0.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5a1b90073412415d317a22594ed7a8c3", "sha256": "824686f4341f613097e27b51c8f9fb3b9239269fcba4b7009fa0cf7f618c1a76"}, "downloads": -1, "filename": "Django-Forwarded-0.0.2.tar.gz", "has_sig": false, "md5_digest": "5a1b90073412415d317a22594ed7a8c3", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 5194, "upload_time": "2019-12-06T10:21:06", "upload_time_iso_8601": "2019-12-06T10:21:06.210775Z", "url": "https://files.pythonhosted.org/packages/35/9a/e4d962c172312c4970c7aef787b063c08418662074d69b7c6c5e9df1b280/Django-Forwarded-0.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:36:00 2020"}
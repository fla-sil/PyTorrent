{"info": {"author": "Mustapha Benali", "author_email": "mustapha@headnet.dk", "bugtrack_url": null, "classifiers": ["Framework :: Plone", "Framework :: Plone :: 5.0", "Framework :: Plone :: 5.1", "Framework :: Zope2", "Programming Language :: Python", "Programming Language :: Python :: 2.7"], "description": "=========================\ncollective.autopublishing\n=========================\n\nOverview\n========\n\n.. image:: https://travis-ci.org/collective/collective.autopublishing.svg?branch=master\n       :target: https://travis-ci.org/collective/collective.autopublishing\n\nPublishes or retracts Plone content items depending on the effective and expiration dates.\n\nThis package depends on collective.timedevents to supply zope3-style events with specific intervals.\n\nSetup\n=====\n\nThe module supplies an event handler. In your own module you have to register this handler for an event, for instance one of the time-based events from collective.timedevents.\n\nExample: ::\n\n     <subscriber\n        for=\"collective.timedevents.interfaces.IIntervalTicks15Event\"\n        handler=\"collective.autopublishing.eventhandler.autopublish_handler\"\n\nTo enable the event ticks from collective.timedevents you can either use zope clockserver or a cronjob as the trigger. (See the documentation for collective.timedevents to set this up).\n\nThe module adds a plone control panel, where intitial workflow states for both publishing and retracting has to be set.\n\nIn addition, simulating the publishing process is possible with the dry-run setting in the control panel.\n\nThe publishing process\n======================\n\nAll items that are in the workflow states set in the control panel, having an effective date in the past, and no expiration date or an expiration date in the future, are published. (The workflow transition 'publish' are tried).\n\nAll items that are in the workflow states set in the control panel, having an expiration date in the past are retracted. (The workflow transition 'retract' are tried).\n\nArchetypes field\n================\n\nThe module adds a field `enableAutopublishing` to Archetypes content types, with default set to True.\n\nWhen am autopublishing event happens to an item, this is set to False, to mark that autopublishing has run.\n\nSetting the expiration date on retraction\n=========================================\n\nIn some cases, the automatic publication can republish an item that is retracted.\n\nFor instance: if private is added to initial publication states, and we have a published content object with a publication date in the past.\n\nIf the expiration date is not set, and the item is (manually) retracted, the publication machinery will republish the item unless the editor clears the publication date or turns of autopublishing for the item with the `enableAutopublishing` option.\n\nTo solve that problem an event handler for workflow transitions sets the expiration date, if it is not already set, when withdrawing an item.\n\nThere is a control panel setting to allow overwriting the expiration date.\n\nAudit\n=====\nA very simple form of audit logging can be done: If email addresses are supplied in the control panel a mail will be sent with info about published and retracted items.\n\nTodo\n====\n\n - What if an object is in the state published, but effective date are in the future? Should we retract, to enforce that the workflow state always mirrors the setting of the dates?\n\n - What if the effective date is larger that expiration date? Can this happen?\n\n\nContributors\n============\n\n- Mustapha Benali, mustapha@headnet.dk\n- Tom Gross, itconsense@gmail.com\n\nChanges\n=======\n\n1.0.3 (2019-07-18)\n------------------\n\n- Added French translation\n  [laulaz]\n\n\n1.0.2 (2017-05-23)\n------------------\n\n- Fix travis and buildout for Plone 5.0 and 5.1\n  [tomgross]\n\n\n1.0.1 (2016-02-18)\n------------------\n\n- Move README to rst\n  [tomgross]\n\n\n1.0 (2016-02-18)\n----------------\n\n- Plone 5 compatibility\n  [tomgross]\n\n0.6 (2013-11-05) Unreleased\n---------------------------\n\nFeatures:\n\n- Added buildout configuration for test this package in plone 4\n  [macagua]\n\n- Added bash script for update po file\n  [macagua]\n\n- Added Spanish translation\n  [macagua]\n\n- Now it is possible to make time-based transitions of any workflow transition, and for individual content types.\n  Rules are triggered on either the publication date or the retraction date.\n  [sunew]\n\n- Added initial dexterity support. date_index, date_index_method removed in the branch, needs to be reimplemented to support\n  both dexterity and archetypes.\n  [bosim]\n\n0.5 (2013-10-21) Unreleased\n---------------------------\n\nFeatures:\n\n- Added retracting\n- Added modern control panel\n- Replaced persistent utility with p.a.registry based settings\n- Require event ticks to run as manager\n- Depend on collective.timedevents\n  [sunew]\n\nBugfixes:\n - don't make testing other modules fail\n   [sunew]\n\n0.4\n----------------\n\n - Plone 4 compatibility\n   [kroman0]\n\n0.1\n----------------\n - Initial package\n   [mustap]", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://pypi.python.org/pypi/collective.autopublishing", "keywords": "plone workflow publishing", "license": "GPLv2+", "maintainer": "", "maintainer_email": "", "name": "collective.autopublishing", "package_url": "https://pypi.org/project/collective.autopublishing/", "platform": "", "project_url": "https://pypi.org/project/collective.autopublishing/", "project_urls": {"Homepage": "http://pypi.python.org/pypi/collective.autopublishing"}, "release_url": "https://pypi.org/project/collective.autopublishing/1.0.3/", "requires_dist": null, "requires_python": "", "summary": "Publishes and retracts on effective or expired dates.", "version": "1.0.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"overview\">\n<h2>Overview</h2>\n<a href=\"https://travis-ci.org/collective/collective.autopublishing\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/collective/collective.autopublishing.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/039d37ae9a19051f822a32154f3e6c1ea13048b6/68747470733a2f2f7472617669732d63692e6f72672f636f6c6c6563746976652f636f6c6c6563746976652e6175746f7075626c697368696e672e7376673f6272616e63683d6d6173746572\"></a>\n<p>Publishes or retracts Plone content items depending on the effective and expiration dates.</p>\n<p>This package depends on collective.timedevents to supply zope3-style events with specific intervals.</p>\n</div>\n<div id=\"setup\">\n<h2>Setup</h2>\n<p>The module supplies an event handler. In your own module you have to register this handler for an event, for instance one of the time-based events from collective.timedevents.</p>\n<p>Example:</p>\n<pre>&lt;subscriber\n   for=\"collective.timedevents.interfaces.IIntervalTicks15Event\"\n   handler=\"collective.autopublishing.eventhandler.autopublish_handler\"\n</pre>\n<p>To enable the event ticks from collective.timedevents you can either use zope clockserver or a cronjob as the trigger. (See the documentation for collective.timedevents to set this up).</p>\n<p>The module adds a plone control panel, where intitial workflow states for both publishing and retracting has to be set.</p>\n<p>In addition, simulating the publishing process is possible with the dry-run setting in the control panel.</p>\n</div>\n<div id=\"the-publishing-process\">\n<h2>The publishing process</h2>\n<p>All items that are in the workflow states set in the control panel, having an effective date in the past, and no expiration date or an expiration date in the future, are published. (The workflow transition \u2018publish\u2019 are tried).</p>\n<p>All items that are in the workflow states set in the control panel, having an expiration date in the past are retracted. (The workflow transition \u2018retract\u2019 are tried).</p>\n</div>\n<div id=\"archetypes-field\">\n<h2>Archetypes field</h2>\n<p>The module adds a field <cite>enableAutopublishing</cite> to Archetypes content types, with default set to True.</p>\n<p>When am autopublishing event happens to an item, this is set to False, to mark that autopublishing has run.</p>\n</div>\n<div id=\"setting-the-expiration-date-on-retraction\">\n<h2>Setting the expiration date on retraction</h2>\n<p>In some cases, the automatic publication can republish an item that is retracted.</p>\n<p>For instance: if private is added to initial publication states, and we have a published content object with a publication date in the past.</p>\n<p>If the expiration date is not set, and the item is (manually) retracted, the publication machinery will republish the item unless the editor clears the publication date or turns of autopublishing for the item with the <cite>enableAutopublishing</cite> option.</p>\n<p>To solve that problem an event handler for workflow transitions sets the expiration date, if it is not already set, when withdrawing an item.</p>\n<p>There is a control panel setting to allow overwriting the expiration date.</p>\n</div>\n<div id=\"audit\">\n<h2>Audit</h2>\n<p>A very simple form of audit logging can be done: If email addresses are supplied in the control panel a mail will be sent with info about published and retracted items.</p>\n</div>\n<div id=\"todo\">\n<h2>Todo</h2>\n<blockquote>\n<ul>\n<li>What if an object is in the state published, but effective date are in the future? Should we retract, to enforce that the workflow state always mirrors the setting of the dates?</li>\n<li>What if the effective date is larger that expiration date? Can this happen?</li>\n</ul>\n</blockquote>\n</div>\n<div id=\"contributors\">\n<h2>Contributors</h2>\n<ul>\n<li>Mustapha Benali, <a href=\"mailto:mustapha%40headnet.dk\">mustapha<span>@</span>headnet<span>.</span>dk</a></li>\n<li>Tom Gross, <a href=\"mailto:itconsense%40gmail.com\">itconsense<span>@</span>gmail<span>.</span>com</a></li>\n</ul>\n</div>\n<div id=\"changes\">\n<h2>Changes</h2>\n<div id=\"id1\">\n<h3>1.0.3 (2019-07-18)</h3>\n<ul>\n<li>Added French translation\n[laulaz]</li>\n</ul>\n</div>\n<div id=\"id2\">\n<h3>1.0.2 (2017-05-23)</h3>\n<ul>\n<li>Fix travis and buildout for Plone 5.0 and 5.1\n[tomgross]</li>\n</ul>\n</div>\n<div id=\"id3\">\n<h3>1.0.1 (2016-02-18)</h3>\n<ul>\n<li>Move README to rst\n[tomgross]</li>\n</ul>\n</div>\n<div id=\"id4\">\n<h3>1.0 (2016-02-18)</h3>\n<ul>\n<li>Plone 5 compatibility\n[tomgross]</li>\n</ul>\n</div>\n<div id=\"unreleased\">\n<h3>0.6 (2013-11-05) Unreleased</h3>\n<p>Features:</p>\n<ul>\n<li>Added buildout configuration for test this package in plone 4\n[macagua]</li>\n<li>Added bash script for update po file\n[macagua]</li>\n<li>Added Spanish translation\n[macagua]</li>\n<li>Now it is possible to make time-based transitions of any workflow transition, and for individual content types.\nRules are triggered on either the publication date or the retraction date.\n[sunew]</li>\n<li>Added initial dexterity support. date_index, date_index_method removed in the branch, needs to be reimplemented to support\nboth dexterity and archetypes.\n[bosim]</li>\n</ul>\n</div>\n<div id=\"id5\">\n<h3>0.5 (2013-10-21) Unreleased</h3>\n<p>Features:</p>\n<ul>\n<li>Added retracting</li>\n<li>Added modern control panel</li>\n<li>Replaced persistent utility with p.a.registry based settings</li>\n<li>Require event ticks to run as manager</li>\n<li>Depend on collective.timedevents\n[sunew]</li>\n</ul>\n<dl>\n<dt>Bugfixes:</dt>\n<dd><ul>\n<li>don\u2019t make testing other modules fail\n[sunew]</li>\n</ul>\n</dd>\n</dl>\n</div>\n<div id=\"id6\">\n<h3>0.4</h3>\n<blockquote>\n<ul>\n<li>Plone 4 compatibility\n[kroman0]</li>\n</ul>\n</blockquote>\n</div>\n<div id=\"id7\">\n<h3>0.1</h3>\n<blockquote>\n<ul>\n<li>Initial package\n[mustap]</li>\n</ul>\n</blockquote>\n</div>\n</div>\n\n          </div>"}, "last_serial": 5550927, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "ae395fd42060c8180fb006c550a0a42a", "sha256": "9cbf07c4daa9d5da80304b310c28ca202fbad14a23a90d961c4dafd686565166"}, "downloads": -1, "filename": "collective.autopublishing-1.0.tar.gz", "has_sig": false, "md5_digest": "ae395fd42060c8180fb006c550a0a42a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18575, "upload_time": "2016-02-18T09:47:00", "upload_time_iso_8601": "2016-02-18T09:47:00.110639Z", "url": "https://files.pythonhosted.org/packages/c8/01/be4099574c970a48118a4fa022eeb7ff913c03c6764059db38d288752b3d/collective.autopublishing-1.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "116e460173eb1c201abebf9ae2466dea", "sha256": "1cfe783aaa17b9fd501ea8e7e9cb5fac5841ef8d807adb4ef054c48bb042ed93"}, "downloads": -1, "filename": "collective.autopublishing-1.0.1.tar.gz", "has_sig": false, "md5_digest": "116e460173eb1c201abebf9ae2466dea", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25418, "upload_time": "2016-02-18T10:02:53", "upload_time_iso_8601": "2016-02-18T10:02:53.579112Z", "url": "https://files.pythonhosted.org/packages/ce/8e/0f7300683535837d389ee2f46c658fd63370775f6fba25082326ab2c9457/collective.autopublishing-1.0.1.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "765e8da1b3e5401e6190a715bcf77135", "sha256": "6b964546af1d05504576eff185e16b68ef889363361b5c5d6bff5445ef61f6aa"}, "downloads": -1, "filename": "collective.autopublishing-1.0.2.tar.gz", "has_sig": false, "md5_digest": "765e8da1b3e5401e6190a715bcf77135", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25538, "upload_time": "2017-05-23T07:25:41", "upload_time_iso_8601": "2017-05-23T07:25:41.872295Z", "url": "https://files.pythonhosted.org/packages/46/97/b95585805a5288f56278efb153318b135f1c77dd3b5c9549db38d3044135/collective.autopublishing-1.0.2.tar.gz", "yanked": false}], "1.0.3": [{"comment_text": "", "digests": {"md5": "e1d484b92edaade49320d467dec381d7", "sha256": "27de4be73b731f33229dfc10a864ecc40574aaad83d33c5394a33de1aaba9824"}, "downloads": -1, "filename": "collective.autopublishing-1.0.3.tar.gz", "has_sig": false, "md5_digest": "e1d484b92edaade49320d467dec381d7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 27026, "upload_time": "2019-07-18T12:41:33", "upload_time_iso_8601": "2019-07-18T12:41:33.834525Z", "url": "https://files.pythonhosted.org/packages/68/74/377e7e6b86e92b183614a5bd5085ce2834339ce6d1a9ebbe7cb71ac78df8/collective.autopublishing-1.0.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e1d484b92edaade49320d467dec381d7", "sha256": "27de4be73b731f33229dfc10a864ecc40574aaad83d33c5394a33de1aaba9824"}, "downloads": -1, "filename": "collective.autopublishing-1.0.3.tar.gz", "has_sig": false, "md5_digest": "e1d484b92edaade49320d467dec381d7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 27026, "upload_time": "2019-07-18T12:41:33", "upload_time_iso_8601": "2019-07-18T12:41:33.834525Z", "url": "https://files.pythonhosted.org/packages/68/74/377e7e6b86e92b183614a5bd5085ce2834339ce6d1a9ebbe7cb71ac78df8/collective.autopublishing-1.0.3.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:18:02 2020"}
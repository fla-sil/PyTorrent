{"info": {"author": "Taro Sato", "author_email": "okomestudio@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: POSIX :: Linux", "Programming Language :: Python :: 2.7", "Topic :: System :: Distributed Computing"], "description": ".. image:: https://circleci.com/gh/okomestudio/pyrediq/tree/development.svg?style=shield\n   :target: https://circleci.com/gh/okomestudio/pyrediq/tree/development\n\n.. image:: https://coveralls.io/repos/github/okomestudio/pyrediq/badge.svg?branch=development\n   :target: https://coveralls.io/github/okomestudio/pyrediq?branch=development\n\n             \n\npyrediq\n=======\n\n`pyrediq` (py-re-ddi-ck) is a Python (2.7) library providing an\nimplementation of priority messaging queue using `Redis`_. The message\npayload is serialized by `MessagePack`_.\n\n`pyrediq` is licensed under the `MIT License (MIT)`_.\n\n.. _MessagePack: http://msgpack.org/\n.. _Redis: http://redis.io/\n.. _MIT License (MIT): https://raw.githubusercontent.com/okomestudio/pyrediq/development/LICENSE.txt\n\n\nBasic Usage\n-----------\n\n.. code-block:: python\n\n   import redis\n   from pyrediq import PriorityQueue, QueueEmpty\n\n   redis_conn = redis.StrictRedis()\n\n   # create a queue\n   queue = PriorityQueue('myqueue', redis_conn)\n\n   # enqueue a message to the queue\n   queue.put({'mykey': 'myvalue'}, priority=-1)\n\n   # create a consumer\n   with queue.consumer() as consumer:\n       try:\n           msg = consumer.get(block=False)\n       except QueueEmpty:\n           raise\n\n       success = do_task(msg.payload)\n\n       # the message is either acked or rejected after task is done.\n       # a rejected message can optionally be requeued\n       if success:\n           consumer.ack(msg)\n       else:\n           consumer.reject(msg, requeue=True)\n\n   queue.close()\n           \nTo remove all message from a queue and remove the queue itself, run\n`PriorityQueue.purge` method:\n\n.. code-block:: python\n\n   queue.purge()\n\n\nInstallation\n------------            \n\nTo install `pyrediq` using `pip`, run this command on the shell::\n\n  pip install pyrediq\n\nTo use `pyrediq`, Redis needs to be installed and running on the\ncomputer. For example, on a Debian box, running this command should\nsuffice::\n  \n  sudo apt-get install redis-server\n\nConsult the `official Redis distribution site`_ for the install\nprocedure.\n\n.. _official Redis distribution site: http://redis.io/\n", "description_content_type": null, "docs_url": "https://pythonhosted.org/pyrediq/", "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/okomestudio/pyrediq", "keywords": null, "license": "MIT", "maintainer": null, "maintainer_email": null, "name": "pyrediq", "package_url": "https://pypi.org/project/pyrediq/", "platform": "Linux", "project_url": "https://pypi.org/project/pyrediq/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/okomestudio/pyrediq"}, "release_url": "https://pypi.org/project/pyrediq/0.3.4/", "requires_dist": null, "requires_python": null, "summary": "Priority message queue with Redis", "version": "0.3.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://circleci.com/gh/okomestudio/pyrediq/tree/development\" rel=\"nofollow\"><img alt=\"https://circleci.com/gh/okomestudio/pyrediq/tree/development.svg?style=shield\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/cd6d2034eb0dc7efa8839897c7e2f49e2a87f40b/68747470733a2f2f636972636c6563692e636f6d2f67682f6f6b6f6d6573747564696f2f707972656469712f747265652f646576656c6f706d656e742e7376673f7374796c653d736869656c64\"></a>\n<a href=\"https://coveralls.io/github/okomestudio/pyrediq?branch=development\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/github/okomestudio/pyrediq/badge.svg?branch=development\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/578dddd86f68d8da00c292ce5d0ac45d3fa7ffbc/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6f6b6f6d6573747564696f2f707972656469712f62616467652e7376673f6272616e63683d646576656c6f706d656e74\"></a>\n<div id=\"pyrediq\">\n<h2>pyrediq</h2>\n<p><cite>pyrediq</cite> (py-re-ddi-ck) is a Python (2.7) library providing an\nimplementation of priority messaging queue using <a href=\"http://redis.io/\" rel=\"nofollow\">Redis</a>. The message\npayload is serialized by <a href=\"http://msgpack.org/\" rel=\"nofollow\">MessagePack</a>.</p>\n<p><cite>pyrediq</cite> is licensed under the <a href=\"https://raw.githubusercontent.com/okomestudio/pyrediq/development/LICENSE.txt\" rel=\"nofollow\">MIT License (MIT)</a>.</p>\n<div id=\"basic-usage\">\n<h3>Basic Usage</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">redis</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pyrediq</span> <span class=\"kn\">import</span> <span class=\"n\">PriorityQueue</span><span class=\"p\">,</span> <span class=\"n\">QueueEmpty</span>\n\n<span class=\"n\">redis_conn</span> <span class=\"o\">=</span> <span class=\"n\">redis</span><span class=\"o\">.</span><span class=\"n\">StrictRedis</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># create a queue</span>\n<span class=\"n\">queue</span> <span class=\"o\">=</span> <span class=\"n\">PriorityQueue</span><span class=\"p\">(</span><span class=\"s1\">'myqueue'</span><span class=\"p\">,</span> <span class=\"n\">redis_conn</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># enqueue a message to the queue</span>\n<span class=\"n\">queue</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">({</span><span class=\"s1\">'mykey'</span><span class=\"p\">:</span> <span class=\"s1\">'myvalue'</span><span class=\"p\">},</span> <span class=\"n\">priority</span><span class=\"o\">=-</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># create a consumer</span>\n<span class=\"k\">with</span> <span class=\"n\">queue</span><span class=\"o\">.</span><span class=\"n\">consumer</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">consumer</span><span class=\"p\">:</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"n\">consumer</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">block</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n    <span class=\"k\">except</span> <span class=\"n\">QueueEmpty</span><span class=\"p\">:</span>\n        <span class=\"k\">raise</span>\n\n    <span class=\"n\">success</span> <span class=\"o\">=</span> <span class=\"n\">do_task</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"o\">.</span><span class=\"n\">payload</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># the message is either acked or rejected after task is done.</span>\n    <span class=\"c1\"># a rejected message can optionally be requeued</span>\n    <span class=\"k\">if</span> <span class=\"n\">success</span><span class=\"p\">:</span>\n        <span class=\"n\">consumer</span><span class=\"o\">.</span><span class=\"n\">ack</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">)</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"n\">consumer</span><span class=\"o\">.</span><span class=\"n\">reject</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">,</span> <span class=\"n\">requeue</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"n\">queue</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre>\n<p>To remove all message from a queue and remove the queue itself, run\n<cite>PriorityQueue.purge</cite> method:</p>\n<pre><span class=\"n\">queue</span><span class=\"o\">.</span><span class=\"n\">purge</span><span class=\"p\">()</span>\n</pre>\n</div>\n<div id=\"installation\">\n<h3>Installation</h3>\n<p>To install <cite>pyrediq</cite> using <cite>pip</cite>, run this command on the shell:</p>\n<pre>pip install pyrediq\n</pre>\n<p>To use <cite>pyrediq</cite>, Redis needs to be installed and running on the\ncomputer. For example, on a Debian box, running this command should\nsuffice:</p>\n<pre>sudo apt-get install redis-server\n</pre>\n<p>Consult the <a href=\"http://redis.io/\" rel=\"nofollow\">official Redis distribution site</a> for the install\nprocedure.</p>\n</div>\n</div>\n\n          </div>"}, "last_serial": 2710906, "releases": {"0.2.0": [{"comment_text": "", "digests": {"md5": "185cb175ec00fa3b835d1f91f7ab8f10", "sha256": "f2b25ab5f857099793480a13aa95b80fb1ccc12fcc5a0e274d77afdf9ce43fab"}, "downloads": -1, "filename": "pyrediq-0.2.0.tar.gz", "has_sig": false, "md5_digest": "185cb175ec00fa3b835d1f91f7ab8f10", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6891, "upload_time": "2016-09-04T07:32:47", "upload_time_iso_8601": "2016-09-04T07:32:47.378158Z", "url": "https://files.pythonhosted.org/packages/95/0b/6e1971afef168d20f14581885fa21524eb22360995f96ccb38a40860b9c2/pyrediq-0.2.0.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "59c8ab1a7997b8a254c1cf438c6c7217", "sha256": "84a6f350ad9aa6980bff339818acc4aac682dce2974610315163074d19023958"}, "downloads": -1, "filename": "pyrediq-0.3.0.tar.gz", "has_sig": false, "md5_digest": "59c8ab1a7997b8a254c1cf438c6c7217", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8169, "upload_time": "2017-02-20T21:11:40", "upload_time_iso_8601": "2017-02-20T21:11:40.140588Z", "url": "https://files.pythonhosted.org/packages/20/05/bbbd36705a4aa6c9eb9186ae31402ccb2df4eaf506326e04da296846c52a/pyrediq-0.3.0.tar.gz", "yanked": false}], "0.3.1": [{"comment_text": "", "digests": {"md5": "78503051f27f6a2bd3329fab3af5ef2a", "sha256": "f3d7ab096c2a68aa21ab118dd14b3acb8d40c089fa272da509c03184670dcf5f"}, "downloads": -1, "filename": "pyrediq-0.3.1.tar.gz", "has_sig": false, "md5_digest": "78503051f27f6a2bd3329fab3af5ef2a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8230, "upload_time": "2017-02-26T03:51:44", "upload_time_iso_8601": "2017-02-26T03:51:44.562813Z", "url": "https://files.pythonhosted.org/packages/3f/66/5e0cc19d2b1ff817cef0c1ee2b3a78320ec94e8cbf9dad692ae6f9ce6cc0/pyrediq-0.3.1.tar.gz", "yanked": false}], "0.3.2": [{"comment_text": "", "digests": {"md5": "4e678d49ebaa54bda056409cd0852bde", "sha256": "d4db1d9d60df1a745bdfda31b2318b511df965af64a0e2c5906eec194b9b2080"}, "downloads": -1, "filename": "pyrediq-0.3.2.tar.gz", "has_sig": false, "md5_digest": "4e678d49ebaa54bda056409cd0852bde", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8271, "upload_time": "2017-02-27T08:49:42", "upload_time_iso_8601": "2017-02-27T08:49:42.239643Z", "url": "https://files.pythonhosted.org/packages/96/fc/94694aacdeda5aad6c383bb6bb4e8af97673c24587c4ed061245059f59d7/pyrediq-0.3.2.tar.gz", "yanked": false}], "0.3.3": [{"comment_text": "", "digests": {"md5": "3735890c8eadc09319b23d6f1b430850", "sha256": "dbe80b41a2f194a3ce75d7ddd1b1875fe0fa698f254cdc134c40fd96405d3f78"}, "downloads": -1, "filename": "pyrediq-0.3.3.tar.gz", "has_sig": false, "md5_digest": "3735890c8eadc09319b23d6f1b430850", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8280, "upload_time": "2017-03-16T07:09:26", "upload_time_iso_8601": "2017-03-16T07:09:26.783853Z", "url": "https://files.pythonhosted.org/packages/ee/c5/391d8210c2a87bc6aa4bf2c06a60148292fd645ddad760557ee54f3e271c/pyrediq-0.3.3.tar.gz", "yanked": false}], "0.3.4": [{"comment_text": "", "digests": {"md5": "f312ca960f6a59214273baf5ba53e1fc", "sha256": "30f2df5d58894fcab0fab2f35f1f81852c3eb489e1480d54a73e737510154240"}, "downloads": -1, "filename": "pyrediq-0.3.4.tar.gz", "has_sig": false, "md5_digest": "f312ca960f6a59214273baf5ba53e1fc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8331, "upload_time": "2017-03-16T19:00:56", "upload_time_iso_8601": "2017-03-16T19:00:56.465022Z", "url": "https://files.pythonhosted.org/packages/9a/43/ace20a8e4f5dbb1d8faac43996abd244d3f4b11921e316155731e58b1f09/pyrediq-0.3.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f312ca960f6a59214273baf5ba53e1fc", "sha256": "30f2df5d58894fcab0fab2f35f1f81852c3eb489e1480d54a73e737510154240"}, "downloads": -1, "filename": "pyrediq-0.3.4.tar.gz", "has_sig": false, "md5_digest": "f312ca960f6a59214273baf5ba53e1fc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8331, "upload_time": "2017-03-16T19:00:56", "upload_time_iso_8601": "2017-03-16T19:00:56.465022Z", "url": "https://files.pythonhosted.org/packages/9a/43/ace20a8e4f5dbb1d8faac43996abd244d3f4b11921e316155731e58b1f09/pyrediq-0.3.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:57:56 2020"}
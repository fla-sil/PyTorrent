{"info": {"author": "Takafumi Arakaki", "author_email": "aka.tkf@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "License :: OSI Approved :: BSD License", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.6", "Topic :: Software Development"], "description": "Command line program & Python functions for comparing multiple dictionaries\n===========================================================================\n\n|pypi| |build-status| |coveralls|\n\n`dictsdiff` provides a CLI and Python interface for comparing\narbitrary number of nested dictionaries and show it as a tabular\nformat via pandas_.DataFrame.\n\n\nCLI\n---\n\nUsage::\n\n  dictsdiff FILE [JSON_PATH] [FILE [JSON_PATH] ...]\n  dictsdiff --ndjson=FILE.ndjson\n  cat *.ndjson | dictsdiff [--ndjson=-]\n\nWhen paths to multiple files are given, it loads the dictionaries from\nthose files and compare (possibly) nested values in them.  The\nkey-value pairs that are different or missing are shown in a table\nformat.  A file path ``FILE`` may be followed by a JSONPath_\n``JSON_PATH`` which starts with ``$.``.  If ``FILE`` starts with\n``$.``, prepend ``./`` to ``FILE`` to disambiguate the argument.\n``JSON_PATH`` can be used for non-JSON files.\n\n.. _JSONPath: http://goessner.net/articles/JsonPath/\n\nWhen no files are given, it is assumed that Newline delimited JSON\n(ndjson) is fed to the stdin.\n\nExamples\n^^^^^^^^\n\n.. code:: sh\n\n   $ echo '{\"a\": 1, \"b\": {\"c\": 0, \"d\": 0, \"e\": 0}}' > 0.json\n   $ echo '{\"a\": 2, \"b\": {\"c\": 0, \"d\": 1, \"e\": 0}}' > 1.json\n   $ echo '{\"a\": 2, \"b\": {\"c\": 0, \"d\": 1}}' > 2.json\n   $ dictsdiff *.json\n           a  b.d  b.e\n   path\n   0.json  1    0  0.0\n   1.json  2    1  0.0\n   2.json  2    1  NaN\n   $ cat *.json | dictsdiff\n      a  b.d  b.e\n   0  1    0  0.0\n   1  2    1  0.0\n   2  2    1  NaN\n\nIf JSON files are pre-processed by jq_, dictsdiff can handle its\noutput when ``--compact-output``/``-c`` is passed::\n\n  jq --compact-output '' **/*.json | dictsdiff\n\nTo pass the original file path of JSON files to ``dictsdiff``, use\n``--info-key`` option combined with jq_'s ``input_filename``, e.g.,::\n\n  jq --compact-output '.path = input_filename' **/*.json \\\n    | dictsdiff --info-key=path\n\n.. _jq: https://stedolan.github.io/jq/\n\n\nPython interface\n----------------\n\n`dictsdiff.diff_dicts`\n^^^^^^^^^^^^^^^^^^^^^^\n\n>>> from dictsdiff import diff_dicts\n>>> dd = diff_dicts([\n...     {'a': 1, 'b': {'c': 0, 'd': 0}},\n...     {'a': 2, 'b': {'c': 0, 'd': 1}},\n...     {'a': 1, 'b': {'c': 0, 'd': 1}},\n... ])\n>>> dd.keys\n[('a',), ('b', 'd')]\n>>> dd.pretty_diff()\n   a  b.d\n0  1    0\n1  2    1\n2  1    1\n\n\n`dictsdiff.diff_files`\n^^^^^^^^^^^^^^^^^^^^^^\n\n.. Run the code below in a clean temporary directory:\n   >>> getfixture('cleancwd')\n\n>>> from dictsdiff import diff_files\n>>> _ = open('0.json', 'w').write('{\"a\": 1, \"b\": 2}')\n>>> _ = open('1.json', 'w').write('{\"a\": 1, \"b\": 3}')\n>>> dd = diff_files(['0.json', '1.json'])\n>>> dd.keys\n[('b',)]\n>>> dd.pretty_diff()\n        b\npath     \n0.json  2\n1.json  3\n\n\n`dictsdiff.diff_ndjson`\n^^^^^^^^^^^^^^^^^^^^^^^\n\n>>> import io\n>>> from dictsdiff import diff_ndjson\n>>> ndjson = u'''\n... {\"a\": 1, \"b\": {\"c\": 0, \"d\": 0}}\n... {\"a\": 2, \"b\": {\"c\": 0, \"d\": 1}}\n... '''.strip()\n>>> dd = diff_ndjson(io.StringIO(ndjson))\n>>> dd.keys\n[('a',), ('b', 'd')]\n>>> dd.pretty_diff()\n   a  b.d\n0  1    0\n1  2    1\n\n\nInstallation\n------------\n::\n\n   pip install dictsdiff  # or\n   pip install https://github.com/tkf/dictsdiff/archive/master.zip\n\n\nRequirements\n^^^^^^^^^^^^\n\n- pandas_\n- PyYAML_ (optional)\n- toml_ (optional)\n- jsonpath-rw_ (optional)\n\n.. _pandas: http://pandas.pydata.org\n.. _PyYAML: http://pyyaml.org/wiki/PyYAML\n.. _toml: https://github.com/uiri/toml\n.. _jsonpath-rw: https://github.com/kennknowles/python-jsonpath-rw\n\n.. |pypi|\n   image:: https://badge.fury.io/py/dictsdiff.svg\n   :target: https://badge.fury.io/py/dictsdiff\n   :alt: Python Package Index\n\n.. |build-status|\n   image:: https://secure.travis-ci.org/tkf/dictsdiff.png?branch=master\n   :target: http://travis-ci.org/tkf/dictsdiff\n   :alt: Build Status\n\n.. |coveralls|\n   image:: https://coveralls.io/repos/github/tkf/dictsdiff/badge.svg?branch=master\n   :target: https://coveralls.io/github/tkf/dictsdiff?branch=master\n   :alt: Test Coverage", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/tkf/dictsdiff", "keywords": "CLI,diff,JSON,YAML,Pickle", "license": "BSD-2-Clause", "maintainer": "", "maintainer_email": "", "name": "dictsdiff", "package_url": "https://pypi.org/project/dictsdiff/", "platform": "", "project_url": "https://pypi.org/project/dictsdiff/", "project_urls": {"Homepage": "https://github.com/tkf/dictsdiff"}, "release_url": "https://pypi.org/project/dictsdiff/0.1.1/", "requires_dist": null, "requires_python": "", "summary": "CLI & Python API for comparing multiple dictionaries", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://badge.fury.io/py/dictsdiff\" rel=\"nofollow\"><img alt=\"Python Package Index\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4f4e6571df1a229af5e47673bd63c6d9010a17d5/68747470733a2f2f62616467652e667572792e696f2f70792f6469637473646966662e737667\"></a> <a href=\"http://travis-ci.org/tkf/dictsdiff\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/329844a9391e084a82f8ac9a06add427034f0483/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f746b662f6469637473646966662e706e673f6272616e63683d6d6173746572\"></a> <a href=\"https://coveralls.io/github/tkf/dictsdiff?branch=master\" rel=\"nofollow\"><img alt=\"Test Coverage\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/aa18b3318ef4cb91fb85dcee73e14fdb5ce79672/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f746b662f6469637473646966662f62616467652e7376673f6272616e63683d6d6173746572\"></a></p>\n<p><cite>dictsdiff</cite> provides a CLI and Python interface for comparing\narbitrary number of nested dictionaries and show it as a tabular\nformat via <a href=\"http://pandas.pydata.org\" rel=\"nofollow\">pandas</a>.DataFrame.</p>\n<div id=\"cli\">\n<h2>CLI</h2>\n<p>Usage:</p>\n<pre>dictsdiff FILE [JSON_PATH] [FILE [JSON_PATH] ...]\ndictsdiff --ndjson=FILE.ndjson\ncat *.ndjson | dictsdiff [--ndjson=-]\n</pre>\n<p>When paths to multiple files are given, it loads the dictionaries from\nthose files and compare (possibly) nested values in them.  The\nkey-value pairs that are different or missing are shown in a table\nformat.  A file path <tt>FILE</tt> may be followed by a <a href=\"http://goessner.net/articles/JsonPath/\" rel=\"nofollow\">JSONPath</a>\n<tt>JSON_PATH</tt> which starts with <tt>$.</tt>.  If <tt>FILE</tt> starts with\n<tt>$.</tt>, prepend <tt>./</tt> to <tt>FILE</tt> to disambiguate the argument.\n<tt>JSON_PATH</tt> can be used for non-JSON files.</p>\n<p>When no files are given, it is assumed that Newline delimited JSON\n(ndjson) is fed to the stdin.</p>\n<div id=\"examples\">\n<h3>Examples</h3>\n<pre>$ <span class=\"nb\">echo</span> <span class=\"s1\">'{\"a\": 1, \"b\": {\"c\": 0, \"d\": 0, \"e\": 0}}'</span> &gt; <span class=\"m\">0</span>.json\n$ <span class=\"nb\">echo</span> <span class=\"s1\">'{\"a\": 2, \"b\": {\"c\": 0, \"d\": 1, \"e\": 0}}'</span> &gt; <span class=\"m\">1</span>.json\n$ <span class=\"nb\">echo</span> <span class=\"s1\">'{\"a\": 2, \"b\": {\"c\": 0, \"d\": 1}}'</span> &gt; <span class=\"m\">2</span>.json\n$ dictsdiff *.json\n        a  b.d  b.e\npath\n<span class=\"m\">0</span>.json  <span class=\"m\">1</span>    <span class=\"m\">0</span>  <span class=\"m\">0</span>.0\n<span class=\"m\">1</span>.json  <span class=\"m\">2</span>    <span class=\"m\">1</span>  <span class=\"m\">0</span>.0\n<span class=\"m\">2</span>.json  <span class=\"m\">2</span>    <span class=\"m\">1</span>  NaN\n$ cat *.json <span class=\"p\">|</span> dictsdiff\n   a  b.d  b.e\n<span class=\"m\">0</span>  <span class=\"m\">1</span>    <span class=\"m\">0</span>  <span class=\"m\">0</span>.0\n<span class=\"m\">1</span>  <span class=\"m\">2</span>    <span class=\"m\">1</span>  <span class=\"m\">0</span>.0\n<span class=\"m\">2</span>  <span class=\"m\">2</span>    <span class=\"m\">1</span>  NaN\n</pre>\n<p>If JSON files are pre-processed by <a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow\">jq</a>, dictsdiff can handle its\noutput when <tt><span class=\"pre\">--compact-output</span></tt>/<tt><span class=\"pre\">-c</span></tt> is passed:</p>\n<pre>jq --compact-output '' **/*.json | dictsdiff\n</pre>\n<p>To pass the original file path of JSON files to <tt>dictsdiff</tt>, use\n<tt><span class=\"pre\">--info-key</span></tt> option combined with <a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow\">jq</a>\u2019s <tt>input_filename</tt>, e.g.,:</p>\n<pre>jq --compact-output '.path = input_filename' **/*.json \\\n  | dictsdiff --info-key=path\n</pre>\n</div>\n</div>\n<div id=\"python-interface\">\n<h2>Python interface</h2>\n<div id=\"dictsdiff-diff-dicts\">\n<h3><cite>dictsdiff.diff_dicts</cite></h3>\n<pre>&gt;&gt;&gt; from dictsdiff import diff_dicts\n&gt;&gt;&gt; dd = diff_dicts([\n...     {'a': 1, 'b': {'c': 0, 'd': 0}},\n...     {'a': 2, 'b': {'c': 0, 'd': 1}},\n...     {'a': 1, 'b': {'c': 0, 'd': 1}},\n... ])\n&gt;&gt;&gt; dd.keys\n[('a',), ('b', 'd')]\n&gt;&gt;&gt; dd.pretty_diff()\n   a  b.d\n0  1    0\n1  2    1\n2  1    1\n</pre>\n</div>\n<div id=\"dictsdiff-diff-files\">\n<h3><cite>dictsdiff.diff_files</cite></h3>\n<pre>&gt;&gt;&gt; from dictsdiff import diff_files\n&gt;&gt;&gt; _ = open('0.json', 'w').write('{\"a\": 1, \"b\": 2}')\n&gt;&gt;&gt; _ = open('1.json', 'w').write('{\"a\": 1, \"b\": 3}')\n&gt;&gt;&gt; dd = diff_files(['0.json', '1.json'])\n&gt;&gt;&gt; dd.keys\n[('b',)]\n&gt;&gt;&gt; dd.pretty_diff()\n        b\npath\n0.json  2\n1.json  3\n</pre>\n</div>\n<div id=\"dictsdiff-diff-ndjson\">\n<h3><cite>dictsdiff.diff_ndjson</cite></h3>\n<pre>&gt;&gt;&gt; import io\n&gt;&gt;&gt; from dictsdiff import diff_ndjson\n&gt;&gt;&gt; ndjson = u'''\n... {\"a\": 1, \"b\": {\"c\": 0, \"d\": 0}}\n... {\"a\": 2, \"b\": {\"c\": 0, \"d\": 1}}\n... '''.strip()\n&gt;&gt;&gt; dd = diff_ndjson(io.StringIO(ndjson))\n&gt;&gt;&gt; dd.keys\n[('a',), ('b', 'd')]\n&gt;&gt;&gt; dd.pretty_diff()\n   a  b.d\n0  1    0\n1  2    1\n</pre>\n</div>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>pip install dictsdiff  # or\npip install https://github.com/tkf/dictsdiff/archive/master.zip\n</pre>\n<div id=\"requirements\">\n<h3>Requirements</h3>\n<ul>\n<li><a href=\"http://pandas.pydata.org\" rel=\"nofollow\">pandas</a></li>\n<li><a href=\"http://pyyaml.org/wiki/PyYAML\" rel=\"nofollow\">PyYAML</a> (optional)</li>\n<li><a href=\"https://github.com/uiri/toml\" rel=\"nofollow\">toml</a> (optional)</li>\n<li><a href=\"https://github.com/kennknowles/python-jsonpath-rw\" rel=\"nofollow\">jsonpath-rw</a> (optional)</li>\n</ul>\n</div>\n</div>\n\n          </div>"}, "last_serial": 4996060, "releases": {"0.0.0": [{"comment_text": "", "digests": {"md5": "425affd04d8144ed064d143f8ad797cf", "sha256": "40bea13c87cdefd84689791e0bf492c25e999b8dc540f0dd47ca5f50df668ac1"}, "downloads": -1, "filename": "dictsdiff-0.0.0.tar.gz", "has_sig": false, "md5_digest": "425affd04d8144ed064d143f8ad797cf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6302, "upload_time": "2017-06-26T01:59:24", "upload_time_iso_8601": "2017-06-26T01:59:24.929062Z", "url": "https://files.pythonhosted.org/packages/1c/cf/25ac044f4207af1d2946e12f3dcd85d62d4e814cf9c1780bfecec0264768/dictsdiff-0.0.0.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "085abc53ce17f9ef99edb0eddd1841ae", "sha256": "d9a35a53e25b0a645fe455b2a751466bf20b3eeac235623039f104eadf0474fc"}, "downloads": -1, "filename": "dictsdiff-0.1.0.tar.gz", "has_sig": false, "md5_digest": "085abc53ce17f9ef99edb0eddd1841ae", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12478, "upload_time": "2019-02-25T23:18:04", "upload_time_iso_8601": "2019-02-25T23:18:04.356467Z", "url": "https://files.pythonhosted.org/packages/bc/67/a19069e00bf7912f9a8849929f14b6647557cb7ab5d6d90ab7093aff8f47/dictsdiff-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "5353df2b1bde662cd5ec8d6657336cce", "sha256": "8f810588de6bafdb2fc8b95dd40e45236a48c24fe8c868c8a3782a88d9056bea"}, "downloads": -1, "filename": "dictsdiff-0.1.1.tar.gz", "has_sig": false, "md5_digest": "5353df2b1bde662cd5ec8d6657336cce", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12528, "upload_time": "2019-03-28T05:11:49", "upload_time_iso_8601": "2019-03-28T05:11:49.024961Z", "url": "https://files.pythonhosted.org/packages/c2/b1/74f09a68888f00a4da4a7507f67c1f8fe700f690b265dfd1e396cec6d8d7/dictsdiff-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5353df2b1bde662cd5ec8d6657336cce", "sha256": "8f810588de6bafdb2fc8b95dd40e45236a48c24fe8c868c8a3782a88d9056bea"}, "downloads": -1, "filename": "dictsdiff-0.1.1.tar.gz", "has_sig": false, "md5_digest": "5353df2b1bde662cd5ec8d6657336cce", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12528, "upload_time": "2019-03-28T05:11:49", "upload_time_iso_8601": "2019-03-28T05:11:49.024961Z", "url": "https://files.pythonhosted.org/packages/c2/b1/74f09a68888f00a4da4a7507f67c1f8fe700f690b265dfd1e396cec6d8d7/dictsdiff-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:38:31 2020"}
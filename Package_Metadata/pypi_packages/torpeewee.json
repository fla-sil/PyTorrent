{"info": {"author": "['snower']", "author_email": "sujian199@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "torpeewee\n=========\n\n|Build Status|\n\nTornado and asyncio asynchronous ORM by peewee\n\nAbout\n=====\n\ntorpeewee - Tornado and asyncio asynchronous ORM by peewee.\n\nInstallation\n============\n\n::\n\n    pip install torpeewee\n\nExamples\n========\n\n.. code:: python\n\n    # -*- coding: utf-8 -*-\n    # 16/7/7\n    # create by: snower\n\n    import datetime\n    import asyncio\n    from torpeewee import *\n\n    db = MySQLDatabase(\"test\", host=\"127.0.0.1\", port=3306, user=\"root\", passwd=\"123456\")\n\n    class BaseModel(Model):\n        class Meta:\n            database = db\n\n    class Test(BaseModel):\n        id = IntegerField(primary_key= True)\n        data = CharField(max_length=64, null=False)\n        count = IntegerField(default=0)\n        created_at = DateTimeField()\n        updated_at = DateTimeField()\n\n    @db.transaction()\n    async def run_transaction(transaction):\n        async for i in Test.use(transaction).select().order_by(Test.id.desc()).limit(2):\n            print(i.id, i.data)\n\n        print(\"\")\n        t = await Test.use(transaction).create(data=\"test\", created_at=datetime.datetime.now(),\n                                               updated_at=datetime.datetime.now())\n        print(t.id, t.data)\n\n        async for i in Test.select().order_by(Test.id.desc()).limit(2):\n            print(i.id, i.data)\n\n        print(\"\")\n        for i in (await Test.use(transaction).select().order_by(Test.id.desc()).limit(2)):\n            print(i.id, i.data)\n\n    async def run():\n        t = await Test.select().where(Test.id == 5).first()\n        print(t)\n\n        c = await Test.select().where(Test.id > 5).count()\n        print(c)\n\n        c = await Test.select().where(Test.id > 5).group_by(Test.data).count()\n        print(c)\n\n        for i in (await Test.select().where(Test.id > 5).where(Test.id<=10)):\n            print(i.id, i.data)\n\n        async for i in Test.select().order_by(Test.id.desc()).limit(2):\n            print(i.id, i.data)\n        t = await Test.create(data = \"test\", created_at=datetime.datetime.now(), updated_at=datetime.datetime.now())\n        print(t.id, t.data)\n        async for i in Test.select().order_by(Test.id.desc()).limit(2):\n            print(i.id, i.data)\n\n        print(\"\")\n        print(\"\")\n\n        t = await Test.select().order_by(Test.id.desc()).limit(1)[0]\n        print(t.id, t.data, t.count)\n        t.count += 1\n        await t.save()\n        t = await Test.select().order_by(Test.id.desc()).limit(1)[0]\n        print(t.id, t.data, t.count)\n\n        print(\"\")\n        print(\"\")\n\n        async with await db.transaction() as transaction:\n            t = await Test.use(transaction).select().order_by(Test.id.desc()).limit(1)[0]\n            print(t.id, t.data, t.count)\n            t.count += 1\n            await t.use(transaction).save()\n\n            async for i in Test.use(transaction).select().order_by(Test.id.desc()).limit(2):\n                print(i.id, i.data)\n\n            print(\"\")\n            t = await Test.use(transaction).create(data=\"test\", created_at=datetime.datetime.now(), updated_at=datetime.datetime.now())\n            print(t.id, t.data)\n\n            async for i in Test.select().order_by(Test.id.desc()).limit(2):\n                print(i.id, i.data)\n\n            print(\"\")\n            for i in (await Test.use(transaction).select().order_by(Test.id.desc()).limit(2)):\n                print(i.id, i.data)\n\n        print(\"\")\n        print(\"\")\n\n        await run_transaction()\n\n    loop = asyncio.get_event_loop()\n    loop.run_until_complete(run())\n\nLicense\n=======\n\ntorpeewee uses the MIT license, see LICENSE file for the details.\n\n.. |Build Status| image:: https://travis-ci.org/snower/torpeewee.svg?branch=master\n   :target: https://travis-ci.org/snower/torpeewee", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/snower/torpeewee", "keywords": "tornado", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "torpeewee", "package_url": "https://pypi.org/project/torpeewee/", "platform": "", "project_url": "https://pypi.org/project/torpeewee/", "project_urls": {"Homepage": "https://github.com/snower/torpeewee"}, "release_url": "https://pypi.org/project/torpeewee/1.0.1/", "requires_dist": null, "requires_python": "", "summary": "Tornado and asyncio asynchronous ORM by peewee", "version": "1.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"torpeewee\">\n<h2>torpeewee</h2>\n<p><a href=\"https://travis-ci.org/snower/torpeewee\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4ff2378b8162839a1f85887a47bd20a44bb878a8/68747470733a2f2f7472617669732d63692e6f72672f736e6f7765722f746f727065657765652e7376673f6272616e63683d6d6173746572\"></a></p>\n<p>Tornado and asyncio asynchronous ORM by peewee</p>\n</div>\n<div id=\"about\">\n<h2>About</h2>\n<p>torpeewee - Tornado and asyncio asynchronous ORM by peewee.</p>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>pip install torpeewee\n</pre>\n</div>\n<div id=\"examples\">\n<h2>Examples</h2>\n<pre><span class=\"c1\"># -*- coding: utf-8 -*-</span>\n<span class=\"c1\"># 16/7/7</span>\n<span class=\"c1\"># create by: snower</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">datetime</span>\n<span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">from</span> <span class=\"nn\">torpeewee</span> <span class=\"kn\">import</span> <span class=\"o\">*</span>\n\n<span class=\"n\">db</span> <span class=\"o\">=</span> <span class=\"n\">MySQLDatabase</span><span class=\"p\">(</span><span class=\"s2\">\"test\"</span><span class=\"p\">,</span> <span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s2\">\"127.0.0.1\"</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">3306</span><span class=\"p\">,</span> <span class=\"n\">user</span><span class=\"o\">=</span><span class=\"s2\">\"root\"</span><span class=\"p\">,</span> <span class=\"n\">passwd</span><span class=\"o\">=</span><span class=\"s2\">\"123456\"</span><span class=\"p\">)</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">BaseModel</span><span class=\"p\">(</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"k\">class</span> <span class=\"nc\">Meta</span><span class=\"p\">:</span>\n        <span class=\"n\">database</span> <span class=\"o\">=</span> <span class=\"n\">db</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Test</span><span class=\"p\">(</span><span class=\"n\">BaseModel</span><span class=\"p\">):</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">IntegerField</span><span class=\"p\">(</span><span class=\"n\">primary_key</span><span class=\"o\">=</span> <span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">64</span><span class=\"p\">,</span> <span class=\"n\">null</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n    <span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"n\">IntegerField</span><span class=\"p\">(</span><span class=\"n\">default</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n    <span class=\"n\">created_at</span> <span class=\"o\">=</span> <span class=\"n\">DateTimeField</span><span class=\"p\">()</span>\n    <span class=\"n\">updated_at</span> <span class=\"o\">=</span> <span class=\"n\">DateTimeField</span><span class=\"p\">()</span>\n\n<span class=\"nd\">@db</span><span class=\"o\">.</span><span class=\"n\">transaction</span><span class=\"p\">()</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">run_transaction</span><span class=\"p\">(</span><span class=\"n\">transaction</span><span class=\"p\">):</span>\n    <span class=\"k\">async</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">use</span><span class=\"p\">(</span><span class=\"n\">transaction</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n    <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">use</span><span class=\"p\">(</span><span class=\"n\">transaction</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"s2\">\"test\"</span><span class=\"p\">,</span> <span class=\"n\">created_at</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">(),</span>\n                                           <span class=\"n\">updated_at</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">())</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n    <span class=\"k\">async</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"p\">(</span><span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">use</span><span class=\"p\">(</span><span class=\"n\">transaction</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">run</span><span class=\"p\">():</span>\n    <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">==</span> <span class=\"mi\">5</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">first</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span>\n\n    <span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">&gt;</span> <span class=\"mi\">5</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span>\n\n    <span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">&gt;</span> <span class=\"mi\">5</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">group_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span>\n\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"p\">(</span><span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span> <span class=\"o\">&gt;</span> <span class=\"mi\">5</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">&lt;=</span><span class=\"mi\">10</span><span class=\"p\">)):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n    <span class=\"k\">async</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n    <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"s2\">\"test\"</span><span class=\"p\">,</span> <span class=\"n\">created_at</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">(),</span> <span class=\"n\">updated_at</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">())</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n    <span class=\"k\">async</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n\n    <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">)</span>\n    <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">count</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n    <span class=\"k\">await</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n    <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">)</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n\n    <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"k\">await</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">transaction</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">transaction</span><span class=\"p\">:</span>\n        <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">use</span><span class=\"p\">(</span><span class=\"n\">transaction</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">)</span>\n        <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">count</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n        <span class=\"k\">await</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">use</span><span class=\"p\">(</span><span class=\"n\">transaction</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n\n        <span class=\"k\">async</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">use</span><span class=\"p\">(</span><span class=\"n\">transaction</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">):</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n        <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">use</span><span class=\"p\">(</span><span class=\"n\">transaction</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"s2\">\"test\"</span><span class=\"p\">,</span> <span class=\"n\">created_at</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">(),</span> <span class=\"n\">updated_at</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">())</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n        <span class=\"k\">async</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">):</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n        <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"p\">(</span><span class=\"k\">await</span> <span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">use</span><span class=\"p\">(</span><span class=\"n\">transaction</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">order_by</span><span class=\"p\">(</span><span class=\"n\">Test</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"o\">.</span><span class=\"n\">desc</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)):</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n\n    <span class=\"k\">await</span> <span class=\"n\">run_transaction</span><span class=\"p\">()</span>\n\n<span class=\"n\">loop</span> <span class=\"o\">=</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">get_event_loop</span><span class=\"p\">()</span>\n<span class=\"n\">loop</span><span class=\"o\">.</span><span class=\"n\">run_until_complete</span><span class=\"p\">(</span><span class=\"n\">run</span><span class=\"p\">())</span>\n</pre>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>torpeewee uses the MIT license, see LICENSE file for the details.</p>\n</div>\n\n          </div>"}, "last_serial": 3886599, "releases": {"0.0.1": [], "0.0.3": [{"comment_text": "", "digests": {"md5": "505d448ba087f00cab6593946bef3300", "sha256": "fc67bc43f15853ce50e5249228c33ed8f6656cb986bc99a131166790ca397b46"}, "downloads": -1, "filename": "torpeewee-0.0.3.tar.gz", "has_sig": false, "md5_digest": "505d448ba087f00cab6593946bef3300", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10864, "upload_time": "2016-11-07T08:10:49", "upload_time_iso_8601": "2016-11-07T08:10:49.394594Z", "url": "https://files.pythonhosted.org/packages/6d/78/050043680e9d27b8373c7abd7b7b14cd826fbbc00d5a04e9a38fdaaeff81/torpeewee-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "12c1cdf8e0d4586ed05737a8199f9a33", "sha256": "128cf8835d95907b1660b375d6f52a890c67321788573d99225d6bb96d0538bf"}, "downloads": -1, "filename": "torpeewee-0.0.4.tar.gz", "has_sig": false, "md5_digest": "12c1cdf8e0d4586ed05737a8199f9a33", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11222, "upload_time": "2017-01-17T05:12:14", "upload_time_iso_8601": "2017-01-17T05:12:14.095568Z", "url": "https://files.pythonhosted.org/packages/51/d1/2dc0fc721e09d4ba7320acb69c5360806d483ae37ad8afc51f16073b8460/torpeewee-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "4afb43d48cbdf64cc1423bb48d85e676", "sha256": "3d562292cc274dac16dd4c3d00ce06714429e830125f0c51377f45128da7d307"}, "downloads": -1, "filename": "torpeewee-0.0.5.tar.gz", "has_sig": false, "md5_digest": "4afb43d48cbdf64cc1423bb48d85e676", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11337, "upload_time": "2017-03-23T06:54:31", "upload_time_iso_8601": "2017-03-23T06:54:31.160709Z", "url": "https://files.pythonhosted.org/packages/dd/d0/26f3527631faf114ba90b2e1245dadbbd697fcff06cdbac5a28e758604d2/torpeewee-0.0.5.tar.gz", "yanked": false}], "0.0.6": [{"comment_text": "", "digests": {"md5": "046dd976b3dc4f0c32e797b44e1a9324", "sha256": "2a868f0b05c9dc2ab6137e2b861bc95fb3373a4813269d52e54bbdb972484fdf"}, "downloads": -1, "filename": "torpeewee-0.0.6.tar.gz", "has_sig": false, "md5_digest": "046dd976b3dc4f0c32e797b44e1a9324", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11398, "upload_time": "2018-03-13T08:19:05", "upload_time_iso_8601": "2018-03-13T08:19:05.530951Z", "url": "https://files.pythonhosted.org/packages/dd/ec/316a6b888b13b4fa03035b1a543f4f37ec8a6b1e0cb84b2516f0c58345c5/torpeewee-0.0.6.tar.gz", "yanked": false}], "0.0.7": [{"comment_text": "", "digests": {"md5": "f2b5aee153636337018d84dccdb824f5", "sha256": "af7a26e1d8eaab0da1bd16d9396e51408ab14e149f7edd450a411df49c2ec388"}, "downloads": -1, "filename": "torpeewee-0.0.7.tar.gz", "has_sig": false, "md5_digest": "f2b5aee153636337018d84dccdb824f5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11477, "upload_time": "2018-04-28T09:48:02", "upload_time_iso_8601": "2018-04-28T09:48:02.012171Z", "url": "https://files.pythonhosted.org/packages/1d/13/390a4664e9781a75f4a176c5ce911530a740e9f079c530a6e71d81cd57ce/torpeewee-0.0.7.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "19b156e53c43d93c06d677d4d92aa5a8", "sha256": "b60a50f6a429d30b7d75c3bbda267bbdf2596e52ebe76ce1f72246671ebb01e5"}, "downloads": -1, "filename": "torpeewee-1.0.1.tar.gz", "has_sig": false, "md5_digest": "19b156e53c43d93c06d677d4d92aa5a8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10917, "upload_time": "2018-05-22T07:28:49", "upload_time_iso_8601": "2018-05-22T07:28:49.272140Z", "url": "https://files.pythonhosted.org/packages/69/91/8b6e4963482a0e84aa9e9a25e167aa1e0ab6262ab0b3e1cee02f74552e34/torpeewee-1.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "19b156e53c43d93c06d677d4d92aa5a8", "sha256": "b60a50f6a429d30b7d75c3bbda267bbdf2596e52ebe76ce1f72246671ebb01e5"}, "downloads": -1, "filename": "torpeewee-1.0.1.tar.gz", "has_sig": false, "md5_digest": "19b156e53c43d93c06d677d4d92aa5a8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10917, "upload_time": "2018-05-22T07:28:49", "upload_time_iso_8601": "2018-05-22T07:28:49.272140Z", "url": "https://files.pythonhosted.org/packages/69/91/8b6e4963482a0e84aa9e9a25e167aa1e0ab6262ab0b3e1cee02f74552e34/torpeewee-1.0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:49:43 2020"}
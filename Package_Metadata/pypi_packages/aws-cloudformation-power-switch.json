{"info": {"author": "Mark van Holsteijn", "author_email": "mark@binx.io", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Console", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Operating System :: MacOS", "Operating System :: Microsoft :: Windows", "Operating System :: POSIX", "Operating System :: Unix", "Programming Language :: Python", "Programming Language :: Python :: 3", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# AWS CloudFormation power switch\nAWS CloudFormation power switch allows you to shutdown and startup all EC2, RDS and AutoScaling instances managed\nby one or more CloudFormation stacks.\n\n## install the power switch\nto install the power switch, type:\n\n```sh\npip install aws-cloudformation-power-switch\n```\n\n## shutdown\nto shutdown all instances managed by CloudFormation stacks starting with the name `dev`, type:\n```sh\ncfn-power-switch --dry-run --stack-name-prefix dev on\n```\nThis will show you which EC2, RDS and AutoScaling instances will be shutdown. For Auto Scaling groups, the \ndesired number of instances is set to 0. If the minimum is greater than 0, it will change the minimum setting too.\n\n## startup`\nto startup all instances managed by a CloudFormation stacks starting with the name `dev`, type:\n```sh\ncfn-power-switch --dry-run --stack-name-prefix dev off\n```\nThis will show you which EC2, RDS and AutoScaling instances will be started. The AutoScaling desired number of \ninstances will be set the maximum desired instances. Remove the `--dry-run` and it will be activated.\n\n\n## deploy the power switch\nTo deploy the power switch as an AWS Lambda, type:\n\n```sh\ngit clone https://github.com/binxio/aws-cloudformation-power-switch.git\ncd aws-cloudformation-power-switch.git\naws cloudformation deploy \\\n\t--capabilities CAPABILITY_IAM \\\n\t--stack-name aws-cloudformation-power-switch \\\n\t--template-file ./cloudformation/aws-cloudformation-power-switch.yaml\n```\n\n## Demo\ninstall the demonstration, type:\n```\naws cloudformation deploy \\\n\t--capabilities CAPABILITY_IAM \\\n\t--stack-name aws-cloudformation-power-switch-demo \\\n\t--template-file ./cloudformation/demo-stack.yaml\n```\nThis deploy an ec2 instance, an autoscaling group and a RDS MySQL database instance, It will shutdown down all EC2, RDS and Auto Scaling instances managed by CloudFormation stacks starting with the name `dev` at 23:30 and start them backup at 7:30 in the morning.\n\nTo manual stop all the instance, type:\n```\ncfn-power-switch --verbose --stack-name-prefix aws-cloudformation-power-switch off\n```\nIt will take few minutes before everything is shutdown and you can restart the stack.\n\nto start everything back up, type:\n```\ncfn-power-switch --verbose --stack-name-prefix aws-cloudformation-power-switch off\n```\nIt will take few minutes before everything is running again.\n\nDo not forget to delete the stack:\n```\naws cloudformation delete-stack --stack-name aws-cloudformation-power-switch-demo\n```\n\n## Caveats\n- The power switch will only start instances in `stopped` state`, and stop instances in the `available` or `running` state. If it is transitioning between states, no action is taken.\n- As CloudFormation does not place the `aws:cloudformation:` tags on RDS Aurora Clusters, we need to load all CloudFormation stacks and resources to find out whether we need to start or stop it. And listing all CloudFormation stacks is very, very slow...", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/binxio/aws-cloudformation-power-switch", "keywords": "", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "aws-cloudformation-power-switch", "package_url": "https://pypi.org/project/aws-cloudformation-power-switch/", "platform": "any", "project_url": "https://pypi.org/project/aws-cloudformation-power-switch/", "project_urls": {"Homepage": "https://github.com/binxio/aws-cloudformation-power-switch"}, "release_url": "https://pypi.org/project/aws-cloudformation-power-switch/0.1.11/", "requires_dist": null, "requires_python": "", "summary": "shutdown and startup AWS CloudFormation EC2 and RDS instances", "version": "0.1.11", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>AWS CloudFormation power switch</h1>\n<p>AWS CloudFormation power switch allows you to shutdown and startup all EC2, RDS and AutoScaling instances managed\nby one or more CloudFormation stacks.</p>\n<h2>install the power switch</h2>\n<p>to install the power switch, type:</p>\n<pre>pip install aws-cloudformation-power-switch\n</pre>\n<h2>shutdown</h2>\n<p>to shutdown all instances managed by CloudFormation stacks starting with the name <code>dev</code>, type:</p>\n<pre>cfn-power-switch --dry-run --stack-name-prefix dev on\n</pre>\n<p>This will show you which EC2, RDS and AutoScaling instances will be shutdown. For Auto Scaling groups, the\ndesired number of instances is set to 0. If the minimum is greater than 0, it will change the minimum setting too.</p>\n<h2>startup`</h2>\n<p>to startup all instances managed by a CloudFormation stacks starting with the name <code>dev</code>, type:</p>\n<pre>cfn-power-switch --dry-run --stack-name-prefix dev off\n</pre>\n<p>This will show you which EC2, RDS and AutoScaling instances will be started. The AutoScaling desired number of\ninstances will be set the maximum desired instances. Remove the <code>--dry-run</code> and it will be activated.</p>\n<h2>deploy the power switch</h2>\n<p>To deploy the power switch as an AWS Lambda, type:</p>\n<pre>git clone https://github.com/binxio/aws-cloudformation-power-switch.git\n<span class=\"nb\">cd</span> aws-cloudformation-power-switch.git\naws cloudformation deploy <span class=\"se\">\\</span>\n\t--capabilities CAPABILITY_IAM <span class=\"se\">\\</span>\n\t--stack-name aws-cloudformation-power-switch <span class=\"se\">\\</span>\n\t--template-file ./cloudformation/aws-cloudformation-power-switch.yaml\n</pre>\n<h2>Demo</h2>\n<p>install the demonstration, type:</p>\n<pre><code>aws cloudformation deploy \\\n\t--capabilities CAPABILITY_IAM \\\n\t--stack-name aws-cloudformation-power-switch-demo \\\n\t--template-file ./cloudformation/demo-stack.yaml\n</code></pre>\n<p>This deploy an ec2 instance, an autoscaling group and a RDS MySQL database instance, It will shutdown down all EC2, RDS and Auto Scaling instances managed by CloudFormation stacks starting with the name <code>dev</code> at 23:30 and start them backup at 7:30 in the morning.</p>\n<p>To manual stop all the instance, type:</p>\n<pre><code>cfn-power-switch --verbose --stack-name-prefix aws-cloudformation-power-switch off\n</code></pre>\n<p>It will take few minutes before everything is shutdown and you can restart the stack.</p>\n<p>to start everything back up, type:</p>\n<pre><code>cfn-power-switch --verbose --stack-name-prefix aws-cloudformation-power-switch off\n</code></pre>\n<p>It will take few minutes before everything is running again.</p>\n<p>Do not forget to delete the stack:</p>\n<pre><code>aws cloudformation delete-stack --stack-name aws-cloudformation-power-switch-demo\n</code></pre>\n<h2>Caveats</h2>\n<ul>\n<li>The power switch will only start instances in <code>stopped</code> state<code>, and stop instances in the</code>available<code>or</code>running` state. If it is transitioning between states, no action is taken.</li>\n<li>As CloudFormation does not place the <code>aws:cloudformation:</code> tags on RDS Aurora Clusters, we need to load all CloudFormation stacks and resources to find out whether we need to start or stop it. And listing all CloudFormation stacks is very, very slow...</li>\n</ul>\n\n          </div>"}, "last_serial": 6338557, "releases": {"0.1.11": [{"comment_text": "", "digests": {"md5": "fe5e8a32f1adcdd248eba8d21c7961e3", "sha256": "654b332ce560ae15d69a605c9c6f8196d2ae88b7267bb911a04f711bdbb74659"}, "downloads": -1, "filename": "aws-cloudformation-power-switch-0.1.11.tar.gz", "has_sig": false, "md5_digest": "fe5e8a32f1adcdd248eba8d21c7961e3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7588, "upload_time": "2019-12-20T11:56:33", "upload_time_iso_8601": "2019-12-20T11:56:33.250742Z", "url": "https://files.pythonhosted.org/packages/8e/21/422172e41f35cf58fe98be301c9cbc91f413af841d8d9f799888a437f1c4/aws-cloudformation-power-switch-0.1.11.tar.gz", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "ceb7ca3291a4dfc32dc202b8e4c9e6ae", "sha256": "bb5947b681916e42adca6c15e407ce516566e8648433bb44a8726656904daa2c"}, "downloads": -1, "filename": "aws-cloudformation-power-switch-0.1.4.tar.gz", "has_sig": false, "md5_digest": "ceb7ca3291a4dfc32dc202b8e4c9e6ae", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5972, "upload_time": "2019-12-18T11:49:49", "upload_time_iso_8601": "2019-12-18T11:49:49.988560Z", "url": "https://files.pythonhosted.org/packages/ce/4b/1a8e139d9836e370f19bb266c5f0366a8c94ea0acdbe56eb95ef3117812a/aws-cloudformation-power-switch-0.1.4.tar.gz", "yanked": false}], "0.1.5": [{"comment_text": "", "digests": {"md5": "bfdf1ab3e4b6a1cb545ed12b25e1a04f", "sha256": "3ac5ebfa5745d54f73f73b5211ef3c98b56e0ff48909d598c3c564f999a4e1cf"}, "downloads": -1, "filename": "aws-cloudformation-power-switch-0.1.5.tar.gz", "has_sig": false, "md5_digest": "bfdf1ab3e4b6a1cb545ed12b25e1a04f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5976, "upload_time": "2019-12-18T12:32:04", "upload_time_iso_8601": "2019-12-18T12:32:04.598001Z", "url": "https://files.pythonhosted.org/packages/f1/4a/bad466828d9ba63a38b630ef3639a97a0b3e08926c27d59ed8a91e612124/aws-cloudformation-power-switch-0.1.5.tar.gz", "yanked": false}], "0.1.8": [{"comment_text": "", "digests": {"md5": "7903eba24f83aa8f2e3464dbdc2e12fa", "sha256": "0a3d2faebf51518c4c0dd46916b637503f45fe2fb1775a25f3a4a9a7babaa434"}, "downloads": -1, "filename": "aws-cloudformation-power-switch-0.1.8.tar.gz", "has_sig": false, "md5_digest": "7903eba24f83aa8f2e3464dbdc2e12fa", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6025, "upload_time": "2019-12-19T09:57:32", "upload_time_iso_8601": "2019-12-19T09:57:32.546789Z", "url": "https://files.pythonhosted.org/packages/b7/0e/f7db6fc30851b284845ac9426cbc8ceae338cfd0b2002ab1873cd924771d/aws-cloudformation-power-switch-0.1.8.tar.gz", "yanked": false}], "0.1.9": [{"comment_text": "", "digests": {"md5": "cef3cdc861462e965e89829869e2f02b", "sha256": "410ba11fe072cb1e0e3fad2871a2f7f7a7c75d4937b30320f27a3761dd14704e"}, "downloads": -1, "filename": "aws-cloudformation-power-switch-0.1.9.tar.gz", "has_sig": false, "md5_digest": "cef3cdc861462e965e89829869e2f02b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6265, "upload_time": "2019-12-19T10:49:21", "upload_time_iso_8601": "2019-12-19T10:49:21.841064Z", "url": "https://files.pythonhosted.org/packages/20/cf/5840bcc008e89d73a1b945b774448386197ae18ba314e45287a026c3414a/aws-cloudformation-power-switch-0.1.9.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "fe5e8a32f1adcdd248eba8d21c7961e3", "sha256": "654b332ce560ae15d69a605c9c6f8196d2ae88b7267bb911a04f711bdbb74659"}, "downloads": -1, "filename": "aws-cloudformation-power-switch-0.1.11.tar.gz", "has_sig": false, "md5_digest": "fe5e8a32f1adcdd248eba8d21c7961e3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7588, "upload_time": "2019-12-20T11:56:33", "upload_time_iso_8601": "2019-12-20T11:56:33.250742Z", "url": "https://files.pythonhosted.org/packages/8e/21/422172e41f35cf58fe98be301c9cbc91f413af841d8d9f799888a437f1c4/aws-cloudformation-power-switch-0.1.11.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:15:42 2020"}
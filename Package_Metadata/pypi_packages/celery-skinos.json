{"info": {"author": "di-dip-unistra", "author_email": "di-dip@unistra.fr", "bugtrack_url": null, "classifiers": [], "description": "# Celery Skinos\n\nCustom consumer for celery integration.\n\n## Usage\n\n```PYTHON\nfrom skinos.custom_consumer import CustomConsumer\n```\n\n### Define a new exchange\n\ndefined a new exchange with a name and a binding key (always a topic).\nThe exchanhge name must be unique.\n\n```PYTHON\n# add_exchange(str, str) -> Exchange\nCustomConsumer.add_exchange('test', \"test.*.*\")\n```\n\n\n### Define a new task\n\nDefine a new message handler \n\ndecoration take 3 arguments:\n\n- exchange name (must be defined)\n- queue name (must be defined)\n- queue binding key\n\n\nFunction but have this prototype: `(str, Message) -> Any`\n- `body` is the payload \n- `msg` is the message object (kombu.transport.myamqp.Message)\n\n\n```PYTHON\n# consumer(str, str, str) -> Callable[[str, Message], Any]\n@CustomConsumer.consumer('test', 'test.test', 'test.test.*')\ndef coucou(body, msg):\n    print('payload content : {}'.format(body))\n    print('message object content : {}'.format(msg))\n```\n\n### Build consumers for Celery integration\n\nBuild consumers itself. all previous methods are just a pre-configuration for this build.\nIt take one argument, which is the Celery app.\n```PYTHON\n# build(Celery) -> None\nCustomConsumer.build(app)\n```\n\n### Add Sentry handler\n\nYou must init Sentry normally for a Celery project.\nThen Skinos is able to catch exception and send it sentry.\n\nset sentry to True and set raise to False (i.e: if error occur, error is not re-raise, but ignored)\nif you don't use it, default values are False and False\n\n```\n# with_sentry(bool, bool) -> Tuple(bool, bool)\nCustomConsumer.with_sentry(False, False)\n```\n\n### Run celery\n\nRun celery normally\n\n\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "celery,AMQP,unistra,Universit\u00e9 de Strasbourg", "license": "PSF", "maintainer": "di-dip-unistra", "maintainer_email": "di-dip@unistra.fr", "name": "celery-skinos", "package_url": "https://pypi.org/project/celery-skinos/", "platform": "", "project_url": "https://pypi.org/project/celery-skinos/", "project_urls": null, "release_url": "https://pypi.org/project/celery-skinos/0.2.5/", "requires_dist": ["celery (>=4.2.0)", "sentry-sdk (>=0.8)"], "requires_python": "", "summary": "", "version": "0.2.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Celery Skinos</h1>\n<p>Custom consumer for celery integration.</p>\n<h2>Usage</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">skinos.custom_consumer</span> <span class=\"kn\">import</span> <span class=\"n\">CustomConsumer</span>\n</pre>\n<h3>Define a new exchange</h3>\n<p>defined a new exchange with a name and a binding key (always a topic).\nThe exchanhge name must be unique.</p>\n<pre><span class=\"c1\"># add_exchange(str, str) -&gt; Exchange</span>\n<span class=\"n\">CustomConsumer</span><span class=\"o\">.</span><span class=\"n\">add_exchange</span><span class=\"p\">(</span><span class=\"s1\">'test'</span><span class=\"p\">,</span> <span class=\"s2\">\"test.*.*\"</span><span class=\"p\">)</span>\n</pre>\n<h3>Define a new task</h3>\n<p>Define a new message handler</p>\n<p>decoration take 3 arguments:</p>\n<ul>\n<li>exchange name (must be defined)</li>\n<li>queue name (must be defined)</li>\n<li>queue binding key</li>\n</ul>\n<p>Function but have this prototype: <code>(str, Message) -&gt; Any</code></p>\n<ul>\n<li><code>body</code> is the payload</li>\n<li><code>msg</code> is the message object (kombu.transport.myamqp.Message)</li>\n</ul>\n<pre><span class=\"c1\"># consumer(str, str, str) -&gt; Callable[[str, Message], Any]</span>\n<span class=\"nd\">@CustomConsumer</span><span class=\"o\">.</span><span class=\"n\">consumer</span><span class=\"p\">(</span><span class=\"s1\">'test'</span><span class=\"p\">,</span> <span class=\"s1\">'test.test'</span><span class=\"p\">,</span> <span class=\"s1\">'test.test.*'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">coucou</span><span class=\"p\">(</span><span class=\"n\">body</span><span class=\"p\">,</span> <span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'payload content : </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">body</span><span class=\"p\">))</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'message object content : </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">))</span>\n</pre>\n<h3>Build consumers for Celery integration</h3>\n<p>Build consumers itself. all previous methods are just a pre-configuration for this build.\nIt take one argument, which is the Celery app.</p>\n<pre><span class=\"c1\"># build(Celery) -&gt; None</span>\n<span class=\"n\">CustomConsumer</span><span class=\"o\">.</span><span class=\"n\">build</span><span class=\"p\">(</span><span class=\"n\">app</span><span class=\"p\">)</span>\n</pre>\n<h3>Add Sentry handler</h3>\n<p>You must init Sentry normally for a Celery project.\nThen Skinos is able to catch exception and send it sentry.</p>\n<p>set sentry to True and set raise to False (i.e: if error occur, error is not re-raise, but ignored)\nif you don't use it, default values are False and False</p>\n<pre><code># with_sentry(bool, bool) -&gt; Tuple(bool, bool)\nCustomConsumer.with_sentry(False, False)\n</code></pre>\n<h3>Run celery</h3>\n<p>Run celery normally</p>\n\n          </div>"}, "last_serial": 6017205, "releases": {"0.2.1": [{"comment_text": "", "digests": {"md5": "172fb3b78e84dd750087341183da8835", "sha256": "4f14f1f3c5329bfcb7fa30de36c81417e67935f0e202f05db6941b7c93f00b38"}, "downloads": -1, "filename": "celery_skinos-0.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "172fb3b78e84dd750087341183da8835", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7169, "upload_time": "2019-06-06T12:16:45", "upload_time_iso_8601": "2019-06-06T12:16:45.524327Z", "url": "https://files.pythonhosted.org/packages/f4/0c/015dfe49015e2c8ca3678e5249e3c8621ed10fd09cff8c71b70ab019b7f6/celery_skinos-0.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c3197d02f833c12f3d44f1a09bc9fe70", "sha256": "60d813f87537793dd16b23c29deff62a63e288c0b77d19dd9924c201c89f72eb"}, "downloads": -1, "filename": "celery-skinos-0.2.1.tar.gz", "has_sig": false, "md5_digest": "c3197d02f833c12f3d44f1a09bc9fe70", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5730, "upload_time": "2019-06-06T12:12:43", "upload_time_iso_8601": "2019-06-06T12:12:43.375953Z", "url": "https://files.pythonhosted.org/packages/c7/6f/4e16cc24f7b70440a2057749feb68df4e659cbea22611e3ef0ca32206465/celery-skinos-0.2.1.tar.gz", "yanked": false}], "0.2.1a0": [{"comment_text": "", "digests": {"md5": "2368932166f79272ad63e842c8544dd4", "sha256": "84bde246aa760b12f0604bd1e90c1732966d137b9f4065a056c5649446afca20"}, "downloads": -1, "filename": "celery_skinos-0.2.1a0-py3-none-any.whl", "has_sig": false, "md5_digest": "2368932166f79272ad63e842c8544dd4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7189, "upload_time": "2019-06-06T12:18:16", "upload_time_iso_8601": "2019-06-06T12:18:16.970291Z", "url": "https://files.pythonhosted.org/packages/10/ab/31cb49a97ad52e3948cb61284456f27860c8908ef3951e92ce419bedc9c8/celery_skinos-0.2.1a0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9cb1a5a7c6935c7d9297b82df9b0ba69", "sha256": "87d0b5d25c25783b2d7117b330588f030dded919fd79bad3b39d607787f6bb86"}, "downloads": -1, "filename": "celery-skinos-0.2.1a0.tar.gz", "has_sig": false, "md5_digest": "9cb1a5a7c6935c7d9297b82df9b0ba69", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5740, "upload_time": "2019-06-06T12:18:18", "upload_time_iso_8601": "2019-06-06T12:18:18.472331Z", "url": "https://files.pythonhosted.org/packages/3f/ee/e07f0de1e870e9d7d6efaae960acfb8c999b8170ef00d7d47552f7c1499b/celery-skinos-0.2.1a0.tar.gz", "yanked": false}], "0.2.2": [{"comment_text": "", "digests": {"md5": "aa98474e7e27b9fdde4584ac05c1e883", "sha256": "ccec1fd6c0d272bce006ce49145c871fefb031f9999f6329adcaf4c56030b920"}, "downloads": -1, "filename": "celery_skinos-0.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "aa98474e7e27b9fdde4584ac05c1e883", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7171, "upload_time": "2019-06-06T12:26:47", "upload_time_iso_8601": "2019-06-06T12:26:47.404003Z", "url": "https://files.pythonhosted.org/packages/bf/f8/3e8b88a9249c24e17c5618e6835ba72434a9eebe57bbf0d1071465b61196/celery_skinos-0.2.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4237c0474ccf743474f2a292908aef01", "sha256": "8bf689f2c34f68ab549e1b18271053235eba2f8797f99b9e79648a160c2066c1"}, "downloads": -1, "filename": "celery-skinos-0.2.2.tar.gz", "has_sig": false, "md5_digest": "4237c0474ccf743474f2a292908aef01", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5728, "upload_time": "2019-06-06T12:26:48", "upload_time_iso_8601": "2019-06-06T12:26:48.843766Z", "url": "https://files.pythonhosted.org/packages/ae/46/efc61bc8cdb8df982f6c8aa8ae23d56540216750dbcb55fd3b4ae5071bf6/celery-skinos-0.2.2.tar.gz", "yanked": false}], "0.2.3": [{"comment_text": "", "digests": {"md5": "0ac4aa695651e0edd34e99774d2909bd", "sha256": "357d183556a30eb8a0f6f1b0088ecf01585793ed3e593235c8cda8717ee0167e"}, "downloads": -1, "filename": "celery_skinos-0.2.3-py3-none-any.whl", "has_sig": false, "md5_digest": "0ac4aa695651e0edd34e99774d2909bd", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7194, "upload_time": "2019-06-07T07:18:18", "upload_time_iso_8601": "2019-06-07T07:18:18.609102Z", "url": "https://files.pythonhosted.org/packages/95/97/4968924612447a9d46f70d6656ba4132111274ffd7fc8452df7aa6940270/celery_skinos-0.2.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "dd6933186c287bf8463850adac830575", "sha256": "55f49f2621dc48d6a55c36b4c7ecf4d6d3a9e405718e4d12838af0f56ed0d694"}, "downloads": -1, "filename": "celery-skinos-0.2.3.tar.gz", "has_sig": false, "md5_digest": "dd6933186c287bf8463850adac830575", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5752, "upload_time": "2019-06-07T07:18:19", "upload_time_iso_8601": "2019-06-07T07:18:19.795130Z", "url": "https://files.pythonhosted.org/packages/0b/6c/966f0163fd6bcf0ab2e9cdb40bdbe46612902cf438a37a59b11aee973861/celery-skinos-0.2.3.tar.gz", "yanked": false}], "0.2.4": [{"comment_text": "", "digests": {"md5": "ecec0786c0e879e5b9d2db7648e16c26", "sha256": "1ba3ca1c782c65495bb3e8eb6cef325fcb9a570eb82a4d241a33ec64131cbb13"}, "downloads": -1, "filename": "celery_skinos-0.2.4-py3-none-any.whl", "has_sig": false, "md5_digest": "ecec0786c0e879e5b9d2db7648e16c26", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7206, "upload_time": "2019-10-22T13:49:54", "upload_time_iso_8601": "2019-10-22T13:49:54.340949Z", "url": "https://files.pythonhosted.org/packages/22/52/c3050ff2e2d35d43ee7e01b9c137f409befcc75db406d38cbe477590a27a/celery_skinos-0.2.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "667150c504ec795dca8e84f4ce7c4f5a", "sha256": "f1b92457b416cc8c6c289fc75ddef54c42cca4beaff69a916555b8315b5a3e8c"}, "downloads": -1, "filename": "celery-skinos-0.2.4.tar.gz", "has_sig": false, "md5_digest": "667150c504ec795dca8e84f4ce7c4f5a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5760, "upload_time": "2019-10-22T13:49:56", "upload_time_iso_8601": "2019-10-22T13:49:56.479463Z", "url": "https://files.pythonhosted.org/packages/52/25/41671f2d33ced724ed513ea14f89adfa1db1a715fc38421be46e9396cffe/celery-skinos-0.2.4.tar.gz", "yanked": false}], "0.2.5": [{"comment_text": "", "digests": {"md5": "9bb79a46a8470fa6ee1403e48ff47dee", "sha256": "0cd51c09bb5e161f11781a6533ca71ba619328b59f08023c35af43d1c208c97d"}, "downloads": -1, "filename": "celery_skinos-0.2.5-py3-none-any.whl", "has_sig": false, "md5_digest": "9bb79a46a8470fa6ee1403e48ff47dee", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7245, "upload_time": "2019-10-23T08:03:49", "upload_time_iso_8601": "2019-10-23T08:03:49.026781Z", "url": "https://files.pythonhosted.org/packages/57/af/fb26717369a699b421aa735060bca2d65197b34960132d288f798b921f08/celery_skinos-0.2.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "80533e7bb48098632f201ddd9e19dc2b", "sha256": "90cf02028e517c712fbb0e00915da7fb5f606ff0652aa723f9fb54ca79330bab"}, "downloads": -1, "filename": "celery-skinos-0.2.5.tar.gz", "has_sig": false, "md5_digest": "80533e7bb48098632f201ddd9e19dc2b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5813, "upload_time": "2019-10-23T08:03:51", "upload_time_iso_8601": "2019-10-23T08:03:51.438671Z", "url": "https://files.pythonhosted.org/packages/8d/09/8b365f2dda19b993714c3f2d52fa36d28b0aacfdbb3553925fbbd6f1076c/celery-skinos-0.2.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "9bb79a46a8470fa6ee1403e48ff47dee", "sha256": "0cd51c09bb5e161f11781a6533ca71ba619328b59f08023c35af43d1c208c97d"}, "downloads": -1, "filename": "celery_skinos-0.2.5-py3-none-any.whl", "has_sig": false, "md5_digest": "9bb79a46a8470fa6ee1403e48ff47dee", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 7245, "upload_time": "2019-10-23T08:03:49", "upload_time_iso_8601": "2019-10-23T08:03:49.026781Z", "url": "https://files.pythonhosted.org/packages/57/af/fb26717369a699b421aa735060bca2d65197b34960132d288f798b921f08/celery_skinos-0.2.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "80533e7bb48098632f201ddd9e19dc2b", "sha256": "90cf02028e517c712fbb0e00915da7fb5f606ff0652aa723f9fb54ca79330bab"}, "downloads": -1, "filename": "celery-skinos-0.2.5.tar.gz", "has_sig": false, "md5_digest": "80533e7bb48098632f201ddd9e19dc2b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5813, "upload_time": "2019-10-23T08:03:51", "upload_time_iso_8601": "2019-10-23T08:03:51.438671Z", "url": "https://files.pythonhosted.org/packages/8d/09/8b365f2dda19b993714c3f2d52fa36d28b0aacfdbb3553925fbbd6f1076c/celery-skinos-0.2.5.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:34:51 2020"}
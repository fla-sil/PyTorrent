{"info": {"author": "Eric Hugoson", "author_email": "eric@hugoson.org", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Environment :: Console", "Intended Audience :: Science/Research", "License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Scientific/Engineering :: Bio-Informatics"], "description": "==============\n**miComplete**\n==============\n\n- Eric Hugoson (eric@hugoson.org / hugoson@evolbio.mpg.de / @EricHugo)\n- Lionel Guy (guy.lionel@gmail.com / lionel.guy@imbim.uu.se / @LionelGuy)\n \n\nIntroduction\n----------------\nWith the increasing rate of the production of genomics data, particularly metagenomic data, there is need for more and faster quality control of resulting assembled genomes. An increasing usage of\nmetagenome assembled genomes (MAGs) means often working with incomplete genomes, which can be acceptable provided the researcher is aware of this. Therefore there is a clear use for software\nable to rapidly and accurately provide the stats that describe the quality and completeness of the genomes or genomic bins of interest.\n\nmiComplete allows a user to provide a list of genomes or genomic bins to retrieve some basic statistics regarding the given genomes (size, GC-content, total number of CDS and contigs, as well as N- and L50, N- and L90). Further a set of marker genes\nin HMM format can be provided to also retrieve completeness and redundancy of those markers in each genome. Additionally, a set of weights for the marker genes can be provided to also retrieve the\nweighted versions of completeness and redundancy which can inform the user a bit more of the actual state completeness (see description). Alternatively, the user can calculate new weights for any given set\nof marker genes provided.\n\nmiComplete is still in a state of development, bugs may be encountered. Feedback, bug reports, and feature requests are welcome through Bitbucket's\n`issue system <https://bitbucket.org/evolegiolab/micomplete/issues>`_.\n\nmiComplete has been used in several publications:\n\n#. [MartijnEtAl_2015]_\n#. [SpangEtAl_2015]_\n#. [MartijnEtAl_2018]_\n\n\nDescription\n--------------\nmiComplete is a compact software aimed at rapidly and accurately determining of the quality of assembled genomes, often metagenome assembled bins. miComplete also aims at providing a more reliable completeness and redundancy\nmetric via a system of weighting the impact of different marker genes presence or absence differently.\n\nCompleteness\n^^^^^^^^^^^^^^^\nIn miComplete completeness is calculated based on the presence/absence a set of marker genes provided as a set of HMMs. The presence or absence of the marker genes is determined by HMMER3 (see dependencies)\nif the hit reported is below the cutoff e-value provided as well as passing the bias check. Redundancy is reported as the fraction duplicated markers of all markers. In similar software such as CheckM\nthis is reported as Contamination by percentage. E.g. 6% contamination in CheckM is equivalent to 1.06 redundancy in miComplete.\n\nWeights\n^^^^^^^^^^^\nBecause not all marker genes are equal in determining the completeness of a genome. Some genes associate closely together within a genome (particularly genes organised into operons), and thus viewing two genes that typically\nassociate together within an operon as providing the same completeness information as two unrelated genes could be profoundly misleading. miComplete is able to calculate a weighted version of completeness and redundancy\nthat attempts to factor in how closely the provided marker genes typically associate with other provided marker genes.\n\nLinkage\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\nWeights can be calculated for any given set of marker genes in miComplete. This is can be done by a user by providing a set of reference genomes (note that these need to be single contig chromosomes).\nThe reference genomes can be any set that the user wishes, but as general rule the larger and more diverse number of genomes the better weights. At the end of the run a violin plot of the distribution of\nweights for all markers is produced along with a file of the relative weights to be used in future runs.\n\n\nDependencies\n--------------\nPython (>=3.5)\n\n\nExternal software\n^^^^^^^^^^^^^^^^^^^\nExecutables should be available in the user's ``$PATH``.\n\nHMMER3\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\nHMMER: biosequence analysis using profile hidden Markov models, by Sean Eddy and coworkers. Tested with v. 3.1b2. Available from <http://hmmer.org/>.\n\nprodigal\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\nA gene prediction software by Doug Hyatt. Tested with v. 2.6.3. Download at:\n<https://github.com/hyattpd/Prodigal>\n\nPython libraries\n^^^^^^^^^^^^^^^^^^^\nIf built from the package these will be installed automatically, otherwise can easily be installed using ``pip`` (`Install pip <https://pip.pypa.io/en/stable/installing/>`_).\n\nRequired\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\n- Biopython (>= 1.70) (``$ pip install biopython``)\n- Numpy (>= 1.13.1) (``$ pip install numpy``)\n- Matplotlib (>= 2.0.2) (``$ pip install matplotlib``)\n\nNote: *matplotlib* as implemented requires a user interface. By default it uses *Tkinter*, which can be installed via your systems package manager. Also note that there may be a specific Tkinter for Python 2 and 3 respectively, ensure that you install the one for Python3. If you need more help, consult the `TkDocs <https://tkdocs.com/tutorial/install.html>`_.\nTo instead alter backend used follow `these instructions <http://matplotlib.org/faq/usage_faq.html#what-is-a-backend>`_.\n\n\nInstallation\n--------------\n\nPython3\n^^^^^^^\nMost current distributions of GNU/Linux should have Python3.X installed natively. If your particular distribution does not have Python3 installed already, you should be able to install it\nvia your distrubion's package manager (e.g. apt/yum/zypper). If not, you should consider upgrading as Python2 is being sunset 2020, but if you cannot then you can still download any version\nfrom Python's website: `here <https://www.python.org/downloads/>`_.\n\nVirtual environment\n^^^^^^^^^^^^^^^^^^^\n\nTo avoid breaking system services or other projects which may depend on a specific version of some packages it can be a good idea to install miComplete and its dependencies in a virtual environment. Initialise using python builtin venv::\n\n    $ python3 -m venv micomplete\n    $ source micomplete/bin/activate\n\nNow the virtual environment is activated, and miComplete along with all its dependencies can safely be installed via pip from within the virtual environment, as shown below.\n\nPython package\n^^^^^^^^^^^^^^^^^^^\n\nmiComplete can easily be installed along with all python dependencies::\n\n   $ pip install micomplete\n\nAssuming that the python bin is in your ``$PATH``, can then be run as::\n\n   $ miComplete\n\nGit\n^^^^^^^^^^^^^^^^^^^\n\n1. Choose an appropriate location, e.g. your home::\n\n   $ cd $HOME\n\n2. Clone the latest version of the repository::\n\n   $ git clone http://bitbucket.org/evolegiolab/micomplete.git\n\n3. Create symlink to some directory in your ``$PATH`` (in this example ``$HOME/bin``)::\n\n   $ cd micomplete\n   $ ls micomplete\n   $ ln -s $(realpath micomplete/micomplete.py) $HOME/bin/miComplete\n\n4. Optionally, add the folder ``micomplete`` in your ``PATH``. The scripts should be kept at their original location.\n\nUsage\n--------------\n\nPositional arguments\n^^^^^^^^^^^^^^^^^^^^^^^\n::\n\n   A file of sequence(s) along with type (fna, faa, gbk) provided in a tabular format\n\nThe file has to contain per line both a path (relative or absolute) to a genomic file as well as the type separated by a tab. Optionally it can also be given a custom name separately from the filename in a third column::\n\n   /seq/genomic_sources/legionella_pneumophila.gbk   gbk\n   /seq/genomic_sources/coxiella_burnetii.fna fna\n   /seq/genomic_sources/e_coli.fna   fna    MG1655_reference\n   (...)\n\nOptional arguments\n^^^^^^^^^^^^^^^^^^^^^^^^\n\n   -h, --help          show help message and exit\n   --format FORMAT\n                       Options: fna|faa|gbk. This argument should be used when a single sequence file is given in place of tabulated file of sequences. The argument should be followed by the format of the sequence.\n   --hlist             Write list of Present, Absent and Duplicated markers for each organism to file\n   --hmms HMMS         Specifies a set of HMMs to be used for completeness check or linkage analysis. The default sets, \"Bact105\" and \"Arch131\", can be called via their respective names.\n   --weights WEIGHTS   Specify a set of weights for the HMMs specified. The default sets, \"Bact105\" and \"Arch131\", can be called via their respective names.\n   --linkage           Specifies that the provided sequences should be used to calculate the weights of the provided HMMs\n   --lenient           By default miComplete drops hits with too high bias or too low best domain score. This argument disables that behaviour, permitting any hit that meets the evalue requirements.\n   --linkage-cutoff    Cutoff fraction of the entire fasta which needs to be contained in a single contig in order to be included in linkage calculations. Disabling this is likely to result in some erroneous calculations.\n   --evalue EVALUE     Specify e-value cutoff to be used for completeness check. Default = 4e-10\n   --bias BIAS         Specify the bias cutoff as a fraction of score defined by hammer. Default = 0.3\n   --domain-cutoff     Specify the largest allowed difference between best domain evalue and protein evalue. Default = 1e-5\n   --cutoff CUTOFF     Specify cutoff percentage of markers required to be present in genome for it be included in linkage calculation. Default = 0.9\n   --threads THREADS   Specify number of threads to be used in parallel. Default = 1\n   --log LOG           Log name. Default = miComplete.log\n   -v, --verbose       Enable verbose logging.\n   --debug             Debug logging.\n   --version           Returns miComplete version and exits\n   -o, --outfile OUTFILE    Name of outfile can be specified with this argument. By default prints to stdout.\n\nExamples\n^^^^^^^^^^^^^^^^^^^^^^^^\nIn a folder containing one or several FASTA files with '.fna' extensions, create a sequence tab file. Here it is best to avoid relative paths unless you know you will be running miComplete from the same relative directory. A correctly formatted input tab file can be created by hand or using a small utility script included with miComplete::\n\n   $ find $(realpath .) -maxdepth 1 -type f -name \"*.fna\" | miCompletelist.sh > test_set.tab\n\nmiComplete_list.sh automatically detects valid extensions and adds the extension to the second column of the file, as miComplete expects. Note: .fasta and .fa are not considered valid extension as it is ambiguous whether they contain nucleotide- or amino acid sequence. Convert to .fna or .faa as appropriate.\n\nSequence tab file, test_set.tab::\n\n   $ cat test_set.tab\n    /seq/genomic_sources/legionella_longbeachae.fna  fna\n    /seq/genomic_sources/coxiella_burnetii.fna   fna\n    /seq/genomic_sources/coxiella-like_endosymbiont.fna  fna\n\nExample 1 - Basic stats\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\nThis example merely produces basic information about the given sequences::\n\n   $ miComplete test_set.tab\n    ## miComplete\n    ## v1.1.0\n    Name\tLength\tGC-content\tContigs\tCDS\tN50\tL50\tN90\tL90\t\n    legionella_longbeachae\t4149158\t37.13\t2\t3549\t4077332\t1\t4077332\t1\t\n    coxiella_burnetii\t2032807\t42.6\t2\t2058\t1995488\t1\t1995488\t1\t\n    coxiella-like_endosymbiont\t1733840\t38.17\t1\t1968\t1733840\t1\t1733840\t1\n   \nmiComplete prints result to stdout in tabular format, this can favourably be redirected towards a file with a pipe and examined with spreadsheet reader. ::\n\n   $ miComplete test_set.tab > results.tab\n\nAlternatively, if we only have a single genome/genomic bin to investigate there is no need to create a sequence_tab file, as long as we provide the ``--format`` argument to inform miComplete of what file format to expect::\n\n   $ miComplete legionella_longbeachae.fna --format fna\n    ## miComplete\n    ## v1.1.0\n    Name\tLength\tGC-content\tContigs\tCDS\tN50\tL50\tN90\tL90\t\n    legionella_longbeachae\t4149158\t37.13\t2\t3549\t4077332\t1\t4077332\t1\n\nThis way of investigating a single genome is compatible with all subsequent examples' options.\n\nExample 2 - Completeness\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\nThis example will produce the same basic statistics, but also completeness and redundancy::\n\n   $ miComplete test_set.tab --hmms Bact105\n    ## miComplete\n    ## v1.1.0\n    Name\tLength\tGC-content\tPresent Markers\tCompleteness\tRedundancy\tContigs\tCDS\tN50\tL50\tN90\tL90\t\n    legionella_longbeachae\t4149158\t37.13\t105\t1.0000\t1.0095\t2\t3549\t4077332\t1\t4077332\t1\t\n    coxiella_burnetii\t2032807\t42.6\t105\t1.0000\t1.0000\t2\t2058\t1995488\t1\t1995488\t1\t\n    coxiella-like_endosymbiont\t1733840\t38.17\t102\t0.9714\t1.0686\t1\t1968\t1733840\t1\t1733840\t1\n\n   \nThat is great, but the run time is starting to increase significantly primarily due to needing to translate three genomes to proteomes.\nWe can speed up the process by running all three parallel with ``--threads 3``::\n\n   $ miComplete test_set.tab --hmms Bact105 --threads 3 > results.tab\n   \nExample 3 - Weighted completeness\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\nThis example will also produce the weighted completeness::\n\n   $ miComplete test_set.tab --hmms Bact105 --weights Bact105\n    ## miComplete\n    ## v1.1.0\n    ## Weights:\t/home/hugoson/.local/lib/python3.7/site-packages/micomplete/share/Bact105.weights\n    ## Weights Standard deviation:\t0.13917826966028532\n    Name\tLength\tGC-content\tPresent Markers\tCompleteness\tRedundancy\tWeighted completeness\tWeighted redundancy\tContigs\tCDS\tN50\tL50\tN90\tL90\t\n    legionella_longbeachae\t4149158\t37.13\t105\t1.0000\t1.0095\t1.0\t1.0151\t2\t3549\t4077332\t1\t4077332\t1\t\n    coxiella_burnetii\t2032807\t42.6\t105\t1.0000\t1.0000\t1.0\t1.0\t2\t2058\t1995488\t1\t1995488\t1\t\n    coxiella-like_endosymbiont\t1733840\t38.17\t102\t0.9714\t1.0686\t0.9476\t1.0855\t1\t1968\t1733840\t1\t1733840\t1\n\nExample 4 - Creating weights\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\n\nFinally we will create our own set of weights given a set of marker genes for which we do not already have weights. In this example only three bacteria from the same order are used to create weights. Generally one should create weights with as a large number of well distributed (or at least as widely distributed as the data you intend to use the weights for) genomes::\n\n   $ miComplete test_set.tab --hmms Bact105 --linkage --threads 4 > Bact105.weights\n\nAlso produces a violin plot of the distribution of weights for each marker gene.\n\nReferences\n----------------\n\n.. [MartijnEtAl_2015] Martijn J, Schulz F, Zaremba-Niedzwiedzka K, Viklund J, Stepanauskas R, Andersson SG, Horn M, Guy L, Ettema TJG. Single-cell genomics of a rare environmental alphaproteobacterium provides unique insights into Rickettsiaceae evolution. ISME J. 2015 Nov;9(11):2373-85. doi: https://doi.org/10.1038/ismej.2015.46\n\n.. [SpangEtAl_2015] Spang A, Saw JH, J\u00f8rgensen SL, Zaremba-Niedzwiedzka K, Martijn J, Lind AE, van Eijk R, Schleper C, Guy L, Ettema TJG. Complex archaea that bridge the gap between prokaryotes and eukaryote. Nature. 2015 May 14;521(7551):173-179. doi: https://doi.org/10.1038/nature14447\n\n.. [MartijnEtAl_2018] Martijn J, Vosseberg J, Guy L, Offre P, Ettema TJG. Deep mitochondrial origin outside the sampled alphaproteobacteria. Nature. 2018 May;557(7703):101-105. doi: https://doi.org/10.1038/s41586-018-0059-5", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://bitbucket.org/evolegiolab/micomplete", "keywords": "bioinformatics completeness metagenomics", "license": "GNU General Public License v3 or later (G  PLv3+)", "maintainer": "", "maintainer_email": "", "name": "micomplete", "package_url": "https://pypi.org/project/micomplete/", "platform": "", "project_url": "https://pypi.org/project/micomplete/", "project_urls": {"Homepage": "https://bitbucket.org/evolegiolab/micomplete"}, "release_url": "https://pypi.org/project/micomplete/1.1.1/", "requires_dist": null, "requires_python": "", "summary": "Quality control of assembled genomes", "version": "1.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <ul>\n<li>Eric Hugoson (<a href=\"mailto:eric%40hugoson.org\">eric<span>@</span>hugoson<span>.</span>org</a> / <a href=\"mailto:hugoson%40evolbio.mpg.de\">hugoson<span>@</span>evolbio<span>.</span>mpg<span>.</span>de</a> / @EricHugo)</li>\n<li>Lionel Guy (<a href=\"mailto:guy.lionel%40gmail.com\">guy<span>.</span>lionel<span>@</span>gmail<span>.</span>com</a> / <a href=\"mailto:lionel.guy%40imbim.uu.se\">lionel<span>.</span>guy<span>@</span>imbim<span>.</span>uu<span>.</span>se</a> / @LionelGuy)</li>\n</ul>\n<div id=\"introduction\">\n<h2>Introduction</h2>\n<p>With the increasing rate of the production of genomics data, particularly metagenomic data, there is need for more and faster quality control of resulting assembled genomes. An increasing usage of\nmetagenome assembled genomes (MAGs) means often working with incomplete genomes, which can be acceptable provided the researcher is aware of this. Therefore there is a clear use for software\nable to rapidly and accurately provide the stats that describe the quality and completeness of the genomes or genomic bins of interest.</p>\n<p>miComplete allows a user to provide a list of genomes or genomic bins to retrieve some basic statistics regarding the given genomes (size, GC-content, total number of CDS and contigs, as well as N- and L50, N- and L90). Further a set of marker genes\nin HMM format can be provided to also retrieve completeness and redundancy of those markers in each genome. Additionally, a set of weights for the marker genes can be provided to also retrieve the\nweighted versions of completeness and redundancy which can inform the user a bit more of the actual state completeness (see description). Alternatively, the user can calculate new weights for any given set\nof marker genes provided.</p>\n<p>miComplete is still in a state of development, bugs may be encountered. Feedback, bug reports, and feature requests are welcome through Bitbucket\u2019s\n<a href=\"https://bitbucket.org/evolegiolab/micomplete/issues\" rel=\"nofollow\">issue system</a>.</p>\n<p>miComplete has been used in several publications:</p>\n<ol>\n<li><a href=\"#martijnetal-2015\" id=\"id1\" rel=\"nofollow\">[MartijnEtAl_2015]</a></li>\n<li><a href=\"#spangetal-2015\" id=\"id2\" rel=\"nofollow\">[SpangEtAl_2015]</a></li>\n<li><a href=\"#martijnetal-2018\" id=\"id3\" rel=\"nofollow\">[MartijnEtAl_2018]</a></li>\n</ol>\n</div>\n<div id=\"description\">\n<h2>Description</h2>\n<p>miComplete is a compact software aimed at rapidly and accurately determining of the quality of assembled genomes, often metagenome assembled bins. miComplete also aims at providing a more reliable completeness and redundancy\nmetric via a system of weighting the impact of different marker genes presence or absence differently.</p>\n<div id=\"completeness\">\n<h3>Completeness</h3>\n<p>In miComplete completeness is calculated based on the presence/absence a set of marker genes provided as a set of HMMs. The presence or absence of the marker genes is determined by HMMER3 (see dependencies)\nif the hit reported is below the cutoff e-value provided as well as passing the bias check. Redundancy is reported as the fraction duplicated markers of all markers. In similar software such as CheckM\nthis is reported as Contamination by percentage. E.g. 6% contamination in CheckM is equivalent to 1.06 redundancy in miComplete.</p>\n</div>\n<div id=\"weights\">\n<h3>Weights</h3>\n<p>Because not all marker genes are equal in determining the completeness of a genome. Some genes associate closely together within a genome (particularly genes organised into operons), and thus viewing two genes that typically\nassociate together within an operon as providing the same completeness information as two unrelated genes could be profoundly misleading. miComplete is able to calculate a weighted version of completeness and redundancy\nthat attempts to factor in how closely the provided marker genes typically associate with other provided marker genes.</p>\n<div id=\"linkage\">\n<h4>Linkage</h4>\n<p>Weights can be calculated for any given set of marker genes in miComplete. This is can be done by a user by providing a set of reference genomes (note that these need to be single contig chromosomes).\nThe reference genomes can be any set that the user wishes, but as general rule the larger and more diverse number of genomes the better weights. At the end of the run a violin plot of the distribution of\nweights for all markers is produced along with a file of the relative weights to be used in future runs.</p>\n</div>\n</div>\n</div>\n<div id=\"dependencies\">\n<h2>Dependencies</h2>\n<p>Python (&gt;=3.5)</p>\n<div id=\"external-software\">\n<h3>External software</h3>\n<p>Executables should be available in the user\u2019s <tt>$PATH</tt>.</p>\n<div id=\"hmmer3\">\n<h4>HMMER3</h4>\n<p>HMMER: biosequence analysis using profile hidden Markov models, by Sean Eddy and coworkers. Tested with v. 3.1b2. Available from &lt;<a href=\"http://hmmer.org/\" rel=\"nofollow\">http://hmmer.org/</a>&gt;.</p>\n</div>\n<div id=\"prodigal\">\n<h4>prodigal</h4>\n<p>A gene prediction software by Doug Hyatt. Tested with v. 2.6.3. Download at:\n&lt;<a href=\"https://github.com/hyattpd/Prodigal\" rel=\"nofollow\">https://github.com/hyattpd/Prodigal</a>&gt;</p>\n</div>\n</div>\n<div id=\"python-libraries\">\n<h3>Python libraries</h3>\n<p>If built from the package these will be installed automatically, otherwise can easily be installed using <tt>pip</tt> (<a href=\"https://pip.pypa.io/en/stable/installing/\" rel=\"nofollow\">Install pip</a>).</p>\n<div id=\"required\">\n<h4>Required</h4>\n<ul>\n<li>Biopython (&gt;= 1.70) (<tt>$ pip install biopython</tt>)</li>\n<li>Numpy (&gt;= 1.13.1) (<tt>$ pip install numpy</tt>)</li>\n<li>Matplotlib (&gt;= 2.0.2) (<tt>$ pip install matplotlib</tt>)</li>\n</ul>\n<p>Note: <em>matplotlib</em> as implemented requires a user interface. By default it uses <em>Tkinter</em>, which can be installed via your systems package manager. Also note that there may be a specific Tkinter for Python 2 and 3 respectively, ensure that you install the one for Python3. If you need more help, consult the <a href=\"https://tkdocs.com/tutorial/install.html\" rel=\"nofollow\">TkDocs</a>.\nTo instead alter backend used follow <a href=\"http://matplotlib.org/faq/usage_faq.html#what-is-a-backend\" rel=\"nofollow\">these instructions</a>.</p>\n</div>\n</div>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<div id=\"python3\">\n<h3>Python3</h3>\n<p>Most current distributions of GNU/Linux should have Python3.X installed natively. If your particular distribution does not have Python3 installed already, you should be able to install it\nvia your distrubion\u2019s package manager (e.g. apt/yum/zypper). If not, you should consider upgrading as Python2 is being sunset 2020, but if you cannot then you can still download any version\nfrom Python\u2019s website: <a href=\"https://www.python.org/downloads/\" rel=\"nofollow\">here</a>.</p>\n</div>\n<div id=\"virtual-environment\">\n<h3>Virtual environment</h3>\n<p>To avoid breaking system services or other projects which may depend on a specific version of some packages it can be a good idea to install miComplete and its dependencies in a virtual environment. Initialise using python builtin venv:</p>\n<pre>$ python3 -m venv micomplete\n$ source micomplete/bin/activate\n</pre>\n<p>Now the virtual environment is activated, and miComplete along with all its dependencies can safely be installed via pip from within the virtual environment, as shown below.</p>\n</div>\n<div id=\"python-package\">\n<h3>Python package</h3>\n<p>miComplete can easily be installed along with all python dependencies:</p>\n<pre>$ pip install micomplete\n</pre>\n<p>Assuming that the python bin is in your <tt>$PATH</tt>, can then be run as:</p>\n<pre>$ miComplete\n</pre>\n</div>\n<div id=\"git\">\n<h3>Git</h3>\n<ol>\n<li><p>Choose an appropriate location, e.g. your home:</p>\n<pre>$ cd $HOME\n</pre>\n</li>\n<li><p>Clone the latest version of the repository:</p>\n<pre>$ git clone http://bitbucket.org/evolegiolab/micomplete.git\n</pre>\n</li>\n<li><p>Create symlink to some directory in your <tt>$PATH</tt> (in this example <tt>$HOME/bin</tt>):</p>\n<pre>$ cd micomplete\n$ ls micomplete\n$ ln -s $(realpath micomplete/micomplete.py) $HOME/bin/miComplete\n</pre>\n</li>\n<li><p>Optionally, add the folder <tt>micomplete</tt> in your <tt>PATH</tt>. The scripts should be kept at their original location.</p>\n</li>\n</ol>\n</div>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<div id=\"positional-arguments\">\n<h3>Positional arguments</h3>\n<pre>A file of sequence(s) along with type (fna, faa, gbk) provided in a tabular format\n</pre>\n<p>The file has to contain per line both a path (relative or absolute) to a genomic file as well as the type separated by a tab. Optionally it can also be given a custom name separately from the filename in a third column:</p>\n<pre>/seq/genomic_sources/legionella_pneumophila.gbk   gbk\n/seq/genomic_sources/coxiella_burnetii.fna fna\n/seq/genomic_sources/e_coli.fna   fna    MG1655_reference\n(...)\n</pre>\n</div>\n<div id=\"optional-arguments\">\n<h3>Optional arguments</h3>\n<blockquote>\n<table>\n<col>\n<col>\n<tbody>\n<tr><td>\n<kbd><span class=\"option\">-h</span>, <span class=\"option\">--help</span></kbd></td>\n<td>show help message and exit</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--format <var>FORMAT</var></span></kbd></td>\n</tr>\n<tr><td>\u00a0</td><td>Options: fna|faa|gbk. This argument should be used when a single sequence file is given in place of tabulated file of sequences. The argument should be followed by the format of the sequence.</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--hlist</span></kbd></td>\n<td>Write list of Present, Absent and Duplicated markers for each organism to file</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--hmms <var>HMMS</var></span></kbd></td>\n<td>Specifies a set of HMMs to be used for completeness check or linkage analysis. The default sets, \u201cBact105\u201d and \u201cArch131\u201d, can be called via their respective names.</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--weights <var>WEIGHTS</var></span></kbd></td>\n</tr>\n<tr><td>\u00a0</td><td>Specify a set of weights for the HMMs specified. The default sets, \u201cBact105\u201d and \u201cArch131\u201d, can be called via their respective names.</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--linkage</span></kbd></td>\n<td>Specifies that the provided sequences should be used to calculate the weights of the provided HMMs</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--lenient</span></kbd></td>\n<td>By default miComplete drops hits with too high bias or too low best domain score. This argument disables that behaviour, permitting any hit that meets the evalue requirements.</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--linkage-cutoff</span></kbd></td>\n</tr>\n<tr><td>\u00a0</td><td>Cutoff fraction of the entire fasta which needs to be contained in a single contig in order to be included in linkage calculations. Disabling this is likely to result in some erroneous calculations.</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--evalue <var>EVALUE</var></span></kbd></td>\n</tr>\n<tr><td>\u00a0</td><td>Specify e-value cutoff to be used for completeness check. Default = 4e-10</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--bias <var>BIAS</var></span></kbd></td>\n<td>Specify the bias cutoff as a fraction of score defined by hammer. Default = 0.3</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--domain-cutoff</span></kbd></td>\n</tr>\n<tr><td>\u00a0</td><td>Specify the largest allowed difference between best domain evalue and protein evalue. Default = 1e-5</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--cutoff <var>CUTOFF</var></span></kbd></td>\n</tr>\n<tr><td>\u00a0</td><td>Specify cutoff percentage of markers required to be present in genome for it be included in linkage calculation. Default = 0.9</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--threads <var>THREADS</var></span></kbd></td>\n</tr>\n<tr><td>\u00a0</td><td>Specify number of threads to be used in parallel. Default = 1</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--log <var>LOG</var></span></kbd></td>\n<td>Log name. Default = miComplete.log</td></tr>\n<tr><td>\n<kbd><span class=\"option\">-v</span>, <span class=\"option\">--verbose</span></kbd></td>\n<td>Enable verbose logging.</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--debug</span></kbd></td>\n<td>Debug logging.</td></tr>\n<tr><td>\n<kbd><span class=\"option\">--version</span></kbd></td>\n<td>Returns miComplete version and exits</td></tr>\n<tr><td>\n<kbd><span class=\"option\">-o</span>, <span class=\"option\">--outfile <var>OUTFILE</var></span></kbd></td>\n</tr>\n<tr><td>\u00a0</td><td>Name of outfile can be specified with this argument. By default prints to stdout.</td></tr>\n</tbody>\n</table>\n</blockquote>\n</div>\n<div id=\"examples\">\n<h3>Examples</h3>\n<p>In a folder containing one or several FASTA files with \u2018.fna\u2019 extensions, create a sequence tab file. Here it is best to avoid relative paths unless you know you will be running miComplete from the same relative directory. A correctly formatted input tab file can be created by hand or using a small utility script included with miComplete:</p>\n<pre>$ find $(realpath .) -maxdepth 1 -type f -name \"*.fna\" | miCompletelist.sh &gt; test_set.tab\n</pre>\n<p>miComplete_list.sh automatically detects valid extensions and adds the extension to the second column of the file, as miComplete expects. Note: .fasta and .fa are not considered valid extension as it is ambiguous whether they contain nucleotide- or amino acid sequence. Convert to .fna or .faa as appropriate.</p>\n<p>Sequence tab file, test_set.tab:</p>\n<pre>$ cat test_set.tab\n /seq/genomic_sources/legionella_longbeachae.fna  fna\n /seq/genomic_sources/coxiella_burnetii.fna   fna\n /seq/genomic_sources/coxiella-like_endosymbiont.fna  fna\n</pre>\n<div id=\"example-1-basic-stats\">\n<h4>Example 1 - Basic stats</h4>\n<p>This example merely produces basic information about the given sequences:</p>\n<pre>$ miComplete test_set.tab\n ## miComplete\n ## v1.1.0\n Name        Length  GC-content      Contigs CDS     N50     L50     N90     L90\n legionella_longbeachae      4149158 37.13   2       3549    4077332 1       4077332 1\n coxiella_burnetii   2032807 42.6    2       2058    1995488 1       1995488 1\n coxiella-like_endosymbiont  1733840 38.17   1       1968    1733840 1       1733840 1\n</pre>\n<p>miComplete prints result to stdout in tabular format, this can favourably be redirected towards a file with a pipe and examined with spreadsheet reader.</p>\n<pre>$ miComplete test_set.tab &gt; results.tab\n</pre>\n<p>Alternatively, if we only have a single genome/genomic bin to investigate there is no need to create a sequence_tab file, as long as we provide the <tt><span class=\"pre\">--format</span></tt> argument to inform miComplete of what file format to expect:</p>\n<pre>$ miComplete legionella_longbeachae.fna --format fna\n ## miComplete\n ## v1.1.0\n Name        Length  GC-content      Contigs CDS     N50     L50     N90     L90\n legionella_longbeachae      4149158 37.13   2       3549    4077332 1       4077332 1\n</pre>\n<p>This way of investigating a single genome is compatible with all subsequent examples\u2019 options.</p>\n</div>\n<div id=\"example-2-completeness\">\n<h4>Example 2 - Completeness</h4>\n<p>This example will produce the same basic statistics, but also completeness and redundancy:</p>\n<pre>$ miComplete test_set.tab --hmms Bact105\n ## miComplete\n ## v1.1.0\n Name        Length  GC-content      Present Markers Completeness    Redundancy      Contigs CDS     N50     L50     N90     L90\n legionella_longbeachae      4149158 37.13   105     1.0000  1.0095  2       3549    4077332 1       4077332 1\n coxiella_burnetii   2032807 42.6    105     1.0000  1.0000  2       2058    1995488 1       1995488 1\n coxiella-like_endosymbiont  1733840 38.17   102     0.9714  1.0686  1       1968    1733840 1       1733840 1\n</pre>\n<p>That is great, but the run time is starting to increase significantly primarily due to needing to translate three genomes to proteomes.\nWe can speed up the process by running all three parallel with <tt><span class=\"pre\">--threads</span> 3</tt>:</p>\n<pre>$ miComplete test_set.tab --hmms Bact105 --threads 3 &gt; results.tab\n</pre>\n</div>\n<div id=\"example-3-weighted-completeness\">\n<h4>Example 3 - Weighted completeness</h4>\n<p>This example will also produce the weighted completeness:</p>\n<pre>$ miComplete test_set.tab --hmms Bact105 --weights Bact105\n ## miComplete\n ## v1.1.0\n ## Weights: /home/hugoson/.local/lib/python3.7/site-packages/micomplete/share/Bact105.weights\n ## Weights Standard deviation:      0.13917826966028532\n Name        Length  GC-content      Present Markers Completeness    Redundancy      Weighted completeness   Weighted redundancy     Contigs CDS     N50     L50     N90     L90\n legionella_longbeachae      4149158 37.13   105     1.0000  1.0095  1.0     1.0151  2       3549    4077332 1       4077332 1\n coxiella_burnetii   2032807 42.6    105     1.0000  1.0000  1.0     1.0     2       2058    1995488 1       1995488 1\n coxiella-like_endosymbiont  1733840 38.17   102     0.9714  1.0686  0.9476  1.0855  1       1968    1733840 1       1733840 1\n</pre>\n</div>\n<div id=\"example-4-creating-weights\">\n<h4>Example 4 - Creating weights</h4>\n<p>Finally we will create our own set of weights given a set of marker genes for which we do not already have weights. In this example only three bacteria from the same order are used to create weights. Generally one should create weights with as a large number of well distributed (or at least as widely distributed as the data you intend to use the weights for) genomes:</p>\n<pre>$ miComplete test_set.tab --hmms Bact105 --linkage --threads 4 &gt; Bact105.weights\n</pre>\n<p>Also produces a violin plot of the distribution of weights for each marker gene.</p>\n</div>\n</div>\n</div>\n<div id=\"references\">\n<h2>References</h2>\n<table id=\"martijnetal-2015\">\n<col><col>\n<tbody>\n<tr><td><a href=\"#id1\" rel=\"nofollow\">[MartijnEtAl_2015]</a></td><td>Martijn J, Schulz F, Zaremba-Niedzwiedzka K, Viklund J, Stepanauskas R, Andersson SG, Horn M, Guy L, Ettema TJG. Single-cell genomics of a rare environmental alphaproteobacterium provides unique insights into Rickettsiaceae evolution. ISME J. 2015 Nov;9(11):2373-85. doi: <a href=\"https://doi.org/10.1038/ismej.2015.46\" rel=\"nofollow\">https://doi.org/10.1038/ismej.2015.46</a></td></tr>\n</tbody>\n</table>\n<table id=\"spangetal-2015\">\n<col><col>\n<tbody>\n<tr><td><a href=\"#id2\" rel=\"nofollow\">[SpangEtAl_2015]</a></td><td>Spang A, Saw JH, J\u00f8rgensen SL, Zaremba-Niedzwiedzka K, Martijn J, Lind AE, van Eijk R, Schleper C, Guy L, Ettema TJG. Complex archaea that bridge the gap between prokaryotes and eukaryote. Nature. 2015 May 14;521(7551):173-179. doi: <a href=\"https://doi.org/10.1038/nature14447\" rel=\"nofollow\">https://doi.org/10.1038/nature14447</a></td></tr>\n</tbody>\n</table>\n<table id=\"martijnetal-2018\">\n<col><col>\n<tbody>\n<tr><td><a href=\"#id3\" rel=\"nofollow\">[MartijnEtAl_2018]</a></td><td>Martijn J, Vosseberg J, Guy L, Offre P, Ettema TJG. Deep mitochondrial origin outside the sampled alphaproteobacteria. Nature. 2018 May;557(7703):101-105. doi: <a href=\"https://doi.org/10.1038/s41586-018-0059-5\" rel=\"nofollow\">https://doi.org/10.1038/s41586-018-0059-5</a></td></tr>\n</tbody>\n</table>\n</div>\n\n          </div>"}, "last_serial": 5584026, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "d6b80cc569e899819fd5a28d08861acf", "sha256": "937412558ebe705e79e281deed0f6a74603ab7b6c839d503e26c787190631a67"}, "downloads": -1, "filename": "micomplete-0.1.tar.gz", "has_sig": false, "md5_digest": "d6b80cc569e899819fd5a28d08861acf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14600158, "upload_time": "2017-07-29T23:05:28", "upload_time_iso_8601": "2017-07-29T23:05:28.743014Z", "url": "https://files.pythonhosted.org/packages/75/5e/4511555002ee96c6c4a80da5c1eadff24431360f3678673e1febd3eff5bc/micomplete-0.1.tar.gz", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "b5de70438d6c5ab50b912e2bf7a7f639", "sha256": "aa1b02f19728e42d3981adc587f6375214fdd8800ec6130b83b6620b00647546"}, "downloads": -1, "filename": "micomplete-0.2.tar.gz", "has_sig": false, "md5_digest": "b5de70438d6c5ab50b912e2bf7a7f639", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14604817, "upload_time": "2017-09-04T15:07:56", "upload_time_iso_8601": "2017-09-04T15:07:56.215691Z", "url": "https://files.pythonhosted.org/packages/36/48/019a9263015967703bb05e8b9e7ad86cbc731a5e0787461d8533d132ed4e/micomplete-0.2.tar.gz", "yanked": false}], "0.5.0": [{"comment_text": "", "digests": {"md5": "ba09839143e65e2e550451e4ad7342df", "sha256": "60425a2d6039eac22024866c49d1a62865e20eb40c708562d8d496ce998d9170"}, "downloads": -1, "filename": "micomplete-0.5.0.tar.gz", "has_sig": false, "md5_digest": "ba09839143e65e2e550451e4ad7342df", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17838955, "upload_time": "2019-01-27T19:47:57", "upload_time_iso_8601": "2019-01-27T19:47:57.302953Z", "url": "https://files.pythonhosted.org/packages/58/bf/98d81102848dfae64a547d70219af04de83e08761edee5c79ebd883e5c03/micomplete-0.5.0.tar.gz", "yanked": false}], "0.5.1": [{"comment_text": "", "digests": {"md5": "85b17363b428769bb2e3eda027cf5b46", "sha256": "fd3ba8c6a2061f94f2bfa00887b8849c3f95226bba5d30c4465f40132d2b3434"}, "downloads": -1, "filename": "micomplete-0.5.1.tar.gz", "has_sig": false, "md5_digest": "85b17363b428769bb2e3eda027cf5b46", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17839171, "upload_time": "2019-01-28T16:45:43", "upload_time_iso_8601": "2019-01-28T16:45:43.677582Z", "url": "https://files.pythonhosted.org/packages/d8/f6/9c508abf2f504fcf8999af66217d0e7fd26c9114b24707bd11131cf64744/micomplete-0.5.1.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "249e217f8fac498e1dbdcd87274bd4c4", "sha256": "27be71e947f54b539f460fa11e8f43000a15c363514cf7289b0b67fc68ed17ef"}, "downloads": -1, "filename": "micomplete-1.0.0.tar.gz", "has_sig": false, "md5_digest": "249e217f8fac498e1dbdcd87274bd4c4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10618649, "upload_time": "2019-04-15T15:14:35", "upload_time_iso_8601": "2019-04-15T15:14:35.546698Z", "url": "https://files.pythonhosted.org/packages/dd/17/9d2bf83c37afd2be0cfef0cecfc7afa27bbfff802c771865a0274e16c58d/micomplete-1.0.0.tar.gz", "yanked": false}], "1.0.0rc1": [{"comment_text": "", "digests": {"md5": "c352d3bfedf74324d5b26f8f4a8dfa65", "sha256": "d1258ad82d2e77bb1226913bc81ebe92875d5edb25c05e4160b8cea2e66aa028"}, "downloads": -1, "filename": "micomplete-1.0.0rc1.tar.gz", "has_sig": false, "md5_digest": "c352d3bfedf74324d5b26f8f4a8dfa65", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17846737, "upload_time": "2019-03-08T18:48:59", "upload_time_iso_8601": "2019-03-08T18:48:59.871382Z", "url": "https://files.pythonhosted.org/packages/72/bc/1548ae90f9376e7e7fbc9f73508c8f128c37e931f8d62f25ffa5ee514183/micomplete-1.0.0rc1.tar.gz", "yanked": false}], "1.0.0rc2": [{"comment_text": "", "digests": {"md5": "5f88a1e7316e385247e3456d9bb9bfb7", "sha256": "5ee8607a40d34a042a099b7744fd11a48d8e84b4efacffe6529b9f8048448ef7"}, "downloads": -1, "filename": "micomplete-1.0.0rc2.tar.gz", "has_sig": false, "md5_digest": "5f88a1e7316e385247e3456d9bb9bfb7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17846772, "upload_time": "2019-03-09T13:32:35", "upload_time_iso_8601": "2019-03-09T13:32:35.247698Z", "url": "https://files.pythonhosted.org/packages/05/d8/e9e61ac7cc2fea1c79ca15574f3cc7732d85cb3435a8e595dbf5b6c3f24c/micomplete-1.0.0rc2.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "ca984e64f484a4fbdf420170bb84a99f", "sha256": "f55e3206ab3688b1c79701c36b05383ac547fee5009c9ce9b853eb346156d5e9"}, "downloads": -1, "filename": "micomplete-1.1.0.tar.gz", "has_sig": false, "md5_digest": "ca984e64f484a4fbdf420170bb84a99f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13449567, "upload_time": "2019-07-19T13:59:30", "upload_time_iso_8601": "2019-07-19T13:59:30.604604Z", "url": "https://files.pythonhosted.org/packages/a4/9a/6b23259edb88e2f5259d4ab7a64a9e238410232e3159f4bd06487fe0cb13/micomplete-1.1.0.tar.gz", "yanked": false}], "1.1.1": [{"comment_text": "", "digests": {"md5": "d996f52d77af498890ec4f327f6c660f", "sha256": "6fd2b6c4ec06c316799b19829c0b24944c367ae12be2658f1bc43becb78e0321"}, "downloads": -1, "filename": "micomplete-1.1.1.tar.gz", "has_sig": false, "md5_digest": "d996f52d77af498890ec4f327f6c660f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10619145, "upload_time": "2019-07-25T16:05:10", "upload_time_iso_8601": "2019-07-25T16:05:10.975643Z", "url": "https://files.pythonhosted.org/packages/13/59/d6306c3527cb4e200045c7217163355d54798685a81ad8228dcee19ad358/micomplete-1.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "d996f52d77af498890ec4f327f6c660f", "sha256": "6fd2b6c4ec06c316799b19829c0b24944c367ae12be2658f1bc43becb78e0321"}, "downloads": -1, "filename": "micomplete-1.1.1.tar.gz", "has_sig": false, "md5_digest": "d996f52d77af498890ec4f327f6c660f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10619145, "upload_time": "2019-07-25T16:05:10", "upload_time_iso_8601": "2019-07-25T16:05:10.975643Z", "url": "https://files.pythonhosted.org/packages/13/59/d6306c3527cb4e200045c7217163355d54798685a81ad8228dcee19ad358/micomplete-1.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:55:21 2020"}
{"info": {"author": "Zachary Cutlip", "author_email": "uid000@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "# `configure_with_sudo`\n\n## Description\n\nA Python module to handle executing system commands using sudo.\n\n## Usage\n\nExtend `GenericConfigure`, setting at a minimum an appropriate `argv` command & argument list.\n\n## Example\n\nThe following class will check if `pip` is installed and, if not, install it system-wide using `sudo easy_install pip`:\n\n```Python\nfrom configure_with_sudo import GenericConfigure\n\nclass InstallPip(GenericConfigure):\n\n    def __init__(self, kill_sudo_cred=True):\n        # Initial argv is simply to check if 'pip' is installed\n        argv = [\"/usr/local/bin/pip\", \"-V\"]\n        super(InstallPip, self).__init__(\n            argv, use_sudo=True, kill_sudo_cred=kill_sudo_cred)\n\n        try:\n            # Execute to check if pip is already installed\n            # if it is, self.configured will be set to True\n            # and subsequent calls to execute() will do nothing\n            self.execute(use_sudo=False)\n\n        except Exception:\n            # If pip -V failed, assume pip is not installed.\n            # Replace self.argv with the installation command.\n            self.argv = [\"/usr/bin/easy_install\", \"pip\"]\n\npip_installer = InstallPip()\npip_installer.execute()\n```\n\nThe following example will capture the output of `sudo ls -l /private/var/root`, and print it line-by-line:\n\n```Python\nclass DirectoryLister(GenericConfigure):\n\n    def __init__(self, path):\n        argv = [\"ls\", \"-l\", path]\n        super().__init__(argv, use_sudo=True)\n\npath = \"/private/var/root\"\nlister = DirectoryLister(path)\noutput = lister.execute(return_output=True)\n\nfor line in output:\n    print(line)\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/zcutlip/configure-with-sudo", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "configure-with-sudo", "package_url": "https://pypi.org/project/configure-with-sudo/", "platform": "", "project_url": "https://pypi.org/project/configure-with-sudo/", "project_urls": {"Homepage": "https://github.com/zcutlip/configure-with-sudo"}, "release_url": "https://pypi.org/project/configure-with-sudo/0.1.0.dev4/", "requires_dist": null, "requires_python": ">=2.7", "summary": "A Python class to handle executing system commands using sudo", "version": "0.1.0.dev4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1><code>configure_with_sudo</code></h1>\n<h2>Description</h2>\n<p>A Python module to handle executing system commands using sudo.</p>\n<h2>Usage</h2>\n<p>Extend <code>GenericConfigure</code>, setting at a minimum an appropriate <code>argv</code> command &amp; argument list.</p>\n<h2>Example</h2>\n<p>The following class will check if <code>pip</code> is installed and, if not, install it system-wide using <code>sudo easy_install pip</code>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">configure_with_sudo</span> <span class=\"kn\">import</span> <span class=\"n\">GenericConfigure</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">InstallPip</span><span class=\"p\">(</span><span class=\"n\">GenericConfigure</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">kill_sudo_cred</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n        <span class=\"c1\"># Initial argv is simply to check if 'pip' is installed</span>\n        <span class=\"n\">argv</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"/usr/local/bin/pip\"</span><span class=\"p\">,</span> <span class=\"s2\">\"-V\"</span><span class=\"p\">]</span>\n        <span class=\"nb\">super</span><span class=\"p\">(</span><span class=\"n\">InstallPip</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span>\n            <span class=\"n\">argv</span><span class=\"p\">,</span> <span class=\"n\">use_sudo</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">kill_sudo_cred</span><span class=\"o\">=</span><span class=\"n\">kill_sudo_cred</span><span class=\"p\">)</span>\n\n        <span class=\"k\">try</span><span class=\"p\">:</span>\n            <span class=\"c1\"># Execute to check if pip is already installed</span>\n            <span class=\"c1\"># if it is, self.configured will be set to True</span>\n            <span class=\"c1\"># and subsequent calls to execute() will do nothing</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">use_sudo</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n\n        <span class=\"k\">except</span> <span class=\"ne\">Exception</span><span class=\"p\">:</span>\n            <span class=\"c1\"># If pip -V failed, assume pip is not installed.</span>\n            <span class=\"c1\"># Replace self.argv with the installation command.</span>\n            <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">argv</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"/usr/bin/easy_install\"</span><span class=\"p\">,</span> <span class=\"s2\">\"pip\"</span><span class=\"p\">]</span>\n\n<span class=\"n\">pip_installer</span> <span class=\"o\">=</span> <span class=\"n\">InstallPip</span><span class=\"p\">()</span>\n<span class=\"n\">pip_installer</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">()</span>\n</pre>\n<p>The following example will capture the output of <code>sudo ls -l /private/var/root</code>, and print it line-by-line:</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">DirectoryLister</span><span class=\"p\">(</span><span class=\"n\">GenericConfigure</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">path</span><span class=\"p\">):</span>\n        <span class=\"n\">argv</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s2\">\"ls\"</span><span class=\"p\">,</span> <span class=\"s2\">\"-l\"</span><span class=\"p\">,</span> <span class=\"n\">path</span><span class=\"p\">]</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">argv</span><span class=\"p\">,</span> <span class=\"n\">use_sudo</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"n\">path</span> <span class=\"o\">=</span> <span class=\"s2\">\"/private/var/root\"</span>\n<span class=\"n\">lister</span> <span class=\"o\">=</span> <span class=\"n\">DirectoryLister</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">)</span>\n<span class=\"n\">output</span> <span class=\"o\">=</span> <span class=\"n\">lister</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">return_output</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n<span class=\"k\">for</span> <span class=\"n\">line</span> <span class=\"ow\">in</span> <span class=\"n\">output</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">line</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 6120004, "releases": {"0.1.0.dev1": [{"comment_text": "", "digests": {"md5": "03c1fdd013d328744f6edbc9866406c6", "sha256": "bcb1722d3e17079daeadbb123bdc41f706d2f1e63d017f00ee51a6375962ff66"}, "downloads": -1, "filename": "configure_with_sudo-0.1.0.dev1-py3-none-any.whl", "has_sig": false, "md5_digest": "03c1fdd013d328744f6edbc9866406c6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 5605, "upload_time": "2019-11-11T20:04:49", "upload_time_iso_8601": "2019-11-11T20:04:49.397198Z", "url": "https://files.pythonhosted.org/packages/88/04/d0203e556c2067720f519932c3446522e322ce09dae2a7ed0ee2d9aa59ab/configure_with_sudo-0.1.0.dev1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "41ceb6a46a45bd35c5f2b8a9840e5456", "sha256": "5967b014dc37f9f8c5679099f98dfc1f17bffac38648b361e7cf2d7f82c74a5f"}, "downloads": -1, "filename": "configure_with_sudo-0.1.0.dev1.tar.gz", "has_sig": false, "md5_digest": "41ceb6a46a45bd35c5f2b8a9840e5456", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 3466, "upload_time": "2019-11-11T20:04:51", "upload_time_iso_8601": "2019-11-11T20:04:51.750423Z", "url": "https://files.pythonhosted.org/packages/b4/a2/d8a4fd774d3e7b8dc9a5dcb2e514b5fbe9126035d96a223a2956edb048ec/configure_with_sudo-0.1.0.dev1.tar.gz", "yanked": false}], "0.1.0.dev2": [{"comment_text": "", "digests": {"md5": "e93b6f676e461f1b78cd3fad4d2ac8ad", "sha256": "ae550c3f21d87a15d19d8afd42a5bc79b3b1718e999cf0addb822057ee776fbf"}, "downloads": -1, "filename": "configure_with_sudo-0.1.0.dev2-py3-none-any.whl", "has_sig": false, "md5_digest": "e93b6f676e461f1b78cd3fad4d2ac8ad", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 5686, "upload_time": "2019-11-11T20:54:37", "upload_time_iso_8601": "2019-11-11T20:54:37.573481Z", "url": "https://files.pythonhosted.org/packages/d2/96/855cc6345652a05dfee7890505b88b64c39b33c8152bd61ca82bb98dc19a/configure_with_sudo-0.1.0.dev2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fa48e9053e54e79fea92930ab84c8de1", "sha256": "679f1b5ff06062729d548f29aed55dd01745735024d24d30969424b7df7d100d"}, "downloads": -1, "filename": "configure_with_sudo-0.1.0.dev2.tar.gz", "has_sig": false, "md5_digest": "fa48e9053e54e79fea92930ab84c8de1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 3550, "upload_time": "2019-11-11T20:54:39", "upload_time_iso_8601": "2019-11-11T20:54:39.577302Z", "url": "https://files.pythonhosted.org/packages/a2/44/0ca86bdcf3f6cf25063935f3d9bb5b12335134f0c639ae5c1bbac5090d60/configure_with_sudo-0.1.0.dev2.tar.gz", "yanked": false}], "0.1.0.dev4": [{"comment_text": "", "digests": {"md5": "f7e65e43bac87bc2509edbcec2aa4106", "sha256": "48821b3ebc2b3be8debb48a615aa6958ce9c927215bd2a63268bcc1569bf8cd3"}, "downloads": -1, "filename": "configure_with_sudo-0.1.0.dev4-py3-none-any.whl", "has_sig": false, "md5_digest": "f7e65e43bac87bc2509edbcec2aa4106", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 5829, "upload_time": "2019-11-11T22:50:34", "upload_time_iso_8601": "2019-11-11T22:50:34.838514Z", "url": "https://files.pythonhosted.org/packages/76/2f/cead6015b45f7eb0030b432b47f4496922f6ba05ab56ccc310901dbf1e2e/configure_with_sudo-0.1.0.dev4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3ffde6a8d44cc52d58ae06bbf03be602", "sha256": "0d9d01d0ca6991e945d052caf06be520f54a5af8c32cc453020064087d26eb6e"}, "downloads": -1, "filename": "configure_with_sudo-0.1.0.dev4.tar.gz", "has_sig": false, "md5_digest": "3ffde6a8d44cc52d58ae06bbf03be602", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 3719, "upload_time": "2019-11-11T22:49:13", "upload_time_iso_8601": "2019-11-11T22:49:13.045219Z", "url": "https://files.pythonhosted.org/packages/df/b6/c38f8b7704680d684e6424ecf2d8f858ef1bbd5e0e8dc7b5a7965ca678ce/configure_with_sudo-0.1.0.dev4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f7e65e43bac87bc2509edbcec2aa4106", "sha256": "48821b3ebc2b3be8debb48a615aa6958ce9c927215bd2a63268bcc1569bf8cd3"}, "downloads": -1, "filename": "configure_with_sudo-0.1.0.dev4-py3-none-any.whl", "has_sig": false, "md5_digest": "f7e65e43bac87bc2509edbcec2aa4106", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 5829, "upload_time": "2019-11-11T22:50:34", "upload_time_iso_8601": "2019-11-11T22:50:34.838514Z", "url": "https://files.pythonhosted.org/packages/76/2f/cead6015b45f7eb0030b432b47f4496922f6ba05ab56ccc310901dbf1e2e/configure_with_sudo-0.1.0.dev4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3ffde6a8d44cc52d58ae06bbf03be602", "sha256": "0d9d01d0ca6991e945d052caf06be520f54a5af8c32cc453020064087d26eb6e"}, "downloads": -1, "filename": "configure_with_sudo-0.1.0.dev4.tar.gz", "has_sig": false, "md5_digest": "3ffde6a8d44cc52d58ae06bbf03be602", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 3719, "upload_time": "2019-11-11T22:49:13", "upload_time_iso_8601": "2019-11-11T22:49:13.045219Z", "url": "https://files.pythonhosted.org/packages/df/b6/c38f8b7704680d684e6424ecf2d8f858ef1bbd5e0e8dc7b5a7965ca678ce/configure_with_sudo-0.1.0.dev4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:43:51 2020"}
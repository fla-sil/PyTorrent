{"info": {"author": "Neva C. Durand", "author_email": "", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# Straw\nStraw enables programmatic access to `.hic` files.\n`.hic` files store the contact matrices from Hi-C experiments and the\nnormalization and expected vectors, along with meta-data in the header.\n\nThe main function, straw, takes in the normalization, the filename or URL,\nchromosome1 (and optional range), chromosome2 (and optional range),\nwhether the bins desired are fragment or base pair delimited, and bin size.\n\nIt then reads the header, follows the various pointers to the desired matrix\nand normalization vector, and stores as [x, y, count]\n\n`Usage: straw <NONE/VC/VC_SQRT/KR> <hicFile(s)> <chr1>[:x1:x2] <chr2>[:y1:y2] <BP/FRAG> <binsize>`\n\nSee https://github.com/theaidenlab/straw/wiki/Python for more documentation\n\n# Install\nStraw uses the [requests library](http://docs.python-requests.org/en/master/user/install/#install) for support of URLs.  Be sure it is installed.\n\n# Examples\n\n* Extract all reads on chromosome X at 1MB resolution with no normalization in local file \"HIC001.hic\" \n   ```python\n   from straw import straw\n   result = straw.straw('NONE', 'HIC001.hic', 'X', 'X', 'BP', 1000000)\n   # the values returned are in x / y / counts\n   for i in range(len(result[0])):\n      print(\"{0}\\t{1}\\t{2}\".format(result[0][i], result[1][i], result[2][i]))\n   ```\n\n* Extract all reads from chromosome 4 at 500KB resolution with VC (coverage) normalization from the combined MAPQ 30 map from Rao and Huntley et al. 2014\n   ```python\n   from straw import straw\n   result = straw.straw('VC', 'https://hicfiles.s3.amazonaws.com/hiseq/gm12878/in-situ/combined_30.hic', '4', '4', 'BP', 500000)\n   # the values returned are in x / y / counts\n   for i in range(len(result[0])):\n      print(\"{0}\\t{1}\\t{2}\".format(result[0][i], result[1][i], result[2][i]))\n   ```\n\n\n* Extract reads between 1MB and 7.5MB on chromosome 1 at 25KB resolution with KR (balanced) normalization and write to a file:\n   ```python\n   from straw import straw\n   straw.printme(\"KR\", \"HIC001.hic\", \"1:1000000:7500000\", \"1:1000000:7500000\", \"BP\", 25000, 'out.txt')\n   ```\n\n* Extract all interchromosomal reads between chromosome 5 and chromosome 12 at 500 fragment resolution with VC (vanilla coverage) normalization:\n   ```python\n   from straw import straw\n\n   result = straw.straw(\"VC\", \"HIC001.hic\", \"5\", \"12\", \"FRAG\", 500)\n   # the values returned are in results\n   for i in range(len(result[0])):\n      print(\"{0}\\t{1}\\t{2}\".format(result[0][i], result[1][i], result[2][i]))\n   ```\n\nSee the script [straw.py](https://github.com/theaidenlab/straw/blob/master/python/straw.py) for an example of how to print the results to a file.  \n\n# Read header\nSee the file [read_hic_header.py](https://github.com/theaidenlab/straw/blob/master/python/read_hic_header.py) for a Python script that reads the header of a hic file and outputs the information (including resolutions).\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/aidenlab/straw", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "hic-straw", "package_url": "https://pypi.org/project/hic-straw/", "platform": "", "project_url": "https://pypi.org/project/hic-straw/", "project_urls": {"Homepage": "https://github.com/aidenlab/straw"}, "release_url": "https://pypi.org/project/hic-straw/0.0.6/", "requires_dist": ["requests"], "requires_python": "", "summary": "Extract data quickly from Juicebox hic files via straw", "version": "0.0.6", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Straw</h1>\n<p>Straw enables programmatic access to <code>.hic</code> files.\n<code>.hic</code> files store the contact matrices from Hi-C experiments and the\nnormalization and expected vectors, along with meta-data in the header.</p>\n<p>The main function, straw, takes in the normalization, the filename or URL,\nchromosome1 (and optional range), chromosome2 (and optional range),\nwhether the bins desired are fragment or base pair delimited, and bin size.</p>\n<p>It then reads the header, follows the various pointers to the desired matrix\nand normalization vector, and stores as [x, y, count]</p>\n<p><code>Usage: straw &lt;NONE/VC/VC_SQRT/KR&gt; &lt;hicFile(s)&gt; &lt;chr1&gt;[:x1:x2] &lt;chr2&gt;[:y1:y2] &lt;BP/FRAG&gt; &lt;binsize&gt;</code></p>\n<p>See <a href=\"https://github.com/theaidenlab/straw/wiki/Python\" rel=\"nofollow\">https://github.com/theaidenlab/straw/wiki/Python</a> for more documentation</p>\n<h1>Install</h1>\n<p>Straw uses the <a href=\"http://docs.python-requests.org/en/master/user/install/#install\" rel=\"nofollow\">requests library</a> for support of URLs.  Be sure it is installed.</p>\n<h1>Examples</h1>\n<ul>\n<li>\n<p>Extract all reads on chromosome X at 1MB resolution with no normalization in local file \"HIC001.hic\"</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">straw</span> <span class=\"kn\">import</span> <span class=\"n\">straw</span>\n<span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">straw</span><span class=\"o\">.</span><span class=\"n\">straw</span><span class=\"p\">(</span><span class=\"s1\">'NONE'</span><span class=\"p\">,</span> <span class=\"s1\">'HIC001.hic'</span><span class=\"p\">,</span> <span class=\"s1\">'X'</span><span class=\"p\">,</span> <span class=\"s1\">'X'</span><span class=\"p\">,</span> <span class=\"s1\">'BP'</span><span class=\"p\">,</span> <span class=\"mi\">1000000</span><span class=\"p\">)</span>\n<span class=\"c1\"># the values returned are in x / y / counts</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])):</span>\n   <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"</span><span class=\"si\">{0}</span><span class=\"se\">\\t</span><span class=\"si\">{1}</span><span class=\"se\">\\t</span><span class=\"si\">{2}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"n\">i</span><span class=\"p\">],</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">][</span><span class=\"n\">i</span><span class=\"p\">],</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">][</span><span class=\"n\">i</span><span class=\"p\">]))</span>\n</pre>\n</li>\n<li>\n<p>Extract all reads from chromosome 4 at 500KB resolution with VC (coverage) normalization from the combined MAPQ 30 map from Rao and Huntley et al. 2014</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">straw</span> <span class=\"kn\">import</span> <span class=\"n\">straw</span>\n<span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">straw</span><span class=\"o\">.</span><span class=\"n\">straw</span><span class=\"p\">(</span><span class=\"s1\">'VC'</span><span class=\"p\">,</span> <span class=\"s1\">'https://hicfiles.s3.amazonaws.com/hiseq/gm12878/in-situ/combined_30.hic'</span><span class=\"p\">,</span> <span class=\"s1\">'4'</span><span class=\"p\">,</span> <span class=\"s1\">'4'</span><span class=\"p\">,</span> <span class=\"s1\">'BP'</span><span class=\"p\">,</span> <span class=\"mi\">500000</span><span class=\"p\">)</span>\n<span class=\"c1\"># the values returned are in x / y / counts</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])):</span>\n   <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"</span><span class=\"si\">{0}</span><span class=\"se\">\\t</span><span class=\"si\">{1}</span><span class=\"se\">\\t</span><span class=\"si\">{2}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"n\">i</span><span class=\"p\">],</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">][</span><span class=\"n\">i</span><span class=\"p\">],</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">][</span><span class=\"n\">i</span><span class=\"p\">]))</span>\n</pre>\n</li>\n<li>\n<p>Extract reads between 1MB and 7.5MB on chromosome 1 at 25KB resolution with KR (balanced) normalization and write to a file:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">straw</span> <span class=\"kn\">import</span> <span class=\"n\">straw</span>\n<span class=\"n\">straw</span><span class=\"o\">.</span><span class=\"n\">printme</span><span class=\"p\">(</span><span class=\"s2\">\"KR\"</span><span class=\"p\">,</span> <span class=\"s2\">\"HIC001.hic\"</span><span class=\"p\">,</span> <span class=\"s2\">\"1:1000000:7500000\"</span><span class=\"p\">,</span> <span class=\"s2\">\"1:1000000:7500000\"</span><span class=\"p\">,</span> <span class=\"s2\">\"BP\"</span><span class=\"p\">,</span> <span class=\"mi\">25000</span><span class=\"p\">,</span> <span class=\"s1\">'out.txt'</span><span class=\"p\">)</span>\n</pre>\n</li>\n<li>\n<p>Extract all interchromosomal reads between chromosome 5 and chromosome 12 at 500 fragment resolution with VC (vanilla coverage) normalization:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">straw</span> <span class=\"kn\">import</span> <span class=\"n\">straw</span>\n\n<span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">straw</span><span class=\"o\">.</span><span class=\"n\">straw</span><span class=\"p\">(</span><span class=\"s2\">\"VC\"</span><span class=\"p\">,</span> <span class=\"s2\">\"HIC001.hic\"</span><span class=\"p\">,</span> <span class=\"s2\">\"5\"</span><span class=\"p\">,</span> <span class=\"s2\">\"12\"</span><span class=\"p\">,</span> <span class=\"s2\">\"FRAG\"</span><span class=\"p\">,</span> <span class=\"mi\">500</span><span class=\"p\">)</span>\n<span class=\"c1\"># the values returned are in results</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])):</span>\n   <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"</span><span class=\"si\">{0}</span><span class=\"se\">\\t</span><span class=\"si\">{1}</span><span class=\"se\">\\t</span><span class=\"si\">{2}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"n\">i</span><span class=\"p\">],</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">][</span><span class=\"n\">i</span><span class=\"p\">],</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">][</span><span class=\"n\">i</span><span class=\"p\">]))</span>\n</pre>\n</li>\n</ul>\n<p>See the script <a href=\"https://github.com/theaidenlab/straw/blob/master/python/straw.py\" rel=\"nofollow\">straw.py</a> for an example of how to print the results to a file.</p>\n<h1>Read header</h1>\n<p>See the file <a href=\"https://github.com/theaidenlab/straw/blob/master/python/read_hic_header.py\" rel=\"nofollow\">read_hic_header.py</a> for a Python script that reads the header of a hic file and outputs the information (including resolutions).</p>\n\n          </div>"}, "last_serial": 6021765, "releases": {"0.0.6": [{"comment_text": "", "digests": {"md5": "397f002b6eda54d3a7eeb7af349cb9cb", "sha256": "fd355fddfb43bb7a152125200a96a959bbe2fa3e4f5e1d41d0af8f27ebecf69e"}, "downloads": -1, "filename": "hic_straw-0.0.6-py3-none-any.whl", "has_sig": false, "md5_digest": "397f002b6eda54d3a7eeb7af349cb9cb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8888, "upload_time": "2019-04-08T02:59:29", "upload_time_iso_8601": "2019-04-08T02:59:29.996228Z", "url": "https://files.pythonhosted.org/packages/a4/89/1fc2a4e6d9b5379ac4ea0add62658d519095d22a8fef6feb32d1f6d04341/hic_straw-0.0.6-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "05bb911adabf50a1da778a5c3bd76173", "sha256": "bc79be50b076a3820852cd0e3b0d743df719b78d49510bf43ac63241f03ab81a"}, "downloads": -1, "filename": "hic-straw-0.0.6.tar.gz", "has_sig": false, "md5_digest": "05bb911adabf50a1da778a5c3bd76173", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7233, "upload_time": "2019-04-08T02:59:31", "upload_time_iso_8601": "2019-04-08T02:59:31.959200Z", "url": "https://files.pythonhosted.org/packages/58/12/da9e47221a82011797d19832a2dbc8843b0a96c483874f17010b4921c993/hic-straw-0.0.6.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "397f002b6eda54d3a7eeb7af349cb9cb", "sha256": "fd355fddfb43bb7a152125200a96a959bbe2fa3e4f5e1d41d0af8f27ebecf69e"}, "downloads": -1, "filename": "hic_straw-0.0.6-py3-none-any.whl", "has_sig": false, "md5_digest": "397f002b6eda54d3a7eeb7af349cb9cb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8888, "upload_time": "2019-04-08T02:59:29", "upload_time_iso_8601": "2019-04-08T02:59:29.996228Z", "url": "https://files.pythonhosted.org/packages/a4/89/1fc2a4e6d9b5379ac4ea0add62658d519095d22a8fef6feb32d1f6d04341/hic_straw-0.0.6-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "05bb911adabf50a1da778a5c3bd76173", "sha256": "bc79be50b076a3820852cd0e3b0d743df719b78d49510bf43ac63241f03ab81a"}, "downloads": -1, "filename": "hic-straw-0.0.6.tar.gz", "has_sig": false, "md5_digest": "05bb911adabf50a1da778a5c3bd76173", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7233, "upload_time": "2019-04-08T02:59:31", "upload_time_iso_8601": "2019-04-08T02:59:31.959200Z", "url": "https://files.pythonhosted.org/packages/58/12/da9e47221a82011797d19832a2dbc8843b0a96c483874f17010b4921c993/hic-straw-0.0.6.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:51:17 2020"}
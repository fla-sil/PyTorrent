{"info": {"author": "Lijo", "author_email": "lijoev@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Environment :: Web Environment", "Framework :: Django", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: Implementation :: CPython", "Programming Language :: Python :: Implementation :: PyPy", "Topic :: Internet :: WWW/HTTP"], "description": "![ci-image]\n\ndjangopasswordlessknox is a quick way to integrate \u2018passwordless\u2019 auth into\nyour Django Rest Framework project using a user\u2019s email address or\nmobile number only (herein referred to as an alias).\n\nBuilt knox TokenAuthentication system, it sends the\nuser a 6-digit callback token to a given email address or a mobile\nnumber. The user sends it back correctly and they\u2019re given an\nauthentication token.\n\nCallback tokens by default expire after 15 minutes.\n\nExample Usage:\n==============\n\n```bash\ncurl -X POST -d \u201cemail=lijoev@example.com\u201d localhost:8000/auth/email/\n```\n\nEmail to lijoev@example.com:\n\n```\n...\n<h1>Your login token is 815381.</h1>\n...\n```\n\nReturn Stage\n\n```bash\ncurl -X POST -d \"token=815381\" localhost:8000/callback/auth/\n\n> HTTP/1.0 200 OK\n> {\"token\":\"76be2d9ecfaf5fa4226d722bzdd8a4fff207ed0e\u201d}\n```\n\nRequirements\n============\n\n- Python (3.6+)\n- Django (2.0+)\n- Django Rest Framework + AuthToken (3.6+)\n- django-rest-knox (4.1.0)\n- Python-Twilio (Optional, for mobile.)\n\n\nInstall\n=======\n\n1. Install djangopasswordlessknox\n\n   ```\n   pipenv install djangopasswordlessknox\n   ```\n\n2. Add Django Rest Framework\u2019s Token Authentication to your Django Rest\n   Framework project.\n\n```python\n REST_FRAMEWORK = {\n     'DEFAULT_AUTHENTICATION_CLASSES':\n    ('knox.auth.TokenAuthentication',\n )}\n\n INSTALLED_APPS = [\n     ...\n     'rest_framework',\n     'knox',\n     'djangopasswordlessknox',\n      ...\n ]\n REST_KNOX = {\n  'SECURE_HASH_ALGORITHM': 'cryptography.hazmat.primitives.hashes.SHA512',\n  'AUTH_TOKEN_CHARACTER_LENGTH': 64,\n  'TOKEN_TTL': timedelta(hours=10),\n  'USER_SERIALIZER': 'knox.serializers.UserSerializer',\n  'TOKEN_LIMIT_PER_USER': None,\n  'AUTO_REFRESH': False,\n  # 'EXPIRY_DATETIME_FORMAT': api_settings.DATETME_FORMAT,\n}\n```\n\nAnd run\n```bash\npython manage.py migrate\n```\n\n3. Set which types of contact points are allowed for auth in your\n   Settings.py. The available options are ``EMAIL`` and ``MOBILE``.\n\n```python\nPASSWORDLESS_AUTH = {\n   ..\n   'PASSWORDLESS_AUTH_TYPES': ['EMAIL', 'MOBILE'],\n   ..\n}\n```\n\n   By default drfpasswordless looks for fields named ``email`` or ``mobile``\n   on the User model. If an alias provided doesn\u2019t belong to any given user,\n   a new user is created.\n\n   3a. If you\u2019re using ``email``, see the Configuring Email section\n   below.\n\n   3b. If you\u2019re using ``mobile``, see the Configuring Email section\n   below.\n\n4. Add ``knoxpasswordlessdrf.urls`` to your urls.py\n\n```python\n urlpatterns = [\n     ..\n     path('', include('djangopasswordlessknox.urls')),\n     ..\n ]\n```\n\n5. You can now POST to either of the endpoints:\n\n```bash\ncurl -X POST -d \"email=lijoev@example.com\" localhost:8000/auth/email/\n\n// OR\n\ncurl -X POST -d \"mobile=+15552143912\" localhost:8000/auth/mobile/\n```\n   A 6 digit callback token will be sent to the contact point.\n\n6. The client has 15 minutes to use the 6 digit callback token\n   correctly. If successful, they get an authorization token in exchange\n   which the client can then use with Django Rest Framework\u2019s\n   TokenAuthentication scheme.\n\n```bash\ncurl -X POST -d \"token=815381\" localhost:8000/callback/auth/\n\n> HTTP/1.0 200 OK\n> {\"token\":\"76be2d9ecfaf5fa4226d722bzdd8a4fff207ed0e\u201d}\n```\n\nConfiguring Emails\n------------------\n\nSpecify the email address you\u2019d like to send the callback token from\nwith the ``PASSWORDLESS_EMAIL_NOREPLY_ADDRESS`` setting.\n\nYou\u2019ll also need to set up an SMTP server to send emails (`See Django\nDocs <https://docs.djangoproject.com/en/1.10/topics/email/>`__), but for\ndevelopment you can set up a dummy development smtp server to test\nemails. Sent emails will print to the console. `Read more\nhere. <https://docs.djangoproject.com/en/1.10/topics/email/#configuring-email-for-development>`__\n\n```python\n# Settings.py\n\u2026\nEMAIL_HOST = 'localhost'\nEMAIL_PORT = 1025\n```\n\nThen run the following:\n\n```bash\npython -m smtpd -n -c DebuggingServer localhost:1025\n```\n\nConfiguring Mobile\n------------------\n\nYou\u2019ll need to have the python twilio module installed\n\n```bash\npipenv install twilio\n```\n\nand set the ``TWILIO_ACCOUNT_SID`` and ``TWILIO_AUTH_TOKEN`` environment\nvariables.\n\nYou\u2019ll also need to specify the number you send the token from with the\n``PASSWORDLESS_MOBILE_NOREPLY_NUMBER`` setting.\n\nTemplates\n=========\n\nIf you\u2019d like to use a custom email template for your email callback\ntoken, specify your template name with this setting:\n\n```bash\nPASSWORDLESS_AUTH = {\n   ...\n  'PASSWORDLESS_EMAIL_TOKEN_HTML_TEMPLATE_NAME': \"mytemplate.html\"\n}\n```\n\nThe template renders a single variable ``{{ callback_token }}`` which is\nthe 6 digit callback token being sent.\n\nContact Point Validation\n========================\n\nEndpoints can automatically mark themselves as validated when a user\nlogs in with a token sent to a specific endpoint. They can also\nautomatically mark themselves as invalid when a user changes a contact\npoint.\n\nThis is off by default but can be turned on with\n``PASSWORDLESS_USER_MARK_EMAIL_VERIFIED`` or\n``PASSWORDLESS_USER_MARK_MOBILE_VERIFIED``. By default when these are\nenabled they look for the User model fields ``email_verified`` or\n``mobile_verified``.\n\nYou can also use ``/validate/email/`` or ``/validate/mobile/`` which will\nautomatically send a token to the endpoint attached to the current\n``request.user``'s email or mobile if available.\n\nYou can then send that token to ``/callback/verify/`` which will double-check\nthat the endpoint belongs to the request.user and mark the alias as verified.\n\nRegistration\n============\n\nAll unrecognized emails and mobile numbers create new accounts by\ndefault. New accounts are automatically set with\n``set_unusable_password()`` but it\u2019s recommended that admins have some\ntype of password.\n\nThis can be turned off with the ``PASSWORDLESS_REGISTER_NEW_USERS``\nsetting.\n\nOther Settings\n==============\n\nHere\u2019s a full list of the configurable defaults.\n\n```python\nDEFAULTS = {\n\n    # Allowed auth types, can be EMAIL, MOBILE, or both.\n    'PASSWORDLESS_AUTH_TYPES': ['EMAIL'],\n\n    # Amount of time that tokens last, in seconds\n    'PASSWORDLESS_TOKEN_EXPIRE_TIME': 15 * 60,\n\n    # The user's email field name\n    'PASSWORDLESS_USER_EMAIL_FIELD_NAME': 'email',\n\n    # The user's mobile field name\n    'PASSWORDLESS_USER_MOBILE_FIELD_NAME': 'mobile',\n\n    # Marks itself as verified the first time a user completes auth via token.\n    # Automatically unmarks itself if email is changed.\n    'PASSWORDLESS_USER_MARK_EMAIL_VERIFIED': False,\n    'PASSWORDLESS_USER_EMAIL_VERIFIED_FIELD_NAME': 'email_verified',\n\n    # Marks itself as verified the first time a user completes auth via token.\n    # Automatically unmarks itself if mobile number is changed.\n    'PASSWORDLESS_USER_MARK_MOBILE_VERIFIED': False,\n    'PASSWORDLESS_USER_MOBILE_VERIFIED_FIELD_NAME': 'mobile_verified',\n\n    # The email the callback token is sent from\n    'PASSWORDLESS_EMAIL_NOREPLY_ADDRESS': None,\n\n    # The email subject\n    'PASSWORDLESS_EMAIL_SUBJECT': \"Your Login Token\",\n\n    # A plaintext email message overridden by the html message. Takes one string.\n    'PASSWORDLESS_EMAIL_PLAINTEXT_MESSAGE': \"Enter this token to sign in: %s\",\n\n    # The email template name.\n    'PASSWORDLESS_EMAIL_TOKEN_HTML_TEMPLATE_NAME': \"passwordless_default_token_email.html\",\n\n    # Your twilio number that sends the callback tokens.\n    'PASSWORDLESS_MOBILE_NOREPLY_NUMBER': None,\n\n    # The message sent to mobile users logging in. Takes one string.\n    'PASSWORDLESS_MOBILE_MESSAGE': \"Use this code to log in: %s\",\n\n    # Registers previously unseen aliases as new users.\n    'PASSWORDLESS_REGISTER_NEW_USERS': True,\n\n    # Suppresses actual SMS for testing\n    'PASSWORDLESS_TEST_SUPPRESSION': False,\n\n    # Context Processors for Email Template\n    'PASSWORDLESS_CONTEXT_PROCESSORS': [],\n\n    # The verification email subject\n    'PASSWORDLESS_EMAIL_VERIFICATION_SUBJECT': \"Your Verification Token\",\n\n    # A plaintext verification email message overridden by the html message. Takes one string.\n    'PASSWORDLESS_EMAIL_VERIFICATION_PLAINTEXT_MESSAGE': \"Enter this verification code: %s\",\n\n    # The verification email template name.\n    'PASSWORDLESS_EMAIL_VERIFICATION_TOKEN_HTML_TEMPLATE_NAME': \"passwordless_default_verification_token_email.html\",\n\n    # The message sent to mobile users logging in. Takes one string.\n    'PASSWORDLESS_MOBILE_VERIFICATION_MESSAGE': \"Enter this verification code: %s\",\n\n    # Automatically send verification email or sms when a user changes their alias.\n    'PASSWORDLESS_AUTO_SEND_VERIFICATION_TOKEN': False,\n}\n```\n\nTo Do\n----\n\n-  github.io project page\n-  Add MkDocs - http://www.mkdocs.org/\n-  Support non-US mobile numbers\n-  Custom URLs\n-  Change bad settings to 500's\n\nPull requests are encouraged!\n\nLicense\n-------\n\nThe MIT License (MIT)\n\nCopyright (c) 2018 Lijo \n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n[ci-image]: https://travis-ci.org/aaronn/django-rest-framework-passwordless.svg?branch=master", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/lijoev/django-rest-framework-passwordless-knox", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "djangopasswordlessknox", "package_url": "https://pypi.org/project/djangopasswordlessknox/", "platform": "", "project_url": "https://pypi.org/project/djangopasswordlessknox/", "project_urls": {"Homepage": "https://github.com/lijoev/django-rest-framework-passwordless-knox"}, "release_url": "https://pypi.org/project/djangopasswordlessknox/1.4.0/", "requires_dist": null, "requires_python": ">=3", "summary": "Passwordless auth for Django Rest Framework Knox Token Authentication.", "version": "1.4.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><img alt=\"ci-image\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/38e287c3fcd6bdd622874fc023fe15d8dc569142/68747470733a2f2f7472617669732d63692e6f72672f6161726f6e6e2f646a616e676f2d726573742d6672616d65776f726b2d70617373776f72646c6573732e7376673f6272616e63683d6d6173746572\"></p>\n<p>djangopasswordlessknox is a quick way to integrate \u2018passwordless\u2019 auth into\nyour Django Rest Framework project using a user\u2019s email address or\nmobile number only (herein referred to as an alias).</p>\n<p>Built knox TokenAuthentication system, it sends the\nuser a 6-digit callback token to a given email address or a mobile\nnumber. The user sends it back correctly and they\u2019re given an\nauthentication token.</p>\n<p>Callback tokens by default expire after 15 minutes.</p>\n<h1>Example Usage:</h1>\n<pre>curl -X POST -d \u201cemail<span class=\"o\">=</span>lijoev@example.com\u201d localhost:8000/auth/email/\n</pre>\n<p>Email to <a href=\"mailto:lijoev@example.com\">lijoev@example.com</a>:</p>\n<pre><code>...\n&lt;h1&gt;Your login token is 815381.&lt;/h1&gt;\n...\n</code></pre>\n<p>Return Stage</p>\n<pre>curl -X POST -d <span class=\"s2\">\"token=815381\"</span> localhost:8000/callback/auth/\n\n&gt; HTTP/1.0 <span class=\"m\">200</span> OK\n&gt; <span class=\"o\">{</span><span class=\"s2\">\"token\"</span>:<span class=\"s2\">\"76be2d9ecfaf5fa4226d722bzdd8a4fff207ed0e\u201d}</span>\n</pre>\n<h1>Requirements</h1>\n<ul>\n<li>Python (3.6+)</li>\n<li>Django (2.0+)</li>\n<li>Django Rest Framework + AuthToken (3.6+)</li>\n<li>django-rest-knox (4.1.0)</li>\n<li>Python-Twilio (Optional, for mobile.)</li>\n</ul>\n<h1>Install</h1>\n<ol>\n<li>\n<p>Install djangopasswordlessknox</p>\n<pre><code>pipenv install djangopasswordlessknox\n</code></pre>\n</li>\n<li>\n<p>Add Django Rest Framework\u2019s Token Authentication to your Django Rest\nFramework project.</p>\n</li>\n</ol>\n<pre> <span class=\"n\">REST_FRAMEWORK</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n     <span class=\"s1\">'DEFAULT_AUTHENTICATION_CLASSES'</span><span class=\"p\">:</span>\n    <span class=\"p\">(</span><span class=\"s1\">'knox.auth.TokenAuthentication'</span><span class=\"p\">,</span>\n <span class=\"p\">)}</span>\n\n <span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n     <span class=\"o\">...</span>\n     <span class=\"s1\">'rest_framework'</span><span class=\"p\">,</span>\n     <span class=\"s1\">'knox'</span><span class=\"p\">,</span>\n     <span class=\"s1\">'djangopasswordlessknox'</span><span class=\"p\">,</span>\n      <span class=\"o\">...</span>\n <span class=\"p\">]</span>\n <span class=\"n\">REST_KNOX</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"s1\">'SECURE_HASH_ALGORITHM'</span><span class=\"p\">:</span> <span class=\"s1\">'cryptography.hazmat.primitives.hashes.SHA512'</span><span class=\"p\">,</span>\n  <span class=\"s1\">'AUTH_TOKEN_CHARACTER_LENGTH'</span><span class=\"p\">:</span> <span class=\"mi\">64</span><span class=\"p\">,</span>\n  <span class=\"s1\">'TOKEN_TTL'</span><span class=\"p\">:</span> <span class=\"n\">timedelta</span><span class=\"p\">(</span><span class=\"n\">hours</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">),</span>\n  <span class=\"s1\">'USER_SERIALIZER'</span><span class=\"p\">:</span> <span class=\"s1\">'knox.serializers.UserSerializer'</span><span class=\"p\">,</span>\n  <span class=\"s1\">'TOKEN_LIMIT_PER_USER'</span><span class=\"p\">:</span> <span class=\"kc\">None</span><span class=\"p\">,</span>\n  <span class=\"s1\">'AUTO_REFRESH'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span>\n  <span class=\"c1\"># 'EXPIRY_DATETIME_FORMAT': api_settings.DATETME_FORMAT,</span>\n<span class=\"p\">}</span>\n</pre>\n<p>And run</p>\n<pre>python manage.py migrate\n</pre>\n<ol>\n<li>Set which types of contact points are allowed for auth in your\nSettings.py. The available options are <code>EMAIL</code> and <code>MOBILE</code>.</li>\n</ol>\n<pre><span class=\"n\">PASSWORDLESS_AUTH</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n   <span class=\"o\">..</span>\n   <span class=\"s1\">'PASSWORDLESS_AUTH_TYPES'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'EMAIL'</span><span class=\"p\">,</span> <span class=\"s1\">'MOBILE'</span><span class=\"p\">],</span>\n   <span class=\"o\">..</span>\n<span class=\"p\">}</span>\n</pre>\n<p>By default drfpasswordless looks for fields named <code>email</code> or <code>mobile</code>\non the User model. If an alias provided doesn\u2019t belong to any given user,\na new user is created.</p>\n<p>3a. If you\u2019re using <code>email</code>, see the Configuring Email section\nbelow.</p>\n<p>3b. If you\u2019re using <code>mobile</code>, see the Configuring Email section\nbelow.</p>\n<ol>\n<li>Add <code>knoxpasswordlessdrf.urls</code> to your urls.py</li>\n</ol>\n<pre> <span class=\"n\">urlpatterns</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n     <span class=\"o\">..</span>\n     <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">,</span> <span class=\"n\">include</span><span class=\"p\">(</span><span class=\"s1\">'djangopasswordlessknox.urls'</span><span class=\"p\">)),</span>\n     <span class=\"o\">..</span>\n <span class=\"p\">]</span>\n</pre>\n<ol>\n<li>You can now POST to either of the endpoints:</li>\n</ol>\n<pre>curl -X POST -d <span class=\"s2\">\"email=lijoev@example.com\"</span> localhost:8000/auth/email/\n\n// OR\n\ncurl -X POST -d <span class=\"s2\">\"mobile=+15552143912\"</span> localhost:8000/auth/mobile/\n</pre>\n<p>A 6 digit callback token will be sent to the contact point.</p>\n<ol>\n<li>The client has 15 minutes to use the 6 digit callback token\ncorrectly. If successful, they get an authorization token in exchange\nwhich the client can then use with Django Rest Framework\u2019s\nTokenAuthentication scheme.</li>\n</ol>\n<pre>curl -X POST -d <span class=\"s2\">\"token=815381\"</span> localhost:8000/callback/auth/\n\n&gt; HTTP/1.0 <span class=\"m\">200</span> OK\n&gt; <span class=\"o\">{</span><span class=\"s2\">\"token\"</span>:<span class=\"s2\">\"76be2d9ecfaf5fa4226d722bzdd8a4fff207ed0e\u201d}</span>\n</pre>\n<h2>Configuring Emails</h2>\n<p>Specify the email address you\u2019d like to send the callback token from\nwith the <code>PASSWORDLESS_EMAIL_NOREPLY_ADDRESS</code> setting.</p>\n<p>You\u2019ll also need to set up an SMTP server to send emails (<code>See Django Docs &lt;https://docs.djangoproject.com/en/1.10/topics/email/&gt;</code><strong>), but for\ndevelopment you can set up a dummy development smtp server to test\nemails. Sent emails will print to the console. <code>Read more here. &lt;https://docs.djangoproject.com/en/1.10/topics/email/#configuring-email-for-development&gt;</code></strong></p>\n<pre><span class=\"c1\"># Settings.py</span>\n<span class=\"err\">\u2026</span>\n<span class=\"n\">EMAIL_HOST</span> <span class=\"o\">=</span> <span class=\"s1\">'localhost'</span>\n<span class=\"n\">EMAIL_PORT</span> <span class=\"o\">=</span> <span class=\"mi\">1025</span>\n</pre>\n<p>Then run the following:</p>\n<pre>python -m smtpd -n -c DebuggingServer localhost:1025\n</pre>\n<h2>Configuring Mobile</h2>\n<p>You\u2019ll need to have the python twilio module installed</p>\n<pre>pipenv install twilio\n</pre>\n<p>and set the <code>TWILIO_ACCOUNT_SID</code> and <code>TWILIO_AUTH_TOKEN</code> environment\nvariables.</p>\n<p>You\u2019ll also need to specify the number you send the token from with the\n<code>PASSWORDLESS_MOBILE_NOREPLY_NUMBER</code> setting.</p>\n<h1>Templates</h1>\n<p>If you\u2019d like to use a custom email template for your email callback\ntoken, specify your template name with this setting:</p>\n<pre><span class=\"nv\">PASSWORDLESS_AUTH</span> <span class=\"o\">=</span> <span class=\"o\">{</span>\n   ...\n  <span class=\"s1\">'PASSWORDLESS_EMAIL_TOKEN_HTML_TEMPLATE_NAME'</span>: <span class=\"s2\">\"mytemplate.html\"</span>\n<span class=\"o\">}</span>\n</pre>\n<p>The template renders a single variable <code>{{ callback_token }}</code> which is\nthe 6 digit callback token being sent.</p>\n<h1>Contact Point Validation</h1>\n<p>Endpoints can automatically mark themselves as validated when a user\nlogs in with a token sent to a specific endpoint. They can also\nautomatically mark themselves as invalid when a user changes a contact\npoint.</p>\n<p>This is off by default but can be turned on with\n<code>PASSWORDLESS_USER_MARK_EMAIL_VERIFIED</code> or\n<code>PASSWORDLESS_USER_MARK_MOBILE_VERIFIED</code>. By default when these are\nenabled they look for the User model fields <code>email_verified</code> or\n<code>mobile_verified</code>.</p>\n<p>You can also use <code>/validate/email/</code> or <code>/validate/mobile/</code> which will\nautomatically send a token to the endpoint attached to the current\n<code>request.user</code>'s email or mobile if available.</p>\n<p>You can then send that token to <code>/callback/verify/</code> which will double-check\nthat the endpoint belongs to the request.user and mark the alias as verified.</p>\n<h1>Registration</h1>\n<p>All unrecognized emails and mobile numbers create new accounts by\ndefault. New accounts are automatically set with\n<code>set_unusable_password()</code> but it\u2019s recommended that admins have some\ntype of password.</p>\n<p>This can be turned off with the <code>PASSWORDLESS_REGISTER_NEW_USERS</code>\nsetting.</p>\n<h1>Other Settings</h1>\n<p>Here\u2019s a full list of the configurable defaults.</p>\n<pre><span class=\"n\">DEFAULTS</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\n    <span class=\"c1\"># Allowed auth types, can be EMAIL, MOBILE, or both.</span>\n    <span class=\"s1\">'PASSWORDLESS_AUTH_TYPES'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'EMAIL'</span><span class=\"p\">],</span>\n\n    <span class=\"c1\"># Amount of time that tokens last, in seconds</span>\n    <span class=\"s1\">'PASSWORDLESS_TOKEN_EXPIRE_TIME'</span><span class=\"p\">:</span> <span class=\"mi\">15</span> <span class=\"o\">*</span> <span class=\"mi\">60</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># The user's email field name</span>\n    <span class=\"s1\">'PASSWORDLESS_USER_EMAIL_FIELD_NAME'</span><span class=\"p\">:</span> <span class=\"s1\">'email'</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># The user's mobile field name</span>\n    <span class=\"s1\">'PASSWORDLESS_USER_MOBILE_FIELD_NAME'</span><span class=\"p\">:</span> <span class=\"s1\">'mobile'</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># Marks itself as verified the first time a user completes auth via token.</span>\n    <span class=\"c1\"># Automatically unmarks itself if email is changed.</span>\n    <span class=\"s1\">'PASSWORDLESS_USER_MARK_EMAIL_VERIFIED'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span>\n    <span class=\"s1\">'PASSWORDLESS_USER_EMAIL_VERIFIED_FIELD_NAME'</span><span class=\"p\">:</span> <span class=\"s1\">'email_verified'</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># Marks itself as verified the first time a user completes auth via token.</span>\n    <span class=\"c1\"># Automatically unmarks itself if mobile number is changed.</span>\n    <span class=\"s1\">'PASSWORDLESS_USER_MARK_MOBILE_VERIFIED'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span>\n    <span class=\"s1\">'PASSWORDLESS_USER_MOBILE_VERIFIED_FIELD_NAME'</span><span class=\"p\">:</span> <span class=\"s1\">'mobile_verified'</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># The email the callback token is sent from</span>\n    <span class=\"s1\">'PASSWORDLESS_EMAIL_NOREPLY_ADDRESS'</span><span class=\"p\">:</span> <span class=\"kc\">None</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># The email subject</span>\n    <span class=\"s1\">'PASSWORDLESS_EMAIL_SUBJECT'</span><span class=\"p\">:</span> <span class=\"s2\">\"Your Login Token\"</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># A plaintext email message overridden by the html message. Takes one string.</span>\n    <span class=\"s1\">'PASSWORDLESS_EMAIL_PLAINTEXT_MESSAGE'</span><span class=\"p\">:</span> <span class=\"s2\">\"Enter this token to sign in: </span><span class=\"si\">%s</span><span class=\"s2\">\"</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># The email template name.</span>\n    <span class=\"s1\">'PASSWORDLESS_EMAIL_TOKEN_HTML_TEMPLATE_NAME'</span><span class=\"p\">:</span> <span class=\"s2\">\"passwordless_default_token_email.html\"</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># Your twilio number that sends the callback tokens.</span>\n    <span class=\"s1\">'PASSWORDLESS_MOBILE_NOREPLY_NUMBER'</span><span class=\"p\">:</span> <span class=\"kc\">None</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># The message sent to mobile users logging in. Takes one string.</span>\n    <span class=\"s1\">'PASSWORDLESS_MOBILE_MESSAGE'</span><span class=\"p\">:</span> <span class=\"s2\">\"Use this code to log in: </span><span class=\"si\">%s</span><span class=\"s2\">\"</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># Registers previously unseen aliases as new users.</span>\n    <span class=\"s1\">'PASSWORDLESS_REGISTER_NEW_USERS'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># Suppresses actual SMS for testing</span>\n    <span class=\"s1\">'PASSWORDLESS_TEST_SUPPRESSION'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># Context Processors for Email Template</span>\n    <span class=\"s1\">'PASSWORDLESS_CONTEXT_PROCESSORS'</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n\n    <span class=\"c1\"># The verification email subject</span>\n    <span class=\"s1\">'PASSWORDLESS_EMAIL_VERIFICATION_SUBJECT'</span><span class=\"p\">:</span> <span class=\"s2\">\"Your Verification Token\"</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># A plaintext verification email message overridden by the html message. Takes one string.</span>\n    <span class=\"s1\">'PASSWORDLESS_EMAIL_VERIFICATION_PLAINTEXT_MESSAGE'</span><span class=\"p\">:</span> <span class=\"s2\">\"Enter this verification code: </span><span class=\"si\">%s</span><span class=\"s2\">\"</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># The verification email template name.</span>\n    <span class=\"s1\">'PASSWORDLESS_EMAIL_VERIFICATION_TOKEN_HTML_TEMPLATE_NAME'</span><span class=\"p\">:</span> <span class=\"s2\">\"passwordless_default_verification_token_email.html\"</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># The message sent to mobile users logging in. Takes one string.</span>\n    <span class=\"s1\">'PASSWORDLESS_MOBILE_VERIFICATION_MESSAGE'</span><span class=\"p\">:</span> <span class=\"s2\">\"Enter this verification code: </span><span class=\"si\">%s</span><span class=\"s2\">\"</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># Automatically send verification email or sms when a user changes their alias.</span>\n    <span class=\"s1\">'PASSWORDLESS_AUTO_SEND_VERIFICATION_TOKEN'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span>\n<span class=\"p\">}</span>\n</pre>\n<h2>To Do</h2>\n<ul>\n<li>github.io project page</li>\n<li>Add MkDocs - <a href=\"http://www.mkdocs.org/\" rel=\"nofollow\">http://www.mkdocs.org/</a></li>\n<li>Support non-US mobile numbers</li>\n<li>Custom URLs</li>\n<li>Change bad settings to 500's</li>\n</ul>\n<p>Pull requests are encouraged!</p>\n<h2>License</h2>\n<p>The MIT License (MIT)</p>\n<p>Copyright (c) 2018 Lijo</p>\n<p>Permission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:</p>\n<p>The above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.</p>\n<p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.</p>\n\n          </div>"}, "last_serial": 5959750, "releases": {"1.3.9": [{"comment_text": "", "digests": {"md5": "7c317455a4902864382fe03d8a4e9107", "sha256": "52f9e3e59748ba7f62c950ec2d882674f2e7b9721a56728ba67efe093c45fb76"}, "downloads": -1, "filename": "djangopasswordlessknox-1.3.9.tar.gz", "has_sig": false, "md5_digest": "7c317455a4902864382fe03d8a4e9107", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3", "size": 20581, "upload_time": "2019-10-09T12:44:49", "upload_time_iso_8601": "2019-10-09T12:44:49.850920Z", "url": "https://files.pythonhosted.org/packages/e0/de/b2eea263b82466dd9f4b2170acddf926232e9b82f03a7a6f7934f93cc86c/djangopasswordlessknox-1.3.9.tar.gz", "yanked": false}], "1.4.0": [{"comment_text": "", "digests": {"md5": "df42729bf20454bc16f70512c8b7a168", "sha256": "cb6e47faaee1b57f6e52b0bd3998cb5210548b87c80133ea80e291489c79a40b"}, "downloads": -1, "filename": "djangopasswordlessknox-1.4.0.tar.gz", "has_sig": false, "md5_digest": "df42729bf20454bc16f70512c8b7a168", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3", "size": 20591, "upload_time": "2019-10-11T10:52:37", "upload_time_iso_8601": "2019-10-11T10:52:37.358660Z", "url": "https://files.pythonhosted.org/packages/a0/d0/2d032c89ffa9005c33941523d33cb8f8207796d24b2507bc2bf6dba6da48/djangopasswordlessknox-1.4.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "df42729bf20454bc16f70512c8b7a168", "sha256": "cb6e47faaee1b57f6e52b0bd3998cb5210548b87c80133ea80e291489c79a40b"}, "downloads": -1, "filename": "djangopasswordlessknox-1.4.0.tar.gz", "has_sig": false, "md5_digest": "df42729bf20454bc16f70512c8b7a168", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3", "size": 20591, "upload_time": "2019-10-11T10:52:37", "upload_time_iso_8601": "2019-10-11T10:52:37.358660Z", "url": "https://files.pythonhosted.org/packages/a0/d0/2d032c89ffa9005c33941523d33cb8f8207796d24b2507bc2bf6dba6da48/djangopasswordlessknox-1.4.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:55:14 2020"}
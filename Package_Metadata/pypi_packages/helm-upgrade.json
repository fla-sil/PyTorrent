{"info": {"author": "Sarah Gibson", "author_email": "drsarahlgibson@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "# helm-upgrade\n\n| | Status |\n| :--- | :--- |\n| CI Tests | ![GitHub Actions - CI Tests](https://github.com/sgibson91/helm-upgrade/workflows/CI-test/badge.svg) |\n| Black | ![GitHub Actions - Black](https://github.com/sgibson91/helm-upgrade/workflows/Black/badge.svg) |\n| Flake8 | ![GitHub Actions - Flake8](https://github.com/sgibson91/helm-upgrade/workflows/Flake8/badge.svg) |\n\nDo you manage a Helm Chart that has dependencies on other Helm Charts?\nAre you fed up of manually updating these dependencies?\nThen this is the tool for you!\n`helm-upgrade` is a Python command line interface (CLI) that automatically updates the dependencies of local Helm Charts.\n\nThis tool was inspired by [HelmUpgradeBot](https://github.com/HelmUpgradeBot/hub23-deploy-upgrades) and [Chris Holdgraf's github-activity tool](https://github.com/choldgraf/github-activity).\n\n- [Installation](#installation)\n  - [`pip`](#pip)\n  - [Manual](#manual)\n- [Usage](#usage)\n  - [Remote Helm Charts](#remote-helm-charts)\n\n---\n\n## Installation\n\nIt's recommended to use Python version 3.7 with this tool.\n\n### `pip`\n\n```bash\npip install helm-upgrade\n```\n\n### Manual\n\nFirst of all, clone this repository and change into it.\n\n```bash\ngit clone https://github.com/sgibson91/helm-upgrade.git\ncd helm-upgrade\n```\n\nUse Python to install requirements and the package.\nPython 3.7 is recommended.\n\n```bash\npython -m pip install -r requirements.txt\npython setup.py install\n```\n\nTest the installation by calling the help page.\n\n```bash\nhelm-upgrade --help\n```\n\n## Usage\n\n```\nusage: helm-upgrade [-h] [--dry-run] [-v] chart dependencies\n\nUpdate the dependencies of a local Helm Chart in a project repository.\n\npositional arguments:\n  chart          Name of the local Helm Chart to be updated\n  dependencies   A dictionary of Helm Chart dependencies and their host repo URLs.\n                 For example, '{\"nginx-ingress\": \"https://raw.githubusercontent.com/helm/charts/master/stable/nginx-ingress/Chart.yaml\"}'\n\noptional arguments:\n  --dry-run      Perform a dry run of the update. Don't write the changes to a file.\n  -v, --verbose  Option to turn on logging.\n```\n\nRun the CLI in the directory _above_ your local helm chart.\nFor example:\n\n```bash\n$ ls -R -1\n\n./my-local-helm-chart:\nChart.yaml\nREADME.md\nrequirements.yaml\ntemplates/\nvalues.yaml\n```\n\nIn this example, the `name` argument would be `my-local-helm-chart`.\n\n`helm-upgrade` will then:\n\n1) read the current versions of your dependencies from your `requirements.yaml` file,\n2) find the latest versions of your desired dependencies from the URLs provided (in JSON schema) to the `dependencies` argument,\n3) compare whether these versions are equal,\n4) if the versions are not equal (and the `--dry-run` flag has not been set), `requirements.yaml` will be overwritten with the new chart versions.\n\nThe `--verbose` flag will print logs to the console and the `--dry-run` flag will skip the file writing step.\n\n### Remote Helm Charts\n\n`helm-upgrade` currently recognises chart versions from three types of hosts.\n\n1) A `Chart.yaml` file from another GitHub repository.\n   These URLs end with \"`/Chart.yaml`\".\n\n   For example, [https://raw.githubusercontent.com/helm/charts/master/stable/nginx-ingress/Chart.yaml](https://github.com/helm/charts/blob/master/stable/nginx-ingress/Chart.yaml)\n\n2) A repository of chart versions hosted on GitHub pages.\n   These URLs contain \"`/gh-pages/`\".\n\n   For example, [https://raw.githubusercontent.com/jupyterhub/helm-chart/gh-pages/index.yaml](https://github.com/jupyterhub/helm-chart/blob/gh-pages/index.yaml)\n\n3) Versions listed on a GitHub Releases page.\n   These URLs end with \"`/releases/latest`\" and uses `BeautifulSoup` to search the html.\n\n   For example, <https://github.com/jetstack/cert-manager/releases/latest>\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://sgibson91.github.io/", "keywords": "development helm dependencies", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "helm-upgrade", "package_url": "https://pypi.org/project/helm-upgrade/", "platform": "", "project_url": "https://pypi.org/project/helm-upgrade/", "project_urls": {"Homepage": "https://sgibson91.github.io/"}, "release_url": "https://pypi.org/project/helm-upgrade/0.0.1.dev2/", "requires_dist": ["bs4", "numpy", "pandas", "pyyaml", "requests"], "requires_python": ">=3.7", "summary": "Update the dependencies of a helm chart to the latest published versions.", "version": "0.0.1.dev2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>helm-upgrade</h1>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\">Status</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">CI Tests</td>\n<td align=\"left\"><img alt=\"GitHub Actions - CI Tests\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/161cb896b520378279f5b8702136651944f4567e/68747470733a2f2f6769746875622e636f6d2f73676962736f6e39312f68656c6d2d757067726164652f776f726b666c6f77732f43492d746573742f62616467652e737667\"></td>\n</tr>\n<tr>\n<td align=\"left\">Black</td>\n<td align=\"left\"><img alt=\"GitHub Actions - Black\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/906d1bcdedef0f9d4080c56f9e5eabcd8aa75206/68747470733a2f2f6769746875622e636f6d2f73676962736f6e39312f68656c6d2d757067726164652f776f726b666c6f77732f426c61636b2f62616467652e737667\"></td>\n</tr>\n<tr>\n<td align=\"left\">Flake8</td>\n<td align=\"left\"><img alt=\"GitHub Actions - Flake8\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/92838cb45e491c2486c938d22c9b98a582e6570a/68747470733a2f2f6769746875622e636f6d2f73676962736f6e39312f68656c6d2d757067726164652f776f726b666c6f77732f466c616b65382f62616467652e737667\"></td>\n</tr></tbody></table>\n<p>Do you manage a Helm Chart that has dependencies on other Helm Charts?\nAre you fed up of manually updating these dependencies?\nThen this is the tool for you!\n<code>helm-upgrade</code> is a Python command line interface (CLI) that automatically updates the dependencies of local Helm Charts.</p>\n<p>This tool was inspired by <a href=\"https://github.com/HelmUpgradeBot/hub23-deploy-upgrades\" rel=\"nofollow\">HelmUpgradeBot</a> and <a href=\"https://github.com/choldgraf/github-activity\" rel=\"nofollow\">Chris Holdgraf's github-activity tool</a>.</p>\n<ul>\n<li><a href=\"#installation\" rel=\"nofollow\">Installation</a>\n<ul>\n<li><a href=\"#pip\" rel=\"nofollow\"><code>pip</code></a></li>\n<li><a href=\"#manual\" rel=\"nofollow\">Manual</a></li>\n</ul>\n</li>\n<li><a href=\"#usage\" rel=\"nofollow\">Usage</a>\n<ul>\n<li><a href=\"#remote-helm-charts\" rel=\"nofollow\">Remote Helm Charts</a></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2>Installation</h2>\n<p>It's recommended to use Python version 3.7 with this tool.</p>\n<h3><code>pip</code></h3>\n<pre>pip install helm-upgrade\n</pre>\n<h3>Manual</h3>\n<p>First of all, clone this repository and change into it.</p>\n<pre>git clone https://github.com/sgibson91/helm-upgrade.git\n<span class=\"nb\">cd</span> helm-upgrade\n</pre>\n<p>Use Python to install requirements and the package.\nPython 3.7 is recommended.</p>\n<pre>python -m pip install -r requirements.txt\npython setup.py install\n</pre>\n<p>Test the installation by calling the help page.</p>\n<pre>helm-upgrade --help\n</pre>\n<h2>Usage</h2>\n<pre><code>usage: helm-upgrade [-h] [--dry-run] [-v] chart dependencies\n\nUpdate the dependencies of a local Helm Chart in a project repository.\n\npositional arguments:\n  chart          Name of the local Helm Chart to be updated\n  dependencies   A dictionary of Helm Chart dependencies and their host repo URLs.\n                 For example, '{\"nginx-ingress\": \"https://raw.githubusercontent.com/helm/charts/master/stable/nginx-ingress/Chart.yaml\"}'\n\noptional arguments:\n  --dry-run      Perform a dry run of the update. Don't write the changes to a file.\n  -v, --verbose  Option to turn on logging.\n</code></pre>\n<p>Run the CLI in the directory <em>above</em> your local helm chart.\nFor example:</p>\n<pre>$ ls -R -1\n\n./my-local-helm-chart:\nChart.yaml\nREADME.md\nrequirements.yaml\ntemplates/\nvalues.yaml\n</pre>\n<p>In this example, the <code>name</code> argument would be <code>my-local-helm-chart</code>.</p>\n<p><code>helm-upgrade</code> will then:</p>\n<ol>\n<li>read the current versions of your dependencies from your <code>requirements.yaml</code> file,</li>\n<li>find the latest versions of your desired dependencies from the URLs provided (in JSON schema) to the <code>dependencies</code> argument,</li>\n<li>compare whether these versions are equal,</li>\n<li>if the versions are not equal (and the <code>--dry-run</code> flag has not been set), <code>requirements.yaml</code> will be overwritten with the new chart versions.</li>\n</ol>\n<p>The <code>--verbose</code> flag will print logs to the console and the <code>--dry-run</code> flag will skip the file writing step.</p>\n<h3>Remote Helm Charts</h3>\n<p><code>helm-upgrade</code> currently recognises chart versions from three types of hosts.</p>\n<ol>\n<li>\n<p>A <code>Chart.yaml</code> file from another GitHub repository.\nThese URLs end with \"<code>/Chart.yaml</code>\".</p>\n<p>For example, <a href=\"https://github.com/helm/charts/blob/master/stable/nginx-ingress/Chart.yaml\" rel=\"nofollow\">https://raw.githubusercontent.com/helm/charts/master/stable/nginx-ingress/Chart.yaml</a></p>\n</li>\n<li>\n<p>A repository of chart versions hosted on GitHub pages.\nThese URLs contain \"<code>/gh-pages/</code>\".</p>\n<p>For example, <a href=\"https://github.com/jupyterhub/helm-chart/blob/gh-pages/index.yaml\" rel=\"nofollow\">https://raw.githubusercontent.com/jupyterhub/helm-chart/gh-pages/index.yaml</a></p>\n</li>\n<li>\n<p>Versions listed on a GitHub Releases page.\nThese URLs end with \"<code>/releases/latest</code>\" and uses <code>BeautifulSoup</code> to search the html.</p>\n<p>For example, <a href=\"https://github.com/jetstack/cert-manager/releases/latest\" rel=\"nofollow\">https://github.com/jetstack/cert-manager/releases/latest</a></p>\n</li>\n</ol>\n\n          </div>"}, "last_serial": 6618982, "releases": {"0.0.1.dev2": [{"comment_text": "", "digests": {"md5": "9463c7d598b868d09605c7906cb88720", "sha256": "ee758e431ebdf0dccbd624c30f2799d5aab71ee3c4fe15fcc4e8c67a7988a18d"}, "downloads": -1, "filename": "helm_upgrade-0.0.1.dev2-py3-none-any.whl", "has_sig": false, "md5_digest": "9463c7d598b868d09605c7906cb88720", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 6865, "upload_time": "2020-02-12T21:47:23", "upload_time_iso_8601": "2020-02-12T21:47:23.938171Z", "url": "https://files.pythonhosted.org/packages/b7/d0/fab71a5f89894efc678d2cdd331adea60d219eedd92a52b93f03ab525fcb/helm_upgrade-0.0.1.dev2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6c9444035c1916ce3dc14b49b57ac255", "sha256": "20663958456d84cf33b031bbe8080580c258b6b1172a751592f3fae4e337f9a4"}, "downloads": -1, "filename": "helm_upgrade-0.0.1.dev2.tar.gz", "has_sig": false, "md5_digest": "6c9444035c1916ce3dc14b49b57ac255", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 5147, "upload_time": "2020-02-12T21:47:25", "upload_time_iso_8601": "2020-02-12T21:47:25.954932Z", "url": "https://files.pythonhosted.org/packages/ae/55/89e1bb4804f2c191a9f643eca5170a0f98df29cf154a07e0876f15302d86/helm_upgrade-0.0.1.dev2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "9463c7d598b868d09605c7906cb88720", "sha256": "ee758e431ebdf0dccbd624c30f2799d5aab71ee3c4fe15fcc4e8c67a7988a18d"}, "downloads": -1, "filename": "helm_upgrade-0.0.1.dev2-py3-none-any.whl", "has_sig": false, "md5_digest": "9463c7d598b868d09605c7906cb88720", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 6865, "upload_time": "2020-02-12T21:47:23", "upload_time_iso_8601": "2020-02-12T21:47:23.938171Z", "url": "https://files.pythonhosted.org/packages/b7/d0/fab71a5f89894efc678d2cdd331adea60d219eedd92a52b93f03ab525fcb/helm_upgrade-0.0.1.dev2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6c9444035c1916ce3dc14b49b57ac255", "sha256": "20663958456d84cf33b031bbe8080580c258b6b1172a751592f3fae4e337f9a4"}, "downloads": -1, "filename": "helm_upgrade-0.0.1.dev2.tar.gz", "has_sig": false, "md5_digest": "6c9444035c1916ce3dc14b49b57ac255", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 5147, "upload_time": "2020-02-12T21:47:25", "upload_time_iso_8601": "2020-02-12T21:47:25.954932Z", "url": "https://files.pythonhosted.org/packages/ae/55/89e1bb4804f2c191a9f643eca5170a0f98df29cf154a07e0876f15302d86/helm_upgrade-0.0.1.dev2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:51:40 2020"}
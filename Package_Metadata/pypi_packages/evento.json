{"info": {"author": "Mark van de Korput", "author_email": "dr.theman@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "# pyevento\n[![Build Status](https://travis-ci.org/markkorput/pyevento.svg)](https://travis-ci.org/markkorput/pyevento)\n\n\nPython evento package, making the Observer pattern est\u00fapida sencillo.\n\n## Install\n\n```shell\npip install evento\n```\n\n## Usage\n\n```python\nfrom evento import Event\n\n# observers are simply methods\ndef observer(param1, param2):\n\tprint(', '.join([param1, param2]))\n\n# we need to create an instance for every event we want to fire\ndemo_event = Event()\n\n# subscribe observer to the event\ndemo_event += observer\n\n# trigger notifications for the event (run all observers)\ndemo_event('Hello', 'World') # => \"Hello, World\"\n```\n\n## Usage within classes\n\nThis is how Events are typically used to decouple code into separate classes;\n\n```python\nfrom evento import Event\n\nclass Action:\n\tdef __init__(self, name):\n\t\tself.name = name\n\t\tself.runEvent = Event()\n\n\tdef run(self):\n\t\t# do action-specific stuff\n\t\tself.runEvent(self)\n\nclass ActionCounter:\n\tdef __init__(self, action_performer):\n\t\tself.count = 0\n\t\tself.actionEvent = action_performer.runEvent\n\t\tself.actionEvent += self._onActionRun\n\n\tdef __del__(self):\n\t\t# observers should always make sure to _unsubscribe_ from events when they are done\n\t\tself.actionEvent -= self._onActionRun\n\n\tdef _onActionRun(self, action_performer):\n\t\tself.count += 1\n\t\tprint(\"'{0}' ran {1} times\".format(action_performer.name, self.count))\n\nperformer = Action('Foo action')\nobserver = ActionCounter(performer)\nperformer.run() # => \"'Foo action' ran 1 times\"\nperformer.run() # => \"'Foo action' ran 2 times\"\n```\n\n### Unsubscribe function returned by .add\n```python\n\n# setup\nevent = Event()\n\ndef setup():\n\tdef handler(value):\n\t\tprint(value)\n\n\tunsubscribe = event.add(handler)\n\treturn unsubscribe\n\ncleanup = setup()\n\n# do stuff\n# ...\n\n# cleanup\ncleanup()\n```\n\n\n\n## Decorators\n\nThe evento package provides the following decorators to easily add before and/or after events to any method:\n\n```python\n@triggers_before_event\n@triggers_after_event\n@triggers_beforeafter_events\n```\n\nThey can be used as followed:\n\n```python\nfrom evento import triggers_before_event, triggers_after_event, triggers_beforeafter_events\n\ndef before(event):\n    print('before')\n\ndef after(event):\n    print('after')\n\n@triggers_before_event\ndef before_action(param1):\n    print(param1)\n\n@triggers_after_event\ndef after_action(param1, param2, param3):\n    print(' '.join([param1, param2, param3]))\n\n@triggers_beforeafter_events\ndef both_action():\n    print('during')\n\n\nbefore_action('first before') # => \"first before\"\nafter_action('first after:', '1', '2') # => \"first after: 1 2\"\nboth_action() # => \"during\"\n\n# subscribe callbacks to the decorated methods\nbefore_action.subscribe(before)\nafter_action.subscribe(after)\nboth_action.subscribe(before, after)\n\nbefore_action('second before') # => \"before\\nsecond before\"\nafter_action('second after:', '3', '4') # => second after: 3 4\\nafter\"\nboth_action() # before\\nduring\\nafter\n\n```\n\nNote that these decorators simply wrap the function in a class that also holds a beforeEvent and/or afterEvent, which is/are triggered before/after the function is invoked. To clarify; within the context of the above example, the following two lines do exactly the same:\n\n```python\nbefore_action.subscribe(before)\nbefore_action.beforeEvent += before\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/markkorput/pyevento", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "evento", "package_url": "https://pypi.org/project/evento/", "platform": "", "project_url": "https://pypi.org/project/evento/", "project_urls": {"Homepage": "http://github.com/markkorput/pyevento"}, "release_url": "https://pypi.org/project/evento/1.0.2/", "requires_dist": null, "requires_python": "", "summary": "Observer pattern made muy facil", "version": "1.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>pyevento</h1>\n<p><a href=\"https://travis-ci.org/markkorput/pyevento\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f429f0a0539dcd70abf909db836afafdf5d48841/68747470733a2f2f7472617669732d63692e6f72672f6d61726b6b6f727075742f70796576656e746f2e737667\"></a></p>\n<p>Python evento package, making the Observer pattern est\u00fapida sencillo.</p>\n<h2>Install</h2>\n<pre>pip install evento\n</pre>\n<h2>Usage</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">evento</span> <span class=\"kn\">import</span> <span class=\"n\">Event</span>\n\n<span class=\"c1\"># observers are simply methods</span>\n<span class=\"k\">def</span> <span class=\"nf\">observer</span><span class=\"p\">(</span><span class=\"n\">param1</span><span class=\"p\">,</span> <span class=\"n\">param2</span><span class=\"p\">):</span>\n\t<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">', '</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">([</span><span class=\"n\">param1</span><span class=\"p\">,</span> <span class=\"n\">param2</span><span class=\"p\">]))</span>\n\n<span class=\"c1\"># we need to create an instance for every event we want to fire</span>\n<span class=\"n\">demo_event</span> <span class=\"o\">=</span> <span class=\"n\">Event</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># subscribe observer to the event</span>\n<span class=\"n\">demo_event</span> <span class=\"o\">+=</span> <span class=\"n\">observer</span>\n\n<span class=\"c1\"># trigger notifications for the event (run all observers)</span>\n<span class=\"n\">demo_event</span><span class=\"p\">(</span><span class=\"s1\">'Hello'</span><span class=\"p\">,</span> <span class=\"s1\">'World'</span><span class=\"p\">)</span> <span class=\"c1\"># =&gt; \"Hello, World\"</span>\n</pre>\n<h2>Usage within classes</h2>\n<p>This is how Events are typically used to decouple code into separate classes;</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">evento</span> <span class=\"kn\">import</span> <span class=\"n\">Event</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Action</span><span class=\"p\">:</span>\n\t<span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">):</span>\n\t\t<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">name</span>\n\t\t<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">runEvent</span> <span class=\"o\">=</span> <span class=\"n\">Event</span><span class=\"p\">()</span>\n\n\t<span class=\"k\">def</span> <span class=\"nf\">run</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n\t\t<span class=\"c1\"># do action-specific stuff</span>\n\t\t<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">runEvent</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">ActionCounter</span><span class=\"p\">:</span>\n\t<span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">action_performer</span><span class=\"p\">):</span>\n\t\t<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n\t\t<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">actionEvent</span> <span class=\"o\">=</span> <span class=\"n\">action_performer</span><span class=\"o\">.</span><span class=\"n\">runEvent</span>\n\t\t<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">actionEvent</span> <span class=\"o\">+=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_onActionRun</span>\n\n\t<span class=\"k\">def</span> <span class=\"fm\">__del__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n\t\t<span class=\"c1\"># observers should always make sure to _unsubscribe_ from events when they are done</span>\n\t\t<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">actionEvent</span> <span class=\"o\">-=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_onActionRun</span>\n\n\t<span class=\"k\">def</span> <span class=\"nf\">_onActionRun</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">action_performer</span><span class=\"p\">):</span>\n\t\t<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n\t\t<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"'</span><span class=\"si\">{0}</span><span class=\"s2\">' ran </span><span class=\"si\">{1}</span><span class=\"s2\"> times\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">action_performer</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">count</span><span class=\"p\">))</span>\n\n<span class=\"n\">performer</span> <span class=\"o\">=</span> <span class=\"n\">Action</span><span class=\"p\">(</span><span class=\"s1\">'Foo action'</span><span class=\"p\">)</span>\n<span class=\"n\">observer</span> <span class=\"o\">=</span> <span class=\"n\">ActionCounter</span><span class=\"p\">(</span><span class=\"n\">performer</span><span class=\"p\">)</span>\n<span class=\"n\">performer</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span> <span class=\"c1\"># =&gt; \"'Foo action' ran 1 times\"</span>\n<span class=\"n\">performer</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span> <span class=\"c1\"># =&gt; \"'Foo action' ran 2 times\"</span>\n</pre>\n<h3>Unsubscribe function returned by .add</h3>\n<pre><span class=\"c1\"># setup</span>\n<span class=\"n\">event</span> <span class=\"o\">=</span> <span class=\"n\">Event</span><span class=\"p\">()</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">setup</span><span class=\"p\">():</span>\n\t<span class=\"k\">def</span> <span class=\"nf\">handler</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">):</span>\n\t\t<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n\n\t<span class=\"n\">unsubscribe</span> <span class=\"o\">=</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">)</span>\n\t<span class=\"k\">return</span> <span class=\"n\">unsubscribe</span>\n\n<span class=\"n\">cleanup</span> <span class=\"o\">=</span> <span class=\"n\">setup</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># do stuff</span>\n<span class=\"c1\"># ...</span>\n\n<span class=\"c1\"># cleanup</span>\n<span class=\"n\">cleanup</span><span class=\"p\">()</span>\n</pre>\n<h2>Decorators</h2>\n<p>The evento package provides the following decorators to easily add before and/or after events to any method:</p>\n<pre><span class=\"nd\">@triggers_before_event</span>\n<span class=\"nd\">@triggers_after_event</span>\n<span class=\"nd\">@triggers_beforeafter_events</span>\n</pre>\n<p>They can be used as followed:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">evento</span> <span class=\"kn\">import</span> <span class=\"n\">triggers_before_event</span><span class=\"p\">,</span> <span class=\"n\">triggers_after_event</span><span class=\"p\">,</span> <span class=\"n\">triggers_beforeafter_events</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">before</span><span class=\"p\">(</span><span class=\"n\">event</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'before'</span><span class=\"p\">)</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">after</span><span class=\"p\">(</span><span class=\"n\">event</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'after'</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@triggers_before_event</span>\n<span class=\"k\">def</span> <span class=\"nf\">before_action</span><span class=\"p\">(</span><span class=\"n\">param1</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">param1</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@triggers_after_event</span>\n<span class=\"k\">def</span> <span class=\"nf\">after_action</span><span class=\"p\">(</span><span class=\"n\">param1</span><span class=\"p\">,</span> <span class=\"n\">param2</span><span class=\"p\">,</span> <span class=\"n\">param3</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">' '</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">([</span><span class=\"n\">param1</span><span class=\"p\">,</span> <span class=\"n\">param2</span><span class=\"p\">,</span> <span class=\"n\">param3</span><span class=\"p\">]))</span>\n\n<span class=\"nd\">@triggers_beforeafter_events</span>\n<span class=\"k\">def</span> <span class=\"nf\">both_action</span><span class=\"p\">():</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'during'</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">before_action</span><span class=\"p\">(</span><span class=\"s1\">'first before'</span><span class=\"p\">)</span> <span class=\"c1\"># =&gt; \"first before\"</span>\n<span class=\"n\">after_action</span><span class=\"p\">(</span><span class=\"s1\">'first after:'</span><span class=\"p\">,</span> <span class=\"s1\">'1'</span><span class=\"p\">,</span> <span class=\"s1\">'2'</span><span class=\"p\">)</span> <span class=\"c1\"># =&gt; \"first after: 1 2\"</span>\n<span class=\"n\">both_action</span><span class=\"p\">()</span> <span class=\"c1\"># =&gt; \"during\"</span>\n\n<span class=\"c1\"># subscribe callbacks to the decorated methods</span>\n<span class=\"n\">before_action</span><span class=\"o\">.</span><span class=\"n\">subscribe</span><span class=\"p\">(</span><span class=\"n\">before</span><span class=\"p\">)</span>\n<span class=\"n\">after_action</span><span class=\"o\">.</span><span class=\"n\">subscribe</span><span class=\"p\">(</span><span class=\"n\">after</span><span class=\"p\">)</span>\n<span class=\"n\">both_action</span><span class=\"o\">.</span><span class=\"n\">subscribe</span><span class=\"p\">(</span><span class=\"n\">before</span><span class=\"p\">,</span> <span class=\"n\">after</span><span class=\"p\">)</span>\n\n<span class=\"n\">before_action</span><span class=\"p\">(</span><span class=\"s1\">'second before'</span><span class=\"p\">)</span> <span class=\"c1\"># =&gt; \"before\\nsecond before\"</span>\n<span class=\"n\">after_action</span><span class=\"p\">(</span><span class=\"s1\">'second after:'</span><span class=\"p\">,</span> <span class=\"s1\">'3'</span><span class=\"p\">,</span> <span class=\"s1\">'4'</span><span class=\"p\">)</span> <span class=\"c1\"># =&gt; second after: 3 4\\nafter\"</span>\n<span class=\"n\">both_action</span><span class=\"p\">()</span> <span class=\"c1\"># before\\nduring\\nafter</span>\n</pre>\n<p>Note that these decorators simply wrap the function in a class that also holds a beforeEvent and/or afterEvent, which is/are triggered before/after the function is invoked. To clarify; within the context of the above example, the following two lines do exactly the same:</p>\n<pre><span class=\"n\">before_action</span><span class=\"o\">.</span><span class=\"n\">subscribe</span><span class=\"p\">(</span><span class=\"n\">before</span><span class=\"p\">)</span>\n<span class=\"n\">before_action</span><span class=\"o\">.</span><span class=\"n\">beforeEvent</span> <span class=\"o\">+=</span> <span class=\"n\">before</span>\n</pre>\n\n          </div>"}, "last_serial": 6439568, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "5db368b09f3bb7bc0bf6b7961be2edad", "sha256": "f6b627d269c8f37f5296993632f3d1e6647753a06249e3312b03f12f3d011772"}, "downloads": -1, "filename": "evento-0.0.1.tar.gz", "has_sig": false, "md5_digest": "5db368b09f3bb7bc0bf6b7961be2edad", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1572, "upload_time": "2016-09-13T00:13:36", "upload_time_iso_8601": "2016-09-13T00:13:36.098733Z", "url": "https://files.pythonhosted.org/packages/7c/01/7071be932beee8ae06c1e92eaf8df688e215a89766edfa91c666e85562ae/evento-0.0.1.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "b6419f2c32b399cd4e9a61738df7bc27", "sha256": "7d2264c75cca1e8f8c8eb2e40b13e25224c9f1d5222268cbe738874cfe007e03"}, "downloads": -1, "filename": "evento-1.0.0.tar.gz", "has_sig": false, "md5_digest": "b6419f2c32b399cd4e9a61738df7bc27", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1843, "upload_time": "2016-09-13T01:38:10", "upload_time_iso_8601": "2016-09-13T01:38:10.437707Z", "url": "https://files.pythonhosted.org/packages/f3/0e/9f2d22f1a515a1f325980d9a897e628cbf724e9d29b80cd509dd2ff8de3c/evento-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "7b39c9cc24980afbc31185b2dde33e35", "sha256": "2644a88e4e0a395f0d372ce0b5627506cb29547788bdd97e8fb2240dfe341b13"}, "downloads": -1, "filename": "evento-1.0.1.tar.gz", "has_sig": false, "md5_digest": "7b39c9cc24980afbc31185b2dde33e35", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1852, "upload_time": "2016-11-08T11:45:41", "upload_time_iso_8601": "2016-11-08T11:45:41.375248Z", "url": "https://files.pythonhosted.org/packages/95/68/65ca69971ab0727c11bf6b416579f4d692c7aa75f9cb663ece0e216edf46/evento-1.0.1.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "3140fd1ba59a39864f8f012ece63f539", "sha256": "7a010c2a7d64b84dff06fb56a28d7e64b9234b15778bf96d526d6d839f181547"}, "downloads": -1, "filename": "evento-1.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "3140fd1ba59a39864f8f012ece63f539", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4884, "upload_time": "2020-01-12T12:26:32", "upload_time_iso_8601": "2020-01-12T12:26:32.449590Z", "url": "https://files.pythonhosted.org/packages/30/d5/84619ee45061a3a4658b883550eff5d18bb8ce1a8af4f2b61fcb7ab00337/evento-1.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f86b238bba6d272a1417dab24f1b692b", "sha256": "093c054ae590b968c3c2c7852d02ddbaea25fc1305024f83dd636fcba3545871"}, "downloads": -1, "filename": "evento-1.0.2.tar.gz", "has_sig": false, "md5_digest": "f86b238bba6d272a1417dab24f1b692b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3597, "upload_time": "2020-01-12T12:26:33", "upload_time_iso_8601": "2020-01-12T12:26:33.971205Z", "url": "https://files.pythonhosted.org/packages/0b/65/eb6abbd4cd250c903645a27e357ff9f8e33b45f1eb126846807a3cd2e5d2/evento-1.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "3140fd1ba59a39864f8f012ece63f539", "sha256": "7a010c2a7d64b84dff06fb56a28d7e64b9234b15778bf96d526d6d839f181547"}, "downloads": -1, "filename": "evento-1.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "3140fd1ba59a39864f8f012ece63f539", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4884, "upload_time": "2020-01-12T12:26:32", "upload_time_iso_8601": "2020-01-12T12:26:32.449590Z", "url": "https://files.pythonhosted.org/packages/30/d5/84619ee45061a3a4658b883550eff5d18bb8ce1a8af4f2b61fcb7ab00337/evento-1.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f86b238bba6d272a1417dab24f1b692b", "sha256": "093c054ae590b968c3c2c7852d02ddbaea25fc1305024f83dd636fcba3545871"}, "downloads": -1, "filename": "evento-1.0.2.tar.gz", "has_sig": false, "md5_digest": "f86b238bba6d272a1417dab24f1b692b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3597, "upload_time": "2020-01-12T12:26:33", "upload_time_iso_8601": "2020-01-12T12:26:33.971205Z", "url": "https://files.pythonhosted.org/packages/0b/65/eb6abbd4cd250c903645a27e357ff9f8e33b45f1eb126846807a3cd2e5d2/evento-1.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:45:12 2020"}
{"info": {"author": "HBQA", "author_email": "", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: MacOS", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3 :: Only"], "description": "<h1 align=\"center\">Lyrebird - BugIt plugin</h1>\n\n[![Build Status](https://travis-ci.org/Meituan-Dianping/lyrebird-bugit.svg?branch=master)](https://travis-ci.org/Meituan-Dianping/lyrebird-bugit)\n[![PyPI](https://img.shields.io/pypi/v/lyrebird-bugit.svg)](https://pypi.python.org/pypi/lyrebird-bugit)\n![PyPI](https://img.shields.io/pypi/pyversions/lyrebird-bugit.svg)\n![GitHub](https://img.shields.io/github/license/meituan-dianping/lyrebird-bugit.svg)\n[![Codacy Badge](https://api.codacy.com/project/badge/Grade/89854dfac65d4cde9efaebcc6b3845c6)](https://www.codacy.com/manual/dodosophia/lyrebird-bugit?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Meituan-Dianping/lyrebird-bugit&amp;utm_campaign=Badge_Grade)\n[![Total alerts](https://img.shields.io/lgtm/alerts/g/Meituan-Dianping/lyrebird-bugit.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/Meituan-Dianping/lyrebird-bugit/alerts/)\n[![Language grade: Python](https://img.shields.io/lgtm/grade/python/g/Meituan-Dianping/lyrebird-bugit.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/Meituan-Dianping/lyrebird-bugit/context:python)\n\n\n**[Lyrebird](https://github.com/Meituan-Dianping/lyrebird)**\n\u662f\u4e00\u4e2a\u57fa\u4e8e\u62e6\u622a\u4ee5\u53ca\u6a21\u62dfHTTP/HTTPS\u7f51\u7edc\u8bf7\u6c42\u7684\u9762\u5411\u79fb\u52a8\u5e94\u7528\u7684\u63d2\u4ef6\u5316\u6d4b\u8bd5\u5e73\u53f0\u3002\n\n**BugIt plugin\u662f\u4e00\u4e2aLyrebird\u7684\u63d2\u4ef6\uff0c\u7528\u4e8e\u6c47\u603bLyrebird\u5404\u63d2\u4ef6\u4fe1\u606f\uff0c\u63d0\u4ea4Bug\u3002**\n\n----\n\n# \u7b80\u4ecb\nBugIt\u662f\u4e00\u4e2a[Lyrebird](https://github.com/Meituan-Dianping/lyrebird)\u63d2\u4ef6\u3002\n\n\u901a\u8fc7BugIt\u53ef\u4ee5\u8f7b\u677e\u7684\u5c06Lyrebird\u4e2d\u6536\u96c6\u7684\u4eba\u673a\u4ea4\u4e92\u6570\u636e\u4f5c\u4e3a\u63cf\u8ff0\u6216\u8005\u9644\u4ef6\u63d0\u4ea4\u5230Bug\u7ba1\u7406\u7cfb\u7edf\u4e2d(\u5982JIRA)\u3002\n\n\u4e0e[\u68c0\u67e5\u5668](https://meituan-dianping.github.io/lyrebird/guide/checker.html#%E8%BD%BD%E5%85%A5%E6%A3%80%E6%9F%A5%E5%99%A8)(Checker)\u7ed3\u5408\uff0c\u5373\u53ef\u5b9e\u73b0\u4e00\u952e\u63d0\u4ea4bug\u7684\u529f\u80fd\u3002\n\n# \u5feb\u901f\u5f00\u59cb\n## \u73af\u5883\u8981\u6c42\n\n- macOS OR Linux\n\n- Python3.6\u53ca\u4ee5\u4e0a\n\n- Lyrebird 1.6\u53ca\u4ee5\u4e0a\n## \u5b89\u88c5\n\n```bash\npip3 install lyrebird-bugit\n```\n\n## \u542f\u52a8\n\n```bash\nlyrebird\n```\n\n# \u529f\u80fd\u4ecb\u7ecd\n\n## Bug\u63d0\u4ea4\n\u8bfb\u53d6\u811a\u672c\u6587\u4ef6\u540e\uff0cBugIt\u4f1a\u5f97\u5230\u4e00\u4e2aBug\u4fe1\u606f\u586b\u5145\u7684\u754c\u9762\uff0c\u79f0\u4e4b\u4e3aBug\u8868\u5355\u3002\n\n\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49Bug\u5b57\u6bb5\u7684 \u540d\u79f0\u3001\u5148\u540e\u987a\u5e8f\u3001\u586b\u5199\u6837\u5f0f\u3001\u9ed8\u8ba4\u503c\u3002\n\n![\bBug\u8868\u5355](./image/bugit_bug.png)\n\nBugIt\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u670d\u52a1\u5411\u4efb\u610fBug\u7ba1\u7406\u7cfb\u7edf\u63d0\u4ea4Issue\n\n## API\u6570\u636e\u83b7\u53d6\nBugIt\u652f\u6301\u81ea\u52a8\u586b\u5145Lyrebird\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u6293\u53d6\u5230\u7684\u6570\u636e\u4fe1\u606f\u3002\n\n![BugIt \u83b7\u53d6API\u4fe1\u606f](./image/bugit_api.gif)\n\n## \u62a5\u8b66\u83b7\u53d6\n\n\u5728[\u68c0\u67e5\u5668](https://meituan-dianping.github.io/lyrebird/guide/checker.html#\u8f7d\u5165\u68c0\u67e5\u5668)([Checker](https://meituan-dianping.github.io/lyrebird/guide/checker.html#\u8f7d\u5165\u68c0\u67e5\u5668))\u6355\u83b7\u62a5\u8b66\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u901a\u77e5\u4e2d\u5fc3\u968f\u65f6\u8df3\u8f6c\u81f3BugIt\u3002\n\n\u5728\u53f3\u4fa7\u6570\u636e\u9762\u677f\u4e2d\uff0c\u53ef\u4ee5\u5bf9\u5386\u53f2[\u6d88\u606f\u603b\u7ebf](/advance/eventbus.md)\u4e2d\u7684\u4fe1\u606f\u8fdb\u884c\u56de\u6eaf\uff0c\u8865\u5145\u81f3Bug\u4e2d\u3002\n\n![BugIt\u83b7\u53d6\u62a5\u8b66\u4fe1\u606f](./image/bugit_alert.gif)\n\n## \u7f13\u5b58\u529f\u80fd\n\n\u6309\u4e0b[Commond]+[s]\u952e\uff0c\u4f1a\u5c06Bug\u76f8\u5173\u5b57\u6bb5\u4fe1\u606f\u8fdb\u884c\u5b58\u50a8\u3002\n\n\u7f13\u5b58\u4fe1\u606f\u4e0d\u53d7Lyrebird\u670d\u52a1\u5f00\u5173\u3001\u6d4f\u89c8\u5668\u7f13\u5b58\u3001\u811a\u672c/\u754c\u9762\u5207\u6362\u7684\u5f71\u54cd\u3002\n\n![BugIt\u7f13\u5b58\u529f\u80fd](./image/bugit_cache.gif)\n\n\u6709\u6548\u7684\u5229\u7528\u7f13\u5b58\u529f\u80fd\uff0c\u662f\u63d0\u9ad8Bug\u4e0a\u62a5\u6548\u7387\u7684\u5173\u952e\u3002\n\n## \u63d2\u4ef6\u5728Bugit\u4e2d\u7684\u5e94\u7528\n\n\n### Android iOS\u63d2\u4ef6\n\n\u5b89\u88c5[Android\u63d2\u4ef6](https://meituan-dianping.github.io/lyrebird/guide/plugin.html#android\u63d2\u4ef6)\u3001[iOS\u63d2\u4ef6](https://meituan-dianping.github.io/lyrebird/guide/plugin.html#ios\u63d2\u4ef6)\u540e\uff0cBugIt\u652f\u6301\u8bbe\u5907\u4fe1\u606f\u6269\u5c55\u670d\u52a1\u3002\n\n- \u8bbe\u5907\u4fe1\u606f\u83b7\u53d6\n   - BugIt \u652f\u6301\u5c06\u8bbe\u5907\u540d\u79f0\u3001\u8bbe\u5907\u7cfb\u7edf\u7248\u672c\u3001\u88ab\u6d4b App \u4fe1\u606f\uff08Bundle ID(iOS)/PackageName(Android)\uff09\u586b\u5145\u5230Issue\u5185\u5bb9\u4e2d\u3002\n- \u5b9e\u65f6\u8bbe\u5907\u622a\u56fe\n   - BugIt \u53ef\u4ee5\u5b9e\u65f6\u83b7\u53d6\u8bbe\u5907\u622a\u56fe\uff0c\u5e76\u652f\u6301\u5728\u622a\u56fe\u4e0a\u8fdb\u884c\u6d82\u9e26\u3001\u6587\u672c\u6807\u8bb0\u3002\n   - \u63d0\u4ea4 Bug \u65f6\uff0c\u622a\u56fe\u5c06\u4f5c\u4e3a\u9644\u4ef6\u4e00\u5e76\u63d0\u4ea4\u7ed9\u811a\u672c\u914d\u7f6e\u670d\u52a1\u3002\n- Crash Log \u83b7\u53d6\n   - \u5728Lyrebird\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5982\u53d1\u751f \u88ab\u6d4b App \u53d1\u751f Crash\uff0cBugIt \u4f1a\u6355\u83b7\u5230 Crash Log\u3002\n   - \u63d0\u4ea4 Bug \u65f6\uff0cCrash Log \u5c06\u4f5c\u4e3a\u9644\u4ef6\u4e00\u5e76\u63d0\u4ea4\u7ed9\u811a\u672c\u914d\u7f6e\u670d\u52a1\u3002\n   - Crash \u83b7\u53d6 \u6682\u4e0d\u652f\u6301 iOS \u8bbe\u5907\n\n![\u5176\u4ed6\u63d2\u4ef6\u5728BugIt\u4e2d\u7684\u5e94\u7528](./image/bugit_devices.gif)\n\n## BugIt\u811a\u672c\n\n\u5728 ~/.lyrebird/conf.json \u4e2d\uff0cBugIt\u4f1a\u8bfb\u53d6 \u201cbugit.workspace\u201d\u5b57\u6bb5\u3002\u5e76\u5c06\u6b64\u5b57\u6bb5\u503c\u4f5c\u4e3a\u8bfb\u53d6\u6a21\u677f\u7684\u6839\u76ee\u5f55\u3002\n\n\u8be5\u76ee\u5f55\u4e0b\u6240\u6709\u6a21\u677f\u90fd\u4f1a\u52a0\u8f7d\u5230BugIt\u4e2d\uff0c\u5e76\u5728UI\u4e2d\u53ef\u9009\u3002\n\n\u5237\u65b0BugIt\u754c\u9762\u5373\u53ef\u91cd\u65b0\u52a0\u8f7d\u6240\u6709\u6a21\u677f\u3002\n\n### \u6a21\u677f\u4f7f\u7528\u8bf4\u660e\n\nBugIt\u901a\u8fc7\u6a21\u677f\u5b9a\u4e49UI\u4ee5\u53ca\u63d0\u4ea4\u7684\u884c\u4e3a\u3002\u901a\u8fc7\u4e0d\u540c\u7684\u6a21\u677f\u652f\u6301JIRA\u4ee5\u53ca\u5176\u4ed6\u7684Bug\u7ba1\u7406\u7cfb\u7edf\u3002\n\nBugIt\u6a21\u677f\u662f\u4e00\u4e2aPython\u6587\u4ef6\uff0c\u8981\u6c42\u4f7f\u7528Python3.6\u53ca\u4ee5\u4e0a\u7684\u7248\u672c\u7f16\u5199\u3002\n![BugIt \u811a\u672c\u5de5\u4f5c\u539f\u7406\u793a\u610f\u56fe](./image/bugit_callback.png)\n\u914d\u7f6e\u811a\u672c\u9700\u5305\u542b\u4ee5\u4e0b\u4e09\u90e8\u5206\n- init\u914d\u7f6e\u6587\u4ef6\n- form()\n- submit()\n\n### init\u914d\u7f6e\u6587\u4ef6\n\nBugIt \u901a\u8fc7 name \u6765\u6807\u8bc6\u914d\u7f6e\u6587\u4ef6\u3002\n\n>\u6ce8\u610f\uff1aBugIt \u811a\u672c\u5fc5\u987b\u542b\u6709 'name' \u5c5e\u6027\n\n\n```python\n\"\"\"\nTemplate name\n\"\"\"        \nname = 'TEST-JIRA'\n```\nname \u7528\u4e8e\u5728 BugIt \u524d\u7aef\u9875\u9762\u4e0a\u5c55\u793a\u811a\u672c\u540d\u79f0\u3002\n\n![name](./image/bugit_name.png)\n\n\u9009\u4e2d\u914d\u7f6e\u6587\u4ef6\u540e\uff0cBugIt init \u811a\u672c\u6587\u4ef6\uff0c\u83b7\u53d6\u811a\u672c\u6587\u4ef6\u4e2d\u56de\u8c03\u65b9\u6cd5form()\u3001submit()\u3002\n\n### form()\n\nform() \u65b9\u6cd5\u7528\u4e8e\u81ea\u5b9a\u4e49Bug\u8868\u5355\u7684\u5b57\u6bb5\u4e0e\u586b\u5199\u6837\u5f0f\u3002\n\nBug \u4e2d\u7684\u6bcf\u4e00\u5b57\u6bb5\u7531\u4e00dict\u5b9a\u4e49\uff08\u901a\u5e38\u79f0\u4e4b\u4e3aFormItem\uff09\uff0c\u8868\u5355\u914d\u7f6e\u65f6\uff0c\u901a\u8fc7dict\u7684\u4ee5\u4e0b\u5173\u952e\u5b57\u53bb\u63a7\u5236\u5b57\u6bb5\u7684\u540d\u79f0\u3001\u9ed8\u8ba4\u503c\u3001\u6837\u5f0f\u7b49\u5185\u5bb9\u3002\n\n>form()\u65b9\u6cd5\u5e94\u8fd4\u56de\u4e00\u7531FormItem\u7ec4\u6210\u7684list\u3002\n\n#### FormItem dict\u8bf4\u660e\nkey|\u8bf4\u660e|\u679a\u4e3e\u503c|\u662f\u5426\u5fc5\u586b\n:--:|:--|:--:|:--:\nname|\u5c55\u793a\u5728\u9875\u9762\u4e0a\u7684\u5b57\u6bb5\u540d\u79f0|--|Y\nvalue|\u5bf9\u5e94\u5b57\u6bb5\u586b\u5145\u7684\u503c|--|N\ncomponent|\u5b57\u6bb5\u5c55\u793a\u7684\u7ec4\u4ef6\u5f62\u5f0f|'input'\u3001'select'\u3001'compoundTextarea'|Y\noptions|\u914d\u5408 select component\u4f7f\u7528\uff0c\u7528\u4e8e\u5b58\u653eselect component\u7684\u9009\u9879\u5185\u5bb9|--|N\ncustom keys|\u81ea\u5b9a\u4e49\u5c5e\u6027\uff0c\u4e0d\u5f71\u54cdUI\u7ec4\u4ef6\u5c55\u793a\uff0c\u53ef\u4ee5\u5e2e\u4f4f\u66f4\u597d\u5730\u5904\u7406\u6570\u636e\uff0c\u8be6\u7ec6\u7528\u6cd5\u8bf7\u53c2\u8003[\u811a\u672c\u9ad8\u7ea7](https://meituan-dianping.github.io/lyrebird/plugins/bugit.html)|--|N\n\n#### BugIt \u652f\u6301\u7684 component\n- input\n\n```python\nform_item_input = {\n    'name': '\u4e3b\u9898',\n    'component': 'input',\n    'value': 'defalut value'\n}\n```\n\n![input\u7ec4\u4ef6](./image/bugit_input.png)\n\ninput \u7ec4\u4ef6\u4f1a\u751f\u6210\u4e00\u4e2a\u6587\u672c\u8f93\u5165\u6846\uff0c\u5728\u58f0\u660e\u65f6\u5982\u679c value \u4e0d\u4e3a\u7a7a\uff0c\u5219\u4f1a\u4f5c\u4e3a\u9ed8\u8ba4\u503c\u586b\u5145\u5728\u8f93\u5165\u6846\u4e2d\n\n- select\n\n```python\nform_item_select = {\n    'name': '\u7248\u672c',\n    'component': 'select',\n    'options':[\n        {'id':'001','name':'option_1'},\n        {'id':'002','name':'option_2'}\n    ],\n    'value': '001'\n}\n```\n\n![select\u7ec4\u4ef6](./image/bugit_select.png)\n\nselect\u7ec4\u4ef6\u4f1a\u751f\u6210\u4e00\u4e2a\u7b5b\u9009\u6846\uff0c\u7b5b\u9009\u9879\u7531 options \u5b9a\u4e49\uff0coptions \u4e3a\u4e00\u4e2a list\uff0c\u5176\u4e2d\u6bcf\u4e00\u5143\u7d20\u4e3a dict \u7c7b\u578b\u3002\n\noption dict\u8bf4\u660e\nkey|\u8bf4\u660e|\u662f\u5426\u5fc5\u586b\n:--:|:--|:--:\nid|\u7b5b\u9009\u9879\u552f\u4e00\u6807\u8bc6|Y\nname|\u7b5b\u9009\u9879\u5728\u524d\u7aef\u5c55\u793a\u6587\u672c\u5185\u5bb9|Y\n\nselect \u7ec4\u4ef6\u4e2d\uff0cvalue\u5e94\u4e3aoption dict\u4e2d\u5bf9\u5e94 id \u7684\u503c\n\n- compoundTextarea\n\ncompoundTextarea\u7ec4\u4ef6\u4f1a\u751f\u6210\u4e00\u4e2a\u6587\u672c\u6846\uff0c\u5728\u58f0\u660e\u65f6\u5982\u679c value \u4e0d\u4e3a\u7a7a\uff0c\u5219\u4f1a\u4f5c\u4e3a\u9ed8\u8ba4\u503c\u586b\u5145\u5728\u6587\u672c\u6846\u4e2d\n\n```python\nform_item_text = {\n    'name': '\u63cf\u8ff0',\n    'component': 'compoundTextarea',\n    'value': 'defalut value'\n}\n```\n![compoundTextarea\u7ec4\u4ef6](./image/bugit_text.png)\n\ncompoundTextarea\u7ec4\u4ef6\u5728 BugIt \u4e2d\u8fd8\u7528\u4e8e\u652f\u6301 Lyrebird \u5176\u4ed6\u4fe1\u606f\u7684\u6269\u5c55\u3002\n\n\u9009\u62e9[\u6d88\u606f\u603b\u7ebf](https://meituan-dianping.github.io/lyrebird/advance/eventbus.html)\u6216\u5176\u4ed6[\u63d2\u4ef6](https://meituan-dianping.github.io/lyrebird/plugins/)\u7684\u6570\u636e\u65f6\uff0c\u8be5\u6570\u636e\u5c06\u4f5c\u4e3a\u9644\u52a0\u4fe1\u606f\u5c55\u793a\u5728 compoundTextarea \u4e2d\u3002\n\n![\u9644\u52a0\u4fe1\u606f](./image/bugit_text_extra.gif)\n\n\u5bf9\u5e94\u7684\u6570\u636e\u4fe1\u606f\u5c06\u4f5c\u4e3a 'extraMsg' \u5b58\u653e\u5728 FormItem\u4e2d\u3002\n\u6b64\u65f6From Item\u53d8\u6210\n\n```python\nform_item_text = {\n    'name': '\u63cf\u8ff0',\n    'component': 'compoundTextarea',\n    'value': 'defalut value',\n    'extraMsg':[\n        {'message':'Flow Info'},\n        {'message':'Notice Info'},\n        {'message':'Devices Info'}\n    ]\n}\n```\n\n#### form()\u65b9\u6cd5\u793a\u4f8b\u4ee3\u7801\n\n```python\ndef form(context):\n    \"\"\"\n    BugIt callback function\n\n    BugIt will call this function when user select this template from UI.\n    This function should return a array, list all FormItem dict.\n\n    \"\"\"\n    form_item_input = {\n        'name': '\u4e3b\u9898',\n        'component': 'input',\n        'value': 'defalut value'\n    }\n    form_item_select = {\n        'name': '\u7248\u672c',\n        'component': 'select',\n        'options':[\n            {'id':'001','name':'option_1'},\n            {'id':'002','name':'option_2'}\n        ],\n        'value': '001'\n    }\n    form_item_text = {\n        'name': '\u63cf\u8ff0',\n        'component': 'compoundTextarea',\n        'value': 'defalut value'\n    }\n    form = [form_item_input,form_item_select,form_item_text]\n    return form\n```\n\u793a\u4f8b\u4ee3\u7801\u751f\u6210\u7684 Bug \u8868\u5355\u5982\u4e0b\u56fe\u6240\u793a\n![\u6d4b\u8bd5\u811a\u672c\u8868\u5355\u751f\u6210](./image/bugit_form.png)\n\n>form()\u65b9\u6cd5\u5165\u53c2 context \uff0c\u53ef\u7528\u4e8e\u4f20\u9012\u7f13\u5b58\u6570\u636e\uff0c\u76f8\u5173\u7528\u6cd5\u8be6\u89c1[\u811a\u672c\u9ad8\u7ea7](https://meituan-dianping.github.io/lyrebird/plugins/bugit.html)\n\n\n### submit()\n\n\u63d0\u4ea4\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u4e2d\u5305\u542b\u82e5\u5e72\u63d0\u4ea4\u6b65\u9aa4\u9700\u8981\u56de\u8c03\u7684\u51fd\u6570\u3002\n\n>submit()\u65b9\u6cd5\u8fd4\u56de\u4e00\u7ec4\u7528\u4e8e\u5904\u7406 submit \u884c\u4e3a\u7684\u65b9\u6cd5\u3002\n\n\u65b9\u6cd5\u8bf4\u660e\n\u65b9\u6cd5\u540d|\u5165\u53c2|\u8bf4\u660e\n:--:|:--:|:--\nissue|context|\u5904\u7406 Bug\u8868\u5355\u4e2d\u7684\u4fe1\u606f\uff0c\u901a\u8fc7 API \u5411 Bug \u7ba1\u7406\u7cfb\u7edf\u63d0\u4ea4 Issue\nattachments|context|\u5904\u7406\u9644\u4ef6\u4fe1\u606f\uff08\u5982 [Android\u63d2\u4ef6](https://meituan-dianping.github.io/lyrebird/guide/plugin.html#android\u63d2\u4ef6)\u3001[iOS\u63d2\u4ef6](https://meituan-dianping.github.io/lyrebird/guide/plugin.html#ios\u63d2\u4ef6)\u63d0\u4f9b\u7684\u622a\u56fe\u6216 Log\uff09\uff0c\u901a\u8fc7 API \u5411 \u521b\u5efa\u7684 Issue \u4e2d\u6dfb\u52a0\u9644\u4ef6\n\n#### submit()\u65b9\u6cd5\u793a\u4f8b\u4ee3\u7801\uff08\u4ee5JIRA\u670d\u52a1\u4e3a\u4f8b\uff09\n```python\ndef submit():\n    \"\"\"\n    BugIt callback function\n\n    BugIt will call this function when user tap submit button.\n    This function should return a array, contains all submit actions.\n\n    Each submit-action function have a argument. It contains form data and attachments info.\n    \"\"\"\n    return [issue, attachments]\n\ndef issue(context):\n    \"\"\"\n    This function is used to submit Issue \n    \"\"\"\n    form_data = context['issue']\n    jira_fields = {}\n\n    # transform from_data to payload submited to API of JIRA\n    for form_item in form_data:\n        if form_item['name'] == '\u4e3b\u9898' :\n            jira_fields['summary'] = form_item['value']\n        elif form_item['name'] == '\u7248\u672c':\n            jira_fields['version'] = {\n                id:form_item['value']\n                }\n        elif form_item['name'] == '\u63cf\u8ff0':\n            jira_fields['description'] = form_item['value']\n            # add extraMsg to description \n            if form_item['extraMsg']:\n                for add_des in form_item['extraMsg']:\n                    jira_fields['description'] +='\\n'\n                    jira_fields['description'] +='------------------------------\\n'\n                    jira_fields['description'] +=add_des['message']\n\n    url = 'http://www.example.com/jira/rest/api/2/issue'\n    header = {\n        'Content-Type': 'application/json;charset=utf-8'\n    }\n    resp = requests.post(url, auth=('YOUR JIRA_USER_NAME', 'YOUR_JIRA_PASSWD'),json={\"fields\": jira_fields},headers=header)\n    \n    if resp.status_code >= 200 and resp.status_code < 300:\n        body = json.loads(response.text)\n        if body.get('key') :\n            context['key'] = body['key']\n        else:\n            raise Exception(f'Submit failed {response.text}')\n    else:\n        raise Exception(f'Create issue failed with code {response.status_code}\\n{response.text}')\n\n\ndef attachments(context):\n    \"\"\"\n    This function is used to upload attachments to the Issue which has been created\n    \"\"\"\n    key = context['key']\n    attachments = context['attachments']\n\n    if len(attachments) == 0:\n        # No attachments\n        return\n\n    url = f'http://www.example.com/jira/rest/api/2/issue/{key}/attachments'\n    headers = {\n        'X-Atlassian-Token': 'nocheck'\n    }\n    multiple_files = []\n\n    # transform attachment data to payload submited to API of JIRA\n    for attachment in attachments:\n        attachment_path = Path(attachment['path'])\n        multiple_files.append(\n            ('file', (attachment_path.name, open(str(attachment_path), 'rb')))\n        )\n    response = requests.post(url, files=multiple_files, headers=headers)\n\n    if response.status_code == 200 and response.json()['code'] == 0:\n        print('Submit attachments success')\n    else:\n        raise Exception(f'Submit failed {response.text}')\n```\n\n\u5b8c\u6574\u811a\u672c\u8bf7\u53c2\u8003: [\u793a\u4f8b\u811a\u672c](example/TEST.py)\n\n\u811a\u672c\u9ad8\u7ea7\u529f\u80fd\u8bf7\u53c2\u8003:[\u811a\u672c\u9ad8\u7ea7](https://meituan-dianping.github.io/lyrebird/plugins/bugit.html)\n\n----\n# \u5f00\u53d1\u8005\u6307\u5357\n\n## \u5f00\u53d1\u73af\u5883\n- macOS OR Linux\n- Python3\n- NodeJS\n- vscode(\u63a8\u8350)\n- Chrome(\u63a8\u8350)\n\n## \u8c03\u8bd5\u4ee3\u7801\n\n### Vscode debug\u914d\u7f6e\n```json\n{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"Python: Terminal (integrated)\",\n            \"type\": \"python\",\n            \"request\": \"launch\",\n            \"program\": \"${file}\",\n            \"console\": \"integratedTerminal\"\n        },\n        {\n            \"name\": \"Server\",\n            \"type\": \"python\",\n            \"request\": \"launch\",\n            \"module\": \"lyrebird\",\n            \"args\": [\n                \"-b\",\n                \"-vvv\",\n                \"--plugin\",\n                \"${workspaceFolder}\"\n            ],\n            \"console\": \"integratedTerminal\"\n        },\n        {\n            \"name\": \"Client\",\n            \"type\": \"chrome\",\n            \"request\": \"launch\",\n            \"url\": \"http://localhost:8080/\",\n            \"webRoot\": \"${workspaceFolder}/frontend/src/\",\n            \"sourceMapPathOverrides\": {\n                \"webpack:///src/*\": \"${webRoot}/*\"\n            },\n            \"timeout\": 30000\n        }\n    ]\n}\n```\n### \u540e\u7aef\u4ee3\u7801\n1. \u6fc0\u6d3bpython\u865a\u62df\u73af\u5883\n\n    \u901a\u8fc7 source venv/bin/activate \u6765\u6fc0\u6d3b\u8be5\u73af\u5883\n2.  \u901a\u8fc7Debug\u529f\u80fd\u542f\u52a8\n    \n    \u6309\u7167\u4e0a\u9762 debug\u914d\u7f6e\u4e2d python:Lyrebrid\u914d\u7f6e\u542f\u52a8\u5373\u53ef\n### \u524d\u7aef\u4ee3\u7801\n1. \u542f\u52a8node server\n\n```\n# \u8fdb\u5165\u524d\u7aef\u76ee\u5f55\ncd frontend\n\n# \u542f\u52a8\u524d\u7aefnode serve\nnpm run serve\n```\n\n2. \u901a\u8fc7Debug\u529f\u80fd\u542f\u52a8\u6d4f\u89c8\u5668\n\n    \u6309\u7167\u4e0a\u9762 debug\u914d\u7f6e\u4e2d vuejs: chrome \u914d\u7f6e\u542f\u52a8\u5373\u53ef\n    >\u6ce8\u610f: vscode \u9700\u8981\u5b89\u88c5chrome debug\u63d2\u4ef6", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Meituan-Dianping/lyrebird-bugit", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "lyrebird-bugit", "package_url": "https://pypi.org/project/lyrebird-bugit/", "platform": "", "project_url": "https://pypi.org/project/lyrebird-bugit/", "project_urls": {"Homepage": "https://github.com/Meituan-Dianping/lyrebird-bugit"}, "release_url": "https://pypi.org/project/lyrebird-bugit/1.2.3/", "requires_dist": null, "requires_python": "", "summary": "", "version": "1.2.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Lyrebird - BugIt plugin</h1>\n<p><a href=\"https://travis-ci.org/Meituan-Dianping/lyrebird-bugit\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2f4e39d384289dbb47d9b92a76b67b7fe42d3960/68747470733a2f2f7472617669732d63692e6f72672f4d65697475616e2d4469616e70696e672f6c797265626972642d62756769742e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.python.org/pypi/lyrebird-bugit\" rel=\"nofollow\"><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/cb0460da0f4e8ff1cca18c7edd0b6e10ec0cee8f/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6c797265626972642d62756769742e737667\"></a>\n<img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/77831ce7073c97977764d6f2f7ccc9b4fa91de0c/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6c797265626972642d62756769742e737667\">\n<img alt=\"GitHub\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8442fa69a5c2a21c5c161984191051cba5684b27/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6d65697475616e2d6469616e70696e672f6c797265626972642d62756769742e737667\">\n<a href=\"https://www.codacy.com/manual/dodosophia/lyrebird-bugit?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Meituan-Dianping/lyrebird-bugit&amp;utm_campaign=Badge_Grade\" rel=\"nofollow\"><img alt=\"Codacy Badge\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f7477320b4764d848b7c450afdd09ca634d1cb45/68747470733a2f2f6170692e636f646163792e636f6d2f70726f6a6563742f62616467652f47726164652f3839383534646661633635643463646539656661656263633662333834356336\"></a>\n<a href=\"https://lgtm.com/projects/g/Meituan-Dianping/lyrebird-bugit/alerts/\" rel=\"nofollow\"><img alt=\"Total alerts\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c0bbc434329253b7efdc9fb317348985740dda96/68747470733a2f2f696d672e736869656c64732e696f2f6c67746d2f616c657274732f672f4d65697475616e2d4469616e70696e672f6c797265626972642d62756769742e7376673f6c6f676f3d6c67746d266c6f676f57696474683d3138\"></a>\n<a href=\"https://lgtm.com/projects/g/Meituan-Dianping/lyrebird-bugit/context:python\" rel=\"nofollow\"><img alt=\"Language grade: Python\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/07ded7290dae28011abb72e2882d54537cd6937a/68747470733a2f2f696d672e736869656c64732e696f2f6c67746d2f67726164652f707974686f6e2f672f4d65697475616e2d4469616e70696e672f6c797265626972642d62756769742e7376673f6c6f676f3d6c67746d266c6f676f57696474683d3138\"></a></p>\n<p><strong><a href=\"https://github.com/Meituan-Dianping/lyrebird\" rel=\"nofollow\">Lyrebird</a></strong>\n\u662f\u4e00\u4e2a\u57fa\u4e8e\u62e6\u622a\u4ee5\u53ca\u6a21\u62dfHTTP/HTTPS\u7f51\u7edc\u8bf7\u6c42\u7684\u9762\u5411\u79fb\u52a8\u5e94\u7528\u7684\u63d2\u4ef6\u5316\u6d4b\u8bd5\u5e73\u53f0\u3002</p>\n<p><strong>BugIt plugin\u662f\u4e00\u4e2aLyrebird\u7684\u63d2\u4ef6\uff0c\u7528\u4e8e\u6c47\u603bLyrebird\u5404\u63d2\u4ef6\u4fe1\u606f\uff0c\u63d0\u4ea4Bug\u3002</strong></p>\n<hr>\n<h1>\u7b80\u4ecb</h1>\n<p>BugIt\u662f\u4e00\u4e2a<a href=\"https://github.com/Meituan-Dianping/lyrebird\" rel=\"nofollow\">Lyrebird</a>\u63d2\u4ef6\u3002</p>\n<p>\u901a\u8fc7BugIt\u53ef\u4ee5\u8f7b\u677e\u7684\u5c06Lyrebird\u4e2d\u6536\u96c6\u7684\u4eba\u673a\u4ea4\u4e92\u6570\u636e\u4f5c\u4e3a\u63cf\u8ff0\u6216\u8005\u9644\u4ef6\u63d0\u4ea4\u5230Bug\u7ba1\u7406\u7cfb\u7edf\u4e2d(\u5982JIRA)\u3002</p>\n<p>\u4e0e<a href=\"https://meituan-dianping.github.io/lyrebird/guide/checker.html#%E8%BD%BD%E5%85%A5%E6%A3%80%E6%9F%A5%E5%99%A8\" rel=\"nofollow\">\u68c0\u67e5\u5668</a>(Checker)\u7ed3\u5408\uff0c\u5373\u53ef\u5b9e\u73b0\u4e00\u952e\u63d0\u4ea4bug\u7684\u529f\u80fd\u3002</p>\n<h1>\u5feb\u901f\u5f00\u59cb</h1>\n<h2>\u73af\u5883\u8981\u6c42</h2>\n<ul>\n<li>\n<p>macOS OR Linux</p>\n</li>\n<li>\n<p>Python3.6\u53ca\u4ee5\u4e0a</p>\n</li>\n<li>\n<p>Lyrebird 1.6\u53ca\u4ee5\u4e0a</p>\n</li>\n</ul>\n<h2>\u5b89\u88c5</h2>\n<pre>pip3 install lyrebird-bugit\n</pre>\n<h2>\u542f\u52a8</h2>\n<pre>lyrebird\n</pre>\n<h1>\u529f\u80fd\u4ecb\u7ecd</h1>\n<h2>Bug\u63d0\u4ea4</h2>\n<p>\u8bfb\u53d6\u811a\u672c\u6587\u4ef6\u540e\uff0cBugIt\u4f1a\u5f97\u5230\u4e00\u4e2aBug\u4fe1\u606f\u586b\u5145\u7684\u754c\u9762\uff0c\u79f0\u4e4b\u4e3aBug\u8868\u5355\u3002</p>\n<p>\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49Bug\u5b57\u6bb5\u7684 \u540d\u79f0\u3001\u5148\u540e\u987a\u5e8f\u3001\u586b\u5199\u6837\u5f0f\u3001\u9ed8\u8ba4\u503c\u3002</p>\n<p><img alt=\"Bug\u8868\u5355\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6de9d35c1d94ff0541145b1a54d74fdd83019167/2e2f696d6167652f62756769745f6275672e706e67\"></p>\n<p>BugIt\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u670d\u52a1\u5411\u4efb\u610fBug\u7ba1\u7406\u7cfb\u7edf\u63d0\u4ea4Issue</p>\n<h2>API\u6570\u636e\u83b7\u53d6</h2>\n<p>BugIt\u652f\u6301\u81ea\u52a8\u586b\u5145Lyrebird\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u6293\u53d6\u5230\u7684\u6570\u636e\u4fe1\u606f\u3002</p>\n<p><img alt=\"BugIt \u83b7\u53d6API\u4fe1\u606f\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2e60b3cd80612049fb74a25c04ae7db761c6b86f/2e2f696d6167652f62756769745f6170692e676966\"></p>\n<h2>\u62a5\u8b66\u83b7\u53d6</h2>\n<p>\u5728<a href=\"https://meituan-dianping.github.io/lyrebird/guide/checker.html#%E8%BD%BD%E5%85%A5%E6%A3%80%E6%9F%A5%E5%99%A8\" rel=\"nofollow\">\u68c0\u67e5\u5668</a>(<a href=\"https://meituan-dianping.github.io/lyrebird/guide/checker.html#%E8%BD%BD%E5%85%A5%E6%A3%80%E6%9F%A5%E5%99%A8\" rel=\"nofollow\">Checker</a>)\u6355\u83b7\u62a5\u8b66\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u901a\u77e5\u4e2d\u5fc3\u968f\u65f6\u8df3\u8f6c\u81f3BugIt\u3002</p>\n<p>\u5728\u53f3\u4fa7\u6570\u636e\u9762\u677f\u4e2d\uff0c\u53ef\u4ee5\u5bf9\u5386\u53f2<a href=\"/advance/eventbus.md\" rel=\"nofollow\">\u6d88\u606f\u603b\u7ebf</a>\u4e2d\u7684\u4fe1\u606f\u8fdb\u884c\u56de\u6eaf\uff0c\u8865\u5145\u81f3Bug\u4e2d\u3002</p>\n<p><img alt=\"BugIt\u83b7\u53d6\u62a5\u8b66\u4fe1\u606f\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b5d39b4b49a3ef342b067ab638ea513c0f64f2a6/2e2f696d6167652f62756769745f616c6572742e676966\"></p>\n<h2>\u7f13\u5b58\u529f\u80fd</h2>\n<p>\u6309\u4e0b[Commond]+[s]\u952e\uff0c\u4f1a\u5c06Bug\u76f8\u5173\u5b57\u6bb5\u4fe1\u606f\u8fdb\u884c\u5b58\u50a8\u3002</p>\n<p>\u7f13\u5b58\u4fe1\u606f\u4e0d\u53d7Lyrebird\u670d\u52a1\u5f00\u5173\u3001\u6d4f\u89c8\u5668\u7f13\u5b58\u3001\u811a\u672c/\u754c\u9762\u5207\u6362\u7684\u5f71\u54cd\u3002</p>\n<p><img alt=\"BugIt\u7f13\u5b58\u529f\u80fd\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b6c50085fb7a42af731472a335067f0230767be8/2e2f696d6167652f62756769745f63616368652e676966\"></p>\n<p>\u6709\u6548\u7684\u5229\u7528\u7f13\u5b58\u529f\u80fd\uff0c\u662f\u63d0\u9ad8Bug\u4e0a\u62a5\u6548\u7387\u7684\u5173\u952e\u3002</p>\n<h2>\u63d2\u4ef6\u5728Bugit\u4e2d\u7684\u5e94\u7528</h2>\n<h3>Android iOS\u63d2\u4ef6</h3>\n<p>\u5b89\u88c5<a href=\"https://meituan-dianping.github.io/lyrebird/guide/plugin.html#android%E6%8F%92%E4%BB%B6\" rel=\"nofollow\">Android\u63d2\u4ef6</a>\u3001<a href=\"https://meituan-dianping.github.io/lyrebird/guide/plugin.html#ios%E6%8F%92%E4%BB%B6\" rel=\"nofollow\">iOS\u63d2\u4ef6</a>\u540e\uff0cBugIt\u652f\u6301\u8bbe\u5907\u4fe1\u606f\u6269\u5c55\u670d\u52a1\u3002</p>\n<ul>\n<li>\u8bbe\u5907\u4fe1\u606f\u83b7\u53d6\n<ul>\n<li>BugIt \u652f\u6301\u5c06\u8bbe\u5907\u540d\u79f0\u3001\u8bbe\u5907\u7cfb\u7edf\u7248\u672c\u3001\u88ab\u6d4b App \u4fe1\u606f\uff08Bundle ID(iOS)/PackageName(Android)\uff09\u586b\u5145\u5230Issue\u5185\u5bb9\u4e2d\u3002</li>\n</ul>\n</li>\n<li>\u5b9e\u65f6\u8bbe\u5907\u622a\u56fe\n<ul>\n<li>BugIt \u53ef\u4ee5\u5b9e\u65f6\u83b7\u53d6\u8bbe\u5907\u622a\u56fe\uff0c\u5e76\u652f\u6301\u5728\u622a\u56fe\u4e0a\u8fdb\u884c\u6d82\u9e26\u3001\u6587\u672c\u6807\u8bb0\u3002</li>\n<li>\u63d0\u4ea4 Bug \u65f6\uff0c\u622a\u56fe\u5c06\u4f5c\u4e3a\u9644\u4ef6\u4e00\u5e76\u63d0\u4ea4\u7ed9\u811a\u672c\u914d\u7f6e\u670d\u52a1\u3002</li>\n</ul>\n</li>\n<li>Crash Log \u83b7\u53d6\n<ul>\n<li>\u5728Lyrebird\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5982\u53d1\u751f \u88ab\u6d4b App \u53d1\u751f Crash\uff0cBugIt \u4f1a\u6355\u83b7\u5230 Crash Log\u3002</li>\n<li>\u63d0\u4ea4 Bug \u65f6\uff0cCrash Log \u5c06\u4f5c\u4e3a\u9644\u4ef6\u4e00\u5e76\u63d0\u4ea4\u7ed9\u811a\u672c\u914d\u7f6e\u670d\u52a1\u3002</li>\n<li>Crash \u83b7\u53d6 \u6682\u4e0d\u652f\u6301 iOS \u8bbe\u5907</li>\n</ul>\n</li>\n</ul>\n<p><img alt=\"\u5176\u4ed6\u63d2\u4ef6\u5728BugIt\u4e2d\u7684\u5e94\u7528\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2f2f9d151dee38ba5f7fd08c103f102a616681b2/2e2f696d6167652f62756769745f646576696365732e676966\"></p>\n<h2>BugIt\u811a\u672c</h2>\n<p>\u5728 ~/.lyrebird/conf.json \u4e2d\uff0cBugIt\u4f1a\u8bfb\u53d6 \u201cbugit.workspace\u201d\u5b57\u6bb5\u3002\u5e76\u5c06\u6b64\u5b57\u6bb5\u503c\u4f5c\u4e3a\u8bfb\u53d6\u6a21\u677f\u7684\u6839\u76ee\u5f55\u3002</p>\n<p>\u8be5\u76ee\u5f55\u4e0b\u6240\u6709\u6a21\u677f\u90fd\u4f1a\u52a0\u8f7d\u5230BugIt\u4e2d\uff0c\u5e76\u5728UI\u4e2d\u53ef\u9009\u3002</p>\n<p>\u5237\u65b0BugIt\u754c\u9762\u5373\u53ef\u91cd\u65b0\u52a0\u8f7d\u6240\u6709\u6a21\u677f\u3002</p>\n<h3>\u6a21\u677f\u4f7f\u7528\u8bf4\u660e</h3>\n<p>BugIt\u901a\u8fc7\u6a21\u677f\u5b9a\u4e49UI\u4ee5\u53ca\u63d0\u4ea4\u7684\u884c\u4e3a\u3002\u901a\u8fc7\u4e0d\u540c\u7684\u6a21\u677f\u652f\u6301JIRA\u4ee5\u53ca\u5176\u4ed6\u7684Bug\u7ba1\u7406\u7cfb\u7edf\u3002</p>\n<p>BugIt\u6a21\u677f\u662f\u4e00\u4e2aPython\u6587\u4ef6\uff0c\u8981\u6c42\u4f7f\u7528Python3.6\u53ca\u4ee5\u4e0a\u7684\u7248\u672c\u7f16\u5199\u3002\n<img alt=\"BugIt \u811a\u672c\u5de5\u4f5c\u539f\u7406\u793a\u610f\u56fe\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7e4d69446c255bb3a63ceca2efc4d4e45b1494f0/2e2f696d6167652f62756769745f63616c6c6261636b2e706e67\">\n\u914d\u7f6e\u811a\u672c\u9700\u5305\u542b\u4ee5\u4e0b\u4e09\u90e8\u5206</p>\n<ul>\n<li>init\u914d\u7f6e\u6587\u4ef6</li>\n<li>form()</li>\n<li>submit()</li>\n</ul>\n<h3>init\u914d\u7f6e\u6587\u4ef6</h3>\n<p>BugIt \u901a\u8fc7 name \u6765\u6807\u8bc6\u914d\u7f6e\u6587\u4ef6\u3002</p>\n<blockquote>\n<p>\u6ce8\u610f\uff1aBugIt \u811a\u672c\u5fc5\u987b\u542b\u6709 'name' \u5c5e\u6027</p>\n</blockquote>\n<pre><span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">Template name</span>\n<span class=\"sd\">\"\"\"</span>        \n<span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s1\">'TEST-JIRA'</span>\n</pre>\n<p>name \u7528\u4e8e\u5728 BugIt \u524d\u7aef\u9875\u9762\u4e0a\u5c55\u793a\u811a\u672c\u540d\u79f0\u3002</p>\n<p><img alt=\"name\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/849dfe1067fc8efa61ad92a697cd6faaae8d0b72/2e2f696d6167652f62756769745f6e616d652e706e67\"></p>\n<p>\u9009\u4e2d\u914d\u7f6e\u6587\u4ef6\u540e\uff0cBugIt init \u811a\u672c\u6587\u4ef6\uff0c\u83b7\u53d6\u811a\u672c\u6587\u4ef6\u4e2d\u56de\u8c03\u65b9\u6cd5form()\u3001submit()\u3002</p>\n<h3>form()</h3>\n<p>form() \u65b9\u6cd5\u7528\u4e8e\u81ea\u5b9a\u4e49Bug\u8868\u5355\u7684\u5b57\u6bb5\u4e0e\u586b\u5199\u6837\u5f0f\u3002</p>\n<p>Bug \u4e2d\u7684\u6bcf\u4e00\u5b57\u6bb5\u7531\u4e00dict\u5b9a\u4e49\uff08\u901a\u5e38\u79f0\u4e4b\u4e3aFormItem\uff09\uff0c\u8868\u5355\u914d\u7f6e\u65f6\uff0c\u901a\u8fc7dict\u7684\u4ee5\u4e0b\u5173\u952e\u5b57\u53bb\u63a7\u5236\u5b57\u6bb5\u7684\u540d\u79f0\u3001\u9ed8\u8ba4\u503c\u3001\u6837\u5f0f\u7b49\u5185\u5bb9\u3002</p>\n<blockquote>\n<p>form()\u65b9\u6cd5\u5e94\u8fd4\u56de\u4e00\u7531FormItem\u7ec4\u6210\u7684list\u3002</p>\n</blockquote>\n<h4>FormItem dict\u8bf4\u660e</h4>\n<table>\n<thead>\n<tr>\n<th align=\"center\">key</th>\n<th align=\"left\">\u8bf4\u660e</th>\n<th align=\"center\">\u679a\u4e3e\u503c</th>\n<th align=\"center\">\u662f\u5426\u5fc5\u586b</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">name</td>\n<td align=\"left\">\u5c55\u793a\u5728\u9875\u9762\u4e0a\u7684\u5b57\u6bb5\u540d\u79f0</td>\n<td align=\"center\">--</td>\n<td align=\"center\">Y</td>\n</tr>\n<tr>\n<td align=\"center\">value</td>\n<td align=\"left\">\u5bf9\u5e94\u5b57\u6bb5\u586b\u5145\u7684\u503c</td>\n<td align=\"center\">--</td>\n<td align=\"center\">N</td>\n</tr>\n<tr>\n<td align=\"center\">component</td>\n<td align=\"left\">\u5b57\u6bb5\u5c55\u793a\u7684\u7ec4\u4ef6\u5f62\u5f0f</td>\n<td align=\"center\">'input'\u3001'select'\u3001'compoundTextarea'</td>\n<td align=\"center\">Y</td>\n</tr>\n<tr>\n<td align=\"center\">options</td>\n<td align=\"left\">\u914d\u5408 select component\u4f7f\u7528\uff0c\u7528\u4e8e\u5b58\u653eselect component\u7684\u9009\u9879\u5185\u5bb9</td>\n<td align=\"center\">--</td>\n<td align=\"center\">N</td>\n</tr>\n<tr>\n<td align=\"center\">custom keys</td>\n<td align=\"left\">\u81ea\u5b9a\u4e49\u5c5e\u6027\uff0c\u4e0d\u5f71\u54cdUI\u7ec4\u4ef6\u5c55\u793a\uff0c\u53ef\u4ee5\u5e2e\u4f4f\u66f4\u597d\u5730\u5904\u7406\u6570\u636e\uff0c\u8be6\u7ec6\u7528\u6cd5\u8bf7\u53c2\u8003<a href=\"https://meituan-dianping.github.io/lyrebird/plugins/bugit.html\" rel=\"nofollow\">\u811a\u672c\u9ad8\u7ea7</a></td>\n<td align=\"center\">--</td>\n<td align=\"center\">N</td>\n</tr></tbody></table>\n<h4>BugIt \u652f\u6301\u7684 component</h4>\n<ul>\n<li>input</li>\n</ul>\n<pre><span class=\"n\">form_item_input</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'\u4e3b\u9898'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'component'</span><span class=\"p\">:</span> <span class=\"s1\">'input'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'value'</span><span class=\"p\">:</span> <span class=\"s1\">'defalut value'</span>\n<span class=\"p\">}</span>\n</pre>\n<p><img alt=\"input\u7ec4\u4ef6\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a9de53bae90879a49034c6204398238e07e64aa0/2e2f696d6167652f62756769745f696e7075742e706e67\"></p>\n<p>input \u7ec4\u4ef6\u4f1a\u751f\u6210\u4e00\u4e2a\u6587\u672c\u8f93\u5165\u6846\uff0c\u5728\u58f0\u660e\u65f6\u5982\u679c value \u4e0d\u4e3a\u7a7a\uff0c\u5219\u4f1a\u4f5c\u4e3a\u9ed8\u8ba4\u503c\u586b\u5145\u5728\u8f93\u5165\u6846\u4e2d</p>\n<ul>\n<li>select</li>\n</ul>\n<pre><span class=\"n\">form_item_select</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'\u7248\u672c'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'component'</span><span class=\"p\">:</span> <span class=\"s1\">'select'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'options'</span><span class=\"p\">:[</span>\n        <span class=\"p\">{</span><span class=\"s1\">'id'</span><span class=\"p\">:</span><span class=\"s1\">'001'</span><span class=\"p\">,</span><span class=\"s1\">'name'</span><span class=\"p\">:</span><span class=\"s1\">'option_1'</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s1\">'id'</span><span class=\"p\">:</span><span class=\"s1\">'002'</span><span class=\"p\">,</span><span class=\"s1\">'name'</span><span class=\"p\">:</span><span class=\"s1\">'option_2'</span><span class=\"p\">}</span>\n    <span class=\"p\">],</span>\n    <span class=\"s1\">'value'</span><span class=\"p\">:</span> <span class=\"s1\">'001'</span>\n<span class=\"p\">}</span>\n</pre>\n<p><img alt=\"select\u7ec4\u4ef6\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1915aff5aa83fd733a27053b0bc346a8abfa663f/2e2f696d6167652f62756769745f73656c6563742e706e67\"></p>\n<p>select\u7ec4\u4ef6\u4f1a\u751f\u6210\u4e00\u4e2a\u7b5b\u9009\u6846\uff0c\u7b5b\u9009\u9879\u7531 options \u5b9a\u4e49\uff0coptions \u4e3a\u4e00\u4e2a list\uff0c\u5176\u4e2d\u6bcf\u4e00\u5143\u7d20\u4e3a dict \u7c7b\u578b\u3002</p>\n<p>option dict\u8bf4\u660e\nkey|\u8bf4\u660e|\u662f\u5426\u5fc5\u586b\n:--:|:--|:--:\nid|\u7b5b\u9009\u9879\u552f\u4e00\u6807\u8bc6|Y\nname|\u7b5b\u9009\u9879\u5728\u524d\u7aef\u5c55\u793a\u6587\u672c\u5185\u5bb9|Y</p>\n<p>select \u7ec4\u4ef6\u4e2d\uff0cvalue\u5e94\u4e3aoption dict\u4e2d\u5bf9\u5e94 id \u7684\u503c</p>\n<ul>\n<li>compoundTextarea</li>\n</ul>\n<p>compoundTextarea\u7ec4\u4ef6\u4f1a\u751f\u6210\u4e00\u4e2a\u6587\u672c\u6846\uff0c\u5728\u58f0\u660e\u65f6\u5982\u679c value \u4e0d\u4e3a\u7a7a\uff0c\u5219\u4f1a\u4f5c\u4e3a\u9ed8\u8ba4\u503c\u586b\u5145\u5728\u6587\u672c\u6846\u4e2d</p>\n<pre><span class=\"n\">form_item_text</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'\u63cf\u8ff0'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'component'</span><span class=\"p\">:</span> <span class=\"s1\">'compoundTextarea'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'value'</span><span class=\"p\">:</span> <span class=\"s1\">'defalut value'</span>\n<span class=\"p\">}</span>\n</pre>\n<p><img alt=\"compoundTextarea\u7ec4\u4ef6\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/18a4d0d2cace12b60aa09d918f1d729fdbd68a23/2e2f696d6167652f62756769745f746578742e706e67\"></p>\n<p>compoundTextarea\u7ec4\u4ef6\u5728 BugIt \u4e2d\u8fd8\u7528\u4e8e\u652f\u6301 Lyrebird \u5176\u4ed6\u4fe1\u606f\u7684\u6269\u5c55\u3002</p>\n<p>\u9009\u62e9<a href=\"https://meituan-dianping.github.io/lyrebird/advance/eventbus.html\" rel=\"nofollow\">\u6d88\u606f\u603b\u7ebf</a>\u6216\u5176\u4ed6<a href=\"https://meituan-dianping.github.io/lyrebird/plugins/\" rel=\"nofollow\">\u63d2\u4ef6</a>\u7684\u6570\u636e\u65f6\uff0c\u8be5\u6570\u636e\u5c06\u4f5c\u4e3a\u9644\u52a0\u4fe1\u606f\u5c55\u793a\u5728 compoundTextarea \u4e2d\u3002</p>\n<p><img alt=\"\u9644\u52a0\u4fe1\u606f\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ad2f65d9dd0d89661c1023d3829c95cdf22ba8c8/2e2f696d6167652f62756769745f746578745f65787472612e676966\"></p>\n<p>\u5bf9\u5e94\u7684\u6570\u636e\u4fe1\u606f\u5c06\u4f5c\u4e3a 'extraMsg' \u5b58\u653e\u5728 FormItem\u4e2d\u3002\n\u6b64\u65f6From Item\u53d8\u6210</p>\n<pre><span class=\"n\">form_item_text</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'\u63cf\u8ff0'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'component'</span><span class=\"p\">:</span> <span class=\"s1\">'compoundTextarea'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'value'</span><span class=\"p\">:</span> <span class=\"s1\">'defalut value'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'extraMsg'</span><span class=\"p\">:[</span>\n        <span class=\"p\">{</span><span class=\"s1\">'message'</span><span class=\"p\">:</span><span class=\"s1\">'Flow Info'</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s1\">'message'</span><span class=\"p\">:</span><span class=\"s1\">'Notice Info'</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s1\">'message'</span><span class=\"p\">:</span><span class=\"s1\">'Devices Info'</span><span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre>\n<h4>form()\u65b9\u6cd5\u793a\u4f8b\u4ee3\u7801</h4>\n<pre><span class=\"k\">def</span> <span class=\"nf\">form</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">    BugIt callback function</span>\n\n<span class=\"sd\">    BugIt will call this function when user select this template from UI.</span>\n<span class=\"sd\">    This function should return a array, list all FormItem dict.</span>\n\n<span class=\"sd\">    \"\"\"</span>\n    <span class=\"n\">form_item_input</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'\u4e3b\u9898'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'component'</span><span class=\"p\">:</span> <span class=\"s1\">'input'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'value'</span><span class=\"p\">:</span> <span class=\"s1\">'defalut value'</span>\n    <span class=\"p\">}</span>\n    <span class=\"n\">form_item_select</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'\u7248\u672c'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'component'</span><span class=\"p\">:</span> <span class=\"s1\">'select'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'options'</span><span class=\"p\">:[</span>\n            <span class=\"p\">{</span><span class=\"s1\">'id'</span><span class=\"p\">:</span><span class=\"s1\">'001'</span><span class=\"p\">,</span><span class=\"s1\">'name'</span><span class=\"p\">:</span><span class=\"s1\">'option_1'</span><span class=\"p\">},</span>\n            <span class=\"p\">{</span><span class=\"s1\">'id'</span><span class=\"p\">:</span><span class=\"s1\">'002'</span><span class=\"p\">,</span><span class=\"s1\">'name'</span><span class=\"p\">:</span><span class=\"s1\">'option_2'</span><span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"s1\">'value'</span><span class=\"p\">:</span> <span class=\"s1\">'001'</span>\n    <span class=\"p\">}</span>\n    <span class=\"n\">form_item_text</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'\u63cf\u8ff0'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'component'</span><span class=\"p\">:</span> <span class=\"s1\">'compoundTextarea'</span><span class=\"p\">,</span>\n        <span class=\"s1\">'value'</span><span class=\"p\">:</span> <span class=\"s1\">'defalut value'</span>\n    <span class=\"p\">}</span>\n    <span class=\"n\">form</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">form_item_input</span><span class=\"p\">,</span><span class=\"n\">form_item_select</span><span class=\"p\">,</span><span class=\"n\">form_item_text</span><span class=\"p\">]</span>\n    <span class=\"k\">return</span> <span class=\"n\">form</span>\n</pre>\n<p>\u793a\u4f8b\u4ee3\u7801\u751f\u6210\u7684 Bug \u8868\u5355\u5982\u4e0b\u56fe\u6240\u793a\n<img alt=\"\u6d4b\u8bd5\u811a\u672c\u8868\u5355\u751f\u6210\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8b7a2f3aaef754342e2eba559390a982329eeb0f/2e2f696d6167652f62756769745f666f726d2e706e67\"></p>\n<blockquote>\n<p>form()\u65b9\u6cd5\u5165\u53c2 context \uff0c\u53ef\u7528\u4e8e\u4f20\u9012\u7f13\u5b58\u6570\u636e\uff0c\u76f8\u5173\u7528\u6cd5\u8be6\u89c1<a href=\"https://meituan-dianping.github.io/lyrebird/plugins/bugit.html\" rel=\"nofollow\">\u811a\u672c\u9ad8\u7ea7</a></p>\n</blockquote>\n<h3>submit()</h3>\n<p>\u63d0\u4ea4\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u4e2d\u5305\u542b\u82e5\u5e72\u63d0\u4ea4\u6b65\u9aa4\u9700\u8981\u56de\u8c03\u7684\u51fd\u6570\u3002</p>\n<blockquote>\n<p>submit()\u65b9\u6cd5\u8fd4\u56de\u4e00\u7ec4\u7528\u4e8e\u5904\u7406 submit \u884c\u4e3a\u7684\u65b9\u6cd5\u3002</p>\n</blockquote>\n<p>\u65b9\u6cd5\u8bf4\u660e\n\u65b9\u6cd5\u540d|\u5165\u53c2|\u8bf4\u660e\n:--:|:--:|:--\nissue|context|\u5904\u7406 Bug\u8868\u5355\u4e2d\u7684\u4fe1\u606f\uff0c\u901a\u8fc7 API \u5411 Bug \u7ba1\u7406\u7cfb\u7edf\u63d0\u4ea4 Issue\nattachments|context|\u5904\u7406\u9644\u4ef6\u4fe1\u606f\uff08\u5982 <a href=\"https://meituan-dianping.github.io/lyrebird/guide/plugin.html#android%E6%8F%92%E4%BB%B6\" rel=\"nofollow\">Android\u63d2\u4ef6</a>\u3001<a href=\"https://meituan-dianping.github.io/lyrebird/guide/plugin.html#ios%E6%8F%92%E4%BB%B6\" rel=\"nofollow\">iOS\u63d2\u4ef6</a>\u63d0\u4f9b\u7684\u622a\u56fe\u6216 Log\uff09\uff0c\u901a\u8fc7 API \u5411 \u521b\u5efa\u7684 Issue \u4e2d\u6dfb\u52a0\u9644\u4ef6</p>\n<h4>submit()\u65b9\u6cd5\u793a\u4f8b\u4ee3\u7801\uff08\u4ee5JIRA\u670d\u52a1\u4e3a\u4f8b\uff09</h4>\n<pre><span class=\"k\">def</span> <span class=\"nf\">submit</span><span class=\"p\">():</span>\n    <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">    BugIt callback function</span>\n\n<span class=\"sd\">    BugIt will call this function when user tap submit button.</span>\n<span class=\"sd\">    This function should return a array, contains all submit actions.</span>\n\n<span class=\"sd\">    Each submit-action function have a argument. It contains form data and attachments info.</span>\n<span class=\"sd\">    \"\"\"</span>\n    <span class=\"k\">return</span> <span class=\"p\">[</span><span class=\"n\">issue</span><span class=\"p\">,</span> <span class=\"n\">attachments</span><span class=\"p\">]</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">issue</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">    This function is used to submit Issue </span>\n<span class=\"sd\">    \"\"\"</span>\n    <span class=\"n\">form_data</span> <span class=\"o\">=</span> <span class=\"n\">context</span><span class=\"p\">[</span><span class=\"s1\">'issue'</span><span class=\"p\">]</span>\n    <span class=\"n\">jira_fields</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n\n    <span class=\"c1\"># transform from_data to payload submited to API of JIRA</span>\n    <span class=\"k\">for</span> <span class=\"n\">form_item</span> <span class=\"ow\">in</span> <span class=\"n\">form_data</span><span class=\"p\">:</span>\n        <span class=\"k\">if</span> <span class=\"n\">form_item</span><span class=\"p\">[</span><span class=\"s1\">'name'</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"s1\">'\u4e3b\u9898'</span> <span class=\"p\">:</span>\n            <span class=\"n\">jira_fields</span><span class=\"p\">[</span><span class=\"s1\">'summary'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">form_item</span><span class=\"p\">[</span><span class=\"s1\">'value'</span><span class=\"p\">]</span>\n        <span class=\"k\">elif</span> <span class=\"n\">form_item</span><span class=\"p\">[</span><span class=\"s1\">'name'</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"s1\">'\u7248\u672c'</span><span class=\"p\">:</span>\n            <span class=\"n\">jira_fields</span><span class=\"p\">[</span><span class=\"s1\">'version'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n                <span class=\"nb\">id</span><span class=\"p\">:</span><span class=\"n\">form_item</span><span class=\"p\">[</span><span class=\"s1\">'value'</span><span class=\"p\">]</span>\n                <span class=\"p\">}</span>\n        <span class=\"k\">elif</span> <span class=\"n\">form_item</span><span class=\"p\">[</span><span class=\"s1\">'name'</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"s1\">'\u63cf\u8ff0'</span><span class=\"p\">:</span>\n            <span class=\"n\">jira_fields</span><span class=\"p\">[</span><span class=\"s1\">'description'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">form_item</span><span class=\"p\">[</span><span class=\"s1\">'value'</span><span class=\"p\">]</span>\n            <span class=\"c1\"># add extraMsg to description </span>\n            <span class=\"k\">if</span> <span class=\"n\">form_item</span><span class=\"p\">[</span><span class=\"s1\">'extraMsg'</span><span class=\"p\">]:</span>\n                <span class=\"k\">for</span> <span class=\"n\">add_des</span> <span class=\"ow\">in</span> <span class=\"n\">form_item</span><span class=\"p\">[</span><span class=\"s1\">'extraMsg'</span><span class=\"p\">]:</span>\n                    <span class=\"n\">jira_fields</span><span class=\"p\">[</span><span class=\"s1\">'description'</span><span class=\"p\">]</span> <span class=\"o\">+=</span><span class=\"s1\">'</span><span class=\"se\">\\n</span><span class=\"s1\">'</span>\n                    <span class=\"n\">jira_fields</span><span class=\"p\">[</span><span class=\"s1\">'description'</span><span class=\"p\">]</span> <span class=\"o\">+=</span><span class=\"s1\">'------------------------------</span><span class=\"se\">\\n</span><span class=\"s1\">'</span>\n                    <span class=\"n\">jira_fields</span><span class=\"p\">[</span><span class=\"s1\">'description'</span><span class=\"p\">]</span> <span class=\"o\">+=</span><span class=\"n\">add_des</span><span class=\"p\">[</span><span class=\"s1\">'message'</span><span class=\"p\">]</span>\n\n    <span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s1\">'http://www.example.com/jira/rest/api/2/issue'</span>\n    <span class=\"n\">header</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'Content-Type'</span><span class=\"p\">:</span> <span class=\"s1\">'application/json;charset=utf-8'</span>\n    <span class=\"p\">}</span>\n    <span class=\"n\">resp</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">,</span> <span class=\"n\">auth</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">'YOUR JIRA_USER_NAME'</span><span class=\"p\">,</span> <span class=\"s1\">'YOUR_JIRA_PASSWD'</span><span class=\"p\">),</span><span class=\"n\">json</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">\"fields\"</span><span class=\"p\">:</span> <span class=\"n\">jira_fields</span><span class=\"p\">},</span><span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">header</span><span class=\"p\">)</span>\n    \n    <span class=\"k\">if</span> <span class=\"n\">resp</span><span class=\"o\">.</span><span class=\"n\">status_code</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">200</span> <span class=\"ow\">and</span> <span class=\"n\">resp</span><span class=\"o\">.</span><span class=\"n\">status_code</span> <span class=\"o\">&lt;</span> <span class=\"mi\">300</span><span class=\"p\">:</span>\n        <span class=\"n\">body</span> <span class=\"o\">=</span> <span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">loads</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">body</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">'key'</span><span class=\"p\">)</span> <span class=\"p\">:</span>\n            <span class=\"n\">context</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">body</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">]</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">raise</span> <span class=\"ne\">Exception</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'Submit failed </span><span class=\"si\">{</span><span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"si\">}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">Exception</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'Create issue failed with code </span><span class=\"si\">{</span><span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">status_code</span><span class=\"si\">}</span><span class=\"se\">\\n</span><span class=\"si\">{</span><span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"si\">}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">attachments</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">    This function is used to upload attachments to the Issue which has been created</span>\n<span class=\"sd\">    \"\"\"</span>\n    <span class=\"n\">key</span> <span class=\"o\">=</span> <span class=\"n\">context</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">]</span>\n    <span class=\"n\">attachments</span> <span class=\"o\">=</span> <span class=\"n\">context</span><span class=\"p\">[</span><span class=\"s1\">'attachments'</span><span class=\"p\">]</span>\n\n    <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">attachments</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n        <span class=\"c1\"># No attachments</span>\n        <span class=\"k\">return</span>\n\n    <span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s1\">'http://www.example.com/jira/rest/api/2/issue/</span><span class=\"si\">{</span><span class=\"n\">key</span><span class=\"si\">}</span><span class=\"s1\">/attachments'</span>\n    <span class=\"n\">headers</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"s1\">'X-Atlassian-Token'</span><span class=\"p\">:</span> <span class=\"s1\">'nocheck'</span>\n    <span class=\"p\">}</span>\n    <span class=\"n\">multiple_files</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n\n    <span class=\"c1\"># transform attachment data to payload submited to API of JIRA</span>\n    <span class=\"k\">for</span> <span class=\"n\">attachment</span> <span class=\"ow\">in</span> <span class=\"n\">attachments</span><span class=\"p\">:</span>\n        <span class=\"n\">attachment_path</span> <span class=\"o\">=</span> <span class=\"n\">Path</span><span class=\"p\">(</span><span class=\"n\">attachment</span><span class=\"p\">[</span><span class=\"s1\">'path'</span><span class=\"p\">])</span>\n        <span class=\"n\">multiple_files</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span>\n            <span class=\"p\">(</span><span class=\"s1\">'file'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">attachment_path</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">attachment_path</span><span class=\"p\">),</span> <span class=\"s1\">'rb'</span><span class=\"p\">)))</span>\n        <span class=\"p\">)</span>\n    <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">,</span> <span class=\"n\">files</span><span class=\"o\">=</span><span class=\"n\">multiple_files</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"n\">headers</span><span class=\"p\">)</span>\n\n    <span class=\"k\">if</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">status_code</span> <span class=\"o\">==</span> <span class=\"mi\">200</span> <span class=\"ow\">and</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()[</span><span class=\"s1\">'code'</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Submit attachments success'</span><span class=\"p\">)</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">Exception</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s1\">'Submit failed </span><span class=\"si\">{</span><span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"si\">}</span><span class=\"s1\">'</span><span class=\"p\">)</span>\n</pre>\n<p>\u5b8c\u6574\u811a\u672c\u8bf7\u53c2\u8003: <a href=\"example/TEST.py\" rel=\"nofollow\">\u793a\u4f8b\u811a\u672c</a></p>\n<p>\u811a\u672c\u9ad8\u7ea7\u529f\u80fd\u8bf7\u53c2\u8003:<a href=\"https://meituan-dianping.github.io/lyrebird/plugins/bugit.html\" rel=\"nofollow\">\u811a\u672c\u9ad8\u7ea7</a></p>\n<hr>\n<h1>\u5f00\u53d1\u8005\u6307\u5357</h1>\n<h2>\u5f00\u53d1\u73af\u5883</h2>\n<ul>\n<li>macOS OR Linux</li>\n<li>Python3</li>\n<li>NodeJS</li>\n<li>vscode(\u63a8\u8350)</li>\n<li>Chrome(\u63a8\u8350)</li>\n</ul>\n<h2>\u8c03\u8bd5\u4ee3\u7801</h2>\n<h3>Vscode debug\u914d\u7f6e</h3>\n<pre><span class=\"p\">{</span>\n    <span class=\"nt\">\"version\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0.2.0\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"configurations\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Python: Terminal (integrated)\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"python\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"request\"</span><span class=\"p\">:</span> <span class=\"s2\">\"launch\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"program\"</span><span class=\"p\">:</span> <span class=\"s2\">\"${file}\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"console\"</span><span class=\"p\">:</span> <span class=\"s2\">\"integratedTerminal\"</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Server\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"python\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"request\"</span><span class=\"p\">:</span> <span class=\"s2\">\"launch\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"module\"</span><span class=\"p\">:</span> <span class=\"s2\">\"lyrebird\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"args\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n                <span class=\"s2\">\"-b\"</span><span class=\"p\">,</span>\n                <span class=\"s2\">\"-vvv\"</span><span class=\"p\">,</span>\n                <span class=\"s2\">\"--plugin\"</span><span class=\"p\">,</span>\n                <span class=\"s2\">\"${workspaceFolder}\"</span>\n            <span class=\"p\">],</span>\n            <span class=\"nt\">\"console\"</span><span class=\"p\">:</span> <span class=\"s2\">\"integratedTerminal\"</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Client\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"chrome\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"request\"</span><span class=\"p\">:</span> <span class=\"s2\">\"launch\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://localhost:8080/\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"webRoot\"</span><span class=\"p\">:</span> <span class=\"s2\">\"${workspaceFolder}/frontend/src/\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"sourceMapPathOverrides\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"nt\">\"webpack:///src/*\"</span><span class=\"p\">:</span> <span class=\"s2\">\"${webRoot}/*\"</span>\n            <span class=\"p\">},</span>\n            <span class=\"nt\">\"timeout\"</span><span class=\"p\">:</span> <span class=\"mi\">30000</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre>\n<h3>\u540e\u7aef\u4ee3\u7801</h3>\n<ol>\n<li>\n<p>\u6fc0\u6d3bpython\u865a\u62df\u73af\u5883</p>\n<p>\u901a\u8fc7 source venv/bin/activate \u6765\u6fc0\u6d3b\u8be5\u73af\u5883</p>\n</li>\n<li>\n<p>\u901a\u8fc7Debug\u529f\u80fd\u542f\u52a8</p>\n<p>\u6309\u7167\u4e0a\u9762 debug\u914d\u7f6e\u4e2d python:Lyrebrid\u914d\u7f6e\u542f\u52a8\u5373\u53ef</p>\n</li>\n</ol>\n<h3>\u524d\u7aef\u4ee3\u7801</h3>\n<ol>\n<li>\u542f\u52a8node server</li>\n</ol>\n<pre><code># \u8fdb\u5165\u524d\u7aef\u76ee\u5f55\ncd frontend\n\n# \u542f\u52a8\u524d\u7aefnode serve\nnpm run serve\n</code></pre>\n<ol>\n<li>\n<p>\u901a\u8fc7Debug\u529f\u80fd\u542f\u52a8\u6d4f\u89c8\u5668</p>\n<p>\u6309\u7167\u4e0a\u9762 debug\u914d\u7f6e\u4e2d vuejs: chrome \u914d\u7f6e\u542f\u52a8\u5373\u53ef</p>\n<blockquote>\n<p>\u6ce8\u610f: vscode \u9700\u8981\u5b89\u88c5chrome debug\u63d2\u4ef6</p>\n</blockquote>\n</li>\n</ol>\n\n          </div>"}, "last_serial": 6179278, "releases": {"1.2.0": [{"comment_text": "", "digests": {"md5": "59560868ac1ab25ac6a37dcf8d8e0e7d", "sha256": "56b4035b530fd0401ae8c0a16fae36cc3582f5751ba010e40e2a235a29ceac48"}, "downloads": -1, "filename": "lyrebird-bugit-1.2.0.tar.gz", "has_sig": false, "md5_digest": "59560868ac1ab25ac6a37dcf8d8e0e7d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4123542, "upload_time": "2019-10-28T08:24:46", "upload_time_iso_8601": "2019-10-28T08:24:46.117198Z", "url": "https://files.pythonhosted.org/packages/e3/a8/f9c791c76b9ebaaefab8a74dfabeefd2ecebcc7fd04cd7d1854021595b8d/lyrebird-bugit-1.2.0.tar.gz", "yanked": false}], "1.2.1": [{"comment_text": "", "digests": {"md5": "f99b4c51f83361e4fc728d2e2eb44b07", "sha256": "1c9a6533ecee95d6c46b6a8369026602cc19d869989cdd8adedc66a9d2a7ec0e"}, "downloads": -1, "filename": "lyrebird-bugit-1.2.1.tar.gz", "has_sig": false, "md5_digest": "f99b4c51f83361e4fc728d2e2eb44b07", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4123592, "upload_time": "2019-10-28T09:19:34", "upload_time_iso_8601": "2019-10-28T09:19:34.681546Z", "url": "https://files.pythonhosted.org/packages/4c/69/46adb7e1c6e3a02b2c7fc49f435a08bc1a7f228973915061b0940cb01588/lyrebird-bugit-1.2.1.tar.gz", "yanked": false}], "1.2.2": [{"comment_text": "", "digests": {"md5": "52ef3d05eecf2cfed2a091c8c6c46b8f", "sha256": "3b93cd36318611628414acfba976b0d9fe289867c7ba4436778abfc45d3ecfa1"}, "downloads": -1, "filename": "lyrebird-bugit-1.2.2.tar.gz", "has_sig": false, "md5_digest": "52ef3d05eecf2cfed2a091c8c6c46b8f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2514266, "upload_time": "2019-10-29T07:14:46", "upload_time_iso_8601": "2019-10-29T07:14:46.606907Z", "url": "https://files.pythonhosted.org/packages/83/65/bc6ac085eba92393361b949f6544ca8084e6512735fb1125434e7ad70ea5/lyrebird-bugit-1.2.2.tar.gz", "yanked": false}], "1.2.3": [{"comment_text": "", "digests": {"md5": "8dd071d86b3ac6a98a01d4205113794c", "sha256": "7ae69bd7e82cfd28e7c08a59318f63260018b2cdf58d7471afb9bde411a04f70"}, "downloads": -1, "filename": "lyrebird-bugit-1.2.3.tar.gz", "has_sig": false, "md5_digest": "8dd071d86b3ac6a98a01d4205113794c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2513626, "upload_time": "2019-11-22T07:25:49", "upload_time_iso_8601": "2019-11-22T07:25:49.265818Z", "url": "https://files.pythonhosted.org/packages/40/71/ae99808c5e50616d6eb80ad1cc4f02e83ee9e2d92d35b5fc14de2f7d7d84/lyrebird-bugit-1.2.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "8dd071d86b3ac6a98a01d4205113794c", "sha256": "7ae69bd7e82cfd28e7c08a59318f63260018b2cdf58d7471afb9bde411a04f70"}, "downloads": -1, "filename": "lyrebird-bugit-1.2.3.tar.gz", "has_sig": false, "md5_digest": "8dd071d86b3ac6a98a01d4205113794c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2513626, "upload_time": "2019-11-22T07:25:49", "upload_time_iso_8601": "2019-11-22T07:25:49.265818Z", "url": "https://files.pythonhosted.org/packages/40/71/ae99808c5e50616d6eb80ad1cc4f02e83ee9e2d92d35b5fc14de2f7d7d84/lyrebird-bugit-1.2.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:42:43 2020"}
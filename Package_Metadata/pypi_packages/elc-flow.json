{"info": {"author": "sunao", "author_email": "sunao_0626@hotmail.com", "bugtrack_url": null, "classifiers": ["Programming Language :: Python :: 3"], "description": "# elcflow\n \n [![Build Status](https://travis-ci.com/eggachecat/elc-flow-engine.svg?branch=master)](https://travis-ci.com/eggachecat/elc-flow-engine)\n [![PyPI version](https://badge.fury.io/py/elc-flow.svg)](https://badge.fury.io/py/elc-flow)\n [![Coverage Status](https://coveralls.io/repos/github/eggachecat/elc-flow-engine/badge.svg)](https://coveralls.io/github/eggachecat/elc-flow-engine)\n [![Documentation Status](https://readthedocs.org/projects/elc-flow-engine/badge/?version=latest)](https://elc-flow-engine.readthedocs.io)\n\n \n ## \u4ecb\u7ecd\n ELC\u4f7f\u7528\n  \n ## \u6307\u4ee4\n ### \u751f\u6210\u6587\u6863\n  > cd docs && sphinx-apidoc -o source ../elcflow/ && make html  \n ### \u6d4b\u8bd5\n  > pytest --cov=elcflow\n \n ## \u4f7f\u7528[V2]\n ### \u6ce8\u518c\u7b97\u5b50\n \u4f7f\u7528`register_elc_function_v2`\u6765\u6ce8\u518c\u662f\u4e00\u4e2a\u7b97\u5b50,\u7b97\u5b50\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027:\n - name\n    - \u552f\u4e00\u7684\u6807\u8bc6\u7b26,\u7528\u6765\u627e\u5230\u8fd9\u4e2a\u7b97\u5b50\n - parameters\n    - \u5b57\u5178\u7c7b\u578b, \u5305\u542b\u4e86\u9ed8\u8ba4\u7684\u53c2\u6570\n    - \u4e3b\u8981\u9002\u7528\u4e8e\u4f8b\u5982\u6307\u6570\u51fd\u6570,\u5176\u6307\u6570\u5f53\u4f5c\u53c2\u6570\n        - \u7ed9\u6307\u65702 -> \u5e73\u65b9\n        \n\u7b97\u5b50\u7684\u8f93\u5165\u548c\u8f93\u51fa\u88ab\u4e25\u683c\u89c4\u5b9a\n    - \u8f93\u5165\n        - global_states\n            - \u5168\u5c40\u7684\u4e00\u4e2astate\u662f\u4e00\u4e2a\u5b57\u5178\n        - result\n            - \u524d\u4e00\u4e2a\u8282\u70b9\u7684\u7ed3\u679c\n        - parameters\n            - \u53c2\u6570\n    - \u8f93\u51fa\n        - \u4e00\u5b9a\u662f\u4e00\u4e2a\u5b57\u5178\n ### \u7528\u4f8b\n```python\nfrom elcflow.base import register_elc_function_v2\n\n@register_elc_function_v2(name='elc_select_data_v2')\ndef elc_select_data_v2(global_states, result, parameters):\n    return {'return': global_states[parameters['key']]}\n\n\n@register_elc_function_v2(name='elc_add_plus_plus_v2')\ndef elc_add_plus_plus_v2(global_states, result, parameters):\n    return {'return': result['return'] + 1}\n\n\n@register_elc_function_v2(name='elc_mul_v2')\ndef elc_mul_v2(global_states, result, parameters):\n    _result = result['return'] * int(global_states['multiplier'])\n    global_states['elc_mul_v2_result'] = _result\n    return {'return': _result}\n\n\n@register_elc_function_v2(name='elc_pow_for_mul_v2')\ndef elc_pow_for_mul_v2(global_states, result, parameters):\n    _result = global_states['elc_mul_v2_result'] ** int(parameters['a'])\n    global_states['elc_pow_for_mul_v2_result'] = _result\n    return {'return': _result}\n```\n\n### \u56fe\n#### \u6570\u636e\u7ed3\u6784\n\u56fe\u4e3b\u8981\u7531\u4ee5\u4e0b\u4e24\u90e8\u5206\u7ec4\u6210\n- nodes\n    - \u5305\u542b\u4e86\u6240\u6709\u7684\u8282\u70b9\u7684\u4fe1\u606f\n    - id\n    - label\n    - \u7c7b\u578b\n        - \u6570\u636e\u7c7b\u578b\n        - \u7b97\u5b50\u7c7b\u578b\n    - \u5176\u4ed6\n        - \u4f8b\u5982\u7b97\u5b50\u7684\u53c2\u6570\n- edges\n    - \u6709\u65b9\u5411\u7684\u8fb9,\u4ece\u4e00\u4e2anode\u7684\u6570\u636e\u6d41\u5411\u53e6\u4e00\u4e2anode\n    - id\n    - source\n        - \u8d77\u59cb\u8282\u70b9\u7684id\n    - target\n        - \u7ed3\u675f\u8282\u70b9\u7684id\n#### \u4f8b\u5b50      \n```python\nfrom elcflow.graph import *\nfrom elcflow.graph import *\nfrom elcflow.helpers import json_stringify, json_parse\n\n_model_2_globals = {\n    \"global_variable_1\": 5,\n    \"multiplier\": 3\n}\n\n_model_dict_v2 = {\n    \"nodes\": [\n        {\"label\": \"data-selector\", \"id\": \"0ea5a129\", \"_elc_node_type\": 'operator', \"_elc_function\": 'elc_select_data_v2', \"_elc_parameters\": {\"key\": \"global_variable_1\"}},\n        {\"label\": \"add_plus_plus\", \"id\": \"8ac87236\", \"_elc_node_type\": 'operator', \"_elc_function\": \"elc_add_plus_plus_v2\"},\n        {\"label\": \"multiplier x\", \"id\": \"0d1af6ff\", \"_elc_node_type\": 'operator', \"_elc_function\": \"elc_mul_v2\"},\n        {\"label\": \"pow_for_mul\", \"id\": \"9d1af6ff\", \"_elc_node_type\": 'operator', \"_elc_function\": \"elc_pow_for_mul_v2\", \"_elc_parameters\": {\"a\": 4}},\n    ],\n    \"edges\": [\n        {\"source\": \"0ea5a129\", \"target\": \"8ac87236\", \"id\": \"74bc97ca\"},\n        {\"source\": \"8ac87236\", \"target\": \"0d1af6ff\", \"id\": \"d3645364\"},\n        {\"source\": \"0d1af6ff\", \"target\": \"9d1af6ff\", \"id\": \"b0eb9a9b\"},\n    ]\n}\n# \u4ecejson\u7ed3\u6784parse\u6210\u56fe\n_graph = ELCGraph.create_from_elc_json(_model_dict_v2, elc_graph_version=ELC_GRAPH_VERSION_V2)\n# \u5e76\u4e14\u521d\u59cb\u5316global\n_graph.set_state(_globals=_model_2_globals)\n# \u7f16\u8bd1\u56fe: \u5305\u542b\u4e86\u5bf9\u4e8e\u8282\u70b9\u62d3\u6251\u6392\u5e8f\u5e76\u4e14\u521d\u59cb\u5316\u7684\u5de5\u4f5c\n_graph.compile()\n# \u6267\u884c\u56fe\n_graph.execute()\n# \u753b\u56fe\n_graph.plot(show=True, with_state=True)\n\n```\n\n![Example Graph 2](./images/example-graph-2.png)\n \n \n ## \u4f7f\u7528[V1]\n ### \u6ce8\u518c\u7b97\u5b50\n \u4f7f\u7528`register_elc_function`\u6765\u6ce8\u518c\u662f\u4e00\u4e2a\u7b97\u5b50,\u7b97\u5b50\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027:\n - name\n    - \u552f\u4e00\u7684\u6807\u8bc6\u7b26,\u7528\u6765\u627e\u5230\u8fd9\u4e2a\u7b97\u5b50\n - outputs\n    - list\n    - \u7ed9\u8f93\u51fa\u53d6\u540d\u5b57(\u5728\u56fe\u4e0a\u5f90)\n    - \u5bf9\u5e94\u5230\u662f\u8282\u70b9\u8f93\u51fa\u7684id\n - inputs\n    - \u4e0d\u53ef\u9009, \u5219\u4f7f\u7528\u51fd\u6570\u4e2d\u5b9a\u4e49\u7684\u540d\u79f0\n    - \u5bf9\u5e94\u5230\u662f\u8282\u70b9\u8f93\u5165\u7684id\n - parameters\n    - \u5b57\u5178\u7c7b\u578b, \u5305\u542b\u4e86\u9ed8\u8ba4\u7684\u53c2\u6570\n    - \u4e3b\u8981\u9002\u7528\u4e8e\u4f8b\u5982\u6307\u6570\u51fd\u6570,\u5176\u6307\u6570\u5f53\u4f5c\u53c2\u6570\n        - \u7ed9\u6307\u65702 -> \u5e73\u65b9\n ### \u7528\u4f8b\n```python\nfrom elcflow.base import register_elc_function\n@register_elc_function(outputs=['elc_output'], name='elc_exp_and_plus', parameters={'x': 5})\n# \u4e00\u4e2a\u4f8b\u5b50\n# \u8868\u660e\u6ce8\u518c\u4e86\u4e00\u4e2a\u540d\u79f0\u4e3aelc_exp_and_plus\u7b97\u5b50\n# \u4ed6\u7684\u8f93\u5165\u6709[a,b,x]\n# \u5176\u4e2dx\u662f\u53c2\u6570\u7ed9\u7684\u9ed8\u8ba4\u503c\u662f5\n# \u5b83\u8f93\u51fa\u7684\u540d\u5b57\u53eb\u505aelc_output\ndef elc_exp_and_plus_(a, b, x=2):\n    return a ** x + b ** x\n```\n\n### \u56fe\n#### \u6570\u636e\u7ed3\u6784\n\u56fe\u4e3b\u8981\u7531\u4ee5\u4e0b\u4e24\u90e8\u5206\u7ec4\u6210\n- nodes\n    - \u5305\u542b\u4e86\u6240\u6709\u7684\u8282\u70b9\u7684\u4fe1\u606f\n    - id\n    - label\n    - \u7c7b\u578b\n        - \u6570\u636e\u7c7b\u578b\n        - \u7b97\u5b50\u7c7b\u578b\n    - \u5176\u4ed6\n        - \u4f8b\u5982\u7b97\u5b50\u7684\u53c2\u6570\n- edges\n    - \u6709\u65b9\u5411\u7684\u8fb9,\u4ece\u4e00\u4e2anode\u7684*\u67d0\u4e00\u4e2a\u8f93\u51fa*\u6570\u636e\u6d41\u5411\u53e6\u4e00\u4e2anode\u7684*\u67d0\u4e00\u4e2a\u8f93\u5165*\n    - id\n    - source\n        - \u8d77\u59cb\u8282\u70b9\u7684id\n    - target\n        - \u7ed3\u675f\u8282\u70b9\u7684id\n    - _elc_source_output_id\n        - \u8d77\u59cb\u8282\u70b9\u8f93\u51fa\u7684id\n            - \u53ef\u80fd\u6709\u591a\u4e2a\u8f93\u51fa, \u53d6\u54ea\u4e00\u4e2a?\n    - __elc_target_input_id\n        - \u7ed3\u675f\u8282\u70b9\u8f93\u5165\u7684id\n            - \u53ef\u80fd\u6709\u591a\u4e2a\u8f93\u5165, \u5bf9\u5e94\u5230\u54ea\u4e00\u4e2a?\n#### \u4f8b\u5b50      \n```python\nfrom elcflow.graph import *\nfrom elcflow.graph import *\nfrom elcflow.helpers import json_stringify, json_parse\n\njson_model = {\n    \"nodes\": [\n        {\"label\": \"Input-2\", \"id\": \"3362b879\", \"_elc_node_type\": 'data'},\n        {\"label\": \"Input-1\", \"id\": \"0ea5a129\", \"_elc_node_type\": 'data'},\n        {\"label\": \"Add\", \"id\": \"8ac87236\", \"_elc_node_type\": 'operator', \"_elc_function\": \"elc_add\"},\n        {\"label\": \"MUL\", \"id\": \"0d1af6ff\", \"_elc_node_type\": 'operator', \"_elc_function\": \"elc_mul\"},\n        {\"label\": \"POW\", \"id\": \"9d1af6ff\", \"_elc_node_type\": 'operator', \"_elc_function\": \"elc_pow\", \"_elc_parameters\": {\"a\": 4}},\n        {\"label\": \"OUTPUT\", \"id\": \"1d1af6ff\", \"_elc_node_type\": 'operator', \"_elc_function\": \"elc_output\", },\n        {\"label\": \"OUTPUT\", \"id\": \"2d1af6ff\", \"_elc_node_type\": 'operator', \"_elc_function\": \"elc_output\"},\n    ],\n    \"edges\": [\n        {\"source\": \"0ea5a129\", \"target\": \"8ac87236\", \"id\": \"74bc97ca\", \"_elc_source_output_id\": '', \"_elc_target_input_id\": \"a\"},\n        {\"source\": \"3362b879\", \"target\": \"8ac87236\", \"id\": \"d3645364\", \"_elc_source_output_id\": '', \"_elc_target_input_id\": \"b\"},\n        {\"source\": \"8ac87236\", \"target\": \"0d1af6ff\", \"id\": \"b0eb9a9b\", \"_elc_source_output_id\": 'sum_result', \"_elc_target_input_id\": \"a\"},\n        {\"source\": \"3362b879\", \"target\": \"0d1af6ff\", \"id\": \"0e6c0fde\", \"_elc_source_output_id\": '', \"_elc_target_input_id\": \"b\"},\n        {\"source\": \"0d1af6ff\", \"target\": \"9d1af6ff\", \"id\": \"7e6c0fde\", \"_elc_source_output_id\": 'mul_result', \"_elc_target_input_id\": \"x\"},\n        {\"source\": \"0d1af6ff\", \"target\": \"1d1af6ff\", \"id\": \"1e6c0fde\", \"_elc_target_input_id\": \"kwargs\"},\n        {\"source\": \"9d1af6ff\", \"target\": \"2d1af6ff\", \"id\": \"2e6c0fde\", \"_elc_target_input_id\": \"kwargs\"},\n    ]\n}\n# \u4ecejson\u7ed3\u6784parse\u6210\u56fe\n_graph = ELCGraph.create_from_elc_json(json_model)\n# \u7f16\u8bd1\u56fe: \u5305\u542b\u4e86\u5bf9\u4e8e\u8282\u70b9\u62d3\u6251\u6392\u5e8f\u5e76\u4e14\u521d\u59cb\u5316\u7684\u5de5\u4f5c\n_graph.compile()\n# \u628a\u8f93\u5165\u8282\u70b9\u7684\u6570\u636e\u5582\u8fdb\u53bb\n_graph.feed_data_dict({\n    '3362b879': 5,\n    '0ea5a129': 6\n})\n# \u6267\u884c\u56fe\n_graph.execute()\n# \u5e8f\u5217\u5316\u6574\u4e2a\u56fe\u7ed3\u6784\ngraph_str = json_stringify(_graph.to_dict())\n# \u89e3\u6790\u5e8f\u5217\u5316\u7ed3\u6784\u5230\u56fe\nnew_graph = ELCGraph.load(json_parse(graph_str))\n# \u628a\u7ed3\u679c\u753b\u51fa\u6765\nnew_graph.plot(show=True, with_state=True)\n```\n\n![Example Graph 1](./images/example-graph-1.png)", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/eggachecat/elc-flow-engine", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "elc-flow", "package_url": "https://pypi.org/project/elc-flow/", "platform": "", "project_url": "https://pypi.org/project/elc-flow/", "project_urls": {"Homepage": "https://github.com/eggachecat/elc-flow-engine"}, "release_url": "https://pypi.org/project/elc-flow/0.2.0/", "requires_dist": null, "requires_python": "", "summary": "A graph flow engine for East Low Carbon", "version": "0.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>elcflow</h1>\n<p><a href=\"https://travis-ci.com/eggachecat/elc-flow-engine\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/527d2c76ca18b89f1e01c2936e0070fa518acb97/68747470733a2f2f7472617669732d63692e636f6d2f656767616368656361742f656c632d666c6f772d656e67696e652e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://badge.fury.io/py/elc-flow\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6fd86f875c577416f3e060f0a5c6db664aad08d0/68747470733a2f2f62616467652e667572792e696f2f70792f656c632d666c6f772e737667\"></a>\n<a href=\"https://coveralls.io/github/eggachecat/elc-flow-engine\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8343eac6cbaa77027690d975ef064b07e264b96a/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f656767616368656361742f656c632d666c6f772d656e67696e652f62616467652e737667\"></a>\n<a href=\"https://elc-flow-engine.readthedocs.io\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a133117632db497f6308c713cde6420b087fa3fb/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f656c632d666c6f772d656e67696e652f62616467652f3f76657273696f6e3d6c6174657374\"></a></p>\n<h2>\u4ecb\u7ecd</h2>\n<p>ELC\u4f7f\u7528</p>\n<h2>\u6307\u4ee4</h2>\n<h3>\u751f\u6210\u6587\u6863</h3>\n<blockquote>\n<p>cd docs &amp;&amp; sphinx-apidoc -o source ../elcflow/ &amp;&amp; make html</p>\n</blockquote>\n<h3>\u6d4b\u8bd5</h3>\n<blockquote>\n<p>pytest --cov=elcflow</p>\n</blockquote>\n<h2>\u4f7f\u7528[V2]</h2>\n<h3>\u6ce8\u518c\u7b97\u5b50</h3>\n<p>\u4f7f\u7528<code>register_elc_function_v2</code>\u6765\u6ce8\u518c\u662f\u4e00\u4e2a\u7b97\u5b50,\u7b97\u5b50\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027:</p>\n<ul>\n<li>name\n<ul>\n<li>\u552f\u4e00\u7684\u6807\u8bc6\u7b26,\u7528\u6765\u627e\u5230\u8fd9\u4e2a\u7b97\u5b50</li>\n</ul>\n</li>\n<li>parameters\n<ul>\n<li>\u5b57\u5178\u7c7b\u578b, \u5305\u542b\u4e86\u9ed8\u8ba4\u7684\u53c2\u6570</li>\n<li>\u4e3b\u8981\u9002\u7528\u4e8e\u4f8b\u5982\u6307\u6570\u51fd\u6570,\u5176\u6307\u6570\u5f53\u4f5c\u53c2\u6570\n<ul>\n<li>\u7ed9\u6307\u65702 -&gt; \u5e73\u65b9</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>\u7b97\u5b50\u7684\u8f93\u5165\u548c\u8f93\u51fa\u88ab\u4e25\u683c\u89c4\u5b9a\n- \u8f93\u5165\n- global_states\n- \u5168\u5c40\u7684\u4e00\u4e2astate\u662f\u4e00\u4e2a\u5b57\u5178\n- result\n- \u524d\u4e00\u4e2a\u8282\u70b9\u7684\u7ed3\u679c\n- parameters\n- \u53c2\u6570\n- \u8f93\u51fa\n- \u4e00\u5b9a\u662f\u4e00\u4e2a\u5b57\u5178</p>\n<h3>\u7528\u4f8b</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">elcflow.base</span> <span class=\"kn\">import</span> <span class=\"n\">register_elc_function_v2</span>\n\n<span class=\"nd\">@register_elc_function_v2</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'elc_select_data_v2'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">elc_select_data_v2</span><span class=\"p\">(</span><span class=\"n\">global_states</span><span class=\"p\">,</span> <span class=\"n\">result</span><span class=\"p\">,</span> <span class=\"n\">parameters</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"s1\">'return'</span><span class=\"p\">:</span> <span class=\"n\">global_states</span><span class=\"p\">[</span><span class=\"n\">parameters</span><span class=\"p\">[</span><span class=\"s1\">'key'</span><span class=\"p\">]]}</span>\n\n\n<span class=\"nd\">@register_elc_function_v2</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'elc_add_plus_plus_v2'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">elc_add_plus_plus_v2</span><span class=\"p\">(</span><span class=\"n\">global_states</span><span class=\"p\">,</span> <span class=\"n\">result</span><span class=\"p\">,</span> <span class=\"n\">parameters</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"s1\">'return'</span><span class=\"p\">:</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"s1\">'return'</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">}</span>\n\n\n<span class=\"nd\">@register_elc_function_v2</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'elc_mul_v2'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">elc_mul_v2</span><span class=\"p\">(</span><span class=\"n\">global_states</span><span class=\"p\">,</span> <span class=\"n\">result</span><span class=\"p\">,</span> <span class=\"n\">parameters</span><span class=\"p\">):</span>\n    <span class=\"n\">_result</span> <span class=\"o\">=</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"s1\">'return'</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">global_states</span><span class=\"p\">[</span><span class=\"s1\">'multiplier'</span><span class=\"p\">])</span>\n    <span class=\"n\">global_states</span><span class=\"p\">[</span><span class=\"s1\">'elc_mul_v2_result'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">_result</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"s1\">'return'</span><span class=\"p\">:</span> <span class=\"n\">_result</span><span class=\"p\">}</span>\n\n\n<span class=\"nd\">@register_elc_function_v2</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'elc_pow_for_mul_v2'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">elc_pow_for_mul_v2</span><span class=\"p\">(</span><span class=\"n\">global_states</span><span class=\"p\">,</span> <span class=\"n\">result</span><span class=\"p\">,</span> <span class=\"n\">parameters</span><span class=\"p\">):</span>\n    <span class=\"n\">_result</span> <span class=\"o\">=</span> <span class=\"n\">global_states</span><span class=\"p\">[</span><span class=\"s1\">'elc_mul_v2_result'</span><span class=\"p\">]</span> <span class=\"o\">**</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">parameters</span><span class=\"p\">[</span><span class=\"s1\">'a'</span><span class=\"p\">])</span>\n    <span class=\"n\">global_states</span><span class=\"p\">[</span><span class=\"s1\">'elc_pow_for_mul_v2_result'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">_result</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"s1\">'return'</span><span class=\"p\">:</span> <span class=\"n\">_result</span><span class=\"p\">}</span>\n</pre>\n<h3>\u56fe</h3>\n<h4>\u6570\u636e\u7ed3\u6784</h4>\n<p>\u56fe\u4e3b\u8981\u7531\u4ee5\u4e0b\u4e24\u90e8\u5206\u7ec4\u6210</p>\n<ul>\n<li>nodes\n<ul>\n<li>\u5305\u542b\u4e86\u6240\u6709\u7684\u8282\u70b9\u7684\u4fe1\u606f</li>\n<li>id</li>\n<li>label</li>\n<li>\u7c7b\u578b\n<ul>\n<li>\u6570\u636e\u7c7b\u578b</li>\n<li>\u7b97\u5b50\u7c7b\u578b</li>\n</ul>\n</li>\n<li>\u5176\u4ed6\n<ul>\n<li>\u4f8b\u5982\u7b97\u5b50\u7684\u53c2\u6570</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>edges\n<ul>\n<li>\u6709\u65b9\u5411\u7684\u8fb9,\u4ece\u4e00\u4e2anode\u7684\u6570\u636e\u6d41\u5411\u53e6\u4e00\u4e2anode</li>\n<li>id</li>\n<li>source\n<ul>\n<li>\u8d77\u59cb\u8282\u70b9\u7684id</li>\n</ul>\n</li>\n<li>target\n<ul>\n<li>\u7ed3\u675f\u8282\u70b9\u7684id</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4>\u4f8b\u5b50</h4>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">elcflow.graph</span> <span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"kn\">from</span> <span class=\"nn\">elcflow.graph</span> <span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"kn\">from</span> <span class=\"nn\">elcflow.helpers</span> <span class=\"kn\">import</span> <span class=\"n\">json_stringify</span><span class=\"p\">,</span> <span class=\"n\">json_parse</span>\n\n<span class=\"n\">_model_2_globals</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"global_variable_1\"</span><span class=\"p\">:</span> <span class=\"mi\">5</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"multiplier\"</span><span class=\"p\">:</span> <span class=\"mi\">3</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">_model_dict_v2</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"nodes\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"data-selector\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0ea5a129\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'operator'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_function\"</span><span class=\"p\">:</span> <span class=\"s1\">'elc_select_data_v2'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_parameters\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"key\"</span><span class=\"p\">:</span> <span class=\"s2\">\"global_variable_1\"</span><span class=\"p\">}},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"add_plus_plus\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"8ac87236\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'operator'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_function\"</span><span class=\"p\">:</span> <span class=\"s2\">\"elc_add_plus_plus_v2\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"multiplier x\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'operator'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_function\"</span><span class=\"p\">:</span> <span class=\"s2\">\"elc_mul_v2\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"pow_for_mul\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"9d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'operator'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_function\"</span><span class=\"p\">:</span> <span class=\"s2\">\"elc_pow_for_mul_v2\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_parameters\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"a\"</span><span class=\"p\">:</span> <span class=\"mi\">4</span><span class=\"p\">}},</span>\n    <span class=\"p\">],</span>\n    <span class=\"s2\">\"edges\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0ea5a129\"</span><span class=\"p\">,</span> <span class=\"s2\">\"target\"</span><span class=\"p\">:</span> <span class=\"s2\">\"8ac87236\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"74bc97ca\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"8ac87236\"</span><span class=\"p\">,</span> <span class=\"s2\">\"target\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"d3645364\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"target\"</span><span class=\"p\">:</span> <span class=\"s2\">\"9d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"b0eb9a9b\"</span><span class=\"p\">},</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n<span class=\"c1\"># \u4ecejson\u7ed3\u6784parse\u6210\u56fe</span>\n<span class=\"n\">_graph</span> <span class=\"o\">=</span> <span class=\"n\">ELCGraph</span><span class=\"o\">.</span><span class=\"n\">create_from_elc_json</span><span class=\"p\">(</span><span class=\"n\">_model_dict_v2</span><span class=\"p\">,</span> <span class=\"n\">elc_graph_version</span><span class=\"o\">=</span><span class=\"n\">ELC_GRAPH_VERSION_V2</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u5e76\u4e14\u521d\u59cb\u5316global</span>\n<span class=\"n\">_graph</span><span class=\"o\">.</span><span class=\"n\">set_state</span><span class=\"p\">(</span><span class=\"n\">_globals</span><span class=\"o\">=</span><span class=\"n\">_model_2_globals</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u7f16\u8bd1\u56fe: \u5305\u542b\u4e86\u5bf9\u4e8e\u8282\u70b9\u62d3\u6251\u6392\u5e8f\u5e76\u4e14\u521d\u59cb\u5316\u7684\u5de5\u4f5c</span>\n<span class=\"n\">_graph</span><span class=\"o\">.</span><span class=\"n\">compile</span><span class=\"p\">()</span>\n<span class=\"c1\"># \u6267\u884c\u56fe</span>\n<span class=\"n\">_graph</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">()</span>\n<span class=\"c1\"># \u753b\u56fe</span>\n<span class=\"n\">_graph</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">show</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">with_state</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n<p><img alt=\"Example Graph 2\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e3f8a19d87669b42d45ef3d4d8b56542d6b9d412/2e2f696d616765732f6578616d706c652d67726170682d322e706e67\"></p>\n<h2>\u4f7f\u7528[V1]</h2>\n<h3>\u6ce8\u518c\u7b97\u5b50</h3>\n<p>\u4f7f\u7528<code>register_elc_function</code>\u6765\u6ce8\u518c\u662f\u4e00\u4e2a\u7b97\u5b50,\u7b97\u5b50\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027:</p>\n<ul>\n<li>name\n<ul>\n<li>\u552f\u4e00\u7684\u6807\u8bc6\u7b26,\u7528\u6765\u627e\u5230\u8fd9\u4e2a\u7b97\u5b50</li>\n</ul>\n</li>\n<li>outputs\n<ul>\n<li>list</li>\n<li>\u7ed9\u8f93\u51fa\u53d6\u540d\u5b57(\u5728\u56fe\u4e0a\u5f90)</li>\n<li>\u5bf9\u5e94\u5230\u662f\u8282\u70b9\u8f93\u51fa\u7684id</li>\n</ul>\n</li>\n<li>inputs\n<ul>\n<li>\u4e0d\u53ef\u9009, \u5219\u4f7f\u7528\u51fd\u6570\u4e2d\u5b9a\u4e49\u7684\u540d\u79f0</li>\n<li>\u5bf9\u5e94\u5230\u662f\u8282\u70b9\u8f93\u5165\u7684id</li>\n</ul>\n</li>\n<li>parameters\n<ul>\n<li>\u5b57\u5178\u7c7b\u578b, \u5305\u542b\u4e86\u9ed8\u8ba4\u7684\u53c2\u6570</li>\n<li>\u4e3b\u8981\u9002\u7528\u4e8e\u4f8b\u5982\u6307\u6570\u51fd\u6570,\u5176\u6307\u6570\u5f53\u4f5c\u53c2\u6570\n<ul>\n<li>\u7ed9\u6307\u65702 -&gt; \u5e73\u65b9</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>\u7528\u4f8b</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">elcflow.base</span> <span class=\"kn\">import</span> <span class=\"n\">register_elc_function</span>\n<span class=\"nd\">@register_elc_function</span><span class=\"p\">(</span><span class=\"n\">outputs</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'elc_output'</span><span class=\"p\">],</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'elc_exp_and_plus'</span><span class=\"p\">,</span> <span class=\"n\">parameters</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'x'</span><span class=\"p\">:</span> <span class=\"mi\">5</span><span class=\"p\">})</span>\n<span class=\"c1\"># \u4e00\u4e2a\u4f8b\u5b50</span>\n<span class=\"c1\"># \u8868\u660e\u6ce8\u518c\u4e86\u4e00\u4e2a\u540d\u79f0\u4e3aelc_exp_and_plus\u7b97\u5b50</span>\n<span class=\"c1\"># \u4ed6\u7684\u8f93\u5165\u6709[a,b,x]</span>\n<span class=\"c1\"># \u5176\u4e2dx\u662f\u53c2\u6570\u7ed9\u7684\u9ed8\u8ba4\u503c\u662f5</span>\n<span class=\"c1\"># \u5b83\u8f93\u51fa\u7684\u540d\u5b57\u53eb\u505aelc_output</span>\n<span class=\"k\">def</span> <span class=\"nf\">elc_exp_and_plus_</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">a</span> <span class=\"o\">**</span> <span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"n\">b</span> <span class=\"o\">**</span> <span class=\"n\">x</span>\n</pre>\n<h3>\u56fe</h3>\n<h4>\u6570\u636e\u7ed3\u6784</h4>\n<p>\u56fe\u4e3b\u8981\u7531\u4ee5\u4e0b\u4e24\u90e8\u5206\u7ec4\u6210</p>\n<ul>\n<li>nodes\n<ul>\n<li>\u5305\u542b\u4e86\u6240\u6709\u7684\u8282\u70b9\u7684\u4fe1\u606f</li>\n<li>id</li>\n<li>label</li>\n<li>\u7c7b\u578b\n<ul>\n<li>\u6570\u636e\u7c7b\u578b</li>\n<li>\u7b97\u5b50\u7c7b\u578b</li>\n</ul>\n</li>\n<li>\u5176\u4ed6\n<ul>\n<li>\u4f8b\u5982\u7b97\u5b50\u7684\u53c2\u6570</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>edges\n<ul>\n<li>\u6709\u65b9\u5411\u7684\u8fb9,\u4ece\u4e00\u4e2anode\u7684<em>\u67d0\u4e00\u4e2a\u8f93\u51fa</em>\u6570\u636e\u6d41\u5411\u53e6\u4e00\u4e2anode\u7684<em>\u67d0\u4e00\u4e2a\u8f93\u5165</em></li>\n<li>id</li>\n<li>source\n<ul>\n<li>\u8d77\u59cb\u8282\u70b9\u7684id</li>\n</ul>\n</li>\n<li>target\n<ul>\n<li>\u7ed3\u675f\u8282\u70b9\u7684id</li>\n</ul>\n</li>\n<li>_elc_source_output_id\n<ul>\n<li>\u8d77\u59cb\u8282\u70b9\u8f93\u51fa\u7684id\n<ul>\n<li>\u53ef\u80fd\u6709\u591a\u4e2a\u8f93\u51fa, \u53d6\u54ea\u4e00\u4e2a?</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>__elc_target_input_id\n<ul>\n<li>\u7ed3\u675f\u8282\u70b9\u8f93\u5165\u7684id\n<ul>\n<li>\u53ef\u80fd\u6709\u591a\u4e2a\u8f93\u5165, \u5bf9\u5e94\u5230\u54ea\u4e00\u4e2a?</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4>\u4f8b\u5b50</h4>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">elcflow.graph</span> <span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"kn\">from</span> <span class=\"nn\">elcflow.graph</span> <span class=\"kn\">import</span> <span class=\"o\">*</span>\n<span class=\"kn\">from</span> <span class=\"nn\">elcflow.helpers</span> <span class=\"kn\">import</span> <span class=\"n\">json_stringify</span><span class=\"p\">,</span> <span class=\"n\">json_parse</span>\n\n<span class=\"n\">json_model</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"nodes\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Input-2\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"3362b879\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'data'</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Input-1\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0ea5a129\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'data'</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Add\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"8ac87236\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'operator'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_function\"</span><span class=\"p\">:</span> <span class=\"s2\">\"elc_add\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"MUL\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'operator'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_function\"</span><span class=\"p\">:</span> <span class=\"s2\">\"elc_mul\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"POW\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"9d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'operator'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_function\"</span><span class=\"p\">:</span> <span class=\"s2\">\"elc_pow\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_parameters\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"a\"</span><span class=\"p\">:</span> <span class=\"mi\">4</span><span class=\"p\">}},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"OUTPUT\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'operator'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_function\"</span><span class=\"p\">:</span> <span class=\"s2\">\"elc_output\"</span><span class=\"p\">,</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"label\"</span><span class=\"p\">:</span> <span class=\"s2\">\"OUTPUT\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_node_type\"</span><span class=\"p\">:</span> <span class=\"s1\">'operator'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_function\"</span><span class=\"p\">:</span> <span class=\"s2\">\"elc_output\"</span><span class=\"p\">},</span>\n    <span class=\"p\">],</span>\n    <span class=\"s2\">\"edges\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0ea5a129\"</span><span class=\"p\">,</span> <span class=\"s2\">\"target\"</span><span class=\"p\">:</span> <span class=\"s2\">\"8ac87236\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"74bc97ca\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_source_output_id\"</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_target_input_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"a\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"3362b879\"</span><span class=\"p\">,</span> <span class=\"s2\">\"target\"</span><span class=\"p\">:</span> <span class=\"s2\">\"8ac87236\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"d3645364\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_source_output_id\"</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_target_input_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"b\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"8ac87236\"</span><span class=\"p\">,</span> <span class=\"s2\">\"target\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"b0eb9a9b\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_source_output_id\"</span><span class=\"p\">:</span> <span class=\"s1\">'sum_result'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_target_input_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"a\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"3362b879\"</span><span class=\"p\">,</span> <span class=\"s2\">\"target\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0e6c0fde\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_source_output_id\"</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_target_input_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"b\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"target\"</span><span class=\"p\">:</span> <span class=\"s2\">\"9d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"7e6c0fde\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_source_output_id\"</span><span class=\"p\">:</span> <span class=\"s1\">'mul_result'</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_target_input_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"x\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"0d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"target\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1e6c0fde\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_target_input_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"kwargs\"</span><span class=\"p\">},</span>\n        <span class=\"p\">{</span><span class=\"s2\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"9d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"target\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2d1af6ff\"</span><span class=\"p\">,</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2e6c0fde\"</span><span class=\"p\">,</span> <span class=\"s2\">\"_elc_target_input_id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"kwargs\"</span><span class=\"p\">},</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n<span class=\"c1\"># \u4ecejson\u7ed3\u6784parse\u6210\u56fe</span>\n<span class=\"n\">_graph</span> <span class=\"o\">=</span> <span class=\"n\">ELCGraph</span><span class=\"o\">.</span><span class=\"n\">create_from_elc_json</span><span class=\"p\">(</span><span class=\"n\">json_model</span><span class=\"p\">)</span>\n<span class=\"c1\"># \u7f16\u8bd1\u56fe: \u5305\u542b\u4e86\u5bf9\u4e8e\u8282\u70b9\u62d3\u6251\u6392\u5e8f\u5e76\u4e14\u521d\u59cb\u5316\u7684\u5de5\u4f5c</span>\n<span class=\"n\">_graph</span><span class=\"o\">.</span><span class=\"n\">compile</span><span class=\"p\">()</span>\n<span class=\"c1\"># \u628a\u8f93\u5165\u8282\u70b9\u7684\u6570\u636e\u5582\u8fdb\u53bb</span>\n<span class=\"n\">_graph</span><span class=\"o\">.</span><span class=\"n\">feed_data_dict</span><span class=\"p\">({</span>\n    <span class=\"s1\">'3362b879'</span><span class=\"p\">:</span> <span class=\"mi\">5</span><span class=\"p\">,</span>\n    <span class=\"s1\">'0ea5a129'</span><span class=\"p\">:</span> <span class=\"mi\">6</span>\n<span class=\"p\">})</span>\n<span class=\"c1\"># \u6267\u884c\u56fe</span>\n<span class=\"n\">_graph</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">()</span>\n<span class=\"c1\"># \u5e8f\u5217\u5316\u6574\u4e2a\u56fe\u7ed3\u6784</span>\n<span class=\"n\">graph_str</span> <span class=\"o\">=</span> <span class=\"n\">json_stringify</span><span class=\"p\">(</span><span class=\"n\">_graph</span><span class=\"o\">.</span><span class=\"n\">to_dict</span><span class=\"p\">())</span>\n<span class=\"c1\"># \u89e3\u6790\u5e8f\u5217\u5316\u7ed3\u6784\u5230\u56fe</span>\n<span class=\"n\">new_graph</span> <span class=\"o\">=</span> <span class=\"n\">ELCGraph</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">json_parse</span><span class=\"p\">(</span><span class=\"n\">graph_str</span><span class=\"p\">))</span>\n<span class=\"c1\"># \u628a\u7ed3\u679c\u753b\u51fa\u6765</span>\n<span class=\"n\">new_graph</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">show</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">with_state</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n<p><img alt=\"Example Graph 1\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e95dbce973dc74a90adf7fdf5c062bbf5ba0a6a0/2e2f696d616765732f6578616d706c652d67726170682d312e706e67\"></p>\n\n          </div>"}, "last_serial": 6337814, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "0eae431bb7cde1445972059f0db909a3", "sha256": "5c42e434cf1274892f5187c0d91c9b3afdb112986dcd15af2667d63c80929550"}, "downloads": -1, "filename": "elc-flow-0.0.1.tar.gz", "has_sig": false, "md5_digest": "0eae431bb7cde1445972059f0db909a3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6859, "upload_time": "2019-12-17T06:19:11", "upload_time_iso_8601": "2019-12-17T06:19:11.603085Z", "url": "https://files.pythonhosted.org/packages/cc/fc/67dd5adf5b632dc3f62f23e70f791a4eb07af0c4dcc0da37ec096a3d2ef9/elc-flow-0.0.1.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "b74bf7893f21aeeaebb6654bd5ad5915", "sha256": "a99cc92fe74141838fb4a6ef978e6792626e0769e65843c32cd09ca3944e3184"}, "downloads": -1, "filename": "elc-flow-0.1.0.tar.gz", "has_sig": false, "md5_digest": "b74bf7893f21aeeaebb6654bd5ad5915", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6888, "upload_time": "2019-12-17T06:28:07", "upload_time_iso_8601": "2019-12-17T06:28:07.346481Z", "url": "https://files.pythonhosted.org/packages/b5/d2/14d350daad2680b2f91e4837ac392032195ccdf1034eb1eed22ef60c9a3a/elc-flow-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "5232c122c10d93b0a7316568c8f466da", "sha256": "f5460f3568f824732c3c1581ee7b2cfca8ef72826dc366a2499648e5d473d43a"}, "downloads": -1, "filename": "elc-flow-0.2.0.tar.gz", "has_sig": false, "md5_digest": "5232c122c10d93b0a7316568c8f466da", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12559, "upload_time": "2019-12-20T08:30:05", "upload_time_iso_8601": "2019-12-20T08:30:05.738808Z", "url": "https://files.pythonhosted.org/packages/f8/95/0832a3cbd4f7624e41cfd8ccffd9d05e7c1400ca02457c7b931e8c5a9b1b/elc-flow-0.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5232c122c10d93b0a7316568c8f466da", "sha256": "f5460f3568f824732c3c1581ee7b2cfca8ef72826dc366a2499648e5d473d43a"}, "downloads": -1, "filename": "elc-flow-0.2.0.tar.gz", "has_sig": false, "md5_digest": "5232c122c10d93b0a7316568c8f466da", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12559, "upload_time": "2019-12-20T08:30:05", "upload_time_iso_8601": "2019-12-20T08:30:05.738808Z", "url": "https://files.pythonhosted.org/packages/f8/95/0832a3cbd4f7624e41cfd8ccffd9d05e7c1400ca02457c7b931e8c5a9b1b/elc-flow-0.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:46:56 2020"}
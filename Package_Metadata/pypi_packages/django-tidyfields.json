{"info": {"author": "Chris Routh", "author_email": "chris@routh.io", "bugtrack_url": null, "classifiers": ["Framework :: Django", "Framework :: Django :: 2.2", "Framework :: Django :: 3.0", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Software Development :: Libraries :: Python Modules"], "description": ".. django_tidyfields documentation master file, created by startproject.\n   You can adapt this file completely to your liking, but it should at least\n   contain the root `toctree` directive.\n\n=================================================\nWelcome to django_tidyfields's documentation!\n=================================================\n\n:Version: 1.2.0\n:Source: https://gitlab.routh.io/open-source/python/django_tidyfields\n:Keywords: ``django`` ``lxml`` ``input`` ``html`` ``fields``\n:PythonVersion: 3.6+\n\n|build-status| |requirements| |coverage|\n\n|python-versions| |django-versions| |pypi-version| |pypi-downloads|\n\nSanitise HTML input from API Endpoints or Views\n\n.. contents::\n\n.. section-numbering::\n\nFeatures\n========\n\n* Leverages the power of ``lxml`` to filter model fields\n* Supports input from any source as the filtering is triggered by model save\n\nInstallation\n============\n\nRequirements\n------------\n\n* Python 3.6 or above\n* setuptools 30.3.0 or above\n* Django 2.2 or above\n\n\nInstall\n-------\n\nInstall ``django_tidyfields`` via ``pip``:\n\n.. code-block:: bash\n\n   pip install django-tidyfields\n\nAdd Django TidyFields to ``INSTALLED_APPS``:\n\n.. code-block:: python\n\n   INSTALLED_APPS = [\n       # ...\n       'django_tidyfields',\n       # ...\n   ]\n\nConfigure\n---------\n\nThese fields pass the expected arguments for `lxml.html.clean.Cleaner` class through to the `Cleaner` instance directly. We will try to\nkeep the docs in line with the latest integrated lxml version, however these parameters are subject to change based on the\ndevelopment of lxml. More on `https://lxml.de <https://lxml.de/api/lxml.html.clean.Cleaner-class.html>`_\n\n\n\nUsage\n=====\n\nDjango TidyFields subclass the Django TextField and CharField classes, and take any parameters available to them.\n\nYou can optionally configure the field globally in your Django Settings:\n\n.. code-block:: python\n\n   \"\"\"\n   Empty dict example, showing all parameters available, at their defaults.\n   \"\"\"\n   TIDYFIELDS = {\n       'processing_instructions': True,\n       'javascript': True,\n       'comments': True,\n       'style': True,\n       'allow_tags': [],\n       'remove_unknown_tags': False,\n       'kill_tags': ['script', 'style'],\n       'safe_attrs_only': True,\n       'safe_attrs': [],\n       'add_nofollow': True,\n       'scripts': True,\n       'inline_style': None,\n       'links': True,\n       'meta': True,\n       'page_structure': True,\n       'embedded': True,\n       'frames': True,\n       'forms': True,\n       'annoying_tags': True,\n       'remove_tags': None,\n       'host_whitelist': [],\n       'whitelist_tags': {}\n   }\n\n\nAnd you can override specific parameters for each model that uses Django TidyFields. Parameters not set here will inherit from\nthe global settings or from `lxml.html.clean.Cleaner` itself. Review the `lxml documentation <https://lxml.de/lxmlhtml.html#cleaning-up-html>`_\nfor the bleach default arguments.\n\n``models.py``:\n\n.. code-block:: python\n\n   \"\"\"\n   A minimal Models.py usage example\n   \"\"\"\n\n   from django.db.models import Model\n   from django_tidyfields.fields import TidyTextField, TidyCharField\n\n   class UserSubmission(Model):\n       title = TidyCharField()\n       description = TidyTextField()\n       body = TidyTextField()\n\n\nAdvanced Usage\n==============\n\nDjango TidyFields can be used however you like, but we recommend that your global defaults be a minimum\nallowed set of tags, or simply be setup to strip everything. If your project only allows HTML tags in certain\nTextFields for example, it implies that you'll have a number of CharFields and TextFields where you want HTML\nto be stripped out.\n\nYou can define allowed tags when defining a field directly in the model, however you may also define addition\ndefaults with unique variable names in your Django Settings, and use that var on any TextField that allows those\ntags. The fields check to see if any arguments are set in the `field_args` parameter, and only overrides the\ndefault arguments if you've passed the same argument again. So you can use additive and subtractive magic to\nsimplify your code as much as possible. Just remember the Wizards Second Rule! (Especially when using subtractive\nmagic)\n\n    | \u201cThe Second Rule is that the greatest harm can result from the best intentions.  It sounds a paradox, but kindness and good intentions can be an insidious path to destruction. Sometimes doing what seems right is wrong and can cause harm.  The only counter to it is knowledge, wisdom, forethought, and understanding the First Rule.  Even then, that is not always enough.\u201d\n    |\n    | *-- Zedd Zu'l Zorander*\n    | *Stone of Tears, Terry Goodkind*\n\nAn Additive example\n-------------------\n\n``settings.py``:\n\n.. code-block:: python\n\n   \"\"\"\n   Default dict that strips all HTML, with a permissive dict for certain fields.\n   \"\"\"\n   TIDYFIELDS = {\n       'processing_instructions': True,\n       'javascript': True,\n       'comments': True,\n       'style': True,\n       'allow_tags': [''],\n       'remove_unknown_tags': False,\n       'kill_tags': ['script', 'style'],\n       'safe_attrs_only': True,\n       'safe_attrs': [''],\n       'add_nofollow': True\n   }\n\n   PERMISSIVE_TIDYFIELDS = {\n       'allow_tags': ['b', 'em', 'i', 'strong', 'span', 'p', 'pagebreak'],\n       'safe_attrs': ['style'],\n       'style': False\n   }\n\n``models.py``:\n\n.. code-block:: python\n\n   \"\"\"\n   A models.py usage example with Additive magic\n   \"\"\"\n\n   from django.db.models import Model\n   from django.conf import settings\n   from django_tidyfields.fields import TidyTextField, TidyCharField\n\n   class UserSubmission(Model):\n       title = TidyCharField()\n       description = TidyTextField()\n       body = TidyTextField(field_args=settings.PERMISSIVE_TIDYFIELDS)\n\nHistory\n=======\n\nThis module was originally named Django-Bleachfields and was intended to be a spiritual successor to the now defunct django-bleachfield module. An alpha version had been uploaded to Pypi, however it has been pulled in favour of this module. During initial testing it was found that ``bleach`` only removes tags, the developers considering removal of the code within them being a concern of beutifying HTML rather than a security concern. It was found that this opened the door for some of the more creative XSS filter attacks. As a result, ``lxml`` was chosen to replace ``bleach`` in this module as it allows the complete removal of specified tags and their content.\n\nTesting\n=======\n\nThis module is tested to ensure it does not strip allowed HTML or CSS, but that it does strip XSS attacks or leaves them inert. Nearly 30 attacks from the `OWASP XSS Filter Evasion cheat sheet <https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet>`_ are tested. More will be added in the next version.\n\nDisclaimer: Allowing javascript will compromise the XSS filtering. Do so with utmost caution and only give such priveledges to trusted persons.\n\n\n.. |build-status| image:: https://gitlab.routh.io/open-source/python/django_tidyfields/badges/master/pipeline.svg\n    :target: https://gitlab.routh.io/open-source/python/django_tidyfields/commits/master\n\n.. |requirements| image:: https://requires.io/enterprise/Routhinator/django_tidyfields/requirements.svg?branch=master\n    :target: https://requires.io/enterprise/Routhinator/django_tidyfields/requirements/?branch=master\n    :alt: Requirements status\n\n.. |coverage| image:: https://gitlab.routh.io/open-source/python/django_tidyfields/badges/master/coverage.svg\n    :target: http://open-source.pages.routh.io/python/django_tidyfields/\n    :alt: Coverage status\n\n.. |python-versions| image:: https://img.shields.io/pypi/pyversions/django_tidyfields.svg\n\n.. |django-versions| image:: https://img.shields.io/pypi/djversions/django_tidyfields.svg\n\n.. |pypi-version| image:: https://img.shields.io/pypi/v/django_tidyfields.svg\n    :target: https://pypi.org/project/django-tidyfields/\n\n.. |pypi-downloads| image:: https://pepy.tech/badge/django-tidyfields\n    :target: https://pepy.tech/project/django-tidyfields", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitlab.routh.io/open-source/python/django_tidyfields", "keywords": "django,lxml,input,html,fields", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "django-tidyfields", "package_url": "https://pypi.org/project/django-tidyfields/", "platform": "", "project_url": "https://pypi.org/project/django-tidyfields/", "project_urls": {"Homepage": "https://gitlab.routh.io/open-source/python/django_tidyfields"}, "release_url": "https://pypi.org/project/django-tidyfields/1.2.0/", "requires_dist": null, "requires_python": "", "summary": "Easily accept html input with Django models, templates and DRF serializers", "version": "1.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <table>\n<col>\n<col>\n<tbody>\n<tr><th>Version:</th>\n<td>1.2.0</td></tr>\n<tr><th>Source:</th><td><a href=\"https://gitlab.routh.io/open-source/python/django_tidyfields\" rel=\"nofollow\">https://gitlab.routh.io/open-source/python/django_tidyfields</a></td>\n</tr>\n<tr><th>Keywords:</th><td><tt>django</tt> <tt>lxml</tt> <tt>input</tt> <tt>html</tt> <tt>fields</tt></td>\n</tr>\n<tr><th>PythonVersion:</th><td>3.6+</td>\n</tr>\n</tbody>\n</table>\n<p><a href=\"https://gitlab.routh.io/open-source/python/django_tidyfields/commits/master\" rel=\"nofollow\"><img alt=\"build-status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/237bbadbcae8f41e197eaab7657d2f93478f7eff/68747470733a2f2f6769746c61622e726f7574682e696f2f6f70656e2d736f757263652f707974686f6e2f646a616e676f5f746964796669656c64732f6261646765732f6d61737465722f706970656c696e652e737667\"></a> <a href=\"https://requires.io/enterprise/Routhinator/django_tidyfields/requirements/?branch=master\" rel=\"nofollow\"><img alt=\"Requirements status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0073ffb46e45c526ce7be670f6749b4815893ebc/68747470733a2f2f72657175697265732e696f2f656e74657270726973652f526f757468696e61746f722f646a616e676f5f746964796669656c64732f726571756972656d656e74732e7376673f6272616e63683d6d6173746572\"></a> <a href=\"http://open-source.pages.routh.io/python/django_tidyfields/\" rel=\"nofollow\"><img alt=\"Coverage status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/096fe355ad48e66a114a87524d3cf13c6c29d8e9/68747470733a2f2f6769746c61622e726f7574682e696f2f6f70656e2d736f757263652f707974686f6e2f646a616e676f5f746964796669656c64732f6261646765732f6d61737465722f636f7665726167652e737667\"></a></p>\n<p><img alt=\"python-versions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e9c6575d8a1874e219dce92617e83ef43c9e4d81/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f646a616e676f5f746964796669656c64732e737667\"> <img alt=\"django-versions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1628df3771363fba8bb77f2bfd4671a78ba01ccd/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646a76657273696f6e732f646a616e676f5f746964796669656c64732e737667\"> <a href=\"https://pypi.org/project/django-tidyfields/\" rel=\"nofollow\"><img alt=\"pypi-version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c2f34cbf79aa537f2eadfd86b78282ceed3a716a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f646a616e676f5f746964796669656c64732e737667\"></a> <a href=\"https://pepy.tech/project/django-tidyfields\" rel=\"nofollow\"><img alt=\"pypi-downloads\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1df26ae05dad21dd013c577432a782a20537d363/68747470733a2f2f706570792e746563682f62616467652f646a616e676f2d746964796669656c6473\"></a></p>\n<p>Sanitise HTML input from API Endpoints or Views</p>\n<div id=\"contents\">\n<p>Contents</p>\n<ul>\n<li><a href=\"#features\" id=\"id1\" rel=\"nofollow\">1\u00a0\u00a0\u00a0Features</a></li>\n<li><a href=\"#installation\" id=\"id2\" rel=\"nofollow\">2\u00a0\u00a0\u00a0Installation</a><ul>\n<li><a href=\"#requirements\" id=\"id3\" rel=\"nofollow\">2.1\u00a0\u00a0\u00a0Requirements</a></li>\n<li><a href=\"#install\" id=\"id4\" rel=\"nofollow\">2.2\u00a0\u00a0\u00a0Install</a></li>\n<li><a href=\"#configure\" id=\"id5\" rel=\"nofollow\">2.3\u00a0\u00a0\u00a0Configure</a></li>\n</ul>\n</li>\n<li><a href=\"#usage\" id=\"id6\" rel=\"nofollow\">3\u00a0\u00a0\u00a0Usage</a></li>\n<li><a href=\"#advanced-usage\" id=\"id7\" rel=\"nofollow\">4\u00a0\u00a0\u00a0Advanced Usage</a><ul>\n<li><a href=\"#an-additive-example\" id=\"id8\" rel=\"nofollow\">4.1\u00a0\u00a0\u00a0An Additive example</a></li>\n</ul>\n</li>\n<li><a href=\"#history\" id=\"id9\" rel=\"nofollow\">5\u00a0\u00a0\u00a0History</a></li>\n<li><a href=\"#testing\" id=\"id10\" rel=\"nofollow\">6\u00a0\u00a0\u00a0Testing</a></li>\n</ul>\n</div>\n<div id=\"features\">\n<h2><a href=\"#id1\" rel=\"nofollow\">1\u00a0\u00a0\u00a0Features</a></h2>\n<ul>\n<li>Leverages the power of <tt>lxml</tt> to filter model fields</li>\n<li>Supports input from any source as the filtering is triggered by model save</li>\n</ul>\n</div>\n<div id=\"installation\">\n<h2><a href=\"#id2\" rel=\"nofollow\">2\u00a0\u00a0\u00a0Installation</a></h2>\n<div id=\"requirements\">\n<h3><a href=\"#id3\" rel=\"nofollow\">2.1\u00a0\u00a0\u00a0Requirements</a></h3>\n<ul>\n<li>Python 3.6 or above</li>\n<li>setuptools 30.3.0 or above</li>\n<li>Django 2.2 or above</li>\n</ul>\n</div>\n<div id=\"install\">\n<h3><a href=\"#id4\" rel=\"nofollow\">2.2\u00a0\u00a0\u00a0Install</a></h3>\n<p>Install <tt>django_tidyfields</tt> via <tt>pip</tt>:</p>\n<pre>pip install django-tidyfields\n</pre>\n<p>Add Django TidyFields to <tt>INSTALLED_APPS</tt>:</p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"c1\"># ...</span>\n    <span class=\"s1\">'django_tidyfields'</span><span class=\"p\">,</span>\n    <span class=\"c1\"># ...</span>\n<span class=\"p\">]</span>\n</pre>\n</div>\n<div id=\"configure\">\n<h3><a href=\"#id5\" rel=\"nofollow\">2.3\u00a0\u00a0\u00a0Configure</a></h3>\n<p>These fields pass the expected arguments for <cite>lxml.html.clean.Cleaner</cite> class through to the <cite>Cleaner</cite> instance directly. We will try to\nkeep the docs in line with the latest integrated lxml version, however these parameters are subject to change based on the\ndevelopment of lxml. More on <a href=\"https://lxml.de/api/lxml.html.clean.Cleaner-class.html\" rel=\"nofollow\">https://lxml.de</a></p>\n</div>\n</div>\n<div id=\"usage\">\n<h2><a href=\"#id6\" rel=\"nofollow\">3\u00a0\u00a0\u00a0Usage</a></h2>\n<p>Django TidyFields subclass the Django TextField and CharField classes, and take any parameters available to them.</p>\n<p>You can optionally configure the field globally in your Django Settings:</p>\n<pre><span class=\"sd\">\"\"\"\nEmpty dict example, showing all parameters available, at their defaults.\n\"\"\"</span>\n<span class=\"n\">TIDYFIELDS</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'processing_instructions'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'javascript'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'comments'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'style'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'allow_tags'</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n    <span class=\"s1\">'remove_unknown_tags'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span>\n    <span class=\"s1\">'kill_tags'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'script'</span><span class=\"p\">,</span> <span class=\"s1\">'style'</span><span class=\"p\">],</span>\n    <span class=\"s1\">'safe_attrs_only'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'safe_attrs'</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n    <span class=\"s1\">'add_nofollow'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'scripts'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'inline_style'</span><span class=\"p\">:</span> <span class=\"kc\">None</span><span class=\"p\">,</span>\n    <span class=\"s1\">'links'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'meta'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'page_structure'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'embedded'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'frames'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'forms'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'annoying_tags'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'remove_tags'</span><span class=\"p\">:</span> <span class=\"kc\">None</span><span class=\"p\">,</span>\n    <span class=\"s1\">'host_whitelist'</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n    <span class=\"s1\">'whitelist_tags'</span><span class=\"p\">:</span> <span class=\"p\">{}</span>\n<span class=\"p\">}</span>\n</pre>\n<p>And you can override specific parameters for each model that uses Django TidyFields. Parameters not set here will inherit from\nthe global settings or from <cite>lxml.html.clean.Cleaner</cite> itself. Review the <a href=\"https://lxml.de/lxmlhtml.html#cleaning-up-html\" rel=\"nofollow\">lxml documentation</a>\nfor the bleach default arguments.</p>\n<p><tt>models.py</tt>:</p>\n<pre><span class=\"sd\">\"\"\"\nA minimal Models.py usage example\n\"\"\"</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">django.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">Model</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_tidyfields.fields</span> <span class=\"kn\">import</span> <span class=\"n\">TidyTextField</span><span class=\"p\">,</span> <span class=\"n\">TidyCharField</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">UserSubmission</span><span class=\"p\">(</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">TidyCharField</span><span class=\"p\">()</span>\n    <span class=\"n\">description</span> <span class=\"o\">=</span> <span class=\"n\">TidyTextField</span><span class=\"p\">()</span>\n    <span class=\"n\">body</span> <span class=\"o\">=</span> <span class=\"n\">TidyTextField</span><span class=\"p\">()</span>\n</pre>\n</div>\n<div id=\"advanced-usage\">\n<h2><a href=\"#id7\" rel=\"nofollow\">4\u00a0\u00a0\u00a0Advanced Usage</a></h2>\n<p>Django TidyFields can be used however you like, but we recommend that your global defaults be a minimum\nallowed set of tags, or simply be setup to strip everything. If your project only allows HTML tags in certain\nTextFields for example, it implies that you\u2019ll have a number of CharFields and TextFields where you want HTML\nto be stripped out.</p>\n<p>You can define allowed tags when defining a field directly in the model, however you may also define addition\ndefaults with unique variable names in your Django Settings, and use that var on any TextField that allows those\ntags. The fields check to see if any arguments are set in the <cite>field_args</cite> parameter, and only overrides the\ndefault arguments if you\u2019ve passed the same argument again. So you can use additive and subtractive magic to\nsimplify your code as much as possible. Just remember the Wizards Second Rule! (Especially when using subtractive\nmagic)</p>\n<blockquote>\n<div>\n<div>\u201cThe Second Rule is that the greatest harm can result from the best intentions.  It sounds a paradox, but kindness and good intentions can be an insidious path to destruction. Sometimes doing what seems right is wrong and can cause harm.  The only counter to it is knowledge, wisdom, forethought, and understanding the First Rule.  Even then, that is not always enough.\u201d</div>\n<div><br></div>\n<div><em>\u2013 Zedd Zu\u2019l Zorander</em></div>\n<div><em>Stone of Tears, Terry Goodkind</em></div>\n</div>\n</blockquote>\n<div id=\"an-additive-example\">\n<h3><a href=\"#id8\" rel=\"nofollow\">4.1\u00a0\u00a0\u00a0An Additive example</a></h3>\n<p><tt>settings.py</tt>:</p>\n<pre><span class=\"sd\">\"\"\"\nDefault dict that strips all HTML, with a permissive dict for certain fields.\n\"\"\"</span>\n<span class=\"n\">TIDYFIELDS</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'processing_instructions'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'javascript'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'comments'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'style'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'allow_tags'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">''</span><span class=\"p\">],</span>\n    <span class=\"s1\">'remove_unknown_tags'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span>\n    <span class=\"s1\">'kill_tags'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'script'</span><span class=\"p\">,</span> <span class=\"s1\">'style'</span><span class=\"p\">],</span>\n    <span class=\"s1\">'safe_attrs_only'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s1\">'safe_attrs'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">''</span><span class=\"p\">],</span>\n    <span class=\"s1\">'add_nofollow'</span><span class=\"p\">:</span> <span class=\"kc\">True</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">PERMISSIVE_TIDYFIELDS</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'allow_tags'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'b'</span><span class=\"p\">,</span> <span class=\"s1\">'em'</span><span class=\"p\">,</span> <span class=\"s1\">'i'</span><span class=\"p\">,</span> <span class=\"s1\">'strong'</span><span class=\"p\">,</span> <span class=\"s1\">'span'</span><span class=\"p\">,</span> <span class=\"s1\">'p'</span><span class=\"p\">,</span> <span class=\"s1\">'pagebreak'</span><span class=\"p\">],</span>\n    <span class=\"s1\">'safe_attrs'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'style'</span><span class=\"p\">],</span>\n    <span class=\"s1\">'style'</span><span class=\"p\">:</span> <span class=\"kc\">False</span>\n<span class=\"p\">}</span>\n</pre>\n<p><tt>models.py</tt>:</p>\n<pre><span class=\"sd\">\"\"\"\nA models.py usage example with Additive magic\n\"\"\"</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">django.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">Model</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.conf</span> <span class=\"kn\">import</span> <span class=\"n\">settings</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_tidyfields.fields</span> <span class=\"kn\">import</span> <span class=\"n\">TidyTextField</span><span class=\"p\">,</span> <span class=\"n\">TidyCharField</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">UserSubmission</span><span class=\"p\">(</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">TidyCharField</span><span class=\"p\">()</span>\n    <span class=\"n\">description</span> <span class=\"o\">=</span> <span class=\"n\">TidyTextField</span><span class=\"p\">()</span>\n    <span class=\"n\">body</span> <span class=\"o\">=</span> <span class=\"n\">TidyTextField</span><span class=\"p\">(</span><span class=\"n\">field_args</span><span class=\"o\">=</span><span class=\"n\">settings</span><span class=\"o\">.</span><span class=\"n\">PERMISSIVE_TIDYFIELDS</span><span class=\"p\">)</span>\n</pre>\n</div>\n</div>\n<div id=\"history\">\n<h2><a href=\"#id9\" rel=\"nofollow\">5\u00a0\u00a0\u00a0History</a></h2>\n<p>This module was originally named Django-Bleachfields and was intended to be a spiritual successor to the now defunct django-bleachfield module. An alpha version had been uploaded to Pypi, however it has been pulled in favour of this module. During initial testing it was found that <tt>bleach</tt> only removes tags, the developers considering removal of the code within them being a concern of beutifying HTML rather than a security concern. It was found that this opened the door for some of the more creative XSS filter attacks. As a result, <tt>lxml</tt> was chosen to replace <tt>bleach</tt> in this module as it allows the complete removal of specified tags and their content.</p>\n</div>\n<div id=\"testing\">\n<h2><a href=\"#id10\" rel=\"nofollow\">6\u00a0\u00a0\u00a0Testing</a></h2>\n<p>This module is tested to ensure it does not strip allowed HTML or CSS, but that it does strip XSS attacks or leaves them inert. Nearly 30 attacks from the <a href=\"https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet\" rel=\"nofollow\">OWASP XSS Filter Evasion cheat sheet</a> are tested. More will be added in the next version.</p>\n<p>Disclaimer: Allowing javascript will compromise the XSS filtering. Do so with utmost caution and only give such priveledges to trusted persons.</p>\n</div>\n\n          </div>"}, "last_serial": 6908733, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "cba4ddbf9f0da8ff58b8721e13169c4a", "sha256": "0f593cab16b3df601258da8c1c669b7ec19731aa2d6e15ab35906a3189af1ffb"}, "downloads": -1, "filename": "django_tidyfields-0.1.0.tar.gz", "has_sig": false, "md5_digest": "cba4ddbf9f0da8ff58b8721e13169c4a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9313, "upload_time": "2019-04-22T01:11:30", "upload_time_iso_8601": "2019-04-22T01:11:30.547668Z", "url": "https://files.pythonhosted.org/packages/d3/2c/71498565ab75784e249e85eeaedfdd4999c7520f35322e302c27286ea924/django_tidyfields-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "20f636bba2345949b3496f2bcb448e44", "sha256": "8d5871f6f6cee92ac1623c537bf64baaade478919a513b99bda5007c748ddef2"}, "downloads": -1, "filename": "django_tidyfields-0.1.1.tar.gz", "has_sig": false, "md5_digest": "20f636bba2345949b3496f2bcb448e44", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9298, "upload_time": "2019-04-22T04:43:21", "upload_time_iso_8601": "2019-04-22T04:43:21.990966Z", "url": "https://files.pythonhosted.org/packages/36/78/94166303367b6fa6d664669cf8810b5fc2b85b44dad00845e8aa945a6ad7/django_tidyfields-0.1.1.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "cb34bd801ed95a2aa504ce40aab3d679", "sha256": "00ec844514a897d2c59f2ae3daacd6d68273e2ac688f1206a95cdef8320cecef"}, "downloads": -1, "filename": "django_tidyfields-1.0.0.tar.gz", "has_sig": false, "md5_digest": "cb34bd801ed95a2aa504ce40aab3d679", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14517, "upload_time": "2019-04-24T14:40:51", "upload_time_iso_8601": "2019-04-24T14:40:51.947863Z", "url": "https://files.pythonhosted.org/packages/27/fa/01a55d6f15a6d44632027b9fa9d02c4ea770455140e1ecd9c8568da528f0/django_tidyfields-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "4bd2ec1fdc301b39804e6c4b8b065e37", "sha256": "f95290e1fb07410f8c38221a0d285d100ecce8f2b5b01fe5caefb4e019a6fd2e"}, "downloads": -1, "filename": "django_tidyfields-1.0.1.tar.gz", "has_sig": false, "md5_digest": "4bd2ec1fdc301b39804e6c4b8b065e37", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14505, "upload_time": "2019-04-24T15:12:26", "upload_time_iso_8601": "2019-04-24T15:12:26.354956Z", "url": "https://files.pythonhosted.org/packages/4e/0b/9b921953b70c384f0a8b108574749fe2df270a2de5b40fc7b9dd4a7f7716/django_tidyfields-1.0.1.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "992f10e594e394dd3306c02c3c993b4c", "sha256": "fa7bdbc7072183c249c96c92d38cd2aedba3630a7cb54f8f626eeca66d91a5fe"}, "downloads": -1, "filename": "django_tidyfields-1.1.0.tar.gz", "has_sig": false, "md5_digest": "992f10e594e394dd3306c02c3c993b4c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14620, "upload_time": "2019-05-19T17:38:10", "upload_time_iso_8601": "2019-05-19T17:38:10.987258Z", "url": "https://files.pythonhosted.org/packages/9d/1a/439293506ecb556b5e13cd80dde5a8fbd1ba76ee3cb33856c316e7c0ce72/django_tidyfields-1.1.0.tar.gz", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "f791bbc70ece119ca6f6050a83f44cb2", "sha256": "b745ee648bd0c21df1002d01811aaa2f7daa70e558311908b72dbbd1f443dcdc"}, "downloads": -1, "filename": "django_tidyfields-1.2.0.tar.gz", "has_sig": false, "md5_digest": "f791bbc70ece119ca6f6050a83f44cb2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14682, "upload_time": "2020-03-29T21:05:24", "upload_time_iso_8601": "2020-03-29T21:05:24.399215Z", "url": "https://files.pythonhosted.org/packages/9e/74/854b9148a6ab53a4358688ca2e22c5ca30c4f9a38003a5dc0fc408d78785/django_tidyfields-1.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f791bbc70ece119ca6f6050a83f44cb2", "sha256": "b745ee648bd0c21df1002d01811aaa2f7daa70e558311908b72dbbd1f443dcdc"}, "downloads": -1, "filename": "django_tidyfields-1.2.0.tar.gz", "has_sig": false, "md5_digest": "f791bbc70ece119ca6f6050a83f44cb2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 14682, "upload_time": "2020-03-29T21:05:24", "upload_time_iso_8601": "2020-03-29T21:05:24.399215Z", "url": "https://files.pythonhosted.org/packages/9e/74/854b9148a6ab53a4358688ca2e22c5ca30c4f9a38003a5dc0fc408d78785/django_tidyfields-1.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:52:28 2020"}
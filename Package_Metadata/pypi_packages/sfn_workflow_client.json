{"info": {"author": "Jonathan Drake", "author_email": "jdrake@narrativescience.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Programming Language :: Python :: 3", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# sfn_workflow_client\n\n[![CircleCI](https://circleci.com/gh/NarrativeScience/sfn-workflow-client/tree/master.svg?style=shield)](https://circleci.com/gh/NarrativeScience/sfn-workflow-client/tree/master) [![](https://img.shields.io/pypi/v/sfn_workflow_client.svg)](https://pypi.org/pypi/sfn_workflow_client/) [![License](https://img.shields.io/badge/License-BSD%203--Clause-blue.svg)](https://opensource.org/licenses/BSD-3-Clause)\n\nEnhanced, asyncio-compatible client for AWS Step Functions.\n\nFeatures:\n\n- Trigger new executions\n- Query for state machine execution status\n- Wait for an execution to complete\n- Fetch execution history\n\nTable of Contents:\n\n- [Installation](#installation)\n- [Guide](#guide)\n- [Development](#development)\n\n## Installation\n\nsfn_workflow_client requires Python 3.6 or above.\n\n```bash\npip install sfn_workflow_client\n```\n\n## Guide\n\n```python\nfrom sfn_workflow_client.enums import ExecutionStatus\nfrom sfn_workflow_client.workflow import Workflow\n\n# Initialize a workflow client\nworkflow = Workflow(\"my-state-machine\")\n# Fetch all executions\ncollection = await workflow.executions.fetch()\n# Fetch currently running executions\ncollection = await workflow.executions.fetch(status=ExecutionStatus.running)\n# Start a new execution\nexecution = await workflow.executions.create().start()\n# Start a new execution and wait until it completes (useful for tests)\nexecution = await workflow.executions.start_sync()\n# Find an execution by trace ID (for tests)\nexecution = await workflow.executions.fetch().find_by_trace_id(\"abc\")\n# Fetch the event history of an execution\nevents = await execution.events.fetch()\n```\n\n## Development\n\nTo develop sfn_workflow_client, install dependencies and enable the pre-commit hook:\n\n```bash\npip install pre-commit tox\npre-commit install\n```\n\nTo run functional tests, you need to create an AWS IAM role with permissions to:\n\n- Create/update/delete state machines\n- Start/stop executions\n\nSet the following environment variables:\n\n- `AWS_ACCOUNT_ID`\n- `AWS_ACCESS_KEY_ID`\n- `AWS_SECRET_ACCESS_KEY`\n- `AWS_DEFAULT_REGION`\n- `AWS_IAM_ROLE_ARN`\n\nTo run tests:\n\n```bash\ntox\n```\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/NarrativeScience/sfn-workflow-client", "keywords": "aws step functions,workflow", "license": "BSD-3-Clause", "maintainer": "", "maintainer_email": "", "name": "sfn_workflow_client", "package_url": "https://pypi.org/project/sfn_workflow_client/", "platform": "", "project_url": "https://pypi.org/project/sfn_workflow_client/", "project_urls": {"Homepage": "https://github.com/NarrativeScience/sfn-workflow-client"}, "release_url": "https://pypi.org/project/sfn_workflow_client/0.4.0/", "requires_dist": ["aenum>=2.1.0,<3", "arrow>=0.12.1,<1", "backoff>=1.8.0,<2", "boto3"], "requires_python": ">=3.6,<4", "summary": "Enhanced, asyncio-compatible client for AWS Step Functions.", "version": "0.4.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>sfn_workflow_client</h1>\n<p><a href=\"https://circleci.com/gh/NarrativeScience/sfn-workflow-client/tree/master\" rel=\"nofollow\"><img alt=\"CircleCI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c9a2b3a3bd053794aea6e89e6af029297f98fc38/68747470733a2f2f636972636c6563692e636f6d2f67682f4e6172726174697665536369656e63652f73666e2d776f726b666c6f772d636c69656e742f747265652f6d61737465722e7376673f7374796c653d736869656c64\"></a> <a href=\"https://pypi.org/pypi/sfn_workflow_client/\" rel=\"nofollow\"><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/add7c1452594742f2491b41fda5f6770b57690a9/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f73666e5f776f726b666c6f775f636c69656e742e737667\"></a> <a href=\"https://opensource.org/licenses/BSD-3-Clause\" rel=\"nofollow\"><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/110fcca60a43a8ea37b1a5bda616e639325f2f30/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d425344253230332d2d436c617573652d626c75652e737667\"></a></p>\n<p>Enhanced, asyncio-compatible client for AWS Step Functions.</p>\n<p>Features:</p>\n<ul>\n<li>Trigger new executions</li>\n<li>Query for state machine execution status</li>\n<li>Wait for an execution to complete</li>\n<li>Fetch execution history</li>\n</ul>\n<p>Table of Contents:</p>\n<ul>\n<li><a href=\"#installation\" rel=\"nofollow\">Installation</a></li>\n<li><a href=\"#guide\" rel=\"nofollow\">Guide</a></li>\n<li><a href=\"#development\" rel=\"nofollow\">Development</a></li>\n</ul>\n<h2>Installation</h2>\n<p>sfn_workflow_client requires Python 3.6 or above.</p>\n<pre>pip install sfn_workflow_client\n</pre>\n<h2>Guide</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">sfn_workflow_client.enums</span> <span class=\"kn\">import</span> <span class=\"n\">ExecutionStatus</span>\n<span class=\"kn\">from</span> <span class=\"nn\">sfn_workflow_client.workflow</span> <span class=\"kn\">import</span> <span class=\"n\">Workflow</span>\n\n<span class=\"c1\"># Initialize a workflow client</span>\n<span class=\"n\">workflow</span> <span class=\"o\">=</span> <span class=\"n\">Workflow</span><span class=\"p\">(</span><span class=\"s2\">\"my-state-machine\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># Fetch all executions</span>\n<span class=\"n\">collection</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">workflow</span><span class=\"o\">.</span><span class=\"n\">executions</span><span class=\"o\">.</span><span class=\"n\">fetch</span><span class=\"p\">()</span>\n<span class=\"c1\"># Fetch currently running executions</span>\n<span class=\"n\">collection</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">workflow</span><span class=\"o\">.</span><span class=\"n\">executions</span><span class=\"o\">.</span><span class=\"n\">fetch</span><span class=\"p\">(</span><span class=\"n\">status</span><span class=\"o\">=</span><span class=\"n\">ExecutionStatus</span><span class=\"o\">.</span><span class=\"n\">running</span><span class=\"p\">)</span>\n<span class=\"c1\"># Start a new execution</span>\n<span class=\"n\">execution</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">workflow</span><span class=\"o\">.</span><span class=\"n\">executions</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n<span class=\"c1\"># Start a new execution and wait until it completes (useful for tests)</span>\n<span class=\"n\">execution</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">workflow</span><span class=\"o\">.</span><span class=\"n\">executions</span><span class=\"o\">.</span><span class=\"n\">start_sync</span><span class=\"p\">()</span>\n<span class=\"c1\"># Find an execution by trace ID (for tests)</span>\n<span class=\"n\">execution</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">workflow</span><span class=\"o\">.</span><span class=\"n\">executions</span><span class=\"o\">.</span><span class=\"n\">fetch</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">find_by_trace_id</span><span class=\"p\">(</span><span class=\"s2\">\"abc\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># Fetch the event history of an execution</span>\n<span class=\"n\">events</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">execution</span><span class=\"o\">.</span><span class=\"n\">events</span><span class=\"o\">.</span><span class=\"n\">fetch</span><span class=\"p\">()</span>\n</pre>\n<h2>Development</h2>\n<p>To develop sfn_workflow_client, install dependencies and enable the pre-commit hook:</p>\n<pre>pip install pre-commit tox\npre-commit install\n</pre>\n<p>To run functional tests, you need to create an AWS IAM role with permissions to:</p>\n<ul>\n<li>Create/update/delete state machines</li>\n<li>Start/stop executions</li>\n</ul>\n<p>Set the following environment variables:</p>\n<ul>\n<li><code>AWS_ACCOUNT_ID</code></li>\n<li><code>AWS_ACCESS_KEY_ID</code></li>\n<li><code>AWS_SECRET_ACCESS_KEY</code></li>\n<li><code>AWS_DEFAULT_REGION</code></li>\n<li><code>AWS_IAM_ROLE_ARN</code></li>\n</ul>\n<p>To run tests:</p>\n<pre>tox\n</pre>\n\n          </div>"}, "last_serial": 6757219, "releases": {"0.2.0": [{"comment_text": "", "digests": {"md5": "f2e24dbb05de1ef4c125595ad56e1afc", "sha256": "633cd8dd4defb51cf32dfc99087c6d4767426a4bf2b0a21b4ed5e972420219a9"}, "downloads": -1, "filename": "sfn_workflow_client-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "f2e24dbb05de1ef4c125595ad56e1afc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4", "size": 13113, "upload_time": "2020-01-25T00:23:26", "upload_time_iso_8601": "2020-01-25T00:23:26.428840Z", "url": "https://files.pythonhosted.org/packages/81/e3/6fd342f94a78dbffdff330b1ad60d81c6fd6bc907b343080f1bfdec776cf/sfn_workflow_client-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d02239db3b4f49ec3f48849d4a97a6f1", "sha256": "9a15b180811759a6e1e27aedd684f1f65718784c3df18a8f99ee3b87ba691484"}, "downloads": -1, "filename": "sfn_workflow_client-0.2.0.tar.gz", "has_sig": false, "md5_digest": "d02239db3b4f49ec3f48849d4a97a6f1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4", "size": 11226, "upload_time": "2020-01-25T00:23:29", "upload_time_iso_8601": "2020-01-25T00:23:29.064964Z", "url": "https://files.pythonhosted.org/packages/bf/32/a35f84025738fb4eef354bb00cbbcb6df9050b82ed1fab83e860fc5ce81e/sfn_workflow_client-0.2.0.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "67b8d23cc973d334ef3eb005eafb61b7", "sha256": "1a2ae8d32354863aaf7d2eea87f720d583afcbb79f29d6627d05ca7f3b56d0aa"}, "downloads": -1, "filename": "sfn_workflow_client-0.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "67b8d23cc973d334ef3eb005eafb61b7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4", "size": 12873, "upload_time": "2020-02-11T23:38:33", "upload_time_iso_8601": "2020-02-11T23:38:33.730299Z", "url": "https://files.pythonhosted.org/packages/4b/48/d2c67069cfdada76e2943c33ab739a947ee1975f2f05f49ed11e3ed82afc/sfn_workflow_client-0.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a92e924885fb9dad2d667e1d587987ea", "sha256": "ee7c865f56181880b6e80bba3dc8cc384a7837e467f50a7db1dabc5d87a92fc2"}, "downloads": -1, "filename": "sfn_workflow_client-0.3.0.tar.gz", "has_sig": false, "md5_digest": "a92e924885fb9dad2d667e1d587987ea", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4", "size": 11228, "upload_time": "2020-02-11T23:38:35", "upload_time_iso_8601": "2020-02-11T23:38:35.092333Z", "url": "https://files.pythonhosted.org/packages/7c/dd/fda8c8e42a36e31054bfaa07c0696e3e2b2d1716c907510ef14c095759ec/sfn_workflow_client-0.3.0.tar.gz", "yanked": false}], "0.4.0": [{"comment_text": "", "digests": {"md5": "a3a9ea8d1cf96da27c287ee4fa49ed94", "sha256": "9e76456c1ae7d8354ee087efaf746fe31b351a3800eb0b02598be26727c034b8"}, "downloads": -1, "filename": "sfn_workflow_client-0.4.0-py3-none-any.whl", "has_sig": false, "md5_digest": "a3a9ea8d1cf96da27c287ee4fa49ed94", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4", "size": 12957, "upload_time": "2020-03-05T19:46:45", "upload_time_iso_8601": "2020-03-05T19:46:45.477001Z", "url": "https://files.pythonhosted.org/packages/54/f3/6128eb8fdc136ad17cbe1f0a29a4858c550ed936902aca23d8108240744e/sfn_workflow_client-0.4.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1f17245a0f0d51d7bce7e55178960141", "sha256": "5c8b03e0f8bd4da60f1145abcec05c43d680ee870c4ec7254fa9f33273b62aaf"}, "downloads": -1, "filename": "sfn_workflow_client-0.4.0.tar.gz", "has_sig": false, "md5_digest": "1f17245a0f0d51d7bce7e55178960141", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4", "size": 11684, "upload_time": "2020-03-05T19:46:46", "upload_time_iso_8601": "2020-03-05T19:46:46.638865Z", "url": "https://files.pythonhosted.org/packages/76/a4/3251b032c281bbe2b766cfa3b5a9830655d65dfa80a5a630504ad5eb1639/sfn_workflow_client-0.4.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a3a9ea8d1cf96da27c287ee4fa49ed94", "sha256": "9e76456c1ae7d8354ee087efaf746fe31b351a3800eb0b02598be26727c034b8"}, "downloads": -1, "filename": "sfn_workflow_client-0.4.0-py3-none-any.whl", "has_sig": false, "md5_digest": "a3a9ea8d1cf96da27c287ee4fa49ed94", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4", "size": 12957, "upload_time": "2020-03-05T19:46:45", "upload_time_iso_8601": "2020-03-05T19:46:45.477001Z", "url": "https://files.pythonhosted.org/packages/54/f3/6128eb8fdc136ad17cbe1f0a29a4858c550ed936902aca23d8108240744e/sfn_workflow_client-0.4.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1f17245a0f0d51d7bce7e55178960141", "sha256": "5c8b03e0f8bd4da60f1145abcec05c43d680ee870c4ec7254fa9f33273b62aaf"}, "downloads": -1, "filename": "sfn_workflow_client-0.4.0.tar.gz", "has_sig": false, "md5_digest": "1f17245a0f0d51d7bce7e55178960141", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4", "size": 11684, "upload_time": "2020-03-05T19:46:46", "upload_time_iso_8601": "2020-03-05T19:46:46.638865Z", "url": "https://files.pythonhosted.org/packages/76/a4/3251b032c281bbe2b766cfa3b5a9830655d65dfa80a5a630504ad5eb1639/sfn_workflow_client-0.4.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:14:12 2020"}
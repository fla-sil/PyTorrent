{"info": {"author": "Lahache Stephane", "author_email": "slahache@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Environment :: Console", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Operating System :: OS Independent", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# aio-jsonrpc-2.0\n\n[![Build Status](https://travis-ci.org/steffgrez/aio-jsonrpc-2.0.svg?branch=master)](https://travis-ci.org/steffgrez/aio-jsonrpc-2.0)\n[![Coverage Status](https://coveralls.io/repos/github/steffgrez/aio-jsonrpc-2.0/badge.svg?branch=master)](https://coveralls.io/github/steffgrez/aio-jsonrpc-2.0?branch=master)\n\n## Description\njson rpc 2.0 protocol implementation for asyncio, without transport.\n\nspecification: http://www.jsonrpc.org/\n\n## Usage:\nExample to resolve request:\n\n\n```python\nimport asyncio\nimport json\n\nfrom aio_jsonrpc_20 import RequestResolver\n\n\nasync def foo(msg):\n    await asyncio.sleep(0.1)\n    return 'foobar ' + str(msg)\n\nrouter = {'foo': foo}\nresolver = RequestResolver(router)\njson_request = json.dumps(\n    {\"jsonrpc\": \"2.0\", \"method\": \"foo\", \"params\": [\"toto\"], \"id\": 1}\n)\n\n\nasync def main():\n    json_response = await resolver.handle(json_request)\n    print(json_response)\n\nloop = asyncio.get_event_loop()\nloop.run_until_complete(main())\n```\nResult:\n```JSON\n{\"jsonrpc\": \"2.0\", \"result\": \"foobar toto\", \"id\": 1}\n```\n\nExample to build request:\n```python\nfrom aio_jsonrpc_20 import RequestBuilder\n\nbuilder = RequestBuilder()\njson_request = builder.call(method=\"foo\", params={\"name\": \"bar\"})\nprint(json_request)\njson_request = builder.call(method=\"foo\", params={\"name\": \"bar2\"})\nprint(json_request)\njson_request = builder.notify(method=\"log\", params=[\"hello\"])\nprint(json_request)\n```\n\nResult:\n```JSON\n{\"jsonrpc\": \"2.0\", \"method\": \"foo\", \"params\": {\"name\": \"bar\"}, \"id\": 1}\n{\"jsonrpc\": \"2.0\", \"method\": \"foo\", \"params\": {\"name\": \"bar2\"}, \"id\": 2}\n{\"jsonrpc\": \"2.0\", \"method\": \"log\", \"params\": [\"hello\"]}\n\n```\n\nExample to build batch request:\n```python\nfrom aio_jsonrpc_20 import BatchRequestBuilder\n\nbatch_builder = BatchRequestBuilder()\nid1 = batch_builder.call(method=\"foo\", params={\"name\": \"bar\"})\nid2 = batch_builder.call(method=\"foo2\", params={\"name\": \"bar\"})\nprint(id1, id2)\nbatch_builder.notify(method=\"foo3\", params={\"name\": \"bar\"})\njson_request = batch_builder.get_request()\nprint(json_request)\n```\n\nResult:\n```JSON\n1 2\n[\n    {\"jsonrpc\": \"2.0\", \"method\": \"foo\", \"params\": {\"name\": \"bar\"}, \"id\": 1},\n    {\"jsonrpc\": \"2.0\", \"method\": \"foo2\", \"params\": {\"name\": \"bar\"}, \"id\": 2},\n    {\"jsonrpc\": \"2.0\", \"method\": \"foo3\", \"params\": {\"name\": \"bar\"}}\n]\n```\n\n## TODO:\n* Fix definitely interface for builders\n* More Test\n* Documentation\n* Optimisation\n* ...\n\n## Testing:\npy.test --cov=aio_jsonrpc_20 --cov-report term-missing tests/\n\n0.1.2\n=====\n\nfix(README): Fixed encoding error\n\n0.1.0\n=====\n\nInitial release.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/steffgrez/aio-jsonrpc-2.0", "keywords": "json rpc jsonrpc json-rpc 2.0", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "aio-jsonrpc-2.0", "package_url": "https://pypi.org/project/aio-jsonrpc-2.0/", "platform": "", "project_url": "https://pypi.org/project/aio-jsonrpc-2.0/", "project_urls": {"Homepage": "https://github.com/steffgrez/aio-jsonrpc-2.0"}, "release_url": "https://pypi.org/project/aio-jsonrpc-2.0/0.1.2/", "requires_dist": null, "requires_python": "", "summary": "fast JSON-RPC protocol implementation for asyncio, without transport", "version": "0.1.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>aio-jsonrpc-2.0</h1>\n<p><a href=\"https://travis-ci.org/steffgrez/aio-jsonrpc-2.0\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d14de3e30e975124d33637277413a8b27e44e1d2/68747470733a2f2f7472617669732d63692e6f72672f73746566666772657a2f61696f2d6a736f6e7270632d322e302e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://coveralls.io/github/steffgrez/aio-jsonrpc-2.0?branch=master\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4c123db0ec6f8d6c1e11642619a9c8c64942afdd/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f73746566666772657a2f61696f2d6a736f6e7270632d322e302f62616467652e7376673f6272616e63683d6d6173746572\"></a></p>\n<h2>Description</h2>\n<p>json rpc 2.0 protocol implementation for asyncio, without transport.</p>\n<p>specification: <a href=\"http://www.jsonrpc.org/\" rel=\"nofollow\">http://www.jsonrpc.org/</a></p>\n<h2>Usage:</h2>\n<p>Example to resolve request:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">import</span> <span class=\"nn\">json</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">aio_jsonrpc_20</span> <span class=\"kn\">import</span> <span class=\"n\">RequestResolver</span>\n\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">foo</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">):</span>\n    <span class=\"k\">await</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mf\">0.1</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'foobar '</span> <span class=\"o\">+</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">)</span>\n\n<span class=\"n\">router</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'foo'</span><span class=\"p\">:</span> <span class=\"n\">foo</span><span class=\"p\">}</span>\n<span class=\"n\">resolver</span> <span class=\"o\">=</span> <span class=\"n\">RequestResolver</span><span class=\"p\">(</span><span class=\"n\">router</span><span class=\"p\">)</span>\n<span class=\"n\">json_request</span> <span class=\"o\">=</span> <span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span>\n    <span class=\"p\">{</span><span class=\"s2\">\"jsonrpc\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2.0\"</span><span class=\"p\">,</span> <span class=\"s2\">\"method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"foo\"</span><span class=\"p\">,</span> <span class=\"s2\">\"params\"</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"toto\"</span><span class=\"p\">],</span> <span class=\"s2\">\"id\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">}</span>\n<span class=\"p\">)</span>\n\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"n\">json_response</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">resolver</span><span class=\"o\">.</span><span class=\"n\">handle</span><span class=\"p\">(</span><span class=\"n\">json_request</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json_response</span><span class=\"p\">)</span>\n\n<span class=\"n\">loop</span> <span class=\"o\">=</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">get_event_loop</span><span class=\"p\">()</span>\n<span class=\"n\">loop</span><span class=\"o\">.</span><span class=\"n\">run_until_complete</span><span class=\"p\">(</span><span class=\"n\">main</span><span class=\"p\">())</span>\n</pre>\n<p>Result:</p>\n<pre><span class=\"p\">{</span><span class=\"nt\">\"jsonrpc\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2.0\"</span><span class=\"p\">,</span> <span class=\"nt\">\"result\"</span><span class=\"p\">:</span> <span class=\"s2\">\"foobar toto\"</span><span class=\"p\">,</span> <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">}</span>\n</pre>\n<p>Example to build request:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">aio_jsonrpc_20</span> <span class=\"kn\">import</span> <span class=\"n\">RequestBuilder</span>\n\n<span class=\"n\">builder</span> <span class=\"o\">=</span> <span class=\"n\">RequestBuilder</span><span class=\"p\">()</span>\n<span class=\"n\">json_request</span> <span class=\"o\">=</span> <span class=\"n\">builder</span><span class=\"o\">.</span><span class=\"n\">call</span><span class=\"p\">(</span><span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">\"foo\"</span><span class=\"p\">,</span> <span class=\"n\">params</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar\"</span><span class=\"p\">})</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json_request</span><span class=\"p\">)</span>\n<span class=\"n\">json_request</span> <span class=\"o\">=</span> <span class=\"n\">builder</span><span class=\"o\">.</span><span class=\"n\">call</span><span class=\"p\">(</span><span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">\"foo\"</span><span class=\"p\">,</span> <span class=\"n\">params</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar2\"</span><span class=\"p\">})</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json_request</span><span class=\"p\">)</span>\n<span class=\"n\">json_request</span> <span class=\"o\">=</span> <span class=\"n\">builder</span><span class=\"o\">.</span><span class=\"n\">notify</span><span class=\"p\">(</span><span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">\"log\"</span><span class=\"p\">,</span> <span class=\"n\">params</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">\"hello\"</span><span class=\"p\">])</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json_request</span><span class=\"p\">)</span>\n</pre>\n<p>Result:</p>\n<pre><span class=\"p\">{</span><span class=\"nt\">\"jsonrpc\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2.0\"</span><span class=\"p\">,</span> <span class=\"nt\">\"method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"foo\"</span><span class=\"p\">,</span> <span class=\"nt\">\"params\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar\"</span><span class=\"p\">},</span> <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">\"jsonrpc\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2.0\"</span><span class=\"p\">,</span> <span class=\"nt\">\"method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"foo\"</span><span class=\"p\">,</span> <span class=\"nt\">\"params\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar2\"</span><span class=\"p\">},</span> <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">\"jsonrpc\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2.0\"</span><span class=\"p\">,</span> <span class=\"nt\">\"method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"log\"</span><span class=\"p\">,</span> <span class=\"nt\">\"params\"</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"hello\"</span><span class=\"p\">]}</span>\n</pre>\n<p>Example to build batch request:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">aio_jsonrpc_20</span> <span class=\"kn\">import</span> <span class=\"n\">BatchRequestBuilder</span>\n\n<span class=\"n\">batch_builder</span> <span class=\"o\">=</span> <span class=\"n\">BatchRequestBuilder</span><span class=\"p\">()</span>\n<span class=\"n\">id1</span> <span class=\"o\">=</span> <span class=\"n\">batch_builder</span><span class=\"o\">.</span><span class=\"n\">call</span><span class=\"p\">(</span><span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">\"foo\"</span><span class=\"p\">,</span> <span class=\"n\">params</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar\"</span><span class=\"p\">})</span>\n<span class=\"n\">id2</span> <span class=\"o\">=</span> <span class=\"n\">batch_builder</span><span class=\"o\">.</span><span class=\"n\">call</span><span class=\"p\">(</span><span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">\"foo2\"</span><span class=\"p\">,</span> <span class=\"n\">params</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar\"</span><span class=\"p\">})</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">id1</span><span class=\"p\">,</span> <span class=\"n\">id2</span><span class=\"p\">)</span>\n<span class=\"n\">batch_builder</span><span class=\"o\">.</span><span class=\"n\">notify</span><span class=\"p\">(</span><span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s2\">\"foo3\"</span><span class=\"p\">,</span> <span class=\"n\">params</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar\"</span><span class=\"p\">})</span>\n<span class=\"n\">json_request</span> <span class=\"o\">=</span> <span class=\"n\">batch_builder</span><span class=\"o\">.</span><span class=\"n\">get_request</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json_request</span><span class=\"p\">)</span>\n</pre>\n<p>Result:</p>\n<pre><span class=\"mi\">1</span> <span class=\"mi\">2</span>\n<span class=\"p\">[</span>\n    <span class=\"p\">{</span><span class=\"nt\">\"jsonrpc\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2.0\"</span><span class=\"p\">,</span> <span class=\"nt\">\"method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"foo\"</span><span class=\"p\">,</span> <span class=\"nt\">\"params\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar\"</span><span class=\"p\">},</span> <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">},</span>\n    <span class=\"p\">{</span><span class=\"nt\">\"jsonrpc\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2.0\"</span><span class=\"p\">,</span> <span class=\"nt\">\"method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"foo2\"</span><span class=\"p\">,</span> <span class=\"nt\">\"params\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar\"</span><span class=\"p\">},</span> <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">},</span>\n    <span class=\"p\">{</span><span class=\"nt\">\"jsonrpc\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2.0\"</span><span class=\"p\">,</span> <span class=\"nt\">\"method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"foo3\"</span><span class=\"p\">,</span> <span class=\"nt\">\"params\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bar\"</span><span class=\"p\">}}</span>\n<span class=\"p\">]</span>\n</pre>\n<h2>TODO:</h2>\n<ul>\n<li>Fix definitely interface for builders</li>\n<li>More Test</li>\n<li>Documentation</li>\n<li>Optimisation</li>\n<li>...</li>\n</ul>\n<h2>Testing:</h2>\n<p>py.test --cov=aio_jsonrpc_20 --cov-report term-missing tests/</p>\n<h1>0.1.2</h1>\n<p>fix(README): Fixed encoding error</p>\n<h1>0.1.0</h1>\n<p>Initial release.</p>\n\n          </div>"}, "last_serial": 6826794, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "1d9d7de7e3290e921869beae30b8fa46", "sha256": "fad43167501b4f438fc62dcb33e563a47ac8e48eabb1cfa769568dde545131e0"}, "downloads": -1, "filename": "aio-jsonrpc-2.0-0.1.0.tar.gz", "has_sig": false, "md5_digest": "1d9d7de7e3290e921869beae30b8fa46", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5921, "upload_time": "2017-09-29T14:36:59", "upload_time_iso_8601": "2017-09-29T14:36:59.872324Z", "url": "https://files.pythonhosted.org/packages/7f/c5/9e19181f75e1fc47b54d2b61dad7e331c0ad7aba5a5cfa699d721c569cdb/aio-jsonrpc-2.0-0.1.0.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "465527e659e32541f64b10997b91cc62", "sha256": "18e6af68836cb5a2fa1a86a3eaabb6ee0b5c6961d18544e8dd74bb7781b4d949"}, "downloads": -1, "filename": "aio-jsonrpc-2.0-0.1.2.tar.gz", "has_sig": false, "md5_digest": "465527e659e32541f64b10997b91cc62", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7497, "upload_time": "2020-03-17T07:50:29", "upload_time_iso_8601": "2020-03-17T07:50:29.131043Z", "url": "https://files.pythonhosted.org/packages/d4/a3/43396ee65afb256204a867acbe57d260222d44b247df7c495d2a0e2f5114/aio-jsonrpc-2.0-0.1.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "465527e659e32541f64b10997b91cc62", "sha256": "18e6af68836cb5a2fa1a86a3eaabb6ee0b5c6961d18544e8dd74bb7781b4d949"}, "downloads": -1, "filename": "aio-jsonrpc-2.0-0.1.2.tar.gz", "has_sig": false, "md5_digest": "465527e659e32541f64b10997b91cc62", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7497, "upload_time": "2020-03-17T07:50:29", "upload_time_iso_8601": "2020-03-17T07:50:29.131043Z", "url": "https://files.pythonhosted.org/packages/d4/a3/43396ee65afb256204a867acbe57d260222d44b247df7c495d2a0e2f5114/aio-jsonrpc-2.0-0.1.2.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:21:10 2020"}
{"info": {"author": "Ding Li", "author_email": "dingmaotu@hotmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 2", "Programming Language :: Python :: 3", "Topic :: Database :: Front-Ends"], "description": "# gsql_client\n\n## Introduction\n\nIf you are using TigerGraph, you probably know that there are only one way to remotely execute\n your GSQL scripts: gql_client.jar. This jar is an interactive console and you can not programmatically\n access GSQL server (until 2.4 TigerGraph introduces JDBC based access). But we love Python,\n right?\n\nSo here we are: a Python version of gsql_client, removing all interactive features. gsql_client.jar\nactually uses http to interact with GSQL server. So can Python. TigerGraph already open sourced their\n[client implementation](https://github.com/tigergraph/ecosys/tree/master/clients/com/tigergraph), but only\nfor versions later than 2.3.0. I originally wrote this for 2.2.3, so there are minor differences.\n\n## Installation\n\nCopy gsql_client folder to your project or install with pip:\n\n```shell script\npip install gsql_client\n```\n\nThis package has no external dependency and it is compatible with both Python 2 and 3.\n\n> Note:\n>\n> if you submit large gsql files or long running commands, using remote client may receive\n> IncompleteRead exception as TigerGraph nginx service does not properly configure the `proxy_read_timeout`\n> for `/gsqlserver` path. So you may need to edit `{TIGERGRAPH_HOME}/tigergraph/config/nginx/nginx_1.conf`\n> and add this option (like for `/admin/websocket` or `/websocket`).\n\n## TODO\n\nMaybe I could create a main function to launch an interactive shell (using stdlib cmd module), so that\nwe can use `python -m gsql_client` just as `java -jar gsql_client.jar`. It is best to keep them compatible\n(for both command line options and behaviors).\n\n## Usage\n\nIt contains mainly 2 classes: gsql_client.Client as a remote GSQL server client and\ngsql_client.RESTPP for directly interact with RESTPP server.\n\n```python\nfrom gsql_client import Client, RESTPP\n\n# default port 14240, you can use 10.0.0.1:29383 to specify another port\nclient = Client(\"10.0.0.1\")\n# for versions later than 2.4.0, it is mandatory to specify the version like this:\nclient = Client(\"10.0.0.1\", version=\"v2_4_0\")\n# or the login would fail with incompatible server/client version\n# you can directly specify the commit hash of the client (used for compatibility check) by:\nclient = Client(\"10.0.0.1\", version=\"v2_6_0\", commit=\"somehexhashstring\")\n\nclient.login()  # returns True for success; exceptions and False for failure\nres = client.command(\"ls\")  # also returns the result as a list of lines\nclient.command(\"clear graph store\", \"y\") # needs answer\nclient.run_file(\"yourfile.gsql\")\nclient.version()\nclient.help()\nclient.quit()\n\nrestpp = RESTPP(\"10.0.0.1\")  # default port 9000\n\n# no need to login\n# but you can use restpp.requesttoken(secret) to setup token based authentication:\nsecret = client.get_secret(\"my_graph\", create_alias=\"my_graph_query_secret\")\n\n# use=True for directly using the requested token\ntoken = restpp.request_token(secret, use=True)\n# or with set_token\nrestpp.set_token(token)\n\n# same as type `select * from MyVertex` in gsql shell\nrestpp.select_vertices(\"my_graph\", \"MyVertex\")\nrestpp.query(\"my_graph\", \"my_query\", param1 = 1)  # run your query\n```\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/dingmaotu/gsql_client", "keywords": "tigergraph,gsql,restpp,client", "license": "", "maintainer": "", "maintainer_email": "", "name": "gsql-client", "package_url": "https://pypi.org/project/gsql-client/", "platform": "", "project_url": "https://pypi.org/project/gsql-client/", "project_urls": {"Homepage": "https://github.com/dingmaotu/gsql_client"}, "release_url": "https://pypi.org/project/gsql-client/0.1.5/", "requires_dist": null, "requires_python": ">=2.7", "summary": "GSQL and RESTPP Python remote clients for TigerGraph", "version": "0.1.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>gsql_client</h1>\n<h2>Introduction</h2>\n<p>If you are using TigerGraph, you probably know that there are only one way to remotely execute\nyour GSQL scripts: gql_client.jar. This jar is an interactive console and you can not programmatically\naccess GSQL server (until 2.4 TigerGraph introduces JDBC based access). But we love Python,\nright?</p>\n<p>So here we are: a Python version of gsql_client, removing all interactive features. gsql_client.jar\nactually uses http to interact with GSQL server. So can Python. TigerGraph already open sourced their\n<a href=\"https://github.com/tigergraph/ecosys/tree/master/clients/com/tigergraph\" rel=\"nofollow\">client implementation</a>, but only\nfor versions later than 2.3.0. I originally wrote this for 2.2.3, so there are minor differences.</p>\n<h2>Installation</h2>\n<p>Copy gsql_client folder to your project or install with pip:</p>\n<pre>pip install gsql_client\n</pre>\n<p>This package has no external dependency and it is compatible with both Python 2 and 3.</p>\n<blockquote>\n<p>Note:</p>\n<p>if you submit large gsql files or long running commands, using remote client may receive\nIncompleteRead exception as TigerGraph nginx service does not properly configure the <code>proxy_read_timeout</code>\nfor <code>/gsqlserver</code> path. So you may need to edit <code>{TIGERGRAPH_HOME}/tigergraph/config/nginx/nginx_1.conf</code>\nand add this option (like for <code>/admin/websocket</code> or <code>/websocket</code>).</p>\n</blockquote>\n<h2>TODO</h2>\n<p>Maybe I could create a main function to launch an interactive shell (using stdlib cmd module), so that\nwe can use <code>python -m gsql_client</code> just as <code>java -jar gsql_client.jar</code>. It is best to keep them compatible\n(for both command line options and behaviors).</p>\n<h2>Usage</h2>\n<p>It contains mainly 2 classes: gsql_client.Client as a remote GSQL server client and\ngsql_client.RESTPP for directly interact with RESTPP server.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">gsql_client</span> <span class=\"kn\">import</span> <span class=\"n\">Client</span><span class=\"p\">,</span> <span class=\"n\">RESTPP</span>\n\n<span class=\"c1\"># default port 14240, you can use 10.0.0.1:29383 to specify another port</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">Client</span><span class=\"p\">(</span><span class=\"s2\">\"10.0.0.1\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># for versions later than 2.4.0, it is mandatory to specify the version like this:</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">Client</span><span class=\"p\">(</span><span class=\"s2\">\"10.0.0.1\"</span><span class=\"p\">,</span> <span class=\"n\">version</span><span class=\"o\">=</span><span class=\"s2\">\"v2_4_0\"</span><span class=\"p\">)</span>\n<span class=\"c1\"># or the login would fail with incompatible server/client version</span>\n<span class=\"c1\"># you can directly specify the commit hash of the client (used for compatibility check) by:</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">Client</span><span class=\"p\">(</span><span class=\"s2\">\"10.0.0.1\"</span><span class=\"p\">,</span> <span class=\"n\">version</span><span class=\"o\">=</span><span class=\"s2\">\"v2_6_0\"</span><span class=\"p\">,</span> <span class=\"n\">commit</span><span class=\"o\">=</span><span class=\"s2\">\"somehexhashstring\"</span><span class=\"p\">)</span>\n\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">login</span><span class=\"p\">()</span>  <span class=\"c1\"># returns True for success; exceptions and False for failure</span>\n<span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">command</span><span class=\"p\">(</span><span class=\"s2\">\"ls\"</span><span class=\"p\">)</span>  <span class=\"c1\"># also returns the result as a list of lines</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">command</span><span class=\"p\">(</span><span class=\"s2\">\"clear graph store\"</span><span class=\"p\">,</span> <span class=\"s2\">\"y\"</span><span class=\"p\">)</span> <span class=\"c1\"># needs answer</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">run_file</span><span class=\"p\">(</span><span class=\"s2\">\"yourfile.gsql\"</span><span class=\"p\">)</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">version</span><span class=\"p\">()</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">help</span><span class=\"p\">()</span>\n<span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">quit</span><span class=\"p\">()</span>\n\n<span class=\"n\">restpp</span> <span class=\"o\">=</span> <span class=\"n\">RESTPP</span><span class=\"p\">(</span><span class=\"s2\">\"10.0.0.1\"</span><span class=\"p\">)</span>  <span class=\"c1\"># default port 9000</span>\n\n<span class=\"c1\"># no need to login</span>\n<span class=\"c1\"># but you can use restpp.requesttoken(secret) to setup token based authentication:</span>\n<span class=\"n\">secret</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">get_secret</span><span class=\"p\">(</span><span class=\"s2\">\"my_graph\"</span><span class=\"p\">,</span> <span class=\"n\">create_alias</span><span class=\"o\">=</span><span class=\"s2\">\"my_graph_query_secret\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># use=True for directly using the requested token</span>\n<span class=\"n\">token</span> <span class=\"o\">=</span> <span class=\"n\">restpp</span><span class=\"o\">.</span><span class=\"n\">request_token</span><span class=\"p\">(</span><span class=\"n\">secret</span><span class=\"p\">,</span> <span class=\"n\">use</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"c1\"># or with set_token</span>\n<span class=\"n\">restpp</span><span class=\"o\">.</span><span class=\"n\">set_token</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># same as type `select * from MyVertex` in gsql shell</span>\n<span class=\"n\">restpp</span><span class=\"o\">.</span><span class=\"n\">select_vertices</span><span class=\"p\">(</span><span class=\"s2\">\"my_graph\"</span><span class=\"p\">,</span> <span class=\"s2\">\"MyVertex\"</span><span class=\"p\">)</span>\n<span class=\"n\">restpp</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">(</span><span class=\"s2\">\"my_graph\"</span><span class=\"p\">,</span> <span class=\"s2\">\"my_query\"</span><span class=\"p\">,</span> <span class=\"n\">param1</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">)</span>  <span class=\"c1\"># run your query</span>\n</pre>\n\n          </div>"}, "last_serial": 6248163, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "944c8b712f7f9f6038af0db98927c6aa", "sha256": "abc9b68752ed311ca536c20147ba5e29ec6e84fa0341d8d8592359b134f8ccd8"}, "downloads": -1, "filename": "gsql_client-0.1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "944c8b712f7f9f6038af0db98927c6aa", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=2.7", "size": 10958, "upload_time": "2019-09-04T13:53:58", "upload_time_iso_8601": "2019-09-04T13:53:58.900048Z", "url": "https://files.pythonhosted.org/packages/70/34/d74d32c942b183f430b59eb97ebd971d6760ac6d2f6361f91385a14730ff/gsql_client-0.1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "cbe74e4be986e19b97f17758ac30aeab", "sha256": "551a817bc96ef6dbaab3fd69b597ba73e0b6af6077949ed1a39e2929a3a816f1"}, "downloads": -1, "filename": "gsql_client-0.1.0.tar.gz", "has_sig": false, "md5_digest": "cbe74e4be986e19b97f17758ac30aeab", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 11171, "upload_time": "2019-09-04T13:54:02", "upload_time_iso_8601": "2019-09-04T13:54:02.030778Z", "url": "https://files.pythonhosted.org/packages/e5/ee/f6ea127d680f8c54f3b2510652ab1e9dc91e8d7df917382c34e8d681ba8f/gsql_client-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "f1ea2f06eaa46989044b2f7c7dd92458", "sha256": "5f1a90f360752375ac575e1a185e0ea2508e564f69d89474a7ae225f6c955bdd"}, "downloads": -1, "filename": "gsql_client-0.1.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "f1ea2f06eaa46989044b2f7c7dd92458", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=2.7", "size": 11600, "upload_time": "2019-09-20T05:51:48", "upload_time_iso_8601": "2019-09-20T05:51:48.545043Z", "url": "https://files.pythonhosted.org/packages/1e/1b/d13012e0dacaef4da56e5b70b9ccf728b81e6392d6d1386fb4b02338efc4/gsql_client-0.1.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4ee436bef184947a64b3eb155e4d10b7", "sha256": "edd5b2aa6a9c7de731bc97520728e28d7f7eec59b28ebf19e7872a91bdfe7521"}, "downloads": -1, "filename": "gsql_client-0.1.1.tar.gz", "has_sig": false, "md5_digest": "4ee436bef184947a64b3eb155e4d10b7", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 11842, "upload_time": "2019-09-20T05:51:50", "upload_time_iso_8601": "2019-09-20T05:51:50.490802Z", "url": "https://files.pythonhosted.org/packages/ea/5e/ac5fcdf87659225f0e141ea028564ddbc9a19443fb1063c4c04c41d5d07b/gsql_client-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "b7f1396441a1d8d81072dbdf372bf333", "sha256": "b74053547b02d7e01f94e54f11527c13e50c573bd88881fc6584c9f3acc85960"}, "downloads": -1, "filename": "gsql_client-0.1.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "b7f1396441a1d8d81072dbdf372bf333", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=2.7", "size": 15867, "upload_time": "2019-09-26T10:41:28", "upload_time_iso_8601": "2019-09-26T10:41:28.619343Z", "url": "https://files.pythonhosted.org/packages/fa/46/00b405666490b99aa925a435d2115df005ed931d29ffc6374e1e71cebdab/gsql_client-0.1.2-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "74974b980e74cda0a6a7fc87b5477b1f", "sha256": "82b6adef2b819cdd53ce9e06730f3675e6fde04828ff513956529fe1463ce64a"}, "downloads": -1, "filename": "gsql_client-0.1.2.tar.gz", "has_sig": false, "md5_digest": "74974b980e74cda0a6a7fc87b5477b1f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 13260, "upload_time": "2019-09-26T10:41:31", "upload_time_iso_8601": "2019-09-26T10:41:31.512524Z", "url": "https://files.pythonhosted.org/packages/d5/29/4cc7436fec669f5c9a6a9ea89a28cdc84f08a5b54b102b8ddd4d3118379d/gsql_client-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "55776760ec28b21561a742d950a150b0", "sha256": "de0783fb7f203de3f671a2a032baefa615119e3be6bcf7abccafa265819e3130"}, "downloads": -1, "filename": "gsql_client-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "55776760ec28b21561a742d950a150b0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 15949, "upload_time": "2019-11-06T14:47:30", "upload_time_iso_8601": "2019-11-06T14:47:30.985898Z", "url": "https://files.pythonhosted.org/packages/81/7e/be107c9448483466dfd6310b225e97897e448f64f8258548403ef6a18fa6/gsql_client-0.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b6240975bf638580c3d62c4e869fc302", "sha256": "c9f6bef7b64d886b68b1868398852f59996951299a83e93ae01a8f37b61b9710"}, "downloads": -1, "filename": "gsql_client-0.1.3.tar.gz", "has_sig": false, "md5_digest": "b6240975bf638580c3d62c4e869fc302", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 13381, "upload_time": "2019-11-06T14:47:34", "upload_time_iso_8601": "2019-11-06T14:47:34.061857Z", "url": "https://files.pythonhosted.org/packages/6b/85/62294908b6e109f5f2b4ee41d018489fa469d70635d627f1e009a6049ce7/gsql_client-0.1.3.tar.gz", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "a50227cb2b21577fdaecd85b47f9ab87", "sha256": "664c00a3c98942f6b85da75800685fb24ab0102dd2c4767afc017cbd59b1199d"}, "downloads": -1, "filename": "gsql_client-0.1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "a50227cb2b21577fdaecd85b47f9ab87", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 16014, "upload_time": "2019-12-02T15:13:32", "upload_time_iso_8601": "2019-12-02T15:13:32.958022Z", "url": "https://files.pythonhosted.org/packages/21/53/098fe723d47b9d883fa06b3404cfb59c9b80875d44296d40b05c5287aa2d/gsql_client-0.1.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e5ce5f76a1933ab684abfab7b239efa0", "sha256": "9cb946e7bfb84020d1c386f03dcdbf38ee7d9c034e4a1f13eb39bd93c42f3d11"}, "downloads": -1, "filename": "gsql_client-0.1.4.tar.gz", "has_sig": false, "md5_digest": "e5ce5f76a1933ab684abfab7b239efa0", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 13432, "upload_time": "2019-12-02T15:13:34", "upload_time_iso_8601": "2019-12-02T15:13:34.700625Z", "url": "https://files.pythonhosted.org/packages/91/8d/a2ad97bdb98ae19af864afded88efdd7029d958c7e221d5ba0cc355dc547/gsql_client-0.1.4.tar.gz", "yanked": false}], "0.1.5": [{"comment_text": "", "digests": {"md5": "c347859e11e9e9656613af0a50b5bf69", "sha256": "e7bf71f2c2f907a6fb5d0577fe2c2d3a0f9b8e2685cbf783cf3b8c5841267352"}, "downloads": -1, "filename": "gsql_client-0.1.5-py3-none-any.whl", "has_sig": false, "md5_digest": "c347859e11e9e9656613af0a50b5bf69", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 16015, "upload_time": "2019-12-05T16:02:05", "upload_time_iso_8601": "2019-12-05T16:02:05.098632Z", "url": "https://files.pythonhosted.org/packages/75/81/5a693815e1753d14b92cc8ded0fc316e7d4df5d50343217090a0bb6a07c4/gsql_client-0.1.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8b2ce4b9d433a4cb474e64bd4e6b194b", "sha256": "deeafdb0d0e979b670d8d1a92763f4aa92e8fcdca18cff1bf8a24d961e4d67d5"}, "downloads": -1, "filename": "gsql_client-0.1.5.tar.gz", "has_sig": false, "md5_digest": "8b2ce4b9d433a4cb474e64bd4e6b194b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 13430, "upload_time": "2019-12-05T16:02:06", "upload_time_iso_8601": "2019-12-05T16:02:06.903200Z", "url": "https://files.pythonhosted.org/packages/0b/b5/d1d621f43fe06a53a7d12deb30e2bdb02e1e577a015972fa34955d0ed2f0/gsql_client-0.1.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "c347859e11e9e9656613af0a50b5bf69", "sha256": "e7bf71f2c2f907a6fb5d0577fe2c2d3a0f9b8e2685cbf783cf3b8c5841267352"}, "downloads": -1, "filename": "gsql_client-0.1.5-py3-none-any.whl", "has_sig": false, "md5_digest": "c347859e11e9e9656613af0a50b5bf69", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=2.7", "size": 16015, "upload_time": "2019-12-05T16:02:05", "upload_time_iso_8601": "2019-12-05T16:02:05.098632Z", "url": "https://files.pythonhosted.org/packages/75/81/5a693815e1753d14b92cc8ded0fc316e7d4df5d50343217090a0bb6a07c4/gsql_client-0.1.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8b2ce4b9d433a4cb474e64bd4e6b194b", "sha256": "deeafdb0d0e979b670d8d1a92763f4aa92e8fcdca18cff1bf8a24d961e4d67d5"}, "downloads": -1, "filename": "gsql_client-0.1.5.tar.gz", "has_sig": false, "md5_digest": "8b2ce4b9d433a4cb474e64bd4e6b194b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=2.7", "size": 13430, "upload_time": "2019-12-05T16:02:06", "upload_time_iso_8601": "2019-12-05T16:02:06.903200Z", "url": "https://files.pythonhosted.org/packages/0b/b5/d1d621f43fe06a53a7d12deb30e2bdb02e1e577a015972fa34955d0ed2f0/gsql_client-0.1.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:53:37 2020"}
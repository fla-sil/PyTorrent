{"info": {"author": "Shreyans Sheth", "author_email": "dev.shreyans96@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Natural Language :: English", "Programming Language :: Python", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7"], "description": "Salesforce Bulkipy\n==================\n\nA Python library for the Salesforce Bulk API (that actually works)\n\nChanges over `salesforce-bulk <https://github.com/heroku/salesforce-bulk>`__\n----------------------------------------------------------------------------\n\nThe `salesforce-bulk <https://github.com/heroku/salesforce-bulk>`__\nlibrary was used to export 18k records to\n`Wingify <https://github.com/wingify>`__'s Salesforce system. Even\nthough the library was super useful, it's broken, not maintained anymore\nand was a pain to work with while figuring out the bugs.\n[@bholagabbar](https://github.com/bholagabbar) decided to fix all the\nissues faced and release a new, usable library\n`**salesforce-bulkipy** <https://pypi.python.org/pypi/salesforce-bulkipy/1.0>`__.\nThis library has been tested successfully on our Salesforce Sandbox.\n\n-  Added support for `Two-Factor\n   Authentication <https://developer.salesforce.com/docs/atlas.en-us.identityImplGuide.meta/identityImplGuide/security_require_two-factor_authentication.htm>`__\n   by routing authentication via\n   `simple-salesforce <https://github.com/simple-salesforce/simple-salesforce>`__\n-  Added support for `Salesforce\n   Sandbox <https://test.salesforce.com>`__\n-  Added support for parsing unicode characters in CSV\n-  Explicit\n   `Upsert <https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_calls_upsert.htm>`__\n   Support\n-  Fixed various other bugs\n\n**salesforce-bulkipy** will be actively maintained, unlike\nsalesforce-bulk\n\nInstallation\n------------\n\n**``sudo pip install salesforce-bulkipy``**\n\nIncase your setup fails, you may have a few essential tools missing. Try\n``sudo apt-get install build-essential libssl-dev libffi-dev python-dev``\n\nAuthentication\n--------------\n\nTo access the Bulk API, you need to authenticate a user into Salesforce.\nThere are 2 possible ways to achieve this. These methods work\nirrespective of whether your organisation has `Two-Factor\nAuthentication <https://developer.salesforce.com/docs/atlas.en-us.identityImplGuide.meta/identityImplGuide/security_require_two-factor_authentication.htm>`__\nenabled or not, so that's a massive overhead taken care of.\n\nThe code samples shown read credentials from a `config.properties <https://docs.python.org/2/library/configparser.html>`__ file. Feel free to adapt the input method to your setting\n''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''\n\n1. username, password, `security\\_token <https://success.salesforce.com/answers?id=90630000000glADAAY>`__\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n::\n\n    from salesforce_bulkipy import SalesforceBulkipy\n    import ConfigParser\n\n    config = ConfigParser.RawConfigParser()\n    config.read('config.properties')\n\n    username = config.get('Section', 'username')\n    password = config.get('Section', 'password')\n    security_token = config.get('Section', 'security_token')\n\n    bulk = SalesforceBulkipy(username=username, password=password, security_token=security_token) #optional parameter: sandbox=True\n\n    # Authentication Successful!\n\n2. session\\_id, host\n^^^^^^^^^^^^^^^^^^^^\n\n::\n\n    from salesforce_bulkipy import SalesforceBulkipy\n    import ConfigParser\n\n    config = ConfigParser.RawConfigParser()\n    config.read('config.properties')\n\n    session_id = config.get('Section', 'session_id')\n    session_id = config.get('Section', 'session_id')\n\n    bulk = SalesforceBulkipy(session_id=session_id, host=host) #optional parameter: sandbox=True\n\n    # Authentication Successful!\n\nOperations\n----------\n\nThe basic sequence for driving the Bulk API is:\n\n1. Create a new job\n2. Add one or more batches to the job\n3. Wait for each batch to finish\n4. Close the job\n\nBulk Insert, Update, Upsert, Delete\n-----------------------------------\n\nAll Bulk upload operations work the same. You set the operation when you\ncreate the job. Then you submit one or more documents that specify\nrecords with columns to *insert*/*update*/*delete*.\n\nFor the *upsert* operation, we also need to specify some thing called\nthe *external\\_key* which can be any attribute(preferably unique) of\nyour custom Salesforce object. Every record to upsert is checked against\nthis key in Salesforce. Say your external key is *Id*. Now for every\nrecord you are pushing, it is checked it you have a record with the same\n*Id* already. If yes, then it is updated else that record is created.\n\nFor the *delete* operation, you should only submit the Id for each\nrecord.\n\nFor efficiency you should use the ``post_bulk_batch`` method to post\neach batch of data. (Note that a batch can have a maximum 10,000 records\nand be 1GB in size.) You pass a generator or iterator into this function\nand it will stream data via POST to Salesforce. For help sending CSV\nformatted data you can use the salesforce\\_bulk.CsvDictsAdapter class.\nIt takes an iterator returning dictionaries and returns an iterator\nwhich produces CSV data.\n\n**Concurrency mode**: When creating the job, you can pass\n``concurrency=Serial`` or ``concurrency=Parallel`` to set the\nconcurrency mode for the job.\n\nBulk Insert Example\n-------------------\n\n::\n\n    from salesforce_bulkipy import SalesforceBulkipy\n    from salesforce_bulkipy import CsvDictsAdapter\n\n    bulk = SalesforceBulkipy(username=username, password=password, security_token=security_token)\n\n    records_to_insert = [{}, {}]  # A list of A Custom Object dict\n\n    # Bulk Insert\n    job = bulk.create_insert_job(\"CustomObjectName\", contentType='CSV')\n    csv_iter = CsvDictsAdapter(iter(records_to_insert))\n    batch = bulk.post_bulk_batch(job, csv_iter)\n    bulk.wait_for_batch(job, batch)\n    bulk.close_job(job)\n\nBulk Query Example\n------------------\n\n::\n\n    from salesforce_bulkipy import SalesforceBulkipy\n\n    bulk = SalesforceBulkipy(username=username, password=password, security_token=security_token)\n\n    records_to_insert = [{}, {}]  # A list of A Custom Object dict\n\n    # Bulk Query\n    query = '' # SOQL Query\n    job = bulk.create_query_job(\"Object_Name\", contentType='CSV')\n    batch = bulk.query(job, query)\n    bulk.wait_for_batch(job, batch)\n    bulk.close_job(job)\n    # Result\n    results = bulk.get_batch_result_iter(job, batch, parse_csv=True)\n\nBulk Upsert Example\n-------------------\n\n::\n\n    from salesforce_bulkipy import SalesforceBulkipy\n\n    bulk = SalesforceBulkipy(username=username, password=password, security_token=security_token)\n\n    records_to_upsert = [{}, {}]  # A list of A Custom Object dict\n\n    # Bulk Query\n    query = '' # SOQL Query\n    job = bulk.create_upsert_job(\"Object_Name\", external_id_name=\"Unique_id\", contentType='CSV')\n    csv_iter = CsvDictsAdapter(iter(records_to_insert))\n    batch = bulk.post_bulk_batch(job, csv_iter)\n    bulk.wait_for_batch(job, batch)\n    bulk.close_job(job)\n\nCredits and Contributions\n-------------------------\n\nThis repository is a maintained fork of\n`heroku/salesforce-bulk <https://github.com/heroku/salesforce-bulk>`__.\nThe changes incorporated here are a result of a joint effort by\n[@lambacck](https://github.com/lambacck),\n[@Jeremydavisvt](https://github.com/Jeremydavisvt),\n[@alexhughson](https://github.com/alexhughson) and\n[@bholagabbar](https://github.com/bholagabbar). Thanks to\n[@heroku](https://github.com/heroku) for creating the original useful\nlibrary.\n\nFeel free to contribute by creating Issues and Pull Requests. We'll test\nand merge them.", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/wingify/salesforce-bulkipy", "keywords": null, "license": "Copyright (c) 2016 Shreyans Sheth\n\nMIT License\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.", "maintainer": null, "maintainer_email": null, "name": "salesforce-bulkipy", "package_url": "https://pypi.org/project/salesforce-bulkipy/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/salesforce-bulkipy/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/wingify/salesforce-bulkipy"}, "release_url": "https://pypi.org/project/salesforce-bulkipy/1.0/", "requires_dist": null, "requires_python": null, "summary": "A Python library for the Salesforce Bulk API", "version": "1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>A Python library for the Salesforce Bulk API (that actually works)</p>\n<div id=\"changes-over-salesforce-bulk\">\n<h2>Changes over <a href=\"https://github.com/heroku/salesforce-bulk\" rel=\"nofollow\">salesforce-bulk</a></h2>\n<p>The <a href=\"https://github.com/heroku/salesforce-bulk\" rel=\"nofollow\">salesforce-bulk</a>\nlibrary was used to export 18k records to\n<a href=\"https://github.com/wingify\" rel=\"nofollow\">Wingify</a>\u2019s Salesforce system. Even\nthough the library was super useful, it\u2019s broken, not maintained anymore\nand was a pain to work with while figuring out the bugs.\n[@bholagabbar](<a href=\"https://github.com/bholagabbar\" rel=\"nofollow\">https://github.com/bholagabbar</a>) decided to fix all the\nissues faced and release a new, usable library\n<a href=\"https://pypi.python.org/pypi/salesforce-bulkipy/1.0\" rel=\"nofollow\">**salesforce-bulkipy**</a>.\nThis library has been tested successfully on our Salesforce Sandbox.</p>\n<ul>\n<li>Added support for <a href=\"https://developer.salesforce.com/docs/atlas.en-us.identityImplGuide.meta/identityImplGuide/security_require_two-factor_authentication.htm\" rel=\"nofollow\">Two-Factor\nAuthentication</a>\nby routing authentication via\n<a href=\"https://github.com/simple-salesforce/simple-salesforce\" rel=\"nofollow\">simple-salesforce</a></li>\n<li>Added support for <a href=\"https://test.salesforce.com\" rel=\"nofollow\">Salesforce\nSandbox</a></li>\n<li>Added support for parsing unicode characters in CSV</li>\n<li>Explicit\n<a href=\"https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_calls_upsert.htm\" rel=\"nofollow\">Upsert</a>\nSupport</li>\n<li>Fixed various other bugs</li>\n</ul>\n<p><strong>salesforce-bulkipy</strong> will be actively maintained, unlike\nsalesforce-bulk</p>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p><strong>``sudo pip install salesforce-bulkipy``</strong></p>\n<p>Incase your setup fails, you may have a few essential tools missing. Try\n<tt>sudo <span class=\"pre\">apt-get</span> install <span class=\"pre\">build-essential</span> <span class=\"pre\">libssl-dev</span> <span class=\"pre\">libffi-dev</span> <span class=\"pre\">python-dev</span></tt></p>\n</div>\n<div id=\"authentication\">\n<h2>Authentication</h2>\n<p>To access the Bulk API, you need to authenticate a user into Salesforce.\nThere are 2 possible ways to achieve this. These methods work\nirrespective of whether your organisation has <a href=\"https://developer.salesforce.com/docs/atlas.en-us.identityImplGuide.meta/identityImplGuide/security_require_two-factor_authentication.htm\" rel=\"nofollow\">Two-Factor\nAuthentication</a>\nenabled or not, so that\u2019s a massive overhead taken care of.</p>\n<div id=\"the-code-samples-shown-read-credentials-from-a-config-properties-file-feel-free-to-adapt-the-input-method-to-your-setting\">\n<h3>The code samples shown read credentials from a <a href=\"https://docs.python.org/2/library/configparser.html\" rel=\"nofollow\">config.properties</a> file. Feel free to adapt the input method to your setting</h3>\n<div id=\"username-password-security-token\">\n<h4>1. username, password, <a href=\"https://success.salesforce.com/answers?id=90630000000glADAAY\" rel=\"nofollow\">security_token</a></h4>\n<pre>from salesforce_bulkipy import SalesforceBulkipy\nimport ConfigParser\n\nconfig = ConfigParser.RawConfigParser()\nconfig.read('config.properties')\n\nusername = config.get('Section', 'username')\npassword = config.get('Section', 'password')\nsecurity_token = config.get('Section', 'security_token')\n\nbulk = SalesforceBulkipy(username=username, password=password, security_token=security_token) #optional parameter: sandbox=True\n\n# Authentication Successful!\n</pre>\n</div>\n<div id=\"session-id-host\">\n<h4>2. session_id, host</h4>\n<pre>from salesforce_bulkipy import SalesforceBulkipy\nimport ConfigParser\n\nconfig = ConfigParser.RawConfigParser()\nconfig.read('config.properties')\n\nsession_id = config.get('Section', 'session_id')\nsession_id = config.get('Section', 'session_id')\n\nbulk = SalesforceBulkipy(session_id=session_id, host=host) #optional parameter: sandbox=True\n\n# Authentication Successful!\n</pre>\n</div>\n</div>\n</div>\n<div id=\"operations\">\n<h2>Operations</h2>\n<p>The basic sequence for driving the Bulk API is:</p>\n<ol>\n<li>Create a new job</li>\n<li>Add one or more batches to the job</li>\n<li>Wait for each batch to finish</li>\n<li>Close the job</li>\n</ol>\n</div>\n<div id=\"bulk-insert-update-upsert-delete\">\n<h2>Bulk Insert, Update, Upsert, Delete</h2>\n<p>All Bulk upload operations work the same. You set the operation when you\ncreate the job. Then you submit one or more documents that specify\nrecords with columns to <em>insert</em>/<em>update</em>/<em>delete</em>.</p>\n<p>For the <em>upsert</em> operation, we also need to specify some thing called\nthe <em>external_key</em> which can be any attribute(preferably unique) of\nyour custom Salesforce object. Every record to upsert is checked against\nthis key in Salesforce. Say your external key is <em>Id</em>. Now for every\nrecord you are pushing, it is checked it you have a record with the same\n<em>Id</em> already. If yes, then it is updated else that record is created.</p>\n<p>For the <em>delete</em> operation, you should only submit the Id for each\nrecord.</p>\n<p>For efficiency you should use the <tt>post_bulk_batch</tt> method to post\neach batch of data. (Note that a batch can have a maximum 10,000 records\nand be 1GB in size.) You pass a generator or iterator into this function\nand it will stream data via POST to Salesforce. For help sending CSV\nformatted data you can use the salesforce_bulk.CsvDictsAdapter class.\nIt takes an iterator returning dictionaries and returns an iterator\nwhich produces CSV data.</p>\n<p><strong>Concurrency mode</strong>: When creating the job, you can pass\n<tt>concurrency=Serial</tt> or <tt>concurrency=Parallel</tt> to set the\nconcurrency mode for the job.</p>\n</div>\n<div id=\"bulk-insert-example\">\n<h2>Bulk Insert Example</h2>\n<pre>from salesforce_bulkipy import SalesforceBulkipy\nfrom salesforce_bulkipy import CsvDictsAdapter\n\nbulk = SalesforceBulkipy(username=username, password=password, security_token=security_token)\n\nrecords_to_insert = [{}, {}]  # A list of A Custom Object dict\n\n# Bulk Insert\njob = bulk.create_insert_job(\"CustomObjectName\", contentType='CSV')\ncsv_iter = CsvDictsAdapter(iter(records_to_insert))\nbatch = bulk.post_bulk_batch(job, csv_iter)\nbulk.wait_for_batch(job, batch)\nbulk.close_job(job)\n</pre>\n</div>\n<div id=\"bulk-query-example\">\n<h2>Bulk Query Example</h2>\n<pre>from salesforce_bulkipy import SalesforceBulkipy\n\nbulk = SalesforceBulkipy(username=username, password=password, security_token=security_token)\n\nrecords_to_insert = [{}, {}]  # A list of A Custom Object dict\n\n# Bulk Query\nquery = '' # SOQL Query\njob = bulk.create_query_job(\"Object_Name\", contentType='CSV')\nbatch = bulk.query(job, query)\nbulk.wait_for_batch(job, batch)\nbulk.close_job(job)\n# Result\nresults = bulk.get_batch_result_iter(job, batch, parse_csv=True)\n</pre>\n</div>\n<div id=\"bulk-upsert-example\">\n<h2>Bulk Upsert Example</h2>\n<pre>from salesforce_bulkipy import SalesforceBulkipy\n\nbulk = SalesforceBulkipy(username=username, password=password, security_token=security_token)\n\nrecords_to_upsert = [{}, {}]  # A list of A Custom Object dict\n\n# Bulk Query\nquery = '' # SOQL Query\njob = bulk.create_upsert_job(\"Object_Name\", external_id_name=\"Unique_id\", contentType='CSV')\ncsv_iter = CsvDictsAdapter(iter(records_to_insert))\nbatch = bulk.post_bulk_batch(job, csv_iter)\nbulk.wait_for_batch(job, batch)\nbulk.close_job(job)\n</pre>\n</div>\n<div id=\"credits-and-contributions\">\n<h2>Credits and Contributions</h2>\n<p>This repository is a maintained fork of\n<a href=\"https://github.com/heroku/salesforce-bulk\" rel=\"nofollow\">heroku/salesforce-bulk</a>.\nThe changes incorporated here are a result of a joint effort by\n[@lambacck](<a href=\"https://github.com/lambacck\" rel=\"nofollow\">https://github.com/lambacck</a>),\n[@Jeremydavisvt](<a href=\"https://github.com/Jeremydavisvt\" rel=\"nofollow\">https://github.com/Jeremydavisvt</a>),\n[@alexhughson](<a href=\"https://github.com/alexhughson\" rel=\"nofollow\">https://github.com/alexhughson</a>) and\n[@bholagabbar](<a href=\"https://github.com/bholagabbar\" rel=\"nofollow\">https://github.com/bholagabbar</a>). Thanks to\n[@heroku](<a href=\"https://github.com/heroku\" rel=\"nofollow\">https://github.com/heroku</a>) for creating the original useful\nlibrary.</p>\n<p>Feel free to contribute by creating Issues and Pull Requests. We\u2019ll test\nand merge them.</p>\n</div>\n\n          </div>"}, "last_serial": 2523000, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "786b65dd14bd199c1a795088cb2056a1", "sha256": "1b3262c0c6ca0b3afc7de1049314e35ce2573992ef214a657a1c891d0b53a95c"}, "downloads": -1, "filename": "salesforce-bulkipy-1.0.tar.gz", "has_sig": false, "md5_digest": "786b65dd14bd199c1a795088cb2056a1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10446, "upload_time": "2016-12-15T13:18:45", "upload_time_iso_8601": "2016-12-15T13:18:45.411645Z", "url": "https://files.pythonhosted.org/packages/0b/12/cf8cb903f38fcb37b26703ddd105b56fdef30a58d0c4a2f4f912bcc09d7c/salesforce-bulkipy-1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "786b65dd14bd199c1a795088cb2056a1", "sha256": "1b3262c0c6ca0b3afc7de1049314e35ce2573992ef214a657a1c891d0b53a95c"}, "downloads": -1, "filename": "salesforce-bulkipy-1.0.tar.gz", "has_sig": false, "md5_digest": "786b65dd14bd199c1a795088cb2056a1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10446, "upload_time": "2016-12-15T13:18:45", "upload_time_iso_8601": "2016-12-15T13:18:45.411645Z", "url": "https://files.pythonhosted.org/packages/0b/12/cf8cb903f38fcb37b26703ddd105b56fdef30a58d0c4a2f4f912bcc09d7c/salesforce-bulkipy-1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:59:08 2020"}
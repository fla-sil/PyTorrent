{"info": {"author": "Salesforce Inc., Stanford University Open Virtual Assistant Lab", "author_email": "", "bugtrack_url": null, "classifiers": [], "description": "# Genie NLP library\n\n[![Build Status](https://travis-ci.com/stanford-oval/genienlp.svg?branch=master)](https://travis-ci.com/stanford-oval/genienlp) [![Language grade: Python](https://img.shields.io/lgtm/grade/python/g/stanford-oval/genienlp.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/stanford-oval/genienlp/context:python)\n\nThis library contains the NLP models for the [Genie](https://github.com/stanford-oval/genie-toolkit) toolkit for\nvirtual assistants. It is derived from the [decaNLP](https://github.com/salesforce/decaNLP) library by Salesforce,\nbut has diverged significantly.\n\nThe library is suitable for all NLP tasks that can be framed as Contextual Question Answering, that is, with 3 inputs:\n- text or structured input as _context_\n- text input as _question_\n- text or structured output as _answer_\n\nAs the [decaNLP paper](https://arxiv.org/abs/1806.08730) shows, many different NLP tasks can be framed in this way.\nGenie primarily uses the library for semantic parsing, dialogue state tracking, and natural language generation \ngiven a formal dialogue state, and this is what the models work best for.\n\n## Installation\n\ngenienlp is available on PyPi. You can install it with:\n```bash\npip3 install genienlp\n```\n\nAfter installation, a `genienlp` command becomes available.\n\nLikely, you will also want to download the word embeddings ahead of time:\n\n```bash\ngenienlp cache-embeddings --embeddings glove+char -d <embeddingdir>\n```\n\n## Usage\n\nTrain a model:\n```bash\ngenienlp train --tasks almond --train_iterations 50000 --embeddings <embeddingdir> --data <datadir> --save <modeldir>\n```\n\nGenerate predictions:\n```bash\ngenienlp predict --tasks almond --data <datadir> --path <modeldir>\n```\n\nTrain a paraphrasing model:\n```bash\ngenienlp train-paraphrase --train_data_file <train_data_file> --eval_data_file <dev_data_file> --output_dir <modeldir> --model_type gpt2 --do_train --do_eval --evaluate_during_training --logging_steps 1000 --save_steps 1000 --max_steps 40000 --save_total_limit 2 --gradient_accumulation_steps 16 --per_gpu_eval_batch_size 4 --per_gpu_train_batch_size 4 --num_train_epochs 1 --model_name_or_path <gpt2/gpt2-medium/gpt2-large/gpt2-xlarge>\n```\n\nGenerate paraphrases:\n```bash\ngenienlp run-paraphrase --model_type gpt2 --model_name_or_path <modeldir> --temperature 0.3 --repetition_penalty 1.0 --num_samples 4 --length 15 --batch_size 32 --input_file <input tsv file> --input_column 1\n```\n\nSee `genienlp --help` and `genienlp <command> --help` for details about each argument.\n\n## Citation\n\nIf you use the MultiTask Question Answering model in your work, please cite [*The Natural Language Decathlon: Multitask Learning as Question Answering*](https://arxiv.org/abs/1806.08730).\n\n```bibtex\n@article{McCann2018decaNLP,\n  title={The Natural Language Decathlon: Multitask Learning as Question Answering},\n  author={Bryan McCann and Nitish Shirish Keskar and Caiming Xiong and Richard Socher},\n  journal={arXiv preprint arXiv:1806.08730},\n  year={2018}\n}\n```\n\nIf you use the BERT-LSTM model (Identity encoder + MQAN decoder), please cite [_Schema2QA: Answering Complex Queries on the Structured Web with a Neural Model_](https://arxiv.org/abs/2001.05609)\n\n```bibtex\n@article{Xu2020Schema2QA,\n  title={Schema2QA: Answering Complex Queries on the Structured Web with a Neural Model},\n  author={Silei Xu and Giovanni Campagna and Jian Li and Monica S. Lam},\n  journal={arXiv preprint arXiv:2001.05609},\n  year={2020}\n}\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/stanford-oval/genienlp", "keywords": "", "license": "BSD-3-Clause", "maintainer": "", "maintainer_email": "", "name": "genienlp", "package_url": "https://pypi.org/project/genienlp/", "platform": "", "project_url": "https://pypi.org/project/genienlp/", "project_urls": {"Homepage": "https://github.com/stanford-oval/genienlp"}, "release_url": "https://pypi.org/project/genienlp/0.2.0/", "requires_dist": ["numpy", "torch (~=1.4)", "revtok (==0.0.3)", "tqdm (~=4.0)", "tensorboardX (==2.0.*)", "pyrouge (>=0.1.3)", "sacrebleu (~=1.0)", "requests (~=2.22)", "transformers (~=2.3)", "sentencepiece (<0.2.0,>=0.1.83)"], "requires_python": "", "summary": "", "version": "0.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Genie NLP library</h1>\n<p><a href=\"https://travis-ci.com/stanford-oval/genienlp\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b6c1e15d5bca759bb698ae702365ebb1a53003a1/68747470733a2f2f7472617669732d63692e636f6d2f7374616e666f72642d6f76616c2f67656e69656e6c702e7376673f6272616e63683d6d6173746572\"></a> <a href=\"https://lgtm.com/projects/g/stanford-oval/genienlp/context:python\" rel=\"nofollow\"><img alt=\"Language grade: Python\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b94345a949f55a16d99c78815d6302487e05989d/68747470733a2f2f696d672e736869656c64732e696f2f6c67746d2f67726164652f707974686f6e2f672f7374616e666f72642d6f76616c2f67656e69656e6c702e7376673f6c6f676f3d6c67746d266c6f676f57696474683d3138\"></a></p>\n<p>This library contains the NLP models for the <a href=\"https://github.com/stanford-oval/genie-toolkit\" rel=\"nofollow\">Genie</a> toolkit for\nvirtual assistants. It is derived from the <a href=\"https://github.com/salesforce/decaNLP\" rel=\"nofollow\">decaNLP</a> library by Salesforce,\nbut has diverged significantly.</p>\n<p>The library is suitable for all NLP tasks that can be framed as Contextual Question Answering, that is, with 3 inputs:</p>\n<ul>\n<li>text or structured input as <em>context</em></li>\n<li>text input as <em>question</em></li>\n<li>text or structured output as <em>answer</em></li>\n</ul>\n<p>As the <a href=\"https://arxiv.org/abs/1806.08730\" rel=\"nofollow\">decaNLP paper</a> shows, many different NLP tasks can be framed in this way.\nGenie primarily uses the library for semantic parsing, dialogue state tracking, and natural language generation\ngiven a formal dialogue state, and this is what the models work best for.</p>\n<h2>Installation</h2>\n<p>genienlp is available on PyPi. You can install it with:</p>\n<pre>pip3 install genienlp\n</pre>\n<p>After installation, a <code>genienlp</code> command becomes available.</p>\n<p>Likely, you will also want to download the word embeddings ahead of time:</p>\n<pre>genienlp cache-embeddings --embeddings glove+char -d &lt;embeddingdir&gt;\n</pre>\n<h2>Usage</h2>\n<p>Train a model:</p>\n<pre>genienlp train --tasks almond --train_iterations <span class=\"m\">50000</span> --embeddings &lt;embeddingdir&gt; --data &lt;datadir&gt; --save &lt;modeldir&gt;\n</pre>\n<p>Generate predictions:</p>\n<pre>genienlp predict --tasks almond --data &lt;datadir&gt; --path &lt;modeldir&gt;\n</pre>\n<p>Train a paraphrasing model:</p>\n<pre>genienlp train-paraphrase --train_data_file &lt;train_data_file&gt; --eval_data_file &lt;dev_data_file&gt; --output_dir &lt;modeldir&gt; --model_type gpt2 --do_train --do_eval --evaluate_during_training --logging_steps <span class=\"m\">1000</span> --save_steps <span class=\"m\">1000</span> --max_steps <span class=\"m\">40000</span> --save_total_limit <span class=\"m\">2</span> --gradient_accumulation_steps <span class=\"m\">16</span> --per_gpu_eval_batch_size <span class=\"m\">4</span> --per_gpu_train_batch_size <span class=\"m\">4</span> --num_train_epochs <span class=\"m\">1</span> --model_name_or_path &lt;gpt2/gpt2-medium/gpt2-large/gpt2-xlarge&gt;\n</pre>\n<p>Generate paraphrases:</p>\n<pre>genienlp run-paraphrase --model_type gpt2 --model_name_or_path &lt;modeldir&gt; --temperature <span class=\"m\">0</span>.3 --repetition_penalty <span class=\"m\">1</span>.0 --num_samples <span class=\"m\">4</span> --length <span class=\"m\">15</span> --batch_size <span class=\"m\">32</span> --input_file &lt;input tsv file&gt; --input_column <span class=\"m\">1</span>\n</pre>\n<p>See <code>genienlp --help</code> and <code>genienlp &lt;command&gt; --help</code> for details about each argument.</p>\n<h2>Citation</h2>\n<p>If you use the MultiTask Question Answering model in your work, please cite <a href=\"https://arxiv.org/abs/1806.08730\" rel=\"nofollow\"><em>The Natural Language Decathlon: Multitask Learning as Question Answering</em></a>.</p>\n<pre><span class=\"nc\">@article</span><span class=\"p\">{</span><span class=\"nl\">McCann2018decaNLP</span><span class=\"p\">,</span>\n  <span class=\"na\">title</span><span class=\"p\">=</span><span class=\"s\">{The Natural Language Decathlon: Multitask Learning as Question Answering}</span><span class=\"p\">,</span>\n  <span class=\"na\">author</span><span class=\"p\">=</span><span class=\"s\">{Bryan McCann and Nitish Shirish Keskar and Caiming Xiong and Richard Socher}</span><span class=\"p\">,</span>\n  <span class=\"na\">journal</span><span class=\"p\">=</span><span class=\"s\">{arXiv preprint arXiv:1806.08730}</span><span class=\"p\">,</span>\n  <span class=\"na\">year</span><span class=\"p\">=</span><span class=\"s\">{2018}</span>\n<span class=\"p\">}</span>\n</pre>\n<p>If you use the BERT-LSTM model (Identity encoder + MQAN decoder), please cite <a href=\"https://arxiv.org/abs/2001.05609\" rel=\"nofollow\"><em>Schema2QA: Answering Complex Queries on the Structured Web with a Neural Model</em></a></p>\n<pre><span class=\"nc\">@article</span><span class=\"p\">{</span><span class=\"nl\">Xu2020Schema2QA</span><span class=\"p\">,</span>\n  <span class=\"na\">title</span><span class=\"p\">=</span><span class=\"s\">{Schema2QA: Answering Complex Queries on the Structured Web with a Neural Model}</span><span class=\"p\">,</span>\n  <span class=\"na\">author</span><span class=\"p\">=</span><span class=\"s\">{Silei Xu and Giovanni Campagna and Jian Li and Monica S. Lam}</span><span class=\"p\">,</span>\n  <span class=\"na\">journal</span><span class=\"p\">=</span><span class=\"s\">{arXiv preprint arXiv:2001.05609}</span><span class=\"p\">,</span>\n  <span class=\"na\">year</span><span class=\"p\">=</span><span class=\"s\">{2020}</span>\n<span class=\"p\">}</span>\n</pre>\n\n          </div>"}, "last_serial": 6944957, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "4443ddfa1fef3188dc127fe88bfccdac", "sha256": "1263fc78edfb3e183fc2f2286ca2c16114ab70bb5bc73d3778c7d11ffe2382b6"}, "downloads": -1, "filename": "genienlp-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "4443ddfa1fef3188dc127fe88bfccdac", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 108995, "upload_time": "2020-01-29T18:24:13", "upload_time_iso_8601": "2020-01-29T18:24:13.405412Z", "url": "https://files.pythonhosted.org/packages/fb/76/fae6928af54acf9fd30cee9dc44985c3fd3b6c34f1e05535edcf3c14a706/genienlp-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1067169f9aeece3ebb86d8e037265357", "sha256": "c73073328fc1e59a97e80fe5efb2067010df266b57643081b987580a83a440d8"}, "downloads": -1, "filename": "genienlp-0.1.1.tar.gz", "has_sig": false, "md5_digest": "1067169f9aeece3ebb86d8e037265357", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 63900, "upload_time": "2020-01-29T18:24:16", "upload_time_iso_8601": "2020-01-29T18:24:16.024466Z", "url": "https://files.pythonhosted.org/packages/61/46/3e2bc5c562469f3a51e6927f17bd7f7cf4d593c4b965d2fefd893c678764/genienlp-0.1.1.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "4d0a77e08a51520e9347f75dc06c80cc", "sha256": "076402995cf6e951f29485ba2f7aca0ca04dbaee8cc50dce69c82535bb02ff11"}, "downloads": -1, "filename": "genienlp-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "4d0a77e08a51520e9347f75dc06c80cc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 143946, "upload_time": "2020-04-03T17:50:30", "upload_time_iso_8601": "2020-04-03T17:50:30.805529Z", "url": "https://files.pythonhosted.org/packages/6d/c9/2552c3c3764b1a15d4e7dc0a3e56b99a356764ef70694c377ec029306f97/genienlp-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f3d51f000d18731b60fede8154930f45", "sha256": "a7bea208dbd9e157549535a0c5e53f1f84553180dd0add638c906b1133260ae7"}, "downloads": -1, "filename": "genienlp-0.2.0.tar.gz", "has_sig": false, "md5_digest": "f3d51f000d18731b60fede8154930f45", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 96174, "upload_time": "2020-04-03T17:50:32", "upload_time_iso_8601": "2020-04-03T17:50:32.390316Z", "url": "https://files.pythonhosted.org/packages/21/bf/63b1d0c428e3a51e673a2df73e3ba4fbdddbb5fa66dcca19cfafb9547d14/genienlp-0.2.0.tar.gz", "yanked": false}], "0.2.0a1": [{"comment_text": "", "digests": {"md5": "15de02dc95abaab323e3ff640bf59ea1", "sha256": "13de9845da8fa16c5342008a87a9bdd1d49559954c8a298da54479ca41c85773"}, "downloads": -1, "filename": "genienlp-0.2.0a1-py3-none-any.whl", "has_sig": false, "md5_digest": "15de02dc95abaab323e3ff640bf59ea1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 142351, "upload_time": "2020-03-22T02:29:14", "upload_time_iso_8601": "2020-03-22T02:29:14.766856Z", "url": "https://files.pythonhosted.org/packages/1d/d5/e5fda7656bf3a3e883fccae96ce4d8962a750ed86e45339f978816c69c6a/genienlp-0.2.0a1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5ef6b133440c38f2956704c17db11d5e", "sha256": "9b5581e1383849f5d4c371bb5dce0f5831d3ec8e77962106b2011e3b703a4ab9"}, "downloads": -1, "filename": "genienlp-0.2.0a1.tar.gz", "has_sig": false, "md5_digest": "5ef6b133440c38f2956704c17db11d5e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 98041, "upload_time": "2020-03-22T02:29:16", "upload_time_iso_8601": "2020-03-22T02:29:16.604876Z", "url": "https://files.pythonhosted.org/packages/17/25/b70ab8c4dc7701d862f1e48a1cbb7b2322a05b2966189c247b1e26857baa/genienlp-0.2.0a1.tar.gz", "yanked": false}], "0.2.0a2": [{"comment_text": "", "digests": {"md5": "619a41f503e35ce15b0e03d5deb08498", "sha256": "0096ddf380fb8672f04b8c82c45cedad59902a0d067d06cc306123fd06a1a199"}, "downloads": -1, "filename": "genienlp-0.2.0a2-py3-none-any.whl", "has_sig": false, "md5_digest": "619a41f503e35ce15b0e03d5deb08498", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 142336, "upload_time": "2020-03-25T02:20:42", "upload_time_iso_8601": "2020-03-25T02:20:42.856117Z", "url": "https://files.pythonhosted.org/packages/a9/dd/9bf1f6e210dd66927c17f984167dbe160030675ad72f530b6809cb58d759/genienlp-0.2.0a2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7bdc24f5fdde1067132c2078263f1727", "sha256": "31252b38b3a4d4fd3e47e411097ee44cfc59cc096b9058a1562279e844af2094"}, "downloads": -1, "filename": "genienlp-0.2.0a2.tar.gz", "has_sig": false, "md5_digest": "7bdc24f5fdde1067132c2078263f1727", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 98025, "upload_time": "2020-03-25T02:20:44", "upload_time_iso_8601": "2020-03-25T02:20:44.187056Z", "url": "https://files.pythonhosted.org/packages/04/ec/f314e582aa070e580c0a660d474ee03964b8578a79f0e871f4cc47ad72f5/genienlp-0.2.0a2.tar.gz", "yanked": false}], "0.2.0b1": [{"comment_text": "", "digests": {"md5": "613d81d763f389e320c1aa64384d9ea9", "sha256": "170c54aa0d3340f6b7a9a63c73be91119ee52ae20ad24313b39789cf0bd84355"}, "downloads": -1, "filename": "genienlp-0.2.0b1-py3-none-any.whl", "has_sig": false, "md5_digest": "613d81d763f389e320c1aa64384d9ea9", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 143970, "upload_time": "2020-03-27T22:56:41", "upload_time_iso_8601": "2020-03-27T22:56:41.879656Z", "url": "https://files.pythonhosted.org/packages/3e/1e/0560331cf06179bf4a8be410f995b789b2f182969c10bb1276ace160d66e/genienlp-0.2.0b1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "aa873fd49b893b688bb9084bd387fc58", "sha256": "0fcec123858b502c3b0788cf5944cdb099bdf2078e532f6c68200d170b284fad"}, "downloads": -1, "filename": "genienlp-0.2.0b1.tar.gz", "has_sig": false, "md5_digest": "aa873fd49b893b688bb9084bd387fc58", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 96131, "upload_time": "2020-03-27T22:56:43", "upload_time_iso_8601": "2020-03-27T22:56:43.586605Z", "url": "https://files.pythonhosted.org/packages/68/ca/f77be13eb150f7c67f41f015cda78c9b984d3fb6fbcb1f42b48c95adb779/genienlp-0.2.0b1.tar.gz", "yanked": false}], "0.2.0b2": [{"comment_text": "", "digests": {"md5": "1c192d5dac29576d27288b9014f2bf0c", "sha256": "61f9b5c1ac703c8e30da5684adc49977e940867cda24bc955adebee5fc645835"}, "downloads": -1, "filename": "genienlp-0.2.0b2-py3-none-any.whl", "has_sig": false, "md5_digest": "1c192d5dac29576d27288b9014f2bf0c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 143972, "upload_time": "2020-04-03T02:14:52", "upload_time_iso_8601": "2020-04-03T02:14:52.262752Z", "url": "https://files.pythonhosted.org/packages/f6/b7/a9afd5693087ad6bf85c9dac6b8ecab64c2a98ee08e1a18f8685fc52cae4/genienlp-0.2.0b2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e464905887eabd250f112130ac1104e7", "sha256": "4def3d63a5cc053877201d77e953fd0881c9c624e32f01fa8363106ebb46ff55"}, "downloads": -1, "filename": "genienlp-0.2.0b2.tar.gz", "has_sig": false, "md5_digest": "e464905887eabd250f112130ac1104e7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 96167, "upload_time": "2020-04-03T02:14:53", "upload_time_iso_8601": "2020-04-03T02:14:53.785356Z", "url": "https://files.pythonhosted.org/packages/d8/1d/e3976204c6f18ccf078c330c1336bdc0a1556e98e3451bc51f4cc64e9d1c/genienlp-0.2.0b2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "4d0a77e08a51520e9347f75dc06c80cc", "sha256": "076402995cf6e951f29485ba2f7aca0ca04dbaee8cc50dce69c82535bb02ff11"}, "downloads": -1, "filename": "genienlp-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "4d0a77e08a51520e9347f75dc06c80cc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 143946, "upload_time": "2020-04-03T17:50:30", "upload_time_iso_8601": "2020-04-03T17:50:30.805529Z", "url": "https://files.pythonhosted.org/packages/6d/c9/2552c3c3764b1a15d4e7dc0a3e56b99a356764ef70694c377ec029306f97/genienlp-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f3d51f000d18731b60fede8154930f45", "sha256": "a7bea208dbd9e157549535a0c5e53f1f84553180dd0add638c906b1133260ae7"}, "downloads": -1, "filename": "genienlp-0.2.0.tar.gz", "has_sig": false, "md5_digest": "f3d51f000d18731b60fede8154930f45", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 96174, "upload_time": "2020-04-03T17:50:32", "upload_time_iso_8601": "2020-04-03T17:50:32.390316Z", "url": "https://files.pythonhosted.org/packages/21/bf/63b1d0c428e3a51e673a2df73e3ba4fbdddbb5fa66dcca19cfafb9547d14/genienlp-0.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:58:19 2020"}
{"info": {"author": "OCEAN S.A.", "author_email": "osf@ocean.io", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 3.6"], "description": "aioscript\n=========\n\n:info: Base asyncio script with support of threading and multiprocessing\n\n.. image:: https://travis-ci.org/wikibusiness/aioscript.svg?branch=master\n    :target: https://travis-ci.org/wikibusiness/aioscript\n\n.. image:: https://img.shields.io/pypi/v/aioscript.svg\n    :target: https://pypi.python.org/pypi/aioscript\n\n.. image:: https://codecov.io/gh/wikibusiness/aioscript/branch/master/graph/badge.svg\n    :target: https://codecov.io/gh/wikibusiness/aioscript\n\nInstallation\n------------\n\n.. code-block:: shell\n\n    pip install aioscript\n\nUsage\n-----\n\n.. code-block:: python\n\n    from aiohttp import ClientSession, web\n\n    from aioscript import AbstractScript\n\n\n    class Script(AbstractScript):\n\n        def setup(self):\n            self.session = ClientSession(loop=self.loop)\n\n        async def close(self):\n            await self.session.close()\n\n        async def handle(self, url):\n            async with self.session.get(url) as response:\n                if response.status == web.HTTPOk.status_code:\n                    print(response.url, 'Ok')\n                else:\n                    print(response.url, 'Not ok')\n\n        async def populate(self):\n            urls = [\n                'https://www.python.org/',\n                'https://www.python.org/doc/',\n                'https://docs.python.org/3/',\n                'https://docs.python.org/3/library/concurrency.html',\n                'https://docs.python.org/3/library/asyncio.html',\n                'https://docs.python.org/3/library/asyncio-eventloop.html',\n            ]\n            for url in urls:\n                yield url\n\n\n    if __name__ == '__main__':\n        Script().run()\n\n.. code-block:: shell\n\n    python script.py --coroutines=10\n\nPython 3.6+ is required\n\nThanks\n------\n\nThe library was donated by `Ocean S.A. <https://ocean.io/>`_\n\nThanks to the company for contribution.\n", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/wikibusiness/aioscript", "keywords": "asyncio", "license": "", "maintainer": "", "maintainer_email": "", "name": "aioscript", "package_url": "https://pypi.org/project/aioscript/", "platform": "", "project_url": "https://pypi.org/project/aioscript/", "project_urls": {"Homepage": "https://github.com/wikibusiness/aioscript"}, "release_url": "https://pypi.org/project/aioscript/0.0.1/", "requires_dist": null, "requires_python": "", "summary": "Base asynchronous script with threading and multiprocessing", "version": "0.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <table>\n<col>\n<col>\n<tbody>\n<tr><th>info:</th><td>Base asyncio script with support of threading and multiprocessing</td>\n</tr>\n</tbody>\n</table>\n<a href=\"https://travis-ci.org/wikibusiness/aioscript\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/wikibusiness/aioscript.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3d70c4fce2d20f5531e2f39580cf44b6eafea291/68747470733a2f2f7472617669732d63692e6f72672f77696b69627573696e6573732f61696f7363726970742e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.python.org/pypi/aioscript\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/v/aioscript.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1edc290d128bc8e70cc242d4148a40f9c674f194/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f61696f7363726970742e737667\"></a>\n<a href=\"https://codecov.io/gh/wikibusiness/aioscript\" rel=\"nofollow\"><img alt=\"https://codecov.io/gh/wikibusiness/aioscript/branch/master/graph/badge.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ebc26dda3a541ed0f0197e793f949f48a7d9d7ff/68747470733a2f2f636f6465636f762e696f2f67682f77696b69627573696e6573732f61696f7363726970742f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>pip install aioscript\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">aiohttp</span> <span class=\"kn\">import</span> <span class=\"n\">ClientSession</span><span class=\"p\">,</span> <span class=\"n\">web</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">aioscript</span> <span class=\"kn\">import</span> <span class=\"n\">AbstractScript</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">Script</span><span class=\"p\">(</span><span class=\"n\">AbstractScript</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">setup</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">session</span> <span class=\"o\">=</span> <span class=\"n\">ClientSession</span><span class=\"p\">(</span><span class=\"n\">loop</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">loop</span><span class=\"p\">)</span>\n\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">close</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">await</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">handle</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">url</span><span class=\"p\">):</span>\n        <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">response</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">status</span> <span class=\"o\">==</span> <span class=\"n\">web</span><span class=\"o\">.</span><span class=\"n\">HTTPOk</span><span class=\"o\">.</span><span class=\"n\">status_code</span><span class=\"p\">:</span>\n                <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">url</span><span class=\"p\">,</span> <span class=\"s1\">'Ok'</span><span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">url</span><span class=\"p\">,</span> <span class=\"s1\">'Not ok'</span><span class=\"p\">)</span>\n\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">populate</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">urls</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n            <span class=\"s1\">'https://www.python.org/'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'https://www.python.org/doc/'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'https://docs.python.org/3/'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'https://docs.python.org/3/library/concurrency.html'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'https://docs.python.org/3/library/asyncio.html'</span><span class=\"p\">,</span>\n            <span class=\"s1\">'https://docs.python.org/3/library/asyncio-eventloop.html'</span><span class=\"p\">,</span>\n        <span class=\"p\">]</span>\n        <span class=\"k\">for</span> <span class=\"n\">url</span> <span class=\"ow\">in</span> <span class=\"n\">urls</span><span class=\"p\">:</span>\n            <span class=\"k\">yield</span> <span class=\"n\">url</span>\n\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n    <span class=\"n\">Script</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">()</span>\n</pre>\n<pre>python script.py --coroutines<span class=\"o\">=</span><span class=\"m\">10</span>\n</pre>\n<p>Python 3.6+ is required</p>\n</div>\n<div id=\"thanks\">\n<h2>Thanks</h2>\n<p>The library was donated by <a href=\"https://ocean.io/\" rel=\"nofollow\">Ocean S.A.</a></p>\n<p>Thanks to the company for contribution.</p>\n</div>\n\n          </div>"}, "last_serial": 3538433, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "71e9be1bd4649bf82bca3888db7f6a98", "sha256": "57e158265c4f24deeb875fa2cc49eb131a5049a449e314b048ed4bc9050ee60c"}, "downloads": -1, "filename": "aioscript-0.0.1.tar.gz", "has_sig": false, "md5_digest": "71e9be1bd4649bf82bca3888db7f6a98", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5361, "upload_time": "2018-01-31T14:08:09", "upload_time_iso_8601": "2018-01-31T14:08:09.938809Z", "url": "https://files.pythonhosted.org/packages/e7/a8/4ecf28193265f6b156c009382e519e4125e13ac62e6c3ba63039722d5ba5/aioscript-0.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "71e9be1bd4649bf82bca3888db7f6a98", "sha256": "57e158265c4f24deeb875fa2cc49eb131a5049a449e314b048ed4bc9050ee60c"}, "downloads": -1, "filename": "aioscript-0.0.1.tar.gz", "has_sig": false, "md5_digest": "71e9be1bd4649bf82bca3888db7f6a98", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5361, "upload_time": "2018-01-31T14:08:09", "upload_time_iso_8601": "2018-01-31T14:08:09.938809Z", "url": "https://files.pythonhosted.org/packages/e7/a8/4ecf28193265f6b156c009382e519e4125e13ac62e6c3ba63039722d5ba5/aioscript-0.0.1.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:20:47 2020"}
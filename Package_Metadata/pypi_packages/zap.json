{"info": {"author": "Kurt Soto, Simon Conseil", "author_email": "simon.conseil@univ-lyon1.fr", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Science/Research", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: Implementation :: CPython", "Topic :: Scientific/Engineering :: Astronomy", "Topic :: Scientific/Engineering :: Physics"], "description": "ZAP (the Zurich Atmosphere Purge)\n---------------------------------\n\nTired of sky subtraction residuals? ZAP them!\n\nZAP is a high precision sky subtraction tool which can be used as complete sky\nsubtraction solution, or as an enhancement to previously sky-subtracted MUSE\ndata.  The method uses PCA to isolate the residual sky subtraction features and\nremove them from the observed datacube. Future developments will include\nmodification for use on a variety of instruments.\n\nThe last stable release of ZAP can be installed simply with pip::\n\n    pip install zap\n\nOr into the user path with::\n\n    pip install --user zap\n\nLinks\n~~~~~\n\n- `documentation <http://zap.readthedocs.io/en/latest/>`_\n\n- `git repository <https://github.com/musevlt/zap>`_\n\n- `changelog <https://github.com/musevlt/zap/blob/master/CHANGELOG>`_\n\n- `pypi <https://pypi.org/project/zap/>`_\n\nCitation\n~~~~~~~~\n\nThe paper describing the original method can be found here:\nhttp://adsabs.harvard.edu/abs/2016MNRAS.458.3210S\n\nPlease cite ZAP as::\n\n\\bibitem[Soto et al.(2016)]{2016MNRAS.458.3210S} Soto, K.~T., Lilly, S.~J., Bacon, R., Richard, J., \\& Conseil, S.\\ 2016, \\mnras, 458, 3210\n\n2.1 (2019-07-03)\n----------------\n\n- Zap now requires Python 3.5 or later, and Astropy 2.0 or later.\n\n- Compatibility with the NFM-AO mode.\n\n- Ignore the notch filter region in the 'median' and 'fit' methods for the\n  continuum filter (``cftype``).\n\n- Change the default continuum filter method (``cftype``) to 'median' and\n  remove the 'weight' method. The previous default method ('weight') has some\n  problems with the treatment of spectra edges and with the notch filter edges\n  for the AO modes, and is also introducing bumps in the red wavelengths.\n\n- Add a command-line argument for ``nevals``.\n\n- Scipy 0.18.1 or later is required, because of SVD convergence issue with\n  previous versions.\n\n- Add a function to mask the cube edges (``zap.mask_nan_edges``): the spaxels\n  at the edges of the cube may have a lot of NaNs in their spectra, so ZAP\n  does not subtract the sky on these which leaves high residuals.\n\n\n2.0 (2017-09-08)\n----------------\n\n- Compatibility with the WFM-AO mode.\n\n- Use `Scikit-learn`_'s implementation for the PCA instead of the custom one.\n  This solved an issue with spatial variations introduced by zap. Also it is\n  much faster than the previous implementation. A drawback however is that it is\n  no more possible to save the SVD file.\n\n- Use only one *sky segment* by default, which means that the cube is\n  no more split on the wavelength axis. Originally zap used 11 segments, whose\n  goals were to have coherent groups of sky emission lines, with a smaller\n  number of eigenvalues per segment. And it also allowed to parallelize the\n  computation. But, the segments were also responsible for continuum\n  oscillations, and made the choice of the number of eigenvalues per segment\n  very difficult and very sensitive. With only one segment the performance of\n  the sky subtraction is much better, thanks to the higher correlation between\n  sky lines on the whole wavelength range.\n\n  So using only one segment allows to greatly reduce the risk of killing an\n  emission line with the new PCA. It is still possible to modify the segments if\n  needed::\n\n      from zap.zap import SKYSEG\n      SKYSEG[:] = [0, 5400, ..., 10000]\n\n- New continuum filter type with a polynomial fit (``cftype='fit'``). Must be\n  used with care though, as the fit can easily go out of control in the red part\n  of the spectrum.\n\n- Change the default median filter width to 300, for the ``median`` and\n  ``weight`` continuum filters. The values used previously, 100 and 50, were too\n  small which explains the background oscillations in the red part of the\n  spectra.\n\n- New parameter (``ncpu``) to set the number of used CPU.\n\n- Remove the possibility to save the SVD result in a FITS file. This is because\n  of the change of PCA implementation. It is still possible to pass the SVD\n  computed by ``SVDoutput`` to ``process``, passing the in-memory object\n  directly without saving it to disk.\n\n- Speed improvements, mostly thanks to the new PCA implementation.\n\n- New parameter to save the explained variance curves.\n\n\n1.0 (2016-04-02)\n----------------\n\nFirst public release. This is the version described in the 2016MNRAS.458.3210S\npaper.\n\n.. _Scikit-learn: http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.PCA.html#sklearn.decomposition.PCA\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/musevlt/zap", "keywords": "astronomy,astrophysics,science,muse,vlt,sky subtraction", "license": "MIT License", "maintainer": "", "maintainer_email": "", "name": "zap", "package_url": "https://pypi.org/project/zap/", "platform": "", "project_url": "https://pypi.org/project/zap/", "project_urls": {"Homepage": "https://github.com/musevlt/zap"}, "release_url": "https://pypi.org/project/zap/2.1/", "requires_dist": ["numpy", "scipy (>=0.18.1)", "astropy (>=2.0)", "scikit-learn", "matplotlib ; extra == 'plot'"], "requires_python": ">=3.5", "summary": "ZAP (the Zurich Atmosphere Purge) is a high precision sky subtraction tool.", "version": "2.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"zap-the-zurich-atmosphere-purge\">\n<h2>ZAP (the Zurich Atmosphere Purge)</h2>\n<p>Tired of sky subtraction residuals? ZAP them!</p>\n<p>ZAP is a high precision sky subtraction tool which can be used as complete sky\nsubtraction solution, or as an enhancement to previously sky-subtracted MUSE\ndata.  The method uses PCA to isolate the residual sky subtraction features and\nremove them from the observed datacube. Future developments will include\nmodification for use on a variety of instruments.</p>\n<p>The last stable release of ZAP can be installed simply with pip:</p>\n<pre>pip install zap\n</pre>\n<p>Or into the user path with:</p>\n<pre>pip install --user zap\n</pre>\n<div id=\"links\">\n<h3>Links</h3>\n<ul>\n<li><a href=\"http://zap.readthedocs.io/en/latest/\" rel=\"nofollow\">documentation</a></li>\n<li><a href=\"https://github.com/musevlt/zap\" rel=\"nofollow\">git repository</a></li>\n<li><a href=\"https://github.com/musevlt/zap/blob/master/CHANGELOG\" rel=\"nofollow\">changelog</a></li>\n<li><a href=\"https://pypi.org/project/zap/\" rel=\"nofollow\">pypi</a></li>\n</ul>\n</div>\n<div id=\"citation\">\n<h3>Citation</h3>\n<p>The paper describing the original method can be found here:\n<a href=\"http://adsabs.harvard.edu/abs/2016MNRAS.458.3210S\" rel=\"nofollow\">http://adsabs.harvard.edu/abs/2016MNRAS.458.3210S</a></p>\n<p>Please cite ZAP as:</p>\n<pre>\\bibitem[Soto et al.(2016)]{2016MNRAS.458.3210S} Soto, K.~T., Lilly, S.~J., Bacon, R., Richard, J., \\&amp; Conseil, S.\\ 2016, \\mnras, 458, 3210\n</pre>\n</div>\n</div>\n<div id=\"id1\">\n<h2>2.1 (2019-07-03)</h2>\n<ul>\n<li>Zap now requires Python 3.5 or later, and Astropy 2.0 or later.</li>\n<li>Compatibility with the NFM-AO mode.</li>\n<li>Ignore the notch filter region in the \u2018median\u2019 and \u2018fit\u2019 methods for the\ncontinuum filter (<tt>cftype</tt>).</li>\n<li>Change the default continuum filter method (<tt>cftype</tt>) to \u2018median\u2019 and\nremove the \u2018weight\u2019 method. The previous default method (\u2018weight\u2019) has some\nproblems with the treatment of spectra edges and with the notch filter edges\nfor the AO modes, and is also introducing bumps in the red wavelengths.</li>\n<li>Add a command-line argument for <tt>nevals</tt>.</li>\n<li>Scipy 0.18.1 or later is required, because of SVD convergence issue with\nprevious versions.</li>\n<li>Add a function to mask the cube edges (<tt>zap.mask_nan_edges</tt>): the spaxels\nat the edges of the cube may have a lot of NaNs in their spectra, so ZAP\ndoes not subtract the sky on these which leaves high residuals.</li>\n</ul>\n</div>\n<div id=\"id2\">\n<h2>2.0 (2017-09-08)</h2>\n<ul>\n<li><p>Compatibility with the WFM-AO mode.</p>\n</li>\n<li><p>Use <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.PCA.html#sklearn.decomposition.PCA\" rel=\"nofollow\">Scikit-learn</a>\u2019s implementation for the PCA instead of the custom one.\nThis solved an issue with spatial variations introduced by zap. Also it is\nmuch faster than the previous implementation. A drawback however is that it is\nno more possible to save the SVD file.</p>\n</li>\n<li><p>Use only one <em>sky segment</em> by default, which means that the cube is\nno more split on the wavelength axis. Originally zap used 11 segments, whose\ngoals were to have coherent groups of sky emission lines, with a smaller\nnumber of eigenvalues per segment. And it also allowed to parallelize the\ncomputation. But, the segments were also responsible for continuum\noscillations, and made the choice of the number of eigenvalues per segment\nvery difficult and very sensitive. With only one segment the performance of\nthe sky subtraction is much better, thanks to the higher correlation between\nsky lines on the whole wavelength range.</p>\n<p>So using only one segment allows to greatly reduce the risk of killing an\nemission line with the new PCA. It is still possible to modify the segments if\nneeded:</p>\n<pre>from zap.zap import SKYSEG\nSKYSEG[:] = [0, 5400, ..., 10000]\n</pre>\n</li>\n<li><p>New continuum filter type with a polynomial fit (<tt><span class=\"pre\">cftype='fit'</span></tt>). Must be\nused with care though, as the fit can easily go out of control in the red part\nof the spectrum.</p>\n</li>\n<li><p>Change the default median filter width to 300, for the <tt>median</tt> and\n<tt>weight</tt> continuum filters. The values used previously, 100 and 50, were too\nsmall which explains the background oscillations in the red part of the\nspectra.</p>\n</li>\n<li><p>New parameter (<tt>ncpu</tt>) to set the number of used CPU.</p>\n</li>\n<li><p>Remove the possibility to save the SVD result in a FITS file. This is because\nof the change of PCA implementation. It is still possible to pass the SVD\ncomputed by <tt>SVDoutput</tt> to <tt>process</tt>, passing the in-memory object\ndirectly without saving it to disk.</p>\n</li>\n<li><p>Speed improvements, mostly thanks to the new PCA implementation.</p>\n</li>\n<li><p>New parameter to save the explained variance curves.</p>\n</li>\n</ul>\n</div>\n<div id=\"id3\">\n<h2>1.0 (2016-04-02)</h2>\n<p>First public release. This is the version described in the 2016MNRAS.458.3210S\npaper.</p>\n</div>\n\n          </div>"}, "last_serial": 5480709, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "8958f75ce0aec4694c7c74e54c8cc5f4", "sha256": "3f29349326df1ae344c2bdea9dc72dc35fa2fdf045217ec042b7cd5ae5354fe8"}, "downloads": -1, "filename": "zap-1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "8958f75ce0aec4694c7c74e54c8cc5f4", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 16865, "upload_time": "2016-02-04T15:39:25", "upload_time_iso_8601": "2016-02-04T15:39:25.816261Z", "url": "https://files.pythonhosted.org/packages/fd/89/ab36418cb2d455c6f0f7c73380ba4e586d17684eb22bc78dc60092a721cf/zap-1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "66fb1fa53c20879ca6fd386f1879f981", "sha256": "de1310fe4b929b753c8d4437719ab0f38e9aa77d2f43389d082fa249ef9994b0"}, "downloads": -1, "filename": "zap-1.0.tar.gz", "has_sig": false, "md5_digest": "66fb1fa53c20879ca6fd386f1879f981", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 408199, "upload_time": "2016-02-04T15:39:40", "upload_time_iso_8601": "2016-02-04T15:39:40.029752Z", "url": "https://files.pythonhosted.org/packages/fb/0c/75f9a71569b6683d467bc88ca503159ee3e26e4b74bd096956110a28b270/zap-1.0.tar.gz", "yanked": false}], "2.0": [{"comment_text": "", "digests": {"md5": "379ebb7cd8397e0700f979413f96f925", "sha256": "07dbc2eb91422c963b9e1cae80a566a6bab5e60400d9a141123d53c4fdf1328c"}, "downloads": -1, "filename": "zap-2.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "379ebb7cd8397e0700f979413f96f925", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 20375, "upload_time": "2017-09-08T13:15:08", "upload_time_iso_8601": "2017-09-08T13:15:08.367294Z", "url": "https://files.pythonhosted.org/packages/3d/f7/007431ded74a3be70a7883cc8b7bd330be85ea82f6ed8d21e6f102e2811c/zap-2.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "eda502b5b3a1149eb9931f5687f72239", "sha256": "3b5730996ed60f0226090b0c628519b04bf819392cc2ec70e6359d0e1dfa903b"}, "downloads": -1, "filename": "zap-2.0.tar.gz", "has_sig": false, "md5_digest": "eda502b5b3a1149eb9931f5687f72239", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24562, "upload_time": "2017-09-08T13:15:10", "upload_time_iso_8601": "2017-09-08T13:15:10.552352Z", "url": "https://files.pythonhosted.org/packages/dd/11/827f31498c4746b35b8c6c9fce482d6b61fc32c38c58d72043309e072f92/zap-2.0.tar.gz", "yanked": false}], "2.1": [{"comment_text": "", "digests": {"md5": "a1aa935df63cdaa5c03714046e68d77f", "sha256": "9f346426c393bb406fa996b35d4dc9124cd29c0da6a97711ba90133d7f29e849"}, "downloads": -1, "filename": "zap-2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "a1aa935df63cdaa5c03714046e68d77f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 19394, "upload_time": "2019-07-03T10:48:12", "upload_time_iso_8601": "2019-07-03T10:48:12.734175Z", "url": "https://files.pythonhosted.org/packages/7f/f6/a7260eb5e9c1d24449133b88803cffbab31d6efef4569e6d3b504f14cc27/zap-2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7d7f9f3483b436c6d88253abef2e9a90", "sha256": "5ae183accceda6ab630c9e3ffa80a82abb880c8631810f67f33b6b99cbcb16b2"}, "downloads": -1, "filename": "zap-2.1.tar.gz", "has_sig": false, "md5_digest": "7d7f9f3483b436c6d88253abef2e9a90", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 24655, "upload_time": "2019-07-03T10:48:14", "upload_time_iso_8601": "2019-07-03T10:48:14.507376Z", "url": "https://files.pythonhosted.org/packages/ec/5d/da4cae8f3278e5c2d7c0101261e9d114d8855f14a6fc7c506ff789c7222c/zap-2.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a1aa935df63cdaa5c03714046e68d77f", "sha256": "9f346426c393bb406fa996b35d4dc9124cd29c0da6a97711ba90133d7f29e849"}, "downloads": -1, "filename": "zap-2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "a1aa935df63cdaa5c03714046e68d77f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 19394, "upload_time": "2019-07-03T10:48:12", "upload_time_iso_8601": "2019-07-03T10:48:12.734175Z", "url": "https://files.pythonhosted.org/packages/7f/f6/a7260eb5e9c1d24449133b88803cffbab31d6efef4569e6d3b504f14cc27/zap-2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7d7f9f3483b436c6d88253abef2e9a90", "sha256": "5ae183accceda6ab630c9e3ffa80a82abb880c8631810f67f33b6b99cbcb16b2"}, "downloads": -1, "filename": "zap-2.1.tar.gz", "has_sig": false, "md5_digest": "7d7f9f3483b436c6d88253abef2e9a90", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 24655, "upload_time": "2019-07-03T10:48:14", "upload_time_iso_8601": "2019-07-03T10:48:14.507376Z", "url": "https://files.pythonhosted.org/packages/ec/5d/da4cae8f3278e5c2d7c0101261e9d114d8855f14a6fc7c506ff789c7222c/zap-2.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:19:52 2020"}
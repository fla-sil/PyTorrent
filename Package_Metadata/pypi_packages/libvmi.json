{"info": {"author": "Mathieu Tarral", "author_email": "mathieu.tarral@protonmail.com", "bugtrack_url": null, "classifiers": [], "description": "# Libvmi Python bindings\n\n[![Join the chat at https://gitter.im/libvmi/python](https://badges.gitter.im/libvmi/python.svg)](https://gitter.im/libvmi/python?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\n[![Build Status](https://travis-ci.org/libvmi/python.svg?branch=master)](https://travis-ci.org/libvmi/python)\n\nIf you'd rather perform introspection using Python instead of C, then these\nbindings will help get you going.\n\nThe bindings are `Python 2` compatible.\n\n## Requirements\n\n- `python3-pkgconfig`\n- `python3-cffi` (`> 1.6.0`)\n- `python3-future`\n- `libvmi`\n\n## Setup\n\n    python setup.py build\n    python setup.py install\n\n## API\n\n### Constructor\n\nThe main class that you need to import is `Libvmi`.\n\nThe default parameters uses `VMI_CONFIG_GLOBAL_FILE_ENTRY` and calls `vmi_init_complete`:\n~~~Python\nfrom libvmi import Libvmi\n\nwith Libvmi(\"Windows_7\") as vmi:\n    os = vmi.get_ostype()\n~~~\n\nYou can specify a `string` (`VMI_CONFIG_STRING`):\n~~~Python\nfrom libvmi import Libvmi, VMIConfig\n\nconfig_str = '{ostype = \"Windows\";win_pdbase=0x28;win_pid=0x180;win_tasks=0x188;win_pname=0x2e0;}'\n\nwith Libvmi(\"Windows_7\", mode=VMIConfig.STRING, config=config_str) as vmi:\n    os = vmi.get_ostype()\n~~~\n\nOr a `dict` (`VMI_CONFIG_GHASHTABLE`):\n~~~Python\nfrom libvmi import Libvmi, VMIConfig\n\nhash = {\n    \"ostype\": \"Windows\",\n    \"win_pdbase\": 0x28,\n    \"win_tasks\": 0x188,\n    \"win_pid\": 0x180,\n    \"win_pname\": 0x2e0,\n}\n\nwith Libvmi(\"Windows_7\", mode=VMIConfig.DICT, config=hash) as vmi:\n    os = vmi.get_ostype()\n~~~\n\nYou can also use a `partial` initialization, which calls `vmi_init`.\n(It doesn't require a configuration):\n~~~Python\nfrom libvmi import Libvmi\n\nwith Libvmi(\"Windows_7\", partial=True) as vmi:\n\n~~~\n\n### Examples\n\n~~~Python\nfrom libvmi import Libvmi, AccessContext, TranslateMechanism\n\nwith Libvmi(\"Windows_7\") as vmi:\n    pshead = vmi.read_addr_ksym(\"PsActiveProcessHead\")\n    name = vmi.get_name()\n    id = vmi.get_vmid()\n    buffer, bytes_read = vmi.read_va(pshead, 4, 16)\n    vmi.write_va(pshead, 4, buffer)\n    ctx = AccessContext(TranslateMechanism.KERNEL_SYMBOL, ksym=\"PsActiveProcessHead\")\n    buffer, bytes_read = vmi.read(ctx, 8)\n~~~\n\n\nNote: The implementation already checks if the return value is `VMI_FAILURE` and\nraises a `LibvmiError` in such case.\n\n\n## Integration\n\n### Volatility\n\nYou can use the\n[`volatlity`](https://github.com/volatilityfoundation/volatility) framework\ndirectly in top of the bindings.\n\n    git clone https://github.com/volatilityfoundation/volatility /tmp\n    cp ./volatility/vmi.py /tmp/volatility/volatility/plugins/addrspaces/\n\nUsage\n\n    python vol.py -l vmi://domain --profile=Win7SP0x64 pslist\n\n### Rekall\n\nThe [`Rekall`](https://github.com/google/rekall) address space is already\nintegrated\n[upstream](https://github.com/google/rekall/blob/master/rekall-core/rekall/plugins/addrspaces/vmi.py).\n\nUsage\n\n    rekall -f vmi://domain pslist\n\n# Contributors\n\n- Bryan D. Payne\n- Mathieu Tarral", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/libvmi/python", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "libvmi", "package_url": "https://pypi.org/project/libvmi/", "platform": "", "project_url": "https://pypi.org/project/libvmi/", "project_urls": {"Homepage": "https://github.com/libvmi/python"}, "release_url": "https://pypi.org/project/libvmi/3.3/", "requires_dist": null, "requires_python": "", "summary": "Python interface to LibVMI", "version": "3.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Libvmi Python bindings</h1>\n<p><a href=\"https://gitter.im/libvmi/python?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge\" rel=\"nofollow\"><img alt=\"Join the chat at https://gitter.im/libvmi/python\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dd61fb86c8835ae26fc8ef50ed74c36c9c5e1ee1/68747470733a2f2f6261646765732e6769747465722e696d2f6c6962766d692f707974686f6e2e737667\"></a>\n<a href=\"https://travis-ci.org/libvmi/python\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/64a89ac8bee60aa590e9e461633afb133d09829a/68747470733a2f2f7472617669732d63692e6f72672f6c6962766d692f707974686f6e2e7376673f6272616e63683d6d6173746572\"></a></p>\n<p>If you'd rather perform introspection using Python instead of C, then these\nbindings will help get you going.</p>\n<p>The bindings are <code>Python 2</code> compatible.</p>\n<h2>Requirements</h2>\n<ul>\n<li><code>python3-pkgconfig</code></li>\n<li><code>python3-cffi</code> (<code>&gt; 1.6.0</code>)</li>\n<li><code>python3-future</code></li>\n<li><code>libvmi</code></li>\n</ul>\n<h2>Setup</h2>\n<pre><code>python setup.py build\npython setup.py install\n</code></pre>\n<h2>API</h2>\n<h3>Constructor</h3>\n<p>The main class that you need to import is <code>Libvmi</code>.</p>\n<p>The default parameters uses <code>VMI_CONFIG_GLOBAL_FILE_ENTRY</code> and calls <code>vmi_init_complete</code>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">libvmi</span> <span class=\"kn\">import</span> <span class=\"n\">Libvmi</span>\n\n<span class=\"k\">with</span> <span class=\"n\">Libvmi</span><span class=\"p\">(</span><span class=\"s2\">\"Windows_7\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">vmi</span><span class=\"p\">:</span>\n    <span class=\"n\">os</span> <span class=\"o\">=</span> <span class=\"n\">vmi</span><span class=\"o\">.</span><span class=\"n\">get_ostype</span><span class=\"p\">()</span>\n</pre>\n<p>You can specify a <code>string</code> (<code>VMI_CONFIG_STRING</code>):</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">libvmi</span> <span class=\"kn\">import</span> <span class=\"n\">Libvmi</span><span class=\"p\">,</span> <span class=\"n\">VMIConfig</span>\n\n<span class=\"n\">config_str</span> <span class=\"o\">=</span> <span class=\"s1\">'{ostype = \"Windows\";win_pdbase=0x28;win_pid=0x180;win_tasks=0x188;win_pname=0x2e0;}'</span>\n\n<span class=\"k\">with</span> <span class=\"n\">Libvmi</span><span class=\"p\">(</span><span class=\"s2\">\"Windows_7\"</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"n\">VMIConfig</span><span class=\"o\">.</span><span class=\"n\">STRING</span><span class=\"p\">,</span> <span class=\"n\">config</span><span class=\"o\">=</span><span class=\"n\">config_str</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">vmi</span><span class=\"p\">:</span>\n    <span class=\"n\">os</span> <span class=\"o\">=</span> <span class=\"n\">vmi</span><span class=\"o\">.</span><span class=\"n\">get_ostype</span><span class=\"p\">()</span>\n</pre>\n<p>Or a <code>dict</code> (<code>VMI_CONFIG_GHASHTABLE</code>):</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">libvmi</span> <span class=\"kn\">import</span> <span class=\"n\">Libvmi</span><span class=\"p\">,</span> <span class=\"n\">VMIConfig</span>\n\n<span class=\"nb\">hash</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"ostype\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Windows\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"win_pdbase\"</span><span class=\"p\">:</span> <span class=\"mh\">0x28</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"win_tasks\"</span><span class=\"p\">:</span> <span class=\"mh\">0x188</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"win_pid\"</span><span class=\"p\">:</span> <span class=\"mh\">0x180</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"win_pname\"</span><span class=\"p\">:</span> <span class=\"mh\">0x2e0</span><span class=\"p\">,</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">with</span> <span class=\"n\">Libvmi</span><span class=\"p\">(</span><span class=\"s2\">\"Windows_7\"</span><span class=\"p\">,</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"n\">VMIConfig</span><span class=\"o\">.</span><span class=\"n\">DICT</span><span class=\"p\">,</span> <span class=\"n\">config</span><span class=\"o\">=</span><span class=\"nb\">hash</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">vmi</span><span class=\"p\">:</span>\n    <span class=\"n\">os</span> <span class=\"o\">=</span> <span class=\"n\">vmi</span><span class=\"o\">.</span><span class=\"n\">get_ostype</span><span class=\"p\">()</span>\n</pre>\n<p>You can also use a <code>partial</code> initialization, which calls <code>vmi_init</code>.\n(It doesn't require a configuration):</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">libvmi</span> <span class=\"kn\">import</span> <span class=\"n\">Libvmi</span>\n\n<span class=\"k\">with</span> <span class=\"n\">Libvmi</span><span class=\"p\">(</span><span class=\"s2\">\"Windows_7\"</span><span class=\"p\">,</span> <span class=\"n\">partial</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">vmi</span><span class=\"p\">:</span>\n</pre>\n<h3>Examples</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">libvmi</span> <span class=\"kn\">import</span> <span class=\"n\">Libvmi</span><span class=\"p\">,</span> <span class=\"n\">AccessContext</span><span class=\"p\">,</span> <span class=\"n\">TranslateMechanism</span>\n\n<span class=\"k\">with</span> <span class=\"n\">Libvmi</span><span class=\"p\">(</span><span class=\"s2\">\"Windows_7\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">vmi</span><span class=\"p\">:</span>\n    <span class=\"n\">pshead</span> <span class=\"o\">=</span> <span class=\"n\">vmi</span><span class=\"o\">.</span><span class=\"n\">read_addr_ksym</span><span class=\"p\">(</span><span class=\"s2\">\"PsActiveProcessHead\"</span><span class=\"p\">)</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">vmi</span><span class=\"o\">.</span><span class=\"n\">get_name</span><span class=\"p\">()</span>\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">vmi</span><span class=\"o\">.</span><span class=\"n\">get_vmid</span><span class=\"p\">()</span>\n    <span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"n\">bytes_read</span> <span class=\"o\">=</span> <span class=\"n\">vmi</span><span class=\"o\">.</span><span class=\"n\">read_va</span><span class=\"p\">(</span><span class=\"n\">pshead</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">16</span><span class=\"p\">)</span>\n    <span class=\"n\">vmi</span><span class=\"o\">.</span><span class=\"n\">write_va</span><span class=\"p\">(</span><span class=\"n\">pshead</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">buffer</span><span class=\"p\">)</span>\n    <span class=\"n\">ctx</span> <span class=\"o\">=</span> <span class=\"n\">AccessContext</span><span class=\"p\">(</span><span class=\"n\">TranslateMechanism</span><span class=\"o\">.</span><span class=\"n\">KERNEL_SYMBOL</span><span class=\"p\">,</span> <span class=\"n\">ksym</span><span class=\"o\">=</span><span class=\"s2\">\"PsActiveProcessHead\"</span><span class=\"p\">)</span>\n    <span class=\"n\">buffer</span><span class=\"p\">,</span> <span class=\"n\">bytes_read</span> <span class=\"o\">=</span> <span class=\"n\">vmi</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"n\">ctx</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">)</span>\n</pre>\n<p>Note: The implementation already checks if the return value is <code>VMI_FAILURE</code> and\nraises a <code>LibvmiError</code> in such case.</p>\n<h2>Integration</h2>\n<h3>Volatility</h3>\n<p>You can use the\n<a href=\"https://github.com/volatilityfoundation/volatility\" rel=\"nofollow\"><code>volatlity</code></a> framework\ndirectly in top of the bindings.</p>\n<pre><code>git clone https://github.com/volatilityfoundation/volatility /tmp\ncp ./volatility/vmi.py /tmp/volatility/volatility/plugins/addrspaces/\n</code></pre>\n<p>Usage</p>\n<pre><code>python vol.py -l vmi://domain --profile=Win7SP0x64 pslist\n</code></pre>\n<h3>Rekall</h3>\n<p>The <a href=\"https://github.com/google/rekall\" rel=\"nofollow\"><code>Rekall</code></a> address space is already\nintegrated\n<a href=\"https://github.com/google/rekall/blob/master/rekall-core/rekall/plugins/addrspaces/vmi.py\" rel=\"nofollow\">upstream</a>.</p>\n<p>Usage</p>\n<pre><code>rekall -f vmi://domain pslist\n</code></pre>\n<h1>Contributors</h1>\n<ul>\n<li>Bryan D. Payne</li>\n<li>Mathieu Tarral</li>\n</ul>\n\n          </div>"}, "last_serial": 4744368, "releases": {"3.2": [{"comment_text": "", "digests": {"md5": "211c49f9318790c1be4005dd00bd67f9", "sha256": "7fb975d40ba83f1d18eb8c14ecd0e048da4990dda5fb1e2b522b49a51e62c8c1"}, "downloads": -1, "filename": "libvmi-3.2.tar.gz", "has_sig": false, "md5_digest": "211c49f9318790c1be4005dd00bd67f9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15254, "upload_time": "2018-06-06T10:06:47", "upload_time_iso_8601": "2018-06-06T10:06:47.258368Z", "url": "https://files.pythonhosted.org/packages/f0/e2/ee8623ed9a7f1f6a8addad0f98860e71ca8979774f275d36249ec49f7fcb/libvmi-3.2.tar.gz", "yanked": false}], "3.2.1": [{"comment_text": "", "digests": {"md5": "3ce9ca202ec5f1e4f720f1b96a635501", "sha256": "06ce71f6c804f3399d53ee03b7e7eef06855f957d994d53f09b4877409357ff6"}, "downloads": -1, "filename": "libvmi-3.2.1.tar.gz", "has_sig": false, "md5_digest": "3ce9ca202ec5f1e4f720f1b96a635501", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15283, "upload_time": "2018-06-06T10:44:47", "upload_time_iso_8601": "2018-06-06T10:44:47.035281Z", "url": "https://files.pythonhosted.org/packages/96/3b/15c1741d64fa520daad914089e58a6d3cee76475e32fe3ba13bc9f5046b7/libvmi-3.2.1.tar.gz", "yanked": false}], "3.2.3": [{"comment_text": "", "digests": {"md5": "0a996d969f5ce7a618aa7bca75e8de21", "sha256": "97d5150d12d26ae9553a77f9abf45426844de341c63c06edd5a073dd6d7cfcb4"}, "downloads": -1, "filename": "libvmi-3.2.3.tar.gz", "has_sig": false, "md5_digest": "0a996d969f5ce7a618aa7bca75e8de21", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15322, "upload_time": "2018-11-13T00:49:35", "upload_time_iso_8601": "2018-11-13T00:49:35.332896Z", "url": "https://files.pythonhosted.org/packages/9c/c0/85a2b37a0e6af21b0d79c851d63217e81dc759faf57564b2a9bb18b7c613/libvmi-3.2.3.tar.gz", "yanked": false}], "3.3": [{"comment_text": "", "digests": {"md5": "fceebdd338d6cec683419cf85d933cb4", "sha256": "6f5bae5e612b016dbcf178d3252b6af4159666b926184097e9ec2a4478366f74"}, "downloads": -1, "filename": "libvmi-3.3.tar.gz", "has_sig": false, "md5_digest": "fceebdd338d6cec683419cf85d933cb4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16161, "upload_time": "2019-01-26T19:51:21", "upload_time_iso_8601": "2019-01-26T19:51:21.222171Z", "url": "https://files.pythonhosted.org/packages/a5/8f/d0212b289927732e6e902bee1e7f9450a9fe8db325c91df8663bdc46db44/libvmi-3.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "fceebdd338d6cec683419cf85d933cb4", "sha256": "6f5bae5e612b016dbcf178d3252b6af4159666b926184097e9ec2a4478366f74"}, "downloads": -1, "filename": "libvmi-3.3.tar.gz", "has_sig": false, "md5_digest": "fceebdd338d6cec683419cf85d933cb4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16161, "upload_time": "2019-01-26T19:51:21", "upload_time_iso_8601": "2019-01-26T19:51:21.222171Z", "url": "https://files.pythonhosted.org/packages/a5/8f/d0212b289927732e6e902bee1e7f9450a9fe8db325c91df8663bdc46db44/libvmi-3.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:46:13 2020"}
{"info": {"author": "Camptocamp,ACSONE SA/NV,Odoo Community Association (OCA)", "author_email": "support@odoo-community.org", "bugtrack_url": null, "classifiers": ["Development Status :: 6 - Mature", "Framework :: Odoo", "License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)", "Programming Language :: Python"], "description": "=========\nJob Queue\n=========\n\n.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n   !! This file is generated by oca-gen-addon-readme !!\n   !! changes will be overwritten.                   !!\n   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n.. |badge1| image:: https://img.shields.io/badge/maturity-Mature-brightgreen.png\n    :target: https://odoo-community.org/page/development-status\n    :alt: Mature\n.. |badge2| image:: https://img.shields.io/badge/licence-LGPL--3-blue.png\n    :target: http://www.gnu.org/licenses/lgpl-3.0-standalone.html\n    :alt: License: LGPL-3\n.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fqueue-lightgray.png?logo=github\n    :target: https://github.com/OCA/queue/tree/13.0/queue_job\n    :alt: OCA/queue\n.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png\n    :target: https://translation.odoo-community.org/projects/queue-13-0/queue-13-0-queue_job\n    :alt: Translate me on Weblate\n.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png\n    :target: https://runbot.odoo-community.org/runbot/230/13.0\n    :alt: Try me on Runbot\n\n|badge1| |badge2| |badge3| |badge4| |badge5| \n\nThis addon adds an integrated Job Queue to Odoo.\n\nIt allows to postpone method calls executed asynchronously.\n\nJobs are executed in the background by a ``Jobrunner``, in their own transaction.\n\nExample:\n\n.. code-block:: python\n\n  from odoo import models, fields, api\n  from odoo.addons.queue_job.job import job\n\n  class MyModel(models.Model):\n     _name = 'my.model'\n\n     @job\n     def my_method(self, a, k=None):\n         _logger.info('executed with a: %s and k: %s', a, k)\n\n\n  class MyOtherModel(models.Model):\n      _name = 'my.other.model'\n\n      def button_do_stuff(self):\n          self.env['my.model'].with_delay().my_method('a', k=2)\n\n\nIn the snippet of code above, when we call ``button_do_stuff``, a job capturing\nthe method and arguments will be postponed.  It will be executed as soon as the\nJobrunner has a free bucket, which can be instantaneous if no other job is\nrunning.\n\n\nFeatures:\n\n* Views for jobs, jobs are stored in PostgreSQL\n* Jobrunner: execute the jobs, highly efficient thanks to PostgreSQL's NOTIFY\n* Channels: give a capacity for the root channel and its sub-channels and\n  segregate jobs in them. Allow for instance to restrict heavy jobs to be\n  executed one at a time while little ones are executed 4 at a times.\n* Retries: Ability to retry jobs by raising a type of exception\n* Retry Pattern: the 3 first tries, retry after 10 seconds, the 5 next tries,\n  retry after 1 minutes, ...\n* Job properties: priorities, estimated time of arrival (ETA), custom\n  description, number of retries\n* Related Actions: link an action on the job view, such as open the record\n  concerned by the job\n\n**Table of contents**\n\n.. contents::\n   :local:\n\nInstallation\n============\n\nBe sure to have the ``requests`` library.\n\nConfiguration\n=============\n\n* Using environment variables and command line:\n\n  * Adjust environment variables (optional):\n\n    - ``ODOO_QUEUE_JOB_CHANNELS=root:4`` or any other channels configuration.\n      The default is ``root:1``\n\n    - if ``xmlrpc_port`` is not set: ``ODOO_QUEUE_JOB_PORT=8069``\n\n  * Start Odoo with ``--load=web,queue_job``\n    and ``--workers`` greater than 1. [1]_\n\n\n* Using the Odoo configuration file:\n\n.. code-block:: ini\n\n  [options]\n  (...)\n  workers = 6\n  server_wide_modules = web,queue_job\n\n  (...)\n  [queue_job]\n  channels = root:2\n\n* Confirm the runner is starting correctly by checking the odoo log file:\n\n.. code-block::\n\n  ...INFO...queue_job.jobrunner.runner: starting\n  ...INFO...queue_job.jobrunner.runner: initializing database connections\n  ...INFO...queue_job.jobrunner.runner: queue job runner ready for db <dbname>\n  ...INFO...queue_job.jobrunner.runner: database connections ready\n\n* Create jobs (eg using ``base_import_async``) and observe they\n  start immediately and in parallel.\n\n* Tip: to enable debug logging for the queue job, use\n  ``--log-handler=odoo.addons.queue_job:DEBUG``\n\n.. [1] It works with the threaded Odoo server too, although this way\n       of running Odoo is obviously not for production purposes.\n\nUsage\n=====\n\nTo use this module, you need to:\n\n#. Go to ``Job Queue`` menu\n\nDevelopers\n~~~~~~~~~~\n\n**Bypass jobs on running Odoo**\n\nWhen you are developing (ie: connector modules) you might want\nto bypass the queue job and run your code immediately.\n\nTo do so you can set `TEST_QUEUE_JOB_NO_DELAY=1` in your enviroment.\n\n**Bypass jobs in tests**\n\nWhen writing tests on job-related methods is always tricky to deal with\ndelayed recordsets. To make your testing life easier\nyou can set `test_queue_job_no_delay=True` in the context.\n\nTip: you can do this at test case level like this\n\n.. code-block:: python\n\n    @classmethod\n    def setUpClass(cls):\n        super().setUpClass()\n        cls.env = cls.env(context=dict(\n            cls.env.context,\n            test_queue_job_no_delay=True,  # no jobs thanks\n        ))\n\nThen all your tests execute the job methods synchronously\nwithout delaying any jobs.\n\nKnown issues / Roadmap\n======================\n\n* After creating a new database or installing ``queue_job`` on an\n  existing database, Odoo must be restarted for the runner to detect it.\n\n* When Odoo shuts down normally, it waits for running jobs to finish.\n  However, when the Odoo server crashes or is otherwise force-stopped,\n  running jobs are interrupted while the runner has no chance to know\n  they have been aborted. In such situations, jobs may remain in\n  ``started`` or ``enqueued`` state after the Odoo server is halted.\n  Since the runner has no way to know if they are actually running or\n  not, and does not know for sure if it is safe to restart the jobs,\n  it does not attempt to restart them automatically. Such stale jobs\n  therefore fill the running queue and prevent other jobs to start.\n  You must therefore requeue them manually, either from the Jobs view,\n  or by running the following SQL statement *before starting Odoo*:\n\n.. code-block:: sql\n\n  update queue_job set state='pending' where state in ('started', 'enqueued')\n\nChangelog\n=========\n\n.. [ The change log. The goal of this file is to help readers\n    understand changes between version. The primary audience is\n    end users and integrators. Purely technical changes such as\n    code refactoring must not be mentioned here.\n\n    This file may contain ONE level of section titles, underlined\n    with the ~ (tilde) character. Other section markers are\n    forbidden and will likely break the structure of the README.rst\n    or other documents where this fragment is included. ]\n\nNext\n~~~~\n\n\n13.0.1.2.0 (2020-03-10)\n~~~~~~~~~~~~~~~~~~~~~~~\n\n* Fix Multi-company access rules\n\n\n13.0.1.1.0 (2019-11-01)\n~~~~~~~~~~~~~~~~~~~~~~~\n\nImportant: the license has been changed from AGPL3 to LGPL3.\n\n* Remove deprecated default company method\n  (details on `#180 <https://github.com/OCA/queue/pull/180>`_)\n\n\n13.0.1.0.0 (2019-10-14)\n~~~~~~~~~~~~~~~~~~~~~~~\n\n* [MIGRATION] from 12.0 branched at rev. 0138cd0\n\nBug Tracker\n===========\n\nBugs are tracked on `GitHub Issues <https://github.com/OCA/queue/issues>`_.\nIn case of trouble, please check there if your issue has already been reported.\nIf you spotted it first, help us smashing it by providing a detailed and welcomed\n`feedback <https://github.com/OCA/queue/issues/new?body=module:%20queue_job%0Aversion:%2013.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.\n\nDo not contact contributors directly about support or help with technical issues.\n\nCredits\n=======\n\nAuthors\n~~~~~~~\n\n* Camptocamp\n* ACSONE SA/NV\n\nContributors\n~~~~~~~~~~~~\n\n* Guewen Baconnier <guewen.baconnier@camptocamp.com>\n* St\u00e9phane Bidoul <stephane.bidoul@acsone.eu>\n* Matthieu Dietrich <matthieu.dietrich@camptocamp.com>\n* Jos De Graeve <Jos.DeGraeve@apertoso.be>\n* David Lefever <dl@taktik.be>\n* Laurent Mignon <laurent.mignon@acsone.eu>\n* Laetitia Gangloff <laetitia.gangloff@acsone.eu>\n* C\u00e9dric Pigeon <cedric.pigeon@acsone.eu>\n* Tatiana Deribina <tatiana.deribina@avoin.systems>\n\nMaintainers\n~~~~~~~~~~~\n\nThis module is maintained by the OCA.\n\n.. image:: https://odoo-community.org/logo.png\n   :alt: Odoo Community Association\n   :target: https://odoo-community.org\n\nOCA, or the Odoo Community Association, is a nonprofit organization whose\nmission is to support the collaborative development of Odoo features and\npromote its widespread use.\n\n.. |maintainer-guewen| image:: https://github.com/guewen.png?size=40px\n    :target: https://github.com/guewen\n    :alt: guewen\n\nCurrent `maintainer <https://odoo-community.org/page/maintainer-role>`__:\n\n|maintainer-guewen| \n\nThis module is part of the `OCA/queue <https://github.com/OCA/queue/tree/13.0/queue_job>`_ project on GitHub.\n\nYou are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/OCA/queue/queue_job", "keywords": "", "license": "LGPL-3", "maintainer": "", "maintainer_email": "", "name": "odoo13-addon-queue-job", "package_url": "https://pypi.org/project/odoo13-addon-queue-job/", "platform": "", "project_url": "https://pypi.org/project/odoo13-addon-queue-job/", "project_urls": {"Homepage": "https://github.com/OCA/queue/queue_job"}, "release_url": "https://pypi.org/project/odoo13-addon-queue-job/13.0.1.2.1.dev3/", "requires_dist": ["odoo (<13.1dev,>=13.0a)", "requests"], "requires_python": ">=3.5", "summary": "Job Queue", "version": "13.0.1.2.1.dev3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://odoo-community.org/page/development-status\" rel=\"nofollow\"><img alt=\"Mature\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8ac56ff8aa885606a1c4e959a2e48a7c030dcdd1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6d617475726974792d4d61747572652d627269676874677265656e2e706e67\"></a> <a href=\"http://www.gnu.org/licenses/lgpl-3.0-standalone.html\" rel=\"nofollow\"><img alt=\"License: LGPL-3\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4160c3ec333d50e105c6b89ce97121528540c5e1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e63652d4c47504c2d2d332d626c75652e706e67\"></a> <a href=\"https://github.com/OCA/queue/tree/13.0/queue_job\" rel=\"nofollow\"><img alt=\"OCA/queue\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d88ad74eeebb81132b2952fb8f25439c7a48d3bf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769746875622d4f434125324671756575652d6c69676874677261792e706e673f6c6f676f3d676974687562\"></a> <a href=\"https://translation.odoo-community.org/projects/queue-13-0/queue-13-0-queue_job\" rel=\"nofollow\"><img alt=\"Translate me on Weblate\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c635db5d64b125cbcaa3924ccc0bc5a537d514d5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f7765626c6174652d5472616e736c6174652532306d652d4634374434322e706e67\"></a> <a href=\"https://runbot.odoo-community.org/runbot/230/13.0\" rel=\"nofollow\"><img alt=\"Try me on Runbot\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2c838644982a81b103c63e731d11fb9d6e46a465/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f72756e626f742d5472792532306d652d3837354137422e706e67\"></a></p>\n<p>This addon adds an integrated Job Queue to Odoo.</p>\n<p>It allows to postpone method calls executed asynchronously.</p>\n<p>Jobs are executed in the background by a <tt>Jobrunner</tt>, in their own transaction.</p>\n<p>Example:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">odoo</span> <span class=\"kn\">import</span> <span class=\"n\">models</span><span class=\"p\">,</span> <span class=\"n\">fields</span><span class=\"p\">,</span> <span class=\"n\">api</span>\n<span class=\"kn\">from</span> <span class=\"nn\">odoo.addons.queue_job.job</span> <span class=\"kn\">import</span> <span class=\"n\">job</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MyModel</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n   <span class=\"n\">_name</span> <span class=\"o\">=</span> <span class=\"s1\">'my.model'</span>\n\n   <span class=\"nd\">@job</span>\n   <span class=\"k\">def</span> <span class=\"nf\">my_method</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">k</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n       <span class=\"n\">_logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">'executed with a: </span><span class=\"si\">%s</span><span class=\"s1\"> and k: </span><span class=\"si\">%s</span><span class=\"s1\">'</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">k</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">MyOtherModel</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">_name</span> <span class=\"o\">=</span> <span class=\"s1\">'my.other.model'</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">button_do_stuff</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">env</span><span class=\"p\">[</span><span class=\"s1\">'my.model'</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">with_delay</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">my_method</span><span class=\"p\">(</span><span class=\"s1\">'a'</span><span class=\"p\">,</span> <span class=\"n\">k</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n</pre>\n<p>In the snippet of code above, when we call <tt>button_do_stuff</tt>, a job capturing\nthe method and arguments will be postponed.  It will be executed as soon as the\nJobrunner has a free bucket, which can be instantaneous if no other job is\nrunning.</p>\n<p>Features:</p>\n<ul>\n<li>Views for jobs, jobs are stored in PostgreSQL</li>\n<li>Jobrunner: execute the jobs, highly efficient thanks to PostgreSQL\u2019s NOTIFY</li>\n<li>Channels: give a capacity for the root channel and its sub-channels and\nsegregate jobs in them. Allow for instance to restrict heavy jobs to be\nexecuted one at a time while little ones are executed 4 at a times.</li>\n<li>Retries: Ability to retry jobs by raising a type of exception</li>\n<li>Retry Pattern: the 3 first tries, retry after 10 seconds, the 5 next tries,\nretry after 1 minutes, \u2026</li>\n<li>Job properties: priorities, estimated time of arrival (ETA), custom\ndescription, number of retries</li>\n<li>Related Actions: link an action on the job view, such as open the record\nconcerned by the job</li>\n</ul>\n<p><strong>Table of contents</strong></p>\n<div id=\"contents\">\n<ul>\n<li><a href=\"#installation\" id=\"id7\" rel=\"nofollow\">Installation</a></li>\n<li><a href=\"#configuration\" id=\"id8\" rel=\"nofollow\">Configuration</a></li>\n<li><a href=\"#usage\" id=\"id9\" rel=\"nofollow\">Usage</a><ul>\n<li><a href=\"#developers\" id=\"id10\" rel=\"nofollow\">Developers</a></li>\n</ul>\n</li>\n<li><a href=\"#known-issues-roadmap\" id=\"id11\" rel=\"nofollow\">Known issues / Roadmap</a></li>\n<li><a href=\"#changelog\" id=\"id12\" rel=\"nofollow\">Changelog</a><ul>\n<li><a href=\"#next\" id=\"id13\" rel=\"nofollow\">Next</a></li>\n<li><a href=\"#id3\" id=\"id14\" rel=\"nofollow\">13.0.1.2.0 (2020-03-10)</a></li>\n<li><a href=\"#id4\" id=\"id15\" rel=\"nofollow\">13.0.1.1.0 (2019-11-01)</a></li>\n<li><a href=\"#id6\" id=\"id16\" rel=\"nofollow\">13.0.1.0.0 (2019-10-14)</a></li>\n</ul>\n</li>\n<li><a href=\"#bug-tracker\" id=\"id17\" rel=\"nofollow\">Bug Tracker</a></li>\n<li><a href=\"#credits\" id=\"id18\" rel=\"nofollow\">Credits</a><ul>\n<li><a href=\"#authors\" id=\"id19\" rel=\"nofollow\">Authors</a></li>\n<li><a href=\"#contributors\" id=\"id20\" rel=\"nofollow\">Contributors</a></li>\n<li><a href=\"#maintainers\" id=\"id21\" rel=\"nofollow\">Maintainers</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<div id=\"installation\">\n<h2><a href=\"#id7\" rel=\"nofollow\">Installation</a></h2>\n<p>Be sure to have the <tt>requests</tt> library.</p>\n</div>\n<div id=\"configuration\">\n<h2><a href=\"#id8\" rel=\"nofollow\">Configuration</a></h2>\n<ul>\n<li>Using environment variables and command line:<ul>\n<li>Adjust environment variables (optional):<ul>\n<li><tt>ODOO_QUEUE_JOB_CHANNELS=root:4</tt> or any other channels configuration.\nThe default is <tt>root:1</tt></li>\n<li>if <tt>xmlrpc_port</tt> is not set: <tt>ODOO_QUEUE_JOB_PORT=8069</tt></li>\n</ul>\n</li>\n<li>Start Odoo with <tt><span class=\"pre\">--load=web,queue_job</span></tt>\nand <tt><span class=\"pre\">--workers</span></tt> greater than 1. <a href=\"#id2\" id=\"id1\" rel=\"nofollow\">[1]</a></li>\n</ul>\n</li>\n<li>Using the Odoo configuration file:</li>\n</ul>\n<pre><span class=\"k\">[options]</span>\n<span class=\"na\">(...)</span>\n<span class=\"na\">workers</span> <span class=\"o\">=</span> <span class=\"s\">6</span>\n<span class=\"na\">server_wide_modules</span> <span class=\"o\">=</span> <span class=\"s\">web,queue_job</span>\n\n<span class=\"na\">(...)</span>\n<span class=\"k\">[queue_job]</span>\n<span class=\"na\">channels</span> <span class=\"o\">=</span> <span class=\"s\">root:2</span>\n</pre>\n<ul>\n<li>Confirm the runner is starting correctly by checking the odoo log file:</li>\n</ul>\n<pre>...INFO...queue_job.jobrunner.runner: starting\n...INFO...queue_job.jobrunner.runner: initializing database connections\n...INFO...queue_job.jobrunner.runner: queue job runner ready for db &lt;dbname&gt;\n...INFO...queue_job.jobrunner.runner: database connections ready\n</pre>\n<ul>\n<li>Create jobs (eg using <tt>base_import_async</tt>) and observe they\nstart immediately and in parallel.</li>\n<li>Tip: to enable debug logging for the queue job, use\n<tt><span class=\"pre\">--log-handler=odoo.addons.queue_job:DEBUG</span></tt></li>\n</ul>\n<table id=\"id2\">\n<col><col>\n<tbody>\n<tr><td><a href=\"#id1\" rel=\"nofollow\">[1]</a></td><td>It works with the threaded Odoo server too, although this way\nof running Odoo is obviously not for production purposes.</td></tr>\n</tbody>\n</table>\n</div>\n<div id=\"usage\">\n<h2><a href=\"#id9\" rel=\"nofollow\">Usage</a></h2>\n<p>To use this module, you need to:</p>\n<ol>\n<li>Go to <tt>Job Queue</tt> menu</li>\n</ol>\n<div id=\"developers\">\n<h3><a href=\"#id10\" rel=\"nofollow\">Developers</a></h3>\n<p><strong>Bypass jobs on running Odoo</strong></p>\n<p>When you are developing (ie: connector modules) you might want\nto bypass the queue job and run your code immediately.</p>\n<p>To do so you can set <cite>TEST_QUEUE_JOB_NO_DELAY=1</cite> in your enviroment.</p>\n<p><strong>Bypass jobs in tests</strong></p>\n<p>When writing tests on job-related methods is always tricky to deal with\ndelayed recordsets. To make your testing life easier\nyou can set <cite>test_queue_job_no_delay=True</cite> in the context.</p>\n<p>Tip: you can do this at test case level like this</p>\n<pre><span class=\"nd\">@classmethod</span>\n<span class=\"k\">def</span> <span class=\"nf\">setUpClass</span><span class=\"p\">(</span><span class=\"bp\">cls</span><span class=\"p\">):</span>\n    <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">setUpClass</span><span class=\"p\">()</span>\n    <span class=\"bp\">cls</span><span class=\"o\">.</span><span class=\"n\">env</span> <span class=\"o\">=</span> <span class=\"bp\">cls</span><span class=\"o\">.</span><span class=\"n\">env</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"o\">=</span><span class=\"nb\">dict</span><span class=\"p\">(</span>\n        <span class=\"bp\">cls</span><span class=\"o\">.</span><span class=\"n\">env</span><span class=\"o\">.</span><span class=\"n\">context</span><span class=\"p\">,</span>\n        <span class=\"n\">test_queue_job_no_delay</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>  <span class=\"c1\"># no jobs thanks</span>\n    <span class=\"p\">))</span>\n</pre>\n<p>Then all your tests execute the job methods synchronously\nwithout delaying any jobs.</p>\n</div>\n</div>\n<div id=\"known-issues-roadmap\">\n<h2><a href=\"#id11\" rel=\"nofollow\">Known issues / Roadmap</a></h2>\n<ul>\n<li>After creating a new database or installing <tt>queue_job</tt> on an\nexisting database, Odoo must be restarted for the runner to detect it.</li>\n<li>When Odoo shuts down normally, it waits for running jobs to finish.\nHowever, when the Odoo server crashes or is otherwise force-stopped,\nrunning jobs are interrupted while the runner has no chance to know\nthey have been aborted. In such situations, jobs may remain in\n<tt>started</tt> or <tt>enqueued</tt> state after the Odoo server is halted.\nSince the runner has no way to know if they are actually running or\nnot, and does not know for sure if it is safe to restart the jobs,\nit does not attempt to restart them automatically. Such stale jobs\ntherefore fill the running queue and prevent other jobs to start.\nYou must therefore requeue them manually, either from the Jobs view,\nor by running the following SQL statement <em>before starting Odoo</em>:</li>\n</ul>\n<pre><span class=\"k\">update</span> <span class=\"n\">queue_job</span> <span class=\"k\">set</span> <span class=\"k\">state</span><span class=\"o\">=</span><span class=\"s1\">'pending'</span> <span class=\"k\">where</span> <span class=\"k\">state</span> <span class=\"k\">in</span> <span class=\"p\">(</span><span class=\"s1\">'started'</span><span class=\"p\">,</span> <span class=\"s1\">'enqueued'</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"changelog\">\n<h2><a href=\"#id12\" rel=\"nofollow\">Changelog</a></h2>\n<div id=\"next\">\n<h3><a href=\"#id13\" rel=\"nofollow\">Next</a></h3>\n</div>\n<div id=\"id3\">\n<h3><a href=\"#id14\" rel=\"nofollow\">13.0.1.2.0 (2020-03-10)</a></h3>\n<ul>\n<li>Fix Multi-company access rules</li>\n</ul>\n</div>\n<div id=\"id4\">\n<h3><a href=\"#id15\" rel=\"nofollow\">13.0.1.1.0 (2019-11-01)</a></h3>\n<p>Important: the license has been changed from AGPL3 to LGPL3.</p>\n<ul>\n<li>Remove deprecated default company method\n(details on <a href=\"https://github.com/OCA/queue/pull/180\" rel=\"nofollow\">#180</a>)</li>\n</ul>\n</div>\n<div id=\"id6\">\n<h3><a href=\"#id16\" rel=\"nofollow\">13.0.1.0.0 (2019-10-14)</a></h3>\n<ul>\n<li>[MIGRATION] from 12.0 branched at rev. 0138cd0</li>\n</ul>\n</div>\n</div>\n<div id=\"bug-tracker\">\n<h2><a href=\"#id17\" rel=\"nofollow\">Bug Tracker</a></h2>\n<p>Bugs are tracked on <a href=\"https://github.com/OCA/queue/issues\" rel=\"nofollow\">GitHub Issues</a>.\nIn case of trouble, please check there if your issue has already been reported.\nIf you spotted it first, help us smashing it by providing a detailed and welcomed\n<a href=\"https://github.com/OCA/queue/issues/new?body=module:%20queue_job%0Aversion:%2013.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**\" rel=\"nofollow\">feedback</a>.</p>\n<p>Do not contact contributors directly about support or help with technical issues.</p>\n</div>\n<div id=\"credits\">\n<h2><a href=\"#id18\" rel=\"nofollow\">Credits</a></h2>\n<div id=\"authors\">\n<h3><a href=\"#id19\" rel=\"nofollow\">Authors</a></h3>\n<ul>\n<li>Camptocamp</li>\n<li>ACSONE SA/NV</li>\n</ul>\n</div>\n<div id=\"contributors\">\n<h3><a href=\"#id20\" rel=\"nofollow\">Contributors</a></h3>\n<ul>\n<li>Guewen Baconnier &lt;<a href=\"mailto:guewen.baconnier%40camptocamp.com\">guewen<span>.</span>baconnier<span>@</span>camptocamp<span>.</span>com</a>&gt;</li>\n<li>St\u00e9phane Bidoul &lt;<a href=\"mailto:stephane.bidoul%40acsone.eu\">stephane<span>.</span>bidoul<span>@</span>acsone<span>.</span>eu</a>&gt;</li>\n<li>Matthieu Dietrich &lt;<a href=\"mailto:matthieu.dietrich%40camptocamp.com\">matthieu<span>.</span>dietrich<span>@</span>camptocamp<span>.</span>com</a>&gt;</li>\n<li>Jos De Graeve &lt;<a href=\"mailto:Jos.DeGraeve%40apertoso.be\">Jos<span>.</span>DeGraeve<span>@</span>apertoso<span>.</span>be</a>&gt;</li>\n<li>David Lefever &lt;<a href=\"mailto:dl%40taktik.be\">dl<span>@</span>taktik<span>.</span>be</a>&gt;</li>\n<li>Laurent Mignon &lt;<a href=\"mailto:laurent.mignon%40acsone.eu\">laurent<span>.</span>mignon<span>@</span>acsone<span>.</span>eu</a>&gt;</li>\n<li>Laetitia Gangloff &lt;<a href=\"mailto:laetitia.gangloff%40acsone.eu\">laetitia<span>.</span>gangloff<span>@</span>acsone<span>.</span>eu</a>&gt;</li>\n<li>C\u00e9dric Pigeon &lt;<a href=\"mailto:cedric.pigeon%40acsone.eu\">cedric<span>.</span>pigeon<span>@</span>acsone<span>.</span>eu</a>&gt;</li>\n<li>Tatiana Deribina &lt;<a href=\"mailto:tatiana.deribina%40avoin.systems\">tatiana<span>.</span>deribina<span>@</span>avoin<span>.</span>systems</a>&gt;</li>\n</ul>\n</div>\n<div id=\"maintainers\">\n<h3><a href=\"#id21\" rel=\"nofollow\">Maintainers</a></h3>\n<p>This module is maintained by the OCA.</p>\n<a href=\"https://odoo-community.org\" rel=\"nofollow\"><img alt=\"Odoo Community Association\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fead5bf585dfb174a18c49640c17a861db11f5e2/68747470733a2f2f6f646f6f2d636f6d6d756e6974792e6f72672f6c6f676f2e706e67\"></a>\n<p>OCA, or the Odoo Community Association, is a nonprofit organization whose\nmission is to support the collaborative development of Odoo features and\npromote its widespread use.</p>\n<p>Current <a href=\"https://odoo-community.org/page/maintainer-role\" rel=\"nofollow\">maintainer</a>:</p>\n<p><a href=\"https://github.com/guewen\" rel=\"nofollow\"><img alt=\"guewen\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d38b018b254edfc9a611108cabdc84ec498c3274/68747470733a2f2f6769746875622e636f6d2f67756577656e2e706e673f73697a653d34307078\"></a></p>\n<p>This module is part of the <a href=\"https://github.com/OCA/queue/tree/13.0/queue_job\" rel=\"nofollow\">OCA/queue</a> project on GitHub.</p>\n<p>You are welcome to contribute. To learn how please visit <a href=\"https://odoo-community.org/page/Contribute\" rel=\"nofollow\">https://odoo-community.org/page/Contribute</a>.</p>\n</div>\n</div>\n\n          </div>"}, "last_serial": 7037614, "releases": {"13.0.1.0.1.dev6": [{"comment_text": "", "digests": {"md5": "214d82c97529c178ebe6b638d573b231", "sha256": "9d7563e68dd4c873aa7cf5aac2d7d97f761a75e1c4307e0388989f2fed01ac0d"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.0.1.dev6-py3-none-any.whl", "has_sig": false, "md5_digest": "214d82c97529c178ebe6b638d573b231", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 76329, "upload_time": "2019-10-17T05:19:31", "upload_time_iso_8601": "2019-10-17T05:19:31.605951Z", "url": "https://files.pythonhosted.org/packages/1f/c4/997d1b332c7ddb8262a33ecde03820158fa7f6d20f9b5941d52d7fdb5fbc/odoo13_addon_queue_job-13.0.1.0.1.dev6-py3-none-any.whl", "yanked": false}], "13.0.1.0.1.dev7": [{"comment_text": "", "digests": {"md5": "eaef0e2d0f5e6ed1b2f51597787e7bbf", "sha256": "b0988e85b5a508c3bbd35b2cbbc9fc41de95e301fa2b3b959a6ef8ee5f0cc3c5"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.0.1.dev7-py3-none-any.whl", "has_sig": false, "md5_digest": "eaef0e2d0f5e6ed1b2f51597787e7bbf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 76284, "upload_time": "2019-10-19T05:19:29", "upload_time_iso_8601": "2019-10-19T05:19:29.174772Z", "url": "https://files.pythonhosted.org/packages/c4/46/b2d80cba9be72d4ddfe210920c81ddde5ea65d68c27c411137a288a97229/odoo13_addon_queue_job-13.0.1.0.1.dev7-py3-none-any.whl", "yanked": false}], "13.0.1.1.1.dev1": [{"comment_text": "", "digests": {"md5": "c0e7ab9365a837113eb9920943946b48", "sha256": "069de0dea713b7ffbe41c4cafb27cff854f9b900a785ad0859e31b78604867f9"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.1.1.dev1-py3-none-any.whl", "has_sig": false, "md5_digest": "c0e7ab9365a837113eb9920943946b48", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 76705, "upload_time": "2019-11-02T06:18:41", "upload_time_iso_8601": "2019-11-02T06:18:41.923184Z", "url": "https://files.pythonhosted.org/packages/85/14/d5f3f72482215c41969db01c0585820a70ea477d015dd618a24ff31b5a6d/odoo13_addon_queue_job-13.0.1.1.1.dev1-py3-none-any.whl", "yanked": false}], "13.0.1.1.1.dev10": [{"comment_text": "", "digests": {"md5": "0402e340b60149c8ccde0b9f010dba89", "sha256": "fbd1f911a4b413d3b8e17b0d3683a2c8ccd0b9c92ad4b000ba1a1fd603e8c793"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.1.1.dev10-py3-none-any.whl", "has_sig": false, "md5_digest": "0402e340b60149c8ccde0b9f010dba89", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 77462, "upload_time": "2020-03-08T06:29:35", "upload_time_iso_8601": "2020-03-08T06:29:35.448567Z", "url": "https://files.pythonhosted.org/packages/30/7b/f414bffbba46de5131c8cec547a0bfe67b360a2f932f15f516a24d8f86a9/odoo13_addon_queue_job-13.0.1.1.1.dev10-py3-none-any.whl", "yanked": false}], "13.0.1.1.1.dev11": [{"comment_text": "", "digests": {"md5": "4042c83adb957221a31d4ea34a86b3c0", "sha256": "c6e7164644e76ba20bb32a3c725794702d234dde5bf5c894cb69c583ed3ea572"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.1.1.dev11-py3-none-any.whl", "has_sig": false, "md5_digest": "4042c83adb957221a31d4ea34a86b3c0", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 77457, "upload_time": "2020-03-24T06:32:09", "upload_time_iso_8601": "2020-03-24T06:32:09.799950Z", "url": "https://files.pythonhosted.org/packages/d9/9d/b29674766a6f9f49d42bfa2eb6256a40120c91ce42d50c5e72c396d42f25/odoo13_addon_queue_job-13.0.1.1.1.dev11-py3-none-any.whl", "yanked": false}], "13.0.1.1.1.dev12": [{"comment_text": "", "digests": {"md5": "25ef85e497533c4f92be213b158297b4", "sha256": "ad34248c82cd8770b2b1bf0f8f7327099ae0ba785979eae67ac0660dd57bfb1b"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.1.1.dev12-py3-none-any.whl", "has_sig": false, "md5_digest": "25ef85e497533c4f92be213b158297b4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 77894, "upload_time": "2020-03-27T06:32:14", "upload_time_iso_8601": "2020-03-27T06:32:14.882183Z", "url": "https://files.pythonhosted.org/packages/cb/83/c3ec8b65be9fa0f3e6ee2fb0ac4e3074c28d9346a983532cc94fcf4731d1/odoo13_addon_queue_job-13.0.1.1.1.dev12-py3-none-any.whl", "yanked": false}], "13.0.1.1.1.dev13": [{"comment_text": "", "digests": {"md5": "2ee73632b41b51b3b854364a45ef10fa", "sha256": "7ba02533203d93f283214fdca5cb1aa9f3a7716119a8b763e73e435dedc11f54"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.1.1.dev13-py3-none-any.whl", "has_sig": false, "md5_digest": "2ee73632b41b51b3b854364a45ef10fa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 77898, "upload_time": "2020-03-30T05:29:47", "upload_time_iso_8601": "2020-03-30T05:29:47.308143Z", "url": "https://files.pythonhosted.org/packages/f6/0f/fdbdf8f83a95db3fb1114fe8e28541e1a7dd5d184ebe745767c81fce0a9f/odoo13_addon_queue_job-13.0.1.1.1.dev13-py3-none-any.whl", "yanked": false}], "13.0.1.1.1.dev4": [{"comment_text": "", "digests": {"md5": "6fbaffa27cd1d148b923fc32c3d0c6cf", "sha256": "4ae138486180dd0ec57b440ab29ebcb9e7b4fe4a75a5904bdf07bf0532fff1d6"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.1.1.dev4-py3-none-any.whl", "has_sig": false, "md5_digest": "6fbaffa27cd1d148b923fc32c3d0c6cf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 76897, "upload_time": "2019-11-16T06:22:41", "upload_time_iso_8601": "2019-11-16T06:22:41.810281Z", "url": "https://files.pythonhosted.org/packages/e0/86/9c50faf42eb191eea66dfb94b305c57830420cc04a50a80f30f8d689e44a/odoo13_addon_queue_job-13.0.1.1.1.dev4-py3-none-any.whl", "yanked": false}], "13.0.1.1.1.dev6": [{"comment_text": "", "digests": {"md5": "90361313b67736e5b4e7bffffac9a98a", "sha256": "a247da4a0c4f11124be2d41621e552432bf81851be5e74104ecd81067bce1772"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.1.1.dev6-py3-none-any.whl", "has_sig": false, "md5_digest": "90361313b67736e5b4e7bffffac9a98a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 77199, "upload_time": "2019-11-30T06:55:18", "upload_time_iso_8601": "2019-11-30T06:55:18.884640Z", "url": "https://files.pythonhosted.org/packages/c1/4d/50bf31eb48971a19ba73144b0accd3926c480efc14eeab0cd2d29b7e088f/odoo13_addon_queue_job-13.0.1.1.1.dev6-py3-none-any.whl", "yanked": false}], "13.0.1.1.1.dev7": [{"comment_text": "", "digests": {"md5": "f69cabc2c7c262e52648adfd57d6dd96", "sha256": "6c5c47736265c94a5a5d8fc219f549e65669f53556451dcee82afcb7ec838652"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.1.1.dev7-py3-none-any.whl", "has_sig": false, "md5_digest": "f69cabc2c7c262e52648adfd57d6dd96", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 77220, "upload_time": "2019-12-14T06:25:47", "upload_time_iso_8601": "2019-12-14T06:25:47.518053Z", "url": "https://files.pythonhosted.org/packages/fe/de/0404694b2ae8b3d1dd141668cc4f607f51ebf6b10ed6f24debdcb6af6eeb/odoo13_addon_queue_job-13.0.1.1.1.dev7-py3-none-any.whl", "yanked": false}], "13.0.1.1.1.dev9": [{"comment_text": "", "digests": {"md5": "c628b1bc716032043be536484da37193", "sha256": "6be1f5e91d5398c35f6d092c4639b60dc4121584e2ec60cfbefab2721ffd8ccd"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.1.1.dev9-py3-none-any.whl", "has_sig": false, "md5_digest": "c628b1bc716032043be536484da37193", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 77361, "upload_time": "2020-01-11T06:24:41", "upload_time_iso_8601": "2020-01-11T06:24:41.535325Z", "url": "https://files.pythonhosted.org/packages/e5/4a/3091f70b2bf18e06cb615ee4faacd4577d566b4e1b039e8d11f5cda5ec68/odoo13_addon_queue_job-13.0.1.1.1.dev9-py3-none-any.whl", "yanked": false}], "13.0.1.2.1.dev3": [{"comment_text": "", "digests": {"md5": "d84bfb222966201c18a3b4e47b75aef8", "sha256": "94a6b4d0d5f47b3fa2242c2892b9fbeda63be671386009b0b538dd05944fc39f"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.2.1.dev3-py3-none-any.whl", "has_sig": false, "md5_digest": "d84bfb222966201c18a3b4e47b75aef8", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 78747, "upload_time": "2020-04-17T05:32:57", "upload_time_iso_8601": "2020-04-17T05:32:57.906038Z", "url": "https://files.pythonhosted.org/packages/89/cd/c7de224a181651ccdd4c26782b6fb6093453f0c6ef1713ecd68716328bcc/odoo13_addon_queue_job-13.0.1.2.1.dev3-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "d84bfb222966201c18a3b4e47b75aef8", "sha256": "94a6b4d0d5f47b3fa2242c2892b9fbeda63be671386009b0b538dd05944fc39f"}, "downloads": -1, "filename": "odoo13_addon_queue_job-13.0.1.2.1.dev3-py3-none-any.whl", "has_sig": false, "md5_digest": "d84bfb222966201c18a3b4e47b75aef8", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 78747, "upload_time": "2020-04-17T05:32:57", "upload_time_iso_8601": "2020-04-17T05:32:57.906038Z", "url": "https://files.pythonhosted.org/packages/89/cd/c7de224a181651ccdd4c26782b6fb6093453f0c6ef1713ecd68716328bcc/odoo13_addon_queue_job-13.0.1.2.1.dev3-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 03:07:36 2020"}
{"info": {"author": "Mark Hudnall", "author_email": "me@markhudnall.com", "bugtrack_url": null, "classifiers": [], "description": "dart\n======\n\nDart turns URL variables into database models with a decorator. \n\nThat means you can do something like this:\n\n.. code-block:: python\n\n    @app.route('/user/<user_id>/tracks', methods=['GET'])\n    @dart.inject(User, 'user', from_var='user_id')\n    def user_tracks(user=None):\n        return jsonify(user.tracks)\n\nIf you're smart, you might have a decorator that checks user authorization,\nsomething like ``@login_required``. You can compose Dart with other decorators \nto simplify logic, while still keeping your code readable and concise: \n\n.. code-block:: python\n\n    def login_required(view):\n        @functools.wraps(view)\n        @dart.inject(User, 'user', from_var='user_id')\n        @dart.inject(User, 'current_user', from_val=lambda: session['user_id'])\n        def decorated_view(user=None, current_user=None, *args, **kwargs):\n            if current_user != user:\n                abort(403) \n            else:\n                return view(user=user, *args, **kwargs)\n        return decorated_view\n\n    @login_required\n    def view(user=None):\n        return '{} did it!'.format(user.name)\n\nOf course, Dart isn't just a Flask. It's literally just a decorator that\ntakes a keyword arg or lambda expression and queries the model class using it as \nthe primary key. That means you can use the Dart decorator with any function.\n\nFor more info, check out the source code -- it's 27 lines.", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/landakram/dart", "keywords": null, "license": "MIT", "maintainer": null, "maintainer_email": null, "name": "dart", "package_url": "https://pypi.org/project/dart/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/dart/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/landakram/dart"}, "release_url": "https://pypi.org/project/dart/1.0/", "requires_dist": null, "requires_python": null, "summary": "Turn URL variables into models.", "version": "1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Dart turns URL variables into database models with a decorator.</p>\n<p>That means you can do something like this:</p>\n<pre><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s1\">'/user/&lt;user_id&gt;/tracks'</span><span class=\"p\">,</span> <span class=\"n\">methods</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'GET'</span><span class=\"p\">])</span>\n<span class=\"nd\">@dart</span><span class=\"o\">.</span><span class=\"n\">inject</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"p\">,</span> <span class=\"s1\">'user'</span><span class=\"p\">,</span> <span class=\"n\">from_var</span><span class=\"o\">=</span><span class=\"s1\">'user_id'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">user_tracks</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">jsonify</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">tracks</span><span class=\"p\">)</span>\n</pre>\n<p>If you\u2019re smart, you might have a decorator that checks user authorization,\nsomething like <tt>@login_required</tt>. You can compose Dart with other decorators\nto simplify logic, while still keeping your code readable and concise:</p>\n<pre><span class=\"k\">def</span> <span class=\"nf\">login_required</span><span class=\"p\">(</span><span class=\"n\">view</span><span class=\"p\">):</span>\n    <span class=\"nd\">@functools</span><span class=\"o\">.</span><span class=\"n\">wraps</span><span class=\"p\">(</span><span class=\"n\">view</span><span class=\"p\">)</span>\n    <span class=\"nd\">@dart</span><span class=\"o\">.</span><span class=\"n\">inject</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"p\">,</span> <span class=\"s1\">'user'</span><span class=\"p\">,</span> <span class=\"n\">from_var</span><span class=\"o\">=</span><span class=\"s1\">'user_id'</span><span class=\"p\">)</span>\n    <span class=\"nd\">@dart</span><span class=\"o\">.</span><span class=\"n\">inject</span><span class=\"p\">(</span><span class=\"n\">User</span><span class=\"p\">,</span> <span class=\"s1\">'current_user'</span><span class=\"p\">,</span> <span class=\"n\">from_val</span><span class=\"o\">=</span><span class=\"k\">lambda</span><span class=\"p\">:</span> <span class=\"n\">session</span><span class=\"p\">[</span><span class=\"s1\">'user_id'</span><span class=\"p\">])</span>\n    <span class=\"k\">def</span> <span class=\"nf\">decorated_view</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">current_user</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">current_user</span> <span class=\"o\">!=</span> <span class=\"n\">user</span><span class=\"p\">:</span>\n            <span class=\"n\">abort</span><span class=\"p\">(</span><span class=\"mi\">403</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"k\">return</span> <span class=\"n\">view</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"o\">=</span><span class=\"n\">user</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">decorated_view</span>\n\n<span class=\"nd\">@login_required</span>\n<span class=\"k\">def</span> <span class=\"nf\">view</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'</span><span class=\"si\">{}</span><span class=\"s1\"> did it!'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n</pre>\n<p>Of course, Dart isn\u2019t just a Flask. It\u2019s literally just a decorator that\ntakes a keyword arg or lambda expression and queries the model class using it as\nthe primary key. That means you can use the Dart decorator with any function.</p>\n<p>For more info, check out the source code \u2013 it\u2019s 27 lines.</p>\n\n          </div>"}, "last_serial": 1053192, "releases": {"1.0": [{"comment_text": "", "digests": {"md5": "2e03a30f08f7eab3573141e5f653f17c", "sha256": "967f3d0beb0db32f8c3cb868d701cf7b1e59227b94be305a955d59ac066173ab"}, "downloads": -1, "filename": "dart-1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "2e03a30f08f7eab3573141e5f653f17c", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 3447, "upload_time": "2014-04-07T01:07:34", "upload_time_iso_8601": "2014-04-07T01:07:34.019884Z", "url": "https://files.pythonhosted.org/packages/f2/c4/eb080648ebdee8f9342e5f8af59b9643f645123e4334b37e2c7684fa1435/dart-1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "983df0e6edd6b3b1bc57a2fd1878176d", "sha256": "fdceb359ee781e7853186cfc39d061902fb2d2d8573f90430323a9ff784c2c06"}, "downloads": -1, "filename": "dart-1.0.tar.gz", "has_sig": false, "md5_digest": "983df0e6edd6b3b1bc57a2fd1878176d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1952, "upload_time": "2014-04-07T01:07:12", "upload_time_iso_8601": "2014-04-07T01:07:12.674469Z", "url": "https://files.pythonhosted.org/packages/89/f7/63c55a348968a67d8034b12d98c0b9213204722d7cccbfe296b185cd3bb6/dart-1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "2e03a30f08f7eab3573141e5f653f17c", "sha256": "967f3d0beb0db32f8c3cb868d701cf7b1e59227b94be305a955d59ac066173ab"}, "downloads": -1, "filename": "dart-1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "2e03a30f08f7eab3573141e5f653f17c", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 3447, "upload_time": "2014-04-07T01:07:34", "upload_time_iso_8601": "2014-04-07T01:07:34.019884Z", "url": "https://files.pythonhosted.org/packages/f2/c4/eb080648ebdee8f9342e5f8af59b9643f645123e4334b37e2c7684fa1435/dart-1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "983df0e6edd6b3b1bc57a2fd1878176d", "sha256": "fdceb359ee781e7853186cfc39d061902fb2d2d8573f90430323a9ff784c2c06"}, "downloads": -1, "filename": "dart-1.0.tar.gz", "has_sig": false, "md5_digest": "983df0e6edd6b3b1bc57a2fd1878176d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1952, "upload_time": "2014-04-07T01:07:12", "upload_time_iso_8601": "2014-04-07T01:07:12.674469Z", "url": "https://files.pythonhosted.org/packages/89/f7/63c55a348968a67d8034b12d98c0b9213204722d7cccbfe296b185cd3bb6/dart-1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:40:39 2020"}
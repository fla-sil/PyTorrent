{"info": {"author": "Matja\u017e Gu\u0161tin", "author_email": "dev@matjaz.it", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Software Development"], "description": "Rangeforce: developer-friendly range checks with user-friendly error messages\n===============================================================================\n\n\nEver had to write the same old `if value < 0` bit of Python code to validate\na user input? Tired of not understandable error messages like \n_\"Illegal value\"_?\n\n_Rangeforce_ is a very simple module offering multiple functions checking\nthe range of values, including integers or floats, or lengths of structures \nlike strings or lists. It does so in one line of code while providing an \nunderstandable error message that can be displayed directly to the user.\n\n```python\ndef classic_approach():\n    value = int(input('How many hours do you sleep per day? '))\n    if value < 0:\n        raise ValueError('Hours of sleep must be positive')\n    elif value > 24:\n        raise ValueError('Hours of sleep must be max 24')\n    else:\n        return value\n\n# Same code, but simplified using Rangeforce\nimport rangeforce as rf\n\ndef with_rangeforce():\n    value = int(input('How many hours do you sleep per day? '))\n    return rf.limited(value, 0, 24, 'Hours of sleep')  # Magically in 1 line\n```\n\n\nFeatures\n----------------------------------------\n\n- Validate that a value is within a [min, max] interval\n  - Including case when min is -infinity and max is +infinity\n  - Optional enforcing of the type (e.g. the value must be a float)\n- Functions to validate that a value is an unsigned/signed integer\n  that fits into 8/16/32/64 bits, as the C data types\n- Functions to validate positive, negative, non-positive, non-negative integers\n- Validation of the length of an object, either within a [min, max] interval\n  or exact length\n- Utility function to clip (limit) a value to fit within a range \n- Customizable name of the variable under validation for the error message \n\n\n\nInstallation\n----------------------------------------\n\n```bash\npip install Rangeforce\n```\n\nor just include the `rangeforce.py` file in your project (copy-paste).\n\n\n\nExample usage\n----------------------------------------\n\n```python\nimport rangeforce as rf\n\nvalue = rf.limited(8000, 20, 5000, dtype=int)\n# If successful, value will held 8000, otherwise (as it would happen in this\n# example) raises a rangeforce.RangeError with a useful message:\n# \"Value must be in range [20, 5000]. 8000 found instead.\"\n# Can be also shown directly to the user:\n\ntry:\n    value = rf.limited(8000, 20, 5000, dtype=int)\nexcept rf.RangeError as error:\n    print(str(error))\n\n# A missing bound (min or max) means unbounded\nvalue = rf.limited(2000.0, None, 5000.0, dtype=float)\n# Value must be <= 5000 but can be as small as it gets, including negative\n\n\n# Especially useful in setters to validate the input in one line\nclass FullHdPicturesPixel(object):\n    def __init__(self, x, y):\n        self._x = None\n        self._y = None\n        self.x = x\n        self.y = y\n\n    @property\n    def x(self):\n        return self._x\n\n    @x.setter\n    def x(self, new_x):\n        self._x = rf.limited(new_x, 0, 1920, 'The X pixel coordinate', int)\n\n    @property\n    def y(self):\n        return self._y\n\n    @y.setter\n    def y(self, new_y):\n        self._y = rf.limited(new_y, 0, 1080, 'The Y pixel coordinate', int)\n\npixel = FullHdPicturesPixel(10, 2000)\n# This raises a RangeError with the message:\n# \"The Y pixel coordinate must be in range [0, 1080]. 2000 found instead.\"\n\n\n# Operating with C-like data structures and binary data?\n# These functions might come in handy!\nvalue = rf.int8(20) \nvalue = rf.int16(20) \nvalue = rf.int32(20) \nvalue = rf.int64(20)\nvalue = rf.uint8(20) \nvalue = rf.uint16(20) \nvalue = rf.uint32(20) \nvalue = rf.uint64(20)\n\n# Customize the name of the variable:\ndistance = rf.uint8(-3, 'Distance')\n# This raises a RangeError with the message:\n# \"Distance must be in range [0, 255]. -3 found instead.\"\n\n# To check the length range of anything (e.g. a list or bytes):\nvalue = rf.limited_len([1, 2, 3], 2, 7) # 'value' will hold [1, 2, 3]\n\n# If you need an exact length, do it like this\npair = rf.exact_len([10, 20, 30], 2, name='pair of values')\n# This raises a RangeError with the message:\n# \"Length of pair of values must be exactly 2. 3 found instead.\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/TheMatjaz/Rangeforce", "keywords": "range,domain,limited,validation,user-input,friendly,understandable", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "Rangeforce", "package_url": "https://pypi.org/project/Rangeforce/", "platform": "", "project_url": "https://pypi.org/project/Rangeforce/", "project_urls": {"Homepage": "https://github.com/TheMatjaz/Rangeforce"}, "release_url": "https://pypi.org/project/Rangeforce/1.0.0/", "requires_dist": null, "requires_python": ">=3", "summary": "Developer-friendly range checks with user-friendly error messages", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Rangeforce: developer-friendly range checks with user-friendly error messages</h1>\n<p>Ever had to write the same old <code>if value &lt; 0</code> bit of Python code to validate\na user input? Tired of not understandable error messages like\n<em>\"Illegal value\"</em>?</p>\n<p><em>Rangeforce</em> is a very simple module offering multiple functions checking\nthe range of values, including integers or floats, or lengths of structures\nlike strings or lists. It does so in one line of code while providing an\nunderstandable error message that can be displayed directly to the user.</p>\n<pre><span class=\"k\">def</span> <span class=\"nf\">classic_approach</span><span class=\"p\">():</span>\n    <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"nb\">input</span><span class=\"p\">(</span><span class=\"s1\">'How many hours do you sleep per day? '</span><span class=\"p\">))</span>\n    <span class=\"k\">if</span> <span class=\"n\">value</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s1\">'Hours of sleep must be positive'</span><span class=\"p\">)</span>\n    <span class=\"k\">elif</span> <span class=\"n\">value</span> <span class=\"o\">&gt;</span> <span class=\"mi\">24</span><span class=\"p\">:</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s1\">'Hours of sleep must be max 24'</span><span class=\"p\">)</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"k\">return</span> <span class=\"n\">value</span>\n\n<span class=\"c1\"># Same code, but simplified using Rangeforce</span>\n<span class=\"kn\">import</span> <span class=\"nn\">rangeforce</span> <span class=\"k\">as</span> <span class=\"nn\">rf</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">with_rangeforce</span><span class=\"p\">():</span>\n    <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"nb\">input</span><span class=\"p\">(</span><span class=\"s1\">'How many hours do you sleep per day? '</span><span class=\"p\">))</span>\n    <span class=\"k\">return</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">limited</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">24</span><span class=\"p\">,</span> <span class=\"s1\">'Hours of sleep'</span><span class=\"p\">)</span>  <span class=\"c1\"># Magically in 1 line</span>\n</pre>\n<h2>Features</h2>\n<ul>\n<li>Validate that a value is within a [min, max] interval\n<ul>\n<li>Including case when min is -infinity and max is +infinity</li>\n<li>Optional enforcing of the type (e.g. the value must be a float)</li>\n</ul>\n</li>\n<li>Functions to validate that a value is an unsigned/signed integer\nthat fits into 8/16/32/64 bits, as the C data types</li>\n<li>Functions to validate positive, negative, non-positive, non-negative integers</li>\n<li>Validation of the length of an object, either within a [min, max] interval\nor exact length</li>\n<li>Utility function to clip (limit) a value to fit within a range</li>\n<li>Customizable name of the variable under validation for the error message</li>\n</ul>\n<h2>Installation</h2>\n<pre>pip install Rangeforce\n</pre>\n<p>or just include the <code>rangeforce.py</code> file in your project (copy-paste).</p>\n<h2>Example usage</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">rangeforce</span> <span class=\"k\">as</span> <span class=\"nn\">rf</span>\n\n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">limited</span><span class=\"p\">(</span><span class=\"mi\">8000</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"mi\">5000</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">int</span><span class=\"p\">)</span>\n<span class=\"c1\"># If successful, value will held 8000, otherwise (as it would happen in this</span>\n<span class=\"c1\"># example) raises a rangeforce.RangeError with a useful message:</span>\n<span class=\"c1\"># \"Value must be in range [20, 5000]. 8000 found instead.\"</span>\n<span class=\"c1\"># Can be also shown directly to the user:</span>\n\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">limited</span><span class=\"p\">(</span><span class=\"mi\">8000</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"mi\">5000</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">int</span><span class=\"p\">)</span>\n<span class=\"k\">except</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">RangeError</span> <span class=\"k\">as</span> <span class=\"n\">error</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">error</span><span class=\"p\">))</span>\n\n<span class=\"c1\"># A missing bound (min or max) means unbounded</span>\n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">limited</span><span class=\"p\">(</span><span class=\"mf\">2000.0</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"mf\">5000.0</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">float</span><span class=\"p\">)</span>\n<span class=\"c1\"># Value must be &lt;= 5000 but can be as small as it gets, including negative</span>\n\n\n<span class=\"c1\"># Especially useful in setters to validate the input in one line</span>\n<span class=\"k\">class</span> <span class=\"nc\">FullHdPicturesPixel</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_x</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_y</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">x</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">y</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">x</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_x</span>\n\n    <span class=\"nd\">@x</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n    <span class=\"k\">def</span> <span class=\"nf\">x</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">new_x</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_x</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">limited</span><span class=\"p\">(</span><span class=\"n\">new_x</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1920</span><span class=\"p\">,</span> <span class=\"s1\">'The X pixel coordinate'</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">y</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_y</span>\n\n    <span class=\"nd\">@y</span><span class=\"o\">.</span><span class=\"n\">setter</span>\n    <span class=\"k\">def</span> <span class=\"nf\">y</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">new_y</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_y</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">limited</span><span class=\"p\">(</span><span class=\"n\">new_y</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1080</span><span class=\"p\">,</span> <span class=\"s1\">'The Y pixel coordinate'</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">)</span>\n\n<span class=\"n\">pixel</span> <span class=\"o\">=</span> <span class=\"n\">FullHdPicturesPixel</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">2000</span><span class=\"p\">)</span>\n<span class=\"c1\"># This raises a RangeError with the message:</span>\n<span class=\"c1\"># \"The Y pixel coordinate must be in range [0, 1080]. 2000 found instead.\"</span>\n\n\n<span class=\"c1\"># Operating with C-like data structures and binary data?</span>\n<span class=\"c1\"># These functions might come in handy!</span>\n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">int8</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span> \n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">int16</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span> \n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">int32</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span> \n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">int64</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span>\n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">uint8</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span> \n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">uint16</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span> \n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">uint32</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span> \n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">uint64</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Customize the name of the variable:</span>\n<span class=\"n\">distance</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">uint8</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"s1\">'Distance'</span><span class=\"p\">)</span>\n<span class=\"c1\"># This raises a RangeError with the message:</span>\n<span class=\"c1\"># \"Distance must be in range [0, 255]. -3 found instead.\"</span>\n\n<span class=\"c1\"># To check the length range of anything (e.g. a list or bytes):</span>\n<span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">limited_len</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">)</span> <span class=\"c1\"># 'value' will hold [1, 2, 3]</span>\n\n<span class=\"c1\"># If you need an exact length, do it like this</span>\n<span class=\"n\">pair</span> <span class=\"o\">=</span> <span class=\"n\">rf</span><span class=\"o\">.</span><span class=\"n\">exact_len</span><span class=\"p\">([</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"mi\">30</span><span class=\"p\">],</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'pair of values'</span><span class=\"p\">)</span>\n<span class=\"c1\"># This raises a RangeError with the message:</span>\n<span class=\"c1\"># \"Length of pair of values must be exactly 2. 3 found instead.</span>\n</pre>\n\n          </div>"}, "last_serial": 5601671, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "21b07033ece819e097b07b1e0adada81", "sha256": "0ebb4f4d92ac1cbf66ad7787b78a551210a3f01e3f216b1e478c1e75559c74ec"}, "downloads": -1, "filename": "Rangeforce-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "21b07033ece819e097b07b1e0adada81", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3", "size": 7109, "upload_time": "2019-07-29T20:19:33", "upload_time_iso_8601": "2019-07-29T20:19:33.196870Z", "url": "https://files.pythonhosted.org/packages/28/69/cbd5c805eb3e5e766adc061c10448453925a8e44c40fdc8879fda7266cc6/Rangeforce-1.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2d464d6f138b8075a97e411cd0ae0d49", "sha256": "97859ba38fe9f1406fe58448ba55518286ab106361e4c10cf31a9d41cd8f3695"}, "downloads": -1, "filename": "Rangeforce-1.0.0.tar.gz", "has_sig": false, "md5_digest": "2d464d6f138b8075a97e411cd0ae0d49", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3", "size": 9099, "upload_time": "2019-07-29T20:19:36", "upload_time_iso_8601": "2019-07-29T20:19:36.137419Z", "url": "https://files.pythonhosted.org/packages/d5/00/ff1efecc2e6bfd43108151e0356cf6da53bc799febfc616b3a2a51d75d12/Rangeforce-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "21b07033ece819e097b07b1e0adada81", "sha256": "0ebb4f4d92ac1cbf66ad7787b78a551210a3f01e3f216b1e478c1e75559c74ec"}, "downloads": -1, "filename": "Rangeforce-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "21b07033ece819e097b07b1e0adada81", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3", "size": 7109, "upload_time": "2019-07-29T20:19:33", "upload_time_iso_8601": "2019-07-29T20:19:33.196870Z", "url": "https://files.pythonhosted.org/packages/28/69/cbd5c805eb3e5e766adc061c10448453925a8e44c40fdc8879fda7266cc6/Rangeforce-1.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2d464d6f138b8075a97e411cd0ae0d49", "sha256": "97859ba38fe9f1406fe58448ba55518286ab106361e4c10cf31a9d41cd8f3695"}, "downloads": -1, "filename": "Rangeforce-1.0.0.tar.gz", "has_sig": false, "md5_digest": "2d464d6f138b8075a97e411cd0ae0d49", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3", "size": 9099, "upload_time": "2019-07-29T20:19:36", "upload_time_iso_8601": "2019-07-29T20:19:36.137419Z", "url": "https://files.pythonhosted.org/packages/d5/00/ff1efecc2e6bfd43108151e0356cf6da53bc799febfc616b3a2a51d75d12/Rangeforce-1.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:07:33 2020"}
{"info": {"author": "Brown University Library", "author_email": "bdr@brown.edu", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "django-shibboleth-remoteuser\n============================\n\n|build-status|\n\nMiddleware for using Shibboleth with Django.\nRequires Django 1.3 or above for RemoteAuthMiddleware.\n\nRequirements\n------------\n\n* shibboleth-sp service installed on your system\n* shibboleth module enabled or compiled on your web server\n* Django >= 1.8 for version > 0.6 or Django > 1.3 for version <= 0.6\n\nInstallation and configuration\n------------------------------\n1.  Either checkout and run ``python setup.py install`` or install directly\n    from GitHub using ``pip``:\n\n    .. code-block:: bash\n\n        pip install git+https://github.com/Brown-University-Library/django-shibboleth-remoteuser.git\n\n2.  In ``settings.py``:\n\n    * Enable the RemoteUserBackend.\n\n      .. code-block:: python\n\n          AUTHENTICATION_BACKENDS += (\n              'shibboleth.backends.ShibbolethRemoteUserBackend',\n          )\n\n    * Add the Django Shibboleth middleware.\n      You must add\n      ``django.contrib.auth.middleware.ShibbolethRemoteUserMiddleware``\n      to the ``MIDDLEWARE_CLASSES`` setting after\n      ``django.contrib.auth.middleware.AuthenticationMiddleware``.\n      For example:\n\n      .. code-block:: python\n\n          MIDDLEWARE_CLASSES = (\n              ...\n              'django.contrib.auth.middleware.AuthenticationMiddleware',\n              'shibboleth.middleware.ShibbolethRemoteUserMiddleware',\n              ...\n          )\n\n    * Map Shibboleth attributes to Django User models.\n      The attributes must be stated in the form they have in the HTTP headers.\n      Use this to populate the Django User object from Shibboleth attributes.\n\n      The first element of the tuple states if the attribute is required or not.\n      If a required element is not found in the parsed Shibboleth headers,\n      an exception will be raised. For example, ``(True, \"required_attribute\")``,\n      ``(False, \"optional_attribute)``.\n\n      .. code-block:: python\n\n          SHIBBOLETH_ATTRIBUTE_MAP = {\n              \"shib-user\": (True, \"username\"),\n              \"shib-given-name\": (True, \"first_name\"),\n              \"shib-sn\": (True, \"last_name\"),\n              \"shib-mail\": (False, \"email\"),\n          }\n\n    * Set the ``LOGIN_URL`` to the login handler of your Shibboleth installation.\n      In most cases, this will be something like:\n\n      .. code-block:: python\n\n          LOGIN_URL = 'https://your_domain.edu/Shibboleth.sso/Login'\n\n3.  Apache configuration - make sure the Shibboleth attributes are available\n    to the app.  The app url doesn't need to require Shibboleth.\n\n    .. code-block:: xml\n\n        <Location /app>\n          AuthType shibboleth\n          Require shibboleth\n        </Location>\n\n\nVerify configuration\n--------------------\nIf you would like to verify that everything is configured correctly,\nfollow the next two steps below.  It will create a route in your application\nat ``/yourapp/shib/`` that echos the attributes obtained from Shibboleth.\nIf you see the attributes you mapped above on the screen, all is good.\n\n* Add shibboleth to installed apps.\n\n  .. code-block:: python\n\n      INSTALLED_APPS += (\n          'shibboleth',\n      )\n\n\n* Add below to ``urls.py`` to enable the included sample view.\n  This view just echos back the parsed user attributes,\n  which can be helpful for testing.\n\n  .. code-block:: python\n\n      urlpatterns += [\n          url(r'^shib/', include('shibboleth.urls', namespace='shibboleth')),\n      ]\n\n\nAt this point, the django-shibboleth-remoteuser middleware should be complete.\n\nOptional\n--------\n\nTemplate tags\n~~~~~~~~~~~~~\n\nTemplate tags are included which will allow you to place ``{{ login_link }}``\nor ``{{ logout_link }}`` in your templates for routing users to the\nlogin or logout page. These are available as a convenience and are not required.\nTo activate, add the following to ``settings.py``:\n\n.. code-block:: python\n\n    TEMPLATES = [\n        {\n        ...\n            'OPTIONS': {\n                'context_processors': [\n                    ...\n                    'shibboleth.context_processors.login_link',\n                    'shibboleth.context_processors.logout_link',\n                    ...\n                ],\n            },\n        ...\n        },\n    ]\n\n\nPermission group mapping\n~~~~~~~~~~~~~~~~~~~~~~~~\n\nIt is possible to map a list of attributes to Django permission groups.\n``django-shibboleth-remoteuser`` will generate the groups from the\nsemicolon-separated values of these attributes. They will be available\nin the Django admin interface and you can assign\nyour application permissions to them.\n\n.. code-block:: python\n\n   SHIBBOLETH_GROUP_ATTRIBUTES = ['Shibboleth-affiliation', 'Shibboleth-isMemberOf']\n\nBy default this value is empty and will not affect your group settings.\nBut when you add attributes to ``SHIBBOLETH_GROUP_ATTRIBUTES``\nthe user will only associated with those groups. Be aware that the user\nwill be removed from groups not defined in ``SHIBBOLETH_GROUP_ATTRIBUTES``,\nif you enable this setting. Some installations may create a lot of groups.\nYou may check your group attributes at\n``https://your_domain.edu/Shibboleth.sso/Session``\nbefore activating this feature.\n\n\nFields identified in ``SHIBBOLETH_GROUP_ATTRIBUTES`` can be a string of group\nnames with a delimiter. By default the delimiter is `;`, but this can be\noverridden to be one or many delimiters using the ``SHIBBOLETH_GROUP_DELIMITERS``\nsetting.\n\nFor example, given:\n  - ``SHIBBOLETH_GROUP_ATTRIBUTES = ['Shibboleth-isMemberOf']``\n  - request headers includes: ``Shibboleth-isMemberOf: 'users;admins,managers'``\n\n=========================== =======================================\nSHIBBOLETH_GROUP_DELIMITERS Parsed Groups\n=========================== =======================================\ndefault                     ``users`` and ``admins,managers``\n``[',']``                   ``users;admins`` and ``managers``\n``[',', ';']``              ``users``, ``admins``, and ``managers``\n=========================== =======================================\n\n.. |build-status| image:: https://travis-ci.org/Brown-University-Library/django-shibboleth-remoteuser.svg?branch=master&style=flat\n   :target: https://travis-ci.org/Brown-University-Library/django-shibboleth-remoteuser\n   :alt: Build status\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Brown-University-Library/django-shibboleth-remoteuser", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "django-shibboleth-remoteuser", "package_url": "https://pypi.org/project/django-shibboleth-remoteuser/", "platform": "", "project_url": "https://pypi.org/project/django-shibboleth-remoteuser/", "project_urls": {"Homepage": "https://github.com/Brown-University-Library/django-shibboleth-remoteuser"}, "release_url": "https://pypi.org/project/django-shibboleth-remoteuser/0.12/", "requires_dist": null, "requires_python": "", "summary": "", "version": "0.12", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://travis-ci.org/Brown-University-Library/django-shibboleth-remoteuser\" rel=\"nofollow\"><img alt=\"Build status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3c213e0c6d62d9793d15176527a8fdcf126b93eb/68747470733a2f2f7472617669732d63692e6f72672f42726f776e2d556e69766572736974792d4c6962726172792f646a616e676f2d73686962626f6c6574682d72656d6f7465757365722e7376673f6272616e63683d6d6173746572267374796c653d666c6174\"></a></p>\n<p>Middleware for using Shibboleth with Django.\nRequires Django 1.3 or above for RemoteAuthMiddleware.</p>\n<div id=\"requirements\">\n<h2>Requirements</h2>\n<ul>\n<li>shibboleth-sp service installed on your system</li>\n<li>shibboleth module enabled or compiled on your web server</li>\n<li>Django &gt;= 1.8 for version &gt; 0.6 or Django &gt; 1.3 for version &lt;= 0.6</li>\n</ul>\n</div>\n<div id=\"installation-and-configuration\">\n<h2>Installation and configuration</h2>\n<ol>\n<li><p>Either checkout and run <tt>python setup.py install</tt> or install directly\nfrom GitHub using <tt>pip</tt>:</p>\n<pre>pip install git+https://github.com/Brown-University-Library/django-shibboleth-remoteuser.git\n</pre>\n</li>\n<li><p>In <tt>settings.py</tt>:</p>\n<ul>\n<li><p>Enable the RemoteUserBackend.</p>\n<pre><span class=\"n\">AUTHENTICATION_BACKENDS</span> <span class=\"o\">+=</span> <span class=\"p\">(</span>\n    <span class=\"s1\">'shibboleth.backends.ShibbolethRemoteUserBackend'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre>\n</li>\n<li><p>Add the Django Shibboleth middleware.\nYou must add\n<tt>django.contrib.auth.middleware.ShibbolethRemoteUserMiddleware</tt>\nto the <tt>MIDDLEWARE_CLASSES</tt> setting after\n<tt>django.contrib.auth.middleware.AuthenticationMiddleware</tt>.\nFor example:</p>\n<pre><span class=\"n\">MIDDLEWARE_CLASSES</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'django.contrib.auth.middleware.AuthenticationMiddleware'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'shibboleth.middleware.ShibbolethRemoteUserMiddleware'</span><span class=\"p\">,</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">)</span>\n</pre>\n</li>\n<li><p>Map Shibboleth attributes to Django User models.\nThe attributes must be stated in the form they have in the HTTP headers.\nUse this to populate the Django User object from Shibboleth attributes.</p>\n<p>The first element of the tuple states if the attribute is required or not.\nIf a required element is not found in the parsed Shibboleth headers,\nan exception will be raised. For example, <tt>(True, \"required_attribute\")</tt>,\n<tt>(False, \"optional_attribute)</tt>.</p>\n<pre><span class=\"n\">SHIBBOLETH_ATTRIBUTE_MAP</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"shib-user\"</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"s2\">\"username\"</span><span class=\"p\">),</span>\n    <span class=\"s2\">\"shib-given-name\"</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"s2\">\"first_name\"</span><span class=\"p\">),</span>\n    <span class=\"s2\">\"shib-sn\"</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"s2\">\"last_name\"</span><span class=\"p\">),</span>\n    <span class=\"s2\">\"shib-mail\"</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"s2\">\"email\"</span><span class=\"p\">),</span>\n<span class=\"p\">}</span>\n</pre>\n</li>\n<li><p>Set the <tt>LOGIN_URL</tt> to the login handler of your Shibboleth installation.\nIn most cases, this will be something like:</p>\n<pre><span class=\"n\">LOGIN_URL</span> <span class=\"o\">=</span> <span class=\"s1\">'https://your_domain.edu/Shibboleth.sso/Login'</span>\n</pre>\n</li>\n</ul>\n</li>\n<li><p>Apache configuration - make sure the Shibboleth attributes are available\nto the app.  The app url doesn\u2019t need to require Shibboleth.</p>\n<pre><span class=\"nt\">&lt;Location</span> <span class=\"err\">/app</span><span class=\"nt\">&gt;</span>\n  AuthType shibboleth\n  Require shibboleth\n<span class=\"nt\">&lt;/Location&gt;</span>\n</pre>\n</li>\n</ol>\n</div>\n<div id=\"verify-configuration\">\n<h2>Verify configuration</h2>\n<p>If you would like to verify that everything is configured correctly,\nfollow the next two steps below.  It will create a route in your application\nat <tt>/yourapp/shib/</tt> that echos the attributes obtained from Shibboleth.\nIf you see the attributes you mapped above on the screen, all is good.</p>\n<ul>\n<li><p>Add shibboleth to installed apps.</p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">+=</span> <span class=\"p\">(</span>\n    <span class=\"s1\">'shibboleth'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre>\n</li>\n<li><p>Add below to <tt>urls.py</tt> to enable the included sample view.\nThis view just echos back the parsed user attributes,\nwhich can be helpful for testing.</p>\n<pre><span class=\"n\">urlpatterns</span> <span class=\"o\">+=</span> <span class=\"p\">[</span>\n    <span class=\"n\">url</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s1\">'^shib/'</span><span class=\"p\">,</span> <span class=\"n\">include</span><span class=\"p\">(</span><span class=\"s1\">'shibboleth.urls'</span><span class=\"p\">,</span> <span class=\"n\">namespace</span><span class=\"o\">=</span><span class=\"s1\">'shibboleth'</span><span class=\"p\">)),</span>\n<span class=\"p\">]</span>\n</pre>\n</li>\n</ul>\n<p>At this point, the django-shibboleth-remoteuser middleware should be complete.</p>\n</div>\n<div id=\"optional\">\n<h2>Optional</h2>\n<div id=\"template-tags\">\n<h3>Template tags</h3>\n<p>Template tags are included which will allow you to place <tt>{{ login_link }}</tt>\nor <tt>{{ logout_link }}</tt> in your templates for routing users to the\nlogin or logout page. These are available as a convenience and are not required.\nTo activate, add the following to <tt>settings.py</tt>:</p>\n<pre><span class=\"n\">TEMPLATES</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n    <span class=\"o\">...</span>\n        <span class=\"s1\">'OPTIONS'</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"s1\">'context_processors'</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n                <span class=\"o\">...</span>\n                <span class=\"s1\">'shibboleth.context_processors.login_link'</span><span class=\"p\">,</span>\n                <span class=\"s1\">'shibboleth.context_processors.logout_link'</span><span class=\"p\">,</span>\n                <span class=\"o\">...</span>\n            <span class=\"p\">],</span>\n        <span class=\"p\">},</span>\n    <span class=\"o\">...</span>\n    <span class=\"p\">},</span>\n<span class=\"p\">]</span>\n</pre>\n</div>\n<div id=\"permission-group-mapping\">\n<h3>Permission group mapping</h3>\n<p>It is possible to map a list of attributes to Django permission groups.\n<tt><span class=\"pre\">django-shibboleth-remoteuser</span></tt> will generate the groups from the\nsemicolon-separated values of these attributes. They will be available\nin the Django admin interface and you can assign\nyour application permissions to them.</p>\n<pre><span class=\"n\">SHIBBOLETH_GROUP_ATTRIBUTES</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'Shibboleth-affiliation'</span><span class=\"p\">,</span> <span class=\"s1\">'Shibboleth-isMemberOf'</span><span class=\"p\">]</span>\n</pre>\n<p>By default this value is empty and will not affect your group settings.\nBut when you add attributes to <tt>SHIBBOLETH_GROUP_ATTRIBUTES</tt>\nthe user will only associated with those groups. Be aware that the user\nwill be removed from groups not defined in <tt>SHIBBOLETH_GROUP_ATTRIBUTES</tt>,\nif you enable this setting. Some installations may create a lot of groups.\nYou may check your group attributes at\n<tt><span class=\"pre\">https://your_domain.edu/Shibboleth.sso/Session</span></tt>\nbefore activating this feature.</p>\n<p>Fields identified in <tt>SHIBBOLETH_GROUP_ATTRIBUTES</tt> can be a string of group\nnames with a delimiter. By default the delimiter is <cite>;</cite>, but this can be\noverridden to be one or many delimiters using the <tt>SHIBBOLETH_GROUP_DELIMITERS</tt>\nsetting.</p>\n<dl>\n<dt>For example, given:</dt>\n<dd><ul>\n<li><tt>SHIBBOLETH_GROUP_ATTRIBUTES = <span class=\"pre\">['Shibboleth-isMemberOf']</span></tt></li>\n<li>request headers includes: <tt><span class=\"pre\">Shibboleth-isMemberOf:</span> 'users;admins,managers'</tt></li>\n</ul>\n</dd>\n</dl>\n<table>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<thead>\n<tr><th>SHIBBOLETH_GROUP_DELIMITERS</th>\n<th>Parsed Groups</th>\n</tr>\n</thead>\n<tbody>\n<tr><td>default</td>\n<td><tt>users</tt> and <tt>admins,managers</tt></td>\n</tr>\n<tr><td><tt><span class=\"pre\">[',']</span></tt></td>\n<td><tt>users;admins</tt> and <tt>managers</tt></td>\n</tr>\n<tr><td><tt><span class=\"pre\">[',',</span> <span class=\"pre\">';']</span></tt></td>\n<td><tt>users</tt>, <tt>admins</tt>, and <tt>managers</tt></td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n\n          </div>"}, "last_serial": 6584328, "releases": {"0.11": [{"comment_text": "", "digests": {"md5": "bc0eb5d64cf27648a84639078fc938ec", "sha256": "c539fd86a39ec60d84dc49d44a83752afec8cca1dfa33871fd22d253618576d8"}, "downloads": -1, "filename": "django_shibboleth_remoteuser-0.11-py3-none-any.whl", "has_sig": false, "md5_digest": "bc0eb5d64cf27648a84639078fc938ec", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 43221, "upload_time": "2019-10-16T14:29:06", "upload_time_iso_8601": "2019-10-16T14:29:06.270723Z", "url": "https://files.pythonhosted.org/packages/89/6d/ff35e59c48a7218f47978b0ad210390832b09014f4107bed469831e859c4/django_shibboleth_remoteuser-0.11-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b3f61047ccd62c213e1a0dcc5f7ef55b", "sha256": "8aa42efded73455aac87c7c62827e7f073107f782bc394c685c08c343f493f7b"}, "downloads": -1, "filename": "django-shibboleth-remoteuser-0.11.tar.gz", "has_sig": false, "md5_digest": "b3f61047ccd62c213e1a0dcc5f7ef55b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21774, "upload_time": "2019-10-16T14:29:21", "upload_time_iso_8601": "2019-10-16T14:29:21.430644Z", "url": "https://files.pythonhosted.org/packages/7a/7e/5826027d40b6599bd8d3d9873a4a6069158e28423a98d6a4076ff72a9301/django-shibboleth-remoteuser-0.11.tar.gz", "yanked": false}], "0.12": [{"comment_text": "", "digests": {"md5": "c3924ec503fb9f708206e2bfee297142", "sha256": "d4ee875cfa62b58e463fff614fe5d43c2cfd6aafa5bed7931dcfa663f2792481"}, "downloads": -1, "filename": "django_shibboleth_remoteuser-0.12-py3-none-any.whl", "has_sig": false, "md5_digest": "c3924ec503fb9f708206e2bfee297142", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 15323, "upload_time": "2020-02-06T20:58:54", "upload_time_iso_8601": "2020-02-06T20:58:54.222980Z", "url": "https://files.pythonhosted.org/packages/25/d8/3e80b6ce13b9ce584d5045ce194e863c507f3f83b7b6bcffe5245e518d43/django_shibboleth_remoteuser-0.12-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e7acc8832915a76089aad714bbf56d7b", "sha256": "9e8a4aac75f24e473593bfd1fce210731e1324658d23c98e5fbb26492b96fc3f"}, "downloads": -1, "filename": "django-shibboleth-remoteuser-0.12.tar.gz", "has_sig": false, "md5_digest": "e7acc8832915a76089aad714bbf56d7b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13005, "upload_time": "2020-02-06T20:58:55", "upload_time_iso_8601": "2020-02-06T20:58:55.863468Z", "url": "https://files.pythonhosted.org/packages/81/67/d2c715dad282ee2b8ef83569dff149f7d7f5da767898bd3331f9ebe7df9b/django-shibboleth-remoteuser-0.12.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "c3924ec503fb9f708206e2bfee297142", "sha256": "d4ee875cfa62b58e463fff614fe5d43c2cfd6aafa5bed7931dcfa663f2792481"}, "downloads": -1, "filename": "django_shibboleth_remoteuser-0.12-py3-none-any.whl", "has_sig": false, "md5_digest": "c3924ec503fb9f708206e2bfee297142", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 15323, "upload_time": "2020-02-06T20:58:54", "upload_time_iso_8601": "2020-02-06T20:58:54.222980Z", "url": "https://files.pythonhosted.org/packages/25/d8/3e80b6ce13b9ce584d5045ce194e863c507f3f83b7b6bcffe5245e518d43/django_shibboleth_remoteuser-0.12-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e7acc8832915a76089aad714bbf56d7b", "sha256": "9e8a4aac75f24e473593bfd1fce210731e1324658d23c98e5fbb26492b96fc3f"}, "downloads": -1, "filename": "django-shibboleth-remoteuser-0.12.tar.gz", "has_sig": false, "md5_digest": "e7acc8832915a76089aad714bbf56d7b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13005, "upload_time": "2020-02-06T20:58:55", "upload_time_iso_8601": "2020-02-06T20:58:55.863468Z", "url": "https://files.pythonhosted.org/packages/81/67/d2c715dad282ee2b8ef83569dff149f7d7f5da767898bd3331f9ebe7df9b/django-shibboleth-remoteuser-0.12.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:53:31 2020"}
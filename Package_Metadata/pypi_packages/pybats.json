{"info": {"author": "Isaac Lavine", "author_email": "lavine.isaac@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# PyBATS\n\nPyBATS is a package for Bayesian time series modeling and forecasting. It is designed to be flexible, offering many options to customize the model form, prior, and forecast period. The focus of the package is the class Dynamic Generalized Linear Model ('dglm'). The supported DGLMs are Poisson, Bernoulli, Normal (a DLM), and Binomial. These models are based upon *Bayesian Forecasting and Dynamic Models*, by West and Harrison (1997).\n\n## Installation\nPyBATS is in development, and is currently hosted on [GitHub](https://github.com/lavinei/pybats). You can download and install from there:\n\n```\n$ git clone git@github.com:lavinei/pybats.git pybats\n$ cd pybats\n$ sudo python setup.py install\n```\n\n## Quick Start\nThis provides the most basic example of Bayesian time series analysis using PyBATS. We'll use a public dataset of the sales of a dietary weight control product, along with the advertising spend. These are integer valued counts, which we model with a Poisson Dynamic Generalized Linear Model (DGLM).\n\nFirst we load in the data, and take a quick look at the first couples of entries:\n```\nimport numpy as np\nfrom pybats.shared import load_sales_example\n\ndata = load_sales_example()                                 # Load example sales and advertising data. Source: Abraham & Ledolter (1983)\n```\n| Sales | Advertising |\n|-------|-------------|\n| 15    | 12.0        |\n| 16    | 20.5        |\n| 18    | 21.0        |\n\nSecond, we extract the outcome (_Y_) and covariate (_X_) from this dataset. We'll set the forecast horizon _k=1_ for this example. We could look at multiple forecast horizons by setting k to a larger value. Then the 'analysis' function will automatically perform marginal forecasts across horizons _1:k_.\n\nFinally, we set the start and end time for forecasting. In this case we specify the start and end date with integers, because there are no dates associated with this dataset.\n```\nY = data['Sales'].values\nX = data['Advertising'].values\n\nk = 1                                                       # Forecast 1 step ahead\nforecast_start = 15                                         # Start forecast at time step 15\nforecast_end = 35                                           # End forecast at time step 35 (final time step)\n```\n\nWe use the _analysis_ function as a helper to a) define the model b) Run sequential updating (forward filtering) and c) forecasting. By default, it will return samples from the forecast distribution as well as the model after the final observation.\n```\nfrom pybats.analysis import analysis\n\nmod, samples = analysis(Y, X, family=\"poisson\",\nforecast_start=forecast_start,      # First time step to forecast on\nforecast_end=forecast_end,          # Final time step to forecast on\nk=k,                                # Forecast horizon. If k>1, default is to forecast 1:k steps ahead, marginally\nprior_length=6,                     # How many data point to use in defining prior\nrho=.5,                             # Random effect extension, increases variance of Poisson DGLM (see Berry and West, 2019)\ndeltrend=0.95,                      # Discount factor on the trend component (intercept)\ndelregn=0.95                        # Discount factor on the regression component\n)\n```\n\nThe model has the posterior mean and variance of the state vector stored as ```mod.a``` and ```mod.C``` respectively.  In this example, we are purely interested in the forecasts. We plot the sales, median forecast, and 95\\% credible interval.\n```\nimport matplotlib.pyplot as plt\nfrom pybats.point_forecast import median\nfrom pybats.plot import plot_data_forecast, ax_style\n\nforecast = median(samples)                                  # Take the median as the point forecast\n\n\nfig, ax = plt.subplots(1,1)                                 # Plot the 1-step ahead point forecast plus the 95% credible interval\nax = plot_data_forecast(fig, ax, Y[forecast_start:forecast_end + k], forecast, samples,\n                        dates=np.arange(forecast_start, forecast_end+1, dtype='int'))\nax = ax_style(ax, ylabel='Sales', xlabel='Time', xlim=[forecast_start, forecast_end],\n              legend=['Forecast', 'Sales', 'Credible Interval'])\nplt.savefig('./forecast.jpg')\n```\n\nThe resulting forecast image is:\n![forecast](https://raw.githubusercontent.com/lavinei/pybats/master/examples/forecast.jpg?token=AFB5IUD5IC6S34A4VJM7MT25VYLZQ \"1-step Forecasts and Credible Intervals\")\n\n**References:**\n\n 1. West, M., Harrison, J., 1997. *Bayesian Forecasting and Dynamic Models*, 2nd Edition. Springer-Verlag,\nNew York, Inc.\n\n2. Berry, L., and West, M. 2019. \"Bayesian forecasting of many count-valued time series\". *Journal of Business and Economic Statistics*.\n\n**Acknowledgements:**\n\nPyBATS was developed with support from [84.51](https://www.8451.com).\n\n**Contributors:**\n\n[Isaac Lavine](https://lavinei.github.io/), [Andrew Cron](https://www.linkedin.com/in/andrewjcron/)\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://lavinei.github.io/pybats/", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "pybats", "package_url": "https://pypi.org/project/pybats/", "platform": "", "project_url": "https://pypi.org/project/pybats/", "project_urls": {"Homepage": "https://lavinei.github.io/pybats/"}, "release_url": "https://pypi.org/project/pybats/0.0.1/", "requires_dist": ["pandas", "numpy", "statsmodels", "scipy"], "requires_python": ">=3.6", "summary": "Bayesian Forecasting of Time Series", "version": "0.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>PyBATS</h1>\n<p>PyBATS is a package for Bayesian time series modeling and forecasting. It is designed to be flexible, offering many options to customize the model form, prior, and forecast period. The focus of the package is the class Dynamic Generalized Linear Model ('dglm'). The supported DGLMs are Poisson, Bernoulli, Normal (a DLM), and Binomial. These models are based upon <em>Bayesian Forecasting and Dynamic Models</em>, by West and Harrison (1997).</p>\n<h2>Installation</h2>\n<p>PyBATS is in development, and is currently hosted on <a href=\"https://github.com/lavinei/pybats\" rel=\"nofollow\">GitHub</a>. You can download and install from there:</p>\n<pre><code>$ git clone git@github.com:lavinei/pybats.git pybats\n$ cd pybats\n$ sudo python setup.py install\n</code></pre>\n<h2>Quick Start</h2>\n<p>This provides the most basic example of Bayesian time series analysis using PyBATS. We'll use a public dataset of the sales of a dietary weight control product, along with the advertising spend. These are integer valued counts, which we model with a Poisson Dynamic Generalized Linear Model (DGLM).</p>\n<p>First we load in the data, and take a quick look at the first couples of entries:</p>\n<pre><code>import numpy as np\nfrom pybats.shared import load_sales_example\n\ndata = load_sales_example()                                 # Load example sales and advertising data. Source: Abraham &amp; Ledolter (1983)\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>Sales</th>\n<th>Advertising</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>15</td>\n<td>12.0</td>\n</tr>\n<tr>\n<td>16</td>\n<td>20.5</td>\n</tr>\n<tr>\n<td>18</td>\n<td>21.0</td>\n</tr></tbody></table>\n<p>Second, we extract the outcome (<em>Y</em>) and covariate (<em>X</em>) from this dataset. We'll set the forecast horizon <em>k=1</em> for this example. We could look at multiple forecast horizons by setting k to a larger value. Then the 'analysis' function will automatically perform marginal forecasts across horizons <em>1:k</em>.</p>\n<p>Finally, we set the start and end time for forecasting. In this case we specify the start and end date with integers, because there are no dates associated with this dataset.</p>\n<pre><code>Y = data['Sales'].values\nX = data['Advertising'].values\n\nk = 1                                                       # Forecast 1 step ahead\nforecast_start = 15                                         # Start forecast at time step 15\nforecast_end = 35                                           # End forecast at time step 35 (final time step)\n</code></pre>\n<p>We use the <em>analysis</em> function as a helper to a) define the model b) Run sequential updating (forward filtering) and c) forecasting. By default, it will return samples from the forecast distribution as well as the model after the final observation.</p>\n<pre><code>from pybats.analysis import analysis\n\nmod, samples = analysis(Y, X, family=\"poisson\",\nforecast_start=forecast_start,      # First time step to forecast on\nforecast_end=forecast_end,          # Final time step to forecast on\nk=k,                                # Forecast horizon. If k&gt;1, default is to forecast 1:k steps ahead, marginally\nprior_length=6,                     # How many data point to use in defining prior\nrho=.5,                             # Random effect extension, increases variance of Poisson DGLM (see Berry and West, 2019)\ndeltrend=0.95,                      # Discount factor on the trend component (intercept)\ndelregn=0.95                        # Discount factor on the regression component\n)\n</code></pre>\n<p>The model has the posterior mean and variance of the state vector stored as <code>mod.a</code> and <code>mod.C</code> respectively.  In this example, we are purely interested in the forecasts. We plot the sales, median forecast, and 95% credible interval.</p>\n<pre><code>import matplotlib.pyplot as plt\nfrom pybats.point_forecast import median\nfrom pybats.plot import plot_data_forecast, ax_style\n\nforecast = median(samples)                                  # Take the median as the point forecast\n\n\nfig, ax = plt.subplots(1,1)                                 # Plot the 1-step ahead point forecast plus the 95% credible interval\nax = plot_data_forecast(fig, ax, Y[forecast_start:forecast_end + k], forecast, samples,\n                        dates=np.arange(forecast_start, forecast_end+1, dtype='int'))\nax = ax_style(ax, ylabel='Sales', xlabel='Time', xlim=[forecast_start, forecast_end],\n              legend=['Forecast', 'Sales', 'Credible Interval'])\nplt.savefig('./forecast.jpg')\n</code></pre>\n<p>The resulting forecast image is:\n<img alt=\"forecast\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/994a4e1ccec8fb578c1f903354aaaf4ee5778df0/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6c6176696e65692f7079626174732f6d61737465722f6578616d706c65732f666f7265636173742e6a70673f746f6b656e3d41464235495544354943365333344134564a4d374d54323556594c5a51\"></p>\n<p><strong>References:</strong></p>\n<ol>\n<li>\n<p>West, M., Harrison, J., 1997. <em>Bayesian Forecasting and Dynamic Models</em>, 2nd Edition. Springer-Verlag,\nNew York, Inc.</p>\n</li>\n<li>\n<p>Berry, L., and West, M. 2019. \"Bayesian forecasting of many count-valued time series\". <em>Journal of Business and Economic Statistics</em>.</p>\n</li>\n</ol>\n<p><strong>Acknowledgements:</strong></p>\n<p>PyBATS was developed with support from <a href=\"https://www.8451.com\" rel=\"nofollow\">84.51</a>.</p>\n<p><strong>Contributors:</strong></p>\n<p><a href=\"https://lavinei.github.io/\" rel=\"nofollow\">Isaac Lavine</a>, <a href=\"https://www.linkedin.com/in/andrewjcron/\" rel=\"nofollow\">Andrew Cron</a></p>\n\n          </div>"}, "last_serial": 6259762, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "e7cd5585ed2165ed1266477c1fba0ef1", "sha256": "638e60de736b2451a05674aeb9229abfd39d599ccba6306ab5159363e85d0950"}, "downloads": -1, "filename": "pybats-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "e7cd5585ed2165ed1266477c1fba0ef1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 212735, "upload_time": "2019-12-07T22:17:41", "upload_time_iso_8601": "2019-12-07T22:17:41.383804Z", "url": "https://files.pythonhosted.org/packages/7e/ab/811de9bcac31eb254b1b4e8af904cdd878ebd6922c4a672abe923c04f7f5/pybats-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2882549a591a5824fe08b6c8f2ad8856", "sha256": "08bb9d74bdea87451fb8384ddebc066f4102ebfe2c117bb6c1110ed03a098a62"}, "downloads": -1, "filename": "pybats-0.0.1.tar.gz", "has_sig": false, "md5_digest": "2882549a591a5824fe08b6c8f2ad8856", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 212331, "upload_time": "2019-12-07T22:17:44", "upload_time_iso_8601": "2019-12-07T22:17:44.344919Z", "url": "https://files.pythonhosted.org/packages/be/ec/7a93b961b3b8c76f0cb758c78c3325a89399db4c21bbc7350837987a7da8/pybats-0.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e7cd5585ed2165ed1266477c1fba0ef1", "sha256": "638e60de736b2451a05674aeb9229abfd39d599ccba6306ab5159363e85d0950"}, "downloads": -1, "filename": "pybats-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "e7cd5585ed2165ed1266477c1fba0ef1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 212735, "upload_time": "2019-12-07T22:17:41", "upload_time_iso_8601": "2019-12-07T22:17:41.383804Z", "url": "https://files.pythonhosted.org/packages/7e/ab/811de9bcac31eb254b1b4e8af904cdd878ebd6922c4a672abe923c04f7f5/pybats-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2882549a591a5824fe08b6c8f2ad8856", "sha256": "08bb9d74bdea87451fb8384ddebc066f4102ebfe2c117bb6c1110ed03a098a62"}, "downloads": -1, "filename": "pybats-0.0.1.tar.gz", "has_sig": false, "md5_digest": "2882549a591a5824fe08b6c8f2ad8856", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 212331, "upload_time": "2019-12-07T22:17:44", "upload_time_iso_8601": "2019-12-07T22:17:44.344919Z", "url": "https://files.pythonhosted.org/packages/be/ec/7a93b961b3b8c76f0cb758c78c3325a89399db4c21bbc7350837987a7da8/pybats-0.0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:09:22 2020"}
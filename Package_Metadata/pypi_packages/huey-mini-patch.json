{"info": {"author": "Charles Leifer", "author_email": "coleifer@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": ".. image:: http://media.charlesleifer.com/blog/photos/huey2-logo.png\n\n*a lightweight alternative*.\n\nhuey is:\n\n* a task queue (**2019-04-01**: `version 2.0 released <https://huey.readthedocs.io/en/latest/changes.html>`_)\n* written in python (2.7+, 3.4+)\n* clean and simple API\n* redis, sqlite, or in-memory storage\n* `example code <https://github.com/coleifer/huey/tree/master/examples/>`_.\n\nhuey supports:\n\n* multi-process, multi-thread or greenlet task execution models\n* schedule tasks to execute at a given time, or after a given delay\n* schedule recurring tasks, like a crontab\n* automatically retry tasks that fail\n* task prioritization\n* task result storage\n* task locking\n* task pipelines and chains\n\n.. image:: http://i.imgur.com/2EpRs.jpg\n\n.. image:: https://api.travis-ci.org/coleifer/huey.svg?branch=master\n\nAt a glance\n-----------\n\n.. code-block:: python\n\n    from huey import RedisHuey, crontab\n\n    huey = RedisHuey('my-app', host='redis.myapp.com')\n\n    @huey.task()\n    def add_numbers(a, b):\n        return a + b\n\n    @huey.task(retries=2, retry_delay=60)\n    def flaky_task(url):\n        # This task might fail, in which case it will be retried up to 2 times\n        # with a delay of 60s between retries.\n        return this_might_fail(url)\n\n    @huey.periodic_task(crontab(minute='0', hour='3'))\n    def nightly_backup():\n        sync_all_data()\n\nCalling a ``task``-decorated function will enqueue the function call for\nexecution by the consumer. A special result handle is returned immediately,\nwhich can be used to fetch the result once the task is finished:\n\n.. code-block:: pycon\n\n    >>> from demo import add_numbers\n    >>> res = add_numbers(1, 2)\n    >>> res\n    <Result: task 6b6f36fc-da0d-4069-b46c-c0d4ccff1df6>\n\n    >>> res()\n    3\n\nTasks can be scheduled to run in the future:\n\n.. code-block:: pycon\n\n    >>> res = add_numbers.schedule((2, 3), delay=10)  # Will be run in ~10s.\n    >>> res(blocking=True)  # Will block until task finishes, in ~10s.\n    5\n\nFor much more, check out the `guide <https://huey.readthedocs.io/en/latest/guide.html>`_\nor take a look at the `example code <https://github.com/coleifer/huey/tree/master/examples/>`_.\n\nRunning the consumer\n^^^^^^^^^^^^^^^^^^^^\n\nRun the consumer with four worker processes:\n\n.. code-block:: console\n\n    $ huey_consumer.py my_app.huey -k process -w 4\n\nTo run the consumer with a single worker thread (default):\n\n.. code-block:: console\n\n    $ huey_consumer.py my_app.huey\n\nIf your work-loads are mostly IO-bound, you can run the consumer with threads\nor greenlets instead. Because greenlets are so lightweight, you can run quite a\nfew of them efficiently:\n\n.. code-block:: console\n\n    $ huey_consumer.py my_app.huey -k greenlet -w 32\n\nStorage\n-------\n\nHuey's design and feature-set were informed by the capabilities of the\n`Redis <https://redis.io>`_ database. Redis is a fantastic fit for a\nlightweight task queueing library like Huey: it's self-contained, versatile,\nand can be a multi-purpose solution for other web-application tasks like\ncaching, event publishing, analytics, rate-limiting, and more.\n\nAlthough Huey was designed with Redis in mind, the storage system implements a\nsimple API and many other tools could be used instead of Redis if that's your\npreference.\n\nHuey comes with builtin support for Redis, Sqlite and in-memory storage.\n\nDocumentation\n----------------\n\n`See Huey documentation <https://huey.readthedocs.io/>`_.\n\nProject page\n---------------\n\n`See source code and issue tracker on Github <https://github.com/coleifer/huey/>`_.\n\nHuey is named in honor of my cat:\n\n.. image:: http://m.charlesleifer.com/t/800x-/blog/photos/p1473037658.76.jpg?key=mD9_qMaKBAuGPi95KzXYqg\n\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/coleifer/huey/", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "huey-mini-patch", "package_url": "https://pypi.org/project/huey-mini-patch/", "platform": "", "project_url": "https://pypi.org/project/huey-mini-patch/", "project_urls": {"Homepage": "http://github.com/coleifer/huey/"}, "release_url": "https://pypi.org/project/huey-mini-patch/2.2.1/", "requires_dist": ["redis (>=3.0.0) ; extra == 'backends'", "redis (>=3.0.0) ; extra == 'redis'"], "requires_python": "", "summary": "huey, a little task queue", "version": "2.2.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <img alt=\"http://media.charlesleifer.com/blog/photos/huey2-logo.png\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ff0b1fe557714fda63572cef0bca5bddbe3ed5c9/687474703a2f2f6d656469612e636861726c65736c65696665722e636f6d2f626c6f672f70686f746f732f68756579322d6c6f676f2e706e67\">\n<p><em>a lightweight alternative</em>.</p>\n<p>huey is:</p>\n<ul>\n<li>a task queue (<strong>2019-04-01</strong>: <a href=\"https://huey.readthedocs.io/en/latest/changes.html\" rel=\"nofollow\">version 2.0 released</a>)</li>\n<li>written in python (2.7+, 3.4+)</li>\n<li>clean and simple API</li>\n<li>redis, sqlite, or in-memory storage</li>\n<li><a href=\"https://github.com/coleifer/huey/tree/master/examples/\" rel=\"nofollow\">example code</a>.</li>\n</ul>\n<p>huey supports:</p>\n<ul>\n<li>multi-process, multi-thread or greenlet task execution models</li>\n<li>schedule tasks to execute at a given time, or after a given delay</li>\n<li>schedule recurring tasks, like a crontab</li>\n<li>automatically retry tasks that fail</li>\n<li>task prioritization</li>\n<li>task result storage</li>\n<li>task locking</li>\n<li>task pipelines and chains</li>\n</ul>\n<img alt=\"http://i.imgur.com/2EpRs.jpg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9868279c20e39e2abc9479aebb7bc275c5cb4552/687474703a2f2f692e696d6775722e636f6d2f32457052732e6a7067\">\n<img alt=\"https://api.travis-ci.org/coleifer/huey.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f849347bfa626a9558a5ff94ebdb06da23ea764a/68747470733a2f2f6170692e7472617669732d63692e6f72672f636f6c65696665722f687565792e7376673f6272616e63683d6d6173746572\">\n<div id=\"at-a-glance\">\n<h2>At a glance</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">huey</span> <span class=\"kn\">import</span> <span class=\"n\">RedisHuey</span><span class=\"p\">,</span> <span class=\"n\">crontab</span>\n\n<span class=\"n\">huey</span> <span class=\"o\">=</span> <span class=\"n\">RedisHuey</span><span class=\"p\">(</span><span class=\"s1\">'my-app'</span><span class=\"p\">,</span> <span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'redis.myapp.com'</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@huey</span><span class=\"o\">.</span><span class=\"n\">task</span><span class=\"p\">()</span>\n<span class=\"k\">def</span> <span class=\"nf\">add_numbers</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">a</span> <span class=\"o\">+</span> <span class=\"n\">b</span>\n\n<span class=\"nd\">@huey</span><span class=\"o\">.</span><span class=\"n\">task</span><span class=\"p\">(</span><span class=\"n\">retries</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">retry_delay</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">flaky_task</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">):</span>\n    <span class=\"c1\"># This task might fail, in which case it will be retried up to 2 times</span>\n    <span class=\"c1\"># with a delay of 60s between retries.</span>\n    <span class=\"k\">return</span> <span class=\"n\">this_might_fail</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@huey</span><span class=\"o\">.</span><span class=\"n\">periodic_task</span><span class=\"p\">(</span><span class=\"n\">crontab</span><span class=\"p\">(</span><span class=\"n\">minute</span><span class=\"o\">=</span><span class=\"s1\">'0'</span><span class=\"p\">,</span> <span class=\"n\">hour</span><span class=\"o\">=</span><span class=\"s1\">'3'</span><span class=\"p\">))</span>\n<span class=\"k\">def</span> <span class=\"nf\">nightly_backup</span><span class=\"p\">():</span>\n    <span class=\"n\">sync_all_data</span><span class=\"p\">()</span>\n</pre>\n<p>Calling a <tt>task</tt>-decorated function will enqueue the function call for\nexecution by the consumer. A special result handle is returned immediately,\nwhich can be used to fetch the result once the task is finished:</p>\n<pre><span class=\"kn\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">demo</span> <span class=\"kn\">import</span> <span class=\"n\">add_numbers</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">add_numbers</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span>\n<span class=\"go\">&lt;Result: task 6b6f36fc-da0d-4069-b46c-c0d4ccff1df6&gt;\n\n</span><span class=\"n\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span><span class=\"p\">()</span>\n<span class=\"go\">3</span>\n</pre>\n<p>Tasks can be scheduled to run in the future:</p>\n<pre><span class=\"n\"></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">add_numbers</span><span class=\"o\">.</span><span class=\"n\">schedule</span><span class=\"p\">((</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"n\">delay</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">)</span>  <span class=\"c1\"># Will be run in ~10s.</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span><span class=\"p\">(</span><span class=\"n\">blocking</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>  <span class=\"c1\"># Will block until task finishes, in ~10s.</span>\n<span class=\"go\">5</span>\n</pre>\n<p>For much more, check out the <a href=\"https://huey.readthedocs.io/en/latest/guide.html\" rel=\"nofollow\">guide</a>\nor take a look at the <a href=\"https://github.com/coleifer/huey/tree/master/examples/\" rel=\"nofollow\">example code</a>.</p>\n<div id=\"running-the-consumer\">\n<h3>Running the consumer</h3>\n<p>Run the consumer with four worker processes:</p>\n<pre><span class=\"gp\">$</span> huey_consumer.py my_app.huey -k process -w <span class=\"m\">4</span>\n</pre>\n<p>To run the consumer with a single worker thread (default):</p>\n<pre><span class=\"gp\">$</span> huey_consumer.py my_app.huey\n</pre>\n<p>If your work-loads are mostly IO-bound, you can run the consumer with threads\nor greenlets instead. Because greenlets are so lightweight, you can run quite a\nfew of them efficiently:</p>\n<pre><span class=\"gp\">$</span> huey_consumer.py my_app.huey -k greenlet -w <span class=\"m\">32</span>\n</pre>\n</div>\n</div>\n<div id=\"storage\">\n<h2>Storage</h2>\n<p>Huey\u2019s design and feature-set were informed by the capabilities of the\n<a href=\"https://redis.io\" rel=\"nofollow\">Redis</a> database. Redis is a fantastic fit for a\nlightweight task queueing library like Huey: it\u2019s self-contained, versatile,\nand can be a multi-purpose solution for other web-application tasks like\ncaching, event publishing, analytics, rate-limiting, and more.</p>\n<p>Although Huey was designed with Redis in mind, the storage system implements a\nsimple API and many other tools could be used instead of Redis if that\u2019s your\npreference.</p>\n<p>Huey comes with builtin support for Redis, Sqlite and in-memory storage.</p>\n</div>\n<div id=\"documentation\">\n<h2>Documentation</h2>\n<p><a href=\"https://huey.readthedocs.io/\" rel=\"nofollow\">See Huey documentation</a>.</p>\n</div>\n<div id=\"project-page\">\n<h2>Project page</h2>\n<p><a href=\"https://github.com/coleifer/huey/\" rel=\"nofollow\">See source code and issue tracker on Github</a>.</p>\n<p>Huey is named in honor of my cat:</p>\n<img alt=\"http://m.charlesleifer.com/t/800x-/blog/photos/p1473037658.76.jpg?key=mD9_qMaKBAuGPi95KzXYqg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/925a33fe0f83d61bd18298e3899f00adecc6678f/687474703a2f2f6d2e636861726c65736c65696665722e636f6d2f742f383030782d2f626c6f672f70686f746f732f70313437333033373635382e37362e6a70673f6b65793d6d44395f714d614b42417547506939354b7a58597167\">\n</div>\n\n          </div>"}, "last_serial": 6753694, "releases": {"2.2.1": [{"comment_text": "", "digests": {"md5": "91667d7b42b0a04d48b820207cf980c6", "sha256": "ecdf55e91a24a9bc009f0df4c34447b9139fcdbcf27f46bfa32fc611d6ba368e"}, "downloads": -1, "filename": "huey_mini_patch-2.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "91667d7b42b0a04d48b820207cf980c6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 68405, "upload_time": "2020-03-05T07:52:41", "upload_time_iso_8601": "2020-03-05T07:52:41.003884Z", "url": "https://files.pythonhosted.org/packages/93/a7/dfa432803ef6f7d5d0d80607b4cab30128676596c1c9cda22027b1fd3750/huey_mini_patch-2.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "dfa3f559a12211071d525666cd90fc2b", "sha256": "37c435f3939f0e16530c618d6d8b35af4d3b64de60a65ab8339f879643f0c7e6"}, "downloads": -1, "filename": "huey-mini-patch-2.2.1.tar.gz", "has_sig": false, "md5_digest": "dfa3f559a12211071d525666cd90fc2b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 197919, "upload_time": "2020-03-05T07:52:44", "upload_time_iso_8601": "2020-03-05T07:52:44.517978Z", "url": "https://files.pythonhosted.org/packages/01/48/0a78919279d60220fad861a109a23fc8eb0ee91bcba1f06d64781436cf8b/huey-mini-patch-2.2.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "91667d7b42b0a04d48b820207cf980c6", "sha256": "ecdf55e91a24a9bc009f0df4c34447b9139fcdbcf27f46bfa32fc611d6ba368e"}, "downloads": -1, "filename": "huey_mini_patch-2.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "91667d7b42b0a04d48b820207cf980c6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 68405, "upload_time": "2020-03-05T07:52:41", "upload_time_iso_8601": "2020-03-05T07:52:41.003884Z", "url": "https://files.pythonhosted.org/packages/93/a7/dfa432803ef6f7d5d0d80607b4cab30128676596c1c9cda22027b1fd3750/huey_mini_patch-2.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "dfa3f559a12211071d525666cd90fc2b", "sha256": "37c435f3939f0e16530c618d6d8b35af4d3b64de60a65ab8339f879643f0c7e6"}, "downloads": -1, "filename": "huey-mini-patch-2.2.1.tar.gz", "has_sig": false, "md5_digest": "dfa3f559a12211071d525666cd90fc2b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 197919, "upload_time": "2020-03-05T07:52:44", "upload_time_iso_8601": "2020-03-05T07:52:44.517978Z", "url": "https://files.pythonhosted.org/packages/01/48/0a78919279d60220fad861a109a23fc8eb0ee91bcba1f06d64781436cf8b/huey-mini-patch-2.2.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:49:55 2020"}
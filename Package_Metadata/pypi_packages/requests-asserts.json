{"info": {"author": "Adrian Dankiv", "author_email": "adr-007@ukr.net", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Internet :: WWW/HTTP", "Topic :: Software Development :: Testing", "Topic :: Software Development :: Testing :: Mocking", "Topic :: Software Development :: Testing :: Unit"], "description": "[![Coverage Status](https://coveralls.io/repos/github/ADR-007/requests-asserts/badge.svg?branch=master)](https://coveralls.io/github/ADR-007/requests-asserts?branch=master)\n\nUsed to mock response and validate that the requests happened in the right order with right data\n\nUsage example:\n```py\nimport requests\nfrom unittests import TestCase \n\ndef get_likes_on_post(username, password, post_id):\n    access_token = requests.post(\n        'http://my.site/login',\n        json={'username': username, 'password': password}\n    ).json()['access_token']\n\n    likes = requests.get(\n        f'http://my.site/posts/{post_id}',\n        headers={\n            'Accept': 'application/json', \n            'Authorization': f'Bearer {access_token}'\n        }\n    ).json()['likes']\n\n    return likes\n\nclass TestGetLikesOnPost(TestCase):\n    @RequestMock.assert_requests([\n        RequestMock(\n            request_url='http://my.site/login',\n            request_json={'username': 'the name', 'password': 'the password'},\n            request_method=RequestMock.Method.POST,\n            response_json={\"access_token\": 'the-token'}\n        ),\n        RequestMock(\n            request_url='http://my.site/posts/3',\n            request_headers_contains={'Authorization': 'Bearer the-token'},\n            response_json={'name': 'The cool story', 'likes': 42}\n        )\n    ])\n    def test_get_likes_on_post(self):\n        self.assertEqual(42, get_likes_on_post('the name', 'the password', 3))\n\n```\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/ADR-007/requests-asserts", "keywords": "mock,requests,unittests,tests,http", "license": "MIT", "maintainer": "Adrian Dankiv", "maintainer_email": "adr-007@ukr.net", "name": "requests-asserts", "package_url": "https://pypi.org/project/requests-asserts/", "platform": "", "project_url": "https://pypi.org/project/requests-asserts/", "project_urls": {"Homepage": "https://github.com/ADR-007/requests-asserts", "Repository": "https://github.com/ADR-007/requests-asserts"}, "release_url": "https://pypi.org/project/requests-asserts/0.1.2/", "requires_dist": ["requests (>=2.22,<3.0)", "responses (>=0.10.6,<0.11.0)"], "requires_python": ">=3.6,<4.0", "summary": "The library to help test your HTTP requests using unittests", "version": "0.1.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://coveralls.io/github/ADR-007/requests-asserts?branch=master\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9353f5fa3d64ce978a1f1de85bab37bcfca958aa/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f4144522d3030372f72657175657374732d617373657274732f62616467652e7376673f6272616e63683d6d6173746572\"></a></p>\n<p>Used to mock response and validate that the requests happened in the right order with right data</p>\n<p>Usage example:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"kn\">from</span> <span class=\"nn\">unittests</span> <span class=\"kn\">import</span> <span class=\"n\">TestCase</span> \n\n<span class=\"k\">def</span> <span class=\"nf\">get_likes_on_post</span><span class=\"p\">(</span><span class=\"n\">username</span><span class=\"p\">,</span> <span class=\"n\">password</span><span class=\"p\">,</span> <span class=\"n\">post_id</span><span class=\"p\">):</span>\n    <span class=\"n\">access_token</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span>\n        <span class=\"s1\">'http://my.site/login'</span><span class=\"p\">,</span>\n        <span class=\"n\">json</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'username'</span><span class=\"p\">:</span> <span class=\"n\">username</span><span class=\"p\">,</span> <span class=\"s1\">'password'</span><span class=\"p\">:</span> <span class=\"n\">password</span><span class=\"p\">}</span>\n    <span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()[</span><span class=\"s1\">'access_token'</span><span class=\"p\">]</span>\n\n    <span class=\"n\">likes</span> <span class=\"o\">=</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span>\n        <span class=\"sa\">f</span><span class=\"s1\">'http://my.site/posts/</span><span class=\"si\">{</span><span class=\"n\">post_id</span><span class=\"si\">}</span><span class=\"s1\">'</span><span class=\"p\">,</span>\n        <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"p\">{</span>\n            <span class=\"s1\">'Accept'</span><span class=\"p\">:</span> <span class=\"s1\">'application/json'</span><span class=\"p\">,</span> \n            <span class=\"s1\">'Authorization'</span><span class=\"p\">:</span> <span class=\"sa\">f</span><span class=\"s1\">'Bearer </span><span class=\"si\">{</span><span class=\"n\">access_token</span><span class=\"si\">}</span><span class=\"s1\">'</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()[</span><span class=\"s1\">'likes'</span><span class=\"p\">]</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">likes</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">TestGetLikesOnPost</span><span class=\"p\">(</span><span class=\"n\">TestCase</span><span class=\"p\">):</span>\n    <span class=\"nd\">@RequestMock</span><span class=\"o\">.</span><span class=\"n\">assert_requests</span><span class=\"p\">([</span>\n        <span class=\"n\">RequestMock</span><span class=\"p\">(</span>\n            <span class=\"n\">request_url</span><span class=\"o\">=</span><span class=\"s1\">'http://my.site/login'</span><span class=\"p\">,</span>\n            <span class=\"n\">request_json</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'username'</span><span class=\"p\">:</span> <span class=\"s1\">'the name'</span><span class=\"p\">,</span> <span class=\"s1\">'password'</span><span class=\"p\">:</span> <span class=\"s1\">'the password'</span><span class=\"p\">},</span>\n            <span class=\"n\">request_method</span><span class=\"o\">=</span><span class=\"n\">RequestMock</span><span class=\"o\">.</span><span class=\"n\">Method</span><span class=\"o\">.</span><span class=\"n\">POST</span><span class=\"p\">,</span>\n            <span class=\"n\">response_json</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">\"access_token\"</span><span class=\"p\">:</span> <span class=\"s1\">'the-token'</span><span class=\"p\">}</span>\n        <span class=\"p\">),</span>\n        <span class=\"n\">RequestMock</span><span class=\"p\">(</span>\n            <span class=\"n\">request_url</span><span class=\"o\">=</span><span class=\"s1\">'http://my.site/posts/3'</span><span class=\"p\">,</span>\n            <span class=\"n\">request_headers_contains</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'Authorization'</span><span class=\"p\">:</span> <span class=\"s1\">'Bearer the-token'</span><span class=\"p\">},</span>\n            <span class=\"n\">response_json</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s1\">'The cool story'</span><span class=\"p\">,</span> <span class=\"s1\">'likes'</span><span class=\"p\">:</span> <span class=\"mi\">42</span><span class=\"p\">}</span>\n        <span class=\"p\">)</span>\n    <span class=\"p\">])</span>\n    <span class=\"k\">def</span> <span class=\"nf\">test_get_likes_on_post</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">assertEqual</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">,</span> <span class=\"n\">get_likes_on_post</span><span class=\"p\">(</span><span class=\"s1\">'the name'</span><span class=\"p\">,</span> <span class=\"s1\">'the password'</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">))</span>\n</pre>\n\n          </div>"}, "last_serial": 6108064, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "9dad91b0a20e32b96d9903f7bda89f8b", "sha256": "42f9f7309c5d76b65221fcc90c02a8f4733e4a2186fcb5758c9377c58e4c7eb0"}, "downloads": -1, "filename": "requests_asserts-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "9dad91b0a20e32b96d9903f7bda89f8b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 3784, "upload_time": "2019-10-27T23:39:07", "upload_time_iso_8601": "2019-10-27T23:39:07.468617Z", "url": "https://files.pythonhosted.org/packages/95/51/d7da9c8e41d0768d0e789807672d82dd87a77639c2b3387b8effd7155b46/requests_asserts-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a696267355f9e16376fd0f92fcd809d4", "sha256": "542e851c1c07f29e7a46f64994ac9309a8589296b7d985f8342beae566f6474f"}, "downloads": -1, "filename": "requests-asserts-0.1.0.tar.gz", "has_sig": false, "md5_digest": "a696267355f9e16376fd0f92fcd809d4", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 3380, "upload_time": "2019-10-27T23:39:05", "upload_time_iso_8601": "2019-10-27T23:39:05.117521Z", "url": "https://files.pythonhosted.org/packages/8d/03/f22614f5ab208e87ebabf519c603af73384c2d18064f535240766825d479/requests-asserts-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "3614b679bb9e24ff22a4a5d4f0e6aa8a", "sha256": "6e328c7bfae043c02afa66333c45e764484175afd17083a62fe0cb144672234d"}, "downloads": -1, "filename": "requests_asserts-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "3614b679bb9e24ff22a4a5d4f0e6aa8a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 4470, "upload_time": "2019-10-27T23:53:52", "upload_time_iso_8601": "2019-10-27T23:53:52.225378Z", "url": "https://files.pythonhosted.org/packages/35/2f/4e51e8a02a7b7cff518cafca8d1eea508d6dd6f6901bb5d09734e6e0cd0a/requests_asserts-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3560ba04427f058cc9d366dc1aa1bdd1", "sha256": "d9974b8c264cf41f2ecf1a0b513a990ba188ce61d054695c0066980dfe64420c"}, "downloads": -1, "filename": "requests-asserts-0.1.1.tar.gz", "has_sig": false, "md5_digest": "3560ba04427f058cc9d366dc1aa1bdd1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 4146, "upload_time": "2019-10-27T23:53:50", "upload_time_iso_8601": "2019-10-27T23:53:50.566762Z", "url": "https://files.pythonhosted.org/packages/9d/96/0285d37185fdf18695e245ec8f298b6658db0f2a776b5bffd42305449c5f/requests-asserts-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "6d14dfad611bb1b28f664b857b80e944", "sha256": "ed1ba96801aa77b36e5408ac121617d3b46424a8c12a1bc327a0b664981b8790"}, "downloads": -1, "filename": "requests_asserts-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "6d14dfad611bb1b28f664b857b80e944", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 4537, "upload_time": "2019-11-09T18:29:30", "upload_time_iso_8601": "2019-11-09T18:29:30.522185Z", "url": "https://files.pythonhosted.org/packages/e1/29/77e9e0c5ab82eb31da88ed148d2886a0172657081c380c8a98e179767233/requests_asserts-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6399b9112b73a78769ae024b47c96b86", "sha256": "4f5859f94c433e91bc6a299cac479d5e01a5d58d6f093cb44edba886d9f1412f"}, "downloads": -1, "filename": "requests-asserts-0.1.2.tar.gz", "has_sig": false, "md5_digest": "6399b9112b73a78769ae024b47c96b86", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 4205, "upload_time": "2019-11-09T18:29:29", "upload_time_iso_8601": "2019-11-09T18:29:29.152876Z", "url": "https://files.pythonhosted.org/packages/c7/71/1b22c0ecbe360ebe23dd66685d14f92d3401dc6e6774863a004350b39e8f/requests-asserts-0.1.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "6d14dfad611bb1b28f664b857b80e944", "sha256": "ed1ba96801aa77b36e5408ac121617d3b46424a8c12a1bc327a0b664981b8790"}, "downloads": -1, "filename": "requests_asserts-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "6d14dfad611bb1b28f664b857b80e944", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 4537, "upload_time": "2019-11-09T18:29:30", "upload_time_iso_8601": "2019-11-09T18:29:30.522185Z", "url": "https://files.pythonhosted.org/packages/e1/29/77e9e0c5ab82eb31da88ed148d2886a0172657081c380c8a98e179767233/requests_asserts-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6399b9112b73a78769ae024b47c96b86", "sha256": "4f5859f94c433e91bc6a299cac479d5e01a5d58d6f093cb44edba886d9f1412f"}, "downloads": -1, "filename": "requests-asserts-0.1.2.tar.gz", "has_sig": false, "md5_digest": "6399b9112b73a78769ae024b47c96b86", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 4205, "upload_time": "2019-11-09T18:29:29", "upload_time_iso_8601": "2019-11-09T18:29:29.152876Z", "url": "https://files.pythonhosted.org/packages/c7/71/1b22c0ecbe360ebe23dd66685d14f92d3401dc6e6774863a004350b39e8f/requests-asserts-0.1.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:04:11 2020"}
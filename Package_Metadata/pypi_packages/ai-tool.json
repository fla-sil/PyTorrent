{"info": {"author": "yinshunyao", "author_email": "yinshunyao@qq.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": "# ai_tool\nai tool\n\n\n\n# slice picture\n\n```python\nfrom ai_tool.img_slide import yield_sub_img\n# yield the sub image from the jpg\nfor bbox, sub_img in yield_sub_img(\"test.jpg\", 0, 0, 180, 60):\n    clip = \"-\".join([str(x) for x in bbox])\n    print(\"sub img:{}\".format(clip))\n    cv2.imshow(clip, sub_img)\n    cv2.waitKey(0)\n```\n\n\n\n# IoU\n\ncompute the iou for tow boxes,\n\nexample box1 1, 2, 101, 102.  location(1,2)  is  left-up, location(101,102) is right-down.\n\n\n\n```python\nfrom ai_tool.bbox import BBox\nbbox1 = BBox([1, 2, 101, 102])\nbbox2 = BBox([11, 12, 121, 122])\niou = bbox1 / bbox2\nprint(\"iou\", iou)\nassert iou > 0.5\n\nprint('box1 S is', bbox1.S)\nprint('box1 & box2', bbox1 & bbox2)\nprint('box1 == box2', bbox1 == bbox2)\nprint('merge box1 + box2', bbox1 + bbox2)\nprint('merge box1 | box2', bbox1 | bbox2)\n```\n\n\n\nresult is :\n\n```shell\niou 0.5785714285714286\nbox1 S is 10000\nbox1 & box2 [11, 12, 101, 102]\nbox1 == box2 True\nmerge box1 + box2 [1, 2, 121, 122]\nmerge box1 | box2 [1, 2, 121, 122]\n```\n\n\n\n# multi bbox operation\n\n```python\nfrom ai_tool.bbox import BBoxes, BBox\nbb1 = BBoxes(iou_thresh=0.6)\nbb2 = BBoxes()\n\nbb1.append([1,2, 101, 102])\nbb1.append([1000, 2, 1101, 102])\n\nbb2.append([11, 12, 111, 112])\nbb2.append([1, 1002, 101, 1102])\n\n# judge the bbox in bb1\nprint(\"[5, 5, 100, 100] in bb1\", BBox([5, 5, 100, 100]) in bb1)\nprint(\"[100, 5, 200, 100] in bb1\", BBox([100, 5, 200, 100]) in bb1)\n\n# bb1 & bb2\nprint(\"bb1 & bb2\", bb1 & bb2)\nprint(\"bb1 - bb2\", bb1 - bb2)\nprint(\"bb2 - bb1\", bb2 - bb1)\n```\n\n\n\nresult is\n\n```shell\n[5, 5, 100, 100] in bb1 True\n[100, 5, 200, 100] in bb1 False\nbb1 & bb2 [[1, 2, 101, 102]]\nbb1 - bb2 [[1000, 2, 1101, 102]]\nbb2 - bb1 [[1, 1002, 101, 1102]]\n```\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/yinshunyao/ai_tools", "keywords": "ai,tools,iou,picture slice", "license": "MIT License", "maintainer": "", "maintainer_email": "", "name": "ai-tool", "package_url": "https://pypi.org/project/ai-tool/", "platform": "any", "project_url": "https://pypi.org/project/ai-tool/", "project_urls": {"Homepage": "https://github.com/yinshunyao/ai_tools"}, "release_url": "https://pypi.org/project/ai-tool/1.4/", "requires_dist": ["numpy", "opencv-python"], "requires_python": "", "summary": "compute the iou, slice picture etc.", "version": "1.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>ai_tool</h1>\n<p>ai tool</p>\n<h1>slice picture</h1>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">ai_tool.img_slide</span> <span class=\"kn\">import</span> <span class=\"n\">yield_sub_img</span>\n<span class=\"c1\"># yield the sub image from the jpg</span>\n<span class=\"k\">for</span> <span class=\"n\">bbox</span><span class=\"p\">,</span> <span class=\"n\">sub_img</span> <span class=\"ow\">in</span> <span class=\"n\">yield_sub_img</span><span class=\"p\">(</span><span class=\"s2\">\"test.jpg\"</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">180</span><span class=\"p\">,</span> <span class=\"mi\">60</span><span class=\"p\">):</span>\n    <span class=\"n\">clip</span> <span class=\"o\">=</span> <span class=\"s2\">\"-\"</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">([</span><span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"n\">bbox</span><span class=\"p\">])</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"sub img:</span><span class=\"si\">{}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">clip</span><span class=\"p\">))</span>\n    <span class=\"n\">cv2</span><span class=\"o\">.</span><span class=\"n\">imshow</span><span class=\"p\">(</span><span class=\"n\">clip</span><span class=\"p\">,</span> <span class=\"n\">sub_img</span><span class=\"p\">)</span>\n    <span class=\"n\">cv2</span><span class=\"o\">.</span><span class=\"n\">waitKey</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n</pre>\n<h1>IoU</h1>\n<p>compute the iou for tow boxes,</p>\n<p>example box1 1, 2, 101, 102.  location(1,2)  is  left-up, location(101,102) is right-down.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">ai_tool.bbox</span> <span class=\"kn\">import</span> <span class=\"n\">BBox</span>\n<span class=\"n\">bbox1</span> <span class=\"o\">=</span> <span class=\"n\">BBox</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">101</span><span class=\"p\">,</span> <span class=\"mi\">102</span><span class=\"p\">])</span>\n<span class=\"n\">bbox2</span> <span class=\"o\">=</span> <span class=\"n\">BBox</span><span class=\"p\">([</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">121</span><span class=\"p\">,</span> <span class=\"mi\">122</span><span class=\"p\">])</span>\n<span class=\"n\">iou</span> <span class=\"o\">=</span> <span class=\"n\">bbox1</span> <span class=\"o\">/</span> <span class=\"n\">bbox2</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"iou\"</span><span class=\"p\">,</span> <span class=\"n\">iou</span><span class=\"p\">)</span>\n<span class=\"k\">assert</span> <span class=\"n\">iou</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.5</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'box1 S is'</span><span class=\"p\">,</span> <span class=\"n\">bbox1</span><span class=\"o\">.</span><span class=\"n\">S</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'box1 &amp; box2'</span><span class=\"p\">,</span> <span class=\"n\">bbox1</span> <span class=\"o\">&amp;</span> <span class=\"n\">bbox2</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'box1 == box2'</span><span class=\"p\">,</span> <span class=\"n\">bbox1</span> <span class=\"o\">==</span> <span class=\"n\">bbox2</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'merge box1 + box2'</span><span class=\"p\">,</span> <span class=\"n\">bbox1</span> <span class=\"o\">+</span> <span class=\"n\">bbox2</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'merge box1 | box2'</span><span class=\"p\">,</span> <span class=\"n\">bbox1</span> <span class=\"o\">|</span> <span class=\"n\">bbox2</span><span class=\"p\">)</span>\n</pre>\n<p>result is :</p>\n<pre>iou <span class=\"m\">0</span>.5785714285714286\nbox1 S is <span class=\"m\">10000</span>\nbox1 <span class=\"p\">&amp;</span> box2 <span class=\"o\">[</span><span class=\"m\">11</span>, <span class=\"m\">12</span>, <span class=\"m\">101</span>, <span class=\"m\">102</span><span class=\"o\">]</span>\n<span class=\"nv\">box1</span> <span class=\"o\">==</span> box2 True\nmerge box1 + box2 <span class=\"o\">[</span><span class=\"m\">1</span>, <span class=\"m\">2</span>, <span class=\"m\">121</span>, <span class=\"m\">122</span><span class=\"o\">]</span>\nmerge box1 <span class=\"p\">|</span> box2 <span class=\"o\">[</span><span class=\"m\">1</span>, <span class=\"m\">2</span>, <span class=\"m\">121</span>, <span class=\"m\">122</span><span class=\"o\">]</span>\n</pre>\n<h1>multi bbox operation</h1>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">ai_tool.bbox</span> <span class=\"kn\">import</span> <span class=\"n\">BBoxes</span><span class=\"p\">,</span> <span class=\"n\">BBox</span>\n<span class=\"n\">bb1</span> <span class=\"o\">=</span> <span class=\"n\">BBoxes</span><span class=\"p\">(</span><span class=\"n\">iou_thresh</span><span class=\"o\">=</span><span class=\"mf\">0.6</span><span class=\"p\">)</span>\n<span class=\"n\">bb2</span> <span class=\"o\">=</span> <span class=\"n\">BBoxes</span><span class=\"p\">()</span>\n\n<span class=\"n\">bb1</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">101</span><span class=\"p\">,</span> <span class=\"mi\">102</span><span class=\"p\">])</span>\n<span class=\"n\">bb1</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">([</span><span class=\"mi\">1000</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1101</span><span class=\"p\">,</span> <span class=\"mi\">102</span><span class=\"p\">])</span>\n\n<span class=\"n\">bb2</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">([</span><span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"mi\">111</span><span class=\"p\">,</span> <span class=\"mi\">112</span><span class=\"p\">])</span>\n<span class=\"n\">bb2</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1002</span><span class=\"p\">,</span> <span class=\"mi\">101</span><span class=\"p\">,</span> <span class=\"mi\">1102</span><span class=\"p\">])</span>\n\n<span class=\"c1\"># judge the bbox in bb1</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"[5, 5, 100, 100] in bb1\"</span><span class=\"p\">,</span> <span class=\"n\">BBox</span><span class=\"p\">([</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">])</span> <span class=\"ow\">in</span> <span class=\"n\">bb1</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"[100, 5, 200, 100] in bb1\"</span><span class=\"p\">,</span> <span class=\"n\">BBox</span><span class=\"p\">([</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">200</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">])</span> <span class=\"ow\">in</span> <span class=\"n\">bb1</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># bb1 &amp; bb2</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"bb1 &amp; bb2\"</span><span class=\"p\">,</span> <span class=\"n\">bb1</span> <span class=\"o\">&amp;</span> <span class=\"n\">bb2</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"bb1 - bb2\"</span><span class=\"p\">,</span> <span class=\"n\">bb1</span> <span class=\"o\">-</span> <span class=\"n\">bb2</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"bb2 - bb1\"</span><span class=\"p\">,</span> <span class=\"n\">bb2</span> <span class=\"o\">-</span> <span class=\"n\">bb1</span><span class=\"p\">)</span>\n</pre>\n<p>result is</p>\n<pre><span class=\"o\">[</span><span class=\"m\">5</span>, <span class=\"m\">5</span>, <span class=\"m\">100</span>, <span class=\"m\">100</span><span class=\"o\">]</span> in bb1 True\n<span class=\"o\">[</span><span class=\"m\">100</span>, <span class=\"m\">5</span>, <span class=\"m\">200</span>, <span class=\"m\">100</span><span class=\"o\">]</span> in bb1 False\nbb1 <span class=\"p\">&amp;</span> bb2 <span class=\"o\">[[</span><span class=\"m\">1</span>, <span class=\"m\">2</span>, <span class=\"m\">101</span>, <span class=\"m\">102</span><span class=\"o\">]]</span>\nbb1 - bb2 <span class=\"o\">[[</span><span class=\"m\">1000</span>, <span class=\"m\">2</span>, <span class=\"m\">1101</span>, <span class=\"m\">102</span><span class=\"o\">]]</span>\nbb2 - bb1 <span class=\"o\">[[</span><span class=\"m\">1</span>, <span class=\"m\">1002</span>, <span class=\"m\">101</span>, <span class=\"m\">1102</span><span class=\"o\">]]</span>\n</pre>\n\n          </div>"}, "last_serial": 5614129, "releases": {"1.2": [{"comment_text": "", "digests": {"md5": "8b5a75e2d0a4a0fd94dafc0cce4f8e43", "sha256": "069b11df6a21c2155724621276b5cfed213b764019579f264948ddec974ccbd5"}, "downloads": -1, "filename": "ai_tool-1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "8b5a75e2d0a4a0fd94dafc0cce4f8e43", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8751, "upload_time": "2019-07-31T14:11:30", "upload_time_iso_8601": "2019-07-31T14:11:30.050782Z", "url": "https://files.pythonhosted.org/packages/c2/88/37366b3597a2e5fd0df8a49796a2d9978f3eec4d2399f5febc108e71c4e1/ai_tool-1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4b5f5967e1f53891c3380be0ffe9391a", "sha256": "5db56eebfd11cb0529c579a2ba37a4dd461c08948bdcd546aa3f20beeb5b6523"}, "downloads": -1, "filename": "ai_tool-1.2.tar.gz", "has_sig": false, "md5_digest": "4b5f5967e1f53891c3380be0ffe9391a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6317, "upload_time": "2019-07-31T14:11:31", "upload_time_iso_8601": "2019-07-31T14:11:31.854960Z", "url": "https://files.pythonhosted.org/packages/9c/70/d969966b446e6f7732b48d5992564c619b7467fb25a11f046ac48c18ed10/ai_tool-1.2.tar.gz", "yanked": false}], "1.3": [{"comment_text": "", "digests": {"md5": "26e10848407788989344eebce4a3e314", "sha256": "85ff357f386518c2d4da2f7cf8bf1a08664050e27ba2b28cff39589c06e2236a"}, "downloads": -1, "filename": "ai_tool-1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "26e10848407788989344eebce4a3e314", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8832, "upload_time": "2019-07-31T14:36:18", "upload_time_iso_8601": "2019-07-31T14:36:18.982193Z", "url": "https://files.pythonhosted.org/packages/c8/25/aa57f1098b0518d18d88c072c83f457148da31dc326e75b28978d8ec3c61/ai_tool-1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e93d24865b110d531fb55c4ec7a5816c", "sha256": "9ffaeb9b96543ee3b2db9ec73ce10f5f713a876438d7098a2424164ad42962b7"}, "downloads": -1, "filename": "ai_tool-1.3.tar.gz", "has_sig": false, "md5_digest": "e93d24865b110d531fb55c4ec7a5816c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6371, "upload_time": "2019-07-31T14:36:20", "upload_time_iso_8601": "2019-07-31T14:36:20.788982Z", "url": "https://files.pythonhosted.org/packages/1c/26/8948ff916278618a6de5524cdb79a693880f511b25538d338def1e28f96f/ai_tool-1.3.tar.gz", "yanked": false}], "1.4": [{"comment_text": "", "digests": {"md5": "a032cc8534aa306b7b79be9bd78f719f", "sha256": "7441c6858c3f322abc73259a00585e50f6a2878fc8d9f7f901e6f1559199d623"}, "downloads": -1, "filename": "ai_tool-1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "a032cc8534aa306b7b79be9bd78f719f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8906, "upload_time": "2019-07-31T15:45:12", "upload_time_iso_8601": "2019-07-31T15:45:12.302041Z", "url": "https://files.pythonhosted.org/packages/49/6e/db37c16dfb6cc45111fb23139d0e581481a5cd3c6a0ce4f667ec8b04f0f0/ai_tool-1.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "871d20dc4e2d5051eeea18b3789a7942", "sha256": "652e6be827a3cecec038c30f4cb0158b66536719530e97e47c287e56d5e4caf4"}, "downloads": -1, "filename": "ai_tool-1.4.tar.gz", "has_sig": false, "md5_digest": "871d20dc4e2d5051eeea18b3789a7942", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6584, "upload_time": "2019-07-31T15:45:14", "upload_time_iso_8601": "2019-07-31T15:45:14.175992Z", "url": "https://files.pythonhosted.org/packages/f1/f8/4ce50ea6212f293c3f409c5b5487f59669cd3d8271e467d09f7ab5dd8669/ai_tool-1.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a032cc8534aa306b7b79be9bd78f719f", "sha256": "7441c6858c3f322abc73259a00585e50f6a2878fc8d9f7f901e6f1559199d623"}, "downloads": -1, "filename": "ai_tool-1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "a032cc8534aa306b7b79be9bd78f719f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8906, "upload_time": "2019-07-31T15:45:12", "upload_time_iso_8601": "2019-07-31T15:45:12.302041Z", "url": "https://files.pythonhosted.org/packages/49/6e/db37c16dfb6cc45111fb23139d0e581481a5cd3c6a0ce4f667ec8b04f0f0/ai_tool-1.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "871d20dc4e2d5051eeea18b3789a7942", "sha256": "652e6be827a3cecec038c30f4cb0158b66536719530e97e47c287e56d5e4caf4"}, "downloads": -1, "filename": "ai_tool-1.4.tar.gz", "has_sig": false, "md5_digest": "871d20dc4e2d5051eeea18b3789a7942", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6584, "upload_time": "2019-07-31T15:45:14", "upload_time_iso_8601": "2019-07-31T15:45:14.175992Z", "url": "https://files.pythonhosted.org/packages/f1/f8/4ce50ea6212f293c3f409c5b5487f59669cd3d8271e467d09f7ab5dd8669/ai_tool-1.4.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:20:21 2020"}
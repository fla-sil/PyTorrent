{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: System Administrators", "License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6"], "description": "certsling\n=========\n\nAn opinionated script to sign tls keys via `letsencrypt`_ on your local computer by forwarding the HTTP/DNS challenge via ssh.\n\n.. _certsling: https://pypi.python.org/pypi/certsling\n.. _letsencrypt: https://letsencrypt.org\n\n\nInstallation\n------------\n\nBest installed via `pipsi`_::\n\n    % pipsi install certsling\n\nOr some other way to install a python package with included scripts.\n\n.. _pipsi: https://pypi.python.org/pypi/pipsi\n\n\nRequirements\n------------\n\nYou need an ``openssl`` executable in your path for key generation and signing.\n\n\nTesting with staging server\n---------------------------\n\nWith the ``-s`` option you can use the staging server of `letsencrypt`_.\nThis is advised, so you don't run into quota limits or similar until your setup works.\nThe resulting certificate won't validate, but otherwise has the same content as a regular certificate.\n\n\nBasic usage\n-----------\n\nCreate a directory with the email address as the name, which you want to use for authentication with letsencrypt.\nFor example ``webmaster@example.com``::\n\n    % mkdir webmaster@example.com\n\nCreate a ssh connection to your server which forwards a remote port to the local port ``8080``::\n\n    % ssh root@example.com -R 8080:localhost:8080\n\nOn your server the webserver needs to proxy requests to ``example.com:80/.well-known/acme-challenge/*`` to that forwarded port.\nAn example for nginx::\n\n        location /.well-known/acme-challenge/ {\n            proxy_pass http://localhost:8080;\n        }\n\nFrom the directory you created earlier, invoke the ``certsling`` script with for example::\n\n    % cd webmaster@example.com\n    % certsling example.com www.example.com\n\nOn first run, you are asked whether to create a ``user.key`` for authorization with letsencrypt.\n\nAfter that, challenges for the selected domains are created and a server is started on port ``8080`` to provide responses.\nYour remote web server proxies them through the ssh connection to the locally running server.\n\nIf all went well, you get a server key and certificate in a new ``example.com`` folder::\n\n    % ls example.com\n    ...\n    example.com-chained.crt\n    example.com.crt\n    example.com.key\n\nThe ``example.com-chained.crt`` file contains the full chain of you certificate together with the letsencrypt certificate.\n\n\nAdvanced usage\n--------------\n\nTo use DNS based authentication, you need to have ``socat`` on your server.\nAdditionally you need to setup your DNS, so it delegates ``_acme-challenge`` requests to your server.\nFor that you can add something similar to this to your zone file or equivalent::\n\n    _acme-challenge IN NS www\n    _acme-challenge.www IN NS www\n\nFor the forwarding, you need to add port ``8053``::\nCreate a ssh connection to your server which forwards a remote port to the local port ``8080``::\n\n    % ssh root@example.com -R 8080:localhost:8080 -R 8053:localhost:8053\n\nThen in that ssh session, run the following to forward UDP port ``53`` to TCP on port ``8053``::\n\n    # socat -T15 udp4-recvfrom:53,reuseaddr,fork tcp:localhost:8053\n\nFor ``certsling`` you need to add the `--dns`` option::\n\n    % certsling --dns example.com www.example.com\n\nIt will then first try the HTTP challenge and if that fails it will try the DNS challenge.\n\n\nChangelog\n=========\n\n0.8.0 - 2017-01-04\n------------------\n\n* Add new ``--update`` (``-u``) option to avoid having to remember the settings\n  for each domain.\n  [fschulze]\n\n* Ask to repeat csr and crt generation on failure.\n  [solidgoldbomb]\n\n* Switch to dnspython after it merged with dnspython3.\n  [fschulze]\n\n\n0.7.0 - 2016-12-30\n------------------\n\n* Renamed to ``certsling``.\n  [fschulze]\n\n* Use symmetric difference in ``verify_domains``. This catches problems due to\n  typos in domain names and some other cases.\n  [solidgoldbomb]\n\n* Update list of issuer names checked in ``verify_crt``.\n  [solidgoldbomb (Stacey Sheldon)]\n\n* More detailed error reporting.\n  [fschulze]\n\n* Ask to agree to terms of use of letsencrypt and allow updating the registration.\n  [fschulze]\n\n\n0.6.0 - 2016-05-09\n------------------\n\n* Upgrade to new X3 authority.\n  [fschulze]\n\n\n0.5.0 - 2016-02-12\n------------------\n\n* Allow selection of letsencrypt.org staging server with ``-s`` option.\n  [fschulze]\n\n\n0.4.1 - 2016-01-29\n------------------\n\n* Fix issue that the ``-chained.crt`` file wasn't updated.\n  [fschulze]\n\n\n0.4.0 - 2016-01-12\n------------------\n\n* Initial release\n  [fschulze]", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/fschulze/certsling", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "certsling", "package_url": "https://pypi.org/project/certsling/", "platform": "", "project_url": "https://pypi.org/project/certsling/", "project_urls": {"Homepage": "https://github.com/fschulze/certsling"}, "release_url": "https://pypi.org/project/certsling/0.8.0/", "requires_dist": null, "requires_python": "", "summary": "Opinionated letsencrypt acme client working via a ssh port forward.", "version": "0.8.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"certsling\">\n<h2>certsling</h2>\n<p>An opinionated script to sign tls keys via <a href=\"https://letsencrypt.org\" rel=\"nofollow\">letsencrypt</a> on your local computer by forwarding the HTTP/DNS challenge via ssh.</p>\n<div id=\"installation\">\n<h3>Installation</h3>\n<p>Best installed via <a href=\"https://pypi.python.org/pypi/pipsi\" rel=\"nofollow\">pipsi</a>:</p>\n<pre>% pipsi install certsling\n</pre>\n<p>Or some other way to install a python package with included scripts.</p>\n</div>\n<div id=\"requirements\">\n<h3>Requirements</h3>\n<p>You need an <tt>openssl</tt> executable in your path for key generation and signing.</p>\n</div>\n<div id=\"testing-with-staging-server\">\n<h3>Testing with staging server</h3>\n<p>With the <tt><span class=\"pre\">-s</span></tt> option you can use the staging server of <a href=\"https://letsencrypt.org\" rel=\"nofollow\">letsencrypt</a>.\nThis is advised, so you don\u2019t run into quota limits or similar until your setup works.\nThe resulting certificate won\u2019t validate, but otherwise has the same content as a regular certificate.</p>\n</div>\n<div id=\"basic-usage\">\n<h3>Basic usage</h3>\n<p>Create a directory with the email address as the name, which you want to use for authentication with letsencrypt.\nFor example <tt>webmaster@example.com</tt>:</p>\n<pre>% mkdir webmaster@example.com\n</pre>\n<p>Create a ssh connection to your server which forwards a remote port to the local port <tt>8080</tt>:</p>\n<pre>% ssh root@example.com -R 8080:localhost:8080\n</pre>\n<p>On your server the webserver needs to proxy requests to <tt><span class=\"pre\">example.com:80/.well-known/acme-challenge/*</span></tt> to that forwarded port.\nAn example for nginx:</p>\n<pre>location /.well-known/acme-challenge/ {\n    proxy_pass http://localhost:8080;\n}\n</pre>\n<p>From the directory you created earlier, invoke the <tt>certsling</tt> script with for example:</p>\n<pre>% cd webmaster@example.com\n% certsling example.com www.example.com\n</pre>\n<p>On first run, you are asked whether to create a <tt>user.key</tt> for authorization with letsencrypt.</p>\n<p>After that, challenges for the selected domains are created and a server is started on port <tt>8080</tt> to provide responses.\nYour remote web server proxies them through the ssh connection to the locally running server.</p>\n<p>If all went well, you get a server key and certificate in a new <tt>example.com</tt> folder:</p>\n<pre>% ls example.com\n...\nexample.com-chained.crt\nexample.com.crt\nexample.com.key\n</pre>\n<p>The <tt><span class=\"pre\">example.com-chained.crt</span></tt> file contains the full chain of you certificate together with the letsencrypt certificate.</p>\n</div>\n<div id=\"advanced-usage\">\n<h3>Advanced usage</h3>\n<p>To use DNS based authentication, you need to have <tt>socat</tt> on your server.\nAdditionally you need to setup your DNS, so it delegates <tt><span class=\"pre\">_acme-challenge</span></tt> requests to your server.\nFor that you can add something similar to this to your zone file or equivalent:</p>\n<pre>_acme-challenge IN NS www\n_acme-challenge.www IN NS www\n</pre>\n<p>For the forwarding, you need to add port <tt>8053</tt>::\nCreate a ssh connection to your server which forwards a remote port to the local port <tt>8080</tt>:</p>\n<pre>% ssh root@example.com -R 8080:localhost:8080 -R 8053:localhost:8053\n</pre>\n<p>Then in that ssh session, run the following to forward UDP port <tt>53</tt> to TCP on port <tt>8053</tt>:</p>\n<pre># socat -T15 udp4-recvfrom:53,reuseaddr,fork tcp:localhost:8053\n</pre>\n<p>For <tt>certsling</tt> you need to add the <cite>\u2013dns`</cite> option:</p>\n<pre>% certsling --dns example.com www.example.com\n</pre>\n<p>It will then first try the HTTP challenge and if that fails it will try the DNS challenge.</p>\n</div>\n</div>\n<div id=\"changelog\">\n<h2>Changelog</h2>\n<div id=\"id2\">\n<h3>0.8.0 - 2017-01-04</h3>\n<ul>\n<li>Add new <tt><span class=\"pre\">--update</span></tt> (<tt><span class=\"pre\">-u</span></tt>) option to avoid having to remember the settings\nfor each domain.\n[fschulze]</li>\n<li>Ask to repeat csr and crt generation on failure.\n[solidgoldbomb]</li>\n<li>Switch to dnspython after it merged with dnspython3.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"id3\">\n<h3>0.7.0 - 2016-12-30</h3>\n<ul>\n<li>Renamed to <tt>certsling</tt>.\n[fschulze]</li>\n<li>Use symmetric difference in <tt>verify_domains</tt>. This catches problems due to\ntypos in domain names and some other cases.\n[solidgoldbomb]</li>\n<li>Update list of issuer names checked in <tt>verify_crt</tt>.\n[solidgoldbomb (Stacey Sheldon)]</li>\n<li>More detailed error reporting.\n[fschulze]</li>\n<li>Ask to agree to terms of use of letsencrypt and allow updating the registration.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"id4\">\n<h3>0.6.0 - 2016-05-09</h3>\n<ul>\n<li>Upgrade to new X3 authority.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"id5\">\n<h3>0.5.0 - 2016-02-12</h3>\n<ul>\n<li>Allow selection of letsencrypt.org staging server with <tt><span class=\"pre\">-s</span></tt> option.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"id6\">\n<h3>0.4.1 - 2016-01-29</h3>\n<ul>\n<li>Fix issue that the <tt><span class=\"pre\">-chained.crt</span></tt> file wasn\u2019t updated.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"id7\">\n<h3>0.4.0 - 2016-01-12</h3>\n<ul>\n<li>Initial release\n[fschulze]</li>\n</ul>\n</div>\n</div>\n\n          </div>"}, "last_serial": 2553615, "releases": {"0.7.0": [{"comment_text": "", "digests": {"md5": "0e996fa835e995ff1a27daf1080ef445", "sha256": "ace727ea4dab2fd2ba47ef8d6293be7be627dd59d68862381e2ea40dd74b4241"}, "downloads": -1, "filename": "certsling-0.7.0.tar.gz", "has_sig": false, "md5_digest": "0e996fa835e995ff1a27daf1080ef445", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 12219, "upload_time": "2016-12-30T13:32:48", "upload_time_iso_8601": "2016-12-30T13:32:48.832595Z", "url": "https://files.pythonhosted.org/packages/c1/ab/24ea7734b6b1a590bc46af621b7ee5b67ee82d958d26e627e52c07984b66/certsling-0.7.0.tar.gz", "yanked": false}], "0.8.0": [{"comment_text": "", "digests": {"md5": "1dbe0d3e899a937f07770eaedc70f9ed", "sha256": "24991664ad3a56124eb6bd7ee53d82e9b21fee7b54c2ceaea56fbc3463772a6c"}, "downloads": -1, "filename": "certsling-0.8.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "1dbe0d3e899a937f07770eaedc70f9ed", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 13766, "upload_time": "2017-01-04T13:36:07", "upload_time_iso_8601": "2017-01-04T13:36:07.704546Z", "url": "https://files.pythonhosted.org/packages/2b/17/bdf08c0750ad1b42aeffea31b86df266f4498724cb79aa85f503d376254a/certsling-0.8.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "08fc38fd36631be9a41538d943f1d993", "sha256": "a52ec1c056239ca3f8a5bdb0c3fc8fa9f4ac946028f96eceeb9f1f8cf628edce"}, "downloads": -1, "filename": "certsling-0.8.0.tar.gz", "has_sig": false, "md5_digest": "08fc38fd36631be9a41538d943f1d993", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15191, "upload_time": "2017-01-04T13:36:05", "upload_time_iso_8601": "2017-01-04T13:36:05.423624Z", "url": "https://files.pythonhosted.org/packages/d0/97/2ace20718646b6f5bf793ec04cea69b95776f667efcf404a7da9a65a4401/certsling-0.8.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "1dbe0d3e899a937f07770eaedc70f9ed", "sha256": "24991664ad3a56124eb6bd7ee53d82e9b21fee7b54c2ceaea56fbc3463772a6c"}, "downloads": -1, "filename": "certsling-0.8.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "1dbe0d3e899a937f07770eaedc70f9ed", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 13766, "upload_time": "2017-01-04T13:36:07", "upload_time_iso_8601": "2017-01-04T13:36:07.704546Z", "url": "https://files.pythonhosted.org/packages/2b/17/bdf08c0750ad1b42aeffea31b86df266f4498724cb79aa85f503d376254a/certsling-0.8.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "08fc38fd36631be9a41538d943f1d993", "sha256": "a52ec1c056239ca3f8a5bdb0c3fc8fa9f4ac946028f96eceeb9f1f8cf628edce"}, "downloads": -1, "filename": "certsling-0.8.0.tar.gz", "has_sig": false, "md5_digest": "08fc38fd36631be9a41538d943f1d993", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 15191, "upload_time": "2017-01-04T13:36:05", "upload_time_iso_8601": "2017-01-04T13:36:05.423624Z", "url": "https://files.pythonhosted.org/packages/d0/97/2ace20718646b6f5bf793ec04cea69b95776f667efcf404a7da9a65a4401/certsling-0.8.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:34:42 2020"}
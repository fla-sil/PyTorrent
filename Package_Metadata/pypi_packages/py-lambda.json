{"info": {"author": "Ajay A U", "author_email": "ajayau404@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Natural Language :: English", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.6"], "description": "# AWS-ALB-lambda-python\n\nFramework for load-balancer and lambda function.\n\nTo learn more about writing AWS Lambda functions in python, go to [the official documentation](https://docs.aws.amazon.com/lambda/latest/dg/services-alb.html)\n\nBlogs about AWS lambda and python is [here](https://aws.amazon.com/blogs/networking-and-content-delivery/lambda-functions-as-targets-for-application-load-balancers/)\n\n\n[![Maintenance](https://img.shields.io/badge/Maintained%3F-yes-green.svg)](https://GitHub.com/Naereen/StrapDown.js/graphs/commit-activity)\n[![serverless](http://public.serverless.com/badges/v3.svg)](4)\n[![Pyhton-Lambda-Doc](https://img.shields.io/website-up-down-green-red/http/shields.io.svg)](1)\n[![made-with-python](https://img.shields.io/badge/Made%20with-Python-1f425f.svg)](5)\n[![PyPI version fury.io](https://badge.fury.io/py/ansicolortags.svg)](7)\n[![PyPI pyversions](https://img.shields.io/pypi/pyversions/ansicolortags.svg)](2)\n[![Documentation Status](https://readthedocs.org/projects/ansicolortags/badge/?version=latest)](2)\n[![Documentation Status](https://readthedocs.org/projects/ansicolortags/badge/?version=latest)](3)\n[![Pyhton Lambda](https://travis-ci.org/joemccann/dillinger.svg?branch=master)](https://docs.aws.amazon.com/lambda/latest/dg/services-alb.html)\n[![Build Status](https://travis-ci.org/joemccann/dillinger.svg?branch=master)](https://travis-ci.org/joemccann/dillinger)\n\n[1]: https://docs.aws.amazon.com/lambda/latest/dg/services-alb.html\n[2]: https://aws.amazon.com/blogs/networking-and-content-delivery/lambda-functions-as-targets-for-application-load-balancers/\n[3]: https://github.com/aws-samples/serverless-sinatra-sample\n[4]: https://docs.aws.amazon.com/lambda/latest/dg/services-alb.html\n[5]: https://www.python.org/\n[6]: https://pypi.python.org/\n[7]: https://pypi.python.org/pypi/ajayau404/\n[8]: https://pypi.python.org/pypi/ansicolortags/\n\n# Getting Started\n\nThis is the AWS lambda framework written in python. When the lambda function is triggered by ALB or API-Gateway the event variable that contain all the required info will be sent to the init function. By default this init function will be in lambda_function.py and the name will be lambda_handler. This framework contains the request resource mappin for the URL and response that you have to send back to Load-Balancer.\n\nThe package information is in [Pypi info](https://pypi.org/project/py-lambda/)\n\n```\npip install py-lambda\n```\n\nThis source code contain the following files:\n* **lambda_function** : Contains the code that will be triggered by ALB or API-Gateway etc.\n* **request** : Contains the request object which is created from the event that is send as an input.\n* **response** : Contains the object that should be sent back from lambda function to ALB.\n* **lambda_mapping** : Is the file that contain the mapping for the routes. Add your routes in here.\n* **all_functions** : Contain the function contains the respective code that can be used for the given path.\n* **test_LambdaHandler** : Contains the test code that can be usedfortesting all the functions.\n\n### Load-Balancer input\n\n``` Python\n## test_LambdaHandler.py\nimport py_lambda.test_LambdaHandler as lTest\nprint(lTest.EVENT_FROM_ALB)\n```\n\nThe above code will give the sample of the request that will be send by ALB.\n\n### Mapping\n\n```Python\n## lambda_mapping.py\n\nFUNCT_MAPPING = {\n\t\"\": {\"\": allFun.index},\n\t\"test\": {\n\t\t\"\": allFun.test,\n\t\tld.URL_REST_ID_STR:{\n\t\t\t\"\": allFun.testUserId,\n\t\t},\n\t},\n\t\"abc\":{\n\t\t\"\": allFun.abc,\n\t},\n}\n```\n\nThis will have the mapping for each resources. The mapping is dictionary in which key is the URL resource and the value will be the function that you have to execute when the URL is called. The index URL in the mapping is the first one `\"\": {\"\": allFun.index}`.  If all the function for the mapping are in `all_Functions.py` then corrponding function can be called in here.\n\nIf the resource contan some information that will change of each request then the mapping should contain `URL_REST_ID_STR` which is there in `lambda_defines.py` form wilch you will be able to map the URL. \n\nEg: \tmydomain.com/profile/USER_ID/image\nIn this `USER_ID` may change for each user. In that case use `URL_REST_ID_STR` in the mapping\n\n### Input validaation\n\n```python\n## inp_validatn.py\n## VALID_DOMAINS contains all the valid domains.\n## VALID_SUB_DOMAINS contails all the valid subdomains.\n\nimport py_lambda.funct_defines as funDef\n\nret_validation = validateDomain(\"http://some_domain.com\")\n##If the domain is valid then the function will return the success response\nif ret_validation[funDef.FUNCTION_STAT] == funDef.SUCCESS:\n\tprint(\"Valid domain\")\nelse:\n\tprint(\"invalid domain\")\n```\n\nInput validations can be adde in this function. `validateDomain` will validate the given domain and return success if it is valid.\n\n### Request\n\n```python\n## request.py\nimport py_lambda.request as Req\nimport py_lambda.test_LambdaHandler as lTest\nreqObj = Req.Request(lTest.EVENT_FROM_ALB)\n\nprint(\"Path Str:\",reqObj.getPathStr())\nprint(\"Req method:\",reqObj.httpMeth())\nprint(\"Req from ALB:\",reqObj.isAlb())\nprint(\"Cookies:\",reqObj.getCookies())\nprint(\"Query params by input list:\",reqObj.getQueryParams(['a']))\nprint(\"Query params all:\",reqObj.getAllQueryParam())\nprint(\"Base64 encooded:\",reqObj.isBase64())\n```\n\nWhen the request is sent to lambda function this request object object is created and we can use this to get all the information that we need like cookies, query parameters, headers etc from this.\n\n### Response\n\n```python\n## response.py\nimport py_lambda.response as Res\nrespObj = Res.Response()\nrespObj = Res.Response()\nprint(\"respObj:\", respObj())\nrespObj.setError()\nprint(\"respObj:\", respObj())\nrespObj.setResp()\nprint(\"respObj:\", respObj())\nrespObj.setResp(respBody={'a':1, 'b':2})\nprint(\"respObj:\", respObj())\n# respObj.setContentType(\"application/json\")\n# print(\"respObj:\", respObj())\nrespObj.setHeader(\"Access-Control-Allow-Origin\", \"*\")\nprint(\"respObj:\", respObj())\n```\n\nLoab-Balancer requer the response of the lambda function in a specific format. This response object is created when the function is invoked and this will be changed accordingly to send the reponse intended.\n\n### Lambda Function\n```python\n## lambda_function.py\n\nimport py_lambda.test_LambdaHandler as lTest\nimport py_lambda.lambda_function as lf\n\nRESOURCE_PREFIX = \"\"\nlTest.EVENT_FROM_ALB[\"path\"]= RESOURCE_PREFIX+'/abc'\nlTest.EVENT_FROM_ALB[\"httpMethod\"] = \"GET\"\n\nresp = lf.lambda_handler(event=lTest.EVENT_FROM_ALB,context= \"some_context\")\nprint(resp)\n```\n\nThis will give you the reponse if you have a mapping in `lambda_mapping.py`. body in the response will contain whatever you set in the response. Even you can set the header and the response code accordingly using  `py_lambda.response.setResp` and `py_lambda.response.setHeader`\n\n### Testing\n\n```python\n## test_LambdaHandler.py\n\nimport py_lambda.test_LambdaHandler as lTest\nprint(lTest.testOptions())\n```\n\nThis contain all the testing function that are used to build this.\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/ajayau404/AWS-Py-Lambda", "keywords": "", "license": "Apache License 2.0", "maintainer": "", "maintainer_email": "", "name": "py-lambda", "package_url": "https://pypi.org/project/py-lambda/", "platform": "", "project_url": "https://pypi.org/project/py-lambda/", "project_urls": {"Homepage": "https://github.com/ajayau404/AWS-Py-Lambda"}, "release_url": "https://pypi.org/project/py-lambda/1.1.5/", "requires_dist": ["wheel", "setuptools"], "requires_python": "", "summary": "Lambda framework for AWS", "version": "1.1.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>AWS-ALB-lambda-python</h1>\n<p>Framework for load-balancer and lambda function.</p>\n<p>To learn more about writing AWS Lambda functions in python, go to <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/services-alb.html\" rel=\"nofollow\">the official documentation</a></p>\n<p>Blogs about AWS lambda and python is <a href=\"https://aws.amazon.com/blogs/networking-and-content-delivery/lambda-functions-as-targets-for-application-load-balancers/\" rel=\"nofollow\">here</a></p>\n<p><a href=\"https://GitHub.com/Naereen/StrapDown.js/graphs/commit-activity\" rel=\"nofollow\"><img alt=\"Maintenance\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/90bf1b2a4d99698c4dffbc494b9734690a777fec/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d61696e7461696e65642533462d7965732d677265656e2e737667\"></a>\n<a href=\"4\" rel=\"nofollow\"><img alt=\"serverless\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/79423c54cfb61aa126ef32722f62a4a6846e9358/687474703a2f2f7075626c69632e7365727665726c6573732e636f6d2f6261646765732f76332e737667\"></a>\n<a href=\"1\" rel=\"nofollow\"><img alt=\"Pyhton-Lambda-Doc\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6534ff752909fc64cffe34ad45f8a661e062f378/68747470733a2f2f696d672e736869656c64732e696f2f776562736974652d75702d646f776e2d677265656e2d7265642f687474702f736869656c64732e696f2e737667\"></a>\n<a href=\"5\" rel=\"nofollow\"><img alt=\"made-with-python\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/68a99107ffdf24c5fb2cc4bca38b7b662e501b97/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d616465253230776974682d507974686f6e2d3166343235662e737667\"></a>\n<a href=\"7\" rel=\"nofollow\"><img alt=\"PyPI version fury.io\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/87ceffcd9abb7637f6e4c8525f0f04f061a3c1fe/68747470733a2f2f62616467652e667572792e696f2f70792f616e7369636f6c6f72746167732e737667\"></a>\n<a href=\"2\" rel=\"nofollow\"><img alt=\"PyPI pyversions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7ce087dbe02f90423263426209feb4854240523b/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f616e7369636f6c6f72746167732e737667\"></a>\n<a href=\"2\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dde95a36a9b5caf6fd53e8d8e9612a94bdf56df3/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f616e7369636f6c6f72746167732f62616467652f3f76657273696f6e3d6c6174657374\"></a>\n<a href=\"3\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dde95a36a9b5caf6fd53e8d8e9612a94bdf56df3/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f616e7369636f6c6f72746167732f62616467652f3f76657273696f6e3d6c6174657374\"></a>\n<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/services-alb.html\" rel=\"nofollow\"><img alt=\"Pyhton Lambda\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/46a86bdaceb13474da2f9cbfdb20be1bb45f5a01/68747470733a2f2f7472617669732d63692e6f72672f6a6f656d6363616e6e2f64696c6c696e6765722e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://travis-ci.org/joemccann/dillinger\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/46a86bdaceb13474da2f9cbfdb20be1bb45f5a01/68747470733a2f2f7472617669732d63692e6f72672f6a6f656d6363616e6e2f64696c6c696e6765722e7376673f6272616e63683d6d6173746572\"></a></p>\n<h1>Getting Started</h1>\n<p>This is the AWS lambda framework written in python. When the lambda function is triggered by ALB or API-Gateway the event variable that contain all the required info will be sent to the init function. By default this init function will be in lambda_function.py and the name will be lambda_handler. This framework contains the request resource mappin for the URL and response that you have to send back to Load-Balancer.</p>\n<p>The package information is in <a href=\"https://pypi.org/project/py-lambda/\" rel=\"nofollow\">Pypi info</a></p>\n<pre><code>pip install py-lambda\n</code></pre>\n<p>This source code contain the following files:</p>\n<ul>\n<li><strong>lambda_function</strong> : Contains the code that will be triggered by ALB or API-Gateway etc.</li>\n<li><strong>request</strong> : Contains the request object which is created from the event that is send as an input.</li>\n<li><strong>response</strong> : Contains the object that should be sent back from lambda function to ALB.</li>\n<li><strong>lambda_mapping</strong> : Is the file that contain the mapping for the routes. Add your routes in here.</li>\n<li><strong>all_functions</strong> : Contain the function contains the respective code that can be used for the given path.</li>\n<li><strong>test_LambdaHandler</strong> : Contains the test code that can be usedfortesting all the functions.</li>\n</ul>\n<h3>Load-Balancer input</h3>\n<pre><span class=\"c1\">## test_LambdaHandler.py</span>\n<span class=\"kn\">import</span> <span class=\"nn\">py_lambda.test_LambdaHandler</span> <span class=\"k\">as</span> <span class=\"nn\">lTest</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">lTest</span><span class=\"o\">.</span><span class=\"n\">EVENT_FROM_ALB</span><span class=\"p\">)</span>\n</pre>\n<p>The above code will give the sample of the request that will be send by ALB.</p>\n<h3>Mapping</h3>\n<pre><span class=\"c1\">## lambda_mapping.py</span>\n\n<span class=\"n\">FUNCT_MAPPING</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n\t<span class=\"s2\">\"\"</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">\"\"</span><span class=\"p\">:</span> <span class=\"n\">allFun</span><span class=\"o\">.</span><span class=\"n\">index</span><span class=\"p\">},</span>\n\t<span class=\"s2\">\"test\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n\t\t<span class=\"s2\">\"\"</span><span class=\"p\">:</span> <span class=\"n\">allFun</span><span class=\"o\">.</span><span class=\"n\">test</span><span class=\"p\">,</span>\n\t\t<span class=\"n\">ld</span><span class=\"o\">.</span><span class=\"n\">URL_REST_ID_STR</span><span class=\"p\">:{</span>\n\t\t\t<span class=\"s2\">\"\"</span><span class=\"p\">:</span> <span class=\"n\">allFun</span><span class=\"o\">.</span><span class=\"n\">testUserId</span><span class=\"p\">,</span>\n\t\t<span class=\"p\">},</span>\n\t<span class=\"p\">},</span>\n\t<span class=\"s2\">\"abc\"</span><span class=\"p\">:{</span>\n\t\t<span class=\"s2\">\"\"</span><span class=\"p\">:</span> <span class=\"n\">allFun</span><span class=\"o\">.</span><span class=\"n\">abc</span><span class=\"p\">,</span>\n\t<span class=\"p\">},</span>\n<span class=\"p\">}</span>\n</pre>\n<p>This will have the mapping for each resources. The mapping is dictionary in which key is the URL resource and the value will be the function that you have to execute when the URL is called. The index URL in the mapping is the first one <code>\"\": {\"\": allFun.index}</code>.  If all the function for the mapping are in <code>all_Functions.py</code> then corrponding function can be called in here.</p>\n<p>If the resource contan some information that will change of each request then the mapping should contain <code>URL_REST_ID_STR</code> which is there in <code>lambda_defines.py</code> form wilch you will be able to map the URL.</p>\n<p>Eg: \tmydomain.com/profile/USER_ID/image\nIn this <code>USER_ID</code> may change for each user. In that case use <code>URL_REST_ID_STR</code> in the mapping</p>\n<h3>Input validaation</h3>\n<pre><span class=\"c1\">## inp_validatn.py</span>\n<span class=\"c1\">## VALID_DOMAINS contains all the valid domains.</span>\n<span class=\"c1\">## VALID_SUB_DOMAINS contails all the valid subdomains.</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">py_lambda.funct_defines</span> <span class=\"k\">as</span> <span class=\"nn\">funDef</span>\n\n<span class=\"n\">ret_validation</span> <span class=\"o\">=</span> <span class=\"n\">validateDomain</span><span class=\"p\">(</span><span class=\"s2\">\"http://some_domain.com\"</span><span class=\"p\">)</span>\n<span class=\"c1\">##If the domain is valid then the function will return the success response</span>\n<span class=\"k\">if</span> <span class=\"n\">ret_validation</span><span class=\"p\">[</span><span class=\"n\">funDef</span><span class=\"o\">.</span><span class=\"n\">FUNCTION_STAT</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"n\">funDef</span><span class=\"o\">.</span><span class=\"n\">SUCCESS</span><span class=\"p\">:</span>\n\t<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Valid domain\"</span><span class=\"p\">)</span>\n<span class=\"k\">else</span><span class=\"p\">:</span>\n\t<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"invalid domain\"</span><span class=\"p\">)</span>\n</pre>\n<p>Input validations can be adde in this function. <code>validateDomain</code> will validate the given domain and return success if it is valid.</p>\n<h3>Request</h3>\n<pre><span class=\"c1\">## request.py</span>\n<span class=\"kn\">import</span> <span class=\"nn\">py_lambda.request</span> <span class=\"k\">as</span> <span class=\"nn\">Req</span>\n<span class=\"kn\">import</span> <span class=\"nn\">py_lambda.test_LambdaHandler</span> <span class=\"k\">as</span> <span class=\"nn\">lTest</span>\n<span class=\"n\">reqObj</span> <span class=\"o\">=</span> <span class=\"n\">Req</span><span class=\"o\">.</span><span class=\"n\">Request</span><span class=\"p\">(</span><span class=\"n\">lTest</span><span class=\"o\">.</span><span class=\"n\">EVENT_FROM_ALB</span><span class=\"p\">)</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Path Str:\"</span><span class=\"p\">,</span><span class=\"n\">reqObj</span><span class=\"o\">.</span><span class=\"n\">getPathStr</span><span class=\"p\">())</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Req method:\"</span><span class=\"p\">,</span><span class=\"n\">reqObj</span><span class=\"o\">.</span><span class=\"n\">httpMeth</span><span class=\"p\">())</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Req from ALB:\"</span><span class=\"p\">,</span><span class=\"n\">reqObj</span><span class=\"o\">.</span><span class=\"n\">isAlb</span><span class=\"p\">())</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Cookies:\"</span><span class=\"p\">,</span><span class=\"n\">reqObj</span><span class=\"o\">.</span><span class=\"n\">getCookies</span><span class=\"p\">())</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Query params by input list:\"</span><span class=\"p\">,</span><span class=\"n\">reqObj</span><span class=\"o\">.</span><span class=\"n\">getQueryParams</span><span class=\"p\">([</span><span class=\"s1\">'a'</span><span class=\"p\">]))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Query params all:\"</span><span class=\"p\">,</span><span class=\"n\">reqObj</span><span class=\"o\">.</span><span class=\"n\">getAllQueryParam</span><span class=\"p\">())</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Base64 encooded:\"</span><span class=\"p\">,</span><span class=\"n\">reqObj</span><span class=\"o\">.</span><span class=\"n\">isBase64</span><span class=\"p\">())</span>\n</pre>\n<p>When the request is sent to lambda function this request object object is created and we can use this to get all the information that we need like cookies, query parameters, headers etc from this.</p>\n<h3>Response</h3>\n<pre><span class=\"c1\">## response.py</span>\n<span class=\"kn\">import</span> <span class=\"nn\">py_lambda.response</span> <span class=\"k\">as</span> <span class=\"nn\">Res</span>\n<span class=\"n\">respObj</span> <span class=\"o\">=</span> <span class=\"n\">Res</span><span class=\"o\">.</span><span class=\"n\">Response</span><span class=\"p\">()</span>\n<span class=\"n\">respObj</span> <span class=\"o\">=</span> <span class=\"n\">Res</span><span class=\"o\">.</span><span class=\"n\">Response</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"respObj:\"</span><span class=\"p\">,</span> <span class=\"n\">respObj</span><span class=\"p\">())</span>\n<span class=\"n\">respObj</span><span class=\"o\">.</span><span class=\"n\">setError</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"respObj:\"</span><span class=\"p\">,</span> <span class=\"n\">respObj</span><span class=\"p\">())</span>\n<span class=\"n\">respObj</span><span class=\"o\">.</span><span class=\"n\">setResp</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"respObj:\"</span><span class=\"p\">,</span> <span class=\"n\">respObj</span><span class=\"p\">())</span>\n<span class=\"n\">respObj</span><span class=\"o\">.</span><span class=\"n\">setResp</span><span class=\"p\">(</span><span class=\"n\">respBody</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">'a'</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">'b'</span><span class=\"p\">:</span><span class=\"mi\">2</span><span class=\"p\">})</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"respObj:\"</span><span class=\"p\">,</span> <span class=\"n\">respObj</span><span class=\"p\">())</span>\n<span class=\"c1\"># respObj.setContentType(\"application/json\")</span>\n<span class=\"c1\"># print(\"respObj:\", respObj())</span>\n<span class=\"n\">respObj</span><span class=\"o\">.</span><span class=\"n\">setHeader</span><span class=\"p\">(</span><span class=\"s2\">\"Access-Control-Allow-Origin\"</span><span class=\"p\">,</span> <span class=\"s2\">\"*\"</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"respObj:\"</span><span class=\"p\">,</span> <span class=\"n\">respObj</span><span class=\"p\">())</span>\n</pre>\n<p>Loab-Balancer requer the response of the lambda function in a specific format. This response object is created when the function is invoked and this will be changed accordingly to send the reponse intended.</p>\n<h3>Lambda Function</h3>\n<pre><span class=\"c1\">## lambda_function.py</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">py_lambda.test_LambdaHandler</span> <span class=\"k\">as</span> <span class=\"nn\">lTest</span>\n<span class=\"kn\">import</span> <span class=\"nn\">py_lambda.lambda_function</span> <span class=\"k\">as</span> <span class=\"nn\">lf</span>\n\n<span class=\"n\">RESOURCE_PREFIX</span> <span class=\"o\">=</span> <span class=\"s2\">\"\"</span>\n<span class=\"n\">lTest</span><span class=\"o\">.</span><span class=\"n\">EVENT_FROM_ALB</span><span class=\"p\">[</span><span class=\"s2\">\"path\"</span><span class=\"p\">]</span><span class=\"o\">=</span> <span class=\"n\">RESOURCE_PREFIX</span><span class=\"o\">+</span><span class=\"s1\">'/abc'</span>\n<span class=\"n\">lTest</span><span class=\"o\">.</span><span class=\"n\">EVENT_FROM_ALB</span><span class=\"p\">[</span><span class=\"s2\">\"httpMethod\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"GET\"</span>\n\n<span class=\"n\">resp</span> <span class=\"o\">=</span> <span class=\"n\">lf</span><span class=\"o\">.</span><span class=\"n\">lambda_handler</span><span class=\"p\">(</span><span class=\"n\">event</span><span class=\"o\">=</span><span class=\"n\">lTest</span><span class=\"o\">.</span><span class=\"n\">EVENT_FROM_ALB</span><span class=\"p\">,</span><span class=\"n\">context</span><span class=\"o\">=</span> <span class=\"s2\">\"some_context\"</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">resp</span><span class=\"p\">)</span>\n</pre>\n<p>This will give you the reponse if you have a mapping in <code>lambda_mapping.py</code>. body in the response will contain whatever you set in the response. Even you can set the header and the response code accordingly using  <code>py_lambda.response.setResp</code> and <code>py_lambda.response.setHeader</code></p>\n<h3>Testing</h3>\n<pre><span class=\"c1\">## test_LambdaHandler.py</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">py_lambda.test_LambdaHandler</span> <span class=\"k\">as</span> <span class=\"nn\">lTest</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">lTest</span><span class=\"o\">.</span><span class=\"n\">testOptions</span><span class=\"p\">())</span>\n</pre>\n<p>This contain all the testing function that are used to build this.</p>\n\n          </div>"}, "last_serial": 5281756, "releases": {"1.1.0": [{"comment_text": "", "digests": {"md5": "f9f1d0babf5f855996778815c8081315", "sha256": "8f97fe2cd15130a41acd5d01b57bd464ca264e7936af8e44ccdf53f20d36348d"}, "downloads": -1, "filename": "py_lambda-1.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "f9f1d0babf5f855996778815c8081315", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11169, "upload_time": "2019-05-15T18:08:45", "upload_time_iso_8601": "2019-05-15T18:08:45.723849Z", "url": "https://files.pythonhosted.org/packages/60/9c/7b23b09cceb849c229bf8666ed7bc9c435f6d3ee7efc5369b63b7c896d1e/py_lambda-1.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8dc3f20ff60a4d89903aa5269dd82e0a", "sha256": "e44c31d637c1dae6a0c0af2aaed0b483c766f2081fdfe238542e555fcf6a563c"}, "downloads": -1, "filename": "py-lambda-1.1.0.tar.gz", "has_sig": false, "md5_digest": "8dc3f20ff60a4d89903aa5269dd82e0a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7582, "upload_time": "2019-05-15T18:08:48", "upload_time_iso_8601": "2019-05-15T18:08:48.319402Z", "url": "https://files.pythonhosted.org/packages/dc/4c/529a005ca550d3443b56ff237ca3fe04cd9d07d9fbc5de7315e9380b0f9f/py-lambda-1.1.0.tar.gz", "yanked": false}], "1.1.3": [{"comment_text": "", "digests": {"md5": "47d53663e1d5dd16dff1c1ea43fc050e", "sha256": "342dc48bc0df68a71c61a56bbab49115a959ba4965aec0876c4960cb57fce78b"}, "downloads": -1, "filename": "py_lambda-1.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "47d53663e1d5dd16dff1c1ea43fc050e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11978, "upload_time": "2019-05-16T13:40:55", "upload_time_iso_8601": "2019-05-16T13:40:55.716453Z", "url": "https://files.pythonhosted.org/packages/54/5e/162a64724a76e2e5ff3a88e1b371900ad69f865d8ecd292c4bb3ac257a7e/py_lambda-1.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0bfab8587d66c689582d64b05e368ace", "sha256": "e3723e497855725e31b3497a34c6679f04211bb045b542fbd75f1ee5f8852237"}, "downloads": -1, "filename": "py_lambda-1.1.3.tar.gz", "has_sig": false, "md5_digest": "0bfab8587d66c689582d64b05e368ace", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9020, "upload_time": "2019-05-16T13:40:57", "upload_time_iso_8601": "2019-05-16T13:40:57.631587Z", "url": "https://files.pythonhosted.org/packages/16/a9/20667ca1c2d6cd3dd4e5685318468e80487db1fe20e2dd37806df92df982/py_lambda-1.1.3.tar.gz", "yanked": false}], "1.1.4": [{"comment_text": "", "digests": {"md5": "a1d47698901781c85bef0899bb0e4364", "sha256": "7d3969a79af09e74b8b2f9ed6afd0277157fea4ad822fc1703d873692125ff73"}, "downloads": -1, "filename": "py_lambda-1.1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "a1d47698901781c85bef0899bb0e4364", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11977, "upload_time": "2019-05-17T10:56:14", "upload_time_iso_8601": "2019-05-17T10:56:14.654648Z", "url": "https://files.pythonhosted.org/packages/ab/3a/600612d6ed0bbe7643a92e9f177ad1690f8053738867171312c169975c1a/py_lambda-1.1.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ed93710c8b73b8e0be82e264ac3c00d1", "sha256": "95ac9eac6e92760a35804a24cbb713da7c430074840483c39cd3d85a1ebd0caa"}, "downloads": -1, "filename": "py_lambda-1.1.4.tar.gz", "has_sig": false, "md5_digest": "ed93710c8b73b8e0be82e264ac3c00d1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9029, "upload_time": "2019-05-17T10:56:16", "upload_time_iso_8601": "2019-05-17T10:56:16.659765Z", "url": "https://files.pythonhosted.org/packages/94/97/eddc822cc599a90a70d71adb29af4e6fdd4b4c54ef30f89bba2964078a9a/py_lambda-1.1.4.tar.gz", "yanked": false}], "1.1.5": [{"comment_text": "", "digests": {"md5": "3ec619cc8b102598a8f7fb4f7b50a12c", "sha256": "23683e5524fb9e11e8d226addb3d7fdf01744b93dede7e7dbba53de787aaf1cb"}, "downloads": -1, "filename": "py_lambda-1.1.5-py3-none-any.whl", "has_sig": false, "md5_digest": "3ec619cc8b102598a8f7fb4f7b50a12c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 12672, "upload_time": "2019-05-17T10:58:40", "upload_time_iso_8601": "2019-05-17T10:58:40.126441Z", "url": "https://files.pythonhosted.org/packages/79/0c/8abfef15f1aeeb2239cd048df43403717ac23f65f388a0dc47a0ca238714/py_lambda-1.1.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1d07179aa49ae47e22f8b663c621e9b9", "sha256": "bc73152971fe2d265b0fb717083804978fbcd416aa50844de1f3eabc890b4a0b"}, "downloads": -1, "filename": "py_lambda-1.1.5.tar.gz", "has_sig": false, "md5_digest": "1d07179aa49ae47e22f8b663c621e9b9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10858, "upload_time": "2019-05-17T10:58:41", "upload_time_iso_8601": "2019-05-17T10:58:41.865106Z", "url": "https://files.pythonhosted.org/packages/bf/14/dc1fd6303229a864ff22e9552ddbba1b98bcf58b3856a5c5d10ffd669971/py_lambda-1.1.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "3ec619cc8b102598a8f7fb4f7b50a12c", "sha256": "23683e5524fb9e11e8d226addb3d7fdf01744b93dede7e7dbba53de787aaf1cb"}, "downloads": -1, "filename": "py_lambda-1.1.5-py3-none-any.whl", "has_sig": false, "md5_digest": "3ec619cc8b102598a8f7fb4f7b50a12c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 12672, "upload_time": "2019-05-17T10:58:40", "upload_time_iso_8601": "2019-05-17T10:58:40.126441Z", "url": "https://files.pythonhosted.org/packages/79/0c/8abfef15f1aeeb2239cd048df43403717ac23f65f388a0dc47a0ca238714/py_lambda-1.1.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1d07179aa49ae47e22f8b663c621e9b9", "sha256": "bc73152971fe2d265b0fb717083804978fbcd416aa50844de1f3eabc890b4a0b"}, "downloads": -1, "filename": "py_lambda-1.1.5.tar.gz", "has_sig": false, "md5_digest": "1d07179aa49ae47e22f8b663c621e9b9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10858, "upload_time": "2019-05-17T10:58:41", "upload_time_iso_8601": "2019-05-17T10:58:41.865106Z", "url": "https://files.pythonhosted.org/packages/bf/14/dc1fd6303229a864ff22e9552ddbba1b98bcf58b3856a5c5d10ffd669971/py_lambda-1.1.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:03:22 2020"}
{"info": {"author": "Trustlines-Network", "author_email": "contact@brainbot.com", "bugtrack_url": null, "classifiers": ["Development Status :: 2 - Pre-Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6"], "description": "|Build Status| |Code style: black|\n\neth-index\n=========\n\neth-index is an indexer for events on the ethereum blockchain. It\nimports events into a postgresql database. It's a companion to the\ntrustlines project relay server component.\n\nInstallation\n------------\n\nBefore trying to install py-eth-index, make sure you have the postgresql\ndevelopment header files and library installed. On debian based systems\nthis can be done by running:\n\n::\n\n    apt install libpq-dev\n\neth-index uses python 3.6 or up. Please make sure you have the required\nversion installed.\n\nPlease checkout the source code from github, cd into the checked out\nrepo and run the folllowing pip command with a fresh virtualenv:\n\n::\n\n    pip install -c constraints.txt  .\n\nDevelopment\n-----------\n\nA complete development environment can be installed with:\n\n::\n\n    pip install -c constraints.txt -r requirements.txt\n    pip install -c constraints.txt -e .\n\nThis installs black, flake8, mypy and tox among other things.\n\nblack\n~~~~~\nThe source code is formatted with `black <https://github.com/psf/black>`__. If\nyou choose not to use the pre-commit hook, you should be able to format the\nsource code with ``black setup.py src``.\n\nflake8\n~~~~~~\nWe use flake8 to check for errors. Run ``flake8 src`` to check for errors.\n\nmypy\n~~~~\nmypy is used to check for type errors. Run ``mypy --ignore-missing-imports\nsrc`` to check manually.\n\ntox\n~~~\nRunning ``tox`` will run black, flake8, mypy and pytest locally.\n\nSince we also do run some tests for postgres, the postgres database server must\nbe installed on the local machine. It doesn't have to be started though, since\nthe tests do start postgres with a temporary data directory.\n\nOn a debian based system ``apt install postgresql`` will install the postgresql\ndatabase.\n\npre-commit\n~~~~~~~~~~\n\nThe repository comes with a configuration file for `pre-commit\n<https://pre-commit.com/>`__. pre-commit will be installed as part of\nthe development dependencies specified in requirements.txt. The git\ncommit hooks can be activated with ``pre-commit install`` inside the\npy-eth-index repository.\n\nInitializing the database\n-------------------------\n\nPlease setup a working postgres environment, i.e. set the PG\\*\nenvironment variables and configure ~/.pgpass.\n\nThen run\n\n::\n\n   ethindex createtables\n\nto create the database tables.\n\nethindex\n--------\n\nethindex is a command line program that is being used to run the actual\nsyncing process. It also uses the PG\\* variables in order to determine\nthe postgres server to connect to.\n\nethindex importabi\n~~~~~~~~~~~~~~~~~~\n\nBefore importing events into the postgres database, the ABIs must be\nknown.\n\n``ethindex importabi`` can be used to import ABIs into the postgres\ndatabase. By default it reads two json files ``addresses.json`` and\n``contracts.json`` from the current directory and adds them to the abis\ntable. These files are the exact files that the relay server also reads.\nTheir location can be specified via the ``--addresses`` and\n``-contracts`` command line arguments.\n\nUsage:\n\n::\n\n    Usage: ethindex importabi [OPTIONS]\n\n    Options:\n      --addresses TEXT\n      --contracts TEXT\n      --help            Show this message and exit.\n\nethindex runsync\n~~~~~~~~~~~~~~~~\n\n``ethindex runsync`` will start the actual synchronization process. On\nthe first start it will read all of the abis and create one entry in the\nsync table containing all contract addresses. It then imports all of the\nevents into the postgres table ``events``.\n\nUsage\n\n::\n\n    Usage: ethindex runsync [OPTIONS]\n\n    Options:\n      --jsonrpc TEXT                  jsonrpc URL to use\n      --required-confirmations INTEGER\n                                      number of confirmations until we consider a\n                                      block final\n      --waittime INTEGER              time to sleep in milliseconds waiting for a\n                                      new block\n      --startblock INTEGER            Block from where events should be synced\n      --syncid TEXT                   syncid to use\n      --merge-with-syncid TEXT        syncid to merge with\n      --help                          Show this message and exit.\n\nAdding new contracts\n--------------------\nImport the contracts using the `ethindex importabi` command. Then synchronize\nthese contracts and merge them with the `default` syncid with something like the\nfollowing command::\n\n    ethindex runsync --syncid new --merge-with-syncid default\n\nThis command will synchronize all contracts, which aren't already synchronized\nfor the `default` syncid and will merge the `new` syncid into the `default`\nsyncid, when both of them are fully synchronized with the chain. This means that\na runsync job has to be running for `default`.\n\n\nStatus and Limitations\n----------------------\n\n- ethindex is alpha software.\n\nChange log\n----------\n\nSee `CHANGELOG <https://github.com/trustlines-protocol/py-eth-index/blob/master/CHANGELOG.rst>`_.\n\n.. |Build Status| image:: https://circleci.com/gh/trustlines-protocol/py-eth-index/tree/develop.svg?style=svg\n    :target: https://circleci.com/gh/trustlines-protocol/py-eth-index/tree/develop\n.. |Code style: black| image:: https://img.shields.io/badge/code%20style-black-000000.svg\n   :target: https://github.com/psf/black\n\n\n", "description_content_type": "text/x-rst; charset=UTF-8", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/trustlines-protocol/py-eth-index", "keywords": "ethereum indexer database", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "eth-index", "package_url": "https://pypi.org/project/eth-index/", "platform": "", "project_url": "https://pypi.org/project/eth-index/", "project_urls": {"Homepage": "https://github.com/trustlines-protocol/py-eth-index"}, "release_url": "https://pypi.org/project/eth-index/0.3.2/", "requires_dist": ["web3 (>=5.0)", "psycopg2 (>=2.7)", "click", "attrs", "importlib-metadata ; python_version < \"3.8\""], "requires_python": ">=3.6", "summary": "Indexer for the ethereum blockchain", "version": "0.3.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://circleci.com/gh/trustlines-protocol/py-eth-index/tree/develop\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/eac2ed31a7a2dc6c954d77eb22dcedb4c7fcf9a4/68747470733a2f2f636972636c6563692e636f6d2f67682f74727573746c696e65732d70726f746f636f6c2f70792d6574682d696e6465782f747265652f646576656c6f702e7376673f7374796c653d737667\"></a> <a href=\"https://github.com/psf/black\" rel=\"nofollow\"><img alt=\"Code style: black\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fbfdc7754183ecf079bc71ddeabaf88f6cbc5c00/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c61636b2d3030303030302e737667\"></a></p>\n<div id=\"eth-index\">\n<h2>eth-index</h2>\n<p>eth-index is an indexer for events on the ethereum blockchain. It\nimports events into a postgresql database. It\u2019s a companion to the\ntrustlines project relay server component.</p>\n<div id=\"installation\">\n<h3>Installation</h3>\n<p>Before trying to install py-eth-index, make sure you have the postgresql\ndevelopment header files and library installed. On debian based systems\nthis can be done by running:</p>\n<pre>apt install libpq-dev\n</pre>\n<p>eth-index uses python 3.6 or up. Please make sure you have the required\nversion installed.</p>\n<p>Please checkout the source code from github, cd into the checked out\nrepo and run the folllowing pip command with a fresh virtualenv:</p>\n<pre>pip install -c constraints.txt  .\n</pre>\n</div>\n<div id=\"development\">\n<h3>Development</h3>\n<p>A complete development environment can be installed with:</p>\n<pre>pip install -c constraints.txt -r requirements.txt\npip install -c constraints.txt -e .\n</pre>\n<p>This installs black, flake8, mypy and tox among other things.</p>\n<div id=\"black\">\n<h4>black</h4>\n<p>The source code is formatted with <a href=\"https://github.com/psf/black\" rel=\"nofollow\">black</a>. If\nyou choose not to use the pre-commit hook, you should be able to format the\nsource code with <tt>black setup.py src</tt>.</p>\n</div>\n<div id=\"flake8\">\n<h4>flake8</h4>\n<p>We use flake8 to check for errors. Run <tt>flake8 src</tt> to check for errors.</p>\n</div>\n<div id=\"mypy\">\n<h4>mypy</h4>\n<p>mypy is used to check for type errors. Run <tt>mypy <span class=\"pre\">--ignore-missing-imports</span>\nsrc</tt> to check manually.</p>\n</div>\n<div id=\"tox\">\n<h4>tox</h4>\n<p>Running <tt>tox</tt> will run black, flake8, mypy and pytest locally.</p>\n<p>Since we also do run some tests for postgres, the postgres database server must\nbe installed on the local machine. It doesn\u2019t have to be started though, since\nthe tests do start postgres with a temporary data directory.</p>\n<p>On a debian based system <tt>apt install postgresql</tt> will install the postgresql\ndatabase.</p>\n</div>\n<div id=\"pre-commit\">\n<h4>pre-commit</h4>\n<p>The repository comes with a configuration file for <a href=\"https://pre-commit.com/\" rel=\"nofollow\">pre-commit</a>. pre-commit will be installed as part of\nthe development dependencies specified in requirements.txt. The git\ncommit hooks can be activated with <tt><span class=\"pre\">pre-commit</span> install</tt> inside the\npy-eth-index repository.</p>\n</div>\n</div>\n<div id=\"initializing-the-database\">\n<h3>Initializing the database</h3>\n<p>Please setup a working postgres environment, i.e. set the PG*\nenvironment variables and configure ~/.pgpass.</p>\n<p>Then run</p>\n<pre>ethindex createtables\n</pre>\n<p>to create the database tables.</p>\n</div>\n<div id=\"ethindex\">\n<h3>ethindex</h3>\n<p>ethindex is a command line program that is being used to run the actual\nsyncing process. It also uses the PG* variables in order to determine\nthe postgres server to connect to.</p>\n<div id=\"ethindex-importabi\">\n<h4>ethindex importabi</h4>\n<p>Before importing events into the postgres database, the ABIs must be\nknown.</p>\n<p><tt>ethindex importabi</tt> can be used to import ABIs into the postgres\ndatabase. By default it reads two json files <tt>addresses.json</tt> and\n<tt>contracts.json</tt> from the current directory and adds them to the abis\ntable. These files are the exact files that the relay server also reads.\nTheir location can be specified via the <tt><span class=\"pre\">--addresses</span></tt> and\n<tt><span class=\"pre\">-contracts</span></tt> command line arguments.</p>\n<p>Usage:</p>\n<pre>Usage: ethindex importabi [OPTIONS]\n\nOptions:\n  --addresses TEXT\n  --contracts TEXT\n  --help            Show this message and exit.\n</pre>\n</div>\n<div id=\"ethindex-runsync\">\n<h4>ethindex runsync</h4>\n<p><tt>ethindex runsync</tt> will start the actual synchronization process. On\nthe first start it will read all of the abis and create one entry in the\nsync table containing all contract addresses. It then imports all of the\nevents into the postgres table <tt>events</tt>.</p>\n<p>Usage</p>\n<pre>Usage: ethindex runsync [OPTIONS]\n\nOptions:\n  --jsonrpc TEXT                  jsonrpc URL to use\n  --required-confirmations INTEGER\n                                  number of confirmations until we consider a\n                                  block final\n  --waittime INTEGER              time to sleep in milliseconds waiting for a\n                                  new block\n  --startblock INTEGER            Block from where events should be synced\n  --syncid TEXT                   syncid to use\n  --merge-with-syncid TEXT        syncid to merge with\n  --help                          Show this message and exit.\n</pre>\n</div>\n</div>\n<div id=\"adding-new-contracts\">\n<h3>Adding new contracts</h3>\n<p>Import the contracts using the <cite>ethindex importabi</cite> command. Then synchronize\nthese contracts and merge them with the <cite>default</cite> syncid with something like the\nfollowing command:</p>\n<pre>ethindex runsync --syncid new --merge-with-syncid default\n</pre>\n<p>This command will synchronize all contracts, which aren\u2019t already synchronized\nfor the <cite>default</cite> syncid and will merge the <cite>new</cite> syncid into the <cite>default</cite>\nsyncid, when both of them are fully synchronized with the chain. This means that\na runsync job has to be running for <cite>default</cite>.</p>\n</div>\n<div id=\"status-and-limitations\">\n<h3>Status and Limitations</h3>\n<ul>\n<li>ethindex is alpha software.</li>\n</ul>\n</div>\n<div id=\"change-log\">\n<h3>Change log</h3>\n<p>See <a href=\"https://github.com/trustlines-protocol/py-eth-index/blob/master/CHANGELOG.rst\" rel=\"nofollow\">CHANGELOG</a>.</p>\n</div>\n</div>\n\n          </div>"}, "last_serial": 6633187, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "4cbd918e1a2ccc36a17a1c2189cdcaf1", "sha256": "693f51871f9638012cd5a2348aee5baa8c5cdfb1f14197a032fdbfb5af66821f"}, "downloads": -1, "filename": "eth-index-0.1.1.tar.gz", "has_sig": false, "md5_digest": "4cbd918e1a2ccc36a17a1c2189cdcaf1", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 19903, "upload_time": "2018-08-21T13:21:13", "upload_time_iso_8601": "2018-08-21T13:21:13.747770Z", "url": "https://files.pythonhosted.org/packages/7d/e3/6d62184260925353fe8d4f0a91650f17db16b0551fc4862484d86ef8a074/eth-index-0.1.1.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "0abfd05bb6cd885b618d8932d0abdbf9", "sha256": "b58b964b64cc3370f3222ca983e2cd522f612f9c9abf07ed803758d24f4beee5"}, "downloads": -1, "filename": "eth-index-0.2.0.tar.gz", "has_sig": false, "md5_digest": "0abfd05bb6cd885b618d8932d0abdbf9", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 22168, "upload_time": "2018-09-07T11:14:43", "upload_time_iso_8601": "2018-09-07T11:14:43.316863Z", "url": "https://files.pythonhosted.org/packages/f0/c5/fbd9df96c3f2dae749797cfa91f7c760c8572d2f32664d1291a59a82e219/eth-index-0.2.0.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "df658dd190716ac1a9903a4a6027303a", "sha256": "54169a598728f839e4f6cc9fa9ad0e8ffe03d2ecf731a49ad9b26c2c0331a0e3"}, "downloads": -1, "filename": "eth-index-0.2.1.tar.gz", "has_sig": false, "md5_digest": "df658dd190716ac1a9903a4a6027303a", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 19333, "upload_time": "2019-01-03T17:23:31", "upload_time_iso_8601": "2019-01-03T17:23:31.837560Z", "url": "https://files.pythonhosted.org/packages/50/5d/993e4afeefdf410067c0f04de292cce81598677f206761298817837c1104/eth-index-0.2.1.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "ea7ade389c7657cf949b37093977bfaa", "sha256": "a7e7e9316afbdcf08dad3d7477abe41a201deff9319decea46fa90112d150062"}, "downloads": -1, "filename": "eth-index-0.3.0.tar.gz", "has_sig": false, "md5_digest": "ea7ade389c7657cf949b37093977bfaa", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 19439, "upload_time": "2019-01-14T01:26:36", "upload_time_iso_8601": "2019-01-14T01:26:36.335591Z", "url": "https://files.pythonhosted.org/packages/e5/d5/caab60f83dceddfabb7e1b7485ce721d221402ebb2c67bf579c2027d4691/eth-index-0.3.0.tar.gz", "yanked": false}], "0.3.1": [{"comment_text": "", "digests": {"md5": "02941f3752cb43ddd86c146d5a0ea2b4", "sha256": "0f121977242d4c6d77a0c33abc2a113e4adefd84bf28c9d6a4144ce4b3585024"}, "downloads": -1, "filename": "eth-index-0.3.1.tar.gz", "has_sig": false, "md5_digest": "02941f3752cb43ddd86c146d5a0ea2b4", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 21682, "upload_time": "2019-04-03T15:45:14", "upload_time_iso_8601": "2019-04-03T15:45:14.910026Z", "url": "https://files.pythonhosted.org/packages/00/0e/57ba6d3928b765a1b2a88323c1d20b6bdc8a039b8bde179d2e8a8bfa0e8c/eth-index-0.3.1.tar.gz", "yanked": false}], "0.3.2": [{"comment_text": "", "digests": {"md5": "c1d0a6031138725bfa4bd07333d0346e", "sha256": "55202e6636c6cae46f11019a9028bc7c4cce2755452f2dc57f5cecde53f5dbeb"}, "downloads": -1, "filename": "eth_index-0.3.2-py3-none-any.whl", "has_sig": false, "md5_digest": "c1d0a6031138725bfa4bd07333d0346e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10883, "upload_time": "2020-02-14T19:20:22", "upload_time_iso_8601": "2020-02-14T19:20:22.945601Z", "url": "https://files.pythonhosted.org/packages/39/0a/178e49e21ebc272414e1336299dc0be5280e522850a81f863bacf744e26d/eth_index-0.3.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5d3f4de90b8262cddff3cb0aacb996ea", "sha256": "91814a24aa29c9cc156d3c164b0ebc04e4d6cf5f9173d90c3d1b89699089e88b"}, "downloads": -1, "filename": "eth-index-0.3.2.tar.gz", "has_sig": false, "md5_digest": "5d3f4de90b8262cddff3cb0aacb996ea", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 22698, "upload_time": "2020-02-14T19:20:24", "upload_time_iso_8601": "2020-02-14T19:20:24.355776Z", "url": "https://files.pythonhosted.org/packages/41/94/dfee1efaa48be2b65281240ec40b3503acd72eca46d82db90b6bfffbf898/eth-index-0.3.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "c1d0a6031138725bfa4bd07333d0346e", "sha256": "55202e6636c6cae46f11019a9028bc7c4cce2755452f2dc57f5cecde53f5dbeb"}, "downloads": -1, "filename": "eth_index-0.3.2-py3-none-any.whl", "has_sig": false, "md5_digest": "c1d0a6031138725bfa4bd07333d0346e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 10883, "upload_time": "2020-02-14T19:20:22", "upload_time_iso_8601": "2020-02-14T19:20:22.945601Z", "url": "https://files.pythonhosted.org/packages/39/0a/178e49e21ebc272414e1336299dc0be5280e522850a81f863bacf744e26d/eth_index-0.3.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5d3f4de90b8262cddff3cb0aacb996ea", "sha256": "91814a24aa29c9cc156d3c164b0ebc04e4d6cf5f9173d90c3d1b89699089e88b"}, "downloads": -1, "filename": "eth-index-0.3.2.tar.gz", "has_sig": false, "md5_digest": "5d3f4de90b8262cddff3cb0aacb996ea", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 22698, "upload_time": "2020-02-14T19:20:24", "upload_time_iso_8601": "2020-02-14T19:20:24.355776Z", "url": "https://files.pythonhosted.org/packages/41/94/dfee1efaa48be2b65281240ec40b3503acd72eca46d82db90b6bfffbf898/eth-index-0.3.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:45:27 2020"}
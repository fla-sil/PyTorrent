{"info": {"author": "steven5538", "author_email": "steven5538@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "#NCTU-Oauth\n\n\u53f0\u7063\u570b\u7acb\u4ea4\u901a\u5927\u5b78\u63a8\u51fa\u4e86 [NCTU Oauth](https://id.nctu.edu.tw/)\uff0c\u73fe\u5728\uff0c\u4f60\u53ef\u4ee5\u900f\u904e\u672c\u5957\u4ef6\u5728 Flask \u4f7f\u7528 NCTU Oauth\u3002\n\n\u4f9d\u64da[\u4ea4\u901a\u5927\u5b78 OAuth \u670d\u52d9 - \u958b\u767c\u8005\u8aaa\u660e\u6587\u4ef6](https://id.nctu.edu.tw/docs/)\u9032\u884c\u76f8\u5c0d\u61c9\u7684\u958b\u767c\uff0c\u4ee5\u4e0b\u662f\u4e00\u500b\u4f7f\u7528\u672c\u5957\u4ef6\u958b\u767c\u4e4b\u7bc4\u4f8b\u3002\n\n```Python\n#-*- encoding: UTF-8 -*-\n\nfrom flask import Flask, session, request, redirect, jsonify\n\n# Our oauth\nfrom nctu_oauth import Oauth\n\nNCTU_APP_REDIRECT_URI = 'In this example is http://your.domain.name/auth'\nNCTU_APP_CLIENT_ID = 'your client id'\nNCTU_APP_CLIENT_SECRET = 'your client secret'\n\napp = Flask(__name__)\napp.secret_key = 'your super coll secrey key'\n\n# make a oauth init\nnctu = Oauth(\n    redirect_uri=NCTU_APP_REDIRECT_URI, \n    client_id=NCTU_APP_CLIENT_ID, \n    client_secret=NCTU_APP_CLIENT_SECRET\n)\n\n@app.route(\"/\")\ndef home():\n    # check if login\n    if session.get('logged_in'):\n        # get user profile\n        return jsonify(nctu.get_profile())\n            \n    return redirect('/login')\n\n@app.route('/login')\ndef login():\n    # redirect to nctu auth dialog\n    return nctu.authorize()\n\n@app.route('/auth')\ndef auth():\n    # user code for getting token\n    code = request.args.get('code')\n    if code:\n        #get user token\n        if nctu.get_token(code):\n            return redirect('/')\n    \n    return redirect('/login')\n\n\nif __name__ == \"__main__\":\n    app.run()\n```", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/steven5538/NCTU-Oauth", "keywords": "python flask nctu oauth nctu-oauth", "license": "BSD", "maintainer": null, "maintainer_email": null, "name": "NCTU-Oauth", "package_url": "https://pypi.org/project/NCTU-Oauth/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/NCTU-Oauth/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/steven5538/NCTU-Oauth"}, "release_url": "https://pypi.org/project/NCTU-Oauth/0.1.0/", "requires_dist": null, "requires_python": null, "summary": "adds NCTU-Oauth support to flask", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            #NCTU-Oauth<br><br>\u53f0\u7063\u570b\u7acb\u4ea4\u901a\u5927\u5b78\u63a8\u51fa\u4e86 [NCTU Oauth](https://id.nctu.edu.tw/)\uff0c\u73fe\u5728\uff0c\u4f60\u53ef\u4ee5\u900f\u904e\u672c\u5957\u4ef6\u5728 Flask \u4f7f\u7528 NCTU Oauth\u3002<br><br>\u4f9d\u64da[\u4ea4\u901a\u5927\u5b78 OAuth \u670d\u52d9 - \u958b\u767c\u8005\u8aaa\u660e\u6587\u4ef6](https://id.nctu.edu.tw/docs/)\u9032\u884c\u76f8\u5c0d\u61c9\u7684\u958b\u767c\uff0c\u4ee5\u4e0b\u662f\u4e00\u500b\u4f7f\u7528\u672c\u5957\u4ef6\u958b\u767c\u4e4b\u7bc4\u4f8b\u3002<br><br>```Python<br>#-*- encoding: UTF-8 -*-<br><br>from flask import Flask, session, request, redirect, jsonify<br><br># Our oauth<br>from nctu_oauth import Oauth<br><br>NCTU_APP_REDIRECT_URI = 'In this example is http://your.domain.name/auth'<br>NCTU_APP_CLIENT_ID = 'your client id'<br>NCTU_APP_CLIENT_SECRET = 'your client secret'<br><br>app = Flask(__name__)<br>app.secret_key = 'your super coll secrey key'<br><br># make a oauth init<br>nctu = Oauth(<br>    redirect_uri=NCTU_APP_REDIRECT_URI, <br>    client_id=NCTU_APP_CLIENT_ID, <br>    client_secret=NCTU_APP_CLIENT_SECRET<br>)<br><br>@app.route(\"/\")<br>def home():<br>    # check if login<br>    if session.get('logged_in'):<br>        # get user profile<br>        return jsonify(nctu.get_profile())<br>            <br>    return redirect('/login')<br><br>@app.route('/login')<br>def login():<br>    # redirect to nctu auth dialog<br>    return nctu.authorize()<br><br>@app.route('/auth')<br>def auth():<br>    # user code for getting token<br>    code = request.args.get('code')<br>    if code:<br>        #get user token<br>        if nctu.get_token(code):<br>            return redirect('/')<br>    <br>    return redirect('/login')<br><br><br>if __name__ == \"__main__\":<br>    app.run()<br>```\n          </div>"}, "last_serial": 2313871, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "aaa576b408608fe56e596d305363263a", "sha256": "77673c70ec39f89564004242bd174594a8b83a33f8777e1343528bea19d8eae0"}, "downloads": -1, "filename": "NCTU_Oauth-0.1.0-py2.7.egg", "has_sig": false, "md5_digest": "aaa576b408608fe56e596d305363263a", "packagetype": "bdist_egg", "python_version": "2.7", "requires_python": null, "size": 4009, "upload_time": "2016-08-30T16:59:34", "upload_time_iso_8601": "2016-08-30T16:59:34.035105Z", "url": "https://files.pythonhosted.org/packages/5e/07/c6508378015a0c79d81c8878b7163e7ab97f21ecbb911a752c60eb927605/NCTU_Oauth-0.1.0-py2.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "45b60a732e435a62dad6497ab635d830", "sha256": "c86f749f003035c9ba6665b88ca679969aee956a4b2ebce52427dd3bddf36697"}, "downloads": -1, "filename": "NCTU-Oauth-0.1.0.tar.gz", "has_sig": false, "md5_digest": "45b60a732e435a62dad6497ab635d830", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2320, "upload_time": "2016-08-30T16:59:30", "upload_time_iso_8601": "2016-08-30T16:59:30.696574Z", "url": "https://files.pythonhosted.org/packages/2b/b8/c3f9ffe1692a1e22786b7bcd3901c4c2b2ccfee9c66fd2a92438d8758aa6/NCTU-Oauth-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "aaa576b408608fe56e596d305363263a", "sha256": "77673c70ec39f89564004242bd174594a8b83a33f8777e1343528bea19d8eae0"}, "downloads": -1, "filename": "NCTU_Oauth-0.1.0-py2.7.egg", "has_sig": false, "md5_digest": "aaa576b408608fe56e596d305363263a", "packagetype": "bdist_egg", "python_version": "2.7", "requires_python": null, "size": 4009, "upload_time": "2016-08-30T16:59:34", "upload_time_iso_8601": "2016-08-30T16:59:34.035105Z", "url": "https://files.pythonhosted.org/packages/5e/07/c6508378015a0c79d81c8878b7163e7ab97f21ecbb911a752c60eb927605/NCTU_Oauth-0.1.0-py2.7.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "45b60a732e435a62dad6497ab635d830", "sha256": "c86f749f003035c9ba6665b88ca679969aee956a4b2ebce52427dd3bddf36697"}, "downloads": -1, "filename": "NCTU-Oauth-0.1.0.tar.gz", "has_sig": false, "md5_digest": "45b60a732e435a62dad6497ab635d830", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2320, "upload_time": "2016-08-30T16:59:30", "upload_time_iso_8601": "2016-08-30T16:59:30.696574Z", "url": "https://files.pythonhosted.org/packages/2b/b8/c3f9ffe1692a1e22786b7bcd3901c4c2b2ccfee9c66fd2a92438d8758aa6/NCTU-Oauth-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:46:46 2020"}
{"info": {"author": "Tim Schwenke", "author_email": "tim.schwenke@outlook.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: System :: Logging", "Topic :: System :: Monitoring"], "description": "# Prometheus Metric Modifier for Python\n\nAllows easy modification of Prometheus metric objects. Some features are added even though\nthey are NOT recommended by Prometheus developers.\n\nInstall with `pip install prometheus-metric-modifier`.\n\n---\n\nThe package `prometheus_client` is missing a few features (by-design) like the\nconfiguration of a prefix for all metrics or a set of static labels that can be\ndefined once and is used automatically. Without this, every single time a metric is\nconstructed or the `labels` method is used, a bunch of defaults must be inserted as\nwell.\n\nThis \"monkey patcher\" solves this issue. Here is an example how to use it:\n\n```python\nfrom prometheus_metric_modifier import MetricModifier\n\nmonkey = MetricModifier(\n    metric_name_prefix=\"backend_\",\n    default_label_items={\n        \"product\": \"myproduct\",\n        \"role\": \"backend\",\n        \"env\": \"development\"\n    }\n)\n\ncounter = monkey.patch(Counter(\"name\", \"description\", [\"a\", \"b\"]))\ncounter.labels(a=\"v1\", b=\"v2\").inc()\n```\n\nIf you now check the label(values) of `counter`, you will se that the static labels\nhave been added and the prefix as well.\n\n---\n\nThe option `add_metric_type_postfix` will add the type of the metric as a postfix to the \nmetric name. This goes against all recommendations, again.\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/trallnag/prometheus-metric-modifier", "keywords": "prometheus instrumentation monitoring metrics labels", "license": "", "maintainer": "", "maintainer_email": "", "name": "prometheus-metric-modifier", "package_url": "https://pypi.org/project/prometheus-metric-modifier/", "platform": "", "project_url": "https://pypi.org/project/prometheus-metric-modifier/", "project_urls": {"Homepage": "https://github.com/trallnag/prometheus-metric-modifier"}, "release_url": "https://pypi.org/project/prometheus-metric-modifier/1.2.0/", "requires_dist": ["prometheus-client"], "requires_python": ">=3.5", "summary": "Prometheus metric modifier that adds prefix and static label support", "version": "1.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Prometheus Metric Modifier for Python</h1>\n<p>Allows easy modification of Prometheus metric objects. Some features are added even though\nthey are NOT recommended by Prometheus developers.</p>\n<p>Install with <code>pip install prometheus-metric-modifier</code>.</p>\n<hr>\n<p>The package <code>prometheus_client</code> is missing a few features (by-design) like the\nconfiguration of a prefix for all metrics or a set of static labels that can be\ndefined once and is used automatically. Without this, every single time a metric is\nconstructed or the <code>labels</code> method is used, a bunch of defaults must be inserted as\nwell.</p>\n<p>This \"monkey patcher\" solves this issue. Here is an example how to use it:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">prometheus_metric_modifier</span> <span class=\"kn\">import</span> <span class=\"n\">MetricModifier</span>\n\n<span class=\"n\">monkey</span> <span class=\"o\">=</span> <span class=\"n\">MetricModifier</span><span class=\"p\">(</span>\n    <span class=\"n\">metric_name_prefix</span><span class=\"o\">=</span><span class=\"s2\">\"backend_\"</span><span class=\"p\">,</span>\n    <span class=\"n\">default_label_items</span><span class=\"o\">=</span><span class=\"p\">{</span>\n        <span class=\"s2\">\"product\"</span><span class=\"p\">:</span> <span class=\"s2\">\"myproduct\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"role\"</span><span class=\"p\">:</span> <span class=\"s2\">\"backend\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"env\"</span><span class=\"p\">:</span> <span class=\"s2\">\"development\"</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">counter</span> <span class=\"o\">=</span> <span class=\"n\">monkey</span><span class=\"o\">.</span><span class=\"n\">patch</span><span class=\"p\">(</span><span class=\"n\">Counter</span><span class=\"p\">(</span><span class=\"s2\">\"name\"</span><span class=\"p\">,</span> <span class=\"s2\">\"description\"</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s2\">\"a\"</span><span class=\"p\">,</span> <span class=\"s2\">\"b\"</span><span class=\"p\">]))</span>\n<span class=\"n\">counter</span><span class=\"o\">.</span><span class=\"n\">labels</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"s2\">\"v1\"</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"o\">=</span><span class=\"s2\">\"v2\"</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">inc</span><span class=\"p\">()</span>\n</pre>\n<p>If you now check the label(values) of <code>counter</code>, you will se that the static labels\nhave been added and the prefix as well.</p>\n<hr>\n<p>The option <code>add_metric_type_postfix</code> will add the type of the metric as a postfix to the\nmetric name. This goes against all recommendations, again.</p>\n\n          </div>"}, "last_serial": 7096383, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "cfea50c16033463bf91f19df01a389c6", "sha256": "7a3c881d5e086fd6fd345b2a1271eb5074fbc52b7b4d35db3b752c6d3761af5f"}, "downloads": -1, "filename": "prometheus_metric_modifier-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "cfea50c16033463bf91f19df01a389c6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 5580, "upload_time": "2020-04-08T21:30:30", "upload_time_iso_8601": "2020-04-08T21:30:30.353794Z", "url": "https://files.pythonhosted.org/packages/24/27/4bb16f8edbce3ec3f89d64ee10c3a7b1cc63bd7160b332de31a97dd9573f/prometheus_metric_modifier-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "032e2cca03c925d93adfc81fb08145b3", "sha256": "bcd3a99454d5c02ba4c09c7e2543a9394134ea049039f313e73cd2b072f96afb"}, "downloads": -1, "filename": "prometheus-metric-modifier-1.0.0.tar.gz", "has_sig": false, "md5_digest": "032e2cca03c925d93adfc81fb08145b3", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 6766, "upload_time": "2020-04-08T21:30:33", "upload_time_iso_8601": "2020-04-08T21:30:33.110258Z", "url": "https://files.pythonhosted.org/packages/41/1a/d636003acb7d382e6a75cded5582f7fb63912a455a9cb2748763860d0362/prometheus-metric-modifier-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "efb4d6df49b5f13845c7c1e8f2c71448", "sha256": "70cef6615947e78625536e56e229c154316a929a248088a4f35be8c5ba15c769"}, "downloads": -1, "filename": "prometheus_metric_modifier-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "efb4d6df49b5f13845c7c1e8f2c71448", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 5573, "upload_time": "2020-04-08T21:37:46", "upload_time_iso_8601": "2020-04-08T21:37:46.182784Z", "url": "https://files.pythonhosted.org/packages/fe/b3/14d74b4793a89f1d1b1b6cf0489aff25b3e5166154d334d8bb1b32bfeb21/prometheus_metric_modifier-1.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5074dad872bda76e51a72477c94da2da", "sha256": "192be91150491d4e3e0ad830a08741c0d15e8d1cc1b8f251b4d28420821da520"}, "downloads": -1, "filename": "prometheus-metric-modifier-1.0.1.tar.gz", "has_sig": false, "md5_digest": "5074dad872bda76e51a72477c94da2da", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 6772, "upload_time": "2020-04-08T21:37:47", "upload_time_iso_8601": "2020-04-08T21:37:47.292165Z", "url": "https://files.pythonhosted.org/packages/aa/22/69c99ea5b7a1dc0b00f663a86183911e2f1fa4034f8f6363c2dd8371a9f8/prometheus-metric-modifier-1.0.1.tar.gz", "yanked": false}], "1.0.2": [{"comment_text": "", "digests": {"md5": "f1df2cda45d4ff75556d76c927c88bb8", "sha256": "ba1d584f09281daf9c5366129b46f8ed6306d0b1fcbf5a5fa6a87fbecd417b60"}, "downloads": -1, "filename": "prometheus_metric_modifier-1.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "f1df2cda45d4ff75556d76c927c88bb8", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 5584, "upload_time": "2020-04-08T21:44:28", "upload_time_iso_8601": "2020-04-08T21:44:28.992927Z", "url": "https://files.pythonhosted.org/packages/ff/28/ec1ab7a2c83377c9305d4b574f0abdbeed3330b0b5847be74df87ffe98e9/prometheus_metric_modifier-1.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "aeb7a1d8825c70ee9238cc3b02c1be0f", "sha256": "ca241c9db7f4182f3d82cf668cf0fc3bf0def98b6067cdb2c9a5e75adbab85a3"}, "downloads": -1, "filename": "prometheus-metric-modifier-1.0.2.tar.gz", "has_sig": false, "md5_digest": "aeb7a1d8825c70ee9238cc3b02c1be0f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 6782, "upload_time": "2020-04-08T21:44:31", "upload_time_iso_8601": "2020-04-08T21:44:31.142389Z", "url": "https://files.pythonhosted.org/packages/86/54/f89b578a43a0178ec38099b3313b3deaa5e430af7b7b1a1d15d62eeeec44/prometheus-metric-modifier-1.0.2.tar.gz", "yanked": false}], "1.0.3": [{"comment_text": "", "digests": {"md5": "439c64483ef9ec16d2724248dc7b9b59", "sha256": "c5a30ba6443db605c66d035f51b071b6a522ae51846602e6de28917fe79eb531"}, "downloads": -1, "filename": "prometheus_metric_modifier-1.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "439c64483ef9ec16d2724248dc7b9b59", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 5437, "upload_time": "2020-04-09T14:24:05", "upload_time_iso_8601": "2020-04-09T14:24:05.443189Z", "url": "https://files.pythonhosted.org/packages/9e/db/94202a7ab2aa19270d5fd7a85e89a9e8731e2894838190452d7d9b5cba82/prometheus_metric_modifier-1.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4bfec7fd67aaa74086533f3f6ec2eb05", "sha256": "96dd3a7747eda2aed32d671035805a6949ec4de161febbe4ae3978f6bb8ab623"}, "downloads": -1, "filename": "prometheus-metric-modifier-1.0.3.tar.gz", "has_sig": false, "md5_digest": "4bfec7fd67aaa74086533f3f6ec2eb05", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 4818, "upload_time": "2020-04-09T14:24:08", "upload_time_iso_8601": "2020-04-09T14:24:08.357066Z", "url": "https://files.pythonhosted.org/packages/21/36/641c394fe318628f4f1fd9783d9ec265d20a0a710eed159cd9c9c473ba87/prometheus-metric-modifier-1.0.3.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "b7382b0528d799c93afbfa2798dd9438", "sha256": "3030c64140575893c443c3e77659999b1f8ff37af55551113cc241ec0fb0a464"}, "downloads": -1, "filename": "prometheus-metric-modifier-1.1.0.tar.gz", "has_sig": false, "md5_digest": "b7382b0528d799c93afbfa2798dd9438", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 4886, "upload_time": "2020-04-24T21:20:32", "upload_time_iso_8601": "2020-04-24T21:20:32.347007Z", "url": "https://files.pythonhosted.org/packages/d1/43/22304863257bd32df6beace8757d6d60d26656251527eed4665370ce7bde/prometheus-metric-modifier-1.1.0.tar.gz", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "b1ddb841ffec2984f96226ee969c65b5", "sha256": "40d8d711cf5425f548cf3edba97336283a8fd7e2b7b6a8728d0df1fb5c072ad3"}, "downloads": -1, "filename": "prometheus_metric_modifier-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "b1ddb841ffec2984f96226ee969c65b5", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 5698, "upload_time": "2020-04-24T21:20:28", "upload_time_iso_8601": "2020-04-24T21:20:28.666296Z", "url": "https://files.pythonhosted.org/packages/5d/bd/30d259bb07d3cb1170d769371ae0b097deaa82577cae6d62c84924790036/prometheus_metric_modifier-1.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "97c556ca9e917de4a6cfa8f46a9e0449", "sha256": "e54d66f3084bac707a94883d3111b9d3f4fad5a5c79ac59ab0be7300ad961beb"}, "downloads": -1, "filename": "prometheus-metric-modifier-1.2.0.tar.gz", "has_sig": false, "md5_digest": "97c556ca9e917de4a6cfa8f46a9e0449", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5118, "upload_time": "2020-04-24T21:20:34", "upload_time_iso_8601": "2020-04-24T21:20:34.230370Z", "url": "https://files.pythonhosted.org/packages/72/9c/846baf97b16844c227e1cd30be5aef4fe2b4f4a475750c7342643c0f1430/prometheus-metric-modifier-1.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b1ddb841ffec2984f96226ee969c65b5", "sha256": "40d8d711cf5425f548cf3edba97336283a8fd7e2b7b6a8728d0df1fb5c072ad3"}, "downloads": -1, "filename": "prometheus_metric_modifier-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "b1ddb841ffec2984f96226ee969c65b5", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 5698, "upload_time": "2020-04-24T21:20:28", "upload_time_iso_8601": "2020-04-24T21:20:28.666296Z", "url": "https://files.pythonhosted.org/packages/5d/bd/30d259bb07d3cb1170d769371ae0b097deaa82577cae6d62c84924790036/prometheus_metric_modifier-1.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "97c556ca9e917de4a6cfa8f46a9e0449", "sha256": "e54d66f3084bac707a94883d3111b9d3f4fad5a5c79ac59ab0be7300ad961beb"}, "downloads": -1, "filename": "prometheus-metric-modifier-1.2.0.tar.gz", "has_sig": false, "md5_digest": "97c556ca9e917de4a6cfa8f46a9e0449", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 5118, "upload_time": "2020-04-24T21:20:34", "upload_time_iso_8601": "2020-04-24T21:20:34.230370Z", "url": "https://files.pythonhosted.org/packages/72/9c/846baf97b16844c227e1cd30be5aef4fe2b4f4a475750c7342643c0f1430/prometheus-metric-modifier-1.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:17:08 2020"}
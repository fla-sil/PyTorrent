{"info": {"author": "Hanan Fokkens", "author_email": "hananfokkens@gmail.com", "bugtrack_url": null, "classifiers": ["Framework :: Flask", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Database"], "description": "## Installation\n\nRun the following to install\n```commandline\npip install flask_image_search\n```\nRun the following to install from github\n```commandline\npip install git+https://github.com/hananf11/flask_image_search.git\n```\n\n## Usage\n```python\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_image_search import ImageSearch\n\napp = Flask(__name__)\napp.config[\"SQLALCHEMY_DATABASE_URI\"] = \"sqlite:///example.sqlite\"\ndb = SQLAlchemy(app)\n\nimage_search = ImageSearch(app, db)\n\n\n@image_search.register(fk_cols=['model_id'])  # register the image model_ and track the also track the model_id column\nclass Image(db.Model):\n    __tablename__ = 'images'\n\n    id = db.Column(db.Integer, primary_key=True)\n    url = db.Column(db.Text)\n    model_id = db.Column(db.ForeignKey('models.id'))\n\n    model = db.relationship('Model', primaryjoin='Image.model_id == Model.id', backref=\"images\")\n\n\nimage_search.index_model(Image)\n\n\nclass Model(db.Model):\n    __tablename__ = 'models'\n\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.Text)\n\n\nimages = Image.query.with_transformation(image_search.query_search(image_path='query.jpg', limit=5)).all()\nprint(images)\nmodels = Model.query.with_transformation(image_search.query_relation_search(image_path='query.jpg', limit=5)).all()\nprint(models)\n```\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/hananf11/flask_image_search", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "flask-image-search", "package_url": "https://pypi.org/project/flask-image-search/", "platform": "", "project_url": "https://pypi.org/project/flask-image-search/", "project_urls": {"Homepage": "https://github.com/hananf11/flask_image_search"}, "release_url": "https://pypi.org/project/flask-image-search/0.0.5/", "requires_dist": ["Flask (>=1.1.1)", "Flask-SQLAlchemy (>=2.4.1)", "Keras (>=2.3.1)", "numpy (>=1.18.1)", "pillow (>=7.1.1)", "tensorflow (>=2.1.0)"], "requires_python": "", "summary": "Flask Image Search works with Flask-SQLAlchemy to add image searching functionality", "version": "0.0.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h2>Installation</h2>\n<p>Run the following to install</p>\n<pre>pip install flask_image_search\n</pre>\n<p>Run the following to install from github</p>\n<pre>pip install git+https://github.com/hananf11/flask_image_search.git\n</pre>\n<h2>Usage</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">flask</span> <span class=\"kn\">import</span> <span class=\"n\">Flask</span>\n<span class=\"kn\">from</span> <span class=\"nn\">flask_sqlalchemy</span> <span class=\"kn\">import</span> <span class=\"n\">SQLAlchemy</span>\n<span class=\"kn\">from</span> <span class=\"nn\">flask_image_search</span> <span class=\"kn\">import</span> <span class=\"n\">ImageSearch</span>\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">Flask</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n<span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">config</span><span class=\"p\">[</span><span class=\"s2\">\"SQLALCHEMY_DATABASE_URI\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"sqlite:///example.sqlite\"</span>\n<span class=\"n\">db</span> <span class=\"o\">=</span> <span class=\"n\">SQLAlchemy</span><span class=\"p\">(</span><span class=\"n\">app</span><span class=\"p\">)</span>\n\n<span class=\"n\">image_search</span> <span class=\"o\">=</span> <span class=\"n\">ImageSearch</span><span class=\"p\">(</span><span class=\"n\">app</span><span class=\"p\">,</span> <span class=\"n\">db</span><span class=\"p\">)</span>\n\n\n<span class=\"nd\">@image_search</span><span class=\"o\">.</span><span class=\"n\">register</span><span class=\"p\">(</span><span class=\"n\">fk_cols</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'model_id'</span><span class=\"p\">])</span>  <span class=\"c1\"># register the image model_ and track the also track the model_id column</span>\n<span class=\"k\">class</span> <span class=\"nc\">Image</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">__tablename__</span> <span class=\"o\">=</span> <span class=\"s1\">'images'</span>\n\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">,</span> <span class=\"n\">primary_key</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Text</span><span class=\"p\">)</span>\n    <span class=\"n\">model_id</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">ForeignKey</span><span class=\"p\">(</span><span class=\"s1\">'models.id'</span><span class=\"p\">))</span>\n\n    <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">relationship</span><span class=\"p\">(</span><span class=\"s1\">'Model'</span><span class=\"p\">,</span> <span class=\"n\">primaryjoin</span><span class=\"o\">=</span><span class=\"s1\">'Image.model_id == Model.id'</span><span class=\"p\">,</span> <span class=\"n\">backref</span><span class=\"o\">=</span><span class=\"s2\">\"images\"</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">image_search</span><span class=\"o\">.</span><span class=\"n\">index_model</span><span class=\"p\">(</span><span class=\"n\">Image</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">Model</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">__tablename__</span> <span class=\"o\">=</span> <span class=\"s1\">'models'</span>\n\n    <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">,</span> <span class=\"n\">primary_key</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">db</span><span class=\"o\">.</span><span class=\"n\">Text</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">images</span> <span class=\"o\">=</span> <span class=\"n\">Image</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"o\">.</span><span class=\"n\">with_transformation</span><span class=\"p\">(</span><span class=\"n\">image_search</span><span class=\"o\">.</span><span class=\"n\">query_search</span><span class=\"p\">(</span><span class=\"n\">image_path</span><span class=\"o\">=</span><span class=\"s1\">'query.jpg'</span><span class=\"p\">,</span> <span class=\"n\">limit</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">images</span><span class=\"p\">)</span>\n<span class=\"n\">models</span> <span class=\"o\">=</span> <span class=\"n\">Model</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"o\">.</span><span class=\"n\">with_transformation</span><span class=\"p\">(</span><span class=\"n\">image_search</span><span class=\"o\">.</span><span class=\"n\">query_relation_search</span><span class=\"p\">(</span><span class=\"n\">image_path</span><span class=\"o\">=</span><span class=\"s1\">'query.jpg'</span><span class=\"p\">,</span> <span class=\"n\">limit</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 7074040, "releases": {"0.0.5": [{"comment_text": "", "digests": {"md5": "f969d5a69e76ccecf49cc8a4872c28ca", "sha256": "c0ca4191a1364d4dd3ebe188bd6a5d1a1e280b0330f8f18528d90c9c09188de8"}, "downloads": -1, "filename": "flask_image_search-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "f969d5a69e76ccecf49cc8a4872c28ca", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8655, "upload_time": "2020-04-22T05:59:18", "upload_time_iso_8601": "2020-04-22T05:59:18.733860Z", "url": "https://files.pythonhosted.org/packages/95/83/6396f51f1561f04ee9a50e7396aea6d17be4cee1db6c8d6ae9479f359f09/flask_image_search-0.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "750c786ad92f0b6d916c88725170c243", "sha256": "b9a40373ec58bbe435b3d9152b029779caee319006eff6a30b503e61eb5e013f"}, "downloads": -1, "filename": "flask_image_search-0.0.5.tar.gz", "has_sig": false, "md5_digest": "750c786ad92f0b6d916c88725170c243", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8489, "upload_time": "2020-04-22T05:59:20", "upload_time_iso_8601": "2020-04-22T05:59:20.384836Z", "url": "https://files.pythonhosted.org/packages/78/dd/b6eebddcc4b0a36814052af4214503378c67c599780066e9df8eff7923d6/flask_image_search-0.0.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f969d5a69e76ccecf49cc8a4872c28ca", "sha256": "c0ca4191a1364d4dd3ebe188bd6a5d1a1e280b0330f8f18528d90c9c09188de8"}, "downloads": -1, "filename": "flask_image_search-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "f969d5a69e76ccecf49cc8a4872c28ca", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8655, "upload_time": "2020-04-22T05:59:18", "upload_time_iso_8601": "2020-04-22T05:59:18.733860Z", "url": "https://files.pythonhosted.org/packages/95/83/6396f51f1561f04ee9a50e7396aea6d17be4cee1db6c8d6ae9479f359f09/flask_image_search-0.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "750c786ad92f0b6d916c88725170c243", "sha256": "b9a40373ec58bbe435b3d9152b029779caee319006eff6a30b503e61eb5e013f"}, "downloads": -1, "filename": "flask_image_search-0.0.5.tar.gz", "has_sig": false, "md5_digest": "750c786ad92f0b6d916c88725170c243", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8489, "upload_time": "2020-04-22T05:59:20", "upload_time_iso_8601": "2020-04-22T05:59:20.384836Z", "url": "https://files.pythonhosted.org/packages/78/dd/b6eebddcc4b0a36814052af4214503378c67c599780066e9df8eff7923d6/flask_image_search-0.0.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 01:02:46 2020"}
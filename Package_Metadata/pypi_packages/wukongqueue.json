{"info": {"author": "chaseSpace", "author_email": "randomlilei@gmail.com", "bugtrack_url": null, "classifiers": [], "description": "\u4e2d\u6587\u7248 | [English][English]\n## wukongqueue\n\n\u4e00\u4e2a\u7eafPython3\u5b9e\u73b0\u7684\u8f7b\u91cf\u4e14\u6613\u4e8e\u4f7f\u7528\u7684\u8de8\u7f51\u7edc\u961f\u5217\u670d\u52a1\n\n---\n[![Build Status](https://travis-ci.com/chaseSpace/wukongqueue.svg?branch=master)](https://travis-ci.com/chaseSpace/wukongqueue)\n[![codecov](https://codecov.io/gh/chaseSpace/WukongQueue/branch/master/graph/badge.svg)](https://codecov.io/gh/chaseSpace/WukongQueue)\n[![PyPI version](https://badge.fury.io/py/wukongqueue.svg)](https://badge.fury.io/py/wukongqueue)\n\n> wukongqueue\u7684\u672c\u5730\u961f\u5217\u670d\u52a1\u7684\u5b9e\u73b0\u57fa\u4e8ePython\u6807\u51c6\u5e93[`queue`][1].\n\n\n### \u7279\u70b9\n* \u5feb\uff08\u57fa\u4e8etcp\u957f\u8fde\u63a5\u901a\u4fe1\uff09\n* \u652f\u6301\u591a\u7ebf\u7a0b\u8c03\u7528\uff08\u8fde\u63a5\u6c60\uff09\n* \u652f\u6301\u6240\u6709Python\u539f\u751f\u7c7b\u578b\n* \u652f\u6301\u65ad\u5f00\u81ea\u52a8\u91cd\u8fde\n* \u4e0a\u624b\u6210\u672c\u4f4e\uff0capi\u4f7f\u7528\u548c\u6807\u51c6\u5e93[`queue`][1]\u4fdd\u6301\u4e00\u81f4\n* \u53ef\u8bbe\u7f6e\u8ba4\u8bc1\u79d8\u94a5\n\n\n### \u73af\u5883\u8981\u6c42\n* Python3.5+ (need [type hints](https://www.python.org/dev/peps/pep-0484/))\n\n### \u5b89\u88c5\n`pip install wukongqueue`\n\n### \u4f8b\u5b50\n##### server.py\n```python\nfrom wukongqueue import WuKongQueue\nimport time\n# start a queue server\nsvr = WuKongQueue(host='127.0.0.1', port=666, max_conns=10, max_size=0)\nwith svr:\n    print(\"svr is started!\")\n    svr.put(b\"1\")\n    svr.put(b\"2\")\n    print(\"putted b'1' and b'2', wait for clients...\")\n    time.sleep(10)\nprint(\"svr closed!\")\n```\n\n##### clientA.py\n```python\nfrom wukongqueue import WuKongQueueClient\nclient = WuKongQueueClient(host='127.0.0.1', port=666)\nwith client:\n    print(\"got\", client.get())  # b\"1\"\n    client.task_done()\n    import time\n    wait = 5\n    time.sleep(wait)\n    print(\"after %s seconds, got\" % wait,\n          client.get(block=True))  # wait for a while, then print b\"2\"\n    client.task_done()\n    print(\"clientA: all task done!\")\n```\n\n##### clientB.py\n```python\nfrom wukongqueue import WuKongQueueClient\nclient = WuKongQueueClient(host='127.0.0.1', port=666)\nwith client:\n    client.join()\n    print(\"clientB all task done!\")\n```\n\u6309\u4e0a\u9762\u7684\u987a\u5e8f\u542f\u52a8\u4e09\u4e2a\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u6253\u5370:\n```\n# server.py \u9996\u5148\u6253\u5370\nsvr is started! (\u9a6c\u4e0a)\nputted b'1' and b'2', wait for clients... (\u9a6c\u4e0a)\nsvr closed! (10\u79d2\u540e)\n\n# clientA print secondly\ngot b'1' (\u9a6c\u4e0a)\nafter 5 seconds, got b'2' (5\u79d2\u540e)\nclientA: all task done! (\u9a6c\u4e0a)\n\n# clientB print lastly\nclientB all task done! (\u4e0eclientA\u7684all task done\u540c\u6b65)\n```\n\n#### \u8fde\u63a5\u6c60\n```python\nfrom wukongqueue import ConnectionPool,WuKongQueueClient\npool = ConnectionPool(host=\"localhost\", port=2020, max_connections=3)\nclient = WuKongQueueClient(connection_pool=pool)\n```\n\n[\u66f4\u591a\u4f8b\u5b50](https://github.com/chaseSpace/wukongqueue/blob/master/_examples)\n\n### TODO\n- [ ] \u6301\u4e45\u5316\n\n### [\u7248\u672c\u53d1\u5e03\u65e5\u5fd7](https://github.com/chaseSpace/wukongqueue/blob/master/RELEASELOG.md)\n\n## License\n[MIT](https://github.com/chaseSpace/WukongQueue/blob/master/LICENSE)\n\n[1]: https://docs.python.org/3.6/library/queue.html\n[Chinese]: https://github.com/chaseSpace/wukongqueue/blob/master/README.md\n[English]: https://github.com/chaseSpace/wukongqueue/blob/master/README_ENG.md\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/chaseSpace/WukongQueue", "keywords": "cross network queue", "license": "", "maintainer": "", "maintainer_email": "", "name": "wukongqueue", "package_url": "https://pypi.org/project/wukongqueue/", "platform": "", "project_url": "https://pypi.org/project/wukongqueue/", "project_urls": {"Homepage": "https://github.com/chaseSpace/WukongQueue"}, "release_url": "https://pypi.org/project/wukongqueue/0.0.6/", "requires_dist": null, "requires_python": ">=3.5", "summary": "A lightweight and convenient cross network FIFO queue service based on TCP protocol.", "version": "0.0.6", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>\u4e2d\u6587\u7248 | <a href=\"https://github.com/chaseSpace/wukongqueue/blob/master/README_ENG.md\" rel=\"nofollow\">English</a></p>\n<h2>wukongqueue</h2>\n<p>\u4e00\u4e2a\u7eafPython3\u5b9e\u73b0\u7684\u8f7b\u91cf\u4e14\u6613\u4e8e\u4f7f\u7528\u7684\u8de8\u7f51\u7edc\u961f\u5217\u670d\u52a1</p>\n<hr>\n<p><a href=\"https://travis-ci.com/chaseSpace/wukongqueue\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c2edb8f75b538364672fa88a1c754fc1ac2e3870/68747470733a2f2f7472617669732d63692e636f6d2f636861736553706163652f77756b6f6e6771756575652e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/chaseSpace/WukongQueue\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/05d935739fa80342c9f24860ee2d9e5836c03a75/68747470733a2f2f636f6465636f762e696f2f67682f636861736553706163652f57756b6f6e6751756575652f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"https://badge.fury.io/py/wukongqueue\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6b4768f42c749f561079e4ca752d0f07c4312e6c/68747470733a2f2f62616467652e667572792e696f2f70792f77756b6f6e6771756575652e737667\"></a></p>\n<blockquote>\n<p>wukongqueue\u7684\u672c\u5730\u961f\u5217\u670d\u52a1\u7684\u5b9e\u73b0\u57fa\u4e8ePython\u6807\u51c6\u5e93<a href=\"https://docs.python.org/3.6/library/queue.html\" rel=\"nofollow\"><code>queue</code></a>.</p>\n</blockquote>\n<h3>\u7279\u70b9</h3>\n<ul>\n<li>\u5feb\uff08\u57fa\u4e8etcp\u957f\u8fde\u63a5\u901a\u4fe1\uff09</li>\n<li>\u652f\u6301\u591a\u7ebf\u7a0b\u8c03\u7528\uff08\u8fde\u63a5\u6c60\uff09</li>\n<li>\u652f\u6301\u6240\u6709Python\u539f\u751f\u7c7b\u578b</li>\n<li>\u652f\u6301\u65ad\u5f00\u81ea\u52a8\u91cd\u8fde</li>\n<li>\u4e0a\u624b\u6210\u672c\u4f4e\uff0capi\u4f7f\u7528\u548c\u6807\u51c6\u5e93<a href=\"https://docs.python.org/3.6/library/queue.html\" rel=\"nofollow\"><code>queue</code></a>\u4fdd\u6301\u4e00\u81f4</li>\n<li>\u53ef\u8bbe\u7f6e\u8ba4\u8bc1\u79d8\u94a5</li>\n</ul>\n<h3>\u73af\u5883\u8981\u6c42</h3>\n<ul>\n<li>Python3.5+ (need <a href=\"https://www.python.org/dev/peps/pep-0484/\" rel=\"nofollow\">type hints</a>)</li>\n</ul>\n<h3>\u5b89\u88c5</h3>\n<p><code>pip install wukongqueue</code></p>\n<h3>\u4f8b\u5b50</h3>\n<h5>server.py</h5>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">wukongqueue</span> <span class=\"kn\">import</span> <span class=\"n\">WuKongQueue</span>\n<span class=\"kn\">import</span> <span class=\"nn\">time</span>\n<span class=\"c1\"># start a queue server</span>\n<span class=\"n\">svr</span> <span class=\"o\">=</span> <span class=\"n\">WuKongQueue</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">666</span><span class=\"p\">,</span> <span class=\"n\">max_conns</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">max_size</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"k\">with</span> <span class=\"n\">svr</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"svr is started!\"</span><span class=\"p\">)</span>\n    <span class=\"n\">svr</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">\"1\"</span><span class=\"p\">)</span>\n    <span class=\"n\">svr</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">\"2\"</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"putted b'1' and b'2', wait for clients...\"</span><span class=\"p\">)</span>\n    <span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"svr closed!\"</span><span class=\"p\">)</span>\n</pre>\n<h5>clientA.py</h5>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">wukongqueue</span> <span class=\"kn\">import</span> <span class=\"n\">WuKongQueueClient</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">WuKongQueueClient</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">666</span><span class=\"p\">)</span>\n<span class=\"k\">with</span> <span class=\"n\">client</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"got\"</span><span class=\"p\">,</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">())</span>  <span class=\"c1\"># b\"1\"</span>\n    <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">task_done</span><span class=\"p\">()</span>\n    <span class=\"kn\">import</span> <span class=\"nn\">time</span>\n    <span class=\"n\">wait</span> <span class=\"o\">=</span> <span class=\"mi\">5</span>\n    <span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">sleep</span><span class=\"p\">(</span><span class=\"n\">wait</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"after </span><span class=\"si\">%s</span><span class=\"s2\"> seconds, got\"</span> <span class=\"o\">%</span> <span class=\"n\">wait</span><span class=\"p\">,</span>\n          <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">block</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>  <span class=\"c1\"># wait for a while, then print b\"2\"</span>\n    <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">task_done</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"clientA: all task done!\"</span><span class=\"p\">)</span>\n</pre>\n<h5>clientB.py</h5>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">wukongqueue</span> <span class=\"kn\">import</span> <span class=\"n\">WuKongQueueClient</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">WuKongQueueClient</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">666</span><span class=\"p\">)</span>\n<span class=\"k\">with</span> <span class=\"n\">client</span><span class=\"p\">:</span>\n    <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">()</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"clientB all task done!\"</span><span class=\"p\">)</span>\n</pre>\n<p>\u6309\u4e0a\u9762\u7684\u987a\u5e8f\u542f\u52a8\u4e09\u4e2a\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u6253\u5370:</p>\n<pre><code># server.py \u9996\u5148\u6253\u5370\nsvr is started! (\u9a6c\u4e0a)\nputted b'1' and b'2', wait for clients... (\u9a6c\u4e0a)\nsvr closed! (10\u79d2\u540e)\n\n# clientA print secondly\ngot b'1' (\u9a6c\u4e0a)\nafter 5 seconds, got b'2' (5\u79d2\u540e)\nclientA: all task done! (\u9a6c\u4e0a)\n\n# clientB print lastly\nclientB all task done! (\u4e0eclientA\u7684all task done\u540c\u6b65)\n</code></pre>\n<h4>\u8fde\u63a5\u6c60</h4>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">wukongqueue</span> <span class=\"kn\">import</span> <span class=\"n\">ConnectionPool</span><span class=\"p\">,</span><span class=\"n\">WuKongQueueClient</span>\n<span class=\"n\">pool</span> <span class=\"o\">=</span> <span class=\"n\">ConnectionPool</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s2\">\"localhost\"</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">2020</span><span class=\"p\">,</span> <span class=\"n\">max_connections</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">WuKongQueueClient</span><span class=\"p\">(</span><span class=\"n\">connection_pool</span><span class=\"o\">=</span><span class=\"n\">pool</span><span class=\"p\">)</span>\n</pre>\n<p><a href=\"https://github.com/chaseSpace/wukongqueue/blob/master/_examples\" rel=\"nofollow\">\u66f4\u591a\u4f8b\u5b50</a></p>\n<h3>TODO</h3>\n<ul>\n<li>[ ] \u6301\u4e45\u5316</li>\n</ul>\n<h3><a href=\"https://github.com/chaseSpace/wukongqueue/blob/master/RELEASELOG.md\" rel=\"nofollow\">\u7248\u672c\u53d1\u5e03\u65e5\u5fd7</a></h3>\n<h2>License</h2>\n<p><a href=\"https://github.com/chaseSpace/WukongQueue/blob/master/LICENSE\" rel=\"nofollow\">MIT</a></p>\n\n          </div>"}, "last_serial": 6636455, "releases": {"0.0.5": [{"comment_text": "", "digests": {"md5": "39a871c609eed595ca65e5c1f8426cb4", "sha256": "5b7d9295972103c569ed445055442c45e226bfb784ce5221439cfbfa4d8f47b0"}, "downloads": -1, "filename": "wukongqueue-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "39a871c609eed595ca65e5c1f8426cb4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 15113, "upload_time": "2020-01-09T07:18:24", "upload_time_iso_8601": "2020-01-09T07:18:24.298782Z", "url": "https://files.pythonhosted.org/packages/aa/a0/c7d183231cba7991bb0cfd2a61126c24ea1927650908369bec28eb9d32c4/wukongqueue-0.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "47b4f820167ed071d02544a282f08bea", "sha256": "af1c68739a83de66035c1978bb0a5a4826e5107a3423a30afd5a80a48c51230a"}, "downloads": -1, "filename": "wukongqueue-0.0.5.tar.gz", "has_sig": false, "md5_digest": "47b4f820167ed071d02544a282f08bea", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 12980, "upload_time": "2020-01-09T07:18:29", "upload_time_iso_8601": "2020-01-09T07:18:29.458774Z", "url": "https://files.pythonhosted.org/packages/c0/7a/6f03c9fc6da5f34392aec351cbd4c8d81f7ed7c69959e802ff47d17ef429/wukongqueue-0.0.5.tar.gz", "yanked": false}], "0.0.6": [{"comment_text": "", "digests": {"md5": "e536bc38fa3050433e6204066bef9867", "sha256": "270e6450235ec987c29604756c43ff8d982332d9d850280d31839c28c796c2bb"}, "downloads": -1, "filename": "wukongqueue-0.0.6-py3-none-any.whl", "has_sig": false, "md5_digest": "e536bc38fa3050433e6204066bef9867", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 20107, "upload_time": "2020-02-15T13:52:24", "upload_time_iso_8601": "2020-02-15T13:52:24.976967Z", "url": "https://files.pythonhosted.org/packages/49/fa/f9adada3b73ee16558c68ae9d41bebec0372d3b1b85a4e5fa0f32b6f86d6/wukongqueue-0.0.6-py3-none-any.whl", "yanked": false}], "0.0.6a1": [{"comment_text": "", "digests": {"md5": "0ddad50d5fe1a9659285d868690d2a9e", "sha256": "17a36d49c258d9974a2ae5a25cee8fd5bc395e0de012d5188e8d32e7ead15bb6"}, "downloads": -1, "filename": "wukongqueue-0.0.6a1-py3-none-any.whl", "has_sig": false, "md5_digest": "0ddad50d5fe1a9659285d868690d2a9e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 16387, "upload_time": "2020-01-31T09:50:19", "upload_time_iso_8601": "2020-01-31T09:50:19.533688Z", "url": "https://files.pythonhosted.org/packages/bd/88/e1b28b4857e1c20d9770fe82266dabd0ebb750c69d803a300443bf4d1000/wukongqueue-0.0.6a1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "24304e4673ac1bf910463538048270f2", "sha256": "eea63a7aabe1b72883d693cd3b5aa03e63a743fb2cab6b56da135a7794c62e5a"}, "downloads": -1, "filename": "wukongqueue-0.0.6a1.tar.gz", "has_sig": false, "md5_digest": "24304e4673ac1bf910463538048270f2", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.5", "size": 14379, "upload_time": "2020-01-31T09:50:21", "upload_time_iso_8601": "2020-01-31T09:50:21.965381Z", "url": "https://files.pythonhosted.org/packages/89/b0/9c9e96b7b7c0c2c9a93b18c0d24bce06948790075d22194739e60ea755e5/wukongqueue-0.0.6a1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e536bc38fa3050433e6204066bef9867", "sha256": "270e6450235ec987c29604756c43ff8d982332d9d850280d31839c28c796c2bb"}, "downloads": -1, "filename": "wukongqueue-0.0.6-py3-none-any.whl", "has_sig": false, "md5_digest": "e536bc38fa3050433e6204066bef9867", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.5", "size": 20107, "upload_time": "2020-02-15T13:52:24", "upload_time_iso_8601": "2020-02-15T13:52:24.976967Z", "url": "https://files.pythonhosted.org/packages/49/fa/f9adada3b73ee16558c68ae9d41bebec0372d3b1b85a4e5fa0f32b6f86d6/wukongqueue-0.0.6-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 03:26:46 2020"}
{"info": {"author": "MutatedFlood", "author_email": "b06901038@ntu.edu.tw", "bugtrack_url": null, "classifiers": ["Programming Language :: Python :: 3.7"], "description": "# agymc\n\n![gym](./assets/gym.png)\n\n**For reinforcement learning and concurrency lovers out there ...**\n\n### TL;DR\n\n- Mostly the same API as gym, except now multiple environments are run.\n- Envs are run concurrently, which means speedup with time consuming operations such as backprop, render etc..\n\n### Intro\n\nThis is a concurrent wrapper for OpenAI Gym library that runs multiple environments concurrently, which means running faster in training\\* without consuming more CPU power.\n\n### What exactly is _concurrency_ ?\n\nMaybe you have heard of _parallel computing_ ? When we say we execute things in parallel, we run the program on _multiple_ processors, which offers significant speedup. _Concurrency computing_ has a broader meaning, though. The definition of a _concurrent_ program, is that it is designed not to execute sequentially, and will one day be executed parallelly\\*\\*. A _concurrent program_ can run on a sigle processor or multiple processors. These tasks may communicate with each other, but have separate private states hidden from others.\n\n### Why do we need _concurrency_ on a single processor ?\n\nSome tasks, by nature, takes a lot of time to complete. Downloading a file, for example. Without concurrency, the processor would have to wait for the task to complete before starting to execute the next task. However, with concurrency we could temporarily suspend the current task, and come back later when the task finishes. **Without using extra computing power.**\n\n### So much for introducing concurrency... now, what is gym ?\n\nOpenAI gym, is a `Python` library that helps research reinforcement learning. Reinforcement learning is a branch from control theory, and focusing mainly on agents interacting with environments. And OpenAI gym provides numerous environments for people to benchmark their beloved reinforcement learning algorithms. For you agents to *train* in a _gym_, they say.\n\n### Um, so why do we need agymc, do you say ?\n\nDespite its merits, OpenAI gym has one major drawback. It is designed to run _one agent on a processor at a time, only_. What if you want to run multiple environments on the same processor at a time? Well, it will run, **sequentially**. Which means slow if you want to train a robot in _batches_.\n\n### Experiments\n\nUsing `env.render` as our bottlenecking operation, runing 200 environments, our version`agymc` completes 50 episodes in 4 minutes, while naive `gym` version takes around twice as long. This is what the madness looks like:\n\n![Screenshot_1](./assets/Screenshot_1.png)\n\n### Wow, how to use agymc ?\n\n`agymc`, which combines the power of `Python` async API and OpenAI gym, hence the name, designed for users to make final Except now the returns are in _batches_ (lists). And except serveral environments are run asynchronously.\n\n### Example Usage Code Snippet\n\n```python\nimport argparse\n\nimport agymc\n\nif __name__ == \"__main__\":\n    parser = argparse.ArgumentParser()\n    parser.add_argument(\"--num-envs\", type=int)\n    parser.add_argument(\"--episodes\", type=int)\n    parser.add_argument(\"--render\", action=\"store_true\")\n    parser.add_argument(\"--verbose\", action=\"store_true\")\n    flags = parser.parse_args()\n\n    num_envs = flags.num_envs\n    num_episodes = flags.episodes\n    render = flags.render\n    verbose = flags.verbose\n\n    envs = agync.make(\"CartPole-v0\", num_envs)\n    if verbose:\n        import tqdm\n\n        iterable = tqdm.tqdm(range(num_episodes))\n    else:\n        iterable = range(num_episodes)\n\n    for _ in iterable:\n        done = list(False for _ in range(num_envs))\n        envs.reset()\n\n        while not all(done):\n            if render:\n                envs.render()\n            action = envs.action_space.sample()\n            (_, _, done, _) = envs.step(action)\n    envs.close()\n```\n\n\n\n\\* When doing pure `gym` operation such as sampling, stepping, this library runs slower since this is a wrapper for gym. However, for actions that _takes a while to execute, such as backprop and update, sending data back and forth, or even rendering_, concurrency makes the operations execute much faster than a [naive gym implementation](./test/ref.py)\n\n\\*\\* If you would like to learn more about concurrency patterns, [this](https://www.youtube.com/watch?v=rDRa23k70CU) video is really informative.\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/MutatedFlood/agymc", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "agymc", "package_url": "https://pypi.org/project/agymc/", "platform": "", "project_url": "https://pypi.org/project/agymc/", "project_urls": {"Homepage": "https://github.com/MutatedFlood/agymc"}, "release_url": "https://pypi.org/project/agymc/0.1.1.1.dev0/", "requires_dist": ["gym"], "requires_python": ">=3.7", "summary": "A concurrent wrapper for OpenAI Gym library that runs multiple environments concurrently.", "version": "0.1.1.1.dev0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>agymc</h1>\n<p><img alt=\"gym\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f22bc2d9881f9472d993beb1c7789885787c96ce/2e2f6173736574732f67796d2e706e67\"></p>\n<p><strong>For reinforcement learning and concurrency lovers out there ...</strong></p>\n<h3>TL;DR</h3>\n<ul>\n<li>Mostly the same API as gym, except now multiple environments are run.</li>\n<li>Envs are run concurrently, which means speedup with time consuming operations such as backprop, render etc..</li>\n</ul>\n<h3>Intro</h3>\n<p>This is a concurrent wrapper for OpenAI Gym library that runs multiple environments concurrently, which means running faster in training* without consuming more CPU power.</p>\n<h3>What exactly is <em>concurrency</em> ?</h3>\n<p>Maybe you have heard of <em>parallel computing</em> ? When we say we execute things in parallel, we run the program on <em>multiple</em> processors, which offers significant speedup. <em>Concurrency computing</em> has a broader meaning, though. The definition of a <em>concurrent</em> program, is that it is designed not to execute sequentially, and will one day be executed parallelly**. A <em>concurrent program</em> can run on a sigle processor or multiple processors. These tasks may communicate with each other, but have separate private states hidden from others.</p>\n<h3>Why do we need <em>concurrency</em> on a single processor ?</h3>\n<p>Some tasks, by nature, takes a lot of time to complete. Downloading a file, for example. Without concurrency, the processor would have to wait for the task to complete before starting to execute the next task. However, with concurrency we could temporarily suspend the current task, and come back later when the task finishes. <strong>Without using extra computing power.</strong></p>\n<h3>So much for introducing concurrency... now, what is gym ?</h3>\n<p>OpenAI gym, is a <code>Python</code> library that helps research reinforcement learning. Reinforcement learning is a branch from control theory, and focusing mainly on agents interacting with environments. And OpenAI gym provides numerous environments for people to benchmark their beloved reinforcement learning algorithms. For you agents to <em>train</em> in a <em>gym</em>, they say.</p>\n<h3>Um, so why do we need agymc, do you say ?</h3>\n<p>Despite its merits, OpenAI gym has one major drawback. It is designed to run <em>one agent on a processor at a time, only</em>. What if you want to run multiple environments on the same processor at a time? Well, it will run, <strong>sequentially</strong>. Which means slow if you want to train a robot in <em>batches</em>.</p>\n<h3>Experiments</h3>\n<p>Using <code>env.render</code> as our bottlenecking operation, runing 200 environments, our version<code>agymc</code> completes 50 episodes in 4 minutes, while naive <code>gym</code> version takes around twice as long. This is what the madness looks like:</p>\n<p><img alt=\"Screenshot_1\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3541a2f53530701a8a6d60d27ea6655f18b26c11/2e2f6173736574732f53637265656e73686f745f312e706e67\"></p>\n<h3>Wow, how to use agymc ?</h3>\n<p><code>agymc</code>, which combines the power of <code>Python</code> async API and OpenAI gym, hence the name, designed for users to make final Except now the returns are in <em>batches</em> (lists). And except serveral environments are run asynchronously.</p>\n<h3>Example Usage Code Snippet</h3>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">argparse</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">agymc</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">\"__main__\"</span><span class=\"p\">:</span>\n    <span class=\"n\">parser</span> <span class=\"o\">=</span> <span class=\"n\">argparse</span><span class=\"o\">.</span><span class=\"n\">ArgumentParser</span><span class=\"p\">()</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s2\">\"--num-envs\"</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"nb\">int</span><span class=\"p\">)</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s2\">\"--episodes\"</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"nb\">int</span><span class=\"p\">)</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s2\">\"--render\"</span><span class=\"p\">,</span> <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s2\">\"store_true\"</span><span class=\"p\">)</span>\n    <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">add_argument</span><span class=\"p\">(</span><span class=\"s2\">\"--verbose\"</span><span class=\"p\">,</span> <span class=\"n\">action</span><span class=\"o\">=</span><span class=\"s2\">\"store_true\"</span><span class=\"p\">)</span>\n    <span class=\"n\">flags</span> <span class=\"o\">=</span> <span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">parse_args</span><span class=\"p\">()</span>\n\n    <span class=\"n\">num_envs</span> <span class=\"o\">=</span> <span class=\"n\">flags</span><span class=\"o\">.</span><span class=\"n\">num_envs</span>\n    <span class=\"n\">num_episodes</span> <span class=\"o\">=</span> <span class=\"n\">flags</span><span class=\"o\">.</span><span class=\"n\">episodes</span>\n    <span class=\"n\">render</span> <span class=\"o\">=</span> <span class=\"n\">flags</span><span class=\"o\">.</span><span class=\"n\">render</span>\n    <span class=\"n\">verbose</span> <span class=\"o\">=</span> <span class=\"n\">flags</span><span class=\"o\">.</span><span class=\"n\">verbose</span>\n\n    <span class=\"n\">envs</span> <span class=\"o\">=</span> <span class=\"n\">agync</span><span class=\"o\">.</span><span class=\"n\">make</span><span class=\"p\">(</span><span class=\"s2\">\"CartPole-v0\"</span><span class=\"p\">,</span> <span class=\"n\">num_envs</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">verbose</span><span class=\"p\">:</span>\n        <span class=\"kn\">import</span> <span class=\"nn\">tqdm</span>\n\n        <span class=\"n\">iterable</span> <span class=\"o\">=</span> <span class=\"n\">tqdm</span><span class=\"o\">.</span><span class=\"n\">tqdm</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">num_episodes</span><span class=\"p\">))</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"n\">iterable</span> <span class=\"o\">=</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">num_episodes</span><span class=\"p\">)</span>\n\n    <span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"n\">iterable</span><span class=\"p\">:</span>\n        <span class=\"n\">done</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"kc\">False</span> <span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">num_envs</span><span class=\"p\">))</span>\n        <span class=\"n\">envs</span><span class=\"o\">.</span><span class=\"n\">reset</span><span class=\"p\">()</span>\n\n        <span class=\"k\">while</span> <span class=\"ow\">not</span> <span class=\"nb\">all</span><span class=\"p\">(</span><span class=\"n\">done</span><span class=\"p\">):</span>\n            <span class=\"k\">if</span> <span class=\"n\">render</span><span class=\"p\">:</span>\n                <span class=\"n\">envs</span><span class=\"o\">.</span><span class=\"n\">render</span><span class=\"p\">()</span>\n            <span class=\"n\">action</span> <span class=\"o\">=</span> <span class=\"n\">envs</span><span class=\"o\">.</span><span class=\"n\">action_space</span><span class=\"o\">.</span><span class=\"n\">sample</span><span class=\"p\">()</span>\n            <span class=\"p\">(</span><span class=\"n\">_</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">,</span> <span class=\"n\">done</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"n\">envs</span><span class=\"o\">.</span><span class=\"n\">step</span><span class=\"p\">(</span><span class=\"n\">action</span><span class=\"p\">)</span>\n    <span class=\"n\">envs</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n</pre>\n<p>* When doing pure <code>gym</code> operation such as sampling, stepping, this library runs slower since this is a wrapper for gym. However, for actions that <em>takes a while to execute, such as backprop and update, sending data back and forth, or even rendering</em>, concurrency makes the operations execute much faster than a <a href=\"./test/ref.py\" rel=\"nofollow\">naive gym implementation</a></p>\n<p>** If you would like to learn more about concurrency patterns, <a href=\"https://www.youtube.com/watch?v=rDRa23k70CU\" rel=\"nofollow\">this</a> video is really informative.</p>\n\n          </div>"}, "last_serial": 6487928, "releases": {"0.1.1.1.dev0": [{"comment_text": "", "digests": {"md5": "ac29b0829c918c5169c59c4fe7f92f0a", "sha256": "be93a5bdc2fd6dc222dc86207f3a41c1940b798b937869be9a30ab22911f5d73"}, "downloads": -1, "filename": "agymc-0.1.1.1.dev0-py3-none-any.whl", "has_sig": false, "md5_digest": "ac29b0829c918c5169c59c4fe7f92f0a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 7681, "upload_time": "2020-01-20T15:36:07", "upload_time_iso_8601": "2020-01-20T15:36:07.532042Z", "url": "https://files.pythonhosted.org/packages/e7/c9/3fc79a89182627a42cb5ca5cf18d5c8f99c9e3b391acd1f5ad36ad343562/agymc-0.1.1.1.dev0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b4c1d898eba4b7ebc2be23d45006be8b", "sha256": "9724f2b6d893979d21867bde065fd999149eaced8204d309c11a386de19757bb"}, "downloads": -1, "filename": "agymc-0.1.1.1.dev0.tar.gz", "has_sig": false, "md5_digest": "b4c1d898eba4b7ebc2be23d45006be8b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 5407, "upload_time": "2020-01-20T15:36:09", "upload_time_iso_8601": "2020-01-20T15:36:09.121594Z", "url": "https://files.pythonhosted.org/packages/5b/b2/654a7ead855c975008ea739b21b70a7a5c629bac57264ee9380824e944d9/agymc-0.1.1.1.dev0.tar.gz", "yanked": false}], "0.1.1.dev0": [{"comment_text": "", "digests": {"md5": "9277dc5574ddf4ce090da01ea601537b", "sha256": "bc15076fe3cf944c6bc708fe17c52307c4cf6d98f094e42b5ed18e14c737de98"}, "downloads": -1, "filename": "agymc-0.1.1.dev0-py3-none-any.whl", "has_sig": false, "md5_digest": "9277dc5574ddf4ce090da01ea601537b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 7659, "upload_time": "2020-01-20T15:33:17", "upload_time_iso_8601": "2020-01-20T15:33:17.611176Z", "url": "https://files.pythonhosted.org/packages/ab/8f/0feab82b90f8cfb5e3f3844d0e96456dde300d9264914b965f270d252fa8/agymc-0.1.1.dev0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4d6c757a439f593b1ff38fa9416c144a", "sha256": "f452b698de871aa2a1b08ad9f2258804d57c02ad1f230adbda91d460b3520cf7"}, "downloads": -1, "filename": "agymc-0.1.1.dev0.tar.gz", "has_sig": false, "md5_digest": "4d6c757a439f593b1ff38fa9416c144a", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 5431, "upload_time": "2020-01-20T15:33:19", "upload_time_iso_8601": "2020-01-20T15:33:19.025744Z", "url": "https://files.pythonhosted.org/packages/56/8a/18439182d2910a697c527d16efc1508d2ebdfe85a510ead6e54b8ea4c108/agymc-0.1.1.dev0.tar.gz", "yanked": false}], "0.1.dev0": [{"comment_text": "", "digests": {"md5": "ec6b890c73123d6a6c9ec64acd56c219", "sha256": "0ba2fa9457c2629643340b6122cc338b641f44ee5b244ea59af0ab3fa26f1bd2"}, "downloads": -1, "filename": "agymc-0.1.dev0-py3-none-any.whl", "has_sig": false, "md5_digest": "ec6b890c73123d6a6c9ec64acd56c219", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 3846, "upload_time": "2020-01-20T15:22:08", "upload_time_iso_8601": "2020-01-20T15:22:08.426781Z", "url": "https://files.pythonhosted.org/packages/2c/8b/c6cc876135e96504fb43908ecf5174523ff620c8708719d8ef4e9e96b5d7/agymc-0.1.dev0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "da20ce3cd5bde4071eff090bc202ca08", "sha256": "749064ef81348345400be8a9ad0ece1b5ab7a1dd95109c5a1c9e636ae79d2d65"}, "downloads": -1, "filename": "agymc-0.1.dev0.tar.gz", "has_sig": false, "md5_digest": "da20ce3cd5bde4071eff090bc202ca08", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 3197, "upload_time": "2020-01-20T15:22:10", "upload_time_iso_8601": "2020-01-20T15:22:10.808073Z", "url": "https://files.pythonhosted.org/packages/7e/e7/bd310e7863260265b2a6d8ab853914272e78ff56aaeff4f83554e2cbddcf/agymc-0.1.dev0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ac29b0829c918c5169c59c4fe7f92f0a", "sha256": "be93a5bdc2fd6dc222dc86207f3a41c1940b798b937869be9a30ab22911f5d73"}, "downloads": -1, "filename": "agymc-0.1.1.1.dev0-py3-none-any.whl", "has_sig": false, "md5_digest": "ac29b0829c918c5169c59c4fe7f92f0a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 7681, "upload_time": "2020-01-20T15:36:07", "upload_time_iso_8601": "2020-01-20T15:36:07.532042Z", "url": "https://files.pythonhosted.org/packages/e7/c9/3fc79a89182627a42cb5ca5cf18d5c8f99c9e3b391acd1f5ad36ad343562/agymc-0.1.1.1.dev0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b4c1d898eba4b7ebc2be23d45006be8b", "sha256": "9724f2b6d893979d21867bde065fd999149eaced8204d309c11a386de19757bb"}, "downloads": -1, "filename": "agymc-0.1.1.1.dev0.tar.gz", "has_sig": false, "md5_digest": "b4c1d898eba4b7ebc2be23d45006be8b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 5407, "upload_time": "2020-01-20T15:36:09", "upload_time_iso_8601": "2020-01-20T15:36:09.121594Z", "url": "https://files.pythonhosted.org/packages/5b/b2/654a7ead855c975008ea739b21b70a7a5c629bac57264ee9380824e944d9/agymc-0.1.1.1.dev0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:22:18 2020"}
{"info": {"author": "Stefan Hoelzl", "author_email": "stefan.hoelzl@posteo.de", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: MacOS :: MacOS X", "Operating System :: POSIX :: Linux", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Software Development", "Topic :: Software Development :: Version Control :: Git"], "description": "# cico\n\n[![Build Status](https://travis-ci.org/stefanhoelzl/cico.svg?branch=master)](https://travis-ci.org/stefanhoelzl/cico)\n[![PyPI](https://img.shields.io/pypi/v/cico.svg)](https://pypi.org/project/cico/)\n[![License](https://img.shields.io/pypi/l/cico.svg)](LICENSE)\n\ndeploy CI results to git\n\n**cico** commits artefacts generated by a CI enviroinment to a Git results branch.\n\nFor each tested branch a directory in the results branch gets created.\n* _tested branch_: The branch you commited an is checked out by the CI tool\n* _results branch_: The branch where your results should be deployed\n  * can be in a different repository than the tested branch\n\n## Installation\n```bash\n$ pip install cico\n```\n\n## Usage\n\n`deploy.py`\n```python\nfrom cico import TravisCI\nfrom cico.results import Directory, File, Badge\n\nTravisCI(\n    repo = GitHub(USERNAME,   # GitHub Username (e.g. 'stefanhoelzl')\n                  REPO_NAME,  # GitHub Repository (e.g. 'ci-results')\n                  TOKEN),     # GitHub Personal access tokens\n                              # ONLY ENCRYPTED (https://docs.travis-ci.com/user/environment-variables/#Defining-encrypted-variables-in-.travis.yml)\n    branch = RESULT_BRANCH,   # Git Branch with the results (e.g. 'cico-testing')\n    results = [\n        # Deploy file 'testresults.tap' into folder 'tap' (destination is optional)\n        File(\"testresults.tap\", destination=\"tap\"),\n\n        # Deploy file 'wrong_name.tap' as 'correct_name.tap' (rename is optional)\n        File(\"wrong_name.txt\", rename=\"correct_name.txt\"),\n\n        # Deploy directory 'covhtml' into folder 'coverage' (desitnation is optional)\n        Directory(\"covhtml\", destination=\"coverage\"),\n\n        # Create a Badge with the label \"My Badge\" and value \"96\" as mybadge.svg and mybadge.png\n        # (png is optional) in the directory 'badges'\n        Badge(\"badges/mybadge\", png=True, label=\"My Badge\", value=96,\n              **anybadge_arguments),  # https://github.com/jongracecox/anybadge\n    ]\n).commit(\n    # commit message (optional)\n    # {build} gets replaced by build number\n    # {branch} gets replaced by name of tested branch\n    message=\"build {build} on branch {branch}\",\n\n    # perform 'git push' even if not executed in CI environment (default=False)\n    no_ci_push=True\n)\n```\n\n`.travis.yml` with `after_script` section\n```yaml\nafter_script:\n  - python deploy.py\n```\n\n`.travis.yml` with `deploy` section\n```yaml\ndeploy:\n  provider: script\n  skip_cleanup: true  # prevent TravisCI from cleaning up the files you want to deploy\n  script: python deploy.py\n```\n\ndirectory structure afterwards in branch `cico-testing` of the repository `ci-results`\n```\n+-- master\n    o-- correct_name.txt\n    +-- tap\n    |   o-- testresults.tap\n    +-- covhtml\n    |   +-- <all contents of covhtml in the tested branch>\n    +-- badges\n        o-- mybadge.svg\n        o-- mybadge.png\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/stefanhoelzl/cico", "keywords": "ci travis git badge", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "cico", "package_url": "https://pypi.org/project/cico/", "platform": "", "project_url": "https://pypi.org/project/cico/", "project_urls": {"Homepage": "http://github.com/stefanhoelzl/cico"}, "release_url": "https://pypi.org/project/cico/0.1.8/", "requires_dist": ["anybadge (==1.1.1)", "GitPython (==2.1.10)", "CairoSVG (==2.1.3)"], "requires_python": "", "summary": "deploy CI results to git", "version": "0.1.8", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>cico</h1>\n<p><a href=\"https://travis-ci.org/stefanhoelzl/cico\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/57a65c5400213039666b1edba31586e45a8f8978/68747470733a2f2f7472617669732d63692e6f72672f73746566616e686f656c7a6c2f6369636f2e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.org/project/cico/\" rel=\"nofollow\"><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3c3df0fdcfc7029272bc49036dfede4aa2d4996f/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6369636f2e737667\"></a>\n<a href=\"LICENSE\" rel=\"nofollow\"><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/da55ae6a575a72692a9efddaa24a89deb7b6791d/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f6369636f2e737667\"></a></p>\n<p>deploy CI results to git</p>\n<p><strong>cico</strong> commits artefacts generated by a CI enviroinment to a Git results branch.</p>\n<p>For each tested branch a directory in the results branch gets created.</p>\n<ul>\n<li><em>tested branch</em>: The branch you commited an is checked out by the CI tool</li>\n<li><em>results branch</em>: The branch where your results should be deployed\n<ul>\n<li>can be in a different repository than the tested branch</li>\n</ul>\n</li>\n</ul>\n<h2>Installation</h2>\n<pre>$ pip install cico\n</pre>\n<h2>Usage</h2>\n<p><code>deploy.py</code></p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">cico</span> <span class=\"kn\">import</span> <span class=\"n\">TravisCI</span>\n<span class=\"kn\">from</span> <span class=\"nn\">cico.results</span> <span class=\"kn\">import</span> <span class=\"n\">Directory</span><span class=\"p\">,</span> <span class=\"n\">File</span><span class=\"p\">,</span> <span class=\"n\">Badge</span>\n\n<span class=\"n\">TravisCI</span><span class=\"p\">(</span>\n    <span class=\"n\">repo</span> <span class=\"o\">=</span> <span class=\"n\">GitHub</span><span class=\"p\">(</span><span class=\"n\">USERNAME</span><span class=\"p\">,</span>   <span class=\"c1\"># GitHub Username (e.g. 'stefanhoelzl')</span>\n                  <span class=\"n\">REPO_NAME</span><span class=\"p\">,</span>  <span class=\"c1\"># GitHub Repository (e.g. 'ci-results')</span>\n                  <span class=\"n\">TOKEN</span><span class=\"p\">),</span>     <span class=\"c1\"># GitHub Personal access tokens</span>\n                              <span class=\"c1\"># ONLY ENCRYPTED (https://docs.travis-ci.com/user/environment-variables/#Defining-encrypted-variables-in-.travis.yml)</span>\n    <span class=\"n\">branch</span> <span class=\"o\">=</span> <span class=\"n\">RESULT_BRANCH</span><span class=\"p\">,</span>   <span class=\"c1\"># Git Branch with the results (e.g. 'cico-testing')</span>\n    <span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"c1\"># Deploy file 'testresults.tap' into folder 'tap' (destination is optional)</span>\n        <span class=\"n\">File</span><span class=\"p\">(</span><span class=\"s2\">\"testresults.tap\"</span><span class=\"p\">,</span> <span class=\"n\">destination</span><span class=\"o\">=</span><span class=\"s2\">\"tap\"</span><span class=\"p\">),</span>\n\n        <span class=\"c1\"># Deploy file 'wrong_name.tap' as 'correct_name.tap' (rename is optional)</span>\n        <span class=\"n\">File</span><span class=\"p\">(</span><span class=\"s2\">\"wrong_name.txt\"</span><span class=\"p\">,</span> <span class=\"n\">rename</span><span class=\"o\">=</span><span class=\"s2\">\"correct_name.txt\"</span><span class=\"p\">),</span>\n\n        <span class=\"c1\"># Deploy directory 'covhtml' into folder 'coverage' (desitnation is optional)</span>\n        <span class=\"n\">Directory</span><span class=\"p\">(</span><span class=\"s2\">\"covhtml\"</span><span class=\"p\">,</span> <span class=\"n\">destination</span><span class=\"o\">=</span><span class=\"s2\">\"coverage\"</span><span class=\"p\">),</span>\n\n        <span class=\"c1\"># Create a Badge with the label \"My Badge\" and value \"96\" as mybadge.svg and mybadge.png</span>\n        <span class=\"c1\"># (png is optional) in the directory 'badges'</span>\n        <span class=\"n\">Badge</span><span class=\"p\">(</span><span class=\"s2\">\"badges/mybadge\"</span><span class=\"p\">,</span> <span class=\"n\">png</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"s2\">\"My Badge\"</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"mi\">96</span><span class=\"p\">,</span>\n              <span class=\"o\">**</span><span class=\"n\">anybadge_arguments</span><span class=\"p\">),</span>  <span class=\"c1\"># https://github.com/jongracecox/anybadge</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">commit</span><span class=\"p\">(</span>\n    <span class=\"c1\"># commit message (optional)</span>\n    <span class=\"c1\"># {build} gets replaced by build number</span>\n    <span class=\"c1\"># {branch} gets replaced by name of tested branch</span>\n    <span class=\"n\">message</span><span class=\"o\">=</span><span class=\"s2\">\"build </span><span class=\"si\">{build}</span><span class=\"s2\"> on branch </span><span class=\"si\">{branch}</span><span class=\"s2\">\"</span><span class=\"p\">,</span>\n\n    <span class=\"c1\"># perform 'git push' even if not executed in CI environment (default=False)</span>\n    <span class=\"n\">no_ci_push</span><span class=\"o\">=</span><span class=\"kc\">True</span>\n<span class=\"p\">)</span>\n</pre>\n<p><code>.travis.yml</code> with <code>after_script</code> section</p>\n<pre><span class=\"nt\">after_script</span><span class=\"p\">:</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">python deploy.py</span>\n</pre>\n<p><code>.travis.yml</code> with <code>deploy</code> section</p>\n<pre><span class=\"nt\">deploy</span><span class=\"p\">:</span>\n  <span class=\"nt\">provider</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">script</span>\n  <span class=\"nt\">skip_cleanup</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">true</span>  <span class=\"c1\"># prevent TravisCI from cleaning up the files you want to deploy</span>\n  <span class=\"nt\">script</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">python deploy.py</span>\n</pre>\n<p>directory structure afterwards in branch <code>cico-testing</code> of the repository <code>ci-results</code></p>\n<pre><code>+-- master\n    o-- correct_name.txt\n    +-- tap\n    |   o-- testresults.tap\n    +-- covhtml\n    |   +-- &lt;all contents of covhtml in the tested branch&gt;\n    +-- badges\n        o-- mybadge.svg\n        o-- mybadge.png\n</code></pre>\n\n          </div>"}, "last_serial": 4044012, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "84f401e51c55b83c926f01c3f1bb4cfa", "sha256": "df35823ced6cbb08724fc36269f81bbb8d9d208cbc1f6ee8ee5fa2424427fcf6"}, "downloads": -1, "filename": "cico-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "84f401e51c55b83c926f01c3f1bb4cfa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 3711, "upload_time": "2018-07-08T21:35:57", "upload_time_iso_8601": "2018-07-08T21:35:57.330135Z", "url": "https://files.pythonhosted.org/packages/6b/9e/4c5b2abf530a4ddae176fda13d7243fca870c9170b1f8d215677556801d6/cico-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f2e0ddf175225c492b92150ca1f63c6e", "sha256": "d9a5fe06a9ce49abd0fe0fa09694533cfb6ef7255bfd7e56aa21933f3a1c3484"}, "downloads": -1, "filename": "cico-0.1.0.tar.gz", "has_sig": false, "md5_digest": "f2e0ddf175225c492b92150ca1f63c6e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2929, "upload_time": "2018-07-08T21:35:58", "upload_time_iso_8601": "2018-07-08T21:35:58.345870Z", "url": "https://files.pythonhosted.org/packages/f8/b9/0ad15c7e75ac6a78e15625202b6aef1d17c853ccc819c5b7ccb30def6535/cico-0.1.0.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "83783844ab01910bc33cbeca5e46b4f6", "sha256": "8d03ccffa98693a4d55d1793aba21e1e0fb01f1c31182d88e9083821fee62ad1"}, "downloads": -1, "filename": "cico-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "83783844ab01910bc33cbeca5e46b4f6", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4950, "upload_time": "2018-07-08T22:40:27", "upload_time_iso_8601": "2018-07-08T22:40:27.974570Z", "url": "https://files.pythonhosted.org/packages/bf/9c/c28c2583303ce0a158f447dcfeda2ba965a7f716fc61f26bbfaef2d44e68/cico-0.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "23344eaf20e3f261706e98aebf2f4ccc", "sha256": "291956e13d240804c182e8cbbba2bc519487156e51870e513917a44b97c17770"}, "downloads": -1, "filename": "cico-0.1.3.tar.gz", "has_sig": false, "md5_digest": "23344eaf20e3f261706e98aebf2f4ccc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3583, "upload_time": "2018-07-08T22:40:29", "upload_time_iso_8601": "2018-07-08T22:40:29.294784Z", "url": "https://files.pythonhosted.org/packages/bc/9c/e9a95aa119c3eb11fe4a7512f4f788b2fa7fe03e0a33fcc24f6758f8e513/cico-0.1.3.tar.gz", "yanked": false}], "0.1.7": [{"comment_text": "", "digests": {"md5": "dd02668dfaa8ee4f70cfdb6c69fae906", "sha256": "f20f42cdba9a2b89e794bc26d897e1ec8c1529b3d6f620ab38d2cdc2f47baf9d"}, "downloads": -1, "filename": "cico-0.1.7-py3-none-any.whl", "has_sig": false, "md5_digest": "dd02668dfaa8ee4f70cfdb6c69fae906", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5661, "upload_time": "2018-07-09T15:05:26", "upload_time_iso_8601": "2018-07-09T15:05:26.929174Z", "url": "https://files.pythonhosted.org/packages/fa/2a/00280ef58452245e19c43336a3596aec6992062c0a45484eee15271896a4/cico-0.1.7-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "30817e5067f2ea84f168066c880f77ff", "sha256": "e8efada7123ea4ce12037195ea939eba07307f0550e8c17ed0f00d6fa4f56ea9"}, "downloads": -1, "filename": "cico-0.1.7.tar.gz", "has_sig": false, "md5_digest": "30817e5067f2ea84f168066c880f77ff", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4430, "upload_time": "2018-07-09T15:05:27", "upload_time_iso_8601": "2018-07-09T15:05:27.847265Z", "url": "https://files.pythonhosted.org/packages/67/3d/891f6b36817c72097f597b973bce726ba68f0263806088c3c6ef4e72f872/cico-0.1.7.tar.gz", "yanked": false}], "0.1.8": [{"comment_text": "", "digests": {"md5": "75260e8227a96bb872530568f3ec41a4", "sha256": "4b1106175735feca1c21f6315089544a0f28438a9f79be64b233125a7cfda16b"}, "downloads": -1, "filename": "cico-0.1.8-py3-none-any.whl", "has_sig": false, "md5_digest": "75260e8227a96bb872530568f3ec41a4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5660, "upload_time": "2018-07-09T15:21:39", "upload_time_iso_8601": "2018-07-09T15:21:39.706819Z", "url": "https://files.pythonhosted.org/packages/ae/84/0c52ba369babdb085ee003b5c817eecd5c5d7c5945aea692dea060146c3d/cico-0.1.8-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "cae7f3e49e7306a37960cca532919ebc", "sha256": "600e9be449f405d788a232bc4f6699b841c4478e1dd75a5c16ebb0618a30c1d8"}, "downloads": -1, "filename": "cico-0.1.8.tar.gz", "has_sig": false, "md5_digest": "cae7f3e49e7306a37960cca532919ebc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4432, "upload_time": "2018-07-09T15:21:40", "upload_time_iso_8601": "2018-07-09T15:21:40.709563Z", "url": "https://files.pythonhosted.org/packages/62/00/8b46b03b86fe4762fa7f9b2b813b6df80a6bc38484ddbf93ad6b51adc3ba/cico-0.1.8.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "75260e8227a96bb872530568f3ec41a4", "sha256": "4b1106175735feca1c21f6315089544a0f28438a9f79be64b233125a7cfda16b"}, "downloads": -1, "filename": "cico-0.1.8-py3-none-any.whl", "has_sig": false, "md5_digest": "75260e8227a96bb872530568f3ec41a4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5660, "upload_time": "2018-07-09T15:21:39", "upload_time_iso_8601": "2018-07-09T15:21:39.706819Z", "url": "https://files.pythonhosted.org/packages/ae/84/0c52ba369babdb085ee003b5c817eecd5c5d7c5945aea692dea060146c3d/cico-0.1.8-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "cae7f3e49e7306a37960cca532919ebc", "sha256": "600e9be449f405d788a232bc4f6699b841c4478e1dd75a5c16ebb0618a30c1d8"}, "downloads": -1, "filename": "cico-0.1.8.tar.gz", "has_sig": false, "md5_digest": "cae7f3e49e7306a37960cca532919ebc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4432, "upload_time": "2018-07-09T15:21:40", "upload_time_iso_8601": "2018-07-09T15:21:40.709563Z", "url": "https://files.pythonhosted.org/packages/62/00/8b46b03b86fe4762fa7f9b2b813b6df80a6bc38484ddbf93ad6b51adc3ba/cico-0.1.8.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:19:25 2020"}
{"info": {"author": "fafi84", "author_email": "ffischer1984@googlemail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "Sends event if the yarn-cluster is empty/free to trigger other stuff (e.g. send you an email or start another application)\n\nThe HadoopYarnClusterChecker-Class checks your cluster if there is any application run on it. In case your cluster is free it fires an event.\n\n# how it works:\n* it's false positive: if there is any error like it can not connect to your yarn-rest-api it sends the event.\n* algorithm:\n  * receive data from: \"/ws/v1/cluster/apps\"-REST endpoint\n  * are there applications with the state \"running\"?\n    * Yes: Is this application excluded?\n    * Yes: Are there more running applications?\n      * No: send the event\n      * Yes: sleep for the intervall & start with the first bulletin-point\n# Excludes\n* has to be a String\n* excludes for state-attribute are forbidden!\n* don't forget to escape the \\\"\n* JSON-Notation:\n  * Array\n  * Key-Value-Object\n  * Key: XML-Tag from the Yarn-Api\n  * example: \n  ```json\n  \"[\n  {\\\"name\\\":\\\"Zeppelin\\\"},\n  {\\\"name\\\":\\\"Zeppelin1\\\"}\n  ]\"\n  ```\n    * meaning: all Applications with the Name \"Zeppelin\" and \"Zeppelin1\" will be excluded in case they're running\n    * filtering:\n      * for state-attribute is forbidden!\n      * for multiple attributes like an AND should work:\n        ```json\n        [\n         {\n          \"name\":\"Zeppelin\", \n          \"priority\":0\n          }\n        ]\n        ```\n\n# How to use it:\n\n```python\nimport hadoop-yarn-cluster-checker-lib\n\nchecker = HadoopYarnClusterChecker(server=args.server, path=args.path, intervall=args.intervall, log=args.log,\n                                                               excludes=args.excludes)\nchecker.on_empty_cluster += event_empty\n```\n\n# Donations\n[![paypal](https://www.paypalobjects.com/en_US/DK/i/btn/btn_donateCC_LG.gif)](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=EN22Z95HKGD74&source=url) \n\n# Cheatsheet for me\nlore ipsem\n## Twine\nonly works with: twine upload --repository-url https://test.pypi.org/legacy/ dist/*", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://bitbucket.org/ffischer/hadoop-yarn-cluster-checker-model", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "HadoopYarnClusterCheckerLib", "package_url": "https://pypi.org/project/HadoopYarnClusterCheckerLib/", "platform": "", "project_url": "https://pypi.org/project/HadoopYarnClusterCheckerLib/", "project_urls": {"Homepage": "https://bitbucket.org/ffischer/hadoop-yarn-cluster-checker-model"}, "release_url": "https://pypi.org/project/HadoopYarnClusterCheckerLib/49/", "requires_dist": null, "requires_python": "", "summary": "fires an event if your hadoop-yarn cluster becomes empty", "version": "49", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Sends event if the yarn-cluster is empty/free to trigger other stuff (e.g. send you an email or start another application)</p>\n<p>The HadoopYarnClusterChecker-Class checks your cluster if there is any application run on it. In case your cluster is free it fires an event.</p>\n<h1>how it works:</h1>\n<ul>\n<li>it's false positive: if there is any error like it can not connect to your yarn-rest-api it sends the event.</li>\n<li>algorithm:\n<ul>\n<li>receive data from: \"/ws/v1/cluster/apps\"-REST endpoint</li>\n<li>are there applications with the state \"running\"?\n<ul>\n<li>Yes: Is this application excluded?</li>\n<li>Yes: Are there more running applications?\n<ul>\n<li>No: send the event</li>\n<li>Yes: sleep for the intervall &amp; start with the first bulletin-point</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h1>Excludes</h1>\n<ul>\n<li>has to be a String</li>\n<li>excludes for state-attribute are forbidden!</li>\n<li>don't forget to escape the \"</li>\n<li>JSON-Notation:\n<ul>\n<li>Array</li>\n<li>Key-Value-Object</li>\n<li>Key: XML-Tag from the Yarn-Api</li>\n<li>example:</li>\n</ul>\n<pre><span class=\"s2\">\"[</span>\n<span class=\"s2\">{\\\"name\\\":\\\"Zeppelin\\\"},</span>\n<span class=\"s2\">{\\\"name\\\":\\\"Zeppelin1\\\"}</span>\n<span class=\"s2\">]\"</span>\n</pre>\n<ul>\n<li>meaning: all Applications with the Name \"Zeppelin\" and \"Zeppelin1\" will be excluded in case they're running</li>\n<li>filtering:\n<ul>\n<li>for state-attribute is forbidden!</li>\n<li>for multiple attributes like an AND should work:\n<pre><span class=\"p\">[</span>\n <span class=\"p\">{</span>\n  <span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"s2\">\"Zeppelin\"</span><span class=\"p\">,</span> \n  <span class=\"nt\">\"priority\"</span><span class=\"p\">:</span><span class=\"mi\">0</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">]</span>\n</pre>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h1>How to use it:</h1>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">hadoop</span><span class=\"o\">-</span><span class=\"n\">yarn</span><span class=\"o\">-</span><span class=\"n\">cluster</span><span class=\"o\">-</span><span class=\"n\">checker</span><span class=\"o\">-</span><span class=\"n\">lib</span>\n\n<span class=\"n\">checker</span> <span class=\"o\">=</span> <span class=\"n\">HadoopYarnClusterChecker</span><span class=\"p\">(</span><span class=\"n\">server</span><span class=\"o\">=</span><span class=\"n\">args</span><span class=\"o\">.</span><span class=\"n\">server</span><span class=\"p\">,</span> <span class=\"n\">path</span><span class=\"o\">=</span><span class=\"n\">args</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"p\">,</span> <span class=\"n\">intervall</span><span class=\"o\">=</span><span class=\"n\">args</span><span class=\"o\">.</span><span class=\"n\">intervall</span><span class=\"p\">,</span> <span class=\"n\">log</span><span class=\"o\">=</span><span class=\"n\">args</span><span class=\"o\">.</span><span class=\"n\">log</span><span class=\"p\">,</span>\n                                                               <span class=\"n\">excludes</span><span class=\"o\">=</span><span class=\"n\">args</span><span class=\"o\">.</span><span class=\"n\">excludes</span><span class=\"p\">)</span>\n<span class=\"n\">checker</span><span class=\"o\">.</span><span class=\"n\">on_empty_cluster</span> <span class=\"o\">+=</span> <span class=\"n\">event_empty</span>\n</pre>\n<h1>Donations</h1>\n<p><a href=\"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=EN22Z95HKGD74&amp;source=url\" rel=\"nofollow\"><img alt=\"paypal\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e4ce1cc1a0309f9f789968e7182120a9e60ed3d0/68747470733a2f2f7777772e70617970616c6f626a656374732e636f6d2f656e5f55532f444b2f692f62746e2f62746e5f646f6e61746543435f4c472e676966\"></a></p>\n<h1>Cheatsheet for me</h1>\n<p>lore ipsem</p>\n<h2>Twine</h2>\n<p>only works with: twine upload --repository-url <a href=\"https://test.pypi.org/legacy/\" rel=\"nofollow\">https://test.pypi.org/legacy/</a> dist/*</p>\n\n          </div>"}, "last_serial": 5986323, "releases": {"48": [{"comment_text": "", "digests": {"md5": "bd75605fd2b2e2015980a98cd812fdce", "sha256": "bd57bd4c4318c39eaac55bf267ecc544ae11c83310a0b036f39319cf341974f9"}, "downloads": -1, "filename": "HadoopYarnClusterCheckerLib-48.tar.gz", "has_sig": false, "md5_digest": "bd75605fd2b2e2015980a98cd812fdce", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4013, "upload_time": "2019-10-16T19:51:37", "upload_time_iso_8601": "2019-10-16T19:51:37.712123Z", "url": "https://files.pythonhosted.org/packages/70/e2/9fb57c92dc4802934c56a91b5f9184e6ce7d2bdd62f5545dd27eff981c07/HadoopYarnClusterCheckerLib-48.tar.gz", "yanked": false}], "49": [{"comment_text": "", "digests": {"md5": "2f79e1ba77e227b92af173a10f5dd566", "sha256": "ed5fef1853ef754eca081ffd3b15989a168303124180e84f800a0027a59ea466"}, "downloads": -1, "filename": "HadoopYarnClusterCheckerLib-49.tar.gz", "has_sig": false, "md5_digest": "2f79e1ba77e227b92af173a10f5dd566", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4037, "upload_time": "2019-10-16T20:51:18", "upload_time_iso_8601": "2019-10-16T20:51:18.334814Z", "url": "https://files.pythonhosted.org/packages/83/d9/7c2e8d8c7ff737a6d09d7f20b815a5816c7314a81f7384291a46d7ed1441/HadoopYarnClusterCheckerLib-49.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "2f79e1ba77e227b92af173a10f5dd566", "sha256": "ed5fef1853ef754eca081ffd3b15989a168303124180e84f800a0027a59ea466"}, "downloads": -1, "filename": "HadoopYarnClusterCheckerLib-49.tar.gz", "has_sig": false, "md5_digest": "2f79e1ba77e227b92af173a10f5dd566", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4037, "upload_time": "2019-10-16T20:51:18", "upload_time_iso_8601": "2019-10-16T20:51:18.334814Z", "url": "https://files.pythonhosted.org/packages/83/d9/7c2e8d8c7ff737a6d09d7f20b815a5816c7314a81f7384291a46d7ed1441/HadoopYarnClusterCheckerLib-49.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:52:46 2020"}
{"info": {"author": "aohan237", "author_email": "aohan237@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: Implementation :: CPython", "Programming Language :: Python :: Implementation :: PyPy", "Topic :: Communications", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: System :: Distributed Computing"], "description": "# Cache-Client\n\n[![Downloads](https://pepy.tech/badge/cache-client)](https://pepy.tech/project/cache-client)\n\n## Cache-Client\n\nmost of the time, you need cache to some kind of backend to speed up your app.\n\nthis framework add these tools to free you from write these.\n\nit also has auto update function to free you from manually update something.\n\n\n## Usage\n\n```python\nfrom logging import StreamHandler\nimport asyncio\nimport time\nfrom cache_client.client.common import SimpleClient\nimport logging\nlogger = logging.getLogger(__package__)\nhandler = StreamHandler()\nhandler.setLevel(logging.DEBUG)\nlogger.addHandler(handler)\nlogger.setLevel(logging.DEBUG)\n\n\nmysql_conf = {\n    'host': '127.0.0.1',\n    'port': 3306,\n    'db': 'test',\n    'user': 'test',\n    'password': 'test'\n}\n\nredis_conf = {\n    'redis_host': '127.0.0.1',\n    'redis_port': 6379,\n    'redis_secret': '',\n}\n\n\nclient = SimpleClient(backend_conf=mysql_conf,\n                      cache_conf=redis_conf,\n                      update_interval=30)\n\n\nasync def test():\n    await client.connect()\n    expire_at = int(time.time()) + 100\n    for i in range(10):\n        start = int(time.time()*1000)\n        result = await client.get(\n            database='sku',\n            key='select sku_id,description,price,status from sku',\n            expire_at=expire_at,\n            update_interval=100)\n        end = int(time.time()*1000)\n        print('running time', end-start)\n        print(result, 'result', i)\n\nloop = asyncio.get_event_loop()\n\n# loop.run_until_complete(test())\n\nloop.create_task(test())\nloop.run_forever()\n```\n\n## Coding\n\n* **like this project, star it**\n* **any suggestion is welcome**\n* **this project is under MIT lisense**\n\nmore docs are writing.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/aohan237/cache_client", "keywords": "asyncio cache client", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "cache-client", "package_url": "https://pypi.org/project/cache-client/", "platform": "any", "project_url": "https://pypi.org/project/cache-client/", "project_urls": {"Homepage": "https://github.com/aohan237/cache_client"}, "release_url": "https://pypi.org/project/cache-client/1.0.0/", "requires_dist": ["aiomysql (>=0.0.20)", "aioredis (>=1.2.0)", "pyyaml (>=5.1)"], "requires_python": "", "summary": "README.md", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Cache-Client</h1>\n<p><a href=\"https://pepy.tech/project/cache-client\" rel=\"nofollow\"><img alt=\"Downloads\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/441d7bf913e6b8500fb9ebb60095ed22d393e2c6/68747470733a2f2f706570792e746563682f62616467652f63616368652d636c69656e74\"></a></p>\n<h2>Cache-Client</h2>\n<p>most of the time, you need cache to some kind of backend to speed up your app.</p>\n<p>this framework add these tools to free you from write these.</p>\n<p>it also has auto update function to free you from manually update something.</p>\n<h2>Usage</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">logging</span> <span class=\"kn\">import</span> <span class=\"n\">StreamHandler</span>\n<span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">import</span> <span class=\"nn\">time</span>\n<span class=\"kn\">from</span> <span class=\"nn\">cache_client.client.common</span> <span class=\"kn\">import</span> <span class=\"n\">SimpleClient</span>\n<span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n<span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"n\">__package__</span><span class=\"p\">)</span>\n<span class=\"n\">handler</span> <span class=\"o\">=</span> <span class=\"n\">StreamHandler</span><span class=\"p\">()</span>\n<span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">setLevel</span><span class=\"p\">(</span><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">DEBUG</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">addHandler</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">)</span>\n<span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">setLevel</span><span class=\"p\">(</span><span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">DEBUG</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">mysql_conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'host'</span><span class=\"p\">:</span> <span class=\"s1\">'127.0.0.1'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'port'</span><span class=\"p\">:</span> <span class=\"mi\">3306</span><span class=\"p\">,</span>\n    <span class=\"s1\">'db'</span><span class=\"p\">:</span> <span class=\"s1\">'test'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'user'</span><span class=\"p\">:</span> <span class=\"s1\">'test'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'password'</span><span class=\"p\">:</span> <span class=\"s1\">'test'</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">redis_conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'redis_host'</span><span class=\"p\">:</span> <span class=\"s1\">'127.0.0.1'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'redis_port'</span><span class=\"p\">:</span> <span class=\"mi\">6379</span><span class=\"p\">,</span>\n    <span class=\"s1\">'redis_secret'</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">SimpleClient</span><span class=\"p\">(</span><span class=\"n\">backend_conf</span><span class=\"o\">=</span><span class=\"n\">mysql_conf</span><span class=\"p\">,</span>\n                      <span class=\"n\">cache_conf</span><span class=\"o\">=</span><span class=\"n\">redis_conf</span><span class=\"p\">,</span>\n                      <span class=\"n\">update_interval</span><span class=\"o\">=</span><span class=\"mi\">30</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">test</span><span class=\"p\">():</span>\n    <span class=\"k\">await</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">connect</span><span class=\"p\">()</span>\n    <span class=\"n\">expire_at</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"mi\">100</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n        <span class=\"n\">start</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">()</span><span class=\"o\">*</span><span class=\"mi\">1000</span><span class=\"p\">)</span>\n        <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span>\n            <span class=\"n\">database</span><span class=\"o\">=</span><span class=\"s1\">'sku'</span><span class=\"p\">,</span>\n            <span class=\"n\">key</span><span class=\"o\">=</span><span class=\"s1\">'select sku_id,description,price,status from sku'</span><span class=\"p\">,</span>\n            <span class=\"n\">expire_at</span><span class=\"o\">=</span><span class=\"n\">expire_at</span><span class=\"p\">,</span>\n            <span class=\"n\">update_interval</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n        <span class=\"n\">end</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"o\">.</span><span class=\"n\">time</span><span class=\"p\">()</span><span class=\"o\">*</span><span class=\"mi\">1000</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'running time'</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"o\">-</span><span class=\"n\">start</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">,</span> <span class=\"s1\">'result'</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"p\">)</span>\n\n<span class=\"n\">loop</span> <span class=\"o\">=</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">get_event_loop</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># loop.run_until_complete(test())</span>\n\n<span class=\"n\">loop</span><span class=\"o\">.</span><span class=\"n\">create_task</span><span class=\"p\">(</span><span class=\"n\">test</span><span class=\"p\">())</span>\n<span class=\"n\">loop</span><span class=\"o\">.</span><span class=\"n\">run_forever</span><span class=\"p\">()</span>\n</pre>\n<h2>Coding</h2>\n<ul>\n<li><strong>like this project, star it</strong></li>\n<li><strong>any suggestion is welcome</strong></li>\n<li><strong>this project is under MIT lisense</strong></li>\n</ul>\n<p>more docs are writing.</p>\n\n          </div>"}, "last_serial": 5296076, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "5f997227002827e102697a5539fda156", "sha256": "5282bf8384fae790498e64f00ddb49bba2c8e4fa97d2e30b5e547e9fab7d6dca"}, "downloads": -1, "filename": "cache_client-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "5f997227002827e102697a5539fda156", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8503, "upload_time": "2019-05-21T06:22:19", "upload_time_iso_8601": "2019-05-21T06:22:19.175817Z", "url": "https://files.pythonhosted.org/packages/50/27/f8d5cef5b72e1bd5805c3fe35bba2cb563e89e8b2629e7cfdf41209844ff/cache_client-1.0.0-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5f997227002827e102697a5539fda156", "sha256": "5282bf8384fae790498e64f00ddb49bba2c8e4fa97d2e30b5e547e9fab7d6dca"}, "downloads": -1, "filename": "cache_client-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "5f997227002827e102697a5539fda156", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 8503, "upload_time": "2019-05-21T06:22:19", "upload_time_iso_8601": "2019-05-21T06:22:19.175817Z", "url": "https://files.pythonhosted.org/packages/50/27/f8d5cef5b72e1bd5805c3fe35bba2cb563e89e8b2629e7cfdf41209844ff/cache_client-1.0.0-py3-none-any.whl", "yanked": false}], "timestamp": "Thu May  7 22:35:44 2020"}
{"info": {"author": "Bora M. Alper", "author_email": "bora@boramalper.org", "bugtrack_url": null, "classifiers": [], "description": "# himawaripy\n*Put near-realtime picture of Earth as your desktop background*\n\n![24 hours long animation by /u/hardypart](https://i.giphy.com/l3vRnMYNnbhdnz5Ty.gif)\n\nhimawaripy is a Python 3 script that fetches near-realtime (10 minutes delayed)\npicture of Earth as its taken by\n[Himawari 8 (\u3072\u307e\u308f\u308a8\u53f7)](https://en.wikipedia.org/wiki/Himawari_8) and sets it\nas your desktop background.\n\nSet a cronjob (or systemd service) that runs in every 10 minutes to automatically get the\nnear-realtime picture of Earth.\n\n## Supported Desktop Environments\n### Tested\n* Unity 7\n* Mate 1.8.1\n* Pantheon\n* LXDE\n* OS X\n* GNOME 3\n* Cinnamon 2.8.8\n* KDE\n\n### Not Supported\n* any other desktop environments that are not mentioned above.\n\n## Configuration\n\n```\nusage:  [-h] [--version] [--auto-offset | -o OFFSET] [-l {4,8,16,20}]\n        [-d DEADLINE] [--save-battery] [--output-dir OUTPUT_DIR]\n\nset (near-realtime) picture of Earth as your desktop background\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --version             show program's version number and exit\n  --auto-offset         determine offset automatically\n  -o OFFSET, --offset OFFSET\n                        UTC time offset in hours, must be less than or equal\n                        to +10\n  -l {4,8,16,20}, --level {4,8,16,20}\n                        increases the quality (and the size) of each tile.\n                        possible values are 4, 8, 16, 20\n  -d DEADLINE, --deadline DEADLINE\n                        deadline in minutes to download all the tiles, set 0\n                        to cancel\n  --save-battery        stop updating on battery\n  --output-dir OUTPUT_DIR\n                        directory to save the temporary background image\n```\n\nMost of the time himawaripy can accurately detect your timezone if you pass the flag `--auto-offset`, although you may\nalso set it manually by `-o` (or `--offset`) flag. If your timezone is beyond GMT by more than 10 hours, use the closest\none (either `+10` or `-12`).\n\nIncreasing the level will increase the quality of the image as well as the time taken to download all the tiles and the\nmemory consumption. For instance choosing 20 will make himawaripy use ~700 MiB of memory at its peak and the image will\nbe around ~200 MB.\n\nYou should set a deadline compatible with your cronjob (or timer) settings to assure that script will terminate in X\nminutes before it is started again.\n\nYou might use `--save-battery` to disable refreshing while running on battery power.\n\n### Nitrogen\nIf you use nitrogen for setting your wallpaper, you have to enter this in your\n`~/.config/nitrogen/bg-saved.cfg`.\n\n```\n[:0.0]\nfile=/home/USERNAME/.himawari/himawari-latest.png\nmode=4\nbgcolor=#000000\n```\n\n## Installation\n* You need a valid python3 installation including the python3-setuptools package\n\n```\ncd ~\ngit clone https://github.com/boramalper/himawaripy.git\n\n# install\nsudo python3 setup.py install\n\n# test whether it's working\nhimawaripy --auto-offset\n\n# Get the installation path of himawaripy by running the command\nwhich -- himawaripy\n\n# Set himawaripy to be called periodically\n\n    ## Either set up a cronjob\n        crontab -e\n\n        ### Add the line:\n        */10 * * * * <INSTALLATION_PATH> # command line arguments here\n\n    ## OR, alternatively use the provided systemd timer\n\n        ### Configure\n        vi systemd/himawaripy.service\n        # Replace \"<INSTALLATION_PATH>\" with the output of the aforementioned command and command line arguments\n\n        ### Copy systemd configuration\n        cp systemd/himawaripy.{service,timer} ~/.config/systemd/user/\n\n        ### Enable and start the timer\n        systemctl --user enable --now himawaripy.timer\n```\n\n### For KDE Users\n#### KDE 5.7+\nTo change the wallpaper in KDE 5.7+, desktop widgets must be unlocked. If you dom't want to leave them unlocked,\nthe pre-KDE 5.7 method can still be used.\n\nTo unlock desktop widgets ([from the KDE userbase](https://userbase.kde.org/Plasma#Widgets)):\n> Open the Desktop Toolbox or the Panel Toolbox or right click on the Desktop - if you see an item labeled Unlock\n> Widgets then select that, and then proceed to add widgets to your Desktop or your Panel. \n\n#### Before KDE 5.7\n> So the issue here is that KDE does not support changing the desktop wallpaper\n> from the commandline, but it does support polling a directory for file changes\n> through the \"Slideshow\" desktop background option, whereby you can point KDE\n> to a folder and have it load a new picture at a certain interval.\n>\n> The idea here is to:\n>\n> * Set the cron for some interval (say 9 minutes)\n> * Open Desktop Settings -> Wallpaper -> Wallpaper Type -> Slideshow\n> * Add the `~/.himawari` dir to the slideshow list\n> * Set the interval check to 10 minutes (one minute after the cron, also\n>   depending on your download speed)\n\nMany thanks to [xenithorb](https://github.com/xenithorb) [for the solution](https://github.com/xenithorb/himawaripy/commit/01d7c681ae7ce47f639672733d0f734574662833)!\n\n\n### For Mac OSX Users\n\nOSX has deprecated crontab, and replaced it with `launchd`. To set up a launch agent, copy the provided sample `plist`\nfile in `osx/org.boramalper.himawaripy.plist` to `~/Library/LaunchAgents`, and edit the following entries if required\n\n    mkdir -p ~/Library/LaunchAgents/\n    cp osx/org.boramalper.himawaripy.plist ~/Library/LaunchAgents/\n\n* `ProgrammingArguments` needs to be the path to himawaripy installation. This *should* be `/usr/local/bin/himawaripy`\nby default, but himawaripy may be installed elsewhere.\n\n* `StartInterval` controls the interval between successive runs, set to 10 minutes (600 seconds) by default,\nedit as desired.\n\nFinally, to launch it, enter this into the console:\n\n    launchctl load ~/Library/LaunchAgents/org.boramalper.himawaripy.plist\n\n\n## Uninstallation\n\n```\n# Remove the cronjob\ncrontab -e\n# Remove the line\n*/10 * * * * <INSTALLATION_PATH>\n\n# OR if you used the systemd timer\nsystemctl --user disable --now himawaripy.timer\nrm $HOME/.config/systemd/user/himawaripy.{timer,service}\n\n# Uninstall the binary\nsudo rm -f <INSTALLATION_PATH>\n\n# Uninstall the package\nsudo pip3 uninstall himawaripy\n```\n\n\n`<INSTALLATION_PATH>` can be found using the command `which -- himawaripy`.\n\nIf you would like to share why, you can contact me on github or\n[send an e-mail](mailto:bora@boramalper.org).\n\n## Attributions\nThanks to *[MichaelPote](https://github.com/MichaelPote)* for the [initial\nimplementation](https://gist.github.com/MichaelPote/92fa6e65eacf26219022) using\nPowershell Script.\n\nThanks to *[Charlie Loyd](https://github.com/celoyd)* for image processing logic\n([hi8-fetch.py](https://gist.github.com/celoyd/39c53f824daef7d363db)).\n\nObviously, thanks to the Japan Meteorological Agency for opening these pictures\nto public.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://labs.boramalper.org/himawaripy", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "himawaripy", "package_url": "https://pypi.org/project/himawaripy/", "platform": "", "project_url": "https://pypi.org/project/himawaripy/", "project_urls": {"Homepage": "http://labs.boramalper.org/himawaripy"}, "release_url": "https://pypi.org/project/himawaripy/2.1.0/", "requires_dist": ["appdirs", "pillow", "python-dateutil"], "requires_python": "", "summary": "himawaripy is a Python 3 script that fetches near-realtime (10 minutes delayed) picture of Earth as its taken by Himawari 8 (\u3072\u307e\u308f\u308a8\u53f7) and sets it as your desktop background.", "version": "2.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>himawaripy</h1>\n<p><em>Put near-realtime picture of Earth as your desktop background</em></p>\n<p><img alt=\"24 hours long animation by /u/hardypart\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dec2491cfcd806f1f1b9667cb9c9e4253069417b/68747470733a2f2f692e67697068792e636f6d2f6c3376526e4d594e6e6268646e7a3554792e676966\"></p>\n<p>himawaripy is a Python 3 script that fetches near-realtime (10 minutes delayed)\npicture of Earth as its taken by\n<a href=\"https://en.wikipedia.org/wiki/Himawari_8\" rel=\"nofollow\">Himawari 8 (\u3072\u307e\u308f\u308a8\u53f7)</a> and sets it\nas your desktop background.</p>\n<p>Set a cronjob (or systemd service) that runs in every 10 minutes to automatically get the\nnear-realtime picture of Earth.</p>\n<h2>Supported Desktop Environments</h2>\n<h3>Tested</h3>\n<ul>\n<li>Unity 7</li>\n<li>Mate 1.8.1</li>\n<li>Pantheon</li>\n<li>LXDE</li>\n<li>OS X</li>\n<li>GNOME 3</li>\n<li>Cinnamon 2.8.8</li>\n<li>KDE</li>\n</ul>\n<h3>Not Supported</h3>\n<ul>\n<li>any other desktop environments that are not mentioned above.</li>\n</ul>\n<h2>Configuration</h2>\n<pre><code>usage:  [-h] [--version] [--auto-offset | -o OFFSET] [-l {4,8,16,20}]\n        [-d DEADLINE] [--save-battery] [--output-dir OUTPUT_DIR]\n\nset (near-realtime) picture of Earth as your desktop background\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --version             show program's version number and exit\n  --auto-offset         determine offset automatically\n  -o OFFSET, --offset OFFSET\n                        UTC time offset in hours, must be less than or equal\n                        to +10\n  -l {4,8,16,20}, --level {4,8,16,20}\n                        increases the quality (and the size) of each tile.\n                        possible values are 4, 8, 16, 20\n  -d DEADLINE, --deadline DEADLINE\n                        deadline in minutes to download all the tiles, set 0\n                        to cancel\n  --save-battery        stop updating on battery\n  --output-dir OUTPUT_DIR\n                        directory to save the temporary background image\n</code></pre>\n<p>Most of the time himawaripy can accurately detect your timezone if you pass the flag <code>--auto-offset</code>, although you may\nalso set it manually by <code>-o</code> (or <code>--offset</code>) flag. If your timezone is beyond GMT by more than 10 hours, use the closest\none (either <code>+10</code> or <code>-12</code>).</p>\n<p>Increasing the level will increase the quality of the image as well as the time taken to download all the tiles and the\nmemory consumption. For instance choosing 20 will make himawaripy use ~700 MiB of memory at its peak and the image will\nbe around ~200 MB.</p>\n<p>You should set a deadline compatible with your cronjob (or timer) settings to assure that script will terminate in X\nminutes before it is started again.</p>\n<p>You might use <code>--save-battery</code> to disable refreshing while running on battery power.</p>\n<h3>Nitrogen</h3>\n<p>If you use nitrogen for setting your wallpaper, you have to enter this in your\n<code>~/.config/nitrogen/bg-saved.cfg</code>.</p>\n<pre><code>[:0.0]\nfile=/home/USERNAME/.himawari/himawari-latest.png\nmode=4\nbgcolor=#000000\n</code></pre>\n<h2>Installation</h2>\n<ul>\n<li>You need a valid python3 installation including the python3-setuptools package</li>\n</ul>\n<pre><code>cd ~\ngit clone https://github.com/boramalper/himawaripy.git\n\n# install\nsudo python3 setup.py install\n\n# test whether it's working\nhimawaripy --auto-offset\n\n# Get the installation path of himawaripy by running the command\nwhich -- himawaripy\n\n# Set himawaripy to be called periodically\n\n    ## Either set up a cronjob\n        crontab -e\n\n        ### Add the line:\n        */10 * * * * &lt;INSTALLATION_PATH&gt; # command line arguments here\n\n    ## OR, alternatively use the provided systemd timer\n\n        ### Configure\n        vi systemd/himawaripy.service\n        # Replace \"&lt;INSTALLATION_PATH&gt;\" with the output of the aforementioned command and command line arguments\n\n        ### Copy systemd configuration\n        cp systemd/himawaripy.{service,timer} ~/.config/systemd/user/\n\n        ### Enable and start the timer\n        systemctl --user enable --now himawaripy.timer\n</code></pre>\n<h3>For KDE Users</h3>\n<h4>KDE 5.7+</h4>\n<p>To change the wallpaper in KDE 5.7+, desktop widgets must be unlocked. If you dom't want to leave them unlocked,\nthe pre-KDE 5.7 method can still be used.</p>\n<p>To unlock desktop widgets (<a href=\"https://userbase.kde.org/Plasma#Widgets\" rel=\"nofollow\">from the KDE userbase</a>):</p>\n<blockquote>\n<p>Open the Desktop Toolbox or the Panel Toolbox or right click on the Desktop - if you see an item labeled Unlock\nWidgets then select that, and then proceed to add widgets to your Desktop or your Panel.</p>\n</blockquote>\n<h4>Before KDE 5.7</h4>\n<blockquote>\n<p>So the issue here is that KDE does not support changing the desktop wallpaper\nfrom the commandline, but it does support polling a directory for file changes\nthrough the \"Slideshow\" desktop background option, whereby you can point KDE\nto a folder and have it load a new picture at a certain interval.</p>\n<p>The idea here is to:</p>\n<ul>\n<li>Set the cron for some interval (say 9 minutes)</li>\n<li>Open Desktop Settings -&gt; Wallpaper -&gt; Wallpaper Type -&gt; Slideshow</li>\n<li>Add the <code>~/.himawari</code> dir to the slideshow list</li>\n<li>Set the interval check to 10 minutes (one minute after the cron, also\ndepending on your download speed)</li>\n</ul>\n</blockquote>\n<p>Many thanks to <a href=\"https://github.com/xenithorb\" rel=\"nofollow\">xenithorb</a> <a href=\"https://github.com/xenithorb/himawaripy/commit/01d7c681ae7ce47f639672733d0f734574662833\" rel=\"nofollow\">for the solution</a>!</p>\n<h3>For Mac OSX Users</h3>\n<p>OSX has deprecated crontab, and replaced it with <code>launchd</code>. To set up a launch agent, copy the provided sample <code>plist</code>\nfile in <code>osx/org.boramalper.himawaripy.plist</code> to <code>~/Library/LaunchAgents</code>, and edit the following entries if required</p>\n<pre><code>mkdir -p ~/Library/LaunchAgents/\ncp osx/org.boramalper.himawaripy.plist ~/Library/LaunchAgents/\n</code></pre>\n<ul>\n<li>\n<p><code>ProgrammingArguments</code> needs to be the path to himawaripy installation. This <em>should</em> be <code>/usr/local/bin/himawaripy</code>\nby default, but himawaripy may be installed elsewhere.</p>\n</li>\n<li>\n<p><code>StartInterval</code> controls the interval between successive runs, set to 10 minutes (600 seconds) by default,\nedit as desired.</p>\n</li>\n</ul>\n<p>Finally, to launch it, enter this into the console:</p>\n<pre><code>launchctl load ~/Library/LaunchAgents/org.boramalper.himawaripy.plist\n</code></pre>\n<h2>Uninstallation</h2>\n<pre><code># Remove the cronjob\ncrontab -e\n# Remove the line\n*/10 * * * * &lt;INSTALLATION_PATH&gt;\n\n# OR if you used the systemd timer\nsystemctl --user disable --now himawaripy.timer\nrm $HOME/.config/systemd/user/himawaripy.{timer,service}\n\n# Uninstall the binary\nsudo rm -f &lt;INSTALLATION_PATH&gt;\n\n# Uninstall the package\nsudo pip3 uninstall himawaripy\n</code></pre>\n<p><code>&lt;INSTALLATION_PATH&gt;</code> can be found using the command <code>which -- himawaripy</code>.</p>\n<p>If you would like to share why, you can contact me on github or\n<a href=\"mailto:bora@boramalper.org\">send an e-mail</a>.</p>\n<h2>Attributions</h2>\n<p>Thanks to <em><a href=\"https://github.com/MichaelPote\" rel=\"nofollow\">MichaelPote</a></em> for the <a href=\"https://gist.github.com/MichaelPote/92fa6e65eacf26219022\" rel=\"nofollow\">initial\nimplementation</a> using\nPowershell Script.</p>\n<p>Thanks to <em><a href=\"https://github.com/celoyd\" rel=\"nofollow\">Charlie Loyd</a></em> for image processing logic\n(<a href=\"https://gist.github.com/celoyd/39c53f824daef7d363db\" rel=\"nofollow\">hi8-fetch.py</a>).</p>\n<p>Obviously, thanks to the Japan Meteorological Agency for opening these pictures\nto public.</p>\n\n          </div>"}, "last_serial": 5184678, "releases": {"2.1.0": [{"comment_text": "", "digests": {"md5": "94d7e5ceaa1a69e2f30e41d8415f8bb5", "sha256": "c9d22db39e28a1ffcf4e8b838a7f73c30fc2614ebd1f409b2bc95103087f6ebc"}, "downloads": -1, "filename": "himawaripy-2.1.0-py3.6.egg", "has_sig": false, "md5_digest": "94d7e5ceaa1a69e2f30e41d8415f8bb5", "packagetype": "bdist_egg", "python_version": "3.6", "requires_python": null, "size": 18228, "upload_time": "2019-04-24T21:37:23", "upload_time_iso_8601": "2019-04-24T21:37:23.898867Z", "url": "https://files.pythonhosted.org/packages/5c/71/9562265e5dc501c1f21ef35db73714056ff4c0b2bed3d9e370d67ac77156/himawaripy-2.1.0-py3.6.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "08a428aeb9c25611a8be4150bc5242bf", "sha256": "0c6d4c873960f0ecc4cf728e0c52afe299a61cdb0b1a9840946c88abca39919f"}, "downloads": -1, "filename": "himawaripy-2.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "08a428aeb9c25611a8be4150bc5242bf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11961, "upload_time": "2019-04-24T21:37:17", "upload_time_iso_8601": "2019-04-24T21:37:17.846779Z", "url": "https://files.pythonhosted.org/packages/01/c2/5faad267bf024227f1d6cdfb6cfd483796065e9f8c036aab0def3b0f17f5/himawaripy-2.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "deb5e3fc11b94c53e7a0c9a59bfd49bd", "sha256": "bbb5240c3324e41ff2714d83af9d41009d4ac2dd7d6e8d1f77a065438b364329"}, "downloads": -1, "filename": "himawaripy-2.1.0.tar.gz", "has_sig": false, "md5_digest": "deb5e3fc11b94c53e7a0c9a59bfd49bd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10174, "upload_time": "2019-04-24T21:37:26", "upload_time_iso_8601": "2019-04-24T21:37:26.250877Z", "url": "https://files.pythonhosted.org/packages/b5/f1/2c171e67eff9b465903f3126f52e011f1991ff3ca87d3df803e6ce3927f9/himawaripy-2.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "94d7e5ceaa1a69e2f30e41d8415f8bb5", "sha256": "c9d22db39e28a1ffcf4e8b838a7f73c30fc2614ebd1f409b2bc95103087f6ebc"}, "downloads": -1, "filename": "himawaripy-2.1.0-py3.6.egg", "has_sig": false, "md5_digest": "94d7e5ceaa1a69e2f30e41d8415f8bb5", "packagetype": "bdist_egg", "python_version": "3.6", "requires_python": null, "size": 18228, "upload_time": "2019-04-24T21:37:23", "upload_time_iso_8601": "2019-04-24T21:37:23.898867Z", "url": "https://files.pythonhosted.org/packages/5c/71/9562265e5dc501c1f21ef35db73714056ff4c0b2bed3d9e370d67ac77156/himawaripy-2.1.0-py3.6.egg", "yanked": false}, {"comment_text": "", "digests": {"md5": "08a428aeb9c25611a8be4150bc5242bf", "sha256": "0c6d4c873960f0ecc4cf728e0c52afe299a61cdb0b1a9840946c88abca39919f"}, "downloads": -1, "filename": "himawaripy-2.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "08a428aeb9c25611a8be4150bc5242bf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11961, "upload_time": "2019-04-24T21:37:17", "upload_time_iso_8601": "2019-04-24T21:37:17.846779Z", "url": "https://files.pythonhosted.org/packages/01/c2/5faad267bf024227f1d6cdfb6cfd483796065e9f8c036aab0def3b0f17f5/himawaripy-2.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "deb5e3fc11b94c53e7a0c9a59bfd49bd", "sha256": "bbb5240c3324e41ff2714d83af9d41009d4ac2dd7d6e8d1f77a065438b364329"}, "downloads": -1, "filename": "himawaripy-2.1.0.tar.gz", "has_sig": false, "md5_digest": "deb5e3fc11b94c53e7a0c9a59bfd49bd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10174, "upload_time": "2019-04-24T21:37:26", "upload_time_iso_8601": "2019-04-24T21:37:26.250877Z", "url": "https://files.pythonhosted.org/packages/b5/f1/2c171e67eff9b465903f3126f52e011f1991ff3ca87d3df803e6ce3927f9/himawaripy-2.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:51:11 2020"}
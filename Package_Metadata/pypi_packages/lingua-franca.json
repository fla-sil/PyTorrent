{"info": {"author": "Mycroft AI", "author_email": "dev@mycroft.ai", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Text Processing :: Linguistic"], "description": "[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE.md) [![CLA](https://img.shields.io/badge/CLA%3F-Required-blue.svg)](https://mycroft.ai/cla) [![Team](https://img.shields.io/badge/Team-Languages-violetblue.svg)](https://github.com/MycroftAI/contributors/blob/master/team/Languages.md) ![Status](https://img.shields.io/badge/-Alpha-orange.svg)\n\n[![Build Status](https://travis-ci.org/MycroftAI/lingua-franca.svg?branch=master)](https://travis-ci.org/MycroftAI/lingua-franca) [![Coverage Status](https://coveralls.io/repos/github/MycroftAI/lingua-franca/badge.svg?branch=master)](https://coveralls.io/github/MycroftAI/lingua-franca?branch=master)\n[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](http://makeapullrequest.com)\n[![Join chat](https://img.shields.io/badge/Mattermost-join_chat-brightgreen.svg)](https://chat.mycroft.ai/community/channels/languages)\n\n# Lingua Franca\n\nMycroft's multilingual text parsing and formatting library\n\nLingua Franca (_noun_)<br>\n> a framework that is adopted as the common language between speakers with different native tongues</dr>\n\n\n- [Lingua Franca](#lingua-franca)\n  * [Formatting](#formatting)\n    + [Pronounce numbers](#pronounce-numbers)\n    + [Pronounce datetime objects](#pronounce-datetime-objects)\n    + [Pronounce durations](#pronounce-durations)\n  * [Parsing](#parsing)\n    + [Extract numbers](#extract-numbers)\n    + [Extract durations](#extract-durations)\n    + [Extract dates](#extract-dates)\n\n## Formatting\n\nConvert data into spoken equivalents\n\n### Pronounce numbers\n\nspoken versions of numbers\n\n```python\nfrom lingua_franca.format import nice_number, pronounce_number\n\nassert nice_number(25/6) == \"4 and a sixth\"\nassert nice_number(201) == \"201\"\nassert nice_number(3.14159269) == \"3 and a seventh\"\n\nassert pronounce_number(3.14159269) == \"three point one four\"\nassert pronounce_number(0) == \"zero\"\nassert pronounce_number(10) == \"ten\"\nassert pronounce_number(201) == \"two hundred and one\"\nassert pronounce_number(102.3) == \"one hundred and two point three\"\nassert pronounce_number(\n    4092949192) == \"four billion, ninety two million, nine hundred and forty nine thousand, one hundred and ninety two\"\n\nassert pronounce_number(100034000000299792458, short_scale=True) == \\\n       \"one hundred quintillion, thirty four quadrillion, \" \\\n       \"two hundred and ninety nine million, seven hundred and ninety \" \\\n       \"two thousand, four hundred and fifty eight\"\n\nassert pronounce_number(100034000000299792458, short_scale=False) == \\\n       \"one hundred trillion, thirty four thousand billion, \" \\\n       \"two hundred and ninety nine million, seven hundred and ninety \" \\\n       \"two thousand, four hundred and fifty eight\"\n```\n\n### Pronounce datetime objects\n\nspoken date for datetime.datetime objects\n\n```python\nfrom lingua_franca.format import nice_date, nice_date_time, nice_time\nimport datetime\n\ndt = datetime.datetime(2017, 1, 31,  13, 22, 3)\n\nassert nice_date(dt) == \"tuesday, january thirty-first, twenty seventeen\"\n\nassert nice_time(dt) == \"one twenty two\"\nassert nice_time(dt, use_ampm=True) ==  \"one twenty two p.m.\"\nassert nice_time(dt, speech=False) == \"1:22\"\nassert nice_time(dt, speech=False, use_ampm=True) == \"1:22 PM\"\nassert nice_time(dt, speech=False, use_24hour=True) == \"13:22\"\nassert nice_time(dt, speech=False, use_24hour=True, use_ampm=True) == \"13:22\"\nassert nice_time(dt, use_24hour=True, use_ampm=True) == \"thirteen twenty two\"\nassert nice_time(dt, use_24hour=True, use_ampm=False) == \"thirteen twenty two\"\n\nassert nice_date_time(dt) == \"tuesday, january thirty-first, twenty seventeen at one twenty two\"\n```\n\n### Pronounce durations\n\nspoken number of seconds or datetime.timedelta objects\n\n```python\nfrom lingua_franca.format import nice_duration\n\n\nassert nice_duration(1) ==   \"one second\"\nassert nice_duration(3) ==   \"three seconds\"\nassert nice_duration(1, speech=False) ==   \"0:01\"\nassert nice_duration(61), \"one minute one second\"\nassert nice_duration(61, speech=False) ==   \"1:01\"\nassert nice_duration(5000) ==  \"one hour twenty three minutes twenty seconds\"\nassert nice_duration(5000, speech=False), \"1:23:20\"\nassert nice_duration(50000) ==   \"thirteen hours fifty three minutes twenty seconds\"\nassert nice_duration(50000, speech=False) ==   \"13:53:20\"\nassert nice_duration(500000) ==   \"five days  eighteen hours fifty three minutes twenty seconds\"\nassert nice_duration(500000, speech=False), \"5d 18:53:20\"\n\nfrom datetime import timedelta\n\nassert nice_duration(timedelta(seconds=500000), speech=False) ==  \"5d 18:53:20\"\n```\n\n## Parsing\n\nExtract data from natural language text\n\n### Extract numbers\n\n```python\nfrom lingua_franca.parse import extract_number, extract_numbers\n\n# extract a number\nassert extract_number(\"nothing\") is False\nassert extract_number(\"two million five hundred thousand tons of spinning \"\n                      \"metal\") == 2500000\nassert extract_number(\"six trillion\") == 6000000000000.0\nassert extract_number(\"six trillion\", short_scale=False) == 6e+18\n\nassert extract_number(\"1 and 3/4 cups\") == 1.75\nassert extract_number(\"1 cup and a half\") == 1.5\n\n## extracts all numbers\nassert extract_numbers(\"nothing\") == []\nassert extract_numbers(\"this is a one twenty one  test\") == [1.0, 21.0]\nassert extract_numbers(\"1 dog, seven pigs, macdonald had a farm, \"\n                       \"3 times 5 macarena\") == [1, 7, 3, 5]\n```\n\n### Extract durations\n\nextract datetime.timedelta objects\n\n```python\n## extract durations\nfrom lingua_franca.parse import extract_duration\nfrom datetime import timedelta\n\nassert extract_duration(\"nothing\") == (None, 'nothing')\n\nassert extract_duration(\"Nineteen minutes past the hour\") == (\n    timedelta(minutes=19),\n    \"past the hour\")\nassert extract_duration(\"wake me up in three weeks, four hundred ninety seven\"\n                        \" days, and three hundred 91.6 seconds\") == (\n           timedelta(weeks=3, days=497, seconds=391.6),\n           \"wake me up in , , and\")\nassert extract_duration(\n    \"The movie is one hour, fifty seven and a half minutes long\") == (\n           timedelta(hours=1, minutes=57.5),\n           \"the movie is ,  long\")\n```\n\n### Extract dates\n\nextract datetime.datetime objects\n\n```python\n## extract date times\nfrom datetime import datetime\nfrom lingua_franca.parse import extract_datetime, normalize\n\ndef extractWithFormat(text):\n    date = datetime(2017, 6, 27, 13, 4)  # Tue June 27, 2017 @ 1:04pm\n    [extractedDate, leftover] = extract_datetime(text, date)\n    extractedDate = extractedDate.strftime(\"%Y-%m-%d %H:%M:%S\")\n    return [extractedDate, leftover]\n\n\ndef testExtract(text, expected_date, expected_leftover):\n    res = extractWithFormat(normalize(text))\n    assert res[0] == expected_date\n    assert res[1] == expected_leftover\n\n\ntestExtract(\"now is the time\",\n            \"2017-06-27 13:04:00\", \"is time\")\ntestExtract(\"in a couple minutes\",\n            \"2017-06-27 13:06:00\", \"\")\ntestExtract(\"What is the day after tomorrow's weather?\",\n            \"2017-06-29 00:00:00\", \"what is weather\")\ntestExtract(\"Remind me at 10:45 pm\",\n            \"2017-06-27 22:45:00\", \"remind me\")\ntestExtract(\"what is the weather on friday morning\",\n            \"2017-06-30 08:00:00\", \"what is weather\")\ntestExtract(\"what is tomorrow's weather\",\n            \"2017-06-28 00:00:00\", \"what is weather\")\ntestExtract(\"remind me to call mom next tuesday\",\n            \"2017-07-04 00:00:00\", \"remind me to call mom\")\ntestExtract(\"remind me to call mom in 3 weeks\",\n            \"2017-07-18 00:00:00\", \"remind me to call mom\")\ntestExtract(\"set an alarm for tonight 9:30\",\n            \"2017-06-27 21:30:00\", \"set alarm\")\ntestExtract(\"on the evening of june 5th 2017 remind me to call my mother\",\n            \"2017-06-05 19:00:00\", \"remind me to call my mother\")\n\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/MycroftAI/lingua-franca", "keywords": "", "license": "Apache2.0", "maintainer": "", "maintainer_email": "", "name": "lingua-franca", "package_url": "https://pypi.org/project/lingua-franca/", "platform": "", "project_url": "https://pypi.org/project/lingua-franca/", "project_urls": {"Homepage": "https://github.com/MycroftAI/lingua-franca"}, "release_url": "https://pypi.org/project/lingua-franca/0.2.1/", "requires_dist": ["python-dateutil (==2.6.0)"], "requires_python": "", "summary": "Mycroft's multilingual text parsing and formatting library", "version": "0.2.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"LICENSE.md\" rel=\"nofollow\"><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b97ca76cf5d8fd16c7bc4731270e0bbe53df7aa1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d417061636865253230322e302d626c75652e737667\"></a> <a href=\"https://mycroft.ai/cla\" rel=\"nofollow\"><img alt=\"CLA\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2d46ead970c5b8a424e7e4a5aa07b4418b42e694/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f434c412533462d52657175697265642d626c75652e737667\"></a> <a href=\"https://github.com/MycroftAI/contributors/blob/master/team/Languages.md\" rel=\"nofollow\"><img alt=\"Team\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/57f9a47e23f80df0512f131a7a6b77ccc6a70f79/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5465616d2d4c616e6775616765732d76696f6c6574626c75652e737667\"></a> <img alt=\"Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e2ed7bbc232d1fc9b4e5e27acd6aa2b796090a55/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2d416c7068612d6f72616e67652e737667\"></p>\n<p><a href=\"https://travis-ci.org/MycroftAI/lingua-franca\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c8c2ba3fe4f26bb895284779885f87ea28527f90/68747470733a2f2f7472617669732d63692e6f72672f4d7963726f667441492f6c696e6775612d6672616e63612e7376673f6272616e63683d6d6173746572\"></a> <a href=\"https://coveralls.io/github/MycroftAI/lingua-franca?branch=master\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b6f0045bec7910ab857e8bc401755fe216c7364c/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f4d7963726f667441492f6c696e6775612d6672616e63612f62616467652e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"http://makeapullrequest.com\" rel=\"nofollow\"><img alt=\"PRs Welcome\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6482ead086859c79e80e1d7af03e30a98f345bf0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5052732d77656c636f6d652d627269676874677265656e2e737667\"></a>\n<a href=\"https://chat.mycroft.ai/community/channels/languages\" rel=\"nofollow\"><img alt=\"Join chat\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3f4f28ba1ecab6649a489ad6296e05664a7985fa/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d61747465726d6f73742d6a6f696e5f636861742d627269676874677265656e2e737667\"></a></p>\n<h1>Lingua Franca</h1>\n<p>Mycroft's multilingual text parsing and formatting library</p>\n<p>Lingua Franca (<em>noun</em>)<br></p>\n<blockquote>\n<p>a framework that is adopted as the common language between speakers with different native tongues&lt;/dr&gt;</p>\n</blockquote>\n<ul>\n<li><a href=\"#lingua-franca\" rel=\"nofollow\">Lingua Franca</a>\n<ul>\n<li><a href=\"#formatting\" rel=\"nofollow\">Formatting</a>\n<ul>\n<li><a href=\"#pronounce-numbers\" rel=\"nofollow\">Pronounce numbers</a></li>\n<li><a href=\"#pronounce-datetime-objects\" rel=\"nofollow\">Pronounce datetime objects</a></li>\n<li><a href=\"#pronounce-durations\" rel=\"nofollow\">Pronounce durations</a></li>\n</ul>\n</li>\n<li><a href=\"#parsing\" rel=\"nofollow\">Parsing</a>\n<ul>\n<li><a href=\"#extract-numbers\" rel=\"nofollow\">Extract numbers</a></li>\n<li><a href=\"#extract-durations\" rel=\"nofollow\">Extract durations</a></li>\n<li><a href=\"#extract-dates\" rel=\"nofollow\">Extract dates</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2>Formatting</h2>\n<p>Convert data into spoken equivalents</p>\n<h3>Pronounce numbers</h3>\n<p>spoken versions of numbers</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">lingua_franca.format</span> <span class=\"kn\">import</span> <span class=\"n\">nice_number</span><span class=\"p\">,</span> <span class=\"n\">pronounce_number</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">nice_number</span><span class=\"p\">(</span><span class=\"mi\">25</span><span class=\"o\">/</span><span class=\"mi\">6</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"4 and a sixth\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_number</span><span class=\"p\">(</span><span class=\"mi\">201</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"201\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_number</span><span class=\"p\">(</span><span class=\"mf\">3.14159269</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"3 and a seventh\"</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">pronounce_number</span><span class=\"p\">(</span><span class=\"mf\">3.14159269</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"three point one four\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">pronounce_number</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"zero\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">pronounce_number</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"ten\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">pronounce_number</span><span class=\"p\">(</span><span class=\"mi\">201</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"two hundred and one\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">pronounce_number</span><span class=\"p\">(</span><span class=\"mf\">102.3</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"one hundred and two point three\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">pronounce_number</span><span class=\"p\">(</span>\n    <span class=\"mi\">4092949192</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"four billion, ninety two million, nine hundred and forty nine thousand, one hundred and ninety two\"</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">pronounce_number</span><span class=\"p\">(</span><span class=\"mi\">100034000000299792458</span><span class=\"p\">,</span> <span class=\"n\">short_scale</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span> <span class=\"o\">==</span> \\\n       <span class=\"s2\">\"one hundred quintillion, thirty four quadrillion, \"</span> \\\n       <span class=\"s2\">\"two hundred and ninety nine million, seven hundred and ninety \"</span> \\\n       <span class=\"s2\">\"two thousand, four hundred and fifty eight\"</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">pronounce_number</span><span class=\"p\">(</span><span class=\"mi\">100034000000299792458</span><span class=\"p\">,</span> <span class=\"n\">short_scale</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span> <span class=\"o\">==</span> \\\n       <span class=\"s2\">\"one hundred trillion, thirty four thousand billion, \"</span> \\\n       <span class=\"s2\">\"two hundred and ninety nine million, seven hundred and ninety \"</span> \\\n       <span class=\"s2\">\"two thousand, four hundred and fifty eight\"</span>\n</pre>\n<h3>Pronounce datetime objects</h3>\n<p>spoken date for datetime.datetime objects</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">lingua_franca.format</span> <span class=\"kn\">import</span> <span class=\"n\">nice_date</span><span class=\"p\">,</span> <span class=\"n\">nice_date_time</span><span class=\"p\">,</span> <span class=\"n\">nice_time</span>\n<span class=\"kn\">import</span> <span class=\"nn\">datetime</span>\n\n<span class=\"n\">dt</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2017</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">31</span><span class=\"p\">,</span>  <span class=\"mi\">13</span><span class=\"p\">,</span> <span class=\"mi\">22</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">nice_date</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"tuesday, january thirty-first, twenty seventeen\"</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">nice_time</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"one twenty two\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_time</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">,</span> <span class=\"n\">use_ampm</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span> <span class=\"o\">==</span>  <span class=\"s2\">\"one twenty two p.m.\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_time</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">,</span> <span class=\"n\">speech</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"1:22\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_time</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">,</span> <span class=\"n\">speech</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">use_ampm</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"1:22 PM\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_time</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">,</span> <span class=\"n\">speech</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">use_24hour</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"13:22\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_time</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">,</span> <span class=\"n\">speech</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">use_24hour</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">use_ampm</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"13:22\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_time</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">,</span> <span class=\"n\">use_24hour</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">use_ampm</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"thirteen twenty two\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_time</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">,</span> <span class=\"n\">use_24hour</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">use_ampm</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"thirteen twenty two\"</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">nice_date_time</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"s2\">\"tuesday, january thirty-first, twenty seventeen at one twenty two\"</span>\n</pre>\n<h3>Pronounce durations</h3>\n<p>spoken number of seconds or datetime.timedelta objects</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">lingua_franca.format</span> <span class=\"kn\">import</span> <span class=\"n\">nice_duration</span>\n\n\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">==</span>   <span class=\"s2\">\"one second\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span> <span class=\"o\">==</span>   <span class=\"s2\">\"three seconds\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">speech</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span> <span class=\"o\">==</span>   <span class=\"s2\">\"0:01\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">61</span><span class=\"p\">),</span> <span class=\"s2\">\"one minute one second\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">61</span><span class=\"p\">,</span> <span class=\"n\">speech</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span> <span class=\"o\">==</span>   <span class=\"s2\">\"1:01\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">5000</span><span class=\"p\">)</span> <span class=\"o\">==</span>  <span class=\"s2\">\"one hour twenty three minutes twenty seconds\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">5000</span><span class=\"p\">,</span> <span class=\"n\">speech</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">),</span> <span class=\"s2\">\"1:23:20\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">50000</span><span class=\"p\">)</span> <span class=\"o\">==</span>   <span class=\"s2\">\"thirteen hours fifty three minutes twenty seconds\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">50000</span><span class=\"p\">,</span> <span class=\"n\">speech</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span> <span class=\"o\">==</span>   <span class=\"s2\">\"13:53:20\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">500000</span><span class=\"p\">)</span> <span class=\"o\">==</span>   <span class=\"s2\">\"five days  eighteen hours fifty three minutes twenty seconds\"</span>\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"mi\">500000</span><span class=\"p\">,</span> <span class=\"n\">speech</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">),</span> <span class=\"s2\">\"5d 18:53:20\"</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">timedelta</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">nice_duration</span><span class=\"p\">(</span><span class=\"n\">timedelta</span><span class=\"p\">(</span><span class=\"n\">seconds</span><span class=\"o\">=</span><span class=\"mi\">500000</span><span class=\"p\">),</span> <span class=\"n\">speech</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span> <span class=\"o\">==</span>  <span class=\"s2\">\"5d 18:53:20\"</span>\n</pre>\n<h2>Parsing</h2>\n<p>Extract data from natural language text</p>\n<h3>Extract numbers</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">lingua_franca.parse</span> <span class=\"kn\">import</span> <span class=\"n\">extract_number</span><span class=\"p\">,</span> <span class=\"n\">extract_numbers</span>\n\n<span class=\"c1\"># extract a number</span>\n<span class=\"k\">assert</span> <span class=\"n\">extract_number</span><span class=\"p\">(</span><span class=\"s2\">\"nothing\"</span><span class=\"p\">)</span> <span class=\"ow\">is</span> <span class=\"kc\">False</span>\n<span class=\"k\">assert</span> <span class=\"n\">extract_number</span><span class=\"p\">(</span><span class=\"s2\">\"two million five hundred thousand tons of spinning \"</span>\n                      <span class=\"s2\">\"metal\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">2500000</span>\n<span class=\"k\">assert</span> <span class=\"n\">extract_number</span><span class=\"p\">(</span><span class=\"s2\">\"six trillion\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mf\">6000000000000.0</span>\n<span class=\"k\">assert</span> <span class=\"n\">extract_number</span><span class=\"p\">(</span><span class=\"s2\">\"six trillion\"</span><span class=\"p\">,</span> <span class=\"n\">short_scale</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mf\">6e+18</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">extract_number</span><span class=\"p\">(</span><span class=\"s2\">\"1 and 3/4 cups\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mf\">1.75</span>\n<span class=\"k\">assert</span> <span class=\"n\">extract_number</span><span class=\"p\">(</span><span class=\"s2\">\"1 cup and a half\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mf\">1.5</span>\n\n<span class=\"c1\">## extracts all numbers</span>\n<span class=\"k\">assert</span> <span class=\"n\">extract_numbers</span><span class=\"p\">(</span><span class=\"s2\">\"nothing\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"p\">[]</span>\n<span class=\"k\">assert</span> <span class=\"n\">extract_numbers</span><span class=\"p\">(</span><span class=\"s2\">\"this is a one twenty one  test\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"p\">[</span><span class=\"mf\">1.0</span><span class=\"p\">,</span> <span class=\"mf\">21.0</span><span class=\"p\">]</span>\n<span class=\"k\">assert</span> <span class=\"n\">extract_numbers</span><span class=\"p\">(</span><span class=\"s2\">\"1 dog, seven pigs, macdonald had a farm, \"</span>\n                       <span class=\"s2\">\"3 times 5 macarena\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">]</span>\n</pre>\n<h3>Extract durations</h3>\n<p>extract datetime.timedelta objects</p>\n<pre><span class=\"c1\">## extract durations</span>\n<span class=\"kn\">from</span> <span class=\"nn\">lingua_franca.parse</span> <span class=\"kn\">import</span> <span class=\"n\">extract_duration</span>\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">timedelta</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">extract_duration</span><span class=\"p\">(</span><span class=\"s2\">\"nothing\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"s1\">'nothing'</span><span class=\"p\">)</span>\n\n<span class=\"k\">assert</span> <span class=\"n\">extract_duration</span><span class=\"p\">(</span><span class=\"s2\">\"Nineteen minutes past the hour\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"p\">(</span>\n    <span class=\"n\">timedelta</span><span class=\"p\">(</span><span class=\"n\">minutes</span><span class=\"o\">=</span><span class=\"mi\">19</span><span class=\"p\">),</span>\n    <span class=\"s2\">\"past the hour\"</span><span class=\"p\">)</span>\n<span class=\"k\">assert</span> <span class=\"n\">extract_duration</span><span class=\"p\">(</span><span class=\"s2\">\"wake me up in three weeks, four hundred ninety seven\"</span>\n                        <span class=\"s2\">\" days, and three hundred 91.6 seconds\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"p\">(</span>\n           <span class=\"n\">timedelta</span><span class=\"p\">(</span><span class=\"n\">weeks</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">497</span><span class=\"p\">,</span> <span class=\"n\">seconds</span><span class=\"o\">=</span><span class=\"mf\">391.6</span><span class=\"p\">),</span>\n           <span class=\"s2\">\"wake me up in , , and\"</span><span class=\"p\">)</span>\n<span class=\"k\">assert</span> <span class=\"n\">extract_duration</span><span class=\"p\">(</span>\n    <span class=\"s2\">\"The movie is one hour, fifty seven and a half minutes long\"</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"p\">(</span>\n           <span class=\"n\">timedelta</span><span class=\"p\">(</span><span class=\"n\">hours</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">minutes</span><span class=\"o\">=</span><span class=\"mf\">57.5</span><span class=\"p\">),</span>\n           <span class=\"s2\">\"the movie is ,  long\"</span><span class=\"p\">)</span>\n</pre>\n<h3>Extract dates</h3>\n<p>extract datetime.datetime objects</p>\n<pre><span class=\"c1\">## extract date times</span>\n<span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span>\n<span class=\"kn\">from</span> <span class=\"nn\">lingua_franca.parse</span> <span class=\"kn\">import</span> <span class=\"n\">extract_datetime</span><span class=\"p\">,</span> <span class=\"n\">normalize</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">extractWithFormat</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">):</span>\n    <span class=\"n\">date</span> <span class=\"o\">=</span> <span class=\"n\">datetime</span><span class=\"p\">(</span><span class=\"mi\">2017</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">27</span><span class=\"p\">,</span> <span class=\"mi\">13</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)</span>  <span class=\"c1\"># Tue June 27, 2017 @ 1:04pm</span>\n    <span class=\"p\">[</span><span class=\"n\">extractedDate</span><span class=\"p\">,</span> <span class=\"n\">leftover</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">extract_datetime</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">,</span> <span class=\"n\">date</span><span class=\"p\">)</span>\n    <span class=\"n\">extractedDate</span> <span class=\"o\">=</span> <span class=\"n\">extractedDate</span><span class=\"o\">.</span><span class=\"n\">strftime</span><span class=\"p\">(</span><span class=\"s2\">\"%Y-%m-</span><span class=\"si\">%d</span><span class=\"s2\"> %H:%M:%S\"</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"p\">[</span><span class=\"n\">extractedDate</span><span class=\"p\">,</span> <span class=\"n\">leftover</span><span class=\"p\">]</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">testExtract</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">,</span> <span class=\"n\">expected_date</span><span class=\"p\">,</span> <span class=\"n\">expected_leftover</span><span class=\"p\">):</span>\n    <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">extractWithFormat</span><span class=\"p\">(</span><span class=\"n\">normalize</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">))</span>\n    <span class=\"k\">assert</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"n\">expected_date</span>\n    <span class=\"k\">assert</span> <span class=\"n\">res</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"n\">expected_leftover</span>\n\n\n<span class=\"n\">testExtract</span><span class=\"p\">(</span><span class=\"s2\">\"now is the time\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"2017-06-27 13:04:00\"</span><span class=\"p\">,</span> <span class=\"s2\">\"is time\"</span><span class=\"p\">)</span>\n<span class=\"n\">testExtract</span><span class=\"p\">(</span><span class=\"s2\">\"in a couple minutes\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"2017-06-27 13:06:00\"</span><span class=\"p\">,</span> <span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n<span class=\"n\">testExtract</span><span class=\"p\">(</span><span class=\"s2\">\"What is the day after tomorrow's weather?\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"2017-06-29 00:00:00\"</span><span class=\"p\">,</span> <span class=\"s2\">\"what is weather\"</span><span class=\"p\">)</span>\n<span class=\"n\">testExtract</span><span class=\"p\">(</span><span class=\"s2\">\"Remind me at 10:45 pm\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"2017-06-27 22:45:00\"</span><span class=\"p\">,</span> <span class=\"s2\">\"remind me\"</span><span class=\"p\">)</span>\n<span class=\"n\">testExtract</span><span class=\"p\">(</span><span class=\"s2\">\"what is the weather on friday morning\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"2017-06-30 08:00:00\"</span><span class=\"p\">,</span> <span class=\"s2\">\"what is weather\"</span><span class=\"p\">)</span>\n<span class=\"n\">testExtract</span><span class=\"p\">(</span><span class=\"s2\">\"what is tomorrow's weather\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"2017-06-28 00:00:00\"</span><span class=\"p\">,</span> <span class=\"s2\">\"what is weather\"</span><span class=\"p\">)</span>\n<span class=\"n\">testExtract</span><span class=\"p\">(</span><span class=\"s2\">\"remind me to call mom next tuesday\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"2017-07-04 00:00:00\"</span><span class=\"p\">,</span> <span class=\"s2\">\"remind me to call mom\"</span><span class=\"p\">)</span>\n<span class=\"n\">testExtract</span><span class=\"p\">(</span><span class=\"s2\">\"remind me to call mom in 3 weeks\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"2017-07-18 00:00:00\"</span><span class=\"p\">,</span> <span class=\"s2\">\"remind me to call mom\"</span><span class=\"p\">)</span>\n<span class=\"n\">testExtract</span><span class=\"p\">(</span><span class=\"s2\">\"set an alarm for tonight 9:30\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"2017-06-27 21:30:00\"</span><span class=\"p\">,</span> <span class=\"s2\">\"set alarm\"</span><span class=\"p\">)</span>\n<span class=\"n\">testExtract</span><span class=\"p\">(</span><span class=\"s2\">\"on the evening of june 5th 2017 remind me to call my mother\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"2017-06-05 19:00:00\"</span><span class=\"p\">,</span> <span class=\"s2\">\"remind me to call my mother\"</span><span class=\"p\">)</span>\n</pre>\n\n          </div>"}, "last_serial": 6866500, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "07d92e2b8075aead2284b4f039a6b641", "sha256": "b69c74b34e9b36bdf2254e8843f61b78adcb62eadf1ba744d6bc9dabc25be2e1"}, "downloads": -1, "filename": "lingua_franca-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "07d92e2b8075aead2284b4f039a6b641", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 218125, "upload_time": "2019-10-30T07:18:40", "upload_time_iso_8601": "2019-10-30T07:18:40.231195Z", "url": "https://files.pythonhosted.org/packages/05/e7/b52b57f4374fd9ecf624771c8a289260f19462b57a8e8913784bbd63ac8f/lingua_franca-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ecce116a21178ce148b857913f0e9af3", "sha256": "ba1d806b7a213710489fb5be237ebc67f1b8da4b28c9e06e9ac2e62325a98be9"}, "downloads": -1, "filename": "lingua_franca-0.1.0.tar.gz", "has_sig": false, "md5_digest": "ecce116a21178ce148b857913f0e9af3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 138655, "upload_time": "2019-10-30T07:18:43", "upload_time_iso_8601": "2019-10-30T07:18:43.740379Z", "url": "https://files.pythonhosted.org/packages/57/37/963225c210ff86f2243fc837582693041a14a1c3519b940559d70afa37dd/lingua_franca-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "b6c220e76499f7de4acec3164adc5039", "sha256": "c048ac8413c34d59002852cedb8663e46f0f70d810317da86c7f53fc55fd4a99"}, "downloads": -1, "filename": "lingua_franca-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "b6c220e76499f7de4acec3164adc5039", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 393293, "upload_time": "2020-01-13T10:03:33", "upload_time_iso_8601": "2020-01-13T10:03:33.086779Z", "url": "https://files.pythonhosted.org/packages/98/29/0010e5551cfd54a24f7c156475398591ac28ae58840d6476cf44ae041f07/lingua_franca-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a3c37b2b29bc8482405f8d9b1332b2f8", "sha256": "9acadc14c7198030cd353a7e0fd0b1a915fb298a601b8c1592e103b48c92a440"}, "downloads": -1, "filename": "lingua_franca-0.2.0.tar.gz", "has_sig": false, "md5_digest": "a3c37b2b29bc8482405f8d9b1332b2f8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 152310, "upload_time": "2020-01-13T10:03:35", "upload_time_iso_8601": "2020-01-13T10:03:35.404662Z", "url": "https://files.pythonhosted.org/packages/9f/04/54b9cfd14011f61e3d91592354e2460a5d85506c8996f802c1b4c1f9c9ff/lingua_franca-0.2.0.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "997a16d903243a9888659dab194f8abc", "sha256": "be9147ce7b9ea61e5ccc5d702c9f102b499c260e45e09bf91e3d24b81d38ef94"}, "downloads": -1, "filename": "lingua_franca-0.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "997a16d903243a9888659dab194f8abc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 396328, "upload_time": "2020-03-23T16:03:32", "upload_time_iso_8601": "2020-03-23T16:03:32.620299Z", "url": "https://files.pythonhosted.org/packages/0b/7f/f183fecb8794fb4877f7e48d310b3cc4757227580585aa0aeeb61980992c/lingua_franca-0.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5a81d6f850244b55dc14df1fe6573a67", "sha256": "4e6cb2fbb0c970f04408fa17ee59e57849dc2b240a9b271aa9329b5682dfbda0"}, "downloads": -1, "filename": "lingua_franca-0.2.1.tar.gz", "has_sig": false, "md5_digest": "5a81d6f850244b55dc14df1fe6573a67", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 154337, "upload_time": "2020-03-23T16:03:34", "upload_time_iso_8601": "2020-03-23T16:03:34.285779Z", "url": "https://files.pythonhosted.org/packages/de/bb/4093a18ac0f00be88cf6b02c5c543bfaebea6a279cd5aa89defbd7c048f5/lingua_franca-0.2.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "997a16d903243a9888659dab194f8abc", "sha256": "be9147ce7b9ea61e5ccc5d702c9f102b499c260e45e09bf91e3d24b81d38ef94"}, "downloads": -1, "filename": "lingua_franca-0.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "997a16d903243a9888659dab194f8abc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 396328, "upload_time": "2020-03-23T16:03:32", "upload_time_iso_8601": "2020-03-23T16:03:32.620299Z", "url": "https://files.pythonhosted.org/packages/0b/7f/f183fecb8794fb4877f7e48d310b3cc4757227580585aa0aeeb61980992c/lingua_franca-0.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5a81d6f850244b55dc14df1fe6573a67", "sha256": "4e6cb2fbb0c970f04408fa17ee59e57849dc2b240a9b271aa9329b5682dfbda0"}, "downloads": -1, "filename": "lingua_franca-0.2.1.tar.gz", "has_sig": false, "md5_digest": "5a81d6f850244b55dc14df1fe6573a67", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 154337, "upload_time": "2020-03-23T16:03:34", "upload_time_iso_8601": "2020-03-23T16:03:34.285779Z", "url": "https://files.pythonhosted.org/packages/de/bb/4093a18ac0f00be88cf6b02c5c543bfaebea6a279cd5aa89defbd7c048f5/lingua_franca-0.2.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:45:41 2020"}
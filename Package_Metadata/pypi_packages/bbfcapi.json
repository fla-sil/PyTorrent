{"info": {"author": "QasimK", "author_email": "noreply@QasimK.io", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: GNU Affero General Public License v3", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.8"], "description": "# BBFC API\n\n![PyPI](https://img.shields.io/pypi/v/bbfcapi)\n![PyPI - Python Version](https://img.shields.io/pypi/pyversions/bbfcapi)\n![PyPI - License](https://img.shields.io/pypi/l/bbfcapi)\n![Libraries.io dependency status for GitHub repo](https://img.shields.io/librariesio/github/fustra/bbfcapi)\n\nWeb API and Python library for [BBFC](https://bbfc.co.uk/).\n\n## Public REST API\n\n![Mozilla HTTP Observatory Grade](https://img.shields.io/mozilla-observatory/grade-score/bbfcapi.fustra.co.uk?publish)\n![Security Headers](https://img.shields.io/security-headers?url=https%3A%2F%2Fbbfcapi.fustra.co.uk%2Fhealthz)\n<a href=\"https://uptime.statuscake.com/?TestID=SgEZQ2v2KF\" title=\"bbfcapi uptime report\">\n    <img src=\"https://app.statuscake.com/button/index.php?Track=K7juwHfXel&Days=7&Design=6\"/>\n</a>\n\n* Hosted @ <https://bbfcapi.fustra.co.uk>\n* Documentation @ <https://bbfcapi.fustra.co.uk/redoc>\n* Alternative documentation @ <https://bbfcapi.fustra.co.uk/docs>\n\nTry it now:\n\n```console\n$ curl \"https://bbfcapi.fustra.co.uk?title=interstellar&year=2014\"\n{\"title\":\"INTERSTELLAR\",\"year\":2014,\"ageRating\":\"12\"}\n```\n\nUse the Python client:\n\n```console\n$ pip install bbfcapi[apis]\n```\n\n```py\n>>> from bbfcapi.apis import top_search_result\n>>> top_search_result(\"interstellar\", 2014)\nFilm(title='INTERSTELLAR', year=2014, age_rating=<AgeRating.AGE_12: '12'>)\n```\n\n## Project Overview\n\nThe project is divided into:\n\n* \"I want to self-host the REST API demoed above\"\n    * BBFCAPI - Python REST Web API\n    * `pip install bbfcapi[app]`\n* \"I want a Python library to talk to the REST API as demoed above\"\n    * Python client for BBFCAPI\n    * `pip install bbfcapi[api]` (async variant)\n    * `pip install bbfcapi[apis]` (sync variant)\n* \"I want a Python library to talk to the BBFC website\"\n    * Python library for the BBFC website\n    * `pip install bbfcapi[lib]` (async variant)\n    * `pip install bbfcapi[libs]` (sync variant)\n* \"I want to download the raw HTML web pages from BBFC\"\n    * Python network client for the BBFC website\n    * `pip install bbfcapi[client]` (async variant)\n    * `pip install bbfcapi[clients]` (sync variant)\n* \"I want to parse the downloaded web pages from BBFC\"\n    * Python HMTL parser for the BBFC web pages\n    * `pip install bbfcapi`\n\nSync versions use the `requests` library, while async variants use `aiohttp`.\n\n## High-Level REST Web API\n\nInstall `pip install bbfcapi[app]`.\n\nTo use the REST API to query BBFC, first run the web server:\n\n```console\n$ uvicorn bbfcapi.app:app\n```\n\nThen, to query the API using the Python library *synchronously*:\n\n```py\nfrom bbfcapi.apis import top_search_result\ntop_search_result(\"interstellar\", 2014, base_url=\"http://127.0.0.1:8000\")\n```\n\nOr, to query the API using the Python library *asynchronously*:\n\n```py\nfrom bbfcapi.api import top_search_result\nprint(await top_search_result(\"interstellar\", 2014, base_url=\"http://127.0.0.1:8000\"))\n```\n\n```py\nimport asyncio\nfrom bbfcapi.api import top_search_result\nprint(asyncio.run(top_search_result(\"interstellar\", 2014, base_url=\"http://127.0.0.1:8000\")))\n```\n\nOr, to query the API using `curl`:\n\n```console\n$ curl \"127.0.0.1:8000?title=interstellar&year=2014\"\n{\"title\":\"INTERSTELLAR\",\"year\":2014,\"age_rating\":\"12\"}\n```\n\nOr, to query the API from another web page:\n\n```js\nasync function call()\n{\n    const response = await fetch('http://127.0.0.1:8000/?title=interstellar&year=2014');\n    const responseJson = await response.json();\n    console.log(JSON.stringify(responseJson));\n}\ncall();\n```\n\nAdditional notes:\n\n* HTTP 404 Not Found is returned when there is no film found.\n* Browse documentation @ <http://127.0.0.1:8000/redoc>.\n* Or, browse documentation @ <http://127.0.0.1:8000/docs>.\n* Samples on hosting this web application are available in the repository's [/docs](/docs) folder.\n\n## High-Level Python Library\n\nTo use the library to get results from BBFC *synchronously*:\n\n```py\nfrom bbfcapi.lib import top_search_result\nprint(top_search_result(title=\"interstellar\", year=2014))\n```\n\nTo use the library to get results from BBFC *asynchronously*:\n\n```py\nfrom bbfcapi.lib import top_search_result\nprint(await top_search_result(title=\"interstellar\", year=2014))\n```\n\n```py\nimport asyncio\nfrom bbfcapi.lib import top_search_result\nprint(asyncio.run(top_search_result(title=\"interstellar\", year=2014)))\n```\n\n## Low-Level BBFC Network Client & Parser\n\nTo use the library to get raw HTML pages from BBFC *synchronously*:\n\n```console\n$ pip install bbfcapi[clients]`\n```\n\n```py\nfrom bbfcapi.clients import search\nprint(search(title=\"interstellar\", year=2014))\n```\n\nTo use the library to get raw HTML pages from BBFC *asynchronously*:\n\n```console\n$ pip install bbfcapi[client]`\n```\n\n```py\nfrom bbfcapi.client import search\nprint(await search(title=\"interstellar\", year=2014))\n```\n\n```py\nimport asyncio\nfrom bbfcapi.client import search\nprint(asyncio.run(search(title=\"interstellar\", year=2014)))\n```\n\nTo use the library to parse raw HTML pages from BBFC:\n\n```console\n$ pip install bbfcapi[parser]`\n```\n\n```py\nfrom bbfcapi import parser\nprint(parser.parse_top_search_result(b\"<BBFC search page byte-string>\"))\n```\n\n## Development\n\n1. `poetry install` to set up the virtualenv (one-off)\n2. `poetry run uvicorn bbfcapi.apiweb:app --reload` to run the web server\n3. `make fix`, `make check`, and `make test` before committing\n\nThere is also `make test-live` which will run live integration tests against\nthe BBFC website.\n\n### Contributing\n\nPull requests are welcome :)\n\n### Publishing\n\nThis application is published on PyPi.\n\n1. Ensure you have configured the PyPi repository with Poetry (one-off)\n2. Run `make release` to execute the check-list\n\nTo publish to the test repository:\n\n1. Ensure you have configured the Test PyPi repository with Poetry (one-off)\n2. `poetry publish --build -r testpypi` to upload to the test repository\n\n## Changelog\n\n### Unpublished\n\n...\n\n### v2.0.2 - 2020-03-22\n\n- Fix another missing dependency\n\n### v2.0.1 - 2020-03-22\n\n- Fix missing dependencies\n\n### v2.0.0 - 2020-03-22\n\n- Add Python client library for the BBFCAPI REST Web API\n- Use camelCasing for JSON fields in the web API\n- Reorganise entire package\n\n### v1.0.1 - 2020-01-19\n\n- Fix parsing 12A age ratings\n\n### v1.0.0 - 2020-01-19\n\n- First release of bbfcapi\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Fustra/bbfcapi/", "keywords": "", "license": "AGPL-3.0", "maintainer": "", "maintainer_email": "", "name": "bbfcapi", "package_url": "https://pypi.org/project/bbfcapi/", "platform": "", "project_url": "https://pypi.org/project/bbfcapi/", "project_urls": {"Homepage": "https://github.com/Fustra/bbfcapi/", "Repository": "https://github.com/Fustra/bbfcapi/"}, "release_url": "https://pypi.org/project/bbfcapi/2.0.2/", "requires_dist": ["aiohttp[speedups] (>=3.6,<4.0); extra == \"client\" or extra == \"lib\" or extra == \"api\" or extra == \"app\"", "beautifulsoup4 (>=4.8,<5.0); extra == \"parser\" or extra == \"lib\" or extra == \"libs\" or extra == \"app\"", "fastapi (>=0.52,<0.53); extra == \"app\"", "pydantic (>=1.4,<2.0)", "pyhumps (>=1.3.1,<2.0.0); extra == \"api\" or extra == \"apis\" or extra == \"app\"", "requests (>=2.23,<3.0); extra == \"clients\" or extra == \"libs\" or extra == \"apis\"", "uvicorn (>=0.11,<0.12); extra == \"app\""], "requires_python": ">=3.8,<4.0", "summary": "API service, library and parser for BBFC", "version": "2.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>BBFC API</h1>\n<p><img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e6e4909be2296c8ecada2a6215baa685549a1860/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f62626663617069\">\n<img alt=\"PyPI - Python Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/75a8d971c3704f271ba69b7df210ed171f071d7d/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f62626663617069\">\n<img alt=\"PyPI - License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e6e09b9ccbe7f980ec967b0de509d822c16e6f07/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f62626663617069\">\n<img alt=\"Libraries.io dependency status for GitHub repo\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/bb66f00d4da21d725f99c0a0880371664d4adb08/68747470733a2f2f696d672e736869656c64732e696f2f6c6962726172696573696f2f6769746875622f6675737472612f62626663617069\"></p>\n<p>Web API and Python library for <a href=\"https://bbfc.co.uk/\" rel=\"nofollow\">BBFC</a>.</p>\n<h2>Public REST API</h2>\n<p><img alt=\"Mozilla HTTP Observatory Grade\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/23581c3fbf529fd5901243966b6e440f4709d6aa/68747470733a2f2f696d672e736869656c64732e696f2f6d6f7a696c6c612d6f627365727661746f72792f67726164652d73636f72652f626266636170692e6675737472612e636f2e756b3f7075626c697368\">\n<img alt=\"Security Headers\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f256aec5bc80c996b675d097927820fe7a20820f/68747470733a2f2f696d672e736869656c64732e696f2f73656375726974792d686561646572733f75726c3d6874747073253341253246253246626266636170692e6675737472612e636f2e756b2532466865616c74687a\">\n<a href=\"https://uptime.statuscake.com/?TestID=SgEZQ2v2KF\" rel=\"nofollow\" title=\"bbfcapi uptime report\">\n<img src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6d680e3b8a4d74cb4f997579d19e0c36267fdbeb/68747470733a2f2f6170702e73746174757363616b652e636f6d2f627574746f6e2f696e6465782e7068703f547261636b3d4b376a7577486658656c26446179733d372644657369676e3d36\">\n</a></p>\n<ul>\n<li>Hosted @ <a href=\"https://bbfcapi.fustra.co.uk\" rel=\"nofollow\">https://bbfcapi.fustra.co.uk</a></li>\n<li>Documentation @ <a href=\"https://bbfcapi.fustra.co.uk/redoc\" rel=\"nofollow\">https://bbfcapi.fustra.co.uk/redoc</a></li>\n<li>Alternative documentation @ <a href=\"https://bbfcapi.fustra.co.uk/docs\" rel=\"nofollow\">https://bbfcapi.fustra.co.uk/docs</a></li>\n</ul>\n<p>Try it now:</p>\n<pre><span class=\"gp\">$</span> curl <span class=\"s2\">\"https://bbfcapi.fustra.co.uk?title=interstellar&amp;year=2014\"</span>\n<span class=\"go\">{\"title\":\"INTERSTELLAR\",\"year\":2014,\"ageRating\":\"12\"}</span>\n</pre>\n<p>Use the Python client:</p>\n<pre><span class=\"gp\">$</span> pip install bbfcapi<span class=\"o\">[</span>apis<span class=\"o\">]</span>\n</pre>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">bbfcapi.apis</span> <span class=\"kn\">import</span> <span class=\"n\">top_search_result</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">top_search_result</span><span class=\"p\">(</span><span class=\"s2\">\"interstellar\"</span><span class=\"p\">,</span> <span class=\"mi\">2014</span><span class=\"p\">)</span>\n<span class=\"n\">Film</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s1\">'INTERSTELLAR'</span><span class=\"p\">,</span> <span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2014</span><span class=\"p\">,</span> <span class=\"n\">age_rating</span><span class=\"o\">=&lt;</span><span class=\"n\">AgeRating</span><span class=\"o\">.</span><span class=\"n\">AGE_12</span><span class=\"p\">:</span> <span class=\"s1\">'12'</span><span class=\"o\">&gt;</span><span class=\"p\">)</span>\n</pre>\n<h2>Project Overview</h2>\n<p>The project is divided into:</p>\n<ul>\n<li>\"I want to self-host the REST API demoed above\"\n<ul>\n<li>BBFCAPI - Python REST Web API</li>\n<li><code>pip install bbfcapi[app]</code></li>\n</ul>\n</li>\n<li>\"I want a Python library to talk to the REST API as demoed above\"\n<ul>\n<li>Python client for BBFCAPI</li>\n<li><code>pip install bbfcapi[api]</code> (async variant)</li>\n<li><code>pip install bbfcapi[apis]</code> (sync variant)</li>\n</ul>\n</li>\n<li>\"I want a Python library to talk to the BBFC website\"\n<ul>\n<li>Python library for the BBFC website</li>\n<li><code>pip install bbfcapi[lib]</code> (async variant)</li>\n<li><code>pip install bbfcapi[libs]</code> (sync variant)</li>\n</ul>\n</li>\n<li>\"I want to download the raw HTML web pages from BBFC\"\n<ul>\n<li>Python network client for the BBFC website</li>\n<li><code>pip install bbfcapi[client]</code> (async variant)</li>\n<li><code>pip install bbfcapi[clients]</code> (sync variant)</li>\n</ul>\n</li>\n<li>\"I want to parse the downloaded web pages from BBFC\"\n<ul>\n<li>Python HMTL parser for the BBFC web pages</li>\n<li><code>pip install bbfcapi</code></li>\n</ul>\n</li>\n</ul>\n<p>Sync versions use the <code>requests</code> library, while async variants use <code>aiohttp</code>.</p>\n<h2>High-Level REST Web API</h2>\n<p>Install <code>pip install bbfcapi[app]</code>.</p>\n<p>To use the REST API to query BBFC, first run the web server:</p>\n<pre><span class=\"gp\">$</span> uvicorn bbfcapi.app:app\n</pre>\n<p>Then, to query the API using the Python library <em>synchronously</em>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">bbfcapi.apis</span> <span class=\"kn\">import</span> <span class=\"n\">top_search_result</span>\n<span class=\"n\">top_search_result</span><span class=\"p\">(</span><span class=\"s2\">\"interstellar\"</span><span class=\"p\">,</span> <span class=\"mi\">2014</span><span class=\"p\">,</span> <span class=\"n\">base_url</span><span class=\"o\">=</span><span class=\"s2\">\"http://127.0.0.1:8000\"</span><span class=\"p\">)</span>\n</pre>\n<p>Or, to query the API using the Python library <em>asynchronously</em>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">bbfcapi.api</span> <span class=\"kn\">import</span> <span class=\"n\">top_search_result</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"k\">await</span> <span class=\"n\">top_search_result</span><span class=\"p\">(</span><span class=\"s2\">\"interstellar\"</span><span class=\"p\">,</span> <span class=\"mi\">2014</span><span class=\"p\">,</span> <span class=\"n\">base_url</span><span class=\"o\">=</span><span class=\"s2\">\"http://127.0.0.1:8000\"</span><span class=\"p\">))</span>\n</pre>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">from</span> <span class=\"nn\">bbfcapi.api</span> <span class=\"kn\">import</span> <span class=\"n\">top_search_result</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">(</span><span class=\"n\">top_search_result</span><span class=\"p\">(</span><span class=\"s2\">\"interstellar\"</span><span class=\"p\">,</span> <span class=\"mi\">2014</span><span class=\"p\">,</span> <span class=\"n\">base_url</span><span class=\"o\">=</span><span class=\"s2\">\"http://127.0.0.1:8000\"</span><span class=\"p\">)))</span>\n</pre>\n<p>Or, to query the API using <code>curl</code>:</p>\n<pre><span class=\"gp\">$</span> curl <span class=\"s2\">\"127.0.0.1:8000?title=interstellar&amp;year=2014\"</span>\n<span class=\"go\">{\"title\":\"INTERSTELLAR\",\"year\":2014,\"age_rating\":\"12\"}</span>\n</pre>\n<p>Or, to query the API from another web page:</p>\n<pre><span class=\"nx\">async</span> <span class=\"kd\">function</span> <span class=\"nx\">call</span><span class=\"p\">()</span>\n<span class=\"p\">{</span>\n    <span class=\"kr\">const</span> <span class=\"nx\">response</span> <span class=\"o\">=</span> <span class=\"nx\">await</span> <span class=\"nx\">fetch</span><span class=\"p\">(</span><span class=\"s1\">'http://127.0.0.1:8000/?title=interstellar&amp;year=2014'</span><span class=\"p\">);</span>\n    <span class=\"kr\">const</span> <span class=\"nx\">responseJson</span> <span class=\"o\">=</span> <span class=\"nx\">await</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">responseJson</span><span class=\"p\">));</span>\n<span class=\"p\">}</span>\n<span class=\"nx\">call</span><span class=\"p\">();</span>\n</pre>\n<p>Additional notes:</p>\n<ul>\n<li>HTTP 404 Not Found is returned when there is no film found.</li>\n<li>Browse documentation @ <a href=\"http://127.0.0.1:8000/redoc\" rel=\"nofollow\">http://127.0.0.1:8000/redoc</a>.</li>\n<li>Or, browse documentation @ <a href=\"http://127.0.0.1:8000/docs\" rel=\"nofollow\">http://127.0.0.1:8000/docs</a>.</li>\n<li>Samples on hosting this web application are available in the repository's <a href=\"/docs\" rel=\"nofollow\">/docs</a> folder.</li>\n</ul>\n<h2>High-Level Python Library</h2>\n<p>To use the library to get results from BBFC <em>synchronously</em>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">bbfcapi.lib</span> <span class=\"kn\">import</span> <span class=\"n\">top_search_result</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">top_search_result</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">\"interstellar\"</span><span class=\"p\">,</span> <span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2014</span><span class=\"p\">))</span>\n</pre>\n<p>To use the library to get results from BBFC <em>asynchronously</em>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">bbfcapi.lib</span> <span class=\"kn\">import</span> <span class=\"n\">top_search_result</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"k\">await</span> <span class=\"n\">top_search_result</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">\"interstellar\"</span><span class=\"p\">,</span> <span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2014</span><span class=\"p\">))</span>\n</pre>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">from</span> <span class=\"nn\">bbfcapi.lib</span> <span class=\"kn\">import</span> <span class=\"n\">top_search_result</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">(</span><span class=\"n\">top_search_result</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">\"interstellar\"</span><span class=\"p\">,</span> <span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2014</span><span class=\"p\">)))</span>\n</pre>\n<h2>Low-Level BBFC Network Client &amp; Parser</h2>\n<p>To use the library to get raw HTML pages from BBFC <em>synchronously</em>:</p>\n<pre><span class=\"gp\">$</span> pip install bbfcapi<span class=\"o\">[</span>clients<span class=\"o\">]</span><span class=\"sb\">`</span>\n</pre>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">bbfcapi.clients</span> <span class=\"kn\">import</span> <span class=\"n\">search</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">search</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">\"interstellar\"</span><span class=\"p\">,</span> <span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2014</span><span class=\"p\">))</span>\n</pre>\n<p>To use the library to get raw HTML pages from BBFC <em>asynchronously</em>:</p>\n<pre><span class=\"gp\">$</span> pip install bbfcapi<span class=\"o\">[</span>client<span class=\"o\">]</span><span class=\"sb\">`</span>\n</pre>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">bbfcapi.client</span> <span class=\"kn\">import</span> <span class=\"n\">search</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"k\">await</span> <span class=\"n\">search</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">\"interstellar\"</span><span class=\"p\">,</span> <span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2014</span><span class=\"p\">))</span>\n</pre>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">from</span> <span class=\"nn\">bbfcapi.client</span> <span class=\"kn\">import</span> <span class=\"n\">search</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">(</span><span class=\"n\">search</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">\"interstellar\"</span><span class=\"p\">,</span> <span class=\"n\">year</span><span class=\"o\">=</span><span class=\"mi\">2014</span><span class=\"p\">)))</span>\n</pre>\n<p>To use the library to parse raw HTML pages from BBFC:</p>\n<pre><span class=\"gp\">$</span> pip install bbfcapi<span class=\"o\">[</span>parser<span class=\"o\">]</span><span class=\"sb\">`</span>\n</pre>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">bbfcapi</span> <span class=\"kn\">import</span> <span class=\"n\">parser</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">parser</span><span class=\"o\">.</span><span class=\"n\">parse_top_search_result</span><span class=\"p\">(</span><span class=\"sa\">b</span><span class=\"s2\">\"&lt;BBFC search page byte-string&gt;\"</span><span class=\"p\">))</span>\n</pre>\n<h2>Development</h2>\n<ol>\n<li><code>poetry install</code> to set up the virtualenv (one-off)</li>\n<li><code>poetry run uvicorn bbfcapi.apiweb:app --reload</code> to run the web server</li>\n<li><code>make fix</code>, <code>make check</code>, and <code>make test</code> before committing</li>\n</ol>\n<p>There is also <code>make test-live</code> which will run live integration tests against\nthe BBFC website.</p>\n<h3>Contributing</h3>\n<p>Pull requests are welcome :)</p>\n<h3>Publishing</h3>\n<p>This application is published on PyPi.</p>\n<ol>\n<li>Ensure you have configured the PyPi repository with Poetry (one-off)</li>\n<li>Run <code>make release</code> to execute the check-list</li>\n</ol>\n<p>To publish to the test repository:</p>\n<ol>\n<li>Ensure you have configured the Test PyPi repository with Poetry (one-off)</li>\n<li><code>poetry publish --build -r testpypi</code> to upload to the test repository</li>\n</ol>\n<h2>Changelog</h2>\n<h3>Unpublished</h3>\n<p>...</p>\n<h3>v2.0.2 - 2020-03-22</h3>\n<ul>\n<li>Fix another missing dependency</li>\n</ul>\n<h3>v2.0.1 - 2020-03-22</h3>\n<ul>\n<li>Fix missing dependencies</li>\n</ul>\n<h3>v2.0.0 - 2020-03-22</h3>\n<ul>\n<li>Add Python client library for the BBFCAPI REST Web API</li>\n<li>Use camelCasing for JSON fields in the web API</li>\n<li>Reorganise entire package</li>\n</ul>\n<h3>v1.0.1 - 2020-01-19</h3>\n<ul>\n<li>Fix parsing 12A age ratings</li>\n</ul>\n<h3>v1.0.0 - 2020-01-19</h3>\n<ul>\n<li>First release of bbfcapi</li>\n</ul>\n\n          </div>"}, "last_serial": 6860561, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "112aa97721f0e5729baad110bf3e780c", "sha256": "bf1b0d2ab058273c3564e034edf25a35c9ff13c6fdfdb3d79331aae82f566744"}, "downloads": -1, "filename": "bbfcapi-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "112aa97721f0e5729baad110bf3e780c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.8,<4.0", "size": 16431, "upload_time": "2020-01-19T14:07:55", "upload_time_iso_8601": "2020-01-19T14:07:55.110763Z", "url": "https://files.pythonhosted.org/packages/77/bc/9c8de360ee2c7737ffb613df0021762715279ee45b16a1d838b410323ae0/bbfcapi-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f8bb6432bce55e1ae8ffdccf095f406f", "sha256": "635b17c430e9b3242aba75cb00842dddea0a23c2c4dbeef59530d2ab7566c8a1"}, "downloads": -1, "filename": "bbfcapi-1.0.0.tar.gz", "has_sig": false, "md5_digest": "f8bb6432bce55e1ae8ffdccf095f406f", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.8,<4.0", "size": 15895, "upload_time": "2020-01-19T14:07:57", "upload_time_iso_8601": "2020-01-19T14:07:57.724270Z", "url": "https://files.pythonhosted.org/packages/66/28/c8d857b34887f52c3ad9eb7faf96ef28c110be18b9fbda4eb445e7f2f037/bbfcapi-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "558d05c13ff30d408fcc85efa1f6638a", "sha256": "c5550a2edbedbc627bd13aeb2621e8c7657338bf55c9010e180749c553db73df"}, "downloads": -1, "filename": "bbfcapi-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "558d05c13ff30d408fcc85efa1f6638a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.8,<4.0", "size": 16486, "upload_time": "2020-01-19T14:36:53", "upload_time_iso_8601": "2020-01-19T14:36:53.273291Z", "url": "https://files.pythonhosted.org/packages/c7/20/41986b43ed2ea05d3704140db498ac04f849ae05df46cdad23006515edb2/bbfcapi-1.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e701b8bf1063fbf434118990a2228d38", "sha256": "c6418fa54b9892767f735d490a1be1d0916ae57972d554507f279cae66032be9"}, "downloads": -1, "filename": "bbfcapi-1.0.1.tar.gz", "has_sig": false, "md5_digest": "e701b8bf1063fbf434118990a2228d38", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.8,<4.0", "size": 15950, "upload_time": "2020-01-19T14:36:55", "upload_time_iso_8601": "2020-01-19T14:36:55.044075Z", "url": "https://files.pythonhosted.org/packages/3a/01/d0a094dfd8013727e5eb68d55b59fcc67bea4c0616fd1d4f6ab807c93933/bbfcapi-1.0.1.tar.gz", "yanked": false}], "2.0.0": [{"comment_text": "", "digests": {"md5": "3e29e9e75126d7167b17770b67fe1633", "sha256": "5129ed75855540d9fa44fb0a2f3ae3284153aa1efa50af00168b8a051191104f"}, "downloads": -1, "filename": "bbfcapi-2.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "3e29e9e75126d7167b17770b67fe1633", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.8,<4.0", "size": 19561, "upload_time": "2020-03-22T14:02:12", "upload_time_iso_8601": "2020-03-22T14:02:12.065340Z", "url": "https://files.pythonhosted.org/packages/e2/61/07182e7450898777d832df3304649b694be4fd12a4f4a052fc6735d1df52/bbfcapi-2.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bf1cba71a63c37e5fd1cc1a4a6807f2c", "sha256": "cd746a9b4b016e72d375550cd0b8a585b6ac8c843b2dfdd34818cba6ed01d484"}, "downloads": -1, "filename": "bbfcapi-2.0.0.tar.gz", "has_sig": false, "md5_digest": "bf1cba71a63c37e5fd1cc1a4a6807f2c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.8,<4.0", "size": 20006, "upload_time": "2020-03-22T14:02:13", "upload_time_iso_8601": "2020-03-22T14:02:13.617660Z", "url": "https://files.pythonhosted.org/packages/36/50/023e0d34e1b9f66377c73b3ac110992f69876c4fff820258b9508e919de4/bbfcapi-2.0.0.tar.gz", "yanked": false}], "2.0.0.dev1": [{"comment_text": "", "digests": {"md5": "5ae8e99e316c7baeddf706676156e8cb", "sha256": "d10ad6b99a1f0fdea7798a51fbba25f354b7fc98a528cefd2174c27731fe25ae"}, "downloads": -1, "filename": "bbfcapi-2.0.0.dev1-py3-none-any.whl", "has_sig": false, "md5_digest": "5ae8e99e316c7baeddf706676156e8cb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.8,<4.0", "size": 19303, "upload_time": "2020-03-22T13:11:54", "upload_time_iso_8601": "2020-03-22T13:11:54.254976Z", "url": "https://files.pythonhosted.org/packages/d6/7d/1cbdc1725a7c350c5684ebd05ccc451d10b9348369144ef8ec9a817d7288/bbfcapi-2.0.0.dev1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "21deb8e9a6e97eeec67881946f5c9e11", "sha256": "654807db9df1f8e7253613958a76672351e247e1ee436b2f0524e427f8e7a029"}, "downloads": -1, "filename": "bbfcapi-2.0.0.dev1.tar.gz", "has_sig": false, "md5_digest": "21deb8e9a6e97eeec67881946f5c9e11", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.8,<4.0", "size": 19787, "upload_time": "2020-03-22T13:11:55", "upload_time_iso_8601": "2020-03-22T13:11:55.870574Z", "url": "https://files.pythonhosted.org/packages/22/ab/0c52e30abb938099aabc0cc53f07070c3c02550bff4383dcb8dd5a2d1984/bbfcapi-2.0.0.dev1.tar.gz", "yanked": false}], "2.0.1": [{"comment_text": "", "digests": {"md5": "98f374382a73ec1e8465c4b46f1a4278", "sha256": "305f4d8de6a98583df97cf7d61178fa73f7eaee6754f078247fa2d3329c96c53"}, "downloads": -1, "filename": "bbfcapi-2.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "98f374382a73ec1e8465c4b46f1a4278", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.8,<4.0", "size": 19609, "upload_time": "2020-03-22T15:21:05", "upload_time_iso_8601": "2020-03-22T15:21:05.372237Z", "url": "https://files.pythonhosted.org/packages/6d/34/e4e22a154f32f96ce0c8c9eaf6844a4c3ac785878cd7f67309993f0b403a/bbfcapi-2.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "105564ed8587d01718e6224affc10f9c", "sha256": "bc0d51d288693bba4e2536b0399eef9f26a4c1f907321111fbd7c9356d989477"}, "downloads": -1, "filename": "bbfcapi-2.0.1.tar.gz", "has_sig": false, "md5_digest": "105564ed8587d01718e6224affc10f9c", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.8,<4.0", "size": 20204, "upload_time": "2020-03-22T15:21:06", "upload_time_iso_8601": "2020-03-22T15:21:06.602771Z", "url": "https://files.pythonhosted.org/packages/f0/37/8e2079c336fd7c503425890d9d72e5cc807bc2a26e4c75d8f2dc90d4e439/bbfcapi-2.0.1.tar.gz", "yanked": false}], "2.0.2": [{"comment_text": "", "digests": {"md5": "9fcf0c025b4dff9b0785749d9148b65c", "sha256": "29959c84a5f55007920803bf0418d1196c482d5aaddf7478a8c7feb434bfbd07"}, "downloads": -1, "filename": "bbfcapi-2.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "9fcf0c025b4dff9b0785749d9148b65c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.8,<4.0", "size": 19625, "upload_time": "2020-03-22T15:58:19", "upload_time_iso_8601": "2020-03-22T15:58:19.119175Z", "url": "https://files.pythonhosted.org/packages/1f/b9/7756cb3141b1b7e971e9fb4897c26583c34ddfb96ca04c1872b1e28046ab/bbfcapi-2.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "82f2d31699bd2330dd030060e60a990d", "sha256": "4bfbef29ac7caad109d7d67e0409f16e3087bf3e19e163be87b3cbf8bc969990"}, "downloads": -1, "filename": "bbfcapi-2.0.2.tar.gz", "has_sig": false, "md5_digest": "82f2d31699bd2330dd030060e60a990d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.8,<4.0", "size": 20237, "upload_time": "2020-03-22T15:58:20", "upload_time_iso_8601": "2020-03-22T15:58:20.473426Z", "url": "https://files.pythonhosted.org/packages/97/2e/47660c7ce166690ba001bf8d1c7146c3175a5ff351e765cae7858c2fd20c/bbfcapi-2.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "9fcf0c025b4dff9b0785749d9148b65c", "sha256": "29959c84a5f55007920803bf0418d1196c482d5aaddf7478a8c7feb434bfbd07"}, "downloads": -1, "filename": "bbfcapi-2.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "9fcf0c025b4dff9b0785749d9148b65c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.8,<4.0", "size": 19625, "upload_time": "2020-03-22T15:58:19", "upload_time_iso_8601": "2020-03-22T15:58:19.119175Z", "url": "https://files.pythonhosted.org/packages/1f/b9/7756cb3141b1b7e971e9fb4897c26583c34ddfb96ca04c1872b1e28046ab/bbfcapi-2.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "82f2d31699bd2330dd030060e60a990d", "sha256": "4bfbef29ac7caad109d7d67e0409f16e3087bf3e19e163be87b3cbf8bc969990"}, "downloads": -1, "filename": "bbfcapi-2.0.2.tar.gz", "has_sig": false, "md5_digest": "82f2d31699bd2330dd030060e60a990d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.8,<4.0", "size": 20237, "upload_time": "2020-03-22T15:58:20", "upload_time_iso_8601": "2020-03-22T15:58:20.473426Z", "url": "https://files.pythonhosted.org/packages/97/2e/47660c7ce166690ba001bf8d1c7146c3175a5ff351e765cae7858c2fd20c/bbfcapi-2.0.2.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:14:39 2020"}
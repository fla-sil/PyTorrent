{"info": {"author": "Xiaoyang Liu", "author_email": "admin@siujoeng-lau.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: Apache Software License", "Programming Language :: Python :: 3", "Topic :: Internet :: Name Service (DNS)", "Topic :: Security :: Cryptography", "Topic :: Utilities"], "description": "# Encrypted-DNS\n[![License](https://img.shields.io/github/license/Siujoeng-Lau/Encrypted-DNS.svg?style=for-the-badge)](https://github.com/Siujoeng-Lau/Encrypted-DNS/blob/master/LICENSE)\n[![Releases](https://img.shields.io/github/v/release/Siujoeng-Lau/Encrypted-DNS?style=for-the-badge)](https://github.com/Siujoeng-Lau/Encrypted-DNS/releases)\n[![Downloads](https://img.shields.io/pypi/dm/encrypted-dns?style=for-the-badge)](https://pypi.org/project/encrypted-dns/)\n\nEncrypted-DNS operates as a DNS server that forward DNS queries over UDP, TCP, TLS or HTTPS, thus preventing your device from DNS cache poisoning and censorship.\nIt could also cache DNS records to accelerate further queries, block specific client, and ignore particular domain names.\n\nLanguages: [English](https://github.com/Siujoeng-Lau/Encrypted-DNS/blob/master/README.md), [\u7b80\u4f53\u4e2d\u6587](https://github.com/Siujoeng-Lau/Encrypted-DNS/blob/master/README_zh.md).\n\n### Usage\n\n* Install [Python 3.7](https://www.python.org/downloads/).\n\n* Install package via `pip`.\n\n```\n$ python3 -m pip install encrypted-dns\n```\n\n* Generate and edit config file.\n\n```\n$ sudo encrypted-dns\n$ vim ~/.config/encrypted_dns/config.json\n```\n\n* Run Encrypted-DNS Resolver.\n\n```\n$ sudo encrypted-dns\n```\n\n* Test DNS Query.\n\n```\nLinux or MacOS:\n$ dig @127.0.0.1 www.google.com\n\nWindows:\n$ nslookup www.google.com 127.0.0.1\n```\n\n* Change DNS Address to `127.0.0.1`.\n\n### Configure\n\nEncrypted-DNS will generate a JSON file within its directory.\n\n#### Upstream DNS\n\nThe following JSON object is a typical Upstream DNS server.\n\nEncrypted-DNS supports three protocols: `udp`, `tcp`, `tls`, and `https`. \n\nYou may specify the ip address of DNS-over-HTTPS or DNS-over-TLS server to avoid DNS cache poisoning.\n\n```\n\"upstream_dns\": [\n    {\n        \"protocol\": \"https\",\n        \"address\": \"cloudflare-dns.com\",\n        \"ip\": \"1.0.0.1\",\n        \"port\": 443,\n        \"weight\": 0,\n        \"enable_http_proxy\": False,\n        \"proxy_host\": \"localhost\",\n        \"proxy_port\": 8001\n    },\n    {\n        \"protocol\": \"tls\",\n        \"address\": \"dns.google\",\n        \"ip\": \"8.8.4.4\",\n        \"port\": 853,\n        \"weight\": 100\n    },\n    {\n        \"protocol\": \"udp\",\n        \"address\": \"9.9.9.9\",\n        \"port\": 53,\n        \"weight\": 0\n    },\n    {\n        \"protocol\": \"tcp\",\n        \"address\": \"8.8.4.4\",\n        \"port\": 53,\n        \"weight\": 0\n    }\n}\n```\n\nIf you add multiple upstream servers, each DNS query will be forwarded to a server based on random selection or weighted random selection.\n\n#### Bootstrap DNS Address\n\nEncrypted-DNS will send a UDP DNS query to the bootstrap DNS server to retrieve the ip address of DNS-over-HTTPS or DNS-over-TLS server unless you specify it.\n```\n\"bootstrap_dns_address\": {\n    \"address\": \"1.0.0.1\",\n    \"port\": 53\n}\n```\n\n#### Client Blacklist\n\nYou may set the ip addresses of the clients which you want to ignore DNS queries sent by them.\n```\n\"client_blacklist\": [\n    \"1.0.0.1\",\n    \"172.100.100.100\"\n]\n```\n\n#### DNS Bypass\n\nYou may specify a list of domain names which you don\"t want to be forward to upstream DNS servers.\n\nQueries will be sent to the bootstrap DNS server.\n\n```\n\"dns_bypass\": [\n    \"captive.apple.com\",\n    \"connectivitycheck.gstatic.com\",\n    \"detectportal.firefox.com\",\n    \"msftconnecttest.com\",\n    \"nmcheck.gnome.org\",\n\n    \"pool.ntp.org\",\n    \"time.apple.com\",\n    \"time.asia.apple.com\",\n    \"time.euro.apple.com\",\n    \"time.nist.gov\",\n    \"time.windows.com\"\n]\n```\n\n#### DNS Bypass China\n\nIf you set `dns_bypass_china` to `true`, all the queries related to domain names in China will be redirected to the bootstrap address, which could be set to a public DNS server located in China.\n\n```\n\"dns_bypass_china\": true\n```\n\n#### DNS Cache\n\nIf you set `enable_cache` to `true`, responses will be cached based on the TTL.\n\n```\n\"enable_cache\": true\n```\n\n#### Hosts\n\nManually set A or CNAME record for specific domain name.\n\n```\n\"hosts\": {\n    \"www.instagram.com\": \"31.13.82.174\",\n    \"www.bbc.co.uk\": \"212.58.244.69\"\n}\n```\n\n#### Force SafeSearch\n\nEnable SafeSearch Mode for Google, Bing, and Youtube to filter harmful content.\n\n```\n\"force_safe_search\": true\n```\n\n#### Block Ads\n\nBlock common advertisement domain names.\n\n```\n\"block_ads\": true\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Siujoeng-Lau/Encrypted-DNS", "keywords": "dns doh dot tls https", "license": "Apache 2.0", "maintainer": "", "maintainer_email": "", "name": "encrypted-dns", "package_url": "https://pypi.org/project/encrypted-dns/", "platform": "", "project_url": "https://pypi.org/project/encrypted-dns/", "project_urls": {"Homepage": "https://github.com/Siujoeng-Lau/Encrypted-DNS"}, "release_url": "https://pypi.org/project/encrypted-dns/1.1.3/", "requires_dist": null, "requires_python": ">=3.6", "summary": "DNS-over-HTTPS and DNS-over-TLS server and forwarder.", "version": "1.1.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Encrypted-DNS</h1>\n<p><a href=\"https://github.com/Siujoeng-Lau/Encrypted-DNS/blob/master/LICENSE\" rel=\"nofollow\"><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/df1a22088011b1a451906750becdbd14dd01d803/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f5369756a6f656e672d4c61752f456e637279707465642d444e532e7376673f7374796c653d666f722d7468652d6261646765\"></a>\n<a href=\"https://github.com/Siujoeng-Lau/Encrypted-DNS/releases\" rel=\"nofollow\"><img alt=\"Releases\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/344a1d0f6c113aeb62e085ca3d30eff95c9dabcd/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f72656c656173652f5369756a6f656e672d4c61752f456e637279707465642d444e533f7374796c653d666f722d7468652d6261646765\"></a>\n<a href=\"https://pypi.org/project/encrypted-dns/\" rel=\"nofollow\"><img alt=\"Downloads\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5913144d90f312bab6177a51b249b28871284306/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f656e637279707465642d646e733f7374796c653d666f722d7468652d6261646765\"></a></p>\n<p>Encrypted-DNS operates as a DNS server that forward DNS queries over UDP, TCP, TLS or HTTPS, thus preventing your device from DNS cache poisoning and censorship.\nIt could also cache DNS records to accelerate further queries, block specific client, and ignore particular domain names.</p>\n<p>Languages: <a href=\"https://github.com/Siujoeng-Lau/Encrypted-DNS/blob/master/README.md\" rel=\"nofollow\">English</a>, <a href=\"https://github.com/Siujoeng-Lau/Encrypted-DNS/blob/master/README_zh.md\" rel=\"nofollow\">\u7b80\u4f53\u4e2d\u6587</a>.</p>\n<h3>Usage</h3>\n<ul>\n<li>\n<p>Install <a href=\"https://www.python.org/downloads/\" rel=\"nofollow\">Python 3.7</a>.</p>\n</li>\n<li>\n<p>Install package via <code>pip</code>.</p>\n</li>\n</ul>\n<pre><code>$ python3 -m pip install encrypted-dns\n</code></pre>\n<ul>\n<li>Generate and edit config file.</li>\n</ul>\n<pre><code>$ sudo encrypted-dns\n$ vim ~/.config/encrypted_dns/config.json\n</code></pre>\n<ul>\n<li>Run Encrypted-DNS Resolver.</li>\n</ul>\n<pre><code>$ sudo encrypted-dns\n</code></pre>\n<ul>\n<li>Test DNS Query.</li>\n</ul>\n<pre><code>Linux or MacOS:\n$ dig @127.0.0.1 www.google.com\n\nWindows:\n$ nslookup www.google.com 127.0.0.1\n</code></pre>\n<ul>\n<li>Change DNS Address to <code>127.0.0.1</code>.</li>\n</ul>\n<h3>Configure</h3>\n<p>Encrypted-DNS will generate a JSON file within its directory.</p>\n<h4>Upstream DNS</h4>\n<p>The following JSON object is a typical Upstream DNS server.</p>\n<p>Encrypted-DNS supports three protocols: <code>udp</code>, <code>tcp</code>, <code>tls</code>, and <code>https</code>.</p>\n<p>You may specify the ip address of DNS-over-HTTPS or DNS-over-TLS server to avoid DNS cache poisoning.</p>\n<pre><code>\"upstream_dns\": [\n    {\n        \"protocol\": \"https\",\n        \"address\": \"cloudflare-dns.com\",\n        \"ip\": \"1.0.0.1\",\n        \"port\": 443,\n        \"weight\": 0,\n        \"enable_http_proxy\": False,\n        \"proxy_host\": \"localhost\",\n        \"proxy_port\": 8001\n    },\n    {\n        \"protocol\": \"tls\",\n        \"address\": \"dns.google\",\n        \"ip\": \"8.8.4.4\",\n        \"port\": 853,\n        \"weight\": 100\n    },\n    {\n        \"protocol\": \"udp\",\n        \"address\": \"9.9.9.9\",\n        \"port\": 53,\n        \"weight\": 0\n    },\n    {\n        \"protocol\": \"tcp\",\n        \"address\": \"8.8.4.4\",\n        \"port\": 53,\n        \"weight\": 0\n    }\n}\n</code></pre>\n<p>If you add multiple upstream servers, each DNS query will be forwarded to a server based on random selection or weighted random selection.</p>\n<h4>Bootstrap DNS Address</h4>\n<p>Encrypted-DNS will send a UDP DNS query to the bootstrap DNS server to retrieve the ip address of DNS-over-HTTPS or DNS-over-TLS server unless you specify it.</p>\n<pre><code>\"bootstrap_dns_address\": {\n    \"address\": \"1.0.0.1\",\n    \"port\": 53\n}\n</code></pre>\n<h4>Client Blacklist</h4>\n<p>You may set the ip addresses of the clients which you want to ignore DNS queries sent by them.</p>\n<pre><code>\"client_blacklist\": [\n    \"1.0.0.1\",\n    \"172.100.100.100\"\n]\n</code></pre>\n<h4>DNS Bypass</h4>\n<p>You may specify a list of domain names which you don\"t want to be forward to upstream DNS servers.</p>\n<p>Queries will be sent to the bootstrap DNS server.</p>\n<pre><code>\"dns_bypass\": [\n    \"captive.apple.com\",\n    \"connectivitycheck.gstatic.com\",\n    \"detectportal.firefox.com\",\n    \"msftconnecttest.com\",\n    \"nmcheck.gnome.org\",\n\n    \"pool.ntp.org\",\n    \"time.apple.com\",\n    \"time.asia.apple.com\",\n    \"time.euro.apple.com\",\n    \"time.nist.gov\",\n    \"time.windows.com\"\n]\n</code></pre>\n<h4>DNS Bypass China</h4>\n<p>If you set <code>dns_bypass_china</code> to <code>true</code>, all the queries related to domain names in China will be redirected to the bootstrap address, which could be set to a public DNS server located in China.</p>\n<pre><code>\"dns_bypass_china\": true\n</code></pre>\n<h4>DNS Cache</h4>\n<p>If you set <code>enable_cache</code> to <code>true</code>, responses will be cached based on the TTL.</p>\n<pre><code>\"enable_cache\": true\n</code></pre>\n<h4>Hosts</h4>\n<p>Manually set A or CNAME record for specific domain name.</p>\n<pre><code>\"hosts\": {\n    \"www.instagram.com\": \"31.13.82.174\",\n    \"www.bbc.co.uk\": \"212.58.244.69\"\n}\n</code></pre>\n<h4>Force SafeSearch</h4>\n<p>Enable SafeSearch Mode for Google, Bing, and Youtube to filter harmful content.</p>\n<pre><code>\"force_safe_search\": true\n</code></pre>\n<h4>Block Ads</h4>\n<p>Block common advertisement domain names.</p>\n<pre><code>\"block_ads\": true\n</code></pre>\n\n          </div>"}, "last_serial": 6266099, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "888c7ab1af9f20a347b99a1d2c6fe687", "sha256": "d305dd1d1be0b80fb3c9f632276eaeb94a7fbd3bb79c2be9d21919a13ff88d8a"}, "downloads": -1, "filename": "encrypted_dns-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "888c7ab1af9f20a347b99a1d2c6fe687", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 22384, "upload_time": "2019-11-29T07:17:56", "upload_time_iso_8601": "2019-11-29T07:17:56.318419Z", "url": "https://files.pythonhosted.org/packages/8d/d4/76e528d86073f1814c262e47121c8b27df6195df59a21d3263791da35949/encrypted_dns-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a7540383170922254c4c029e47526257", "sha256": "2a123060284345120a8763a88b996387cc4733ec37b96835c27d5ef3807e8a6c"}, "downloads": -1, "filename": "encrypted-dns-1.0.0.tar.gz", "has_sig": false, "md5_digest": "a7540383170922254c4c029e47526257", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 13555, "upload_time": "2019-11-29T07:17:58", "upload_time_iso_8601": "2019-11-29T07:17:58.912075Z", "url": "https://files.pythonhosted.org/packages/a0/40/6c9064fb0741296755500f825a5a01b9933ac62b28261c8276ef7e6901a5/encrypted-dns-1.0.0.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "09f12a681bdd59c7749fa15eeac8ea4b", "sha256": "31668a2151c7483f0e0b0ee1e5f5511e924a847c1175978be3f66b49d31b0979"}, "downloads": -1, "filename": "encrypted_dns-1.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "09f12a681bdd59c7749fa15eeac8ea4b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 38032, "upload_time": "2019-12-08T15:50:12", "upload_time_iso_8601": "2019-12-08T15:50:12.005001Z", "url": "https://files.pythonhosted.org/packages/7d/93/a9eb779b0fad3f5172eed58e1e0be13a29fb2fbcda6be9be698fc9f35b7d/encrypted_dns-1.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3831a55b05c3e81c470af618a32ed90d", "sha256": "9d68600412fa88a59d113f527f5dda929e1d110174fdd8d2811a6c78809efe69"}, "downloads": -1, "filename": "encrypted-dns-1.1.0.tar.gz", "has_sig": false, "md5_digest": "3831a55b05c3e81c470af618a32ed90d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 29537, "upload_time": "2019-12-08T15:50:14", "upload_time_iso_8601": "2019-12-08T15:50:14.707198Z", "url": "https://files.pythonhosted.org/packages/b8/2b/beee9f85c7f5e69af682c0fdac6a2c883bfcf49c462d8eb98f95227c983b/encrypted-dns-1.1.0.tar.gz", "yanked": false}], "1.1.1": [{"comment_text": "", "digests": {"md5": "26e2cb1c723b140e411347af6c935020", "sha256": "754579ab3a1684c6c64e9c24ec03af50d12bd14322236ac50f8435fdf4fad1f4"}, "downloads": -1, "filename": "encrypted_dns-1.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "26e2cb1c723b140e411347af6c935020", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 39095, "upload_time": "2019-12-09T11:44:47", "upload_time_iso_8601": "2019-12-09T11:44:47.174783Z", "url": "https://files.pythonhosted.org/packages/27/3c/326c2ef294ab8e871c2bd3e48f72674c97dc3f536ba142951745e5d1f481/encrypted_dns-1.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a8f05d3c4f0b153a315622d17ad673e7", "sha256": "d0d05fa97683805dce8cc9aec02e6bf090fa2b50430520ace82145011427a72e"}, "downloads": -1, "filename": "encrypted-dns-1.1.1.tar.gz", "has_sig": false, "md5_digest": "a8f05d3c4f0b153a315622d17ad673e7", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 29542, "upload_time": "2019-12-09T11:44:49", "upload_time_iso_8601": "2019-12-09T11:44:49.042783Z", "url": "https://files.pythonhosted.org/packages/3a/7b/4659be515af3ec54dd8afe05603fa8f65f07a9652e8f66f06ca4485437af/encrypted-dns-1.1.1.tar.gz", "yanked": false}], "1.1.2": [{"comment_text": "", "digests": {"md5": "dcee56ba125204218e8ad1b973912abf", "sha256": "81695b039974e91610f1591d21a9706c6b9ce4914d53cc36848a403653121a11"}, "downloads": -1, "filename": "encrypted_dns-1.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "dcee56ba125204218e8ad1b973912abf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 36210, "upload_time": "2019-12-09T11:55:30", "upload_time_iso_8601": "2019-12-09T11:55:30.283768Z", "url": "https://files.pythonhosted.org/packages/fa/34/39ef9d3aa94493094e79e30f8f1835e3bd24d4c777e2200c55cbe6c1d471/encrypted_dns-1.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bb683a9d41f127668dded3147d1b2b8b", "sha256": "3f67ce6d56f3e021ea349eca29cfb0e2dcfc06c903de88063acef998a8291688"}, "downloads": -1, "filename": "encrypted-dns-1.1.2.tar.gz", "has_sig": false, "md5_digest": "bb683a9d41f127668dded3147d1b2b8b", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 29551, "upload_time": "2019-12-09T11:57:15", "upload_time_iso_8601": "2019-12-09T11:57:15.793181Z", "url": "https://files.pythonhosted.org/packages/ea/9b/a997b8d8ba2376a611120cae5c31a5743c4215f422fdababb6e542086832/encrypted-dns-1.1.2.tar.gz", "yanked": false}], "1.1.3": [{"comment_text": "", "digests": {"md5": "b066ab546bdc2cf1626b244b02c4980e", "sha256": "9f6df0a2e4528c4597262531aea829e06c88a218b40d2ccb331dfe1d9bdb5c8f"}, "downloads": -1, "filename": "encrypted_dns-1.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "b066ab546bdc2cf1626b244b02c4980e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 37338, "upload_time": "2019-12-09T12:14:00", "upload_time_iso_8601": "2019-12-09T12:14:00.879476Z", "url": "https://files.pythonhosted.org/packages/39/75/7bd41fa23ef3cc5ae0a0937057ddd02cc77bfc1dac721b565cadfb4e2351/encrypted_dns-1.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "dc94292ac35714408764e0f501f98b08", "sha256": "aaca07849165becaf6547fbbc5f57e995d96b879bb78e53ae57dd6c79c63cfc4"}, "downloads": -1, "filename": "encrypted-dns-1.1.3.tar.gz", "has_sig": false, "md5_digest": "dc94292ac35714408764e0f501f98b08", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 29588, "upload_time": "2019-12-09T12:14:02", "upload_time_iso_8601": "2019-12-09T12:14:02.720942Z", "url": "https://files.pythonhosted.org/packages/52/1b/61073263ce7677505880d5f7567f332873b354f85dd82211c7f3c38ecb2a/encrypted-dns-1.1.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b066ab546bdc2cf1626b244b02c4980e", "sha256": "9f6df0a2e4528c4597262531aea829e06c88a218b40d2ccb331dfe1d9bdb5c8f"}, "downloads": -1, "filename": "encrypted_dns-1.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "b066ab546bdc2cf1626b244b02c4980e", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 37338, "upload_time": "2019-12-09T12:14:00", "upload_time_iso_8601": "2019-12-09T12:14:00.879476Z", "url": "https://files.pythonhosted.org/packages/39/75/7bd41fa23ef3cc5ae0a0937057ddd02cc77bfc1dac721b565cadfb4e2351/encrypted_dns-1.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "dc94292ac35714408764e0f501f98b08", "sha256": "aaca07849165becaf6547fbbc5f57e995d96b879bb78e53ae57dd6c79c63cfc4"}, "downloads": -1, "filename": "encrypted-dns-1.1.3.tar.gz", "has_sig": false, "md5_digest": "dc94292ac35714408764e0f501f98b08", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 29588, "upload_time": "2019-12-09T12:14:02", "upload_time_iso_8601": "2019-12-09T12:14:02.720942Z", "url": "https://files.pythonhosted.org/packages/52/1b/61073263ce7677505880d5f7567f332873b354f85dd82211c7f3c38ecb2a/encrypted-dns-1.1.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:46:26 2020"}
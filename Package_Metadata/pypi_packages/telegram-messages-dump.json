{"info": {"author": "Kostya Kravets", "author_email": "kostikkv@gmail.com", "bugtrack_url": null, "classifiers": ["Environment :: Console", "Intended Audience :: Developers", "Intended Audience :: System Administrators", "License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 3"], "description": "# Telegram Messages Dump \n[![GitHub version](https://badge.fury.io/gh/Kosat%2Ftelegram-messages-dump.svg)](https://github.com/Kosat/telegram-messages-dump/releases)\n[![Build Status](https://travis-ci.org/Kosat/telegram-messages-dump.svg?branch=master)](https://travis-ci.org/Kosat/telegram-messages-dump)\n\nThis is a simple console tool for dumping message history from a Telegram chat into a __jsonl__, __csv__ or plain __text__ file. \n## Installation\n**From sources:**\nFetch the latest sources with git:\n```\ngit clone https://github.com/Kosat/telegram-messages-dump.git\n```\nThen run directly from sources\n```\ncd telegram-messages-dump\npython -m telegram_messages_dump\n```\nOr run after installing locally\n```\npython setup.py install\ntelegram-messages-dump\n```\n**Binaries:**\n\nBinaries for Linux, Windows ~~and MacOS~~ are available in [Releases](https://github.com/Kosat/telegram-messages-dump/releases) section.\n\n## Usage\n\nMandatory parameters are <chat_name> e.g. @Python, @CSharp or a title of a dialogue, as seen in the UI, and <phone_num> - a telephone number. A phone number is needed for authentication and will not be stored anywhere. After the first successful authorization it will create telegram_chat_dump.session file containing auth token. The information from this file is being reused in next runs. If this is not a desirable behaviour, use -cl flag to delete session file on exit.\n>Note1: You can use telegram dialogue multi-word title like so: `--chat=\"Telegram Geeks\"` with double quotes. However, when using multi-word title (rather than @channel_name), you need to join the channel first. Only then you will be able to dump it. This way you can dump __private__ dialogues which doesn't have @channel_name.\n\n>Note2: For private channels you can also pass an invitation link as chat name. E.g. `--chat=\"https://t.me/joinchat/XXXXXYYYYZZZZZ\"`.\n__IMPORTANT__: It only works when you (the logged-in user) has already joined the private chat that the invitation link corresponds to.\n\n```\ntelegram-messages-dump -c <chat_name> -p <phone_num> [-l <count>] [-o <file>] [-cl]\n\nWhere:\n    -c,  --chat     Unique name of a channel/chat. E.g. @python.\n    -p,  --phone    Phone number. E.g. +380503211234.\n    -o,  --out      Output file name or full path. (Default: telegram_<chatName>.log)\n    -e,  --exp      Exporter name. text | jsonl | csv (Default: 'text')\n      ,  --continue Continue previous dump. Supports optional integer param <message_id>.\n    -l,  --limit    Number of the latest messages to dump, 0 means no limit. (Default: 100)\n    -cl, --clean    Clean session sensitive data (e.g. auth token) on exit. (Default: False)\n    -v,  --verbose  Verbose mode. (Default: False)\n      ,  --addbom   Add BOM to the beginning of the output file. (Default: False)\n    -h,  --help     Show this help message and exit.\n```\n![telegram-dump-gif](https://user-images.githubusercontent.com/153023/36110898-fda2e7f6-102c-11e8-9475-471063004be8.gif)\n\n## Increamental/Continuous mode\nAfter dumping messages into an output file, `telegram-messages-dump` also creates a **meta file**\nwith the latest (biggest) message id that was successfully saved into an output file.\nFor instance, if messages with ids 10..100 were saved in output file, the metafile will contain the `\"latest_message_id\": 100` record in it.\n\n- If you want to update an existing dump file use `--continue` option without a parameter value. In this case `telegram-messages-dump` will read the latest message id from a meta file. In the sample below it will be `C:\\temp\\xyz.txt.meta`:\n  ```\n  telegram-messages-dump -p... -oC:\\temp\\xyz.txt  --continue\n  ```\n  In this case `telegram-messages-dump` will look for `C:\\temp\\xyz.txt.meta` file and try to incrimentally update the contents of `C:\\temp\\xyz.txt` with new messages.\n>Note: In incremental mode when metafile exists `--exp` and `--chat` will be taken from the meta file and must NOT be specified explicitely as parameters. `--limit` setting has to be omitted.\n\n- Otherwise, if you DON'T have a metafile or want to ignore it, you can still open your dump file and find the last message's id at the bottom of the file and then specify it explicitly as `--continue=<LAST_MSG_ID>` command, along with the correct `--exp` and `--chat` that were used to generate the existing dump file.\n  ```\n  telegram-messages-dump -p... -oC:\\temp\\xyz.txt --continue=100500 --exp=jsonl --chat=@geekschat\n  ```\nIn both aforementioned cases, `telegram-messages-dump` will open the existing `C:\\temp\\xyz.txt` file and append the newer messages that were posted in the telegram chat since the message with the message with id 100500 was created.\n>Note1: There must be `=` sign between the `--continue` command name and integer message id.\n\n>Note2: In incremental mode without metafile,  `--out`, `--exp` and `--chat` must be specified explicitely as parameters. `--limit` setting has to be omitted.\n\n## Notes\n\n* This tool relies on [Telethon](https://github.com/LonamiWebs/Telethon) - a Telegram client implementation in Python.\n\n## Plugins\n\nOutput format is managed by *exporter* plugins. Currently there are two exporters available: **text**, **jsonl** and **csv**.\nExporters reside in `./exporters` subfolder. \nBasically an exporter is a class that implements three methods:\n- `format(...)` that extracts all necessary data from a message and stringifies it.\n- `begin_final_file(...)` that allows an exporter to write a preamble to a resulting output file.\n\nTo use a custom exporter. Place you `.py` file with a class implementing those 3 methods into `./exporters` subfolder and specify its name in `--exp <exporter_name>` setting. \n\n>Note1: the class name **MUST** exactly match the file name of its `.py` file. This very same name is used as an argument for the `--exp` setting.\n\n>Note2: in `.vscode` subfolder you can find the default settings that I use for debugging this project.  \n\n## License\n\nThis project is licensed under the [MIT license](LICENSE).", "description_content_type": "text/markdown", "docs_url": null, "download_url": "https://github.com/Kosat/telegram-messages-dump/releases", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Kosat/telegram-messages-dump", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "telegram-messages-dump", "package_url": "https://pypi.org/project/telegram-messages-dump/", "platform": "", "project_url": "https://pypi.org/project/telegram-messages-dump/", "project_urls": {"Download": "https://github.com/Kosat/telegram-messages-dump/releases", "Homepage": "https://github.com/Kosat/telegram-messages-dump"}, "release_url": "https://pypi.org/project/telegram-messages-dump/0.4/", "requires_dist": null, "requires_python": "", "summary": "Telegram Messages Dump console utility.", "version": "0.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Telegram Messages Dump</h1>\n<p><a href=\"https://github.com/Kosat/telegram-messages-dump/releases\" rel=\"nofollow\"><img alt=\"GitHub version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9b6a20e46faf318b8d17c7d2b666852fe90c8918/68747470733a2f2f62616467652e667572792e696f2f67682f4b6f73617425324674656c656772616d2d6d657373616765732d64756d702e737667\"></a>\n<a href=\"https://travis-ci.org/Kosat/telegram-messages-dump\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/3d66dd93863227fc8e6c5d00a41bbaccb6e399c0/68747470733a2f2f7472617669732d63692e6f72672f4b6f7361742f74656c656772616d2d6d657373616765732d64756d702e7376673f6272616e63683d6d6173746572\"></a></p>\n<p>This is a simple console tool for dumping message history from a Telegram chat into a <strong>jsonl</strong>, <strong>csv</strong> or plain <strong>text</strong> file.</p>\n<h2>Installation</h2>\n<p><strong>From sources:</strong>\nFetch the latest sources with git:</p>\n<pre><code>git clone https://github.com/Kosat/telegram-messages-dump.git\n</code></pre>\n<p>Then run directly from sources</p>\n<pre><code>cd telegram-messages-dump\npython -m telegram_messages_dump\n</code></pre>\n<p>Or run after installing locally</p>\n<pre><code>python setup.py install\ntelegram-messages-dump\n</code></pre>\n<p><strong>Binaries:</strong></p>\n<p>Binaries for Linux, Windows <del>and MacOS</del> are available in <a href=\"https://github.com/Kosat/telegram-messages-dump/releases\" rel=\"nofollow\">Releases</a> section.</p>\n<h2>Usage</h2>\n<p>Mandatory parameters are &lt;chat_name&gt; e.g. @Python, @CSharp or a title of a dialogue, as seen in the UI, and &lt;phone_num&gt; - a telephone number. A phone number is needed for authentication and will not be stored anywhere. After the first successful authorization it will create telegram_chat_dump.session file containing auth token. The information from this file is being reused in next runs. If this is not a desirable behaviour, use -cl flag to delete session file on exit.</p>\n<blockquote>\n<p>Note1: You can use telegram dialogue multi-word title like so: <code>--chat=\"Telegram Geeks\"</code> with double quotes. However, when using multi-word title (rather than @channel_name), you need to join the channel first. Only then you will be able to dump it. This way you can dump <strong>private</strong> dialogues which doesn't have @channel_name.</p>\n</blockquote>\n<blockquote>\n<p>Note2: For private channels you can also pass an invitation link as chat name. E.g. <code>--chat=\"https://t.me/joinchat/XXXXXYYYYZZZZZ\"</code>.\n<strong>IMPORTANT</strong>: It only works when you (the logged-in user) has already joined the private chat that the invitation link corresponds to.</p>\n</blockquote>\n<pre><code>telegram-messages-dump -c &lt;chat_name&gt; -p &lt;phone_num&gt; [-l &lt;count&gt;] [-o &lt;file&gt;] [-cl]\n\nWhere:\n    -c,  --chat     Unique name of a channel/chat. E.g. @python.\n    -p,  --phone    Phone number. E.g. +380503211234.\n    -o,  --out      Output file name or full path. (Default: telegram_&lt;chatName&gt;.log)\n    -e,  --exp      Exporter name. text | jsonl | csv (Default: 'text')\n      ,  --continue Continue previous dump. Supports optional integer param &lt;message_id&gt;.\n    -l,  --limit    Number of the latest messages to dump, 0 means no limit. (Default: 100)\n    -cl, --clean    Clean session sensitive data (e.g. auth token) on exit. (Default: False)\n    -v,  --verbose  Verbose mode. (Default: False)\n      ,  --addbom   Add BOM to the beginning of the output file. (Default: False)\n    -h,  --help     Show this help message and exit.\n</code></pre>\n<p><img alt=\"telegram-dump-gif\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/30cfedee0a80b8669d96c31a3434ff210ebf660a/68747470733a2f2f757365722d696d616765732e67697468756275736572636f6e74656e742e636f6d2f3135333032332f33363131303839382d66646132653766362d313032632d313165382d393437352d3437313036333030346265382e676966\"></p>\n<h2>Increamental/Continuous mode</h2>\n<p>After dumping messages into an output file, <code>telegram-messages-dump</code> also creates a <strong>meta file</strong>\nwith the latest (biggest) message id that was successfully saved into an output file.\nFor instance, if messages with ids 10..100 were saved in output file, the metafile will contain the <code>\"latest_message_id\": 100</code> record in it.</p>\n<ul>\n<li>If you want to update an existing dump file use <code>--continue</code> option without a parameter value. In this case <code>telegram-messages-dump</code> will read the latest message id from a meta file. In the sample below it will be <code>C:\\temp\\xyz.txt.meta</code>:\n<pre><code>telegram-messages-dump -p... -oC:\\temp\\xyz.txt  --continue\n</code></pre>\nIn this case <code>telegram-messages-dump</code> will look for <code>C:\\temp\\xyz.txt.meta</code> file and try to incrimentally update the contents of <code>C:\\temp\\xyz.txt</code> with new messages.</li>\n</ul>\n<blockquote>\n<p>Note: In incremental mode when metafile exists <code>--exp</code> and <code>--chat</code> will be taken from the meta file and must NOT be specified explicitely as parameters. <code>--limit</code> setting has to be omitted.</p>\n</blockquote>\n<ul>\n<li>Otherwise, if you DON'T have a metafile or want to ignore it, you can still open your dump file and find the last message's id at the bottom of the file and then specify it explicitly as <code>--continue=&lt;LAST_MSG_ID&gt;</code> command, along with the correct <code>--exp</code> and <code>--chat</code> that were used to generate the existing dump file.\n<pre><code>telegram-messages-dump -p... -oC:\\temp\\xyz.txt --continue=100500 --exp=jsonl --chat=@geekschat\n</code></pre>\n</li>\n</ul>\n<p>In both aforementioned cases, <code>telegram-messages-dump</code> will open the existing <code>C:\\temp\\xyz.txt</code> file and append the newer messages that were posted in the telegram chat since the message with the message with id 100500 was created.</p>\n<blockquote>\n<p>Note1: There must be <code>=</code> sign between the <code>--continue</code> command name and integer message id.</p>\n</blockquote>\n<blockquote>\n<p>Note2: In incremental mode without metafile,  <code>--out</code>, <code>--exp</code> and <code>--chat</code> must be specified explicitely as parameters. <code>--limit</code> setting has to be omitted.</p>\n</blockquote>\n<h2>Notes</h2>\n<ul>\n<li>This tool relies on <a href=\"https://github.com/LonamiWebs/Telethon\" rel=\"nofollow\">Telethon</a> - a Telegram client implementation in Python.</li>\n</ul>\n<h2>Plugins</h2>\n<p>Output format is managed by <em>exporter</em> plugins. Currently there are two exporters available: <strong>text</strong>, <strong>jsonl</strong> and <strong>csv</strong>.\nExporters reside in <code>./exporters</code> subfolder.\nBasically an exporter is a class that implements three methods:</p>\n<ul>\n<li><code>format(...)</code> that extracts all necessary data from a message and stringifies it.</li>\n<li><code>begin_final_file(...)</code> that allows an exporter to write a preamble to a resulting output file.</li>\n</ul>\n<p>To use a custom exporter. Place you <code>.py</code> file with a class implementing those 3 methods into <code>./exporters</code> subfolder and specify its name in <code>--exp &lt;exporter_name&gt;</code> setting.</p>\n<blockquote>\n<p>Note1: the class name <strong>MUST</strong> exactly match the file name of its <code>.py</code> file. This very same name is used as an argument for the <code>--exp</code> setting.</p>\n</blockquote>\n<blockquote>\n<p>Note2: in <code>.vscode</code> subfolder you can find the default settings that I use for debugging this project.</p>\n</blockquote>\n<h2>License</h2>\n<p>This project is licensed under the <a href=\"LICENSE\" rel=\"nofollow\">MIT license</a>.</p>\n\n          </div>"}, "last_serial": 5005024, "releases": {"0.4": [{"comment_text": "", "digests": {"md5": "dd30b6760fa595fbdb8d486c40b8f33c", "sha256": "dc3482136cf93fa619d633737bf475fe740a70ca1b667f5b72603bebdaf62b92"}, "downloads": -1, "filename": "telegram-messages-dump-0.4.tar.gz", "has_sig": false, "md5_digest": "dd30b6760fa595fbdb8d486c40b8f33c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17870, "upload_time": "2019-03-29T20:44:13", "upload_time_iso_8601": "2019-03-29T20:44:13.946996Z", "url": "https://files.pythonhosted.org/packages/44/47/8057378196f9eebc8ca6b29d8c69eb6649001132e528fbdb23436a2da827/telegram-messages-dump-0.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "dd30b6760fa595fbdb8d486c40b8f33c", "sha256": "dc3482136cf93fa619d633737bf475fe740a70ca1b667f5b72603bebdaf62b92"}, "downloads": -1, "filename": "telegram-messages-dump-0.4.tar.gz", "has_sig": false, "md5_digest": "dd30b6760fa595fbdb8d486c40b8f33c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17870, "upload_time": "2019-03-29T20:44:13", "upload_time_iso_8601": "2019-03-29T20:44:13.946996Z", "url": "https://files.pythonhosted.org/packages/44/47/8057378196f9eebc8ca6b29d8c69eb6649001132e528fbdb23436a2da827/telegram-messages-dump-0.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:56:55 2020"}
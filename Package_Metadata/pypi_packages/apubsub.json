{"info": {"author": "Anton Kachurin", "author_email": "katchuring@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# APubSub\n\n[![Build Status](https://travis-ci.org/outcatcher/apubsub.svg?branch=master)](https://travis-ci.org/outcatcher/apubsub)\n[![Coverage](https://codecov.io/gh/outcatcher/apubsub/branch/master/graph/badge.svg)](https://codecov.io/gh/outcatcher/apubsub)\n[![PyPI version](https://img.shields.io/pypi/v/apubsub.svg)](https://pypi.org/project/apubsub/)\n![GitHub](https://img.shields.io/github/license/outcatcher/apubsub)\n\nSimple, single-purpose message service implementation.\n\n### Installation\n\n_Python versin 3.7+ required_\n\nJust install it with pip: `pip install apubsub`\n\n### Usage\n\n\n```python\nfrom apubsub import Service\n\nservice = Service()\n\n# Note that service is started in stand-alone process\n# so start it as early as possible to minimize resource pickling*\nservice.start()\n\nclass Klass:\n\n    def __init__(self):\n        self.sub = service.get_client()\n        await self.sub.start_consuming()  # subscriber should be started\n        \n        self.pub = service.get_client()  # if used only as publisher, it is not required\n\n    async def do_smth(self):\n        data = await self.sub.get(.1)  # fetch received data with timeout\n        if data is None:\n            print(\"No data received by subscriber\")\n            return\n        print(data)\n    \n    async def do_smth_else(self):\n        msg = \"some string data\"\n        await self.pub.publish(\"topic\", msg)\n\n    async def use_iter_get(self):\n        async for data in self.sub.get_iter():\n            print(f\"Data received: {data}\")\n\n```\n\n_Check out more examples in tests_\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/outcatcher/apubsub", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "apubsub", "package_url": "https://pypi.org/project/apubsub/", "platform": "", "project_url": "https://pypi.org/project/apubsub/", "project_urls": {"Homepage": "https://github.com/outcatcher/apubsub", "Repository": "https://github.com/outcatcher/apubsub"}, "release_url": "https://pypi.org/project/apubsub/0.2.3/", "requires_dist": ["uvloop (>=0.14.0,<0.15.0); sys_platform == \"linux\""], "requires_python": ">=3.7,<4.0", "summary": "Message service implementing publisher/subscriber pattern", "version": "0.2.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>APubSub</h1>\n<p><a href=\"https://travis-ci.org/outcatcher/apubsub\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ba66626b14f1efe474a46fd650f0991d5207ea78/68747470733a2f2f7472617669732d63692e6f72672f6f7574636174636865722f617075627375622e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/outcatcher/apubsub\" rel=\"nofollow\"><img alt=\"Coverage\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/de4ae3169b1a3c0af2c6a6554b4c50a54f1b9325/68747470733a2f2f636f6465636f762e696f2f67682f6f7574636174636865722f617075627375622f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<a href=\"https://pypi.org/project/apubsub/\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2660ea9356dca3e1e4089979a385b2212b189370/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f617075627375622e737667\"></a>\n<img alt=\"GitHub\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2764e9b09ac36e2446f05e95fb4ffc63512c1977/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6f7574636174636865722f61707562737562\"></p>\n<p>Simple, single-purpose message service implementation.</p>\n<h3>Installation</h3>\n<p><em>Python versin 3.7+ required</em></p>\n<p>Just install it with pip: <code>pip install apubsub</code></p>\n<h3>Usage</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">apubsub</span> <span class=\"kn\">import</span> <span class=\"n\">Service</span>\n\n<span class=\"n\">service</span> <span class=\"o\">=</span> <span class=\"n\">Service</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Note that service is started in stand-alone process</span>\n<span class=\"c1\"># so start it as early as possible to minimize resource pickling*</span>\n<span class=\"n\">service</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Klass</span><span class=\"p\">:</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">sub</span> <span class=\"o\">=</span> <span class=\"n\">service</span><span class=\"o\">.</span><span class=\"n\">get_client</span><span class=\"p\">()</span>\n        <span class=\"k\">await</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">sub</span><span class=\"o\">.</span><span class=\"n\">start_consuming</span><span class=\"p\">()</span>  <span class=\"c1\"># subscriber should be started</span>\n        \n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">pub</span> <span class=\"o\">=</span> <span class=\"n\">service</span><span class=\"o\">.</span><span class=\"n\">get_client</span><span class=\"p\">()</span>  <span class=\"c1\"># if used only as publisher, it is not required</span>\n\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">do_smth</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">sub</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"o\">.</span><span class=\"mi\">1</span><span class=\"p\">)</span>  <span class=\"c1\"># fetch received data with timeout</span>\n        <span class=\"k\">if</span> <span class=\"n\">data</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"No data received by subscriber\"</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n    \n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">do_smth_else</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">msg</span> <span class=\"o\">=</span> <span class=\"s2\">\"some string data\"</span>\n        <span class=\"k\">await</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">pub</span><span class=\"o\">.</span><span class=\"n\">publish</span><span class=\"p\">(</span><span class=\"s2\">\"topic\"</span><span class=\"p\">,</span> <span class=\"n\">msg</span><span class=\"p\">)</span>\n\n    <span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">use_iter_get</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">async</span> <span class=\"k\">for</span> <span class=\"n\">data</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">sub</span><span class=\"o\">.</span><span class=\"n\">get_iter</span><span class=\"p\">():</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">\"Data received: </span><span class=\"si\">{</span><span class=\"n\">data</span><span class=\"si\">}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n</pre>\n<p><em>Check out more examples in tests</em></p>\n\n          </div>"}, "last_serial": 6842500, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "200db5e2c75bf3c9c35e110b4d093875", "sha256": "b4706c2d894ccc73c511286abb6210a64ed587ee9f478a16e3486099caeada94"}, "downloads": -1, "filename": "apubsub-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "200db5e2c75bf3c9c35e110b4d093875", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 7975, "upload_time": "2020-01-14T15:30:23", "upload_time_iso_8601": "2020-01-14T15:30:23.408302Z", "url": "https://files.pythonhosted.org/packages/12/5e/0a5d46565d0ffe74dfe161ee445b8fbd3a48ea38fd9c3c4c56192a482268/apubsub-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "534cead43c8090191390fe2bc7036e7d", "sha256": "6dd1095a08a17f63080f55c8e80bb2e31fc7d71f91164828b4f38ff18b5beddd"}, "downloads": -1, "filename": "apubsub-0.1.0.tar.gz", "has_sig": false, "md5_digest": "534cead43c8090191390fe2bc7036e7d", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 6529, "upload_time": "2020-01-14T15:30:26", "upload_time_iso_8601": "2020-01-14T15:30:26.021044Z", "url": "https://files.pythonhosted.org/packages/cb/fa/7eac5cd63b60c268d97df86e957fe7e71639b310fc57bd15a818e3feeb60/apubsub-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "64eb2cdb24f3d2d8f9e060c7b2f48190", "sha256": "9340f4676bcf5d0cc68bffef20757e935649c6bb7ece84a4762032bbed9abcf0"}, "downloads": -1, "filename": "apubsub-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "64eb2cdb24f3d2d8f9e060c7b2f48190", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 8034, "upload_time": "2020-01-15T19:25:50", "upload_time_iso_8601": "2020-01-15T19:25:50.163382Z", "url": "https://files.pythonhosted.org/packages/97/d2/14a427437305696ca39f1fc72b71c5053247fd07e0fa0699ee30f0498dc2/apubsub-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1a7972ef4fa3675402e512172a831353", "sha256": "3d2074ad19cac18af346218085b8e0f879479b412a732e7797ad5c6ac7ad1fa5"}, "downloads": -1, "filename": "apubsub-0.1.1.tar.gz", "has_sig": false, "md5_digest": "1a7972ef4fa3675402e512172a831353", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 6708, "upload_time": "2020-01-15T19:25:51", "upload_time_iso_8601": "2020-01-15T19:25:51.181860Z", "url": "https://files.pythonhosted.org/packages/aa/3b/3d4e6136aeaace2505da727b50c72f14754024f68deff972b0d2ee10014b/apubsub-0.1.1.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "e9e75652faaa474b906efa5a6af017eb", "sha256": "eb9f37a8947baa151a4b0cac331461ae8c6aad2f1a5bed53dcd8d9cec9ae55e6"}, "downloads": -1, "filename": "apubsub-0.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "e9e75652faaa474b906efa5a6af017eb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 8222, "upload_time": "2020-01-16T13:31:22", "upload_time_iso_8601": "2020-01-16T13:31:22.104807Z", "url": "https://files.pythonhosted.org/packages/ee/25/a4e0251593c9f641c47ec5a2625bd1d9ac6ce7ace34b2b67fa5650e60d6f/apubsub-0.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3e44b7f89a1f0e4ca4511b8f2beacfd6", "sha256": "6d44d177bc2d0445ff3c62ea6e7ad59035280d5dd08204995ee492fe3bc71ca8"}, "downloads": -1, "filename": "apubsub-0.2.0.tar.gz", "has_sig": false, "md5_digest": "3e44b7f89a1f0e4ca4511b8f2beacfd6", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 6849, "upload_time": "2020-01-16T13:31:23", "upload_time_iso_8601": "2020-01-16T13:31:23.487501Z", "url": "https://files.pythonhosted.org/packages/3e/7c/a78a3a6c515a462d9bf22968479066d8a1c7b727c2c3822cd57585ec0cbd/apubsub-0.2.0.tar.gz", "yanked": false}], "0.2.1": [{"comment_text": "", "digests": {"md5": "1ff9f9ef5fd78bb388a6b9b1f601202d", "sha256": "90479e805783d3ab6c8207e1fd565c1a1aac38117317448bfe030509b59a9415"}, "downloads": -1, "filename": "apubsub-0.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "1ff9f9ef5fd78bb388a6b9b1f601202d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 8296, "upload_time": "2020-01-17T21:04:22", "upload_time_iso_8601": "2020-01-17T21:04:22.190362Z", "url": "https://files.pythonhosted.org/packages/61/2b/003915ea51a4580a9f50e606018ceb6f2ccb93bf2982ba71e6dd5d605e40/apubsub-0.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "dbd7848c8093d530e06c2687c0b75730", "sha256": "50af3f283b87d0770e131de0e12951f61387a876f5a5deb75a367911de75f52d"}, "downloads": -1, "filename": "apubsub-0.2.1.tar.gz", "has_sig": false, "md5_digest": "dbd7848c8093d530e06c2687c0b75730", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 7109, "upload_time": "2020-01-17T21:04:23", "upload_time_iso_8601": "2020-01-17T21:04:23.635263Z", "url": "https://files.pythonhosted.org/packages/32/32/b3278c94deb60d65c1e5270d5dabca1f0713b1bc5dc1d86939de5b833b27/apubsub-0.2.1.tar.gz", "yanked": false}], "0.2.2": [{"comment_text": "", "digests": {"md5": "cd55d2be5e2d9c387c4580b67d771725", "sha256": "b5a84daf41d1456f6fa3fc3868e71f8ea60096ecf3ece805f82d51e8f90d3b41"}, "downloads": -1, "filename": "apubsub-0.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "cd55d2be5e2d9c387c4580b67d771725", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 8341, "upload_time": "2020-01-18T21:20:48", "upload_time_iso_8601": "2020-01-18T21:20:48.195981Z", "url": "https://files.pythonhosted.org/packages/7d/2e/4c7a8a2616243a8a24842aea76c8f2ca1511a196f4103fdf63e872deb122/apubsub-0.2.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e311c634adc0ae4a6559a17b51d01eea", "sha256": "216ebfd6660f60305847255605787480073fcea33452aad544a1458f9b9710ae"}, "downloads": -1, "filename": "apubsub-0.2.2.tar.gz", "has_sig": false, "md5_digest": "e311c634adc0ae4a6559a17b51d01eea", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 7112, "upload_time": "2020-01-18T21:20:49", "upload_time_iso_8601": "2020-01-18T21:20:49.261775Z", "url": "https://files.pythonhosted.org/packages/e9/07/764b540616c7a1b23f7ef1d9e023d986ce232c6263581bd1f5f96d54f53a/apubsub-0.2.2.tar.gz", "yanked": false}], "0.2.3": [{"comment_text": "", "digests": {"md5": "6e855f9aa8c439e1841067451479684a", "sha256": "dc1ae0815f8f3529f1c2ce7e69e626257f56d180d2172b1a6fa1af56f940471f"}, "downloads": -1, "filename": "apubsub-0.2.3-py3-none-any.whl", "has_sig": false, "md5_digest": "6e855f9aa8c439e1841067451479684a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 8345, "upload_time": "2020-03-19T11:00:37", "upload_time_iso_8601": "2020-03-19T11:00:37.444558Z", "url": "https://files.pythonhosted.org/packages/7f/ef/e18f7c0808fdd9abbf8c1fb1da661006547b588150b392dd3c9b6bf68351/apubsub-0.2.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "baaf7ea7b2ce8c76f7b7bdebd2b4066e", "sha256": "706b38284480418b86e69d56ae1b426450b6791258a4dcafa7c2631b1fa7c57c"}, "downloads": -1, "filename": "apubsub-0.2.3.tar.gz", "has_sig": false, "md5_digest": "baaf7ea7b2ce8c76f7b7bdebd2b4066e", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 7110, "upload_time": "2020-03-19T11:00:38", "upload_time_iso_8601": "2020-03-19T11:00:38.774957Z", "url": "https://files.pythonhosted.org/packages/df/22/0ce6a424918760e84e512eccd8e2a5c15aa23b812b78a68b19c002bbc7a5/apubsub-0.2.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "6e855f9aa8c439e1841067451479684a", "sha256": "dc1ae0815f8f3529f1c2ce7e69e626257f56d180d2172b1a6fa1af56f940471f"}, "downloads": -1, "filename": "apubsub-0.2.3-py3-none-any.whl", "has_sig": false, "md5_digest": "6e855f9aa8c439e1841067451479684a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 8345, "upload_time": "2020-03-19T11:00:37", "upload_time_iso_8601": "2020-03-19T11:00:37.444558Z", "url": "https://files.pythonhosted.org/packages/7f/ef/e18f7c0808fdd9abbf8c1fb1da661006547b588150b392dd3c9b6bf68351/apubsub-0.2.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "baaf7ea7b2ce8c76f7b7bdebd2b4066e", "sha256": "706b38284480418b86e69d56ae1b426450b6791258a4dcafa7c2631b1fa7c57c"}, "downloads": -1, "filename": "apubsub-0.2.3.tar.gz", "has_sig": false, "md5_digest": "baaf7ea7b2ce8c76f7b7bdebd2b4066e", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 7110, "upload_time": "2020-03-19T11:00:38", "upload_time_iso_8601": "2020-03-19T11:00:38.774957Z", "url": "https://files.pythonhosted.org/packages/df/22/0ce6a424918760e84e512eccd8e2a5c15aa23b812b78a68b19c002bbc7a5/apubsub-0.2.3.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:17:32 2020"}
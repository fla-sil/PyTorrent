{"info": {"author": "Clayton Silva", "author_email": "clayton.silva@pagar.me", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Environment :: Console", "Intended Audience :: Developers", "License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "<!-- [![Quality Gate Status](https://sonarcloud.io/api/project_badges/measure?project=linaro-its_aws2-wrap&metric=alert_status)](https://sonarcloud.io/dashboard?id=linaro-its_aws2-wrap) -->\n\n# aws-sso-cred-restore\nThis is script is inspired from `aws2-wrap` and solve problem with old sdk's  like aws-sdk-go and turn safe our\nwork with tools like terraform.\n\n## the problem\n\nWork with terraform is more safe if we use only profile configuration and  work with `workspaces` feature.\n\n```hcl\nprovider \"aws\" {\n\t profile = \"${terraform.env}\"\n\t region  = \"${var.region}\"\n}\n```\n\nBut aws sso cli command cannot configure credentials file, and aws-sdk-go cannot work with new model of profile config.\n\nUsing environment variables, the configuration overwrite profile option on provider block on terraform, and this is *dangerous*.\n\nThis wrapper solve `temporary` (hello aws and hashicorp, solve this plis!!) this problem.\n\n\n## Install using `pip`\n\nhttps://pypi.org/project/aws-sso-cred-restore\n\n`pip install aws-sso-cred-restore==<VERSION>`\n\n## Run a command using AWS SSO credentials\n\n`aws-sso-cred-restore --profile <awsprofilename-or-prefix>`\n\nor run to all profiles in your config\n\n`aws-sso-cred-restore`\n\nThis command will get credentials using active aws sso access key section file\nand restore in `~/.aws/credentials`\n\n\n## Export the credentials\n\nThere may be circumstances when it is easier/better to set the appropriate environment variables so that they can be re-used by any `aws` command.\n\nSince the script cannot directly set the environment variables in the calling shell process, it is necessary to use the following syntax:\n\n`eval \"$(aws-sso-cred-restore --profile <awsprofilename-or-prefix> --export)\"`\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/claytonsilva/aws-sso-cred-restore", "keywords": "aws profile sso assume role", "license": "GNU General Public License v3 (GPLv3)", "maintainer": "", "maintainer_email": "", "name": "aws-sso-cred-restore", "package_url": "https://pypi.org/project/aws-sso-cred-restore/", "platform": "", "project_url": "https://pypi.org/project/aws-sso-cred-restore/", "project_urls": {"Homepage": "https://github.com/claytonsilva/aws-sso-cred-restore"}, "release_url": "https://pypi.org/project/aws-sso-cred-restore/1.0.0/", "requires_dist": null, "requires_python": ">=3.6", "summary": "A wrapper for executing a command with AWS CLI v2 and SSO, inspired from aws2-wrap", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>aws-sso-cred-restore</h1>\n<p>This is script is inspired from <code>aws2-wrap</code> and solve problem with old sdk's  like aws-sdk-go and turn safe our\nwork with tools like terraform.</p>\n<h2>the problem</h2>\n<p>Work with terraform is more safe if we use only profile configuration and  work with <code>workspaces</code> feature.</p>\n<pre>provider \"aws\" {\n\t profile = \"${terraform.env}\"\n\t region  = \"${var.region}\"\n}\n</pre>\n<p>But aws sso cli command cannot configure credentials file, and aws-sdk-go cannot work with new model of profile config.</p>\n<p>Using environment variables, the configuration overwrite profile option on provider block on terraform, and this is <em>dangerous</em>.</p>\n<p>This wrapper solve <code>temporary</code> (hello aws and hashicorp, solve this plis!!) this problem.</p>\n<h2>Install using <code>pip</code></h2>\n<p><a href=\"https://pypi.org/project/aws-sso-cred-restore\" rel=\"nofollow\">https://pypi.org/project/aws-sso-cred-restore</a></p>\n<p><code>pip install aws-sso-cred-restore==&lt;VERSION&gt;</code></p>\n<h2>Run a command using AWS SSO credentials</h2>\n<p><code>aws-sso-cred-restore --profile &lt;awsprofilename-or-prefix&gt;</code></p>\n<p>or run to all profiles in your config</p>\n<p><code>aws-sso-cred-restore</code></p>\n<p>This command will get credentials using active aws sso access key section file\nand restore in <code>~/.aws/credentials</code></p>\n<h2>Export the credentials</h2>\n<p>There may be circumstances when it is easier/better to set the appropriate environment variables so that they can be re-used by any <code>aws</code> command.</p>\n<p>Since the script cannot directly set the environment variables in the calling shell process, it is necessary to use the following syntax:</p>\n<p><code>eval \"$(aws-sso-cred-restore --profile &lt;awsprofilename-or-prefix&gt; --export)\"</code></p>\n\n          </div>"}, "last_serial": 7039265, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "1bbe42fd1297f89b5252abe847dc08db", "sha256": "fe2e523b7c944aacfae64bae5f5da35807e4f07c436562c0e46ce8a7ba081f56"}, "downloads": -1, "filename": "aws_sso_cred_restore-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "1bbe42fd1297f89b5252abe847dc08db", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.6", "size": 17237, "upload_time": "2020-04-17T10:22:06", "upload_time_iso_8601": "2020-04-17T10:22:06.151522Z", "url": "https://files.pythonhosted.org/packages/8b/64/956b6145b6d82eeb30e988e4ae4786401adeec790ea2c4354094ba65ced2/aws_sso_cred_restore-1.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e80da604135bec91ede77a5a731b3ba8", "sha256": "145408b3b0148dac91ef010c1ade55521e5037114f959a8f05e5a36e6e59dd97"}, "downloads": -1, "filename": "aws-sso-cred-restore-1.0.0.tar.gz", "has_sig": false, "md5_digest": "e80da604135bec91ede77a5a731b3ba8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 4391, "upload_time": "2020-04-17T10:22:08", "upload_time_iso_8601": "2020-04-17T10:22:08.265384Z", "url": "https://files.pythonhosted.org/packages/17/ff/bc09c2b17edcde2e1766b155ec9e6fdc2470b84b6c1845b46b27b8171de1/aws-sso-cred-restore-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "1bbe42fd1297f89b5252abe847dc08db", "sha256": "fe2e523b7c944aacfae64bae5f5da35807e4f07c436562c0e46ce8a7ba081f56"}, "downloads": -1, "filename": "aws_sso_cred_restore-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "1bbe42fd1297f89b5252abe847dc08db", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.6", "size": 17237, "upload_time": "2020-04-17T10:22:06", "upload_time_iso_8601": "2020-04-17T10:22:06.151522Z", "url": "https://files.pythonhosted.org/packages/8b/64/956b6145b6d82eeb30e988e4ae4786401adeec790ea2c4354094ba65ced2/aws_sso_cred_restore-1.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e80da604135bec91ede77a5a731b3ba8", "sha256": "145408b3b0148dac91ef010c1ade55521e5037114f959a8f05e5a36e6e59dd97"}, "downloads": -1, "filename": "aws-sso-cred-restore-1.0.0.tar.gz", "has_sig": false, "md5_digest": "e80da604135bec91ede77a5a731b3ba8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 4391, "upload_time": "2020-04-17T10:22:08", "upload_time_iso_8601": "2020-04-17T10:22:08.265384Z", "url": "https://files.pythonhosted.org/packages/17/ff/bc09c2b17edcde2e1766b155ec9e6fdc2470b84b6c1845b46b27b8171de1/aws-sso-cred-restore-1.0.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:15:33 2020"}
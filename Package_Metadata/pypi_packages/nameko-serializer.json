{"info": {"author": "Darius BERNARD", "author_email": "darius@yupeek.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Operating System :: OS Independent", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Software Development :: Libraries", "Topic :: Utilities"], "description": "=================\nnameko-serializer\n=================\n\nenhenced json serializer for nameko micro-services.\n\n1. it allow to pass ``datetime.date`` and ``datetime.datetime`` to rpc calls and event arguments.\n   get ride of ``datetime.datetime not JSON serializable`` errors messages in nameko.\n\n2. add support for namedtuple in service transmissions. you return a namedtuple instance,\n   you get the same namedtuple in the other side, which is retro-comatible and support either ``res.attr`` or ``res['attr']``\n\nStable branch\n\n.. image:: https://img.shields.io/travis/Yupeek/nameko-serializer/master.svg\n    :target: https://travis-ci.org/Yupeek/nameko-serializer\n\n.. image:: https://readthedocs.org/projects/nameko-serializer/badge/?version=latest\n    :target: http://nameko-serializer.readthedocs.org/en/latest/\n\n.. image:: https://coveralls.io/repos/github/Yupeek/nameko-serializer/badge.svg?branch=master\n    :target: https://coveralls.io/github/Yupeek/nameko-serializer?branch=master\n\n.. image:: https://img.shields.io/pypi/v/nameko-serializer.svg\n    :target: https://pypi.python.org/pypi/nameko-serializer\n    :alt: Latest PyPI version\n\n.. image:: https://requires.io/github/Yupeek/nameko-serializer/requirements.svg?branch=master\n     :target: https://requires.io/github/Yupeek/nameko-serializer/requirements/?branch=master\n     :alt: Requirements Status\n\nDevelopment status\n\n.. image:: https://img.shields.io/travis/Yupeek/nameko-serializer/develop.svg\n    :target: https://travis-ci.org/Yupeek/nameko-serializer\n\n.. image:: https://coveralls.io/repos/github/Yupeek/nameko-serializer/badge.svg?branch=develop\n    :target: https://coveralls.io/github/Yupeek/nameko-serializer?branch=develop\n\n.. image:: https://requires.io/github/Yupeek/nameko-serializer/requirements.svg?branch=develop\n     :target: https://requires.io/github/Yupeek/nameko-serializer/requirements/?branch=develop\n     :alt: Requirements Status\n\n\nInstallation\n------------\n\n1. Install using pip:\n\n   ``pip install nameko-serializers``\n\n2. Alternatively, you can download or clone this repo and install with :\n\n    ``pip install -e .``.\n\nRequirements\n------------\n\nwork with nameko up to 1.12.*\n\n\nExamples\n--------\n\n1. install: ``pip install nameko-serializers``\n2. configure: add in your config.yaml the folowing line: ``serializer: nameko-serializer``\n3. enjoy\n\ndatetime support (with timezone)\n\n.. code-block::python\n\n  class MyService2:\n\n    name = \"myservice2\"\n\n    def compute_date(self, date):\n      return date + datetime.timedelta(days=1)\n\n\n.. code-block::python\n\n  MyNamedTuple = namedtuple('MyNamedTuple', ('arg1', 'arg2', 'date', 'datetime'))\n\n  class MyService2:\n\n    name = \"myservice2\"\n\n    @rpc\n    def compute_date(self, data: MyNamedTuple):\n      return data.arg1 + data['arg2']\n\n\nDocumentation\n-------------\n\nthis Readme is currently the full documentation. it's not a library this big...\n\nfeatures\n--------\n\ndate and datetime serializing\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nthis serializer will handle datetime and date serializing. if a datetime is timezone naive, it will be made aware using\nthe detected current timezone (via ``tzlocal.get_localzone()``)\n\nall received dates will be timezone aware, but the timezone will be fixed to UTC.\n\nNamedTulpe support\n^^^^^^^^^^^^^^^^^^\n\nthis serializer allow to transmit namedtuple as dict, and will deserialize it as special namedtuple, supporting dict index\n\n.. code-block::python\n\n\t# python < 3.6: use collections.namedtuple\n\tfrom collections import namedtuple\n\n\tMyStruct = namedtuple('MyStruct', ('arg1', 'arg2', 'date', 'datetime'))\n\n\t# python >= 3.6: use NamedTulpe from typing, for a better type hinting\n\tfrom typing import NamedTuple, Optional\n\n\tclass MyStruct(NamedTuple):\n\t\targ1: int\n\t\targ2: int\n\t\tdate: datetime.date\n\t\tdatetime: Optional[datetime.datetime] = None\n\n\n\t# service with rich type hinting\n\tclass A:\n\t\tname = 'a'\n\n\t\t@rpc\n\t\tdef method(self, struct: MyStruct) -> MyStruct:\n\t\t\targ1, arg2, date, dt = struct\n\t\t\tassert arg1 + arg2 == struct.arg1 + struct['arg2']\n\t\t\tassert arg1 == struct[0]  # safe only with python3.7+\n\t\t\treturn MyStruct(arg1=date.year)\n\n\n\n\n\nRequirements\n------------\n\n- Python 2.7, 3.6, 3.7\n\n.. note::\n\n  this serializer use the builtin ordered dict feature to unserialize namedtuple with correct attributes order.\n  if you use python2.7 or 3.6 without cPython, you must exclusively use argument's names and not indice.\n\n\n.. code-block::python\n\n  MyNamedTuple = namedtuple('SpecialStruct', ('arg1', 'arg2'))\n\n  @rpc\n  def myfunc(self, special_struct):\n    use_special_struct(*special_struct)  # wrong in python < 3.7, since order is not garanteed\n    use_special_struct(special_struct.arg1, special_struct.arg2)  # good in any version\n\n\nContributions and pull requests are welcome.\n\n\nBugs and requests\n-----------------\n\nIf you found a bug or if you have a request for additional feature, please use the issue tracker on GitHub.\n\nhttps://github.com/Yupeek/nameko-serializer/issues\n\n\nknown limitations\n-----------------\n\n- if you pass some objects with keys ``__type__``, it will be converted.\n- all unserialized dates will be tz aware, and tzinfo will be set to UTC. (this is a good practice to change tz at display time)\n- for python < 3.7, the order in the namedtuple is not garanteed, use exclusively kwargs and attrs by names\n\nLicense\n-------\n\nYou can use this under GPLv3.\n\nAuthor\n------\n\nOriginal author: `Darius BERNARD <https://github.com/ornoone>`_.\n\n\nThanks\n------\n\nThanks to Nameko for this amazing framework.\n\n\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Yupeek/nameko-serializer", "keywords": "nameko json serializer namedtuple datetime", "license": "GPL3", "maintainer": "", "maintainer_email": "", "name": "nameko-serializer", "package_url": "https://pypi.org/project/nameko-serializer/", "platform": "", "project_url": "https://pypi.org/project/nameko-serializer/", "project_urls": {"Homepage": "https://github.com/Yupeek/nameko-serializer"}, "release_url": "https://pypi.org/project/nameko-serializer/1.0.0/", "requires_dist": ["tzlocal", "pytz"], "requires_python": "", "summary": "nameko serializer compatible with datetime and namedtuple", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>enhenced json serializer for nameko micro-services.</p>\n<ol>\n<li>it allow to pass <tt>datetime.date</tt> and <tt>datetime.datetime</tt> to rpc calls and event arguments.\nget ride of <tt>datetime.datetime not JSON serializable</tt> errors messages in nameko.</li>\n<li>add support for namedtuple in service transmissions. you return a namedtuple instance,\nyou get the same namedtuple in the other side, which is retro-comatible and support either <tt>res.attr</tt> or <tt><span class=\"pre\">res['attr']</span></tt></li>\n</ol>\n<p>Stable branch</p>\n<a href=\"https://travis-ci.org/Yupeek/nameko-serializer\" rel=\"nofollow\"><img alt=\"https://img.shields.io/travis/Yupeek/nameko-serializer/master.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a5024241bc36057e2f7cfac9e4c17c1f5100a06a/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f59757065656b2f6e616d656b6f2d73657269616c697a65722f6d61737465722e737667\"></a>\n<a href=\"http://nameko-serializer.readthedocs.org/en/latest/\" rel=\"nofollow\"><img alt=\"https://readthedocs.org/projects/nameko-serializer/badge/?version=latest\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/b368d5860efb61e6c52e4ad37bc6a03151ea6b51/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f6e616d656b6f2d73657269616c697a65722f62616467652f3f76657273696f6e3d6c6174657374\"></a>\n<a href=\"https://coveralls.io/github/Yupeek/nameko-serializer?branch=master\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/github/Yupeek/nameko-serializer/badge.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5f7f0e7ed33dd7d2700806becfc9e46bf0c5a585/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f59757065656b2f6e616d656b6f2d73657269616c697a65722f62616467652e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.python.org/pypi/nameko-serializer\" rel=\"nofollow\"><img alt=\"Latest PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5bbb683b84fb0892d16838314eebabd8c510285c/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6e616d656b6f2d73657269616c697a65722e737667\"></a>\n<a href=\"https://requires.io/github/Yupeek/nameko-serializer/requirements/?branch=master\" rel=\"nofollow\"><img alt=\"Requirements Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6eb3c8cc878b3e767e9db4def6d92daa6ce4ec37/68747470733a2f2f72657175697265732e696f2f6769746875622f59757065656b2f6e616d656b6f2d73657269616c697a65722f726571756972656d656e74732e7376673f6272616e63683d6d6173746572\"></a>\n<p>Development status</p>\n<a href=\"https://travis-ci.org/Yupeek/nameko-serializer\" rel=\"nofollow\"><img alt=\"https://img.shields.io/travis/Yupeek/nameko-serializer/develop.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6a9926c409ba1a3b9a3a2f25a6e8b17fc474eb0f/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f59757065656b2f6e616d656b6f2d73657269616c697a65722f646576656c6f702e737667\"></a>\n<a href=\"https://coveralls.io/github/Yupeek/nameko-serializer?branch=develop\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/github/Yupeek/nameko-serializer/badge.svg?branch=develop\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a14b337a2b7519d15d33b29f7a830ae230f32403/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f59757065656b2f6e616d656b6f2d73657269616c697a65722f62616467652e7376673f6272616e63683d646576656c6f70\"></a>\n<a href=\"https://requires.io/github/Yupeek/nameko-serializer/requirements/?branch=develop\" rel=\"nofollow\"><img alt=\"Requirements Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fa1b286a92ed67494de69478c9462537027f1556/68747470733a2f2f72657175697265732e696f2f6769746875622f59757065656b2f6e616d656b6f2d73657269616c697a65722f726571756972656d656e74732e7376673f6272616e63683d646576656c6f70\"></a>\n<div id=\"installation\">\n<h2>Installation</h2>\n<ol>\n<li><p>Install using pip:</p>\n<p><tt>pip install <span class=\"pre\">nameko-serializers</span></tt></p>\n</li>\n<li><p>Alternatively, you can download or clone this repo and install with :</p>\n<blockquote>\n<p><tt>pip install <span class=\"pre\">-e</span> .</tt>.</p>\n</blockquote>\n</li>\n</ol>\n</div>\n<div id=\"requirements\">\n<h2>Requirements</h2>\n<p>work with nameko up to 1.12.*</p>\n</div>\n<div id=\"examples\">\n<h2>Examples</h2>\n<ol>\n<li>install: <tt>pip install <span class=\"pre\">nameko-serializers</span></tt></li>\n<li>configure: add in your config.yaml the folowing line: <tt>serializer: <span class=\"pre\">nameko-serializer</span></tt></li>\n<li>enjoy</li>\n</ol>\n<p>datetime support (with timezone)</p>\n</div>\n<div id=\"documentation\">\n<h2>Documentation</h2>\n<p>this Readme is currently the full documentation. it\u2019s not a library this big\u2026</p>\n</div>\n<div id=\"features\">\n<h2>features</h2>\n<div id=\"date-and-datetime-serializing\">\n<h3>date and datetime serializing</h3>\n<p>this serializer will handle datetime and date serializing. if a datetime is timezone naive, it will be made aware using\nthe detected current timezone (via <tt>tzlocal.get_localzone()</tt>)</p>\n<p>all received dates will be timezone aware, but the timezone will be fixed to UTC.</p>\n</div>\n<div id=\"namedtulpe-support\">\n<h3>NamedTulpe support</h3>\n<p>this serializer allow to transmit namedtuple as dict, and will deserialize it as special namedtuple, supporting dict index</p>\n</div>\n</div>\n<div id=\"id1\">\n<h2>Requirements</h2>\n<ul>\n<li>Python 2.7, 3.6, 3.7</li>\n</ul>\n<div>\n<p>Note</p>\n<p>this serializer use the builtin ordered dict feature to unserialize namedtuple with correct attributes order.\nif you use python2.7 or 3.6 without cPython, you must exclusively use argument\u2019s names and not indice.</p>\n</div>\n<p>Contributions and pull requests are welcome.</p>\n</div>\n<div id=\"bugs-and-requests\">\n<h2>Bugs and requests</h2>\n<p>If you found a bug or if you have a request for additional feature, please use the issue tracker on GitHub.</p>\n<p><a href=\"https://github.com/Yupeek/nameko-serializer/issues\" rel=\"nofollow\">https://github.com/Yupeek/nameko-serializer/issues</a></p>\n</div>\n<div id=\"known-limitations\">\n<h2>known limitations</h2>\n<ul>\n<li>if you pass some objects with keys <tt>__type__</tt>, it will be converted.</li>\n<li>all unserialized dates will be tz aware, and tzinfo will be set to UTC. (this is a good practice to change tz at display time)</li>\n<li>for python &lt; 3.7, the order in the namedtuple is not garanteed, use exclusively kwargs and attrs by names</li>\n</ul>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>You can use this under GPLv3.</p>\n</div>\n<div id=\"author\">\n<h2>Author</h2>\n<p>Original author: <a href=\"https://github.com/ornoone\" rel=\"nofollow\">Darius BERNARD</a>.</p>\n</div>\n<div id=\"thanks\">\n<h2>Thanks</h2>\n<p>Thanks to Nameko for this amazing framework.</p>\n</div>\n\n          </div>"}, "last_serial": 5430669, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "b6e2af949d68a430a28c455d1843a976", "sha256": "97e18c3e810afd27bb8ad171b1384d20f19e3910a8fc5a51f2f26754761869a7"}, "downloads": -1, "filename": "nameko_serializer-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "b6e2af949d68a430a28c455d1843a976", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 6629, "upload_time": "2019-06-21T12:51:46", "upload_time_iso_8601": "2019-06-21T12:51:46.749702Z", "url": "https://files.pythonhosted.org/packages/57/18/011dbf884a85cf4c983c5615889767b484de19439e031f0c99bd95c170db/nameko_serializer-1.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c812139564b7f224fa28066ae8cf63a9", "sha256": "2f3cda106792f3706212a3ad119fe75234910aeb9498c11eee1a79bc8802f23f"}, "downloads": -1, "filename": "nameko-serializer-1.0.0.tar.gz", "has_sig": false, "md5_digest": "c812139564b7f224fa28066ae8cf63a9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7308, "upload_time": "2019-06-21T12:51:49", "upload_time_iso_8601": "2019-06-21T12:51:49.122373Z", "url": "https://files.pythonhosted.org/packages/2f/1d/12151b2811940c7093f9e222b574c93928491fb2358dd50de5bfaf0cf77c/nameko-serializer-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b6e2af949d68a430a28c455d1843a976", "sha256": "97e18c3e810afd27bb8ad171b1384d20f19e3910a8fc5a51f2f26754761869a7"}, "downloads": -1, "filename": "nameko_serializer-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "b6e2af949d68a430a28c455d1843a976", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 6629, "upload_time": "2019-06-21T12:51:46", "upload_time_iso_8601": "2019-06-21T12:51:46.749702Z", "url": "https://files.pythonhosted.org/packages/57/18/011dbf884a85cf4c983c5615889767b484de19439e031f0c99bd95c170db/nameko_serializer-1.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c812139564b7f224fa28066ae8cf63a9", "sha256": "2f3cda106792f3706212a3ad119fe75234910aeb9498c11eee1a79bc8802f23f"}, "downloads": -1, "filename": "nameko-serializer-1.0.0.tar.gz", "has_sig": false, "md5_digest": "c812139564b7f224fa28066ae8cf63a9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7308, "upload_time": "2019-06-21T12:51:49", "upload_time_iso_8601": "2019-06-21T12:51:49.122373Z", "url": "https://files.pythonhosted.org/packages/2f/1d/12151b2811940c7093f9e222b574c93928491fb2358dd50de5bfaf0cf77c/nameko-serializer-1.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:47:44 2020"}
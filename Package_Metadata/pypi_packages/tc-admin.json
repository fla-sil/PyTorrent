{"info": {"author": "Dustin Mitchell", "author_email": "dustin@mozilla.com", "bugtrack_url": null, "classifiers": ["Programming Language :: Python :: 3"], "description": "The `tc-admin` library supports administration of the runtime configuration of a Taskcluster deployment.\nThis means creation and maintenance of resources such as roles, hooks, and worker pools, based on version-controlled specifications..\n\n# Usage\n\nThis library is used as a dependency of a Python application containing code and configuration specific to the taskcluster deployment(s) being administered.\nThe project should contain a `tc-admin.py` that serves to define the application configuration.\n\nAssuming that is in place, the tool is easy to use:\n\nAfter installing the app, run `tc-admin generate` to generate the expected set of resources (use `--json` to get JSON output).\nThis will require `TASKCLUSTER_ROOT_URL` to be set in the environment, to know which deployment to talk to.\nSimilarly, `tc-admin current` will generate the current set of resources (optionally with `--json`).\nTo compare them, run `tc-admin diff`.\n\nIf the configuration includes secrets, you may want to pass the `--without-secrets` option.\nThis option skips managing the content of secrets, and thus needs neither access to secret values nor Taskcluster credentials to fetch secrets.\n\nRun `tc-admin apply` to apply the changes.\nNote that only `apply` will require Taskcluster credentials, and it's a good practice to only set TC credentials when running this command.\n\nSee `tc-admin <command> --help` for more useful options.\n\n## Checks\n\nChecks are a way to double-check that purpose-specific invariants are satisfied in a Taskcluster deployment.\nFor example, it may be important to check that only specific repository roles have scopes to create tasks in critical worker pools.\nChecks are defined as normal Python tests, and have access to the current and generated configurations.\n\nIf the app has checks set up, then `tc-admin check` will run those checks.\n\n# Quick Guide to Library Operation\n\nThe operation of this tool is pretty simple: it generates a set of expected Taskcluster resources, downloads existing resources from the Taskcluster API, and compares them.\nA collection of resources also specifies the set of \"managed\" resources -- this allows deletion of resources that are no longer expected, without risk of deleting *everything* in the Taskcluster API.\n\nAfter generation, resources can be \"modified\".\nThis is typically used to make minor changes to resources depending on environment.\nFor exmaple, in a staging environment, hook schedules might be removed.\n\n# App Configuration\n\n## `tc-admin` and `tc-admin.py`\n\nA tc-admin app is configured by `tc-admin.py`.\nThis is a Python file which is responsible for creating and customizing an `AppConfig` object.\n\n```python\nfrom tcadmin.appconfig import AppConfig\n\nappconfig = AppConfig()\n# .. customize\n```\n\nThe `tc-admin` command looks for `tc-admin.py` in the current directory, or in the directory given by `$TC_ADMIN_PY` or command-line argument `--tc-admin-py`.\nLike most Python modules, the global `__file__` is set when `tc-admin.py` is executed, and can be used to determine relative paths.\n\nBefore `tc-admin.py` is executed, the current working directory is changed to the directory containing it.\nThis enables relative imports as well as loading files with relative paths (such as with LocalLoader, below).\n\n## Programmatic Interface\n\nThis library can also be used programmatically.\nSimply create an AppConfig object directly and call `tcadmin.main.main` with it:\n\n```python\nfrom tcadmin.appconfig import AppConfig\nfrom tcadmin.main import main\n\ndef boot():\n    appconfig = AppConfig()\n    # .. customize\n    main(appconfig)\n\nif __name__ == \"__main__\":\n    boot()\n```\n\nNote that the current directory is not automatically set in this case.\n\n## AppConfig\n\nThe AppConfig object contains a number of properties that can be customized, described below.\nDuring execution, the current AppConfig object is available from `AppConfig.current()`.\nThis can be useful when generators or modifiers are defined in separate Python modules.\n\n### Generators\n\nGenerators generate expected Taskcluster resources and defined the managed resource names.\nEach generator is an async function that is given a `Resources` object and is expected to call `resources.manage` and `resources.update`.\n\nGenerators are registered with `appconfig.generators.register`, most easily with a decorator:\n\n```python\n@appconfig.generators.register\nasync def update_resources(resources):\n    # modify in place ...\n```\n\nWhen generating secrets, respect the `--with-secrets` option, and generate secrets without values when it is false.\nYou can also use this option to determine whether the generation process requires access to secret values.\nThis allows generation runs with `--without-secrets` to occur without any credentials or access to secret values.\n\n```python\n@appconfig.generators.register\nasync def update_resources(resources):\n    # modify in place ...\n    if appconfig.options.get('--with-secrets'):\n        secretstore = load_secret_values()\n        resources.add(Secret(\n            name=\"top-secret/cookie-recipe\",\n            secret=secretstore.decrypt('recipes/double-chocolate-chip')))\n     else:\n        resources.add(Secret(name=\"top-secret/cookie-recipe\"))\n```\n\n### Modifiers\n\nModifiers are responsible for modifying an existing set of resources.\nSince resources are immutable, the signature differs slightly from generators:\n\n```python\n@appconfig.modifiers.register\nasync def modify_resources(resources):\n    # return new set of resources\n    return resources.map(..)\n```\n\nModifiers are called sequentially in the order in which they were registered.\n\n### Callbacks\n\nCallbacks are external function from your own application that can be executed at specific times during the `tc-admin apply` execution:\n\n* A `before_apply` callback will run before a resource is created, updated or deleted,\n* A `after_apply` callback will run after a resource has beencreated, updated or deleted.\n\nSupported actions are :\n\n* create\n* update\n* delete\n\nBy default all actions are used.\n\nAll resources are supported by callbacks, and enabled by default. If you want to limit your callback to some resources, you need to specify them using their class (not a string).\n\nYou can declare your callbacks as:\n\n```python\nfrom tcadmin.resources import Secret\n\nasync def my_action(action, resource):\n    print(\"Got a callback on\", action, resource)\n\n# Will call your function when a secret has been updated or deleted\nappconfig.callbacks.add(\"after_apply\", my_action, actions=[\"update\", \"delete\"], resources=[Secret, ])\n```\n\n### Command-Line Options\n\nApps can add additional command-line options, the values of which are then available during resource generation.\n\nTo register an option, call `appconfig.options.add`, with the full option name and any of the following keyword options:\n * `required` - if True, the option is required\n * `help` - help string to be shown in `tc-admin generate --help`\n * `default` - default value for the option\n\nTo retrieve the option value during generation, call `appconfig.options.get(name)`.\nAll together, then:\n\n```python\nappconfig.options.add(\"--branch\", help=\"configuration branch to read from\")\n\n@appconfig.generators.register\nasync def update_resources(resources):\n    branch = appconfig.options.get(\"--branch\")\n    # ...\n```\n\nAs a special case, the `--with-secrets` secret is available through this same mechanism.\n\n### Checks\n\nThe `appconfig.check_path` property gives the path of the checks to run for `tc-admin check`, relative to the current directory.\nThis directory is a \"normal\" pytest directory.\n\nTo help distinguish checks from tests, include a `pytest.ini` in this directory:\n\n```ini\n[pytest]\npython_classes = Check*\npython_files = check_*.py\npython_functions = check_*\n```\n\n### Loading Config Sources\n\nMost uses of this library load configuration data from some easily-modified YAML files.\nThe `tcadmin.util.config` package provides some support for loading and parsing these files.\nAll of this is entirely optional; use what is appropriate to the purpose.\n\n#### Loaders\n\nFirst, define a loader that can load data from files.\n\n```python\nfrom tcadmin.util.config import LocalLoader\n\nloader = LocalLoader()\n```\n\nThe LocalLoader class knows how to load configuration from files relative to `tc-admin.py`.\nIt has a `load` method that will load data, optionally parsing it as YAML:\n\n```python\ndata = loader.load(\"data.bin\")\naliases = await loader.load(\"aliases.yml\", parse=\"yaml\")\n```\n\nYou can also define your own loader class.\nJust implement the `load_raw` method to return bytes, given a filename.\n\n#### Config\n\nYAML data is inconvenient to deal with in Python, introducig a lot of `[\"..\"]` noise.\nCommonly, config files are either a top-level array, or a top-level object with named \"stanzas\" of configuration.\nThe ConfigList and ConfigDict classes support these formats.\nWe suggest using these with the Python `attrs` library.\n\nDefine a class that inherits from either of these classes, specifies the filename to load from, and has an `Item` class for the items in the collection:\n\n```python\nfrom tcadmin.util.config import ConfigList\n\nclass Workers(ConfigList):\n    filename = \"workers.yml\"\n\n    @attr.s\n    class Item:\n        workerId = attr.ib(type=str)\n        bigness = attr.ib(type=int, default=1)\n```\n\nThen simply call `await Workers.load(loader)` to load a `workers.yml` that looks something like\n\n```yaml\n- workerId: small\n  bigness: 5\n- workerId: huge\n  bigness: 5000\n```\n\nThe ConfigDict class is similar, but parses files like\n\n```yaml\nsmall:\n  bigness: 5\nhuge:\n  bigness: 5000\n```\n\nConfigList creates new `Item` instances from array elements `item` with `Item(**item)`.\nConfigDict creates new `Item` instances from `k: item` with `Item(k, **item)`.\nThis approach is compatible with `attrs`, where in the latter case `k` should be the first attribute defined.\n\nIf array elements or object values are not themselves YAML objects, add a class method named `transform_item` to transform the data in the YAML file into a Python dictionary.\nFor example:\n\n```python\nclass Workers(ConfigList):\n\n    @classmethod\n    def transform_item(cls, item):\n        # given a simple string, assume that is the workerId and apply defaults\n        if isinstance(item, str):\n            return {\"workerId\": item}\n        return item\n\n    ...\n```\n\n## Resources\n\nThe `tcadmin.resources` package contains clasess for defining Taskcluster resources and collections.\n\n```python\nfrom tcadmin.resources import Resources\n```\n\nThe `Resources` class defines a collection of resources and tracks what resources are managed.\nResources found in the Taskcluster deployment that match the \"managed\" patterns but are not generated will be deleted on `apply`.\nThe class has the following methods:\n\n* `resources.add(resource)` - add a resource to the collection.  The resource must be managed.\n* `resources.update(iterable)` - add an iterable full of resources to the collection.  All resources must be managed.\n* `resources.manage(pattern)` - consider reources matching regular expression string `pattern` to be managed\n* `resources.is_managed(id)` - return true if the given resource is managed\n* `resources.filter(pattern)` - return a new Resources object containing only resources matching the given regular expression string\n* `resources.map(functor)` - return a new Resources object, with fuctor applied to each resource.  This is typically used in modifiers.\n\nResources must be unique -- tc-admin cannot manage multiple hooks with the same name, for example.\nHowever, some resource kinds support merging, where adding a resource with the same identity as one that already exists \"merges\" it into the existing resource.\nSee the description of roles, below.\n\nThe remaining classes represent individual resources.\nEach has an `id` formed from its kind and the unique identifier for the resource in the Taskcluster.\nFor example, `Hook=release-hooks/beta-release`.\nResources are immutable once created, but can be \"evolved\" (returning a new resource) with `rsrc.evolve(**updates)`.\n\nResources with descriptions automatically prepend a \"DO NOT EDIT\" prefix to dissuade users from editing them in the Taskcluster UI.\n\n### Hook\n\n```python\nfrom tcadmin.resources import Hook, Binding\n\nhook = Hook(\n    hookGroupId=..,\n    hookId=..,\n    name=..,\n    description=..,\n    owner=..,\n    emailOnError=..,\n    schedule=(.., ..),\n    bindings=(.., ..),\n    task={..},\n    triggerSchema={..})\n```\n\nMost of these fields correspond directly to the Taskcluster definition.\nBoth `schedule` and `bindings` must be tuples, not lists (as lists are mutable).\nThe items in `schedule` are cron-like strings.\nThe items in `bindings` are instances of `Binding(exchange=.., routingKeyPattern=..)`.\n\n### Secret\n\n```python\nfrom tcadmin.resources import Secret\n\nsecret = Secret(\n    name=..,\n    secret=..)\n\n# or, when not managing secret values\n\nsecret = Secret(name=..)\n```\n\nSecrets are managed using the Secret resource type.\nWhile Taskcluster supports expiration times on secrets, this library sets those times the far future, effectively creating non-expiring secrets\n\nThis library is careful to not display secret values in its output.\nInstead, it displays `<unknown>` when not managing secret values, and displays a salted hash of the secret value when managing secret values.\nThe salted hash allows `tc-admin diff` to show that a secret value has changed, without revealing the value of that secret.\nThe salt includes a per-run salt, and the name of the secret, with the result that even if two secrets have the same value, they will be shown with different hashes in `tc-admin generate`.\n\n### Role\n\n```python\nfrom tcadmin.resources import Role\n\nrole = Role(\n    roleId=..,\n    description=..,\n    scopes=(.., ..))\n```\n\nAs with hooks, `scopes` must be a tuple (not a list) of strings.\n\nRoles can be merged if their descriptions match.\nThe resulting role contains the union of the scopes of the input roles.\nThis functionality makes management of roles easier in cases where different parts of the generation process may add scopes to the same role.\n\nFor example:\n\n```python\nresources.add(Role(roleId=\"my-role\", description=\"My Role\", scopes=[\"scope1\"]))\nresources.add(Role(roleId=\"my-role\", description=\"My Role\", scopes=[\"scope2\"]))\n```\n\nThis will result in a single Role with scopes `[\"scope1\", \"scope2\"]`.\n\n### Client\n\n```python\nfrom tcadmin.resources import Client\n\nclient = Client(\n    clientId=..,\n    description=..,\n    scopes=(.., ..))\n```\n\nClients work much like roles.\nAs with roles, `scopes` must be a tuple (not a list) of strings.\nThis library does not manage access tokens: it discards them from the response to `auth.createClient`.\nThe expectation is that project admins who need credentials for the managed clients will call `auth.resetAccessToken` and use the returned token.\n\nClients configured by this library have an expiration date far in the future.\nLike roles, the clients managed here last \"forever\".\n\n### WorkerPool\n\n```python\nfrom tcadmin.resources import WorkerPool\n\nhook = WorkerPool(\n    workerPoolId=..,\n    providerId=..,\n    description=..,\n    owner=..,\n    config={..},\n    emailOnError=..)\n```\n\nAll attributes of this class match the Taskcluster definition.\n\n## Utiliites\n\nThe library provides a number of utilities for common application requirements.\n\n*NOTE*: only functions described in this README are considered stable.\nOther functions defined by the library may change without notice.\n\n### Scopes\n\nAs an aid to writing checks, tc-admin supplies local implementations of various scope-related algorithms.\n\n```python\nfrom tcadmin.util.scopes import satisfies, normalizeScopes, Resolver\n```\n\nThe `satisfies` function determines scope satisfaction, without any expansion.\nSatisfaction means that the first argument contains all scopes in the second argument.\n\n```python\nassert satisfies(['balloons:*', 'cake:birthday'], ['baloons:mylar:happy-birthday'])\n```\n\nThe `normalizeScopes` function normalizes a scopeset, removing redundant scopes and sorting.\n\n```python\nassert normalizedScopes(['balloons:*', 'balloons:mylar:*']) == ['baloons:*']\n```\n\nFinally, `Resolver` can perform scope expansion.\nIt is initialized with a dictionary mapping roleIds to scope lists.\nAlternately, it can be initialized from a `Resources` instance using `Resolver.from_resources(resources)`.\n\nIts `expandScopes` method behaves identically to the remote call `auth.expandScopes`.\n\n```python\nresolver = Resolver.from_resources(resources)\nassert resolver.expandScopes(['assume:clown:grimaldi']) == ['assume:clown:grimaldi', 'ruffle:full']\n```\n\n### aiohttp session\n\nThe library uses `aiohttp` to communicate with Taskcluster, and establishes a single session for efficiency.\nApplications can use the same session for any other HTTP operations.\n\n```python\nfrom tcadmin.util.session import aiohttp_session\n\nasync def foo():\n    # ...\n    async with aiohttp_session().get(url) as response:\n        response.raise_for_status()\n        result = await response.read()\n```\n\nTests and checks can set this value using `with_aiohttp_session`:\n\n```python\nfrom tcadmin.util.sessions import with_aiohttp_session\nimport pytest\n\n@pytest.mark.asyncio\n@with_aiohttp_session\nasync def test_something():\n    # ...\n```\n\n### MatchList\n\nA MatchList is a list of regular expressions that can determine whether a given\nstring matches one of those patterns.  Patterns are rooted at the left, but\nshould use `$` where required to match the end of the string.\n\n```python\nfrom tcadmin.util.matchlist import MatchList\n\nml = MatchList()\nml.add(\"fo+$\")\nml.add(\"ba+r$\")\nassert ml.matches(\"foo\")\n```\n\nThis functionality is used to track managed resources, but may be useful otherwise.\n\n### Root URL\n\nThe current root_url is available from a short helper function:\n\n```python\nfrom tcadmin.util.root_url import root_url\n\nprint(root_url())\n```\n\nThis does little more than retrieve the value from `os.environ`, but is a little less verbose.\n\n# Development\n\nTo install for development, in a virtualenv:\n\n```\npip install -e [path]\n```\n\nAnd to run flake8 and tests:\n\n```\npython setup.py flake8\npython setup.py test\n```\n\nThe library uses [Black](https://black.readthedocs.io/en/stable/) to format code.\n\n```\npip install black\nblack tcadmin\n```\n\n## Releasing\n\nTo release:\n\n * update version in `setup.py` and `git commit -m \"vX.Y.Z\"`\n * `git tag vX.Y.z`\n * push those changes to master\n * `./release.sh --real` and enter your pypi credentials when prompted (omit the `--real` to try it against the testing pypi, if you're not sure)\n * Find the tag in https://github.com/taskcluster/tc-admin/releases and create a new release with a brief desscription of the changes\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/taskcluster/tc-admin", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "tc-admin", "package_url": "https://pypi.org/project/tc-admin/", "platform": "", "project_url": "https://pypi.org/project/tc-admin/", "project_urls": {"Homepage": "https://github.com/taskcluster/tc-admin"}, "release_url": "https://pypi.org/project/tc-admin/2.5.0/", "requires_dist": ["taskcluster (~=28.0.0)", "click (~=7.0)", "blessings (~=1.7)", "attrs (~=19.3.0)", "memoized (==0.3)", "sortedcontainers (~=2.1.0)", "aiohttp (~=2.3.10)", "pytest (~=5.2)", "pyyaml (~=4.2b1)", "patiencediff (==0.1.0)"], "requires_python": "", "summary": "Administration of Taskcluster runtime configuration", "version": "2.5.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>The <code>tc-admin</code> library supports administration of the runtime configuration of a Taskcluster deployment.\nThis means creation and maintenance of resources such as roles, hooks, and worker pools, based on version-controlled specifications..</p>\n<h1>Usage</h1>\n<p>This library is used as a dependency of a Python application containing code and configuration specific to the taskcluster deployment(s) being administered.\nThe project should contain a <code>tc-admin.py</code> that serves to define the application configuration.</p>\n<p>Assuming that is in place, the tool is easy to use:</p>\n<p>After installing the app, run <code>tc-admin generate</code> to generate the expected set of resources (use <code>--json</code> to get JSON output).\nThis will require <code>TASKCLUSTER_ROOT_URL</code> to be set in the environment, to know which deployment to talk to.\nSimilarly, <code>tc-admin current</code> will generate the current set of resources (optionally with <code>--json</code>).\nTo compare them, run <code>tc-admin diff</code>.</p>\n<p>If the configuration includes secrets, you may want to pass the <code>--without-secrets</code> option.\nThis option skips managing the content of secrets, and thus needs neither access to secret values nor Taskcluster credentials to fetch secrets.</p>\n<p>Run <code>tc-admin apply</code> to apply the changes.\nNote that only <code>apply</code> will require Taskcluster credentials, and it's a good practice to only set TC credentials when running this command.</p>\n<p>See <code>tc-admin &lt;command&gt; --help</code> for more useful options.</p>\n<h2>Checks</h2>\n<p>Checks are a way to double-check that purpose-specific invariants are satisfied in a Taskcluster deployment.\nFor example, it may be important to check that only specific repository roles have scopes to create tasks in critical worker pools.\nChecks are defined as normal Python tests, and have access to the current and generated configurations.</p>\n<p>If the app has checks set up, then <code>tc-admin check</code> will run those checks.</p>\n<h1>Quick Guide to Library Operation</h1>\n<p>The operation of this tool is pretty simple: it generates a set of expected Taskcluster resources, downloads existing resources from the Taskcluster API, and compares them.\nA collection of resources also specifies the set of \"managed\" resources -- this allows deletion of resources that are no longer expected, without risk of deleting <em>everything</em> in the Taskcluster API.</p>\n<p>After generation, resources can be \"modified\".\nThis is typically used to make minor changes to resources depending on environment.\nFor exmaple, in a staging environment, hook schedules might be removed.</p>\n<h1>App Configuration</h1>\n<h2><code>tc-admin</code> and <code>tc-admin.py</code></h2>\n<p>A tc-admin app is configured by <code>tc-admin.py</code>.\nThis is a Python file which is responsible for creating and customizing an <code>AppConfig</code> object.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.appconfig</span> <span class=\"kn\">import</span> <span class=\"n\">AppConfig</span>\n\n<span class=\"n\">appconfig</span> <span class=\"o\">=</span> <span class=\"n\">AppConfig</span><span class=\"p\">()</span>\n<span class=\"c1\"># .. customize</span>\n</pre>\n<p>The <code>tc-admin</code> command looks for <code>tc-admin.py</code> in the current directory, or in the directory given by <code>$TC_ADMIN_PY</code> or command-line argument <code>--tc-admin-py</code>.\nLike most Python modules, the global <code>__file__</code> is set when <code>tc-admin.py</code> is executed, and can be used to determine relative paths.</p>\n<p>Before <code>tc-admin.py</code> is executed, the current working directory is changed to the directory containing it.\nThis enables relative imports as well as loading files with relative paths (such as with LocalLoader, below).</p>\n<h2>Programmatic Interface</h2>\n<p>This library can also be used programmatically.\nSimply create an AppConfig object directly and call <code>tcadmin.main.main</code> with it:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.appconfig</span> <span class=\"kn\">import</span> <span class=\"n\">AppConfig</span>\n<span class=\"kn\">from</span> <span class=\"nn\">tcadmin.main</span> <span class=\"kn\">import</span> <span class=\"n\">main</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">boot</span><span class=\"p\">():</span>\n    <span class=\"n\">appconfig</span> <span class=\"o\">=</span> <span class=\"n\">AppConfig</span><span class=\"p\">()</span>\n    <span class=\"c1\"># .. customize</span>\n    <span class=\"n\">main</span><span class=\"p\">(</span><span class=\"n\">appconfig</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">\"__main__\"</span><span class=\"p\">:</span>\n    <span class=\"n\">boot</span><span class=\"p\">()</span>\n</pre>\n<p>Note that the current directory is not automatically set in this case.</p>\n<h2>AppConfig</h2>\n<p>The AppConfig object contains a number of properties that can be customized, described below.\nDuring execution, the current AppConfig object is available from <code>AppConfig.current()</code>.\nThis can be useful when generators or modifiers are defined in separate Python modules.</p>\n<h3>Generators</h3>\n<p>Generators generate expected Taskcluster resources and defined the managed resource names.\nEach generator is an async function that is given a <code>Resources</code> object and is expected to call <code>resources.manage</code> and <code>resources.update</code>.</p>\n<p>Generators are registered with <code>appconfig.generators.register</code>, most easily with a decorator:</p>\n<pre><span class=\"nd\">@appconfig</span><span class=\"o\">.</span><span class=\"n\">generators</span><span class=\"o\">.</span><span class=\"n\">register</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">update_resources</span><span class=\"p\">(</span><span class=\"n\">resources</span><span class=\"p\">):</span>\n    <span class=\"c1\"># modify in place ...</span>\n</pre>\n<p>When generating secrets, respect the <code>--with-secrets</code> option, and generate secrets without values when it is false.\nYou can also use this option to determine whether the generation process requires access to secret values.\nThis allows generation runs with <code>--without-secrets</code> to occur without any credentials or access to secret values.</p>\n<pre><span class=\"nd\">@appconfig</span><span class=\"o\">.</span><span class=\"n\">generators</span><span class=\"o\">.</span><span class=\"n\">register</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">update_resources</span><span class=\"p\">(</span><span class=\"n\">resources</span><span class=\"p\">):</span>\n    <span class=\"c1\"># modify in place ...</span>\n    <span class=\"k\">if</span> <span class=\"n\">appconfig</span><span class=\"o\">.</span><span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">'--with-secrets'</span><span class=\"p\">):</span>\n        <span class=\"n\">secretstore</span> <span class=\"o\">=</span> <span class=\"n\">load_secret_values</span><span class=\"p\">()</span>\n        <span class=\"n\">resources</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">Secret</span><span class=\"p\">(</span>\n            <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">\"top-secret/cookie-recipe\"</span><span class=\"p\">,</span>\n            <span class=\"n\">secret</span><span class=\"o\">=</span><span class=\"n\">secretstore</span><span class=\"o\">.</span><span class=\"n\">decrypt</span><span class=\"p\">(</span><span class=\"s1\">'recipes/double-chocolate-chip'</span><span class=\"p\">)))</span>\n     <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"n\">resources</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">Secret</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">\"top-secret/cookie-recipe\"</span><span class=\"p\">))</span>\n</pre>\n<h3>Modifiers</h3>\n<p>Modifiers are responsible for modifying an existing set of resources.\nSince resources are immutable, the signature differs slightly from generators:</p>\n<pre><span class=\"nd\">@appconfig</span><span class=\"o\">.</span><span class=\"n\">modifiers</span><span class=\"o\">.</span><span class=\"n\">register</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">modify_resources</span><span class=\"p\">(</span><span class=\"n\">resources</span><span class=\"p\">):</span>\n    <span class=\"c1\"># return new set of resources</span>\n    <span class=\"k\">return</span> <span class=\"n\">resources</span><span class=\"o\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"o\">..</span><span class=\"p\">)</span>\n</pre>\n<p>Modifiers are called sequentially in the order in which they were registered.</p>\n<h3>Callbacks</h3>\n<p>Callbacks are external function from your own application that can be executed at specific times during the <code>tc-admin apply</code> execution:</p>\n<ul>\n<li>A <code>before_apply</code> callback will run before a resource is created, updated or deleted,</li>\n<li>A <code>after_apply</code> callback will run after a resource has beencreated, updated or deleted.</li>\n</ul>\n<p>Supported actions are :</p>\n<ul>\n<li>create</li>\n<li>update</li>\n<li>delete</li>\n</ul>\n<p>By default all actions are used.</p>\n<p>All resources are supported by callbacks, and enabled by default. If you want to limit your callback to some resources, you need to specify them using their class (not a string).</p>\n<p>You can declare your callbacks as:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.resources</span> <span class=\"kn\">import</span> <span class=\"n\">Secret</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">my_action</span><span class=\"p\">(</span><span class=\"n\">action</span><span class=\"p\">,</span> <span class=\"n\">resource</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Got a callback on\"</span><span class=\"p\">,</span> <span class=\"n\">action</span><span class=\"p\">,</span> <span class=\"n\">resource</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Will call your function when a secret has been updated or deleted</span>\n<span class=\"n\">appconfig</span><span class=\"o\">.</span><span class=\"n\">callbacks</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s2\">\"after_apply\"</span><span class=\"p\">,</span> <span class=\"n\">my_action</span><span class=\"p\">,</span> <span class=\"n\">actions</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">\"update\"</span><span class=\"p\">,</span> <span class=\"s2\">\"delete\"</span><span class=\"p\">],</span> <span class=\"n\">resources</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">Secret</span><span class=\"p\">,</span> <span class=\"p\">])</span>\n</pre>\n<h3>Command-Line Options</h3>\n<p>Apps can add additional command-line options, the values of which are then available during resource generation.</p>\n<p>To register an option, call <code>appconfig.options.add</code>, with the full option name and any of the following keyword options:</p>\n<ul>\n<li><code>required</code> - if True, the option is required</li>\n<li><code>help</code> - help string to be shown in <code>tc-admin generate --help</code></li>\n<li><code>default</code> - default value for the option</li>\n</ul>\n<p>To retrieve the option value during generation, call <code>appconfig.options.get(name)</code>.\nAll together, then:</p>\n<pre><span class=\"n\">appconfig</span><span class=\"o\">.</span><span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s2\">\"--branch\"</span><span class=\"p\">,</span> <span class=\"n\">help</span><span class=\"o\">=</span><span class=\"s2\">\"configuration branch to read from\"</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@appconfig</span><span class=\"o\">.</span><span class=\"n\">generators</span><span class=\"o\">.</span><span class=\"n\">register</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">update_resources</span><span class=\"p\">(</span><span class=\"n\">resources</span><span class=\"p\">):</span>\n    <span class=\"n\">branch</span> <span class=\"o\">=</span> <span class=\"n\">appconfig</span><span class=\"o\">.</span><span class=\"n\">options</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"--branch\"</span><span class=\"p\">)</span>\n    <span class=\"c1\"># ...</span>\n</pre>\n<p>As a special case, the <code>--with-secrets</code> secret is available through this same mechanism.</p>\n<h3>Checks</h3>\n<p>The <code>appconfig.check_path</code> property gives the path of the checks to run for <code>tc-admin check</code>, relative to the current directory.\nThis directory is a \"normal\" pytest directory.</p>\n<p>To help distinguish checks from tests, include a <code>pytest.ini</code> in this directory:</p>\n<pre><span class=\"k\">[pytest]</span>\n<span class=\"na\">python_classes</span> <span class=\"o\">=</span> <span class=\"s\">Check*</span>\n<span class=\"na\">python_files</span> <span class=\"o\">=</span> <span class=\"s\">check_*.py</span>\n<span class=\"na\">python_functions</span> <span class=\"o\">=</span> <span class=\"s\">check_*</span>\n</pre>\n<h3>Loading Config Sources</h3>\n<p>Most uses of this library load configuration data from some easily-modified YAML files.\nThe <code>tcadmin.util.config</code> package provides some support for loading and parsing these files.\nAll of this is entirely optional; use what is appropriate to the purpose.</p>\n<h4>Loaders</h4>\n<p>First, define a loader that can load data from files.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.util.config</span> <span class=\"kn\">import</span> <span class=\"n\">LocalLoader</span>\n\n<span class=\"n\">loader</span> <span class=\"o\">=</span> <span class=\"n\">LocalLoader</span><span class=\"p\">()</span>\n</pre>\n<p>The LocalLoader class knows how to load configuration from files relative to <code>tc-admin.py</code>.\nIt has a <code>load</code> method that will load data, optionally parsing it as YAML:</p>\n<pre><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">loader</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"s2\">\"data.bin\"</span><span class=\"p\">)</span>\n<span class=\"n\">aliases</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">loader</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"s2\">\"aliases.yml\"</span><span class=\"p\">,</span> <span class=\"n\">parse</span><span class=\"o\">=</span><span class=\"s2\">\"yaml\"</span><span class=\"p\">)</span>\n</pre>\n<p>You can also define your own loader class.\nJust implement the <code>load_raw</code> method to return bytes, given a filename.</p>\n<h4>Config</h4>\n<p>YAML data is inconvenient to deal with in Python, introducig a lot of <code>[\"..\"]</code> noise.\nCommonly, config files are either a top-level array, or a top-level object with named \"stanzas\" of configuration.\nThe ConfigList and ConfigDict classes support these formats.\nWe suggest using these with the Python <code>attrs</code> library.</p>\n<p>Define a class that inherits from either of these classes, specifies the filename to load from, and has an <code>Item</code> class for the items in the collection:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.util.config</span> <span class=\"kn\">import</span> <span class=\"n\">ConfigList</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Workers</span><span class=\"p\">(</span><span class=\"n\">ConfigList</span><span class=\"p\">):</span>\n    <span class=\"n\">filename</span> <span class=\"o\">=</span> <span class=\"s2\">\"workers.yml\"</span>\n\n    <span class=\"nd\">@attr</span><span class=\"o\">.</span><span class=\"n\">s</span>\n    <span class=\"k\">class</span> <span class=\"nc\">Item</span><span class=\"p\">:</span>\n        <span class=\"n\">workerId</span> <span class=\"o\">=</span> <span class=\"n\">attr</span><span class=\"o\">.</span><span class=\"n\">ib</span><span class=\"p\">(</span><span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"nb\">str</span><span class=\"p\">)</span>\n        <span class=\"n\">bigness</span> <span class=\"o\">=</span> <span class=\"n\">attr</span><span class=\"o\">.</span><span class=\"n\">ib</span><span class=\"p\">(</span><span class=\"nb\">type</span><span class=\"o\">=</span><span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre>\n<p>Then simply call <code>await Workers.load(loader)</code> to load a <code>workers.yml</code> that looks something like</p>\n<pre><span class=\"p p-Indicator\">-</span> <span class=\"nt\">workerId</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">small</span>\n  <span class=\"nt\">bigness</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">5</span>\n<span class=\"p p-Indicator\">-</span> <span class=\"nt\">workerId</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">huge</span>\n  <span class=\"nt\">bigness</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">5000</span>\n</pre>\n<p>The ConfigDict class is similar, but parses files like</p>\n<pre><span class=\"nt\">small</span><span class=\"p\">:</span>\n  <span class=\"nt\">bigness</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">5</span>\n<span class=\"nt\">huge</span><span class=\"p\">:</span>\n  <span class=\"nt\">bigness</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">5000</span>\n</pre>\n<p>ConfigList creates new <code>Item</code> instances from array elements <code>item</code> with <code>Item(**item)</code>.\nConfigDict creates new <code>Item</code> instances from <code>k: item</code> with <code>Item(k, **item)</code>.\nThis approach is compatible with <code>attrs</code>, where in the latter case <code>k</code> should be the first attribute defined.</p>\n<p>If array elements or object values are not themselves YAML objects, add a class method named <code>transform_item</code> to transform the data in the YAML file into a Python dictionary.\nFor example:</p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">Workers</span><span class=\"p\">(</span><span class=\"n\">ConfigList</span><span class=\"p\">):</span>\n\n    <span class=\"nd\">@classmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">transform_item</span><span class=\"p\">(</span><span class=\"bp\">cls</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">):</span>\n        <span class=\"c1\"># given a simple string, assume that is the workerId and apply defaults</span>\n        <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">item</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">):</span>\n            <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"s2\">\"workerId\"</span><span class=\"p\">:</span> <span class=\"n\">item</span><span class=\"p\">}</span>\n        <span class=\"k\">return</span> <span class=\"n\">item</span>\n\n    <span class=\"o\">...</span>\n</pre>\n<h2>Resources</h2>\n<p>The <code>tcadmin.resources</code> package contains clasess for defining Taskcluster resources and collections.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.resources</span> <span class=\"kn\">import</span> <span class=\"n\">Resources</span>\n</pre>\n<p>The <code>Resources</code> class defines a collection of resources and tracks what resources are managed.\nResources found in the Taskcluster deployment that match the \"managed\" patterns but are not generated will be deleted on <code>apply</code>.\nThe class has the following methods:</p>\n<ul>\n<li><code>resources.add(resource)</code> - add a resource to the collection.  The resource must be managed.</li>\n<li><code>resources.update(iterable)</code> - add an iterable full of resources to the collection.  All resources must be managed.</li>\n<li><code>resources.manage(pattern)</code> - consider reources matching regular expression string <code>pattern</code> to be managed</li>\n<li><code>resources.is_managed(id)</code> - return true if the given resource is managed</li>\n<li><code>resources.filter(pattern)</code> - return a new Resources object containing only resources matching the given regular expression string</li>\n<li><code>resources.map(functor)</code> - return a new Resources object, with fuctor applied to each resource.  This is typically used in modifiers.</li>\n</ul>\n<p>Resources must be unique -- tc-admin cannot manage multiple hooks with the same name, for example.\nHowever, some resource kinds support merging, where adding a resource with the same identity as one that already exists \"merges\" it into the existing resource.\nSee the description of roles, below.</p>\n<p>The remaining classes represent individual resources.\nEach has an <code>id</code> formed from its kind and the unique identifier for the resource in the Taskcluster.\nFor example, <code>Hook=release-hooks/beta-release</code>.\nResources are immutable once created, but can be \"evolved\" (returning a new resource) with <code>rsrc.evolve(**updates)</code>.</p>\n<p>Resources with descriptions automatically prepend a \"DO NOT EDIT\" prefix to dissuade users from editing them in the Taskcluster UI.</p>\n<h3>Hook</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.resources</span> <span class=\"kn\">import</span> <span class=\"n\">Hook</span><span class=\"p\">,</span> <span class=\"n\">Binding</span>\n\n<span class=\"n\">hook</span> <span class=\"o\">=</span> <span class=\"n\">Hook</span><span class=\"p\">(</span>\n    <span class=\"n\">hookGroupId</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">hookId</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">name</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">description</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">owner</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">emailOnError</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">schedule</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"o\">..</span><span class=\"p\">,</span> <span class=\"o\">..</span><span class=\"p\">),</span>\n    <span class=\"n\">bindings</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"o\">..</span><span class=\"p\">,</span> <span class=\"o\">..</span><span class=\"p\">),</span>\n    <span class=\"n\">task</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"o\">..</span><span class=\"p\">},</span>\n    <span class=\"n\">triggerSchema</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"o\">..</span><span class=\"p\">})</span>\n</pre>\n<p>Most of these fields correspond directly to the Taskcluster definition.\nBoth <code>schedule</code> and <code>bindings</code> must be tuples, not lists (as lists are mutable).\nThe items in <code>schedule</code> are cron-like strings.\nThe items in <code>bindings</code> are instances of <code>Binding(exchange=.., routingKeyPattern=..)</code>.</p>\n<h3>Secret</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.resources</span> <span class=\"kn\">import</span> <span class=\"n\">Secret</span>\n\n<span class=\"n\">secret</span> <span class=\"o\">=</span> <span class=\"n\">Secret</span><span class=\"p\">(</span>\n    <span class=\"n\">name</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">secret</span><span class=\"o\">=..</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># or, when not managing secret values</span>\n\n<span class=\"n\">secret</span> <span class=\"o\">=</span> <span class=\"n\">Secret</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=..</span><span class=\"p\">)</span>\n</pre>\n<p>Secrets are managed using the Secret resource type.\nWhile Taskcluster supports expiration times on secrets, this library sets those times the far future, effectively creating non-expiring secrets</p>\n<p>This library is careful to not display secret values in its output.\nInstead, it displays <code>&lt;unknown&gt;</code> when not managing secret values, and displays a salted hash of the secret value when managing secret values.\nThe salted hash allows <code>tc-admin diff</code> to show that a secret value has changed, without revealing the value of that secret.\nThe salt includes a per-run salt, and the name of the secret, with the result that even if two secrets have the same value, they will be shown with different hashes in <code>tc-admin generate</code>.</p>\n<h3>Role</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.resources</span> <span class=\"kn\">import</span> <span class=\"n\">Role</span>\n\n<span class=\"n\">role</span> <span class=\"o\">=</span> <span class=\"n\">Role</span><span class=\"p\">(</span>\n    <span class=\"n\">roleId</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">description</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">scopes</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"o\">..</span><span class=\"p\">,</span> <span class=\"o\">..</span><span class=\"p\">))</span>\n</pre>\n<p>As with hooks, <code>scopes</code> must be a tuple (not a list) of strings.</p>\n<p>Roles can be merged if their descriptions match.\nThe resulting role contains the union of the scopes of the input roles.\nThis functionality makes management of roles easier in cases where different parts of the generation process may add scopes to the same role.</p>\n<p>For example:</p>\n<pre><span class=\"n\">resources</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">Role</span><span class=\"p\">(</span><span class=\"n\">roleId</span><span class=\"o\">=</span><span class=\"s2\">\"my-role\"</span><span class=\"p\">,</span> <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">\"My Role\"</span><span class=\"p\">,</span> <span class=\"n\">scopes</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">\"scope1\"</span><span class=\"p\">]))</span>\n<span class=\"n\">resources</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">Role</span><span class=\"p\">(</span><span class=\"n\">roleId</span><span class=\"o\">=</span><span class=\"s2\">\"my-role\"</span><span class=\"p\">,</span> <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s2\">\"My Role\"</span><span class=\"p\">,</span> <span class=\"n\">scopes</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">\"scope2\"</span><span class=\"p\">]))</span>\n</pre>\n<p>This will result in a single Role with scopes <code>[\"scope1\", \"scope2\"]</code>.</p>\n<h3>Client</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.resources</span> <span class=\"kn\">import</span> <span class=\"n\">Client</span>\n\n<span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">Client</span><span class=\"p\">(</span>\n    <span class=\"n\">clientId</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">description</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">scopes</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"o\">..</span><span class=\"p\">,</span> <span class=\"o\">..</span><span class=\"p\">))</span>\n</pre>\n<p>Clients work much like roles.\nAs with roles, <code>scopes</code> must be a tuple (not a list) of strings.\nThis library does not manage access tokens: it discards them from the response to <code>auth.createClient</code>.\nThe expectation is that project admins who need credentials for the managed clients will call <code>auth.resetAccessToken</code> and use the returned token.</p>\n<p>Clients configured by this library have an expiration date far in the future.\nLike roles, the clients managed here last \"forever\".</p>\n<h3>WorkerPool</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.resources</span> <span class=\"kn\">import</span> <span class=\"n\">WorkerPool</span>\n\n<span class=\"n\">hook</span> <span class=\"o\">=</span> <span class=\"n\">WorkerPool</span><span class=\"p\">(</span>\n    <span class=\"n\">workerPoolId</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">providerId</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">description</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">owner</span><span class=\"o\">=..</span><span class=\"p\">,</span>\n    <span class=\"n\">config</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"o\">..</span><span class=\"p\">},</span>\n    <span class=\"n\">emailOnError</span><span class=\"o\">=..</span><span class=\"p\">)</span>\n</pre>\n<p>All attributes of this class match the Taskcluster definition.</p>\n<h2>Utiliites</h2>\n<p>The library provides a number of utilities for common application requirements.</p>\n<p><em>NOTE</em>: only functions described in this README are considered stable.\nOther functions defined by the library may change without notice.</p>\n<h3>Scopes</h3>\n<p>As an aid to writing checks, tc-admin supplies local implementations of various scope-related algorithms.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.util.scopes</span> <span class=\"kn\">import</span> <span class=\"n\">satisfies</span><span class=\"p\">,</span> <span class=\"n\">normalizeScopes</span><span class=\"p\">,</span> <span class=\"n\">Resolver</span>\n</pre>\n<p>The <code>satisfies</code> function determines scope satisfaction, without any expansion.\nSatisfaction means that the first argument contains all scopes in the second argument.</p>\n<pre><span class=\"k\">assert</span> <span class=\"n\">satisfies</span><span class=\"p\">([</span><span class=\"s1\">'balloons:*'</span><span class=\"p\">,</span> <span class=\"s1\">'cake:birthday'</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s1\">'baloons:mylar:happy-birthday'</span><span class=\"p\">])</span>\n</pre>\n<p>The <code>normalizeScopes</code> function normalizes a scopeset, removing redundant scopes and sorting.</p>\n<pre><span class=\"k\">assert</span> <span class=\"n\">normalizedScopes</span><span class=\"p\">([</span><span class=\"s1\">'balloons:*'</span><span class=\"p\">,</span> <span class=\"s1\">'balloons:mylar:*'</span><span class=\"p\">])</span> <span class=\"o\">==</span> <span class=\"p\">[</span><span class=\"s1\">'baloons:*'</span><span class=\"p\">]</span>\n</pre>\n<p>Finally, <code>Resolver</code> can perform scope expansion.\nIt is initialized with a dictionary mapping roleIds to scope lists.\nAlternately, it can be initialized from a <code>Resources</code> instance using <code>Resolver.from_resources(resources)</code>.</p>\n<p>Its <code>expandScopes</code> method behaves identically to the remote call <code>auth.expandScopes</code>.</p>\n<pre><span class=\"n\">resolver</span> <span class=\"o\">=</span> <span class=\"n\">Resolver</span><span class=\"o\">.</span><span class=\"n\">from_resources</span><span class=\"p\">(</span><span class=\"n\">resources</span><span class=\"p\">)</span>\n<span class=\"k\">assert</span> <span class=\"n\">resolver</span><span class=\"o\">.</span><span class=\"n\">expandScopes</span><span class=\"p\">([</span><span class=\"s1\">'assume:clown:grimaldi'</span><span class=\"p\">])</span> <span class=\"o\">==</span> <span class=\"p\">[</span><span class=\"s1\">'assume:clown:grimaldi'</span><span class=\"p\">,</span> <span class=\"s1\">'ruffle:full'</span><span class=\"p\">]</span>\n</pre>\n<h3>aiohttp session</h3>\n<p>The library uses <code>aiohttp</code> to communicate with Taskcluster, and establishes a single session for efficiency.\nApplications can use the same session for any other HTTP operations.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.util.session</span> <span class=\"kn\">import</span> <span class=\"n\">aiohttp_session</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">foo</span><span class=\"p\">():</span>\n    <span class=\"c1\"># ...</span>\n    <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">aiohttp_session</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">response</span><span class=\"p\">:</span>\n        <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">raise_for_status</span><span class=\"p\">()</span>\n        <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n</pre>\n<p>Tests and checks can set this value using <code>with_aiohttp_session</code>:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.util.sessions</span> <span class=\"kn\">import</span> <span class=\"n\">with_aiohttp_session</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pytest</span>\n\n<span class=\"nd\">@pytest</span><span class=\"o\">.</span><span class=\"n\">mark</span><span class=\"o\">.</span><span class=\"n\">asyncio</span>\n<span class=\"nd\">@with_aiohttp_session</span>\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">test_something</span><span class=\"p\">():</span>\n    <span class=\"c1\"># ...</span>\n</pre>\n<h3>MatchList</h3>\n<p>A MatchList is a list of regular expressions that can determine whether a given\nstring matches one of those patterns.  Patterns are rooted at the left, but\nshould use <code>$</code> where required to match the end of the string.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.util.matchlist</span> <span class=\"kn\">import</span> <span class=\"n\">MatchList</span>\n\n<span class=\"n\">ml</span> <span class=\"o\">=</span> <span class=\"n\">MatchList</span><span class=\"p\">()</span>\n<span class=\"n\">ml</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s2\">\"fo+$\"</span><span class=\"p\">)</span>\n<span class=\"n\">ml</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"s2\">\"ba+r$\"</span><span class=\"p\">)</span>\n<span class=\"k\">assert</span> <span class=\"n\">ml</span><span class=\"o\">.</span><span class=\"n\">matches</span><span class=\"p\">(</span><span class=\"s2\">\"foo\"</span><span class=\"p\">)</span>\n</pre>\n<p>This functionality is used to track managed resources, but may be useful otherwise.</p>\n<h3>Root URL</h3>\n<p>The current root_url is available from a short helper function:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tcadmin.util.root_url</span> <span class=\"kn\">import</span> <span class=\"n\">root_url</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">root_url</span><span class=\"p\">())</span>\n</pre>\n<p>This does little more than retrieve the value from <code>os.environ</code>, but is a little less verbose.</p>\n<h1>Development</h1>\n<p>To install for development, in a virtualenv:</p>\n<pre><code>pip install -e [path]\n</code></pre>\n<p>And to run flake8 and tests:</p>\n<pre><code>python setup.py flake8\npython setup.py test\n</code></pre>\n<p>The library uses <a href=\"https://black.readthedocs.io/en/stable/\" rel=\"nofollow\">Black</a> to format code.</p>\n<pre><code>pip install black\nblack tcadmin\n</code></pre>\n<h2>Releasing</h2>\n<p>To release:</p>\n<ul>\n<li>update version in <code>setup.py</code> and <code>git commit -m \"vX.Y.Z\"</code></li>\n<li><code>git tag vX.Y.z</code></li>\n<li>push those changes to master</li>\n<li><code>./release.sh --real</code> and enter your pypi credentials when prompted (omit the <code>--real</code> to try it against the testing pypi, if you're not sure)</li>\n<li>Find the tag in <a href=\"https://github.com/taskcluster/tc-admin/releases\" rel=\"nofollow\">https://github.com/taskcluster/tc-admin/releases</a> and create a new release with a brief desscription of the changes</li>\n</ul>\n\n          </div>"}, "last_serial": 6805991, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "0348869c939edbf9384227250a210b52", "sha256": "1fcd0e10807d51e0ecf6ee93498f3aa95656f3b5a19ef3348981c4807b4e1655"}, "downloads": -1, "filename": "tc_admin-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "0348869c939edbf9384227250a210b52", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 26810, "upload_time": "2019-09-23T18:14:25", "upload_time_iso_8601": "2019-09-23T18:14:25.494783Z", "url": "https://files.pythonhosted.org/packages/dc/ce/97b0212191ac6c675b62b9e92e9d405d64e6f7514ec3de287def0e92eba9/tc_admin-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c5ccb36c2d29b72fee0ab113c761be22", "sha256": "243240dc4ee3cbeb5222d9ebb6279f4e0d917890ad0fb883444eb8c2a034ef81"}, "downloads": -1, "filename": "tc-admin-1.0.0.tar.gz", "has_sig": false, "md5_digest": "c5ccb36c2d29b72fee0ab113c761be22", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18276, "upload_time": "2019-09-23T18:14:29", "upload_time_iso_8601": "2019-09-23T18:14:29.931603Z", "url": "https://files.pythonhosted.org/packages/90/c0/6031fc9c5e3102488cea7dadbb7af8a6ad5b45881e441d59f7d160c39429/tc-admin-1.0.0.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "81595eadf06d79d3bd1050af18668849", "sha256": "a62b18cdd5f5e2b3fadd41ae4174481f403a72af67647c9911a747708c4c1d39"}, "downloads": -1, "filename": "tc_admin-1.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "81595eadf06d79d3bd1050af18668849", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 32867, "upload_time": "2019-10-14T15:44:55", "upload_time_iso_8601": "2019-10-14T15:44:55.710780Z", "url": "https://files.pythonhosted.org/packages/e8/f7/f2f2e6c737cfa23fba9707197882858ff3cb560574b984288a4618b229bb/tc_admin-1.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3402e9217da857fdb5b679e3ea8bad4d", "sha256": "ebcb963aa728c14a28bc853e9817238bef75eb766fdb31430e09e9729ab9f027"}, "downloads": -1, "filename": "tc-admin-1.1.0.tar.gz", "has_sig": false, "md5_digest": "3402e9217da857fdb5b679e3ea8bad4d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21257, "upload_time": "2019-10-14T15:45:08", "upload_time_iso_8601": "2019-10-14T15:45:08.914137Z", "url": "https://files.pythonhosted.org/packages/4d/fb/668bd1f0e8bfbeefb33ecf96c11f834faecf0434dbf18b379f12426d23da/tc-admin-1.1.0.tar.gz", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "7d778dd9d5952e77f53702fe729b9803", "sha256": "107ffcb030b9c1b11b39b43d20b7daf3b0384d01eccba38a89363791a9cc2e50"}, "downloads": -1, "filename": "tc_admin-1.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "7d778dd9d5952e77f53702fe729b9803", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 33675, "upload_time": "2019-10-14T21:17:36", "upload_time_iso_8601": "2019-10-14T21:17:36.413682Z", "url": "https://files.pythonhosted.org/packages/4e/6e/d5d84fa7d3d8ef5d4e66893b8305deab51ffeed7f3c047a8f688a6f53f1e/tc_admin-1.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ebcbfee356a2e3356e5708efa1212843", "sha256": "4b2bce71f3e2a1ba0c71d323211eb1f72e772a55eb504ae9b3aa62ff3b5c24ce"}, "downloads": -1, "filename": "tc-admin-1.2.0.tar.gz", "has_sig": false, "md5_digest": "ebcbfee356a2e3356e5708efa1212843", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 22134, "upload_time": "2019-10-14T21:17:41", "upload_time_iso_8601": "2019-10-14T21:17:41.482848Z", "url": "https://files.pythonhosted.org/packages/63/8d/9439e916a5d2ee057c02381b506a1cd6dac3db1675a8f5e461818a92e96e/tc-admin-1.2.0.tar.gz", "yanked": false}], "2.0.0": [{"comment_text": "", "digests": {"md5": "8a7ed24157e74de17c0eea222cc46747", "sha256": "92423ee2bd47d353dfd0fc27eccc6324c85bbe6d0a4fc7564c3fb05f369296b7"}, "downloads": -1, "filename": "tc_admin-2.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "8a7ed24157e74de17c0eea222cc46747", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 33687, "upload_time": "2019-10-16T22:32:17", "upload_time_iso_8601": "2019-10-16T22:32:17.403413Z", "url": "https://files.pythonhosted.org/packages/25/7b/cd08aa7e44205b702d0dd64694e8285cddc9f4e36ce7ee9f7974a8714028/tc_admin-2.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "08031f88acd74cb49521a9688b9692cc", "sha256": "1020f04d059be363818fd760ff0a7d7ab509ea839e0d1d534a7b0705ea6993c7"}, "downloads": -1, "filename": "tc-admin-2.0.0.tar.gz", "has_sig": false, "md5_digest": "08031f88acd74cb49521a9688b9692cc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 22144, "upload_time": "2019-10-16T22:32:19", "upload_time_iso_8601": "2019-10-16T22:32:19.367215Z", "url": "https://files.pythonhosted.org/packages/84/56/f740ed2cc63b397ae08b4c7c924473e2804b1a9104da01075b2acd9a8af3/tc-admin-2.0.0.tar.gz", "yanked": false}], "2.1.0": [{"comment_text": "", "digests": {"md5": "621b91df2eec0a02470bbcbf7dd127cc", "sha256": "088709f25acc31516f1fe460467f0889f87ffea89c8f779228e404ea64cd4ab2"}, "downloads": -1, "filename": "tc_admin-2.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "621b91df2eec0a02470bbcbf7dd127cc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 35401, "upload_time": "2019-10-24T15:38:19", "upload_time_iso_8601": "2019-10-24T15:38:19.613338Z", "url": "https://files.pythonhosted.org/packages/e7/21/5ad4fe3863fd44f21cd96edcdb2b429a906c6c47ccdb51e9da5e32939ac7/tc_admin-2.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "182515705ee9f6160b2d09eb3fb29f63", "sha256": "71b96e03a082e42843e20da531fc7023c9e528feeff2bff1afb04670df790351"}, "downloads": -1, "filename": "tc-admin-2.1.0.tar.gz", "has_sig": false, "md5_digest": "182515705ee9f6160b2d09eb3fb29f63", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 22631, "upload_time": "2019-10-24T15:38:21", "upload_time_iso_8601": "2019-10-24T15:38:21.514675Z", "url": "https://files.pythonhosted.org/packages/b6/cb/8f3e51b3496a7438540bbdcbdb8d015223d875068196127271933ac6bbdb/tc-admin-2.1.0.tar.gz", "yanked": false}], "2.1.1": [{"comment_text": "", "digests": {"md5": "03a8c2b70d2fc7b6d6bf98ace4d7fcb9", "sha256": "20f7e1772dfb2abb10d3c2c3296f39fda9085e73fe2a7f38fac899f104f85b30"}, "downloads": -1, "filename": "tc_admin-2.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "03a8c2b70d2fc7b6d6bf98ace4d7fcb9", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 35299, "upload_time": "2019-11-03T02:22:19", "upload_time_iso_8601": "2019-11-03T02:22:19.852773Z", "url": "https://files.pythonhosted.org/packages/b6/c5/33326c7209b38f1617ee8720608d25e54accc3f314d28f5ac260a46ade34/tc_admin-2.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "9651d4b2f3b3977794ba90e93d26054b", "sha256": "a647575434a8f05cfff8f96ff55cff4651a59110800fd7b0df692010baa44dac"}, "downloads": -1, "filename": "tc-admin-2.1.1.tar.gz", "has_sig": false, "md5_digest": "9651d4b2f3b3977794ba90e93d26054b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 22530, "upload_time": "2019-11-03T02:22:21", "upload_time_iso_8601": "2019-11-03T02:22:21.681060Z", "url": "https://files.pythonhosted.org/packages/b5/70/a17fbb19532b8895856a317a176761df0963849f2b5a92e565050791088b/tc-admin-2.1.1.tar.gz", "yanked": false}], "2.2.0": [{"comment_text": "", "digests": {"md5": "ae74c0da5145e9e9ecfc7e211093bdf5", "sha256": "1f1992e33be0880190390ad5e5a9638b4cfbdaacfb898b91ed9c50391156955a"}, "downloads": -1, "filename": "tc_admin-2.2.0-py3-none-any.whl", "has_sig": false, "md5_digest": "ae74c0da5145e9e9ecfc7e211093bdf5", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 38471, "upload_time": "2019-11-04T19:41:10", "upload_time_iso_8601": "2019-11-04T19:41:10.918209Z", "url": "https://files.pythonhosted.org/packages/b8/6f/d2cd9cabbf1662e02c8aa696c83b15813b4b41940b6581c54655b482cd81/tc_admin-2.2.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "72721df06c4f251e40f7c525d6811d66", "sha256": "54bf92efe2219cea801601c7d59f826b1515891cd1a43f8c31a02bcda85f5ec6"}, "downloads": -1, "filename": "tc-admin-2.2.0.tar.gz", "has_sig": false, "md5_digest": "72721df06c4f251e40f7c525d6811d66", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24665, "upload_time": "2019-11-04T19:41:12", "upload_time_iso_8601": "2019-11-04T19:41:12.560855Z", "url": "https://files.pythonhosted.org/packages/da/71/2de8f72dc9b5c6daec465616acd1f5c756947cc8e627efa1b0c3201c593d/tc-admin-2.2.0.tar.gz", "yanked": false}], "2.3.0": [{"comment_text": "", "digests": {"md5": "363f1545bd2d28d33226c448f39cb151", "sha256": "953cfe9c3eed0bf840e66a0b147228e1b14e227ac69264a5dda298b725d7767b"}, "downloads": -1, "filename": "tc_admin-2.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "363f1545bd2d28d33226c448f39cb151", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 36409, "upload_time": "2020-02-05T22:06:27", "upload_time_iso_8601": "2020-02-05T22:06:27.041839Z", "url": "https://files.pythonhosted.org/packages/6e/3a/1c3d805d2a71302ca59bb4a6c38936b596e13bfcbc6a9f50ed51a9841baa/tc_admin-2.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a40cdb033284c473cd69f3a3c9ef93cd", "sha256": "099f0e7d12e625ff5ee09c95368b7ad6f4c6ca1a01a8d10225a5fbd19bf91b5f"}, "downloads": -1, "filename": "tc-admin-2.3.0.tar.gz", "has_sig": false, "md5_digest": "a40cdb033284c473cd69f3a3c9ef93cd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23904, "upload_time": "2020-02-05T22:06:28", "upload_time_iso_8601": "2020-02-05T22:06:28.958566Z", "url": "https://files.pythonhosted.org/packages/11/a4/36200d057ffed94fbb196723f44d19d43046edb752fee580f2f2fe2dcdac/tc-admin-2.3.0.tar.gz", "yanked": false}], "2.4.0": [{"comment_text": "", "digests": {"md5": "aaec15ea7aeca2d9c782295620a367cf", "sha256": "ff0462c9a69c5faa95d6676e5fd33b6ab591ab74acf0f4002e700669957eb245"}, "downloads": -1, "filename": "tc_admin-2.4.0-py3-none-any.whl", "has_sig": false, "md5_digest": "aaec15ea7aeca2d9c782295620a367cf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 36952, "upload_time": "2020-03-02T13:57:56", "upload_time_iso_8601": "2020-03-02T13:57:56.924559Z", "url": "https://files.pythonhosted.org/packages/39/e1/28d924cb349a5b1f69c6131000d03fe094660b9823b410801aeeb44c99ac/tc_admin-2.4.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d12817c8a92594465fdf46d334770e7d", "sha256": "1235c10c282aacd29a46710d235ddab7efa3335fa3016759e756f40606e939bc"}, "downloads": -1, "filename": "tc-admin-2.4.0.tar.gz", "has_sig": false, "md5_digest": "d12817c8a92594465fdf46d334770e7d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 25003, "upload_time": "2020-03-02T13:57:58", "upload_time_iso_8601": "2020-03-02T13:57:58.839287Z", "url": "https://files.pythonhosted.org/packages/75/73/2935474c15962a20818de04a8c0236098d58f2391bce30cf6e174bd59a8c/tc-admin-2.4.0.tar.gz", "yanked": false}], "2.5.0": [{"comment_text": "", "digests": {"md5": "d1db5a87749b829e926723e9f6aa8030", "sha256": "85ae23cf2bf2d8dd12af2e4d61a7f7af2602a4e3f658bf36c35cec25563b16aa"}, "downloads": -1, "filename": "tc_admin-2.5.0-py3-none-any.whl", "has_sig": false, "md5_digest": "d1db5a87749b829e926723e9f6aa8030", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 39043, "upload_time": "2020-03-13T13:24:30", "upload_time_iso_8601": "2020-03-13T13:24:30.835772Z", "url": "https://files.pythonhosted.org/packages/a4/f1/04c8cb0aa23f9cfe7b068a02335814eb112288dbf716c850c76371428a4f/tc_admin-2.5.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8e5e8fc31159c3e473f2bbd25c03670c", "sha256": "cee5af1aad69986d2dd5fbbc88248e15ac36203a3a76f1542c473c4cf7bff0a6"}, "downloads": -1, "filename": "tc-admin-2.5.0.tar.gz", "has_sig": false, "md5_digest": "8e5e8fc31159c3e473f2bbd25c03670c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 27313, "upload_time": "2020-03-13T13:24:32", "upload_time_iso_8601": "2020-03-13T13:24:32.335891Z", "url": "https://files.pythonhosted.org/packages/43/46/04bf2a00c01b8ab96d86a5a4cf0e4ea3a43be4dd44d3f3c08c5d7fb2c7dd/tc-admin-2.5.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "d1db5a87749b829e926723e9f6aa8030", "sha256": "85ae23cf2bf2d8dd12af2e4d61a7f7af2602a4e3f658bf36c35cec25563b16aa"}, "downloads": -1, "filename": "tc_admin-2.5.0-py3-none-any.whl", "has_sig": false, "md5_digest": "d1db5a87749b829e926723e9f6aa8030", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 39043, "upload_time": "2020-03-13T13:24:30", "upload_time_iso_8601": "2020-03-13T13:24:30.835772Z", "url": "https://files.pythonhosted.org/packages/a4/f1/04c8cb0aa23f9cfe7b068a02335814eb112288dbf716c850c76371428a4f/tc_admin-2.5.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8e5e8fc31159c3e473f2bbd25c03670c", "sha256": "cee5af1aad69986d2dd5fbbc88248e15ac36203a3a76f1542c473c4cf7bff0a6"}, "downloads": -1, "filename": "tc-admin-2.5.0.tar.gz", "has_sig": false, "md5_digest": "8e5e8fc31159c3e473f2bbd25c03670c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 27313, "upload_time": "2020-03-13T13:24:32", "upload_time_iso_8601": "2020-03-13T13:24:32.335891Z", "url": "https://files.pythonhosted.org/packages/43/46/04bf2a00c01b8ab96d86a5a4cf0e4ea3a43be4dd44d3f3c08c5d7fb2c7dd/tc-admin-2.5.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:57:26 2020"}
{"info": {"author": "Yann-Sebastien Tremblay-Johnston", "author_email": "yanns.tremblay@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Scientific/Engineering :: GIS", "Topic :: Utilities"], "description": "# geojsplit\nA python implementation of the node package geojsplit: https://github.com/woodb/geojsplit\n\n[![Build Status](https://travis-ci.com/underchemist/geojsplit.svg?branch=master)](https://travis-ci.com/underchemist/geojsplit)\n[![Documentation Status](https://readthedocs.org/projects/geojsplit/badge/?version=latest)](https://geojsplit.readthedocs.io/en/latest/?badge=latest)\n[![Coverage Status](https://coveralls.io/repos/github/underchemist/geojsplit/badge.svg?branch=master)](https://coveralls.io/github/underchemist/geojsplit?branch=master)\n![PyPI](https://img.shields.io/pypi/v/geojsplit)\n![GitHub](https://img.shields.io/github/license/underchemist/geojsplit)\n\n## Installation\n\n### With poetry\n\nFor an [introduction to poetry](https://dev.to/yukinagae/beginner-guide-on-poetry-new-python-dependency-management-tool-4327/).\n\n```\n$ poetry add geojsplit\n```\n\nwill add geojsplit to your current virtual environment and update your poetry.lock file. If you would like to contribute or develop geojsplit\n\n```\n$ git clone https://github.com/underchemist/geojsplit.git\n$ cd geojsplit\n$ poetry install\n```\n\nYou may need some extra configuration to make poetry play nice with conda virtual environments\n\n```\npoetry config settings.virtualenvs.path <path_to_conda_install>/envs  # tell poetry where you virtualenvs are stored\npoetry config settings.virtualenvs.create 0  # tell poetry not to try to create its own virtualenvs.\n```\n\nSee https://github.com/sdispater/poetry/issues/105#issuecomment-498042062 for more info.\n\n```\n$ poetry config settings.virtualenvs.path $CONDA_ENV_PATH\n$ poetry config settings.virtualenvs.create 0\n```\n\n### With pip\nThough geojsplit is developed using [poetry](https://poetry.eustace.io/) (and as such does not have a setup.py), [pep517](https://www.python.org/dev/peps/pep-0517/) implementation in pip means we can install it directly\n\n```\n$ pip install geojsplit\n```\n\n## Usage\n\nAlthough both the library code and the command line tool of geojsplit are relatively simple, there are use cases for both. You may want to use the backend `GeoJSONBatchStreamer` class directly in order to do more sophisticated manipulations with GeoJOSN documents. As a command line tool geojsplit also works well as a preprocessing step for working with large GeoJSON documents i.e. for piping into GDAL\u2019s ogr2ogr tool.\n\n### As a library\n\nOnce installed, geojsplit can be imported in like\n\n```\nfrom geojsplit import geojsplit\n\ngeojson = geojsplit.GeoJSONBatchStreamer(\"/path/to/some.geojson\")\n\nfor feature_collection in geojson.stream():\n    do_something(feature_collection)\n    ...\n```\n\nIf the `/path/to/some.geojson` does not exists, `FileNotFound` will be raised.\n\nYou can control how many features are streamed into a Feature Collection using the batch parameter (Default is 100).\n\n```\n>>> g = geojson.stream(batch=2)  # instatiate generator object\n>>> data = next(g)\n>>> print(data)\n{\"features\": [{\"geometry\": {\"coordinates\": [[[-118.254638, 33.7843], [-118.254637,\n33.784231], [-118.254556, 33.784232], [-118.254559, 33.784339], [-118.254669,\n33.784338], [-118.254668, 33.7843], [-118.254638, 33.7843]]], \"type\": \"Polygon\"},\n\"properties\": {}, \"type\": \"Feature\"}, {\"geometry\": {\"coordinates\": [[[-118.254414,\n33.784255], [-118.254232, 33.784255], [-118.254232, 33.784355], [-118.254414,\n33.784355], [-118.254414, 33.784255]]], \"type\": \"Polygon\"}, \"properties\": {}, \"type\":\n\"Feature\"}], \"type\": \"FeatureCollection\"}\n>>> print(len(data[\"features\"]))\n2\n```\n\nIf your GeoJSON document has a different format or you want to iterate over different elements on your document, you can also pass a different value to the `prefix` keyword argument (Default is `'features.item'`). This is an argument passed directly down to a `ijson.items` call, for more information see https://github.com/ICRAR/ijson.\n\n### As a command line tool\n\nAfter installing you should have the geojsplit executable in your `PATH`.\n\n```\n$ geojsplit -h\nusage: geojsplit [-h] [-l GEOMETRY_COUNT] [-a SUFFIX_LENGTH] [-o OUTPUT]\n                [-n LIMIT] [-v] [-d] [--version]\n                geojson\n\nSplit a geojson file into many geojson files.\n\npositional arguments:\ngeojson               filename of geojson file to split\n\noptional arguments:\n-h, --help            show this help message and exit\n-l GEOMETRY_COUNT, --geometry-count GEOMETRY_COUNT\n                        the number of features to be distributed to each file.\n-a SUFFIX_LENGTH, --suffix-length SUFFIX_LENGTH\n                        number of characters in the suffix length for split\n                        geojsons\n-o OUTPUT, --output OUTPUT\n                        output directory to save split geojsons\n-n LIMIT, --limit LIMIT\n                        limit number of split geojson file to at most LIMIT,\n                        with GEOMETRY_COUNT number of features.\n-v, --verbose         increase output verbosity\n-d, --dry-run         see output without actually writing to file\n--version             show geojsplit version number\n```\n\nBy default splitted GeoJSON files are saved as `filename_x<SUFFIX_LENGTH characters long>.geojson`. Default SUFFIX_LENGTH is 4, meaning that 456976 unique files can be generated. If you need more use `-a` or `--suffix-length` to increase this value appropriately.\n\nThe `--geometry-count` flag corresponds to the batch keyword argument for `GeoJSONBatchStreamer.stream` method. Note that if GEOMETRY_COUNT does not divide equally into the number of features in the Feature Collection, the last batch of features will be < GEOMETRY_COUNT.\n\nFinally, to only iterate over the the first n elements of a GeoJSON document, use `--limit`.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/underchemist/geojsplit", "keywords": "geospatial,geojson,gis,python,stream", "license": "MIT", "maintainer": "Yann-Sebastien Tremblay-Johnston", "maintainer_email": "yanns.tremblay@gmail.com", "name": "geojsplit", "package_url": "https://pypi.org/project/geojsplit/", "platform": "", "project_url": "https://pypi.org/project/geojsplit/", "project_urls": {"Documentation": "https://geojsplit.readthedocs.io/en/latest/", "Homepage": "https://github.com/underchemist/geojsplit", "Repository": "https://github.com/underchemist/geojsplit"}, "release_url": "https://pypi.org/project/geojsplit/0.1.2/", "requires_dist": ["geojson (>=2.5,<3.0)", "ijson (>=2.4,<3.0)", "simplejson (>=3.16,<4.0)", "sphinx (>=2.2,<3.0); extra == \"docs\"", "sphinx_rtd_theme (>=0.4.3,<0.5.0); extra == \"docs\""], "requires_python": ">=3.6,<4.0", "summary": "A python implementation of the npm package geojsplit. Used to split GeoJSON files into smaller pieces.", "version": "0.1.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>geojsplit</h1>\n<p>A python implementation of the node package geojsplit: <a href=\"https://github.com/woodb/geojsplit\" rel=\"nofollow\">https://github.com/woodb/geojsplit</a></p>\n<p><a href=\"https://travis-ci.com/underchemist/geojsplit\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c05a2ccd4deabfeb41ba5042ef73504831941c53/68747470733a2f2f7472617669732d63692e636f6d2f756e6465726368656d6973742f67656f6a73706c69742e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://geojsplit.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4380d2061674b7303e6d2f98dc83feb6574bb820/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f67656f6a73706c69742f62616467652f3f76657273696f6e3d6c6174657374\"></a>\n<a href=\"https://coveralls.io/github/underchemist/geojsplit?branch=master\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/25bd7806d09139656101a7a575a36ca4dd96a855/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f756e6465726368656d6973742f67656f6a73706c69742f62616467652e7376673f6272616e63683d6d6173746572\"></a>\n<img alt=\"PyPI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/46848e59645f2ef5cf62ba6888f61c4b8a0642ff/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f67656f6a73706c6974\">\n<img alt=\"GitHub\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/33bb24702c7ae008458f07099fee732f5b5d468a/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f756e6465726368656d6973742f67656f6a73706c6974\"></p>\n<h2>Installation</h2>\n<h3>With poetry</h3>\n<p>For an <a href=\"https://dev.to/yukinagae/beginner-guide-on-poetry-new-python-dependency-management-tool-4327/\" rel=\"nofollow\">introduction to poetry</a>.</p>\n<pre><code>$ poetry add geojsplit\n</code></pre>\n<p>will add geojsplit to your current virtual environment and update your poetry.lock file. If you would like to contribute or develop geojsplit</p>\n<pre><code>$ git clone https://github.com/underchemist/geojsplit.git\n$ cd geojsplit\n$ poetry install\n</code></pre>\n<p>You may need some extra configuration to make poetry play nice with conda virtual environments</p>\n<pre><code>poetry config settings.virtualenvs.path &lt;path_to_conda_install&gt;/envs  # tell poetry where you virtualenvs are stored\npoetry config settings.virtualenvs.create 0  # tell poetry not to try to create its own virtualenvs.\n</code></pre>\n<p>See <a href=\"https://github.com/sdispater/poetry/issues/105#issuecomment-498042062\" rel=\"nofollow\">https://github.com/sdispater/poetry/issues/105#issuecomment-498042062</a> for more info.</p>\n<pre><code>$ poetry config settings.virtualenvs.path $CONDA_ENV_PATH\n$ poetry config settings.virtualenvs.create 0\n</code></pre>\n<h3>With pip</h3>\n<p>Though geojsplit is developed using <a href=\"https://poetry.eustace.io/\" rel=\"nofollow\">poetry</a> (and as such does not have a setup.py), <a href=\"https://www.python.org/dev/peps/pep-0517/\" rel=\"nofollow\">pep517</a> implementation in pip means we can install it directly</p>\n<pre><code>$ pip install geojsplit\n</code></pre>\n<h2>Usage</h2>\n<p>Although both the library code and the command line tool of geojsplit are relatively simple, there are use cases for both. You may want to use the backend <code>GeoJSONBatchStreamer</code> class directly in order to do more sophisticated manipulations with GeoJOSN documents. As a command line tool geojsplit also works well as a preprocessing step for working with large GeoJSON documents i.e. for piping into GDAL\u2019s ogr2ogr tool.</p>\n<h3>As a library</h3>\n<p>Once installed, geojsplit can be imported in like</p>\n<pre><code>from geojsplit import geojsplit\n\ngeojson = geojsplit.GeoJSONBatchStreamer(\"/path/to/some.geojson\")\n\nfor feature_collection in geojson.stream():\n    do_something(feature_collection)\n    ...\n</code></pre>\n<p>If the <code>/path/to/some.geojson</code> does not exists, <code>FileNotFound</code> will be raised.</p>\n<p>You can control how many features are streamed into a Feature Collection using the batch parameter (Default is 100).</p>\n<pre><code>&gt;&gt;&gt; g = geojson.stream(batch=2)  # instatiate generator object\n&gt;&gt;&gt; data = next(g)\n&gt;&gt;&gt; print(data)\n{\"features\": [{\"geometry\": {\"coordinates\": [[[-118.254638, 33.7843], [-118.254637,\n33.784231], [-118.254556, 33.784232], [-118.254559, 33.784339], [-118.254669,\n33.784338], [-118.254668, 33.7843], [-118.254638, 33.7843]]], \"type\": \"Polygon\"},\n\"properties\": {}, \"type\": \"Feature\"}, {\"geometry\": {\"coordinates\": [[[-118.254414,\n33.784255], [-118.254232, 33.784255], [-118.254232, 33.784355], [-118.254414,\n33.784355], [-118.254414, 33.784255]]], \"type\": \"Polygon\"}, \"properties\": {}, \"type\":\n\"Feature\"}], \"type\": \"FeatureCollection\"}\n&gt;&gt;&gt; print(len(data[\"features\"]))\n2\n</code></pre>\n<p>If your GeoJSON document has a different format or you want to iterate over different elements on your document, you can also pass a different value to the <code>prefix</code> keyword argument (Default is <code>'features.item'</code>). This is an argument passed directly down to a <code>ijson.items</code> call, for more information see <a href=\"https://github.com/ICRAR/ijson\" rel=\"nofollow\">https://github.com/ICRAR/ijson</a>.</p>\n<h3>As a command line tool</h3>\n<p>After installing you should have the geojsplit executable in your <code>PATH</code>.</p>\n<pre><code>$ geojsplit -h\nusage: geojsplit [-h] [-l GEOMETRY_COUNT] [-a SUFFIX_LENGTH] [-o OUTPUT]\n                [-n LIMIT] [-v] [-d] [--version]\n                geojson\n\nSplit a geojson file into many geojson files.\n\npositional arguments:\ngeojson               filename of geojson file to split\n\noptional arguments:\n-h, --help            show this help message and exit\n-l GEOMETRY_COUNT, --geometry-count GEOMETRY_COUNT\n                        the number of features to be distributed to each file.\n-a SUFFIX_LENGTH, --suffix-length SUFFIX_LENGTH\n                        number of characters in the suffix length for split\n                        geojsons\n-o OUTPUT, --output OUTPUT\n                        output directory to save split geojsons\n-n LIMIT, --limit LIMIT\n                        limit number of split geojson file to at most LIMIT,\n                        with GEOMETRY_COUNT number of features.\n-v, --verbose         increase output verbosity\n-d, --dry-run         see output without actually writing to file\n--version             show geojsplit version number\n</code></pre>\n<p>By default splitted GeoJSON files are saved as <code>filename_x&lt;SUFFIX_LENGTH characters long&gt;.geojson</code>. Default SUFFIX_LENGTH is 4, meaning that 456976 unique files can be generated. If you need more use <code>-a</code> or <code>--suffix-length</code> to increase this value appropriately.</p>\n<p>The <code>--geometry-count</code> flag corresponds to the batch keyword argument for <code>GeoJSONBatchStreamer.stream</code> method. Note that if GEOMETRY_COUNT does not divide equally into the number of features in the Feature Collection, the last batch of features will be &lt; GEOMETRY_COUNT.</p>\n<p>Finally, to only iterate over the the first n elements of a GeoJSON document, use <code>--limit</code>.</p>\n\n          </div>"}, "last_serial": 5933799, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "219ebe60bf1357044a649fe9e874299a", "sha256": "c6ef1137edb3248c64c314d78ea82ae5bd8c4e816b7a51fa34549bf4c60e6ede"}, "downloads": -1, "filename": "geojsplit-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "219ebe60bf1357044a649fe9e874299a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 5846, "upload_time": "2019-09-09T06:19:55", "upload_time_iso_8601": "2019-09-09T06:19:55.395578Z", "url": "https://files.pythonhosted.org/packages/32/cf/5f4acced91f11d7ebb7bdf26e37e6c5e6294df7424f6b7731f3585eefba0/geojsplit-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b0e0c0e2fd3428e786b193ae3ec727d2", "sha256": "805b0b6a87c58984356b9d4f7c8c552f4f6373dd773deaaa16a0a98584331e5b"}, "downloads": -1, "filename": "geojsplit-0.1.0.tar.gz", "has_sig": false, "md5_digest": "b0e0c0e2fd3428e786b193ae3ec727d2", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 5052, "upload_time": "2019-09-09T06:19:57", "upload_time_iso_8601": "2019-09-09T06:19:57.621207Z", "url": "https://files.pythonhosted.org/packages/37/ed/dc1a3b12b34052c4f158c7fa570c0664f94d1d553a2df294475373525542/geojsplit-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "17c750accdf8c1405f7b0e5c1440a508", "sha256": "c164f5142caeb38badd0c8d17f71e935dd8061400bec10f628fe8498df8282fd"}, "downloads": -1, "filename": "geojsplit-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "17c750accdf8c1405f7b0e5c1440a508", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 8174, "upload_time": "2019-09-09T07:23:59", "upload_time_iso_8601": "2019-09-09T07:23:59.951695Z", "url": "https://files.pythonhosted.org/packages/0c/de/707a73a71ce99e134389a2f17b37801dfe86091dea6703c5f02610c64b90/geojsplit-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3555d32ab07d54a80b9dc2f9bbed8bb8", "sha256": "0d628cdb0f3127e7fa3521673c968921f2e77851deb4286919d2431d0342ce68"}, "downloads": -1, "filename": "geojsplit-0.1.1.tar.gz", "has_sig": false, "md5_digest": "3555d32ab07d54a80b9dc2f9bbed8bb8", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 7966, "upload_time": "2019-09-09T07:24:01", "upload_time_iso_8601": "2019-09-09T07:24:01.853518Z", "url": "https://files.pythonhosted.org/packages/c3/83/6f36eda2ec00eff77e0bd135c97f91ba9221a20473843a66b41852b6eba3/geojsplit-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "603f5b56ce6f266791691f7f427c6f16", "sha256": "31097c1f688cae9c12c634fd597e1f0dea3e2e4a8e38c67b017df9a993e95f30"}, "downloads": -1, "filename": "geojsplit-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "603f5b56ce6f266791691f7f427c6f16", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 8195, "upload_time": "2019-10-06T04:17:22", "upload_time_iso_8601": "2019-10-06T04:17:22.011478Z", "url": "https://files.pythonhosted.org/packages/e5/66/052c86fa497531bf23725406af69d2b1c4eab633b6281e72c99374a4a629/geojsplit-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "906180b544dda7aa9d08be494240e646", "sha256": "44d5721dbaf6e0045e0546cb6957a61d22991854304c65b5a7fe46dd9012385b"}, "downloads": -1, "filename": "geojsplit-0.1.2.tar.gz", "has_sig": false, "md5_digest": "906180b544dda7aa9d08be494240e646", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 7980, "upload_time": "2019-10-06T04:17:23", "upload_time_iso_8601": "2019-10-06T04:17:23.489983Z", "url": "https://files.pythonhosted.org/packages/65/19/a4dbf77e49124d5ae17b3a1f13b7a4b9c3de9f011852b823c2019d3619a4/geojsplit-0.1.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "603f5b56ce6f266791691f7f427c6f16", "sha256": "31097c1f688cae9c12c634fd597e1f0dea3e2e4a8e38c67b017df9a993e95f30"}, "downloads": -1, "filename": "geojsplit-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "603f5b56ce6f266791691f7f427c6f16", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4.0", "size": 8195, "upload_time": "2019-10-06T04:17:22", "upload_time_iso_8601": "2019-10-06T04:17:22.011478Z", "url": "https://files.pythonhosted.org/packages/e5/66/052c86fa497531bf23725406af69d2b1c4eab633b6281e72c99374a4a629/geojsplit-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "906180b544dda7aa9d08be494240e646", "sha256": "44d5721dbaf6e0045e0546cb6957a61d22991854304c65b5a7fe46dd9012385b"}, "downloads": -1, "filename": "geojsplit-0.1.2.tar.gz", "has_sig": false, "md5_digest": "906180b544dda7aa9d08be494240e646", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4.0", "size": 7980, "upload_time": "2019-10-06T04:17:23", "upload_time_iso_8601": "2019-10-06T04:17:23.489983Z", "url": "https://files.pythonhosted.org/packages/65/19/a4dbf77e49124d5ae17b3a1f13b7a4b9c3de9f011852b823c2019d3619a4/geojsplit-0.1.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:58:04 2020"}
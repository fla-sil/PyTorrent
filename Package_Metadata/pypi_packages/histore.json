{"info": {"author": "Heiko Mueller", "author_email": "heiko.muller@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": ".. image:: https://img.shields.io/badge/License-BSD-green.svg\n   :target: https://github.com/heikomuller/histore/blob/master/LICENSE\n\n.. image:: https://github.com/heikomuller/histore/workflows/build/badge.svg\n   :target: https://github.com/heikomuller/histore/actions?query=workflow%3A%22build%22\n\n.. image:: https://codecov.io/gh/heikomuller/histore/branch/master/graph/badge.svg\n    :target: https://codecov.io/gh/heikomuller/histore\n\n\n.. figure:: https://raw.githubusercontent.com/heikomuller/histore/master/docs/graphics/logo.png\n   :align: center\n   :alt: History Store\n\n\n\n**History Store** (histore) is a Pyhton package for maintaining snapshots of evolving data sets. This package provides an implementation of the core functionality that was implemented in the `XML Archiver (XArch) <http://xarch.sourceforge.net/>`_. The package is a lightweight implementation that is intended for maintaining data set snapshots that are represented as pandas data frames.\n\n**histore** is based on a nested merge approach that efficiently stores multiple dataset snapshots in a compact archive `[Buneman, Khanna, Tajima, Tan. 2004] <https://dl.acm.org/citation.cfm?id=974752>`_. The library allows one to create new archives, to merge new data set snapshots into an existing archive, and to retrieve data set snapshots from the archive.\n\n\nInstallation\n============\n\nInstall ``histore`` from the  `Python Package Index (PyPI) <https://pypi.org/>`_ using ``pip`` with:\n\n.. code-block:: bash\n\n  pip install histore\n\n\nExamples\n========\n\n**histore** maintains data set versions (snapshots) in an archive. A separate archive is created for each data set. The package currently provides two different types of archive: a volatile archive that maintains all data set snapshots in main-memory and a persistent archive that writes data set snapshots to disk.\n\n\nExample using Volatile Archive\n------------------------------\n\nStart by creating a new archive. At creating time, a primary key (list of column names) can be specified. If a promary key is given, the values in the key attributes are used as row keys when data set snapshots are merged into the archive. If no primary key is specified the row index of the data frame is used to match rows during the merge phase.\n\n.. code-block:: python\n\n   # Create a new archive that merges snapshots\n   # based on a primary key attribute\n\n   import histore as hs\n   archive = hs.Archive(primary_key='Name')\n\n\nAdd the first two data set versions to the archive:\n\n.. code-block:: python\n\n   import pandas as pd\n\n   # First version\n   df = pd.DataFrame(\n       data=[['Alice', 32], ['Bob', 45], ['Claire', 27], ['Dave', 23]],\n       columns=['Name', 'Age']\n   )\n   archive.commit(df, description='First snapshot')\n\n   # Second version: Change age for Alice and Bob\n   df = pd.DataFrame(\n       data=[['Alice', 33], ['Bob', 44], ['Claire', 27], ['Dave', 23]],\n       columns=['Name', 'Age']\n   )\n   archive.commit(df, description='Alice is 33 and Bob 44')\n\n\nList information about all snapshots in the archive. This also shows how to use the checkout method to retrieve a particular data set version:\n\n.. code-block:: python\n\n   # Print all data frame versions\n   for s in archive.snapshots():\n       df = archive.checkout(s.version)\n       print('({}) {}\\n'.format(s.version, s.description))\n       print(df)\n       print()\n\nThe result should look like this:\n\n.. code-block:: console\n\n   (0) First snapshot\n\n        Name  Age\n   0   Alice   32\n   1     Bob   45\n   2  Claire   27\n   3    Dave   23\n\n   (1) Alice is 33 and Bob 44\n\n        Name  Age\n   0   Alice   33\n   1     Bob   44\n   2  Claire   27\n   3    Dave   23\n\n\nExample using Persistent Archive\n--------------------------------\n\nTo create persistent archive that maintains all data on disk use the ``PersistentArchive`` class:\n\n.. code-block:: python\n\n   archive = hs.PersistentArchive(basedir='path/to/archive/dir', primary_key=['Name'])\n\nThe persistent archive maintains the data set snapshots in two files that are created in the directory that is given as the ``basedir`` argument.\n\nFor more examples see the notebooks in the `examples folder <https://github.com/heikomuller/histore/tree/pandas/examples>`_.\n\n\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/heikomuller/histore", "keywords": "data versioning", "license": "New BSD", "maintainer": "", "maintainer_email": "", "name": "histore", "package_url": "https://pypi.org/project/histore/", "platform": "", "project_url": "https://pypi.org/project/histore/", "project_urls": {"Homepage": "https://github.com/heikomuller/histore"}, "release_url": "https://pypi.org/project/histore/0.1.0/", "requires_dist": ["pandas (>=1.0.0)", "pyyaml", "Sphinx ; extra == 'docs'", "sphinx-rtd-theme ; extra == 'docs'", "coverage (>=4.0) ; extra == 'tests'", "pytest ; extra == 'tests'", "pytest-cov ; extra == 'tests'", "tox ; extra == 'tests'"], "requires_python": "", "summary": "Library for maintaining evolving tabular data sets", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://github.com/heikomuller/histore/blob/master/LICENSE\" rel=\"nofollow\"><img alt=\"https://img.shields.io/badge/License-BSD-green.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/02dc33b86e3949bff79e2cb877dcca4dfdc47fdf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4253442d677265656e2e737667\"></a>\n<a href=\"https://github.com/heikomuller/histore/actions?query=workflow%3A%22build%22\" rel=\"nofollow\"><img alt=\"https://github.com/heikomuller/histore/workflows/build/badge.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/25f41b43c6b5a8e7c418bc2387c090cae258f9ca/68747470733a2f2f6769746875622e636f6d2f6865696b6f6d756c6c65722f686973746f72652f776f726b666c6f77732f6275696c642f62616467652e737667\"></a>\n<a href=\"https://codecov.io/gh/heikomuller/histore\" rel=\"nofollow\"><img alt=\"https://codecov.io/gh/heikomuller/histore/branch/master/graph/badge.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/46d4c36e7d6f857e60dcfaece260e0e7c742202d/68747470733a2f2f636f6465636f762e696f2f67682f6865696b6f6d756c6c65722f686973746f72652f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a>\n<div>\n<img alt=\"History Store\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/bf83d1cc04b9b85debf53ae30783962b5c75a552/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6865696b6f6d756c6c65722f686973746f72652f6d61737465722f646f63732f67726170686963732f6c6f676f2e706e67\">\n</div>\n<p><strong>History Store</strong> (histore) is a Pyhton package for maintaining snapshots of evolving data sets. This package provides an implementation of the core functionality that was implemented in the <a href=\"http://xarch.sourceforge.net/\" rel=\"nofollow\">XML Archiver (XArch)</a>. The package is a lightweight implementation that is intended for maintaining data set snapshots that are represented as pandas data frames.</p>\n<p><strong>histore</strong> is based on a nested merge approach that efficiently stores multiple dataset snapshots in a compact archive <a href=\"https://dl.acm.org/citation.cfm?id=974752\" rel=\"nofollow\">[Buneman, Khanna, Tajima, Tan. 2004]</a>. The library allows one to create new archives, to merge new data set snapshots into an existing archive, and to retrieve data set snapshots from the archive.</p>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>Install <tt>histore</tt> from the  <a href=\"https://pypi.org/\" rel=\"nofollow\">Python Package Index (PyPI)</a> using <tt>pip</tt> with:</p>\n<pre>pip install histore\n</pre>\n</div>\n<div id=\"examples\">\n<h2>Examples</h2>\n<p><strong>histore</strong> maintains data set versions (snapshots) in an archive. A separate archive is created for each data set. The package currently provides two different types of archive: a volatile archive that maintains all data set snapshots in main-memory and a persistent archive that writes data set snapshots to disk.</p>\n<div id=\"example-using-volatile-archive\">\n<h3>Example using Volatile Archive</h3>\n<p>Start by creating a new archive. At creating time, a primary key (list of column names) can be specified. If a promary key is given, the values in the key attributes are used as row keys when data set snapshots are merged into the archive. If no primary key is specified the row index of the data frame is used to match rows during the merge phase.</p>\n<pre><span class=\"c1\"># Create a new archive that merges snapshots</span>\n<span class=\"c1\"># based on a primary key attribute</span>\n\n<span class=\"kn\">import</span> <span class=\"nn\">histore</span> <span class=\"k\">as</span> <span class=\"nn\">hs</span>\n<span class=\"n\">archive</span> <span class=\"o\">=</span> <span class=\"n\">hs</span><span class=\"o\">.</span><span class=\"n\">Archive</span><span class=\"p\">(</span><span class=\"n\">primary_key</span><span class=\"o\">=</span><span class=\"s1\">'Name'</span><span class=\"p\">)</span>\n</pre>\n<p>Add the first two data set versions to the archive:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n\n<span class=\"c1\"># First version</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span>\n    <span class=\"n\">data</span><span class=\"o\">=</span><span class=\"p\">[[</span><span class=\"s1\">'Alice'</span><span class=\"p\">,</span> <span class=\"mi\">32</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s1\">'Bob'</span><span class=\"p\">,</span> <span class=\"mi\">45</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s1\">'Claire'</span><span class=\"p\">,</span> <span class=\"mi\">27</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s1\">'Dave'</span><span class=\"p\">,</span> <span class=\"mi\">23</span><span class=\"p\">]],</span>\n    <span class=\"n\">columns</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'Name'</span><span class=\"p\">,</span> <span class=\"s1\">'Age'</span><span class=\"p\">]</span>\n<span class=\"p\">)</span>\n<span class=\"n\">archive</span><span class=\"o\">.</span><span class=\"n\">commit</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">,</span> <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s1\">'First snapshot'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Second version: Change age for Alice and Bob</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span>\n    <span class=\"n\">data</span><span class=\"o\">=</span><span class=\"p\">[[</span><span class=\"s1\">'Alice'</span><span class=\"p\">,</span> <span class=\"mi\">33</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s1\">'Bob'</span><span class=\"p\">,</span> <span class=\"mi\">44</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s1\">'Claire'</span><span class=\"p\">,</span> <span class=\"mi\">27</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s1\">'Dave'</span><span class=\"p\">,</span> <span class=\"mi\">23</span><span class=\"p\">]],</span>\n    <span class=\"n\">columns</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'Name'</span><span class=\"p\">,</span> <span class=\"s1\">'Age'</span><span class=\"p\">]</span>\n<span class=\"p\">)</span>\n<span class=\"n\">archive</span><span class=\"o\">.</span><span class=\"n\">commit</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">,</span> <span class=\"n\">description</span><span class=\"o\">=</span><span class=\"s1\">'Alice is 33 and Bob 44'</span><span class=\"p\">)</span>\n</pre>\n<p>List information about all snapshots in the archive. This also shows how to use the checkout method to retrieve a particular data set version:</p>\n<pre><span class=\"c1\"># Print all data frame versions</span>\n<span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">archive</span><span class=\"o\">.</span><span class=\"n\">snapshots</span><span class=\"p\">():</span>\n    <span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">archive</span><span class=\"o\">.</span><span class=\"n\">checkout</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">version</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'(</span><span class=\"si\">{}</span><span class=\"s1\">) </span><span class=\"si\">{}</span><span class=\"se\">\\n</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">version</span><span class=\"p\">,</span> <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">description</span><span class=\"p\">))</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">()</span>\n</pre>\n<p>The result should look like this:</p>\n<pre><span class=\"gp-VirtualEnv\">(0)</span> <span class=\"go\">First snapshot\n\n     Name  Age\n0   Alice   32\n1     Bob   45\n2  Claire   27\n3    Dave   23\n\n</span><span class=\"gp-VirtualEnv\">(1)</span> <span class=\"go\">Alice is 33 and Bob 44\n\n     Name  Age\n0   Alice   33\n1     Bob   44\n2  Claire   27\n3    Dave   23</span>\n</pre>\n</div>\n<div id=\"example-using-persistent-archive\">\n<h3>Example using Persistent Archive</h3>\n<p>To create persistent archive that maintains all data on disk use the <tt>PersistentArchive</tt> class:</p>\n<pre><span class=\"n\">archive</span> <span class=\"o\">=</span> <span class=\"n\">hs</span><span class=\"o\">.</span><span class=\"n\">PersistentArchive</span><span class=\"p\">(</span><span class=\"n\">basedir</span><span class=\"o\">=</span><span class=\"s1\">'path/to/archive/dir'</span><span class=\"p\">,</span> <span class=\"n\">primary_key</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s1\">'Name'</span><span class=\"p\">])</span>\n</pre>\n<p>The persistent archive maintains the data set snapshots in two files that are created in the directory that is given as the <tt>basedir</tt> argument.</p>\n<p>For more examples see the notebooks in the <a href=\"https://github.com/heikomuller/histore/tree/pandas/examples\" rel=\"nofollow\">examples folder</a>.</p>\n</div>\n</div>\n\n          </div>"}, "last_serial": 7182679, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "f3c11ab2d87f758c07f3231bd68036ef", "sha256": "1fb073bb81fd0075272b462b17c303addbbb46e1ae77cfef68e04770565ded9e"}, "downloads": -1, "filename": "histore-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "f3c11ab2d87f758c07f3231bd68036ef", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 55984, "upload_time": "2020-05-06T19:44:10", "upload_time_iso_8601": "2020-05-06T19:44:10.114856Z", "url": "https://files.pythonhosted.org/packages/63/28/191c3a048b4c7129b8a5a60c7f18702451ae73db9a3b4b7981ba201c2fa2/histore-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4176d2fcb8eef20ac0f3c0f5d8b9e376", "sha256": "899732b33016230c4b40670a8a69fd664cf47b4cc32ec935c44fc3ff0ac8963b"}, "downloads": -1, "filename": "histore-0.1.0.tar.gz", "has_sig": false, "md5_digest": "4176d2fcb8eef20ac0f3c0f5d8b9e376", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 42441, "upload_time": "2020-05-06T19:44:13", "upload_time_iso_8601": "2020-05-06T19:44:13.066344Z", "url": "https://files.pythonhosted.org/packages/e1/e1/71dc5b47a9d25bbedbe3d740274fc9ce77de413e1406ccf30f9ba0940e6e/histore-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f3c11ab2d87f758c07f3231bd68036ef", "sha256": "1fb073bb81fd0075272b462b17c303addbbb46e1ae77cfef68e04770565ded9e"}, "downloads": -1, "filename": "histore-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "f3c11ab2d87f758c07f3231bd68036ef", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 55984, "upload_time": "2020-05-06T19:44:10", "upload_time_iso_8601": "2020-05-06T19:44:10.114856Z", "url": "https://files.pythonhosted.org/packages/63/28/191c3a048b4c7129b8a5a60c7f18702451ae73db9a3b4b7981ba201c2fa2/histore-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4176d2fcb8eef20ac0f3c0f5d8b9e376", "sha256": "899732b33016230c4b40670a8a69fd664cf47b4cc32ec935c44fc3ff0ac8963b"}, "downloads": -1, "filename": "histore-0.1.0.tar.gz", "has_sig": false, "md5_digest": "4176d2fcb8eef20ac0f3c0f5d8b9e376", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 42441, "upload_time": "2020-05-06T19:44:13", "upload_time_iso_8601": "2020-05-06T19:44:13.066344Z", "url": "https://files.pythonhosted.org/packages/e1/e1/71dc5b47a9d25bbedbe3d740274fc9ce77de413e1406ccf30f9ba0940e6e/histore-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:51:05 2020"}
{"info": {"author": "Plone Foundation", "author_email": "plone-developers@lists.sourceforge.net", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Environment :: Web Environment", "Framework :: Plone", "Framework :: Plone :: 5.2", "Framework :: Plone :: Core", "Framework :: Zope :: 4", "License :: OSI Approved :: GNU General Public License v2 (GPLv2)", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Internet :: WWW/HTTP :: Dynamic Content"], "description": "Introduction\n============\n\n.. contents:: Table of contents\n\n``plone.app.testing`` provides tools for writing integration and functional\ntests for code that runs on top of Plone. It is based on `plone.testing`_.\nIf you are unfamiliar with ``plone.testing``, the concept of layers, or the\n`zope.testing`_ testrunner, please take a look at the the ``plone.testing``\ndocumentation. In fact, even if you are working exclusively with Plone, you\nare likely to want to use some of its features for unit testing.\n\nIn short, ``plone.app.testing`` includes:\n\n* A set of layers that set up fixtures containing a Plone site, intended for\n  writing integration and functional tests.\n* A collection of helper functions, some useful for writing your own layers\n  and some applicable to tests themselves.\n* A convenient layer base class, extending ``plone.testing.Layer``, which\n  makes it easier to write custom layers extending the Plone site fixture,\n  with proper isolation and tear-down.\n* Cleanup hooks for ``zope.testing.cleanup`` to clean up global state found\n  in a Plone installation. This is useful for unit testing.\n\nCompatibility\n-------------\n\n``plone.app.testing`` 5.x works with Plone 5.\n``plone.app.testing`` 4.x works with Plone 4 and Zope 2.12. It may work with\nnewer versions. It will not work with earlier versions. Use\n``plone.app.testing`` 3.x for Plone 3 and Zope 2.10.\n\nInstallation and usage\n======================\n\nTo use ``plone.app.testing`` in your own package, you need to add it as a\ndependency. Most people prefer to keep test-only dependencies separate, so\nthat they do not need to be installed in scenarios (such as on a production\nserver) where the tests will not be run. This can be achieved using a\n``test`` extra.\n\nIn ``setup.py``, add or modify the ``extras_require`` option, like so::\n\n    extras_require = {\n        'test': [\n                'plone.app.testing',\n            ]\n    },\n\nThis will also include ``plone.testing``, with the ``[z2]``, ``[zca]`` and\n``[zodb]`` extras (which ``plone.app.testing`` itself relies on).\n\nPlease see the `plone.testing`_ documentation for more details about how to\nadd a test runner to your buildout, and how to write and run tests.\n\nLayer reference\n===============\n\nThis package contains a layer class,\n``plone.app.testing.layers.PloneFixture``, which sets up a Plone site fixture.\nIt is combined with other layers from `plone.testing`_ to provide a number of\nlayer instances. It is important to realise that these layers all have the\nsame fundamental fixture: they just manage test setup and tear-down\ndifferently.\n\nWhen set up, the fixture will:\n\n* Create a ZODB sandbox, via a stacked ``DemoStorage``. This ensures\n  persistent changes made during layer setup can be cleanly torn down.\n* Configure a global component registry sandbox. This ensures that global\n  component registrations (e.g. as a result of loading ZCML configuration)\n  can be cleanly torn down.\n* Create a configuration context with the ``disable-autoinclude`` feature\n  set. This has the effect of stopping Plone from automatically loading the\n  configuration of any installed package that uses the\n  ``z3c.autoinclude.plugin:plone`` entry point via `z3c.autoinclude`_. (This\n  is to avoid accidentally polluting the test fixture - custom layers should\n  load packages' ZCML configuration explicitly if required).\n* Install a number of Zope 2-style products on which Plone depends.\n* Load the ZCML for these products, and for ``Products.CMFPlone``, which in\n  turn pulls in the configuration for the core of Plone.\n* Create a default Plone site, with the default theme enabled, but with no\n  default content.\n* Add a user to the root user folder with the ``Manager`` role.\n* Add a test user to this instance with the ``Member`` role.\n\nFor each test:\n\n* The test user is logged in\n* The local component site is set\n* Various global caches are cleaned up\n\nVarious constants in the module ``plone.app.testing.interfaces`` are defined\nto describe this environment:\n\n+----------------------+--------------------------------------------------+\n| **Constant**         | **Purpose**                                      |\n+----------------------+--------------------------------------------------+\n| PLONE_SITE_ID        | The id of the Plone site object inside the Zope  |\n|                      | application root.                                |\n+----------------------+--------------------------------------------------+\n| PLONE_SITE_TITLE     | The title of the Plone site                      |\n+----------------------+--------------------------------------------------+\n| DEFAULT_LANGUAGE     | The default language of the Plone site ('en')    |\n+----------------------+--------------------------------------------------+\n| TEST_USER_ID         | The id of the test user                          |\n+----------------------+--------------------------------------------------+\n| TEST_USER_NAME       | The username of the test user                    |\n+----------------------+--------------------------------------------------+\n| TEST_USER_PASSWORD   | The password of the test user                    |\n+----------------------+--------------------------------------------------+\n| TEST_USER_ROLES      | The default global roles of the test user -      |\n|                      | ('Member',)                                      |\n+----------------------+--------------------------------------------------+\n| SITE_OWNER_NAME      | The username of the user owning the Plone site.  |\n+----------------------+--------------------------------------------------+\n| SITE_OWNER_PASSWORD  | The password of the user owning the Plone site.  |\n+----------------------+--------------------------------------------------+\n\nAll the layers also expose a resource in addition to those from their\nbase layers, made available during tests:\n\n``portal``\n   The Plone site root.\n\nPlone site fixture\n------------------\n\n+------------+--------------------------------------------------+\n| Layer:     | ``plone.app.testing.PLONE_FIXTURE``              |\n+------------+--------------------------------------------------+\n| Class:     | ``plone.app.testing.layers.PloneFixture``        |\n+------------+--------------------------------------------------+\n| Bases:     | ``plone.testing.z2.STARTUP``                     |\n+------------+--------------------------------------------------+\n| Resources: |                                                  |\n+------------+--------------------------------------------------+\n\nThis layer sets up the Plone site fixture on top of the ``z2.STARTUP``\nfixture.\n\nYou should not use this layer directly, as it does not provide any test\nlifecycle or transaction management. Instead, you should use a layer\ncreated with either the ``IntegrationTesting`` or ``FunctionalTesting``\nclasses, as outlined below.\n\nMock MailHost\n-------------\n\n+------------+--------------------------------------------------+\n| Layer:     | ``plone.app.testing.MOCK_MAILHOST_FIXTURE``      |\n+------------+--------------------------------------------------+\n| Class:     | ``plone.app.testing.layers.MockMailHostLayer``   |\n+------------+--------------------------------------------------+\n| Bases:     | ``plone.app.testing.layers.PLONE_FIXTURE``       |\n+------------+--------------------------------------------------+\n| Resources: |                                                  |\n+------------+--------------------------------------------------+\n\nThis layer builds on top of ``PLONE_FIXTURE`` to patch Plone's MailHost implementation.\n\nWith it,\nany attempt to send an email will instead store each of them as a string in a list in ``portal.MailHost.messages``.\n\nYou should not use this layer directly, as it does not provide any test\nlifecycle or transaction management. Instead, you should use a layer\ncreated with either the ``IntegrationTesting`` or ``FunctionalTesting``\nclasses, like::\n\n    from plone.app.testing import MOCK_MAILHOST_FIXTURE\n\n    MY_INTEGRATION_TESTING = IntegrationTesting(\n        bases=(\n            MY_FIXTURE,\n            MOCK_MAILHOST_FIXTURE,\n        ),\n        name=\"MyFixture:Integration\"\n    )\n\n\nPloneWithPackageLayer class\n---------------------------\n\nMost add-ons do not need more setup than loading a ZCML file and\nrunning a GenericSetup profile.\n\nWith this helper class, a fixture can easily be instantiated::\n\n    from plone.app.testing import PloneWithPackageLayer\n    import my.addon\n\n    FIXTURE = PloneWithPackageLayer(\n        zcml_package=my.addon,\n        zcml_filename='configure.zcml',\n        gs_profile_id='my.addon:default',\n        name=\"MyAddonFixture\"\n    )\n\nPloneWithPackageLayer constructor takes two other keyword arguments:\n``bases`` and ``additional_z2_products``.\n\nThe ``bases`` argument takes a sequence of base layer fixtures.\nIt is useful, among other reasons,\nto pass a fixture which makes other calls to plone.app.testing API.\nThe need could arise in the development process.\n\n``additional_z2_products`` argument takes a sequence of package names\nthat need to be installed as Zope2 Products and are dependencies of the tested add-on.\n\nIntegration and functional testing test lifecycles\n--------------------------------------------------\n\n``plone.app.testing`` comes with two layer classes, ``IntegrationTesting``\nand ``FunctionalTesting``, which derive from the corresponding layer classes\nin ``plone.testing.z2``.\n\nThese classes set up the ``app``, ``request`` and ``portal`` resources, and\nreset the fixture (including various global caches) between each test run.\n\nAs with the classes in ``plone.testing``, the ``IntegrationTesting`` class\nwill create a new transaction for each test and roll it back on test tear-\ndown, which is efficient for integration testing, whilst ``FunctionalTesting``\nwill create a stacked ``DemoStorage`` for each test and pop it on test tear-\ndown, making it possible to exercise code that performs an explicit commit\n(e.g. via tests that use ``zope.testbrowser``).\n\nWhen creating a custom fixture, the usual pattern is to create a new layer\nclass that has ``PLONE_FIXTURE`` as its default base, instantiating that as a\nseparate \"fixture\" layer. This layer is not to be used in tests directly,\nsince it won't have test/transaction lifecycle management, but represents a\nshared fixture, potentially for both functional and integration testing. It\nis also the point of extension for other layers that follow the same pattern.\n\nOnce this fixture has been defined, \"end-user\" layers can be defined using\nthe ``IntegrationTesting`` and ``FunctionalTesting`` classes. For example::\n\n    from plone.testing import Layer\n    from plone.app.testing import PLONE_FIXTURE\n    from plone.app.testing import IntegrationTesting, FunctionalTesting\n\n    class MyFixture(Layer):\n        defaultBases = (PLONE_FIXTURE,)\n\n        ...\n\n    MY_FIXTURE = MyFixture()\n\n    MY_INTEGRATION_TESTING = IntegrationTesting(bases=(MY_FIXTURE,), name=\"MyFixture:Integration\")\n    MY_FUNCTIONAL_TESTING = FunctionalTesting(bases=(MY_FIXTURE,), name=\"MyFixture:Functional\")\n\nSee the ``PloneSandboxLayer`` layer below for a more comprehensive example.\n\nPlone integration testing\n-------------------------\n\n+------------+--------------------------------------------------+\n| Layer:     | ``plone.app.testing.PLONE_INTEGRATION_TESTING``  |\n+------------+--------------------------------------------------+\n| Class:     | ``plone.app.testing.layers.IntegrationTesting``  |\n+------------+--------------------------------------------------+\n| Bases:     | ``plone.app.testing.PLONE_FIXTURE``              |\n+------------+--------------------------------------------------+\n| Resources: | ``portal`` (test setup only)                     |\n+------------+--------------------------------------------------+\n\nThis layer can be used for integration testing against the basic\n``PLONE_FIXTURE`` layer.\n\nYou can use this directly in your tests if you do not need to set up any\nother shared fixture.\n\nHowever, you would normally not extend this layer - see above.\n\n\nPlone functional testing\n------------------------\n\n+------------+--------------------------------------------------+\n| Layer:     | ``plone.app.testing.PLONE_FUNCTIONAL_TESTING``   |\n+------------+--------------------------------------------------+\n| Class:     | ``plone.app.testing.layers.FunctionalTesting``   |\n+------------+--------------------------------------------------+\n| Bases:     | ``plone.app.testing.PLONE_FIXTURE``              |\n+------------+--------------------------------------------------+\n| Resources: | ``portal`` (test setup only)                     |\n+------------+--------------------------------------------------+\n\nThis layer can be used for functional testing against the basic\n``PLONE_FIXTURE`` layer, for example using ``zope.testbrowser``.\n\nYou can use this directly in your tests if you do not need to set up any\nother shared fixture.\n\nAgain, you would normally not extend this layer - see above.\n\nPlone ZServer\n-------------\n\n+------------+--------------------------------------------------+\n| Layer:     | ``plone.app.testing.PLONE_ZSERVER``              |\n+------------+--------------------------------------------------+\n| Class:     | ``plone.testing.z2.ZServer``                     |\n+------------+--------------------------------------------------+\n| Bases:     | ``plone.app.testing.PLONE_FUNCTIONAL_TESTING``   |\n+------------+--------------------------------------------------+\n| Resources: | ``portal`` (test setup only)                     |\n+------------+--------------------------------------------------+\n\nThis is layer is intended for functional testing using a live, running HTTP\nserver, e.g. using Selenium or Windmill.\n\nAgain, you would not normally extend this layer. To create a custom layer\nthat has a running ZServer, you can use the same pattern as this one, e.g.::\n\n    from plone.testing import Layer\n    from plone.testing import z2\n    from plone.app.testing import PLONE_FIXTURE\n    from plone.app.testing import FunctionalTesting\n\n    class MyFixture(Layer):\n        defaultBases = (PLONE_FIXTURE,)\n\n        ...\n\n    MY_FIXTURE = MyFixture()\n    MY_ZSERVER = FunctionalTesting(bases=(MY_FIXTURE, z2.ZSERVER_FIXTURE), name='MyFixture:ZServer')\n\nSee the description of the ``z2.ZSERVER`` layer in `plone.testing`_\nfor further details.\n\nPlone FTP server\n----------------\n\n+------------+--------------------------------------------------+\n| Layer:     | ``plone.app.testing.PLONE_FTP_SERVER``           |\n+------------+--------------------------------------------------+\n| Class:     | ``plone.app.testing.layers.FunctionalTesting``   |\n+------------+--------------------------------------------------+\n| Bases:     | ``plone.app.testing.PLONE_FIXTURE``              |\n|            | ``plone.testing.z2.ZSERVER_FIXTURE``             |\n+------------+--------------------------------------------------+\n| Resources: | ``portal`` (test setup only)                     |\n+------------+--------------------------------------------------+\n\nThis is layer is intended for functional testing using a live FTP server.\n\nIt is semantically equivalent to the ``PLONE_ZSERVER`` layer.\n\nSee the description of the ``z2.FTP_SERVER`` layer in `plone.testing`_\nfor further details.\n\nHelper functions\n================\n\nA number of helper functions are provided for use in tests and custom layers.\n\nPlone site context manager\n--------------------------\n\n``ploneSite(db=None, connection=None, environ=None)``\n    Use this context manager to access and make changes to the Plone site\n    during layer setup. In most cases, you will use it without arguments,\n    but if you have special needs, you can tie it to a particular database\n    instance. See the description of the ``zopeApp()`` context manager in\n    `plone.testing`_ (which this context manager uses internally) for details.\n\n    The usual pattern is to call it during ``setUp()`` or ``tearDown()`` in\n    your own layers::\n\n        from plone.testing import Layer\n        from plone.app.testing import ploneSite\n\n        class MyLayer(Layer):\n\n            def setUp(self):\n\n                ...\n\n                with ploneSite() as portal:\n\n                    # perform operations on the portal, e.g.\n                    portal.title = u\"New title\"\n\n    Here, ``portal`` is the Plone site root. A transaction is begun before\n    entering the ``with`` block, and will be committed upon exiting the block,\n    unless an exception is raised, in which case it will be rolled back.\n\n    Inside the block, the local component site is set to the Plone site root,\n    so that local component lookups should work.\n\n    **Warning:** Do not attempt to load ZCML files inside a ``ploneSite``\n    block. Because the local site is set to the Plone site, you may end up\n    accidentally registering components in the local site manager, which can\n    cause pickling errors later.\n\n    **Note:** You should not use this in a test, or in a ``testSetUp()`` or\n    ``testTearDown()`` method of a layer based on one of the layer in this\n    package. Use the ``portal`` resource instead.\n\n    **Also note:** If you are writing a layer setting up a Plone site fixture,\n    you may want to use the ``PloneSandboxLayer`` layer base class, and\n    implement the ``setUpZope()``, ``setUpPloneSite()``, ``tearDownZope()``\n    and/or ``tearDownPloneSite()`` methods instead. See below.\n\nUser management\n---------------\n\n``login(portal, userName)``\n    Simulate login as the given user. This is based on the ``z2.login()``\n    helper in `plone.testing`_, but instead of passing a specific user folder,\n    you pass the portal (e.g. as obtained via the ``portal`` layer resource).\n\n    For example::\n\n        import unittest2 as unittest\n\n        from plone.app.testing import PLONE_INTEGRATION_TESTING\n        from plone.app.testing import TEST_USER_NAME\n        from plone.app.testing import login\n\n        ...\n\n        class MyTest(unittest.TestCase):\n\n            layer = PLONE_INTEGRATION_TESTING\n\n            def test_something(self):\n                portal = self.layer['portal']\n                login(portal, TEST_USER_NAME)\n\n                ...\n\n``logout()``\n    Simulate logging out, i.e. becoming the anonymous user. This is equivalent\n    to the ``z2.logout()`` helper in `plone.testing`_.\n\n    For example::\n\n        import unittest2 as unittest\n\n        from plone.app.testing import PLONE_INTEGRATION_TESTING\n        from plone.app.testing import logout\n\n        ...\n\n        class MyTest(unittest.TestCase):\n\n            layer = PLONE_INTEGRATION_TESTING\n\n            def test_something(self):\n                portal = self.layer['portal']\n                logout()\n\n                ...\n\n``setRoles(portal, userId, roles)``\n    Set the roles for the given user. ``roles`` is a list of roles.\n\n    For example::\n\n        import unittest2 as unittest\n\n        from plone.app.testing import PLONE_INTEGRATION_TESTING\n        from plone.app.testing import TEST_USER_ID\n        from plone.app.testing import setRoles\n\n        ...\n\n        class MyTest(unittest.TestCase):\n\n            layer = PLONE_INTEGRATION_TESTING\n\n            def test_something(self):\n                portal = self.layer['portal']\n                setRoles(portal, TEST_USER_ID, ['Manager'])\n\nProduct and profile installation\n--------------------------------\n\n``applyProfile(portal, profileName, blacklisted_steps=None)``\n    Install a GenericSetup profile (usually an extension profile) by name,\n    using the ``portal_setup`` tool. The name is normally made up of a package\n    name and a profile name. Do not use the ``profile-`` prefix.\n\n    For example::\n\n        from plone.testing import Layer\n\n        from plone.app.testing import ploneSite\n        from plone.app.testing import applyProfile\n\n        ...\n\n        class MyLayer(Layer):\n\n            ...\n\n            def setUp(self):\n\n                ...\n\n                with ploneSite() as portal:\n                    applyProfile(portal, 'my.product:default')\n\n                    ...\n\n``quickInstallProduct(portal, productName, reinstall=False)``\n    Use this function to install a particular product into the given Plone\n    site, using the ``portal_quickinstaller`` tool. If ``reinstall`` is\n    ``False`` and the product is already installed, nothing will happen; if\n    ``reinstall`` is ``True``, the product will be reinstalled. The\n    ``productName`` should be a full dotted name, e.g. ``Products.MyProduct``,\n    or ``my.product``.\n\n    For example::\n\n        from plone.testing import Layer\n\n        from plone.app.testing import ploneSite\n        from plone.app.testing import quickInstallProduct\n\n        ...\n\n        class MyLayer(Layer):\n\n            ...\n\n            def setUp(self):\n\n                ...\n\n                with ploneSite() as portal:\n                    quickInstallProduct(portal, 'my.product')\n\n                    ...\n\nComponent architecture sandboxing\n---------------------------------\n\n``pushGlobalRegistry(portal, new=None, name=None)``\n    Create or obtain a stack of global component registries, and push a new\n    registry to the top of the stack. This allows Zope Component Architecture\n    registrations (e.g. loaded via ZCML) to be effectively torn down.\n\n    If you are going to use this function, please read the corresponding\n    documentation for ``zca.pushGlobalRegistry()`` in `plone.testing`_. In\n    particular, note that you *must* reciprocally call ``popGlobalRegistry()``\n    (see below).\n\n    This helper is based on ``zca.pushGlobalRegistry()``, but will also fix\n    up the local component registry in the Plone site ``portal`` so that it\n    has the correct bases.\n\n    For example::\n\n        from plone.testing import Layer\n\n        from plone.app.testing import ploneSite\n        from plone.app.testing import pushGlobalRegistry\n        from plone.app.testing import popGlobalRegistry\n\n        ...\n\n        class MyLayer(Layer):\n\n            ...\n\n            def setUp(self):\n\n                ...\n\n                with ploneSite() as portal:\n                    pushGlobalRegistry(portal)\n\n                    ...\n\n``popGlobalRegistry(portal)``\n    Tear down the top of the component architecture stack, as created with\n    ``pushGlobalRegistry()``\n\n    For example::\n\n        ...\n\n            def tearDown(self):\n\n                with ploneSite() as portal:\n                    popGlobalRegistry(portal)\n\nGlobal state cleanup\n--------------------\n\n``tearDownMultiPluginRegistration(pluginName)``\n    PluggableAuthService \"MultiPlugins\" are kept in a global registry. If\n    you have registered a plugin, e.g. using the ``registerMultiPlugin()``\n    API, you should tear that registration down in your layer's ``tearDown()``\n    method. You can use this helper, passing a plugin name.\n\n    For example::\n\n        from plone.testing import Layer\n\n        from plone.app.testing import ploneSite\n        from plone.app.testing import tearDownMultiPluginRegistration\n\n        ...\n\n        class MyLayer(Layer):\n\n            ...\n\n            def tearDown(self):\n\n                tearDownMultiPluginRegistration('MyPlugin')\n\n                ...\n\nLayer base class\n================\n\nIf you are writing a custom layer to test your own Plone add-on product, you\nwill often want to do the following on setup:\n\n1. Stack a new ``DemoStorage`` on top of the one from the base layer. This\n   ensures that any persistent changes performed during layer setup can be\n   torn down completely, simply by popping the demo storage.\n\n2. Stack a new ZCML configuration context. This keeps separate the information\n   about which ZCML files were loaded, in case other, independent layers want\n   to load those same files after this layer has been torn down.\n\n3. Push a new global component registry. This allows you to register\n   components (e.g. by loading ZCML or using the test API from\n   ``zope.component``) and tear down those registration easily by popping the\n   component registry.\n\n4. Load your product's ZCML configuration\n\n5. Install the product into the test fixture Plone site\n\nOf course, you may wish to make other changes too, such as creating some base\ncontent or changing some settings.\n\nOn tear-down, you will then want to:\n\n1. Remove any Pluggable Authentication Service \"multi-plugins\" that were added\n   to the global registry during setup.\n\n2. Pop the global component registry to unregister components loaded via ZCML.\n\n3. Pop the configuration context resource to restore its state.\n\n4. Pop the ``DemoStorage`` to undo any persistent changes.\n\nIf you have made other changes on setup that are not covered by this broad\ntear-down, you'll also want to tear those down explicitly here.\n\nStacking a demo storage and component registry is the safest way to avoid\nfixtures bleeding between tests. However, it can be tricky to ensure that\neverything happens in the right order.\n\nTo make things easier, you can use the ``PloneSandboxLayer`` layer base class.\nThis extends ``plone.testing.Layer`` and implements ``setUp()`` and\n``tearDown()`` for you. You simply have to override one or more of the\nfollowing methods:\n\n``setUpZope(self, app, configurationContext)``\n    This is called during setup. ``app`` is the Zope application root.\n    ``configurationContext`` is a newly stacked ZCML configuration context.\n    Use this to load ZCML, install products using the helper\n    ``plone.testing.z2.installProduct()``, or manipulate other global state.\n\n``setUpPloneSite(self, portal)``\n    This is called during setup. ``portal`` is the Plone site root as\n    configured by the ``ploneSite()`` context manager. Use this to make\n    persistent changes inside the Plone site, such as installing products\n    using the ``applyProfile()`` or ``quickInstallProduct()`` helpers, or\n    setting up default content.\n\n``tearDownZope(self, app)``\n    This is called during tear-down, before the global component registry and\n    stacked ``DemoStorage`` are popped. Use this to tear down any additional\n    global state.\n\n    **Note:** Global component registrations PAS multi-plugin registrations are\n    automatically torn down. Product installations are not, so you should use\n    the ``uninstallProduct()`` helper if any products were installed during\n    ``setUpZope()``.\n\n``tearDownPloneSite(self, portal)``\n    This is called during tear-down, before the global component registry and\n    stacked ``DemoStorage`` are popped. During this method, the local\n    component site hook is set, giving you access to local components.\n\n    **Note:** Persistent changes to the ZODB are automatically torn down by\n    virtue of a stacked ``DemoStorage``. Thus, this method is less commonly\n    used than the others described here.\n\nLet's show a more comprehensive example of what such a layer may look like.\nImagine we have a product ``my.product``. It has a ``configure.zcml`` file\nthat loads some components and registers a ``GenericSetup`` profile, making it\ninstallable in the Plone site. On layer setup, we want to load the product's\nconfiguration and install it into the Plone site.\n\nThe layer would conventionally live in a module ``testing.py`` at the root of\nthe package, i.e. ``my.product.testing``::\n\n    from plone.app.testing import PloneSandboxLayer\n    from plone.app.testing import PLONE_FIXTURE\n    from plone.app.testing import IntegrationTesting\n\n    from plone.testing import z2\n\n    class MyProduct(PloneSandboxLayer):\n\n        defaultBases = (PLONE_FIXTURE,)\n\n        def setUpZope(self, app, configurationContext):\n            # Load ZCML\n            import my.product\n            self.loadZCML(package=my.product)\n\n            # Install product and call its initialize() function\n            z2.installProduct(app, 'my.product')\n\n            # Note: you can skip this if my.product is not a Zope 2-style\n            # product, i.e. it is not in the Products.* namespace and it\n            # does not have a <five:registerPackage /> directive in its\n            # configure.zcml.\n\n        def setUpPloneSite(self, portal):\n            # Install into Plone site using portal_setup\n            self.applyProfile(portal, 'my.product:default')\n\n        def tearDownZope(self, app):\n            # Uninstall product\n            z2.uninstallProduct(app, 'my.product')\n\n            # Note: Again, you can skip this if my.product is not a Zope 2-\n            # style product\n\n    MY_PRODUCT_FIXTURE = MyProduct()\n    MY_PRODUCT_INTEGRATION_TESTING = IntegrationTesting(bases=(MY_PRODUCT_FIXTURE,), name=\"MyProduct:Integration\")\n\nHere, ``MY_PRODUCT_FIXTURE`` is the \"fixture\" base layer. Other layers can\nuse this as a base if they want to build on this fixture, but it would not\nbe used in tests directly. For that, we have created an ``IntegrationTesting``\ninstance, ``MY_PRODUCT_INTEGRATION_TESTING``.\n\nOf course, we could have created a ``FunctionalTesting`` instance as\nwell, e.g.::\n\n    MY_PRODUCT_FUNCTIONAL_TESTING = FunctionalTesting(bases=(MY_PRODUCT_FIXTURE,), name=\"MyProduct:Functional\")\n\nOf course, we could do a lot more in the layer setup. For example, let's say\nthe product had a content type 'my.product.page' and we wanted to create some\ntest content. We could do that with::\n\n    from plone.app.testing import TEST_USER_ID\n    from plone.app.testing import TEST_USER_NAME\n    from plone.app.testing import login\n    from plone.app.testing import setRoles\n\n    ...\n\n        def setUpPloneSite(self, portal):\n\n            ...\n\n            setRoles(portal, TEST_USER_ID, ['Manager'])\n            login(portal, TEST_USER_NAME)\n            portal.invokeFactory('my.product.page', 'page-1', title=u\"Page 1\")\n            setRoles(portal, TEST_USER_ID, ['Member'])\n\n    ...\n\nNote that unlike in a test, there is no user logged in at layer setup time,\nso we have to explicitly log in as the test user. Here, we also grant the test\nuser the ``Manager`` role temporarily, to allow object construction (which\nperforms an explicit permission check).\n\n    **Note:** Automatic tear down suffices for all the test setup above. If\n    the only changes made during layer setup are to persistent, in-ZODB data,\n    or the global component registry then no additional tear-down is required.\n    For any other global state being managed, you should write a\n    ``tearDownPloneSite()`` method to perform the necessary cleanup.\n\nGiven this layer, we could write a test (e.g. in ``tests.py``) like::\n\n    import unittest2 as unittest\n    from my.product.testing import MY_PRODUCT_INTEGRATION_TESTING\n\n    class IntegrationTest(unittest.TestCase):\n\n        layer = MY_PRODUCT_INTEGRATION_TESTING\n\n        def test_page_dublin_core_title(self):\n            portal = self.layer['portal']\n\n            page1 = portal['page-1']\n            page1.title = u\"Some title\"\n\n            self.assertEqual(page1.Title(), u\"Some title\")\n\nPlease see `plone.testing`_ for more information about how to write and run\ntests and assertions.\n\nCommon test patterns\n====================\n\n`plone.testing`_'s documentation contains details about the fundamental\ntechniques for writing tests of various kinds. In a Plone context, however,\nsome patterns tend to crop up time and again. Below, we will attempt to\ncatalogue some of the more commonly used patterns via short code samples.\n\nThe examples in this section are all intended to be used in tests. Some may\nalso be useful in layer set-up/tear-down. We have used ``unittest`` syntax\nhere, although most of these examples could equally be adopted to doctests.\n\nWe will assume that you are using a layer that has ``PLONE_FIXTURE`` as a base\n(whether directly or indirectly) and uses the ``IntegrationTesting`` or\n``FunctionalTesting`` classes as shown above.\n\nWe will also assume that the variables ``app``, ``portal`` and ``request`` are\ndefined from the relative layer resources, e.g. with::\n\n    app = self.layer['app']\n    portal = self.layer['portal']\n    request = self.layer['request']\n\nNote that in a doctest set up using the ``layered()`` function from\n``plone.testing``, ``layer`` is in the global namespace, so you would do e.g.\n``portal = layer['portal']``.\n\nWhere imports are required, they are shown alongside the code example. If\na given import or variable is used more than once in the same section, it\nwill only be shown once.\n\nBasic content management\n------------------------\n\nTo create a content item of type 'Folder' with the id 'f1' in the root of\nthe portal::\n\n    portal.invokeFactory('Folder', 'f1', title=u\"Folder 1\")\n\nThe ``title`` argument is optional. Other basic properties, like\n``description``, can be set as well.\n\nNote that this may fail with an ``Unauthorized`` exception, since the test\nuser won't normally have permissions to add content in the portal root, and\nthe ``invokeFactory()`` method performs an explicit security check. You can\nset the roles of the test user to ensure that he has the necessary\npermissions::\n\n    from plone.app.testing import setRoles\n    from plone.app.testing import TEST_USER_ID\n\n    setRoles(portal, TEST_USER_ID, ['Manager'])\n    portal.invokeFactory('Folder', 'f1', title=u\"Folder 1\")\n\nTo obtain this object, acquisition-wrapped in its parent::\n\n    f1 = portal['f1']\n\nTo make an assertion against an attribute or method of this object::\n\n    self.assertEqual(f1.Title(), u\"Folder 1\")\n\nTo modify the object::\n\n    f1.setTitle(u\"Some title\")\n\nTo add another item inside the folder f1::\n\n    f1.invokeFactory('Document', 'd1', title=u\"Document 1\")\n    d1 = f1['d1']\n\nTo check if an object is in a container::\n\n    self.assertTrue('f1' in portal)\n\nTo delete an object from a container:\n\n    del portal['f1']\n\nThere is no content or workflows installed by default. You can enable workflows::\n\n    portal.portal_workflow.setDefaultChain(\"simple_publication_workflow\")\n\nSearching\n---------\n\nTo obtain the ``portal_catalog`` tool::\n\n    from Products.CMFCore.utils import getToolByName\n\n    catalog = getToolByName(portal, 'portal_catalog')\n\nTo search the catalog::\n\n    results = catalog(portal_type=\"Document\")\n\nKeyword arguments are search parameters. The result is a lazy list. You can\ncall ``len()`` on it to get the number of search results, or iterate through\nit. The items in the list are catalog brains. They have attributes that\ncorrespond to the \"metadata\" columns configured for the catalog, e.g.\n``Title``, ``Description``, etc. Note that these are simple attributes (not\nmethods), and contain the value of the corresponding attribute or method from\nthe source object at the time the object was cataloged (i.e. they are not\nnecessarily up to date).\n\nTo make assertions against the search results::\n\n    self.assertEqual(len(results), 1)\n\n    # Copy the list into memory so that we can use [] notation\n    results = list(results)\n\n    # Check the first (and in this case only) result in the list\n    self.assertEqual(results[0].Title, u\"Document 1\")\n\nTo get the path of a given item in the search results::\n\n    self.assertEqual(resuls[0].getPath(), portal.absolute_url_path() + '/f1/d1')\n\nTo get an absolute URL::\n\n    self.assertEqual(resuls[0].getURL(), portal.absolute_url() + '/f1/d1')\n\nTo get the original object::\n\n    obj = results[0].getObject()\n\nTo re-index an object d1 so that its catalog information is up to date::\n\n    d1.reindexObject()\n\nUser management\n---------------\n\nTo create a new user::\n\n    from Products.CMFCore.utils import getToolByName\n\n    acl_users = getToolByName(portal, 'acl_users')\n\n    acl_users.userFolderAddUser('user1', 'secret', ['Member'], [])\n\nThe arguments are the username (which will also be the user id), the password,\na list of roles, and a list of domains (rarely used).\n\nTo make a particular user active (\"logged in\") in the integration testing\nenvironment use the ``login`` method and pass it the username::\n\n    from plone.app.testing import login\n\n    login(portal, 'user1')\n\nTo log out (become anonymous)::\n\n    from plone.app.testing import logout\n\n    logout()\n\nTo obtain the current user::\n\n    from AccessControl import getSecurityManager\n\n    user = getSecurityManager().getUser()\n\nTo obtain a user by name::\n\n    user = acl_users.getUser('user1')\n\nOr by user id (id and username are often the same, but can differ in real-world\nscenarios)::\n\n    user = acl_users.getUserById('user1')\n\nTo get the user's user name::\n\n    userName = user.getUserName()\n\nTo get the user's id::\n\n    userId = user.getId()\n\nPermissions and roles\n---------------------\n\nTo get a user's roles in a particular context (taking local roles into\naccount)::\n\n    from AccessControl import getSecurityManager\n\n    user = getSecurityManager().getUser()\n\n    self.assertEqual(user.getRolesInContext(portal), ['Member'])\n\nTo change the test user's roles::\n\n    from plone.app.testing import setRoles\n    from plone.app.testing import TEST_USER_ID\n\n    setRoles(portal, TEST_USER_ID, ['Member', 'Manager'])\n\nPass a different user name to change the roles of another user.\n\nTo grant local roles to a user in the folder f1::\n\n    f1.manage_setLocalRoles(TEST_USER_ID, ('Reviewer',))\n\nTo check the local roles of a given user in the folder 'f1'::\n\n    self.assertEqual(f1.get_local_roles_for_userid(TEST_USER_ID), ('Reviewer',))\n\nTo grant the 'View' permission to the roles 'Member' and 'Manager' in the\nportal root without acquiring additional roles from its parents::\n\n    portal.manage_permission('View', ['Member', 'Manager'], acquire=False)\n\nThis method can also be invoked on a folder or individual content item.\n\nTo assert which roles have the permission 'View' in the context of the\nportal::\n\n    roles = [r['name'] for r in portal.rolesOfPermission('View') if r['selected']]\n    self.assertEqual(roles, ['Member', 'Manager'])\n\nTo assert which permissions have been granted to the 'Reviewer' role in the\ncontext of the portal::\n\n    permissions = [p['name'] for p in portal.permissionsOfRole('Reviewer') if p['selected']]\n    self.assertTrue('Review portal content' in permissions)\n\nTo add a new role::\n\n    portal._addRole('Tester')\n\nThis can now be assigned to users globally (using the ``setRoles`` helper)\nor locally (using ``manage_setLocalRoles()``).\n\nTo assert which roles are available in a given context::\n\n    self.assertTrue('Tester' in portal.valid_roles())\n\nWorkflow\n--------\n\nTo set the default workflow chain::\n\n    from Products.CMFCore.utils import getToolByName\n\n    workflowTool = getToolByName(portal, 'portal_workflow')\n\n    workflowTool.setDefaultChain('my_workflow')\n\nIn Plone, most chains contain only one workflow, but the ``portal_workflow``\ntool supports longer chains, where an item is subject to more than one\nworkflow simultaneously.\n\nTo set a multi-workflow chain, separate workflow names by commas.\n\nTo get the default workflow chain::\n\n    self.assertEqual(workflowTool.getDefaultChain(), ('my_workflow',))\n\nTo set the workflow chain for the 'Document' type::\n\n    workflowTool.setChainForPortalTypes(('Document',), 'my_workflow')\n\nYou can pass multiple type names to set multiple chains at once. To set a\nmulti-workflow chain, separate workflow names by commas. To indicate that a\ntype should use the default workflow, use the special chain name '(Default)'.\n\nTo get the workflow chain for the portal type 'Document'::\n\n    chains = dict(workflowTool.listChainOverrides())\n    defaultChain = workflowTool.getDefaultChain()\n    documentChain = chains.get('Document', defaultChain)\n\n    self.assertEqual(documentChain, ('my_other_workflow',))\n\nTo get the current workflow chain for the content object f1::\n\n    self.assertEqual(workflowTool.getChainFor(f1), ('my_workflow',))\n\nTo update all permissions after changing the workflow::\n\n    workflowTool.updateRoleMappings()\n\nTo change the workflow state of the content object f1 by invoking the\ntransaction 'publish'::\n\n    workflowTool.doActionFor(f1, 'publish')\n\nNote that this performs an explicit permission check, so if the current user\ndoesn't have permission to perform this workflow action, you may get an error\nindicating the action is not available. If so, use ``login()`` or\n``setRoles()`` to ensure the current user is able to change the workflow\nstate.\n\nTo check the current workflow state of the content object f1::\n\n    self.assertEqual(workflowTool.getInfoFor(f1, 'review_state'), 'published')\n\nProperties\n----------\n\nTo set the value of a property on the portal root::\n\n    portal._setPropValue('title', u\"My title\")\n\nTo assert the value of a property on the portal root::\n\n    self.assertEqual(portal.getProperty('title'), u\"My title\")\n\nTo change the value of a property in a property sheet in the\n``portal_properties`` tool::\n\n    from Products.CMFCore.utils import getToolByName\n\n    propertiesTool = getToolByName(portal, 'portal_properties')\n    siteProperties = propertiesTool['site_properties']\n\n    siteProperties._setPropValue('many_users', True)\n\nTo assert the value of a property in a property sheet in the\n``portal_properties`` tool::\n\n    self.assertEqual(siteProperties.getProperty('many_users'), True)\n\nInstalling products and extension profiles\n------------------------------------------\n\nTo apply a particular extension profile::\n\n    from plone.app.testing import applyProfile\n\n    applyProfile(portal, 'my.product:default')\n\nThis is the preferred method of installing a product's configuration.\n\nTo install an add-on product into the Plone site using the\n``portal_quickinstaller`` tool::\n\n    from plone.app.testing import quickInstallProduct\n\n    quickInstallProduct(portal, 'my.product')\n\nTo re-install a product using the quick-installer::\n\n    quickInstallProduct(portal, 'my.product', reinstall=True)\n\nNote that both of these assume the product's ZCML has been loaded, which is\nusually done during layer setup. See the layer examples above for more details\non how to do that.\n\nWhen writing a product that has an installation extension profile, it is often\ndesirable to write tests that inspect the state of the site after the profile\nhas been applied. Some of the more common such tests are shown below.\n\nTo verify that a product has been installed (e.g. as a dependency via\n``metadata.xml``)::\n\n    from Products.CMFCore.utils import getToolByName\n\n    quickinstaller = getToolByName(portal, 'portal_quickinstaller')\n    self.assertTrue(quickinstaller.isProductInstalled('my.product'))\n\nTo verify that a particular content type has been installed (e.g. via\n``types.xml``)::\n\n    typesTool = getToolByName(portal, 'portal_types')\n\n    self.assertNotEqual(typesTool.getTypeInfo('mytype'), None)\n\nTo verify that a new catalog index has been installed (e.g. via\n``catalog.xml``)::\n\n    catalog = getToolByName(portal, 'portal_catalog')\n\n    self.assertTrue('myindex' in catalog.indexes())\n\nTo verify that a new catalog metadata column has been added (e.g. via\n``catalog.xml``)::\n\n    self.assertTrue('myattr' in catalog.schema())\n\nTo verify that a new workflow has been installed (e.g. via\n``workflows.xml``)::\n\n    workflowTool = getToolByName(portal, 'portal_workflow')\n\n    self.assertNotEqual(workflowTool.getWorkflowById('my_workflow'), None)\n\nTo verify that a new workflow has been assigned to a type (e.g. via\n``workflows.xml``)::\n\n    self.assertEqual(dict(workflowTool.listChainOverrides())['mytype'], ('my_workflow',))\n\nTo verify that a new workflow has been set as the default (e.g. via\n``workflows.xml``)::\n\n    self.assertEqual(workflowTool.getDefaultChain(), ('my_workflow',))\n\nTo test the value of a property in the ``portal_properties`` tool (e.g. set\nvia ``propertiestool.xml``):::\n\n    propertiesTool = getToolByName(portal, 'portal_properties')\n    siteProperties = propertiesTool['site_properties']\n\n    self.assertEqual(siteProperties.getProperty('some_property'), \"some value\")\n\nTo verify that a stylesheet has been installed in the ``portal_css`` tool\n(e.g. via ``cssregistry.xml``)::\n\n    cssRegistry = getToolByName(portal, 'portal_css')\n\n    self.assertTrue('mystyles.css' in cssRegistry.getResourceIds())\n\nTo verify that a JavaScript resource has been installed in the\n``portal_javascripts`` tool (e.g. via ``jsregistry.xml``)::\n\n    jsRegistry = getToolByName(portal, 'portal_javascripts')\n\n    self.assertTrue('myscript.js' in jsRegistry.getResourceIds())\n\nTo verify that a new role has been added (e.g. via ``rolemap.xml``)::\n\n    self.assertTrue('NewRole' in portal.valid_roles())\n\nTo verify that a permission has been granted to a given set of roles (e.g. via\n``rolemap.xml``)::\n\n    roles = [r['name'] for r in portal.rolesOfPermission('My Permission') if r['selected']]\n    self.assertEqual(roles, ['Member', 'Manager'])\n\nTraversal\n---------\n\nTo traverse to a view, page template or other resource, use\n``restrictedTraverse()`` with a relative path::\n\n    resource = portal.restrictedTraverse('f1/@@folder_contents')\n\nThe return value is a view object, page template object, or other resource.\nIt may be invoked to obtain an actual response (see below).\n\n``restrictedTraverse()`` performs an explicit security check, and so may\nraise ``Unauthorized`` if the current test user does not have permission to\nview the given resource. If you don't want that, you can use::\n\n    resource = portal.unrestrictedTraverse('f1/@@folder_contents')\n\nYou can call this on a folder or other content item as well, to traverse from\nthat starting point, e.g. this is equivalent to the first example above::\n\n    f1 = portal['f1']\n    resource = f1.restrictedTraverse('@@folder_contents')\n\nNote that this traversal will not take ``IPublishTraverse`` adapters into\naccount, and you cannot pass query string parameters. In fact,\n``restrictedTraverse()`` and ``unrestrictedTraverse()`` implement the type of\ntraversal that happens with path expressions in TAL, which is similar, but not\nidentical to URL traversal.\n\nTo look up a view manually::\n\n    from zope.component import getMultiAdapter\n\n    view = getMultiAdapter((f1, request), name=u\"folder_contents\")\n\nNote that the name here should not include the ``@@`` prefix.\n\nTo simulate an ``IPublishTraverse`` adapter call, presuming the view\nimplements ``IPublishTraverse``::\n\n    next = view.IPublishTraverse(request, u\"some-name\")\n\nOr, if the ``IPublishTraverse`` adapter is separate from the view::\n\n    from zope.publisher.interfaces import IPublishTraverse\n\n    publishTraverse = getMultiAdapter((f1, request), IPublishTraverse)\n    next = view.IPublishTraverse(request, u\"some-name\")\n\nTo simulate a form submission or query string parameters::\n\n    request.form.update({\n            'name': \"John Smith\",\n            'age':  23\n        })\n\nThe ``form`` dictionary contains the marshalled request. That is, if you are\nsimulating a query string parameter or posted form variable that uses a\nmarshaller like ``:int`` (e.g. ``age:int`` in the example above), the value\nin the ``form`` dictionary should be marshalled (an int instead of a string,\nin the example above), and the name should be the base name (``age`` instead\nof ``age:int``).\n\nTo invoke a view and obtain the response body as a string::\n\n    view = f1.restrictedTraverse('@@folder_contents')\n    body = view()\n\n    self.assertFalse(u\"An unexpected error occurred\" in body)\n\nPlease note that this approach is not perfect. In particular, the request\nis will not have the right URL or path information. If your view depends on\nthis, you can fake it by setting the relevant keys in the request, e.g.::\n\n    request.set('URL', f1.absolute_url() + '/@@folder_contents')\n    request.set('ACTUAL_URL', f1.absolute_url() + '/@@folder_contents')\n\nTo inspect the state of the request (e.g. after a view has been invoked)::\n\n    self.assertEqual(request.get('disable_border'), True)\n\nTo inspect response headers (e.g. after a view has been invoked)::\n\n    response = request.response\n\n    self.assertEqual(response.getHeader('content-type'), 'text/plain')\n\nSimulating browser interaction\n------------------------------\n\nEnd-to-end functional tests can use `zope.testbrowser`_ to simulate user\ninteraction. This acts as a web browser, connecting to Zope via a special\nchannel, making requests and obtaining responses.\n\n  **Note:** zope.testbrowser runs entirely in Python, and does not simulate\n  a JavaScript engine.\n\nNote that to use ``zope.testbrowser``, you need to use one of the functional\ntesting layers, e.g. ``PLONE_FUNCTIONAL_TESTING``, or another layer\ninstantiated with the ``FunctionalTesting`` class.\n\nIf you want to create some initial content, you can do so either in a layer,\nor in the test itself, before invoking the test browser client. In the latter\ncase, you need to commit the transaction before it becomes available, e.g.::\n\n    from plone.app.testing import setRoles\n    from plone.app.testing import TEST_USER_ID\n\n    # Make some changes\n    setRoles(portal, TEST_USER_ID, ['Manager'])\n    portal.invokeFactory('Folder', 'f1', title=u\"Folder 1\")\n    setRoles(portal, TEST_USER_ID, ['Member'])\n\n    # Commit so that the test browser sees these changes\n    import transaction\n    transaction.commit()\n\nTo obtain a new test browser client::\n\n    from plone.testing.z2 import Browser\n\n    # This is usually self.app (Zope root) or site.portal (test Plone site root)\n    browser = Browser(app)\n\nTo open a given URL::\n\n    portalURL = portal.absolute_url()\n    browser.open(portalURL)\n\nTo inspect the response::\n\n    self.assertTrue(u\"Welcome\" in browser.contents)\n\nTo inspect response headers::\n\n    self.assertEqual(browser.headers['content-type'], 'text/html; charset=utf-8')\n\nTo follow a link::\n\n    browser.getLink('Edit').click()\n\nThis gets a link by its text. To get a link by HTML id::\n\n    browser.getLink(id='edit-link').click()\n\nTo verify the current URL::\n\n    self.assertEqual(portalURL + '/edit', browser.url)\n\nTo set a form control value::\n\n    browser.getControl('Age').value = u\"30\"\n\nThis gets the control by its associated label. To get a control by its form\nvariable name::\n\n    browser.getControl(name='age:int').value = u\"30\"\n\nSee the `zope.testbrowser`_ documentation for more details on how to select\nand manipulate various types of controls.\n\nTo submit a form by clicking a button::\n\n    browser.getControl('Save').click()\n\nAgain, this uses the label to find the control. To use the form variable\nname::\n\n    browser.getControl(name='form.button.Save').click()\n\nTo simulate HTTP BASIC authentication and remain logged in for all\nrequests::\n\n    from plone.app.testing import TEST_USER_NAME, TEST_USER_PASSWORD\n\n    browser.addHeader('Authorization', 'Basic %s:%s' % (TEST_USER_NAME, TEST_USER_PASSWORD,))\n\nTo simulate logging in via the login form::\n\n    browser.open(portalURL + '/login_form')\n    browser.getControl(name='__ac_name').value = TEST_USER_NAME\n    browser.getControl(name='__ac_password').value = TEST_USER_PASSWORD\n    browser.getControl(name='submit').click()\n\nTo simulate logging out::\n\n    browser.open(portalURL + '/logout')\n\nDebugging tips\n~~~~~~~~~~~~~~\n\nBy default, only HTTP error codes (e.g. 500 Server Side Error) are shown when\nan error occurs on the server. To see more details, set ``handleErrors`` to\nFalse::\n\n    browser.handleErrors = False\n\nTo inspect the error log and obtain a full traceback of the latest entry::\n\n    from Products.CMFCore.utils import getToolByName\n\n    errorLog = getToolByName(portal, 'error_log')\n    print errorLog.getLogEntries()[-1]['tb_text']\n\nTo save the current response to an HTML file::\n\n    open('/tmp/testbrowser.html', 'w').write(browser.contents)\n\nYou can now open this file and use tools like Firebug to inspect the structure\nof the page. You should remove the file afterwards.\n\nComparison with ZopeTestCase/PloneTestCase\n==========================================\n\n`plone.testing`_ and ``plone.app.testing`` have in part evolved from\n``ZopeTestCase``, which ships with Zope 2 in the ``Testing`` package, and\n`Products.PloneTestCase`_, which ships with Plone and is used by Plone itself\nas well as numerous add-on products.\n\nIf you are familiar with ``ZopeTestCase`` and ``PloneTestCase``, the concepts\nof these package should be familiar to you. However, there are some important\ndifferences to bear in mind.\n\n* ``plone.testing`` and ``plone.app.testing`` are unburdened by the legacy\n  support that ``ZopeTestCase`` and ``PloneTestCase`` have to include. This\n  makes them smaller and easier to understand and maintain.\n\n* Conversely, ``plone.testing`` only works with Python 2.6 and Zope 2.12 and\n  later. ``plone.app.testing`` only works with Plone 4 and later. If you need\n  to write tests that run against older versions of Plone, you'll need to use\n  ``PloneTestCase``.\n\n* ``ZopeTestCase``/``PloneTestCase`` were written before layers were available\n  as a setup mechanism. ``plone.testing`` is very layer-oriented.\n\n* ``PloneTestCase`` provides a base class, also called ``PloneTestCase``,\n  which you must use, as it performs setup and tear-down. ``plone.testing``\n  moves shared state to layers and layer resources, and does not impose any\n  particular base class for tests. This does sometimes mean a little more\n  typing (e.g. ``self.layer['portal']`` vs. ``self.portal``), but it makes\n  it much easier to control and re-use test fixtures. It also makes your\n  test code simpler and more explicit.\n\n* ``ZopeTestCase`` has an ``installProduct()`` function and a corresponding\n  ``installPackage()`` function. `plone.testing`_ has only an\n  ``installProduct()``, which can configure any kind of Zope 2 product (i.e.\n  packages in the ``Products.*`` namespace, old-style products in a special\n  ``Products`` folder, or packages in any namespace that have had their ZCML\n  loaded and which include a ``<five:registerPackage />`` directive in their\n  configuration). Note that you must pass a full dotted name to this function,\n  even for \"old-style\" products in the ``Products.*`` namespace, e.g.\n  ``Products.LinguaPlone`` instead of ``LinguaPlone``.\n\n* On setup, ``PloneTestCase`` will load Zope 2's default ``site.zcml``. This\n  in turn will load all ZCML for all packages in the ``Products.*`` namespace.\n  ``plone.testing`` does not do this (and you are strongly encouraged from\n  doing it yourself), because it is easy to accidentally include packages in\n  your fixture that you didn't intend to be there (and which can actually\n  change the fixture substantially). You should load your package's ZCML\n  explicitly. See the `plone.testing`_ documentation for details.\n\n* When using ``PloneTestCase``, any package that has been loaded onto\n  ``sys.path`` and which defines the ``z3c.autoinclude.plugin:plone`` entry\n  point will be loaded via `z3c.autoinclude`_'s plugin mechanism. This loading\n  is explicitly disabled, for the same reasons that the ``Products.*`` auto-\n  loading is. You should load your packages' configuration explicitly.\n\n* ``PloneTestCase`` sets up a basic fixture that has member folder enabled,\n  and in which the test user's member folder is available as ``self.folder``.\n  The ``plone_workflow`` workflow is also installed as the default.\n  ``plone.app.testing`` takes a more minimalist approach. To create a test\n  folder owned by the test user that is similar to ``self.folder`` in a\n  ``PloneTestCase``, you can do::\n\n        import unittest2 as unittest\n        from plone.app.testing import TEST_USER_ID, setRoles\n        from plone.app.testing import PLONE_INTEGRATION_TESTING\n\n        class MyTest(unitest.TestCase):\n\n            layer = PLONE_INTEGRATION_TESTING\n\n            def setUp(self):\n                self.portal = self.layer['portal']\n\n                setRoles(self.portal, TEST_USER_ID, ['Manager'])\n                self.portal.invokeFactory('Folder', 'test-folder')\n                setRoles(self.portal, TEST_USER_ID, ['Member'])\n\n                self.folder = self.portal['test-folder']\n\n  You could of course do this type of setup in your own layer and expose it\n  as a resource instead.\n\n* To use `zope.testbrowser`_ with ``PloneTestCase``, you should use its\n  ``FunctionalTestCase`` as a base class, and then use the following pattern::\n\n        from Products.Five.testbrowser import Browser\n        browser = Browser()\n\n  The equivalent pattern in ``plone.app.testing`` is to use the\n  ``FunctionalTesting`` test lifecycle layer (see example above), and then\n  use::\n\n        from plone.testing.z2 import Browser\n        browser = Browser(self.layer['app'])\n\n  Also note that if you have made changes to the fixture prior to calling\n  ``browser.open()``, they will *not* be visible until you perform an\n  explicit commit. See the ``zope.testbrowser`` examples above for details.\n\n.. _plone.testing: http://pypi.python.org/pypi/plone.testing\n.. _zope.testing: http://pypi.python.org/pypi/zope.testing\n.. _z3c.autoinclude: http://pypi.python.org/pypi/z3c.autoinclude\n.. _zope.testbrowser: http://pypi.python.org/pypi/zope.testbrowser\n.. _Products.PloneTestCase: http://pypi.python.org/pypi/Products.PloneTestCase\n\n\nChangelog\n=========\n\n.. You should *NOT* be adding new change log entries to this file.\n   You should create a file in the news directory instead.\n   For helpful instructions, please see:\n   https://github.com/plone/plone.releaser/blob/master/ADD-A-NEWS-ITEM.rst\n\n.. towncrier release notes start\n\n6.1.5 (2020-04-20)\n------------------\n\nBug fixes:\n\n\n- Minor packaging updates. (#1)\n\n\n6.1.4 (2020-03-09)\n------------------\n\nBug fixes:\n\n\n- Fix a test isolation issue that was preventing the MOCK_MAILHOST_FIXTURE to be used in multiple testcases [ale-rt] (#61)\n- MockMailHostLayer configures the mail sender setting the appropriate registry records (Fixes #62) (#62)\n- Fix tests when using zope.testrunner internals since its version 5.1.\n  [jensens] (#68)\n- Do not load Products/ZCML of no longer existing Products.ResourceRegistries.\n  [jensens] (#69)\n\n\n6.1.3 (2019-02-16)\n------------------\n\nBug fixes:\n\n\n- Make plone.app.folder a optional product for PloneFixture in py2 (#59)\n\n\n6.1.2 (2019-02-13)\n------------------\n\nBug fixes:\n\n\n- Fixed the travis build checking the Python versions Plone actually supports.\n  Also fixed Python versions in setup.py (#57)\n\n\n6.1.1 (2018-11-05)\n------------------\n\nBug fixes:\n\n- Fix the package manifest that was not including some files\n  [ale-rt]\n\n\n6.1.0 (2018-11-04)\n------------------\n\nBreaking changes:\n\n- Require `plone.testing >= 7.0`.\n\nNew features:\n\n- Add support for Python 3.5 and 3.6.\n  [loechel, ale-rt, icemac, davisagli, pbauer]\n\n\n6.0.0 (2018-10-05)\n------------------\n\nNew features:\n\n- Install and load zcml of CMFQuickInstallerTool only when importable.\n  [maurits]\n\n- Load negotiator from plone.i18n (PTS removed).\n  [jensens, ksuess]\n\n- Add copy of bbb.PloneTestCase.\n  For Plone 5.2 the bbb.PloneTestCase will uses Dexterity instead of Archetypes.\n  Adding bbb_at.PloneTestCase for them to use allows to keep the AT tests working.\n  See https://github.com/plone/plone.app.testing/pull/51\n  [pbauer]\n\nBug fixes:\n\n- Amended the doctests to work with automatical layer port picking from plone.testing.\n  [Rotonen]\n\n\n5.0.8 (2017-10-25)\n------------------\n\nBug fixes:\n\n- Load Products.PageTemplates ZCML.  [tschorr]\n\n\n5.0.7 (2017-07-03)\n------------------\n\nBug fixes:\n\n- Remove deprecated __of__ calls on BrowserViews\n  [MrTango]\n\n- Remove unittest2 dependency\n  [kakshay21]\n\n\n5.0.6 (2016-12-19)\n------------------\n\nBug fixes:\n\n- No longer try to load `Products.SecureMailHost` and its zcml.\n  This is not shipped with Plone 5.0 or higher.  [maurits]\n\n\n5.0.5 (2016-11-19)\n------------------\n\nBug fixes:\n\n- Do not use install Products.PasswordResetTool in the PloneFixture if it isn't available.\n  [thet]\n\n\n5.0.4 (2016-09-23)\n------------------\n\nNew features:\n\n- Use get_installer instead of portal_quickinstaller when available, for\n  Plone 5.1 and higher.  [maurits]\n\n- In PloneSandboxLayer make profile upgrade versions persistent.  This\n  way installed profile versions get reset in teardown.  [maurits]\n\n\n5.0.3 (2016-09-07)\n------------------\n\nBug fixes:\n\n- Load Products.CMFFormController in tests.  It is still used by core\n  Plone, also without Archetypes.  This makes the CMFFormController\n  tests pass.  [maurits]\n\n\n5.0.2 (2016-06-07)\n------------------\n\nFixes:\n\n- Do not use install Products.SecureMailHost in the PloneFixture if it isn't available\n  [vangheem]\n\n\n5.0.1 (2016-02-26)\n------------------\n\nFixes:\n\n- Replace deprecated ``zope.site.hooks`` import with ``zope.component.hooks``.\n  [thet]\n\n\n5.0.0 (2016-02-20)\n------------------\n\nNew:\n\n- Add a MOCK_MAILHOST_FIXTURE fixture that integration and functional tests layers can depend on.\n  This allows to easily check how mails are sent from Plone.\n  [gforcada]\n\nFixes:\n\n- Fix ``layers.rst`` doctest to be compatible with older and newer zope.testrunner layer ordering.\n  [thet]\n\n- Depend on ``zope.testrunner`` and fix deprecated usage of ``zope.testing.testrunner``.\n  [thet]\n\n- Cleanup code, flake8, sort imports, etc.\n  [gforcada]\n\n- Fix RAM cache error with bbb.PloneTestCase.\n  [ebrehault]\n\n\n5.0b6 (2015-08-22)\n------------------\n\n- No need for unittest2.\n  [gforcada]\n\n\n5.0b5 (2015-07-18)\n------------------\n\n- Do not install CMFDefault.\n  [tomgross]\n\n- Document PloneWithPackageLayer.\n  [gotcha]\n\n\n5.0b4 (2015-05-04)\n------------------\n\n- Do not install CMFFormController.\n  [timo]\n\n- Do not install CMFDefault\n  [tomgross]\n\n5.0b3 (2015-03-26)\n------------------\n\n- Remove PloneLanguageTool from PloneFixture.\n  [timo]\n\n\n5.0b2 (2015-03-13)\n------------------\n\n- remove test of applying an extension profile, we don't have a good one to\n  test now.\n  [davidagli]\n\n- fix test, plone.app.theming does not get recorded as installed .\n  [davisagli]\n\n- fix: ``Products.CMFPlone`` needs the ``gopip`` index from\n  ``plone.app.folder``. So latter has to be initialized before CMFPlones\n  profile is applied (which installs the index to catalog). At the moment\n  CMFPlone therefore registers the index itself, but plone.app.folder\n  registers it too, which resulted in plone/Products.CMFPlone#313\n  \"GopipIndex registered twice\" In tests the registration does not succedd,\n  because plone.app.folder was never initialized as z2 products. In order to\n  remove the misleading regisatration from CMFPlone we must take care that the\n  index is available, which is achieved with this change. Also minor pep8\n  optimizations in the file touched.\n  [jensens]\n\n- create memberfolder, if it is not there for testing.\n  [tomgross]\n\n\n5.0b1 (2014-10-23)\n------------------\n\n- Allow applyProfile to skip steps and all other options supported by\n  runAllImportStepsFromProfile of portal_setup-tool.\n  [pbauer, tomgross]\n\n\n5.0a2 (2014-04-19)\n------------------\n\n- Install Products.DateRecurringIndex for the PLONE_FIXTURE Layer.\n  [thet]\n\n\n5.0a1 (2014-02-22)\n------------------\n\n- Add 'ROBOT_TEST_LEVEL' to interfaces, so other packages can import it. This\n  makes things easier if we decide to change the value.\n  [timo]\n\n- Replace deprecated test assert statements.\n  [timo]\n\n- plonetheme.classic no longer ships with Plone, don't use it for\n  testing.\n  [esteele]\n\n- Clean up the zodbDB and configurationContext resources if there\n  is an error during the PloneSandboxLayer setUp.\n  [davisagli]\n\n- Make PLONE_FIXTURE not install a content type system.\n  Packages that need content types to run their tests should\n  pick the appropriate fixture from plone.app.contenttypes\n  or Products.ATContentTypes.\n  [davisagli]\n\n- Pin [robot] extra to ``robotsuite>=1.4.0``.\n  [saily]\n\n- Fix wrong spelling of ``reinstallProducts`` method in quickInstallProduct.\n  [saily]\n\n- Sync bbb PloneTestCase class with original one.\n  [tomgross]\n\n\n4.2.2 (2013-02-09)\n------------------\n\n- Add [robot] extras for requiring dependnecies for Robot Framework\n  tests with Selenium2Library\n  [datakurre]\n\n- Install PythonScripts as zope product\n  [mikejmets]\n\n\n4.2.1 (2012-12-15)\n------------------\n\n- Allow testing with non standard port. Allows running multiple test suites\n  in parallel.\n  [do3cc]\n\n- Documentation updates.\n  [moo]\n\n\n4.2 (2012-04-15)\n----------------\n\n- Branch as 4.2 as the plone.app.collection addition breaks backwards\n  compatibility.\n  [esteele]\n\n- Fixed spurious failure in our own tests by using a longer timeout.\n  [maurits]\n\n- plone.app.collection added to PloneFixture.\n  [timo]\n\n\n4.0.2 (2011-08-31)\n------------------\n\n- Load ZCML before installing Zope products in ``PloneWithPackageLayer``;\n  it enables package registration.\n  [gotcha]\n\n\n4.0.1 (2011-07-14)\n------------------\n\n- Add ``additional_z2_products`` parameter to ``PloneWithPackageLayer``\n  helper class to install additional Zope 2 products.\n  [jfroche]\n\n\n4.0 - 2011-05-13\n------------------\n\n- 4.0 Final release.\n  [esteele]\n\n- Add MANIFEST.in.\n  [WouterVH]\n\n\n4.0a6 - 2011-04-06\n------------------\n\n- Added helper functions for selenium layer. (Copied from SeleniumTestCase\n  within Products.CMFPlone/Products/CMFPlone/tests/selenium/base.py)\n  [emanlove]\n\n- Rework layer setup of SeleniumLayer so that z2.ZSERVER_FIXTURE is a\n  default_base.\n  [esteele]\n\n- Convert the passed-in selenium webdriver name to lowercase before doing a\n  module lookup.\n  [esteele]\n\n- Moved selenium start up and tear down to testSetUp and testTearDown,\n  respectively.  This was done to help further isolate individual tests.\n  For example, logging in under one test would require either logging out\n  or shutting down the browser, which is what the selenium_layer will now\n  do under testTearDown, in order to have a \"clean\" state within the next\n  test.\n  [emanlove]\n\n- Corrected module path for the various selenium webdrivers using\n  selenium 2.0b2.\n  [emanlove]\n\n\n4.0a5 - 2011-03-02\n------------------\n\n- Use the new ``plone.testing.security`` module to ensure isolation of\n  security checkers when setting up and tearing down layers based on the\n  ``PloneSandboxLayer`` helper base class. This would cause problems when\n  running multiple test suites in the same test run, in particular if one of\n  those suites were setting up ZCML that used ``five.grok``.\n  [optilude]\n\n\n4.0a4 - 2011-01-11\n------------------\n\n- Automatically tear down PAS registrations via snapshotting when using\n  ``PloneSandboxLayer``. It's too difficult to do this manually when you\n  consider that plugins may be registered in ZCML via transitive dependencies.\n  There should be no backwards compatibility concern - using\n  ``tearDownMultiPlugin()`` is still supported, and it's generally safe to\n  call it once.\n  [optilude]\n\n- Try to make sure ``tearDownMultiPlugin()`` and the generic PAS plugin\n  cleanup handler do not interfere with the cleanup handler from the PAS\n  ZCML directive.\n  [optilude]\n\n- Do not install ``Products.kupu`` or ``Products.CMFPlacefulWorkflow``.\n  [elro]\n\n- Depend on ``Products.CMFPlone`` instead of ``Plone``.\n  [elro]\n\n\n4.0a3 - 2010-12-14\n------------------\n\n- Allow top-level import of PloneTestLifecycle.\n  [stefan]\n\n- Added a warning not to use 'default' Firefox profile for selenium tests.\n  [zupo]\n\n- Fixed distribution dependency declarations.\n  [hannosch]\n\n- Correct license to GPL version 2 only.\n  [hannosch]\n\n- Make some module imports helper methods on the already policy-heavy\n  helper class per optilude's suggestion.\n  [rossp]\n\n- Add a layer and test case for running selenium tests.\n  [rossp]\n\n- Give the default test user differing user id and login name. This helps reveal\n  problems with userid vs login name errors, an overly common error.\n  [wichert]\n\n\n1.0a2 - 2010-09-05\n------------------\n\n- Make sure plone.app.imaging is installed properly during layer setup.\n  [optilude]\n\n\n1.0a1 - 2010-08-01\n------------------\n\n- Initial release\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://pypi.org/project/plone.app.testing", "keywords": "plone tests", "license": "GPL version 2", "maintainer": "", "maintainer_email": "", "name": "plone.app.testing", "package_url": "https://pypi.org/project/plone.app.testing/", "platform": "", "project_url": "https://pypi.org/project/plone.app.testing/", "project_urls": {"Homepage": "https://pypi.org/project/plone.app.testing"}, "release_url": "https://pypi.org/project/plone.app.testing/6.1.5/", "requires_dist": ["setuptools", "six", "zope.configuration", "zope.component", "zope.dottedname", "zope.testing", "five.localsitemanager", "plone.memoize", "plone.testing[security,z2,zca,zodb]", "Products.CMFPlone", "Products.GenericSetup", "Zope", "robotsuite (>=1.4.0) ; extra == 'robot'", "robotframework-selenium2library ; extra == 'robot'", "decorator ; extra == 'robot'", "selenium ; extra == 'robot'", "plone.testing[test] ; extra == 'test'", "Products.CMFCore ; extra == 'test'", "Products.CMFPlacefulWorkflow ; extra == 'test'", "Products.CMFPlone ; extra == 'test'", "Products.PluggableAuthService ; extra == 'test'", "selenium ; extra == 'test'", "transaction ; extra == 'test'", "zope.interface ; extra == 'test'", "zope.publisher ; extra == 'test'", "zope.testing ; extra == 'test'", "zope.testrunner ; extra == 'test'"], "requires_python": "", "summary": "Testing tools for Plone-the-application, based on plone.testing.", "version": "6.1.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"introduction\">\n<h2><a href=\"#id24\" rel=\"nofollow\">Introduction</a></h2>\n<div id=\"table-of-contents\">\n<p>Table of contents</p>\n<ul>\n<li><a href=\"#introduction\" id=\"id24\" rel=\"nofollow\">Introduction</a><ul>\n<li><a href=\"#compatibility\" id=\"id25\" rel=\"nofollow\">Compatibility</a></li>\n</ul>\n</li>\n<li><a href=\"#installation-and-usage\" id=\"id26\" rel=\"nofollow\">Installation and usage</a></li>\n<li><a href=\"#layer-reference\" id=\"id27\" rel=\"nofollow\">Layer reference</a><ul>\n<li><a href=\"#plone-site-fixture\" id=\"id28\" rel=\"nofollow\">Plone site fixture</a></li>\n<li><a href=\"#mock-mailhost\" id=\"id29\" rel=\"nofollow\">Mock MailHost</a></li>\n<li><a href=\"#plonewithpackagelayer-class\" id=\"id30\" rel=\"nofollow\">PloneWithPackageLayer class</a></li>\n<li><a href=\"#integration-and-functional-testing-test-lifecycles\" id=\"id31\" rel=\"nofollow\">Integration and functional testing test lifecycles</a></li>\n<li><a href=\"#plone-integration-testing\" id=\"id32\" rel=\"nofollow\">Plone integration testing</a></li>\n<li><a href=\"#plone-functional-testing\" id=\"id33\" rel=\"nofollow\">Plone functional testing</a></li>\n<li><a href=\"#plone-zserver\" id=\"id34\" rel=\"nofollow\">Plone ZServer</a></li>\n<li><a href=\"#plone-ftp-server\" id=\"id35\" rel=\"nofollow\">Plone FTP server</a></li>\n</ul>\n</li>\n<li><a href=\"#helper-functions\" id=\"id36\" rel=\"nofollow\">Helper functions</a><ul>\n<li><a href=\"#plone-site-context-manager\" id=\"id37\" rel=\"nofollow\">Plone site context manager</a></li>\n<li><a href=\"#user-management\" id=\"id38\" rel=\"nofollow\">User management</a></li>\n<li><a href=\"#product-and-profile-installation\" id=\"id39\" rel=\"nofollow\">Product and profile installation</a></li>\n<li><a href=\"#component-architecture-sandboxing\" id=\"id40\" rel=\"nofollow\">Component architecture sandboxing</a></li>\n<li><a href=\"#global-state-cleanup\" id=\"id41\" rel=\"nofollow\">Global state cleanup</a></li>\n</ul>\n</li>\n<li><a href=\"#layer-base-class\" id=\"id42\" rel=\"nofollow\">Layer base class</a></li>\n<li><a href=\"#common-test-patterns\" id=\"id43\" rel=\"nofollow\">Common test patterns</a><ul>\n<li><a href=\"#basic-content-management\" id=\"id44\" rel=\"nofollow\">Basic content management</a></li>\n<li><a href=\"#searching\" id=\"id45\" rel=\"nofollow\">Searching</a></li>\n<li><a href=\"#id1\" id=\"id46\" rel=\"nofollow\">User management</a></li>\n<li><a href=\"#permissions-and-roles\" id=\"id47\" rel=\"nofollow\">Permissions and roles</a></li>\n<li><a href=\"#workflow\" id=\"id48\" rel=\"nofollow\">Workflow</a></li>\n<li><a href=\"#properties\" id=\"id49\" rel=\"nofollow\">Properties</a></li>\n<li><a href=\"#installing-products-and-extension-profiles\" id=\"id50\" rel=\"nofollow\">Installing products and extension profiles</a></li>\n<li><a href=\"#traversal\" id=\"id51\" rel=\"nofollow\">Traversal</a></li>\n<li><a href=\"#simulating-browser-interaction\" id=\"id52\" rel=\"nofollow\">Simulating browser interaction</a><ul>\n<li><a href=\"#debugging-tips\" id=\"id53\" rel=\"nofollow\">Debugging tips</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#comparison-with-zopetestcase-plonetestcase\" id=\"id54\" rel=\"nofollow\">Comparison with ZopeTestCase/PloneTestCase</a></li>\n<li><a href=\"#changelog\" id=\"id55\" rel=\"nofollow\">Changelog</a><ul>\n<li><a href=\"#id2\" id=\"id56\" rel=\"nofollow\">6.1.5 (2020-04-20)</a></li>\n<li><a href=\"#id3\" id=\"id57\" rel=\"nofollow\">6.1.4 (2020-03-09)</a></li>\n<li><a href=\"#id4\" id=\"id58\" rel=\"nofollow\">6.1.3 (2019-02-16)</a></li>\n<li><a href=\"#id5\" id=\"id59\" rel=\"nofollow\">6.1.2 (2019-02-13)</a></li>\n<li><a href=\"#id6\" id=\"id60\" rel=\"nofollow\">6.1.1 (2018-11-05)</a></li>\n<li><a href=\"#id7\" id=\"id61\" rel=\"nofollow\">6.1.0 (2018-11-04)</a></li>\n<li><a href=\"#id8\" id=\"id62\" rel=\"nofollow\">6.0.0 (2018-10-05)</a></li>\n<li><a href=\"#id9\" id=\"id63\" rel=\"nofollow\">5.0.8 (2017-10-25)</a></li>\n<li><a href=\"#id10\" id=\"id64\" rel=\"nofollow\">5.0.7 (2017-07-03)</a></li>\n<li><a href=\"#id11\" id=\"id65\" rel=\"nofollow\">5.0.6 (2016-12-19)</a></li>\n<li><a href=\"#id12\" id=\"id66\" rel=\"nofollow\">5.0.5 (2016-11-19)</a></li>\n<li><a href=\"#id13\" id=\"id67\" rel=\"nofollow\">5.0.4 (2016-09-23)</a></li>\n<li><a href=\"#id14\" id=\"id68\" rel=\"nofollow\">5.0.3 (2016-09-07)</a></li>\n<li><a href=\"#id15\" id=\"id69\" rel=\"nofollow\">5.0.2 (2016-06-07)</a></li>\n<li><a href=\"#id16\" id=\"id70\" rel=\"nofollow\">5.0.1 (2016-02-26)</a></li>\n<li><a href=\"#id17\" id=\"id71\" rel=\"nofollow\">5.0.0 (2016-02-20)</a></li>\n<li><a href=\"#b6-2015-08-22\" id=\"id72\" rel=\"nofollow\">5.0b6 (2015-08-22)</a></li>\n<li><a href=\"#b5-2015-07-18\" id=\"id73\" rel=\"nofollow\">5.0b5 (2015-07-18)</a></li>\n<li><a href=\"#b4-2015-05-04\" id=\"id74\" rel=\"nofollow\">5.0b4 (2015-05-04)</a></li>\n<li><a href=\"#b3-2015-03-26\" id=\"id75\" rel=\"nofollow\">5.0b3 (2015-03-26)</a></li>\n<li><a href=\"#b2-2015-03-13\" id=\"id76\" rel=\"nofollow\">5.0b2 (2015-03-13)</a></li>\n<li><a href=\"#b1-2014-10-23\" id=\"id77\" rel=\"nofollow\">5.0b1 (2014-10-23)</a></li>\n<li><a href=\"#a2-2014-04-19\" id=\"id78\" rel=\"nofollow\">5.0a2 (2014-04-19)</a></li>\n<li><a href=\"#a1-2014-02-22\" id=\"id79\" rel=\"nofollow\">5.0a1 (2014-02-22)</a></li>\n<li><a href=\"#id18\" id=\"id80\" rel=\"nofollow\">4.2.2 (2013-02-09)</a></li>\n<li><a href=\"#id19\" id=\"id81\" rel=\"nofollow\">4.2.1 (2012-12-15)</a></li>\n<li><a href=\"#id20\" id=\"id82\" rel=\"nofollow\">4.2 (2012-04-15)</a></li>\n<li><a href=\"#id21\" id=\"id83\" rel=\"nofollow\">4.0.2 (2011-08-31)</a></li>\n<li><a href=\"#id22\" id=\"id84\" rel=\"nofollow\">4.0.1 (2011-07-14)</a></li>\n<li><a href=\"#id23\" id=\"id85\" rel=\"nofollow\">4.0 - 2011-05-13</a></li>\n<li><a href=\"#a6-2011-04-06\" id=\"id86\" rel=\"nofollow\">4.0a6 - 2011-04-06</a></li>\n<li><a href=\"#a5-2011-03-02\" id=\"id87\" rel=\"nofollow\">4.0a5 - 2011-03-02</a></li>\n<li><a href=\"#a4-2011-01-11\" id=\"id88\" rel=\"nofollow\">4.0a4 - 2011-01-11</a></li>\n<li><a href=\"#a3-2010-12-14\" id=\"id89\" rel=\"nofollow\">4.0a3 - 2010-12-14</a></li>\n<li><a href=\"#a2-2010-09-05\" id=\"id90\" rel=\"nofollow\">1.0a2 - 2010-09-05</a></li>\n<li><a href=\"#a1-2010-08-01\" id=\"id91\" rel=\"nofollow\">1.0a1 - 2010-08-01</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<p><tt>plone.app.testing</tt> provides tools for writing integration and functional\ntests for code that runs on top of Plone. It is based on <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a>.\nIf you are unfamiliar with <tt>plone.testing</tt>, the concept of layers, or the\n<a href=\"http://pypi.python.org/pypi/zope.testing\" rel=\"nofollow\">zope.testing</a> testrunner, please take a look at the the <tt>plone.testing</tt>\ndocumentation. In fact, even if you are working exclusively with Plone, you\nare likely to want to use some of its features for unit testing.</p>\n<p>In short, <tt>plone.app.testing</tt> includes:</p>\n<ul>\n<li>A set of layers that set up fixtures containing a Plone site, intended for\nwriting integration and functional tests.</li>\n<li>A collection of helper functions, some useful for writing your own layers\nand some applicable to tests themselves.</li>\n<li>A convenient layer base class, extending <tt>plone.testing.Layer</tt>, which\nmakes it easier to write custom layers extending the Plone site fixture,\nwith proper isolation and tear-down.</li>\n<li>Cleanup hooks for <tt>zope.testing.cleanup</tt> to clean up global state found\nin a Plone installation. This is useful for unit testing.</li>\n</ul>\n<div id=\"compatibility\">\n<h3><a href=\"#id25\" rel=\"nofollow\">Compatibility</a></h3>\n<p><tt>plone.app.testing</tt> 5.x works with Plone 5.\n<tt>plone.app.testing</tt> 4.x works with Plone 4 and Zope 2.12. It may work with\nnewer versions. It will not work with earlier versions. Use\n<tt>plone.app.testing</tt> 3.x for Plone 3 and Zope 2.10.</p>\n</div>\n</div>\n<div id=\"installation-and-usage\">\n<h2><a href=\"#id26\" rel=\"nofollow\">Installation and usage</a></h2>\n<p>To use <tt>plone.app.testing</tt> in your own package, you need to add it as a\ndependency. Most people prefer to keep test-only dependencies separate, so\nthat they do not need to be installed in scenarios (such as on a production\nserver) where the tests will not be run. This can be achieved using a\n<tt>test</tt> extra.</p>\n<p>In <tt>setup.py</tt>, add or modify the <tt>extras_require</tt> option, like so:</p>\n<pre>extras_require = {\n    'test': [\n            'plone.app.testing',\n        ]\n},\n</pre>\n<p>This will also include <tt>plone.testing</tt>, with the <tt>[z2]</tt>, <tt>[zca]</tt> and\n<tt>[zodb]</tt> extras (which <tt>plone.app.testing</tt> itself relies on).</p>\n<p>Please see the <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a> documentation for more details about how to\nadd a test runner to your buildout, and how to write and run tests.</p>\n</div>\n<div id=\"layer-reference\">\n<h2><a href=\"#id27\" rel=\"nofollow\">Layer reference</a></h2>\n<p>This package contains a layer class,\n<tt>plone.app.testing.layers.PloneFixture</tt>, which sets up a Plone site fixture.\nIt is combined with other layers from <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a> to provide a number of\nlayer instances. It is important to realise that these layers all have the\nsame fundamental fixture: they just manage test setup and tear-down\ndifferently.</p>\n<p>When set up, the fixture will:</p>\n<ul>\n<li>Create a ZODB sandbox, via a stacked <tt>DemoStorage</tt>. This ensures\npersistent changes made during layer setup can be cleanly torn down.</li>\n<li>Configure a global component registry sandbox. This ensures that global\ncomponent registrations (e.g. as a result of loading ZCML configuration)\ncan be cleanly torn down.</li>\n<li>Create a configuration context with the <tt><span class=\"pre\">disable-autoinclude</span></tt> feature\nset. This has the effect of stopping Plone from automatically loading the\nconfiguration of any installed package that uses the\n<tt>z3c.autoinclude.plugin:plone</tt> entry point via <a href=\"http://pypi.python.org/pypi/z3c.autoinclude\" rel=\"nofollow\">z3c.autoinclude</a>. (This\nis to avoid accidentally polluting the test fixture - custom layers should\nload packages\u2019 ZCML configuration explicitly if required).</li>\n<li>Install a number of Zope 2-style products on which Plone depends.</li>\n<li>Load the ZCML for these products, and for <tt>Products.CMFPlone</tt>, which in\nturn pulls in the configuration for the core of Plone.</li>\n<li>Create a default Plone site, with the default theme enabled, but with no\ndefault content.</li>\n<li>Add a user to the root user folder with the <tt>Manager</tt> role.</li>\n<li>Add a test user to this instance with the <tt>Member</tt> role.</li>\n</ul>\n<p>For each test:</p>\n<ul>\n<li>The test user is logged in</li>\n<li>The local component site is set</li>\n<li>Various global caches are cleaned up</li>\n</ul>\n<p>Various constants in the module <tt>plone.app.testing.interfaces</tt> are defined\nto describe this environment:</p>\n<table>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<tbody>\n<tr><td><strong>Constant</strong></td>\n<td><strong>Purpose</strong></td>\n</tr>\n<tr><td>PLONE_SITE_ID</td>\n<td>The id of the Plone site object inside the Zope\napplication root.</td>\n</tr>\n<tr><td>PLONE_SITE_TITLE</td>\n<td>The title of the Plone site</td>\n</tr>\n<tr><td>DEFAULT_LANGUAGE</td>\n<td>The default language of the Plone site (\u2018en\u2019)</td>\n</tr>\n<tr><td>TEST_USER_ID</td>\n<td>The id of the test user</td>\n</tr>\n<tr><td>TEST_USER_NAME</td>\n<td>The username of the test user</td>\n</tr>\n<tr><td>TEST_USER_PASSWORD</td>\n<td>The password of the test user</td>\n</tr>\n<tr><td>TEST_USER_ROLES</td>\n<td>The default global roles of the test user -\n(\u2018Member\u2019,)</td>\n</tr>\n<tr><td>SITE_OWNER_NAME</td>\n<td>The username of the user owning the Plone site.</td>\n</tr>\n<tr><td>SITE_OWNER_PASSWORD</td>\n<td>The password of the user owning the Plone site.</td>\n</tr>\n</tbody>\n</table>\n<p>All the layers also expose a resource in addition to those from their\nbase layers, made available during tests:</p>\n<dl>\n<dt><tt>portal</tt></dt>\n<dd>The Plone site root.</dd>\n</dl>\n<div id=\"plone-site-fixture\">\n<h3><a href=\"#id28\" rel=\"nofollow\">Plone site fixture</a></h3>\n<table>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<tbody>\n<tr><td>Layer:</td>\n<td><tt>plone.app.testing.PLONE_FIXTURE</tt></td>\n</tr>\n<tr><td>Class:</td>\n<td><tt>plone.app.testing.layers.PloneFixture</tt></td>\n</tr>\n<tr><td>Bases:</td>\n<td><tt>plone.testing.z2.STARTUP</tt></td>\n</tr>\n<tr><td>Resources:</td>\n<td>\u00a0</td>\n</tr>\n</tbody>\n</table>\n<p>This layer sets up the Plone site fixture on top of the <tt>z2.STARTUP</tt>\nfixture.</p>\n<p>You should not use this layer directly, as it does not provide any test\nlifecycle or transaction management. Instead, you should use a layer\ncreated with either the <tt>IntegrationTesting</tt> or <tt>FunctionalTesting</tt>\nclasses, as outlined below.</p>\n</div>\n<div id=\"mock-mailhost\">\n<h3><a href=\"#id29\" rel=\"nofollow\">Mock MailHost</a></h3>\n<table>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<tbody>\n<tr><td>Layer:</td>\n<td><tt>plone.app.testing.MOCK_MAILHOST_FIXTURE</tt></td>\n</tr>\n<tr><td>Class:</td>\n<td><tt>plone.app.testing.layers.MockMailHostLayer</tt></td>\n</tr>\n<tr><td>Bases:</td>\n<td><tt>plone.app.testing.layers.PLONE_FIXTURE</tt></td>\n</tr>\n<tr><td>Resources:</td>\n<td>\u00a0</td>\n</tr>\n</tbody>\n</table>\n<p>This layer builds on top of <tt>PLONE_FIXTURE</tt> to patch Plone\u2019s MailHost implementation.</p>\n<p>With it,\nany attempt to send an email will instead store each of them as a string in a list in <tt>portal.MailHost.messages</tt>.</p>\n<p>You should not use this layer directly, as it does not provide any test\nlifecycle or transaction management. Instead, you should use a layer\ncreated with either the <tt>IntegrationTesting</tt> or <tt>FunctionalTesting</tt>\nclasses, like:</p>\n<pre>from plone.app.testing import MOCK_MAILHOST_FIXTURE\n\nMY_INTEGRATION_TESTING = IntegrationTesting(\n    bases=(\n        MY_FIXTURE,\n        MOCK_MAILHOST_FIXTURE,\n    ),\n    name=\"MyFixture:Integration\"\n)\n</pre>\n</div>\n<div id=\"plonewithpackagelayer-class\">\n<h3><a href=\"#id30\" rel=\"nofollow\">PloneWithPackageLayer class</a></h3>\n<p>Most add-ons do not need more setup than loading a ZCML file and\nrunning a GenericSetup profile.</p>\n<p>With this helper class, a fixture can easily be instantiated:</p>\n<pre>from plone.app.testing import PloneWithPackageLayer\nimport my.addon\n\nFIXTURE = PloneWithPackageLayer(\n    zcml_package=my.addon,\n    zcml_filename='configure.zcml',\n    gs_profile_id='my.addon:default',\n    name=\"MyAddonFixture\"\n)\n</pre>\n<p>PloneWithPackageLayer constructor takes two other keyword arguments:\n<tt>bases</tt> and <tt>additional_z2_products</tt>.</p>\n<p>The <tt>bases</tt> argument takes a sequence of base layer fixtures.\nIt is useful, among other reasons,\nto pass a fixture which makes other calls to plone.app.testing API.\nThe need could arise in the development process.</p>\n<p><tt>additional_z2_products</tt> argument takes a sequence of package names\nthat need to be installed as Zope2 Products and are dependencies of the tested add-on.</p>\n</div>\n<div id=\"integration-and-functional-testing-test-lifecycles\">\n<h3><a href=\"#id31\" rel=\"nofollow\">Integration and functional testing test lifecycles</a></h3>\n<p><tt>plone.app.testing</tt> comes with two layer classes, <tt>IntegrationTesting</tt>\nand <tt>FunctionalTesting</tt>, which derive from the corresponding layer classes\nin <tt>plone.testing.z2</tt>.</p>\n<p>These classes set up the <tt>app</tt>, <tt>request</tt> and <tt>portal</tt> resources, and\nreset the fixture (including various global caches) between each test run.</p>\n<p>As with the classes in <tt>plone.testing</tt>, the <tt>IntegrationTesting</tt> class\nwill create a new transaction for each test and roll it back on test tear-\ndown, which is efficient for integration testing, whilst <tt>FunctionalTesting</tt>\nwill create a stacked <tt>DemoStorage</tt> for each test and pop it on test tear-\ndown, making it possible to exercise code that performs an explicit commit\n(e.g. via tests that use <tt>zope.testbrowser</tt>).</p>\n<p>When creating a custom fixture, the usual pattern is to create a new layer\nclass that has <tt>PLONE_FIXTURE</tt> as its default base, instantiating that as a\nseparate \u201cfixture\u201d layer. This layer is not to be used in tests directly,\nsince it won\u2019t have test/transaction lifecycle management, but represents a\nshared fixture, potentially for both functional and integration testing. It\nis also the point of extension for other layers that follow the same pattern.</p>\n<p>Once this fixture has been defined, \u201cend-user\u201d layers can be defined using\nthe <tt>IntegrationTesting</tt> and <tt>FunctionalTesting</tt> classes. For example:</p>\n<pre>from plone.testing import Layer\nfrom plone.app.testing import PLONE_FIXTURE\nfrom plone.app.testing import IntegrationTesting, FunctionalTesting\n\nclass MyFixture(Layer):\n    defaultBases = (PLONE_FIXTURE,)\n\n    ...\n\nMY_FIXTURE = MyFixture()\n\nMY_INTEGRATION_TESTING = IntegrationTesting(bases=(MY_FIXTURE,), name=\"MyFixture:Integration\")\nMY_FUNCTIONAL_TESTING = FunctionalTesting(bases=(MY_FIXTURE,), name=\"MyFixture:Functional\")\n</pre>\n<p>See the <tt>PloneSandboxLayer</tt> layer below for a more comprehensive example.</p>\n</div>\n<div id=\"plone-integration-testing\">\n<h3><a href=\"#id32\" rel=\"nofollow\">Plone integration testing</a></h3>\n<table>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<tbody>\n<tr><td>Layer:</td>\n<td><tt>plone.app.testing.PLONE_INTEGRATION_TESTING</tt></td>\n</tr>\n<tr><td>Class:</td>\n<td><tt>plone.app.testing.layers.IntegrationTesting</tt></td>\n</tr>\n<tr><td>Bases:</td>\n<td><tt>plone.app.testing.PLONE_FIXTURE</tt></td>\n</tr>\n<tr><td>Resources:</td>\n<td><tt>portal</tt> (test setup only)</td>\n</tr>\n</tbody>\n</table>\n<p>This layer can be used for integration testing against the basic\n<tt>PLONE_FIXTURE</tt> layer.</p>\n<p>You can use this directly in your tests if you do not need to set up any\nother shared fixture.</p>\n<p>However, you would normally not extend this layer - see above.</p>\n</div>\n<div id=\"plone-functional-testing\">\n<h3><a href=\"#id33\" rel=\"nofollow\">Plone functional testing</a></h3>\n<table>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<tbody>\n<tr><td>Layer:</td>\n<td><tt>plone.app.testing.PLONE_FUNCTIONAL_TESTING</tt></td>\n</tr>\n<tr><td>Class:</td>\n<td><tt>plone.app.testing.layers.FunctionalTesting</tt></td>\n</tr>\n<tr><td>Bases:</td>\n<td><tt>plone.app.testing.PLONE_FIXTURE</tt></td>\n</tr>\n<tr><td>Resources:</td>\n<td><tt>portal</tt> (test setup only)</td>\n</tr>\n</tbody>\n</table>\n<p>This layer can be used for functional testing against the basic\n<tt>PLONE_FIXTURE</tt> layer, for example using <tt>zope.testbrowser</tt>.</p>\n<p>You can use this directly in your tests if you do not need to set up any\nother shared fixture.</p>\n<p>Again, you would normally not extend this layer - see above.</p>\n</div>\n<div id=\"plone-zserver\">\n<h3><a href=\"#id34\" rel=\"nofollow\">Plone ZServer</a></h3>\n<table>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<tbody>\n<tr><td>Layer:</td>\n<td><tt>plone.app.testing.PLONE_ZSERVER</tt></td>\n</tr>\n<tr><td>Class:</td>\n<td><tt>plone.testing.z2.ZServer</tt></td>\n</tr>\n<tr><td>Bases:</td>\n<td><tt>plone.app.testing.PLONE_FUNCTIONAL_TESTING</tt></td>\n</tr>\n<tr><td>Resources:</td>\n<td><tt>portal</tt> (test setup only)</td>\n</tr>\n</tbody>\n</table>\n<p>This is layer is intended for functional testing using a live, running HTTP\nserver, e.g. using Selenium or Windmill.</p>\n<p>Again, you would not normally extend this layer. To create a custom layer\nthat has a running ZServer, you can use the same pattern as this one, e.g.:</p>\n<pre>from plone.testing import Layer\nfrom plone.testing import z2\nfrom plone.app.testing import PLONE_FIXTURE\nfrom plone.app.testing import FunctionalTesting\n\nclass MyFixture(Layer):\n    defaultBases = (PLONE_FIXTURE,)\n\n    ...\n\nMY_FIXTURE = MyFixture()\nMY_ZSERVER = FunctionalTesting(bases=(MY_FIXTURE, z2.ZSERVER_FIXTURE), name='MyFixture:ZServer')\n</pre>\n<p>See the description of the <tt>z2.ZSERVER</tt> layer in <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a>\nfor further details.</p>\n</div>\n<div id=\"plone-ftp-server\">\n<h3><a href=\"#id35\" rel=\"nofollow\">Plone FTP server</a></h3>\n<table>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<tbody>\n<tr><td>Layer:</td>\n<td><tt>plone.app.testing.PLONE_FTP_SERVER</tt></td>\n</tr>\n<tr><td>Class:</td>\n<td><tt>plone.app.testing.layers.FunctionalTesting</tt></td>\n</tr>\n<tr><td>Bases:</td>\n<td><tt>plone.app.testing.PLONE_FIXTURE</tt>\n<tt>plone.testing.z2.ZSERVER_FIXTURE</tt></td>\n</tr>\n<tr><td>Resources:</td>\n<td><tt>portal</tt> (test setup only)</td>\n</tr>\n</tbody>\n</table>\n<p>This is layer is intended for functional testing using a live FTP server.</p>\n<p>It is semantically equivalent to the <tt>PLONE_ZSERVER</tt> layer.</p>\n<p>See the description of the <tt>z2.FTP_SERVER</tt> layer in <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a>\nfor further details.</p>\n</div>\n</div>\n<div id=\"helper-functions\">\n<h2><a href=\"#id36\" rel=\"nofollow\">Helper functions</a></h2>\n<p>A number of helper functions are provided for use in tests and custom layers.</p>\n<div id=\"plone-site-context-manager\">\n<h3><a href=\"#id37\" rel=\"nofollow\">Plone site context manager</a></h3>\n<dl>\n<dt><tt>ploneSite(db=None, connection=None, environ=None)</tt></dt>\n<dd><p>Use this context manager to access and make changes to the Plone site\nduring layer setup. In most cases, you will use it without arguments,\nbut if you have special needs, you can tie it to a particular database\ninstance. See the description of the <tt>zopeApp()</tt> context manager in\n<a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a> (which this context manager uses internally) for details.</p>\n<p>The usual pattern is to call it during <tt>setUp()</tt> or <tt>tearDown()</tt> in\nyour own layers:</p>\n<pre>from plone.testing import Layer\nfrom plone.app.testing import ploneSite\n\nclass MyLayer(Layer):\n\n    def setUp(self):\n\n        ...\n\n        with ploneSite() as portal:\n\n            # perform operations on the portal, e.g.\n            portal.title = u\"New title\"\n</pre>\n<p>Here, <tt>portal</tt> is the Plone site root. A transaction is begun before\nentering the <tt>with</tt> block, and will be committed upon exiting the block,\nunless an exception is raised, in which case it will be rolled back.</p>\n<p>Inside the block, the local component site is set to the Plone site root,\nso that local component lookups should work.</p>\n<p><strong>Warning:</strong> Do not attempt to load ZCML files inside a <tt>ploneSite</tt>\nblock. Because the local site is set to the Plone site, you may end up\naccidentally registering components in the local site manager, which can\ncause pickling errors later.</p>\n<p><strong>Note:</strong> You should not use this in a test, or in a <tt>testSetUp()</tt> or\n<tt>testTearDown()</tt> method of a layer based on one of the layer in this\npackage. Use the <tt>portal</tt> resource instead.</p>\n<p><strong>Also note:</strong> If you are writing a layer setting up a Plone site fixture,\nyou may want to use the <tt>PloneSandboxLayer</tt> layer base class, and\nimplement the <tt>setUpZope()</tt>, <tt>setUpPloneSite()</tt>, <tt>tearDownZope()</tt>\nand/or <tt>tearDownPloneSite()</tt> methods instead. See below.</p>\n</dd>\n</dl>\n</div>\n<div id=\"user-management\">\n<h3><a href=\"#id38\" rel=\"nofollow\">User management</a></h3>\n<dl>\n<dt><tt>login(portal, userName)</tt></dt>\n<dd><p>Simulate login as the given user. This is based on the <tt>z2.login()</tt>\nhelper in <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a>, but instead of passing a specific user folder,\nyou pass the portal (e.g. as obtained via the <tt>portal</tt> layer resource).</p>\n<p>For example:</p>\n<pre>import unittest2 as unittest\n\nfrom plone.app.testing import PLONE_INTEGRATION_TESTING\nfrom plone.app.testing import TEST_USER_NAME\nfrom plone.app.testing import login\n\n...\n\nclass MyTest(unittest.TestCase):\n\n    layer = PLONE_INTEGRATION_TESTING\n\n    def test_something(self):\n        portal = self.layer['portal']\n        login(portal, TEST_USER_NAME)\n\n        ...\n</pre>\n</dd>\n<dt><tt>logout()</tt></dt>\n<dd><p>Simulate logging out, i.e. becoming the anonymous user. This is equivalent\nto the <tt>z2.logout()</tt> helper in <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a>.</p>\n<p>For example:</p>\n<pre>import unittest2 as unittest\n\nfrom plone.app.testing import PLONE_INTEGRATION_TESTING\nfrom plone.app.testing import logout\n\n...\n\nclass MyTest(unittest.TestCase):\n\n    layer = PLONE_INTEGRATION_TESTING\n\n    def test_something(self):\n        portal = self.layer['portal']\n        logout()\n\n        ...\n</pre>\n</dd>\n<dt><tt>setRoles(portal, userId, roles)</tt></dt>\n<dd><p>Set the roles for the given user. <tt>roles</tt> is a list of roles.</p>\n<p>For example:</p>\n<pre>import unittest2 as unittest\n\nfrom plone.app.testing import PLONE_INTEGRATION_TESTING\nfrom plone.app.testing import TEST_USER_ID\nfrom plone.app.testing import setRoles\n\n...\n\nclass MyTest(unittest.TestCase):\n\n    layer = PLONE_INTEGRATION_TESTING\n\n    def test_something(self):\n        portal = self.layer['portal']\n        setRoles(portal, TEST_USER_ID, ['Manager'])\n</pre>\n</dd>\n</dl>\n</div>\n<div id=\"product-and-profile-installation\">\n<h3><a href=\"#id39\" rel=\"nofollow\">Product and profile installation</a></h3>\n<dl>\n<dt><tt>applyProfile(portal, profileName, blacklisted_steps=None)</tt></dt>\n<dd><p>Install a GenericSetup profile (usually an extension profile) by name,\nusing the <tt>portal_setup</tt> tool. The name is normally made up of a package\nname and a profile name. Do not use the <tt>profile-</tt> prefix.</p>\n<p>For example:</p>\n<pre>from plone.testing import Layer\n\nfrom plone.app.testing import ploneSite\nfrom plone.app.testing import applyProfile\n\n...\n\nclass MyLayer(Layer):\n\n    ...\n\n    def setUp(self):\n\n        ...\n\n        with ploneSite() as portal:\n            applyProfile(portal, 'my.product:default')\n\n            ...\n</pre>\n</dd>\n<dt><tt>quickInstallProduct(portal, productName, reinstall=False)</tt></dt>\n<dd><p>Use this function to install a particular product into the given Plone\nsite, using the <tt>portal_quickinstaller</tt> tool. If <tt>reinstall</tt> is\n<tt>False</tt> and the product is already installed, nothing will happen; if\n<tt>reinstall</tt> is <tt>True</tt>, the product will be reinstalled. The\n<tt>productName</tt> should be a full dotted name, e.g. <tt>Products.MyProduct</tt>,\nor <tt>my.product</tt>.</p>\n<p>For example:</p>\n<pre>from plone.testing import Layer\n\nfrom plone.app.testing import ploneSite\nfrom plone.app.testing import quickInstallProduct\n\n...\n\nclass MyLayer(Layer):\n\n    ...\n\n    def setUp(self):\n\n        ...\n\n        with ploneSite() as portal:\n            quickInstallProduct(portal, 'my.product')\n\n            ...\n</pre>\n</dd>\n</dl>\n</div>\n<div id=\"component-architecture-sandboxing\">\n<h3><a href=\"#id40\" rel=\"nofollow\">Component architecture sandboxing</a></h3>\n<dl>\n<dt><tt>pushGlobalRegistry(portal, new=None, name=None)</tt></dt>\n<dd><p>Create or obtain a stack of global component registries, and push a new\nregistry to the top of the stack. This allows Zope Component Architecture\nregistrations (e.g. loaded via ZCML) to be effectively torn down.</p>\n<p>If you are going to use this function, please read the corresponding\ndocumentation for <tt>zca.pushGlobalRegistry()</tt> in <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a>. In\nparticular, note that you <em>must</em> reciprocally call <tt>popGlobalRegistry()</tt>\n(see below).</p>\n<p>This helper is based on <tt>zca.pushGlobalRegistry()</tt>, but will also fix\nup the local component registry in the Plone site <tt>portal</tt> so that it\nhas the correct bases.</p>\n<p>For example:</p>\n<pre>from plone.testing import Layer\n\nfrom plone.app.testing import ploneSite\nfrom plone.app.testing import pushGlobalRegistry\nfrom plone.app.testing import popGlobalRegistry\n\n...\n\nclass MyLayer(Layer):\n\n    ...\n\n    def setUp(self):\n\n        ...\n\n        with ploneSite() as portal:\n            pushGlobalRegistry(portal)\n\n            ...\n</pre>\n</dd>\n<dt><tt>popGlobalRegistry(portal)</tt></dt>\n<dd><p>Tear down the top of the component architecture stack, as created with\n<tt>pushGlobalRegistry()</tt></p>\n<p>For example:</p>\n<pre>...\n\n    def tearDown(self):\n\n        with ploneSite() as portal:\n            popGlobalRegistry(portal)\n</pre>\n</dd>\n</dl>\n</div>\n<div id=\"global-state-cleanup\">\n<h3><a href=\"#id41\" rel=\"nofollow\">Global state cleanup</a></h3>\n<dl>\n<dt><tt>tearDownMultiPluginRegistration(pluginName)</tt></dt>\n<dd><p>PluggableAuthService \u201cMultiPlugins\u201d are kept in a global registry. If\nyou have registered a plugin, e.g. using the <tt>registerMultiPlugin()</tt>\nAPI, you should tear that registration down in your layer\u2019s <tt>tearDown()</tt>\nmethod. You can use this helper, passing a plugin name.</p>\n<p>For example:</p>\n<pre>from plone.testing import Layer\n\nfrom plone.app.testing import ploneSite\nfrom plone.app.testing import tearDownMultiPluginRegistration\n\n...\n\nclass MyLayer(Layer):\n\n    ...\n\n    def tearDown(self):\n\n        tearDownMultiPluginRegistration('MyPlugin')\n\n        ...\n</pre>\n</dd>\n</dl>\n</div>\n</div>\n<div id=\"layer-base-class\">\n<h2><a href=\"#id42\" rel=\"nofollow\">Layer base class</a></h2>\n<p>If you are writing a custom layer to test your own Plone add-on product, you\nwill often want to do the following on setup:</p>\n<ol>\n<li>Stack a new <tt>DemoStorage</tt> on top of the one from the base layer. This\nensures that any persistent changes performed during layer setup can be\ntorn down completely, simply by popping the demo storage.</li>\n<li>Stack a new ZCML configuration context. This keeps separate the information\nabout which ZCML files were loaded, in case other, independent layers want\nto load those same files after this layer has been torn down.</li>\n<li>Push a new global component registry. This allows you to register\ncomponents (e.g. by loading ZCML or using the test API from\n<tt>zope.component</tt>) and tear down those registration easily by popping the\ncomponent registry.</li>\n<li>Load your product\u2019s ZCML configuration</li>\n<li>Install the product into the test fixture Plone site</li>\n</ol>\n<p>Of course, you may wish to make other changes too, such as creating some base\ncontent or changing some settings.</p>\n<p>On tear-down, you will then want to:</p>\n<ol>\n<li>Remove any Pluggable Authentication Service \u201cmulti-plugins\u201d that were added\nto the global registry during setup.</li>\n<li>Pop the global component registry to unregister components loaded via ZCML.</li>\n<li>Pop the configuration context resource to restore its state.</li>\n<li>Pop the <tt>DemoStorage</tt> to undo any persistent changes.</li>\n</ol>\n<p>If you have made other changes on setup that are not covered by this broad\ntear-down, you\u2019ll also want to tear those down explicitly here.</p>\n<p>Stacking a demo storage and component registry is the safest way to avoid\nfixtures bleeding between tests. However, it can be tricky to ensure that\neverything happens in the right order.</p>\n<p>To make things easier, you can use the <tt>PloneSandboxLayer</tt> layer base class.\nThis extends <tt>plone.testing.Layer</tt> and implements <tt>setUp()</tt> and\n<tt>tearDown()</tt> for you. You simply have to override one or more of the\nfollowing methods:</p>\n<dl>\n<dt><tt>setUpZope(self, app, configurationContext)</tt></dt>\n<dd>This is called during setup. <tt>app</tt> is the Zope application root.\n<tt>configurationContext</tt> is a newly stacked ZCML configuration context.\nUse this to load ZCML, install products using the helper\n<tt>plone.testing.z2.installProduct()</tt>, or manipulate other global state.</dd>\n<dt><tt>setUpPloneSite(self, portal)</tt></dt>\n<dd>This is called during setup. <tt>portal</tt> is the Plone site root as\nconfigured by the <tt>ploneSite()</tt> context manager. Use this to make\npersistent changes inside the Plone site, such as installing products\nusing the <tt>applyProfile()</tt> or <tt>quickInstallProduct()</tt> helpers, or\nsetting up default content.</dd>\n<dt><tt>tearDownZope(self, app)</tt></dt>\n<dd><p>This is called during tear-down, before the global component registry and\nstacked <tt>DemoStorage</tt> are popped. Use this to tear down any additional\nglobal state.</p>\n<p><strong>Note:</strong> Global component registrations PAS multi-plugin registrations are\nautomatically torn down. Product installations are not, so you should use\nthe <tt>uninstallProduct()</tt> helper if any products were installed during\n<tt>setUpZope()</tt>.</p>\n</dd>\n<dt><tt>tearDownPloneSite(self, portal)</tt></dt>\n<dd><p>This is called during tear-down, before the global component registry and\nstacked <tt>DemoStorage</tt> are popped. During this method, the local\ncomponent site hook is set, giving you access to local components.</p>\n<p><strong>Note:</strong> Persistent changes to the ZODB are automatically torn down by\nvirtue of a stacked <tt>DemoStorage</tt>. Thus, this method is less commonly\nused than the others described here.</p>\n</dd>\n</dl>\n<p>Let\u2019s show a more comprehensive example of what such a layer may look like.\nImagine we have a product <tt>my.product</tt>. It has a <tt>configure.zcml</tt> file\nthat loads some components and registers a <tt>GenericSetup</tt> profile, making it\ninstallable in the Plone site. On layer setup, we want to load the product\u2019s\nconfiguration and install it into the Plone site.</p>\n<p>The layer would conventionally live in a module <tt>testing.py</tt> at the root of\nthe package, i.e. <tt>my.product.testing</tt>:</p>\n<pre>from plone.app.testing import PloneSandboxLayer\nfrom plone.app.testing import PLONE_FIXTURE\nfrom plone.app.testing import IntegrationTesting\n\nfrom plone.testing import z2\n\nclass MyProduct(PloneSandboxLayer):\n\n    defaultBases = (PLONE_FIXTURE,)\n\n    def setUpZope(self, app, configurationContext):\n        # Load ZCML\n        import my.product\n        self.loadZCML(package=my.product)\n\n        # Install product and call its initialize() function\n        z2.installProduct(app, 'my.product')\n\n        # Note: you can skip this if my.product is not a Zope 2-style\n        # product, i.e. it is not in the Products.* namespace and it\n        # does not have a &lt;five:registerPackage /&gt; directive in its\n        # configure.zcml.\n\n    def setUpPloneSite(self, portal):\n        # Install into Plone site using portal_setup\n        self.applyProfile(portal, 'my.product:default')\n\n    def tearDownZope(self, app):\n        # Uninstall product\n        z2.uninstallProduct(app, 'my.product')\n\n        # Note: Again, you can skip this if my.product is not a Zope 2-\n        # style product\n\nMY_PRODUCT_FIXTURE = MyProduct()\nMY_PRODUCT_INTEGRATION_TESTING = IntegrationTesting(bases=(MY_PRODUCT_FIXTURE,), name=\"MyProduct:Integration\")\n</pre>\n<p>Here, <tt>MY_PRODUCT_FIXTURE</tt> is the \u201cfixture\u201d base layer. Other layers can\nuse this as a base if they want to build on this fixture, but it would not\nbe used in tests directly. For that, we have created an <tt>IntegrationTesting</tt>\ninstance, <tt>MY_PRODUCT_INTEGRATION_TESTING</tt>.</p>\n<p>Of course, we could have created a <tt>FunctionalTesting</tt> instance as\nwell, e.g.:</p>\n<pre>MY_PRODUCT_FUNCTIONAL_TESTING = FunctionalTesting(bases=(MY_PRODUCT_FIXTURE,), name=\"MyProduct:Functional\")\n</pre>\n<p>Of course, we could do a lot more in the layer setup. For example, let\u2019s say\nthe product had a content type \u2018my.product.page\u2019 and we wanted to create some\ntest content. We could do that with:</p>\n<pre>from plone.app.testing import TEST_USER_ID\nfrom plone.app.testing import TEST_USER_NAME\nfrom plone.app.testing import login\nfrom plone.app.testing import setRoles\n\n...\n\n    def setUpPloneSite(self, portal):\n\n        ...\n\n        setRoles(portal, TEST_USER_ID, ['Manager'])\n        login(portal, TEST_USER_NAME)\n        portal.invokeFactory('my.product.page', 'page-1', title=u\"Page 1\")\n        setRoles(portal, TEST_USER_ID, ['Member'])\n\n...\n</pre>\n<p>Note that unlike in a test, there is no user logged in at layer setup time,\nso we have to explicitly log in as the test user. Here, we also grant the test\nuser the <tt>Manager</tt> role temporarily, to allow object construction (which\nperforms an explicit permission check).</p>\n<blockquote>\n<strong>Note:</strong> Automatic tear down suffices for all the test setup above. If\nthe only changes made during layer setup are to persistent, in-ZODB data,\nor the global component registry then no additional tear-down is required.\nFor any other global state being managed, you should write a\n<tt>tearDownPloneSite()</tt> method to perform the necessary cleanup.</blockquote>\n<p>Given this layer, we could write a test (e.g. in <tt>tests.py</tt>) like:</p>\n<pre>import unittest2 as unittest\nfrom my.product.testing import MY_PRODUCT_INTEGRATION_TESTING\n\nclass IntegrationTest(unittest.TestCase):\n\n    layer = MY_PRODUCT_INTEGRATION_TESTING\n\n    def test_page_dublin_core_title(self):\n        portal = self.layer['portal']\n\n        page1 = portal['page-1']\n        page1.title = u\"Some title\"\n\n        self.assertEqual(page1.Title(), u\"Some title\")\n</pre>\n<p>Please see <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a> for more information about how to write and run\ntests and assertions.</p>\n</div>\n<div id=\"common-test-patterns\">\n<h2><a href=\"#id43\" rel=\"nofollow\">Common test patterns</a></h2>\n<p><a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a>\u2019s documentation contains details about the fundamental\ntechniques for writing tests of various kinds. In a Plone context, however,\nsome patterns tend to crop up time and again. Below, we will attempt to\ncatalogue some of the more commonly used patterns via short code samples.</p>\n<p>The examples in this section are all intended to be used in tests. Some may\nalso be useful in layer set-up/tear-down. We have used <tt>unittest</tt> syntax\nhere, although most of these examples could equally be adopted to doctests.</p>\n<p>We will assume that you are using a layer that has <tt>PLONE_FIXTURE</tt> as a base\n(whether directly or indirectly) and uses the <tt>IntegrationTesting</tt> or\n<tt>FunctionalTesting</tt> classes as shown above.</p>\n<p>We will also assume that the variables <tt>app</tt>, <tt>portal</tt> and <tt>request</tt> are\ndefined from the relative layer resources, e.g. with:</p>\n<pre>app = self.layer['app']\nportal = self.layer['portal']\nrequest = self.layer['request']\n</pre>\n<p>Note that in a doctest set up using the <tt>layered()</tt> function from\n<tt>plone.testing</tt>, <tt>layer</tt> is in the global namespace, so you would do e.g.\n<tt>portal = <span class=\"pre\">layer['portal']</span></tt>.</p>\n<p>Where imports are required, they are shown alongside the code example. If\na given import or variable is used more than once in the same section, it\nwill only be shown once.</p>\n<div id=\"basic-content-management\">\n<h3><a href=\"#id44\" rel=\"nofollow\">Basic content management</a></h3>\n<p>To create a content item of type \u2018Folder\u2019 with the id \u2018f1\u2019 in the root of\nthe portal:</p>\n<pre>portal.invokeFactory('Folder', 'f1', title=u\"Folder 1\")\n</pre>\n<p>The <tt>title</tt> argument is optional. Other basic properties, like\n<tt>description</tt>, can be set as well.</p>\n<p>Note that this may fail with an <tt>Unauthorized</tt> exception, since the test\nuser won\u2019t normally have permissions to add content in the portal root, and\nthe <tt>invokeFactory()</tt> method performs an explicit security check. You can\nset the roles of the test user to ensure that he has the necessary\npermissions:</p>\n<pre>from plone.app.testing import setRoles\nfrom plone.app.testing import TEST_USER_ID\n\nsetRoles(portal, TEST_USER_ID, ['Manager'])\nportal.invokeFactory('Folder', 'f1', title=u\"Folder 1\")\n</pre>\n<p>To obtain this object, acquisition-wrapped in its parent:</p>\n<pre>f1 = portal['f1']\n</pre>\n<p>To make an assertion against an attribute or method of this object:</p>\n<pre>self.assertEqual(f1.Title(), u\"Folder 1\")\n</pre>\n<p>To modify the object:</p>\n<pre>f1.setTitle(u\"Some title\")\n</pre>\n<p>To add another item inside the folder f1:</p>\n<pre>f1.invokeFactory('Document', 'd1', title=u\"Document 1\")\nd1 = f1['d1']\n</pre>\n<p>To check if an object is in a container:</p>\n<pre>self.assertTrue('f1' in portal)\n</pre>\n<p>To delete an object from a container:</p>\n<blockquote>\ndel portal[\u2018f1\u2019]</blockquote>\n<p>There is no content or workflows installed by default. You can enable workflows:</p>\n<pre>portal.portal_workflow.setDefaultChain(\"simple_publication_workflow\")\n</pre>\n</div>\n<div id=\"searching\">\n<h3><a href=\"#id45\" rel=\"nofollow\">Searching</a></h3>\n<p>To obtain the <tt>portal_catalog</tt> tool:</p>\n<pre>from Products.CMFCore.utils import getToolByName\n\ncatalog = getToolByName(portal, 'portal_catalog')\n</pre>\n<p>To search the catalog:</p>\n<pre>results = catalog(portal_type=\"Document\")\n</pre>\n<p>Keyword arguments are search parameters. The result is a lazy list. You can\ncall <tt>len()</tt> on it to get the number of search results, or iterate through\nit. The items in the list are catalog brains. They have attributes that\ncorrespond to the \u201cmetadata\u201d columns configured for the catalog, e.g.\n<tt>Title</tt>, <tt>Description</tt>, etc. Note that these are simple attributes (not\nmethods), and contain the value of the corresponding attribute or method from\nthe source object at the time the object was cataloged (i.e. they are not\nnecessarily up to date).</p>\n<p>To make assertions against the search results:</p>\n<pre>self.assertEqual(len(results), 1)\n\n# Copy the list into memory so that we can use [] notation\nresults = list(results)\n\n# Check the first (and in this case only) result in the list\nself.assertEqual(results[0].Title, u\"Document 1\")\n</pre>\n<p>To get the path of a given item in the search results:</p>\n<pre>self.assertEqual(resuls[0].getPath(), portal.absolute_url_path() + '/f1/d1')\n</pre>\n<p>To get an absolute URL:</p>\n<pre>self.assertEqual(resuls[0].getURL(), portal.absolute_url() + '/f1/d1')\n</pre>\n<p>To get the original object:</p>\n<pre>obj = results[0].getObject()\n</pre>\n<p>To re-index an object d1 so that its catalog information is up to date:</p>\n<pre>d1.reindexObject()\n</pre>\n</div>\n<div id=\"id1\">\n<h3><a href=\"#id46\" rel=\"nofollow\">User management</a></h3>\n<p>To create a new user:</p>\n<pre>from Products.CMFCore.utils import getToolByName\n\nacl_users = getToolByName(portal, 'acl_users')\n\nacl_users.userFolderAddUser('user1', 'secret', ['Member'], [])\n</pre>\n<p>The arguments are the username (which will also be the user id), the password,\na list of roles, and a list of domains (rarely used).</p>\n<p>To make a particular user active (\u201clogged in\u201d) in the integration testing\nenvironment use the <tt>login</tt> method and pass it the username:</p>\n<pre>from plone.app.testing import login\n\nlogin(portal, 'user1')\n</pre>\n<p>To log out (become anonymous):</p>\n<pre>from plone.app.testing import logout\n\nlogout()\n</pre>\n<p>To obtain the current user:</p>\n<pre>from AccessControl import getSecurityManager\n\nuser = getSecurityManager().getUser()\n</pre>\n<p>To obtain a user by name:</p>\n<pre>user = acl_users.getUser('user1')\n</pre>\n<p>Or by user id (id and username are often the same, but can differ in real-world\nscenarios):</p>\n<pre>user = acl_users.getUserById('user1')\n</pre>\n<p>To get the user\u2019s user name:</p>\n<pre>userName = user.getUserName()\n</pre>\n<p>To get the user\u2019s id:</p>\n<pre>userId = user.getId()\n</pre>\n</div>\n<div id=\"permissions-and-roles\">\n<h3><a href=\"#id47\" rel=\"nofollow\">Permissions and roles</a></h3>\n<p>To get a user\u2019s roles in a particular context (taking local roles into\naccount):</p>\n<pre>from AccessControl import getSecurityManager\n\nuser = getSecurityManager().getUser()\n\nself.assertEqual(user.getRolesInContext(portal), ['Member'])\n</pre>\n<p>To change the test user\u2019s roles:</p>\n<pre>from plone.app.testing import setRoles\nfrom plone.app.testing import TEST_USER_ID\n\nsetRoles(portal, TEST_USER_ID, ['Member', 'Manager'])\n</pre>\n<p>Pass a different user name to change the roles of another user.</p>\n<p>To grant local roles to a user in the folder f1:</p>\n<pre>f1.manage_setLocalRoles(TEST_USER_ID, ('Reviewer',))\n</pre>\n<p>To check the local roles of a given user in the folder \u2018f1\u2019:</p>\n<pre>self.assertEqual(f1.get_local_roles_for_userid(TEST_USER_ID), ('Reviewer',))\n</pre>\n<p>To grant the \u2018View\u2019 permission to the roles \u2018Member\u2019 and \u2018Manager\u2019 in the\nportal root without acquiring additional roles from its parents:</p>\n<pre>portal.manage_permission('View', ['Member', 'Manager'], acquire=False)\n</pre>\n<p>This method can also be invoked on a folder or individual content item.</p>\n<p>To assert which roles have the permission \u2018View\u2019 in the context of the\nportal:</p>\n<pre>roles = [r['name'] for r in portal.rolesOfPermission('View') if r['selected']]\nself.assertEqual(roles, ['Member', 'Manager'])\n</pre>\n<p>To assert which permissions have been granted to the \u2018Reviewer\u2019 role in the\ncontext of the portal:</p>\n<pre>permissions = [p['name'] for p in portal.permissionsOfRole('Reviewer') if p['selected']]\nself.assertTrue('Review portal content' in permissions)\n</pre>\n<p>To add a new role:</p>\n<pre>portal._addRole('Tester')\n</pre>\n<p>This can now be assigned to users globally (using the <tt>setRoles</tt> helper)\nor locally (using <tt>manage_setLocalRoles()</tt>).</p>\n<p>To assert which roles are available in a given context:</p>\n<pre>self.assertTrue('Tester' in portal.valid_roles())\n</pre>\n</div>\n<div id=\"workflow\">\n<h3><a href=\"#id48\" rel=\"nofollow\">Workflow</a></h3>\n<p>To set the default workflow chain:</p>\n<pre>from Products.CMFCore.utils import getToolByName\n\nworkflowTool = getToolByName(portal, 'portal_workflow')\n\nworkflowTool.setDefaultChain('my_workflow')\n</pre>\n<p>In Plone, most chains contain only one workflow, but the <tt>portal_workflow</tt>\ntool supports longer chains, where an item is subject to more than one\nworkflow simultaneously.</p>\n<p>To set a multi-workflow chain, separate workflow names by commas.</p>\n<p>To get the default workflow chain:</p>\n<pre>self.assertEqual(workflowTool.getDefaultChain(), ('my_workflow',))\n</pre>\n<p>To set the workflow chain for the \u2018Document\u2019 type:</p>\n<pre>workflowTool.setChainForPortalTypes(('Document',), 'my_workflow')\n</pre>\n<p>You can pass multiple type names to set multiple chains at once. To set a\nmulti-workflow chain, separate workflow names by commas. To indicate that a\ntype should use the default workflow, use the special chain name \u2018(Default)\u2019.</p>\n<p>To get the workflow chain for the portal type \u2018Document\u2019:</p>\n<pre>chains = dict(workflowTool.listChainOverrides())\ndefaultChain = workflowTool.getDefaultChain()\ndocumentChain = chains.get('Document', defaultChain)\n\nself.assertEqual(documentChain, ('my_other_workflow',))\n</pre>\n<p>To get the current workflow chain for the content object f1:</p>\n<pre>self.assertEqual(workflowTool.getChainFor(f1), ('my_workflow',))\n</pre>\n<p>To update all permissions after changing the workflow:</p>\n<pre>workflowTool.updateRoleMappings()\n</pre>\n<p>To change the workflow state of the content object f1 by invoking the\ntransaction \u2018publish\u2019:</p>\n<pre>workflowTool.doActionFor(f1, 'publish')\n</pre>\n<p>Note that this performs an explicit permission check, so if the current user\ndoesn\u2019t have permission to perform this workflow action, you may get an error\nindicating the action is not available. If so, use <tt>login()</tt> or\n<tt>setRoles()</tt> to ensure the current user is able to change the workflow\nstate.</p>\n<p>To check the current workflow state of the content object f1:</p>\n<pre>self.assertEqual(workflowTool.getInfoFor(f1, 'review_state'), 'published')\n</pre>\n</div>\n<div id=\"properties\">\n<h3><a href=\"#id49\" rel=\"nofollow\">Properties</a></h3>\n<p>To set the value of a property on the portal root:</p>\n<pre>portal._setPropValue('title', u\"My title\")\n</pre>\n<p>To assert the value of a property on the portal root:</p>\n<pre>self.assertEqual(portal.getProperty('title'), u\"My title\")\n</pre>\n<p>To change the value of a property in a property sheet in the\n<tt>portal_properties</tt> tool:</p>\n<pre>from Products.CMFCore.utils import getToolByName\n\npropertiesTool = getToolByName(portal, 'portal_properties')\nsiteProperties = propertiesTool['site_properties']\n\nsiteProperties._setPropValue('many_users', True)\n</pre>\n<p>To assert the value of a property in a property sheet in the\n<tt>portal_properties</tt> tool:</p>\n<pre>self.assertEqual(siteProperties.getProperty('many_users'), True)\n</pre>\n</div>\n<div id=\"installing-products-and-extension-profiles\">\n<h3><a href=\"#id50\" rel=\"nofollow\">Installing products and extension profiles</a></h3>\n<p>To apply a particular extension profile:</p>\n<pre>from plone.app.testing import applyProfile\n\napplyProfile(portal, 'my.product:default')\n</pre>\n<p>This is the preferred method of installing a product\u2019s configuration.</p>\n<p>To install an add-on product into the Plone site using the\n<tt>portal_quickinstaller</tt> tool:</p>\n<pre>from plone.app.testing import quickInstallProduct\n\nquickInstallProduct(portal, 'my.product')\n</pre>\n<p>To re-install a product using the quick-installer:</p>\n<pre>quickInstallProduct(portal, 'my.product', reinstall=True)\n</pre>\n<p>Note that both of these assume the product\u2019s ZCML has been loaded, which is\nusually done during layer setup. See the layer examples above for more details\non how to do that.</p>\n<p>When writing a product that has an installation extension profile, it is often\ndesirable to write tests that inspect the state of the site after the profile\nhas been applied. Some of the more common such tests are shown below.</p>\n<p>To verify that a product has been installed (e.g. as a dependency via\n<tt>metadata.xml</tt>):</p>\n<pre>from Products.CMFCore.utils import getToolByName\n\nquickinstaller = getToolByName(portal, 'portal_quickinstaller')\nself.assertTrue(quickinstaller.isProductInstalled('my.product'))\n</pre>\n<p>To verify that a particular content type has been installed (e.g. via\n<tt>types.xml</tt>):</p>\n<pre>typesTool = getToolByName(portal, 'portal_types')\n\nself.assertNotEqual(typesTool.getTypeInfo('mytype'), None)\n</pre>\n<p>To verify that a new catalog index has been installed (e.g. via\n<tt>catalog.xml</tt>):</p>\n<pre>catalog = getToolByName(portal, 'portal_catalog')\n\nself.assertTrue('myindex' in catalog.indexes())\n</pre>\n<p>To verify that a new catalog metadata column has been added (e.g. via\n<tt>catalog.xml</tt>):</p>\n<pre>self.assertTrue('myattr' in catalog.schema())\n</pre>\n<p>To verify that a new workflow has been installed (e.g. via\n<tt>workflows.xml</tt>):</p>\n<pre>workflowTool = getToolByName(portal, 'portal_workflow')\n\nself.assertNotEqual(workflowTool.getWorkflowById('my_workflow'), None)\n</pre>\n<p>To verify that a new workflow has been assigned to a type (e.g. via\n<tt>workflows.xml</tt>):</p>\n<pre>self.assertEqual(dict(workflowTool.listChainOverrides())['mytype'], ('my_workflow',))\n</pre>\n<p>To verify that a new workflow has been set as the default (e.g. via\n<tt>workflows.xml</tt>):</p>\n<pre>self.assertEqual(workflowTool.getDefaultChain(), ('my_workflow',))\n</pre>\n<p>To test the value of a property in the <tt>portal_properties</tt> tool (e.g. set\nvia <tt>propertiestool.xml</tt>)::</p>\n<pre>propertiesTool = getToolByName(portal, 'portal_properties')\nsiteProperties = propertiesTool['site_properties']\n\nself.assertEqual(siteProperties.getProperty('some_property'), \"some value\")\n</pre>\n<p>To verify that a stylesheet has been installed in the <tt>portal_css</tt> tool\n(e.g. via <tt>cssregistry.xml</tt>):</p>\n<pre>cssRegistry = getToolByName(portal, 'portal_css')\n\nself.assertTrue('mystyles.css' in cssRegistry.getResourceIds())\n</pre>\n<p>To verify that a JavaScript resource has been installed in the\n<tt>portal_javascripts</tt> tool (e.g. via <tt>jsregistry.xml</tt>):</p>\n<pre>jsRegistry = getToolByName(portal, 'portal_javascripts')\n\nself.assertTrue('myscript.js' in jsRegistry.getResourceIds())\n</pre>\n<p>To verify that a new role has been added (e.g. via <tt>rolemap.xml</tt>):</p>\n<pre>self.assertTrue('NewRole' in portal.valid_roles())\n</pre>\n<p>To verify that a permission has been granted to a given set of roles (e.g. via\n<tt>rolemap.xml</tt>):</p>\n<pre>roles = [r['name'] for r in portal.rolesOfPermission('My Permission') if r['selected']]\nself.assertEqual(roles, ['Member', 'Manager'])\n</pre>\n</div>\n<div id=\"traversal\">\n<h3><a href=\"#id51\" rel=\"nofollow\">Traversal</a></h3>\n<p>To traverse to a view, page template or other resource, use\n<tt>restrictedTraverse()</tt> with a relative path:</p>\n<pre>resource = portal.restrictedTraverse('f1/@@folder_contents')\n</pre>\n<p>The return value is a view object, page template object, or other resource.\nIt may be invoked to obtain an actual response (see below).</p>\n<p><tt>restrictedTraverse()</tt> performs an explicit security check, and so may\nraise <tt>Unauthorized</tt> if the current test user does not have permission to\nview the given resource. If you don\u2019t want that, you can use:</p>\n<pre>resource = portal.unrestrictedTraverse('f1/@@folder_contents')\n</pre>\n<p>You can call this on a folder or other content item as well, to traverse from\nthat starting point, e.g. this is equivalent to the first example above:</p>\n<pre>f1 = portal['f1']\nresource = f1.restrictedTraverse('@@folder_contents')\n</pre>\n<p>Note that this traversal will not take <tt>IPublishTraverse</tt> adapters into\naccount, and you cannot pass query string parameters. In fact,\n<tt>restrictedTraverse()</tt> and <tt>unrestrictedTraverse()</tt> implement the type of\ntraversal that happens with path expressions in TAL, which is similar, but not\nidentical to URL traversal.</p>\n<p>To look up a view manually:</p>\n<pre>from zope.component import getMultiAdapter\n\nview = getMultiAdapter((f1, request), name=u\"folder_contents\")\n</pre>\n<p>Note that the name here should not include the <tt>@@</tt> prefix.</p>\n<p>To simulate an <tt>IPublishTraverse</tt> adapter call, presuming the view\nimplements <tt>IPublishTraverse</tt>:</p>\n<pre>next = view.IPublishTraverse(request, u\"some-name\")\n</pre>\n<p>Or, if the <tt>IPublishTraverse</tt> adapter is separate from the view:</p>\n<pre>from zope.publisher.interfaces import IPublishTraverse\n\npublishTraverse = getMultiAdapter((f1, request), IPublishTraverse)\nnext = view.IPublishTraverse(request, u\"some-name\")\n</pre>\n<p>To simulate a form submission or query string parameters:</p>\n<pre>request.form.update({\n        'name': \"John Smith\",\n        'age':  23\n    })\n</pre>\n<p>The <tt>form</tt> dictionary contains the marshalled request. That is, if you are\nsimulating a query string parameter or posted form variable that uses a\nmarshaller like <tt>:int</tt> (e.g. <tt>age:int</tt> in the example above), the value\nin the <tt>form</tt> dictionary should be marshalled (an int instead of a string,\nin the example above), and the name should be the base name (<tt>age</tt> instead\nof <tt>age:int</tt>).</p>\n<p>To invoke a view and obtain the response body as a string:</p>\n<pre>view = f1.restrictedTraverse('@@folder_contents')\nbody = view()\n\nself.assertFalse(u\"An unexpected error occurred\" in body)\n</pre>\n<p>Please note that this approach is not perfect. In particular, the request\nis will not have the right URL or path information. If your view depends on\nthis, you can fake it by setting the relevant keys in the request, e.g.:</p>\n<pre>request.set('URL', f1.absolute_url() + '/@@folder_contents')\nrequest.set('ACTUAL_URL', f1.absolute_url() + '/@@folder_contents')\n</pre>\n<p>To inspect the state of the request (e.g. after a view has been invoked):</p>\n<pre>self.assertEqual(request.get('disable_border'), True)\n</pre>\n<p>To inspect response headers (e.g. after a view has been invoked):</p>\n<pre>response = request.response\n\nself.assertEqual(response.getHeader('content-type'), 'text/plain')\n</pre>\n</div>\n<div id=\"simulating-browser-interaction\">\n<h3><a href=\"#id52\" rel=\"nofollow\">Simulating browser interaction</a></h3>\n<p>End-to-end functional tests can use <a href=\"http://pypi.python.org/pypi/zope.testbrowser\" rel=\"nofollow\">zope.testbrowser</a> to simulate user\ninteraction. This acts as a web browser, connecting to Zope via a special\nchannel, making requests and obtaining responses.</p>\n<blockquote>\n<strong>Note:</strong> zope.testbrowser runs entirely in Python, and does not simulate\na JavaScript engine.</blockquote>\n<p>Note that to use <tt>zope.testbrowser</tt>, you need to use one of the functional\ntesting layers, e.g. <tt>PLONE_FUNCTIONAL_TESTING</tt>, or another layer\ninstantiated with the <tt>FunctionalTesting</tt> class.</p>\n<p>If you want to create some initial content, you can do so either in a layer,\nor in the test itself, before invoking the test browser client. In the latter\ncase, you need to commit the transaction before it becomes available, e.g.:</p>\n<pre>from plone.app.testing import setRoles\nfrom plone.app.testing import TEST_USER_ID\n\n# Make some changes\nsetRoles(portal, TEST_USER_ID, ['Manager'])\nportal.invokeFactory('Folder', 'f1', title=u\"Folder 1\")\nsetRoles(portal, TEST_USER_ID, ['Member'])\n\n# Commit so that the test browser sees these changes\nimport transaction\ntransaction.commit()\n</pre>\n<p>To obtain a new test browser client:</p>\n<pre>from plone.testing.z2 import Browser\n\n# This is usually self.app (Zope root) or site.portal (test Plone site root)\nbrowser = Browser(app)\n</pre>\n<p>To open a given URL:</p>\n<pre>portalURL = portal.absolute_url()\nbrowser.open(portalURL)\n</pre>\n<p>To inspect the response:</p>\n<pre>self.assertTrue(u\"Welcome\" in browser.contents)\n</pre>\n<p>To inspect response headers:</p>\n<pre>self.assertEqual(browser.headers['content-type'], 'text/html; charset=utf-8')\n</pre>\n<p>To follow a link:</p>\n<pre>browser.getLink('Edit').click()\n</pre>\n<p>This gets a link by its text. To get a link by HTML id:</p>\n<pre>browser.getLink(id='edit-link').click()\n</pre>\n<p>To verify the current URL:</p>\n<pre>self.assertEqual(portalURL + '/edit', browser.url)\n</pre>\n<p>To set a form control value:</p>\n<pre>browser.getControl('Age').value = u\"30\"\n</pre>\n<p>This gets the control by its associated label. To get a control by its form\nvariable name:</p>\n<pre>browser.getControl(name='age:int').value = u\"30\"\n</pre>\n<p>See the <a href=\"http://pypi.python.org/pypi/zope.testbrowser\" rel=\"nofollow\">zope.testbrowser</a> documentation for more details on how to select\nand manipulate various types of controls.</p>\n<p>To submit a form by clicking a button:</p>\n<pre>browser.getControl('Save').click()\n</pre>\n<p>Again, this uses the label to find the control. To use the form variable\nname:</p>\n<pre>browser.getControl(name='form.button.Save').click()\n</pre>\n<p>To simulate HTTP BASIC authentication and remain logged in for all\nrequests:</p>\n<pre>from plone.app.testing import TEST_USER_NAME, TEST_USER_PASSWORD\n\nbrowser.addHeader('Authorization', 'Basic %s:%s' % (TEST_USER_NAME, TEST_USER_PASSWORD,))\n</pre>\n<p>To simulate logging in via the login form:</p>\n<pre>browser.open(portalURL + '/login_form')\nbrowser.getControl(name='__ac_name').value = TEST_USER_NAME\nbrowser.getControl(name='__ac_password').value = TEST_USER_PASSWORD\nbrowser.getControl(name='submit').click()\n</pre>\n<p>To simulate logging out:</p>\n<pre>browser.open(portalURL + '/logout')\n</pre>\n<div id=\"debugging-tips\">\n<h4><a href=\"#id53\" rel=\"nofollow\">Debugging tips</a></h4>\n<p>By default, only HTTP error codes (e.g. 500 Server Side Error) are shown when\nan error occurs on the server. To see more details, set <tt>handleErrors</tt> to\nFalse:</p>\n<pre>browser.handleErrors = False\n</pre>\n<p>To inspect the error log and obtain a full traceback of the latest entry:</p>\n<pre>from Products.CMFCore.utils import getToolByName\n\nerrorLog = getToolByName(portal, 'error_log')\nprint errorLog.getLogEntries()[-1]['tb_text']\n</pre>\n<p>To save the current response to an HTML file:</p>\n<pre>open('/tmp/testbrowser.html', 'w').write(browser.contents)\n</pre>\n<p>You can now open this file and use tools like Firebug to inspect the structure\nof the page. You should remove the file afterwards.</p>\n</div>\n</div>\n</div>\n<div id=\"comparison-with-zopetestcase-plonetestcase\">\n<h2><a href=\"#id54\" rel=\"nofollow\">Comparison with ZopeTestCase/PloneTestCase</a></h2>\n<p><a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a> and <tt>plone.app.testing</tt> have in part evolved from\n<tt>ZopeTestCase</tt>, which ships with Zope 2 in the <tt>Testing</tt> package, and\n<a href=\"http://pypi.python.org/pypi/Products.PloneTestCase\" rel=\"nofollow\">Products.PloneTestCase</a>, which ships with Plone and is used by Plone itself\nas well as numerous add-on products.</p>\n<p>If you are familiar with <tt>ZopeTestCase</tt> and <tt>PloneTestCase</tt>, the concepts\nof these package should be familiar to you. However, there are some important\ndifferences to bear in mind.</p>\n<ul>\n<li><p><tt>plone.testing</tt> and <tt>plone.app.testing</tt> are unburdened by the legacy\nsupport that <tt>ZopeTestCase</tt> and <tt>PloneTestCase</tt> have to include. This\nmakes them smaller and easier to understand and maintain.</p>\n</li>\n<li><p>Conversely, <tt>plone.testing</tt> only works with Python 2.6 and Zope 2.12 and\nlater. <tt>plone.app.testing</tt> only works with Plone 4 and later. If you need\nto write tests that run against older versions of Plone, you\u2019ll need to use\n<tt>PloneTestCase</tt>.</p>\n</li>\n<li><p><tt>ZopeTestCase</tt>/<tt>PloneTestCase</tt> were written before layers were available\nas a setup mechanism. <tt>plone.testing</tt> is very layer-oriented.</p>\n</li>\n<li><p><tt>PloneTestCase</tt> provides a base class, also called <tt>PloneTestCase</tt>,\nwhich you must use, as it performs setup and tear-down. <tt>plone.testing</tt>\nmoves shared state to layers and layer resources, and does not impose any\nparticular base class for tests. This does sometimes mean a little more\ntyping (e.g. <tt><span class=\"pre\">self.layer['portal']</span></tt> vs. <tt>self.portal</tt>), but it makes\nit much easier to control and re-use test fixtures. It also makes your\ntest code simpler and more explicit.</p>\n</li>\n<li><p><tt>ZopeTestCase</tt> has an <tt>installProduct()</tt> function and a corresponding\n<tt>installPackage()</tt> function. <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a> has only an\n<tt>installProduct()</tt>, which can configure any kind of Zope 2 product (i.e.\npackages in the <tt>Products.*</tt> namespace, old-style products in a special\n<tt>Products</tt> folder, or packages in any namespace that have had their ZCML\nloaded and which include a <tt>&lt;five:registerPackage /&gt;</tt> directive in their\nconfiguration). Note that you must pass a full dotted name to this function,\neven for \u201cold-style\u201d products in the <tt>Products.*</tt> namespace, e.g.\n<tt>Products.LinguaPlone</tt> instead of <tt>LinguaPlone</tt>.</p>\n</li>\n<li><p>On setup, <tt>PloneTestCase</tt> will load Zope 2\u2019s default <tt>site.zcml</tt>. This\nin turn will load all ZCML for all packages in the <tt>Products.*</tt> namespace.\n<tt>plone.testing</tt> does not do this (and you are strongly encouraged from\ndoing it yourself), because it is easy to accidentally include packages in\nyour fixture that you didn\u2019t intend to be there (and which can actually\nchange the fixture substantially). You should load your package\u2019s ZCML\nexplicitly. See the <a href=\"http://pypi.python.org/pypi/plone.testing\" rel=\"nofollow\">plone.testing</a> documentation for details.</p>\n</li>\n<li><p>When using <tt>PloneTestCase</tt>, any package that has been loaded onto\n<tt>sys.path</tt> and which defines the <tt>z3c.autoinclude.plugin:plone</tt> entry\npoint will be loaded via <a href=\"http://pypi.python.org/pypi/z3c.autoinclude\" rel=\"nofollow\">z3c.autoinclude</a>\u2019s plugin mechanism. This loading\nis explicitly disabled, for the same reasons that the <tt>Products.*</tt> auto-\nloading is. You should load your packages\u2019 configuration explicitly.</p>\n</li>\n<li><p><tt>PloneTestCase</tt> sets up a basic fixture that has member folder enabled,\nand in which the test user\u2019s member folder is available as <tt>self.folder</tt>.\nThe <tt>plone_workflow</tt> workflow is also installed as the default.\n<tt>plone.app.testing</tt> takes a more minimalist approach. To create a test\nfolder owned by the test user that is similar to <tt>self.folder</tt> in a\n<tt>PloneTestCase</tt>, you can do:</p>\n<pre>import unittest2 as unittest\nfrom plone.app.testing import TEST_USER_ID, setRoles\nfrom plone.app.testing import PLONE_INTEGRATION_TESTING\n\nclass MyTest(unitest.TestCase):\n\n    layer = PLONE_INTEGRATION_TESTING\n\n    def setUp(self):\n        self.portal = self.layer['portal']\n\n        setRoles(self.portal, TEST_USER_ID, ['Manager'])\n        self.portal.invokeFactory('Folder', 'test-folder')\n        setRoles(self.portal, TEST_USER_ID, ['Member'])\n\n        self.folder = self.portal['test-folder']\n</pre>\n<p>You could of course do this type of setup in your own layer and expose it\nas a resource instead.</p>\n</li>\n<li><p>To use <a href=\"http://pypi.python.org/pypi/zope.testbrowser\" rel=\"nofollow\">zope.testbrowser</a> with <tt>PloneTestCase</tt>, you should use its\n<tt>FunctionalTestCase</tt> as a base class, and then use the following pattern:</p>\n<pre>from Products.Five.testbrowser import Browser\nbrowser = Browser()\n</pre>\n<p>The equivalent pattern in <tt>plone.app.testing</tt> is to use the\n<tt>FunctionalTesting</tt> test lifecycle layer (see example above), and then\nuse:</p>\n<pre>from plone.testing.z2 import Browser\nbrowser = Browser(self.layer['app'])\n</pre>\n<p>Also note that if you have made changes to the fixture prior to calling\n<tt>browser.open()</tt>, they will <em>not</em> be visible until you perform an\nexplicit commit. See the <tt>zope.testbrowser</tt> examples above for details.</p>\n</li>\n</ul>\n</div>\n<div id=\"changelog\">\n<h2><a href=\"#id55\" rel=\"nofollow\">Changelog</a></h2>\n<div id=\"id2\">\n<h3><a href=\"#id56\" rel=\"nofollow\">6.1.5 (2020-04-20)</a></h3>\n<p>Bug fixes:</p>\n<ul>\n<li>Minor packaging updates. (#1)</li>\n</ul>\n</div>\n<div id=\"id3\">\n<h3><a href=\"#id57\" rel=\"nofollow\">6.1.4 (2020-03-09)</a></h3>\n<p>Bug fixes:</p>\n<ul>\n<li>Fix a test isolation issue that was preventing the MOCK_MAILHOST_FIXTURE to be used in multiple testcases [ale-rt] (#61)</li>\n<li>MockMailHostLayer configures the mail sender setting the appropriate registry records (Fixes #62) (#62)</li>\n<li>Fix tests when using zope.testrunner internals since its version 5.1.\n[jensens] (#68)</li>\n<li>Do not load Products/ZCML of no longer existing Products.ResourceRegistries.\n[jensens] (#69)</li>\n</ul>\n</div>\n<div id=\"id4\">\n<h3><a href=\"#id58\" rel=\"nofollow\">6.1.3 (2019-02-16)</a></h3>\n<p>Bug fixes:</p>\n<ul>\n<li>Make plone.app.folder a optional product for PloneFixture in py2 (#59)</li>\n</ul>\n</div>\n<div id=\"id5\">\n<h3><a href=\"#id59\" rel=\"nofollow\">6.1.2 (2019-02-13)</a></h3>\n<p>Bug fixes:</p>\n<ul>\n<li>Fixed the travis build checking the Python versions Plone actually supports.\nAlso fixed Python versions in setup.py (#57)</li>\n</ul>\n</div>\n<div id=\"id6\">\n<h3><a href=\"#id60\" rel=\"nofollow\">6.1.1 (2018-11-05)</a></h3>\n<p>Bug fixes:</p>\n<ul>\n<li>Fix the package manifest that was not including some files\n[ale-rt]</li>\n</ul>\n</div>\n<div id=\"id7\">\n<h3><a href=\"#id61\" rel=\"nofollow\">6.1.0 (2018-11-04)</a></h3>\n<p>Breaking changes:</p>\n<ul>\n<li>Require <cite>plone.testing &gt;= 7.0</cite>.</li>\n</ul>\n<p>New features:</p>\n<ul>\n<li>Add support for Python 3.5 and 3.6.\n[loechel, ale-rt, icemac, davisagli, pbauer]</li>\n</ul>\n</div>\n<div id=\"id8\">\n<h3><a href=\"#id62\" rel=\"nofollow\">6.0.0 (2018-10-05)</a></h3>\n<p>New features:</p>\n<ul>\n<li>Install and load zcml of CMFQuickInstallerTool only when importable.\n[maurits]</li>\n<li>Load negotiator from plone.i18n (PTS removed).\n[jensens, ksuess]</li>\n<li>Add copy of bbb.PloneTestCase.\nFor Plone 5.2 the bbb.PloneTestCase will uses Dexterity instead of Archetypes.\nAdding bbb_at.PloneTestCase for them to use allows to keep the AT tests working.\nSee <a href=\"https://github.com/plone/plone.app.testing/pull/51\" rel=\"nofollow\">https://github.com/plone/plone.app.testing/pull/51</a>\n[pbauer]</li>\n</ul>\n<p>Bug fixes:</p>\n<ul>\n<li>Amended the doctests to work with automatical layer port picking from plone.testing.\n[Rotonen]</li>\n</ul>\n</div>\n<div id=\"id9\">\n<h3><a href=\"#id63\" rel=\"nofollow\">5.0.8 (2017-10-25)</a></h3>\n<p>Bug fixes:</p>\n<ul>\n<li>Load Products.PageTemplates ZCML.  [tschorr]</li>\n</ul>\n</div>\n<div id=\"id10\">\n<h3><a href=\"#id64\" rel=\"nofollow\">5.0.7 (2017-07-03)</a></h3>\n<p>Bug fixes:</p>\n<ul>\n<li>Remove deprecated __of__ calls on BrowserViews\n[MrTango]</li>\n<li>Remove unittest2 dependency\n[kakshay21]</li>\n</ul>\n</div>\n<div id=\"id11\">\n<h3><a href=\"#id65\" rel=\"nofollow\">5.0.6 (2016-12-19)</a></h3>\n<p>Bug fixes:</p>\n<ul>\n<li>No longer try to load <cite>Products.SecureMailHost</cite> and its zcml.\nThis is not shipped with Plone 5.0 or higher.  [maurits]</li>\n</ul>\n</div>\n<div id=\"id12\">\n<h3><a href=\"#id66\" rel=\"nofollow\">5.0.5 (2016-11-19)</a></h3>\n<p>Bug fixes:</p>\n<ul>\n<li>Do not use install Products.PasswordResetTool in the PloneFixture if it isn\u2019t available.\n[thet]</li>\n</ul>\n</div>\n<div id=\"id13\">\n<h3><a href=\"#id67\" rel=\"nofollow\">5.0.4 (2016-09-23)</a></h3>\n<p>New features:</p>\n<ul>\n<li>Use get_installer instead of portal_quickinstaller when available, for\nPlone 5.1 and higher.  [maurits]</li>\n<li>In PloneSandboxLayer make profile upgrade versions persistent.  This\nway installed profile versions get reset in teardown.  [maurits]</li>\n</ul>\n</div>\n<div id=\"id14\">\n<h3><a href=\"#id68\" rel=\"nofollow\">5.0.3 (2016-09-07)</a></h3>\n<p>Bug fixes:</p>\n<ul>\n<li>Load Products.CMFFormController in tests.  It is still used by core\nPlone, also without Archetypes.  This makes the CMFFormController\ntests pass.  [maurits]</li>\n</ul>\n</div>\n<div id=\"id15\">\n<h3><a href=\"#id69\" rel=\"nofollow\">5.0.2 (2016-06-07)</a></h3>\n<p>Fixes:</p>\n<ul>\n<li>Do not use install Products.SecureMailHost in the PloneFixture if it isn\u2019t available\n[vangheem]</li>\n</ul>\n</div>\n<div id=\"id16\">\n<h3><a href=\"#id70\" rel=\"nofollow\">5.0.1 (2016-02-26)</a></h3>\n<p>Fixes:</p>\n<ul>\n<li>Replace deprecated <tt>zope.site.hooks</tt> import with <tt>zope.component.hooks</tt>.\n[thet]</li>\n</ul>\n</div>\n<div id=\"id17\">\n<h3><a href=\"#id71\" rel=\"nofollow\">5.0.0 (2016-02-20)</a></h3>\n<p>New:</p>\n<ul>\n<li>Add a MOCK_MAILHOST_FIXTURE fixture that integration and functional tests layers can depend on.\nThis allows to easily check how mails are sent from Plone.\n[gforcada]</li>\n</ul>\n<p>Fixes:</p>\n<ul>\n<li>Fix <tt>layers.rst</tt> doctest to be compatible with older and newer zope.testrunner layer ordering.\n[thet]</li>\n<li>Depend on <tt>zope.testrunner</tt> and fix deprecated usage of <tt>zope.testing.testrunner</tt>.\n[thet]</li>\n<li>Cleanup code, flake8, sort imports, etc.\n[gforcada]</li>\n<li>Fix RAM cache error with bbb.PloneTestCase.\n[ebrehault]</li>\n</ul>\n</div>\n<div id=\"b6-2015-08-22\">\n<h3><a href=\"#id72\" rel=\"nofollow\">5.0b6 (2015-08-22)</a></h3>\n<ul>\n<li>No need for unittest2.\n[gforcada]</li>\n</ul>\n</div>\n<div id=\"b5-2015-07-18\">\n<h3><a href=\"#id73\" rel=\"nofollow\">5.0b5 (2015-07-18)</a></h3>\n<ul>\n<li>Do not install CMFDefault.\n[tomgross]</li>\n<li>Document PloneWithPackageLayer.\n[gotcha]</li>\n</ul>\n</div>\n<div id=\"b4-2015-05-04\">\n<h3><a href=\"#id74\" rel=\"nofollow\">5.0b4 (2015-05-04)</a></h3>\n<ul>\n<li>Do not install CMFFormController.\n[timo]</li>\n<li>Do not install CMFDefault\n[tomgross]</li>\n</ul>\n</div>\n<div id=\"b3-2015-03-26\">\n<h3><a href=\"#id75\" rel=\"nofollow\">5.0b3 (2015-03-26)</a></h3>\n<ul>\n<li>Remove PloneLanguageTool from PloneFixture.\n[timo]</li>\n</ul>\n</div>\n<div id=\"b2-2015-03-13\">\n<h3><a href=\"#id76\" rel=\"nofollow\">5.0b2 (2015-03-13)</a></h3>\n<ul>\n<li>remove test of applying an extension profile, we don\u2019t have a good one to\ntest now.\n[davidagli]</li>\n<li>fix test, plone.app.theming does not get recorded as installed .\n[davisagli]</li>\n<li>fix: <tt>Products.CMFPlone</tt> needs the <tt>gopip</tt> index from\n<tt>plone.app.folder</tt>. So latter has to be initialized before CMFPlones\nprofile is applied (which installs the index to catalog). At the moment\nCMFPlone therefore registers the index itself, but plone.app.folder\nregisters it too, which resulted in plone/Products.CMFPlone#313\n\u201cGopipIndex registered twice\u201d In tests the registration does not succedd,\nbecause plone.app.folder was never initialized as z2 products. In order to\nremove the misleading regisatration from CMFPlone we must take care that the\nindex is available, which is achieved with this change. Also minor pep8\noptimizations in the file touched.\n[jensens]</li>\n<li>create memberfolder, if it is not there for testing.\n[tomgross]</li>\n</ul>\n</div>\n<div id=\"b1-2014-10-23\">\n<h3><a href=\"#id77\" rel=\"nofollow\">5.0b1 (2014-10-23)</a></h3>\n<ul>\n<li>Allow applyProfile to skip steps and all other options supported by\nrunAllImportStepsFromProfile of portal_setup-tool.\n[pbauer, tomgross]</li>\n</ul>\n</div>\n<div id=\"a2-2014-04-19\">\n<h3><a href=\"#id78\" rel=\"nofollow\">5.0a2 (2014-04-19)</a></h3>\n<ul>\n<li>Install Products.DateRecurringIndex for the PLONE_FIXTURE Layer.\n[thet]</li>\n</ul>\n</div>\n<div id=\"a1-2014-02-22\">\n<h3><a href=\"#id79\" rel=\"nofollow\">5.0a1 (2014-02-22)</a></h3>\n<ul>\n<li>Add \u2018ROBOT_TEST_LEVEL\u2019 to interfaces, so other packages can import it. This\nmakes things easier if we decide to change the value.\n[timo]</li>\n<li>Replace deprecated test assert statements.\n[timo]</li>\n<li>plonetheme.classic no longer ships with Plone, don\u2019t use it for\ntesting.\n[esteele]</li>\n<li>Clean up the zodbDB and configurationContext resources if there\nis an error during the PloneSandboxLayer setUp.\n[davisagli]</li>\n<li>Make PLONE_FIXTURE not install a content type system.\nPackages that need content types to run their tests should\npick the appropriate fixture from plone.app.contenttypes\nor Products.ATContentTypes.\n[davisagli]</li>\n<li>Pin [robot] extra to <tt><span class=\"pre\">robotsuite&gt;=1.4.0</span></tt>.\n[saily]</li>\n<li>Fix wrong spelling of <tt>reinstallProducts</tt> method in quickInstallProduct.\n[saily]</li>\n<li>Sync bbb PloneTestCase class with original one.\n[tomgross]</li>\n</ul>\n</div>\n<div id=\"id18\">\n<h3><a href=\"#id80\" rel=\"nofollow\">4.2.2 (2013-02-09)</a></h3>\n<ul>\n<li>Add [robot] extras for requiring dependnecies for Robot Framework\ntests with Selenium2Library\n[datakurre]</li>\n<li>Install PythonScripts as zope product\n[mikejmets]</li>\n</ul>\n</div>\n<div id=\"id19\">\n<h3><a href=\"#id81\" rel=\"nofollow\">4.2.1 (2012-12-15)</a></h3>\n<ul>\n<li>Allow testing with non standard port. Allows running multiple test suites\nin parallel.\n[do3cc]</li>\n<li>Documentation updates.\n[moo]</li>\n</ul>\n</div>\n<div id=\"id20\">\n<h3><a href=\"#id82\" rel=\"nofollow\">4.2 (2012-04-15)</a></h3>\n<ul>\n<li>Branch as 4.2 as the plone.app.collection addition breaks backwards\ncompatibility.\n[esteele]</li>\n<li>Fixed spurious failure in our own tests by using a longer timeout.\n[maurits]</li>\n<li>plone.app.collection added to PloneFixture.\n[timo]</li>\n</ul>\n</div>\n<div id=\"id21\">\n<h3><a href=\"#id83\" rel=\"nofollow\">4.0.2 (2011-08-31)</a></h3>\n<ul>\n<li>Load ZCML before installing Zope products in <tt>PloneWithPackageLayer</tt>;\nit enables package registration.\n[gotcha]</li>\n</ul>\n</div>\n<div id=\"id22\">\n<h3><a href=\"#id84\" rel=\"nofollow\">4.0.1 (2011-07-14)</a></h3>\n<ul>\n<li>Add <tt>additional_z2_products</tt> parameter to <tt>PloneWithPackageLayer</tt>\nhelper class to install additional Zope 2 products.\n[jfroche]</li>\n</ul>\n</div>\n<div id=\"id23\">\n<h3><a href=\"#id85\" rel=\"nofollow\">4.0 - 2011-05-13</a></h3>\n<ul>\n<li>4.0 Final release.\n[esteele]</li>\n<li>Add MANIFEST.in.\n[WouterVH]</li>\n</ul>\n</div>\n<div id=\"a6-2011-04-06\">\n<h3><a href=\"#id86\" rel=\"nofollow\">4.0a6 - 2011-04-06</a></h3>\n<ul>\n<li>Added helper functions for selenium layer. (Copied from SeleniumTestCase\nwithin Products.CMFPlone/Products/CMFPlone/tests/selenium/base.py)\n[emanlove]</li>\n<li>Rework layer setup of SeleniumLayer so that z2.ZSERVER_FIXTURE is a\ndefault_base.\n[esteele]</li>\n<li>Convert the passed-in selenium webdriver name to lowercase before doing a\nmodule lookup.\n[esteele]</li>\n<li>Moved selenium start up and tear down to testSetUp and testTearDown,\nrespectively.  This was done to help further isolate individual tests.\nFor example, logging in under one test would require either logging out\nor shutting down the browser, which is what the selenium_layer will now\ndo under testTearDown, in order to have a \u201cclean\u201d state within the next\ntest.\n[emanlove]</li>\n<li>Corrected module path for the various selenium webdrivers using\nselenium 2.0b2.\n[emanlove]</li>\n</ul>\n</div>\n<div id=\"a5-2011-03-02\">\n<h3><a href=\"#id87\" rel=\"nofollow\">4.0a5 - 2011-03-02</a></h3>\n<ul>\n<li>Use the new <tt>plone.testing.security</tt> module to ensure isolation of\nsecurity checkers when setting up and tearing down layers based on the\n<tt>PloneSandboxLayer</tt> helper base class. This would cause problems when\nrunning multiple test suites in the same test run, in particular if one of\nthose suites were setting up ZCML that used <tt>five.grok</tt>.\n[optilude]</li>\n</ul>\n</div>\n<div id=\"a4-2011-01-11\">\n<h3><a href=\"#id88\" rel=\"nofollow\">4.0a4 - 2011-01-11</a></h3>\n<ul>\n<li>Automatically tear down PAS registrations via snapshotting when using\n<tt>PloneSandboxLayer</tt>. It\u2019s too difficult to do this manually when you\nconsider that plugins may be registered in ZCML via transitive dependencies.\nThere should be no backwards compatibility concern - using\n<tt>tearDownMultiPlugin()</tt> is still supported, and it\u2019s generally safe to\ncall it once.\n[optilude]</li>\n<li>Try to make sure <tt>tearDownMultiPlugin()</tt> and the generic PAS plugin\ncleanup handler do not interfere with the cleanup handler from the PAS\nZCML directive.\n[optilude]</li>\n<li>Do not install <tt>Products.kupu</tt> or <tt>Products.CMFPlacefulWorkflow</tt>.\n[elro]</li>\n<li>Depend on <tt>Products.CMFPlone</tt> instead of <tt>Plone</tt>.\n[elro]</li>\n</ul>\n</div>\n<div id=\"a3-2010-12-14\">\n<h3><a href=\"#id89\" rel=\"nofollow\">4.0a3 - 2010-12-14</a></h3>\n<ul>\n<li>Allow top-level import of PloneTestLifecycle.\n[stefan]</li>\n<li>Added a warning not to use \u2018default\u2019 Firefox profile for selenium tests.\n[zupo]</li>\n<li>Fixed distribution dependency declarations.\n[hannosch]</li>\n<li>Correct license to GPL version 2 only.\n[hannosch]</li>\n<li>Make some module imports helper methods on the already policy-heavy\nhelper class per optilude\u2019s suggestion.\n[rossp]</li>\n<li>Add a layer and test case for running selenium tests.\n[rossp]</li>\n<li>Give the default test user differing user id and login name. This helps reveal\nproblems with userid vs login name errors, an overly common error.\n[wichert]</li>\n</ul>\n</div>\n<div id=\"a2-2010-09-05\">\n<h3><a href=\"#id90\" rel=\"nofollow\">1.0a2 - 2010-09-05</a></h3>\n<ul>\n<li>Make sure plone.app.imaging is installed properly during layer setup.\n[optilude]</li>\n</ul>\n</div>\n<div id=\"a1-2010-08-01\">\n<h3><a href=\"#id91\" rel=\"nofollow\">1.0a1 - 2010-08-01</a></h3>\n<ul>\n<li>Initial release</li>\n</ul>\n</div>\n</div>\n\n          </div>"}, "last_serial": 7059244, "releases": {"1.0a1": [{"comment_text": "", "digests": {"md5": "60a9e4073663faef34c6bba336d648ef", "sha256": "7eacb34fd7f1160ba8d52d42c069523901d8b538186beffc4fa1b1c993e0b8c3"}, "downloads": -1, "filename": "plone.app.testing-1.0a1.zip", "has_sig": false, "md5_digest": "60a9e4073663faef34c6bba336d648ef", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 77649, "upload_time": "2010-08-01T17:00:58", "upload_time_iso_8601": "2010-08-01T17:00:58.683328Z", "url": "https://files.pythonhosted.org/packages/07/61/6126bf64abc8fe3925bca891c6ffb1b603e8d7edf2bdebfae491eaac9d14/plone.app.testing-1.0a1.zip", "yanked": false}], "1.0a2": [{"comment_text": "", "digests": {"md5": "1adae24e5c3a12a13306df736e28fd0a", "sha256": "9a61d6c607650f0eab54e979fba8ba1948626e4b7ab2cb4008d78dd7e63eb01b"}, "downloads": -1, "filename": "plone.app.testing-1.0a2.zip", "has_sig": false, "md5_digest": "1adae24e5c3a12a13306df736e28fd0a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 78429, "upload_time": "2010-09-05T20:53:10", "upload_time_iso_8601": "2010-09-05T20:53:10.395588Z", "url": "https://files.pythonhosted.org/packages/2c/b0/ac8c38207a66c970b6e0f7b952ee34c3c6b8d3a2f44cf8741b9f67f6441f/plone.app.testing-1.0a2.zip", "yanked": false}], "3.0a1": [{"comment_text": "", "digests": {"md5": "fbe8f955d27d41d129fed4582f10a800", "sha256": "f62b1897f4d00de2212c821cfe08f248e54aa0ca7b12ee6b391df97f866cd0a8"}, "downloads": -1, "filename": "plone.app.testing-3.0a1.tar.gz", "has_sig": false, "md5_digest": "fbe8f955d27d41d129fed4582f10a800", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 73071, "upload_time": "2010-12-14T15:30:36", "upload_time_iso_8601": "2010-12-14T15:30:36.961550Z", "url": "https://files.pythonhosted.org/packages/ba/13/46c30cca3453aeb301b80fad35ba5d3f699a04a40e66a9ef708f2f42f336/plone.app.testing-3.0a1.tar.gz", "yanked": false}], "4.0": [{"comment_text": "", "digests": {"md5": "95a8473fe43419ad03707450ba0b0b18", "sha256": "be9be3a84ae60297a7ee9dcf7fda71ef896605310bbba05da78003bd7a7cccf8"}, "downloads": -1, "filename": "plone.app.testing-4.0.zip", "has_sig": false, "md5_digest": "95a8473fe43419ad03707450ba0b0b18", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 99740, "upload_time": "2011-05-13T17:29:09", "upload_time_iso_8601": "2011-05-13T17:29:09.461346Z", "url": "https://files.pythonhosted.org/packages/ac/44/4e3764e96b63ad8c42b2cdefe32e9adadf0bd9357af439f5b147df0154af/plone.app.testing-4.0.zip", "yanked": false}], "4.0.1": [{"comment_text": "", "digests": {"md5": "d541bbf02e43fc01e816cfda6dd66594", "sha256": "7d159ac0e2801f3c88be490ef660d99388082d8f3f0c6a0e08c7d98a852315d0"}, "downloads": -1, "filename": "plone.app.testing-4.0.1.tar.gz", "has_sig": false, "md5_digest": "d541bbf02e43fc01e816cfda6dd66594", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 73395, "upload_time": "2011-07-14T14:47:39", "upload_time_iso_8601": "2011-07-14T14:47:39.897092Z", "url": "https://files.pythonhosted.org/packages/e9/b1/5d2e2ace67373836909219b5bd74674d7a48379e1133014e1744b34f08e9/plone.app.testing-4.0.1.tar.gz", "yanked": false}], "4.0.2": [{"comment_text": "", "digests": {"md5": "9e9051b434b212c83a984b3381a3b480", "sha256": "b88261a394b4e6748654c2c83bd25525d1139b54f4200f1b606747b0b91dd3e1"}, "downloads": -1, "filename": "plone.app.testing-4.0.2.tar.gz", "has_sig": false, "md5_digest": "9e9051b434b212c83a984b3381a3b480", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 74493, "upload_time": "2011-09-01T03:42:25", "upload_time_iso_8601": "2011-09-01T03:42:25.964094Z", "url": "https://files.pythonhosted.org/packages/fe/c4/58e211415b3796424bf2028182dafec934bf7b81616e67bdb92ac3791f39/plone.app.testing-4.0.2.tar.gz", "yanked": false}], "4.0a3": [{"comment_text": "", "digests": {"md5": "9101a8515837a03c70cbf155121c80d5", "sha256": "e6ade043de21105877e32764c2a3a85dde71516076eacbbe2dee5e5592799fe0"}, "downloads": -1, "filename": "plone.app.testing-4.0a3.tar.gz", "has_sig": false, "md5_digest": "9101a8515837a03c70cbf155121c80d5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 72789, "upload_time": "2010-12-14T15:02:35", "upload_time_iso_8601": "2010-12-14T15:02:35.450830Z", "url": "https://files.pythonhosted.org/packages/d4/7d/29cbba2f15683471d4a9df93e2433f0f3c761e3b6d7510d221d783141f21/plone.app.testing-4.0a3.tar.gz", "yanked": false}], "4.0a4": [{"comment_text": "", "digests": {"md5": "db274e4a50f9afbe77f332bfcf792b2d", "sha256": "5f98cf07422929232315dc4b914ed401e752d395f73a97960021407ba62fc10b"}, "downloads": -1, "filename": "plone.app.testing-4.0a4.zip", "has_sig": false, "md5_digest": "db274e4a50f9afbe77f332bfcf792b2d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 86147, "upload_time": "2011-01-11T22:26:43", "upload_time_iso_8601": "2011-01-11T22:26:43.974271Z", "url": "https://files.pythonhosted.org/packages/d3/63/191a3bab0a58800fcdadaa6b294a47993c85c8b9f108a546961687f059cd/plone.app.testing-4.0a4.zip", "yanked": false}], "4.0a5": [{"comment_text": "", "digests": {"md5": "c78b4f33d828cad59052f028f0449f5f", "sha256": "73f00207749e09fc9e7d880f4d6fee8bc12634e5cc17d8bc354bde2a34c2e598"}, "downloads": -1, "filename": "plone.app.testing-4.0a5.zip", "has_sig": false, "md5_digest": "c78b4f33d828cad59052f028f0449f5f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 86612, "upload_time": "2011-03-02T21:50:59", "upload_time_iso_8601": "2011-03-02T21:50:59.787544Z", "url": "https://files.pythonhosted.org/packages/08/8d/badcd44e75447db84de9dae12f47dd47a8eaa18e99d70ec0fb60e30b1e26/plone.app.testing-4.0a5.zip", "yanked": false}], "4.0a6": [{"comment_text": "", "digests": {"md5": "a931735d01716f1c2d2e45801e5a9555", "sha256": "59e7eedfd51527689a0c6309c90b1261f79b41c5b271a9e18f6423b2b0ba5f05"}, "downloads": -1, "filename": "plone.app.testing-4.0a6.zip", "has_sig": false, "md5_digest": "a931735d01716f1c2d2e45801e5a9555", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 85906, "upload_time": "2011-04-07T01:27:11", "upload_time_iso_8601": "2011-04-07T01:27:11.317458Z", "url": "https://files.pythonhosted.org/packages/66/b9/477889499d653e1ccb9e43da0c768946cd1c71f97b2673cef57d0e90ea0a/plone.app.testing-4.0a6.zip", "yanked": false}], "4.2": [{"comment_text": "", "digests": {"md5": "ec61b9a45c80d992baad407a48e86dea", "sha256": "2b89675b25dfaa22795e5e87d7b25ecf1e70ea8cddf42f89b2c9b88d097e0cb6"}, "downloads": -1, "filename": "plone.app.testing-4.2.zip", "has_sig": false, "md5_digest": "ec61b9a45c80d992baad407a48e86dea", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 87033, "upload_time": "2012-04-15T21:39:23", "upload_time_iso_8601": "2012-04-15T21:39:23.427907Z", "url": "https://files.pythonhosted.org/packages/5a/99/386c883712db5281178167a24e92e8d487c12f671317a6cf2b2c2fc9efc5/plone.app.testing-4.2.zip", "yanked": false}], "4.2.1": [{"comment_text": "", "digests": {"md5": "1a40df72c8beda9520b83dc449a97a3c", "sha256": "0e3368cea92e64c4fd8e57ce9cec6080d920676bdea7497fbf277a78700fc036"}, "downloads": -1, "filename": "plone.app.testing-4.2.1.zip", "has_sig": false, "md5_digest": "1a40df72c8beda9520b83dc449a97a3c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 85009, "upload_time": "2012-12-15T16:14:51", "upload_time_iso_8601": "2012-12-15T16:14:51.391868Z", "url": "https://files.pythonhosted.org/packages/ec/80/1b6d1115a0b278ef746d0e523b849c0cc4dc9abd7eb25ec925176bc0af61/plone.app.testing-4.2.1.zip", "yanked": false}], "4.2.2": [{"comment_text": "", "digests": {"md5": "f47fd99bf6467e75d2086f321306c72e", "sha256": "3203e116f268413aea9140851368242694282d522756d44df8ff6f5002bc073e"}, "downloads": -1, "filename": "plone.app.testing-4.2.2.zip", "has_sig": false, "md5_digest": "f47fd99bf6467e75d2086f321306c72e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 88326, "upload_time": "2013-02-09T15:21:48", "upload_time_iso_8601": "2013-02-09T15:21:48.321268Z", "url": "https://files.pythonhosted.org/packages/38/23/2f1d686ae02f88b83fafc5b8e7af6a25373e2f0904a1c2600109ae3b76e5/plone.app.testing-4.2.2.zip", "yanked": false}], "4.2.3": [{"comment_text": "", "digests": {"md5": "defa6250f8c17c124878299b5fad9d0a", "sha256": "af82cc65ff6e0c68ebed16145f221f72c41520fa735ccd63fa90b4241b957a13"}, "downloads": -1, "filename": "plone.app.testing-4.2.3.zip", "has_sig": false, "md5_digest": "defa6250f8c17c124878299b5fad9d0a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 93596, "upload_time": "2014-01-28T13:45:40", "upload_time_iso_8601": "2014-01-28T13:45:40.438366Z", "url": "https://files.pythonhosted.org/packages/42/fb/698ef5c3d8a9fa4bb0db4c1e8a706ab4f70c5d2a1161ce99d2084e11501e/plone.app.testing-4.2.3.zip", "yanked": false}], "4.2.4": [{"comment_text": "", "digests": {"md5": "c25b1ee9308ebd62a73d99d61863d1f5", "sha256": "14ff2b134da46bf923416e17c4189333abbdab127819c5a13b330680900ec5ab"}, "downloads": -1, "filename": "plone.app.testing-4.2.4.zip", "has_sig": false, "md5_digest": "c25b1ee9308ebd62a73d99d61863d1f5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 90372, "upload_time": "2014-02-11T13:43:53", "upload_time_iso_8601": "2014-02-11T13:43:53.699750Z", "url": "https://files.pythonhosted.org/packages/3d/50/1d4f9f020fce7d171de52cd5c34a87106aada5fa9b0b694a01321f6c2a0f/plone.app.testing-4.2.4.zip", "yanked": false}], "4.2.5": [{"comment_text": "", "digests": {"md5": "9e367b88a23452bc352c1332eb657591", "sha256": "efb8d082d22e320cddfa6f9666d98f85f68076eed366b63dad8fa65a74526375"}, "downloads": -1, "filename": "plone.app.testing-4.2.5.zip", "has_sig": false, "md5_digest": "9e367b88a23452bc352c1332eb657591", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 90656, "upload_time": "2015-03-17T09:16:08", "upload_time_iso_8601": "2015-03-17T09:16:08.472364Z", "url": "https://files.pythonhosted.org/packages/a4/94/1d5ae50e160558bdcd52a8b8e499ee2736a54100a4d4f8572e61a1048af4/plone.app.testing-4.2.5.zip", "yanked": false}], "4.2.6": [{"comment_text": "", "digests": {"md5": "347b409333d713249bfced4028106ea0", "sha256": "29b16ddc2004b2d16a354436a76e7cd06823b5984609401560b9a7c3820fee12"}, "downloads": -1, "filename": "plone.app.testing-4.2.6.tar.gz", "has_sig": false, "md5_digest": "347b409333d713249bfced4028106ea0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 78534, "upload_time": "2017-05-09T15:10:14", "upload_time_iso_8601": "2017-05-09T15:10:14.473501Z", "url": "https://files.pythonhosted.org/packages/f8/1a/21797e48ae301365b9e32b958ecc790e6567be12fc0e0b8fb3bcafca26bc/plone.app.testing-4.2.6.tar.gz", "yanked": false}], "4.2.7": [{"comment_text": "", "digests": {"md5": "145a68dfe545ec175f9d0c70404a33e9", "sha256": "82bfa342ce4b76093e1a1290d291cca5b41f250c62cb5cc72a819a022d5073d8"}, "downloads": -1, "filename": "plone.app.testing-4.2.7.tar.gz", "has_sig": false, "md5_digest": "145a68dfe545ec175f9d0c70404a33e9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 78162, "upload_time": "2018-10-05T15:25:03", "upload_time_iso_8601": "2018-10-05T15:25:03.086961Z", "url": "https://files.pythonhosted.org/packages/48/ad/f483f0a6b1aaf224ba675489212e6dbf482e61eab6356f95f28e7441ce6c/plone.app.testing-4.2.7.tar.gz", "yanked": false}], "5.0.0": [{"comment_text": "", "digests": {"md5": "607dd28ed71ad79dbdd4ab60cff6d885", "sha256": "57280cc60682ca25a855bf86cc0e4fcdc4cda34c9b1ac678b821353076fd305e"}, "downloads": -1, "filename": "plone.app.testing-5.0.0.tar.gz", "has_sig": false, "md5_digest": "607dd28ed71ad79dbdd4ab60cff6d885", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 86202, "upload_time": "2016-02-20T15:52:50", "upload_time_iso_8601": "2016-02-20T15:52:50.752190Z", "url": "https://files.pythonhosted.org/packages/71/b2/782002294feb82263a9da65f4ab2cd3d371e2822f09b42aed6a0ac4b8872/plone.app.testing-5.0.0.tar.gz", "yanked": false}], "5.0.1": [{"comment_text": "", "digests": {"md5": "bd1a8b08990129a32c85c5b764bf4ba9", "sha256": "a3fbb363fef25e38c60158cd8ee4238c528aad9f1fd324d24626b8e7a22f6f82"}, "downloads": -1, "filename": "plone.app.testing-5.0.1.tar.gz", "has_sig": false, "md5_digest": "bd1a8b08990129a32c85c5b764bf4ba9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 86247, "upload_time": "2016-02-26T19:37:48", "upload_time_iso_8601": "2016-02-26T19:37:48.953078Z", "url": "https://files.pythonhosted.org/packages/d4/26/86b9de2f01ee4cfdc19b6cb27dd4aba02079e4f99ee361a6564bc44538b6/plone.app.testing-5.0.1.tar.gz", "yanked": false}], "5.0.2": [{"comment_text": "", "digests": {"md5": "5eae0636bf5dd3ea47dd70abf2fd2cd6", "sha256": "7c2a6e9273f4b5c83d460a0b63a1e540755e8d251595901961124d0d0c6774cc"}, "downloads": -1, "filename": "plone.app.testing-5.0.2.tar.gz", "has_sig": false, "md5_digest": "5eae0636bf5dd3ea47dd70abf2fd2cd6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 86432, "upload_time": "2016-06-07T10:33:21", "upload_time_iso_8601": "2016-06-07T10:33:21.891710Z", "url": "https://files.pythonhosted.org/packages/8b/dd/efda1efda4ab9b2c19569e8e8dc589c5dc8d376ea6f62bb80c10539d78fd/plone.app.testing-5.0.2.tar.gz", "yanked": false}], "5.0.3": [{"comment_text": "", "digests": {"md5": "a2d696aa52fead636657a02f6807b543", "sha256": "e154bc74d789273f7a252810fd4cd7d6ea3995a2cba17beb9177e02607384bf9"}, "downloads": -1, "filename": "plone.app.testing-5.0.3.tar.gz", "has_sig": false, "md5_digest": "a2d696aa52fead636657a02f6807b543", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 101439, "upload_time": "2016-09-06T23:47:27", "upload_time_iso_8601": "2016-09-06T23:47:27.463212Z", "url": "https://files.pythonhosted.org/packages/40/cc/3dd0d2850060d0e1debd939f42fac0476461de78af59b7ddedc3709aed45/plone.app.testing-5.0.3.tar.gz", "yanked": false}], "5.0.4": [{"comment_text": "", "digests": {"md5": "fd3b822cd23ef1d3b8c5ad32ab1fae3b", "sha256": "f42270a7f0d0b7d024d56f5cf848fa3d4ee796221b806dad1066d3774ca06e02"}, "downloads": -1, "filename": "plone.app.testing-5.0.4.tar.gz", "has_sig": false, "md5_digest": "fd3b822cd23ef1d3b8c5ad32ab1fae3b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 102760, "upload_time": "2016-09-23T19:02:58", "upload_time_iso_8601": "2016-09-23T19:02:58.772949Z", "url": "https://files.pythonhosted.org/packages/06/3e/4c31ade687666d0819d6829bd780adc03608eb520ea9d4817233119ab266/plone.app.testing-5.0.4.tar.gz", "yanked": false}], "5.0.5": [{"comment_text": "", "digests": {"md5": "69fd6283847984ac2aef3f7c1c8a193c", "sha256": "8983ff7c9f863ad9c5da0f7fe026526e44e2ead077800e8aafabc6a855f9b8d1"}, "downloads": -1, "filename": "plone.app.testing-5.0.5.tar.gz", "has_sig": false, "md5_digest": "69fd6283847984ac2aef3f7c1c8a193c", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 102892, "upload_time": "2016-11-19T20:27:32", "upload_time_iso_8601": "2016-11-19T20:27:32.628733Z", "url": "https://files.pythonhosted.org/packages/41/95/60cd2a406413b6f1823ded4403ffff53940edfabc06eb51b284b3e4aa937/plone.app.testing-5.0.5.tar.gz", "yanked": false}], "5.0.6": [{"comment_text": "", "digests": {"md5": "560f6fb59d9c7fcc086a913517c094b8", "sha256": "ddfd818caf6e997cc0bb9b9df04c54bb0bcc24c33a138f26d30057fd96217b03"}, "downloads": -1, "filename": "plone.app.testing-5.0.6.tar.gz", "has_sig": false, "md5_digest": "560f6fb59d9c7fcc086a913517c094b8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 102959, "upload_time": "2016-12-19T17:04:33", "upload_time_iso_8601": "2016-12-19T17:04:33.576780Z", "url": "https://files.pythonhosted.org/packages/6e/28/4090118c641c0a51e8b1ce78dd8ec18cc803d6fe283e1e0676fb5f9aedeb/plone.app.testing-5.0.6.tar.gz", "yanked": false}], "5.0.7": [{"comment_text": "", "digests": {"md5": "e94556ba65cac3121e36d790b527784b", "sha256": "0c2894221af7bb698222539a8af5928d5636b030acbc728104f51a700927c3d8"}, "downloads": -1, "filename": "plone.app.testing-5.0.7.tar.gz", "has_sig": false, "md5_digest": "e94556ba65cac3121e36d790b527784b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 106403, "upload_time": "2017-07-03T10:13:28", "upload_time_iso_8601": "2017-07-03T10:13:28.727922Z", "url": "https://files.pythonhosted.org/packages/63/86/f429214e73d8784668390159ee331d9a21a9a928a21f2eaa5218d3b524df/plone.app.testing-5.0.7.tar.gz", "yanked": false}], "5.0.8": [{"comment_text": "", "digests": {"md5": "65e2a1ec5b754e64ea742e897ac5546a", "sha256": "2f7f4f5b05d2f0269a24a7aa6001ce576551cc5084a738006350685189b6c83d"}, "downloads": -1, "filename": "plone.app.testing-5.0.8.tar.gz", "has_sig": false, "md5_digest": "65e2a1ec5b754e64ea742e897ac5546a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 103231, "upload_time": "2017-10-24T22:58:45", "upload_time_iso_8601": "2017-10-24T22:58:45.968393Z", "url": "https://files.pythonhosted.org/packages/50/db/e661dadb93945c0afebc7423966bffc1010917589537d419e5aab3fefac2/plone.app.testing-5.0.8.tar.gz", "yanked": false}], "5.0.9": [{"comment_text": "", "digests": {"md5": "62d6f588904241a5a1628e3416cac50e", "sha256": "5aa3f0ec6c4878bad050a87e15e008b1056e39fee343522b1ffa693fcafb57a8"}, "downloads": -1, "filename": "plone.app.testing-5.0.9.tar.gz", "has_sig": false, "md5_digest": "62d6f588904241a5a1628e3416cac50e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 103301, "upload_time": "2018-10-05T15:20:29", "upload_time_iso_8601": "2018-10-05T15:20:29.593877Z", "url": "https://files.pythonhosted.org/packages/fd/6c/9fb0d317dafe5a024d995d850c8800dd1e8969cf248d5f2d7be00967c6ec/plone.app.testing-5.0.9.tar.gz", "yanked": false}], "5.0a1": [{"comment_text": "", "digests": {"md5": "ee46d4d2ee796a300c9e76cdd803efb8", "sha256": "f16c8b6335243966d5abf80a068f91c518fe82d5375ea258c57cf983bd17ac50"}, "downloads": -1, "filename": "plone.app.testing-5.0a1.zip", "has_sig": false, "md5_digest": "ee46d4d2ee796a300c9e76cdd803efb8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 93373, "upload_time": "2014-02-22T06:06:27", "upload_time_iso_8601": "2014-02-22T06:06:27.991978Z", "url": "https://files.pythonhosted.org/packages/ae/74/9ee1d13d1a71798ea6eedf842e3ab95e831eab0a654723f3cbcf5a5923d9/plone.app.testing-5.0a1.zip", "yanked": false}], "5.0a2": [{"comment_text": "", "digests": {"md5": "f73cfa27c1da80dd4969f0d9527a5a47", "sha256": "8d88b8ce9a74937159d1ab334650417e3b314d501eb2b8500bb7d4f522aa39f2"}, "downloads": -1, "filename": "plone.app.testing-5.0a2.zip", "has_sig": false, "md5_digest": "f73cfa27c1da80dd4969f0d9527a5a47", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 108519, "upload_time": "2014-04-19T11:15:17", "upload_time_iso_8601": "2014-04-19T11:15:17.806323Z", "url": "https://files.pythonhosted.org/packages/6f/f2/3a6e9748d4bcce49204828902a54d15129141630421f61277a0fd5362b4d/plone.app.testing-5.0a2.zip", "yanked": false}], "5.0b1": [{"comment_text": "", "digests": {"md5": "430c273fbe3345eab6561dc030c19ba6", "sha256": "5ebf91b58bd23f656339afd0be6a52770fb358bf5a90ea26bb39a8a7fc90fed4"}, "downloads": -1, "filename": "plone.app.testing-5.0b1.zip", "has_sig": false, "md5_digest": "430c273fbe3345eab6561dc030c19ba6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 113169, "upload_time": "2014-10-24T02:45:09", "upload_time_iso_8601": "2014-10-24T02:45:09.901915Z", "url": "https://files.pythonhosted.org/packages/c2/8f/08e533867999be858fd6129a3d377165d1347765c03d84e6a364877086fe/plone.app.testing-5.0b1.zip", "yanked": false}], "5.0b2": [{"comment_text": "", "digests": {"md5": "cd15b1c0b32e049d86d56c236adc9ad3", "sha256": "e9ff2ee7e9fb6e31410b34860bee1b1a75e8f7af51e2c0780bd5ab5049f269b8"}, "downloads": -1, "filename": "plone.app.testing-5.0b2.zip", "has_sig": false, "md5_digest": "cd15b1c0b32e049d86d56c236adc9ad3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 110264, "upload_time": "2015-03-13T07:57:17", "upload_time_iso_8601": "2015-03-13T07:57:17.293917Z", "url": "https://files.pythonhosted.org/packages/30/84/415871a0c4c05ae3b3b4db989048d8c5b22ca87af7f9d523d4da1da9bbc6/plone.app.testing-5.0b2.zip", "yanked": false}], "5.0b3": [{"comment_text": "", "digests": {"md5": "9a4b297522a5249af9deb9460b8f113e", "sha256": "96f9d3cb18b41d65a3636ecaca36ee499018e80b566c08d4ada0cf5b1b306840"}, "downloads": -1, "filename": "plone.app.testing-5.0b3.zip", "has_sig": false, "md5_digest": "9a4b297522a5249af9deb9460b8f113e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 110332, "upload_time": "2015-03-26T20:28:11", "upload_time_iso_8601": "2015-03-26T20:28:11.064424Z", "url": "https://files.pythonhosted.org/packages/6d/d4/cea8b29efaf263595f17f6eb4d1672db368b323d9cb5eed855738d7f38e5/plone.app.testing-5.0b3.zip", "yanked": false}], "5.0b4": [{"comment_text": "", "digests": {"md5": "7764d5d07dea2db5ae8ca88dd50804f4", "sha256": "e8428b1e97067cfa193cfd2a38046ffc77bec3b37efdcc76e99c83a19e08d723"}, "downloads": -1, "filename": "plone.app.testing-5.0b4.tar.gz", "has_sig": false, "md5_digest": "7764d5d07dea2db5ae8ca88dd50804f4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 82163, "upload_time": "2015-05-04T21:59:24", "upload_time_iso_8601": "2015-05-04T21:59:24.428069Z", "url": "https://files.pythonhosted.org/packages/b2/f6/6a33e9bb6411d70f059d349b2fe2da6879c88b96dd2c7b76e2fc4017b232/plone.app.testing-5.0b4.tar.gz", "yanked": false}], "5.0b5": [{"comment_text": "", "digests": {"md5": "6f2129fedadff21c40c582f608014c0b", "sha256": "4cd0a41746021b721640f6069b77e2b9887bdcca1e4378ec19d3c3a1b433e385"}, "downloads": -1, "filename": "plone.app.testing-5.0b5.tar.gz", "has_sig": false, "md5_digest": "6f2129fedadff21c40c582f608014c0b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 83246, "upload_time": "2015-07-18T06:43:56", "upload_time_iso_8601": "2015-07-18T06:43:56.290156Z", "url": "https://files.pythonhosted.org/packages/ae/81/b6bb794c23718ef09d5946b115bdcda52c90c1fb5d9220beb6f7d5cf2d2a/plone.app.testing-5.0b5.tar.gz", "yanked": false}], "5.0b6": [{"comment_text": "", "digests": {"md5": "4d726aa416990bb1ae957477f73fa86a", "sha256": "6dd7435694acba2472677154ffeb4f8de8111bb81c5b9760f71344e75a3b9119"}, "downloads": -1, "filename": "plone.app.testing-5.0b6.tar.gz", "has_sig": false, "md5_digest": "4d726aa416990bb1ae957477f73fa86a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 83328, "upload_time": "2015-08-22T04:54:45", "upload_time_iso_8601": "2015-08-22T04:54:45.263262Z", "url": "https://files.pythonhosted.org/packages/09/a6/d0418781e13a4c4ad3a980ee6466f5d385571dffe7b44b30d1ea195b9e23/plone.app.testing-5.0b6.tar.gz", "yanked": false}], "6.0.0": [{"comment_text": "", "digests": {"md5": "b965aa0093b11b3d6349c1cb654f7977", "sha256": "27fd9792271fa441b26a2e301aa4b3e1f672d97fd12a411419d63949710cd0a3"}, "downloads": -1, "filename": "plone.app.testing-6.0.0-py2-none-any.whl", "has_sig": false, "md5_digest": "b965aa0093b11b3d6349c1cb654f7977", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 49425, "upload_time": "2018-10-05T15:19:24", "upload_time_iso_8601": "2018-10-05T15:19:24.023939Z", "url": "https://files.pythonhosted.org/packages/fb/d8/3fda1cab7290f4d6edad89cea128e76250dd1a21de7e076640614909d55b/plone.app.testing-6.0.0-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a55e7e564a8cca22a4fa101ad72541da", "sha256": "27bb02997bd59f0254d37e06f3af01f4b1d1a0e062be53ee7cef2df464724f93"}, "downloads": -1, "filename": "plone.app.testing-6.0.0.tar.gz", "has_sig": false, "md5_digest": "a55e7e564a8cca22a4fa101ad72541da", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 104083, "upload_time": "2018-10-05T15:19:26", "upload_time_iso_8601": "2018-10-05T15:19:26.575433Z", "url": "https://files.pythonhosted.org/packages/ec/56/6d4f57255046d3ac4a47dda1b3baa14a938f028b9a943b4b9d7f6dd7df19/plone.app.testing-6.0.0.tar.gz", "yanked": false}], "6.1.0": [{"comment_text": "", "digests": {"md5": "e8cfacc800b84c78d6b456aa0ef5b9a8", "sha256": "ed5061066b329705d8c943dd8b2898ce5888ad8b99fac3ecea138089960a7c70"}, "downloads": -1, "filename": "plone.app.testing-6.1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "e8cfacc800b84c78d6b456aa0ef5b9a8", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 37105, "upload_time": "2018-11-04T08:36:58", "upload_time_iso_8601": "2018-11-04T08:36:58.448508Z", "url": "https://files.pythonhosted.org/packages/7e/74/bac603fd3ed2e07c0d17552711eff0d6b370079c9595227a35da02dbe17c/plone.app.testing-6.1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "891532915b31618bbea917b28208dc68", "sha256": "538fb77a97a2ed18dfb62506a0f8e999d1e5b2818f6b844b84fbeecc53c0bece"}, "downloads": -1, "filename": "plone.app.testing-6.1.0.tar.gz", "has_sig": false, "md5_digest": "891532915b31618bbea917b28208dc68", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 95936, "upload_time": "2018-11-04T08:37:01", "upload_time_iso_8601": "2018-11-04T08:37:01.076534Z", "url": "https://files.pythonhosted.org/packages/4b/09/099a851003a90753215375bd363945cfedd89f89a8776fa5c97272b99d54/plone.app.testing-6.1.0.tar.gz", "yanked": false}], "6.1.1": [{"comment_text": "", "digests": {"md5": "0f893a88020c6a5bd66a7fdd1033e800", "sha256": "2824ceed4221572bd9d73f88973b258db502f89f9a79526281fe51e2b1c8477d"}, "downloads": -1, "filename": "plone.app.testing-6.1.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "0f893a88020c6a5bd66a7fdd1033e800", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 51539, "upload_time": "2018-11-04T23:19:01", "upload_time_iso_8601": "2018-11-04T23:19:01.670581Z", "url": "https://files.pythonhosted.org/packages/a1/8f/c7fd2c936905431e539456ddfc87557d4721ed81758d85fde10261ea527b/plone.app.testing-6.1.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d41c4217e299c30e5354a14464921cb5", "sha256": "3470595e9c0d52a3083c958bce5343d105b36fcb8157208809d845dc9d89582c"}, "downloads": -1, "filename": "plone.app.testing-6.1.1.tar.gz", "has_sig": false, "md5_digest": "d41c4217e299c30e5354a14464921cb5", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 106461, "upload_time": "2018-11-04T23:19:04", "upload_time_iso_8601": "2018-11-04T23:19:04.063579Z", "url": "https://files.pythonhosted.org/packages/c1/08/cafb92c750e223cefe1a0f461ec3acabe506cd2cd7de7b097436f34d6d06/plone.app.testing-6.1.1.tar.gz", "yanked": false}], "6.1.2": [{"comment_text": "", "digests": {"md5": "781af4d96f80bab867c361305cee2bcf", "sha256": "32c987ced2b2099820c2ff4b1cd5bb99af40eb58ecf75d30f21a3b72acad2569"}, "downloads": -1, "filename": "plone.app.testing-6.1.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "781af4d96f80bab867c361305cee2bcf", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 51721, "upload_time": "2019-02-14T00:25:51", "upload_time_iso_8601": "2019-02-14T00:25:51.235067Z", "url": "https://files.pythonhosted.org/packages/d1/d3/5dd8490048fbe1d53b6c2126b40eb047da6a63705b5ebb47ae1f2b47c8d2/plone.app.testing-6.1.2-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c0cb5f6cf4a1c4ea1ce31d00db582cba", "sha256": "36e8aa3f7bb035065bebc0721290bc72a1a2a99713f17e68e0aef161047ac695"}, "downloads": -1, "filename": "plone.app.testing-6.1.2.tar.gz", "has_sig": false, "md5_digest": "c0cb5f6cf4a1c4ea1ce31d00db582cba", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 111534, "upload_time": "2019-02-14T00:25:53", "upload_time_iso_8601": "2019-02-14T00:25:53.076755Z", "url": "https://files.pythonhosted.org/packages/80/ab/1aa3c6f7ee926256883b3aa6bccb306c19f7a7f1f312290764cff611b82a/plone.app.testing-6.1.2.tar.gz", "yanked": false}], "6.1.3": [{"comment_text": "", "digests": {"md5": "f226f06ee7cdfd387097bf0af47ae38b", "sha256": "ed738631f7ebcf28661af9d51790558258ba547d03534ff13e087d93f1e3e516"}, "downloads": -1, "filename": "plone.app.testing-6.1.3-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "f226f06ee7cdfd387097bf0af47ae38b", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 51808, "upload_time": "2019-02-16T18:12:43", "upload_time_iso_8601": "2019-02-16T18:12:43.534515Z", "url": "https://files.pythonhosted.org/packages/5d/91/a30beb336ab66ea62bed959980976f077fad92104e50d6fcbac116fabc46/plone.app.testing-6.1.3-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5908cb3c95b2b569da71c9e499a49bfe", "sha256": "462e372df890302633a8c0502ef25a206002d92452aeddfe54f8f193ed3f51f5"}, "downloads": -1, "filename": "plone.app.testing-6.1.3.tar.gz", "has_sig": false, "md5_digest": "5908cb3c95b2b569da71c9e499a49bfe", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 111684, "upload_time": "2019-02-16T18:12:45", "upload_time_iso_8601": "2019-02-16T18:12:45.457815Z", "url": "https://files.pythonhosted.org/packages/91/0e/c70ddce7b32970fa1647a953541bf0b77922f77c396bdc6fabff8d238127/plone.app.testing-6.1.3.tar.gz", "yanked": false}], "6.1.4": [{"comment_text": "", "digests": {"md5": "69a5e0d5adb35a77d7726015425af03d", "sha256": "7f9afc22412f69686ec228393aad56f044f9065b5ef704d4241366514a88dd53"}, "downloads": -1, "filename": "plone.app.testing-6.1.4-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "69a5e0d5adb35a77d7726015425af03d", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 52833, "upload_time": "2020-03-09T20:56:44", "upload_time_iso_8601": "2020-03-09T20:56:44.835362Z", "url": "https://files.pythonhosted.org/packages/b1/8c/57a2782324d2756d66ff14451689bea791d04cae740e1869504c31d64df8/plone.app.testing-6.1.4-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7a32c528ca2f1fc2aac546851a5c0b6a", "sha256": "b007d71eee25cffa3040963226a82cbc4270197912e08c1f57cf24a3b10c7a8d"}, "downloads": -1, "filename": "plone.app.testing-6.1.4.tar.gz", "has_sig": false, "md5_digest": "7a32c528ca2f1fc2aac546851a5c0b6a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 109499, "upload_time": "2020-03-09T20:56:47", "upload_time_iso_8601": "2020-03-09T20:56:47.267496Z", "url": "https://files.pythonhosted.org/packages/19/b1/200b0f6ae434be16a705c2fe1ef707f8e716475c4e21577d837b445f7af1/plone.app.testing-6.1.4.tar.gz", "yanked": false}], "6.1.5": [{"comment_text": "", "digests": {"md5": "36a5f0f55070eb51d3050967274fdc88", "sha256": "b69f490e80a098a9a3b2a1dd2877fec370908a5cf656ec12a9fcff92d498ae4c"}, "downloads": -1, "filename": "plone.app.testing-6.1.5-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "36a5f0f55070eb51d3050967274fdc88", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 52870, "upload_time": "2020-04-20T10:51:04", "upload_time_iso_8601": "2020-04-20T10:51:04.088584Z", "url": "https://files.pythonhosted.org/packages/31/6d/50a59dc756941cd218c92ccae2c8d92f8c2b2c38d03a0f56a776ae64b8e0/plone.app.testing-6.1.5-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4c19ec318b92ebe74eb5997a499ec0bd", "sha256": "ceb6ecd58e57808cc8cf13dc538260a2627e22ce0993d190c4a614054dbe278e"}, "downloads": -1, "filename": "plone.app.testing-6.1.5.tar.gz", "has_sig": false, "md5_digest": "4c19ec318b92ebe74eb5997a499ec0bd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 109695, "upload_time": "2020-04-20T10:51:07", "upload_time_iso_8601": "2020-04-20T10:51:07.130692Z", "url": "https://files.pythonhosted.org/packages/07/85/85b573a8673e94551a2b25cfbcc6703f372eb3b560065f1b46a75d311fd8/plone.app.testing-6.1.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "36a5f0f55070eb51d3050967274fdc88", "sha256": "b69f490e80a098a9a3b2a1dd2877fec370908a5cf656ec12a9fcff92d498ae4c"}, "downloads": -1, "filename": "plone.app.testing-6.1.5-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "36a5f0f55070eb51d3050967274fdc88", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 52870, "upload_time": "2020-04-20T10:51:04", "upload_time_iso_8601": "2020-04-20T10:51:04.088584Z", "url": "https://files.pythonhosted.org/packages/31/6d/50a59dc756941cd218c92ccae2c8d92f8c2b2c38d03a0f56a776ae64b8e0/plone.app.testing-6.1.5-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4c19ec318b92ebe74eb5997a499ec0bd", "sha256": "ceb6ecd58e57808cc8cf13dc538260a2627e22ce0993d190c4a614054dbe278e"}, "downloads": -1, "filename": "plone.app.testing-6.1.5.tar.gz", "has_sig": false, "md5_digest": "4c19ec318b92ebe74eb5997a499ec0bd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 109695, "upload_time": "2020-04-20T10:51:07", "upload_time_iso_8601": "2020-04-20T10:51:07.130692Z", "url": "https://files.pythonhosted.org/packages/07/85/85b573a8673e94551a2b25cfbcc6703f372eb3b560065f1b46a75d311fd8/plone.app.testing-6.1.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:53:06 2020"}
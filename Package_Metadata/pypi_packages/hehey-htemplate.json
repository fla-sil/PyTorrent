{"info": {"author": "13564768842", "author_email": "chinabluexfw@163.com", "bugtrack_url": null, "classifiers": [], "description": "# hehey-htemplate \u7ec4\u4ef6\n\n#### \u4ecb\u7ecd\nhehey-htemplate \u662f\u4e00\u4e2apython \u8f7b\u91cf\u7684\u6a21\u677f\u5f15\u64ce,\u5176\u4e3b\u8981\u7279\u70b9\u6709:\u6613\u5b66,\u793a\u4f8b\u5168,\u529f\u80fd\u5168\u9762,html\u53cb\u597d\u6807\u7b7e,\u7f16\u8bd1\u901f\u5ea6\u5feb,\u6613\u6269\u5c55\n\u4e0e\u5176\u4ed6\u6a21\u677f\u5f15\u64ce\u5bf9\u6bd4,\u5176\u7b80\u5355\u6613\u5b66,\u901f\u5ea6\u5feb(\u5927\u69821000\u6b21\u7f16\u8bd1,800 \u591a\u6beb\u79d2),\u968f\u65f6\u968f\u5730\u7f16\u5199\u81ea\u5df1\u7684\u6807\u7b7e\u5e93.\n\n#### \u529f\u80fd\u5217\u8868\n  - \u652f\u6301{},\u4ee5\u53ca<> \u6807\u7b7e\u6df7\u5408\u4f7f\u7528\n  - \u652f\u6301layout(\u6a21\u677f\u7ee7\u627f) \u6807\u7b7e\n  - \u652f\u6301block \u6a21\u5757\n  - \u652f\u6301include \u6807\u7b7e\n  - \u652f\u6301if \u6807\u7b7e\n  - \u652f\u6301for dict,list \u6807\u7b7e\n  - \u652f\u6301\u6ce8\u91ca\n  - \u652f\u6301python \u4ee3\u7801\u6807\u7b7e\n  - \u652f\u6301\u8c03\u7528\u65b9\u6cd5\n  - \u652f\u6301\u52a0\u8f7d\u9759\u6001\u6587\u4ef6\n  - \u5b9a\u4e49\u53d8\u91cf\n  - \u652f\u6301\u4e0d\u89e3\u6790\u6807\u7b7e\n  - html \u6807\u7b7e\n  - \u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668\n  - \u4f18\u5316\u65b9\u6cd5\u7684\u8c03\u7528\u65b9\u5f0f,\u652f\u6301| \u65b9\u6cd5,\u652f\u6301\u5b9a\u4e49\u53c2\u6570\n  - \u652f\u6301\u6807\u7b7e,empty  \n  - \u652f\u6301\u5bfc\u5165\u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668\n  - \u652f\u6301\u5bfc\u5165\u81ea\u5b9a\u4e49\u6807\u7b7e\n  - \u652f\u6301\u6a21\u677f\u6587\u4ef6\u7f13\u5b58\u4ee3\u7801\u81f3\u5185\u5b58\n  - \u652f\u6301\u4ee3\u7801\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4\n  - \u652f\u6301\u6a21\u677f\u540e\u7f00\u81ea\u5b9a\u4e49\n  - js,css,img \u6807\u7b7e\n  - \u63d0\u4f9b\u5c0f\u7269\u4ef6(widget)\n\n#### \u4f9d\u8d56\u4ee5\u53ca\u7248\u672c\u8981\u6c42\n- python >= 3.5\n\n\n#### \u5b89\u88c5\n- \u76f4\u63a5\u4e0b\u8f7d:\n```\n\n```\n- \u547d\u4ee4\u5b89\u88c5\uff1a\n```\npip install hehey-htemplate\n```\n#### \u57fa\u7840\u6587\u4ef6\u4ee5\u76ee\u5f55\n\n\n#### \u53c2\u6570\u914d\u7f6e\n```python\nconf = {\n        # \u6a21\u677f\u6587\u4ef6\u6269\u5c55\u540d\n        \"suffix\":'html',\n        # \u6a21\u677f\u6587\u4ef6\u6839\u8def\u5f84\n        \"tplPath\":'',\n        # \u662f\u5426\u5f00\u542f\u6a21\u677f\u7f13\u5b58,\u5f00\u542f\u540e,\u4f1a\u81ea\u52a8\u7f13\u5b58\u4ee3\u7801,\u52a0\u5feb\u6a21\u677f\u89e3\u6790\u7684\u901f\u5ea6\n        \"onCache\": True,\n        # \u6a21\u677f\u7f13\u5b58\u6587\u4ef6\u76ee\u5f55,\u6a21\u677f\u7f16\u8bd1\u7684python\u4ee3\u7801\u7f13\u5b58\u5728\u6587\u4ef6\u4e2d,\u7f13\u5b58\u6587\u4ef6\u5b58\u50a8\u6b64\u76ee\u5f55\u4e2d\n        \"cachePath\":'',\n        # \u8d44\u6e90\u5730\u5740,\u6bd4\u5982js,css,img,\u9ed8\u8ba4\u63d0\u4f9bstatic(\u9759\u6001\u8d44\u6e90\u8def\u5f84),res(\u5916\u90e8\u8d44\u6e90,\u6bd4\u5982\u4e0a\u4f20\u7684\u6587\u4ef6) \u5b57\u5178key\n        \"urls\" : {},\n        # \u6a21\u677f\u7f13\u5b58\u6709\u6548\u671f,\u5355\u4f4d\u79d2,0 \u8868\u793a\u65e0\u6709\u6548\u671f\n        \"timeout\" : 3,\n        # \u8868\u8fbe\u5f0f\u8d77\u59cb\u7b26\n        \"expStart\" : '{',\n        # \u8868\u8fbe\u5f0f\u7ed3\u675f\u7b26\n        \"expEnd\":'}',\n        # \u7ed3\u675f\u8868\u8fbe\u5f0f\u7684\u7ed3\u675f\u7b26\u6bd4\u5982/ \u5219\u5b8c\u6574\u8868\u8fbe\u5f0f\u4e3a{/for} \u6216end,{endfor}\n        \"expEndSign\" : '/',\n        # \u662f\u5426\u542f\u7528\u6807\u7b7e\u89c4\u5219,\u5f00\u542f\u540e,\u5339\u914d\u8868\u8fbe\u5f0f <import name=\"eduhome.name.yong\" />\n        \"onTag\" : True,\n        # \u6807\u7b7e\u8d77\u59cb\u7b26\n        \"tagStart\" : '<',\n        # \u6807\u7b7e\u7ed3\u675f\u7b26\n        \"tagEnd\" : '>',\n        # \u7ed3\u675f\u6807\u7b7e\u7ed3\u675f\u7b26\u53f7\n        \"tagEndSign\" :'/',\n        # \u7cfb\u7edf\u6807\u7b7e,\u9ed8\u8ba4\u81ea\u52a8\u52a0\u8f7dsys \u8868\u8fbe\u5f0f,\u9ed8\u8ba4\u6807\u7b7e,\u4e66\u5199\u65f6\u65e0\u9700\u5199\u5165\u524d\u7f00,\u6bd4\u5982<css href=\"xxx\" />\n        \"sysTags\" : ['sys'],\n        # \u81ea\u5b9a\u4e49\u6807\u7b7e,\u4e66\u5199\u65f6\u5fc5\u987b\u5199\u5165\u524d\u7f00,\u6bd4\u5982 \u6807\u7b7e\u540d\u79f0html,\u5219css \u6807\u7b7e\u7684\u4e66\u5199\u89c4\u5219\u4e3a: <html:css href=\"xxx\" />\n        \"customTags\" : ['html'],\n};\n\n\n```\n#### \u57fa\u672c\u793a\u4f8b\n- \u5feb\u901f\u4f7f\u7528<br/>\nindex.html \u6a21\u677f\u6587\u4ef6\n```html\n<body>\n\n    {if condition=\"age == 1\"}\n        <h1>{$age}</h1>\n    {elif condition=\"age == 2\"}\n        <h1>hello world</h1>\n    {else}\n        <h1>hehe \u5c0f\u914c\u4e00\u676f</h1>\n    {/if}\n\n</body>\n\n```\nindex.py \u6587\u4ef6\n```python\nfrom htemplate.view import View\n# \u6a21\u677f\u914d\u7f6e,\u8bf7\u53c2\u8003<<\u53c2\u6570\u914d\u7f6e>>\nconf = {};\nview = View(conf);\n\n# \u6a21\u677f\u6570\u636e\ndata = {\n    \"age\": 3,\n}\n\n# \u6ce8\u5165\u6a21\u677f\u53d8\u91cf\nview.assign('title',\"\u4ece\u60a8\u7684\u4e16\u754c\u8def\u8fc7?\")\n\n# index \u4e3a\u6a21\u677f\u540d\u79f0\nhtml = view.fetch('index',data)\n\n\n```\n\n#### \u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668\n\n```python\n# \u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668\nfrom htemplate.view import reg_temp_filter\n\n@reg_temp_filter('css')\ndef css_filter(self,cssUrl):\n\n    return  '{0}{1}'.format(self.template.urls['static'],cssUrl)\n\n# \u8fc7\u6ee4\u6240\u6709\u6709\u98ce\u9669\u7684\u5b57\u7b26\n@reg_temp_filter()\ndef safe(self,value):\n\n    value = self.xss(value)\n\n    return value\n\n\n```\n\n#### \u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\n\n```python\n# \u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\nfrom htemplate.view import reg_temp_context\n\n@reg_temp_context()\ndef django():\n\n    return {\"reqeust\":{\"mok\":88}}\n\n\n```\n\n\n#### \u6807\u7b7e\u5e93\n\n<br/>\n\u81ea\u5b9a\u4e49\u6807\u7b7e\u5e93html\n\n```python\n\nfrom htemplate.tag.Tag import Tag\n\nfrom htemplate.nodes.BaseNode import BaseNode\n\nclass HtmlTag(Tag):\n\n    def __init__(self,template):\n        super().__init__(template)\n        self.tags = [\n            {'name': \"css\", 'close': False, 'onTag': True},\n            {'name': \"js\", 'close': False, 'onTag': True},\n            {'name': \"img\", 'close': False, 'onTag': True},\n            {'name': \"select\", 'close': False,'onTag':True},\n        ]\n\n\n    # \u6a21\u677f\u7ee7\u627f\n    def _select(self,node_attrs,mainNode:BaseNode):\n        #print(node_attrs)\n\n        #attrs = self.parseAttr(node_attrs)\n        pass\n\n    def _css(self,node_attrs, mainNode:BaseNode):\n        attrs = self.parseAttr(node_attrs)\n        href = attrs['href'];\n        cssFunc = 'self.call(\"css\",\"{0}\")'.format(href)\n        attrs['href'] = '%s';\n        attrsHtml = self.buildHtmlAttrs(attrs);\n        codeHtml = \"'<link {0} />' % ({1})\".format(attrsHtml, cssFunc)\n\n        mainNode.writeRawCode(codeHtml, True, True)\n\n    def _js(self,node_attrs, mainNode:BaseNode):\n        attrs = self.parseAttr(node_attrs)\n        src = attrs['src'];\n        jsFunc = 'self.call(\"js\",\"{0}\")'.format(src)\n        attrs['src'] = '%s';\n        attrsHtml = self.buildHtmlAttrs(attrs);\n        codeHtml = \"'<script {0} ></script>' % ({1})\".format(attrsHtml, jsFunc)\n\n        mainNode.writeRawCode(codeHtml, True, True)\n\n    def _img(self,node_attrs, mainNode:BaseNode):\n        attrs = self.parseAttr(node_attrs)\n        src = attrs['src'];\n        jsFunc = 'self.call(\"img\",\"{0}\")'.format(src)\n        attrs['src'] = '%s';\n        attrsHtml = self.buildHtmlAttrs(attrs);\n        codeHtml = \"'<img {0} >' % ({1})\".format(attrsHtml, jsFunc)\n\n        mainNode.writeRawCode(codeHtml, True, True)\n\n\n```\n\nindex.html \u6a21\u677f\u6587\u4ef6\n```html\n<body>\n<html:css href=\"css/core.min.css\" rel=\"stylesheet\" />\n    {if condition=\"age == 1\"}\n        <h1>{$age}</h1>\n    {elif condition=\"age == 2\"}\n        <h1>hello world</h1>\n    {else}\n        <h1>hehe \u5c0f\u914c\u4e00\u676f</h1>\n    {/if}\n\n</body>\n\n```\n\n#### \u6807\u7b7e\u793a\u4f8b\n\n##### layout \u5e03\u5c40\u6807\u7b7e\n\nmain.html \u5e03\u5c40\u6a21\u677f\u6587\u4ef6\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>{title}</title>\n    <html:css href=\"css/core.min.css\" rel=\"stylesheet\" />\n    <html:js src= \"js/dist/core.min.js?v=2.1.4\"  />\n</head>\n<body>\n__BODY__\n\n\n__FOOTER__\n\n</body>\n</html>\n\n```\n\nindex.html \u6a21\u677f\u6587\u4ef6\n\n```html\n{layout file=\"main.html\"}\n<body>\n{if condition=\"age == 1\"}\n    <h1>{$age}</h1>\n{elif condition=\"age == 2\"}\n    <h1>hello world</h1>\n{else}\n    <h1>hehe \u5c0f\u914c\u4e00\u676f</h1>\n{/if}\n\n</body>\n\n```\n\n##### \u52a0\u8f7d\u9759\u6001\u6587\u4ef6\n\n```html\n{layout file=\"main.html\"}\n<body>\n\n<!-- \u4ee5\u4e0b\u7684\u6807\u7b7e,\u9700\u914d\u5408\u8fc7\u6ee4\u5668\u4f7f\u7528,\u6bd4\u5982css,js,res,img \u7b49\u7b49\u8fc7\u6ee4\u5668,\u9700\u4e86\u89e3\u8fc7\u6ee4\u5668,\u8bf7\u67e5\u770bfileters/common \u6587\u4ef6,\u5927\u91cf\u8fc7\u6ee4\u5668\u5b58\u653e\u5728\u6b64\u6587\u4ef6\u4e2d -->\n\n<!-- \u52a0\u8f7d\u7ad9\u70b9\u6837\u5f0f -->\n<css href=\"css/core.min.css\" rel=\"stylesheet\" />\n<html:css href=\"css/core.min.css\" rel=\"stylesheet\" />\n\n<!-- \u52a0\u8f7d\u7ad9\u70b9js -->\n<js src= \"js/dist/core.min.js?v=2.1.4\"  />\n<html:js src= \"js/dist/core.min.js?v=2.1.4\"  />\n\n<!-- \u52a0\u8f7d\u7ad9\u70b9\u56fe\u7247 -->\n<html:img src=\"images/bg_jins.png\" alt=\"\" />\n\n<!-- \u52a0\u8f7d\u7ad9\u70b9\u5916\u90e8\u56fe\u7247,\u4e00\u822c\u4e3a\u4e0a\u4f20\u56fe\u7247 -->\n<img src=\"{:res('upload/2018/10/25/xxxx.jpg')}\" alt=\"\" />\n\n</body>\n\n```\n\n\n##### if \u6807\u7b7e\n\n```html\n<!-- \u57fa\u7840\u6807\u7b7e\u793a\u4f8b -->\n{layout file=\"main.html\"}\n<body>\n\n<!-- \u901a\u7528if-->\n{if condition=\"age == 1\"}\n    <h1>{$age}</h1>\n{elif condition=\"age == 2\"}\n    <h1>hello world</h1>\n{else}\n    <h1>hehe \u5c0f\u914c\u4e00\u676f</h1>\n{/if}\n\n<!-- \u975e\u5c5e\u6027if,\u539f\u59cbpython \u683c\u5f0f -->\n{if age == 1}\n    <h1>{$age}</h1>\n{elif age == 2}\n    <h1>hello world</h1>\n{else}\n    <h1>hehe \u5c0f\u914c\u4e00\u676f</h1>\n{/if}\n\n\n</body>\n\n```\n##### for \u6807\u7b7e\nfor.html \u6a21\u677f\u6587\u4ef6\n\n```html\n<!-- \u904d\u5386\u6807\u7b7e,for,list,dict\u793a\u4f8b -->\n{layout file=\"base.html\"}\n<body>\n<!-- \u901a\u7528\u904d\u5386,\u517c\u5bb9list,dict -->\n{for name=\"users\" index=\"index\" value=\"user\"}\n    <div>{user['userid']}</div>\n    <div>{user['realName']}</div>\n    <div>{:user['realName']|safe}</div>\n{/for}\n\n\n<!-- \u975e\u5c5e\u6027\u904d\u5386,\u539f\u59cbpython \u683c\u5f0f -->\n{for user in users}\n    <div>{user['userid']}</div>\n    <div>{user['realName']}</div>\n    <div>{:user['realName']|safe}</div>\n{/for}\n\n\n<!-- \u904d\u5386list -->\n{list name=\"users\" index=\"index\" key=\"key\" value=\"user\"}\n    <div>\u81ea\u5b9a\u4e49\u5e8f\u53f7(\u9ed8\u8ba4\u4e3a0):{index}</div>\n    <div>list\u672c\u8eab\u7684\u5e8f\u53f7:{key}</div>\n    <div>{user['userid']}</div>\n    <div>{user['realName']}</div>\n    <div>{:user['realName']|safe}</div>\n{/list}\n\n<!-- \u904d\u5386dict -->\n{dict name=\"stuNames\" key=\"key\" value=\"name\"}\n    <div>\u952e:{key}</div>\n    <div>\u503c:{name}</div>\n    <div>\u5b89\u5168\u8fc7\u6ee4:{:name|safe}</div>\n{/dict}\n\n\n<!-- \u6807\u7b7e\u683c\u5f0f -->\n\n<!-- \u901a\u7528\u904d\u5386,\u517c\u5bb9list,dict -->\n<for name=\"users\" index=\"index\" value=\"user\">\n    <div>{user['userid']}</div>\n    <div>{user['realName']}</div>\n    <div>{:user['realName']|safe}</div>\n</for>\n\n<!-- \u904d\u5386list -->\n<list name=\"users\"  value=\"user\">\n    <div>{user['userid']}</div>\n    <div>{user['realName']}</div>\n    <div>{:user['realName']|safe}</div>\n</list>\n\n<!-- \u904d\u5386dict -->\n<dict name=\"stuNames\" key=\"key\" value=\"name\">\n    <div>\u952e:{key}</div>\n    <div>\u503c:{name}</div>\n    <div>\u5b89\u5168\u8fc7\u6ee4:{:name|safe}</div>\n</dict>\n\n</body>\n\n```\n\n\n##### \u5305\u542b\u6807\u7b7e(include,import,taglib)\n\n```html\n<!-- \u57fa\u7840\u6807\u7b7e\u793a\u4f8b -->\n<!-- \u5bfc\u5165\u6807\u7b7e\u5e93,\u5efa\u8bae\u653e\u5728\u6587\u4ef6\u7684\u9996\u884c -->\n{taglib name=\"html\"}\n\n<!-- \u5bfc\u5165python \u6a21\u5757\u7c7b -->\n{import name=\"hehe.core.base.BaseController:BaseController\"}\n\n<!-- \u5bfc\u5165python \u6a21\u5757\u7c7b\uff0c\u5e76\u8bbe\u7f6e\u522b\u540d -->\n{import name=\"hehe.core.base.BaseController:BaseController\" as=\"webController\"}\n\n<!-- \u5bfc\u5165python \u6a21\u5757\u51fd\u6570 -->\n{import name=\"hehe.core.base.BaseController:index\"}\n\n<body>\n\n{for name=\"users\" index=\"index\" value=\"user\"}\n    <div>{user['userid']}</div>\n    <div>{user['realName']}</div>\n    <div>{:user['realName']|safe}</div>\n{/for}\n\n<!-- \u5bfc\u5165\u5c3e\u90e8\u6a21\u677f -->\n{include file=\"footer.html\"}\n\n</body>\n\n```\n\n##### block\u5757\u6807\u7b7e\n\n```html\n{layout file=\"main\" block=\"body:__BODY__,footer:__FOOTER__\"}\n\n{block name=\"body\"}\n\n    {for name=\"users\" index=\"index\" value=\"user\"}\n        <div>{user['userid']}</div>\n        <div>{user['realName']}</div>\n        <div>{:user['realName']|safe}</div>\n    {/for}\n\n{/block}\n\n{block name=\"footer\"}\n\n    {for name=\"users\" index=\"index\" value=\"user\"}\n        <div>{user['userid']}</div>\n        <div>{user['realName']}</div>\n        <div>{:user['realName']|safe}</div>\n    {/for}\n\n{/block}\n\n<!-- \u76f4\u63a5\u8c03\u7528footer block -->\n{call name=\"footer\"}\n\n\n```\n\n\n\n##### \u6761\u4ef6\u6807\u7b7e\n\n```html\n{layout file=\"main.html\"}\n<body>\n{empty name=\"users\"}\n    users \u53d8\u91cf\u4e3a\u7a7a\n{else}\n    {for name=\"users\" index=\"index\" value=\"user\"}\n        <div>{user['userid']}</div>\n        <div>{user['realName']}</div>\n        <div>{:user['realName']|safe}</div>\n    {/for}\n\n{/empty}\n\n{notempty name=\"users\"}\n    {for name=\"users\" index=\"index\" value=\"user\"}\n        <div>{user['userid']}</div>\n        <div>{user['realName']}</div>\n        <div>{:user['realName']|safe}</div>\n    {/for}\n{else}\n    users \u53d8\u91cf\u4e3a\u7a7a\n{/notempty}\n\n</body>\n\n\n```\n\n\n##### python \u6807\u7b7e\n\n```html\n<!-- python \u793a\u4f8b -->\n{layout file=\"base.html\"}\n<body>\n\n{for name=\"users\" index=\"index\" value=\"user\"}\n    <!-- \u5b9a\u4e49python \u53d8\u91cf,name,char -->\n    {set name = \"'mnnmd'\" char=\"1\"}\n    <div>{user['userid']}</div>\n    <div>{user['realName']}</div>\n    <div>{:user['realName']|safe}</div>\n    <div>{name}</div>\n\n    {if condition=\"index == 1\"}\n        <!-- \u4e66\u5199\u539f\u59cbpython  -->\n        {raw break}\n    {/if}\n{/for}\n\n<!--python \u539f\u59cb\u4ee3\u7801\u5757 -->\n{python}\nage = 22;\nif age > 35:\n    print(\"dddd\")\n{/python}\n\n\n<!-- comment python \u6ce8\u91ca\u6807\u7b7e -->\n{comment}\n \u4ec0\u4e48\u5783\u573e\u4ee3\u7801,\u8fde\u6ce8\u91ca\u90fd\u6ca1\u6709,\u6ca1\u529e\u6cd5\u63a5\u624b,\u51c6\u5907\u8dd1\u8def\n{/comment}\n\n<!-- pass \u4e0d\u89e3\u6790\u6a21\u5757,\u7531\u6b64\u6807\u7b7e\u5305\u542b\u7684\u5185\u5bb9,\u90fd\u4e0d\u89e3\u6790\u6807\u7b7e\u7b49\u5185\u5bb9,\u539f\u6837\u8f93\u51fa -->\n{pass}\n \u60f3\u5199\u4ec0\u4e48\u90fd\u53ef\u4ee5,\u53cd\u6b63\u90fd\u4e0d\u4f1a\u62a5\u9519,{nmm},\"\"kksdf<imm>dfdfd</imm>\n<for name=\"sdfdfd\">\n   sdf;omuynsdfb{$name\n</for>\n{/pass}\n\n\n</body>\n\n```\n\n\n##### \u5b89\u5168\u8fc7\u6ee4\n\n```html\n{layout file=\"main.html\"}\n<body>\n<!-- $ \u4ee3\u7801\u8c03\u7528safe \u5b89\u5168\u65b9\u6cd5,\u6bd4\u5982\n{$user['userid']},\u76f8\u5f53\u4e8e{:user['userid']|safe}\n-->\n{for name=\"users\" index=\"index\" value=\"user\"}\n    <div>{$user['userid']}</div>\n    <div>{user['realName']}</div>\n{/for}\n\n</body>\n\n\n```\n\n\n##### \u8fc7\u6ee4\u5668\n\n```html\n{layout file=\"main.html\"}\n<body>\n\n<!-- \u8c03\u7528\u8fc7\u6ee4\u5668 -->\n{for name=\"users\" value=\"user\"}\n    <title>{user['userid']}</title>\n    <title>{:user['realName']|len}</title>\n{/for}\n\n<!-- \u8c03\u7528\u5e26\u53c2\u6570\u8fc7\u6ee4\u5668,### \u8868\u793a\u5f53\u524d\u8981\u8fc7\u6ee4\u7684\u76ee\u6807\u503c,\u5982\u53c2\u6570\u5217\u8868\u4e2d\u65e0###.\u5219\u9ed8\u8ba4\u76ee\u6807\u503c\u5219\u653e\u5728\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f4d\u7f6e -->\n{for name=\"users\" value=\"user\"}\n    <title>{user['userid']}</title>\n    <title>{:user['ctime']|date='%Y-%m-%d'}</title>\n    <title>{:user['ctime']|date=###,'%Y-%m-%d'}</title>\n{/for}\n\n\n<!-- \u8c03\u7528\u5176\u4ed6\u975e\u8fc7\u6ee4\u5668\u7684\u65b9\u6cd5(strlen \u4e3a\u81ea\u5b9a\u4e49\u65b9\u6cd5)-->\n{for name=\"users\" value=\"user\"}\n    <title>{user['userid']}</title>\n    <title>{:user['ctime']|date='%Y-%m-%d'}</title>\n    <title>{:user['ctime']|strlen}</title>\n{/for}\n\n\n</body>\n\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://gitee.com/chinahehe/hehey-htemplate", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "hehey-htemplate", "package_url": "https://pypi.org/project/hehey-htemplate/", "platform": "", "project_url": "https://pypi.org/project/hehey-htemplate/", "project_urls": {"Homepage": "https://gitee.com/chinahehe/hehey-htemplate"}, "release_url": "https://pypi.org/project/hehey-htemplate/1.0.0/", "requires_dist": null, "requires_python": "", "summary": "hehey-htemplate \u662f\u4e00\u4e2apython \u8f7b\u91cf\u7684\u6a21\u677f\u5f15\u64ce,\u5176\u4e3b\u8981\u7279\u70b9\u6709:\u6613\u5b66,\u793a\u4f8b\u5168,\u529f\u80fd\u5168\u9762,html\u53cb\u597d\u6807\u7b7e,\u7f16\u8bd1\u901f\u5ea6\u5feb,\u6613\u6269\u5c55\u4e0e\u5176\u4ed6\u6a21\u677f\u5f15\u64ce\u5bf9\u6bd4,\u5176\u7b80\u5355\u6613\u5b66,\u901f\u5ea6\u5feb(\u5927\u69821000\u6b21\u7f16\u8bd1,800 \u591a\u6beb\u79d2),\u968f\u65f6\u968f\u5730\u7f16\u5199\u81ea\u5df1\u7684\u6807\u7b7e\u5e93.", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>hehey-htemplate \u7ec4\u4ef6</h1>\n<h4>\u4ecb\u7ecd</h4>\n<p>hehey-htemplate \u662f\u4e00\u4e2apython \u8f7b\u91cf\u7684\u6a21\u677f\u5f15\u64ce,\u5176\u4e3b\u8981\u7279\u70b9\u6709:\u6613\u5b66,\u793a\u4f8b\u5168,\u529f\u80fd\u5168\u9762,html\u53cb\u597d\u6807\u7b7e,\u7f16\u8bd1\u901f\u5ea6\u5feb,\u6613\u6269\u5c55\n\u4e0e\u5176\u4ed6\u6a21\u677f\u5f15\u64ce\u5bf9\u6bd4,\u5176\u7b80\u5355\u6613\u5b66,\u901f\u5ea6\u5feb(\u5927\u69821000\u6b21\u7f16\u8bd1,800 \u591a\u6beb\u79d2),\u968f\u65f6\u968f\u5730\u7f16\u5199\u81ea\u5df1\u7684\u6807\u7b7e\u5e93.</p>\n<h4>\u529f\u80fd\u5217\u8868</h4>\n<ul>\n<li>\u652f\u6301{},\u4ee5\u53ca&lt;&gt; \u6807\u7b7e\u6df7\u5408\u4f7f\u7528</li>\n<li>\u652f\u6301layout(\u6a21\u677f\u7ee7\u627f) \u6807\u7b7e</li>\n<li>\u652f\u6301block \u6a21\u5757</li>\n<li>\u652f\u6301include \u6807\u7b7e</li>\n<li>\u652f\u6301if \u6807\u7b7e</li>\n<li>\u652f\u6301for dict,list \u6807\u7b7e</li>\n<li>\u652f\u6301\u6ce8\u91ca</li>\n<li>\u652f\u6301python \u4ee3\u7801\u6807\u7b7e</li>\n<li>\u652f\u6301\u8c03\u7528\u65b9\u6cd5</li>\n<li>\u652f\u6301\u52a0\u8f7d\u9759\u6001\u6587\u4ef6</li>\n<li>\u5b9a\u4e49\u53d8\u91cf</li>\n<li>\u652f\u6301\u4e0d\u89e3\u6790\u6807\u7b7e</li>\n<li>html \u6807\u7b7e</li>\n<li>\u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668</li>\n<li>\u4f18\u5316\u65b9\u6cd5\u7684\u8c03\u7528\u65b9\u5f0f,\u652f\u6301| \u65b9\u6cd5,\u652f\u6301\u5b9a\u4e49\u53c2\u6570</li>\n<li>\u652f\u6301\u6807\u7b7e,empty</li>\n<li>\u652f\u6301\u5bfc\u5165\u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668</li>\n<li>\u652f\u6301\u5bfc\u5165\u81ea\u5b9a\u4e49\u6807\u7b7e</li>\n<li>\u652f\u6301\u6a21\u677f\u6587\u4ef6\u7f13\u5b58\u4ee3\u7801\u81f3\u5185\u5b58</li>\n<li>\u652f\u6301\u4ee3\u7801\u7f13\u5b58\u8fc7\u671f\u65f6\u95f4</li>\n<li>\u652f\u6301\u6a21\u677f\u540e\u7f00\u81ea\u5b9a\u4e49</li>\n<li>js,css,img \u6807\u7b7e</li>\n<li>\u63d0\u4f9b\u5c0f\u7269\u4ef6(widget)</li>\n</ul>\n<h4>\u4f9d\u8d56\u4ee5\u53ca\u7248\u672c\u8981\u6c42</h4>\n<ul>\n<li>python &gt;= 3.5</li>\n</ul>\n<h4>\u5b89\u88c5</h4>\n<ul>\n<li>\u76f4\u63a5\u4e0b\u8f7d:</li>\n</ul>\n<pre><code>\n</code></pre>\n<ul>\n<li>\u547d\u4ee4\u5b89\u88c5\uff1a</li>\n</ul>\n<pre><code>pip install hehey-htemplate\n</code></pre>\n<h4>\u57fa\u7840\u6587\u4ef6\u4ee5\u76ee\u5f55</h4>\n<h4>\u53c2\u6570\u914d\u7f6e</h4>\n<pre><span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"c1\"># \u6a21\u677f\u6587\u4ef6\u6269\u5c55\u540d</span>\n        <span class=\"s2\">\"suffix\"</span><span class=\"p\">:</span><span class=\"s1\">'html'</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u6a21\u677f\u6587\u4ef6\u6839\u8def\u5f84</span>\n        <span class=\"s2\">\"tplPath\"</span><span class=\"p\">:</span><span class=\"s1\">''</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u662f\u5426\u5f00\u542f\u6a21\u677f\u7f13\u5b58,\u5f00\u542f\u540e,\u4f1a\u81ea\u52a8\u7f13\u5b58\u4ee3\u7801,\u52a0\u5feb\u6a21\u677f\u89e3\u6790\u7684\u901f\u5ea6</span>\n        <span class=\"s2\">\"onCache\"</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u6a21\u677f\u7f13\u5b58\u6587\u4ef6\u76ee\u5f55,\u6a21\u677f\u7f16\u8bd1\u7684python\u4ee3\u7801\u7f13\u5b58\u5728\u6587\u4ef6\u4e2d,\u7f13\u5b58\u6587\u4ef6\u5b58\u50a8\u6b64\u76ee\u5f55\u4e2d</span>\n        <span class=\"s2\">\"cachePath\"</span><span class=\"p\">:</span><span class=\"s1\">''</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u8d44\u6e90\u5730\u5740,\u6bd4\u5982js,css,img,\u9ed8\u8ba4\u63d0\u4f9bstatic(\u9759\u6001\u8d44\u6e90\u8def\u5f84),res(\u5916\u90e8\u8d44\u6e90,\u6bd4\u5982\u4e0a\u4f20\u7684\u6587\u4ef6) \u5b57\u5178key</span>\n        <span class=\"s2\">\"urls\"</span> <span class=\"p\">:</span> <span class=\"p\">{},</span>\n        <span class=\"c1\"># \u6a21\u677f\u7f13\u5b58\u6709\u6548\u671f,\u5355\u4f4d\u79d2,0 \u8868\u793a\u65e0\u6709\u6548\u671f</span>\n        <span class=\"s2\">\"timeout\"</span> <span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u8868\u8fbe\u5f0f\u8d77\u59cb\u7b26</span>\n        <span class=\"s2\">\"expStart\"</span> <span class=\"p\">:</span> <span class=\"s1\">'{'</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u8868\u8fbe\u5f0f\u7ed3\u675f\u7b26</span>\n        <span class=\"s2\">\"expEnd\"</span><span class=\"p\">:</span><span class=\"s1\">'}'</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u7ed3\u675f\u8868\u8fbe\u5f0f\u7684\u7ed3\u675f\u7b26\u6bd4\u5982/ \u5219\u5b8c\u6574\u8868\u8fbe\u5f0f\u4e3a{/for} \u6216end,{endfor}</span>\n        <span class=\"s2\">\"expEndSign\"</span> <span class=\"p\">:</span> <span class=\"s1\">'/'</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u662f\u5426\u542f\u7528\u6807\u7b7e\u89c4\u5219,\u5f00\u542f\u540e,\u5339\u914d\u8868\u8fbe\u5f0f &lt;import name=\"eduhome.name.yong\" /&gt;</span>\n        <span class=\"s2\">\"onTag\"</span> <span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u6807\u7b7e\u8d77\u59cb\u7b26</span>\n        <span class=\"s2\">\"tagStart\"</span> <span class=\"p\">:</span> <span class=\"s1\">'&lt;'</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u6807\u7b7e\u7ed3\u675f\u7b26</span>\n        <span class=\"s2\">\"tagEnd\"</span> <span class=\"p\">:</span> <span class=\"s1\">'&gt;'</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u7ed3\u675f\u6807\u7b7e\u7ed3\u675f\u7b26\u53f7</span>\n        <span class=\"s2\">\"tagEndSign\"</span> <span class=\"p\">:</span><span class=\"s1\">'/'</span><span class=\"p\">,</span>\n        <span class=\"c1\"># \u7cfb\u7edf\u6807\u7b7e,\u9ed8\u8ba4\u81ea\u52a8\u52a0\u8f7dsys \u8868\u8fbe\u5f0f,\u9ed8\u8ba4\u6807\u7b7e,\u4e66\u5199\u65f6\u65e0\u9700\u5199\u5165\u524d\u7f00,\u6bd4\u5982&lt;css href=\"xxx\" /&gt;</span>\n        <span class=\"s2\">\"sysTags\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'sys'</span><span class=\"p\">],</span>\n        <span class=\"c1\"># \u81ea\u5b9a\u4e49\u6807\u7b7e,\u4e66\u5199\u65f6\u5fc5\u987b\u5199\u5165\u524d\u7f00,\u6bd4\u5982 \u6807\u7b7e\u540d\u79f0html,\u5219css \u6807\u7b7e\u7684\u4e66\u5199\u89c4\u5219\u4e3a: &lt;html:css href=\"xxx\" /&gt;</span>\n        <span class=\"s2\">\"customTags\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'html'</span><span class=\"p\">],</span>\n<span class=\"p\">};</span>\n</pre>\n<h4>\u57fa\u672c\u793a\u4f8b</h4>\n<ul>\n<li>\u5feb\u901f\u4f7f\u7528<br>\nindex.html \u6a21\u677f\u6587\u4ef6</li>\n</ul>\n<pre><span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n\n    {if condition=\"age == 1\"}\n        <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>{$age}<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n    {elif condition=\"age == 2\"}\n        <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>hello world<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n    {else}\n        <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>hehe \u5c0f\u914c\u4e00\u676f<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n    {/if}\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n<p>index.py \u6587\u4ef6</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">htemplate.view</span> <span class=\"kn\">import</span> <span class=\"n\">View</span>\n<span class=\"c1\"># \u6a21\u677f\u914d\u7f6e,\u8bf7\u53c2\u8003&lt;&lt;\u53c2\u6570\u914d\u7f6e&gt;&gt;</span>\n<span class=\"n\">conf</span> <span class=\"o\">=</span> <span class=\"p\">{};</span>\n<span class=\"n\">view</span> <span class=\"o\">=</span> <span class=\"n\">View</span><span class=\"p\">(</span><span class=\"n\">conf</span><span class=\"p\">);</span>\n\n<span class=\"c1\"># \u6a21\u677f\u6570\u636e</span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"age\"</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\"># \u6ce8\u5165\u6a21\u677f\u53d8\u91cf</span>\n<span class=\"n\">view</span><span class=\"o\">.</span><span class=\"n\">assign</span><span class=\"p\">(</span><span class=\"s1\">'title'</span><span class=\"p\">,</span><span class=\"s2\">\"\u4ece\u60a8\u7684\u4e16\u754c\u8def\u8fc7?\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># index \u4e3a\u6a21\u677f\u540d\u79f0</span>\n<span class=\"n\">html</span> <span class=\"o\">=</span> <span class=\"n\">view</span><span class=\"o\">.</span><span class=\"n\">fetch</span><span class=\"p\">(</span><span class=\"s1\">'index'</span><span class=\"p\">,</span><span class=\"n\">data</span><span class=\"p\">)</span>\n</pre>\n<h4>\u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668</h4>\n<pre><span class=\"c1\"># \u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668</span>\n<span class=\"kn\">from</span> <span class=\"nn\">htemplate.view</span> <span class=\"kn\">import</span> <span class=\"n\">reg_temp_filter</span>\n\n<span class=\"nd\">@reg_temp_filter</span><span class=\"p\">(</span><span class=\"s1\">'css'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">css_filter</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"n\">cssUrl</span><span class=\"p\">):</span>\n\n    <span class=\"k\">return</span>  <span class=\"s1\">'</span><span class=\"si\">{0}{1}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">template</span><span class=\"o\">.</span><span class=\"n\">urls</span><span class=\"p\">[</span><span class=\"s1\">'static'</span><span class=\"p\">],</span><span class=\"n\">cssUrl</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># \u8fc7\u6ee4\u6240\u6709\u6709\u98ce\u9669\u7684\u5b57\u7b26</span>\n<span class=\"nd\">@reg_temp_filter</span><span class=\"p\">()</span>\n<span class=\"k\">def</span> <span class=\"nf\">safe</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"n\">value</span><span class=\"p\">):</span>\n\n    <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">xss</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">value</span>\n</pre>\n<h4>\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587</h4>\n<pre><span class=\"c1\"># \u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587</span>\n<span class=\"kn\">from</span> <span class=\"nn\">htemplate.view</span> <span class=\"kn\">import</span> <span class=\"n\">reg_temp_context</span>\n\n<span class=\"nd\">@reg_temp_context</span><span class=\"p\">()</span>\n<span class=\"k\">def</span> <span class=\"nf\">django</span><span class=\"p\">():</span>\n\n    <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"s2\">\"reqeust\"</span><span class=\"p\">:{</span><span class=\"s2\">\"mok\"</span><span class=\"p\">:</span><span class=\"mi\">88</span><span class=\"p\">}}</span>\n</pre>\n<h4>\u6807\u7b7e\u5e93</h4>\n<br>\n\u81ea\u5b9a\u4e49\u6807\u7b7e\u5e93html\n<pre><span class=\"kn\">from</span> <span class=\"nn\">htemplate.tag.Tag</span> <span class=\"kn\">import</span> <span class=\"n\">Tag</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">htemplate.nodes.BaseNode</span> <span class=\"kn\">import</span> <span class=\"n\">BaseNode</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">HtmlTag</span><span class=\"p\">(</span><span class=\"n\">Tag</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"n\">template</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"n\">template</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">tags</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s2\">\"css\"</span><span class=\"p\">,</span> <span class=\"s1\">'close'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"s1\">'onTag'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">},</span>\n            <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s2\">\"js\"</span><span class=\"p\">,</span> <span class=\"s1\">'close'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"s1\">'onTag'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">},</span>\n            <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s2\">\"img\"</span><span class=\"p\">,</span> <span class=\"s1\">'close'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"s1\">'onTag'</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">},</span>\n            <span class=\"p\">{</span><span class=\"s1\">'name'</span><span class=\"p\">:</span> <span class=\"s2\">\"select\"</span><span class=\"p\">,</span> <span class=\"s1\">'close'</span><span class=\"p\">:</span> <span class=\"kc\">False</span><span class=\"p\">,</span><span class=\"s1\">'onTag'</span><span class=\"p\">:</span><span class=\"kc\">True</span><span class=\"p\">},</span>\n        <span class=\"p\">]</span>\n\n\n    <span class=\"c1\"># \u6a21\u677f\u7ee7\u627f</span>\n    <span class=\"k\">def</span> <span class=\"nf\">_select</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"n\">node_attrs</span><span class=\"p\">,</span><span class=\"n\">mainNode</span><span class=\"p\">:</span><span class=\"n\">BaseNode</span><span class=\"p\">):</span>\n        <span class=\"c1\">#print(node_attrs)</span>\n\n        <span class=\"c1\">#attrs = self.parseAttr(node_attrs)</span>\n        <span class=\"k\">pass</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_css</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"n\">node_attrs</span><span class=\"p\">,</span> <span class=\"n\">mainNode</span><span class=\"p\">:</span><span class=\"n\">BaseNode</span><span class=\"p\">):</span>\n        <span class=\"n\">attrs</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">parseAttr</span><span class=\"p\">(</span><span class=\"n\">node_attrs</span><span class=\"p\">)</span>\n        <span class=\"n\">href</span> <span class=\"o\">=</span> <span class=\"n\">attrs</span><span class=\"p\">[</span><span class=\"s1\">'href'</span><span class=\"p\">];</span>\n        <span class=\"n\">cssFunc</span> <span class=\"o\">=</span> <span class=\"s1\">'self.call(\"css\",\"</span><span class=\"si\">{0}</span><span class=\"s1\">\")'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">href</span><span class=\"p\">)</span>\n        <span class=\"n\">attrs</span><span class=\"p\">[</span><span class=\"s1\">'href'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">'</span><span class=\"si\">%s</span><span class=\"s1\">'</span><span class=\"p\">;</span>\n        <span class=\"n\">attrsHtml</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">buildHtmlAttrs</span><span class=\"p\">(</span><span class=\"n\">attrs</span><span class=\"p\">);</span>\n        <span class=\"n\">codeHtml</span> <span class=\"o\">=</span> <span class=\"s2\">\"'&lt;link </span><span class=\"si\">{0}</span><span class=\"s2\"> /&gt;' % (</span><span class=\"si\">{1}</span><span class=\"s2\">)\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">attrsHtml</span><span class=\"p\">,</span> <span class=\"n\">cssFunc</span><span class=\"p\">)</span>\n\n        <span class=\"n\">mainNode</span><span class=\"o\">.</span><span class=\"n\">writeRawCode</span><span class=\"p\">(</span><span class=\"n\">codeHtml</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_js</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"n\">node_attrs</span><span class=\"p\">,</span> <span class=\"n\">mainNode</span><span class=\"p\">:</span><span class=\"n\">BaseNode</span><span class=\"p\">):</span>\n        <span class=\"n\">attrs</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">parseAttr</span><span class=\"p\">(</span><span class=\"n\">node_attrs</span><span class=\"p\">)</span>\n        <span class=\"n\">src</span> <span class=\"o\">=</span> <span class=\"n\">attrs</span><span class=\"p\">[</span><span class=\"s1\">'src'</span><span class=\"p\">];</span>\n        <span class=\"n\">jsFunc</span> <span class=\"o\">=</span> <span class=\"s1\">'self.call(\"js\",\"</span><span class=\"si\">{0}</span><span class=\"s1\">\")'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">src</span><span class=\"p\">)</span>\n        <span class=\"n\">attrs</span><span class=\"p\">[</span><span class=\"s1\">'src'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">'</span><span class=\"si\">%s</span><span class=\"s1\">'</span><span class=\"p\">;</span>\n        <span class=\"n\">attrsHtml</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">buildHtmlAttrs</span><span class=\"p\">(</span><span class=\"n\">attrs</span><span class=\"p\">);</span>\n        <span class=\"n\">codeHtml</span> <span class=\"o\">=</span> <span class=\"s2\">\"'&lt;script </span><span class=\"si\">{0}</span><span class=\"s2\"> &gt;&lt;/script&gt;' % (</span><span class=\"si\">{1}</span><span class=\"s2\">)\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">attrsHtml</span><span class=\"p\">,</span> <span class=\"n\">jsFunc</span><span class=\"p\">)</span>\n\n        <span class=\"n\">mainNode</span><span class=\"o\">.</span><span class=\"n\">writeRawCode</span><span class=\"p\">(</span><span class=\"n\">codeHtml</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">_img</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"n\">node_attrs</span><span class=\"p\">,</span> <span class=\"n\">mainNode</span><span class=\"p\">:</span><span class=\"n\">BaseNode</span><span class=\"p\">):</span>\n        <span class=\"n\">attrs</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">parseAttr</span><span class=\"p\">(</span><span class=\"n\">node_attrs</span><span class=\"p\">)</span>\n        <span class=\"n\">src</span> <span class=\"o\">=</span> <span class=\"n\">attrs</span><span class=\"p\">[</span><span class=\"s1\">'src'</span><span class=\"p\">];</span>\n        <span class=\"n\">jsFunc</span> <span class=\"o\">=</span> <span class=\"s1\">'self.call(\"img\",\"</span><span class=\"si\">{0}</span><span class=\"s1\">\")'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">src</span><span class=\"p\">)</span>\n        <span class=\"n\">attrs</span><span class=\"p\">[</span><span class=\"s1\">'src'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">'</span><span class=\"si\">%s</span><span class=\"s1\">'</span><span class=\"p\">;</span>\n        <span class=\"n\">attrsHtml</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">buildHtmlAttrs</span><span class=\"p\">(</span><span class=\"n\">attrs</span><span class=\"p\">);</span>\n        <span class=\"n\">codeHtml</span> <span class=\"o\">=</span> <span class=\"s2\">\"'&lt;img </span><span class=\"si\">{0}</span><span class=\"s2\"> &gt;' % (</span><span class=\"si\">{1}</span><span class=\"s2\">)\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">attrsHtml</span><span class=\"p\">,</span> <span class=\"n\">jsFunc</span><span class=\"p\">)</span>\n\n        <span class=\"n\">mainNode</span><span class=\"o\">.</span><span class=\"n\">writeRawCode</span><span class=\"p\">(</span><span class=\"n\">codeHtml</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n<p>index.html \u6a21\u677f\u6587\u4ef6</p>\n<pre><span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">html:css</span> <span class=\"na\">href</span><span class=\"o\">=</span><span class=\"s\">\"css/core.min.css\"</span> <span class=\"na\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"p\">/&gt;</span>\n    {if condition=\"age == 1\"}\n        <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>{$age}<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n    {elif condition=\"age == 2\"}\n        <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>hello world<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n    {else}\n        <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>hehe \u5c0f\u914c\u4e00\u676f<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n    {/if}\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n<h4>\u6807\u7b7e\u793a\u4f8b</h4>\n<h5>layout \u5e03\u5c40\u6807\u7b7e</h5>\n<p>main.html \u5e03\u5c40\u6a21\u677f\u6587\u4ef6</p>\n<pre><span class=\"cp\">&lt;!DOCTYPE html&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">html</span> <span class=\"na\">lang</span><span class=\"o\">=</span><span class=\"s\">\"en\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">meta</span> <span class=\"na\">charset</span><span class=\"o\">=</span><span class=\"s\">\"UTF-8\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>{title}<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">html:css</span> <span class=\"na\">href</span><span class=\"o\">=</span><span class=\"s\">\"css/core.min.css\"</span> <span class=\"na\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"p\">/&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">html:js</span> <span class=\"na\">src</span><span class=\"o\">=</span> <span class=\"s\">\"js/dist/core.min.js?v=2.1.4\"</span>  <span class=\"p\">/&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n__BODY__\n\n\n__FOOTER__\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">html</span><span class=\"p\">&gt;</span>\n</pre>\n<p>index.html \u6a21\u677f\u6587\u4ef6</p>\n<pre>{layout file=\"main.html\"}\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n{if condition=\"age == 1\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>{$age}<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n{elif condition=\"age == 2\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>hello world<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n{else}\n    <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>hehe \u5c0f\u914c\u4e00\u676f<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n{/if}\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n<h5>\u52a0\u8f7d\u9759\u6001\u6587\u4ef6</h5>\n<pre>{layout file=\"main.html\"}\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n\n<span class=\"c\">&lt;!-- \u4ee5\u4e0b\u7684\u6807\u7b7e,\u9700\u914d\u5408\u8fc7\u6ee4\u5668\u4f7f\u7528,\u6bd4\u5982css,js,res,img \u7b49\u7b49\u8fc7\u6ee4\u5668,\u9700\u4e86\u89e3\u8fc7\u6ee4\u5668,\u8bf7\u67e5\u770bfileters/common \u6587\u4ef6,\u5927\u91cf\u8fc7\u6ee4\u5668\u5b58\u653e\u5728\u6b64\u6587\u4ef6\u4e2d --&gt;</span>\n\n<span class=\"c\">&lt;!-- \u52a0\u8f7d\u7ad9\u70b9\u6837\u5f0f --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">css</span> <span class=\"na\">href</span><span class=\"o\">=</span><span class=\"s\">\"css/core.min.css\"</span> <span class=\"na\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"p\">/&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">html:css</span> <span class=\"na\">href</span><span class=\"o\">=</span><span class=\"s\">\"css/core.min.css\"</span> <span class=\"na\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"p\">/&gt;</span>\n\n<span class=\"c\">&lt;!-- \u52a0\u8f7d\u7ad9\u70b9js --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">js</span> <span class=\"na\">src</span><span class=\"o\">=</span> <span class=\"s\">\"js/dist/core.min.js?v=2.1.4\"</span>  <span class=\"p\">/&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">html:js</span> <span class=\"na\">src</span><span class=\"o\">=</span> <span class=\"s\">\"js/dist/core.min.js?v=2.1.4\"</span>  <span class=\"p\">/&gt;</span>\n\n<span class=\"c\">&lt;!-- \u52a0\u8f7d\u7ad9\u70b9\u56fe\u7247 --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">html:img</span> <span class=\"na\">src</span><span class=\"o\">=</span><span class=\"s\">\"images/bg_jins.png\"</span> <span class=\"na\">alt</span><span class=\"o\">=</span><span class=\"s\">\"\"</span> <span class=\"p\">/&gt;</span>\n\n<span class=\"c\">&lt;!-- \u52a0\u8f7d\u7ad9\u70b9\u5916\u90e8\u56fe\u7247,\u4e00\u822c\u4e3a\u4e0a\u4f20\u56fe\u7247 --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">img</span> <span class=\"na\">src</span><span class=\"o\">=</span><span class=\"s\">\"{:res('upload/2018/10/25/xxxx.jpg')}\"</span> <span class=\"na\">alt</span><span class=\"o\">=</span><span class=\"s\">\"\"</span> <span class=\"p\">/&gt;</span>\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n<h5>if \u6807\u7b7e</h5>\n<pre><span class=\"c\">&lt;!-- \u57fa\u7840\u6807\u7b7e\u793a\u4f8b --&gt;</span>\n{layout file=\"main.html\"}\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n\n<span class=\"c\">&lt;!-- \u901a\u7528if--&gt;</span>\n{if condition=\"age == 1\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>{$age}<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n{elif condition=\"age == 2\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>hello world<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n{else}\n    <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>hehe \u5c0f\u914c\u4e00\u676f<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n{/if}\n\n<span class=\"c\">&lt;!-- \u975e\u5c5e\u6027if,\u539f\u59cbpython \u683c\u5f0f --&gt;</span>\n{if age == 1}\n    <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>{$age}<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n{elif age == 2}\n    <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>hello world<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n{else}\n    <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>hehe \u5c0f\u914c\u4e00\u676f<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n{/if}\n\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n<h5>for \u6807\u7b7e</h5>\n<p>for.html \u6a21\u677f\u6587\u4ef6</p>\n<pre><span class=\"c\">&lt;!-- \u904d\u5386\u6807\u7b7e,for,list,dict\u793a\u4f8b --&gt;</span>\n{layout file=\"base.html\"}\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"c\">&lt;!-- \u901a\u7528\u904d\u5386,\u517c\u5bb9list,dict --&gt;</span>\n{for name=\"users\" index=\"index\" value=\"user\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n{/for}\n\n\n<span class=\"c\">&lt;!-- \u975e\u5c5e\u6027\u904d\u5386,\u539f\u59cbpython \u683c\u5f0f --&gt;</span>\n{for user in users}\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n{/for}\n\n\n<span class=\"c\">&lt;!-- \u904d\u5386list --&gt;</span>\n{list name=\"users\" index=\"index\" key=\"key\" value=\"user\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\u81ea\u5b9a\u4e49\u5e8f\u53f7(\u9ed8\u8ba4\u4e3a0):{index}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>list\u672c\u8eab\u7684\u5e8f\u53f7:{key}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n{/list}\n\n<span class=\"c\">&lt;!-- \u904d\u5386dict --&gt;</span>\n{dict name=\"stuNames\" key=\"key\" value=\"name\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\u952e:{key}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\u503c:{name}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\u5b89\u5168\u8fc7\u6ee4:{:name|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n{/dict}\n\n\n<span class=\"c\">&lt;!-- \u6807\u7b7e\u683c\u5f0f --&gt;</span>\n\n<span class=\"c\">&lt;!-- \u901a\u7528\u904d\u5386,\u517c\u5bb9list,dict --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">for</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">\"users\"</span> <span class=\"na\">index</span><span class=\"o\">=</span><span class=\"s\">\"index\"</span> <span class=\"na\">value</span><span class=\"o\">=</span><span class=\"s\">\"user\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">for</span><span class=\"p\">&gt;</span>\n\n<span class=\"c\">&lt;!-- \u904d\u5386list --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">list</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">\"users\"</span>  <span class=\"na\">value</span><span class=\"o\">=</span><span class=\"s\">\"user\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">list</span><span class=\"p\">&gt;</span>\n\n<span class=\"c\">&lt;!-- \u904d\u5386dict --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">dict</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">\"stuNames\"</span> <span class=\"na\">key</span><span class=\"o\">=</span><span class=\"s\">\"key\"</span> <span class=\"na\">value</span><span class=\"o\">=</span><span class=\"s\">\"name\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\u952e:{key}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\u503c:{name}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\u5b89\u5168\u8fc7\u6ee4:{:name|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">dict</span><span class=\"p\">&gt;</span>\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n<h5>\u5305\u542b\u6807\u7b7e(include,import,taglib)</h5>\n<pre><span class=\"c\">&lt;!-- \u57fa\u7840\u6807\u7b7e\u793a\u4f8b --&gt;</span>\n<span class=\"c\">&lt;!-- \u5bfc\u5165\u6807\u7b7e\u5e93,\u5efa\u8bae\u653e\u5728\u6587\u4ef6\u7684\u9996\u884c --&gt;</span>\n{taglib name=\"html\"}\n\n<span class=\"c\">&lt;!-- \u5bfc\u5165python \u6a21\u5757\u7c7b --&gt;</span>\n{import name=\"hehe.core.base.BaseController:BaseController\"}\n\n<span class=\"c\">&lt;!-- \u5bfc\u5165python \u6a21\u5757\u7c7b\uff0c\u5e76\u8bbe\u7f6e\u522b\u540d --&gt;</span>\n{import name=\"hehe.core.base.BaseController:BaseController\" as=\"webController\"}\n\n<span class=\"c\">&lt;!-- \u5bfc\u5165python \u6a21\u5757\u51fd\u6570 --&gt;</span>\n{import name=\"hehe.core.base.BaseController:index\"}\n\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n\n{for name=\"users\" index=\"index\" value=\"user\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n{/for}\n\n<span class=\"c\">&lt;!-- \u5bfc\u5165\u5c3e\u90e8\u6a21\u677f --&gt;</span>\n{include file=\"footer.html\"}\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n<h5>block\u5757\u6807\u7b7e</h5>\n<pre>{layout file=\"main\" block=\"body:__BODY__,footer:__FOOTER__\"}\n\n{block name=\"body\"}\n\n    {for name=\"users\" index=\"index\" value=\"user\"}\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    {/for}\n\n{/block}\n\n{block name=\"footer\"}\n\n    {for name=\"users\" index=\"index\" value=\"user\"}\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    {/for}\n\n{/block}\n\n<span class=\"c\">&lt;!-- \u76f4\u63a5\u8c03\u7528footer block --&gt;</span>\n{call name=\"footer\"}\n</pre>\n<h5>\u6761\u4ef6\u6807\u7b7e</h5>\n<pre>{layout file=\"main.html\"}\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n{empty name=\"users\"}\n    users \u53d8\u91cf\u4e3a\u7a7a\n{else}\n    {for name=\"users\" index=\"index\" value=\"user\"}\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    {/for}\n\n{/empty}\n\n{notempty name=\"users\"}\n    {for name=\"users\" index=\"index\" value=\"user\"}\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    {/for}\n{else}\n    users \u53d8\u91cf\u4e3a\u7a7a\n{/notempty}\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n<h5>python \u6807\u7b7e</h5>\n<pre><span class=\"c\">&lt;!-- python \u793a\u4f8b --&gt;</span>\n{layout file=\"base.html\"}\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n\n{for name=\"users\" index=\"index\" value=\"user\"}\n    <span class=\"c\">&lt;!-- \u5b9a\u4e49python \u53d8\u91cf,name,char --&gt;</span>\n    {set name = \"'mnnmd'\" char=\"1\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{:user['realName']|safe}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{name}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n\n    {if condition=\"index == 1\"}\n        <span class=\"c\">&lt;!-- \u4e66\u5199\u539f\u59cbpython  --&gt;</span>\n        {raw break}\n    {/if}\n{/for}\n\n<span class=\"c\">&lt;!--python \u539f\u59cb\u4ee3\u7801\u5757 --&gt;</span>\n{python}\nage = 22;\nif age &gt; 35:\n    print(\"dddd\")\n{/python}\n\n\n<span class=\"c\">&lt;!-- comment python \u6ce8\u91ca\u6807\u7b7e --&gt;</span>\n{comment}\n \u4ec0\u4e48\u5783\u573e\u4ee3\u7801,\u8fde\u6ce8\u91ca\u90fd\u6ca1\u6709,\u6ca1\u529e\u6cd5\u63a5\u624b,\u51c6\u5907\u8dd1\u8def\n{/comment}\n\n<span class=\"c\">&lt;!-- pass \u4e0d\u89e3\u6790\u6a21\u5757,\u7531\u6b64\u6807\u7b7e\u5305\u542b\u7684\u5185\u5bb9,\u90fd\u4e0d\u89e3\u6790\u6807\u7b7e\u7b49\u5185\u5bb9,\u539f\u6837\u8f93\u51fa --&gt;</span>\n{pass}\n \u60f3\u5199\u4ec0\u4e48\u90fd\u53ef\u4ee5,\u53cd\u6b63\u90fd\u4e0d\u4f1a\u62a5\u9519,{nmm},\"\"kksdf<span class=\"p\">&lt;</span><span class=\"nt\">imm</span><span class=\"p\">&gt;</span>dfdfd<span class=\"p\">&lt;/</span><span class=\"nt\">imm</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">for</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">\"sdfdfd\"</span><span class=\"p\">&gt;</span>\n   sdf;omuynsdfb{$name\n<span class=\"p\">&lt;/</span><span class=\"nt\">for</span><span class=\"p\">&gt;</span>\n{/pass}\n\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n<h5>\u5b89\u5168\u8fc7\u6ee4</h5>\n<pre>{layout file=\"main.html\"}\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"c\">&lt;!-- $ \u4ee3\u7801\u8c03\u7528safe \u5b89\u5168\u65b9\u6cd5,\u6bd4\u5982</span>\n<span class=\"c\">{$user['userid']},\u76f8\u5f53\u4e8e{:user['userid']|safe}</span>\n<span class=\"c\">--&gt;</span>\n{for name=\"users\" index=\"index\" value=\"user\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{$user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>{user['realName']}<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n{/for}\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n<h5>\u8fc7\u6ee4\u5668</h5>\n<pre>{layout file=\"main.html\"}\n<span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n\n<span class=\"c\">&lt;!-- \u8c03\u7528\u8fc7\u6ee4\u5668 --&gt;</span>\n{for name=\"users\" value=\"user\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>{:user['realName']|len}<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n{/for}\n\n<span class=\"c\">&lt;!-- \u8c03\u7528\u5e26\u53c2\u6570\u8fc7\u6ee4\u5668,### \u8868\u793a\u5f53\u524d\u8981\u8fc7\u6ee4\u7684\u76ee\u6807\u503c,\u5982\u53c2\u6570\u5217\u8868\u4e2d\u65e0###.\u5219\u9ed8\u8ba4\u76ee\u6807\u503c\u5219\u653e\u5728\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f4d\u7f6e --&gt;</span>\n{for name=\"users\" value=\"user\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>{:user['ctime']|date='%Y-%m-%d'}<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>{:user['ctime']|date=###,'%Y-%m-%d'}<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n{/for}\n\n\n<span class=\"c\">&lt;!-- \u8c03\u7528\u5176\u4ed6\u975e\u8fc7\u6ee4\u5668\u7684\u65b9\u6cd5(strlen \u4e3a\u81ea\u5b9a\u4e49\u65b9\u6cd5)--&gt;</span>\n{for name=\"users\" value=\"user\"}\n    <span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>{user['userid']}<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>{:user['ctime']|date='%Y-%m-%d'}<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>{:user['ctime']|strlen}<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n{/for}\n\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n</pre>\n\n          </div>"}, "last_serial": 6277045, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "3416bcc133b732b261f52467ad47bbde", "sha256": "4dfc1e6f96c76c2f0746ea1bf2d2255b6557e2138b1af64187dcd6c28091e1b4"}, "downloads": -1, "filename": "hehey-htemplate-1.0.0.tar.gz", "has_sig": false, "md5_digest": "3416bcc133b732b261f52467ad47bbde", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 27878, "upload_time": "2019-12-11T05:30:38", "upload_time_iso_8601": "2019-12-11T05:30:38.362442Z", "url": "https://files.pythonhosted.org/packages/91/f6/b540b4dbdd9745d72722dd8cf9b12eb4718a644ae6e6cb7fe151f1cee2f9/hehey-htemplate-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "3416bcc133b732b261f52467ad47bbde", "sha256": "4dfc1e6f96c76c2f0746ea1bf2d2255b6557e2138b1af64187dcd6c28091e1b4"}, "downloads": -1, "filename": "hehey-htemplate-1.0.0.tar.gz", "has_sig": false, "md5_digest": "3416bcc133b732b261f52467ad47bbde", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 27878, "upload_time": "2019-12-11T05:30:38", "upload_time_iso_8601": "2019-12-11T05:30:38.362442Z", "url": "https://files.pythonhosted.org/packages/91/f6/b540b4dbdd9745d72722dd8cf9b12eb4718a644ae6e6cb7fe151f1cee2f9/hehey-htemplate-1.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:51:51 2020"}
{"info": {"author": "POLITICO interactive news", "author_email": "interactives@politico.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Framework :: Django", "Framework :: Django :: 2.0", "Intended Audience :: Developers", "Intended Audience :: Information Technology", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Topic :: Internet :: WWW/HTTP"], "description": "![POLITICO](https://politico.com/interactives/cdn/images/badge.svg)\n\n```\n          __          _____  _____                 __  .__         \n  _______/  |______ _/ ____\\/ ____\\ _____   __ ___/  |_|  |__      \n /  ___/\\   __\\__  \\\\   __\\\\   __\\  \\__  \\ |  |  \\   __\\  |  \\     \n \\___ \\  |  |  / __ \\|  |   |  |     / __ \\|  |  /|  | |   Y  \\    \n/____  > |__| (____  /__|   |__|    (____  /____/ |__| |___|  / /\\\n     \\/            \\/                    \\/                 \\/  \\/\n```\n\n# POLITICO staff auth\n\nThis app stores a handful of useful utilities we use across our various Django apps at POLITICO to integrate our staff authorization and authentication, which is implemented with Slack via [`Python Social Auth`](https://python-social-auth.readthedocs.io/).\n\n\n## Requirements\n\n- Python 3.6 \u2014 `brew install python`\n\n- Pipenv \u2014 `brew install pipenv`\n\n- Django (tested on versions 2.1.x and 2.2.x)\n\n- A Slack workspace with users\n\n- A Slack app connected to that workspace, with a \"Redirect URL\" entry matching the following pattern:\n\n  `http://<your server name>/social/complete/slack/`\n\n  (**Note:** you can have multiple \"Redirect URLs\" for the same app. For local development, you'll be aliasing `localhost` to a subdomain of your choosing, as described in the [\"Domain resolution\"](#domain-resolution) section below.)\n\n- _Optional:_ PostgreSQL \u2014 `brew install postgresql`\n\n\n## What's inside\n\n#### `./staff_auth/`\n\nThe app that handles staff Slack authorization and authentication.\n\n###### `./staff_auth/templates/admin/login.html` and `./staff_auth/static/staff_auth/css/custom-login.css`\n\nCustom HTML and CSS to add a \"Staff login (with Slack)\" button to the standard Django admin login form.\n\n###### `staff_auth.backend.WorkspaceSpecificSlackOAuth2`\n\nA subclass of Python Social Auth's Slack authentication backend. Unlike the original, this variant forces users to log in with credentials from the specified Slack workspace (rather than from any Slack workspace).\n\n###### `staff_auth.middleware.InvalidWorkspaceErrorMiddleware`\n\nA middleware that listens for Python Social Auth's `AuthForbidden` exceptions and maps them to rich output in a [`StaffAuthErrorView`](#staff_authviewsstaffautherrorview) page.\n\n###### `staff_auth.pipeline.promote_staffer_to_staff`\n\nA function that promotes all Slack-authenticated users to \"staff\" status (meaning they can log into the Django admin) when they first sign in with their Slack credentials.\n\n###### `staff_auth.pipeline.promote_manager_to_superuser`\n\nA function that promotes all Slack-authenticated users to \"superuser\" status (meaning they can log into the Django admin) when they first sign in with their Slack credentials \u2014 if the email address on their Slack account matches an email address found in the `settings.MANAGERS` list.\n\n###### `staff_auth.views.StaffAuthErrorView`\n\nAn error page shown to users if they try and log in via a different Slack workspace.\n\n(Note that the HTML and CSS for this view live at `./staff_auth/templates/staff_auth/auth-error.html` and `./staff_auth/static/staff_auth/css/page-styles.css`, respectively.)\n\n#### `./example/`\n\nAn example Django project that shows how we implement staff Slack access.\n\nInside this directory you'll find a standard (if threadbare) Django app, with an example `.env` file, a `Pipfile` and a `manage.py` script at the top level.\n\nInside the `exampleapp` subdirectory is this example app's `settings.py` file (where you can see an example implementation of `politico-staff-auth`'s required configuration variables), along with a `urls.py` file to demonstrate how that piece of wiring should be performed. Standard helper files including `wsgi.py` can also be found in this subdirectory.\n\n\n## Launching the example app\n\n1.  Change into the `./example/` directory one level below this README and install dependencies.\n\n    ```sh\n    cd ./example/\n    pipenv install\n    ```\n\n2.  Create a `.env` file from the `.env.example` template, and insert appropriate values.\n\n    ```sh\n    cp .env.example .env\n    ```\n\n    See the [\"Configuration\"](#configuration) section below for more information about what goes in each setting.\n\n3.  Create a new blank database, then populate it with the necessary tables.\n\n    ```sh\n    make database\n    pipenv run python manage.py migrate\n    ```\n\n4.  Start the Django test server.\n\n    ```sh\n    pipenv run python manage.py runserver\n    ```\n\n5.  Navigate to [the admin site on your test server](http://local-dev.politicoapps.com:8000/admin/) and click the \"Staff login\" button.\n\n## Installation\n\n1.  Install from PyPI:\n\n    ```sh\n    pipenv install politico-staff-auth\n    ```\n\n2.  Add `staff_auth` and `social_django` to the list of apps installed into Django.\n\n    _In your project's `settings.py`:_\n\n    ```python\n    INSTALLED_APPS = [\n      \"staff_auth\",\n\n      # ...\n      # Existing installed apps\n      # ...\n\n      \"social_django\",\n    ]\n    ```\n\n    **NOTE:** The `staff_auth` app must be first in this list (or, at least, must appear before the pre-existing line `django.contrib.admin`). The `social_django` line should appear after all apps that are distributed with Django itself.\n\n3.  Add the credentials for your staff's Slack workspace.\n\n    _In your project's `settings.py`:_\n\n    ```python\n    STAFF_AUTH_SLACK_KEY = \"auth-key\"\n\n    STAFF_AUTH_SLACK_SECRET = \"secret-key\"\n\n    STAFF_AUTH_SLACK_TEAM = \"my-value-here\"\n    ```\n\n    For more on these values, see the [\"Configuration\"](#configuration) section below.\n\n    **NOTE:** We recommend reading these values from environment variables, but there's no accounting for taste.\n\n4.  Add the required middleware for rich login error messages.\n\n    _In your project's `settings.py`:_\n\n    ```python\n    MIDDLEWARE = [\n        # ...\n        # Existing middleware\n        # ...\n\n        \"staff_auth.middleware.InvalidWorkspaceErrorMiddleware\",\n    ]\n    ```\n\n    **NOTE:** The `staff_auth.middleware.InvalidWorkspaceErrorMiddleware` entry should go at the end of the existing `MIDDLEWARE` list.\n\n5.  With the previous steps complete, you can now implement the basic staff auth settings.\n\n    _In your project's `settings.py`:_\n\n    ```python\n    from staff_auth.configured_settings import configure_staff_auth\n\n    staff_auth_settings = configure_staff_auth(\n        key=STAFF_AUTH_SLACK_KEY,\n        secret=STAFF_AUTH_SLACK_SECRET,\n        team=STAFF_AUTH_SLACK_TEAM,\n    )\n\n    for setting_name, setting_value in staff_auth_settings.items():\n        globals()[setting_name] = setting_value\n    ```\n\n6.  Set Django to use the Slack auth backend whenever users are asked to log in.\n\n    _In your project's `settings.py`:_\n\n    ```python\n    LOGIN_URL = \"staff_auth:slack-login\"\n    ```\n\n7.  Wire up the `staff_auth` and `social_django` URLs.\n\n    _In your project's top-level URLconf (`urls.py` file):_\n\n    ```python\n    urlpatterns = [\n      # ...\n      # Existing URL patterns\n      # ...\n\n      path(\"social/\", include(\"social_django.urls\", namespace=\"social\")),\n      path(\"staff-auth/\", include(\"staff_auth.urls\")),\n    ]\n    ```\n\n\n8.  _**Optional:**_ Add pipelines.\n\n    _In your project's `settings.py`:_\n\n    ```python\n    SOCIAL_AUTH_PIPELINE = (\n        \"social_core.pipeline.social_auth.social_details\",\n        \"social_core.pipeline.social_auth.social_uid\",\n        \"social_core.pipeline.social_auth.auth_allowed\",\n        \"social_core.pipeline.social_auth.social_user\",\n        \"social_core.pipeline.user.get_username\",\n        \"social_core.pipeline.user.create_user\",\n        \"social_core.pipeline.social_auth.associate_user\",\n        \"social_core.pipeline.social_auth.load_extra_data\",\n        \"staff_auth.pipeline.promote_staffer_to_staff\",\n        \"staff_auth.pipeline.promote_manager_to_superuser\",\n        \"social_core.pipeline.user.user_details\",\n    )\n    ```\n\n    You can disable either or both of the `staff_auth.pipeline` classes listed above, but please take care to preserve the order seen here \u2014 re-ordering these pipelines could produce unintended and hard-to-debug consequences.\n\n    **NOTE:** The behaviors of `staff_auth.pipeline.promote_staffer_to_staff` and `staff_auth.pipeline.promote_manager_to_superuser` are described in the [\"What's inside\"](#whats-inside) section above.\n\n    **NOTE 2:** If you're not using either `staff_auth.pipeline` class, skip this step and ensure your project's `settings.py` file has no `SOCIAL_AUTH_PIPELINE` value set.\n\n9.  _**Optional:**_ Modify the URLs where users are bounced to when they successfully log in or log out.\n\n    These are standard Django settings, and can take either URLs or named URL patterns (as you would pass to the `{% url %}` template tag).\n\n    _In your project's `settings.py`:_\n\n    ```python\n    LOGIN_REDIRECT_URL = \"/my/url/pattern/\"\n\n    LOGOUT_REDIRECT_URL = \"/namespace:view-name/\"\n    ```\n\n    **NOTE:** For more information, see the Django documentation entries [here](https://docs.djangoproject.com/en/2.2/ref/settings/#login-redirect-url) and [here](https://docs.djangoproject.com/en/2.2/ref/settings/#logout-redirect-url).\n\n\n## Configuration\n\n| Setting | What it does |\n|:--|:--|\n| `STAFF_AUTH_SLACK_KEY` | The **'Client ID'** from the Slack \"app\" you've connected to your workspace for authenticating users. Passed to Python Social Auth as `SOCIAL_AUTH_SLACK_KEY`. |\n| `STAFF_AUTH_SLACK_SECRET` | The `Client Secret` from this Slack \"app\". Passed to Python Social Auth as `SOCIAL_AUTH_SLACK_SECRET`. |\n| `STAFF_AUTH_SLACK_TEAM` | The name of the Slack workspace where your users have accounts. (A handy way of remembering this: it's also the subdomain of slack.com where users log in to use Slack itself.) Passed to Python Social Auth as `SOCIAL_AUTH_SLACK_TEAM`. |\n\n\n## Copyright\n\n&copy; 2019&ndash;present POLITICO LLC\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/The-Politico/politico-staff-auth/", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "politico-staff-auth", "package_url": "https://pypi.org/project/politico-staff-auth/", "platform": "", "project_url": "https://pypi.org/project/politico-staff-auth/", "project_urls": {"Homepage": "https://github.com/The-Politico/politico-staff-auth/"}, "release_url": "https://pypi.org/project/politico-staff-auth/0.0.5/", "requires_dist": ["social-auth-core", "social-auth-app-django", "ipython ; extra == 'dev'", "pytest ; extra == 'test'"], "requires_python": "", "summary": "Staff authentication via Slack, the POLITICO way.", "version": "0.0.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><img alt=\"POLITICO\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/28039a9dfb7f2a2fd05ff63b4deabcaf8d05311c/68747470733a2f2f706f6c697469636f2e636f6d2f696e746572616374697665732f63646e2f696d616765732f62616467652e737667\"></p>\n<pre><code>          __          _____  _____                 __  .__         \n  _______/  |______ _/ ____\\/ ____\\ _____   __ ___/  |_|  |__      \n /  ___/\\   __\\__  \\\\   __\\\\   __\\  \\__  \\ |  |  \\   __\\  |  \\     \n \\___ \\  |  |  / __ \\|  |   |  |     / __ \\|  |  /|  | |   Y  \\    \n/____  &gt; |__| (____  /__|   |__|    (____  /____/ |__| |___|  / /\\\n     \\/            \\/                    \\/                 \\/  \\/\n</code></pre>\n<h1>POLITICO staff auth</h1>\n<p>This app stores a handful of useful utilities we use across our various Django apps at POLITICO to integrate our staff authorization and authentication, which is implemented with Slack via <a href=\"https://python-social-auth.readthedocs.io/\" rel=\"nofollow\"><code>Python Social Auth</code></a>.</p>\n<h2>Requirements</h2>\n<ul>\n<li>\n<p>Python 3.6 \u2014 <code>brew install python</code></p>\n</li>\n<li>\n<p>Pipenv \u2014 <code>brew install pipenv</code></p>\n</li>\n<li>\n<p>Django (tested on versions 2.1.x and 2.2.x)</p>\n</li>\n<li>\n<p>A Slack workspace with users</p>\n</li>\n<li>\n<p>A Slack app connected to that workspace, with a \"Redirect URL\" entry matching the following pattern:</p>\n<p><code>http://&lt;your server name&gt;/social/complete/slack/</code></p>\n<p>(<strong>Note:</strong> you can have multiple \"Redirect URLs\" for the same app. For local development, you'll be aliasing <code>localhost</code> to a subdomain of your choosing, as described in the <a href=\"#domain-resolution\" rel=\"nofollow\">\"Domain resolution\"</a> section below.)</p>\n</li>\n<li>\n<p><em>Optional:</em> PostgreSQL \u2014 <code>brew install postgresql</code></p>\n</li>\n</ul>\n<h2>What's inside</h2>\n<h4><code>./staff_auth/</code></h4>\n<p>The app that handles staff Slack authorization and authentication.</p>\n<h6><code>./staff_auth/templates/admin/login.html</code> and <code>./staff_auth/static/staff_auth/css/custom-login.css</code></h6>\n<p>Custom HTML and CSS to add a \"Staff login (with Slack)\" button to the standard Django admin login form.</p>\n<h6><code>staff_auth.backend.WorkspaceSpecificSlackOAuth2</code></h6>\n<p>A subclass of Python Social Auth's Slack authentication backend. Unlike the original, this variant forces users to log in with credentials from the specified Slack workspace (rather than from any Slack workspace).</p>\n<h6><code>staff_auth.middleware.InvalidWorkspaceErrorMiddleware</code></h6>\n<p>A middleware that listens for Python Social Auth's <code>AuthForbidden</code> exceptions and maps them to rich output in a <a href=\"#staff_authviewsstaffautherrorview\" rel=\"nofollow\"><code>StaffAuthErrorView</code></a> page.</p>\n<h6><code>staff_auth.pipeline.promote_staffer_to_staff</code></h6>\n<p>A function that promotes all Slack-authenticated users to \"staff\" status (meaning they can log into the Django admin) when they first sign in with their Slack credentials.</p>\n<h6><code>staff_auth.pipeline.promote_manager_to_superuser</code></h6>\n<p>A function that promotes all Slack-authenticated users to \"superuser\" status (meaning they can log into the Django admin) when they first sign in with their Slack credentials \u2014 if the email address on their Slack account matches an email address found in the <code>settings.MANAGERS</code> list.</p>\n<h6><code>staff_auth.views.StaffAuthErrorView</code></h6>\n<p>An error page shown to users if they try and log in via a different Slack workspace.</p>\n<p>(Note that the HTML and CSS for this view live at <code>./staff_auth/templates/staff_auth/auth-error.html</code> and <code>./staff_auth/static/staff_auth/css/page-styles.css</code>, respectively.)</p>\n<h4><code>./example/</code></h4>\n<p>An example Django project that shows how we implement staff Slack access.</p>\n<p>Inside this directory you'll find a standard (if threadbare) Django app, with an example <code>.env</code> file, a <code>Pipfile</code> and a <code>manage.py</code> script at the top level.</p>\n<p>Inside the <code>exampleapp</code> subdirectory is this example app's <code>settings.py</code> file (where you can see an example implementation of <code>politico-staff-auth</code>'s required configuration variables), along with a <code>urls.py</code> file to demonstrate how that piece of wiring should be performed. Standard helper files including <code>wsgi.py</code> can also be found in this subdirectory.</p>\n<h2>Launching the example app</h2>\n<ol>\n<li>\n<p>Change into the <code>./example/</code> directory one level below this README and install dependencies.</p>\n<pre><span class=\"nb\">cd</span> ./example/\npipenv install\n</pre>\n</li>\n<li>\n<p>Create a <code>.env</code> file from the <code>.env.example</code> template, and insert appropriate values.</p>\n<pre>cp .env.example .env\n</pre>\n<p>See the <a href=\"#configuration\" rel=\"nofollow\">\"Configuration\"</a> section below for more information about what goes in each setting.</p>\n</li>\n<li>\n<p>Create a new blank database, then populate it with the necessary tables.</p>\n<pre>make database\npipenv run python manage.py migrate\n</pre>\n</li>\n<li>\n<p>Start the Django test server.</p>\n<pre>pipenv run python manage.py runserver\n</pre>\n</li>\n<li>\n<p>Navigate to <a href=\"http://local-dev.politicoapps.com:8000/admin/\" rel=\"nofollow\">the admin site on your test server</a> and click the \"Staff login\" button.</p>\n</li>\n</ol>\n<h2>Installation</h2>\n<ol>\n<li>\n<p>Install from PyPI:</p>\n<pre>pipenv install politico-staff-auth\n</pre>\n</li>\n<li>\n<p>Add <code>staff_auth</code> and <code>social_django</code> to the list of apps installed into Django.</p>\n<p><em>In your project's <code>settings.py</code>:</em></p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n  <span class=\"s2\">\"staff_auth\"</span><span class=\"p\">,</span>\n\n  <span class=\"c1\"># ...</span>\n  <span class=\"c1\"># Existing installed apps</span>\n  <span class=\"c1\"># ...</span>\n\n  <span class=\"s2\">\"social_django\"</span><span class=\"p\">,</span>\n<span class=\"p\">]</span>\n</pre>\n<p><strong>NOTE:</strong> The <code>staff_auth</code> app must be first in this list (or, at least, must appear before the pre-existing line <code>django.contrib.admin</code>). The <code>social_django</code> line should appear after all apps that are distributed with Django itself.</p>\n</li>\n<li>\n<p>Add the credentials for your staff's Slack workspace.</p>\n<p><em>In your project's <code>settings.py</code>:</em></p>\n<pre><span class=\"n\">STAFF_AUTH_SLACK_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"auth-key\"</span>\n\n<span class=\"n\">STAFF_AUTH_SLACK_SECRET</span> <span class=\"o\">=</span> <span class=\"s2\">\"secret-key\"</span>\n\n<span class=\"n\">STAFF_AUTH_SLACK_TEAM</span> <span class=\"o\">=</span> <span class=\"s2\">\"my-value-here\"</span>\n</pre>\n<p>For more on these values, see the <a href=\"#configuration\" rel=\"nofollow\">\"Configuration\"</a> section below.</p>\n<p><strong>NOTE:</strong> We recommend reading these values from environment variables, but there's no accounting for taste.</p>\n</li>\n<li>\n<p>Add the required middleware for rich login error messages.</p>\n<p><em>In your project's <code>settings.py</code>:</em></p>\n<pre><span class=\"n\">MIDDLEWARE</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"c1\"># ...</span>\n    <span class=\"c1\"># Existing middleware</span>\n    <span class=\"c1\"># ...</span>\n\n    <span class=\"s2\">\"staff_auth.middleware.InvalidWorkspaceErrorMiddleware\"</span><span class=\"p\">,</span>\n<span class=\"p\">]</span>\n</pre>\n<p><strong>NOTE:</strong> The <code>staff_auth.middleware.InvalidWorkspaceErrorMiddleware</code> entry should go at the end of the existing <code>MIDDLEWARE</code> list.</p>\n</li>\n<li>\n<p>With the previous steps complete, you can now implement the basic staff auth settings.</p>\n<p><em>In your project's <code>settings.py</code>:</em></p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">staff_auth.configured_settings</span> <span class=\"kn\">import</span> <span class=\"n\">configure_staff_auth</span>\n\n<span class=\"n\">staff_auth_settings</span> <span class=\"o\">=</span> <span class=\"n\">configure_staff_auth</span><span class=\"p\">(</span>\n    <span class=\"n\">key</span><span class=\"o\">=</span><span class=\"n\">STAFF_AUTH_SLACK_KEY</span><span class=\"p\">,</span>\n    <span class=\"n\">secret</span><span class=\"o\">=</span><span class=\"n\">STAFF_AUTH_SLACK_SECRET</span><span class=\"p\">,</span>\n    <span class=\"n\">team</span><span class=\"o\">=</span><span class=\"n\">STAFF_AUTH_SLACK_TEAM</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n\n<span class=\"k\">for</span> <span class=\"n\">setting_name</span><span class=\"p\">,</span> <span class=\"n\">setting_value</span> <span class=\"ow\">in</span> <span class=\"n\">staff_auth_settings</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n    <span class=\"nb\">globals</span><span class=\"p\">()[</span><span class=\"n\">setting_name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">setting_value</span>\n</pre>\n</li>\n<li>\n<p>Set Django to use the Slack auth backend whenever users are asked to log in.</p>\n<p><em>In your project's <code>settings.py</code>:</em></p>\n<pre><span class=\"n\">LOGIN_URL</span> <span class=\"o\">=</span> <span class=\"s2\">\"staff_auth:slack-login\"</span>\n</pre>\n</li>\n<li>\n<p>Wire up the <code>staff_auth</code> and <code>social_django</code> URLs.</p>\n<p><em>In your project's top-level URLconf (<code>urls.py</code> file):</em></p>\n<pre><span class=\"n\">urlpatterns</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n  <span class=\"c1\"># ...</span>\n  <span class=\"c1\"># Existing URL patterns</span>\n  <span class=\"c1\"># ...</span>\n\n  <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s2\">\"social/\"</span><span class=\"p\">,</span> <span class=\"n\">include</span><span class=\"p\">(</span><span class=\"s2\">\"social_django.urls\"</span><span class=\"p\">,</span> <span class=\"n\">namespace</span><span class=\"o\">=</span><span class=\"s2\">\"social\"</span><span class=\"p\">)),</span>\n  <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s2\">\"staff-auth/\"</span><span class=\"p\">,</span> <span class=\"n\">include</span><span class=\"p\">(</span><span class=\"s2\">\"staff_auth.urls\"</span><span class=\"p\">)),</span>\n<span class=\"p\">]</span>\n</pre>\n</li>\n<li>\n<p><em><strong>Optional:</strong></em> Add pipelines.</p>\n<p><em>In your project's <code>settings.py</code>:</em></p>\n<pre><span class=\"n\">SOCIAL_AUTH_PIPELINE</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"s2\">\"social_core.pipeline.social_auth.social_details\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"social_core.pipeline.social_auth.social_uid\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"social_core.pipeline.social_auth.auth_allowed\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"social_core.pipeline.social_auth.social_user\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"social_core.pipeline.user.get_username\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"social_core.pipeline.user.create_user\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"social_core.pipeline.social_auth.associate_user\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"social_core.pipeline.social_auth.load_extra_data\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"staff_auth.pipeline.promote_staffer_to_staff\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"staff_auth.pipeline.promote_manager_to_superuser\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"social_core.pipeline.user.user_details\"</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre>\n<p>You can disable either or both of the <code>staff_auth.pipeline</code> classes listed above, but please take care to preserve the order seen here \u2014 re-ordering these pipelines could produce unintended and hard-to-debug consequences.</p>\n<p><strong>NOTE:</strong> The behaviors of <code>staff_auth.pipeline.promote_staffer_to_staff</code> and <code>staff_auth.pipeline.promote_manager_to_superuser</code> are described in the <a href=\"#whats-inside\" rel=\"nofollow\">\"What's inside\"</a> section above.</p>\n<p><strong>NOTE 2:</strong> If you're not using either <code>staff_auth.pipeline</code> class, skip this step and ensure your project's <code>settings.py</code> file has no <code>SOCIAL_AUTH_PIPELINE</code> value set.</p>\n</li>\n<li>\n<p><em><strong>Optional:</strong></em> Modify the URLs where users are bounced to when they successfully log in or log out.</p>\n<p>These are standard Django settings, and can take either URLs or named URL patterns (as you would pass to the <code>{% url %}</code> template tag).</p>\n<p><em>In your project's <code>settings.py</code>:</em></p>\n<pre><span class=\"n\">LOGIN_REDIRECT_URL</span> <span class=\"o\">=</span> <span class=\"s2\">\"/my/url/pattern/\"</span>\n\n<span class=\"n\">LOGOUT_REDIRECT_URL</span> <span class=\"o\">=</span> <span class=\"s2\">\"/namespace:view-name/\"</span>\n</pre>\n<p><strong>NOTE:</strong> For more information, see the Django documentation entries <a href=\"https://docs.djangoproject.com/en/2.2/ref/settings/#login-redirect-url\" rel=\"nofollow\">here</a> and <a href=\"https://docs.djangoproject.com/en/2.2/ref/settings/#logout-redirect-url\" rel=\"nofollow\">here</a>.</p>\n</li>\n</ol>\n<h2>Configuration</h2>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Setting</th>\n<th align=\"left\">What it does</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>STAFF_AUTH_SLACK_KEY</code></td>\n<td align=\"left\">The <strong>'Client ID'</strong> from the Slack \"app\" you've connected to your workspace for authenticating users. Passed to Python Social Auth as <code>SOCIAL_AUTH_SLACK_KEY</code>.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>STAFF_AUTH_SLACK_SECRET</code></td>\n<td align=\"left\">The <code>Client Secret</code> from this Slack \"app\". Passed to Python Social Auth as <code>SOCIAL_AUTH_SLACK_SECRET</code>.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>STAFF_AUTH_SLACK_TEAM</code></td>\n<td align=\"left\">The name of the Slack workspace where your users have accounts. (A handy way of remembering this: it's also the subdomain of slack.com where users log in to use Slack itself.) Passed to Python Social Auth as <code>SOCIAL_AUTH_SLACK_TEAM</code>.</td>\n</tr></tbody></table>\n<h2>Copyright</h2>\n<p>\u00a9 2019\u2013present POLITICO LLC</p>\n\n          </div>"}, "last_serial": 6007942, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "93e021bffb9ac6eff79cc3030b4b9155", "sha256": "6f0870c1b61b486aa34aa2d8af774aeb25f73e9db582ca790f796fa34743cd2d"}, "downloads": -1, "filename": "politico_staff_auth-0.0.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "93e021bffb9ac6eff79cc3030b4b9155", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 11815, "upload_time": "2019-09-18T19:02:01", "upload_time_iso_8601": "2019-09-18T19:02:01.220010Z", "url": "https://files.pythonhosted.org/packages/6c/20/990b3a607c018393487b22b92614fd988f799ae3011003223a925232fdae/politico_staff_auth-0.0.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0170c4ebd38c9f9592b92ef544a67bcd", "sha256": "b3e2d6501954b7986604dee3b15b06955dfdbee8284981bda06307618da9881c"}, "downloads": -1, "filename": "politico-staff-auth-0.0.1.tar.gz", "has_sig": false, "md5_digest": "0170c4ebd38c9f9592b92ef544a67bcd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9926, "upload_time": "2019-09-18T19:02:03", "upload_time_iso_8601": "2019-09-18T19:02:03.754322Z", "url": "https://files.pythonhosted.org/packages/fd/5d/682eb2d4a41a9d2e963d8508f01efd33c866d2ab388eb58cdbdc4192a03f/politico-staff-auth-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "c67f639ffcae6d14cfe3e919ddb0e9ba", "sha256": "85569ed53d99d34d6cd8d7c41231acb05859a49053a945395192f5ec3c74b699"}, "downloads": -1, "filename": "politico_staff_auth-0.0.2-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "c67f639ffcae6d14cfe3e919ddb0e9ba", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 14016, "upload_time": "2019-09-18T19:07:57", "upload_time_iso_8601": "2019-09-18T19:07:57.849713Z", "url": "https://files.pythonhosted.org/packages/2a/cf/58b3574aaaea1ee166dbdd0f42d3d777a6a0203bfe50361cc2f0f4413174/politico_staff_auth-0.0.2-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "80726be2df792952d1410fb571067283", "sha256": "006a7cec8b92881b562625cb89d2b608e8b74104448ece6df58253d648f6f82e"}, "downloads": -1, "filename": "politico-staff-auth-0.0.2.tar.gz", "has_sig": false, "md5_digest": "80726be2df792952d1410fb571067283", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11591, "upload_time": "2019-09-18T19:07:59", "upload_time_iso_8601": "2019-09-18T19:07:59.743934Z", "url": "https://files.pythonhosted.org/packages/e6/e8/e2941f5a5cc5636c222c9feaf779faf8455e047911128dde4a46ff9323d3/politico-staff-auth-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "e8e4e42f974bc5a7d3510f829f1fd67c", "sha256": "6ead9c7a85ca125f6661d3f9539f186e537c300a451b854361e7a4b12a019598"}, "downloads": -1, "filename": "politico_staff_auth-0.0.3-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "e8e4e42f974bc5a7d3510f829f1fd67c", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 14110, "upload_time": "2019-09-18T19:19:04", "upload_time_iso_8601": "2019-09-18T19:19:04.029877Z", "url": "https://files.pythonhosted.org/packages/d1/ca/ce494b3fc4c6e1c016b26d1cb23c8e309eecb4b8c50e2ef6b2cc54b6654b/politico_staff_auth-0.0.3-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "301e8696d18513a748b44dcad77ce963", "sha256": "163cf9d935585bed4840e7c7b10cf150727d87320bbce47387d7d3524068a780"}, "downloads": -1, "filename": "politico-staff-auth-0.0.3.tar.gz", "has_sig": false, "md5_digest": "301e8696d18513a748b44dcad77ce963", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11674, "upload_time": "2019-09-18T19:19:05", "upload_time_iso_8601": "2019-09-18T19:19:05.932203Z", "url": "https://files.pythonhosted.org/packages/d9/3b/74b4b7195ba8f709e43877c37e82e03f878766babfaf30aaa4debae20683/politico-staff-auth-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "e481969a2edbb9cd04ed880723cf615c", "sha256": "62fa1ff1d2523568111a072ff7a5a28392bbabea3d58143058ee5c1d783c1ecc"}, "downloads": -1, "filename": "politico_staff_auth-0.0.4-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "e481969a2edbb9cd04ed880723cf615c", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 14236, "upload_time": "2019-09-23T19:53:22", "upload_time_iso_8601": "2019-09-23T19:53:22.122878Z", "url": "https://files.pythonhosted.org/packages/38/e3/832cd99a40cb4aee8ac70c03245d836dda2352cb730f1ad274ae7d329eaa/politico_staff_auth-0.0.4-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bc4891c79b669d77c25753dc00532058", "sha256": "034e40101abf1afa1de7da1b22622efc8f68af94e5c057db5332b6b2ec12d37e"}, "downloads": -1, "filename": "politico-staff-auth-0.0.4.tar.gz", "has_sig": false, "md5_digest": "bc4891c79b669d77c25753dc00532058", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11870, "upload_time": "2019-09-23T19:53:24", "upload_time_iso_8601": "2019-09-23T19:53:24.342777Z", "url": "https://files.pythonhosted.org/packages/b3/a4/65c7b0c68e9c36f7ac126d1dd1d4c2aaf295598916edb8eff00644731854/politico-staff-auth-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "8c673d31e6f08dd3ad635578d5a0dec2", "sha256": "e7a2ad6ec85e6a5cad66bec4d376933096b9579fd1d3e3b81118e81457d0ba6a"}, "downloads": -1, "filename": "politico_staff_auth-0.0.5-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "8c673d31e6f08dd3ad635578d5a0dec2", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 14111, "upload_time": "2019-09-23T20:18:21", "upload_time_iso_8601": "2019-09-23T20:18:21.281395Z", "url": "https://files.pythonhosted.org/packages/81/83/437eed3280041cdac8ae191c02553079d08569dd454b4f54510d9d350090/politico_staff_auth-0.0.5-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bb4812ba15f3abb53ac3657fabbbe2e2", "sha256": "0f23dfad5e7216c58825966f01815c7511a4599f168501c0ee6f1ec9e60a298a"}, "downloads": -1, "filename": "politico-staff-auth-0.0.5.tar.gz", "has_sig": false, "md5_digest": "bb4812ba15f3abb53ac3657fabbbe2e2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11684, "upload_time": "2019-09-23T20:18:24", "upload_time_iso_8601": "2019-09-23T20:18:24.877875Z", "url": "https://files.pythonhosted.org/packages/ba/0d/1cdb10f3b9b19fab3a70593835018486a8b764801a15509c25ed384e9f35/politico-staff-auth-0.0.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "8c673d31e6f08dd3ad635578d5a0dec2", "sha256": "e7a2ad6ec85e6a5cad66bec4d376933096b9579fd1d3e3b81118e81457d0ba6a"}, "downloads": -1, "filename": "politico_staff_auth-0.0.5-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "8c673d31e6f08dd3ad635578d5a0dec2", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 14111, "upload_time": "2019-09-23T20:18:21", "upload_time_iso_8601": "2019-09-23T20:18:21.281395Z", "url": "https://files.pythonhosted.org/packages/81/83/437eed3280041cdac8ae191c02553079d08569dd454b4f54510d9d350090/politico_staff_auth-0.0.5-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "bb4812ba15f3abb53ac3657fabbbe2e2", "sha256": "0f23dfad5e7216c58825966f01815c7511a4599f168501c0ee6f1ec9e60a298a"}, "downloads": -1, "filename": "politico-staff-auth-0.0.5.tar.gz", "has_sig": false, "md5_digest": "bb4812ba15f3abb53ac3657fabbbe2e2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11684, "upload_time": "2019-09-23T20:18:24", "upload_time_iso_8601": "2019-09-23T20:18:24.877875Z", "url": "https://files.pythonhosted.org/packages/ba/0d/1cdb10f3b9b19fab3a70593835018486a8b764801a15509c25ed384e9f35/politico-staff-auth-0.0.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:51:52 2020"}
{"info": {"author": "Shawn Wallis", "author_email": "shawn.p.wallis@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Database", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: Utilities"], "description": "#################\npsycopg2-pgevents\n#################\n\n.. image:: https://circleci.com/gh/shawalli/psycopg2-pgevents.svg?style=svg\n    :target: https://circleci.com/gh/shawalli/psycopg2-pgevents\n.. image:: https://coveralls.io/repos/github/shawalli/psycopg2-pgevents/badge.svg?branch=master\n    :target: https://coveralls.io/github/shawalli/psycopg2-pgevents?branch=master\n.. image:: https://img.shields.io/badge/License-MIT-yellow.svg\n    :target: https://opensource.org/licenses/MIT\n\nThis package makes it simple to use PostGreSQL's NOTIFY/LISTEN eventing system\nfrom Python in a consistent, pleasing manner.\n\nNote that this project officially supports Python 3.6+. This is primarily due\nto static typing.\n\n*******\nExample\n*******\n\nThe following shows an example of the package in action.\n\nAssumptions\n-----------\n\n - PostGreSQL server is running locally.\n - default database (``postgres``) is available.\n - table exists in database in the public schema with the name ``orders``.\n\n.. code-block:: python\n\n    from psycopg2 import connect\n    from psycopg2_pgevents.trigger import install_trigger, \\\n        install_trigger_function, uninstall_trigger, uninstall_trigger_function\n    from psycopg2_pgevents.event import poll, register_event_channel, \\\n        unregister_event_channel\n\n    connection = connect(dsn='postgres:///postgres')\n    connection.autocommit = True\n\n    install_trigger_function(connection)\n    install_trigger(connection, 'orders')\n    register_event_channel(connection)\n\n    try:\n        print('Listening for events...')\n        while True:\n            for evt in poll(connection):\n                print('New Event: {}'.format(evt))\n    except KeyboardInterrupt:\n        print('User exit via Ctrl-C; Shutting down...')\n        unregister_event_channel(connection)\n        uninstall_trigger(connection, 'orders')\n        uninstall_trigger_function(connection)\n        print('Shutdown complete.')\n\n***************\nTroubleshooting\n***************\n\n* The connection's ``autocommit`` property must be enabled for this package to\n  operate correctly. This requirement is provided by PostGreSQL's NOTIFY/LISTEN\n  mechanism.\n\n* The same connection that is used with ``register_event_channel()`` must be\n  used with ``poll()`` in order to receive events. This is due to the nature of\n  how PostGreSQL manages \"listening\" connections.\n\n* If the table that you'd like to listen to is not in the public schema, the\n  schema name must be given as a keyword argument in the ``install_trigger()``\n  method.\n\n**********************\nAuthorship and License\n**********************\n\nWritten by Shawn Wallis and distributed under the MIT license.", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/shawalli/psycopg2-pgevents", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "psycopg2-pgevents", "package_url": "https://pypi.org/project/psycopg2-pgevents/", "platform": "any", "project_url": "https://pypi.org/project/psycopg2-pgevents/", "project_urls": {"Homepage": "https://github.com/shawalli/psycopg2-pgevents"}, "release_url": "https://pypi.org/project/psycopg2-pgevents/0.1.1/", "requires_dist": null, "requires_python": "", "summary": "PostGreSQL LISTEN/NOTIFY functionality, via psycopg2.", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://circleci.com/gh/shawalli/psycopg2-pgevents\" rel=\"nofollow\"><img alt=\"https://circleci.com/gh/shawalli/psycopg2-pgevents.svg?style=svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/64879cda5c44d7cac05bf188b2d970cd28eff2ec/68747470733a2f2f636972636c6563692e636f6d2f67682f73686177616c6c692f707379636f7067322d70676576656e74732e7376673f7374796c653d737667\"></a>\n<a href=\"https://coveralls.io/github/shawalli/psycopg2-pgevents?branch=master\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/github/shawalli/psycopg2-pgevents/badge.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6cf9bad3ae0a448626c4962141b834f5b0fc3d03/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f73686177616c6c692f707379636f7067322d70676576656e74732f62616467652e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://opensource.org/licenses/MIT\" rel=\"nofollow\"><img alt=\"https://img.shields.io/badge/License-MIT-yellow.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8645b002dd7ec1b54275a80574942e7a318e03c6/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d79656c6c6f772e737667\"></a>\n<p>This package makes it simple to use PostGreSQL\u2019s NOTIFY/LISTEN eventing system\nfrom Python in a consistent, pleasing manner.</p>\n<p>Note that this project officially supports Python 3.6+. This is primarily due\nto static typing.</p>\n<div id=\"example\">\n<h2>Example</h2>\n<p>The following shows an example of the package in action.</p>\n<div id=\"assumptions\">\n<h3>Assumptions</h3>\n<blockquote>\n<ul>\n<li>PostGreSQL server is running locally.</li>\n<li>default database (<tt>postgres</tt>) is available.</li>\n<li>table exists in database in the public schema with the name <tt>orders</tt>.</li>\n</ul>\n</blockquote>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">psycopg2</span> <span class=\"kn\">import</span> <span class=\"n\">connect</span>\n<span class=\"kn\">from</span> <span class=\"nn\">psycopg2_pgevents.trigger</span> <span class=\"kn\">import</span> <span class=\"n\">install_trigger</span><span class=\"p\">,</span> \\\n    <span class=\"n\">install_trigger_function</span><span class=\"p\">,</span> <span class=\"n\">uninstall_trigger</span><span class=\"p\">,</span> <span class=\"n\">uninstall_trigger_function</span>\n<span class=\"kn\">from</span> <span class=\"nn\">psycopg2_pgevents.event</span> <span class=\"kn\">import</span> <span class=\"n\">poll</span><span class=\"p\">,</span> <span class=\"n\">register_event_channel</span><span class=\"p\">,</span> \\\n    <span class=\"n\">unregister_event_channel</span>\n\n<span class=\"n\">connection</span> <span class=\"o\">=</span> <span class=\"n\">connect</span><span class=\"p\">(</span><span class=\"n\">dsn</span><span class=\"o\">=</span><span class=\"s1\">'postgres:///postgres'</span><span class=\"p\">)</span>\n<span class=\"n\">connection</span><span class=\"o\">.</span><span class=\"n\">autocommit</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n\n<span class=\"n\">install_trigger_function</span><span class=\"p\">(</span><span class=\"n\">connection</span><span class=\"p\">)</span>\n<span class=\"n\">install_trigger</span><span class=\"p\">(</span><span class=\"n\">connection</span><span class=\"p\">,</span> <span class=\"s1\">'orders'</span><span class=\"p\">)</span>\n<span class=\"n\">register_event_channel</span><span class=\"p\">(</span><span class=\"n\">connection</span><span class=\"p\">)</span>\n\n<span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Listening for events...'</span><span class=\"p\">)</span>\n    <span class=\"k\">while</span> <span class=\"kc\">True</span><span class=\"p\">:</span>\n        <span class=\"k\">for</span> <span class=\"n\">evt</span> <span class=\"ow\">in</span> <span class=\"n\">poll</span><span class=\"p\">(</span><span class=\"n\">connection</span><span class=\"p\">):</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'New Event: </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">evt</span><span class=\"p\">))</span>\n<span class=\"k\">except</span> <span class=\"ne\">KeyboardInterrupt</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'User exit via Ctrl-C; Shutting down...'</span><span class=\"p\">)</span>\n    <span class=\"n\">unregister_event_channel</span><span class=\"p\">(</span><span class=\"n\">connection</span><span class=\"p\">)</span>\n    <span class=\"n\">uninstall_trigger</span><span class=\"p\">(</span><span class=\"n\">connection</span><span class=\"p\">,</span> <span class=\"s1\">'orders'</span><span class=\"p\">)</span>\n    <span class=\"n\">uninstall_trigger_function</span><span class=\"p\">(</span><span class=\"n\">connection</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'Shutdown complete.'</span><span class=\"p\">)</span>\n</pre>\n</div>\n</div>\n<div id=\"troubleshooting\">\n<h2>Troubleshooting</h2>\n<ul>\n<li>The connection\u2019s <tt>autocommit</tt> property must be enabled for this package to\noperate correctly. This requirement is provided by PostGreSQL\u2019s NOTIFY/LISTEN\nmechanism.</li>\n<li>The same connection that is used with <tt>register_event_channel()</tt> must be\nused with <tt>poll()</tt> in order to receive events. This is due to the nature of\nhow PostGreSQL manages \u201clistening\u201d connections.</li>\n<li>If the table that you\u2019d like to listen to is not in the public schema, the\nschema name must be given as a keyword argument in the <tt>install_trigger()</tt>\nmethod.</li>\n</ul>\n</div>\n<div id=\"authorship-and-license\">\n<h2>Authorship and License</h2>\n<p>Written by Shawn Wallis and distributed under the MIT license.</p>\n</div>\n\n          </div>"}, "last_serial": 4275365, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "a651efe523fd618860ca1cad947cfa5f", "sha256": "bad81c2b52081169f98d6c4353b2d0c4944b5fabcb70c0d0753c96f6c933aefd"}, "downloads": -1, "filename": "psycopg2-pgevents-0.1.0.tar.gz", "has_sig": false, "md5_digest": "a651efe523fd618860ca1cad947cfa5f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9145, "upload_time": "2018-09-11T10:57:40", "upload_time_iso_8601": "2018-09-11T10:57:40.865467Z", "url": "https://files.pythonhosted.org/packages/d7/d4/7a262096c319d9ab20225806da114b93b03b810dffece9fcbf8c02746d02/psycopg2-pgevents-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "4c6f74d4776a412b3d91ee480b89e7ba", "sha256": "f0f1ac536863dceee02e7be677401f02ae96f21b4088aebf4f4a94a86983525f"}, "downloads": -1, "filename": "psycopg2_pgevents-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "4c6f74d4776a412b3d91ee480b89e7ba", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9725, "upload_time": "2018-09-15T18:43:02", "upload_time_iso_8601": "2018-09-15T18:43:02.590659Z", "url": "https://files.pythonhosted.org/packages/5a/bf/b1fec09f772d8b2bf8d9f3c7e11f29bc2ea732ce4a74ed2f5f9cebaece01/psycopg2_pgevents-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7bf01d2908413ea6dc4b5e3e20ae4a12", "sha256": "ee73068e22e66cc4c5fa8fcfb5b5ca0da6879f203c3b43aab4786f96c1975e0e"}, "downloads": -1, "filename": "psycopg2-pgevents-0.1.1.tar.gz", "has_sig": false, "md5_digest": "7bf01d2908413ea6dc4b5e3e20ae4a12", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9170, "upload_time": "2018-09-15T18:12:50", "upload_time_iso_8601": "2018-09-15T18:12:50.539246Z", "url": "https://files.pythonhosted.org/packages/f1/a5/fee64c8e0c2fc4a2f2de31b5679dd7c04b2c135db6d4e9ada4d527fdc3d1/psycopg2-pgevents-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "4c6f74d4776a412b3d91ee480b89e7ba", "sha256": "f0f1ac536863dceee02e7be677401f02ae96f21b4088aebf4f4a94a86983525f"}, "downloads": -1, "filename": "psycopg2_pgevents-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "4c6f74d4776a412b3d91ee480b89e7ba", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9725, "upload_time": "2018-09-15T18:43:02", "upload_time_iso_8601": "2018-09-15T18:43:02.590659Z", "url": "https://files.pythonhosted.org/packages/5a/bf/b1fec09f772d8b2bf8d9f3c7e11f29bc2ea732ce4a74ed2f5f9cebaece01/psycopg2_pgevents-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7bf01d2908413ea6dc4b5e3e20ae4a12", "sha256": "ee73068e22e66cc4c5fa8fcfb5b5ca0da6879f203c3b43aab4786f96c1975e0e"}, "downloads": -1, "filename": "psycopg2-pgevents-0.1.1.tar.gz", "has_sig": false, "md5_digest": "7bf01d2908413ea6dc4b5e3e20ae4a12", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9170, "upload_time": "2018-09-15T18:12:50", "upload_time_iso_8601": "2018-09-15T18:12:50.539246Z", "url": "https://files.pythonhosted.org/packages/f1/a5/fee64c8e0c2fc4a2f2de31b5679dd7c04b2c135db6d4e9ada4d527fdc3d1/psycopg2-pgevents-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:15:29 2020"}
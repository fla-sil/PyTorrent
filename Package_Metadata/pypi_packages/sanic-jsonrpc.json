{"info": {"author": "Dmitry Galkin", "author_email": "mon4ter@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8"], "description": "# sanic-jsonrpc\n[![PyPI version](https://img.shields.io/pypi/v/sanic-jsonrpc.svg)](https://pypi.org/project/sanic-jsonrpc)\n[![Python version](https://img.shields.io/pypi/pyversions/sanic-jsonrpc.svg)](https://pypi.org/project/sanic-jsonrpc)\n[![Build Status](https://travis-ci.org/mon4ter/sanic-jsonrpc.svg?branch=master)](https://travis-ci.org/mon4ter/sanic-jsonrpc)\n[![codecov](https://codecov.io/gh/mon4ter/sanic-jsonrpc/branch/master/graph/badge.svg)](https://codecov.io/gh/mon4ter/sanic-jsonrpc)\n\nJSON-RPC 2.0 support for Sanic over HTTP and WebSocket\n\n## Features\n\n* Complete JSON-RPC 2.0 Specification implementation, including [batch](https://www.jsonrpc.org/specification#batch)\n* Annotation based type validation\n* Request and/or Notification routing\n* Server side Notifications\n* Access to app and request objects via annotation\n\n## Example\n\n### server.py\n```python\nfrom sanic import Sanic\nfrom sanic_jsonrpc import SanicJsonrpc\n\napp = Sanic('server')\njsonrpc = SanicJsonrpc(app, post_route='/api/rpc/post', ws_route='/api/rpc/ws')\n\n@jsonrpc\ndef sub(a: int, b: int) -> int:\n    return a - b\n\nif __name__ == '__main__':\n    app.run(host='127.0.0.1', port=8000)\n```\n\n### client.py\n```python\nfrom asyncio import get_event_loop\n\nfrom aiohttp import ClientSession\n\nasync def main():\n    url = 'http://127.0.0.1:8000/api/rpc'\n    request = {'jsonrpc': '2.0', 'method': 'sub', 'params': [42, 23], 'id': 1}\n\n    async with ClientSession() as session:\n        async with session.post(url + '/post', json=request) as resp:\n            response = await resp.json()\n            print(response['result'])  # 19\n\n        async with session.ws_connect(url + '/ws') as ws:\n            await ws.send_json(request)\n            response = await ws.receive_json()\n            print(response['result'])  # 19\n\nif __name__ == '__main__':\n    get_event_loop().run_until_complete(main())\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/mon4ter/sanic-jsonrpc", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "sanic-jsonrpc", "package_url": "https://pypi.org/project/sanic-jsonrpc/", "platform": "", "project_url": "https://pypi.org/project/sanic-jsonrpc/", "project_urls": {"Homepage": "https://github.com/mon4ter/sanic-jsonrpc"}, "release_url": "https://pypi.org/project/sanic-jsonrpc/0.2.2/", "requires_dist": ["Sanic", "fashionable", "ujson", "websockets"], "requires_python": "", "summary": "JSON-RPC 2.0 support for Sanic over HTTP and WebSocket", "version": "0.2.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>sanic-jsonrpc</h1>\n<p><a href=\"https://pypi.org/project/sanic-jsonrpc\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7c4d8f8120148d58e3b452b9c1ec23c07885722d/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f73616e69632d6a736f6e7270632e737667\"></a>\n<a href=\"https://pypi.org/project/sanic-jsonrpc\" rel=\"nofollow\"><img alt=\"Python version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/092295956ab21bf86d6e60670c3af7300222d568/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f73616e69632d6a736f6e7270632e737667\"></a>\n<a href=\"https://travis-ci.org/mon4ter/sanic-jsonrpc\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/27def6aae8392661f3fc4d64d1b82eb8c2391af3/68747470733a2f2f7472617669732d63692e6f72672f6d6f6e347465722f73616e69632d6a736f6e7270632e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/mon4ter/sanic-jsonrpc\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d4b7dd8460efef6f1c67413d2b493dbbcd63c046/68747470733a2f2f636f6465636f762e696f2f67682f6d6f6e347465722f73616e69632d6a736f6e7270632f6272616e63682f6d61737465722f67726170682f62616467652e737667\"></a></p>\n<p>JSON-RPC 2.0 support for Sanic over HTTP and WebSocket</p>\n<h2>Features</h2>\n<ul>\n<li>Complete JSON-RPC 2.0 Specification implementation, including <a href=\"https://www.jsonrpc.org/specification#batch\" rel=\"nofollow\">batch</a></li>\n<li>Annotation based type validation</li>\n<li>Request and/or Notification routing</li>\n<li>Server side Notifications</li>\n<li>Access to app and request objects via annotation</li>\n</ul>\n<h2>Example</h2>\n<h3>server.py</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">sanic</span> <span class=\"kn\">import</span> <span class=\"n\">Sanic</span>\n<span class=\"kn\">from</span> <span class=\"nn\">sanic_jsonrpc</span> <span class=\"kn\">import</span> <span class=\"n\">SanicJsonrpc</span>\n\n<span class=\"n\">app</span> <span class=\"o\">=</span> <span class=\"n\">Sanic</span><span class=\"p\">(</span><span class=\"s1\">'server'</span><span class=\"p\">)</span>\n<span class=\"n\">jsonrpc</span> <span class=\"o\">=</span> <span class=\"n\">SanicJsonrpc</span><span class=\"p\">(</span><span class=\"n\">app</span><span class=\"p\">,</span> <span class=\"n\">post_route</span><span class=\"o\">=</span><span class=\"s1\">'/api/rpc/post'</span><span class=\"p\">,</span> <span class=\"n\">ws_route</span><span class=\"o\">=</span><span class=\"s1\">'/api/rpc/ws'</span><span class=\"p\">)</span>\n\n<span class=\"nd\">@jsonrpc</span>\n<span class=\"k\">def</span> <span class=\"nf\">sub</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">:</span> <span class=\"nb\">int</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">:</span> <span class=\"nb\">int</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"nb\">int</span><span class=\"p\">:</span>\n    <span class=\"k\">return</span> <span class=\"n\">a</span> <span class=\"o\">-</span> <span class=\"n\">b</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n    <span class=\"n\">app</span><span class=\"o\">.</span><span class=\"n\">run</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">8000</span><span class=\"p\">)</span>\n</pre>\n<h3>client.py</h3>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">asyncio</span> <span class=\"kn\">import</span> <span class=\"n\">get_event_loop</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">aiohttp</span> <span class=\"kn\">import</span> <span class=\"n\">ClientSession</span>\n\n<span class=\"k\">async</span> <span class=\"k\">def</span> <span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"s1\">'http://127.0.0.1:8000/api/rpc'</span>\n    <span class=\"n\">request</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'jsonrpc'</span><span class=\"p\">:</span> <span class=\"s1\">'2.0'</span><span class=\"p\">,</span> <span class=\"s1\">'method'</span><span class=\"p\">:</span> <span class=\"s1\">'sub'</span><span class=\"p\">,</span> <span class=\"s1\">'params'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mi\">42</span><span class=\"p\">,</span> <span class=\"mi\">23</span><span class=\"p\">],</span> <span class=\"s1\">'id'</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">}</span>\n\n    <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">ClientSession</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">session</span><span class=\"p\">:</span>\n        <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">(</span><span class=\"n\">url</span> <span class=\"o\">+</span> <span class=\"s1\">'/post'</span><span class=\"p\">,</span> <span class=\"n\">json</span><span class=\"o\">=</span><span class=\"n\">request</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">resp</span><span class=\"p\">:</span>\n            <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">resp</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">[</span><span class=\"s1\">'result'</span><span class=\"p\">])</span>  <span class=\"c1\"># 19</span>\n\n        <span class=\"k\">async</span> <span class=\"k\">with</span> <span class=\"n\">session</span><span class=\"o\">.</span><span class=\"n\">ws_connect</span><span class=\"p\">(</span><span class=\"n\">url</span> <span class=\"o\">+</span> <span class=\"s1\">'/ws'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">ws</span><span class=\"p\">:</span>\n            <span class=\"k\">await</span> <span class=\"n\">ws</span><span class=\"o\">.</span><span class=\"n\">send_json</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">)</span>\n            <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"n\">ws</span><span class=\"o\">.</span><span class=\"n\">receive_json</span><span class=\"p\">()</span>\n            <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">[</span><span class=\"s1\">'result'</span><span class=\"p\">])</span>  <span class=\"c1\"># 19</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n    <span class=\"n\">get_event_loop</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">run_until_complete</span><span class=\"p\">(</span><span class=\"n\">main</span><span class=\"p\">())</span>\n</pre>\n\n          </div>"}, "last_serial": 6747191, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "8d865f97091094a643460e9a09b82476", "sha256": "6f679384ed781889b68bf4c58bc8af1300eda5d1247fe95c5addc251d7fe6a28"}, "downloads": -1, "filename": "sanic-jsonrpc-0.0.1.tar.gz", "has_sig": false, "md5_digest": "8d865f97091094a643460e9a09b82476", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2703, "upload_time": "2019-08-12T03:37:31", "upload_time_iso_8601": "2019-08-12T03:37:31.283486Z", "url": "https://files.pythonhosted.org/packages/73/8b/226e82f7786e0fa0aee35ab93f90409a4cf79d15dbbda5e98ce653505153/sanic-jsonrpc-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "b295c8f2d6a0b1fe63098d8b29dcba2b", "sha256": "689cf59982218629f4d91ac793fa56f1b6cb93eae31a284bac2214d997abd4d2"}, "downloads": -1, "filename": "sanic-jsonrpc-0.0.2.tar.gz", "has_sig": false, "md5_digest": "b295c8f2d6a0b1fe63098d8b29dcba2b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3844, "upload_time": "2019-08-19T01:51:46", "upload_time_iso_8601": "2019-08-19T01:51:46.142227Z", "url": "https://files.pythonhosted.org/packages/b8/9d/ba6af8755bd6fd404901a22e83532f28326a35e28c20ca2d2319f871b7a2/sanic-jsonrpc-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "a46913c3fafb28b2206910ded53b2ef0", "sha256": "a114ef49f51988d39faaae149f02cb189b38d24d84d1024c0c5211993268ee59"}, "downloads": -1, "filename": "sanic-jsonrpc-0.0.3.tar.gz", "has_sig": false, "md5_digest": "a46913c3fafb28b2206910ded53b2ef0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5132, "upload_time": "2019-08-30T08:58:46", "upload_time_iso_8601": "2019-08-30T08:58:46.108782Z", "url": "https://files.pythonhosted.org/packages/1d/e9/8afb6bb58f349dde624e8ca9eff54e1b400dadd15853559ebbcb0b8a68f3/sanic-jsonrpc-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "f365e299f572e238175299cae02dfad1", "sha256": "276aedb111e3a22818d3a5a552d37e4c7a9a2138095370a3e80ebf24c7cdeb2d"}, "downloads": -1, "filename": "sanic-jsonrpc-0.0.4.tar.gz", "has_sig": false, "md5_digest": "f365e299f572e238175299cae02dfad1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5207, "upload_time": "2019-09-06T11:51:48", "upload_time_iso_8601": "2019-09-06T11:51:48.181978Z", "url": "https://files.pythonhosted.org/packages/f2/8a/4c5de5548ae302d36c76b4fc8f5cbf322dcccb8e2e3f7765544a3479408c/sanic-jsonrpc-0.0.4.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "1a517e8196181814eb8ffad0f92e9f41", "sha256": "c04c81a6754defb4f3b9fcfab69af94ed9f8981734dcea72d789c84d6c17243f"}, "downloads": -1, "filename": "sanic-jsonrpc-0.1.0.tar.gz", "has_sig": false, "md5_digest": "1a517e8196181814eb8ffad0f92e9f41", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5127, "upload_time": "2019-09-21T07:46:33", "upload_time_iso_8601": "2019-09-21T07:46:33.418702Z", "url": "https://files.pythonhosted.org/packages/9e/2d/77f97f6fe4a75d381922a753161ce273a22682530724910b391e3ae23af3/sanic-jsonrpc-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "de7bab7afc6aca10c2aea3a2133d3b67", "sha256": "7248f4417cb28e0a47194d236e4bf90caae076e09d3d97b4943ef8a41dca3c2e"}, "downloads": -1, "filename": "sanic-jsonrpc-0.1.1.tar.gz", "has_sig": false, "md5_digest": "de7bab7afc6aca10c2aea3a2133d3b67", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5657, "upload_time": "2019-09-21T07:53:41", "upload_time_iso_8601": "2019-09-21T07:53:41.933310Z", "url": "https://files.pythonhosted.org/packages/84/67/e62d472f734cbad1a8cf24385ebd1afbfa602fd83a0a2df47d248fe9f3c3/sanic-jsonrpc-0.1.1.tar.gz", "yanked": false}], "0.2.2": [{"comment_text": "", "digests": {"md5": "69e6c0e319e5ebdba79d668e41cae5ce", "sha256": "75e263b7b3ba698ae7ea57cbe04369354f217b5cb68f12a30892d4b07accdea4"}, "downloads": -1, "filename": "sanic_jsonrpc-0.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "69e6c0e319e5ebdba79d668e41cae5ce", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 13158, "upload_time": "2020-03-04T11:28:46", "upload_time_iso_8601": "2020-03-04T11:28:46.881521Z", "url": "https://files.pythonhosted.org/packages/df/5e/5338c23a503eeb5d2d39159f27ecf71cc7575585ba85dace657f43073b14/sanic_jsonrpc-0.2.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "107be108473857dcbbd46dc64f957d7f", "sha256": "5175015e2140936ac47a6e0b43192b87998b8ad4d68af95c1f389decf90c08ec"}, "downloads": -1, "filename": "sanic-jsonrpc-0.2.2.tar.gz", "has_sig": false, "md5_digest": "107be108473857dcbbd46dc64f957d7f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8136, "upload_time": "2020-03-04T11:28:48", "upload_time_iso_8601": "2020-03-04T11:28:48.023564Z", "url": "https://files.pythonhosted.org/packages/df/fe/7ffc872a00f418edbd28b07628d7d3fd28d78220939927a5f304600f056b/sanic-jsonrpc-0.2.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "69e6c0e319e5ebdba79d668e41cae5ce", "sha256": "75e263b7b3ba698ae7ea57cbe04369354f217b5cb68f12a30892d4b07accdea4"}, "downloads": -1, "filename": "sanic_jsonrpc-0.2.2-py3-none-any.whl", "has_sig": false, "md5_digest": "69e6c0e319e5ebdba79d668e41cae5ce", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 13158, "upload_time": "2020-03-04T11:28:46", "upload_time_iso_8601": "2020-03-04T11:28:46.881521Z", "url": "https://files.pythonhosted.org/packages/df/5e/5338c23a503eeb5d2d39159f27ecf71cc7575585ba85dace657f43073b14/sanic_jsonrpc-0.2.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "107be108473857dcbbd46dc64f957d7f", "sha256": "5175015e2140936ac47a6e0b43192b87998b8ad4d68af95c1f389decf90c08ec"}, "downloads": -1, "filename": "sanic-jsonrpc-0.2.2.tar.gz", "has_sig": false, "md5_digest": "107be108473857dcbbd46dc64f957d7f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8136, "upload_time": "2020-03-04T11:28:48", "upload_time_iso_8601": "2020-03-04T11:28:48.023564Z", "url": "https://files.pythonhosted.org/packages/df/fe/7ffc872a00f418edbd28b07628d7d3fd28d78220939927a5f304600f056b/sanic-jsonrpc-0.2.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:58:45 2020"}
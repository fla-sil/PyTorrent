{"info": {"author": "Nguy\u1ec5n H\u1ed3ng Qu\u00e2n", "author_email": "ng.hong.quan@gmail.com", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: Apache Software License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Programming Language :: Python :: 3 :: Only", "Topic :: Internet", "Topic :: Utilities"], "description": "==========\nFireGoRest\n==========\n\n\nSome utilties to work with Google Firestore API.\n\nFirst utility is ``firegorest.tidy_doc``, to make a neat data dictionary from the `event`_ passed by Google Cloud runtime to your cloud function.\n\nInstall\n-------\n\n    pip install firegorest\n\n\nExample\n-------\n\n.. code-block:: python\n\n    from logbook import Logger\n    from firegorest import tidy_doc\n    from firegorest.types import GCFContext\n\n    logger = Logger(__name__)\n\n\n    def act_on_customer_change(event: dict, context: GCFContext):\n        try:\n            logger.info('Old Value: {}', tidy_doc(event['oldValue']['fields']))\n        except KeyError:\n            pass\n        try:\n            logger.info('New Value: {}', tidy_doc(event['value']['fields']))\n        except KeyError:\n            pass\n        resource = context.resource\n        logger.debug('Resource: {}', resource)\n        return True\n\n\n\n.. _event: https://cloud.google.com/functions/docs/calling/cloud-firestore#event_structure\n", "description_content_type": "text/x-rst", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/sunshine-tech/FireGoRest.git", "keywords": "google,cloud,firestore,functions", "license": "Apache-2.0", "maintainer": "Nguy\u1ec5n H\u1ed3ng Qu\u00e2n", "maintainer_email": "ng.hong.quan@gmail.com", "name": "firegorest", "package_url": "https://pypi.org/project/firegorest/", "platform": "", "project_url": "https://pypi.org/project/firegorest/", "project_urls": {"Homepage": "https://github.com/sunshine-tech/FireGoRest.git", "Repository": "https://github.com/sunshine-tech/FireGoRest.git"}, "release_url": "https://pypi.org/project/firegorest/0.1.0/", "requires_dist": ["importlib_metadata (>=1.4.0,<2.0.0)", "iso8601 (>=0.1.12,<0.2.0)"], "requires_python": ">=3.7,<4.0", "summary": "Some utilties to work with Google Firestore API.", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Some utilties to work with Google Firestore API.</p>\n<p>First utility is <tt>firegorest.tidy_doc</tt>, to make a neat data dictionary from the <a href=\"https://cloud.google.com/functions/docs/calling/cloud-firestore#event_structure\" rel=\"nofollow\">event</a> passed by Google Cloud runtime to your cloud function.</p>\n<div id=\"install\">\n<h2>Install</h2>\n<blockquote>\npip install firegorest</blockquote>\n</div>\n<div id=\"example\">\n<h2>Example</h2>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">logbook</span> <span class=\"kn\">import</span> <span class=\"n\">Logger</span>\n<span class=\"kn\">from</span> <span class=\"nn\">firegorest</span> <span class=\"kn\">import</span> <span class=\"n\">tidy_doc</span>\n<span class=\"kn\">from</span> <span class=\"nn\">firegorest.types</span> <span class=\"kn\">import</span> <span class=\"n\">GCFContext</span>\n\n<span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"n\">Logger</span><span class=\"p\">(</span><span class=\"vm\">__name__</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">act_on_customer_change</span><span class=\"p\">(</span><span class=\"n\">event</span><span class=\"p\">:</span> <span class=\"nb\">dict</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">:</span> <span class=\"n\">GCFContext</span><span class=\"p\">):</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">'Old Value: </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"p\">,</span> <span class=\"n\">tidy_doc</span><span class=\"p\">(</span><span class=\"n\">event</span><span class=\"p\">[</span><span class=\"s1\">'oldValue'</span><span class=\"p\">][</span><span class=\"s1\">'fields'</span><span class=\"p\">]))</span>\n    <span class=\"k\">except</span> <span class=\"ne\">KeyError</span><span class=\"p\">:</span>\n        <span class=\"k\">pass</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s1\">'New Value: </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"p\">,</span> <span class=\"n\">tidy_doc</span><span class=\"p\">(</span><span class=\"n\">event</span><span class=\"p\">[</span><span class=\"s1\">'value'</span><span class=\"p\">][</span><span class=\"s1\">'fields'</span><span class=\"p\">]))</span>\n    <span class=\"k\">except</span> <span class=\"ne\">KeyError</span><span class=\"p\">:</span>\n        <span class=\"k\">pass</span>\n    <span class=\"n\">resource</span> <span class=\"o\">=</span> <span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">resource</span>\n    <span class=\"n\">logger</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s1\">'Resource: </span><span class=\"si\">{}</span><span class=\"s1\">'</span><span class=\"p\">,</span> <span class=\"n\">resource</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"kc\">True</span>\n</pre>\n</div>\n\n          </div>"}, "last_serial": 6485223, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "416c09765cdcb21be589f38d7bc4465c", "sha256": "125c205d0af7d67be28ed22ce058170ba7c805a1c44b8df5cd4d3bdc184ded3a"}, "downloads": -1, "filename": "firegorest-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "416c09765cdcb21be589f38d7bc4465c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 3553, "upload_time": "2020-01-20T08:04:24", "upload_time_iso_8601": "2020-01-20T08:04:24.452847Z", "url": "https://files.pythonhosted.org/packages/2c/0e/3586e06a7c8e05802a35afd5776b5d1b8db017d6a01c72c71947420d7e7f/firegorest-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3d03fc2ba6c3e31673c351bf819fdc99", "sha256": "5eb626184d75cf6436c2636783a3da5ae2f50935e9f218968f098c8b16846aef"}, "downloads": -1, "filename": "firegorest-0.1.0.tar.gz", "has_sig": false, "md5_digest": "3d03fc2ba6c3e31673c351bf819fdc99", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 3256, "upload_time": "2020-01-20T08:04:26", "upload_time_iso_8601": "2020-01-20T08:04:26.752934Z", "url": "https://files.pythonhosted.org/packages/75/e3/f3210df0a8884da8fcb938f692400ed27225ba120a77b9dea5d83e5c38f0/firegorest-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "416c09765cdcb21be589f38d7bc4465c", "sha256": "125c205d0af7d67be28ed22ce058170ba7c805a1c44b8df5cd4d3bdc184ded3a"}, "downloads": -1, "filename": "firegorest-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "416c09765cdcb21be589f38d7bc4465c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7,<4.0", "size": 3553, "upload_time": "2020-01-20T08:04:24", "upload_time_iso_8601": "2020-01-20T08:04:24.452847Z", "url": "https://files.pythonhosted.org/packages/2c/0e/3586e06a7c8e05802a35afd5776b5d1b8db017d6a01c72c71947420d7e7f/firegorest-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "3d03fc2ba6c3e31673c351bf819fdc99", "sha256": "5eb626184d75cf6436c2636783a3da5ae2f50935e9f218968f098c8b16846aef"}, "downloads": -1, "filename": "firegorest-0.1.0.tar.gz", "has_sig": false, "md5_digest": "3d03fc2ba6c3e31673c351bf819fdc99", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7,<4.0", "size": 3256, "upload_time": "2020-01-20T08:04:26", "upload_time_iso_8601": "2020-01-20T08:04:26.752934Z", "url": "https://files.pythonhosted.org/packages/75/e3/f3210df0a8884da8fcb938f692400ed27225ba120a77b9dea5d83e5c38f0/firegorest-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:42:13 2020"}
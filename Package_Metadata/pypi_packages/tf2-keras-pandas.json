{"info": {"author": "Brendan Herger & Jordan Osborn", "author_email": "jordan@osborn.dev", "bugtrack_url": null, "classifiers": [], "description": "# tf2-keras-pandas\n[![Documentation Status](https://readthedocs.org/projects/keras-pandas/badge/?version=latest)](https://keras-pandas.readthedocs.io/en/latest/?badge=latest)\n\n**tl;dr:** keras-pandas allows users to rapidly build and iterate on deep learning models. Updated for tensorflow 2.0\n\nGetting data formatted and into keras can be tedious, time consuming, and require domain expertise, whether your a \nveteran or new to Deep Learning. `keras-pandas` overcomes these issues by (automatically) providing:\n\n - **Data transformations**: A cleaned, transformed and correctly formatted `X` and `y` (good for keras, sklearn or any \n other ML \n platform)\n - **Data piping**: Correctly formatted keras input, hidden and output layers to quickly start iterating on  \n\nThese approaches are build on best in world approaches from practitioners, kaggle grand masters, papers, blog posts, \nand coffee chats, to simple entry point into the world of deep learning, and a strong foundation for deep learning \nexperts.  \n\nFor more info, check out the:\n\n - [Code](https://github.com/jordanosborn/tf2-keras-pandas)\n - [Documentation](http://keras-pandas.readthedocs.io/en/latest/intro.html)\n - [PyPi](https://pypi.org/project/tf2-keras-pandas/)\n - [Issue tracker](https://github.com/bjherger/keras-pandas/issues)\n\n## Quick Start\n\nLet's build a model with the [lending club data set](https://www.lendingclub.com/info/download-data.action). This data set is \nparticularly fun because this data set contains a mix of text, categorical and numerical data types, and features a \nlot of null values. \n\n```bash\npip install --upgrade tf2-keras-pandas\n```\n\n```python\nfrom tensorflow.keras import Model\nfrom keras_pandas import lib\nfrom keras_pandas.Automater import Automater\nfrom sklearn.model_selection import train_test_split\n\n# Load data\nobservations = lib.load_lending_club()\n\n# Train /test split\ntrain_observations, test_observations = train_test_split(observations)\ntrain_observations = train_observations.copy()\ntest_observations = test_observations.copy()\n\n# List out variable types\n\ndata_type_dict = {'numerical': ['loan_amnt', 'annual_inc', 'open_acc', 'dti', 'delinq_2yrs',\n                                'inq_last_6mths', 'mths_since_last_delinq', 'pub_rec', 'revol_bal',\n                                'revol_util',\n                                'total_acc', 'pub_rec_bankruptcies'],\n                  'categorical': ['term', 'grade', 'emp_length', 'home_ownership', 'loan_status', 'addr_state',\n                                  'application_type', 'disbursement_method'],\n                  'text': ['desc', 'purpose', 'title']}\noutput_var = 'loan_status'\n\n# Create and fit Automater\nauto = Automater(data_type_dict=data_type_dict, output_var=output_var)\nauto.fit(train_observations)\n\n# Transform data\ntrain_X, train_y = auto.fit_transform(train_observations)\ntest_X, test_y = auto.transform(test_observations)\n\n# Create and fit keras (deep learning) model.\nx = auto.input_nub\nx = auto.output_nub(x)\n\nmodel = Model(inputs=auto.input_layers, outputs=x)\nmodel.compile(optimizer='adam', loss=auto.suggest_loss())\n```\n\nAnd that's it! In a couple of lines, we've created a model that accepts a few dozen variables, and can create a world\n class deep learning model\n\n## Usage\n\n### Installation\n\nYou can install `tf2-keras-pandas` with `pip`:\n\n```bash\npip install -U tf2-keras-pandas\n```\n\n### Creating an Automater\n\nThe `Automater` object is the central object in `keras-pandas`. It accepts a dictionary of the format `{'datatype': \n['var1', var2']}`\n\nFor example we could create an automater using the built in `numerical`, `categorical`, and `text` datatypes, by \ncalling: \n\n```python\n# List out variable types\ndata_type_dict = {'numerical': ['loan_amnt', 'annual_inc', 'open_acc', 'dti', 'delinq_2yrs',\n                                'inq_last_6mths', 'mths_since_last_delinq', 'pub_rec', 'revol_bal',\n                                'revol_util',\n                                'total_acc', 'pub_rec_bankruptcies'],\n                  'categorical': ['term', 'grade', 'emp_length', 'home_ownership', 'loan_status', 'addr_state',\n                                  'application_type', 'disbursement_method'],\n                  'text': ['desc', 'purpose', 'title']}\noutput_var = 'loan_status'\n\n# Create and fit Automater\nauto = Automater(data_type_dict=data_type_dict, output_var=output_var)\n```\n\nAs a side note, the response variable must be in one of the variable type lists (e.g. `loan_status` is in `categorical_vars`)\n\n#### One variable type\n\nIf you only have one variable type, only use one variable type!\n\n```python\n# List out variable types\ndata_type_dict = {'categorical': ['term', 'grade', 'emp_length', 'home_ownership', 'loan_status', 'addr_state',\n                                  'application_type', 'disbursement_method']}\noutput_var = 'loan_status'\n\n# Create and fit Automater\nauto = Automater(data_type_dict=data_type_dict, output_var=output_var)\n```\n\n#### Multiple variable types\n\nIf you have multiple variable types, feel free to use all of them! Built in datatypes are listed in `Automater.datatype_handlers`\n\n```python\n# List out variable types\ndata_type_dict = {'numerical': ['loan_amnt', 'annual_inc', 'open_acc', 'dti', 'delinq_2yrs',\n                                'inq_last_6mths', 'mths_since_last_delinq', 'pub_rec', 'revol_bal',\n                                'revol_util',\n                                'total_acc', 'pub_rec_bankruptcies'],\n                  'categorical': ['term', 'grade', 'emp_length', 'home_ownership', 'loan_status', 'addr_state',\n                                  'application_type', 'disbursement_method'],\n                  'text': ['desc', 'purpose', 'title']}\noutput_var = 'loan_status'\n\n# Create and fit Automater\nauto = Automater(data_type_dict=data_type_dict, output_var=output_var)\n```\n\n#### Custom datatypes\n\nIf there's a specific datatype you'd like to use that's not built in (such as images, videos, or geospatial), you can \ninclude it by using `Automater`'s `datatype_handlers` parameter. \n\nA template datatype can be found in `keras_pandas/data_types/Abstract.py`. Filling out this template will yield a new\n datatype handler. If you're happy with your work and want to share your new datatype handler, create a PR (and check\n  out `contributing.md`)\n\n#### No `output_var`\n\nIf your model doesn't need a response var, or your use case doesn't use `keras-pandas`'s output functionality, you \ncan skip the `output_var` by setting it to None\n\n```python\n# List out variable types\ndata_type_dict = {'categorical': ['term', 'grade', 'emp_length', 'home_ownership', 'loan_status', 'addr_state',\n                                  'application_type', 'disbursement_method']}\noutput_var = None\n\n# Create and fit Automater\nauto = Automater(data_type_dict=data_type_dict, output_var=output_var)\n```\n\n### Fitting the Automater\n\nBefore use, the `Automator` must be fit. The `fit()` method accepts a pandas DataFrame, which must contain all of the \ncolumns listed during initialization.\n\n```python\nauto.fit(observations)\n```\n\n### Transforming data\n\nNow, we can use our `Automater` to transform the dataset, from a pandas DataFrame to numpy objects properly formatted\nfor Keras's input and output layers. \n\n```python\nX, y = auto.transform(observations, df_out=False)\n```\n\nThis will return two objects:\n\n  - `X`: An array, containing numpy object for each Keras input. This is generally one Keras input for each user \n  input variable. \n  - `y`: A numpy object, containing the response variable (if one was provided) \n\n### Using input / output nubs\n\nSetting up correctly formatted, heuristically 'good' input and output layers is often\n\n - Tedious\n - Time consuming\n - Difficult for those new to Keras\n\nWith this in mind, `keras-pandas` provides correctly formatted input and output 'nubs'. \n\nThe input nub is correctly formatted to accept the output from `auto.transform()`. It contains one Keras Input layer \nfor each generated input, may contain addition layers, and has all input piplines joined with a `Concatenate` layer. \n\nThe output layer is correctly formatted to accept the response variable numpy object.  \n\n## Changelog\n\n - PR title (#PR number, or #Issue if no PR)\n - There's nothing here! (yet)\n\n### Development\n\n - Updated README and setup.py links (No PR)\n\n### 3.1.0\n\n - Add boolean datatype (#104)\n - Added Contributing.md section for new datatypes (#101)\n - Added datatypes to docs in index.rst (#101)\n - Modified documentation to automatically generate API docs (#101)\n\n\n### 3.0.1\n\n - Changing CI to Circleci (#100)\n - Adding datatypes to CONTRIBUTING.md, adding CONTRIBUTING.md to docs (#96)\n - Adding docs badge (#95)\n - Adding support for unusual variable names / format keras names to be valid in name scope (#92)\n - Adding examples (#93)\n - Upgraded `requests` library to `requests==2.20.1`, based on security concern (#94)\n\n\n### 3.0.0\n\nBrand new release, with\n\nAdded\n\n - New `Datatype` interface, with easier to understand pipelines for each datatype\n   - All existing datatypes (`Numerical`, `Categorical`, `Text` & `TimeSeries`) re-implmented in this new format\n   - Support for custom data types generated by users\n   - Duck-typing helper method (`keras_pandas/lib.check_valid_datatype()`) to confirm that a datatype has valid \n   signature\n - New testing, streamlined and standardized\n - Support for transforming unseen categorical levels, via the `UNK` token (experimental)\n\nModified\n\n - Updated `Automater` interface, which accepts a dictionary of data types\n - Heavily updated README\n - More consistent logging and data formatting for sample data sets\n\nRemoved\n\n - Removed examples, will be re-implemented in future release\n - All existing unittests\n - Bulk of new datatypes in `contributing.md`, will be re-added in future release\n\n### 2.2.0\n\n - Add timeseries support (#78)\n - Add timeseries examples (#79)\n\n### 2.1.0\n\n - Boolean support deprecated. Boolean (bool) data type can be treated as a special case of categorical data types\n\n### 2.0.2\n\n - Remove a lot of the unnecessary dependencies (#75)\n - Update dependencies to contemporary versions (#74)\n\n### 2.0.1\n\n - Fix issue w/ PyPi conflict\n\n### 2.0.0\n\n - Adding CI/CD and PyPi links, and updating contact section w/ about the author (#70)\n - Major rewrite / update of examples (#72)\n   - Fixes bug in embedding transformer. Embeddings will now be at least length 1. \n   - Add functionality to check if `resp_var` is in the list of user provided variables\n   - Added better null filling w/ `CategoricalImputer`\n   - Added filling unseen values w/ `CategoricalImputer`\n   - Converted default transformer pipeline to use `copy.deepcopy` instead of `copy.copy`. This was a hotfix for a \n   previously unknown issue. \n   - Standardizing setting logging level, only in test base class and examples (when `__main__`)\n\n\n### 1.3.5\n\n - Adding regression example w/ inverse_transformation (#64)\n - Fixing issue where web socket connections were being opened needlessly (#65)\n\n### 1.3.4\n\n - Adding `Manifest.in`, with including files references in `setup.py` (#54) \n\n### 1.3.2\n\n - Fixed poorly written text embedding index unit test (#52)\n - Added license (#49)\n\n### Earlier\n\n - Lots of things happened. Break things and move fast \n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/jordanosborn/tf2-keras-pandas", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "tf2-keras-pandas", "package_url": "https://pypi.org/project/tf2-keras-pandas/", "platform": "", "project_url": "https://pypi.org/project/tf2-keras-pandas/", "project_urls": {"Code": "https://github.com/jordanosborn/tf2-keras-pandas", "Documentation": "http://keras-pandas.readthedocs.io/en/latest/intro.html", "Homepage": "https://github.com/jordanosborn/tf2-keras-pandas", "Issue tracker": "https://github.com/jordanosborn/tf2-keras-pandas/issues", "PyPi": "https://pypi.org/project/tf2-keras-pandas/"}, "release_url": "https://pypi.org/project/tf2-keras-pandas/3.1.8/", "requires_dist": ["gensim (==3.8)", "h5py (==2.8.0)", "m2r (==0.2.1)", "numpy (==1.17)", "pandas (==0.25.1)", "requests (==2.22)", "scikit-learn (==0.21.3)", "sklearn-pandas (==1.8.0)", "tensorflow (==2.0.0)", "xlrd (==1.2.0)"], "requires_python": "", "summary": "Easy and rapid deep learning - updated for tensorflow 2.0", "version": "3.1.8", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>tf2-keras-pandas</h1>\n<p><a href=\"https://keras-pandas.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e1a18d7738e76a873659d27931c6a91b19c529c1/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f6b657261732d70616e6461732f62616467652f3f76657273696f6e3d6c6174657374\"></a></p>\n<p><strong>tl;dr:</strong> keras-pandas allows users to rapidly build and iterate on deep learning models. Updated for tensorflow 2.0</p>\n<p>Getting data formatted and into keras can be tedious, time consuming, and require domain expertise, whether your a\nveteran or new to Deep Learning. <code>keras-pandas</code> overcomes these issues by (automatically) providing:</p>\n<ul>\n<li><strong>Data transformations</strong>: A cleaned, transformed and correctly formatted <code>X</code> and <code>y</code> (good for keras, sklearn or any\nother ML\nplatform)</li>\n<li><strong>Data piping</strong>: Correctly formatted keras input, hidden and output layers to quickly start iterating on</li>\n</ul>\n<p>These approaches are build on best in world approaches from practitioners, kaggle grand masters, papers, blog posts,\nand coffee chats, to simple entry point into the world of deep learning, and a strong foundation for deep learning\nexperts.</p>\n<p>For more info, check out the:</p>\n<ul>\n<li><a href=\"https://github.com/jordanosborn/tf2-keras-pandas\" rel=\"nofollow\">Code</a></li>\n<li><a href=\"http://keras-pandas.readthedocs.io/en/latest/intro.html\" rel=\"nofollow\">Documentation</a></li>\n<li><a href=\"https://pypi.org/project/tf2-keras-pandas/\" rel=\"nofollow\">PyPi</a></li>\n<li><a href=\"https://github.com/bjherger/keras-pandas/issues\" rel=\"nofollow\">Issue tracker</a></li>\n</ul>\n<h2>Quick Start</h2>\n<p>Let's build a model with the <a href=\"https://www.lendingclub.com/info/download-data.action\" rel=\"nofollow\">lending club data set</a>. This data set is\nparticularly fun because this data set contains a mix of text, categorical and numerical data types, and features a\nlot of null values.</p>\n<pre>pip install --upgrade tf2-keras-pandas\n</pre>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">tensorflow.keras</span> <span class=\"kn\">import</span> <span class=\"n\">Model</span>\n<span class=\"kn\">from</span> <span class=\"nn\">keras_pandas</span> <span class=\"kn\">import</span> <span class=\"n\">lib</span>\n<span class=\"kn\">from</span> <span class=\"nn\">keras_pandas.Automater</span> <span class=\"kn\">import</span> <span class=\"n\">Automater</span>\n<span class=\"kn\">from</span> <span class=\"nn\">sklearn.model_selection</span> <span class=\"kn\">import</span> <span class=\"n\">train_test_split</span>\n\n<span class=\"c1\"># Load data</span>\n<span class=\"n\">observations</span> <span class=\"o\">=</span> <span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">load_lending_club</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Train /test split</span>\n<span class=\"n\">train_observations</span><span class=\"p\">,</span> <span class=\"n\">test_observations</span> <span class=\"o\">=</span> <span class=\"n\">train_test_split</span><span class=\"p\">(</span><span class=\"n\">observations</span><span class=\"p\">)</span>\n<span class=\"n\">train_observations</span> <span class=\"o\">=</span> <span class=\"n\">train_observations</span><span class=\"o\">.</span><span class=\"n\">copy</span><span class=\"p\">()</span>\n<span class=\"n\">test_observations</span> <span class=\"o\">=</span> <span class=\"n\">test_observations</span><span class=\"o\">.</span><span class=\"n\">copy</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># List out variable types</span>\n\n<span class=\"n\">data_type_dict</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'numerical'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'loan_amnt'</span><span class=\"p\">,</span> <span class=\"s1\">'annual_inc'</span><span class=\"p\">,</span> <span class=\"s1\">'open_acc'</span><span class=\"p\">,</span> <span class=\"s1\">'dti'</span><span class=\"p\">,</span> <span class=\"s1\">'delinq_2yrs'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'inq_last_6mths'</span><span class=\"p\">,</span> <span class=\"s1\">'mths_since_last_delinq'</span><span class=\"p\">,</span> <span class=\"s1\">'pub_rec'</span><span class=\"p\">,</span> <span class=\"s1\">'revol_bal'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'revol_util'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'total_acc'</span><span class=\"p\">,</span> <span class=\"s1\">'pub_rec_bankruptcies'</span><span class=\"p\">],</span>\n                  <span class=\"s1\">'categorical'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'term'</span><span class=\"p\">,</span> <span class=\"s1\">'grade'</span><span class=\"p\">,</span> <span class=\"s1\">'emp_length'</span><span class=\"p\">,</span> <span class=\"s1\">'home_ownership'</span><span class=\"p\">,</span> <span class=\"s1\">'loan_status'</span><span class=\"p\">,</span> <span class=\"s1\">'addr_state'</span><span class=\"p\">,</span>\n                                  <span class=\"s1\">'application_type'</span><span class=\"p\">,</span> <span class=\"s1\">'disbursement_method'</span><span class=\"p\">],</span>\n                  <span class=\"s1\">'text'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'desc'</span><span class=\"p\">,</span> <span class=\"s1\">'purpose'</span><span class=\"p\">,</span> <span class=\"s1\">'title'</span><span class=\"p\">]}</span>\n<span class=\"n\">output_var</span> <span class=\"o\">=</span> <span class=\"s1\">'loan_status'</span>\n\n<span class=\"c1\"># Create and fit Automater</span>\n<span class=\"n\">auto</span> <span class=\"o\">=</span> <span class=\"n\">Automater</span><span class=\"p\">(</span><span class=\"n\">data_type_dict</span><span class=\"o\">=</span><span class=\"n\">data_type_dict</span><span class=\"p\">,</span> <span class=\"n\">output_var</span><span class=\"o\">=</span><span class=\"n\">output_var</span><span class=\"p\">)</span>\n<span class=\"n\">auto</span><span class=\"o\">.</span><span class=\"n\">fit</span><span class=\"p\">(</span><span class=\"n\">train_observations</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Transform data</span>\n<span class=\"n\">train_X</span><span class=\"p\">,</span> <span class=\"n\">train_y</span> <span class=\"o\">=</span> <span class=\"n\">auto</span><span class=\"o\">.</span><span class=\"n\">fit_transform</span><span class=\"p\">(</span><span class=\"n\">train_observations</span><span class=\"p\">)</span>\n<span class=\"n\">test_X</span><span class=\"p\">,</span> <span class=\"n\">test_y</span> <span class=\"o\">=</span> <span class=\"n\">auto</span><span class=\"o\">.</span><span class=\"n\">transform</span><span class=\"p\">(</span><span class=\"n\">test_observations</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Create and fit keras (deep learning) model.</span>\n<span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">auto</span><span class=\"o\">.</span><span class=\"n\">input_nub</span>\n<span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">auto</span><span class=\"o\">.</span><span class=\"n\">output_nub</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">)</span>\n\n<span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">Model</span><span class=\"p\">(</span><span class=\"n\">inputs</span><span class=\"o\">=</span><span class=\"n\">auto</span><span class=\"o\">.</span><span class=\"n\">input_layers</span><span class=\"p\">,</span> <span class=\"n\">outputs</span><span class=\"o\">=</span><span class=\"n\">x</span><span class=\"p\">)</span>\n<span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">compile</span><span class=\"p\">(</span><span class=\"n\">optimizer</span><span class=\"o\">=</span><span class=\"s1\">'adam'</span><span class=\"p\">,</span> <span class=\"n\">loss</span><span class=\"o\">=</span><span class=\"n\">auto</span><span class=\"o\">.</span><span class=\"n\">suggest_loss</span><span class=\"p\">())</span>\n</pre>\n<p>And that's it! In a couple of lines, we've created a model that accepts a few dozen variables, and can create a world\nclass deep learning model</p>\n<h2>Usage</h2>\n<h3>Installation</h3>\n<p>You can install <code>tf2-keras-pandas</code> with <code>pip</code>:</p>\n<pre>pip install -U tf2-keras-pandas\n</pre>\n<h3>Creating an Automater</h3>\n<p>The <code>Automater</code> object is the central object in <code>keras-pandas</code>. It accepts a dictionary of the format <code>{'datatype': ['var1', var2']}</code></p>\n<p>For example we could create an automater using the built in <code>numerical</code>, <code>categorical</code>, and <code>text</code> datatypes, by\ncalling:</p>\n<pre><span class=\"c1\"># List out variable types</span>\n<span class=\"n\">data_type_dict</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'numerical'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'loan_amnt'</span><span class=\"p\">,</span> <span class=\"s1\">'annual_inc'</span><span class=\"p\">,</span> <span class=\"s1\">'open_acc'</span><span class=\"p\">,</span> <span class=\"s1\">'dti'</span><span class=\"p\">,</span> <span class=\"s1\">'delinq_2yrs'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'inq_last_6mths'</span><span class=\"p\">,</span> <span class=\"s1\">'mths_since_last_delinq'</span><span class=\"p\">,</span> <span class=\"s1\">'pub_rec'</span><span class=\"p\">,</span> <span class=\"s1\">'revol_bal'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'revol_util'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'total_acc'</span><span class=\"p\">,</span> <span class=\"s1\">'pub_rec_bankruptcies'</span><span class=\"p\">],</span>\n                  <span class=\"s1\">'categorical'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'term'</span><span class=\"p\">,</span> <span class=\"s1\">'grade'</span><span class=\"p\">,</span> <span class=\"s1\">'emp_length'</span><span class=\"p\">,</span> <span class=\"s1\">'home_ownership'</span><span class=\"p\">,</span> <span class=\"s1\">'loan_status'</span><span class=\"p\">,</span> <span class=\"s1\">'addr_state'</span><span class=\"p\">,</span>\n                                  <span class=\"s1\">'application_type'</span><span class=\"p\">,</span> <span class=\"s1\">'disbursement_method'</span><span class=\"p\">],</span>\n                  <span class=\"s1\">'text'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'desc'</span><span class=\"p\">,</span> <span class=\"s1\">'purpose'</span><span class=\"p\">,</span> <span class=\"s1\">'title'</span><span class=\"p\">]}</span>\n<span class=\"n\">output_var</span> <span class=\"o\">=</span> <span class=\"s1\">'loan_status'</span>\n\n<span class=\"c1\"># Create and fit Automater</span>\n<span class=\"n\">auto</span> <span class=\"o\">=</span> <span class=\"n\">Automater</span><span class=\"p\">(</span><span class=\"n\">data_type_dict</span><span class=\"o\">=</span><span class=\"n\">data_type_dict</span><span class=\"p\">,</span> <span class=\"n\">output_var</span><span class=\"o\">=</span><span class=\"n\">output_var</span><span class=\"p\">)</span>\n</pre>\n<p>As a side note, the response variable must be in one of the variable type lists (e.g. <code>loan_status</code> is in <code>categorical_vars</code>)</p>\n<h4>One variable type</h4>\n<p>If you only have one variable type, only use one variable type!</p>\n<pre><span class=\"c1\"># List out variable types</span>\n<span class=\"n\">data_type_dict</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'categorical'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'term'</span><span class=\"p\">,</span> <span class=\"s1\">'grade'</span><span class=\"p\">,</span> <span class=\"s1\">'emp_length'</span><span class=\"p\">,</span> <span class=\"s1\">'home_ownership'</span><span class=\"p\">,</span> <span class=\"s1\">'loan_status'</span><span class=\"p\">,</span> <span class=\"s1\">'addr_state'</span><span class=\"p\">,</span>\n                                  <span class=\"s1\">'application_type'</span><span class=\"p\">,</span> <span class=\"s1\">'disbursement_method'</span><span class=\"p\">]}</span>\n<span class=\"n\">output_var</span> <span class=\"o\">=</span> <span class=\"s1\">'loan_status'</span>\n\n<span class=\"c1\"># Create and fit Automater</span>\n<span class=\"n\">auto</span> <span class=\"o\">=</span> <span class=\"n\">Automater</span><span class=\"p\">(</span><span class=\"n\">data_type_dict</span><span class=\"o\">=</span><span class=\"n\">data_type_dict</span><span class=\"p\">,</span> <span class=\"n\">output_var</span><span class=\"o\">=</span><span class=\"n\">output_var</span><span class=\"p\">)</span>\n</pre>\n<h4>Multiple variable types</h4>\n<p>If you have multiple variable types, feel free to use all of them! Built in datatypes are listed in <code>Automater.datatype_handlers</code></p>\n<pre><span class=\"c1\"># List out variable types</span>\n<span class=\"n\">data_type_dict</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'numerical'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'loan_amnt'</span><span class=\"p\">,</span> <span class=\"s1\">'annual_inc'</span><span class=\"p\">,</span> <span class=\"s1\">'open_acc'</span><span class=\"p\">,</span> <span class=\"s1\">'dti'</span><span class=\"p\">,</span> <span class=\"s1\">'delinq_2yrs'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'inq_last_6mths'</span><span class=\"p\">,</span> <span class=\"s1\">'mths_since_last_delinq'</span><span class=\"p\">,</span> <span class=\"s1\">'pub_rec'</span><span class=\"p\">,</span> <span class=\"s1\">'revol_bal'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'revol_util'</span><span class=\"p\">,</span>\n                                <span class=\"s1\">'total_acc'</span><span class=\"p\">,</span> <span class=\"s1\">'pub_rec_bankruptcies'</span><span class=\"p\">],</span>\n                  <span class=\"s1\">'categorical'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'term'</span><span class=\"p\">,</span> <span class=\"s1\">'grade'</span><span class=\"p\">,</span> <span class=\"s1\">'emp_length'</span><span class=\"p\">,</span> <span class=\"s1\">'home_ownership'</span><span class=\"p\">,</span> <span class=\"s1\">'loan_status'</span><span class=\"p\">,</span> <span class=\"s1\">'addr_state'</span><span class=\"p\">,</span>\n                                  <span class=\"s1\">'application_type'</span><span class=\"p\">,</span> <span class=\"s1\">'disbursement_method'</span><span class=\"p\">],</span>\n                  <span class=\"s1\">'text'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'desc'</span><span class=\"p\">,</span> <span class=\"s1\">'purpose'</span><span class=\"p\">,</span> <span class=\"s1\">'title'</span><span class=\"p\">]}</span>\n<span class=\"n\">output_var</span> <span class=\"o\">=</span> <span class=\"s1\">'loan_status'</span>\n\n<span class=\"c1\"># Create and fit Automater</span>\n<span class=\"n\">auto</span> <span class=\"o\">=</span> <span class=\"n\">Automater</span><span class=\"p\">(</span><span class=\"n\">data_type_dict</span><span class=\"o\">=</span><span class=\"n\">data_type_dict</span><span class=\"p\">,</span> <span class=\"n\">output_var</span><span class=\"o\">=</span><span class=\"n\">output_var</span><span class=\"p\">)</span>\n</pre>\n<h4>Custom datatypes</h4>\n<p>If there's a specific datatype you'd like to use that's not built in (such as images, videos, or geospatial), you can\ninclude it by using <code>Automater</code>'s <code>datatype_handlers</code> parameter.</p>\n<p>A template datatype can be found in <code>keras_pandas/data_types/Abstract.py</code>. Filling out this template will yield a new\ndatatype handler. If you're happy with your work and want to share your new datatype handler, create a PR (and check\nout <code>contributing.md</code>)</p>\n<h4>No <code>output_var</code></h4>\n<p>If your model doesn't need a response var, or your use case doesn't use <code>keras-pandas</code>'s output functionality, you\ncan skip the <code>output_var</code> by setting it to None</p>\n<pre><span class=\"c1\"># List out variable types</span>\n<span class=\"n\">data_type_dict</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'categorical'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'term'</span><span class=\"p\">,</span> <span class=\"s1\">'grade'</span><span class=\"p\">,</span> <span class=\"s1\">'emp_length'</span><span class=\"p\">,</span> <span class=\"s1\">'home_ownership'</span><span class=\"p\">,</span> <span class=\"s1\">'loan_status'</span><span class=\"p\">,</span> <span class=\"s1\">'addr_state'</span><span class=\"p\">,</span>\n                                  <span class=\"s1\">'application_type'</span><span class=\"p\">,</span> <span class=\"s1\">'disbursement_method'</span><span class=\"p\">]}</span>\n<span class=\"n\">output_var</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n\n<span class=\"c1\"># Create and fit Automater</span>\n<span class=\"n\">auto</span> <span class=\"o\">=</span> <span class=\"n\">Automater</span><span class=\"p\">(</span><span class=\"n\">data_type_dict</span><span class=\"o\">=</span><span class=\"n\">data_type_dict</span><span class=\"p\">,</span> <span class=\"n\">output_var</span><span class=\"o\">=</span><span class=\"n\">output_var</span><span class=\"p\">)</span>\n</pre>\n<h3>Fitting the Automater</h3>\n<p>Before use, the <code>Automator</code> must be fit. The <code>fit()</code> method accepts a pandas DataFrame, which must contain all of the\ncolumns listed during initialization.</p>\n<pre><span class=\"n\">auto</span><span class=\"o\">.</span><span class=\"n\">fit</span><span class=\"p\">(</span><span class=\"n\">observations</span><span class=\"p\">)</span>\n</pre>\n<h3>Transforming data</h3>\n<p>Now, we can use our <code>Automater</code> to transform the dataset, from a pandas DataFrame to numpy objects properly formatted\nfor Keras's input and output layers.</p>\n<pre><span class=\"n\">X</span><span class=\"p\">,</span> <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">auto</span><span class=\"o\">.</span><span class=\"n\">transform</span><span class=\"p\">(</span><span class=\"n\">observations</span><span class=\"p\">,</span> <span class=\"n\">df_out</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n</pre>\n<p>This will return two objects:</p>\n<ul>\n<li><code>X</code>: An array, containing numpy object for each Keras input. This is generally one Keras input for each user\ninput variable.</li>\n<li><code>y</code>: A numpy object, containing the response variable (if one was provided)</li>\n</ul>\n<h3>Using input / output nubs</h3>\n<p>Setting up correctly formatted, heuristically 'good' input and output layers is often</p>\n<ul>\n<li>Tedious</li>\n<li>Time consuming</li>\n<li>Difficult for those new to Keras</li>\n</ul>\n<p>With this in mind, <code>keras-pandas</code> provides correctly formatted input and output 'nubs'.</p>\n<p>The input nub is correctly formatted to accept the output from <code>auto.transform()</code>. It contains one Keras Input layer\nfor each generated input, may contain addition layers, and has all input piplines joined with a <code>Concatenate</code> layer.</p>\n<p>The output layer is correctly formatted to accept the response variable numpy object.</p>\n<h2>Changelog</h2>\n<ul>\n<li>PR title (#PR number, or #Issue if no PR)</li>\n<li>There's nothing here! (yet)</li>\n</ul>\n<h3>Development</h3>\n<ul>\n<li>Updated README and setup.py links (No PR)</li>\n</ul>\n<h3>3.1.0</h3>\n<ul>\n<li>Add boolean datatype (#104)</li>\n<li>Added Contributing.md section for new datatypes (#101)</li>\n<li>Added datatypes to docs in index.rst (#101)</li>\n<li>Modified documentation to automatically generate API docs (#101)</li>\n</ul>\n<h3>3.0.1</h3>\n<ul>\n<li>Changing CI to Circleci (#100)</li>\n<li>Adding datatypes to CONTRIBUTING.md, adding CONTRIBUTING.md to docs (#96)</li>\n<li>Adding docs badge (#95)</li>\n<li>Adding support for unusual variable names / format keras names to be valid in name scope (#92)</li>\n<li>Adding examples (#93)</li>\n<li>Upgraded <code>requests</code> library to <code>requests==2.20.1</code>, based on security concern (#94)</li>\n</ul>\n<h3>3.0.0</h3>\n<p>Brand new release, with</p>\n<p>Added</p>\n<ul>\n<li>New <code>Datatype</code> interface, with easier to understand pipelines for each datatype\n<ul>\n<li>All existing datatypes (<code>Numerical</code>, <code>Categorical</code>, <code>Text</code> &amp; <code>TimeSeries</code>) re-implmented in this new format</li>\n<li>Support for custom data types generated by users</li>\n<li>Duck-typing helper method (<code>keras_pandas/lib.check_valid_datatype()</code>) to confirm that a datatype has valid\nsignature</li>\n</ul>\n</li>\n<li>New testing, streamlined and standardized</li>\n<li>Support for transforming unseen categorical levels, via the <code>UNK</code> token (experimental)</li>\n</ul>\n<p>Modified</p>\n<ul>\n<li>Updated <code>Automater</code> interface, which accepts a dictionary of data types</li>\n<li>Heavily updated README</li>\n<li>More consistent logging and data formatting for sample data sets</li>\n</ul>\n<p>Removed</p>\n<ul>\n<li>Removed examples, will be re-implemented in future release</li>\n<li>All existing unittests</li>\n<li>Bulk of new datatypes in <code>contributing.md</code>, will be re-added in future release</li>\n</ul>\n<h3>2.2.0</h3>\n<ul>\n<li>Add timeseries support (#78)</li>\n<li>Add timeseries examples (#79)</li>\n</ul>\n<h3>2.1.0</h3>\n<ul>\n<li>Boolean support deprecated. Boolean (bool) data type can be treated as a special case of categorical data types</li>\n</ul>\n<h3>2.0.2</h3>\n<ul>\n<li>Remove a lot of the unnecessary dependencies (#75)</li>\n<li>Update dependencies to contemporary versions (#74)</li>\n</ul>\n<h3>2.0.1</h3>\n<ul>\n<li>Fix issue w/ PyPi conflict</li>\n</ul>\n<h3>2.0.0</h3>\n<ul>\n<li>Adding CI/CD and PyPi links, and updating contact section w/ about the author (#70)</li>\n<li>Major rewrite / update of examples (#72)\n<ul>\n<li>Fixes bug in embedding transformer. Embeddings will now be at least length 1.</li>\n<li>Add functionality to check if <code>resp_var</code> is in the list of user provided variables</li>\n<li>Added better null filling w/ <code>CategoricalImputer</code></li>\n<li>Added filling unseen values w/ <code>CategoricalImputer</code></li>\n<li>Converted default transformer pipeline to use <code>copy.deepcopy</code> instead of <code>copy.copy</code>. This was a hotfix for a\npreviously unknown issue.</li>\n<li>Standardizing setting logging level, only in test base class and examples (when <code>__main__</code>)</li>\n</ul>\n</li>\n</ul>\n<h3>1.3.5</h3>\n<ul>\n<li>Adding regression example w/ inverse_transformation (#64)</li>\n<li>Fixing issue where web socket connections were being opened needlessly (#65)</li>\n</ul>\n<h3>1.3.4</h3>\n<ul>\n<li>Adding <code>Manifest.in</code>, with including files references in <code>setup.py</code> (#54)</li>\n</ul>\n<h3>1.3.2</h3>\n<ul>\n<li>Fixed poorly written text embedding index unit test (#52)</li>\n<li>Added license (#49)</li>\n</ul>\n<h3>Earlier</h3>\n<ul>\n<li>Lots of things happened. Break things and move fast</li>\n</ul>\n\n          </div>"}, "last_serial": 5914906, "releases": {"3.1.0": [{"comment_text": "", "digests": {"md5": "af32d811721d450fea9f348003221787", "sha256": "5cc87218f05efa14dd2754825b5b99c491b07ba66e533ad69f55a7c395f2d9fa"}, "downloads": -1, "filename": "tf2-keras-pandas-3.1.0.tar.gz", "has_sig": false, "md5_digest": "af32d811721d450fea9f348003221787", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 35230, "upload_time": "2019-09-04T21:15:49", "upload_time_iso_8601": "2019-09-04T21:15:49.097664Z", "url": "https://files.pythonhosted.org/packages/a8/b7/4011675f065f8da2921ff1c3df788a83dcf6145e51b94121d1a7df04e19b/tf2-keras-pandas-3.1.0.tar.gz", "yanked": false}], "3.1.2": [{"comment_text": "", "digests": {"md5": "761f11e12ce19e91123b6e43f2f0fa10", "sha256": "4ca839dff8e96796f23d11d843b483969e5b5e5b3b00ab25a07e655a069ec554"}, "downloads": -1, "filename": "tf2-keras-pandas-3.1.2.tar.gz", "has_sig": false, "md5_digest": "761f11e12ce19e91123b6e43f2f0fa10", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 35265, "upload_time": "2019-09-04T21:23:27", "upload_time_iso_8601": "2019-09-04T21:23:27.599839Z", "url": "https://files.pythonhosted.org/packages/b2/2c/348d0ef55df8f39dcfd6a964ee7a23cf881f27f02f15e3fd65c989e869c3/tf2-keras-pandas-3.1.2.tar.gz", "yanked": false}], "3.1.3": [{"comment_text": "", "digests": {"md5": "e0593a61fbe6fc30aa60a5c41f7aadbf", "sha256": "a7d5d4484b1a52a2447dbcddcbc0aadd179afe1fcf6c3c818991ff754d43a416"}, "downloads": -1, "filename": "tf2-keras-pandas-3.1.3.tar.gz", "has_sig": false, "md5_digest": "e0593a61fbe6fc30aa60a5c41f7aadbf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 34195, "upload_time": "2019-09-04T21:35:16", "upload_time_iso_8601": "2019-09-04T21:35:16.084975Z", "url": "https://files.pythonhosted.org/packages/29/05/5d6c914ebf3ee5c8c6f7308e4dd6cb7810f841415a78eb6180b92709f7e3/tf2-keras-pandas-3.1.3.tar.gz", "yanked": false}], "3.1.4": [{"comment_text": "", "digests": {"md5": "c0dac74934ea487a108500f5b95e324b", "sha256": "32a06be91511c01a9cd00ee89eff4df2a05aced7cdaaf22e4f61ae2f0682b362"}, "downloads": -1, "filename": "tf2-keras-pandas-3.1.4.tar.gz", "has_sig": false, "md5_digest": "c0dac74934ea487a108500f5b95e324b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 34199, "upload_time": "2019-09-04T21:37:48", "upload_time_iso_8601": "2019-09-04T21:37:48.532623Z", "url": "https://files.pythonhosted.org/packages/b8/d1/9202b566eb40cfc33685e8305d1bd7c7963eea405249af1653c2dbb6b3b1/tf2-keras-pandas-3.1.4.tar.gz", "yanked": false}], "3.1.5": [{"comment_text": "", "digests": {"md5": "1f6fa0d5b6c87f487afda3736045f09b", "sha256": "551fb95d73904119f86ac4c54994f6b6c7b33c9fc69b75f738e28c1ecd6cc7fd"}, "downloads": -1, "filename": "tf2-keras-pandas-3.1.5.tar.gz", "has_sig": false, "md5_digest": "1f6fa0d5b6c87f487afda3736045f09b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 34203, "upload_time": "2019-09-04T21:41:44", "upload_time_iso_8601": "2019-09-04T21:41:44.066622Z", "url": "https://files.pythonhosted.org/packages/c5/02/0002ef24d4dc6fc543ce71cb61ec2407da6059bbbb4860b8003b89033636/tf2-keras-pandas-3.1.5.tar.gz", "yanked": false}], "3.1.6": [{"comment_text": "", "digests": {"md5": "b79ed0018340ad9986aad36259cb512a", "sha256": "5c44a1e67c9d8f306a6edb8c2d7b36c23aa9346c586f3e84ad150fda5c25402e"}, "downloads": -1, "filename": "tf2-keras-pandas-3.1.6.tar.gz", "has_sig": false, "md5_digest": "b79ed0018340ad9986aad36259cb512a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 34215, "upload_time": "2019-09-04T21:46:18", "upload_time_iso_8601": "2019-09-04T21:46:18.155779Z", "url": "https://files.pythonhosted.org/packages/b6/4f/b573b54bbbec0c12659a07363defdc831c571845d39ddc262dffc2490831/tf2-keras-pandas-3.1.6.tar.gz", "yanked": false}], "3.1.7": [{"comment_text": "", "digests": {"md5": "70e04b67cef90262e47bb41db07774b8", "sha256": "55263eb2b6400776f2974029cf02f0ab06013e5c34726cdad55ea8cab615470e"}, "downloads": -1, "filename": "tf2-keras-pandas-3.1.7.tar.gz", "has_sig": false, "md5_digest": "70e04b67cef90262e47bb41db07774b8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 34227, "upload_time": "2019-09-04T21:55:17", "upload_time_iso_8601": "2019-09-04T21:55:17.950317Z", "url": "https://files.pythonhosted.org/packages/13/f1/b994ba29e56833398e2d50394764a234c9aba193b52c9dc38b107c62224b/tf2-keras-pandas-3.1.7.tar.gz", "yanked": false}], "3.1.8": [{"comment_text": "", "digests": {"md5": "848c0ee985745d212d12b568c33e3df5", "sha256": "89c6141f976d5e444518365aa96d76c6d1299f3432fb4f5052ec1c7604f49fd4"}, "downloads": -1, "filename": "tf2_keras_pandas-3.1.8-py3-none-any.whl", "has_sig": false, "md5_digest": "848c0ee985745d212d12b568c33e3df5", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 40796, "upload_time": "2019-10-01T21:10:30", "upload_time_iso_8601": "2019-10-01T21:10:30.238788Z", "url": "https://files.pythonhosted.org/packages/7a/c1/de4ca198020a237758462d27131617451cdafa61a80a67daf467b4218e53/tf2_keras_pandas-3.1.8-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4f4c8eb66333b44e7ed05895a962689b", "sha256": "ef3d3bd8f9e5216d99f29de75d02c5829ca1a144b21a0b094f58c3a8b3bb4775"}, "downloads": -1, "filename": "tf2-keras-pandas-3.1.8.tar.gz", "has_sig": false, "md5_digest": "4f4c8eb66333b44e7ed05895a962689b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 34228, "upload_time": "2019-10-01T21:10:32", "upload_time_iso_8601": "2019-10-01T21:10:32.927988Z", "url": "https://files.pythonhosted.org/packages/5a/96/9bd8f7c9442a0149cb729f0bdedb50a3e47d20408ff5a7d0847c9faf6bcb/tf2-keras-pandas-3.1.8.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "848c0ee985745d212d12b568c33e3df5", "sha256": "89c6141f976d5e444518365aa96d76c6d1299f3432fb4f5052ec1c7604f49fd4"}, "downloads": -1, "filename": "tf2_keras_pandas-3.1.8-py3-none-any.whl", "has_sig": false, "md5_digest": "848c0ee985745d212d12b568c33e3df5", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 40796, "upload_time": "2019-10-01T21:10:30", "upload_time_iso_8601": "2019-10-01T21:10:30.238788Z", "url": "https://files.pythonhosted.org/packages/7a/c1/de4ca198020a237758462d27131617451cdafa61a80a67daf467b4218e53/tf2_keras_pandas-3.1.8-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4f4c8eb66333b44e7ed05895a962689b", "sha256": "ef3d3bd8f9e5216d99f29de75d02c5829ca1a144b21a0b094f58c3a8b3bb4775"}, "downloads": -1, "filename": "tf2-keras-pandas-3.1.8.tar.gz", "has_sig": false, "md5_digest": "4f4c8eb66333b44e7ed05895a962689b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 34228, "upload_time": "2019-10-01T21:10:32", "upload_time_iso_8601": "2019-10-01T21:10:32.927988Z", "url": "https://files.pythonhosted.org/packages/5a/96/9bd8f7c9442a0149cb729f0bdedb50a3e47d20408ff5a7d0847c9faf6bcb/tf2-keras-pandas-3.1.8.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:54:50 2020"}
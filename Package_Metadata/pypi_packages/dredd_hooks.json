{"info": {"author": "Vilibald Wan\u010da", "author_email": "vilibald.wanca@oracle.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Environment :: Console", "Environment :: Web Environment", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 2", "Programming Language :: Python :: 3", "Topic :: Software Development :: Build Tools", "Topic :: Software Development :: Testing"], "description": "===================================================\nPython Hooks Bridge for Dredd API Testing Framework\n===================================================\n\n.. image:: https://travis-ci.org/apiaryio/dredd-hooks-python.svg?branch=master\n    :target: https://travis-ci.org/apiaryio/dredd-hooks-python\n\nAbout\n=====\n\nThis package contains a bridge between `Dredd API Testing Framework`_\nand Python environment to ease implementation of testing hooks\nprovided by Dredd_. Write Dredd_ hooks in Python to glue together `API\nBlueprint`_ with your Python project\n\n.. _Dredd API Testing Framework: http://dredd.readthedocs.org/en/latest/\n.. _Dredd: http://dredd.readthedocs.org/en/latest/\n.. _API Blueprint: https://apiblueprint.org/\n\n\n\nUsage example:\n\n.. code-block:: python\n\n    import dredd_hooks as hooks\n\n    @hooks.before_all\n    def foo(transactions):\n        for t in transactions:\n            t['request']['headers']['content-type'] = 'application/json'\n\nDownload\n========\n\nYou can see all the `available versions`__ at PyPI_.\n\n__ http://pypi.python.org/pypi/dredd_hooks\n\n\nFrom source (tar.gz or checkout)\n--------------------------------\n\nUnpack the archive, enter the ``dredd-hooks-python`` directory and run::\n\n    python setup.py install\n\n\nSetuptools/PyPI_\n----------------\n\nAlternatively it can be installed from PyPI_, either manually\ndownloading the files and installing as described above or using::\n\n    pip install dredd_hooks\n\n.. _PyPI: http://pypi.python.org/pypi\n\nUsage\n=====\n\n1. Create a hook file in ``hooks.py``:\n\n.. code-block:: python\n\n     import dredd_hooks as hooks\n\n     @hooks.before(\"Machines > Machines collection > Get Machines\")\n     def before_hook(transaction):\n         transaction['skip'] = \"true\"\n\n\n2. Run it with Dredd::\n\n     $ dredd apiary.apib localhost:3000 --language python --hookfiles ./hooks.py\n\nAPI\n===\n\nModule ``dredd_hooks`` defines following decorators ``before``, ``after``,\n``before_all``, ``after_all``, ``before_each``, ``after_each``,\n``before_validation``, ``before_each_validation``. ``before``,\n``before_validation`` and ``after`` hooks are identified by `transaction\nname\n<http://dredd.readthedocs.org/en/latest/hooks/#getting-transaction-names>`_.\n\nYou can combine those decorators together. So one function can be used\nfor different hooks but be aware that some hooks have a list of all\ntransactions as an argument and not a single transaction.\n\n.. code-block:: python\n\n     import dredd_hooks as hooks\n\n     @hooks.after_all\n     @hooks.before_all\n     @hooks.before_each\n     @hooks.after_each\n     @hooks.before_validation('Machines > Machines collection > Get Machines')\n     @hooks.before(\"Machines > Machines collection > Get Machines\")\n     @hooks.after(\"Machines > Machines collection > Get Machines\")\n     def multi_hook_function(trans):\n        if isinstance(trans, list):\n            print('called with list of transactions')\n        else:\n            if trans['name'] == 'Machines > Machines collection > Get Machines':\n                trans['skip'] = 'true'\n\n\nUsage is very similar to `sync JS hooks API\n<http://dredd.readthedocs.org/en/latest/hooks/#sync-api>`_\n\nContributing\n============\n1. Fork it\n2. Create your feature branch (``git checkout -b my-newfeature``)\n3. Commit your changes (``git commit -am 'Add some feature'``)\n4. Push (``git push origin my-new-feature``)\n5. Create a new Pull Request\n\nTesting\n=======\n\nDon't forget about tests, see ``test`` directory. The project uses\n``unittest`` package and ``tox``.\n\nFor integration test with Dredd_ interface the project uses ruby based\n`aruba <https://github.com/cucumber/aruba>`_ so to get it running make\nsure you have Ruby installed and then do::\n\n  $ bundle install\n\nAfter the setup you can run the test easily with::\n\n  $ bundle exec cucumber\n\nMore details about the integration test can be found in the\n`dredd-hooks-template repo\n<https://github.com/apiaryio/dredd-hooks-template>`_\n\n\n:copyright: Copyright (c) 2015 Apiary Czech Republic, s.r.o.\n:license: MIT, see LICENSE for details.", "description_content_type": "", "docs_url": null, "download_url": "http://pypi.python.org/pypi/dredd_hooks", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/apiaryio/dredd-hooks-python/", "keywords": "HTTP API testing Dredd", "license": "MIT License", "maintainer": "Apiary", "maintainer_email": "support@apiary.io", "name": "dredd_hooks", "package_url": "https://pypi.org/project/dredd_hooks/", "platform": "any", "project_url": "https://pypi.org/project/dredd_hooks/", "project_urls": {"Download": "http://pypi.python.org/pypi/dredd_hooks", "Homepage": "https://github.com/apiaryio/dredd-hooks-python/"}, "release_url": "https://pypi.org/project/dredd_hooks/0.2.0/", "requires_dist": null, "requires_python": "", "summary": "Python Hooks Bridge for Dredd API Testing Framework", "version": "0.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://travis-ci.org/apiaryio/dredd-hooks-python\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/apiaryio/dredd-hooks-python.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/79841b3b4cac3710b43fe3ec2c81726901f52e9a/68747470733a2f2f7472617669732d63692e6f72672f617069617279696f2f64726564642d686f6f6b732d707974686f6e2e7376673f6272616e63683d6d6173746572\"></a>\n<div id=\"about\">\n<h2>About</h2>\n<p>This package contains a bridge between <a href=\"http://dredd.readthedocs.org/en/latest/\" rel=\"nofollow\">Dredd API Testing Framework</a>\nand Python environment to ease implementation of testing hooks\nprovided by <a href=\"http://dredd.readthedocs.org/en/latest/\" rel=\"nofollow\">Dredd</a>. Write <a href=\"http://dredd.readthedocs.org/en/latest/\" rel=\"nofollow\">Dredd</a> hooks in Python to glue together <a href=\"https://apiblueprint.org/\" rel=\"nofollow\">API\nBlueprint</a> with your Python project</p>\n<p>Usage example:</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">dredd_hooks</span> <span class=\"k\">as</span> <span class=\"nn\">hooks</span>\n\n<span class=\"nd\">@hooks</span><span class=\"o\">.</span><span class=\"n\">before_all</span>\n<span class=\"k\">def</span> <span class=\"nf\">foo</span><span class=\"p\">(</span><span class=\"n\">transactions</span><span class=\"p\">):</span>\n    <span class=\"k\">for</span> <span class=\"n\">t</span> <span class=\"ow\">in</span> <span class=\"n\">transactions</span><span class=\"p\">:</span>\n        <span class=\"n\">t</span><span class=\"p\">[</span><span class=\"s1\">'request'</span><span class=\"p\">][</span><span class=\"s1\">'headers'</span><span class=\"p\">][</span><span class=\"s1\">'content-type'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">'application/json'</span>\n</pre>\n</div>\n<div id=\"download\">\n<h2>Download</h2>\n<p>You can see all the <a href=\"http://pypi.python.org/pypi/dredd_hooks\" rel=\"nofollow\">available versions</a> at <a href=\"http://pypi.python.org/pypi\" rel=\"nofollow\">PyPI</a>.</p>\n<div id=\"from-source-tar-gz-or-checkout\">\n<h3>From source (tar.gz or checkout)</h3>\n<p>Unpack the archive, enter the <tt><span class=\"pre\">dredd-hooks-python</span></tt> directory and run:</p>\n<pre>python setup.py install\n</pre>\n</div>\n<div id=\"setuptools-pypi\">\n<h3>Setuptools/<a href=\"http://pypi.python.org/pypi\" rel=\"nofollow\">PyPI</a></h3>\n<p>Alternatively it can be installed from <a href=\"http://pypi.python.org/pypi\" rel=\"nofollow\">PyPI</a>, either manually\ndownloading the files and installing as described above or using:</p>\n<pre>pip install dredd_hooks\n</pre>\n</div>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<ol>\n<li>Create a hook file in <tt>hooks.py</tt>:</li>\n</ol>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">dredd_hooks</span> <span class=\"k\">as</span> <span class=\"nn\">hooks</span>\n\n<span class=\"nd\">@hooks</span><span class=\"o\">.</span><span class=\"n\">before</span><span class=\"p\">(</span><span class=\"s2\">\"Machines &gt; Machines collection &gt; Get Machines\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">before_hook</span><span class=\"p\">(</span><span class=\"n\">transaction</span><span class=\"p\">):</span>\n    <span class=\"n\">transaction</span><span class=\"p\">[</span><span class=\"s1\">'skip'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">\"true\"</span>\n</pre>\n<ol>\n<li><p>Run it with Dredd:</p>\n<pre>$ dredd apiary.apib localhost:3000 --language python --hookfiles ./hooks.py\n</pre>\n</li>\n</ol>\n</div>\n<div id=\"api\">\n<h2>API</h2>\n<p>Module <tt>dredd_hooks</tt> defines following decorators <tt>before</tt>, <tt>after</tt>,\n<tt>before_all</tt>, <tt>after_all</tt>, <tt>before_each</tt>, <tt>after_each</tt>,\n<tt>before_validation</tt>, <tt>before_each_validation</tt>. <tt>before</tt>,\n<tt>before_validation</tt> and <tt>after</tt> hooks are identified by <a href=\"http://dredd.readthedocs.org/en/latest/hooks/#getting-transaction-names\" rel=\"nofollow\">transaction\nname</a>.</p>\n<p>You can combine those decorators together. So one function can be used\nfor different hooks but be aware that some hooks have a list of all\ntransactions as an argument and not a single transaction.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">dredd_hooks</span> <span class=\"k\">as</span> <span class=\"nn\">hooks</span>\n\n<span class=\"nd\">@hooks</span><span class=\"o\">.</span><span class=\"n\">after_all</span>\n<span class=\"nd\">@hooks</span><span class=\"o\">.</span><span class=\"n\">before_all</span>\n<span class=\"nd\">@hooks</span><span class=\"o\">.</span><span class=\"n\">before_each</span>\n<span class=\"nd\">@hooks</span><span class=\"o\">.</span><span class=\"n\">after_each</span>\n<span class=\"nd\">@hooks</span><span class=\"o\">.</span><span class=\"n\">before_validation</span><span class=\"p\">(</span><span class=\"s1\">'Machines &gt; Machines collection &gt; Get Machines'</span><span class=\"p\">)</span>\n<span class=\"nd\">@hooks</span><span class=\"o\">.</span><span class=\"n\">before</span><span class=\"p\">(</span><span class=\"s2\">\"Machines &gt; Machines collection &gt; Get Machines\"</span><span class=\"p\">)</span>\n<span class=\"nd\">@hooks</span><span class=\"o\">.</span><span class=\"n\">after</span><span class=\"p\">(</span><span class=\"s2\">\"Machines &gt; Machines collection &gt; Get Machines\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">multi_hook_function</span><span class=\"p\">(</span><span class=\"n\">trans</span><span class=\"p\">):</span>\n   <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">trans</span><span class=\"p\">,</span> <span class=\"nb\">list</span><span class=\"p\">):</span>\n       <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">'called with list of transactions'</span><span class=\"p\">)</span>\n   <span class=\"k\">else</span><span class=\"p\">:</span>\n       <span class=\"k\">if</span> <span class=\"n\">trans</span><span class=\"p\">[</span><span class=\"s1\">'name'</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"s1\">'Machines &gt; Machines collection &gt; Get Machines'</span><span class=\"p\">:</span>\n           <span class=\"n\">trans</span><span class=\"p\">[</span><span class=\"s1\">'skip'</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">'true'</span>\n</pre>\n<p>Usage is very similar to <a href=\"http://dredd.readthedocs.org/en/latest/hooks/#sync-api\" rel=\"nofollow\">sync JS hooks API</a></p>\n</div>\n<div id=\"contributing\">\n<h2>Contributing</h2>\n<ol>\n<li>Fork it</li>\n<li>Create your feature branch (<tt>git checkout <span class=\"pre\">-b</span> <span class=\"pre\">my-newfeature</span></tt>)</li>\n<li>Commit your changes (<tt>git commit <span class=\"pre\">-am</span> 'Add some feature'</tt>)</li>\n<li>Push (<tt>git push origin <span class=\"pre\">my-new-feature</span></tt>)</li>\n<li>Create a new Pull Request</li>\n</ol>\n</div>\n<div id=\"testing\">\n<h2>Testing</h2>\n<p>Don\u2019t forget about tests, see <tt>test</tt> directory. The project uses\n<tt>unittest</tt> package and <tt>tox</tt>.</p>\n<p>For integration test with <a href=\"http://dredd.readthedocs.org/en/latest/\" rel=\"nofollow\">Dredd</a> interface the project uses ruby based\n<a href=\"https://github.com/cucumber/aruba\" rel=\"nofollow\">aruba</a> so to get it running make\nsure you have Ruby installed and then do:</p>\n<pre>$ bundle install\n</pre>\n<p>After the setup you can run the test easily with:</p>\n<pre>$ bundle exec cucumber\n</pre>\n<p>More details about the integration test can be found in the\n<a href=\"https://github.com/apiaryio/dredd-hooks-template\" rel=\"nofollow\">dredd-hooks-template repo</a></p>\n<table>\n<col>\n<col>\n<tbody>\n<tr><th>copyright:</th><td>Copyright (c) 2015 Apiary Czech Republic, s.r.o.</td>\n</tr>\n<tr><th>license:</th><td>MIT, see LICENSE for details.</td>\n</tr>\n</tbody>\n</table>\n</div>\n\n          </div>"}, "last_serial": 3748530, "releases": {"0.0.1rc1": [{"comment_text": "", "digests": {"md5": "580bfb7ca722ffdb0e255786975937b7", "sha256": "e1bd0d2d6b3d53ce19d14288028683b1f5c481c127cc0852c46960f83022eab8"}, "downloads": -1, "filename": "dredd_hooks-0.0.1rc1.tar.gz", "has_sig": false, "md5_digest": "580bfb7ca722ffdb0e255786975937b7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6742, "upload_time": "2015-07-07T16:20:14", "upload_time_iso_8601": "2015-07-07T16:20:14.031504Z", "url": "https://files.pythonhosted.org/packages/2d/e2/14b3d85f80efc515f05a5d51e7e6c315a8f37c49eb1a2c4a3906c86e4727/dredd_hooks-0.0.1rc1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "228c3669cf79cbceca1d64d18bdc0f4d", "sha256": "1752765a76bcfe8fa373b14ffdff3425f732b43ee1f7291f0fb1c4a15944e9d5"}, "downloads": -1, "filename": "dredd_hooks-0.0.2.tar.gz", "has_sig": false, "md5_digest": "228c3669cf79cbceca1d64d18bdc0f4d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6734, "upload_time": "2015-07-07T16:23:10", "upload_time_iso_8601": "2015-07-07T16:23:10.419054Z", "url": "https://files.pythonhosted.org/packages/65/2d/fa9c15cfa3ebe870e4556da4894edbdbc3a12a03f7e0414aca7898aad236/dredd_hooks-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "76216f1f83c305130d3abb4e9ad614f1", "sha256": "8dc395c056cfcf2a55c9d0ecf853e3734381a8395cc5dc8e2f4e2d06b5b5b5e2"}, "downloads": -1, "filename": "dredd_hooks-0.0.3.tar.gz", "has_sig": false, "md5_digest": "76216f1f83c305130d3abb4e9ad614f1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 11131, "upload_time": "2016-01-26T09:05:04", "upload_time_iso_8601": "2016-01-26T09:05:04.795962Z", "url": "https://files.pythonhosted.org/packages/34/0d/fc59a3a04f1c5d23e30a06a7b684ca35948769d31f3ed13d09914a8bd415/dredd_hooks-0.0.3.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "0b1f23c0905b58ce8d967748cfdf439b", "sha256": "5c5e88630643436472772fa66c791d1cfade7a4ed217a15dc118e7fd2196ed9e"}, "downloads": -1, "filename": "dredd_hooks-0.1.0.tar.gz", "has_sig": false, "md5_digest": "0b1f23c0905b58ce8d967748cfdf439b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7349, "upload_time": "2016-07-05T16:44:32", "upload_time_iso_8601": "2016-07-05T16:44:32.783918Z", "url": "https://files.pythonhosted.org/packages/fa/60/9b155df278ab44c1cf5bc28306ee99faf3a1209ff7929a37dc48714dab7e/dredd_hooks-0.1.0.tar.gz", "yanked": false}], "0.1.0.dev20160705": [{"comment_text": "", "digests": {"md5": "14402394af3fa9794a95a2a3c3e75b7f", "sha256": "c91cdb63240010990c2471e4a588541953dce8281b2e8fa3a5b652f5496fb308"}, "downloads": -1, "filename": "dredd_hooks-0.1.0.dev20160705.tar.gz", "has_sig": false, "md5_digest": "14402394af3fa9794a95a2a3c3e75b7f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7404, "upload_time": "2016-07-05T15:43:57", "upload_time_iso_8601": "2016-07-05T15:43:57.852364Z", "url": "https://files.pythonhosted.org/packages/5c/66/cc3f54339c85c5d2e94c8e33fe0ff53df482e10e36b32515f1a18a841335/dredd_hooks-0.1.0.dev20160705.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "5b0cd08e7d5e8687b7be2ef914fa41e6", "sha256": "d212dd9d295fbb7f15ad1577fe69462621c5ee3c006eb5bce1796489a49e0db4"}, "downloads": -1, "filename": "dredd_hooks-0.1.1.tar.gz", "has_sig": false, "md5_digest": "5b0cd08e7d5e8687b7be2ef914fa41e6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7933, "upload_time": "2016-10-25T17:40:59", "upload_time_iso_8601": "2016-10-25T17:40:59.089310Z", "url": "https://files.pythonhosted.org/packages/0e/42/478547b3155075b2a587ce9756e802863a04d0bb889156e9e280e06c9cff/dredd_hooks-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "4c80642a0a11019d88ba6dbd6a837e39", "sha256": "dfa316af87501fbe439558746c5b815817d09a3843c4d7439b2546891a6d8a2b"}, "downloads": -1, "filename": "dredd_hooks-0.1.2.tar.gz", "has_sig": false, "md5_digest": "4c80642a0a11019d88ba6dbd6a837e39", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7952, "upload_time": "2016-12-09T11:10:24", "upload_time_iso_8601": "2016-12-09T11:10:24.472711Z", "url": "https://files.pythonhosted.org/packages/cc/61/4cdaa6cd426cc63e456b692313acafd81673db09152c3ef36a13465d56a8/dredd_hooks-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "4f80a12a777da47d48656f65a0ccfc44", "sha256": "0cb16059099258b203ef84f3fa9690b76a991ce57a3f1c30c35a018b996c0e87"}, "downloads": -1, "filename": "dredd_hooks-0.1.3.tar.gz", "has_sig": false, "md5_digest": "4f80a12a777da47d48656f65a0ccfc44", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8008, "upload_time": "2017-03-08T17:24:14", "upload_time_iso_8601": "2017-03-08T17:24:14.056653Z", "url": "https://files.pythonhosted.org/packages/97/f9/2e244309af8205a7ad155e687f17e18c34c299359cfde06c951e7cbcf393/dredd_hooks-0.1.3.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "e14f0f50a9c82894e405bb27d5b84d18", "sha256": "7d0527ee269d716126de912098b6d8750fcb3755232cb902e5a360f1921df780"}, "downloads": -1, "filename": "dredd_hooks-0.2.0.tar.gz", "has_sig": false, "md5_digest": "e14f0f50a9c82894e405bb27d5b84d18", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9823, "upload_time": "2018-04-09T12:47:29", "upload_time_iso_8601": "2018-04-09T12:47:29.107191Z", "url": "https://files.pythonhosted.org/packages/0c/f4/23234e8b673f8d4eec3c9dd79fb7e420b029c7064dea6c49ba7e22242ba8/dredd_hooks-0.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e14f0f50a9c82894e405bb27d5b84d18", "sha256": "7d0527ee269d716126de912098b6d8750fcb3755232cb902e5a360f1921df780"}, "downloads": -1, "filename": "dredd_hooks-0.2.0.tar.gz", "has_sig": false, "md5_digest": "e14f0f50a9c82894e405bb27d5b84d18", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9823, "upload_time": "2018-04-09T12:47:29", "upload_time_iso_8601": "2018-04-09T12:47:29.107191Z", "url": "https://files.pythonhosted.org/packages/0c/f4/23234e8b673f8d4eec3c9dd79fb7e420b029c7064dea6c49ba7e22242ba8/dredd_hooks-0.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:49:49 2020"}
{"info": {"author": "Mart\u00ed Bosch", "author_email": "marti.bosch@epfl.ch", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: GNU General Public License v3 (GPLv3)", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7"], "description": "[![PyPI version fury.io](https://badge.fury.io/py/detectree.svg)](https://pypi.python.org/pypi/detectree/)\n[![Documentation Status](https://readthedocs.org/projects/detectree/badge/?version=latest)](https://detectree.readthedocs.io/en/latest/?badge=latest)\n[![Build Status](https://travis-ci.org/martibosch/detectree.svg?branch=master)](https://travis-ci.org/martibosch/detectree)\n[![Coverage Status](https://coveralls.io/repos/github/martibosch/detectree/badge.svg?branch=master)](https://coveralls.io/github/martibosch/detectree?branch=master)\n[![GitHub license](https://img.shields.io/github/license/martibosch/detectree.svg)](https://github.com/martibosch/detectree/blob/master/LICENSE)\n\n# DetecTree\n\n## Overview\n\nDetecTree is a Pythonic library to classify tree/non-tree pixels from aerial imagery, following the methods of Yang et al. [1].\n\n```python\nimport detectree as dtr\nimport matplotlib.pyplot as plt\nimport rasterio as rio\nfrom rasterio import plot\n\n# select the training tiles from the tiled aerial imagery dataset\nts = dtr.TrainingSelector(img_dir='data/tiles')\nsplit_df = ts.train_test_split(method='cluster-I')\n\n# train a tree/non-tree pixel classfier\nclf = dtr.ClassifierTrainer().train_classifier(\n    split_df=split_df, response_img_dir='data/response_tiles')\n    \n# use the trained classifier to predict the tree/non-tree pixels\ntest_filepath = split_df[~split_df['train'].sample(1).iloc[0]['img_filepath']\ny_pred = dtr.Classifier().classify_img(test_filepath, clf)\n\n# side-by-side plot of the tile and the predicted tree/non-tree pixels\nfigwidth, figheight = plt.rcParams['figure.figsize']\nfig, axes = plt.subplots(1, 2, figsize=(2 * figwidth, figheight))\n\nwith rio.open(img_filepath) as src:\n    plot.show(src.read(), ax=axes[0])\naxes[1].imshow(y_pred)\n```\n\n![Example](figures/example.png)\n\nSee [the API documentation](https://detectree.readthedocs.io/en/latest/?badge=latest) and the [example repository](https://github.com/martibosch/detectree-example) to get started.\n\n## Installation\n\nTo install use pip:\n\n    $ pip install detectree\n\n\n## Acknowledgments\n\n* With the support of the \u00c9cole Polytechnique F\u00e9d\u00e9rale de Lausanne (EPFL)\n\n\n## References\n\n1. Yang, L., Wu, X., Praun, E., & Ma, X. (2009). Tree detection from aerial imagery. In Proceedings of the 17th ACM SIGSPATIAL International Conference on Advances in Geographic Information Systems (pp. 131-137). ACM.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/martibosch/detectree", "keywords": "", "license": "GPL-3.0", "maintainer": "", "maintainer_email": "", "name": "detectree", "package_url": "https://pypi.org/project/detectree/", "platform": "", "project_url": "https://pypi.org/project/detectree/", "project_urls": {"Homepage": "https://github.com/martibosch/detectree"}, "release_url": "https://pypi.org/project/detectree/0.3.1/", "requires_dist": null, "requires_python": "", "summary": "Tree detection from aerial imagery", "version": "0.3.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://pypi.python.org/pypi/detectree/\" rel=\"nofollow\"><img alt=\"PyPI version fury.io\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/415f058d8de352ebb3c205f90822ec85b7716b5f/68747470733a2f2f62616467652e667572792e696f2f70792f6465746563747265652e737667\"></a>\n<a href=\"https://detectree.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6e3e348f32be424b57eb49bbcf1505da4c6bd641/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f6465746563747265652f62616467652f3f76657273696f6e3d6c6174657374\"></a>\n<a href=\"https://travis-ci.org/martibosch/detectree\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/edb547d243526afde63ae548d2450c016a005f5f/68747470733a2f2f7472617669732d63692e6f72672f6d61727469626f7363682f6465746563747265652e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://coveralls.io/github/martibosch/detectree?branch=master\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/fece1cb19d1360e6f982f02abb8be5298e6900eb/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6d61727469626f7363682f6465746563747265652f62616467652e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://github.com/martibosch/detectree/blob/master/LICENSE\" rel=\"nofollow\"><img alt=\"GitHub license\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2cc3e288762da4b8b7e7d3feeba734e960daf631/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6d61727469626f7363682f6465746563747265652e737667\"></a></p>\n<h1>DetecTree</h1>\n<h2>Overview</h2>\n<p>DetecTree is a Pythonic library to classify tree/non-tree pixels from aerial imagery, following the methods of Yang et al. [1].</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">detectree</span> <span class=\"k\">as</span> <span class=\"nn\">dtr</span>\n<span class=\"kn\">import</span> <span class=\"nn\">matplotlib.pyplot</span> <span class=\"k\">as</span> <span class=\"nn\">plt</span>\n<span class=\"kn\">import</span> <span class=\"nn\">rasterio</span> <span class=\"k\">as</span> <span class=\"nn\">rio</span>\n<span class=\"kn\">from</span> <span class=\"nn\">rasterio</span> <span class=\"kn\">import</span> <span class=\"n\">plot</span>\n\n<span class=\"c1\"># select the training tiles from the tiled aerial imagery dataset</span>\n<span class=\"n\">ts</span> <span class=\"o\">=</span> <span class=\"n\">dtr</span><span class=\"o\">.</span><span class=\"n\">TrainingSelector</span><span class=\"p\">(</span><span class=\"n\">img_dir</span><span class=\"o\">=</span><span class=\"s1\">'data/tiles'</span><span class=\"p\">)</span>\n<span class=\"n\">split_df</span> <span class=\"o\">=</span> <span class=\"n\">ts</span><span class=\"o\">.</span><span class=\"n\">train_test_split</span><span class=\"p\">(</span><span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s1\">'cluster-I'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># train a tree/non-tree pixel classfier</span>\n<span class=\"n\">clf</span> <span class=\"o\">=</span> <span class=\"n\">dtr</span><span class=\"o\">.</span><span class=\"n\">ClassifierTrainer</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">train_classifier</span><span class=\"p\">(</span>\n    <span class=\"n\">split_df</span><span class=\"o\">=</span><span class=\"n\">split_df</span><span class=\"p\">,</span> <span class=\"n\">response_img_dir</span><span class=\"o\">=</span><span class=\"s1\">'data/response_tiles'</span><span class=\"p\">)</span>\n    \n<span class=\"c1\"># use the trained classifier to predict the tree/non-tree pixels</span>\n<span class=\"n\">test_filepath</span> <span class=\"o\">=</span> <span class=\"n\">split_df</span><span class=\"p\">[</span><span class=\"o\">~</span><span class=\"n\">split_df</span><span class=\"p\">[</span><span class=\"s1\">'train'</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">sample</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">iloc</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"s1\">'img_filepath'</span><span class=\"p\">]</span>\n<span class=\"n\">y_pred</span> <span class=\"o\">=</span> <span class=\"n\">dtr</span><span class=\"o\">.</span><span class=\"n\">Classifier</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">classify_img</span><span class=\"p\">(</span><span class=\"n\">test_filepath</span><span class=\"p\">,</span> <span class=\"n\">clf</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># side-by-side plot of the tile and the predicted tree/non-tree pixels</span>\n<span class=\"n\">figwidth</span><span class=\"p\">,</span> <span class=\"n\">figheight</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">rcParams</span><span class=\"p\">[</span><span class=\"s1\">'figure.figsize'</span><span class=\"p\">]</span>\n<span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"n\">axes</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">subplots</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"n\">figwidth</span><span class=\"p\">,</span> <span class=\"n\">figheight</span><span class=\"p\">))</span>\n\n<span class=\"k\">with</span> <span class=\"n\">rio</span><span class=\"o\">.</span><span class=\"n\">open</span><span class=\"p\">(</span><span class=\"n\">img_filepath</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">src</span><span class=\"p\">:</span>\n    <span class=\"n\">plot</span><span class=\"o\">.</span><span class=\"n\">show</span><span class=\"p\">(</span><span class=\"n\">src</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(),</span> <span class=\"n\">ax</span><span class=\"o\">=</span><span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">imshow</span><span class=\"p\">(</span><span class=\"n\">y_pred</span><span class=\"p\">)</span>\n</pre>\n<p><img alt=\"Example\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ebd84a169268633cd5b4bcdb674c206dbc81bb59/666967757265732f6578616d706c652e706e67\"></p>\n<p>See <a href=\"https://detectree.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\">the API documentation</a> and the <a href=\"https://github.com/martibosch/detectree-example\" rel=\"nofollow\">example repository</a> to get started.</p>\n<h2>Installation</h2>\n<p>To install use pip:</p>\n<pre><code>$ pip install detectree\n</code></pre>\n<h2>Acknowledgments</h2>\n<ul>\n<li>With the support of the \u00c9cole Polytechnique F\u00e9d\u00e9rale de Lausanne (EPFL)</li>\n</ul>\n<h2>References</h2>\n<ol>\n<li>Yang, L., Wu, X., Praun, E., &amp; Ma, X. (2009). Tree detection from aerial imagery. In Proceedings of the 17th ACM SIGSPATIAL International Conference on Advances in Geographic Information Systems (pp. 131-137). ACM.</li>\n</ol>\n\n          </div>"}, "last_serial": 6793126, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "b3523d2c4e5d48d3a4ff3459808433fb", "sha256": "51249fee11828abf17b134c4ea2c9fb650dc5e2cfc2e9ee6782273045195101a"}, "downloads": -1, "filename": "detectree-0.1.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "b3523d2c4e5d48d3a4ff3459808433fb", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 34638, "upload_time": "2019-11-14T13:53:50", "upload_time_iso_8601": "2019-11-14T13:53:50.054778Z", "url": "https://files.pythonhosted.org/packages/72/00/9232c092681189e122f372f1c1570539e11e5212f6b48a79366c39eeb662/detectree-0.1.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5ef57e4e34c542d484922b83a4e21628", "sha256": "dafd5fed83f1586ba98f38c6775c71c6554801da97a41c0414ef39b0b17943fc"}, "downloads": -1, "filename": "detectree-0.1.0.tar.gz", "has_sig": false, "md5_digest": "5ef57e4e34c542d484922b83a4e21628", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30328, "upload_time": "2019-11-14T13:53:52", "upload_time_iso_8601": "2019-11-14T13:53:52.717065Z", "url": "https://files.pythonhosted.org/packages/ae/92/3b51836417d8136df46fd279c3eb62b051b7f14d029721b8af5feb06199e/detectree-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "95af05263089a674337bf7cccdc1187d", "sha256": "70a03c0f7a7512f517a835b168c5b69cf41c3a5818953ad1618595601d17dc3c"}, "downloads": -1, "filename": "detectree-0.2.0.tar.gz", "has_sig": false, "md5_digest": "95af05263089a674337bf7cccdc1187d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 30378, "upload_time": "2019-12-11T12:31:50", "upload_time_iso_8601": "2019-12-11T12:31:50.434892Z", "url": "https://files.pythonhosted.org/packages/f0/19/7815bd7827cc46eefc1826dd3f6a7c99e7c99c952884adb19d3bc8221c5b/detectree-0.2.0.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "4536e1df9724364c2e672906d8eede81", "sha256": "fab18756e9448228d3698cf215a2d85fbc1140806193151fda2128289ac92a54"}, "downloads": -1, "filename": "detectree-0.3.0.tar.gz", "has_sig": false, "md5_digest": "4536e1df9724364c2e672906d8eede81", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 31502, "upload_time": "2020-03-02T07:35:57", "upload_time_iso_8601": "2020-03-02T07:35:57.686317Z", "url": "https://files.pythonhosted.org/packages/dd/1d/f143cbdd5d1195f4256074e81e710d1bd1d81e995e71d9139e31ed3f2f60/detectree-0.3.0.tar.gz", "yanked": false}], "0.3.1": [{"comment_text": "", "digests": {"md5": "87c55eee1db3b0d486b2368e2615d714", "sha256": "cdd6853f386b2096cae5f4c29f9e575cb34648ed2813a97ccbec208606361674"}, "downloads": -1, "filename": "detectree-0.3.1.tar.gz", "has_sig": false, "md5_digest": "87c55eee1db3b0d486b2368e2615d714", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 32389, "upload_time": "2020-03-11T15:39:05", "upload_time_iso_8601": "2020-03-11T15:39:05.292267Z", "url": "https://files.pythonhosted.org/packages/9f/30/8696653cd7cabb2d7ddb92e7b908b5f0bd54d3621ae988ba1576f260fd5a/detectree-0.3.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "87c55eee1db3b0d486b2368e2615d714", "sha256": "cdd6853f386b2096cae5f4c29f9e575cb34648ed2813a97ccbec208606361674"}, "downloads": -1, "filename": "detectree-0.3.1.tar.gz", "has_sig": false, "md5_digest": "87c55eee1db3b0d486b2368e2615d714", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 32389, "upload_time": "2020-03-11T15:39:05", "upload_time_iso_8601": "2020-03-11T15:39:05.292267Z", "url": "https://files.pythonhosted.org/packages/9f/30/8696653cd7cabb2d7ddb92e7b908b5f0bd54d3621ae988ba1576f260fd5a/detectree-0.3.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:38:56 2020"}
{"info": {"author": "Kevin Wurster", "author_email": "wursterk@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: Implementation :: PyPy", "Topic :: Software Development :: Libraries", "Topic :: Text Processing", "Topic :: Utilities"], "description": "================\nMapReduce Python\n================\n\nExperimental Pythonic MapReduce inspired by `Spotify's luigi framework <http://www.github.com/Spotify/luigi>`_.\n\n.. image:: https://travis-ci.org/geowurster/tinymr.svg?branch=master\n    :target: https://travis-ci.org/geowurster/tinymr?branch=master\n\n.. image:: https://coveralls.io/repos/geowurster/tinymr/badge.svg?branch=master\n    :target: https://coveralls.io/r/geowurster/tinymr?branch=master\n\n\nCanonical Word Count Example\n============================\n\nCurrently there are two MapReduce implementations, one that includes sorting and\none that does not.  The example below would not benefit from sorting so we can\ntake advantage of the inherent optimization of not sorting.  The API is the same\nbut ``tinymr.memory.MRSerial()`` sorts after partitioning and again between the\n``reducer()`` and ``final_reducer()``.\n\n.. code-block:: python\n\n    import json\n    import re\n    import sys\n\n    from tinymr.memory import MRSerial\n\n\n    class WordCount(MRSerial):\n\n        def __init__(self):\n            self.pattern = re.compile('[\\W_]+')\n\n        def mapper(self, item):\n            for word in item.split():\n                word = self.pattern.sub('', word)\n                if word:\n                    yield word.lower(), 1\n\n        def reducer(self, key, values):\n            yield key, sum(values)\n\n        def final_reducer(self, pairs):\n            return {k: tuple(v)[0] for k, v in pairs}\n\n\n    wc = WordCount()\n    with open('LICENSE.txt') as f:\n        out = wc(f)\n        print(json.dumps(out, indent=4, sort_keys=True))\n\nTruncated output:\n\n.. code-block:: json\n\n    {\n        \"a\": 1,\n        \"above\": 2,\n        \"advised\": 1,\n        \"all\": 1,\n        \"and\": 8,\n        \"andor\": 1\n    }\n\n\nDeveloping\n==========\n\n.. code-block:: console\n\n    $ git clone https://github.com/geowurster/tinymr.git\n    $ cd tinymr\n    $ pip install -e .\\[dev\\]\n    $ py.test tests --cov tinymr --cov-report term-missing\n\n\nLicense\n=======\n\nSee ``LICENSE.txt``\n\n\nChangelog\n=========\n\nSee ``CHANGES.md``", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/geowurster/tinymr", "keywords": "experimental map reduce mapreduce", "license": "New BSD", "maintainer": null, "maintainer_email": null, "name": "tinymr", "package_url": "https://pypi.org/project/tinymr/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/tinymr/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/geowurster/tinymr"}, "release_url": "https://pypi.org/project/tinymr/0.1/", "requires_dist": null, "requires_python": null, "summary": "Pythonic in-memory MapReduce.", "version": "0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Experimental Pythonic MapReduce inspired by <a href=\"http://www.github.com/Spotify/luigi\" rel=\"nofollow\">Spotify\u2019s luigi framework</a>.</p>\n<a href=\"https://travis-ci.org/geowurster/tinymr?branch=master\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/geowurster/tinymr.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/38d88b825d0d1ad17a9e10df8aabb30f5b8d2223/68747470733a2f2f7472617669732d63692e6f72672f67656f777572737465722f74696e796d722e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://coveralls.io/r/geowurster/tinymr?branch=master\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/geowurster/tinymr/badge.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/aa0fc0766ebe3368b076fcceb3994dd199e6df45/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f67656f777572737465722f74696e796d722f62616467652e7376673f6272616e63683d6d6173746572\"></a>\n<div id=\"canonical-word-count-example\">\n<h2>Canonical Word Count Example</h2>\n<p>Currently there are two MapReduce implementations, one that includes sorting and\none that does not.  The example below would not benefit from sorting so we can\ntake advantage of the inherent optimization of not sorting.  The API is the same\nbut <tt>tinymr.memory.MRSerial()</tt> sorts after partitioning and again between the\n<tt>reducer()</tt> and <tt>final_reducer()</tt>.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">json</span>\n<span class=\"kn\">import</span> <span class=\"nn\">re</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sys</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">tinymr.memory</span> <span class=\"kn\">import</span> <span class=\"n\">MRSerial</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">WordCount</span><span class=\"p\">(</span><span class=\"n\">MRSerial</span><span class=\"p\">):</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">pattern</span> <span class=\"o\">=</span> <span class=\"n\">re</span><span class=\"o\">.</span><span class=\"n\">compile</span><span class=\"p\">(</span><span class=\"s1\">'[\\W_]+'</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">mapper</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">):</span>\n        <span class=\"k\">for</span> <span class=\"n\">word</span> <span class=\"ow\">in</span> <span class=\"n\">item</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">():</span>\n            <span class=\"n\">word</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">pattern</span><span class=\"o\">.</span><span class=\"n\">sub</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">,</span> <span class=\"n\">word</span><span class=\"p\">)</span>\n            <span class=\"k\">if</span> <span class=\"n\">word</span><span class=\"p\">:</span>\n                <span class=\"k\">yield</span> <span class=\"n\">word</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">(),</span> <span class=\"mi\">1</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">reducer</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"n\">values</span><span class=\"p\">):</span>\n        <span class=\"k\">yield</span> <span class=\"n\">key</span><span class=\"p\">,</span> <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">values</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">final_reducer</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">pairs</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"nb\">tuple</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">pairs</span><span class=\"p\">}</span>\n\n\n<span class=\"n\">wc</span> <span class=\"o\">=</span> <span class=\"n\">WordCount</span><span class=\"p\">()</span>\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s1\">'LICENSE.txt'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n    <span class=\"n\">out</span> <span class=\"o\">=</span> <span class=\"n\">wc</span><span class=\"p\">(</span><span class=\"n\">f</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"n\">dumps</span><span class=\"p\">(</span><span class=\"n\">out</span><span class=\"p\">,</span> <span class=\"n\">indent</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"n\">sort_keys</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>\n</pre>\n<p>Truncated output:</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"nt\">\"a\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"above\"</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"advised\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"all\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"and\"</span><span class=\"p\">:</span> <span class=\"mi\">8</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"andor\"</span><span class=\"p\">:</span> <span class=\"mi\">1</span>\n<span class=\"p\">}</span>\n</pre>\n</div>\n<div id=\"developing\">\n<h2>Developing</h2>\n<pre><span class=\"gp\">$</span> git clone https://github.com/geowurster/tinymr.git\n<span class=\"gp\">$</span> <span class=\"nb\">cd</span> tinymr\n<span class=\"gp\">$</span> pip install -e .<span class=\"se\">\\[</span>dev<span class=\"se\">\\]</span>\n<span class=\"gp\">$</span> py.test tests --cov tinymr --cov-report term-missing\n</pre>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>See <tt>LICENSE.txt</tt></p>\n</div>\n<div id=\"changelog\">\n<h2>Changelog</h2>\n<p>See <tt>CHANGES.md</tt></p>\n</div>\n\n          </div>"}, "last_serial": 2349389, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "6c47547eecc5f6b3093da2da127b15a4", "sha256": "093f2359d19a279a1ba88fae77b3af25650245f30ec7c027a99e733e95d1bff9"}, "downloads": -1, "filename": "tinymr-0.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "6c47547eecc5f6b3093da2da127b15a4", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 15074, "upload_time": "2016-09-18T17:42:20", "upload_time_iso_8601": "2016-09-18T17:42:20.013227Z", "url": "https://files.pythonhosted.org/packages/0b/3a/2b8c208985c7e8ee3be96a880b1757076c35bb67d98ae2a9a52948a1e709/tinymr-0.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4e554c14e854da308529f9e201150fd7", "sha256": "bba34762221bcf14696679b11f81810bd5a09258c1a9eec4a1c63cfbc11fe980"}, "downloads": -1, "filename": "tinymr-0.1.tar.gz", "has_sig": false, "md5_digest": "4e554c14e854da308529f9e201150fd7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16810, "upload_time": "2016-09-18T17:42:23", "upload_time_iso_8601": "2016-09-18T17:42:23.638148Z", "url": "https://files.pythonhosted.org/packages/d8/3c/adbb7418a860a1202b7bb8f1dfc296ff43b622512a330ca8919e5edd1b87/tinymr-0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "6c47547eecc5f6b3093da2da127b15a4", "sha256": "093f2359d19a279a1ba88fae77b3af25650245f30ec7c027a99e733e95d1bff9"}, "downloads": -1, "filename": "tinymr-0.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "6c47547eecc5f6b3093da2da127b15a4", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 15074, "upload_time": "2016-09-18T17:42:20", "upload_time_iso_8601": "2016-09-18T17:42:20.013227Z", "url": "https://files.pythonhosted.org/packages/0b/3a/2b8c208985c7e8ee3be96a880b1757076c35bb67d98ae2a9a52948a1e709/tinymr-0.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "4e554c14e854da308529f9e201150fd7", "sha256": "bba34762221bcf14696679b11f81810bd5a09258c1a9eec4a1c63cfbc11fe980"}, "downloads": -1, "filename": "tinymr-0.1.tar.gz", "has_sig": false, "md5_digest": "4e554c14e854da308529f9e201150fd7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16810, "upload_time": "2016-09-18T17:42:23", "upload_time_iso_8601": "2016-09-18T17:42:23.638148Z", "url": "https://files.pythonhosted.org/packages/d8/3c/adbb7418a860a1202b7bb8f1dfc296ff43b622512a330ca8919e5edd1b87/tinymr-0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:52:59 2020"}
{"info": {"author": "Tom", "author_email": "tom@tomforb.es", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django", "Framework :: Flask", "Framework :: Pyramid", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 2", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.2", "Programming Language :: Python :: 3.3", "Topic :: Internet :: WWW/HTTP", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "===============================================\ndatatables |PyPi Version| |TravisCI| |Coverage|\n===============================================\n\n.. |PyPi Version| image:: http://img.shields.io/pypi/v/datatables.svg?style=flat\n    :target: https://pypi.python.org/pypi/datatables\n\n.. |TravisCI| image:: https://api.travis-ci.org/orf/datatables.svg\n    :target: https://travis-ci.org/orf/datatables\n\n.. |Coverage| image:: https://coveralls.io/repos/orf/datatables/badge.png?branch=master\n  :target: https://coveralls.io/r/orf/datatables?branch=master\n\n\n\n\nInstallation\n------------\n\nThe package is available on `PyPI <https://pypi.python.org/pypi/datatables>`_ and is tested on Python 2.7 to 3.4\n\n.. code-block:: bash\n\n    pip install datatables\n\nUsage\n-----\n\nUsing Datatables is simple. Construct a DataTable instance by passing it your request parameters (or another dict-like\nobject), your model class, a base query and a set of columns. The columns list can contain simple strings which are\ncolumn names, or tuples containing (datatable_name, model_name), (datatable_name, model_name, filter_function) or\n(datatable_name, filter_function).\n\nAdditional data such as hyperlinks can be added via DataTable.add_data, which accepts a callable that is called for\neach instance. Check out the usage example below for more info.\n\n\nExample\n-------\n\n**models.py**\n\n.. code-block:: python\n\n    class User(Base):\n        __tablename__ = 'users'\n\n        id          = Column(Integer, primary_key=True)\n        full_name   = Column(Text)\n        created_at  = Column(DateTime, default=datetime.datetime.utcnow)\n\n        # Use lazy=joined to prevent O(N) queries\n        address     = relationship(\"Address\", uselist=False, backref=\"user\", lazy=\"joined\")\n\n    class Address(Base):\n        __tablename__ = 'addresses'\n\n        id          = Column(Integer, primary_key=True)\n        description = Column(Text, unique=True)\n        user_id     = Column(Integer, ForeignKey('users.id'))\n\n**views.py**\n\n.. code-block:: python\n\n    @view_config(route_name=\"data\", request_method=\"GET\", renderer=\"json\")\n    def users_data(request):\n        # User.query = session.query(User)\n        table = DataTable(request.GET, User, User.query, [\n            \"id\",\n            (\"name\", \"full_name\", lambda i: \"User: {}\".format(i.full_name)),\n            (\"address\", \"address.description\"),\n        ])\n        table.add_data(link=lambda o: request.route_url(\"view_user\", id=o.id))\n        table.searchable(lambda queryset, user_input: perform_some_search(queryset, user_input))\n\n        return table.json()\n\n**template.jinja2**\n\n.. code-block:: html\n\n    <table class=\"table\" id=\"clients_list\">\n        <thead>\n            <tr>\n                <th>Id</th>\n                <th>User name</th>\n                <th>Address</th>\n            </tr>\n        </thead>\n        <tbody>\n        </tbody>\n    </table>\n\n    <script>\n        $(\"#clients_list\").dataTable({\n            serverSide: true,\n            processing: true,\n            ajax: \"{{ request.route_url(\"data\") }}\",\n            columns: [\n                {\n                    data: \"id\",\n                    \"render\": function(data, type, row){\n                        return $(\"<div>\").append($(\"<a/>\").attr(\"href\", row.DT_RowData.link).text(data)).html();\n                    }\n                },\n                { data: \"name\" },\n                { data: \"address\" }\n            ]\n    </script>", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/orf/datatables/", "keywords": "sqlalchemy datatables jquery pyramid flask", "license": "MIT", "maintainer": null, "maintainer_email": null, "name": "ninchanese-datatables", "package_url": "https://pypi.org/project/ninchanese-datatables/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/ninchanese-datatables/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/orf/datatables/"}, "release_url": "https://pypi.org/project/ninchanese-datatables/0.5.1/", "requires_dist": null, "requires_python": null, "summary": "Integrates SQLAlchemy with DataTables (framework agnostic) - Containing fixes for ninchanese.com", "version": "0.5.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"installation\">\n<h2>Installation</h2>\n<p>The package is available on <a href=\"https://pypi.python.org/pypi/datatables\" rel=\"nofollow\">PyPI</a> and is tested on Python 2.7 to 3.4</p>\n<pre>pip install datatables\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>Using Datatables is simple. Construct a DataTable instance by passing it your request parameters (or another dict-like\nobject), your model class, a base query and a set of columns. The columns list can contain simple strings which are\ncolumn names, or tuples containing (datatable_name, model_name), (datatable_name, model_name, filter_function) or\n(datatable_name, filter_function).</p>\n<p>Additional data such as hyperlinks can be added via DataTable.add_data, which accepts a callable that is called for\neach instance. Check out the usage example below for more info.</p>\n</div>\n<div id=\"example\">\n<h2>Example</h2>\n<p><strong>models.py</strong></p>\n<pre><span class=\"k\">class</span> <span class=\"nc\">User</span><span class=\"p\">(</span><span class=\"n\">Base</span><span class=\"p\">):</span>\n    <span class=\"n\">__tablename__</span> <span class=\"o\">=</span> <span class=\"s1\">'users'</span>\n\n    <span class=\"nb\">id</span>          <span class=\"o\">=</span> <span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">Integer</span><span class=\"p\">,</span> <span class=\"n\">primary_key</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">full_name</span>   <span class=\"o\">=</span> <span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">Text</span><span class=\"p\">)</span>\n    <span class=\"n\">created_at</span>  <span class=\"o\">=</span> <span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">DateTime</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">utcnow</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># Use lazy=joined to prevent O(N) queries</span>\n    <span class=\"n\">address</span>     <span class=\"o\">=</span> <span class=\"n\">relationship</span><span class=\"p\">(</span><span class=\"s2\">\"Address\"</span><span class=\"p\">,</span> <span class=\"n\">uselist</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">,</span> <span class=\"n\">backref</span><span class=\"o\">=</span><span class=\"s2\">\"user\"</span><span class=\"p\">,</span> <span class=\"n\">lazy</span><span class=\"o\">=</span><span class=\"s2\">\"joined\"</span><span class=\"p\">)</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Address</span><span class=\"p\">(</span><span class=\"n\">Base</span><span class=\"p\">):</span>\n    <span class=\"n\">__tablename__</span> <span class=\"o\">=</span> <span class=\"s1\">'addresses'</span>\n\n    <span class=\"nb\">id</span>          <span class=\"o\">=</span> <span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">Integer</span><span class=\"p\">,</span> <span class=\"n\">primary_key</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">description</span> <span class=\"o\">=</span> <span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">Text</span><span class=\"p\">,</span> <span class=\"n\">unique</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">user_id</span>     <span class=\"o\">=</span> <span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"n\">Integer</span><span class=\"p\">,</span> <span class=\"n\">ForeignKey</span><span class=\"p\">(</span><span class=\"s1\">'users.id'</span><span class=\"p\">))</span>\n</pre>\n<p><strong>views.py</strong></p>\n<pre><span class=\"nd\">@view_config</span><span class=\"p\">(</span><span class=\"n\">route_name</span><span class=\"o\">=</span><span class=\"s2\">\"data\"</span><span class=\"p\">,</span> <span class=\"n\">request_method</span><span class=\"o\">=</span><span class=\"s2\">\"GET\"</span><span class=\"p\">,</span> <span class=\"n\">renderer</span><span class=\"o\">=</span><span class=\"s2\">\"json\"</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">users_data</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"c1\"># User.query = session.query(User)</span>\n    <span class=\"n\">table</span> <span class=\"o\">=</span> <span class=\"n\">DataTable</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"n\">User</span><span class=\"p\">,</span> <span class=\"n\">User</span><span class=\"o\">.</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"p\">[</span>\n        <span class=\"s2\">\"id\"</span><span class=\"p\">,</span>\n        <span class=\"p\">(</span><span class=\"s2\">\"name\"</span><span class=\"p\">,</span> <span class=\"s2\">\"full_name\"</span><span class=\"p\">,</span> <span class=\"k\">lambda</span> <span class=\"n\">i</span><span class=\"p\">:</span> <span class=\"s2\">\"User: </span><span class=\"si\">{}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"n\">full_name</span><span class=\"p\">)),</span>\n        <span class=\"p\">(</span><span class=\"s2\">\"address\"</span><span class=\"p\">,</span> <span class=\"s2\">\"address.description\"</span><span class=\"p\">),</span>\n    <span class=\"p\">])</span>\n    <span class=\"n\">table</span><span class=\"o\">.</span><span class=\"n\">add_data</span><span class=\"p\">(</span><span class=\"n\">link</span><span class=\"o\">=</span><span class=\"k\">lambda</span> <span class=\"n\">o</span><span class=\"p\">:</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">route_url</span><span class=\"p\">(</span><span class=\"s2\">\"view_user\"</span><span class=\"p\">,</span> <span class=\"nb\">id</span><span class=\"o\">=</span><span class=\"n\">o</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"p\">))</span>\n    <span class=\"n\">table</span><span class=\"o\">.</span><span class=\"n\">searchable</span><span class=\"p\">(</span><span class=\"k\">lambda</span> <span class=\"n\">queryset</span><span class=\"p\">,</span> <span class=\"n\">user_input</span><span class=\"p\">:</span> <span class=\"n\">perform_some_search</span><span class=\"p\">(</span><span class=\"n\">queryset</span><span class=\"p\">,</span> <span class=\"n\">user_input</span><span class=\"p\">))</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">table</span><span class=\"o\">.</span><span class=\"n\">json</span><span class=\"p\">()</span>\n</pre>\n<p><strong>template.jinja2</strong></p>\n<pre><span class=\"p\">&lt;</span><span class=\"nt\">table</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"table\"</span> <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">\"clients_list\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">thead</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">tr</span><span class=\"p\">&gt;</span>\n            <span class=\"p\">&lt;</span><span class=\"nt\">th</span><span class=\"p\">&gt;</span>Id<span class=\"p\">&lt;/</span><span class=\"nt\">th</span><span class=\"p\">&gt;</span>\n            <span class=\"p\">&lt;</span><span class=\"nt\">th</span><span class=\"p\">&gt;</span>User name<span class=\"p\">&lt;/</span><span class=\"nt\">th</span><span class=\"p\">&gt;</span>\n            <span class=\"p\">&lt;</span><span class=\"nt\">th</span><span class=\"p\">&gt;</span>Address<span class=\"p\">&lt;/</span><span class=\"nt\">th</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;/</span><span class=\"nt\">tr</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">thead</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">tbody</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">tbody</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">table</span><span class=\"p\">&gt;</span>\n\n<span class=\"p\">&lt;</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#clients_list\"</span><span class=\"p\">).</span><span class=\"nx\">dataTable</span><span class=\"p\">({</span>\n        <span class=\"nx\">serverSide</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"nx\">processing</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"nx\">ajax</span><span class=\"o\">:</span> <span class=\"s2\">\"{{ request.route_url(\"</span><span class=\"nx\">data</span><span class=\"s2\">\") }}\"</span><span class=\"p\">,</span>\n        <span class=\"nx\">columns</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n                <span class=\"nx\">data</span><span class=\"o\">:</span> <span class=\"s2\">\"id\"</span><span class=\"p\">,</span>\n                <span class=\"s2\">\"render\"</span><span class=\"o\">:</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">,</span> <span class=\"nx\">type</span><span class=\"p\">,</span> <span class=\"nx\">row</span><span class=\"p\">){</span>\n                    <span class=\"k\">return</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;div&gt;\"</span><span class=\"p\">).</span><span class=\"nx\">append</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;a/&gt;\"</span><span class=\"p\">).</span><span class=\"nx\">attr</span><span class=\"p\">(</span><span class=\"s2\">\"href\"</span><span class=\"p\">,</span> <span class=\"nx\">row</span><span class=\"p\">.</span><span class=\"nx\">DT_RowData</span><span class=\"p\">.</span><span class=\"nx\">link</span><span class=\"p\">).</span><span class=\"nx\">text</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)).</span><span class=\"nx\">html</span><span class=\"p\">();</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">},</span>\n            <span class=\"p\">{</span> <span class=\"nx\">data</span><span class=\"o\">:</span> <span class=\"s2\">\"name\"</span> <span class=\"p\">},</span>\n            <span class=\"p\">{</span> <span class=\"nx\">data</span><span class=\"o\">:</span> <span class=\"s2\">\"address\"</span> <span class=\"p\">}</span>\n        <span class=\"p\">]</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n</pre>\n</div>\n\n          </div>"}, "last_serial": 2329294, "releases": {"0.5.1": [{"comment_text": "", "digests": {"md5": "ccaec4f6513f92eada722f07dbdadcd1", "sha256": "ecb93b0d52b70625d9b7c28e52b30560def68cfb262233f7198d8f759cf83c65"}, "downloads": -1, "filename": "ninchanese_datatables-0.5.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "ccaec4f6513f92eada722f07dbdadcd1", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 7432, "upload_time": "2016-09-07T12:02:32", "upload_time_iso_8601": "2016-09-07T12:02:32.967991Z", "url": "https://files.pythonhosted.org/packages/d3/5b/2857f9ee92d40d8bb5baca6ef4ac13795c4eb116706f2fa3bc64210a72c1/ninchanese_datatables-0.5.1-py2.py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "ccaec4f6513f92eada722f07dbdadcd1", "sha256": "ecb93b0d52b70625d9b7c28e52b30560def68cfb262233f7198d8f759cf83c65"}, "downloads": -1, "filename": "ninchanese_datatables-0.5.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "ccaec4f6513f92eada722f07dbdadcd1", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 7432, "upload_time": "2016-09-07T12:02:32", "upload_time_iso_8601": "2016-09-07T12:02:32.967991Z", "url": "https://files.pythonhosted.org/packages/d3/5b/2857f9ee92d40d8bb5baca6ef4ac13795c4eb116706f2fa3bc64210a72c1/ninchanese_datatables-0.5.1-py2.py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 00:45:20 2020"}
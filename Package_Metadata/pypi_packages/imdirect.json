{"info": {"author": "Henrik Blidh", "author_email": "henrik.blidh@nedomkull.com", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: Implementation :: CPython", "Programming Language :: Python :: Implementation :: PyPy"], "description": "\nimdirect\n========\n\n|Build Status| |Coverage Status|\n\nPIL extension performing automatic rotation of opened JPEG images.\n\nDescription\n-----------\n\nThe orientation of the photographed object or scene with respect to the\ndigital camera is encoded in the resulting image's Exif [1]_ data\n(given that it is saved as a JPEG). When working with such digital\ncamera images, this orientation might lead to problems handling the\nimage and is very often desired to be counteracted.\n\nThis module is a small extension to `Pillow <https://pillow.readthedocs.io/en/3.3.x/>`_ that\n`monkey patches <https://en.wikipedia.org/wiki/Monkey_patch>`_\nthe `PIL.Image.open <http://pillow.readthedocs.io/en/3.3.x/reference/Image.html#PIL.Image.open>`_ method\nto automatically rotate the image [2]_ (by lossless methods) and update\nthe Exif tag accordingly, given that image is a JPEG.\n\nThe package also features a save method that includes the Exif data\nby default when saving JPEGs.\n\nInstallation\n------------\n\n::\n\n    pip install imdirect\n\nUsage\n-----\n\nDemonstration of the monkey patching and how it works:\n\n.. code:: python\n\n   >>> from PIL import Image\n   >>> import imdirect\n   >>> img = Image.open('image.jpg')\n   >>> print(\"{0}, Orientation: {1}\".format(img, img._getexif().get(274)))\n   <PIL.JpegImagePlugin.JpegImageFile image mode=RGB size=4032x3024 at 0x7F44B5E4FF10>, Orientation: 6\n   >>> imdirect.monkey_patch()\n   >>> img_autorotated = Image.open('image.jpg')\n   >>> print(\"{0}, Orientation: {1}\".format(img_autorotated, img_autorotated._getexif().get(274)))\n   <PIL.JpegImagePlugin.JpegImageFile image mode=RGB size=3024x4032 at 0x7F44B5DF5150>, Orientation: 1\n\n\nThe package can also be used without monkey patching, by applying the\n``imdirect.imdirect_open`` method directly:\n\n.. code:: python\n\n   >>> from imdirect import imdirect_open\n   >>> img = imdirect_open('image.jpg')\n\nor by using the ``imdirect.autorotate`` on a ``PIL.Image.Image`` object:\n\n.. code:: python\n\n   >>> from PIL import Image\n   >>> import imdirect\n   >>> img = Image.open('image.jpg')\n   >>> img_rotated = imdirect.autorotate(img)\n\nThe last method does not return a ``PIL.JpegImagePlugin.JpegImageFile``, but can still be used\nif the Exif information of the original image is undesired.\n\nTests\n~~~~~\n\nTests can be run with `pytest <http://doc.pytest.org/en/latest/>`_:\n\n.. code:: sh\n\n   Testing started at 13:28 ...\n   ============================= test session starts ==============================\n   platform linux2 -- Python 2.7.12, pytest-3.0.1, py-1.4.31, pluggy-0.3.1\n   rootdir: /home/hbldh/Repos/imdirect, inifile:\n   collected 4 items\n\n   test_autorotate.py ...\n   test_monkey_patching.py .\n\n   =========================== 4 passed in 0.08 seconds ===========================\n\nReferences\n----------\n\n.. [1] Exif on Wikipedia (https://en.wikipedia.org/wiki/Exif)\n\n.. [2] Exif orientation (http://sylvana.net/jpegcrop/exif_orientation.html)\n\n\n.. |Build Status| image:: https://travis-ci.org/hbldh/imdirect.svg?branch=master\n   :target: https://travis-ci.org/hbldh/imdirect\n.. |Coverage Status| image:: https://coveralls.io/repos/github/hbldh/imdirect/badge.svg?branch=master\n   :target: https://coveralls.io/github/hbldh/imdirect?branch=master\n\n\n", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/hbldh/imdirect", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "imdirect", "package_url": "https://pypi.org/project/imdirect/", "platform": "", "project_url": "https://pypi.org/project/imdirect/", "project_urls": {"Homepage": "https://github.com/hbldh/imdirect"}, "release_url": "https://pypi.org/project/imdirect/0.5.0/", "requires_dist": ["Pillow", "piexif"], "requires_python": "", "summary": "PIL extension performing automatic rotation of opened JPEG images", "version": "0.5.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://travis-ci.org/hbldh/imdirect\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0c36775f1b42972f0b77ccce27e419e6c82023dd/68747470733a2f2f7472617669732d63692e6f72672f68626c64682f696d6469726563742e7376673f6272616e63683d6d6173746572\"></a> <a href=\"https://coveralls.io/github/hbldh/imdirect?branch=master\" rel=\"nofollow\"><img alt=\"Coverage Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8ab6ab111d35d434f6176daad2f8954468bcdc0f/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f68626c64682f696d6469726563742f62616467652e7376673f6272616e63683d6d6173746572\"></a></p>\n<p>PIL extension performing automatic rotation of opened JPEG images.</p>\n<div id=\"description\">\n<h2>Description</h2>\n<p>The orientation of the photographed object or scene with respect to the\ndigital camera is encoded in the resulting image\u2019s Exif <a href=\"#id3\" id=\"id1\" rel=\"nofollow\">[1]</a> data\n(given that it is saved as a JPEG). When working with such digital\ncamera images, this orientation might lead to problems handling the\nimage and is very often desired to be counteracted.</p>\n<p>This module is a small extension to <a href=\"https://pillow.readthedocs.io/en/3.3.x/\" rel=\"nofollow\">Pillow</a> that\n<a href=\"https://en.wikipedia.org/wiki/Monkey_patch\" rel=\"nofollow\">monkey patches</a>\nthe <a href=\"http://pillow.readthedocs.io/en/3.3.x/reference/Image.html#PIL.Image.open\" rel=\"nofollow\">PIL.Image.open</a> method\nto automatically rotate the image <a href=\"#id4\" id=\"id2\" rel=\"nofollow\">[2]</a> (by lossless methods) and update\nthe Exif tag accordingly, given that image is a JPEG.</p>\n<p>The package also features a save method that includes the Exif data\nby default when saving JPEGs.</p>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>pip install imdirect\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<p>Demonstration of the monkey patching and how it works:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">PIL</span> <span class=\"kn\">import</span> <span class=\"n\">Image</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">import</span> <span class=\"nn\">imdirect</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">img</span> <span class=\"o\">=</span> <span class=\"n\">Image</span><span class=\"o\">.</span><span class=\"n\">open</span><span class=\"p\">(</span><span class=\"s1\">'image.jpg'</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"</span><span class=\"si\">{0}</span><span class=\"s2\">, Orientation: </span><span class=\"si\">{1}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">img</span><span class=\"p\">,</span> <span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">_getexif</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"mi\">274</span><span class=\"p\">)))</span>\n<span class=\"o\">&lt;</span><span class=\"n\">PIL</span><span class=\"o\">.</span><span class=\"n\">JpegImagePlugin</span><span class=\"o\">.</span><span class=\"n\">JpegImageFile</span> <span class=\"n\">image</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"n\">RGB</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">4032</span><span class=\"n\">x3024</span> <span class=\"n\">at</span> <span class=\"mh\">0x7F44B5E4FF10</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"n\">Orientation</span><span class=\"p\">:</span> <span class=\"mi\">6</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">imdirect</span><span class=\"o\">.</span><span class=\"n\">monkey_patch</span><span class=\"p\">()</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">img_autorotated</span> <span class=\"o\">=</span> <span class=\"n\">Image</span><span class=\"o\">.</span><span class=\"n\">open</span><span class=\"p\">(</span><span class=\"s1\">'image.jpg'</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"</span><span class=\"si\">{0}</span><span class=\"s2\">, Orientation: </span><span class=\"si\">{1}</span><span class=\"s2\">\"</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">img_autorotated</span><span class=\"p\">,</span> <span class=\"n\">img_autorotated</span><span class=\"o\">.</span><span class=\"n\">_getexif</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"mi\">274</span><span class=\"p\">)))</span>\n<span class=\"o\">&lt;</span><span class=\"n\">PIL</span><span class=\"o\">.</span><span class=\"n\">JpegImagePlugin</span><span class=\"o\">.</span><span class=\"n\">JpegImageFile</span> <span class=\"n\">image</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"n\">RGB</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">3024</span><span class=\"n\">x4032</span> <span class=\"n\">at</span> <span class=\"mh\">0x7F44B5DF5150</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"n\">Orientation</span><span class=\"p\">:</span> <span class=\"mi\">1</span>\n</pre>\n<p>The package can also be used without monkey patching, by applying the\n<tt>imdirect.imdirect_open</tt> method directly:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">imdirect</span> <span class=\"kn\">import</span> <span class=\"n\">imdirect_open</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">img</span> <span class=\"o\">=</span> <span class=\"n\">imdirect_open</span><span class=\"p\">(</span><span class=\"s1\">'image.jpg'</span><span class=\"p\">)</span>\n</pre>\n<p>or by using the <tt>imdirect.autorotate</tt> on a <tt>PIL.Image.Image</tt> object:</p>\n<pre><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">PIL</span> <span class=\"kn\">import</span> <span class=\"n\">Image</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">import</span> <span class=\"nn\">imdirect</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">img</span> <span class=\"o\">=</span> <span class=\"n\">Image</span><span class=\"o\">.</span><span class=\"n\">open</span><span class=\"p\">(</span><span class=\"s1\">'image.jpg'</span><span class=\"p\">)</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">img_rotated</span> <span class=\"o\">=</span> <span class=\"n\">imdirect</span><span class=\"o\">.</span><span class=\"n\">autorotate</span><span class=\"p\">(</span><span class=\"n\">img</span><span class=\"p\">)</span>\n</pre>\n<p>The last method does not return a <tt>PIL.JpegImagePlugin.JpegImageFile</tt>, but can still be used\nif the Exif information of the original image is undesired.</p>\n<div id=\"tests\">\n<h3>Tests</h3>\n<p>Tests can be run with <a href=\"http://doc.pytest.org/en/latest/\" rel=\"nofollow\">pytest</a>:</p>\n<pre>Testing started at <span class=\"m\">13</span>:28 ...\n<span class=\"o\">=============================</span> <span class=\"nb\">test</span> session <span class=\"nv\">starts</span> <span class=\"o\">==============================</span>\nplatform linux2 -- Python <span class=\"m\">2</span>.7.12, pytest-3.0.1, py-1.4.31, pluggy-0.3.1\nrootdir: /home/hbldh/Repos/imdirect, inifile:\ncollected <span class=\"m\">4</span> items\n\ntest_autorotate.py ...\ntest_monkey_patching.py .\n\n<span class=\"o\">===========================</span> <span class=\"m\">4</span> passed in <span class=\"m\">0</span>.08 <span class=\"nv\">seconds</span> <span class=\"o\">===========================</span>\n</pre>\n</div>\n</div>\n<div id=\"references\">\n<h2>References</h2>\n<table id=\"id3\">\n<col><col>\n<tbody>\n<tr><td><a href=\"#id1\" rel=\"nofollow\">[1]</a></td><td>Exif on Wikipedia (<a href=\"https://en.wikipedia.org/wiki/Exif\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Exif</a>)</td></tr>\n</tbody>\n</table>\n<table id=\"id4\">\n<col><col>\n<tbody>\n<tr><td><a href=\"#id2\" rel=\"nofollow\">[2]</a></td><td>Exif orientation (<a href=\"http://sylvana.net/jpegcrop/exif_orientation.html\" rel=\"nofollow\">http://sylvana.net/jpegcrop/exif_orientation.html</a>)</td></tr>\n</tbody>\n</table>\n</div>\n\n          </div>"}, "last_serial": 3341168, "releases": {"0.5.0": [{"comment_text": "", "digests": {"md5": "e9edb77915c6b48ee3ac3d4424054583", "sha256": "a7881e69e92e866447d65707ed29c004a9e5c33c67d14c629f41aa0052f4492c"}, "downloads": -1, "filename": "imdirect-0.5.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "e9edb77915c6b48ee3ac3d4424054583", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 8889, "upload_time": "2017-11-17T12:17:28", "upload_time_iso_8601": "2017-11-17T12:17:28.027626Z", "url": "https://files.pythonhosted.org/packages/66/bb/95f2fdf0e5733809e7d157ecf622790af7cd14f38624e8760976b1a6a89c/imdirect-0.5.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6a41c8d7d2230bcd4a42d13693fb01b7", "sha256": "aec6499af317ce673dd3f65ab1a2bd6bbdd2d3ebcdb1fbcdab25c41dc32f2440"}, "downloads": -1, "filename": "imdirect-0.5.0.tar.gz", "has_sig": false, "md5_digest": "6a41c8d7d2230bcd4a42d13693fb01b7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6837, "upload_time": "2017-11-17T12:17:30", "upload_time_iso_8601": "2017-11-17T12:17:30.711809Z", "url": "https://files.pythonhosted.org/packages/37/6e/02bbb050ccbc7ff87b89c8b310c9bb9b0bfa074084deb0afd13f361c9973/imdirect-0.5.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e9edb77915c6b48ee3ac3d4424054583", "sha256": "a7881e69e92e866447d65707ed29c004a9e5c33c67d14c629f41aa0052f4492c"}, "downloads": -1, "filename": "imdirect-0.5.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "e9edb77915c6b48ee3ac3d4424054583", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": null, "size": 8889, "upload_time": "2017-11-17T12:17:28", "upload_time_iso_8601": "2017-11-17T12:17:28.027626Z", "url": "https://files.pythonhosted.org/packages/66/bb/95f2fdf0e5733809e7d157ecf622790af7cd14f38624e8760976b1a6a89c/imdirect-0.5.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6a41c8d7d2230bcd4a42d13693fb01b7", "sha256": "aec6499af317ce673dd3f65ab1a2bd6bbdd2d3ebcdb1fbcdab25c41dc32f2440"}, "downloads": -1, "filename": "imdirect-0.5.0.tar.gz", "has_sig": false, "md5_digest": "6a41c8d7d2230bcd4a42d13693fb01b7", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6837, "upload_time": "2017-11-17T12:17:30", "upload_time_iso_8601": "2017-11-17T12:17:30.711809Z", "url": "https://files.pythonhosted.org/packages/37/6e/02bbb050ccbc7ff87b89c8b310c9bb9b0bfa074084deb0afd13f361c9973/imdirect-0.5.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:56:44 2020"}
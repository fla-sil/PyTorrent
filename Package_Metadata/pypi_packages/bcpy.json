{"info": {"author": "John Shojaei", "author_email": "titan550@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Programming Language :: SQL", "Topic :: Database"], "description": "# bcpy\n\n<table>\n<tr>\n  <td>Latest Release</td>\n  <td>\n    <a href=\"https://pypi.org/project/bcpy/\">\n    <img src=\"https://img.shields.io/pypi/v/bcpy.svg\" alt=\"latest release\" />\n    </a>\n  </td>\n</tr>\n<tr>\n  <td>License</td>\n  <td>\n    <a href=\"https://github.com/titan550/bcpy/blob/master/LICENSE\">\n    <img src=\"https://img.shields.io/pypi/l/bcpy.svg\" alt=\"license\" />\n    </a>\n</td>\n</tr>\n<tr>\n  <td>Build Status (master)</td>\n  <td>\n    <a href=\"https://travis-ci.org/titan550/bcpy\">\n    <img src=\"https://api.travis-ci.org/titan550/bcpy.svg?branch=master\" alt=\"travis build status\" />\n    </a>\n  </td>\n</tr>\n</table>\n\n## What is it?\n\nThis package is a wrapper for Microsoft's SQL Server bcp utility. Current database drivers available in Python are not fast enough for transferring millions of records (yes, I have tried [pyodbc fast_execute_many](https://github.com/mkleehammer/pyodbc/wiki/Features-beyond-the-DB-API#fast_executemany)). Despite the IO hits, the fastest option by far is saving the data to a CSV file in file system (preferably /dev/shm tmpfs) and using the bcp utility to transfer the CSV file to SQL Server.\n\n## How Can I Install It?\n\n1. Make sure your computeer has the [requirements](#requirements).\n1. You can download and install this package from PyPI repository by running the command below.\n\n```bash\npip install bcpy\n```\n\n## Examples\n\nFollowing examples show you how to load (1) flat files and (2) DataFrame objects to SQL Server using this package.\n\n### Flat File\n\nFollowing example assumes that you have a comma separated file with no qualifier in path 'tests/data1.csv'. The code below sends the the file to SQL Server.\n\n```python\nimport bcpy\n\n\nsql_config = {\n    'server': 'sql_server_hostname',\n    'database': 'database_name',\n    'username': 'test_user',\n    'password': 'test_user_password1234'\n}\nsql_table_name = 'test_data1'\ncsv_file_path = 'tests/data1.csv'\nflat_file = bcpy.FlatFile(qualifier='', path=csv_file_path)\nsql_table = bcpy.SqlTable(sql_config, table=sql_table_name)\nflat_file.to_sql(sql_table)\n```\n\n### DataFrame\n\nThe following example creates a DataFrame with 100 rows and 4 columns populated with random data and then it sends it to SQL Server.\n\n```python\nimport bcpy\nimport numpy as np\nimport pandas as pd\n\n\nsql_config = {\n    'server': 'sql_server_hostname',\n    'database': 'database_name',\n    'username': 'test_user',\n    'password': 'test_user_password1234'\n}\ntable_name = 'test_dataframe'\ndf = pd.DataFrame(np.random.randint(-100, 100, size=(100, 4)),\n                  columns=list('ABCD'))\nbdf = bcpy.DataFrame(df)\nsql_table = bcpy.SqlTable(sql_config, table=table_name)\nbdf.to_sql(sql_table)\n```\n\n## Requirements\n\nYou need a working version of Microsoft bcp installed in your system. Your PATH environment variable should contain the directory of the bcp utility. Following are the installation tutorials for different operating systems.\n\n- [Dockerfile (Ubuntu 18.04)](./bcp.Dockerfile)\n- [Linux](https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools)\n- [Mac](https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools?view=sql-server-2017#macos)\n- [Windows](https://docs.microsoft.com/en-us/sql/tools/bcp-utility)", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/titan550/bcpy", "keywords": "bcp mssql", "license": "", "maintainer": "", "maintainer_email": "", "name": "bcpy", "package_url": "https://pypi.org/project/bcpy/", "platform": "", "project_url": "https://pypi.org/project/bcpy/", "project_urls": {"Homepage": "https://github.com/titan550/bcpy"}, "release_url": "https://pypi.org/project/bcpy/0.1.8/", "requires_dist": null, "requires_python": "", "summary": "Microsoft SQL Server bcp (Bulk Copy) wrapper", "version": "0.1.8", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>bcpy</h1>\n<table>\n<tr>\n  <td>Latest Release</td>\n  <td>\n    <a href=\"https://pypi.org/project/bcpy/\" rel=\"nofollow\">\n    <img alt=\"latest release\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/efb5a16d01edc8656516207e36c2231ed5743532/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f626370792e737667\">\n    </a>\n  </td>\n</tr>\n<tr>\n  <td>License</td>\n  <td>\n    <a href=\"https://github.com/titan550/bcpy/blob/master/LICENSE\" rel=\"nofollow\">\n    <img alt=\"license\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/134368a752e32881f132f44e9e41a228fd82fd5b/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f626370792e737667\">\n    </a>\n</td>\n</tr>\n<tr>\n  <td>Build Status (master)</td>\n  <td>\n    <a href=\"https://travis-ci.org/titan550/bcpy\" rel=\"nofollow\">\n    <img alt=\"travis build status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/101994228c5c8141771068fdf78a21a8ecd41fc4/68747470733a2f2f6170692e7472617669732d63692e6f72672f746974616e3535302f626370792e7376673f6272616e63683d6d6173746572\">\n    </a>\n  </td>\n</tr>\n</table>\n<h2>What is it?</h2>\n<p>This package is a wrapper for Microsoft's SQL Server bcp utility. Current database drivers available in Python are not fast enough for transferring millions of records (yes, I have tried <a href=\"https://github.com/mkleehammer/pyodbc/wiki/Features-beyond-the-DB-API#fast_executemany\" rel=\"nofollow\">pyodbc fast_execute_many</a>). Despite the IO hits, the fastest option by far is saving the data to a CSV file in file system (preferably /dev/shm tmpfs) and using the bcp utility to transfer the CSV file to SQL Server.</p>\n<h2>How Can I Install It?</h2>\n<ol>\n<li>Make sure your computeer has the <a href=\"#requirements\" rel=\"nofollow\">requirements</a>.</li>\n<li>You can download and install this package from PyPI repository by running the command below.</li>\n</ol>\n<pre>pip install bcpy\n</pre>\n<h2>Examples</h2>\n<p>Following examples show you how to load (1) flat files and (2) DataFrame objects to SQL Server using this package.</p>\n<h3>Flat File</h3>\n<p>Following example assumes that you have a comma separated file with no qualifier in path 'tests/data1.csv'. The code below sends the the file to SQL Server.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">bcpy</span>\n\n\n<span class=\"n\">sql_config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'server'</span><span class=\"p\">:</span> <span class=\"s1\">'sql_server_hostname'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'database'</span><span class=\"p\">:</span> <span class=\"s1\">'database_name'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'username'</span><span class=\"p\">:</span> <span class=\"s1\">'test_user'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'password'</span><span class=\"p\">:</span> <span class=\"s1\">'test_user_password1234'</span>\n<span class=\"p\">}</span>\n<span class=\"n\">sql_table_name</span> <span class=\"o\">=</span> <span class=\"s1\">'test_data1'</span>\n<span class=\"n\">csv_file_path</span> <span class=\"o\">=</span> <span class=\"s1\">'tests/data1.csv'</span>\n<span class=\"n\">flat_file</span> <span class=\"o\">=</span> <span class=\"n\">bcpy</span><span class=\"o\">.</span><span class=\"n\">FlatFile</span><span class=\"p\">(</span><span class=\"n\">qualifier</span><span class=\"o\">=</span><span class=\"s1\">''</span><span class=\"p\">,</span> <span class=\"n\">path</span><span class=\"o\">=</span><span class=\"n\">csv_file_path</span><span class=\"p\">)</span>\n<span class=\"n\">sql_table</span> <span class=\"o\">=</span> <span class=\"n\">bcpy</span><span class=\"o\">.</span><span class=\"n\">SqlTable</span><span class=\"p\">(</span><span class=\"n\">sql_config</span><span class=\"p\">,</span> <span class=\"n\">table</span><span class=\"o\">=</span><span class=\"n\">sql_table_name</span><span class=\"p\">)</span>\n<span class=\"n\">flat_file</span><span class=\"o\">.</span><span class=\"n\">to_sql</span><span class=\"p\">(</span><span class=\"n\">sql_table</span><span class=\"p\">)</span>\n</pre>\n<h3>DataFrame</h3>\n<p>The following example creates a DataFrame with 100 rows and 4 columns populated with random data and then it sends it to SQL Server.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">bcpy</span>\n<span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n\n\n<span class=\"n\">sql_config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'server'</span><span class=\"p\">:</span> <span class=\"s1\">'sql_server_hostname'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'database'</span><span class=\"p\">:</span> <span class=\"s1\">'database_name'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'username'</span><span class=\"p\">:</span> <span class=\"s1\">'test_user'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'password'</span><span class=\"p\">:</span> <span class=\"s1\">'test_user_password1234'</span>\n<span class=\"p\">}</span>\n<span class=\"n\">table_name</span> <span class=\"o\">=</span> <span class=\"s1\">'test_dataframe'</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">randint</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)),</span>\n                  <span class=\"n\">columns</span><span class=\"o\">=</span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"s1\">'ABCD'</span><span class=\"p\">))</span>\n<span class=\"n\">bdf</span> <span class=\"o\">=</span> <span class=\"n\">bcpy</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n<span class=\"n\">sql_table</span> <span class=\"o\">=</span> <span class=\"n\">bcpy</span><span class=\"o\">.</span><span class=\"n\">SqlTable</span><span class=\"p\">(</span><span class=\"n\">sql_config</span><span class=\"p\">,</span> <span class=\"n\">table</span><span class=\"o\">=</span><span class=\"n\">table_name</span><span class=\"p\">)</span>\n<span class=\"n\">bdf</span><span class=\"o\">.</span><span class=\"n\">to_sql</span><span class=\"p\">(</span><span class=\"n\">sql_table</span><span class=\"p\">)</span>\n</pre>\n<h2>Requirements</h2>\n<p>You need a working version of Microsoft bcp installed in your system. Your PATH environment variable should contain the directory of the bcp utility. Following are the installation tutorials for different operating systems.</p>\n<ul>\n<li><a href=\"./bcp.Dockerfile\" rel=\"nofollow\">Dockerfile (Ubuntu 18.04)</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools\" rel=\"nofollow\">Linux</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools?view=sql-server-2017#macos\" rel=\"nofollow\">Mac</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/sql/tools/bcp-utility\" rel=\"nofollow\">Windows</a></li>\n</ul>\n\n          </div>"}, "last_serial": 7050919, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "6ce43cde453cf3f1c193e545147b6292", "sha256": "88dfb6cd573d7ef47750025a693d4729b98e1858114e45418ea9364cbceba4c0"}, "downloads": -1, "filename": "bcpy-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "6ce43cde453cf3f1c193e545147b6292", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 2605, "upload_time": "2019-02-24T05:50:36", "upload_time_iso_8601": "2019-02-24T05:50:36.814561Z", "url": "https://files.pythonhosted.org/packages/4d/20/bbf20baa3b52397bf50fbbe8160d74fc058608a4e16ae5b11863f48772b4/bcpy-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c985ca708b1088592af67c6bb4acf8a8", "sha256": "3715d742f62e59c403ff416eed157ca8820b28c4b11a3e207bbdbe2226aab53e"}, "downloads": -1, "filename": "bcpy-0.0.1.tar.gz", "has_sig": false, "md5_digest": "c985ca708b1088592af67c6bb4acf8a8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1561, "upload_time": "2019-02-24T05:50:39", "upload_time_iso_8601": "2019-02-24T05:50:39.023602Z", "url": "https://files.pythonhosted.org/packages/21/dc/83dd003a8aba417276a59a3139457aedb2a145494d68ab31367cc563e945/bcpy-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "3bbdb48a6413a2514e3d31a9910e8e77", "sha256": "d5be78ad414431501845ad6b04901f5056d791479c9b141534a0ab6fb0dc9106"}, "downloads": -1, "filename": "bcpy-0.0.2.tar.gz", "has_sig": false, "md5_digest": "3bbdb48a6413a2514e3d31a9910e8e77", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1916, "upload_time": "2019-02-24T15:08:02", "upload_time_iso_8601": "2019-02-24T15:08:02.429931Z", "url": "https://files.pythonhosted.org/packages/27/1a/72efd0c744d6a98c46fb2471ffcca82a226b3db92f11693fc782455118a2/bcpy-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "3642b41a3e610685ddf9c6298af25595", "sha256": "7e1aa151e8898824adab94ad4c1bc07bc783d8421b2e82bf59cd589c8091d872"}, "downloads": -1, "filename": "bcpy-0.0.3.tar.gz", "has_sig": false, "md5_digest": "3642b41a3e610685ddf9c6298af25595", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1845, "upload_time": "2019-02-24T16:40:28", "upload_time_iso_8601": "2019-02-24T16:40:28.313910Z", "url": "https://files.pythonhosted.org/packages/4d/4b/cab706b3156f10b8f7e1214469748d442cfe2740c219df179c24c3f47874/bcpy-0.0.3.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "cfcb89b4c2d69aae83850eeaf576d3f0", "sha256": "e6158b1a4c0410600677bcff06ebfff7e14b432cd282207fbbb57f7e579d7f89"}, "downloads": -1, "filename": "bcpy-0.0.5.tar.gz", "has_sig": false, "md5_digest": "cfcb89b4c2d69aae83850eeaf576d3f0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1845, "upload_time": "2019-02-24T16:52:48", "upload_time_iso_8601": "2019-02-24T16:52:48.534132Z", "url": "https://files.pythonhosted.org/packages/d0/1f/0962e5d04135f9a27328a19344cbe6a866751d61dfb636388dd957c25ee9/bcpy-0.0.5.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "7f57ecb7c7b99b85fe2b3f4f7d553bf6", "sha256": "5b32ea5aeb33e26167716cafb635c2921a0bb5c8dd1cd94dc50ec2b70f6f11fc"}, "downloads": -1, "filename": "bcpy-0.1.0.tar.gz", "has_sig": false, "md5_digest": "7f57ecb7c7b99b85fe2b3f4f7d553bf6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8341, "upload_time": "2019-05-07T01:07:15", "upload_time_iso_8601": "2019-05-07T01:07:15.625966Z", "url": "https://files.pythonhosted.org/packages/93/31/3702ccb38a07bfad7639c9d007e211a4b0a7701f96b669ad34b487df6b0e/bcpy-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "89a4f9aa113519548996a0da0eaa13cc", "sha256": "7415a27486db6222db42ca314035550bd98d1b8c9857a8b67663e695740dce3f"}, "downloads": -1, "filename": "bcpy-0.1.1.tar.gz", "has_sig": false, "md5_digest": "89a4f9aa113519548996a0da0eaa13cc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8468, "upload_time": "2019-05-09T05:01:17", "upload_time_iso_8601": "2019-05-09T05:01:17.512009Z", "url": "https://files.pythonhosted.org/packages/3e/1d/bef0c04259533930ca1ed965c9aaffbdacda3a40ca2422ef625897193e09/bcpy-0.1.1.tar.gz", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "7b952a0867a1c6a61b2929feee5919d2", "sha256": "c3917be012b1de80f9c639a7b1db3742507119a57c47831ecd6f099ae73c3b1b"}, "downloads": -1, "filename": "bcpy-0.1.4.tar.gz", "has_sig": false, "md5_digest": "7b952a0867a1c6a61b2929feee5919d2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8468, "upload_time": "2019-05-09T05:25:37", "upload_time_iso_8601": "2019-05-09T05:25:37.983598Z", "url": "https://files.pythonhosted.org/packages/89/b0/a4afa33039a7d406caa918ad15783267ccc5fc8fc25bdaae5748108faab1/bcpy-0.1.4.tar.gz", "yanked": false}], "0.1.5": [{"comment_text": "", "digests": {"md5": "3c26adefefd9735112e61ef3b257a27b", "sha256": "6f15c54325ccdb8db9dbb25278738ea8fa1297d50c88beb55b5a6508a00cb977"}, "downloads": -1, "filename": "bcpy-0.1.5.tar.gz", "has_sig": false, "md5_digest": "3c26adefefd9735112e61ef3b257a27b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8560, "upload_time": "2019-08-07T22:31:23", "upload_time_iso_8601": "2019-08-07T22:31:23.999485Z", "url": "https://files.pythonhosted.org/packages/13/24/735847e827f09221200b1bfde8a66d74f9dfb6ba816c579c56bdad5ccbdb/bcpy-0.1.5.tar.gz", "yanked": false}], "0.1.6": [{"comment_text": "", "digests": {"md5": "0dbab3be9d14a1b03c3f9e1e530d1946", "sha256": "fb73187724403df1c57a649e311fc3756ae626bc77fb0be2e1e69a208b75b7ca"}, "downloads": -1, "filename": "bcpy-0.1.6.tar.gz", "has_sig": false, "md5_digest": "0dbab3be9d14a1b03c3f9e1e530d1946", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7824, "upload_time": "2020-04-18T16:24:25", "upload_time_iso_8601": "2020-04-18T16:24:25.053699Z", "url": "https://files.pythonhosted.org/packages/97/b1/a909d6b64656076027dd76620dfc0154c673d5803270af5a97ad3c1f54c6/bcpy-0.1.6.tar.gz", "yanked": false}], "0.1.7": [{"comment_text": "", "digests": {"md5": "0292734fb4b36e06ced54feeb5e129a1", "sha256": "f4f862dddadf564df49fd23bf37ecd1d2ee3d99d07f1b4c70cdef62e57f4fe86"}, "downloads": -1, "filename": "bcpy-0.1.7.tar.gz", "has_sig": false, "md5_digest": "0292734fb4b36e06ced54feeb5e129a1", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7824, "upload_time": "2020-04-18T16:50:50", "upload_time_iso_8601": "2020-04-18T16:50:50.723134Z", "url": "https://files.pythonhosted.org/packages/cf/a3/2cc6885d82164b90dd4153fa220e3418057a6fd2c31c37c3c99e699cf858/bcpy-0.1.7.tar.gz", "yanked": false}], "0.1.8": [{"comment_text": "", "digests": {"md5": "8425eb306982ded5ba8e2f1b3c4fb0b8", "sha256": "cc66416ca5ef4d8dff6a0f4a554a46b79d5994aa4fd0e55217d1e28a808276e3"}, "downloads": -1, "filename": "bcpy-0.1.8.tar.gz", "has_sig": false, "md5_digest": "8425eb306982ded5ba8e2f1b3c4fb0b8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8058, "upload_time": "2020-04-19T01:08:12", "upload_time_iso_8601": "2020-04-19T01:08:12.639290Z", "url": "https://files.pythonhosted.org/packages/f5/55/2ce7ad290d4907cd420424a8e685c2b39c453cebda3aa0e549a424fddf9d/bcpy-0.1.8.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "8425eb306982ded5ba8e2f1b3c4fb0b8", "sha256": "cc66416ca5ef4d8dff6a0f4a554a46b79d5994aa4fd0e55217d1e28a808276e3"}, "downloads": -1, "filename": "bcpy-0.1.8.tar.gz", "has_sig": false, "md5_digest": "8425eb306982ded5ba8e2f1b3c4fb0b8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 8058, "upload_time": "2020-04-19T01:08:12", "upload_time_iso_8601": "2020-04-19T01:08:12.639290Z", "url": "https://files.pythonhosted.org/packages/f5/55/2ce7ad290d4907cd420424a8e685c2b39c453cebda3aa0e549a424fddf9d/bcpy-0.1.8.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:14:36 2020"}
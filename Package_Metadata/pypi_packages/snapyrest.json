{"info": {"author": "Naresh Sekar", "author_email": "nareshnavinash@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Topic :: Software Development :: Quality Assurance", "Topic :: Software Development :: Testing"], "description": "# SnapyRest\n\nSnapyRest module is to hold all the common methods used in REST API automation in [PyRest-Python Framework](https://nareshnavinash.github.io/PyRest-Python/). This framework includes methods to download the image files from the rest API and then compare with the stored image files. This framework is built in Python and inspired from the simplicity of [Karate framework by Intuit](https://github.com/intuit/karate) and snapshot mode from [Jest framework by Facebook](https://jestjs.io/).\n\n\n[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](LICENSE)\n[![Made with Python](https://img.shields.io/badge/Made%20with-Python-yellow.svg)](https://www.python.org/)\n[![StackOverflow](http://img.shields.io/badge/Stack%20Overflow-Ask-blue.svg)]( https://stackoverflow.com/users/10505289/naresh-sekar )\n[![Contributions Welcome](https://img.shields.io/badge/Contributions-Welcome-brightgreen.svg)](CONTRIBUTING.md)\n[![email me](https://img.shields.io/badge/Contact-Email-green.svg)](mailto:nareshnavinash@gmail.com)\n\n\n![alt text](snapyrest/pyrest_module.png)\n\n## Installation\n\nAdd this line to your application's requirements.txt file:\n\n```\nsnapyrest==<version>\n```\n\nAnd then execute:\n\n```\npip3 install -r requirements.txt\n```\n\nOr install it yourself as:\n\n```\npip3 install snapyrest\n```\n\n## Usage\n\nThis module is built to replace the library methods in [PyRest-Python](https://nareshnavinash.github.io/PyRest-Python/) framework. This allows us to share the methods among different teams and completely ignore the repetitive work. For more details on simple no code Rest API automation verify [PyRest-Python](https://nareshnavinash.github.io/PyRest-Python/) page.\n\n### Adding new methods\n\nAdd all the new methods inside `/SnapyRest/` path and add import the class inside `__init__.py` file in the same path so that the newly added class can be imported by using this module.\n\n### Require and Include\n\nTo import this module use,\n```\nimport snapyrest\n```\nTo import specific class in this module use,\n```\nfrom snapyrest.api import Api\n```\n\n## Detailing the module\n\n## Api\n\nThis file has all the common methods that are used to execute the rest api calls. Allure reporting and attaching the required files are handled by default so that just calling this methods will take care all the actions. Some of the API actions are,\n\n### Simple test case with an endpoint\n\nFor a very simple basic get request and to validate the response code we could do,\n\n```\nApi.get(\"/name\")\nApi.verify_response_code(200)\n```\nOn calling only these two methods from the `Api` library, all the allure report actions, attaching the request and the response file to the reports, and asserting the response code of the response is taken care off.\n\n### Simple test case with validating the response with test data\n\nTo validate the response json with a test data, one could do the following,\n\n```\nApi.get(\"/name\")\nApi.verify_response_code(200)\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_001\")\n```\nHere, we are trying to take the sample.yml file under `/Data/DynamicData/` folder and then fetch the data for the key `test_sample_get_request_001`. \nAfter getting the data from the stored file, we will compare that with the response data and generate the allure reports along with necessary attachments.\n\nThe YAML file will be looking like,\n```\ntest_sample_get_request_001:\n  age: 20\n  name: Naresh\n```\n\nWhile fetching the key from a yaml file, the above file structure will return the data in JSON format. This in turn gives us the edge while creating the test data. One can always save the key value in direct JSON format as well.\n\n```\ntest_sample_get_request_001:\n  age: 20\n  name: Naresh\n\nOR\n\ntest_sample_get_request_001: { \"age\": 20, \"name\": \"Naresh\" }\n```\nIn either way JSON parser will get the values in JSON format. Whereas when we use `snap` mode, the file will be saved in the first format which we can see in detail below.\n\n### Simple test case with validating the response with test data and ignoring few keys\n\nWhile validating an api response, we may encounter a scenario where we don't want to validate few keys. In such scenario one can do the following,\n```\nApi.get(\"/name\")\nApi.verify_response_code(200)\nApi.ignore_keys(\"age\")\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_001\")\n```\nThe above code will validate the response status code, response json values except `age` key. If you want to have more keys that are supposed to be ignored, have that in the comma separated format,\n```\nApi.get(\"/name\")\nApi.verify_response_code(200)\nApi.ignore_keys(\"age,name\")\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_001\")\n```\nThis will ignore the keys `age` and `name` while validating the response with the stored data.\n\n### Simple test case with validating the response with test data and custom markers\n\nWhile validating an api response, we may encounter a scenario where we need to validate whether a key is present or not but not the value for that key. In that case one can always have that marked in their test data with the unique markers specified with `$` symbol.\n\nTest File:\n```\nApi.get(\"/name\")\nApi.verify_response_code(200)\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_001\")\n```\nData File:\n```\ntest_sample_get_request_001:\n  age: $notnull\n  name: Naresh\n```\nThe above combination will validate the response as,\n1. Whether `age` key is present without Null value in it.\n2. And `name` is present with the exact same value `Naresh` in it.\n\nWe can also make the validation so specific for the `age` field in the above example by mentioning that value corresponds to `age` should be a `number`. To achieve this we need to have the following combination.\n\nTest File:\n```\nApi.get(\"/name\")\nApi.verify_response_code(200)\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_001\")\n```\nData File:\n```\ntest_sample_get_request_001:\n  age: $number\n  name: Naresh\n```\n\nApart from the above two there are multiple markers available which are listed as follows,\n\nMarker | Description\n------ | -----------\n`$notnull` | Expects actual value to be not-`null`\n`$array` | Expects actual value to be a JSON array\n`$object` | Expects actual value to be a JSON object\n`$boolean` | Expects actual value to be a boolean `true` or `false`\n`$number` | Expects actual value to be a number\n`$string` | Expects actual value to be a string\n`$uuid` | Expects actual (string) value to conform to the UUID format\n\n\n## Images\n\nThis module has all the methods corresponding to downloading an image from the REST API endpoint and to validate the same. Similar to API file, all the allure reporting and attachments are taken care here by default, just calling the methods with proper prams will do the necessary steps. Some of the common methods in images file are,\n\n### Test cases with validation of images\n\nIn few scenarios if we need to validate the image file from the response, first we need to hit the endpoint and get the image URL, after which we need to download the image from the URL and store that in temporary folder, and then compare the image with the stored image. To do this,\n```\nApi.get(\"/image\")\nApi.verify_response_code(200)\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_003\")\nimage_url = Api.get_params_from_response(\"image\")\nImg.download_image(image_url, \"downloaded_file\")\nImg.is_equal(\"Naresh\", \"downloaded_file\")\n``` \nThe above code will save a value from the response json through `Api.get_params_from_response`. If the URL is present inside the nested json one can always give the path to the image url using comma separated value like,\n```\nApi.get_params_from_response(\"image,0,user,profile,image\")\n```\nAfter getting the Image URL, we need to download it and save it in the temporary folder under `reports/images`. We are also supposed to send the name for the downloading image file. All the download and comparison of images are happening in png format. We need a change in framework if we want to compare images with some other format.\n\nNow after downloading, directly give the image name against which we need to compare the downloaded image. The stored image must be under the folder `/Data/Images/`.\n\nThe method `Img.is_equal` takes care of all the allure reporting part, attaching the images to the report and if there is a mismatch between the images, difference between two images also will be attached to the allure report. as mentioned in the above allure report topic. \n\n### Test cases with validation of images along with tolerance\n\nIn few scenarios if we need to validate the image file from the response along with the allowed tolerance. The above method will result in failure even if there is a minute change in the image file. To validate the images along with tolerance one has to change,\n\nFrom: \n```\nImg.is_equal(\"Naresh\", \"downloaded_file\")\n``` \nTo:\n```\nImg.is_equal_with_tolerance(\"Naresh\", \"downloaded_file\")\n```\nThis will take the tolerance level from the global data file and validate. Its always recommended to use same tolerance level across the project, but in few cases if one need to have custom tolerance level to an image compare one has to do,\n```\nImg.is_equal_with_tolerance(\"Naresh\", \"downloaded_file\", 0.5)\n```\nThe above code will validate the images with 0.5 percent tolerance level.\n\n## Store\n\nThis class is to store the run time configurations for this module. Kind of a memcached or redis for our framework. Centralized run time data which are needed by other modules are being stored here and retrieved by other modules.\n\n## Variable\n\nThis file is used to have the variable data in the runtime. We have a capability to make environment variable have more precedence than the global variable, to implement this we use this file.\n\n## Snap Mode\n\nSnap mode is handled in both API and Images file, where if the pytest suite is triggered with the environment variable `snap=1` if there is any failure, the file (either YAML data file or the Image file) will be replaced by the response data.\n\n```\nsnap=1 pytest\n``` \nBut, only this will not ensure the data is getting saved in to dynamic file or image file. One has to script their automation code in such a way that snap feature is supported. For example one can look in to [PyRest-Python](https://nareshnavinash.github.io/PyRest-Python/) framework inside `Tests/test_sample.py`\n\nUpon running the tests in normal mode `pytest` the dynamic data will not be overridden rather it will assert the data response data with the stored data.\n\nTo get this feature running smoothly and to access the variables in smoother way, one has to configure the following params in their framework in `pytest_configure` method (so that these path variables will be set on initiating the pytest).\n\n```\nfrom selpy.store import Store\n\ndef pytest_configure(config):\n    # Configuring the selpy with data path location\n    Store.global_data_path = os.path.dirname(os.path.abspath(__file__)).replace(\"/Tests\", \"\") + '/Data/GlobalData/global_data.yml'\n    Store.static_data_path = os.path.dirname(os.path.abspath(__file__)).replace(\"/Tests\", \"\") + '/Data/TestData/'\n    Store.dynamic_data_path = os.path.dirname(os.path.abspath(__file__)).replace(\"/Tests\", \"\") + '/Data/DynamicData/'\n    Store.root_path = os.path.dirname(os.path.abspath(__file__)).replace(\"/Tests\", \"\")\n``` \n\n## To publish a module in pypi\n\n1. Install the following dependencies\n```\npython3 -m pip install --user --upgrade setuptools wheel\n```\n2. In the root directory of your newly created module run,\n```\npython3 setup.py sdist bdist_wheel\n```\n3. Then add the username and password and upload to the pypi server,\n```\npython3 -m twine upload -u <username> -p <password> --repository-url https://upload.pypi.org/legacy/ dist/* --verbose\n```\nEnsure that you have deleted the old files from your dist directory.\n\n\n## Contributing\n\nBug reports and pull requests are welcome on GitHub at https://github.com/nareshnavinash/selpy/. This project is intended to be a safe, welcoming space for collaboration, and contributors are expected to adhere to the [Contributor Covenant](http://contributor-covenant.org) code of conduct.\n\n## Authors\n\n* **[Naresh Sekar](https://github.com/nareshnavinash)**\n\n## License\n\nThe gem is available as open source under the terms of the [GPL-3.0 License](https://opensource.org/licenses/GPL-3.0).\n\n## Code of Conduct\n\nEveryone interacting in the Teber project\u2019s codebases, issue trackers, chat rooms and mailing lists is expected to follow the [code of conduct](https://github.com/nareshnavinash/Teber-Gem/blob/master/CODE_OF_CONDUCT.md).\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/nareshnavinash/pyrest", "keywords": "REST,API,API-Automation,Image comparison through response from REST API", "license": "", "maintainer": "", "maintainer_email": "", "name": "snapyrest", "package_url": "https://pypi.org/project/snapyrest/", "platform": "", "project_url": "https://pypi.org/project/snapyrest/", "project_urls": {"Homepage": "https://github.com/nareshnavinash/pyrest"}, "release_url": "https://pypi.org/project/snapyrest/0.1.1/", "requires_dist": ["pyyaml (==5.3)", "flake8 (==3.7.9)", "imgcompare (==2.0.1)", "diffimg (==0.2.3)"], "requires_python": ">=3.6", "summary": "Package to test Rest API endpoints along with snap mode and image comparison functionality", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>SnapyRest</h1>\n<p>SnapyRest module is to hold all the common methods used in REST API automation in <a href=\"https://nareshnavinash.github.io/PyRest-Python/\" rel=\"nofollow\">PyRest-Python Framework</a>. This framework includes methods to download the image files from the rest API and then compare with the stored image files. This framework is built in Python and inspired from the simplicity of <a href=\"https://github.com/intuit/karate\" rel=\"nofollow\">Karate framework by Intuit</a> and snapshot mode from <a href=\"https://jestjs.io/\" rel=\"nofollow\">Jest framework by Facebook</a>.</p>\n<p><a href=\"LICENSE\" rel=\"nofollow\"><img alt=\"License: GPL v3\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8de17537dd1659a5a076ce547de301e27c839e67/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d47504c76332d626c75652e737667\"></a>\n<a href=\"https://www.python.org/\" rel=\"nofollow\"><img alt=\"Made with Python\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1de8d6c9aea243f5a1f7b708b48761db5904f35b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d616465253230776974682d507974686f6e2d79656c6c6f772e737667\"></a>\n<a href=\"https://stackoverflow.com/users/10505289/naresh-sekar\" rel=\"nofollow\"><img alt=\"StackOverflow\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5d3444e85852036c79a637a14133f28d6fa1fbf8/687474703a2f2f696d672e736869656c64732e696f2f62616467652f537461636b2532304f766572666c6f772d41736b2d626c75652e737667\"></a>\n<a href=\"CONTRIBUTING.md\" rel=\"nofollow\"><img alt=\"Contributions Welcome\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d59c648fc6baf535932e072bd088fe1fbc914847/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f436f6e747269627574696f6e732d57656c636f6d652d627269676874677265656e2e737667\"></a>\n<a href=\"mailto:nareshnavinash@gmail.com\"><img alt=\"email me\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/287943cba065568eafdf89b3d03a1515b6d0a2ec/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f436f6e746163742d456d61696c2d677265656e2e737667\"></a></p>\n<p><img alt=\"alt text\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/ceaa3c73451e2d5f58f649065baebccd3865c7c7/736e617079726573742f7079726573745f6d6f64756c652e706e67\"></p>\n<h2>Installation</h2>\n<p>Add this line to your application's requirements.txt file:</p>\n<pre><code>snapyrest==&lt;version&gt;\n</code></pre>\n<p>And then execute:</p>\n<pre><code>pip3 install -r requirements.txt\n</code></pre>\n<p>Or install it yourself as:</p>\n<pre><code>pip3 install snapyrest\n</code></pre>\n<h2>Usage</h2>\n<p>This module is built to replace the library methods in <a href=\"https://nareshnavinash.github.io/PyRest-Python/\" rel=\"nofollow\">PyRest-Python</a> framework. This allows us to share the methods among different teams and completely ignore the repetitive work. For more details on simple no code Rest API automation verify <a href=\"https://nareshnavinash.github.io/PyRest-Python/\" rel=\"nofollow\">PyRest-Python</a> page.</p>\n<h3>Adding new methods</h3>\n<p>Add all the new methods inside <code>/SnapyRest/</code> path and add import the class inside <code>__init__.py</code> file in the same path so that the newly added class can be imported by using this module.</p>\n<h3>Require and Include</h3>\n<p>To import this module use,</p>\n<pre><code>import snapyrest\n</code></pre>\n<p>To import specific class in this module use,</p>\n<pre><code>from snapyrest.api import Api\n</code></pre>\n<h2>Detailing the module</h2>\n<h2>Api</h2>\n<p>This file has all the common methods that are used to execute the rest api calls. Allure reporting and attaching the required files are handled by default so that just calling this methods will take care all the actions. Some of the API actions are,</p>\n<h3>Simple test case with an endpoint</h3>\n<p>For a very simple basic get request and to validate the response code we could do,</p>\n<pre><code>Api.get(\"/name\")\nApi.verify_response_code(200)\n</code></pre>\n<p>On calling only these two methods from the <code>Api</code> library, all the allure report actions, attaching the request and the response file to the reports, and asserting the response code of the response is taken care off.</p>\n<h3>Simple test case with validating the response with test data</h3>\n<p>To validate the response json with a test data, one could do the following,</p>\n<pre><code>Api.get(\"/name\")\nApi.verify_response_code(200)\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_001\")\n</code></pre>\n<p>Here, we are trying to take the sample.yml file under <code>/Data/DynamicData/</code> folder and then fetch the data for the key <code>test_sample_get_request_001</code>.\nAfter getting the data from the stored file, we will compare that with the response data and generate the allure reports along with necessary attachments.</p>\n<p>The YAML file will be looking like,</p>\n<pre><code>test_sample_get_request_001:\n  age: 20\n  name: Naresh\n</code></pre>\n<p>While fetching the key from a yaml file, the above file structure will return the data in JSON format. This in turn gives us the edge while creating the test data. One can always save the key value in direct JSON format as well.</p>\n<pre><code>test_sample_get_request_001:\n  age: 20\n  name: Naresh\n\nOR\n\ntest_sample_get_request_001: { \"age\": 20, \"name\": \"Naresh\" }\n</code></pre>\n<p>In either way JSON parser will get the values in JSON format. Whereas when we use <code>snap</code> mode, the file will be saved in the first format which we can see in detail below.</p>\n<h3>Simple test case with validating the response with test data and ignoring few keys</h3>\n<p>While validating an api response, we may encounter a scenario where we don't want to validate few keys. In such scenario one can do the following,</p>\n<pre><code>Api.get(\"/name\")\nApi.verify_response_code(200)\nApi.ignore_keys(\"age\")\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_001\")\n</code></pre>\n<p>The above code will validate the response status code, response json values except <code>age</code> key. If you want to have more keys that are supposed to be ignored, have that in the comma separated format,</p>\n<pre><code>Api.get(\"/name\")\nApi.verify_response_code(200)\nApi.ignore_keys(\"age,name\")\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_001\")\n</code></pre>\n<p>This will ignore the keys <code>age</code> and <code>name</code> while validating the response with the stored data.</p>\n<h3>Simple test case with validating the response with test data and custom markers</h3>\n<p>While validating an api response, we may encounter a scenario where we need to validate whether a key is present or not but not the value for that key. In that case one can always have that marked in their test data with the unique markers specified with <code>$</code> symbol.</p>\n<p>Test File:</p>\n<pre><code>Api.get(\"/name\")\nApi.verify_response_code(200)\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_001\")\n</code></pre>\n<p>Data File:</p>\n<pre><code>test_sample_get_request_001:\n  age: $notnull\n  name: Naresh\n</code></pre>\n<p>The above combination will validate the response as,</p>\n<ol>\n<li>Whether <code>age</code> key is present without Null value in it.</li>\n<li>And <code>name</code> is present with the exact same value <code>Naresh</code> in it.</li>\n</ol>\n<p>We can also make the validation so specific for the <code>age</code> field in the above example by mentioning that value corresponds to <code>age</code> should be a <code>number</code>. To achieve this we need to have the following combination.</p>\n<p>Test File:</p>\n<pre><code>Api.get(\"/name\")\nApi.verify_response_code(200)\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_001\")\n</code></pre>\n<p>Data File:</p>\n<pre><code>test_sample_get_request_001:\n  age: $number\n  name: Naresh\n</code></pre>\n<p>Apart from the above two there are multiple markers available which are listed as follows,</p>\n<table>\n<thead>\n<tr>\n<th>Marker</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>$notnull</code></td>\n<td>Expects actual value to be not-<code>null</code></td>\n</tr>\n<tr>\n<td><code>$array</code></td>\n<td>Expects actual value to be a JSON array</td>\n</tr>\n<tr>\n<td><code>$object</code></td>\n<td>Expects actual value to be a JSON object</td>\n</tr>\n<tr>\n<td><code>$boolean</code></td>\n<td>Expects actual value to be a boolean <code>true</code> or <code>false</code></td>\n</tr>\n<tr>\n<td><code>$number</code></td>\n<td>Expects actual value to be a number</td>\n</tr>\n<tr>\n<td><code>$string</code></td>\n<td>Expects actual value to be a string</td>\n</tr>\n<tr>\n<td><code>$uuid</code></td>\n<td>Expects actual (string) value to conform to the UUID format</td>\n</tr></tbody></table>\n<h2>Images</h2>\n<p>This module has all the methods corresponding to downloading an image from the REST API endpoint and to validate the same. Similar to API file, all the allure reporting and attachments are taken care here by default, just calling the methods with proper prams will do the necessary steps. Some of the common methods in images file are,</p>\n<h3>Test cases with validation of images</h3>\n<p>In few scenarios if we need to validate the image file from the response, first we need to hit the endpoint and get the image URL, after which we need to download the image from the URL and store that in temporary folder, and then compare the image with the stored image. To do this,</p>\n<pre><code>Api.get(\"/image\")\nApi.verify_response_code(200)\nApi.verify_response_json(\"sample.yml\", \"test_sample_get_request_003\")\nimage_url = Api.get_params_from_response(\"image\")\nImg.download_image(image_url, \"downloaded_file\")\nImg.is_equal(\"Naresh\", \"downloaded_file\")\n</code></pre>\n<p>The above code will save a value from the response json through <code>Api.get_params_from_response</code>. If the URL is present inside the nested json one can always give the path to the image url using comma separated value like,</p>\n<pre><code>Api.get_params_from_response(\"image,0,user,profile,image\")\n</code></pre>\n<p>After getting the Image URL, we need to download it and save it in the temporary folder under <code>reports/images</code>. We are also supposed to send the name for the downloading image file. All the download and comparison of images are happening in png format. We need a change in framework if we want to compare images with some other format.</p>\n<p>Now after downloading, directly give the image name against which we need to compare the downloaded image. The stored image must be under the folder <code>/Data/Images/</code>.</p>\n<p>The method <code>Img.is_equal</code> takes care of all the allure reporting part, attaching the images to the report and if there is a mismatch between the images, difference between two images also will be attached to the allure report. as mentioned in the above allure report topic.</p>\n<h3>Test cases with validation of images along with tolerance</h3>\n<p>In few scenarios if we need to validate the image file from the response along with the allowed tolerance. The above method will result in failure even if there is a minute change in the image file. To validate the images along with tolerance one has to change,</p>\n<p>From:</p>\n<pre><code>Img.is_equal(\"Naresh\", \"downloaded_file\")\n</code></pre>\n<p>To:</p>\n<pre><code>Img.is_equal_with_tolerance(\"Naresh\", \"downloaded_file\")\n</code></pre>\n<p>This will take the tolerance level from the global data file and validate. Its always recommended to use same tolerance level across the project, but in few cases if one need to have custom tolerance level to an image compare one has to do,</p>\n<pre><code>Img.is_equal_with_tolerance(\"Naresh\", \"downloaded_file\", 0.5)\n</code></pre>\n<p>The above code will validate the images with 0.5 percent tolerance level.</p>\n<h2>Store</h2>\n<p>This class is to store the run time configurations for this module. Kind of a memcached or redis for our framework. Centralized run time data which are needed by other modules are being stored here and retrieved by other modules.</p>\n<h2>Variable</h2>\n<p>This file is used to have the variable data in the runtime. We have a capability to make environment variable have more precedence than the global variable, to implement this we use this file.</p>\n<h2>Snap Mode</h2>\n<p>Snap mode is handled in both API and Images file, where if the pytest suite is triggered with the environment variable <code>snap=1</code> if there is any failure, the file (either YAML data file or the Image file) will be replaced by the response data.</p>\n<pre><code>snap=1 pytest\n</code></pre>\n<p>But, only this will not ensure the data is getting saved in to dynamic file or image file. One has to script their automation code in such a way that snap feature is supported. For example one can look in to <a href=\"https://nareshnavinash.github.io/PyRest-Python/\" rel=\"nofollow\">PyRest-Python</a> framework inside <code>Tests/test_sample.py</code></p>\n<p>Upon running the tests in normal mode <code>pytest</code> the dynamic data will not be overridden rather it will assert the data response data with the stored data.</p>\n<p>To get this feature running smoothly and to access the variables in smoother way, one has to configure the following params in their framework in <code>pytest_configure</code> method (so that these path variables will be set on initiating the pytest).</p>\n<pre><code>from selpy.store import Store\n\ndef pytest_configure(config):\n    # Configuring the selpy with data path location\n    Store.global_data_path = os.path.dirname(os.path.abspath(__file__)).replace(\"/Tests\", \"\") + '/Data/GlobalData/global_data.yml'\n    Store.static_data_path = os.path.dirname(os.path.abspath(__file__)).replace(\"/Tests\", \"\") + '/Data/TestData/'\n    Store.dynamic_data_path = os.path.dirname(os.path.abspath(__file__)).replace(\"/Tests\", \"\") + '/Data/DynamicData/'\n    Store.root_path = os.path.dirname(os.path.abspath(__file__)).replace(\"/Tests\", \"\")\n</code></pre>\n<h2>To publish a module in pypi</h2>\n<ol>\n<li>Install the following dependencies</li>\n</ol>\n<pre><code>python3 -m pip install --user --upgrade setuptools wheel\n</code></pre>\n<ol>\n<li>In the root directory of your newly created module run,</li>\n</ol>\n<pre><code>python3 setup.py sdist bdist_wheel\n</code></pre>\n<ol>\n<li>Then add the username and password and upload to the pypi server,</li>\n</ol>\n<pre><code>python3 -m twine upload -u &lt;username&gt; -p &lt;password&gt; --repository-url https://upload.pypi.org/legacy/ dist/* --verbose\n</code></pre>\n<p>Ensure that you have deleted the old files from your dist directory.</p>\n<h2>Contributing</h2>\n<p>Bug reports and pull requests are welcome on GitHub at <a href=\"https://github.com/nareshnavinash/selpy/\" rel=\"nofollow\">https://github.com/nareshnavinash/selpy/</a>. This project is intended to be a safe, welcoming space for collaboration, and contributors are expected to adhere to the <a href=\"http://contributor-covenant.org\" rel=\"nofollow\">Contributor Covenant</a> code of conduct.</p>\n<h2>Authors</h2>\n<ul>\n<li><strong><a href=\"https://github.com/nareshnavinash\" rel=\"nofollow\">Naresh Sekar</a></strong></li>\n</ul>\n<h2>License</h2>\n<p>The gem is available as open source under the terms of the <a href=\"https://opensource.org/licenses/GPL-3.0\" rel=\"nofollow\">GPL-3.0 License</a>.</p>\n<h2>Code of Conduct</h2>\n<p>Everyone interacting in the Teber project\u2019s codebases, issue trackers, chat rooms and mailing lists is expected to follow the <a href=\"https://github.com/nareshnavinash/Teber-Gem/blob/master/CODE_OF_CONDUCT.md\" rel=\"nofollow\">code of conduct</a>.</p>\n\n          </div>"}, "last_serial": 6708882, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "92109a5f1e072f250d5feb4e335ea8d1", "sha256": "f89863f312ed511ac94baacb6cd71b662825e1d9bd35e71d30eec7e0e0809a3b"}, "downloads": -1, "filename": "snapyrest-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "92109a5f1e072f250d5feb4e335ea8d1", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 26540, "upload_time": "2020-02-27T04:14:07", "upload_time_iso_8601": "2020-02-27T04:14:07.264638Z", "url": "https://files.pythonhosted.org/packages/51/1f/0647793eb8b1ae87221c80be6fd2e87e8403eaadd5bee0ea4ef942c30031/snapyrest-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0231c3db1b8621e03c52bb1a5b2dfa97", "sha256": "dfca179e2254aa303653714cd7efe6f720e6edfc3568f519e726ace74d676092"}, "downloads": -1, "filename": "snapyrest-0.1.0.tar.gz", "has_sig": false, "md5_digest": "0231c3db1b8621e03c52bb1a5b2dfa97", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 13534, "upload_time": "2020-02-27T04:14:10", "upload_time_iso_8601": "2020-02-27T04:14:10.537127Z", "url": "https://files.pythonhosted.org/packages/16/9e/69953471b00d6549e83ffebfc5671b3ef6245c4eaee10d380d72b6a08189/snapyrest-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "efbee7a08d2f109246aee2f3a8073ec3", "sha256": "abe971befd8bd0a6f7a5b486d3a2b36a39f92dd7dcbc17a6c772db1a08daf4b3"}, "downloads": -1, "filename": "snapyrest-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "efbee7a08d2f109246aee2f3a8073ec3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 26579, "upload_time": "2020-02-27T04:42:52", "upload_time_iso_8601": "2020-02-27T04:42:52.175988Z", "url": "https://files.pythonhosted.org/packages/1f/bb/1f2b3dfeabef2a4fa0661762380acde2d7673f5fa9f15eccf80f58c473af/snapyrest-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c1dd236c62ccdafc7fd49563401c78f2", "sha256": "d0e87fee995b75467c5a7446783753db892e5971924231a8ce31f64c98b7e916"}, "downloads": -1, "filename": "snapyrest-0.1.1.tar.gz", "has_sig": false, "md5_digest": "c1dd236c62ccdafc7fd49563401c78f2", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 13542, "upload_time": "2020-02-27T04:43:14", "upload_time_iso_8601": "2020-02-27T04:43:14.955010Z", "url": "https://files.pythonhosted.org/packages/f1/0b/a2d1563d41a91afb6617b7a38f3934a9c97d0aad972493461c863583200c/snapyrest-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "efbee7a08d2f109246aee2f3a8073ec3", "sha256": "abe971befd8bd0a6f7a5b486d3a2b36a39f92dd7dcbc17a6c772db1a08daf4b3"}, "downloads": -1, "filename": "snapyrest-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "efbee7a08d2f109246aee2f3a8073ec3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 26579, "upload_time": "2020-02-27T04:42:52", "upload_time_iso_8601": "2020-02-27T04:42:52.175988Z", "url": "https://files.pythonhosted.org/packages/1f/bb/1f2b3dfeabef2a4fa0661762380acde2d7673f5fa9f15eccf80f58c473af/snapyrest-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c1dd236c62ccdafc7fd49563401c78f2", "sha256": "d0e87fee995b75467c5a7446783753db892e5971924231a8ce31f64c98b7e916"}, "downloads": -1, "filename": "snapyrest-0.1.1.tar.gz", "has_sig": false, "md5_digest": "c1dd236c62ccdafc7fd49563401c78f2", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 13542, "upload_time": "2020-02-27T04:43:14", "upload_time_iso_8601": "2020-02-27T04:43:14.955010Z", "url": "https://files.pythonhosted.org/packages/f1/0b/a2d1563d41a91afb6617b7a38f3934a9c97d0aad972493461c863583200c/snapyrest-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:07:31 2020"}
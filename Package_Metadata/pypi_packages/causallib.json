{"info": {"author": "IBM Research Haifa Labs - Machine Learning for Healthcare and Life Sciences", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Science/Research", "License :: OSI Approved :: Apache Software License", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: Scientific/Engineering"], "description": "[![Build Status](https://travis-ci.org/IBM/causallib.svg?&branch=master)](https://travis-ci.org/IBM/causallib)\n[![Test Coverage](https://api.codeclimate.com/v1/badges/db2562e44c4a9f7280dc/test_coverage)](https://codeclimate.com/github/IBM/causallib/test_coverage)\n[![PyPI version](https://badge.fury.io/py/causallib.svg)](https://badge.fury.io/py/causallib)\n[![Documentation Status](https://readthedocs.org/projects/causallib/badge/?version=latest)](https://causallib.readthedocs.io/en/latest/)\n# Causal Inference 360\nA Python package for inferring causal effects from observational data.\n\n## Description\nCausal inference analysis enables estimating the causal effect of \nan intervention on some outcome from real-world non-experimental observational data.  \n\nThis package provides a suite of causal methods, \nunder a unified scikit-learn-inspired API.  \nIt implements meta-algorithms that allow plugging in arbitrarily complex machine learning models. \nThis modular approach supports highly-flexible causal modelling.    \nThe fit-and-predict-like API makes it possible to train on one set of examples \nand estimate an effect on the other (out-of-bag),\nwhich allows for a more \"honest\"<sup>1</sup> effect estimation.\n\nThe package also includes an evaluation suite. \nSince most causal-models utilize machine learning models internally, \nwe can diagnose poor-performing models by re-interpreting known ML evaluations from  a causal perspective.\nSee [arXiv:1906.00442](https://arxiv.org/abs/1906.00442) for more details on how.\n\n\n-------------\n<sup>1</sup> Borrowing [Wager & Athey](https://arxiv.org/abs/1510.04342) terminology of avoiding overfit.  \n\n\n## Installation\n```bash\npip install causallib\n```\n\n## Usage\nIn general, the package is imported using the name `causallib`.  \nEvery causal model requires an internal machine-learning model. \n`causallib` supports any model that has a sklearn-like fit-predict API\n(note some models might require a `predict_proba` implementation).  \n\nFor example:\n```Python\nfrom sklearn.linear_model import LogisticRegression\nfrom causallib.estimation import IPW \nfrom causallib.datasets import load_nhefs\n\ndata = load_nhefs()\nipw = IPW(LogisticRegression())\nipw.fit(data.X, data.a)\npotential_outcomes = ipw.estimate_population_outcome(data.X, data.a, data.y)\neffect = ipw.estimate_effect(potential_outcomes[1], potential_outcomes[0])\n```\nComprehensive Jupyter Notebooks examples can be found in the [examples directory](examples).\n\n### Approach to causal-inference\nSome key points on how we address causal-inference estimation\n\n##### 1. Emphasis on potential outcome prediction  \nCausal effect may be the desired outcome. \nHowever, every effect is defined by two potential (counterfactual) outcomes.  \nWe adopt this two-step approach by separating the effect-estimating step \nfrom the potential-outcome-prediction step.  \nA beneficial consequence to this approach is that it better supports \nmulti-treatment problems where \"effect\" is not well-defined.\n\n##### 2. Stratified average treatment effect\nThe causal inference literature devotes special attention to the population \non which the effect is estimated on.\nFor example, ATE (average treatment effect on the entire sample),\nATT (average treatment effect on the treated), etc.  \nBy allowing out-of-bag estimation, we leave this specification to the user.\nFor example, ATE is achieved by `model.estimate_population_outcome(X, a)`\nand ATT is done by stratifying on the treated: `model.estimate_population_outcome(X.loc[a==1], a.loc[a==1])`\n\n##### 3. Families of causal inference models\nWe distinguish between two types of models:\n* *Weight models*: weight the data to balance between the treatment and control groups, \n   and then estimates the potential outcome by using a weighted average of the observed outcome.  \n   Inverse Probability of Treatment Weighting (IPW or IPTW) is the most known example of such models. \n* *Direct outcome models*: uses the covariates (features) and treatment assignment to build a\n   model that predicts the outcome directly. The model can then be used to predict the outcome\n   under any assignment of treatment values, specifically the potential-outcome under assignment of\n   all controls or all treated.  \n   These models are usually known as *Standardization* models, and it should be noted that, currently,\n   they are the only ones able to generate *individual effect estimation* (otherwise known as CATE).\n\n##### 4. Confounders and DAGs\nOne of the most important steps in causal inference analysis is to have \nproper selection on both dimensions of the data to avoid introducing bias:\n* On rows: thoughtfully choosing the right inclusion\\exclusion criteria \n  for individuals in the data. \n* On columns: thoughtfully choosing what covariates (features) act as confounders \n  and should be included in the analysis.\n\nThis is a place where domain expert knowledge is required and cannot be fully and truly automated\nby algorithms. \nThis package assumes that the data provided to the model fit the criteria.   \nHowever, filtering can be applied in real-time using a scikit-learn pipeline estimator\nthat chains preprocessing steps (that can filter rows and select columns) with a causal model at the end.\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/IBM/causallib", "keywords": "causal inference effect estimation causality", "license": "Apache License 2.0", "maintainer": "", "maintainer_email": "", "name": "causallib", "package_url": "https://pypi.org/project/causallib/", "platform": "", "project_url": "https://pypi.org/project/causallib/", "project_urls": {"Bug Tracker": "https://github.com/IBM/causallib/issues", "Documentation": "https://causallib.readthedocs.io/en/latest/", "Homepage": "https://github.com/IBM/causallib", "Source Code": "https://github.com/IBM/causallib"}, "release_url": "https://pypi.org/project/causallib/0.6.0/", "requires_dist": ["pandas (<2,>=0.21)", "scipy (<1.5,>=0.19)", "statsmodels (<1,>=0.8)", "networkx (<3,>=1.1)", "numpy (<2,>=1.13)", "scikit-learn (<1,>=0.20)", "matplotlib (<4,>=2.2)", "seaborn (<1,>=0.8)", "sphinx (==2.1.0) ; extra == 'docs'", "m2r ; extra == 'docs'", "sphinx-rtd-theme ; extra == 'docs'"], "requires_python": "", "summary": "A library of causal inference tools by IBM Haifa Research Labs", "version": "0.6.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://travis-ci.org/IBM/causallib\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/eb11eab81ca16e40b6b69ccb70b3116964710391/68747470733a2f2f7472617669732d63692e6f72672f49424d2f63617573616c6c69622e7376673f266272616e63683d6d6173746572\"></a>\n<a href=\"https://codeclimate.com/github/IBM/causallib/test_coverage\" rel=\"nofollow\"><img alt=\"Test Coverage\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/233a3f0baad1c68d1768bad66530494492ba2fac/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f64623235363265343463346139663732383064632f746573745f636f766572616765\"></a>\n<a href=\"https://badge.fury.io/py/causallib\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/67fcb17d7cd10a499cec5c4d2699d8f5e398b538/68747470733a2f2f62616467652e667572792e696f2f70792f63617573616c6c69622e737667\"></a>\n<a href=\"https://causallib.readthedocs.io/en/latest/\" rel=\"nofollow\"><img alt=\"Documentation Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5a1daefab84ad9d1223ce9d0a2873da5f8ca9b5c/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f63617573616c6c69622f62616467652f3f76657273696f6e3d6c6174657374\"></a></p>\n<h1>Causal Inference 360</h1>\n<p>A Python package for inferring causal effects from observational data.</p>\n<h2>Description</h2>\n<p>Causal inference analysis enables estimating the causal effect of\nan intervention on some outcome from real-world non-experimental observational data.</p>\n<p>This package provides a suite of causal methods,\nunder a unified scikit-learn-inspired API.<br>\nIt implements meta-algorithms that allow plugging in arbitrarily complex machine learning models.\nThis modular approach supports highly-flexible causal modelling.<br>\nThe fit-and-predict-like API makes it possible to train on one set of examples\nand estimate an effect on the other (out-of-bag),\nwhich allows for a more \"honest\"<sup>1</sup> effect estimation.</p>\n<p>The package also includes an evaluation suite.\nSince most causal-models utilize machine learning models internally,\nwe can diagnose poor-performing models by re-interpreting known ML evaluations from  a causal perspective.\nSee <a href=\"https://arxiv.org/abs/1906.00442\" rel=\"nofollow\">arXiv:1906.00442</a> for more details on how.</p>\n<hr>\n<p><sup>1</sup> Borrowing <a href=\"https://arxiv.org/abs/1510.04342\" rel=\"nofollow\">Wager &amp; Athey</a> terminology of avoiding overfit.</p>\n<h2>Installation</h2>\n<pre>pip install causallib\n</pre>\n<h2>Usage</h2>\n<p>In general, the package is imported using the name <code>causallib</code>.<br>\nEvery causal model requires an internal machine-learning model.\n<code>causallib</code> supports any model that has a sklearn-like fit-predict API\n(note some models might require a <code>predict_proba</code> implementation).</p>\n<p>For example:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">sklearn.linear_model</span> <span class=\"kn\">import</span> <span class=\"n\">LogisticRegression</span>\n<span class=\"kn\">from</span> <span class=\"nn\">causallib.estimation</span> <span class=\"kn\">import</span> <span class=\"n\">IPW</span> \n<span class=\"kn\">from</span> <span class=\"nn\">causallib.datasets</span> <span class=\"kn\">import</span> <span class=\"n\">load_nhefs</span>\n\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">load_nhefs</span><span class=\"p\">()</span>\n<span class=\"n\">ipw</span> <span class=\"o\">=</span> <span class=\"n\">IPW</span><span class=\"p\">(</span><span class=\"n\">LogisticRegression</span><span class=\"p\">())</span>\n<span class=\"n\">ipw</span><span class=\"o\">.</span><span class=\"n\">fit</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">X</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">a</span><span class=\"p\">)</span>\n<span class=\"n\">potential_outcomes</span> <span class=\"o\">=</span> <span class=\"n\">ipw</span><span class=\"o\">.</span><span class=\"n\">estimate_population_outcome</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">X</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">)</span>\n<span class=\"n\">effect</span> <span class=\"o\">=</span> <span class=\"n\">ipw</span><span class=\"o\">.</span><span class=\"n\">estimate_effect</span><span class=\"p\">(</span><span class=\"n\">potential_outcomes</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"n\">potential_outcomes</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n</pre>\n<p>Comprehensive Jupyter Notebooks examples can be found in the <a href=\"examples\" rel=\"nofollow\">examples directory</a>.</p>\n<h3>Approach to causal-inference</h3>\n<p>Some key points on how we address causal-inference estimation</p>\n<h5>1. Emphasis on potential outcome prediction</h5>\n<p>Causal effect may be the desired outcome.\nHowever, every effect is defined by two potential (counterfactual) outcomes.<br>\nWe adopt this two-step approach by separating the effect-estimating step\nfrom the potential-outcome-prediction step.<br>\nA beneficial consequence to this approach is that it better supports\nmulti-treatment problems where \"effect\" is not well-defined.</p>\n<h5>2. Stratified average treatment effect</h5>\n<p>The causal inference literature devotes special attention to the population\non which the effect is estimated on.\nFor example, ATE (average treatment effect on the entire sample),\nATT (average treatment effect on the treated), etc.<br>\nBy allowing out-of-bag estimation, we leave this specification to the user.\nFor example, ATE is achieved by <code>model.estimate_population_outcome(X, a)</code>\nand ATT is done by stratifying on the treated: <code>model.estimate_population_outcome(X.loc[a==1], a.loc[a==1])</code></p>\n<h5>3. Families of causal inference models</h5>\n<p>We distinguish between two types of models:</p>\n<ul>\n<li><em>Weight models</em>: weight the data to balance between the treatment and control groups,\nand then estimates the potential outcome by using a weighted average of the observed outcome.<br>\nInverse Probability of Treatment Weighting (IPW or IPTW) is the most known example of such models.</li>\n<li><em>Direct outcome models</em>: uses the covariates (features) and treatment assignment to build a\nmodel that predicts the outcome directly. The model can then be used to predict the outcome\nunder any assignment of treatment values, specifically the potential-outcome under assignment of\nall controls or all treated.<br>\nThese models are usually known as <em>Standardization</em> models, and it should be noted that, currently,\nthey are the only ones able to generate <em>individual effect estimation</em> (otherwise known as CATE).</li>\n</ul>\n<h5>4. Confounders and DAGs</h5>\n<p>One of the most important steps in causal inference analysis is to have\nproper selection on both dimensions of the data to avoid introducing bias:</p>\n<ul>\n<li>On rows: thoughtfully choosing the right inclusion\\exclusion criteria\nfor individuals in the data.</li>\n<li>On columns: thoughtfully choosing what covariates (features) act as confounders\nand should be included in the analysis.</li>\n</ul>\n<p>This is a place where domain expert knowledge is required and cannot be fully and truly automated\nby algorithms.\nThis package assumes that the data provided to the model fit the criteria.<br>\nHowever, filtering can be applied in real-time using a scikit-learn pipeline estimator\nthat chains preprocessing steps (that can filter rows and select columns) with a causal model at the end.</p>\n\n          </div>"}, "last_serial": 6624822, "releases": {"0.5.0b0": [{"comment_text": "", "digests": {"md5": "b381c4931fa3ca9af9a451b9253cea55", "sha256": "94244d5d60c9437db6b3ce55ded40085a8d59bd67bae3fc1ce290e2c43407794"}, "downloads": -1, "filename": "causallib-0.5.0b0-py3-none-any.whl", "has_sig": false, "md5_digest": "b381c4931fa3ca9af9a451b9253cea55", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 123914, "upload_time": "2019-07-12T07:50:19", "upload_time_iso_8601": "2019-07-12T07:50:19.170117Z", "url": "https://files.pythonhosted.org/packages/6c/c9/bf502a2dd066bca053670f0a51356da2cc75ad7b5ac09bd09b2fb00af3fb/causallib-0.5.0b0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "8d47704f0d2f72b98c7dc8db9899eaab", "sha256": "5ffaa18d71656e634f65860a52aad7c6fb0151452486bb7a397fbd2fc71bc392"}, "downloads": -1, "filename": "causallib-0.5.0b0.tar.gz", "has_sig": false, "md5_digest": "8d47704f0d2f72b98c7dc8db9899eaab", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 92612, "upload_time": "2019-07-12T07:50:22", "upload_time_iso_8601": "2019-07-12T07:50:22.930646Z", "url": "https://files.pythonhosted.org/packages/68/11/c1ea3543036d3f3ebe37e3e80d12335707124d4b3d9b93beb80259cc41de/causallib-0.5.0b0.tar.gz", "yanked": false}], "0.6.0": [{"comment_text": "", "digests": {"md5": "7101352d1d367e7253a3b66bb5e8b9fb", "sha256": "780d4123b1c9803aff90042185096bd44407c492f72563a5d7b865b682514200"}, "downloads": -1, "filename": "causallib-0.6.0-py3-none-any.whl", "has_sig": false, "md5_digest": "7101352d1d367e7253a3b66bb5e8b9fb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 2015294, "upload_time": "2020-02-13T16:51:51", "upload_time_iso_8601": "2020-02-13T16:51:51.832696Z", "url": "https://files.pythonhosted.org/packages/c5/33/5c61207f2fa81c560bf0fba6c7152c873adb7e561545180f0f353d2693ab/causallib-0.6.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6e839b1e1c7961574338e128285266b3", "sha256": "d3b5c8ccb903489a11fdcb3371c5c3b430a84c584d7246203537f388bc138040"}, "downloads": -1, "filename": "causallib-0.6.0.tar.gz", "has_sig": false, "md5_digest": "6e839b1e1c7961574338e128285266b3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1941142, "upload_time": "2020-02-13T16:51:54", "upload_time_iso_8601": "2020-02-13T16:51:54.784687Z", "url": "https://files.pythonhosted.org/packages/78/91/cc9a6f6c604c6e32ba2bb1774a455cff9a7553dc6a449fab63f4fe15e30c/causallib-0.6.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "7101352d1d367e7253a3b66bb5e8b9fb", "sha256": "780d4123b1c9803aff90042185096bd44407c492f72563a5d7b865b682514200"}, "downloads": -1, "filename": "causallib-0.6.0-py3-none-any.whl", "has_sig": false, "md5_digest": "7101352d1d367e7253a3b66bb5e8b9fb", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 2015294, "upload_time": "2020-02-13T16:51:51", "upload_time_iso_8601": "2020-02-13T16:51:51.832696Z", "url": "https://files.pythonhosted.org/packages/c5/33/5c61207f2fa81c560bf0fba6c7152c873adb7e561545180f0f353d2693ab/causallib-0.6.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6e839b1e1c7961574338e128285266b3", "sha256": "d3b5c8ccb903489a11fdcb3371c5c3b430a84c584d7246203537f388bc138040"}, "downloads": -1, "filename": "causallib-0.6.0.tar.gz", "has_sig": false, "md5_digest": "6e839b1e1c7961574338e128285266b3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1941142, "upload_time": "2020-02-13T16:51:54", "upload_time_iso_8601": "2020-02-13T16:51:54.784687Z", "url": "https://files.pythonhosted.org/packages/78/91/cc9a6f6c604c6e32ba2bb1774a455cff9a7553dc6a449fab63f4fe15e30c/causallib-0.6.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:35:11 2020"}
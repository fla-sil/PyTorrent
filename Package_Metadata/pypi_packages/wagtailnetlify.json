{"info": {"author": "Tom Dyson", "author_email": "tom+wagtailnetlify@torchbox.com", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django", "Framework :: Wagtail", "Framework :: Wagtail :: 1", "Framework :: Wagtail :: 2", "Intended Audience :: Developers", "Operating System :: OS Independent", "Programming Language :: Python", "Topic :: Internet :: WWW/HTTP", "Topic :: Internet :: WWW/HTTP :: Dynamic Content"], "description": "# wagtail-netlify\n\n[![PyPI version](https://badge.fury.io/py/wagtailnetlify.svg)](https://badge.fury.io/py/wagtailnetlify)\n\nDeploy your Wagtail site on Netlify. Features include:\n\n - automatic deployment when pages are published\n - a new `netlify` management command\n - conversion of Wagtail redirects to Netlify's format\n\n![Screencast demo](https://tom.s3.amazonaws.com/wagtail-netlify.gif)\n\n## Installation\n\n1. Install and configure [Wagtail Bakery](https://github.com/moorinteractive/wagtail-bakery), if you haven't already.\n2. Install [Netlify CLI v2.x](https://www.netlify.com/docs/cli/#installation), if you haven't already.\n3. Install Wagtail-Netlify via pip (with `pip install wagtailnetlify`).\n\n## Configuration\n\n1. Add `wagtailnetlify` to your `INSTALLED_APPS`.\n2. Run the migrations: `./manage.py migrate wagtailnetlify`.\n3. Add `NETLIFY_PATH` to your settings.\n\nCheck the [Settings](#settings) section below for more customisation options.\n\n## Usage\n\nIf `NETLIFY_AUTO_DEPLOY` is set to `True`, Wagtail will automatically deploy your site every time a page is published.\n\n*or*\n\nTo deploy changes manually, use `./manage.py netlify`.\n\n## Settings\n\n### `NETLIFY_PATH`\n\nThe path to the Netlify CLI. *Hint: type `which netlify` to check the location.*\n\n### `NETLIFY_SITE_ID`\n\n**Default: `None`**\n\nIf set, deploy to that specific Netlify site.\n\nIf not set, the Netlify CLI might prompt you to select one.\n\n### `NETLIFY_API_TOKEN`\n\n**Default: `None`**\n\nIf set, the Netlify CLI will not prompt you to click the authentication link in the console. It can be useful when deployed to a remote server where you don't see the console output.\n\nConnect to your Netlify account to [generate a token](https://app.netlify.com/account/applications) and then set the settings. *Warning: You should never check credentials in your version control system. Use [environment variables](https://django-environ.readthedocs.io/en/latest/) or [local settings file](http://techstream.org/Bits/Local-Settings-in-django) instead.*\n\n### `NETLIFY_AUTO_DEPLOY`\n\n**Default: `True`**\n\nWhether to automatically deploy your site to Netlify every time you publish a page. This make take between a few seconds and a few minutes, depending on the size of your site, and the number of pages which are affected by your change.\n\n### `NETLIFY_DEPLOY_FUNCTION`\n\n**Default: `wagtailnetlify.models.deploy`**\n\nThe function to be called when a deploy is triggered (excluding when triggered manually with the `./manage.py netlify` command). It can be useful if you want to use your own task runner (like Celery) instead of the built-in threading model.\n\nThe function needs to be a valid [Django signal receiver](https://docs.djangoproject.com/en/2.1/topics/signals/#receiver-functions).\n\n### Optional admin view\n\nNetlify can send a webhook after a successful deployment. This app provides an endpoint for that webhook and an admin view of completed deployments. To enable this view:\n\n1. Add `wagtail.contrib.modeladmin` to your `INSTALLED_APPS`\n1. Update your project's `urls.py`:\n\n```python\n# in your imports\nfrom wagtailnetlify import views as netlify_views\n\n# in urlpatterns, before including wagtail_urls\nurl(r'^netlify/', netlify_views.success_hook, name='netlify'),\n```\n\n3. In Netlify's admin interface for your app, add http://yourdomain/netlify/success as a URL to notify for the outgoing webhook on *Deploy succeeded* events (in Settings / Build & deploy / Deploy notifications).\n\nThe view will be available under `Settings / Deployments` in your site's admin.\n\n## Development\n\n### Releases\n\n1. Ensure you have the latest versions of `pip`, `setuptools` and `twine` installed in your virtual environment.\n1. Create a new branch (e.g. `release/v1.1.3`) for the release of the new version.\n1. Update the version number in `wagtailnetlify/__init__.py` following [Semantic Versioning](http://semver.org/spec/v2.0.0.html).\n1. Update `CHANGELOG.md`.\n1. On GitHub, create a pull request and squash merge it.\n1. Checkout and pull the `master` branch locally.\n1. (Optional) If you need to verify anything, use `make publish-test` to upload to https://test.pypi.org and enter your PyPi *test* credentials as needed.\n1. Use `make publish` and enter your PyPi credentials as needed.\n1. On GitHub, create a release and a tag for the new version.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/tomdyson/wagtail-netlify", "keywords": "development", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "wagtailnetlify", "package_url": "https://pypi.org/project/wagtailnetlify/", "platform": "", "project_url": "https://pypi.org/project/wagtailnetlify/", "project_urls": {"Homepage": "https://github.com/tomdyson/wagtail-netlify"}, "release_url": "https://pypi.org/project/wagtailnetlify/0.3/", "requires_dist": null, "requires_python": "", "summary": "Deploy Wagtail sites to Netlify", "version": "0.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>wagtail-netlify</h1>\n<p><a href=\"https://badge.fury.io/py/wagtailnetlify\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d68ec9e920a9a947e7fee01a575c3b084f6ef042/68747470733a2f2f62616467652e667572792e696f2f70792f7761677461696c6e65746c6966792e737667\"></a></p>\n<p>Deploy your Wagtail site on Netlify. Features include:</p>\n<ul>\n<li>automatic deployment when pages are published</li>\n<li>a new <code>netlify</code> management command</li>\n<li>conversion of Wagtail redirects to Netlify's format</li>\n</ul>\n<p><img alt=\"Screencast demo\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0bdbe2e7b5f3ec175ee08ea009b4577dd29a3f21/68747470733a2f2f746f6d2e73332e616d617a6f6e6177732e636f6d2f7761677461696c2d6e65746c6966792e676966\"></p>\n<h2>Installation</h2>\n<ol>\n<li>Install and configure <a href=\"https://github.com/moorinteractive/wagtail-bakery\" rel=\"nofollow\">Wagtail Bakery</a>, if you haven't already.</li>\n<li>Install <a href=\"https://www.netlify.com/docs/cli/#installation\" rel=\"nofollow\">Netlify CLI v2.x</a>, if you haven't already.</li>\n<li>Install Wagtail-Netlify via pip (with <code>pip install wagtailnetlify</code>).</li>\n</ol>\n<h2>Configuration</h2>\n<ol>\n<li>Add <code>wagtailnetlify</code> to your <code>INSTALLED_APPS</code>.</li>\n<li>Run the migrations: <code>./manage.py migrate wagtailnetlify</code>.</li>\n<li>Add <code>NETLIFY_PATH</code> to your settings.</li>\n</ol>\n<p>Check the <a href=\"#settings\" rel=\"nofollow\">Settings</a> section below for more customisation options.</p>\n<h2>Usage</h2>\n<p>If <code>NETLIFY_AUTO_DEPLOY</code> is set to <code>True</code>, Wagtail will automatically deploy your site every time a page is published.</p>\n<p><em>or</em></p>\n<p>To deploy changes manually, use <code>./manage.py netlify</code>.</p>\n<h2>Settings</h2>\n<h3><code>NETLIFY_PATH</code></h3>\n<p>The path to the Netlify CLI. <em>Hint: type <code>which netlify</code> to check the location.</em></p>\n<h3><code>NETLIFY_SITE_ID</code></h3>\n<p><strong>Default: <code>None</code></strong></p>\n<p>If set, deploy to that specific Netlify site.</p>\n<p>If not set, the Netlify CLI might prompt you to select one.</p>\n<h3><code>NETLIFY_API_TOKEN</code></h3>\n<p><strong>Default: <code>None</code></strong></p>\n<p>If set, the Netlify CLI will not prompt you to click the authentication link in the console. It can be useful when deployed to a remote server where you don't see the console output.</p>\n<p>Connect to your Netlify account to <a href=\"https://app.netlify.com/account/applications\" rel=\"nofollow\">generate a token</a> and then set the settings. <em>Warning: You should never check credentials in your version control system. Use <a href=\"https://django-environ.readthedocs.io/en/latest/\" rel=\"nofollow\">environment variables</a> or <a href=\"http://techstream.org/Bits/Local-Settings-in-django\" rel=\"nofollow\">local settings file</a> instead.</em></p>\n<h3><code>NETLIFY_AUTO_DEPLOY</code></h3>\n<p><strong>Default: <code>True</code></strong></p>\n<p>Whether to automatically deploy your site to Netlify every time you publish a page. This make take between a few seconds and a few minutes, depending on the size of your site, and the number of pages which are affected by your change.</p>\n<h3><code>NETLIFY_DEPLOY_FUNCTION</code></h3>\n<p><strong>Default: <code>wagtailnetlify.models.deploy</code></strong></p>\n<p>The function to be called when a deploy is triggered (excluding when triggered manually with the <code>./manage.py netlify</code> command). It can be useful if you want to use your own task runner (like Celery) instead of the built-in threading model.</p>\n<p>The function needs to be a valid <a href=\"https://docs.djangoproject.com/en/2.1/topics/signals/#receiver-functions\" rel=\"nofollow\">Django signal receiver</a>.</p>\n<h3>Optional admin view</h3>\n<p>Netlify can send a webhook after a successful deployment. This app provides an endpoint for that webhook and an admin view of completed deployments. To enable this view:</p>\n<ol>\n<li>Add <code>wagtail.contrib.modeladmin</code> to your <code>INSTALLED_APPS</code></li>\n<li>Update your project's <code>urls.py</code>:</li>\n</ol>\n<pre><span class=\"c1\"># in your imports</span>\n<span class=\"kn\">from</span> <span class=\"nn\">wagtailnetlify</span> <span class=\"kn\">import</span> <span class=\"n\">views</span> <span class=\"k\">as</span> <span class=\"n\">netlify_views</span>\n\n<span class=\"c1\"># in urlpatterns, before including wagtail_urls</span>\n<span class=\"n\">url</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s1\">'^netlify/'</span><span class=\"p\">,</span> <span class=\"n\">netlify_views</span><span class=\"o\">.</span><span class=\"n\">success_hook</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">'netlify'</span><span class=\"p\">),</span>\n</pre>\n<ol>\n<li>In Netlify's admin interface for your app, add <a href=\"http://yourdomain/netlify/success\" rel=\"nofollow\">http://yourdomain/netlify/success</a> as a URL to notify for the outgoing webhook on <em>Deploy succeeded</em> events (in Settings / Build &amp; deploy / Deploy notifications).</li>\n</ol>\n<p>The view will be available under <code>Settings / Deployments</code> in your site's admin.</p>\n<h2>Development</h2>\n<h3>Releases</h3>\n<ol>\n<li>Ensure you have the latest versions of <code>pip</code>, <code>setuptools</code> and <code>twine</code> installed in your virtual environment.</li>\n<li>Create a new branch (e.g. <code>release/v1.1.3</code>) for the release of the new version.</li>\n<li>Update the version number in <code>wagtailnetlify/__init__.py</code> following <a href=\"http://semver.org/spec/v2.0.0.html\" rel=\"nofollow\">Semantic Versioning</a>.</li>\n<li>Update <code>CHANGELOG.md</code>.</li>\n<li>On GitHub, create a pull request and squash merge it.</li>\n<li>Checkout and pull the <code>master</code> branch locally.</li>\n<li>(Optional) If you need to verify anything, use <code>make publish-test</code> to upload to <a href=\"https://test.pypi.org\" rel=\"nofollow\">https://test.pypi.org</a> and enter your PyPi <em>test</em> credentials as needed.</li>\n<li>Use <code>make publish</code> and enter your PyPi credentials as needed.</li>\n<li>On GitHub, create a release and a tag for the new version.</li>\n</ol>\n\n          </div>"}, "last_serial": 4804414, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "a155cf1562b2be84c91ac487f175ed46", "sha256": "572cdd403200aff2d6267939c29c12b5a1072a1abd15569514fd05ee34e8a49a"}, "downloads": -1, "filename": "wagtailnetlify-0.1.tar.gz", "has_sig": false, "md5_digest": "a155cf1562b2be84c91ac487f175ed46", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6397, "upload_time": "2018-09-16T16:25:56", "upload_time_iso_8601": "2018-09-16T16:25:56.455846Z", "url": "https://files.pythonhosted.org/packages/aa/db/abd7dc280a4fb74e4a84086a6686c46d2e61bfc087cb3e86d60bea2bfcf1/wagtailnetlify-0.1.tar.gz", "yanked": false}], "0.2": [{"comment_text": "", "digests": {"md5": "11bc41d2d832f4b27cdc393fad5a9f09", "sha256": "371429c1aa43c17747f6bcc34476c6b6a6eb67511c51b7f36f5fe7a8b503a35f"}, "downloads": -1, "filename": "wagtailnetlify-0.2.tar.gz", "has_sig": false, "md5_digest": "11bc41d2d832f4b27cdc393fad5a9f09", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6487, "upload_time": "2019-01-27T07:29:46", "upload_time_iso_8601": "2019-01-27T07:29:46.041589Z", "url": "https://files.pythonhosted.org/packages/6c/29/e0f4f9e85d05189f6f82775f2b7381b73c3ca04fd2c540b52d90c7c97acb/wagtailnetlify-0.2.tar.gz", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "96989c1a5766db6e118b9f83cf6d85a8", "sha256": "37f1edc2e4086feb65b3bc111d80c0788ab1c2fc05f9e28be2ffe46cda4c0e27"}, "downloads": -1, "filename": "wagtailnetlify-0.3.tar.gz", "has_sig": false, "md5_digest": "96989c1a5766db6e118b9f83cf6d85a8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7091, "upload_time": "2019-02-11T06:43:33", "upload_time_iso_8601": "2019-02-11T06:43:33.547958Z", "url": "https://files.pythonhosted.org/packages/7c/fb/a25c927b6193f9ba162d0cb67a11640ac89b2d7bf212e35205199a9b5723/wagtailnetlify-0.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "96989c1a5766db6e118b9f83cf6d85a8", "sha256": "37f1edc2e4086feb65b3bc111d80c0788ab1c2fc05f9e28be2ffe46cda4c0e27"}, "downloads": -1, "filename": "wagtailnetlify-0.3.tar.gz", "has_sig": false, "md5_digest": "96989c1a5766db6e118b9f83cf6d85a8", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7091, "upload_time": "2019-02-11T06:43:33", "upload_time_iso_8601": "2019-02-11T06:43:33.547958Z", "url": "https://files.pythonhosted.org/packages/7c/fb/a25c927b6193f9ba162d0cb67a11640ac89b2d7bf212e35205199a9b5723/wagtailnetlify-0.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:32:57 2020"}
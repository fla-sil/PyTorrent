{"info": {"author": "Martin Schrodt (spheenik)", "author_email": "martin@schrodt.org", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: System Administrators", "License :: OSI Approved :: MIT License", "Operating System :: POSIX :: Linux", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: 3.8", "Topic :: System :: Systems Administration"], "description": "# vfio-isolate\n\nvfio-isolate is a command linux tool for Linux, which aims to facilitate CPU and\nmemory isolation for running virtual machines with guaranteed latency.\n\n```\nUsage: vfio-isolate [OPTIONS] COMMAND1 [ARGS]... [COMMAND2 [ARGS]...]...\n\nOptions:\n  -v, --verbose  enable verbose output\n  -d, --debug    enable debug output\n  --help         Show this message and exit.\n\nCommands:\n  compact-memory  compact memory\n  cpuset-create   create a cpuset\n  cpuset-delete   delete a cpuset\n  drop-caches     drop caches\n  move-tasks      move tasks between cpusets\n```\n\n#### Usage\n\nTo create two distinct cpusets, one for the host on CPU 0-1 (host.slice), \nand one for the machine with cpu 2-5 (machine.slice), and then\nmove all existing processes to the host.slice, issue this command:  \n\n```\n sudo vfio-isolate \\ \n    cpuset-create --cpus C0-1 /host.slice \\\n    cpuset-create --cpus C2-5 -ce /machine.slice \\ \n    move-tasks / /host.slice\n```\n\nThe `-ce` parameter sets the CPUs to be used exclusively by this cpuset.\n\nTo undo the previous command:\n\n```\n sudo vfio-isolate \\ \n    cpuset-delete /host.slice \\\n    cpuset-delete /machine.slice \n```\n\nAll processes in a cpuset will be moved to its parent cpuset upon deletion.\n\nIf you have a system with more than one NUMA nodes, you might want to isolate according to the different nodes.\nFor example, on an AMD Threadripper 1920X (12 core, 24 thread), which has 2 NUMA nodes, you could issue\n\n```\n sudo vfio-isolate \\ \n    cpuset-create --cpus N0 --mems N0 -mm /host.slice \\\n    cpuset-create --cpus N1 --mems N1 -ce -me -mm /machine.slice \\ \n    move-tasks / /host.slice\n```\n\nThis will configure NUMA Node 0, in this case CPU 0-5,12-17 for the host, while configuring NUMA node 1 for \nthe VM (6-11,18-23). The `-ce` parameter sets the memory of NUMA node 1 to be used exclusively by the cpuset, \nwhile the `-mm` parameter enables memory migration, so that processes moving to this cpuset will \nhave their memory migrated to that node.\n\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/spheenik/vfio-isolate", "keywords": "vfio cpu isolation", "license": "", "maintainer": "", "maintainer_email": "", "name": "vfio-isolate", "package_url": "https://pypi.org/project/vfio-isolate/", "platform": "", "project_url": "https://pypi.org/project/vfio-isolate/", "project_urls": {"Homepage": "https://github.com/spheenik/vfio-isolate"}, "release_url": "https://pypi.org/project/vfio-isolate/0.1.3/", "requires_dist": ["click (~=7.1.2)", "psutil (~=5.7.0)", "parsimonious (~=0.8.1)"], "requires_python": ">=3.6, <4", "summary": "Commandline tool to facilitate CPU core isolation", "version": "0.1.3", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>vfio-isolate</h1>\n<p>vfio-isolate is a command linux tool for Linux, which aims to facilitate CPU and\nmemory isolation for running virtual machines with guaranteed latency.</p>\n<pre><code>Usage: vfio-isolate [OPTIONS] COMMAND1 [ARGS]... [COMMAND2 [ARGS]...]...\n\nOptions:\n  -v, --verbose  enable verbose output\n  -d, --debug    enable debug output\n  --help         Show this message and exit.\n\nCommands:\n  compact-memory  compact memory\n  cpuset-create   create a cpuset\n  cpuset-delete   delete a cpuset\n  drop-caches     drop caches\n  move-tasks      move tasks between cpusets\n</code></pre>\n<h4>Usage</h4>\n<p>To create two distinct cpusets, one for the host on CPU 0-1 (host.slice),\nand one for the machine with cpu 2-5 (machine.slice), and then\nmove all existing processes to the host.slice, issue this command:</p>\n<pre><code> sudo vfio-isolate \\ \n    cpuset-create --cpus C0-1 /host.slice \\\n    cpuset-create --cpus C2-5 -ce /machine.slice \\ \n    move-tasks / /host.slice\n</code></pre>\n<p>The <code>-ce</code> parameter sets the CPUs to be used exclusively by this cpuset.</p>\n<p>To undo the previous command:</p>\n<pre><code> sudo vfio-isolate \\ \n    cpuset-delete /host.slice \\\n    cpuset-delete /machine.slice \n</code></pre>\n<p>All processes in a cpuset will be moved to its parent cpuset upon deletion.</p>\n<p>If you have a system with more than one NUMA nodes, you might want to isolate according to the different nodes.\nFor example, on an AMD Threadripper 1920X (12 core, 24 thread), which has 2 NUMA nodes, you could issue</p>\n<pre><code> sudo vfio-isolate \\ \n    cpuset-create --cpus N0 --mems N0 -mm /host.slice \\\n    cpuset-create --cpus N1 --mems N1 -ce -me -mm /machine.slice \\ \n    move-tasks / /host.slice\n</code></pre>\n<p>This will configure NUMA Node 0, in this case CPU 0-5,12-17 for the host, while configuring NUMA node 1 for\nthe VM (6-11,18-23). The <code>-ce</code> parameter sets the memory of NUMA node 1 to be used exclusively by the cpuset,\nwhile the <code>-mm</code> parameter enables memory migration, so that processes moving to this cpuset will\nhave their memory migrated to that node.</p>\n\n          </div>"}, "last_serial": 7156872, "releases": {"0.1.2": [{"comment_text": "", "digests": {"md5": "8a14181fe6dae92ba541c3de4ceb9dbe", "sha256": "ad018f229390ade15a66487a0761ff04c8f8ef7b58a797e68ce6a577fbf9783a"}, "downloads": -1, "filename": "vfio_isolate-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "8a14181fe6dae92ba541c3de4ceb9dbe", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6, <4", "size": 7614, "upload_time": "2020-05-03T13:35:42", "upload_time_iso_8601": "2020-05-03T13:35:42.501672Z", "url": "https://files.pythonhosted.org/packages/32/b3/5f510b1d8105355dce1ff55f43d4f9d1cb2444de1b75f76f8cb163ddff3e/vfio_isolate-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ddbc22fe8f619051012c36534d3a5c37", "sha256": "3f7ea311a69e959a089f64e533800d411c596bd203922d03b8c16f54c0d5d36e"}, "downloads": -1, "filename": "vfio-isolate-0.1.2.tar.gz", "has_sig": false, "md5_digest": "ddbc22fe8f619051012c36534d3a5c37", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6, <4", "size": 6853, "upload_time": "2020-05-03T13:35:44", "upload_time_iso_8601": "2020-05-03T13:35:44.393273Z", "url": "https://files.pythonhosted.org/packages/8a/92/e3d1abb028ea6ca902b86a887d4a3f1c5db1f8f8b132dcffe3e0ef28ec6e/vfio-isolate-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "a9dbb17f64a40a4e40b0f250e3f06baa", "sha256": "c3ccea4e27484de1e3617c9814899f3fcf87eaaafb0a1091dda14c6ff033fd76"}, "downloads": -1, "filename": "vfio_isolate-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "a9dbb17f64a40a4e40b0f250e3f06baa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6, <4", "size": 7612, "upload_time": "2020-05-03T13:36:15", "upload_time_iso_8601": "2020-05-03T13:36:15.774166Z", "url": "https://files.pythonhosted.org/packages/6f/7a/2ce39cde30a8df15b44c38decbe1f848dc96a9702d7fdcfbb61cd999df92/vfio_isolate-0.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c1c486a0003defab7fc45f278950cd45", "sha256": "87b3e4c68d9c769dca1f57ef5f301be57abb44d93561ca10a11ec9570eebc9b7"}, "downloads": -1, "filename": "vfio-isolate-0.1.3.tar.gz", "has_sig": false, "md5_digest": "c1c486a0003defab7fc45f278950cd45", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6, <4", "size": 6850, "upload_time": "2020-05-03T13:36:17", "upload_time_iso_8601": "2020-05-03T13:36:17.132599Z", "url": "https://files.pythonhosted.org/packages/ef/74/5ddaf9af25fdb4a479e8529ea3e3fabe22fdf45ce297527bc524d1fadbf5/vfio-isolate-0.1.3.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a9dbb17f64a40a4e40b0f250e3f06baa", "sha256": "c3ccea4e27484de1e3617c9814899f3fcf87eaaafb0a1091dda14c6ff033fd76"}, "downloads": -1, "filename": "vfio_isolate-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "a9dbb17f64a40a4e40b0f250e3f06baa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6, <4", "size": 7612, "upload_time": "2020-05-03T13:36:15", "upload_time_iso_8601": "2020-05-03T13:36:15.774166Z", "url": "https://files.pythonhosted.org/packages/6f/7a/2ce39cde30a8df15b44c38decbe1f848dc96a9702d7fdcfbb61cd999df92/vfio_isolate-0.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c1c486a0003defab7fc45f278950cd45", "sha256": "87b3e4c68d9c769dca1f57ef5f301be57abb44d93561ca10a11ec9570eebc9b7"}, "downloads": -1, "filename": "vfio-isolate-0.1.3.tar.gz", "has_sig": false, "md5_digest": "c1c486a0003defab7fc45f278950cd45", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6, <4", "size": 6850, "upload_time": "2020-05-03T13:36:17", "upload_time_iso_8601": "2020-05-03T13:36:17.132599Z", "url": "https://files.pythonhosted.org/packages/ef/74/5ddaf9af25fdb4a479e8529ea3e3fabe22fdf45ce297527bc524d1fadbf5/vfio-isolate-0.1.3.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:36:26 2020"}
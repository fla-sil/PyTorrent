{"info": {"author": "Martin Musale", "author_email": "martinmshale@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# aiompesa\n\nA package for accessing the [MPESA Daraja API](https://developers.safaricom.co.ke>) from [asyncio](https://docs.python.org/3/library/asyncio.html>).\n\n## Usage\n\n```python\nimport asyncio\nfrom aiompesa import Mpesa\n\nCONSUMER_KEY = \"nF4OwB2XiuYZwmdMz3bovnzw2qMls1b7\"\nCONSUMER_SECRET = \"biIImmaAX9dYD4Pw\"\n\nloop = asyncio.get_event_loop()\nmpesa = Mpesa(True, CONSUMER_KEY, CONSUMER_SECRET)\n\ntoken_response = loop.run_until_complete(mpesa.generate_token())\n\naccess_token = token_response.get(\"access_token\", None)\nexpires_in = token_response.get(\"expires_in\", None)\nif access_token is None:\n    print(\"Error: Wrong credentials used to get the access_token\")\nelse:\n    print(f\"access_token = {access_token}, expires_in = {expires_in} secs\")\n```\n\n## Requirements\n\n- Python 3.6+\n\n## Installation\n\n`$ pip install aiompesa`\n\n## Motivation\n\n- To learn a little more about `asyncio` and put it to some practise.\n- To develop an async wrapper for the [Safaricom daraja api](https://developers.safaricom.co.ke).\n\n## Contribution\n\nFollow the [contribution guidelines](https://github.com/musale/aiompesa)\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/musale/aiompesa", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "aiompesa", "package_url": "https://pypi.org/project/aiompesa/", "platform": "", "project_url": "https://pypi.org/project/aiompesa/", "project_urls": {"Homepage": "http://github.com/musale/aiompesa"}, "release_url": "https://pypi.org/project/aiompesa/0.0.4/", "requires_dist": null, "requires_python": "", "summary": "A thin async wrapper of MPESA daraja API.", "version": "0.0.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>aiompesa</h1>\n<p>A package for accessing the <a href=\"https://developers.safaricom.co.ke%3E\" rel=\"nofollow\">MPESA Daraja API</a> from <a href=\"https://docs.python.org/3/library/asyncio.html%3E\" rel=\"nofollow\">asyncio</a>.</p>\n<h2>Usage</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">asyncio</span>\n<span class=\"kn\">from</span> <span class=\"nn\">aiompesa</span> <span class=\"kn\">import</span> <span class=\"n\">Mpesa</span>\n\n<span class=\"n\">CONSUMER_KEY</span> <span class=\"o\">=</span> <span class=\"s2\">\"nF4OwB2XiuYZwmdMz3bovnzw2qMls1b7\"</span>\n<span class=\"n\">CONSUMER_SECRET</span> <span class=\"o\">=</span> <span class=\"s2\">\"biIImmaAX9dYD4Pw\"</span>\n\n<span class=\"n\">loop</span> <span class=\"o\">=</span> <span class=\"n\">asyncio</span><span class=\"o\">.</span><span class=\"n\">get_event_loop</span><span class=\"p\">()</span>\n<span class=\"n\">mpesa</span> <span class=\"o\">=</span> <span class=\"n\">Mpesa</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"n\">CONSUMER_KEY</span><span class=\"p\">,</span> <span class=\"n\">CONSUMER_SECRET</span><span class=\"p\">)</span>\n\n<span class=\"n\">token_response</span> <span class=\"o\">=</span> <span class=\"n\">loop</span><span class=\"o\">.</span><span class=\"n\">run_until_complete</span><span class=\"p\">(</span><span class=\"n\">mpesa</span><span class=\"o\">.</span><span class=\"n\">generate_token</span><span class=\"p\">())</span>\n\n<span class=\"n\">access_token</span> <span class=\"o\">=</span> <span class=\"n\">token_response</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"access_token\"</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">)</span>\n<span class=\"n\">expires_in</span> <span class=\"o\">=</span> <span class=\"n\">token_response</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"expires_in\"</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">access_token</span> <span class=\"ow\">is</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"Error: Wrong credentials used to get the access_token\"</span><span class=\"p\">)</span>\n<span class=\"k\">else</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">\"access_token = </span><span class=\"si\">{</span><span class=\"n\">access_token</span><span class=\"si\">}</span><span class=\"s2\">, expires_in = </span><span class=\"si\">{</span><span class=\"n\">expires_in</span><span class=\"si\">}</span><span class=\"s2\"> secs\"</span><span class=\"p\">)</span>\n</pre>\n<h2>Requirements</h2>\n<ul>\n<li>Python 3.6+</li>\n</ul>\n<h2>Installation</h2>\n<p><code>$ pip install aiompesa</code></p>\n<h2>Motivation</h2>\n<ul>\n<li>To learn a little more about <code>asyncio</code> and put it to some practise.</li>\n<li>To develop an async wrapper for the <a href=\"https://developers.safaricom.co.ke\" rel=\"nofollow\">Safaricom daraja api</a>.</li>\n</ul>\n<h2>Contribution</h2>\n<p>Follow the <a href=\"https://github.com/musale/aiompesa\" rel=\"nofollow\">contribution guidelines</a></p>\n\n          </div>"}, "last_serial": 5487642, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "e70f4342cb1f5d1a82b9b2168e0b2458", "sha256": "4109eb697d07ddb0a949cb0518a44b7585c2298f03ff166e757c61b484985922"}, "downloads": -1, "filename": "aiompesa-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "e70f4342cb1f5d1a82b9b2168e0b2458", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 2773, "upload_time": "2019-06-19T10:46:25", "upload_time_iso_8601": "2019-06-19T10:46:25.715392Z", "url": "https://files.pythonhosted.org/packages/d7/f8/3c525550397ae3916e841f7ab93da27749af50725c7ba96efe7f55511469/aiompesa-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7ce6df05824c521515f1eda79c8cf8dc", "sha256": "78c0c1d232c58081f1efe485371403a8710bc8d232e275d25171ac9a97e5c78f"}, "downloads": -1, "filename": "aiompesa-0.0.1.tar.gz", "has_sig": false, "md5_digest": "7ce6df05824c521515f1eda79c8cf8dc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2007, "upload_time": "2019-06-19T10:46:28", "upload_time_iso_8601": "2019-06-19T10:46:28.066403Z", "url": "https://files.pythonhosted.org/packages/0c/4b/9a8f4b1e0d17d231945475916f21beab82c90fa4df44741c2bb798957462/aiompesa-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "0a3c3220ef68adead65f94c7dddda517", "sha256": "5cd301580264935ce2ea2655f896aa4e540b375f4e73bf7ec36d36d12e459fee"}, "downloads": -1, "filename": "aiompesa-0.0.2-py3-none-any.whl", "has_sig": false, "md5_digest": "0a3c3220ef68adead65f94c7dddda517", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 2776, "upload_time": "2019-06-19T11:05:13", "upload_time_iso_8601": "2019-06-19T11:05:13.139757Z", "url": "https://files.pythonhosted.org/packages/7a/61/8c321166d6aa2e0bf1a1225a9fc36b2fcf4bdbd11087e97cd055db7995c7/aiompesa-0.0.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f12b47f28707c1c8778c393871efed71", "sha256": "bb60a44fc4c66241812f43f00ffc9263afa147d32b6ab7946de74520449d64dd"}, "downloads": -1, "filename": "aiompesa-0.0.2.tar.gz", "has_sig": false, "md5_digest": "f12b47f28707c1c8778c393871efed71", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 2211, "upload_time": "2019-06-19T11:05:14", "upload_time_iso_8601": "2019-06-19T11:05:14.655561Z", "url": "https://files.pythonhosted.org/packages/10/ad/f26a69d71f57bc39b13216139c009affaabfdcec57614f00cdef634ebb3f/aiompesa-0.0.2.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "689ab6da052555d3cf3b81e53b17f677", "sha256": "18c83c102671a72bc33b13631fa3ddecb6a259656f6347a3e5c31a133965a7e4"}, "downloads": -1, "filename": "aiompesa-0.0.4-py2-none-any.whl", "has_sig": false, "md5_digest": "689ab6da052555d3cf3b81e53b17f677", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 8212, "upload_time": "2019-07-04T17:04:02", "upload_time_iso_8601": "2019-07-04T17:04:02.804928Z", "url": "https://files.pythonhosted.org/packages/9e/9a/70c715ebfa21ffedbfc98fcbd534bbf495c291fdf1f8b8b3ef3037c882bd/aiompesa-0.0.4-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b04b1e4cf304179d16f4d1e40f53e799", "sha256": "babc343254d1fad04154f20cc2112625754284eefdad7561e68355d85f481b9e"}, "downloads": -1, "filename": "aiompesa-0.0.4.tar.gz", "has_sig": false, "md5_digest": "b04b1e4cf304179d16f4d1e40f53e799", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7112, "upload_time": "2019-07-04T17:04:04", "upload_time_iso_8601": "2019-07-04T17:04:04.835671Z", "url": "https://files.pythonhosted.org/packages/bb/94/56a572ed8f0e3e2e593b4d624b48ef8dc7c45b3d00589f5f5bb362ef301a/aiompesa-0.0.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "689ab6da052555d3cf3b81e53b17f677", "sha256": "18c83c102671a72bc33b13631fa3ddecb6a259656f6347a3e5c31a133965a7e4"}, "downloads": -1, "filename": "aiompesa-0.0.4-py2-none-any.whl", "has_sig": false, "md5_digest": "689ab6da052555d3cf3b81e53b17f677", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 8212, "upload_time": "2019-07-04T17:04:02", "upload_time_iso_8601": "2019-07-04T17:04:02.804928Z", "url": "https://files.pythonhosted.org/packages/9e/9a/70c715ebfa21ffedbfc98fcbd534bbf495c291fdf1f8b8b3ef3037c882bd/aiompesa-0.0.4-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b04b1e4cf304179d16f4d1e40f53e799", "sha256": "babc343254d1fad04154f20cc2112625754284eefdad7561e68355d85f481b9e"}, "downloads": -1, "filename": "aiompesa-0.0.4.tar.gz", "has_sig": false, "md5_digest": "b04b1e4cf304179d16f4d1e40f53e799", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 7112, "upload_time": "2019-07-04T17:04:04", "upload_time_iso_8601": "2019-07-04T17:04:04.835671Z", "url": "https://files.pythonhosted.org/packages/bb/94/56a572ed8f0e3e2e593b4d624b48ef8dc7c45b3d00589f5f5bb362ef301a/aiompesa-0.0.4.tar.gz", "yanked": false}], "timestamp": "Thu May  7 16:21:03 2020"}
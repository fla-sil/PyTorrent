{"info": {"author": "Wes Mason", "author_email": "wes@1stvamp.org", "bugtrack_url": null, "classifiers": [], "description": "trequests\n=========\n\n.. image:: https://travis-ci.org/1stvamp/trequests.png?branch=master\n\nA Tornado async HTTP/HTTPS client adapter for python-requests.\n\nThe problem\n-----------\n\nYou enjoy using `Tornado <http://www.tornadoweb.org/>`_ to build fast non-blocking web applications, and you want to use a library from PyPI that makes a few HTTP requests, but pretty much every dev and their dog uses `Requests <http://python-requests.org/>`_ to make HTTP requests (rightly so, because it's *awesome*), but requests has no knowledge of the event loop nor can it yield when a socket blocks, which means any time you try to use a library like that it begins to block your request handling and grud-knows what other worlds of pain.\n\nThe solution\n------------\n\nLuckily there are solutions, one such is to use the `greenlet <http://greenlet.readthedocs.org/>`_ module to wrap blocking operations and swap Tornado coroutines at the right time, there is even the handy `tornalet <https://github.com/Gawen/tornalet>`_ module which handles this for you.\n\nTo make life even easier, you lucky lucky people, I've created ``trequests``, an async Requests adapter which uses greenlets (via tornalet) and the inbuilt non-blocking HTTP client methos in Tornado, to make any call to a library (utilizing Requests) non-blocking.\n\nInstallation\n------------\n\n.. code-block:: bash\n    \n    $ pip install trequests\n  \nUsage\n-----\n  \n.. code-block:: python\n    \n    # Assume bobs_big_data uses python-requests for HTTP requests\n    import bobs_big_data\n    \n    from tornado.web import RequestHandler\n    from trequests import setup_session\n    from tornalet import tornalet\n    \n    # Tell requests to use our AsyncHTTPadapter for the default\n    # session instance, you can also pass you own through\n    setup_session()\n    \n    class WebHandler(RequestHandler):\n        @tornalet\n        def get(self):\n            data = {'foo': 'bar'}\n            # This will now unblock the current coroutine, like magic\n            response = bobs_big_data.BigData(data).post()\n            return self.write(response)\n\n\nTests\n-----\n\nTo run the basic testsuite hit up `python setup.py test`.\n\n\nCaveats\n-------\n\n``trequests`` has been used in production in a large scale metrics application, and is a very small and quite simple module.\n\n**However** I've released it as ``0.9.x`` mainly because it's missing 100% compatibility with the Requests adapter API, most noticeably *cookie jar* and *session* support, which I will improve (or please send me a pull request if you fancy adding support), and release as a ``1.x`` branch when I have the time.\n\nAlso at the moment the ``setup_session`` utility actually monkey patches the ``session`` utility functions in Requests, as this was the only way I could see to override the mounts on \"default\" session instances (e.g. those created for every call when a session isn't provided). I'm hoping to change this in the future.", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/1stvamp/trequests", "keywords": null, "license": "BSD", "maintainer": null, "maintainer_email": null, "name": "zymbit-trequests", "package_url": "https://pypi.org/project/zymbit-trequests/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/zymbit-trequests/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/1stvamp/trequests"}, "release_url": "https://pypi.org/project/zymbit-trequests/0.9.5/", "requires_dist": null, "requires_python": null, "summary": "A Tornado async HTTP/HTTPS client adaptor for python-requests", "version": "0.9.5", "yanked": false, "html_description": "<div class=\"project-description\">\n            <img alt=\"https://travis-ci.org/1stvamp/trequests.png?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/cc17779e956f3b99790992e444208695f243d392/68747470733a2f2f7472617669732d63692e6f72672f31737476616d702f7472657175657374732e706e673f6272616e63683d6d6173746572\">\n<p>A Tornado async HTTP/HTTPS client adapter for python-requests.</p>\n<div id=\"the-problem\">\n<h2>The problem</h2>\n<p>You enjoy using <a href=\"http://www.tornadoweb.org/\" rel=\"nofollow\">Tornado</a> to build fast non-blocking web applications, and you want to use a library from PyPI that makes a few HTTP requests, but pretty much every dev and their dog uses <a href=\"http://python-requests.org/\" rel=\"nofollow\">Requests</a> to make HTTP requests (rightly so, because it\u2019s <em>awesome</em>), but requests has no knowledge of the event loop nor can it yield when a socket blocks, which means any time you try to use a library like that it begins to block your request handling and grud-knows what other worlds of pain.</p>\n</div>\n<div id=\"the-solution\">\n<h2>The solution</h2>\n<p>Luckily there are solutions, one such is to use the <a href=\"http://greenlet.readthedocs.org/\" rel=\"nofollow\">greenlet</a> module to wrap blocking operations and swap Tornado coroutines at the right time, there is even the handy <a href=\"https://github.com/Gawen/tornalet\" rel=\"nofollow\">tornalet</a> module which handles this for you.</p>\n<p>To make life even easier, you lucky lucky people, I\u2019ve created <tt>trequests</tt>, an async Requests adapter which uses greenlets (via tornalet) and the inbuilt non-blocking HTTP client methos in Tornado, to make any call to a library (utilizing Requests) non-blocking.</p>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<pre>$ pip install trequests\n</pre>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<pre><span class=\"c1\"># Assume bobs_big_data uses python-requests for HTTP requests</span>\n<span class=\"kn\">import</span> <span class=\"nn\">bobs_big_data</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">tornado.web</span> <span class=\"kn\">import</span> <span class=\"n\">RequestHandler</span>\n<span class=\"kn\">from</span> <span class=\"nn\">trequests</span> <span class=\"kn\">import</span> <span class=\"n\">setup_session</span>\n<span class=\"kn\">from</span> <span class=\"nn\">tornalet</span> <span class=\"kn\">import</span> <span class=\"n\">tornalet</span>\n\n<span class=\"c1\"># Tell requests to use our AsyncHTTPadapter for the default</span>\n<span class=\"c1\"># session instance, you can also pass you own through</span>\n<span class=\"n\">setup_session</span><span class=\"p\">()</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">WebHandler</span><span class=\"p\">(</span><span class=\"n\">RequestHandler</span><span class=\"p\">):</span>\n    <span class=\"nd\">@tornalet</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">'foo'</span><span class=\"p\">:</span> <span class=\"s1\">'bar'</span><span class=\"p\">}</span>\n        <span class=\"c1\"># This will now unblock the current coroutine, like magic</span>\n        <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">bobs_big_data</span><span class=\"o\">.</span><span class=\"n\">BigData</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">post</span><span class=\"p\">()</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"tests\">\n<h2>Tests</h2>\n<p>To run the basic testsuite hit up <cite>python setup.py test</cite>.</p>\n</div>\n<div id=\"caveats\">\n<h2>Caveats</h2>\n<p><tt>trequests</tt> has been used in production in a large scale metrics application, and is a very small and quite simple module.</p>\n<p><strong>However</strong> I\u2019ve released it as <tt>0.9.x</tt> mainly because it\u2019s missing 100% compatibility with the Requests adapter API, most noticeably <em>cookie jar</em> and <em>session</em> support, which I will improve (or please send me a pull request if you fancy adding support), and release as a <tt>1.x</tt> branch when I have the time.</p>\n<p>Also at the moment the <tt>setup_session</tt> utility actually monkey patches the <tt>session</tt> utility functions in Requests, as this was the only way I could see to override the mounts on \u201cdefault\u201d session instances (e.g. those created for every call when a session isn\u2019t provided). I\u2019m hoping to change this in the future.</p>\n</div>\n\n          </div>"}, "last_serial": 1894877, "releases": {"0.9.5": [{"comment_text": "", "digests": {"md5": "870a2fb4fb8be485c09601ddd64937d2", "sha256": "5462c85ba55788f5caf5663b2edd79af1626bb979625dbe12063a75fb28ada07"}, "downloads": -1, "filename": "zymbit-trequests-0.9.5.tar.gz", "has_sig": false, "md5_digest": "870a2fb4fb8be485c09601ddd64937d2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4539, "upload_time": "2016-01-08T13:13:37", "upload_time_iso_8601": "2016-01-08T13:13:37.699681Z", "url": "https://files.pythonhosted.org/packages/7a/ae/0ad1ad1bd6a3c5a2b9c84c11cb6fb82085a459e75d3a9f2f94403b7bb965/zymbit-trequests-0.9.5.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "870a2fb4fb8be485c09601ddd64937d2", "sha256": "5462c85ba55788f5caf5663b2edd79af1626bb979625dbe12063a75fb28ada07"}, "downloads": -1, "filename": "zymbit-trequests-0.9.5.tar.gz", "has_sig": false, "md5_digest": "870a2fb4fb8be485c09601ddd64937d2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4539, "upload_time": "2016-01-08T13:13:37", "upload_time_iso_8601": "2016-01-08T13:13:37.699681Z", "url": "https://files.pythonhosted.org/packages/7a/ae/0ad1ad1bd6a3c5a2b9c84c11cb6fb82085a459e75d3a9f2f94403b7bb965/zymbit-trequests-0.9.5.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:09:38 2020"}
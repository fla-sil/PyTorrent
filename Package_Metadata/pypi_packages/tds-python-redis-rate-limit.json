{"info": {"author": "", "author_email": "", "bugtrack_url": null, "classifiers": [], "description": "python-redis-rate-limit\n=======================\n\n.. image:: https://travis-ci.org/EvoluxBR/python-redis-rate-limit.svg?branch=master\n    :target: https://travis-ci.org/EvoluxBR/python-redis-rate-limit\n\n.. image:: https://img.shields.io/pypi/v/python-redis-rate-limit.svg\n    :target: https://pypi.python.org/pypi/python-redis-rate-limit\n\n\nThis lib offers an abstraction of a Rate Limit algorithm implemented on top of\nRedis >= 2.6.0.\n\nExample: 10 requests per second\n\n.. code-block:: python\n\n    from redis_rate_limit import RateLimit, TooManyRequests\n    try:\n      with RateLimit(resource='users_list', client='192.168.0.10', max_requests=10):\n        return '200 OK'\n    except TooManyRequests:\n      return '429 Too Many Requests'\n\nExample: 600 requests per minute\n\n.. code-block:: python\n\n    from redis_rate_limit import RateLimit, TooManyRequests\n    try:\n      with RateLimit(resource='users_list', client='192.168.0.10', max_requests=600, expire=60):\n        return '200 OK'\n    except TooManyRequests:\n      return '429 Too Many Requests'\n\nExample: 100 requests per hour\n\n.. code-block:: python\n\n    from redis_rate_limit import RateLimit, TooManyRequests\n    try:\n      with RateLimit(resource='users_list', client='192.168.0.10', max_requests=100, expire=3600):\n        return '200 OK'\n    except TooManyRequests:\n      return '429 Too Many Requests'\n\nExample: you can also setup a factory to use it later\n\n.. code-block:: python\n\n    from redis_rate_limit import RateLimiter, TooManyRequests\n    limiter = RateLimiter(resource='users_list', max_requests=100, expire=3600)\n    try:\n      with limiter.limit(client='192.168.0.10'):\n        return '200 OK'\n    except TooManyRequests:\n      return '429 Too Many Requests'\n\nExample: you can also pass an optional Redis Pool\n\n.. code-block:: python\n\n    import redis\n    from redis_rate_limit import RateLimit, TooManyRequests\n    redis_pool = redis.ConnectionPool(host='127.0.0.1', port=6379, db=0)\n    try:\n      with RateLimit(resource='users_list', client='192.168.0.10', max_requests=10, redis_pool=redis_pool):\n        return '200 OK'\n    except TooManyRequests:\n      return '429 Too Many Requests'", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "tds-python-redis-rate-limit", "package_url": "https://pypi.org/project/tds-python-redis-rate-limit/", "platform": "", "project_url": "https://pypi.org/project/tds-python-redis-rate-limit/", "project_urls": null, "release_url": "https://pypi.org/project/tds-python-redis-rate-limit/0.0.6/", "requires_dist": null, "requires_python": "", "summary": "Python Rate Limiter based on Redis.", "version": "0.0.6", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://travis-ci.org/EvoluxBR/python-redis-rate-limit\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/EvoluxBR/python-redis-rate-limit.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d4e0588382749283a66dcf99bcac545594830706/68747470733a2f2f7472617669732d63692e6f72672f45766f6c757842522f707974686f6e2d72656469732d726174652d6c696d69742e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://pypi.python.org/pypi/python-redis-rate-limit\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/v/python-redis-rate-limit.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8ca09182e277684500ca7dfc01c1fbc314f4b784/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f707974686f6e2d72656469732d726174652d6c696d69742e737667\"></a>\n<p>This lib offers an abstraction of a Rate Limit algorithm implemented on top of\nRedis &gt;= 2.6.0.</p>\n<p>Example: 10 requests per second</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">redis_rate_limit</span> <span class=\"kn\">import</span> <span class=\"n\">RateLimit</span><span class=\"p\">,</span> <span class=\"n\">TooManyRequests</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n  <span class=\"k\">with</span> <span class=\"n\">RateLimit</span><span class=\"p\">(</span><span class=\"n\">resource</span><span class=\"o\">=</span><span class=\"s1\">'users_list'</span><span class=\"p\">,</span> <span class=\"n\">client</span><span class=\"o\">=</span><span class=\"s1\">'192.168.0.10'</span><span class=\"p\">,</span> <span class=\"n\">max_requests</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'200 OK'</span>\n<span class=\"k\">except</span> <span class=\"n\">TooManyRequests</span><span class=\"p\">:</span>\n  <span class=\"k\">return</span> <span class=\"s1\">'429 Too Many Requests'</span>\n</pre>\n<p>Example: 600 requests per minute</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">redis_rate_limit</span> <span class=\"kn\">import</span> <span class=\"n\">RateLimit</span><span class=\"p\">,</span> <span class=\"n\">TooManyRequests</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n  <span class=\"k\">with</span> <span class=\"n\">RateLimit</span><span class=\"p\">(</span><span class=\"n\">resource</span><span class=\"o\">=</span><span class=\"s1\">'users_list'</span><span class=\"p\">,</span> <span class=\"n\">client</span><span class=\"o\">=</span><span class=\"s1\">'192.168.0.10'</span><span class=\"p\">,</span> <span class=\"n\">max_requests</span><span class=\"o\">=</span><span class=\"mi\">600</span><span class=\"p\">,</span> <span class=\"n\">expire</span><span class=\"o\">=</span><span class=\"mi\">60</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'200 OK'</span>\n<span class=\"k\">except</span> <span class=\"n\">TooManyRequests</span><span class=\"p\">:</span>\n  <span class=\"k\">return</span> <span class=\"s1\">'429 Too Many Requests'</span>\n</pre>\n<p>Example: 100 requests per hour</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">redis_rate_limit</span> <span class=\"kn\">import</span> <span class=\"n\">RateLimit</span><span class=\"p\">,</span> <span class=\"n\">TooManyRequests</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n  <span class=\"k\">with</span> <span class=\"n\">RateLimit</span><span class=\"p\">(</span><span class=\"n\">resource</span><span class=\"o\">=</span><span class=\"s1\">'users_list'</span><span class=\"p\">,</span> <span class=\"n\">client</span><span class=\"o\">=</span><span class=\"s1\">'192.168.0.10'</span><span class=\"p\">,</span> <span class=\"n\">max_requests</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"n\">expire</span><span class=\"o\">=</span><span class=\"mi\">3600</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'200 OK'</span>\n<span class=\"k\">except</span> <span class=\"n\">TooManyRequests</span><span class=\"p\">:</span>\n  <span class=\"k\">return</span> <span class=\"s1\">'429 Too Many Requests'</span>\n</pre>\n<p>Example: you can also setup a factory to use it later</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">redis_rate_limit</span> <span class=\"kn\">import</span> <span class=\"n\">RateLimiter</span><span class=\"p\">,</span> <span class=\"n\">TooManyRequests</span>\n<span class=\"n\">limiter</span> <span class=\"o\">=</span> <span class=\"n\">RateLimiter</span><span class=\"p\">(</span><span class=\"n\">resource</span><span class=\"o\">=</span><span class=\"s1\">'users_list'</span><span class=\"p\">,</span> <span class=\"n\">max_requests</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"n\">expire</span><span class=\"o\">=</span><span class=\"mi\">3600</span><span class=\"p\">)</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n  <span class=\"k\">with</span> <span class=\"n\">limiter</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"n\">client</span><span class=\"o\">=</span><span class=\"s1\">'192.168.0.10'</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'200 OK'</span>\n<span class=\"k\">except</span> <span class=\"n\">TooManyRequests</span><span class=\"p\">:</span>\n  <span class=\"k\">return</span> <span class=\"s1\">'429 Too Many Requests'</span>\n</pre>\n<p>Example: you can also pass an optional Redis Pool</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">redis</span>\n<span class=\"kn\">from</span> <span class=\"nn\">redis_rate_limit</span> <span class=\"kn\">import</span> <span class=\"n\">RateLimit</span><span class=\"p\">,</span> <span class=\"n\">TooManyRequests</span>\n<span class=\"n\">redis_pool</span> <span class=\"o\">=</span> <span class=\"n\">redis</span><span class=\"o\">.</span><span class=\"n\">ConnectionPool</span><span class=\"p\">(</span><span class=\"n\">host</span><span class=\"o\">=</span><span class=\"s1\">'127.0.0.1'</span><span class=\"p\">,</span> <span class=\"n\">port</span><span class=\"o\">=</span><span class=\"mi\">6379</span><span class=\"p\">,</span> <span class=\"n\">db</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"k\">try</span><span class=\"p\">:</span>\n  <span class=\"k\">with</span> <span class=\"n\">RateLimit</span><span class=\"p\">(</span><span class=\"n\">resource</span><span class=\"o\">=</span><span class=\"s1\">'users_list'</span><span class=\"p\">,</span> <span class=\"n\">client</span><span class=\"o\">=</span><span class=\"s1\">'192.168.0.10'</span><span class=\"p\">,</span> <span class=\"n\">max_requests</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">redis_pool</span><span class=\"o\">=</span><span class=\"n\">redis_pool</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"s1\">'200 OK'</span>\n<span class=\"k\">except</span> <span class=\"n\">TooManyRequests</span><span class=\"p\">:</span>\n  <span class=\"k\">return</span> <span class=\"s1\">'429 Too Many Requests'</span>\n</pre>\n\n          </div>"}, "last_serial": 3670183, "releases": {"0.0.6": [{"comment_text": "", "digests": {"md5": "74b419436d651cc6ba73f8d86edad7dc", "sha256": "e1c73cdae9d156a2ddc180cad5271a2764ab2815323be646f44511052893ade5"}, "downloads": -1, "filename": "tds-python-redis-rate-limit-0.0.6.tar.gz", "has_sig": false, "md5_digest": "74b419436d651cc6ba73f8d86edad7dc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3379, "upload_time": "2018-03-14T20:00:14", "upload_time_iso_8601": "2018-03-14T20:00:14.343143Z", "url": "https://files.pythonhosted.org/packages/1f/3e/cf146168278d92af3d7330fa12099eb8d7e03673526c858c758c84bf4a94/tds-python-redis-rate-limit-0.0.6.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "74b419436d651cc6ba73f8d86edad7dc", "sha256": "e1c73cdae9d156a2ddc180cad5271a2764ab2815323be646f44511052893ade5"}, "downloads": -1, "filename": "tds-python-redis-rate-limit-0.0.6.tar.gz", "has_sig": false, "md5_digest": "74b419436d651cc6ba73f8d86edad7dc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3379, "upload_time": "2018-03-14T20:00:14", "upload_time_iso_8601": "2018-03-14T20:00:14.343143Z", "url": "https://files.pythonhosted.org/packages/1f/3e/cf146168278d92af3d7330fa12099eb8d7e03673526c858c758c84bf4a94/tds-python-redis-rate-limit-0.0.6.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:57:09 2020"}
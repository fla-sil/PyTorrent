{"info": {"author": "Michael Williamson", "author_email": "mike@zwobble.org", "bugtrack_url": null, "classifiers": ["Development Status :: 4 - Beta", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.2", "Programming Language :: Python :: 3.3", "Programming Language :: Python :: 3.4"], "description": "The Nope Programming Language\n=============================\n\nNope is a statically-typed subset of Python 3 that can be compiled to multiple targets.\nAt the moment, only Python and node.js are supported.\nAny valid Nope program can be run directly as a Python 3 program.\n\nStatic typing is supported for two main reasons:\n\n* Static typing can detect some programming errors more quickly\n\n* Static typing allows optimisations to be applied to the generated code\n\nThe static types are expressed using comments, rather than annotations, for\nseveral reasons:\n\n* This means the static typing has no effect at runtime, allowing Nope programs\n  to be run directly as Python 3 programs without any extra dependencies or\n  performance penalty.\n\n* A separate syntax can be used within the comments to succinctly express types,\n  rather than (ab)using existing Python syntax.\n\n* It can be useful to decouple the signature of a function from the implementation.\n  For instance, using separate comments makes it easy to type a function such\n  that it only accepts arguments by positions rather than keyword.\n\nHere's an example of calculating Fibonacci numbers using Nope:\n\n.. code-block:: python\n\n    #:: int -> int\n    def fib(n):\n        seq = [0, 1]\n        for i in range(2, n + 1):\n            seq.append(seq[i - 1] + seq[i - 2])\n        \n        return seq[n]\n\n    print(fib(10))\n\nTODO\n----\n\n* When defining `__add__` and similar methods on classes,\n  the type signature should be specific e.g. on int, ``int -> int``.\n  However, to maintain compatibility with Python,\n  the type checker should assume the argument is the top type when type\n  checking the actual method, so isinstance or similar still has to be used.\n\n* Support for the r versions of operators e.g. ``__radd__``.\n\n* Inheritance\n\n* ``__init__`` methods\n\n* Standard library support\n\n* A way of specifying dependencies on a per-platform basis to allow shimming\n  of existing libraries into a common interface.\n\n* Allow types of variables to be specified in the same way as functions, such\n  as giving the type of an empty list.\n\n* If a class definition body contains a value of type object that could\n  be a function (but that is not possible to determine at runtime), how\n  should it be treated? In Python, if it's a function, we bind it to the\n  instance. Is it possible to sensibly do the same in other languages?\n  The result is that any value of type object will need to be checked\n  as to whether it is a function or not for consistency.\n\n* Proper tests for builtin functions\n\n* Prevent re-definition of functions and classes\n\n* Allow mutually recursive functions\n\n* Ensure that all signatures are used in typing rules\n\nStatus\n------\n\nSyntax\n~~~~~~\n\nThis section describes support for parsing and type-checking each of\n`Python 3.4's syntax nodes <https://docs.python.org/3.4/library/ast.html#abstract-grammar>`_.\nNote that not all backends may support all features.\n\n* **Function definitions**: partially supported.\n\n  * **name**: supported.\n  \n  * **arguments**: partially supported.\n    Positional and keyword arguments are supported, but nothing else\n    (default values, ``*args``, ``**kwargs``, keyword-only arguments).\n    \n  * **body**: supported.\n  \n  * **decorators**: unsupported.\n  \n  * **annotations**: unsupported (both argument and return annotations).\n  \n  The signature of a function should be specified by a signature comment immediately before the function definition.\n  For instance:\n  \n  .. code-block:: python\n\n      #:: int -> int\n      def increment(x):\n          return x + 1\n      \n      #:: int, str -> none\n      def repeated_greeting(repeat, message):\n          for i in range(0, repeat):\n              print(message)\n      \n      #:: repeat: int, message: str -> none\n      def repeated_greeting(repeat, message):\n          for i in range(0, repeat):\n              print(message)\n\n* **Class definitions**: unsupported.\n\n* **Return statements**: supported.\n\n* **Delete statements**: unsupported.\n\n* **Assignments**: partially supported.\n  Assignments to variables (e.g. ``x``), elements of sequences (e.g. ``x[i]``), and attributes (e.g. ``x.y``)\n  are supported, but not assignment to slices (e.g. ``x[:]``).\n\n* **Augmented assignments**: unsupported.\n\n* **For loops**: supported.\n  \n* **While loops**: supported.\n\n* **If statements**: supported.\n\n* **With statements**: supported.\n\n* **Raise statements**: partially supported.\n  Only statements in the form ``raise value`` are supported.\n  ``raise``, ``raise ExceptionType`` and ``raise value1 from value2`` are unsupported.\n\n* **Try statements**: partially supported.\n  Tuples of exceptions are not supported when specifying the type in exception handlers.\n  The ``else`` branch is ignored.\n\n* **Assert statements**: supported.\n\n* **Import statements**: partially supported.\n  The various forms of import statement are supported.\n  However, only local modules are currently supported.\n  Modules from the standard library or dependencies are unsupported.\n  \n* **global keyword**: unsupported.\n\n* **nonlocal keyword**: unsupported.\n\n* **Expression statements**: supported.\n\n* **pass keyword**: supported.\n\n* **break keyword**: supported.\n\n* **continue keyword**: supported.\n\nWith statements\n~~~~~~~~~~~~~~~\n\nConsider the following:\n\n.. code-block:: python\n\n    with x:\n        y = f()\n        \n    g(y)\n\nIt isn't guaranteed that ``y`` has been assigned a value since ``f()`` could\nraise an exception that is then suppressed by the context manager's ``__exit__`` method.\nTherefore, ``g(y)`` fails to type-check.\n(If the exception isn't suppressed by the ``__exit__`` method, we can safely\nassume treat the variable as assigned since we won't be executing any code after the exception).\nHowever, in the common case, we'd like to be able to assume that the variable has been assigned,\nand such an assumption is safe in many cases, such as:\n\n.. code-block:: python\n\n    with open(path) as file_:\n        contents = file_.read()\n    \n    print(contents)\n\nWe can allow such examples to type-check by inspecting the type of ``__exit__``.\nIf its return type is ``none``, then it is guaranteed to return a false value,\nmeaning it will never suppress exceptions.\n\n\nPython\n~~~~~~\n\nAny valid Nope program should be directly executable using Python 3.4.\nThe best way to support earlier versions of Python is in the same way as you would\non a normal Python 3.4 codebase i.e. avoiding features unsupported in earlier versions.\n\nNode.js backend\n~~~~~~~~~~~~~~~\n\nSupported builtin functions:\n\n* ``abs``: supported\n\n* ``bool``: partially supported. The magic method ``__bool__`` is ignored.\n\n* ``iter``: partially supported. The sequence protocol is unsupported.\n\n* ``print``: only a single argument is accepted.\n\nUnimplemented optimisations:\n\n* If the result of boolean operations ('and' or 'or') is only used as a\n  condition, such as the condition of an 'if' statement or 'while' loop,\n  then the value can simply be true or false rather than the actual value\n  of the operation. In other words, ``x and y`` can be optimised to\n  ``bool(x) && bool(y)``.\n\n* Unless ``bool()`` has been explicitly invoked, booleans, strings and integers\n  can be used directly if only used for their truth value e.g. in if statement\n  conditions.\n\n* Avoid re-evaluating bool(value) if boolean operations are used directly in\n  conditions. For instance, in ``if x and y``, ``bool(x)`` only needs to be\n  evaluated once, even if ``bool(x)`` is ``True``. (A naive implementation\n  evalutes ``bool(x)`` once for the ``and`` operation, which would have the\n  value of ``x``, causing ``bool(x)`` to be evaluated again as the condition\n  of the ``if`` statement.)\n\n\nDifferences from Python 3\n-------------------------\n\nSubclassing builtins\n~~~~~~~~~~~~~~~~~~~~~\n\nNope does not allow subclassing of some builtins,\nsuch as ``int`` and ``list``.\nThis restraint means a value of type ``int`` is guaranteed to have the concrete type ``int`` rather than a subclass of ``int``,\nallowing certain optimisations to be used when generating code.", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/mwilliamson/nope", "keywords": "nope static type", "license": "UNKNOWN", "maintainer": null, "maintainer_email": null, "name": "nope", "package_url": "https://pypi.org/project/nope/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/nope/", "project_urls": {"Download": "UNKNOWN", "Homepage": "http://github.com/mwilliamson/nope"}, "release_url": "https://pypi.org/project/nope/0.1.0/", "requires_dist": null, "requires_python": null, "summary": "Statically type a subset of Python 3", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>Nope is a statically-typed subset of Python 3 that can be compiled to multiple targets.\nAt the moment, only Python and node.js are supported.\nAny valid Nope program can be run directly as a Python 3 program.</p>\n<p>Static typing is supported for two main reasons:</p>\n<ul>\n<li>Static typing can detect some programming errors more quickly</li>\n<li>Static typing allows optimisations to be applied to the generated code</li>\n</ul>\n<p>The static types are expressed using comments, rather than annotations, for\nseveral reasons:</p>\n<ul>\n<li>This means the static typing has no effect at runtime, allowing Nope programs\nto be run directly as Python 3 programs without any extra dependencies or\nperformance penalty.</li>\n<li>A separate syntax can be used within the comments to succinctly express types,\nrather than (ab)using existing Python syntax.</li>\n<li>It can be useful to decouple the signature of a function from the implementation.\nFor instance, using separate comments makes it easy to type a function such\nthat it only accepts arguments by positions rather than keyword.</li>\n</ul>\n<p>Here\u2019s an example of calculating Fibonacci numbers using Nope:</p>\n<pre><span class=\"c1\">#:: int -&gt; int</span>\n<span class=\"k\">def</span> <span class=\"nf\">fib</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">):</span>\n    <span class=\"n\">seq</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">n</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">):</span>\n        <span class=\"n\">seq</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">seq</span><span class=\"p\">[</span><span class=\"n\">i</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"n\">seq</span><span class=\"p\">[</span><span class=\"n\">i</span> <span class=\"o\">-</span> <span class=\"mi\">2</span><span class=\"p\">])</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">seq</span><span class=\"p\">[</span><span class=\"n\">n</span><span class=\"p\">]</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">fib</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">))</span>\n</pre>\n<div id=\"todo\">\n<h2>TODO</h2>\n<ul>\n<li>When defining <cite>__add__</cite> and similar methods on classes,\nthe type signature should be specific e.g. on int, <tt>int <span class=\"pre\">-&gt;</span> int</tt>.\nHowever, to maintain compatibility with Python,\nthe type checker should assume the argument is the top type when type\nchecking the actual method, so isinstance or similar still has to be used.</li>\n<li>Support for the r versions of operators e.g. <tt>__radd__</tt>.</li>\n<li>Inheritance</li>\n<li><tt>__init__</tt> methods</li>\n<li>Standard library support</li>\n<li>A way of specifying dependencies on a per-platform basis to allow shimming\nof existing libraries into a common interface.</li>\n<li>Allow types of variables to be specified in the same way as functions, such\nas giving the type of an empty list.</li>\n<li>If a class definition body contains a value of type object that could\nbe a function (but that is not possible to determine at runtime), how\nshould it be treated? In Python, if it\u2019s a function, we bind it to the\ninstance. Is it possible to sensibly do the same in other languages?\nThe result is that any value of type object will need to be checked\nas to whether it is a function or not for consistency.</li>\n<li>Proper tests for builtin functions</li>\n<li>Prevent re-definition of functions and classes</li>\n<li>Allow mutually recursive functions</li>\n<li>Ensure that all signatures are used in typing rules</li>\n</ul>\n</div>\n<div id=\"status\">\n<h2>Status</h2>\n<div id=\"syntax\">\n<h3>Syntax</h3>\n<p>This section describes support for parsing and type-checking each of\n<a href=\"https://docs.python.org/3.4/library/ast.html#abstract-grammar\" rel=\"nofollow\">Python 3.4\u2019s syntax nodes</a>.\nNote that not all backends may support all features.</p>\n<ul>\n<li><p><strong>Function definitions</strong>: partially supported.</p>\n<ul>\n<li><strong>name</strong>: supported.</li>\n<li><strong>arguments</strong>: partially supported.\nPositional and keyword arguments are supported, but nothing else\n(default values, <tt>*args</tt>, <tt>**kwargs</tt>, keyword-only arguments).</li>\n<li><strong>body</strong>: supported.</li>\n<li><strong>decorators</strong>: unsupported.</li>\n<li><strong>annotations</strong>: unsupported (both argument and return annotations).</li>\n</ul>\n<p>The signature of a function should be specified by a signature comment immediately before the function definition.\nFor instance:</p>\n<pre><span class=\"c1\">#:: int -&gt; int</span>\n<span class=\"k\">def</span> <span class=\"nf\">increment</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"mi\">1</span>\n\n<span class=\"c1\">#:: int, str -&gt; none</span>\n<span class=\"k\">def</span> <span class=\"nf\">repeated_greeting</span><span class=\"p\">(</span><span class=\"n\">repeat</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">):</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">repeat</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">)</span>\n\n<span class=\"c1\">#:: repeat: int, message: str -&gt; none</span>\n<span class=\"k\">def</span> <span class=\"nf\">repeated_greeting</span><span class=\"p\">(</span><span class=\"n\">repeat</span><span class=\"p\">,</span> <span class=\"n\">message</span><span class=\"p\">):</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">repeat</span><span class=\"p\">):</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">)</span>\n</pre>\n</li>\n<li><p><strong>Class definitions</strong>: unsupported.</p>\n</li>\n<li><p><strong>Return statements</strong>: supported.</p>\n</li>\n<li><p><strong>Delete statements</strong>: unsupported.</p>\n</li>\n<li><p><strong>Assignments</strong>: partially supported.\nAssignments to variables (e.g. <tt>x</tt>), elements of sequences (e.g. <tt>x[i]</tt>), and attributes (e.g. <tt>x.y</tt>)\nare supported, but not assignment to slices (e.g. <tt><span class=\"pre\">x[:]</span></tt>).</p>\n</li>\n<li><p><strong>Augmented assignments</strong>: unsupported.</p>\n</li>\n<li><p><strong>For loops</strong>: supported.</p>\n</li>\n<li><p><strong>While loops</strong>: supported.</p>\n</li>\n<li><p><strong>If statements</strong>: supported.</p>\n</li>\n<li><p><strong>With statements</strong>: supported.</p>\n</li>\n<li><p><strong>Raise statements</strong>: partially supported.\nOnly statements in the form <tt>raise value</tt> are supported.\n<tt>raise</tt>, <tt>raise ExceptionType</tt> and <tt>raise value1 from value2</tt> are unsupported.</p>\n</li>\n<li><p><strong>Try statements</strong>: partially supported.\nTuples of exceptions are not supported when specifying the type in exception handlers.\nThe <tt>else</tt> branch is ignored.</p>\n</li>\n<li><p><strong>Assert statements</strong>: supported.</p>\n</li>\n<li><p><strong>Import statements</strong>: partially supported.\nThe various forms of import statement are supported.\nHowever, only local modules are currently supported.\nModules from the standard library or dependencies are unsupported.</p>\n</li>\n<li><p><strong>global keyword</strong>: unsupported.</p>\n</li>\n<li><p><strong>nonlocal keyword</strong>: unsupported.</p>\n</li>\n<li><p><strong>Expression statements</strong>: supported.</p>\n</li>\n<li><p><strong>pass keyword</strong>: supported.</p>\n</li>\n<li><p><strong>break keyword</strong>: supported.</p>\n</li>\n<li><p><strong>continue keyword</strong>: supported.</p>\n</li>\n</ul>\n</div>\n<div id=\"with-statements\">\n<h3>With statements</h3>\n<p>Consider the following:</p>\n<pre><span class=\"k\">with</span> <span class=\"n\">x</span><span class=\"p\">:</span>\n    <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">f</span><span class=\"p\">()</span>\n\n<span class=\"n\">g</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span>\n</pre>\n<p>It isn\u2019t guaranteed that <tt>y</tt> has been assigned a value since <tt>f()</tt> could\nraise an exception that is then suppressed by the context manager\u2019s <tt>__exit__</tt> method.\nTherefore, <tt>g(y)</tt> fails to type-check.\n(If the exception isn\u2019t suppressed by the <tt>__exit__</tt> method, we can safely\nassume treat the variable as assigned since we won\u2019t be executing any code after the exception).\nHowever, in the common case, we\u2019d like to be able to assume that the variable has been assigned,\nand such an assumption is safe in many cases, such as:</p>\n<pre><span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">file_</span><span class=\"p\">:</span>\n    <span class=\"n\">contents</span> <span class=\"o\">=</span> <span class=\"n\">file_</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">contents</span><span class=\"p\">)</span>\n</pre>\n<p>We can allow such examples to type-check by inspecting the type of <tt>__exit__</tt>.\nIf its return type is <tt>none</tt>, then it is guaranteed to return a false value,\nmeaning it will never suppress exceptions.</p>\n</div>\n<div id=\"python\">\n<h3>Python</h3>\n<p>Any valid Nope program should be directly executable using Python 3.4.\nThe best way to support earlier versions of Python is in the same way as you would\non a normal Python 3.4 codebase i.e. avoiding features unsupported in earlier versions.</p>\n</div>\n<div id=\"node-js-backend\">\n<h3>Node.js backend</h3>\n<p>Supported builtin functions:</p>\n<ul>\n<li><tt>abs</tt>: supported</li>\n<li><tt>bool</tt>: partially supported. The magic method <tt>__bool__</tt> is ignored.</li>\n<li><tt>iter</tt>: partially supported. The sequence protocol is unsupported.</li>\n<li><tt>print</tt>: only a single argument is accepted.</li>\n</ul>\n<p>Unimplemented optimisations:</p>\n<ul>\n<li>If the result of boolean operations (\u2018and\u2019 or \u2018or\u2019) is only used as a\ncondition, such as the condition of an \u2018if\u2019 statement or \u2018while\u2019 loop,\nthen the value can simply be true or false rather than the actual value\nof the operation. In other words, <tt>x and y</tt> can be optimised to\n<tt>bool(x) &amp;&amp; bool(y)</tt>.</li>\n<li>Unless <tt>bool()</tt> has been explicitly invoked, booleans, strings and integers\ncan be used directly if only used for their truth value e.g. in if statement\nconditions.</li>\n<li>Avoid re-evaluating bool(value) if boolean operations are used directly in\nconditions. For instance, in <tt>if x and y</tt>, <tt>bool(x)</tt> only needs to be\nevaluated once, even if <tt>bool(x)</tt> is <tt>True</tt>. (A naive implementation\nevalutes <tt>bool(x)</tt> once for the <tt>and</tt> operation, which would have the\nvalue of <tt>x</tt>, causing <tt>bool(x)</tt> to be evaluated again as the condition\nof the <tt>if</tt> statement.)</li>\n</ul>\n</div>\n</div>\n<div id=\"differences-from-python-3\">\n<h2>Differences from Python 3</h2>\n<h2 id=\"subclassing-builtins\"><span class=\"section-subtitle\">Subclassing builtins</span></h2>\n<p>Nope does not allow subclassing of some builtins,\nsuch as <tt>int</tt> and <tt>list</tt>.\nThis restraint means a value of type <tt>int</tt> is guaranteed to have the concrete type <tt>int</tt> rather than a subclass of <tt>int</tt>,\nallowing certain optimisations to be used when generating code.</p>\n</div>\n\n          </div>"}, "last_serial": 1530325, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "4593c245d001145035a6b7587b14c0cf", "sha256": "f83ede236551581eaba4537d9be51d680459ed32873beb7bf34eee13c717176d"}, "downloads": -1, "filename": "nope-0.1.0.tar.gz", "has_sig": false, "md5_digest": "4593c245d001145035a6b7587b14c0cf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 65201, "upload_time": "2015-05-02T12:21:57", "upload_time_iso_8601": "2015-05-02T12:21:57.788371Z", "url": "https://files.pythonhosted.org/packages/e9/9a/e69e8180d134565f67aefa2175bf71b3ec2a2acba4523dc7f11030a3d184/nope-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "4593c245d001145035a6b7587b14c0cf", "sha256": "f83ede236551581eaba4537d9be51d680459ed32873beb7bf34eee13c717176d"}, "downloads": -1, "filename": "nope-0.1.0.tar.gz", "has_sig": false, "md5_digest": "4593c245d001145035a6b7587b14c0cf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 65201, "upload_time": "2015-05-02T12:21:57", "upload_time_iso_8601": "2015-05-02T12:21:57.788371Z", "url": "https://files.pythonhosted.org/packages/e9/9a/e69e8180d134565f67aefa2175bf71b3ec2a2acba4523dc7f11030a3d184/nope-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:44:50 2020"}
{"info": {"author": "Taoufik Abbassid", "author_email": "abacidtaoufik@gmail.com", "bugtrack_url": null, "classifiers": ["Framework :: Django", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3"], "description": "# DGP - Django graphene permissions\n\nPermission system inspired by DRF\n\n\n## Installation\n\nInstall the latest release:\n\n```shell\n$ pip3 install django-graphene-permissions\n```\nOr using pipenv\n\n```shell\n$ pipenv install django-graphene-permissions\n```\n\n## Usage\n\n### Permission definition\n---\n\nYou can create new permissions by subclassing `BasePermission` e.g. \n\n```python\nfrom django_graphene_permissions.permissions import BasePermission\n\nclass MyPermission(BasePermission):\n\n    @staticmethod\n    def has_permission(context):\n        return context.user and context.user.is_authenticated\n\n    @staticmethod\n    def has_object_permission(context, obj):\n        return True\n\n\n```\n\nThis package provides predefined permissions : \n\n* `AllowAny` : Allow any access.\n* `IsAuthenticated` : Allow only authenticated users.\n\n\n### Node Permission\n---\n\nSubclass `PermissionDjangoObjectType` and define the permissions via the static method `permission_classes` that should return an iterable of permission classes\n\n\n```python\nfrom django_graphene_permissions import PermissionDjangoObjectType\nfrom django_graphene_permissions.permissions import IsAuthenticated\n\nclass ExampleNode(PermissionDjangoObjectType):\n    class Meta:\n        model = Example\n        interfaces = (relay.Node,)\n\n    @staticmethod\n    def permission_classes():\n        return [IsAuthenticated]\n```\n\n### Mutation Permission\n---\n\nApply the `permissions_checker([Permission,...])` decorator to `mutate` e.g.\n\n```python\nfrom django_graphene_permissions import permissions_checker\nfrom django_graphene_permissions.permissions import IsAuthenticated\n\nclass ExampleDeleteMutation(graphene.Mutation):\n    ok = graphene.Boolean()\n\n    class Arguments:\n        id = graphene.ID()\n\n    @permissions_checker([IsAuthenticated])\n    def mutate(self, info, id):\n        instance = get_instance(id)\n        instance.delete()\n        return ExampleDeleteMutation(ok=True)\n``` \n\n### Query Permission\n---\n\nApply the `permissions_checker([Permission,...])` decorator to the field resolver e.g.\n\n```python\nfrom django_graphene_permissions import permissions_checker\nfrom django_graphene_permissions.permissions import IsAuthenticated\n\nclass Query(graphene.ObjectType):\n    post = relay.Node.Field(PostNode)\n    posts = DjangoFilterConnectionField(PostNode)\n\n    @permissions_checker([IsAuthenticated])\n    def resolve_posts(self, info, **kwargs):\n        return Post.objects.all()\n```\n\n## TODO\n\n* Improvements\n* Tests\n* Add a `PermissionDjangoFilterConnectionField`\n* Better docs\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/taoufik07/django-graphene-permissions", "keywords": "", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "django-graphene-permissions", "package_url": "https://pypi.org/project/django-graphene-permissions/", "platform": "", "project_url": "https://pypi.org/project/django-graphene-permissions/", "project_urls": {"Homepage": "https://github.com/taoufik07/django-graphene-permissions"}, "release_url": "https://pypi.org/project/django-graphene-permissions/0.0.4/", "requires_dist": null, "requires_python": "", "summary": "DRF like permission system for django graphene", "version": "0.0.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>DGP - Django graphene permissions</h1>\n<p>Permission system inspired by DRF</p>\n<h2>Installation</h2>\n<p>Install the latest release:</p>\n<pre>$ pip3 install django-graphene-permissions\n</pre>\n<p>Or using pipenv</p>\n<pre>$ pipenv install django-graphene-permissions\n</pre>\n<h2>Usage</h2>\n<h3>Permission definition</h3>\n<hr>\n<p>You can create new permissions by subclassing <code>BasePermission</code> e.g.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_graphene_permissions.permissions</span> <span class=\"kn\">import</span> <span class=\"n\">BasePermission</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MyPermission</span><span class=\"p\">(</span><span class=\"n\">BasePermission</span><span class=\"p\">):</span>\n\n    <span class=\"nd\">@staticmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">has_permission</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">user</span> <span class=\"ow\">and</span> <span class=\"n\">context</span><span class=\"o\">.</span><span class=\"n\">user</span><span class=\"o\">.</span><span class=\"n\">is_authenticated</span>\n\n    <span class=\"nd\">@staticmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">has_object_permission</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"n\">obj</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"kc\">True</span>\n</pre>\n<p>This package provides predefined permissions :</p>\n<ul>\n<li><code>AllowAny</code> : Allow any access.</li>\n<li><code>IsAuthenticated</code> : Allow only authenticated users.</li>\n</ul>\n<h3>Node Permission</h3>\n<hr>\n<p>Subclass <code>PermissionDjangoObjectType</code> and define the permissions via the static method <code>permission_classes</code> that should return an iterable of permission classes</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_graphene_permissions</span> <span class=\"kn\">import</span> <span class=\"n\">PermissionDjangoObjectType</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_graphene_permissions.permissions</span> <span class=\"kn\">import</span> <span class=\"n\">IsAuthenticated</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">ExampleNode</span><span class=\"p\">(</span><span class=\"n\">PermissionDjangoObjectType</span><span class=\"p\">):</span>\n    <span class=\"k\">class</span> <span class=\"nc\">Meta</span><span class=\"p\">:</span>\n        <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">Example</span>\n        <span class=\"n\">interfaces</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">relay</span><span class=\"o\">.</span><span class=\"n\">Node</span><span class=\"p\">,)</span>\n\n    <span class=\"nd\">@staticmethod</span>\n    <span class=\"k\">def</span> <span class=\"nf\">permission_classes</span><span class=\"p\">():</span>\n        <span class=\"k\">return</span> <span class=\"p\">[</span><span class=\"n\">IsAuthenticated</span><span class=\"p\">]</span>\n</pre>\n<h3>Mutation Permission</h3>\n<hr>\n<p>Apply the <code>permissions_checker([Permission,...])</code> decorator to <code>mutate</code> e.g.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_graphene_permissions</span> <span class=\"kn\">import</span> <span class=\"n\">permissions_checker</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_graphene_permissions.permissions</span> <span class=\"kn\">import</span> <span class=\"n\">IsAuthenticated</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">ExampleDeleteMutation</span><span class=\"p\">(</span><span class=\"n\">graphene</span><span class=\"o\">.</span><span class=\"n\">Mutation</span><span class=\"p\">):</span>\n    <span class=\"n\">ok</span> <span class=\"o\">=</span> <span class=\"n\">graphene</span><span class=\"o\">.</span><span class=\"n\">Boolean</span><span class=\"p\">()</span>\n\n    <span class=\"k\">class</span> <span class=\"nc\">Arguments</span><span class=\"p\">:</span>\n        <span class=\"nb\">id</span> <span class=\"o\">=</span> <span class=\"n\">graphene</span><span class=\"o\">.</span><span class=\"n\">ID</span><span class=\"p\">()</span>\n\n    <span class=\"nd\">@permissions_checker</span><span class=\"p\">([</span><span class=\"n\">IsAuthenticated</span><span class=\"p\">])</span>\n    <span class=\"k\">def</span> <span class=\"nf\">mutate</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">info</span><span class=\"p\">,</span> <span class=\"nb\">id</span><span class=\"p\">):</span>\n        <span class=\"n\">instance</span> <span class=\"o\">=</span> <span class=\"n\">get_instance</span><span class=\"p\">(</span><span class=\"nb\">id</span><span class=\"p\">)</span>\n        <span class=\"n\">instance</span><span class=\"o\">.</span><span class=\"n\">delete</span><span class=\"p\">()</span>\n        <span class=\"k\">return</span> <span class=\"n\">ExampleDeleteMutation</span><span class=\"p\">(</span><span class=\"n\">ok</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre>\n<h3>Query Permission</h3>\n<hr>\n<p>Apply the <code>permissions_checker([Permission,...])</code> decorator to the field resolver e.g.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django_graphene_permissions</span> <span class=\"kn\">import</span> <span class=\"n\">permissions_checker</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django_graphene_permissions.permissions</span> <span class=\"kn\">import</span> <span class=\"n\">IsAuthenticated</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Query</span><span class=\"p\">(</span><span class=\"n\">graphene</span><span class=\"o\">.</span><span class=\"n\">ObjectType</span><span class=\"p\">):</span>\n    <span class=\"n\">post</span> <span class=\"o\">=</span> <span class=\"n\">relay</span><span class=\"o\">.</span><span class=\"n\">Node</span><span class=\"o\">.</span><span class=\"n\">Field</span><span class=\"p\">(</span><span class=\"n\">PostNode</span><span class=\"p\">)</span>\n    <span class=\"n\">posts</span> <span class=\"o\">=</span> <span class=\"n\">DjangoFilterConnectionField</span><span class=\"p\">(</span><span class=\"n\">PostNode</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@permissions_checker</span><span class=\"p\">([</span><span class=\"n\">IsAuthenticated</span><span class=\"p\">])</span>\n    <span class=\"k\">def</span> <span class=\"nf\">resolve_posts</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">info</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">Post</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n</pre>\n<h2>TODO</h2>\n<ul>\n<li>Improvements</li>\n<li>Tests</li>\n<li>Add a <code>PermissionDjangoFilterConnectionField</code></li>\n<li>Better docs</li>\n</ul>\n\n          </div>"}, "last_serial": 4715900, "releases": {"0.0.3": [{"comment_text": "", "digests": {"md5": "c23910570274a6699655ededc8d3c353", "sha256": "1c6a3e54b235deac20cc4e9e22a1a5e3532086c14fc88880417bbab5a7278ce5"}, "downloads": -1, "filename": "django_graphene_permissions-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "c23910570274a6699655ededc8d3c353", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4594, "upload_time": "2018-11-19T11:24:45", "upload_time_iso_8601": "2018-11-19T11:24:45.709089Z", "url": "https://files.pythonhosted.org/packages/f1/5c/baaee972ef11827d504abcc38898e7d75a59a0d0aadd5c5897b31656f78a/django_graphene_permissions-0.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "f85c92a874736304cd655dc4e3a40b47", "sha256": "89e64f018d5360c7b1cd3712c7b74fff4945a6ba3f7dd02a793ddad8a4aa4a0b"}, "downloads": -1, "filename": "django_graphene_permissions-0.0.3.tar.gz", "has_sig": false, "md5_digest": "f85c92a874736304cd655dc4e3a40b47", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3084, "upload_time": "2018-11-19T11:24:48", "upload_time_iso_8601": "2018-11-19T11:24:48.784329Z", "url": "https://files.pythonhosted.org/packages/80/43/1cd0cbbeed97d13f95dc09fba01cdd3900292430a6578499dff5b861d207/django_graphene_permissions-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "5fc0af7e4a5a97e3edd1ed339ae70cda", "sha256": "837d45f621c26fa8fba332139dfbd70aa80c54fba618b27357957360170203e4"}, "downloads": -1, "filename": "django_graphene_permissions-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "5fc0af7e4a5a97e3edd1ed339ae70cda", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5430, "upload_time": "2019-01-19T14:48:59", "upload_time_iso_8601": "2019-01-19T14:48:59.647764Z", "url": "https://files.pythonhosted.org/packages/54/b1/3600f6869e6f5ac55bb31b0e2a2c85272f14bb876f0700eda7289f8ed8b6/django_graphene_permissions-0.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "645dbe1c97108655e2fb03cc10f5f18f", "sha256": "5ed879e9031519ed9f03d5a39794968374fccf9bbb8d89f0a91337b657285ccd"}, "downloads": -1, "filename": "django_graphene_permissions-0.0.4.tar.gz", "has_sig": false, "md5_digest": "645dbe1c97108655e2fb03cc10f5f18f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3129, "upload_time": "2019-01-19T14:49:01", "upload_time_iso_8601": "2019-01-19T14:49:01.213485Z", "url": "https://files.pythonhosted.org/packages/74/81/42f847d9b767155ba0dad3acbb007d38657a128b1f700dbc01de2e70df43/django_graphene_permissions-0.0.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5fc0af7e4a5a97e3edd1ed339ae70cda", "sha256": "837d45f621c26fa8fba332139dfbd70aa80c54fba618b27357957360170203e4"}, "downloads": -1, "filename": "django_graphene_permissions-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "5fc0af7e4a5a97e3edd1ed339ae70cda", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 5430, "upload_time": "2019-01-19T14:48:59", "upload_time_iso_8601": "2019-01-19T14:48:59.647764Z", "url": "https://files.pythonhosted.org/packages/54/b1/3600f6869e6f5ac55bb31b0e2a2c85272f14bb876f0700eda7289f8ed8b6/django_graphene_permissions-0.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "645dbe1c97108655e2fb03cc10f5f18f", "sha256": "5ed879e9031519ed9f03d5a39794968374fccf9bbb8d89f0a91337b657285ccd"}, "downloads": -1, "filename": "django_graphene_permissions-0.0.4.tar.gz", "has_sig": false, "md5_digest": "645dbe1c97108655e2fb03cc10f5f18f", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 3129, "upload_time": "2019-01-19T14:49:01", "upload_time_iso_8601": "2019-01-19T14:49:01.213485Z", "url": "https://files.pythonhosted.org/packages/74/81/42f847d9b767155ba0dad3acbb007d38657a128b1f700dbc01de2e70df43/django_graphene_permissions-0.0.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:35:48 2020"}
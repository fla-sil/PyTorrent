{"info": {"author": "Mark Wickert", "author_email": "mwickert@uccs.edu", "bugtrack_url": null, "classifiers": [], "description": "![Logo](logo.png)\n\n# scikit-dsp-comm\n\n[![pypi](https://img.shields.io/pypi/v/scikit-dsp-comm.svg)](https://pypi.python.org/pypi/scikit-dsp-comm)\n[![Docs](https://readthedocs.org/projects/scikit-dsp-comm/badge/?version=latest)](http://scikit-dsp-comm.readthedocs.io/en/latest/?badge=latest)\n\n\n## Background\n\n The origin of this package comes from the writing the book Signals and Systems for Dummies, published by Wiley in 2013. The original module for this book is named `ssd.py`. In `scikit-dsp-comm` this module is renamed to `sigsys.py` to better reflect the fact that signal processing and communications theory is founded in signals and systems, a traditional subject in electrical engineering curricula.\n\n## Package High Level Overview\n\nThis package is a collection of functions and classes to support signal processing and communications theory teaching and research. The foundation for this package is `scipy.signal`. The code in particular currently runs under Python `2.7x` and `3.6x`.\n\n\nWe are striving for improved documentation, with examples. Minor bugs are being fixed. New features are planned, in particular a `GPS_helper` module and additions to the `synchronization` module. There is also a desire to improve the `fec_conv` to move develop rate 1/3 codes and the use of compiled code to improve performance\n\n\nThe real-time audio DSP capabilities of `pyaudio_helper` allow for two channel algorithm development with real-time user control enabled by the `ipywidgets` when running in the Jupyter notebook.\n\nFinally, there is a strong desire to utilize the real-time DSP capabilities of `pyaudio_helper` to allow real-time streaming of complex baseband (IQ) signals from `rtlsdr_helper` through demodulation algorithms and out through the Pyaudio interface.\n\n\n**There are presently ten modules that make up scikit-dsp-comm:**\n\n1. `sigsys.py` for basic signals and systems functions both continuous-time and discrete-time, including graphical display tools such as pole-zero plots, up-sampling and down-sampling.\n\n2. `digitalcomm.py` for digital modulation theory components, including asynchronous resampling and variable time delay functions, both useful in advanced modem testing.\n\n3. `synchronization.py` which contains phase-locked loop simulation functions and functions for carrier and phase synchronization of digital communications waveforms.\n\n4. `fec_conv.py` for the generation rate one-half convolutional codes and soft decision Viterbi algorithm decoding, including trellis and trellis-traceback display functions.\n\n5. `fir_design_helper.py` which for easy design of lowpass, highpass, bandpass, and bandstop filters using the Kaiser window and equal-ripple designs, also includes a list plotting function for easily comparing magnitude, phase, and group delay frequency responses.\n\n6. `iir_design_helper.py` which for easy design of lowpass, highpass, bandpass, and bandstop filters using scipy.signal Butterworth, Chebyshev I and II, and elliptical designs, including the use of the cascade of second-order sections (SOS) topology from scipy.signal, also includes a list plotting function for easily comparing of magnitude, phase, and group delay frequency responses.\n\n7. `multirate.py` that encapsulate digital filters into objects for filtering, interpolation by an integer factor, and decimation by an integer factor.\n\n8. `coeff2header.py` write `C/C++` header files for FIR and IIR filters implemented in `C/C++`, using the cascade of second-order section representation for the IIR case. This last module find use in real-time signal processing on embedded systems, but can be used for simulation models in `C/C++`.\n\nPresently the collection of modules contains about 125 functions and classes. The authors/maintainers are working to get more detailed documentation in place.\n\n### Extras\n\nThis package contains the helper modules `rtlsdr_helper`, and `pyaudio_helper` which require the packages [pyrtlsdr](https://pypi.python.org/pypi/pyrtlsdr) and [PyAudio](https://pypi.python.org/pypi/PyAudio). To use the full functionality of these helpers, install the package from the scikit-dsp-comm folder as follows:\\\n```\npip install -e .[helpers]\n```\nInstallation is described in greater detail below.\n\n1. `pyaudio_helper.py` wraps a class around the code required in `PyAudio` (wraps the C++ library `PortAudio`) to set up a non-blocking audio input/output stream. The user only has to write the callback function to implement real-time DSP processing using any of the input/output devices available on the platform. This resulting object also contains a capture buffer for use in post processing and a timing markers for assessing the processing time utilized by the callback function. When developing apps in the Jupyter Notebook there is support for the `IPywidgets` along with threading. \n\n2. `rtlsdr_helper.py` interfaces with `pyrtldsr` to provide a simple captures means for complex baseband software defined radio (SDR) samples from the low-cost (~$20) RTL-SDR USB hardware dongle. The remaining functions in this module support the implementation of demodulators for FM modulation and examples of complete receivers for FM mono, FM stereo, and tools for FSK demodulation, including bit synchronization.\n\n\n## Documentation\nDocumentation is now housed on `readthedocs` which you can get to by clicking the docs badge near the top of this `README`. Example notebooks can be viewed on [GitHub pages](https://mwickert.github.io/scikit-dsp-comm/). In time more notebook postings will be extracted from [Dr. Wickert's Info Center](http://www.eas.uccs.edu/~mwickert/).\n\n## Getting Set-up on Your System\n\nThe best way to use this package is to clone this repository and then install it. \n\n```bash\ngit clone https://github.com/mwickert/scikit-dsp-comm.git\n```\n\nThere are package dependencies for some modules that you may want to avoid. Specifically these are whenever hardware interfacing is involved. Specific hardware and software configuration details are discussed in [wiki pages](https://github.com/mwickert/SP-Comm-Tutorial-using-scikit-dsp-comm/wiki). For Windows users `pip` install takes care of almost everything. I assume below you have Python on your path, so for example with [Anaconda](https://www.anaconda.com/download/#macos), I suggest letting the installer set these paths up for you.\n\n### Editable Install with Dependencies\n\nWith the terminal in the root directory of the cloned repo perform an editable `pip` install using\n\n```bash\npip install -e .[helpers]\n```\n\n### Editable Install without Dependencies\n\nTo install without the PyAudio and RTL-SDR dependency, and hence not be able to use those modules,\n\n```bash\npip install -e .\n```\n\nOn Windows the binaries needed for `pyaudio` should install, but on other platforms you will have to do some more work (Conda Forge install pending at the close of Scipy 2017 sprints). All the capability of the package is available less `pyaudio` and the RTL-SDR radio with doing any special installations. See the [wiki pages](https://github.com/mwickert/SP-Comm-Tutorial-using-scikit-dsp-comm/wiki) for more information.\n\n### Why an Editable Install?\n\nThe advantage of the editable `pip` install is that it is very easy to keep `scikit-dsp-comm ` up to date. If you know that updates have been pushed to the master branch, you simply go to your local repo folder and\n\n```bash\ngit pull origin master\n```\n\nThis will update you local repo and automatically update the Python install without the need to run `pip` again. **Note**: If you have any Python kernels running, such as a Jupyter Notebook, you will need to restart the kernel to insure any module changes get reloaded.\n\n------\n\n## Feature: Real-Time DSP with `pyaudio_helper`\nA real-time DSP experience is possible right in the Jupyter notebook. Fall 1017 updates to `pyaudio_helper` make it possible to do two channel audio (stereo) and include interactivity using the `ipywidgets`. The `callback` function for a simple *loop-through* is given below. Note: Not all of the code is shown here, but is available [here](https://mwickert.github.io/scikit-dsp-comm/)\n\n#### Finding the Indices of the Available Audio Devices\n```python\nimport sk_dsp_comm.pyaudio_helper as pah\n\n# Check system audio devices available\npah.available_devices()\n```\n```bash\nIndex 0 device name = Built-in Microphone, inputs = 2, outputs = 0\nIndex 1 device name = Built-in Output, inputs = 0, outputs = 2\nIndex 2 device name = iMic USB audio system, inputs = 2, outputs = 2\n```\nYou can think of the device index as a jack number on an audio patch panel.\n\n#### Write a Simple Callback\nHere each frame is processed using `ndarrays` and gain scaling is applied at the frame level. In general processing must be done sample-by-sample. Python `globals` can be used to maintain the state of a given DSP algorithm, e.g., an FIR or IIR filter.\n\n```python\n# Scale right and left channels independently\ndef callback(in_data, frame_count, time_info, status):  \n    DSP_IO.DSP_callback_tic()\n    # convert byte data to ndarray\n    in_data_nda = np.fromstring(in_data, dtype=np.int16)\n    # separate left and right data\n    x_left,x_right = DSP_IO.get_LR(in_data_nda.astype(float32))\n    #***********************************************\n    # DSP operations here\n\n    y_left = volume_scale_left.value*x_left\n    y_right = volume_scale_right.value*x_right\n\n    #***********************************************\n    # Pack left and right data together\n    y = DSP_IO.pack_LR(y_left,y_right)\n    # Typically more DSP code here     \n    #***********************************************\n    # Save data for later analysis\n    # accumulate a new frame of samples\n    DSP_IO.DSP_capture_add_samples_stereo(y_left,y_right)\n    #***********************************************\n    # Convert from float back to int16\n    y = y.astype(int16)\n    DSP_IO.DSP_callback_toc()\n    # Convert ndarray back to bytes\n    #return (in_data_nda.tobytes(), pyaudio.paContinue)\n    return y.tobytes(), pah.pyaudio.paContinue\n```\n#### `DSP_IO` Object Creation and Streaming\nWith the callback in place we are now ready to create a `DSP_IO` object and start streaming.\n\n```python\nN_FRAME = 512\n# Create streaming object: use Built-in mic (idx = 0) and output (idx = 1)\nDSP_IO = pah.DSP_io_stream(callback,in_idx=0,out_idx=1,fs=44100,\n                           frame_length = N_FRAME,Tcapture = 10) \n\n# use thread stream so widget can be used; Tsec = 0 <==> infinite stream\nDSP_IO.interactive_stream(Tsec = 20, numChan = 2) # 20 Second stereo stream\n\n# display volume control widgets\nwidgets.HBox([volume_dB_left,volume_dB_right])\n```\n![Juypter notebook cell output](two_channel_stream.png)\n\n#### A Portion of the Capture Buffer from MacBook Mic Input\n![Mic input captured with speakers down to avoid feedback](Capture_Buffer.png)\n\n------\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/mwickert/scikit-dsp-comm", "keywords": "", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "scikit-dsp-comm", "package_url": "https://pypi.org/project/scikit-dsp-comm/", "platform": "", "project_url": "https://pypi.org/project/scikit-dsp-comm/", "project_urls": {"Homepage": "https://github.com/mwickert/scikit-dsp-comm"}, "release_url": "https://pypi.org/project/scikit-dsp-comm/1.1.0/", "requires_dist": ["numpy", "matplotlib", "scipy", "pyaudio ; extra == 'helpers'", "pyrtlsdr ; extra == 'helpers'", "ipywidgets ; extra == 'helpers'"], "requires_python": "", "summary": "DSP and Comm package.", "version": "1.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><img alt=\"Logo\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/388655114bc901a8aeb49270f41e805988057feb/6c6f676f2e706e67\"></p>\n<h1>scikit-dsp-comm</h1>\n<p><a href=\"https://pypi.python.org/pypi/scikit-dsp-comm\" rel=\"nofollow\"><img alt=\"pypi\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6f721a2443ea071228ec6ff42f9f0587d5b681de/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7363696b69742d6473702d636f6d6d2e737667\"></a>\n<a href=\"http://scikit-dsp-comm.readthedocs.io/en/latest/?badge=latest\" rel=\"nofollow\"><img alt=\"Docs\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/cd565afbd66605ce6f6f6b2eb3c972cb66bfe646/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f7363696b69742d6473702d636f6d6d2f62616467652f3f76657273696f6e3d6c6174657374\"></a></p>\n<h2>Background</h2>\n<p>The origin of this package comes from the writing the book Signals and Systems for Dummies, published by Wiley in 2013. The original module for this book is named <code>ssd.py</code>. In <code>scikit-dsp-comm</code> this module is renamed to <code>sigsys.py</code> to better reflect the fact that signal processing and communications theory is founded in signals and systems, a traditional subject in electrical engineering curricula.</p>\n<h2>Package High Level Overview</h2>\n<p>This package is a collection of functions and classes to support signal processing and communications theory teaching and research. The foundation for this package is <code>scipy.signal</code>. The code in particular currently runs under Python <code>2.7x</code> and <code>3.6x</code>.</p>\n<p>We are striving for improved documentation, with examples. Minor bugs are being fixed. New features are planned, in particular a <code>GPS_helper</code> module and additions to the <code>synchronization</code> module. There is also a desire to improve the <code>fec_conv</code> to move develop rate 1/3 codes and the use of compiled code to improve performance</p>\n<p>The real-time audio DSP capabilities of <code>pyaudio_helper</code> allow for two channel algorithm development with real-time user control enabled by the <code>ipywidgets</code> when running in the Jupyter notebook.</p>\n<p>Finally, there is a strong desire to utilize the real-time DSP capabilities of <code>pyaudio_helper</code> to allow real-time streaming of complex baseband (IQ) signals from <code>rtlsdr_helper</code> through demodulation algorithms and out through the Pyaudio interface.</p>\n<p><strong>There are presently ten modules that make up scikit-dsp-comm:</strong></p>\n<ol>\n<li>\n<p><code>sigsys.py</code> for basic signals and systems functions both continuous-time and discrete-time, including graphical display tools such as pole-zero plots, up-sampling and down-sampling.</p>\n</li>\n<li>\n<p><code>digitalcomm.py</code> for digital modulation theory components, including asynchronous resampling and variable time delay functions, both useful in advanced modem testing.</p>\n</li>\n<li>\n<p><code>synchronization.py</code> which contains phase-locked loop simulation functions and functions for carrier and phase synchronization of digital communications waveforms.</p>\n</li>\n<li>\n<p><code>fec_conv.py</code> for the generation rate one-half convolutional codes and soft decision Viterbi algorithm decoding, including trellis and trellis-traceback display functions.</p>\n</li>\n<li>\n<p><code>fir_design_helper.py</code> which for easy design of lowpass, highpass, bandpass, and bandstop filters using the Kaiser window and equal-ripple designs, also includes a list plotting function for easily comparing magnitude, phase, and group delay frequency responses.</p>\n</li>\n<li>\n<p><code>iir_design_helper.py</code> which for easy design of lowpass, highpass, bandpass, and bandstop filters using scipy.signal Butterworth, Chebyshev I and II, and elliptical designs, including the use of the cascade of second-order sections (SOS) topology from scipy.signal, also includes a list plotting function for easily comparing of magnitude, phase, and group delay frequency responses.</p>\n</li>\n<li>\n<p><code>multirate.py</code> that encapsulate digital filters into objects for filtering, interpolation by an integer factor, and decimation by an integer factor.</p>\n</li>\n<li>\n<p><code>coeff2header.py</code> write <code>C/C++</code> header files for FIR and IIR filters implemented in <code>C/C++</code>, using the cascade of second-order section representation for the IIR case. This last module find use in real-time signal processing on embedded systems, but can be used for simulation models in <code>C/C++</code>.</p>\n</li>\n</ol>\n<p>Presently the collection of modules contains about 125 functions and classes. The authors/maintainers are working to get more detailed documentation in place.</p>\n<h3>Extras</h3>\n<p>This package contains the helper modules <code>rtlsdr_helper</code>, and <code>pyaudio_helper</code> which require the packages <a href=\"https://pypi.python.org/pypi/pyrtlsdr\" rel=\"nofollow\">pyrtlsdr</a> and <a href=\"https://pypi.python.org/pypi/PyAudio\" rel=\"nofollow\">PyAudio</a>. To use the full functionality of these helpers, install the package from the scikit-dsp-comm folder as follows:\\</p>\n<pre><code>pip install -e .[helpers]\n</code></pre>\n<p>Installation is described in greater detail below.</p>\n<ol>\n<li>\n<p><code>pyaudio_helper.py</code> wraps a class around the code required in <code>PyAudio</code> (wraps the C++ library <code>PortAudio</code>) to set up a non-blocking audio input/output stream. The user only has to write the callback function to implement real-time DSP processing using any of the input/output devices available on the platform. This resulting object also contains a capture buffer for use in post processing and a timing markers for assessing the processing time utilized by the callback function. When developing apps in the Jupyter Notebook there is support for the <code>IPywidgets</code> along with threading.</p>\n</li>\n<li>\n<p><code>rtlsdr_helper.py</code> interfaces with <code>pyrtldsr</code> to provide a simple captures means for complex baseband software defined radio (SDR) samples from the low-cost (~$20) RTL-SDR USB hardware dongle. The remaining functions in this module support the implementation of demodulators for FM modulation and examples of complete receivers for FM mono, FM stereo, and tools for FSK demodulation, including bit synchronization.</p>\n</li>\n</ol>\n<h2>Documentation</h2>\n<p>Documentation is now housed on <code>readthedocs</code> which you can get to by clicking the docs badge near the top of this <code>README</code>. Example notebooks can be viewed on <a href=\"https://mwickert.github.io/scikit-dsp-comm/\" rel=\"nofollow\">GitHub pages</a>. In time more notebook postings will be extracted from <a href=\"http://www.eas.uccs.edu/%7Emwickert/\" rel=\"nofollow\">Dr. Wickert's Info Center</a>.</p>\n<h2>Getting Set-up on Your System</h2>\n<p>The best way to use this package is to clone this repository and then install it.</p>\n<pre>git clone https://github.com/mwickert/scikit-dsp-comm.git\n</pre>\n<p>There are package dependencies for some modules that you may want to avoid. Specifically these are whenever hardware interfacing is involved. Specific hardware and software configuration details are discussed in <a href=\"https://github.com/mwickert/SP-Comm-Tutorial-using-scikit-dsp-comm/wiki\" rel=\"nofollow\">wiki pages</a>. For Windows users <code>pip</code> install takes care of almost everything. I assume below you have Python on your path, so for example with <a href=\"https://www.anaconda.com/download/#macos\" rel=\"nofollow\">Anaconda</a>, I suggest letting the installer set these paths up for you.</p>\n<h3>Editable Install with Dependencies</h3>\n<p>With the terminal in the root directory of the cloned repo perform an editable <code>pip</code> install using</p>\n<pre>pip install -e .<span class=\"o\">[</span>helpers<span class=\"o\">]</span>\n</pre>\n<h3>Editable Install without Dependencies</h3>\n<p>To install without the PyAudio and RTL-SDR dependency, and hence not be able to use those modules,</p>\n<pre>pip install -e .\n</pre>\n<p>On Windows the binaries needed for <code>pyaudio</code> should install, but on other platforms you will have to do some more work (Conda Forge install pending at the close of Scipy 2017 sprints). All the capability of the package is available less <code>pyaudio</code> and the RTL-SDR radio with doing any special installations. See the <a href=\"https://github.com/mwickert/SP-Comm-Tutorial-using-scikit-dsp-comm/wiki\" rel=\"nofollow\">wiki pages</a> for more information.</p>\n<h3>Why an Editable Install?</h3>\n<p>The advantage of the editable <code>pip</code> install is that it is very easy to keep <code>scikit-dsp-comm</code> up to date. If you know that updates have been pushed to the master branch, you simply go to your local repo folder and</p>\n<pre>git pull origin master\n</pre>\n<p>This will update you local repo and automatically update the Python install without the need to run <code>pip</code> again. <strong>Note</strong>: If you have any Python kernels running, such as a Jupyter Notebook, you will need to restart the kernel to insure any module changes get reloaded.</p>\n<hr>\n<h2>Feature: Real-Time DSP with <code>pyaudio_helper</code></h2>\n<p>A real-time DSP experience is possible right in the Jupyter notebook. Fall 1017 updates to <code>pyaudio_helper</code> make it possible to do two channel audio (stereo) and include interactivity using the <code>ipywidgets</code>. The <code>callback</code> function for a simple <em>loop-through</em> is given below. Note: Not all of the code is shown here, but is available <a href=\"https://mwickert.github.io/scikit-dsp-comm/\" rel=\"nofollow\">here</a></p>\n<h4>Finding the Indices of the Available Audio Devices</h4>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">sk_dsp_comm.pyaudio_helper</span> <span class=\"k\">as</span> <span class=\"nn\">pah</span>\n\n<span class=\"c1\"># Check system audio devices available</span>\n<span class=\"n\">pah</span><span class=\"o\">.</span><span class=\"n\">available_devices</span><span class=\"p\">()</span>\n</pre>\n<pre>Index <span class=\"m\">0</span> device <span class=\"nv\">name</span> <span class=\"o\">=</span> Built-in Microphone, <span class=\"nv\">inputs</span> <span class=\"o\">=</span> <span class=\"m\">2</span>, <span class=\"nv\">outputs</span> <span class=\"o\">=</span> <span class=\"m\">0</span>\nIndex <span class=\"m\">1</span> device <span class=\"nv\">name</span> <span class=\"o\">=</span> Built-in Output, <span class=\"nv\">inputs</span> <span class=\"o\">=</span> <span class=\"m\">0</span>, <span class=\"nv\">outputs</span> <span class=\"o\">=</span> <span class=\"m\">2</span>\nIndex <span class=\"m\">2</span> device <span class=\"nv\">name</span> <span class=\"o\">=</span> iMic USB audio system, <span class=\"nv\">inputs</span> <span class=\"o\">=</span> <span class=\"m\">2</span>, <span class=\"nv\">outputs</span> <span class=\"o\">=</span> <span class=\"m\">2</span>\n</pre>\n<p>You can think of the device index as a jack number on an audio patch panel.</p>\n<h4>Write a Simple Callback</h4>\n<p>Here each frame is processed using <code>ndarrays</code> and gain scaling is applied at the frame level. In general processing must be done sample-by-sample. Python <code>globals</code> can be used to maintain the state of a given DSP algorithm, e.g., an FIR or IIR filter.</p>\n<pre><span class=\"c1\"># Scale right and left channels independently</span>\n<span class=\"k\">def</span> <span class=\"nf\">callback</span><span class=\"p\">(</span><span class=\"n\">in_data</span><span class=\"p\">,</span> <span class=\"n\">frame_count</span><span class=\"p\">,</span> <span class=\"n\">time_info</span><span class=\"p\">,</span> <span class=\"n\">status</span><span class=\"p\">):</span>  \n    <span class=\"n\">DSP_IO</span><span class=\"o\">.</span><span class=\"n\">DSP_callback_tic</span><span class=\"p\">()</span>\n    <span class=\"c1\"># convert byte data to ndarray</span>\n    <span class=\"n\">in_data_nda</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">fromstring</span><span class=\"p\">(</span><span class=\"n\">in_data</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">int16</span><span class=\"p\">)</span>\n    <span class=\"c1\"># separate left and right data</span>\n    <span class=\"n\">x_left</span><span class=\"p\">,</span><span class=\"n\">x_right</span> <span class=\"o\">=</span> <span class=\"n\">DSP_IO</span><span class=\"o\">.</span><span class=\"n\">get_LR</span><span class=\"p\">(</span><span class=\"n\">in_data_nda</span><span class=\"o\">.</span><span class=\"n\">astype</span><span class=\"p\">(</span><span class=\"n\">float32</span><span class=\"p\">))</span>\n    <span class=\"c1\">#***********************************************</span>\n    <span class=\"c1\"># DSP operations here</span>\n\n    <span class=\"n\">y_left</span> <span class=\"o\">=</span> <span class=\"n\">volume_scale_left</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"o\">*</span><span class=\"n\">x_left</span>\n    <span class=\"n\">y_right</span> <span class=\"o\">=</span> <span class=\"n\">volume_scale_right</span><span class=\"o\">.</span><span class=\"n\">value</span><span class=\"o\">*</span><span class=\"n\">x_right</span>\n\n    <span class=\"c1\">#***********************************************</span>\n    <span class=\"c1\"># Pack left and right data together</span>\n    <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">DSP_IO</span><span class=\"o\">.</span><span class=\"n\">pack_LR</span><span class=\"p\">(</span><span class=\"n\">y_left</span><span class=\"p\">,</span><span class=\"n\">y_right</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Typically more DSP code here     </span>\n    <span class=\"c1\">#***********************************************</span>\n    <span class=\"c1\"># Save data for later analysis</span>\n    <span class=\"c1\"># accumulate a new frame of samples</span>\n    <span class=\"n\">DSP_IO</span><span class=\"o\">.</span><span class=\"n\">DSP_capture_add_samples_stereo</span><span class=\"p\">(</span><span class=\"n\">y_left</span><span class=\"p\">,</span><span class=\"n\">y_right</span><span class=\"p\">)</span>\n    <span class=\"c1\">#***********************************************</span>\n    <span class=\"c1\"># Convert from float back to int16</span>\n    <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">y</span><span class=\"o\">.</span><span class=\"n\">astype</span><span class=\"p\">(</span><span class=\"n\">int16</span><span class=\"p\">)</span>\n    <span class=\"n\">DSP_IO</span><span class=\"o\">.</span><span class=\"n\">DSP_callback_toc</span><span class=\"p\">()</span>\n    <span class=\"c1\"># Convert ndarray back to bytes</span>\n    <span class=\"c1\">#return (in_data_nda.tobytes(), pyaudio.paContinue)</span>\n    <span class=\"k\">return</span> <span class=\"n\">y</span><span class=\"o\">.</span><span class=\"n\">tobytes</span><span class=\"p\">(),</span> <span class=\"n\">pah</span><span class=\"o\">.</span><span class=\"n\">pyaudio</span><span class=\"o\">.</span><span class=\"n\">paContinue</span>\n</pre>\n<h4><code>DSP_IO</code> Object Creation and Streaming</h4>\n<p>With the callback in place we are now ready to create a <code>DSP_IO</code> object and start streaming.</p>\n<pre><span class=\"n\">N_FRAME</span> <span class=\"o\">=</span> <span class=\"mi\">512</span>\n<span class=\"c1\"># Create streaming object: use Built-in mic (idx = 0) and output (idx = 1)</span>\n<span class=\"n\">DSP_IO</span> <span class=\"o\">=</span> <span class=\"n\">pah</span><span class=\"o\">.</span><span class=\"n\">DSP_io_stream</span><span class=\"p\">(</span><span class=\"n\">callback</span><span class=\"p\">,</span><span class=\"n\">in_idx</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"n\">out_idx</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"n\">fs</span><span class=\"o\">=</span><span class=\"mi\">44100</span><span class=\"p\">,</span>\n                           <span class=\"n\">frame_length</span> <span class=\"o\">=</span> <span class=\"n\">N_FRAME</span><span class=\"p\">,</span><span class=\"n\">Tcapture</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">)</span> \n\n<span class=\"c1\"># use thread stream so widget can be used; Tsec = 0 &lt;==&gt; infinite stream</span>\n<span class=\"n\">DSP_IO</span><span class=\"o\">.</span><span class=\"n\">interactive_stream</span><span class=\"p\">(</span><span class=\"n\">Tsec</span> <span class=\"o\">=</span> <span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"n\">numChan</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"c1\"># 20 Second stereo stream</span>\n\n<span class=\"c1\"># display volume control widgets</span>\n<span class=\"n\">widgets</span><span class=\"o\">.</span><span class=\"n\">HBox</span><span class=\"p\">([</span><span class=\"n\">volume_dB_left</span><span class=\"p\">,</span><span class=\"n\">volume_dB_right</span><span class=\"p\">])</span>\n</pre>\n<p><img alt=\"Juypter notebook cell output\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/67e6303d99491c041a4cde0ba255a38fd83f72c8/74776f5f6368616e6e656c5f73747265616d2e706e67\"></p>\n<h4>A Portion of the Capture Buffer from MacBook Mic Input</h4>\n<p><img alt=\"Mic input captured with speakers down to avoid feedback\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6265a0a1704d2f03da17b6a61a8bdb3c6fc211fd/436170747572655f4275666665722e706e67\"></p>\n<hr>\n\n          </div>"}, "last_serial": 6914139, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "4be3afd8c525c6609b1b0938bdda9616", "sha256": "48cdde041950b05468ab94065942bded728f535043fef5c3c8abf16bfb69f4d6"}, "downloads": -1, "filename": "scikit-dsp-comm-0.0.1.tar.gz", "has_sig": false, "md5_digest": "4be3afd8c525c6609b1b0938bdda9616", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 54724, "upload_time": "2017-03-28T00:42:01", "upload_time_iso_8601": "2017-03-28T00:42:01.611075Z", "url": "https://files.pythonhosted.org/packages/3f/3e/baad37045d6859761454f2dfd97aaf29e94530a058b25d8c16e571a9ae8e/scikit-dsp-comm-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "120363f54035c1f3e71e7192ce28752d", "sha256": "7aff243a91869ce461abb33b43927961fcce09106c0a947126321e15bc34d00e"}, "downloads": -1, "filename": "scikit-dsp-comm-0.0.2.tar.gz", "has_sig": false, "md5_digest": "120363f54035c1f3e71e7192ce28752d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 56414, "upload_time": "2017-06-15T05:35:30", "upload_time_iso_8601": "2017-06-15T05:35:30.228304Z", "url": "https://files.pythonhosted.org/packages/fc/13/026cbf148e74c79b7c4b704eb6675093355b40ffe91a1508c1869f624c87/scikit-dsp-comm-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "6bbfe6fbfd2ae21659ae5c2241948c17", "sha256": "d65c04dccdc3863b694f36e1ea5b9bc71d6af61cbe4cad3b38ef8e5ab78b93a0"}, "downloads": -1, "filename": "scikit_dsp_comm-0.0.3-py2-none-any.whl", "has_sig": false, "md5_digest": "6bbfe6fbfd2ae21659ae5c2241948c17", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 76597, "upload_time": "2017-06-26T01:01:33", "upload_time_iso_8601": "2017-06-26T01:01:33.968676Z", "url": "https://files.pythonhosted.org/packages/fc/e7/86358af5b11908e663acde7b4e4512846ea5a68239bf6b711da114f313a7/scikit_dsp_comm-0.0.3-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "d5d1b8ec40b9e6c665acd7b11ff625c4", "sha256": "c5382840e021dc5a9b1fba26200701bd13e866babc36a03ac489c4d0e0de6108"}, "downloads": -1, "filename": "scikit_dsp_comm-0.0.3-py3-none-any.whl", "has_sig": false, "md5_digest": "d5d1b8ec40b9e6c665acd7b11ff625c4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 76597, "upload_time": "2017-06-26T01:34:11", "upload_time_iso_8601": "2017-06-26T01:34:11.765821Z", "url": "https://files.pythonhosted.org/packages/32/98/d9a987cf47d2c56d6f9a7288f462c19565af34a035727633de3575cc979c/scikit_dsp_comm-0.0.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "cb4ab44d2039cee470af4018e7c02515", "sha256": "bf26d855207e53888f50bedcd1cbd4970e08249e77f92f88aca198c31e5cef09"}, "downloads": -1, "filename": "scikit-dsp-comm-0.0.3.tar.gz", "has_sig": false, "md5_digest": "cb4ab44d2039cee470af4018e7c02515", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 64404, "upload_time": "2017-06-26T01:04:49", "upload_time_iso_8601": "2017-06-26T01:04:49.830417Z", "url": "https://files.pythonhosted.org/packages/62/03/860cdcead653b82f12a709f04abdd0f6390653da4d7429ee6da019e77eb6/scikit-dsp-comm-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "c3aec855f59a228e268ac4a95a534957", "sha256": "7cd26bcf0da927c29cf6f63f883d495d9a1d9922263303e870bf0a3b7ee28617"}, "downloads": -1, "filename": "scikit_dsp_comm-0.0.4-py2-none-any.whl", "has_sig": false, "md5_digest": "c3aec855f59a228e268ac4a95a534957", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 86174, "upload_time": "2017-07-11T18:57:52", "upload_time_iso_8601": "2017-07-11T18:57:52.288749Z", "url": "https://files.pythonhosted.org/packages/a5/19/c43bb3e6be76ff24ff1c4932b02dbcaa26d2586482952b548abebf4d1c6e/scikit_dsp_comm-0.0.4-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "58fcb6e3af15e7303f4a20897749033c", "sha256": "a6a5c62e0279ca95f8b433b95201645f69fe1aea7c44de3e9b0c593eb8088467"}, "downloads": -1, "filename": "scikit_dsp_comm-0.0.4-py3-none-any.whl", "has_sig": false, "md5_digest": "58fcb6e3af15e7303f4a20897749033c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 86174, "upload_time": "2017-07-11T18:57:53", "upload_time_iso_8601": "2017-07-11T18:57:53.837643Z", "url": "https://files.pythonhosted.org/packages/b7/5e/f7304b37bdc2b8bf27940d1c18d413ead1f0116f48b7c04ec943bc6a7a29/scikit_dsp_comm-0.0.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "336338b6e84f29197ac7342c7dd5647b", "sha256": "fd131c8e6286e9861063066ef58edcb35d6c262c66a2a8bc81c6f63b0bd19609"}, "downloads": -1, "filename": "scikit-dsp-comm-0.0.4.tar.gz", "has_sig": false, "md5_digest": "336338b6e84f29197ac7342c7dd5647b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 71452, "upload_time": "2017-07-11T18:57:54", "upload_time_iso_8601": "2017-07-11T18:57:54.928104Z", "url": "https://files.pythonhosted.org/packages/bc/13/115de7834f44dcf3d1142f034fdf412b5e5d68fe59643598e6e8300f9d00/scikit-dsp-comm-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "eeeb05d525d05c6fec75067ffe686857", "sha256": "3dc20d3bbac047f666992a36c88b70566120e7c823e44edfb5a071a53ad51346"}, "downloads": -1, "filename": "scikit_dsp_comm-0.0.5-py2-none-any.whl", "has_sig": false, "md5_digest": "eeeb05d525d05c6fec75067ffe686857", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 93273, "upload_time": "2018-06-13T05:03:39", "upload_time_iso_8601": "2018-06-13T05:03:39.303248Z", "url": "https://files.pythonhosted.org/packages/ea/a4/0fea111796181ac9a081d22cd7b01fdfc6089e03d747dac0e8d5e72e28b3/scikit_dsp_comm-0.0.5-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "db497b4fe5d8325a05d07a3c5c4001ad", "sha256": "e8f229fb3a16a939e72014fe6d360f8d441682e61cec6a266fa201be4c7f6840"}, "downloads": -1, "filename": "scikit_dsp_comm-0.0.5-py3-none-any.whl", "has_sig": false, "md5_digest": "db497b4fe5d8325a05d07a3c5c4001ad", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 93273, "upload_time": "2018-06-13T05:03:41", "upload_time_iso_8601": "2018-06-13T05:03:41.367442Z", "url": "https://files.pythonhosted.org/packages/39/d7/1e7af0699b88bd85c40e465df26b8972463bde2e534ae7e64cc9b91f6e7a/scikit_dsp_comm-0.0.5-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "85ddaf793b9dde9da45503c7071584bc", "sha256": "e59e9160feaaffd8716f6d9351d9847becc6e998588c83a857ddf87418d452ec"}, "downloads": -1, "filename": "scikit-dsp-comm-0.0.5.tar.gz", "has_sig": false, "md5_digest": "85ddaf793b9dde9da45503c7071584bc", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 82897, "upload_time": "2018-06-13T05:03:43", "upload_time_iso_8601": "2018-06-13T05:03:43.206576Z", "url": "https://files.pythonhosted.org/packages/bd/11/aa446ca1824ef7dc4945e822f30c077775b8bb107a6d66f8f753c1334c78/scikit-dsp-comm-0.0.5.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "192031dda419c43734099569a0b72848", "sha256": "74b92fb2e1a3cfd559b020a41d7c6a2582a4f4bdc4b5f4d0a8b9e7e9af17d7f1"}, "downloads": -1, "filename": "scikit_dsp_comm-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "192031dda419c43734099569a0b72848", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 95665, "upload_time": "2020-03-30T16:26:46", "upload_time_iso_8601": "2020-03-30T16:26:46.634781Z", "url": "https://files.pythonhosted.org/packages/ed/37/06145c8f3ada63d18ca14ad9aef2262476e97717fea87da6023f688bb444/scikit_dsp_comm-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "367b9df8cb4eb744165a12be5cd676f2", "sha256": "ad13a1ed9a908e1db87f5518174e8288eb009705b71677497069f17222040a03"}, "downloads": -1, "filename": "scikit-dsp-comm-1.0.0.tar.gz", "has_sig": false, "md5_digest": "367b9df8cb4eb744165a12be5cd676f2", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 297031, "upload_time": "2020-03-30T16:26:49", "upload_time_iso_8601": "2020-03-30T16:26:49.526234Z", "url": "https://files.pythonhosted.org/packages/6a/e7/a2aae9b00af1a4f530702b007e3d6b7ceee8ed0f92ccaec404ae2de346e7/scikit-dsp-comm-1.0.0.tar.gz", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "d772b9c2b9ee0f5707a12edce2b33120", "sha256": "17ba2d1a5a11849b337129d3d618a1362e594d2314ca0f5f242a9f948599da96"}, "downloads": -1, "filename": "scikit_dsp_comm-1.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "d772b9c2b9ee0f5707a12edce2b33120", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 97809, "upload_time": "2020-03-30T16:28:04", "upload_time_iso_8601": "2020-03-30T16:28:04.458882Z", "url": "https://files.pythonhosted.org/packages/b8/77/8b1e40f11d06dc0b054708187e7af9ce7fc4cff3bf6880a2e3d436f3b01b/scikit_dsp_comm-1.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "eb5d893dfaa85c41e4f0d5f77eb16355", "sha256": "d832245abbd52c912d228b3ac4559f89d35d1ca2f881d9da620b96972727debf"}, "downloads": -1, "filename": "scikit-dsp-comm-1.1.0.tar.gz", "has_sig": false, "md5_digest": "eb5d893dfaa85c41e4f0d5f77eb16355", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 299636, "upload_time": "2020-03-30T16:28:08", "upload_time_iso_8601": "2020-03-30T16:28:08.650492Z", "url": "https://files.pythonhosted.org/packages/c8/e4/673700b1e4c4dd1aa20519b9a42b4b30bea10c2f8fbb305000fa5bd2a2b3/scikit-dsp-comm-1.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "d772b9c2b9ee0f5707a12edce2b33120", "sha256": "17ba2d1a5a11849b337129d3d618a1362e594d2314ca0f5f242a9f948599da96"}, "downloads": -1, "filename": "scikit_dsp_comm-1.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "d772b9c2b9ee0f5707a12edce2b33120", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 97809, "upload_time": "2020-03-30T16:28:04", "upload_time_iso_8601": "2020-03-30T16:28:04.458882Z", "url": "https://files.pythonhosted.org/packages/b8/77/8b1e40f11d06dc0b054708187e7af9ce7fc4cff3bf6880a2e3d436f3b01b/scikit_dsp_comm-1.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "eb5d893dfaa85c41e4f0d5f77eb16355", "sha256": "d832245abbd52c912d228b3ac4559f89d35d1ca2f881d9da620b96972727debf"}, "downloads": -1, "filename": "scikit-dsp-comm-1.1.0.tar.gz", "has_sig": false, "md5_digest": "eb5d893dfaa85c41e4f0d5f77eb16355", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 299636, "upload_time": "2020-03-30T16:28:08", "upload_time_iso_8601": "2020-03-30T16:28:08.650492Z", "url": "https://files.pythonhosted.org/packages/c8/e4/673700b1e4c4dd1aa20519b9a42b4b30bea10c2f8fbb305000fa5bd2a2b3/scikit-dsp-comm-1.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:57:35 2020"}
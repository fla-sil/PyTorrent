{"info": {"author": "Nick Groenen", "author_email": "nick@groenen.me", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: System Administrators", "License :: OSI Approved :: MIT License", "Operating System :: POSIX", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 3", "Topic :: System :: Systems Administration", "Topic :: Utilities"], "description": "Docker image updater\n====================\n\n*A utility to update docker images automatically. Supports execution of\narbitrary commands when an image is updated, in order to restart running\ncontainers or trigger other custom behaviour.*\n\n.. image:: https://travis-ci.org/zoni/docker-image-updater.svg?branch=master\n    :target: https://travis-ci.org/zoni/docker-image-updater\n.. image:: https://coveralls.io/repos/zoni/docker-image-updater/badge.svg?branch=master\n    :target: https://coveralls.io/r/zoni/docker-image-updater\n\n\nInstallation\n------------\n\nDocker image updater can be installed from the\n`Python Package Index <https://pypi.python.org/pypi/docker-image-updater>`_\nusing::\n\n    pip install docker-image-updater\n\nInstallation into a `virtualenv <https://virtualenv.pypa.io/en/latest/>`_\nis highly recommended!\n\n\nUsage\n-----\n\n::\n\n    usage: docker-image-updater [-h] [-f FILE] [--debug] [file [file ...]]\n\n    positional arguments:\n      file                  configuration file(s) to use\n\n    optional arguments:\n      -h, --help            show this help message and exit\n      -f FILE, --file FILE  deprecated - this flag will be removed in the future\n      --debug               show debug messages\n\n\nDocker image updater requires one or more configuration files which specify\nsets of images to watch and commands to execute. By default it will look\nfor `/etc/docker-image-updater.yml` but you may give one or more alternate\nfiles on the command-line.\n\nWhen specifying more than one configuration file, the settings will be\nmerged together with items from the latter configuration file(s) overwriting\nitems from earlier files.\n\nRecommended usage is to run docker image updater from cron, using\nsomething like `cronic <http://habilis.net/cronic/>`_ to receive mail\nonly in case of errors.\n\n\nExample output\n--------------\n\n::\n\n    # docker-image-updater\n    22:13:04 INFO     Updater    Checking images in set jenkins\n    22:13:04 INFO     Updater    Updating image zoni/jenkins\n    22:13:04 INFO     Updater    Pulling image zoni/jenkins\n    ...........................................................................................................................................................................................................................................................................................................................\n    22:14:50 INFO     Updater    Image zoni/jenkins updated to latest version\n    22:14:50 INFO     Updater    Running command: supervisorctl restart jenkins\n    jenkins: stopped\n    jenkins: started\n    22:14:54 INFO     Updater    Command exited successfully\n\n\nConfiguration format\n--------------------\n\nConfiguration is expressed through a YAML file such as the following:\n\n::\n\n    config:\n      docker:\n        base_url: \"unix://var/run/docker.sock\"\n        version: \"1.16\"\n    watch:\n      my-app:\n        images:\n         - my-app\n         - redis\n        commands:\n         - restart my-app\n\nThe item `watch` defines sets of images to watch. This is a dictionary where\nthe keys (`my-app` in the example above) are arbitrary values for human\nreference. Under each of these keys a dictonary with the items `images` and\n`commands` is expected.\n\n`images` defines a list of docker images to check for updates. You can\nspecify these as `image:tag` or simply as `image`, in which case Docker will\nuse the *latest* tag automatically.\n\n`commands` defines a list of shell commands to execute whenever one of the\nlisted images was updated. These will be run sequentially, in order.\n\nAll items under `config.docker` are passed to the Docker client.\nFor supported options, refer to the\n`docker-py documentation <http://docker-py.readthedocs.org/en/latest/api/>`_.\n\n\nExit codes\n----------\n\nDocker image updater will exit with status 0 when everything went well,\nand there were either no updates or images were updated and all defined\ncommands returned status code 0.\n\nIf an image fails to update or one or more defined commands exits with\na non-zero exit status then docker image updater will itself exit with\nstatus 1.\n\n\nStar me\n-------\n\nIf you use this software, please consider\n`starring <https://github.com/zoni/docker-image-updater/stargazers>`_\nit on GitHub. This will give me some idea of how much it is used by\nother people.\n\n\nRelated projects\n----------------\n\n* `docker-puller <https://github.com/glowdigitalmedia/docker-puller>`_\n* `DockerHub Webhook Listener <https://github.com/cpuguy83/dockerhub-webhook-listener>`_\n\n\nChanges\n-------\n\n1.0.0 (2015-11-10)\n~~~~~~~~~~~~~~~~~~\n\n* Allow multiple configuration files to be specified (settings will be merged in order)\n* Deprecated the `--file` argument\n* Print friendlier error messages in many cases of incorrect configurations\n\n0.0.2 (2015-03-02)\n~~~~~~~~~~~~~~~~~~\n\n* Friendlier config file load error message\n* Change default config to `/etc/docker-image-updater.yml`\n\n0.0.1 (2015-03-01)\n~~~~~~~~~~~~~~~~~~\n\n* Initial public release.\n\n\nLicense\n-------\n\nThe MIT License (MIT)\n\nCopyright (c) 2015 Nick Groenen <nick@groenen.me>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/zoni/docker-image-updater", "keywords": "docker image update container", "license": "MIT", "maintainer": null, "maintainer_email": null, "name": "docker-image-updater", "package_url": "https://pypi.org/project/docker-image-updater/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/docker-image-updater/", "project_urls": {"Download": "UNKNOWN", "Homepage": "https://github.com/zoni/docker-image-updater"}, "release_url": "https://pypi.org/project/docker-image-updater/1.0.0/", "requires_dist": null, "requires_python": null, "summary": "Update docker images and trigger commands in response to updates", "version": "1.0.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><em>A utility to update docker images automatically. Supports execution of\narbitrary commands when an image is updated, in order to restart running\ncontainers or trigger other custom behaviour.</em></p>\n<a href=\"https://travis-ci.org/zoni/docker-image-updater\" rel=\"nofollow\"><img alt=\"https://travis-ci.org/zoni/docker-image-updater.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c361ee367ca9a658e4a7c748d5ec0ce36730a495/68747470733a2f2f7472617669732d63692e6f72672f7a6f6e692f646f636b65722d696d6167652d757064617465722e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://coveralls.io/r/zoni/docker-image-updater\" rel=\"nofollow\"><img alt=\"https://coveralls.io/repos/zoni/docker-image-updater/badge.svg?branch=master\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/901c090e362b069d775bd239fcc00a2e3c409542/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f7a6f6e692f646f636b65722d696d6167652d757064617465722f62616467652e7376673f6272616e63683d6d6173746572\"></a>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>Docker image updater can be installed from the\n<a href=\"https://pypi.python.org/pypi/docker-image-updater\" rel=\"nofollow\">Python Package Index</a>\nusing:</p>\n<pre>pip install docker-image-updater\n</pre>\n<p>Installation into a <a href=\"https://virtualenv.pypa.io/en/latest/\" rel=\"nofollow\">virtualenv</a>\nis highly recommended!</p>\n</div>\n<div id=\"usage\">\n<h2>Usage</h2>\n<pre>usage: docker-image-updater [-h] [-f FILE] [--debug] [file [file ...]]\n\npositional arguments:\n  file                  configuration file(s) to use\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -f FILE, --file FILE  deprecated - this flag will be removed in the future\n  --debug               show debug messages\n</pre>\n<p>Docker image updater requires one or more configuration files which specify\nsets of images to watch and commands to execute. By default it will look\nfor <cite>/etc/docker-image-updater.yml</cite> but you may give one or more alternate\nfiles on the command-line.</p>\n<p>When specifying more than one configuration file, the settings will be\nmerged together with items from the latter configuration file(s) overwriting\nitems from earlier files.</p>\n<p>Recommended usage is to run docker image updater from cron, using\nsomething like <a href=\"http://habilis.net/cronic/\" rel=\"nofollow\">cronic</a> to receive mail\nonly in case of errors.</p>\n</div>\n<div id=\"example-output\">\n<h2>Example output</h2>\n<pre># docker-image-updater\n22:13:04 INFO     Updater    Checking images in set jenkins\n22:13:04 INFO     Updater    Updating image zoni/jenkins\n22:13:04 INFO     Updater    Pulling image zoni/jenkins\n...........................................................................................................................................................................................................................................................................................................................\n22:14:50 INFO     Updater    Image zoni/jenkins updated to latest version\n22:14:50 INFO     Updater    Running command: supervisorctl restart jenkins\njenkins: stopped\njenkins: started\n22:14:54 INFO     Updater    Command exited successfully\n</pre>\n</div>\n<div id=\"configuration-format\">\n<h2>Configuration format</h2>\n<p>Configuration is expressed through a YAML file such as the following:</p>\n<pre>config:\n  docker:\n    base_url: \"unix://var/run/docker.sock\"\n    version: \"1.16\"\nwatch:\n  my-app:\n    images:\n     - my-app\n     - redis\n    commands:\n     - restart my-app\n</pre>\n<p>The item <cite>watch</cite> defines sets of images to watch. This is a dictionary where\nthe keys (<cite>my-app</cite> in the example above) are arbitrary values for human\nreference. Under each of these keys a dictonary with the items <cite>images</cite> and\n<cite>commands</cite> is expected.</p>\n<p><cite>images</cite> defines a list of docker images to check for updates. You can\nspecify these as <cite>image:tag</cite> or simply as <cite>image</cite>, in which case Docker will\nuse the <em>latest</em> tag automatically.</p>\n<p><cite>commands</cite> defines a list of shell commands to execute whenever one of the\nlisted images was updated. These will be run sequentially, in order.</p>\n<p>All items under <cite>config.docker</cite> are passed to the Docker client.\nFor supported options, refer to the\n<a href=\"http://docker-py.readthedocs.org/en/latest/api/\" rel=\"nofollow\">docker-py documentation</a>.</p>\n</div>\n<div id=\"exit-codes\">\n<h2>Exit codes</h2>\n<p>Docker image updater will exit with status 0 when everything went well,\nand there were either no updates or images were updated and all defined\ncommands returned status code 0.</p>\n<p>If an image fails to update or one or more defined commands exits with\na non-zero exit status then docker image updater will itself exit with\nstatus 1.</p>\n</div>\n<div id=\"star-me\">\n<h2>Star me</h2>\n<p>If you use this software, please consider\n<a href=\"https://github.com/zoni/docker-image-updater/stargazers\" rel=\"nofollow\">starring</a>\nit on GitHub. This will give me some idea of how much it is used by\nother people.</p>\n</div>\n<div id=\"related-projects\">\n<h2>Related projects</h2>\n<ul>\n<li><a href=\"https://github.com/glowdigitalmedia/docker-puller\" rel=\"nofollow\">docker-puller</a></li>\n<li><a href=\"https://github.com/cpuguy83/dockerhub-webhook-listener\" rel=\"nofollow\">DockerHub Webhook Listener</a></li>\n</ul>\n</div>\n<div id=\"changes\">\n<h2>Changes</h2>\n<div id=\"id1\">\n<h3>1.0.0 (2015-11-10)</h3>\n<ul>\n<li>Allow multiple configuration files to be specified (settings will be merged in order)</li>\n<li>Deprecated the <cite>\u2013file</cite> argument</li>\n<li>Print friendlier error messages in many cases of incorrect configurations</li>\n</ul>\n</div>\n<div id=\"id2\">\n<h3>0.0.2 (2015-03-02)</h3>\n<ul>\n<li>Friendlier config file load error message</li>\n<li>Change default config to <cite>/etc/docker-image-updater.yml</cite></li>\n</ul>\n</div>\n<div id=\"id3\">\n<h3>0.0.1 (2015-03-01)</h3>\n<ul>\n<li>Initial public release.</li>\n</ul>\n</div>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>The MIT License (MIT)</p>\n<p>Copyright (c) 2015 Nick Groenen &lt;<a href=\"mailto:nick%40groenen.me\">nick<span>@</span>groenen<span>.</span>me</a>&gt;</p>\n<p>Permission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \u201cSoftware\u201d), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:</p>\n<p>The above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.</p>\n<p>THE SOFTWARE IS PROVIDED \u201cAS IS\u201d, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.</p>\n</div>\n\n          </div>"}, "last_serial": 1809528, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "b11dd188eb3890bb8876a7d66542c20e", "sha256": "d154b92a05e14971c37dcdc67dd2514d91462c3015d9fd7f94e62cee7a076164"}, "downloads": -1, "filename": "docker-image-updater-0.0.1.tar.gz", "has_sig": false, "md5_digest": "b11dd188eb3890bb8876a7d66542c20e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 20765, "upload_time": "2015-03-01T22:06:24", "upload_time_iso_8601": "2015-03-01T22:06:24.156281Z", "url": "https://files.pythonhosted.org/packages/77/2c/34a07c55989ec6deb49cc0b1f603e22855f002ed7c056a89c994a9b4254f/docker-image-updater-0.0.1.tar.gz", "yanked": false}], "0.0.2": [{"comment_text": "", "digests": {"md5": "c833d283f2df8c40f18c56e7ae18e06a", "sha256": "155b9e80f7cf8f866cacd18ef5e83ef66439117acfa73d14a2fec2dd03400d5f"}, "downloads": -1, "filename": "docker-image-updater-0.0.2.tar.gz", "has_sig": false, "md5_digest": "c833d283f2df8c40f18c56e7ae18e06a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 20828, "upload_time": "2015-03-02T07:38:36", "upload_time_iso_8601": "2015-03-02T07:38:36.366333Z", "url": "https://files.pythonhosted.org/packages/1a/c8/6bd7f8f8b16ce42eff45d633428590be5b8289a5b7581bf55715be936919/docker-image-updater-0.0.2.tar.gz", "yanked": false}], "1.0.0": [{"comment_text": "", "digests": {"md5": "6b8384aaeb53d523f1df234aff5f91e2", "sha256": "d078dffc96f5a6d19e6d07ac47208a2b52f5fd6b77d476425634fed4c9294158"}, "downloads": -1, "filename": "docker_image_updater-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "6b8384aaeb53d523f1df234aff5f91e2", "packagetype": "bdist_wheel", "python_version": "3.4", "requires_python": null, "size": 11845, "upload_time": "2015-11-10T13:14:53", "upload_time_iso_8601": "2015-11-10T13:14:53.600167Z", "url": "https://files.pythonhosted.org/packages/74/3d/22034225e0519d07668b6dfd2c20a86559882782665e0ebe7ab4d39fcd05/docker_image_updater-1.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7c57ebb755b73c8f27826e62f0cc88ae", "sha256": "d47ddcc4834e462a9e744e68c7961279aaec5660057ce516c26570be403d562c"}, "downloads": -1, "filename": "docker-image-updater-1.0.0.tar.gz", "has_sig": false, "md5_digest": "7c57ebb755b73c8f27826e62f0cc88ae", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 29558, "upload_time": "2015-11-10T13:14:47", "upload_time_iso_8601": "2015-11-10T13:14:47.745483Z", "url": "https://files.pythonhosted.org/packages/43/ef/158d9f66b932829e8aada9ab446de66bbb4139f4c0308d9ae48433e8e15f/docker-image-updater-1.0.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "6b8384aaeb53d523f1df234aff5f91e2", "sha256": "d078dffc96f5a6d19e6d07ac47208a2b52f5fd6b77d476425634fed4c9294158"}, "downloads": -1, "filename": "docker_image_updater-1.0.0-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "6b8384aaeb53d523f1df234aff5f91e2", "packagetype": "bdist_wheel", "python_version": "3.4", "requires_python": null, "size": 11845, "upload_time": "2015-11-10T13:14:53", "upload_time_iso_8601": "2015-11-10T13:14:53.600167Z", "url": "https://files.pythonhosted.org/packages/74/3d/22034225e0519d07668b6dfd2c20a86559882782665e0ebe7ab4d39fcd05/docker_image_updater-1.0.0-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7c57ebb755b73c8f27826e62f0cc88ae", "sha256": "d47ddcc4834e462a9e744e68c7961279aaec5660057ce516c26570be403d562c"}, "downloads": -1, "filename": "docker-image-updater-1.0.0.tar.gz", "has_sig": false, "md5_digest": "7c57ebb755b73c8f27826e62f0cc88ae", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 29558, "upload_time": "2015-11-10T13:14:47", "upload_time_iso_8601": "2015-11-10T13:14:47.745483Z", "url": "https://files.pythonhosted.org/packages/43/ef/158d9f66b932829e8aada9ab446de66bbb4139f4c0308d9ae48433e8e15f/docker-image-updater-1.0.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:50:51 2020"}
{"info": {"author": "mattiaforc", "author_email": "mattiaforc@gmail.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# Spotckup\nSpotckup is a small utility for easy local json backup of spotify library and playlists.\n\nYou can install it with `pip` by using the command\n```sh\npip install spotckup\n``` \nor if you want you can clone the repository, build it manually with `setuptools` by running the script `build.sh` and\nthen install it (assuming you are in the root directory) with\n```sh\npip install dist/spotckup_mattiaforc-0.1.0-py3-none-any.whl\n```  \n## Usage\n**Available commands** (use `spotckup <command> -h` or `spotckup <command> --help` for in-depth details):\n-   [`spotckup auth`](#authentication-and-refreshing-token) - authorize the app to read/modify spotify library and playlists\n-   [`spotckup refresh`](#authentication-and-refreshing-token) - refresh the authentication token obtained with `spotckup auth` (which expires after an hour)\n-   [`spotckup backup`](#backup-and-restore) - download and store locally all the playlists and the spotify user library\n-   [`spotckup restore`](#backup-and-restore) - export local library and playlists into spotify\n\n### Authentication and refreshing token\nBefore doing any other operation, you have to authorize spotckup to grant him access to the user library/playlist. Run in a terminal the command (the `--client-id` and the `--client-secret` flag in all commands can be omitted by [setting their values as environment variables](#config-environment-variables-optional), which is strongly suggested)\n```sh\nspotckup auth --client-id <YOUR CLIENT ID> --client-secret <YOUR CLIENT SECRET>\n```\nand, after loggin in the browser with your spotify account and authorizing the app, copy/paste the redirect url and go back to the terminal that should have already prompted you to insert it.\nThe redirected url is by default `http://localhost` and I suggest to leave it like this and add it to the web app in the spotify dashboard, unless you have other specific needs. In that case, you can run the `spotckup auth` command with the flag `--redirect_uri <YOUR_URL>` set to whatever url you need.\n\nThe token expires in an hour, so before doing any other operation (like backup or restore) you should probably refresh it by running\n```sh\nspotckup refresh --client-id <YOUR CLIENT ID> --client-secret <YOUR CLIENT SECRET>\n```\nor you will see a `STATUS CODE 401 - THE ACCESS CODE EXPIRED` response in your log/exception. If you ever want to ignore the stored access/refresh token and use a custom one you can provide it directly to spotckup with the flag `--token` or `-t`, e.g.\n```sh\nspotckup refresh -t <TOKEN>\n```\n\n### Backup and restore\nFor backing up all your data (library AND playlists), you can use the command \n```sh\nspotckup backup \n```\nwhich will automatically fetch the access token in the default directory or in the `-p`, `--path` specified value. If you want to do the local backup of playlists only, you can do so with the flag `--only-playlist`; vice versa to backup only the library you can use `--only-library`:\n```sh\nspotckup backup --only-playlist\nspotckup backup --only-library\n```\n\nRestoring and exporting back data to spotify is as simple as doing the backup; use the command\n```sh\nspotckup restore\n```\nwhich allows the exact same flags, i.e. `--only-playlist` and `--only-library`.\n\nData, such as the playlist/library backup and the authorization/refresh tokens are stored by default in `~/Documents/spotckup/data` and playlist cover images in `~/Documents/spotckup/data/img`. If you want to change this behaviour, you can run every script with the flag `-p` or `--path` and specify your own, like \n```sh\nspotckup refresh --path '/path/to/your/directory'\nspotckup backup --path '/path/to/your/directory'\n```\nThere is no need to manually create the folders, since spotckup will take care of that, just be sure to have adeguate permissions for writing in the submitted directory. Images will always be stored in the path you specified + `/img`.\n\n#### Local tracks\nIf local tracks are present in any downloaded playlist, they will be stored in the json too; due to the impossibility of actually locating them on the filesystem (spotify does not save those informations) the tracks are only referenced in the json but will **not** be restored when exporting the playlist back to spotify.\nTo overcome this situation, in a future version (with enough filesystem read permission) a local scan of user-defined \"Music\" directory could be done, hence finding the local tracks and re-exporting them to spotify playlists. \n\n\n### Debug \nFor debug purposes, you can run every command with `-d` or `--debug`, which will log debug informations on things like written data, fetched data, http responses and etc. If this is not enough, you may want to combine it with the flag `--verbose` that will make the app log almost every request/response detail.\n```sh\nspotckup backup --debug --verbose\n```\n\n### Config environment variables (Optional)\nIt is strongly suggested to export the two spotify web app variables (client-id and client-secret, *which can be found in your [developer dashboard](developer.spotify.com/dashboard/) in spotify*) as environment variables.\nIf you want to do that, you can add the following lines to file `~/.bashrc` or `~/.bash_profile` or`~/.profile`\n```sh\nexport SPOTIFY_CLIENT_ID='<VALUE>'\nexport SPOTIFY_CLIENT_SECRET='<VALUE>'\n```\nAfter saving the file, you could source it via `source ~/.bashrc` or `source ~/.bash_profile` or `source ~/.profile` according to the one you chose in the step before, or logout/login from your os to make changes effective. To check if everything went ok, you should see your inserted values when typing\n```sh\necho $SPOTIFY_CLIENT_ID\necho $SPOTIFY_CLIENT_SECRET\n```\nin a terminal.\n\n### Extra - `cron` job for automatic backups\n\nYou may want to backup things on a regular basis by using `cron`.\n`cron` is a time-based job scheduler in Unix-like computer operating systems which allows flexible and powerful job scheduling.\n\nFirst of all, if you don't have `cron` installed, run\n```sh\n$ sudo apt-get update\n$ sudo apt-get install cron \n``` \n\nand then\n```sh\ncrontab -e\n```\n\nwhich, if run properly, should display a text editor of your choice.\nScroll down to the bottom of the opened crontab file where you can define command lines to be run.\nSyntax is:\n```\n.---------------- minute (0 - 59) \n|  .------------- hour (0 - 23)\n|  |  .---------- day of month (1 - 31)\n|  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ... \n|  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7)  OR sun,mon,tue,wed,thu,fri,sat \n|  |  |  |  |\n*  *  *  *  *  command to be executed\n```\nSo, for backing up data weekly at 12pm you could do:\n```sh\n0 12 * * 1 spotckup refresh && spotckup backup\n```\nTo facilitate writing cronjobs, you should probably use [crontab guru](https://crontab.guru), an easy web editor for cron expressions.\n**Remember** to always add the refresh command before any other command, otherwise the application will not be authorized to do any operation (the token expires in an hour).\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/mattiaforc/spotckup", "keywords": "spotify backup utility json store", "license": "", "maintainer": "", "maintainer_email": "", "name": "spotckup", "package_url": "https://pypi.org/project/spotckup/", "platform": "", "project_url": "https://pypi.org/project/spotckup/", "project_urls": {"Homepage": "https://github.com/mattiaforc/spotckup"}, "release_url": "https://pypi.org/project/spotckup/0.1.0/", "requires_dist": ["Click", "certifi", "idna", "requests", "urllib3"], "requires_python": ">=3.6", "summary": "A small utility for creating JSON local backups of music and playlists from spotify", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p># Spotckup\nSpotckup is a small utility for easy local json backup of spotify library and playlists.</p>\n<p>You can install it with <cite>pip</cite> by using the command\n<tt>`sh\npip install spotckup\n`</tt>\nor if you want you can clone the repository, build it manually with <cite>setuptools</cite> by running the script <cite>build.sh</cite> and\nthen install it (assuming you are in the root directory) with\n<tt>`sh\npip install <span class=\"pre\">dist/spotckup_mattiaforc-0.1.0-py3-none-any.whl</span>\n`</tt>\n## Usage\n<strong>Available commands</strong> (use <cite>spotckup &lt;command&gt; -h</cite> or <cite>spotckup &lt;command&gt; \u2013help</cite> for in-depth details):\n-   [<cite>spotckup auth</cite>](#authentication-and-refreshing-token) - authorize the app to read/modify spotify library and playlists\n-   [<cite>spotckup refresh</cite>](#authentication-and-refreshing-token) - refresh the authentication token obtained with <cite>spotckup auth</cite> (which expires after an hour)\n-   [<cite>spotckup backup</cite>](#backup-and-restore) - download and store locally all the playlists and the spotify user library\n-   [<cite>spotckup restore</cite>](#backup-and-restore) - export local library and playlists into spotify</p>\n<p>### Authentication and refreshing token\nBefore doing any other operation, you have to authorize spotckup to grant him access to the user library/playlist. Run in a terminal the command (the <cite>\u2013client-id</cite> and the <cite>\u2013client-secret</cite> flag in all commands can be omitted by [setting their values as environment variables](#config-environment-variables-optional), which is strongly suggested)\n<tt>`sh\nspotckup auth <span class=\"pre\">--client-id</span> &lt;YOUR CLIENT ID&gt; <span class=\"pre\">--client-secret</span> &lt;YOUR CLIENT SECRET&gt;\n`</tt>\nand, after loggin in the browser with your spotify account and authorizing the app, copy/paste the redirect url and go back to the terminal that should have already prompted you to insert it.\nThe redirected url is by default <cite>http://localhost</cite> and I suggest to leave it like this and add it to the web app in the spotify dashboard, unless you have other specific needs. In that case, you can run the <cite>spotckup auth</cite> command with the flag <cite>\u2013redirect_uri &lt;YOUR_URL&gt;</cite> set to whatever url you need.</p>\n<p>The token expires in an hour, so before doing any other operation (like backup or restore) you should probably refresh it by running\n<tt>`sh\nspotckup refresh <span class=\"pre\">--client-id</span> &lt;YOUR CLIENT ID&gt; <span class=\"pre\">--client-secret</span> &lt;YOUR CLIENT SECRET&gt;\n`</tt>\nor you will see a <cite>STATUS CODE 401 - THE ACCESS CODE EXPIRED</cite> response in your log/exception. If you ever want to ignore the stored access/refresh token and use a custom one you can provide it directly to spotckup with the flag <cite>\u2013token</cite> or <cite>-t</cite>, e.g.\n<tt>`sh\nspotckup refresh <span class=\"pre\">-t</span> &lt;TOKEN&gt;\n`</tt></p>\n<p>### Backup and restore\nFor backing up all your data (library AND playlists), you can use the command\n<tt>`sh\nspotckup backup\n`</tt>\nwhich will automatically fetch the access token in the default directory or in the <cite>-p</cite>, <cite>\u2013path</cite> specified value. If you want to do the local backup of playlists only, you can do so with the flag <cite>\u2013only-playlist</cite>; vice versa to backup only the library you can use <cite>\u2013only-library</cite>:\n<tt>`sh\nspotckup backup <span class=\"pre\">--only-playlist</span>\nspotckup backup <span class=\"pre\">--only-library</span>\n`</tt></p>\n<p>Restoring and exporting back data to spotify is as simple as doing the backup; use the command\n<tt>`sh\nspotckup restore\n`</tt>\nwhich allows the exact same flags, i.e. <cite>\u2013only-playlist</cite> and <cite>\u2013only-library</cite>.</p>\n<p>Data, such as the playlist/library backup and the authorization/refresh tokens are stored by default in <cite>~/Documents/spotckup/data</cite> and playlist cover images in <cite>~/Documents/spotckup/data/img</cite>. If you want to change this behaviour, you can run every script with the flag <cite>-p</cite> or <cite>\u2013path</cite> and specify your own, like\n<tt>`sh\nspotckup refresh <span class=\"pre\">--path</span> '/path/to/your/directory'\nspotckup backup <span class=\"pre\">--path</span> '/path/to/your/directory'\n`</tt>\nThere is no need to manually create the folders, since spotckup will take care of that, just be sure to have adeguate permissions for writing in the submitted directory. Images will always be stored in the path you specified + <cite>/img</cite>.</p>\n<p>#### Local tracks\nIf local tracks are present in any downloaded playlist, they will be stored in the json too; due to the impossibility of actually locating them on the filesystem (spotify does not save those informations) the tracks are only referenced in the json but will <strong>not</strong> be restored when exporting the playlist back to spotify.\nTo overcome this situation, in a future version (with enough filesystem read permission) a local scan of user-defined \u201cMusic\u201d directory could be done, hence finding the local tracks and re-exporting them to spotify playlists.</p>\n<p>### Debug\nFor debug purposes, you can run every command with <cite>-d</cite> or <cite>\u2013debug</cite>, which will log debug informations on things like written data, fetched data, http responses and etc. If this is not enough, you may want to combine it with the flag <cite>\u2013verbose</cite> that will make the app log almost every request/response detail.\n<tt>`sh\nspotckup backup <span class=\"pre\">--debug</span> <span class=\"pre\">--verbose</span>\n`</tt></p>\n<p>### Config environment variables (Optional)\nIt is strongly suggested to export the two spotify web app variables (client-id and client-secret, <em>which can be found in your [developer dashboard](developer.spotify.com/dashboard/) in spotify</em>) as environment variables.\nIf you want to do that, you can add the following lines to file <cite>~/.bashrc</cite> or <cite>~/.bash_profile</cite> or`~/.profile`\n<tt>`sh\nexport <span class=\"pre\">SPOTIFY_CLIENT_ID='&lt;VALUE&gt;'</span>\nexport <span class=\"pre\">SPOTIFY_CLIENT_SECRET='&lt;VALUE&gt;'</span>\n`</tt>\nAfter saving the file, you could source it via <cite>source ~/.bashrc</cite> or <cite>source ~/.bash_profile</cite> or <cite>source ~/.profile</cite> according to the one you chose in the step before, or logout/login from your os to make changes effective. To check if everything went ok, you should see your inserted values when typing\n<tt>`sh\necho $SPOTIFY_CLIENT_ID\necho $SPOTIFY_CLIENT_SECRET\n`</tt>\nin a terminal.</p>\n<p>### Extra - <cite>cron</cite> job for automatic backups</p>\n<p>You may want to backup things on a regular basis by using <cite>cron</cite>.\n<cite>cron</cite> is a time-based job scheduler in Unix-like computer operating systems which allows flexible and powerful job scheduling.</p>\n<p>First of all, if you don\u2019t have <cite>cron</cite> installed, run\n<tt>`sh\n$ sudo <span class=\"pre\">apt-get</span> update\n$ sudo <span class=\"pre\">apt-get</span> install cron\n`</tt></p>\n<p>and then\n<tt>`sh\ncrontab <span class=\"pre\">-e</span>\n`</tt></p>\n<p>which, if run properly, should display a text editor of your choice.\nScroll down to the bottom of the opened crontab file where you can define command lines to be run.\nSyntax is:\n<tt>`\n<span class=\"pre\">.----------------</span> minute (0 - 59)\n|\u00a0 <span class=\"pre\">.-------------</span> hour (0 - 23)\n|\u00a0 |\u00a0 <span class=\"pre\">.----------</span> day of month (1 - 31)\n|\u00a0 |\u00a0 |\u00a0 <span class=\"pre\">.-------</span> month (1 - 12) OR jan,feb,mar,apr ...\n|\u00a0 |\u00a0 |\u00a0 |\u00a0 <span class=\"pre\">.----</span> day of week (0 - 6) (Sunday=0 or 7)\u00a0 OR sun,mon,tue,wed,thu,fri,sat\n|\u00a0 |\u00a0 |\u00a0 |\u00a0 |\n*\u00a0 *\u00a0 *\u00a0 *\u00a0 *\u00a0 command to be executed\n`</tt>\nSo, for backing up data weekly at 12pm you could do:\n<tt>`sh\n0 12 * * 1 spotckup refresh &amp;&amp; spotckup backup\n`</tt>\nTo facilitate writing cronjobs, you should probably use [crontab guru](<a href=\"https://crontab.guru\" rel=\"nofollow\">https://crontab.guru</a>), an easy web editor for cron expressions.\n<strong>Remember</strong> to always add the refresh command before any other command, otherwise the application will not be authorized to do any operation (the token expires in an hour).</p>\n\n          </div>"}, "last_serial": 7137990, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "f68337e697a2b5e3ca0193859ea6c5dc", "sha256": "d042b45d352425e554e8c42110460518a617f63dd48d3f37a40bf0e6dfda2e74"}, "downloads": -1, "filename": "spotckup-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "f68337e697a2b5e3ca0193859ea6c5dc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 14313, "upload_time": "2020-04-30T14:56:20", "upload_time_iso_8601": "2020-04-30T14:56:20.883157Z", "url": "https://files.pythonhosted.org/packages/71/a1/18b24e3080c138b369e09cd9726e3872474cca8bc54b43200011f6661183/spotckup-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "00209457571e77ad5f3ef7a2bb4238d5", "sha256": "4fe662ff6f331a170eb61e306ae6b5d8b95cb4f5c55ba6551524825289d912d9"}, "downloads": -1, "filename": "spotckup-0.1.0.tar.gz", "has_sig": false, "md5_digest": "00209457571e77ad5f3ef7a2bb4238d5", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 9484, "upload_time": "2020-04-30T14:56:23", "upload_time_iso_8601": "2020-04-30T14:56:23.025440Z", "url": "https://files.pythonhosted.org/packages/1d/34/ab91ce306200500c42681fc908d768871a4f69e52d1d610a49e5b06a668c/spotckup-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "f68337e697a2b5e3ca0193859ea6c5dc", "sha256": "d042b45d352425e554e8c42110460518a617f63dd48d3f37a40bf0e6dfda2e74"}, "downloads": -1, "filename": "spotckup-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "f68337e697a2b5e3ca0193859ea6c5dc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 14313, "upload_time": "2020-04-30T14:56:20", "upload_time_iso_8601": "2020-04-30T14:56:20.883157Z", "url": "https://files.pythonhosted.org/packages/71/a1/18b24e3080c138b369e09cd9726e3872474cca8bc54b43200011f6661183/spotckup-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "00209457571e77ad5f3ef7a2bb4238d5", "sha256": "4fe662ff6f331a170eb61e306ae6b5d8b95cb4f5c55ba6551524825289d912d9"}, "downloads": -1, "filename": "spotckup-0.1.0.tar.gz", "has_sig": false, "md5_digest": "00209457571e77ad5f3ef7a2bb4238d5", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 9484, "upload_time": "2020-04-30T14:56:23", "upload_time_iso_8601": "2020-04-30T14:56:23.025440Z", "url": "https://files.pythonhosted.org/packages/1d/34/ab91ce306200500c42681fc908d768871a4f69e52d1d610a49e5b06a668c/spotckup-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:04:33 2020"}
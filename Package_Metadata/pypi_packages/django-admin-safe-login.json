{"info": {"author": "zencore", "author_email": "dobetter@zencore.cn", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3 :: Only", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# django-admin-safe-login\n\nAdd captcha field for django admin's login page.\n\n## Install\n\n```shell\npip install django-admin-safe-login\n```\n\n## Usage\n\n**pro/settings.py**\n\n```python\nINSTALLED_APPS = [\n    ...\n    'django_static_jquery3',\n    'django_secure_password_input',\n    'django_admin_safe_login',\n    'captcha',\n    ...\n]\n\nCAPTCHA_IMAGE_SIZE = (100, 30)\nENABLE_LOGIN_CAPTCHA = True\n```\n\n**Note:**\n\n1. Insert django_static_jquery3, django_secure_password_input, django_admin_safe_login and captcha into INSTALLED_APPS.\n1. Application django_static_jquery3 provides static jquery.js.\n1. Application django_secure_password_input provides rsa encryption and decryption function for password field.\n1. Application django_admin_safe_login provides all functions about safe login.\n1. Application captcha provides image captcha functions.\n1. Configuration item CAPTCHA_IMAGE_SIZE is required, and must set to (100, 30) so that it will not break the display style. If you want other size image, you have to rewrite some css code.\n1. Configuration item ENABLE_LOGIN_CAPTCHA is optional, it's default to True value. You can use it for disable captcha for a short time. If you want remove the captcha functional, just remove the app django_admin_safe_login.\n\n**pro/urls.py**\n\n```python\nfrom django.urls import path\nfrom django.urls import include\n\nurlpatterns = [\n    ...\n    path('captcha/', include(\"captcha.urls\")),\n    ...\n]\n```\n\n**Note:**\n\n1. Include captcha.urls is required so that the captcha image can be displayed.\n\n## When things go down!\n\nWe have override some part of admin/login.html. But the admin/login.html content may change in future releases. So you should known what part is overrided.\n\n```html\n{% extends \"admin/login.html\" %}\n{% load i18n static %}\n\n{% block extrastyle %}\n    {{ block.super }}\n    <!-- resource files included below is ours -->\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"{% static \"django-admin-safe-login/css/django-admin-safe-login.css\" %}\" />\n    <script src=\"{% static \"jquery3/jquery.js\" %}\"></script>\n    <script src=\"{% static \"django-admin-safe-login/js/django-admin-safe-login.js\" %}\"></script>\n    <!-- resource files included above is ours -->\n{% endblock %}\n\n{% block content %}\n.....\n<form action=\"{{ app_path }}\" method=\"post\" id=\"login-form\">{% csrf_token %}\n  ......\n  <div class=\"form-row\">\n    {{ form.password.errors }}\n    {{ form.password.label_tag }} {{ form.password }}\n    ....\n  </div>\n  <!-- form-row below is ours -->\n  <div class=\"form-row\">\n    <label for=\"id_captcha\" class=\"required\">{% trans \"Captcha\" %}</label>\n    <div class=\"captcha-input\">\n        {{ form.captcha }}\n    </div>\n    {% if not form.this_is_the_login_form.errors %}{{ form.captcha.errors }}{% endif %}\n  </div>\n  <!-- form-row above is ours -->\n......\n</form>\n......\n{% endblock %}\n```\n\n**Steps:**\n\n1. Our login.html is extends from \"admin/login.html\"\n2. Override block extrastyle, append our css and js.\n3. Override block content, all content of this block must copy from \"admin/login.html\", and add our form-row after form-row of password.\n\n\n## Releases\n\n### v0.2.0 2020/03/07\n\n- Add rsa encryption and decrption functions for password field.\n- Fix requirements.txt missing django-static-jquery3 problem.\n\n### v0.1.0 2020/03/06\n\n- First release.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "django admin extentions,django admin safe login", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "django-admin-safe-login", "package_url": "https://pypi.org/project/django-admin-safe-login/", "platform": "", "project_url": "https://pypi.org/project/django-admin-safe-login/", "project_urls": null, "release_url": "https://pypi.org/project/django-admin-safe-login/0.2.0/", "requires_dist": null, "requires_python": "", "summary": "Add captcha field for django admin's login page.", "version": "0.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>django-admin-safe-login</h1>\n<p>Add captcha field for django admin's login page.</p>\n<h2>Install</h2>\n<pre>pip install django-admin-safe-login\n</pre>\n<h2>Usage</h2>\n<p><strong>pro/settings.py</strong></p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"o\">...</span>\n    <span class=\"s1\">'django_static_jquery3'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'django_secure_password_input'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'django_admin_safe_login'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'captcha'</span><span class=\"p\">,</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">]</span>\n\n<span class=\"n\">CAPTCHA_IMAGE_SIZE</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">30</span><span class=\"p\">)</span>\n<span class=\"n\">ENABLE_LOGIN_CAPTCHA</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n</pre>\n<p><strong>Note:</strong></p>\n<ol>\n<li>Insert django_static_jquery3, django_secure_password_input, django_admin_safe_login and captcha into INSTALLED_APPS.</li>\n<li>Application django_static_jquery3 provides static jquery.js.</li>\n<li>Application django_secure_password_input provides rsa encryption and decryption function for password field.</li>\n<li>Application django_admin_safe_login provides all functions about safe login.</li>\n<li>Application captcha provides image captcha functions.</li>\n<li>Configuration item CAPTCHA_IMAGE_SIZE is required, and must set to (100, 30) so that it will not break the display style. If you want other size image, you have to rewrite some css code.</li>\n<li>Configuration item ENABLE_LOGIN_CAPTCHA is optional, it's default to True value. You can use it for disable captcha for a short time. If you want remove the captcha functional, just remove the app django_admin_safe_login.</li>\n</ol>\n<p><strong>pro/urls.py</strong></p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">django.urls</span> <span class=\"kn\">import</span> <span class=\"n\">path</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.urls</span> <span class=\"kn\">import</span> <span class=\"n\">include</span>\n\n<span class=\"n\">urlpatterns</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"o\">...</span>\n    <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"s1\">'captcha/'</span><span class=\"p\">,</span> <span class=\"n\">include</span><span class=\"p\">(</span><span class=\"s2\">\"captcha.urls\"</span><span class=\"p\">)),</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">]</span>\n</pre>\n<p><strong>Note:</strong></p>\n<ol>\n<li>Include captcha.urls is required so that the captcha image can be displayed.</li>\n</ol>\n<h2>When things go down!</h2>\n<p>We have override some part of admin/login.html. But the admin/login.html content may change in future releases. So you should known what part is overrided.</p>\n<pre>{% extends \"admin/login.html\" %}\n{% load i18n static %}\n\n{% block extrastyle %}\n    {{ block.super }}\n    <span class=\"c\">&lt;!-- resource files included below is ours --&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">link</span> <span class=\"na\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"text/css\"</span> <span class=\"na\">href</span><span class=\"o\">=</span><span class=\"s\">\"{% static \"</span><span class=\"na\">django-admin-safe-login</span><span class=\"err\">/</span><span class=\"na\">css</span><span class=\"err\">/</span><span class=\"na\">django-admin-safe-login</span><span class=\"err\">.</span><span class=\"na\">css</span><span class=\"err\">\"</span> <span class=\"err\">%}\"</span> <span class=\"p\">/&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">script</span> <span class=\"na\">src</span><span class=\"o\">=</span><span class=\"s\">\"{% static \"</span><span class=\"na\">jquery3</span><span class=\"err\">/</span><span class=\"na\">jquery</span><span class=\"err\">.</span><span class=\"na\">js</span><span class=\"err\">\"</span> <span class=\"err\">%}\"</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">script</span> <span class=\"na\">src</span><span class=\"o\">=</span><span class=\"s\">\"{% static \"</span><span class=\"na\">django-admin-safe-login</span><span class=\"err\">/</span><span class=\"na\">js</span><span class=\"err\">/</span><span class=\"na\">django-admin-safe-login</span><span class=\"err\">.</span><span class=\"na\">js</span><span class=\"err\">\"</span> <span class=\"err\">%}\"</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n    <span class=\"c\">&lt;!-- resource files included above is ours --&gt;</span>\n{% endblock %}\n\n{% block content %}\n.....\n<span class=\"p\">&lt;</span><span class=\"nt\">form</span> <span class=\"na\">action</span><span class=\"o\">=</span><span class=\"s\">\"{{ app_path }}\"</span> <span class=\"na\">method</span><span class=\"o\">=</span><span class=\"s\">\"post\"</span> <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">\"login-form\"</span><span class=\"p\">&gt;</span>{% csrf_token %}\n  ......\n  <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"form-row\"</span><span class=\"p\">&gt;</span>\n    {{ form.password.errors }}\n    {{ form.password.label_tag }} {{ form.password }}\n    ....\n  <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"c\">&lt;!-- form-row below is ours --&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"form-row\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">label</span> <span class=\"na\">for</span><span class=\"o\">=</span><span class=\"s\">\"id_captcha\"</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"required\"</span><span class=\"p\">&gt;</span>{% trans \"Captcha\" %}<span class=\"p\">&lt;/</span><span class=\"nt\">label</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"captcha-input\"</span><span class=\"p\">&gt;</span>\n        {{ form.captcha }}\n    <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    {% if not form.this_is_the_login_form.errors %}{{ form.captcha.errors }}{% endif %}\n  <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"c\">&lt;!-- form-row above is ours --&gt;</span>\n......\n<span class=\"p\">&lt;/</span><span class=\"nt\">form</span><span class=\"p\">&gt;</span>\n......\n{% endblock %}\n</pre>\n<p><strong>Steps:</strong></p>\n<ol>\n<li>Our login.html is extends from \"admin/login.html\"</li>\n<li>Override block extrastyle, append our css and js.</li>\n<li>Override block content, all content of this block must copy from \"admin/login.html\", and add our form-row after form-row of password.</li>\n</ol>\n<h2>Releases</h2>\n<h3>v0.2.0 2020/03/07</h3>\n<ul>\n<li>Add rsa encryption and decrption functions for password field.</li>\n<li>Fix requirements.txt missing django-static-jquery3 problem.</li>\n</ul>\n<h3>v0.1.0 2020/03/06</h3>\n<ul>\n<li>First release.</li>\n</ul>\n\n          </div>"}, "last_serial": 6766655, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "4b4b49022aac60a4b0c20377d73381f9", "sha256": "a83858d345cf64881a349596096421196e41778a8624c7d61706b7d2732432b8"}, "downloads": -1, "filename": "django-admin-safe-login-0.1.0.tar.gz", "has_sig": false, "md5_digest": "4b4b49022aac60a4b0c20377d73381f9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10072, "upload_time": "2020-03-06T06:49:29", "upload_time_iso_8601": "2020-03-06T06:49:29.833246Z", "url": "https://files.pythonhosted.org/packages/06/52/fef2c0baccedc3b496f0ef48b324a23609bd7564515d56f2387b65b7b027/django-admin-safe-login-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "b59ea8c7c20fd95759fc9b595386f11a", "sha256": "ee4425b1c2559f1fe2b8be512df4b05c0b9edd008ec0e36471dbdc93c74ebe40"}, "downloads": -1, "filename": "django-admin-safe-login-0.2.0.tar.gz", "has_sig": false, "md5_digest": "b59ea8c7c20fd95759fc9b595386f11a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10434, "upload_time": "2020-03-07T05:48:06", "upload_time_iso_8601": "2020-03-07T05:48:06.610563Z", "url": "https://files.pythonhosted.org/packages/05/9b/368ee855776e54f4180c7dd449934d2afccc5b19b7a81bd20ff427b36197/django-admin-safe-login-0.2.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "b59ea8c7c20fd95759fc9b595386f11a", "sha256": "ee4425b1c2559f1fe2b8be512df4b05c0b9edd008ec0e36471dbdc93c74ebe40"}, "downloads": -1, "filename": "django-admin-safe-login-0.2.0.tar.gz", "has_sig": false, "md5_digest": "b59ea8c7c20fd95759fc9b595386f11a", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 10434, "upload_time": "2020-03-07T05:48:06", "upload_time_iso_8601": "2020-03-07T05:48:06.610563Z", "url": "https://files.pythonhosted.org/packages/05/9b/368ee855776e54f4180c7dd449934d2afccc5b19b7a81bd20ff427b36197/django-admin-safe-login-0.2.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:37:47 2020"}
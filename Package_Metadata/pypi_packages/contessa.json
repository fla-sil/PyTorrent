{"info": {"author": "Mario Hunka", "author_email": "mario.hunka@kiwi.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "Intended Audience :: Science/Research", "Operating System :: OS Independent", "Programming Language :: Python :: 3", "Topic :: Database", "Topic :: Software Development :: Quality Assurance"], "description": ".. index-start\n\nContessa\n============================\n\n|docs-badge| |build-badge| |pypi-badge| |license-badge|\n\n.. |docs-badge| image:: https://readthedocs.org/projects/contessa/badge/?version=latest\n   :target: https://contessa.readthedocs.io/en/latest/\n.. |pypi-badge| image:: https://badge.fury.io/py/contessa.svg\n   :target:  https://pypi.org/project/contessa/\n.. |build-badge| image:: https://travis-ci.org/kiwicom/contessa.svg?branch=master\n   :target: https://travis-ci.org/kiwicom/contessa\n.. |license-badge| image:: https://img.shields.io/pypi/l/schemathesis.svg\n   :target: https://opensource.org/licenses/MIT\n\n\nHello, welcome to Contessa!\n\nContessa is a **Data Quality** library that provides you an easy way to define, execute and\nstore quality rules for your data.\n\nInstead of writing a lot of sql queries that look almost exactly the same, we're aiming for more\npragmatic approach - define rules programatically. This enables much more flexibility for the user and also for us as the creators of the lib.\n\nWe implement new Rules (incrementally) that should reflect Data Quality domain. From the start these are simple\nrules like - NOT_NULL, GT (greater than) etc. We want to build on these simple rules and provide more complex Data Quality checkers out-of-the-box.\n\n**Goals:**\n\n- be database agnostic (to a reasonable degree), so you will define checks against any database (e.g. mysql vs. postgres) in the same way\n- automatize data quality results e.g. from postgres table to Datadog dashboard\n- programmatic approach to data-quality definition, which leads to:\n\n  - dynamic composition of rules in a simple script using db or any 3rd party tool - e.g. take all tables, create NOT_NULl rule for all of them for each integer column\n\n  - users can use special rules for data if needed, if not, they can go with generic solutions\n\n  - automatizable testable parts of definitions when needed\n\n- easier maintenance when number of checks scales too fast :)\n\nFull docs_ here\n\n.. _docs: https://contessa.readthedocs.io/en/latest/\n\nQuick Example\n---------------------------\n\n.. code-block:: python\n\n    from contessa import ContessaRunner, NOT_NULL, GT, SQL\n    no_bags_sql = \"\"\"\n        SELECT CASE WHEN is_no_bags_booking = 'T' AND bags > 0 THEN false ELSE true END\n        FROM {{table_fullname}};\n    \"\"\"\n    contessa = ContessaRunner(\"postgres://:@localhost:5432\")\n\n    RULES = [\n        {\n            \"name\" : \"Status and market null check\"\n            \"type\": NOT_NULL,\n            \"columns\": [\"status\", \"market\", \"src\", \"dst\"], \n        },\n        {\n            \"type\": GT,\n            \"value\": 0,\n            \"columns\": [\"initial_price\", \"turnover_before_refunds\", ],\n        },\n        {\n            \"type\": SQL,\n            \"sql\": no_bags_sql,\n            \"description\": \"No bags booking should have bags = 0\",\n        },\n    ]\n    contessa.run(\n        raw_rules=RULES,\n        check_table={\"schema_name\": \"public\", \"table_name\": \"bookings\"},\n        result_table={\"schema_name\": \"dq\", \"table_name\": \"my_table\"},\n    )\n\nThis will result in table **dq.quality_check_my_table**. For model see :ref:`quality_check`\n\n.. index-end\n\nHow to run tests\n---------------------------\n\n.. code-block:: bash\n\n    $ make test-up  # run postgres + app\n    $ make test args=\"/app/test -s\"  # args for pytest\n    $ make test-down  # delete containers + volumes\n\n\nIn case of unit tests (you do not need db):\n\n.. code-block:: bash\n\n    $ pytest test/unit/test_operator.py\n\nHow to add docs\n---------------------------\n\n.. code-block:: bash\n\n\t$ pip3 install -r requirements-docs.txt\n\t$ python3 watchdogs.py\n\nIt will make html files with sphinx and serve a local webserver so that you can check it out.\nIt should also reload it :)\n\nNOTE: If it doesn't work, build html manually. ``cd docs && make html``\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/kiwicom/contessa", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "contessa", "package_url": "https://pypi.org/project/contessa/", "platform": "", "project_url": "https://pypi.org/project/contessa/", "project_urls": {"Homepage": "https://github.com/kiwicom/contessa"}, "release_url": "https://pypi.org/project/contessa/0.2.4/", "requires_dist": ["sqlalchemy (>=1.2)", "psycopg2 (>=2.7)", "pandas (>=0.24.0)", "jinja2 (>=2.10)", "alembic (>=0.8.10)", "click (>=7.0)", "packaging (>=19.2)"], "requires_python": ">=3.6", "summary": "Data-quality framework", "version": "0.2.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p>.. index-start</p>\n<h1>Contessa</h1>\n<p>|docs-badge| |build-badge| |pypi-badge| |license-badge|</p>\n<p>.. |docs-badge| image:: <a href=\"https://readthedocs.org/projects/contessa/badge/?version=latest\" rel=\"nofollow\">https://readthedocs.org/projects/contessa/badge/?version=latest</a>\n:target: <a href=\"https://contessa.readthedocs.io/en/latest/\" rel=\"nofollow\">https://contessa.readthedocs.io/en/latest/</a>\n.. |pypi-badge| image:: <a href=\"https://badge.fury.io/py/contessa.svg\" rel=\"nofollow\">https://badge.fury.io/py/contessa.svg</a>\n:target:  <a href=\"https://pypi.org/project/contessa/\" rel=\"nofollow\">https://pypi.org/project/contessa/</a>\n.. |build-badge| image:: <a href=\"https://travis-ci.org/kiwicom/contessa.svg?branch=master\" rel=\"nofollow\">https://travis-ci.org/kiwicom/contessa.svg?branch=master</a>\n:target: <a href=\"https://travis-ci.org/kiwicom/contessa\" rel=\"nofollow\">https://travis-ci.org/kiwicom/contessa</a>\n.. |license-badge| image:: <a href=\"https://img.shields.io/pypi/l/schemathesis.svg\" rel=\"nofollow\">https://img.shields.io/pypi/l/schemathesis.svg</a>\n:target: <a href=\"https://opensource.org/licenses/MIT\" rel=\"nofollow\">https://opensource.org/licenses/MIT</a></p>\n<p>Hello, welcome to Contessa!</p>\n<p>Contessa is a <strong>Data Quality</strong> library that provides you an easy way to define, execute and\nstore quality rules for your data.</p>\n<p>Instead of writing a lot of sql queries that look almost exactly the same, we're aiming for more\npragmatic approach - define rules programatically. This enables much more flexibility for the user and also for us as the creators of the lib.</p>\n<p>We implement new Rules (incrementally) that should reflect Data Quality domain. From the start these are simple\nrules like - NOT_NULL, GT (greater than) etc. We want to build on these simple rules and provide more complex Data Quality checkers out-of-the-box.</p>\n<p><strong>Goals:</strong></p>\n<ul>\n<li>\n<p>be database agnostic (to a reasonable degree), so you will define checks against any database (e.g. mysql vs. postgres) in the same way</p>\n</li>\n<li>\n<p>automatize data quality results e.g. from postgres table to Datadog dashboard</p>\n</li>\n<li>\n<p>programmatic approach to data-quality definition, which leads to:</p>\n<ul>\n<li>\n<p>dynamic composition of rules in a simple script using db or any 3rd party tool - e.g. take all tables, create NOT_NULl rule for all of them for each integer column</p>\n</li>\n<li>\n<p>users can use special rules for data if needed, if not, they can go with generic solutions</p>\n</li>\n<li>\n<p>automatizable testable parts of definitions when needed</p>\n</li>\n</ul>\n</li>\n<li>\n<p>easier maintenance when number of checks scales too fast :)</p>\n</li>\n</ul>\n<p>Full docs_ here</p>\n<p>.. _docs: <a href=\"https://contessa.readthedocs.io/en/latest/\" rel=\"nofollow\">https://contessa.readthedocs.io/en/latest/</a></p>\n<h2>Quick Example</h2>\n<p>.. code-block:: python</p>\n<pre><code>from contessa import ContessaRunner, NOT_NULL, GT, SQL\nno_bags_sql = \"\"\"\n    SELECT CASE WHEN is_no_bags_booking = 'T' AND bags &gt; 0 THEN false ELSE true END\n    FROM {{table_fullname}};\n\"\"\"\ncontessa = ContessaRunner(\"postgres://:@localhost:5432\")\n\nRULES = [\n    {\n        \"name\" : \"Status and market null check\"\n        \"type\": NOT_NULL,\n        \"columns\": [\"status\", \"market\", \"src\", \"dst\"], \n    },\n    {\n        \"type\": GT,\n        \"value\": 0,\n        \"columns\": [\"initial_price\", \"turnover_before_refunds\", ],\n    },\n    {\n        \"type\": SQL,\n        \"sql\": no_bags_sql,\n        \"description\": \"No bags booking should have bags = 0\",\n    },\n]\ncontessa.run(\n    raw_rules=RULES,\n    check_table={\"schema_name\": \"public\", \"table_name\": \"bookings\"},\n    result_table={\"schema_name\": \"dq\", \"table_name\": \"my_table\"},\n)\n</code></pre>\n<p>This will result in table <strong>dq.quality_check_my_table</strong>. For model see :ref:<code>quality_check</code></p>\n<p>.. index-end</p>\n<h2>How to run tests</h2>\n<p>.. code-block:: bash</p>\n<pre><code>$ make test-up  # run postgres + app\n$ make test args=\"/app/test -s\"  # args for pytest\n$ make test-down  # delete containers + volumes\n</code></pre>\n<p>In case of unit tests (you do not need db):</p>\n<p>.. code-block:: bash</p>\n<pre><code>$ pytest test/unit/test_operator.py\n</code></pre>\n<h2>How to add docs</h2>\n<p>.. code-block:: bash</p>\n<pre><code>$ pip3 install -r requirements-docs.txt\n$ python3 watchdogs.py\n</code></pre>\n<p>It will make html files with sphinx and serve a local webserver so that you can check it out.\nIt should also reload it :)</p>\n<p>NOTE: If it doesn't work, build html manually. <code>cd docs &amp;&amp; make html</code></p>\n\n          </div>"}, "last_serial": 6317007, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "b4429ec1804c819c62ac24787a2edb50", "sha256": "0bdcd5b703b8c42f7a50a8d86c259b92449ae05e0161b7a768604ccf7dc8a554"}, "downloads": -1, "filename": "contessa-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "b4429ec1804c819c62ac24787a2edb50", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 20543, "upload_time": "2019-08-14T09:30:25", "upload_time_iso_8601": "2019-08-14T09:30:25.448054Z", "url": "https://files.pythonhosted.org/packages/99/b8/74c3a632b88db62049fa91e11024337cf7e460f5a3b247c58617c053e942/contessa-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "0f09c501dbbb6fd980af8faa703bc6be", "sha256": "7d584e3c89817a48c9cde155e2424e7dcf330b861021db452a159fe2c9926417"}, "downloads": -1, "filename": "contessa-0.1.0.tar.gz", "has_sig": false, "md5_digest": "0f09c501dbbb6fd980af8faa703bc6be", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 14445, "upload_time": "2019-08-14T09:30:27", "upload_time_iso_8601": "2019-08-14T09:30:27.904736Z", "url": "https://files.pythonhosted.org/packages/a0/f4/9c4f27cd5ba78b222875f07ae99477608a959fe5910010b42097a169dd71/contessa-0.1.0.tar.gz", "yanked": false}], "0.1.1": [{"comment_text": "", "digests": {"md5": "23764992693e2784d7ff3869b9b00b18", "sha256": "a31d2c3178e93f5f8899acd30d39741721ccd9daa50af76ceef9f1027537d2ee"}, "downloads": -1, "filename": "contessa-0.1.1-py3-none-any.whl", "has_sig": false, "md5_digest": "23764992693e2784d7ff3869b9b00b18", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 21676, "upload_time": "2019-08-14T16:41:36", "upload_time_iso_8601": "2019-08-14T16:41:36.252554Z", "url": "https://files.pythonhosted.org/packages/81/56/2fe3a8f14367a197c50ebee746f287d95635e4c85975bd01d334d2aaeac3/contessa-0.1.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "426dcfd554e1d60ec6625b1f2f9b19b7", "sha256": "b4248d5b7d35a4ccfd6eb8148975a763ca6937d79290b57b81060b0cbc25e05c"}, "downloads": -1, "filename": "contessa-0.1.1.tar.gz", "has_sig": false, "md5_digest": "426dcfd554e1d60ec6625b1f2f9b19b7", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 15497, "upload_time": "2019-08-14T16:41:38", "upload_time_iso_8601": "2019-08-14T16:41:38.099877Z", "url": "https://files.pythonhosted.org/packages/d6/20/74be013ff90da152b359ace76d53ccd52776fc61de547180ce3e2dc429ba/contessa-0.1.1.tar.gz", "yanked": false}], "0.1.2": [{"comment_text": "", "digests": {"md5": "3654f551eab92215b2c2dd0dd283d0bc", "sha256": "19d601632ec7af2e846f79e1c82d412e741698abb053afe4718ba157659f1c22"}, "downloads": -1, "filename": "contessa-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "3654f551eab92215b2c2dd0dd283d0bc", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 22363, "upload_time": "2019-09-02T12:46:04", "upload_time_iso_8601": "2019-09-02T12:46:04.600444Z", "url": "https://files.pythonhosted.org/packages/81/dc/5630aaf6f9085378d9ec387db4c2f176c0d6736fe2ad1f799a3b3b5f999a/contessa-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2a6522610572091f529ee3e74033cc26", "sha256": "8cc4b78382330ea96d1ed284189a71012ab394304eaa465f5971bb062b5b5c50"}, "downloads": -1, "filename": "contessa-0.1.2.tar.gz", "has_sig": false, "md5_digest": "2a6522610572091f529ee3e74033cc26", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 16168, "upload_time": "2019-09-02T12:46:06", "upload_time_iso_8601": "2019-09-02T12:46:06.239960Z", "url": "https://files.pythonhosted.org/packages/e2/8f/303e0146776493da0be93ed4d31e50494548d3ee2f82a031d673b43d2793/contessa-0.1.2.tar.gz", "yanked": false}], "0.1.3": [{"comment_text": "", "digests": {"md5": "a7a2ba8162ff303ba16177bf7ea270cf", "sha256": "a0a61650e5fb7d5ccc57ae17e84012d944139ab073952df856e884d99e188826"}, "downloads": -1, "filename": "contessa-0.1.3-py3-none-any.whl", "has_sig": false, "md5_digest": "a7a2ba8162ff303ba16177bf7ea270cf", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 23232, "upload_time": "2019-09-04T14:34:41", "upload_time_iso_8601": "2019-09-04T14:34:41.864402Z", "url": "https://files.pythonhosted.org/packages/bf/0f/13e3d00cf765a4874fc7a6d53ab2dd9a966162674188f9a8817835e4ec92/contessa-0.1.3-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2cd090215ecde150d1e11565f3fdca69", "sha256": "eb8133ea1e468d8045d0092410df77bb55b1e8b52a729dd5dd6171b156537fee"}, "downloads": -1, "filename": "contessa-0.1.3.tar.gz", "has_sig": false, "md5_digest": "2cd090215ecde150d1e11565f3fdca69", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 16553, "upload_time": "2019-09-04T14:34:43", "upload_time_iso_8601": "2019-09-04T14:34:43.156264Z", "url": "https://files.pythonhosted.org/packages/53/73/1e906b7b1ed7822fd6e88182bad145f65060622668c3bb9c7789f03fbb22/contessa-0.1.3.tar.gz", "yanked": false}], "0.1.4": [{"comment_text": "", "digests": {"md5": "c95a18c3936d54b9d54fbff3acaa0a3a", "sha256": "263304a7f198fa7659a8fdb781d8a98c58d6a3d92bf04fc8979f9cdac1c0b8e6"}, "downloads": -1, "filename": "contessa-0.1.4-py3-none-any.whl", "has_sig": false, "md5_digest": "c95a18c3936d54b9d54fbff3acaa0a3a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 24071, "upload_time": "2019-10-24T11:40:05", "upload_time_iso_8601": "2019-10-24T11:40:05.362862Z", "url": "https://files.pythonhosted.org/packages/ca/77/3c2f296b6eb0746268f422c818b8e7cba59365fd50804990000add788b04/contessa-0.1.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "c6765629a731ac7a70492ecd9142d555", "sha256": "eec84e69681322911259941005dfa8c9162ed41d4e6dc404e4477f1f6238651c"}, "downloads": -1, "filename": "contessa-0.1.4.tar.gz", "has_sig": false, "md5_digest": "c6765629a731ac7a70492ecd9142d555", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 17631, "upload_time": "2019-10-24T11:40:06", "upload_time_iso_8601": "2019-10-24T11:40:06.574537Z", "url": "https://files.pythonhosted.org/packages/3b/57/d0714633832b88e113d4c1783abe125a78e8b5c90e5c2186ac1c348200bb/contessa-0.1.4.tar.gz", "yanked": false}], "0.2.4": [{"comment_text": "", "digests": {"md5": "89095629e2e089ce12aeae34a75daad3", "sha256": "a5ba3f0fee11528b07b4386cf85c412049566f535964bc9ea33828158fd28c2e"}, "downloads": -1, "filename": "contessa-0.2.4-py3-none-any.whl", "has_sig": false, "md5_digest": "89095629e2e089ce12aeae34a75daad3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 40602, "upload_time": "2019-12-12T15:30:20", "upload_time_iso_8601": "2019-12-12T15:30:20.738032Z", "url": "https://files.pythonhosted.org/packages/46/c5/6a90ee0a537a5ea3b54f15d59a1fec2840462aa4a21a6b42274e9c38170e/contessa-0.2.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "99f6d2b6736ba4ef4ddccdc742820b14", "sha256": "beba0d01627bc52aebdcebba3fe769aafc7bdc7dbee2f9eb811449113536d3fd"}, "downloads": -1, "filename": "contessa-0.2.4.tar.gz", "has_sig": false, "md5_digest": "99f6d2b6736ba4ef4ddccdc742820b14", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 29435, "upload_time": "2019-12-12T15:30:22", "upload_time_iso_8601": "2019-12-12T15:30:22.288838Z", "url": "https://files.pythonhosted.org/packages/ea/cc/a93beef5f9922a78cf1ff235140c4d8d4a1125304a891183bd4f2c080af8/contessa-0.2.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "89095629e2e089ce12aeae34a75daad3", "sha256": "a5ba3f0fee11528b07b4386cf85c412049566f535964bc9ea33828158fd28c2e"}, "downloads": -1, "filename": "contessa-0.2.4-py3-none-any.whl", "has_sig": false, "md5_digest": "89095629e2e089ce12aeae34a75daad3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6", "size": 40602, "upload_time": "2019-12-12T15:30:20", "upload_time_iso_8601": "2019-12-12T15:30:20.738032Z", "url": "https://files.pythonhosted.org/packages/46/c5/6a90ee0a537a5ea3b54f15d59a1fec2840462aa4a21a6b42274e9c38170e/contessa-0.2.4-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "99f6d2b6736ba4ef4ddccdc742820b14", "sha256": "beba0d01627bc52aebdcebba3fe769aafc7bdc7dbee2f9eb811449113536d3fd"}, "downloads": -1, "filename": "contessa-0.2.4.tar.gz", "has_sig": false, "md5_digest": "99f6d2b6736ba4ef4ddccdc742820b14", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6", "size": 29435, "upload_time": "2019-12-12T15:30:22", "upload_time_iso_8601": "2019-12-12T15:30:22.288838Z", "url": "https://files.pythonhosted.org/packages/ea/cc/a93beef5f9922a78cf1ff235140c4d8d4a1125304a891183bd4f2c080af8/contessa-0.2.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:43:34 2020"}
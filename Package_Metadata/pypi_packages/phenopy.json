{"info": {"author": "Kevin Arvai <karvai@genedx.com>, Kyle Retterer <retterer@genedx.com>, Carlos Borroto <cborroto@genedx.com>, Vlad Gainullin <vgainullin@genedx.com>, Vincent Ustach <vustach@genedx.com>", "author_email": "<datascience@genedx.com>", "bugtrack_url": null, "classifiers": [], "description": "[![python-version](https://img.shields.io/badge/python-3.6+-blue.svg)](https://www.python.org/downloads/release/python-360/)\n[![github-actions](https://github.com/GeneDx/phenopy/workflows/Python%20package/badge.svg)](https://github.com/GeneDx/phenopy/actions)\n[![codecov](https://codecov.io/gh/GeneDx/phenopy/branch/develop/graph/badge.svg)](https://codecov.io/gh/GeneDx/phenopy)\n[![DOI](https://zenodo.org/badge/207335538.svg)](https://zenodo.org/badge/latestdoi/207335538)\n\n# phenopy\n`phenopy` is a Python package to perform phenotype similarity scoring by semantic similarity. `phenopy` is a\nlightweight but highly optimized command line tool and library to efficiently perform semantic similarity scoring on\ngeneric entities with phenotype annotations from the [Human Phenotype Ontology (HPO)](https://hpo.jax.org/app/).\n\n![Phenotype Similarity Clustering](https://raw.githubusercontent.com/GeneDx/phenopy/develop/notebooks/output/cluster_three_diseases.png)\n\n## Installation\nInstall using pip:\n```bash\npip install phenopy\n```\n\nInstall from GitHub:\n```bash\ngit clone https://github.com/GeneDx/phenopy.git\ncd phenopy\npython setup.py install\n```\n\n## Command Line Usage\n### Initial setup\nphenopy is designed to run with minimal setup from the user, to run phenopy with default parameters (recommended), skip ahead\nto the [Commands overview](#Commands-overview).  \n\nThis section provides details about where phenopy stores data resources and config files. The following occurs when\nyou run phenopy for the first time.\n 1. phenopy creates a `.phenopy/` directory in your home folder and downloads external resources from HPO into the\n  `$HOME/.phenopy/data/` directory.\n 2. phenopy creates a `$HOME/.phenopy/phenopy.ini` config file where users can set variables for phenopy to use\n at runtime.\n\n### Commands overview\n`phenopy` is primarily used as a command line tool. An entity, as described here, is presented as a sample, gene, or\ndisease, but could be any concept that warrants annotation of phenotype terms. \n\nUse `phenopy score` to perform semantic similarity scoring in various formats. Write the results of any command to file \nusing `--output-file=/path/to/output_file.txt`\n\n1. Score similarity of entities defined by the HPO terms from an input file against all the OMIM diseases in\n    `.phenopy/data/phenotype.hpoa`. We provide a test input file in the repo. The default summarization method is to\n     use `--summarization-method=BMWA` which weighs each diseases' phenotypes by the frequency of a phenotype seen in \n     each particular disease.\n    ```bash\n    phenopy score tests/data/test.score.txt  \n    ```\n    Output:\n    ```\n    #query\tentity_id\tscore\n    118200  210100  0.0\n    118200  615779  0.0\n    118200  613266  0.0052\n    ...\n    ```\n\n2. Score similarity of entities defined by the HPO terms from an input file against all the OMIM diseases in\n    `.phenopy/data/phenotype.hpoa`, to use the non-weighted summarization method use `--summarization-method=BMA` which\n    uses a traditional *best-match average* summarization of semantic similarity scores when comparing terms from record *a* \n    with terms from record *b*.\n    ```bash\n    phenopy score tests/data/test.score.txt --summarization-method=BMWA\n    ```\n    Output:\n    ```\n    #query\tentity_id\tscore\n    118200  210100  0.0\n    118200  615779  0.0\n    118200  613266  0.0052\n    ...\n    ```\n\n3. Score similarity of an entities defined by the HPO terms from an input file against a custom list of entities with HPO annotations, referred to as the `--records-file`. Both files are in the same format.\n    ```bash\n    phenopy score tests/data/test.score-short.txt --records-file tests/data/test.score-long.txt\n    ```\n    Output:\n    ```\n    #query  entity_id       score\n    118200  118200  0.0169\n    118200  300905  0.0156\n    118200  601098  0.0171\n    ...\n    ```\n\n4. Score pairwise similarity of entities defined by the HPO terms from an input file using `--self`.\n\n    ```bash\n    phenopy score tests/data/test.score-long.txt --threads 4 --self\n    ```\n    Output:\n    ```\n    #query  entity_id       score\n    118200  118200  0.2284\n    118200  118210  0.1302\n    118200  118211  0.1302\n    118210  118210  0.2048\n    118210  118211  0.2048\n    118211  118211  0.2048\n    ```\n5. Score age-adjusted pairwise similarity of entities defined in the input file, \n    using phenotype mean age and standard deviation defined in the `--ages_distribution_file`,\n    select best-match weighted average as the scoring summarization method `--summarization-method BMWA`.\n\n    ```bash\n    phenopy score tests/data/test.score-short.txt --ages_distribution_file tests/data/phenotype_age.tsv --summarization-method BMWA --threads 4 --self\n    ```\n    Output:\n    ```\n    #query  entity_id       score\n    118200  210100  0.0\n    118200  177650  0.0127\n    118200  241520  0.0\n    ...\n    ```\n\n    The phenotype age file contains hpo-id, mean, sd as tab separated text as follows\n\n    |  |  | |\n    |------------|------|-----|\n    | HP:0001251 | 6.0  | 3.0 |\n    | HP:0001263 | 1.0  | 1.0 |\n    | HP:0001290 | 1.0  | 1.0 |\n    | HP:0004322 | 10.0 | 3.0 |\n    | HP:0001249 | 6.0  | 3.0 |\n\n  If no phenotype ages file is provided `--summarization-method=BMWA` can be selected to use default, open access literature-derived phenotype ages (~ 1,400 age weighted phenotypes).  \n   ```bash\n    phenopy score tests/data/test.score-short.txt  --summarization-method BMWA --threads 4\n   ```\n\n\n## Parameters\nFor a full list of command arguments use `phenopy [subcommand] --help`:\n```bash\nphenopy score --help\n```\nOutput:\n```\n    --output_file=OUTPUT_FILE\n        File path where to store the results. [default: - (stdout)]\n    --records_file=RECORDS_FILE\n        An entity-to-phenotype annotation file in the same format as \"input_file\". This file, if provided, is used to score entries in the \"input_file\" against entries here. [default: None]\n    --annotations_file=ANNOTATIONS_FILE\n        An entity-to-phenotype annotation file in the same format as \"input_file\". This file, if provided, is used to add information content to the network. [default: None]\n    --ages_distribution_file=AGES_DISTRIBUTION_FILE\n        Phenotypes age summary stats file containing phenotype HPO id, mean_age, and std. [default: None]\n    --self=SELF\n        Score entries in the \"input_file\" against itself.\n    --summarization_method=SUMMARIZATION_METHOD\n        The method used to summarize the HRSS matrix. Supported Values are best match average (BMA), best match weighted average (BMWA), and maximum (maximum). [default: BMWA]\n    --threads=THREADS\n        Number of parallel processes to use. [default: 1]\n```\n## Library Usage\nThe `phenopy` library can be used as a `Python` module, allowing more control for advanced users.   \n\n```python\nimport os\nfrom phenopy import generate_annotated_hpo_network\nfrom phenopy.score import Scorer\n\n# data directory\nphenopy_data_directory = os.path.join(os.getenv('HOME'), '.phenopy/data')\n\n# files used in building the annotated HPO network\nobo_file = os.path.join(phenopy_data_directory, 'hp.obo')\ndisease_to_phenotype_file = os.path.join(phenopy_data_directory, 'phenotype.hpoa')\n\n# if you have a custom ages_distribution_file, you can set it here.\nages_distribution_file = os.path.join(phenopy_data_directory, 'xa_age_stats_oct052019.tsv')\n\nhpo_network, alt2prim, disease_records = \\\n    generate_annotated_hpo_network(obo_file,\n                                   disease_to_phenotype_file,\n                                   ages_distribution_file=ages_distribution_file\n                                   )\n\nscorer = Scorer(hpo_network)\n\nterms_a = ['HP:0001882', 'HP:0011839']\nterms_b = ['HP:0001263', 'HP:0000252']\n\nprint(scorer.score(terms_a, terms_b))\n```\nOutput:\n```\n0.0005\n```\n\nThe library can be used to prune parent phenotypes from the `phenotype.hpoa` and store pruned annotations as a file.\n```python\nfrom phenopy.util import export_phenotype_hpoa_with_no_parents\n# saves a new file of phenotype disease annotations with parent HPO terms removed from phenotype lists.\ndisease_to_phenotype_no_parents_file = os.path.join(phenopy_data_directory, 'phenotype.noparents.hpoa') \nexport_phenotype_hpoa_with_no_parents(disease_to_phenotype_file, disease_to_phenotype_no_parents_file, hpo_network)\n```\n\n### Config\nWhile we recommend using the default settings for most users, the config file *can be* modified: `$HOME/.phenopy/phenopy.ini`.\n\nTo run phenopy with a different version of `hp.obo`, set the path of `obo_file` in `$HOME/.phenopy/phenopy.ini`.\n\n## Contributing\nWe welcome contributions from the community. Please follow these steps to setup a local development environment.  \n```bash\npipenv install --dev\n```\n\nTo run tests locally:\n```bash\npipenv shell\ncoverage run --source=. -m unittest discover --start-directory tests/\ncoverage report -m\n```  \n\n## References\nThe underlying algorithm which determines the semantic similarity for any two HPO terms is based on an implementation of HRSS, [published here](https://www.ncbi.nlm.nih.gov/pubmed/23741529).\n\n\n## Citing Phenopy\nPlease use the following Bibtex to cite this software.\n```\n@software{arvai_phenopy_2019,\n    title = {Phenopy},\n    rights = {Attribution-NonCommercial-ShareAlike 4.0 International},\n    url = {https://github.com/GeneDx/phenopy},\n    abstract = {Phenopy is a Python package to perform phenotype similarity scoring by semantic similarity. \n        Phenopy is a lightweight but highly optimized command line tool and library to efficiently perform semantic \n        similarity scoring on generic entities with phenotype annotations from the Human Phenotype Ontology (HPO).},\n    version = {0.3.0},\n    author = {Arvai, Kevin and Borroto, Carlos and Gainullin, Vladimir and Retterer, Kyle},\n    date = {2019-11-05},\n    year = {2019},\n    doi = {10.5281/zenodo.3529569}\n}\n```\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "phenopy", "package_url": "https://pypi.org/project/phenopy/", "platform": "", "project_url": "https://pypi.org/project/phenopy/", "project_urls": null, "release_url": "https://pypi.org/project/phenopy/0.4.0/", "requires_dist": ["fire", "networkx", "numpy", "obonet", "pandas", "scipy"], "requires_python": "", "summary": "Phenotype comparison scoring by semantic similarity.", "version": "0.4.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><a href=\"https://www.python.org/downloads/release/python-360/\" rel=\"nofollow\"><img alt=\"python-version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6a042d910c74fbce532a01da853019c164ef42a8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d332e362b2d626c75652e737667\"></a>\n<a href=\"https://github.com/GeneDx/phenopy/actions\" rel=\"nofollow\"><img alt=\"github-actions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9624132dfa0ec314e9e2ce65c5b6ab04bcf660a4/68747470733a2f2f6769746875622e636f6d2f47656e6544782f7068656e6f70792f776f726b666c6f77732f507974686f6e2532307061636b6167652f62616467652e737667\"></a>\n<a href=\"https://codecov.io/gh/GeneDx/phenopy\" rel=\"nofollow\"><img alt=\"codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1cb778fca7505f09f6ab32c1ab0a12ee4c919ed1/68747470733a2f2f636f6465636f762e696f2f67682f47656e6544782f7068656e6f70792f6272616e63682f646576656c6f702f67726170682f62616467652e737667\"></a>\n<a href=\"https://zenodo.org/badge/latestdoi/207335538\" rel=\"nofollow\"><img alt=\"DOI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/171306310695427e2e1a01060038bb2a5e8da195/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f3230373333353533382e737667\"></a></p>\n<h1>phenopy</h1>\n<p><code>phenopy</code> is a Python package to perform phenotype similarity scoring by semantic similarity. <code>phenopy</code> is a\nlightweight but highly optimized command line tool and library to efficiently perform semantic similarity scoring on\ngeneric entities with phenotype annotations from the <a href=\"https://hpo.jax.org/app/\" rel=\"nofollow\">Human Phenotype Ontology (HPO)</a>.</p>\n<p><img alt=\"Phenotype Similarity Clustering\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/d358a587541f8257027528a14fb387d6d2e14e71/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f47656e6544782f7068656e6f70792f646576656c6f702f6e6f7465626f6f6b732f6f75747075742f636c75737465725f74687265655f64697365617365732e706e67\"></p>\n<h2>Installation</h2>\n<p>Install using pip:</p>\n<pre>pip install phenopy\n</pre>\n<p>Install from GitHub:</p>\n<pre>git clone https://github.com/GeneDx/phenopy.git\n<span class=\"nb\">cd</span> phenopy\npython setup.py install\n</pre>\n<h2>Command Line Usage</h2>\n<h3>Initial setup</h3>\n<p>phenopy is designed to run with minimal setup from the user, to run phenopy with default parameters (recommended), skip ahead\nto the <a href=\"#Commands-overview\" rel=\"nofollow\">Commands overview</a>.</p>\n<p>This section provides details about where phenopy stores data resources and config files. The following occurs when\nyou run phenopy for the first time.</p>\n<ol>\n<li>phenopy creates a <code>.phenopy/</code> directory in your home folder and downloads external resources from HPO into the\n<code>$HOME/.phenopy/data/</code> directory.</li>\n<li>phenopy creates a <code>$HOME/.phenopy/phenopy.ini</code> config file where users can set variables for phenopy to use\nat runtime.</li>\n</ol>\n<h3>Commands overview</h3>\n<p><code>phenopy</code> is primarily used as a command line tool. An entity, as described here, is presented as a sample, gene, or\ndisease, but could be any concept that warrants annotation of phenotype terms.</p>\n<p>Use <code>phenopy score</code> to perform semantic similarity scoring in various formats. Write the results of any command to file\nusing <code>--output-file=/path/to/output_file.txt</code></p>\n<ol>\n<li>\n<p>Score similarity of entities defined by the HPO terms from an input file against all the OMIM diseases in\n<code>.phenopy/data/phenotype.hpoa</code>. We provide a test input file in the repo. The default summarization method is to\nuse <code>--summarization-method=BMWA</code> which weighs each diseases' phenotypes by the frequency of a phenotype seen in\neach particular disease.</p>\n<pre>phenopy score tests/data/test.score.txt  \n</pre>\n<p>Output:</p>\n<pre><code>#query\tentity_id\tscore\n118200  210100  0.0\n118200  615779  0.0\n118200  613266  0.0052\n...\n</code></pre>\n</li>\n<li>\n<p>Score similarity of entities defined by the HPO terms from an input file against all the OMIM diseases in\n<code>.phenopy/data/phenotype.hpoa</code>, to use the non-weighted summarization method use <code>--summarization-method=BMA</code> which\nuses a traditional <em>best-match average</em> summarization of semantic similarity scores when comparing terms from record <em>a</em>\nwith terms from record <em>b</em>.</p>\n<pre>phenopy score tests/data/test.score.txt --summarization-method<span class=\"o\">=</span>BMWA\n</pre>\n<p>Output:</p>\n<pre><code>#query\tentity_id\tscore\n118200  210100  0.0\n118200  615779  0.0\n118200  613266  0.0052\n...\n</code></pre>\n</li>\n<li>\n<p>Score similarity of an entities defined by the HPO terms from an input file against a custom list of entities with HPO annotations, referred to as the <code>--records-file</code>. Both files are in the same format.</p>\n<pre>phenopy score tests/data/test.score-short.txt --records-file tests/data/test.score-long.txt\n</pre>\n<p>Output:</p>\n<pre><code>#query  entity_id       score\n118200  118200  0.0169\n118200  300905  0.0156\n118200  601098  0.0171\n...\n</code></pre>\n</li>\n<li>\n<p>Score pairwise similarity of entities defined by the HPO terms from an input file using <code>--self</code>.</p>\n<pre>phenopy score tests/data/test.score-long.txt --threads <span class=\"m\">4</span> --self\n</pre>\n<p>Output:</p>\n<pre><code>#query  entity_id       score\n118200  118200  0.2284\n118200  118210  0.1302\n118200  118211  0.1302\n118210  118210  0.2048\n118210  118211  0.2048\n118211  118211  0.2048\n</code></pre>\n</li>\n<li>\n<p>Score age-adjusted pairwise similarity of entities defined in the input file,\nusing phenotype mean age and standard deviation defined in the <code>--ages_distribution_file</code>,\nselect best-match weighted average as the scoring summarization method <code>--summarization-method BMWA</code>.</p>\n<pre>phenopy score tests/data/test.score-short.txt --ages_distribution_file tests/data/phenotype_age.tsv --summarization-method BMWA --threads <span class=\"m\">4</span> --self\n</pre>\n<p>Output:</p>\n<pre><code>#query  entity_id       score\n118200  210100  0.0\n118200  177650  0.0127\n118200  241520  0.0\n...\n</code></pre>\n<p>The phenotype age file contains hpo-id, mean, sd as tab separated text as follows</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>HP:0001251</td>\n<td>6.0</td>\n<td>3.0</td>\n</tr>\n<tr>\n<td>HP:0001263</td>\n<td>1.0</td>\n<td>1.0</td>\n</tr>\n<tr>\n<td>HP:0001290</td>\n<td>1.0</td>\n<td>1.0</td>\n</tr>\n<tr>\n<td>HP:0004322</td>\n<td>10.0</td>\n<td>3.0</td>\n</tr>\n<tr>\n<td>HP:0001249</td>\n<td>6.0</td>\n<td>3.0</td>\n</tr></tbody></table>\n</li>\n</ol>\n<p>If no phenotype ages file is provided <code>--summarization-method=BMWA</code> can be selected to use default, open access literature-derived phenotype ages (~ 1,400 age weighted phenotypes).</p>\n<pre> phenopy score tests/data/test.score-short.txt  --summarization-method BMWA --threads <span class=\"m\">4</span>\n</pre>\n<h2>Parameters</h2>\n<p>For a full list of command arguments use <code>phenopy [subcommand] --help</code>:</p>\n<pre>phenopy score --help\n</pre>\n<p>Output:</p>\n<pre><code>    --output_file=OUTPUT_FILE\n        File path where to store the results. [default: - (stdout)]\n    --records_file=RECORDS_FILE\n        An entity-to-phenotype annotation file in the same format as \"input_file\". This file, if provided, is used to score entries in the \"input_file\" against entries here. [default: None]\n    --annotations_file=ANNOTATIONS_FILE\n        An entity-to-phenotype annotation file in the same format as \"input_file\". This file, if provided, is used to add information content to the network. [default: None]\n    --ages_distribution_file=AGES_DISTRIBUTION_FILE\n        Phenotypes age summary stats file containing phenotype HPO id, mean_age, and std. [default: None]\n    --self=SELF\n        Score entries in the \"input_file\" against itself.\n    --summarization_method=SUMMARIZATION_METHOD\n        The method used to summarize the HRSS matrix. Supported Values are best match average (BMA), best match weighted average (BMWA), and maximum (maximum). [default: BMWA]\n    --threads=THREADS\n        Number of parallel processes to use. [default: 1]\n</code></pre>\n<h2>Library Usage</h2>\n<p>The <code>phenopy</code> library can be used as a <code>Python</code> module, allowing more control for advanced users.</p>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"kn\">from</span> <span class=\"nn\">phenopy</span> <span class=\"kn\">import</span> <span class=\"n\">generate_annotated_hpo_network</span>\n<span class=\"kn\">from</span> <span class=\"nn\">phenopy.score</span> <span class=\"kn\">import</span> <span class=\"n\">Scorer</span>\n\n<span class=\"c1\"># data directory</span>\n<span class=\"n\">phenopy_data_directory</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getenv</span><span class=\"p\">(</span><span class=\"s1\">'HOME'</span><span class=\"p\">),</span> <span class=\"s1\">'.phenopy/data'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># files used in building the annotated HPO network</span>\n<span class=\"n\">obo_file</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">phenopy_data_directory</span><span class=\"p\">,</span> <span class=\"s1\">'hp.obo'</span><span class=\"p\">)</span>\n<span class=\"n\">disease_to_phenotype_file</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">phenopy_data_directory</span><span class=\"p\">,</span> <span class=\"s1\">'phenotype.hpoa'</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># if you have a custom ages_distribution_file, you can set it here.</span>\n<span class=\"n\">ages_distribution_file</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">phenopy_data_directory</span><span class=\"p\">,</span> <span class=\"s1\">'xa_age_stats_oct052019.tsv'</span><span class=\"p\">)</span>\n\n<span class=\"n\">hpo_network</span><span class=\"p\">,</span> <span class=\"n\">alt2prim</span><span class=\"p\">,</span> <span class=\"n\">disease_records</span> <span class=\"o\">=</span> \\\n    <span class=\"n\">generate_annotated_hpo_network</span><span class=\"p\">(</span><span class=\"n\">obo_file</span><span class=\"p\">,</span>\n                                   <span class=\"n\">disease_to_phenotype_file</span><span class=\"p\">,</span>\n                                   <span class=\"n\">ages_distribution_file</span><span class=\"o\">=</span><span class=\"n\">ages_distribution_file</span>\n                                   <span class=\"p\">)</span>\n\n<span class=\"n\">scorer</span> <span class=\"o\">=</span> <span class=\"n\">Scorer</span><span class=\"p\">(</span><span class=\"n\">hpo_network</span><span class=\"p\">)</span>\n\n<span class=\"n\">terms_a</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'HP:0001882'</span><span class=\"p\">,</span> <span class=\"s1\">'HP:0011839'</span><span class=\"p\">]</span>\n<span class=\"n\">terms_b</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'HP:0001263'</span><span class=\"p\">,</span> <span class=\"s1\">'HP:0000252'</span><span class=\"p\">]</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">scorer</span><span class=\"o\">.</span><span class=\"n\">score</span><span class=\"p\">(</span><span class=\"n\">terms_a</span><span class=\"p\">,</span> <span class=\"n\">terms_b</span><span class=\"p\">))</span>\n</pre>\n<p>Output:</p>\n<pre><code>0.0005\n</code></pre>\n<p>The library can be used to prune parent phenotypes from the <code>phenotype.hpoa</code> and store pruned annotations as a file.</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">phenopy.util</span> <span class=\"kn\">import</span> <span class=\"n\">export_phenotype_hpoa_with_no_parents</span>\n<span class=\"c1\"># saves a new file of phenotype disease annotations with parent HPO terms removed from phenotype lists.</span>\n<span class=\"n\">disease_to_phenotype_no_parents_file</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">phenopy_data_directory</span><span class=\"p\">,</span> <span class=\"s1\">'phenotype.noparents.hpoa'</span><span class=\"p\">)</span> \n<span class=\"n\">export_phenotype_hpoa_with_no_parents</span><span class=\"p\">(</span><span class=\"n\">disease_to_phenotype_file</span><span class=\"p\">,</span> <span class=\"n\">disease_to_phenotype_no_parents_file</span><span class=\"p\">,</span> <span class=\"n\">hpo_network</span><span class=\"p\">)</span>\n</pre>\n<h3>Config</h3>\n<p>While we recommend using the default settings for most users, the config file <em>can be</em> modified: <code>$HOME/.phenopy/phenopy.ini</code>.</p>\n<p>To run phenopy with a different version of <code>hp.obo</code>, set the path of <code>obo_file</code> in <code>$HOME/.phenopy/phenopy.ini</code>.</p>\n<h2>Contributing</h2>\n<p>We welcome contributions from the community. Please follow these steps to setup a local development environment.</p>\n<pre>pipenv install --dev\n</pre>\n<p>To run tests locally:</p>\n<pre>pipenv shell\ncoverage run --source<span class=\"o\">=</span>. -m unittest discover --start-directory tests/\ncoverage report -m\n</pre>\n<h2>References</h2>\n<p>The underlying algorithm which determines the semantic similarity for any two HPO terms is based on an implementation of HRSS, <a href=\"https://www.ncbi.nlm.nih.gov/pubmed/23741529\" rel=\"nofollow\">published here</a>.</p>\n<h2>Citing Phenopy</h2>\n<p>Please use the following Bibtex to cite this software.</p>\n<pre><code>@software{arvai_phenopy_2019,\n    title = {Phenopy},\n    rights = {Attribution-NonCommercial-ShareAlike 4.0 International},\n    url = {https://github.com/GeneDx/phenopy},\n    abstract = {Phenopy is a Python package to perform phenotype similarity scoring by semantic similarity. \n        Phenopy is a lightweight but highly optimized command line tool and library to efficiently perform semantic \n        similarity scoring on generic entities with phenotype annotations from the Human Phenotype Ontology (HPO).},\n    version = {0.3.0},\n    author = {Arvai, Kevin and Borroto, Carlos and Gainullin, Vladimir and Retterer, Kyle},\n    date = {2019-11-05},\n    year = {2019},\n    doi = {10.5281/zenodo.3529569}\n}\n</code></pre>\n\n          </div>"}, "last_serial": 6748952, "releases": {"0.2.1": [{"comment_text": "", "digests": {"md5": "8a88c89070b7d95affa2849dcd4aca5c", "sha256": "20940378938674bfff6b7015151052d02ac3affdf86032f64e0a0ea6e5698e7a"}, "downloads": -1, "filename": "phenopy-0.2.1-py3-none-any.whl", "has_sig": false, "md5_digest": "8a88c89070b7d95affa2849dcd4aca5c", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 25726, "upload_time": "2019-09-10T15:56:01", "upload_time_iso_8601": "2019-09-10T15:56:01.515794Z", "url": "https://files.pythonhosted.org/packages/63/5f/cb0157235f05c82d63e540ef5f08e2ab868d29c6b1d8f837e2dc141c6fe0/phenopy-0.2.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "aa1769320134c7bfa191af8816905e47", "sha256": "6c0b9044a1190b8ad6abbe0eec2fde36c3343303130347f40642348bc1d9f039"}, "downloads": -1, "filename": "phenopy-0.2.1.tar.gz", "has_sig": false, "md5_digest": "aa1769320134c7bfa191af8816905e47", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16451, "upload_time": "2019-09-10T15:56:04", "upload_time_iso_8601": "2019-09-10T15:56:04.602800Z", "url": "https://files.pythonhosted.org/packages/bb/af/95861bcf98efee21649e8bd7c4e284672d26cbd2823e48a0785989a6f8a1/phenopy-0.2.1.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "8b29bfcac9aa1d00ff3eef30c3fed64f", "sha256": "e52cd9049aea297f1e8776b7b3f34a7f4c1cf432ef888bec03c04415dbd6d9d1"}, "downloads": -1, "filename": "phenopy-0.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "8b29bfcac9aa1d00ff3eef30c3fed64f", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 31909, "upload_time": "2019-11-05T15:09:50", "upload_time_iso_8601": "2019-11-05T15:09:50.490125Z", "url": "https://files.pythonhosted.org/packages/72/c7/5c8a180693e5b75cb4b2bcf6c80af22cac0718c6e54785c0c8fe71f00a34/phenopy-0.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "a7615e3934fd9ae4e8fa3f05d6757ef6", "sha256": "560f23b55b8fd7ae09e22d46e590f991d116cdb81fa46d8e8a45e824a7ddbbef"}, "downloads": -1, "filename": "phenopy-0.3.0.tar.gz", "has_sig": false, "md5_digest": "a7615e3934fd9ae4e8fa3f05d6757ef6", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 22587, "upload_time": "2019-11-05T15:09:52", "upload_time_iso_8601": "2019-11-05T15:09:52.281133Z", "url": "https://files.pythonhosted.org/packages/6b/0e/5b1ac809fc3c0f87ebe7913b226f53403bfd8265ffa45b3ae0133fa112dd/phenopy-0.3.0.tar.gz", "yanked": false}], "0.3.2": [{"comment_text": "", "digests": {"md5": "6dc8795cd3c0875cb3bfcb343d03a8c7", "sha256": "35184598a68d73f25d27e7ce10c45e1f4750ec7f80aa7719abc2993ffd3e0270"}, "downloads": -1, "filename": "phenopy-0.3.2-py3-none-any.whl", "has_sig": false, "md5_digest": "6dc8795cd3c0875cb3bfcb343d03a8c7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 32233, "upload_time": "2019-12-09T14:58:10", "upload_time_iso_8601": "2019-12-09T14:58:10.861480Z", "url": "https://files.pythonhosted.org/packages/3b/0d/9da737ccee30b1db45c276470b4f9c1eb974e6db8937a00eda6f7bc429e8/phenopy-0.3.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "57243105d3ceb2173431b764a61ef6ca", "sha256": "b97d4c27f25bea73b3012bedbdd283d459c55b5f70cd566902f9ff913a5bac2e"}, "downloads": -1, "filename": "phenopy-0.3.2.tar.gz", "has_sig": false, "md5_digest": "57243105d3ceb2173431b764a61ef6ca", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23331, "upload_time": "2019-12-09T14:58:12", "upload_time_iso_8601": "2019-12-09T14:58:12.478654Z", "url": "https://files.pythonhosted.org/packages/2a/58/479dce8e83501ad65c70c1ffa9fdcc77f98baea497f50995d2590722f0e6/phenopy-0.3.2.tar.gz", "yanked": false}], "0.4.0": [{"comment_text": "", "digests": {"md5": "5effcf6c861f1c4c0d513a31e851af10", "sha256": "410e2fbcf987f07e67afed356ea93d8c285279b7a627e374710e840e2a6c5de1"}, "downloads": -1, "filename": "phenopy-0.4.0-py3-none-any.whl", "has_sig": false, "md5_digest": "5effcf6c861f1c4c0d513a31e851af10", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 33177, "upload_time": "2020-03-04T16:32:11", "upload_time_iso_8601": "2020-03-04T16:32:11.678933Z", "url": "https://files.pythonhosted.org/packages/34/3f/4d05be6e2f76972bddf1c7e81e23c3873945d328325f6483eebb1bd671d6/phenopy-0.4.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "20db97d110fbfef29fe2b613a17faa8e", "sha256": "9442ed95751320af602137e10ea4faeee174c869d4a06c144e3c516763f6af8f"}, "downloads": -1, "filename": "phenopy-0.4.0.tar.gz", "has_sig": false, "md5_digest": "20db97d110fbfef29fe2b613a17faa8e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23983, "upload_time": "2020-03-04T16:32:13", "upload_time_iso_8601": "2020-03-04T16:32:13.107702Z", "url": "https://files.pythonhosted.org/packages/8f/18/6241f2cdcf2fdecd67e64d17e29a902844f9bd9c31ff93cbbfe38355fbe6/phenopy-0.4.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5effcf6c861f1c4c0d513a31e851af10", "sha256": "410e2fbcf987f07e67afed356ea93d8c285279b7a627e374710e840e2a6c5de1"}, "downloads": -1, "filename": "phenopy-0.4.0-py3-none-any.whl", "has_sig": false, "md5_digest": "5effcf6c861f1c4c0d513a31e851af10", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 33177, "upload_time": "2020-03-04T16:32:11", "upload_time_iso_8601": "2020-03-04T16:32:11.678933Z", "url": "https://files.pythonhosted.org/packages/34/3f/4d05be6e2f76972bddf1c7e81e23c3873945d328325f6483eebb1bd671d6/phenopy-0.4.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "20db97d110fbfef29fe2b613a17faa8e", "sha256": "9442ed95751320af602137e10ea4faeee174c869d4a06c144e3c516763f6af8f"}, "downloads": -1, "filename": "phenopy-0.4.0.tar.gz", "has_sig": false, "md5_digest": "20db97d110fbfef29fe2b613a17faa8e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 23983, "upload_time": "2020-03-04T16:32:13", "upload_time_iso_8601": "2020-03-04T16:32:13.107702Z", "url": "https://files.pythonhosted.org/packages/8f/18/6241f2cdcf2fdecd67e64d17e29a902844f9bd9c31ff93cbbfe38355fbe6/phenopy-0.4.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 02:55:33 2020"}
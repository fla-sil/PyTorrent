{"info": {"author": "Raphael Michel", "author_email": "mail@raphaelmichel.de", "bugtrack_url": null, "classifiers": ["Environment :: Web Environment", "Framework :: Django", "Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Operating System :: OS Independent", "Programming Language :: Python"], "description": "==========================\ndjango-formset-js-improved\n==========================\n\n**This is a fork of django-formset-js that adds support for reordering and nested formsets.**\n\nThe fork was done because the original author (Tim Heap) did not get around merging my PRs and I \nneed this to be on PyPI so I can depend on it. Please don't expect this fork to be permanently\nmaintained.\n\nA wrapper for a JavaScript formset helper.\n\nInstalling\n----------\n\nInstall via pip::\n\n    pip install django-formset-js-improved\n\nThen add it and its dependancy ``django-jquery-js``\nto your ``INSTALLED_APPS``:\n\n.. code-block:: python\n\n    INSTALLED_APPS += (\n        'django.contrib.staticfiles',\n        'jquery',\n        'djangoformsetjs',\n    )\n\nUsing\n-----\n\nInclude the JavaScript library\n******************************\n\nBoth jQuery and this library must be included in your page.\nThe simplest way to do this is to add the scripts as media dependencies on your form:\n\n.. code-block:: python\n\n    from djangoformsetjs.utils import formset_media_js\n\n    class MyForm(forms.Form):\n        class Media(object):\n            js = formset_media_js + (\n                # Other form media here\n            )\n\n    MyFormSet = formset_factory(MyForm)\n\nAnd then include the Media of the form in your template:\n\n.. code-block:: html+django\n\n    {{ formset.media }}\n\nAlternatively, simply add the script tags:\n\n.. code-block:: html+django\n\n    <script src=\"{{ STATIC_URL }}js/jquery.js\"></script>\n    <script src=\"{{ STATIC_URL }}js/jquery.formset.js\"></script>\n\nRender the formset\n******************\n\nSo that the library can work with your formset,\ncertain blocks of your formset need to be marked up with ``data-formset-...`` attributes:\n\n.. code-block:: html+django\n\n    {% load formset_tags %}\n\n    <div id=\"formset\" data-formset-prefix=\"{{ formset.prefix }}\">\n        {{ formset.management_form }}\n\n        <div data-formset-body>\n            <!-- New forms will be inserted in here -->\n            {% for form in formset %}\n                <div data-formset-form>\n                    {{ form }}\n                    <button type=\"button\" data-formset-move-up-button>Move up</button>\n                    <button type=\"button\" data-formset-move-down-button>Move down</button>\n                    <button type=\"button\" data-formset-delete-button>Delete form</button>\n                </div>\n            {% endfor %}\n        </div>\n\n        <!-- The empty form template. By wrapping this in a <script> tag, the\n        __prefix__ placeholder can easily be replaced in both attributes and\n        any scripts -->\n        <script type=\"form-template\" data-formset-empty-form>\n            {% escapescript %}\n                <div data-formset-form>\n                    {{ formset.empty_form }}\n                    <button type=\"button\" data-formset-move-up-button>Move up</button>\n                    <button type=\"button\" data-formset-move-down-button>Move down</button>\n                    <button type=\"button\" data-formset-delete-button>Delete form</button>\n                </div>\n            {% endescapescript %}\n        </script>\n\n        <!-- This button will add a new form when clicked -->\n        <input type=\"button\" value=\"Add another\" data-formset-add>\n\n        <script>jQuery(function($) {\n            $(\"#formset\").formset({\n                animateForms: true,\n                reorderMode: 'dom',\n            });\n        });</script>\n\n    </div>\n\nThe ``data-formset-`` data attributes are:\n\n``data-formset-prefix``\n  The value of ``{{ formset.prefix }}``.\n  This is used to find the management form.\n\n``data-formset-body``\n  This indicates where all the child forms are.\n  New forms are inserted in here.\n\n``data-formset-form``\n  Every form (including the empty form) should have this attribute.\n\n``data-formset-empty-form``\n  The element that contains the empty form template.\n  For best results, use a ``<script>`` tag.\n\n``data-formset-add``\n  A button that adds a new form.\n\n``data-formset-delete-button``\n  A button that deletes that form.\n\n``data-formset-move-up-button``\n  A button that moves that form one row up in a sortable formset.\n\n``data-formset-move-down-button``\n  A button that moves that form one row down in a sortable formset.\n\nThe empty form template is wrapped in a ``<script>`` as plain text.\nThis stops any JavaScript attached to widgets from running upon page load,\nand makes finding and replacing the ``__prefix__`` placeholder easier.\nThe contents of the ``<script>`` should be wrapped in a ``{% escapescript %}`` block\nto prevent any script tags inside from closing the wrapping script tag prematurely.\n\nWhen the ``data-formset-add`` button is clicked, the ``formAdded`` event is\nfired on the form which was added. This event propagates upwards, and as such\ncan be handled from the form container.\nFor example, to select the new form added for form additions from the above\nexample, bind as such:\n\n.. code-block:: javascript\n\n    $('#formset').on('formAdded', function(event) {\n        newForm = event.target;\n        //Do Stuff\n    });\n\nIf the forms can be deleted, and contain a delete checkbox,\nthe following actions occur:\n\n* When the checkbox is checked, marking the form for deletion,\n  the ``formDeleted`` event is fired on the ``data-formset-form`` container,\n  and the ``data-formset-form-deleted`` attribute is added.\n\n* When the checkbox is unchecked, marking the form as active again,\n  the ``formAdded`` event is fired on the ``data-formset-form`` container,\n  and the ``data-formset-form-deleted`` attribute is removed.\n\nIf the forms can be deleted, and contain a delete button,\npressing the delete button will toggle the delete checkbox for that form.\nThe ``DELETE`` field should be hidden if the delete button is used.\nThe delete button is identified by the ``data-formset-delete-button`` attribute:\n\n.. code-block:: html+django\n\n    {% for form in formset %}\n        <div data-formset-form>\n            {{ form.name }}\n            {{ form.age }}\n\n            <div class=\"hidden\">{{ form.DELETE }}</div>\n            <button type=\"button\" data-formset-delete-button>Delete form</button>\n        </div>\n    {% endfor %}\n\nIf the ``animateForms`` option is set when the formset is created,\nadding and deleting forms will be animated by sliding the forms in and out.\n\nIf the forms can be ordered and contain a order input field, it is expected\nthat the forms are in order on page load\n\nIf the forms contain two ordering buttons, identified by ``data-formset-move-up-button``\nand ``data-formset-move-down-button``, those buttons modify the value in the\norder input field by swapping it's value with the closest lower or higher value.\nIn this case, the ``ORDER`` field should be hidden.\n\nIf the ``reorderMode`` option is set to ``dom``, the forms will change their places\nin the DOM each time one of the ``ORDER`` fields is being changed. If it is set to\n``animate``, they will be sliding onto their new places. **Attention**: The animated\nordering feature has to make assumptions about your markup and CSS, e.g. that both your\nformset container (``data-formset-body``) and your form (``data-formset-form``) are ``div``\nelements and can be to ``position: relative``/``position: absolute`` for the the time of\nthe animation without harm. *This might not work for you out of the box*.\n\nOptions\n*******\n\nThe jQuery plugin takes the following options:\n\n``form``:\n  The selector to find forms.\n  Defaults to ``[data-formset-form]``.\n\n``emptyForm``:\n  The selector to find the empty form template.\n  Defaults to ``script[type=form-template][data-formset-empty-form]``.\n\n``body``:\n  The selector to find the formset body.\n  New forms will be inserted at the bottom of this element.\n  Defaults to ``[data-formset-body]``.\n\n``add``:\n  The selector to find the add button.\n  Defaults to ``[data-formset-add]``.\n\n``deleteButton``:\n  The selector to find the delete button within a form.\n  Defaults to ``[data-formset-delete-button]``.\n\n``hasMaxFormsClass``:\n  The class added to the formset when the maximum number of forms is reached.\n  The maximum number of forms is pulled from the management form.\n  Defaults to ``has-max-forms``.\n\n``animateForms``:\n  Whether to animate form addition/deletion.\n\n``reorderMode``:\n  Can be ``none``, ``dom`` or ``animate``, see above for an explaination.\n  Defaults to ``none``.\n  Defaults to ``false``.\n\nJavascript API\n--------------\n\nIf the bundled functionality is not for you,\nyou can interact with the formset using the JavaScript API.\nAll the behaviour is driven by a ``Formset`` class.\nTo get a ``Formset`` for an element, call:\n\n.. code-block:: javascript\n\n    var formset = $('#my-form').formset('getOrCreate');\n\nThis can be called multiple times on a single element,\nand will always return the same ``Formset`` instance.\nAll the methods and attributes listed below operate on a ``Formset`` instance.\n\n``Formset.opts``\n    The options used to create this ``Formset``.\n\n``Formset.$formset``\n    The element the ``Formset`` was created for.\n\n``Formset.$emptyForm``\n    The empty form template used to create new forms.\n\n``Formset.$body``\n    The element where new forms are created.\n\n``Formset.$add``\n    The button used to add new forms.\n\n``Formset.addForm()``\n    Add a form to the ``Formset``.\n    If the maximum number of forms would be exceeded if another form was added,\n    an error will be thrown.\n\n``Formset.$forms()``\n    Get a jQuery object of all the forms in the ``Formset``.\n\n``Formset.$managementForm(field)``\n    Get a jQuery object for the management form field ``field``:\n\n    .. code-block:: javascript\n\n        // Update the TOTAL_FORMS management form field\n        this.$managementForm('TOTAL_FORMS').val(10);\n\n``Formset.totalFormCount()``\n    Count the total number of forms in the ``Formset``, including deleted forms.\n\n``Formset.activeFormCount()``\n    Count the total number of active (not deleted) forms in the ``Formset``.\n\n``Formset.deletedFormCount()``\n    Count the number of deleted forms in the ``Formset``.\n\n``Formset.hasMaxForms()``\n    Return true if the ``Formset`` has its maximum number of forms.\n\n``Formset.checkMaxForms()``\n    Check how many forms are in the ``Formset``,\n    and set the relevant classes on the ``Formset`` element\n    if the ``Formset`` has reached its limit.\n\n``empty_prefix``:\n  The prefix placeholder your formset uses for the empty form. This is only\n  needed when you subclass FormSet to change this and defaults to ``__prefix__``.\n\n\nExample\n-------\n\nA minimal example project is provided in the ``example/`` directory.\nRead ``example/README`` for more information\n\nDeveloping\n----------\n\nWhen running ``./setup.py sdist``, the JavaScript asset is minified using\nUglifyJS if it is installed. To install UglifyJS, install node.js and npm, and\nrun::\n\n    npm install uglifyjs\n\nYou can minify the scripts manually using::\n\n    ./setup.py minify\n", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/pretix/django-formset-js", "keywords": "", "license": "BSD", "maintainer": "", "maintainer_email": "", "name": "django-formset-js-improved", "package_url": "https://pypi.org/project/django-formset-js-improved/", "platform": "", "project_url": "https://pypi.org/project/django-formset-js-improved/", "project_urls": {"Homepage": "https://github.com/pretix/django-formset-js"}, "release_url": "https://pypi.org/project/django-formset-js-improved/0.5.0.2/", "requires_dist": null, "requires_python": "", "summary": "Extend Django formsets with JavaScript", "version": "0.5.0.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <p><strong>This is a fork of django-formset-js that adds support for reordering and nested formsets.</strong></p>\n<p>The fork was done because the original author (Tim Heap) did not get around merging my PRs and I\nneed this to be on PyPI so I can depend on it. Please don\u2019t expect this fork to be permanently\nmaintained.</p>\n<p>A wrapper for a JavaScript formset helper.</p>\n<div id=\"installing\">\n<h2>Installing</h2>\n<p>Install via pip:</p>\n<pre>pip install django-formset-js-improved\n</pre>\n<p>Then add it and its dependancy <tt><span class=\"pre\">django-jquery-js</span></tt>\nto your <tt>INSTALLED_APPS</tt>:</p>\n<pre><span class=\"n\">INSTALLED_APPS</span> <span class=\"o\">+=</span> <span class=\"p\">(</span>\n    <span class=\"s1\">'django.contrib.staticfiles'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'jquery'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'djangoformsetjs'</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n</pre>\n</div>\n<div id=\"using\">\n<h2>Using</h2>\n<div id=\"include-the-javascript-library\">\n<h3>Include the JavaScript library</h3>\n<p>Both jQuery and this library must be included in your page.\nThe simplest way to do this is to add the scripts as media dependencies on your form:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">djangoformsetjs.utils</span> <span class=\"kn\">import</span> <span class=\"n\">formset_media_js</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">MyForm</span><span class=\"p\">(</span><span class=\"n\">forms</span><span class=\"o\">.</span><span class=\"n\">Form</span><span class=\"p\">):</span>\n    <span class=\"k\">class</span> <span class=\"nc\">Media</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n        <span class=\"n\">js</span> <span class=\"o\">=</span> <span class=\"n\">formset_media_js</span> <span class=\"o\">+</span> <span class=\"p\">(</span>\n            <span class=\"c1\"># Other form media here</span>\n        <span class=\"p\">)</span>\n\n<span class=\"n\">MyFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">MyForm</span><span class=\"p\">)</span>\n</pre>\n<p>And then include the Media of the form in your template:</p>\n<pre><span class=\"cp\">{{</span> <span class=\"nv\">formset.media</span> <span class=\"cp\">}}</span>\n</pre>\n<p>Alternatively, simply add the script tags:</p>\n<pre><span class=\"p\">&lt;</span><span class=\"nt\">script</span> <span class=\"na\">src</span><span class=\"o\">=</span><span class=\"s\">\"</span><span class=\"cp\">{{</span> <span class=\"nv\">STATIC_URL</span> <span class=\"cp\">}}</span><span class=\"s\">js/jquery.js\"</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">script</span> <span class=\"na\">src</span><span class=\"o\">=</span><span class=\"s\">\"</span><span class=\"cp\">{{</span> <span class=\"nv\">STATIC_URL</span> <span class=\"cp\">}}</span><span class=\"s\">js/jquery.formset.js\"</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n</pre>\n</div>\n<div id=\"render-the-formset\">\n<h3>Render the formset</h3>\n<p>So that the library can work with your formset,\ncertain blocks of your formset need to be marked up with <tt><span class=\"pre\">data-formset-...</span></tt> attributes:</p>\n<pre><span class=\"cp\">{%</span> <span class=\"k\">load</span> <span class=\"nv\">formset_tags</span> <span class=\"cp\">%}</span>\n\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">\"formset\"</span> <span class=\"na\">data-formset-prefix</span><span class=\"o\">=</span><span class=\"s\">\"</span><span class=\"cp\">{{</span> <span class=\"nv\">formset.prefix</span> <span class=\"cp\">}}</span><span class=\"s\">\"</span><span class=\"p\">&gt;</span>\n    <span class=\"cp\">{{</span> <span class=\"nv\">formset.management_form</span> <span class=\"cp\">}}</span>\n\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">data-formset-body</span><span class=\"p\">&gt;</span>\n        <span class=\"c\">&lt;!-- New forms will be inserted in here --&gt;</span>\n        <span class=\"cp\">{%</span> <span class=\"k\">for</span> <span class=\"nv\">form</span> <span class=\"k\">in</span> <span class=\"nv\">formset</span> <span class=\"cp\">%}</span>\n            <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">data-formset-form</span><span class=\"p\">&gt;</span>\n                <span class=\"cp\">{{</span> <span class=\"nv\">form</span> <span class=\"cp\">}}</span>\n                <span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"button\"</span> <span class=\"na\">data-formset-move-up-button</span><span class=\"p\">&gt;</span>Move up<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n                <span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"button\"</span> <span class=\"na\">data-formset-move-down-button</span><span class=\"p\">&gt;</span>Move down<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n                <span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"button\"</span> <span class=\"na\">data-formset-delete-button</span><span class=\"p\">&gt;</span>Delete form<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n            <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"cp\">{%</span> <span class=\"k\">endfor</span> <span class=\"cp\">%}</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n\n    <span class=\"c\">&lt;!-- The empty form template. By wrapping this in a &lt;script&gt; tag, the\n    __prefix__ placeholder can easily be replaced in both attributes and\n    any scripts --&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">script</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"form-template\"</span> <span class=\"na\">data-formset-empty-form</span><span class=\"p\">&gt;</span>\n        <span class=\"cp\">{%</span> <span class=\"k\">escapescript</span> <span class=\"cp\">%}</span>\n            <span class=\"o\">&lt;</span><span class=\"nx\">div</span> <span class=\"nx\">data</span><span class=\"o\">-</span><span class=\"nx\">formset</span><span class=\"o\">-</span><span class=\"nx\">form</span><span class=\"o\">&gt;</span>\n                <span class=\"cp\">{{</span> <span class=\"nv\">formset.empty_form</span> <span class=\"cp\">}}</span>\n                <span class=\"o\">&lt;</span><span class=\"nx\">button</span> <span class=\"nx\">type</span><span class=\"o\">=</span><span class=\"s2\">\"button\"</span> <span class=\"nx\">data</span><span class=\"o\">-</span><span class=\"nx\">formset</span><span class=\"o\">-</span><span class=\"nx\">move</span><span class=\"o\">-</span><span class=\"nx\">up</span><span class=\"o\">-</span><span class=\"nx\">button</span><span class=\"o\">&gt;</span><span class=\"nx\">Move</span> <span class=\"nx\">up</span><span class=\"o\">&lt;</span><span class=\"err\">/button&gt;</span>\n                <span class=\"o\">&lt;</span><span class=\"nx\">button</span> <span class=\"nx\">type</span><span class=\"o\">=</span><span class=\"s2\">\"button\"</span> <span class=\"nx\">data</span><span class=\"o\">-</span><span class=\"nx\">formset</span><span class=\"o\">-</span><span class=\"nx\">move</span><span class=\"o\">-</span><span class=\"nx\">down</span><span class=\"o\">-</span><span class=\"nx\">button</span><span class=\"o\">&gt;</span><span class=\"nx\">Move</span> <span class=\"nx\">down</span><span class=\"o\">&lt;</span><span class=\"err\">/button&gt;</span>\n                <span class=\"o\">&lt;</span><span class=\"nx\">button</span> <span class=\"nx\">type</span><span class=\"o\">=</span><span class=\"s2\">\"button\"</span> <span class=\"nx\">data</span><span class=\"o\">-</span><span class=\"nx\">formset</span><span class=\"o\">-</span><span class=\"k\">delete</span><span class=\"o\">-</span><span class=\"nx\">button</span><span class=\"o\">&gt;</span><span class=\"nx\">Delete</span> <span class=\"nx\">form</span><span class=\"o\">&lt;</span><span class=\"err\">/button&gt;</span>\n            <span class=\"o\">&lt;</span><span class=\"err\">/div&gt;</span>\n        <span class=\"cp\">{%</span> <span class=\"k\">endescapescript</span> <span class=\"cp\">%}</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n\n    <span class=\"c\">&lt;!-- This button will add a new form when clicked --&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"button\"</span> <span class=\"na\">value</span><span class=\"o\">=</span><span class=\"s\">\"Add another\"</span> <span class=\"na\">data-formset-add</span><span class=\"p\">&gt;</span>\n\n    <span class=\"p\">&lt;</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span><span class=\"nx\">jQuery</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"#formset\"</span><span class=\"p\">).</span><span class=\"nx\">formset</span><span class=\"p\">({</span>\n            <span class=\"nx\">animateForms</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n            <span class=\"nx\">reorderMode</span><span class=\"o\">:</span> <span class=\"s1\">'dom'</span><span class=\"p\">,</span>\n        <span class=\"p\">});</span>\n    <span class=\"p\">});&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n</pre>\n<p>The <tt><span class=\"pre\">data-formset-</span></tt> data attributes are:</p>\n<dl>\n<dt><tt><span class=\"pre\">data-formset-prefix</span></tt></dt>\n<dd>The value of <tt>{{ formset.prefix }}</tt>.\nThis is used to find the management form.</dd>\n<dt><tt><span class=\"pre\">data-formset-body</span></tt></dt>\n<dd>This indicates where all the child forms are.\nNew forms are inserted in here.</dd>\n<dt><tt><span class=\"pre\">data-formset-form</span></tt></dt>\n<dd>Every form (including the empty form) should have this attribute.</dd>\n<dt><tt><span class=\"pre\">data-formset-empty-form</span></tt></dt>\n<dd>The element that contains the empty form template.\nFor best results, use a <tt>&lt;script&gt;</tt> tag.</dd>\n<dt><tt><span class=\"pre\">data-formset-add</span></tt></dt>\n<dd>A button that adds a new form.</dd>\n<dt><tt><span class=\"pre\">data-formset-delete-button</span></tt></dt>\n<dd>A button that deletes that form.</dd>\n<dt><tt><span class=\"pre\">data-formset-move-up-button</span></tt></dt>\n<dd>A button that moves that form one row up in a sortable formset.</dd>\n<dt><tt><span class=\"pre\">data-formset-move-down-button</span></tt></dt>\n<dd>A button that moves that form one row down in a sortable formset.</dd>\n</dl>\n<p>The empty form template is wrapped in a <tt>&lt;script&gt;</tt> as plain text.\nThis stops any JavaScript attached to widgets from running upon page load,\nand makes finding and replacing the <tt>__prefix__</tt> placeholder easier.\nThe contents of the <tt>&lt;script&gt;</tt> should be wrapped in a <tt>{% escapescript %}</tt> block\nto prevent any script tags inside from closing the wrapping script tag prematurely.</p>\n<p>When the <tt><span class=\"pre\">data-formset-add</span></tt> button is clicked, the <tt>formAdded</tt> event is\nfired on the form which was added. This event propagates upwards, and as such\ncan be handled from the form container.\nFor example, to select the new form added for form additions from the above\nexample, bind as such:</p>\n<pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#formset'</span><span class=\"p\">).</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'formAdded'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">newForm</span> <span class=\"o\">=</span> <span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">target</span><span class=\"p\">;</span>\n    <span class=\"c1\">//Do Stuff\n</span><span class=\"p\">});</span>\n</pre>\n<p>If the forms can be deleted, and contain a delete checkbox,\nthe following actions occur:</p>\n<ul>\n<li>When the checkbox is checked, marking the form for deletion,\nthe <tt>formDeleted</tt> event is fired on the <tt><span class=\"pre\">data-formset-form</span></tt> container,\nand the <tt><span class=\"pre\">data-formset-form-deleted</span></tt> attribute is added.</li>\n<li>When the checkbox is unchecked, marking the form as active again,\nthe <tt>formAdded</tt> event is fired on the <tt><span class=\"pre\">data-formset-form</span></tt> container,\nand the <tt><span class=\"pre\">data-formset-form-deleted</span></tt> attribute is removed.</li>\n</ul>\n<p>If the forms can be deleted, and contain a delete button,\npressing the delete button will toggle the delete checkbox for that form.\nThe <tt>DELETE</tt> field should be hidden if the delete button is used.\nThe delete button is identified by the <tt><span class=\"pre\">data-formset-delete-button</span></tt> attribute:</p>\n<pre><span class=\"cp\">{%</span> <span class=\"k\">for</span> <span class=\"nv\">form</span> <span class=\"k\">in</span> <span class=\"nv\">formset</span> <span class=\"cp\">%}</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">data-formset-form</span><span class=\"p\">&gt;</span>\n        <span class=\"cp\">{{</span> <span class=\"nv\">form.name</span> <span class=\"cp\">}}</span>\n        <span class=\"cp\">{{</span> <span class=\"nv\">form.age</span> <span class=\"cp\">}}</span>\n\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"hidden\"</span><span class=\"p\">&gt;</span><span class=\"cp\">{{</span> <span class=\"nv\">form.DELETE</span> <span class=\"cp\">}}</span><span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"button\"</span> <span class=\"na\">data-formset-delete-button</span><span class=\"p\">&gt;</span>Delete form<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n<span class=\"cp\">{%</span> <span class=\"k\">endfor</span> <span class=\"cp\">%}</span>\n</pre>\n<p>If the <tt>animateForms</tt> option is set when the formset is created,\nadding and deleting forms will be animated by sliding the forms in and out.</p>\n<p>If the forms can be ordered and contain a order input field, it is expected\nthat the forms are in order on page load</p>\n<p>If the forms contain two ordering buttons, identified by <tt><span class=\"pre\">data-formset-move-up-button</span></tt>\nand <tt><span class=\"pre\">data-formset-move-down-button</span></tt>, those buttons modify the value in the\norder input field by swapping it\u2019s value with the closest lower or higher value.\nIn this case, the <tt>ORDER</tt> field should be hidden.</p>\n<p>If the <tt>reorderMode</tt> option is set to <tt>dom</tt>, the forms will change their places\nin the DOM each time one of the <tt>ORDER</tt> fields is being changed. If it is set to\n<tt>animate</tt>, they will be sliding onto their new places. <strong>Attention</strong>: The animated\nordering feature has to make assumptions about your markup and CSS, e.g. that both your\nformset container (<tt><span class=\"pre\">data-formset-body</span></tt>) and your form (<tt><span class=\"pre\">data-formset-form</span></tt>) are <tt>div</tt>\nelements and can be to <tt>position: relative</tt>/<tt>position: absolute</tt> for the the time of\nthe animation without harm. <em>This might not work for you out of the box</em>.</p>\n</div>\n<div id=\"options\">\n<h3>Options</h3>\n<p>The jQuery plugin takes the following options:</p>\n<dl>\n<dt><tt>form</tt>:</dt>\n<dd>The selector to find forms.\nDefaults to <tt><span class=\"pre\">[data-formset-form]</span></tt>.</dd>\n<dt><tt>emptyForm</tt>:</dt>\n<dd>The selector to find the empty form template.\nDefaults to <tt><span class=\"pre\">script[type=form-template][data-formset-empty-form]</span></tt>.</dd>\n<dt><tt>body</tt>:</dt>\n<dd>The selector to find the formset body.\nNew forms will be inserted at the bottom of this element.\nDefaults to <tt><span class=\"pre\">[data-formset-body]</span></tt>.</dd>\n<dt><tt>add</tt>:</dt>\n<dd>The selector to find the add button.\nDefaults to <tt><span class=\"pre\">[data-formset-add]</span></tt>.</dd>\n<dt><tt>deleteButton</tt>:</dt>\n<dd>The selector to find the delete button within a form.\nDefaults to <tt><span class=\"pre\">[data-formset-delete-button]</span></tt>.</dd>\n<dt><tt>hasMaxFormsClass</tt>:</dt>\n<dd>The class added to the formset when the maximum number of forms is reached.\nThe maximum number of forms is pulled from the management form.\nDefaults to <tt><span class=\"pre\">has-max-forms</span></tt>.</dd>\n<dt><tt>animateForms</tt>:</dt>\n<dd>Whether to animate form addition/deletion.</dd>\n<dt><tt>reorderMode</tt>:</dt>\n<dd>Can be <tt>none</tt>, <tt>dom</tt> or <tt>animate</tt>, see above for an explaination.\nDefaults to <tt>none</tt>.\nDefaults to <tt>false</tt>.</dd>\n</dl>\n</div>\n</div>\n<div id=\"javascript-api\">\n<h2>Javascript API</h2>\n<p>If the bundled functionality is not for you,\nyou can interact with the formset using the JavaScript API.\nAll the behaviour is driven by a <tt>Formset</tt> class.\nTo get a <tt>Formset</tt> for an element, call:</p>\n<pre><span class=\"kd\">var</span> <span class=\"nx\">formset</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#my-form'</span><span class=\"p\">).</span><span class=\"nx\">formset</span><span class=\"p\">(</span><span class=\"s1\">'getOrCreate'</span><span class=\"p\">);</span>\n</pre>\n<p>This can be called multiple times on a single element,\nand will always return the same <tt>Formset</tt> instance.\nAll the methods and attributes listed below operate on a <tt>Formset</tt> instance.</p>\n<dl>\n<dt><tt>Formset.opts</tt></dt>\n<dd>The options used to create this <tt>Formset</tt>.</dd>\n<dt><tt><span class=\"pre\">Formset.$formset</span></tt></dt>\n<dd>The element the <tt>Formset</tt> was created for.</dd>\n<dt><tt><span class=\"pre\">Formset.$emptyForm</span></tt></dt>\n<dd>The empty form template used to create new forms.</dd>\n<dt><tt><span class=\"pre\">Formset.$body</span></tt></dt>\n<dd>The element where new forms are created.</dd>\n<dt><tt><span class=\"pre\">Formset.$add</span></tt></dt>\n<dd>The button used to add new forms.</dd>\n<dt><tt>Formset.addForm()</tt></dt>\n<dd>Add a form to the <tt>Formset</tt>.\nIf the maximum number of forms would be exceeded if another form was added,\nan error will be thrown.</dd>\n<dt><tt><span class=\"pre\">Formset.$forms()</span></tt></dt>\n<dd>Get a jQuery object of all the forms in the <tt>Formset</tt>.</dd>\n<dt><tt><span class=\"pre\">Formset.$managementForm(field)</span></tt></dt>\n<dd><p>Get a jQuery object for the management form field <tt>field</tt>:</p>\n<pre><span class=\"c1\">// Update the TOTAL_FORMS management form field\n</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">$managementForm</span><span class=\"p\">(</span><span class=\"s1\">'TOTAL_FORMS'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">);</span>\n</pre>\n</dd>\n<dt><tt>Formset.totalFormCount()</tt></dt>\n<dd>Count the total number of forms in the <tt>Formset</tt>, including deleted forms.</dd>\n<dt><tt>Formset.activeFormCount()</tt></dt>\n<dd>Count the total number of active (not deleted) forms in the <tt>Formset</tt>.</dd>\n<dt><tt>Formset.deletedFormCount()</tt></dt>\n<dd>Count the number of deleted forms in the <tt>Formset</tt>.</dd>\n<dt><tt>Formset.hasMaxForms()</tt></dt>\n<dd>Return true if the <tt>Formset</tt> has its maximum number of forms.</dd>\n<dt><tt>Formset.checkMaxForms()</tt></dt>\n<dd>Check how many forms are in the <tt>Formset</tt>,\nand set the relevant classes on the <tt>Formset</tt> element\nif the <tt>Formset</tt> has reached its limit.</dd>\n<dt><tt>empty_prefix</tt>:</dt>\n<dd>The prefix placeholder your formset uses for the empty form. This is only\nneeded when you subclass FormSet to change this and defaults to <tt>__prefix__</tt>.</dd>\n</dl>\n</div>\n<div id=\"example\">\n<h2>Example</h2>\n<p>A minimal example project is provided in the <tt>example/</tt> directory.\nRead <tt>example/README</tt> for more information</p>\n</div>\n<div id=\"developing\">\n<h2>Developing</h2>\n<p>When running <tt>./setup.py sdist</tt>, the JavaScript asset is minified using\nUglifyJS if it is installed. To install UglifyJS, install node.js and npm, and\nrun:</p>\n<pre>npm install uglifyjs\n</pre>\n<p>You can minify the scripts manually using:</p>\n<pre>./setup.py minify\n</pre>\n</div>\n\n          </div>"}, "last_serial": 5153882, "releases": {"0.5.0.1": [{"comment_text": "", "digests": {"md5": "0dd848e48dcc315a6b0b6c36c12c9dad", "sha256": "28de49ab9546b8d28b512e80c607e813b4d613ccb37c0f27d9c7c3a02b84da1b"}, "downloads": -1, "filename": "django_formset_js_improved-0.5.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "0dd848e48dcc315a6b0b6c36c12c9dad", "packagetype": "bdist_wheel", "python_version": "3.5", "requires_python": null, "size": 17412, "upload_time": "2017-01-04T18:32:33", "upload_time_iso_8601": "2017-01-04T18:32:33.230149Z", "url": "https://files.pythonhosted.org/packages/20/b8/ede02bb8235dd778cbf1878e7b3603a5774351699f521b3b306f24134db3/django_formset_js_improved-0.5.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "2acd70c4d1c39ed1ce15c3f86f6c5f54", "sha256": "ec36b673e745dafc4472d1c86d3d761fceba5c04aa00dbe2679a53ee6d75cc5f"}, "downloads": -1, "filename": "django-formset-js-improved-0.5.0.1.tar.gz", "has_sig": false, "md5_digest": "2acd70c4d1c39ed1ce15c3f86f6c5f54", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13259, "upload_time": "2017-01-04T18:32:22", "upload_time_iso_8601": "2017-01-04T18:32:22.851861Z", "url": "https://files.pythonhosted.org/packages/3b/bf/ec4c4d44d080d08b460913ca789c7fe2bb7449654c39297acaf0f49b9787/django-formset-js-improved-0.5.0.1.tar.gz", "yanked": false}], "0.5.0.2": [{"comment_text": "", "digests": {"md5": "e22cda3f8f4c25c09e45b057ebd2869e", "sha256": "251649ca389144728359b57d5845c601b3420fdafa2e4634668de614e14953ce"}, "downloads": -1, "filename": "django-formset-js-improved-0.5.0.2.tar.gz", "has_sig": false, "md5_digest": "e22cda3f8f4c25c09e45b057ebd2869e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13373, "upload_time": "2018-03-03T19:28:39", "upload_time_iso_8601": "2018-03-03T19:28:39.106736Z", "url": "https://files.pythonhosted.org/packages/2f/fc/ad1da35718d045c6d97b36d20695beb01a414ca732d1503d91f7c31c9c4d/django-formset-js-improved-0.5.0.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e22cda3f8f4c25c09e45b057ebd2869e", "sha256": "251649ca389144728359b57d5845c601b3420fdafa2e4634668de614e14953ce"}, "downloads": -1, "filename": "django-formset-js-improved-0.5.0.2.tar.gz", "has_sig": false, "md5_digest": "e22cda3f8f4c25c09e45b057ebd2869e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13373, "upload_time": "2018-03-03T19:28:39", "upload_time_iso_8601": "2018-03-03T19:28:39.106736Z", "url": "https://files.pythonhosted.org/packages/2f/fc/ad1da35718d045c6d97b36d20695beb01a414ca732d1503d91f7c31c9c4d/django-formset-js-improved-0.5.0.2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:36:01 2020"}
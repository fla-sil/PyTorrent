{"info": {"author": "Brian Warner", "author_email": "warner-foolscap@lothar.com", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Topic :: Internet", "Topic :: Software Development", "Topic :: System :: Distributed Computing"], "description": "git-foolscap\n============\n\n* https://github.com/warner/git-foolscap\n\ngit-foolscap is an extension for Git that allows you to publish or access Git repositories over the [Foolscap](http://foolscap.lothar.com/trac) protocol. This provides all the security benefits of ssh or authenticated HTTPS, but with a few important benefits:\n\n* downstream users do not need an account on the server: merely sharing the secret FURL string with them is enough to provide access\n* access is limited to the one repository: users do not get full shell access\n* servers are quick and easy to set up\n* users can easily be limited to read-only access\n\n## Installation\n\nJust use `pip install git-foolscap`. This will install two scripts into your $PATH: `git-foolscap` and `git-remote-pb`. The former is the main entry point, and Git will run it whenever you run `git foolscap COMMAND..`. The latter implements the remote protocol, and Git will use it whenever you access a repository whose remote URL starts with \"pb:\" (i.e. it is a FURL).\n\ngit-foolscap depends upon having Foolscap installed, which depends upon Twisted and pyOpenSSL.\n\n`git-foolscap -h` and `git-foolscap --help` will provide usage instructions. (Note that `git foolscap --help`, without the hyphen, doesn't work, because `git-foolscap` does not provide a man page).\n\n## Theory Of Operation\n\nRepositories are published by running a small server (a Foolscap \"flappserver\") which listens on a TCP port for encrypted connections. A \"FURL\" is allocated which will connect to the git remote protocol (in either read+write or read-only mode) for a specific repository. This FURL can be handed to clients, which merely use it as the URL for a standard git remote (e.g. `git clone FURL` or `git remote add NAME FURL`). Foolscap FURLs are URIs which use \"`pb:`\" as their scheme instead of \"`http:`\" or \"`https:`\".\n\nWhen a git client encounters the `pb:` FURL, it delegates control to a program named `git-remote-pb` (this is a standard feature of git, and holds true for arbitrary scheme names). The `git-remote-pb` program knows how to use Foolscap to connect to the target FURL and speak the git remote protocol through it.\n\nTechnically, this means that servers only need the `git-foolscap` executable, and clients only need the `git-remote-pb` executable, but both are distributed in the same package for simplicity.\n\n## Usage: Server\n\nSee `git foolscap --help` for full details. Basically the server does this part once:\n\n```\n% git foolscap init --port=tcp:3116 --location=tcp:HOSTNAME:3116\n% git foolscap start\n```\n\nand this part for each new client:\n\n```\n% git foolscap invite read-write \"comment about recipient\"\n```\n\nThe \"invite\" will produce a \"wormhole code\", which the receiving user must type into their \"accept\" command. The secure FURL will then be sent through the wormhole.\n\nThe FURLs can also be added (without invitation) using `git foolscap add`. It must then be cut-and-pasted to the recipient.\n\nTo provide read-only access to a single repository, replace `read-write` with `read-only`. You can create as many FURLs as you like, by running `git foolscap add` or `invite` multiple times. Each can be revoked separately. To revoke access, run `git foolscap list`, find the index number, and pass it into `git foolscap revoke`.\n\nYou may want to arrange for `git foolscap start` to be run from a cron `@reboot` job, or other boot-time startup script, to make sure that access is retained across a system reboot.\n\n    @reboot cd PATH/TO/REPO && git foolscap start\n\n## Usage: Client\n\nIf the repository owner used `git foolscap invite`, then you simply type this code into:\n\n```\n% git foolscap accept clone\n```\n\nThe client can use tab-completion on the codewords, and the wordlist is specifically designed to be reliably transcribeable over a noisy voice channel. \n\nInstead of cloning a new copy of the repository, you can add the new FURL to an existing repo, by running this command from inside the repository:\n\n```\n% git foolscap accept add-remote\n```\n\nIf the publisher used `git foolscap add` and sent you a full FURL (instead of a wormhole code), then you can just clone from it as you would a normal HTTPS (`https://github.com/warner/git-foolscap.git`) or SSH (`git@github.com:warner/git-foolscap.git`) URL. As long as you have git-foolscap installed, git will figure out how to do the right thing.\n\n## Cleaning up the FURL\n\nThe flappserver uses the `--location=` you provide to construct the \"connection hints\" portion of the FURL. This tells the client how to connect to the server. The server must have a publically-reachable address (or at least reachable by your clients), or you must configure a port-forwarding and put the externally-reachable address+port into the FURL.\n\nIf you got the hostname wrong, or if you used an IP address and it has changed, you can edit the FURL later. You can also use multiple hints, and the client will try to connect to each of them until at least one works:\n\n    pb://tvzddtbzbldthde5kdsvjvzpweifx7ae@tcp:example.com:57306,tcp:example.org:57306/jmxpcs6lsmgtuzdomxbgtfcmhgfmfbpc/my-repo\n\nThe first big random-looking string in the FURL identifies exactly which server public key is expected: it provides cryptographic assurance that the connection will go to the right server. No certificate authorities or trusted third parties are used. The second random string is a secret \"swissnum\" which securely identifies the resource being accessed (in this case, a table entry which points at a git repository and a read+write/read-only mode). Knowledge of this secret enables access: to share access, share the secret (and the rest of the FURL necessary to use it); to withhold access, don't reveal the secret.\n\n## Configuring the flappserver\n\nEach flappserver has a \"base directory\" where it keeps all its state. `git foolscap create` defaults to using `.git/foolscap/` for this purpose, creating it if necessary, then adding an entry for the new FURL.\n\nIf you publish multiple repositories, you might want to share flappservers between them, especially if you must configure a port forwarding for each server. To do this, first create the one shared server with Foolscap's `flappserver create BASEDIR` command, then use the `--flappserver=BASEDIR` argument when running `git foolscap init`. This establishes a symlink from `.git/foolscap` to the real BASEDIR, so subsequent git-foolscap commands will add an entry to that flappserver directly. If BASEDIR doesn't already exist, it will be created.\n\nNote that at present, `git foolscap init --flappserver=BASEDIR` requires the `--port=` and `--location=` arguments, even if BASEDIR already exists. However, in that case, their values are ignored in favor of the BASEDIR's existing configuration. Hopefully this will be fixed in a future release.\n\nIf you use a `@reboot` cronjob, you may want to use `flappserver start` directly, instead of `git foolscap start`.\n\n## Bugs, Patches\n\nPlease file bugs and patches for git-foolscap on the Github issue tracker, at https://github.com/warner/git-foolscap .\n\nFor bugs and patches against foolscap itself, please use the Foolscap Trac, at http://foolscap.lothar.com/trac . Foolscap source code is published on Github, at https://github.com/warner/foolscap .\n\nthanks!\n\n\n", "description_content_type": "", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/warner/git-foolscap", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "git-foolscap", "package_url": "https://pypi.org/project/git-foolscap/", "platform": "any", "project_url": "https://pypi.org/project/git-foolscap/", "project_urls": {"Homepage": "https://github.com/warner/git-foolscap"}, "release_url": "https://pypi.org/project/git-foolscap/0.4/", "requires_dist": ["foolscap (>=0.8.0)", "magic-wormhole (>=0.10.5)"], "requires_python": "<3.0", "summary": "Tools to run Git over Foolscap FURLs.", "version": "0.4", "yanked": false, "html_description": "<div class=\"project-description\">\n            <ul>\n<li><a href=\"https://github.com/warner/git-foolscap\" rel=\"nofollow\">https://github.com/warner/git-foolscap</a></li>\n</ul>\n<p>git-foolscap is an extension for Git that allows you to publish or access Git repositories over the [Foolscap](<a href=\"http://foolscap.lothar.com/trac\" rel=\"nofollow\">http://foolscap.lothar.com/trac</a>) protocol. This provides all the security benefits of ssh or authenticated HTTPS, but with a few important benefits:</p>\n<ul>\n<li>downstream users do not need an account on the server: merely sharing the secret FURL string with them is enough to provide access</li>\n<li>access is limited to the one repository: users do not get full shell access</li>\n<li>servers are quick and easy to set up</li>\n<li>users can easily be limited to read-only access</li>\n</ul>\n<p>## Installation</p>\n<p>Just use <cite>pip install git-foolscap</cite>. This will install two scripts into your $PATH: <cite>git-foolscap</cite> and <cite>git-remote-pb</cite>. The former is the main entry point, and Git will run it whenever you run <cite>git foolscap COMMAND..</cite>. The latter implements the remote protocol, and Git will use it whenever you access a repository whose remote URL starts with \u201cpb:\u201d (i.e. it is a FURL).</p>\n<p>git-foolscap depends upon having Foolscap installed, which depends upon Twisted and pyOpenSSL.</p>\n<p><cite>git-foolscap -h</cite> and <cite>git-foolscap \u2013help</cite> will provide usage instructions. (Note that <cite>git foolscap \u2013help</cite>, without the hyphen, doesn\u2019t work, because <cite>git-foolscap</cite> does not provide a man page).</p>\n<p>## Theory Of Operation</p>\n<p>Repositories are published by running a small server (a Foolscap \u201cflappserver\u201d) which listens on a TCP port for encrypted connections. A \u201cFURL\u201d is allocated which will connect to the git remote protocol (in either read+write or read-only mode) for a specific repository. This FURL can be handed to clients, which merely use it as the URL for a standard git remote (e.g. <cite>git clone FURL</cite> or <cite>git remote add NAME FURL</cite>). Foolscap FURLs are URIs which use \u201c<cite>pb:</cite>\u201d as their scheme instead of \u201c<cite>http:</cite>\u201d or \u201c<cite>https:</cite>\u201d.</p>\n<p>When a git client encounters the <cite>pb:</cite> FURL, it delegates control to a program named <cite>git-remote-pb</cite> (this is a standard feature of git, and holds true for arbitrary scheme names). The <cite>git-remote-pb</cite> program knows how to use Foolscap to connect to the target FURL and speak the git remote protocol through it.</p>\n<p>Technically, this means that servers only need the <cite>git-foolscap</cite> executable, and clients only need the <cite>git-remote-pb</cite> executable, but both are distributed in the same package for simplicity.</p>\n<p>## Usage: Server</p>\n<p>See <cite>git foolscap \u2013help</cite> for full details. Basically the server does this part once:</p>\n<p><tt>`\n% git foolscap init <span class=\"pre\">--port=tcp:3116</span> <span class=\"pre\">--location=tcp:HOSTNAME:3116</span>\n% git foolscap start\n`</tt></p>\n<p>and this part for each new client:</p>\n<p><tt>`\n% git foolscap invite <span class=\"pre\">read-write</span> \"comment about recipient\"\n`</tt></p>\n<p>The \u201cinvite\u201d will produce a \u201cwormhole code\u201d, which the receiving user must type into their \u201caccept\u201d command. The secure FURL will then be sent through the wormhole.</p>\n<p>The FURLs can also be added (without invitation) using <cite>git foolscap add</cite>. It must then be cut-and-pasted to the recipient.</p>\n<p>To provide read-only access to a single repository, replace <cite>read-write</cite> with <cite>read-only</cite>. You can create as many FURLs as you like, by running <cite>git foolscap add</cite> or <cite>invite</cite> multiple times. Each can be revoked separately. To revoke access, run <cite>git foolscap list</cite>, find the index number, and pass it into <cite>git foolscap revoke</cite>.</p>\n<p>You may want to arrange for <cite>git foolscap start</cite> to be run from a cron <cite>@reboot</cite> job, or other boot-time startup script, to make sure that access is retained across a system reboot.</p>\n<blockquote>\n@reboot cd PATH/TO/REPO &amp;&amp; git foolscap start</blockquote>\n<p>## Usage: Client</p>\n<p>If the repository owner used <cite>git foolscap invite</cite>, then you simply type this code into:</p>\n<p><tt>`\n% git foolscap accept clone\n`</tt></p>\n<p>The client can use tab-completion on the codewords, and the wordlist is specifically designed to be reliably transcribeable over a noisy voice channel.</p>\n<p>Instead of cloning a new copy of the repository, you can add the new FURL to an existing repo, by running this command from inside the repository:</p>\n<p><tt>`\n% git foolscap accept <span class=\"pre\">add-remote</span>\n`</tt></p>\n<p>If the publisher used <cite>git foolscap add</cite> and sent you a full FURL (instead of a wormhole code), then you can just clone from it as you would a normal HTTPS (<cite>https://github.com/warner/git-foolscap.git</cite>) or SSH (<cite>git@github.com:warner/git-foolscap.git</cite>) URL. As long as you have git-foolscap installed, git will figure out how to do the right thing.</p>\n<p>## Cleaning up the FURL</p>\n<p>The flappserver uses the <cite>\u2013location=</cite> you provide to construct the \u201cconnection hints\u201d portion of the FURL. This tells the client how to connect to the server. The server must have a publically-reachable address (or at least reachable by your clients), or you must configure a port-forwarding and put the externally-reachable address+port into the FURL.</p>\n<p>If you got the hostname wrong, or if you used an IP address and it has changed, you can edit the FURL later. You can also use multiple hints, and the client will try to connect to each of them until at least one works:</p>\n<blockquote>\npb://tvzddtbzbldthde5kdsvjvzpweifx7ae@tcp:example.com:57306,tcp:example.org:57306/jmxpcs6lsmgtuzdomxbgtfcmhgfmfbpc/my-repo</blockquote>\n<p>The first big random-looking string in the FURL identifies exactly which server public key is expected: it provides cryptographic assurance that the connection will go to the right server. No certificate authorities or trusted third parties are used. The second random string is a secret \u201cswissnum\u201d which securely identifies the resource being accessed (in this case, a table entry which points at a git repository and a read+write/read-only mode). Knowledge of this secret enables access: to share access, share the secret (and the rest of the FURL necessary to use it); to withhold access, don\u2019t reveal the secret.</p>\n<p>## Configuring the flappserver</p>\n<p>Each flappserver has a \u201cbase directory\u201d where it keeps all its state. <cite>git foolscap create</cite> defaults to using <cite>.git/foolscap/</cite> for this purpose, creating it if necessary, then adding an entry for the new FURL.</p>\n<p>If you publish multiple repositories, you might want to share flappservers between them, especially if you must configure a port forwarding for each server. To do this, first create the one shared server with Foolscap\u2019s <cite>flappserver create BASEDIR</cite> command, then use the <cite>\u2013flappserver=BASEDIR</cite> argument when running <cite>git foolscap init</cite>. This establishes a symlink from <cite>.git/foolscap</cite> to the real BASEDIR, so subsequent git-foolscap commands will add an entry to that flappserver directly. If BASEDIR doesn\u2019t already exist, it will be created.</p>\n<p>Note that at present, <cite>git foolscap init \u2013flappserver=BASEDIR</cite> requires the <cite>\u2013port=</cite> and <cite>\u2013location=</cite> arguments, even if BASEDIR already exists. However, in that case, their values are ignored in favor of the BASEDIR\u2019s existing configuration. Hopefully this will be fixed in a future release.</p>\n<p>If you use a <cite>@reboot</cite> cronjob, you may want to use <cite>flappserver start</cite> directly, instead of <cite>git foolscap start</cite>.</p>\n<p>## Bugs, Patches</p>\n<p>Please file bugs and patches for git-foolscap on the Github issue tracker, at <a href=\"https://github.com/warner/git-foolscap\" rel=\"nofollow\">https://github.com/warner/git-foolscap</a> .</p>\n<p>For bugs and patches against foolscap itself, please use the Foolscap Trac, at <a href=\"http://foolscap.lothar.com/trac\" rel=\"nofollow\">http://foolscap.lothar.com/trac</a> . Foolscap source code is published on Github, at <a href=\"https://github.com/warner/foolscap\" rel=\"nofollow\">https://github.com/warner/foolscap</a> .</p>\n<p>thanks!</p>\n\n          </div>"}, "last_serial": 3693381, "releases": {"0.1": [{"comment_text": "", "digests": {"md5": "3901a6b69ead76d01a65db3a580e59e3", "sha256": "f089b5737eadd55c706c4d5c6585bf82ffc4aa1517e9f95baf5f529ba2666eed"}, "downloads": -1, "filename": "git-foolscap-0.1.tar.gz", "has_sig": false, "md5_digest": "3901a6b69ead76d01a65db3a580e59e3", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 18122, "upload_time": "2015-03-26T07:06:03", "upload_time_iso_8601": "2015-03-26T07:06:03.496407Z", "url": "https://files.pythonhosted.org/packages/a7/4c/499838a59db295d7126d8a64c660748d2376ea5b678ef3b901371db24331/git-foolscap-0.1.tar.gz", "yanked": false}], "0.3": [{"comment_text": "", "digests": {"md5": "25d482c1925d5a5d9e4ada6ff1de0d6e", "sha256": "79fdb69065abbf776233a174efef5f6df0b4f8d31facbbb64b3bd89d4f452d01"}, "downloads": -1, "filename": "git_foolscap-0.3-py2-none-any.whl", "has_sig": false, "md5_digest": "25d482c1925d5a5d9e4ada6ff1de0d6e", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 8049, "upload_time": "2017-08-08T23:57:49", "upload_time_iso_8601": "2017-08-08T23:57:49.818296Z", "url": "https://files.pythonhosted.org/packages/1b/21/28cc0ffb62e07df8099f9567dcd265761e472c15d96581ee146737cf54a1/git_foolscap-0.3-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b90744a03dd2e917fcc37b373fb8f389", "sha256": "c531bf9fefbd0f6f09804c4ae521c002dc995f413886bcef46ec205d775df895"}, "downloads": -1, "filename": "git-foolscap-0.3.tar.gz", "has_sig": false, "md5_digest": "b90744a03dd2e917fcc37b373fb8f389", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 24828, "upload_time": "2017-08-08T23:57:51", "upload_time_iso_8601": "2017-08-08T23:57:51.877811Z", "url": "https://files.pythonhosted.org/packages/0e/9b/2fca56f80808f5d33443f48da988c1ab100316f46ac8093b16dfc4160853/git-foolscap-0.3.tar.gz", "yanked": false}], "0.4": [{"comment_text": "", "digests": {"md5": "2d5a580d91450ad516ffd2d58c6dfc21", "sha256": "3440ae04356aca91d37879969399593aa74323f0e41ac1e84c4c62da73043dc3"}, "downloads": -1, "filename": "git_foolscap-0.4-py2-none-any.whl", "has_sig": true, "md5_digest": "2d5a580d91450ad516ffd2d58c6dfc21", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": "<3.0", "size": 16287, "upload_time": "2018-03-21T21:52:50", "upload_time_iso_8601": "2018-03-21T21:52:50.508066Z", "url": "https://files.pythonhosted.org/packages/53/78/3b8421b98cfdae2afa25a4e9bbaf273b12198abe7e467b09a2db288100a9/git_foolscap-0.4-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6c275fda60501a558ca5478efd2f1bee", "sha256": "765bf216c65b2cfd7de56e6f09b1ebd52353cec8d0b5de0cd7dcdb220b0dc48b"}, "downloads": -1, "filename": "git-foolscap-0.4.tar.gz", "has_sig": true, "md5_digest": "6c275fda60501a558ca5478efd2f1bee", "packagetype": "sdist", "python_version": "source", "requires_python": "<3.0", "size": 32988, "upload_time": "2018-03-21T21:52:52", "upload_time_iso_8601": "2018-03-21T21:52:52.220713Z", "url": "https://files.pythonhosted.org/packages/49/a6/c9ca44ad8785c99a6ee9547eafe90ef89b598b4502aa8abbfb3df6a28768/git-foolscap-0.4.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "2d5a580d91450ad516ffd2d58c6dfc21", "sha256": "3440ae04356aca91d37879969399593aa74323f0e41ac1e84c4c62da73043dc3"}, "downloads": -1, "filename": "git_foolscap-0.4-py2-none-any.whl", "has_sig": true, "md5_digest": "2d5a580d91450ad516ffd2d58c6dfc21", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": "<3.0", "size": 16287, "upload_time": "2018-03-21T21:52:50", "upload_time_iso_8601": "2018-03-21T21:52:50.508066Z", "url": "https://files.pythonhosted.org/packages/53/78/3b8421b98cfdae2afa25a4e9bbaf273b12198abe7e467b09a2db288100a9/git_foolscap-0.4-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "6c275fda60501a558ca5478efd2f1bee", "sha256": "765bf216c65b2cfd7de56e6f09b1ebd52353cec8d0b5de0cd7dcdb220b0dc48b"}, "downloads": -1, "filename": "git-foolscap-0.4.tar.gz", "has_sig": true, "md5_digest": "6c275fda60501a558ca5478efd2f1bee", "packagetype": "sdist", "python_version": "source", "requires_python": "<3.0", "size": 32988, "upload_time": "2018-03-21T21:52:52", "upload_time_iso_8601": "2018-03-21T21:52:52.220713Z", "url": "https://files.pythonhosted.org/packages/49/a6/c9ca44ad8785c99a6ee9547eafe90ef89b598b4502aa8abbfb3df6a28768/git-foolscap-0.4.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:57:04 2020"}
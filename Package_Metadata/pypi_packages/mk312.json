{"info": {"author": "Andreas Pantle", "author_email": "andreas.pantle@icloud.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: Implementation :: CPython", "Programming Language :: Python :: Implementation :: PyPy"], "description": "\n# MK312 Communication Wrapper\n\n## Introduction\n\nThis is an communication wrapper for the MK-312BT Estim Box. It uses pyserial for the RS232 communication. Primary I wrote it for my own purposes. It should be the base for a remote controlling tool and an abstraction layer for a Rest API too.\nIf you like to do a test it would be great :) I love to hear from you if there are some hiding problems and of course to fix it...  \n\n## Firmware\n\nI test the examples with the firmware from: [https://github.com/buttshock/mk312-bt/tree/master/firmware/Custom%20Boot%20Message%20f005-MK312-BT](https://github.com/buttshock/mk312-bt/tree/master/firmware/Custom%20Boot%20Message%20f005-MK312-BT). In addition to that I copied the file to this repo only for consistency. I also added a `hex` file if someone is using AVR Studio (maybe someone is out there which is using the software).\nPlease note that I have some trouble with the fuse bits. Therefore I was using: `L: 0xFF / H: 0xD9` which worked perfectly for me. \n\n## Connection\n\nThe communication with the MK-312 device is via an RS232 interface. I'm not glad about the phone jack because you can shorten the connectors while plugging in the interface cable. So I suggest to do the connection if the device is switched off. Maybe someone will giving the board an sub-d connector in further hardware versions. Or even better a real ethernet connection with a socket communication :) \n\n| Phone Jack | RS232 | Sub-D |\n|------------|-------|-------|\n| Tip        | RxD   | Pin 2 |\n| Ring       | TxD   | Pin 3 |\n| Sleeve     | Gnd   | Pin 5 |\n\nThe soldering of the phone jack is a little tricky. Maybe that is the reason for the high price of the cable...\n\n### Settings\n\nThe RS232 interface is working with 8 Bytes / None Parity / 1 Stop Bit and a baudrate of 19200.\nActually the communication wrapper is using 19200. You can switch the baudrate by yourself if you set the necessary UART registers. I did not a test with other baudrates than 19200.   \n\n## Examples\n\nPlease check the examples dir. I wrote some basic tests which should work.\n\n## Handshaking\n\nI got some troubles with the handshaking which are actually not solved. So please do the communication in the way:\n\n```python\net312 = mk312.MK312CommunicationWrapper()\net312.handshake()\n\n# Do the stuff you like to do with your box\n# ...\n# ...\n\n# Reset key and close the interface\net312.resetkey()\net312.closeserialport()\n```\n\nIf there is an interrupt of the script before you reset the key, you will getting problems with a reconnect. Maybe someone was fixing this issue or can help me with this matter. \n\nWhen nothing helps you can switch off the box and switch it on again. Because of the high amount of capacitors the RAM of the AVR is bufferd very long - so it takes some time to wait until a reconnection is possible. I have no battery on my MK-312 therefore I can only plug off the power supply. A better way will be unloading the capacitors if switching the box off...this remains in an hardware redesign too.  \n\n## Logging\n\nFor debugging I designed the wrapper in a way that he talks a very lot. If you don't like it when you are using an own logger than please change the logging level to info. The logger of the wrapper is talking at the debug level. \n\n## License\n\nPlease read the `LICENSE` file. Especially: *IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY* --> It is your turn to use the communication wrapper! \n\n## Thanks to...\n\nMy work is based on these two repos:\n\n* [https://github.com/buttshock/buttshock-py](https://github.com/buttshock/buttshock-py)\n* [https://github.com/buttplugio/stpihkal](https://github.com/buttplugio/stpihkal)\n\nWithout the preliminary work of the protocol description and the handshaking it would be much harder for me.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/SubDesTages/mk312com", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "mk312", "package_url": "https://pypi.org/project/mk312/", "platform": "", "project_url": "https://pypi.org/project/mk312/", "project_urls": {"Homepage": "https://github.com/SubDesTages/mk312com"}, "release_url": "https://pypi.org/project/mk312/0.1.1/", "requires_dist": ["pyserial"], "requires_python": ">=3.6.0", "summary": "MK312 Communication Wrapper.", "version": "0.1.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>MK312 Communication Wrapper</h1>\n<h2>Introduction</h2>\n<p>This is an communication wrapper for the MK-312BT Estim Box. It uses pyserial for the RS232 communication. Primary I wrote it for my own purposes. It should be the base for a remote controlling tool and an abstraction layer for a Rest API too.\nIf you like to do a test it would be great :) I love to hear from you if there are some hiding problems and of course to fix it...</p>\n<h2>Firmware</h2>\n<p>I test the examples with the firmware from: <a href=\"https://github.com/buttshock/mk312-bt/tree/master/firmware/Custom%20Boot%20Message%20f005-MK312-BT\" rel=\"nofollow\">https://github.com/buttshock/mk312-bt/tree/master/firmware/Custom%20Boot%20Message%20f005-MK312-BT</a>. In addition to that I copied the file to this repo only for consistency. I also added a <code>hex</code> file if someone is using AVR Studio (maybe someone is out there which is using the software).\nPlease note that I have some trouble with the fuse bits. Therefore I was using: <code>L: 0xFF / H: 0xD9</code> which worked perfectly for me.</p>\n<h2>Connection</h2>\n<p>The communication with the MK-312 device is via an RS232 interface. I'm not glad about the phone jack because you can shorten the connectors while plugging in the interface cable. So I suggest to do the connection if the device is switched off. Maybe someone will giving the board an sub-d connector in further hardware versions. Or even better a real ethernet connection with a socket communication :)</p>\n<table>\n<thead>\n<tr>\n<th>Phone Jack</th>\n<th>RS232</th>\n<th>Sub-D</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Tip</td>\n<td>RxD</td>\n<td>Pin 2</td>\n</tr>\n<tr>\n<td>Ring</td>\n<td>TxD</td>\n<td>Pin 3</td>\n</tr>\n<tr>\n<td>Sleeve</td>\n<td>Gnd</td>\n<td>Pin 5</td>\n</tr></tbody></table>\n<p>The soldering of the phone jack is a little tricky. Maybe that is the reason for the high price of the cable...</p>\n<h3>Settings</h3>\n<p>The RS232 interface is working with 8 Bytes / None Parity / 1 Stop Bit and a baudrate of 19200.\nActually the communication wrapper is using 19200. You can switch the baudrate by yourself if you set the necessary UART registers. I did not a test with other baudrates than 19200.</p>\n<h2>Examples</h2>\n<p>Please check the examples dir. I wrote some basic tests which should work.</p>\n<h2>Handshaking</h2>\n<p>I got some troubles with the handshaking which are actually not solved. So please do the communication in the way:</p>\n<pre><span class=\"n\">et312</span> <span class=\"o\">=</span> <span class=\"n\">mk312</span><span class=\"o\">.</span><span class=\"n\">MK312CommunicationWrapper</span><span class=\"p\">()</span>\n<span class=\"n\">et312</span><span class=\"o\">.</span><span class=\"n\">handshake</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Do the stuff you like to do with your box</span>\n<span class=\"c1\"># ...</span>\n<span class=\"c1\"># ...</span>\n\n<span class=\"c1\"># Reset key and close the interface</span>\n<span class=\"n\">et312</span><span class=\"o\">.</span><span class=\"n\">resetkey</span><span class=\"p\">()</span>\n<span class=\"n\">et312</span><span class=\"o\">.</span><span class=\"n\">closeserialport</span><span class=\"p\">()</span>\n</pre>\n<p>If there is an interrupt of the script before you reset the key, you will getting problems with a reconnect. Maybe someone was fixing this issue or can help me with this matter.</p>\n<p>When nothing helps you can switch off the box and switch it on again. Because of the high amount of capacitors the RAM of the AVR is bufferd very long - so it takes some time to wait until a reconnection is possible. I have no battery on my MK-312 therefore I can only plug off the power supply. A better way will be unloading the capacitors if switching the box off...this remains in an hardware redesign too.</p>\n<h2>Logging</h2>\n<p>For debugging I designed the wrapper in a way that he talks a very lot. If you don't like it when you are using an own logger than please change the logging level to info. The logger of the wrapper is talking at the debug level.</p>\n<h2>License</h2>\n<p>Please read the <code>LICENSE</code> file. Especially: <em>IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY</em> --&gt; It is your turn to use the communication wrapper!</p>\n<h2>Thanks to...</h2>\n<p>My work is based on these two repos:</p>\n<ul>\n<li><a href=\"https://github.com/buttshock/buttshock-py\" rel=\"nofollow\">https://github.com/buttshock/buttshock-py</a></li>\n<li><a href=\"https://github.com/buttplugio/stpihkal\" rel=\"nofollow\">https://github.com/buttplugio/stpihkal</a></li>\n</ul>\n<p>Without the preliminary work of the protocol description and the handshaking it would be much harder for me.</p>\n\n          </div>"}, "last_serial": 6347379, "releases": {"0.1.1": [{"comment_text": "", "digests": {"md5": "c68b4c08aeb462a032ede46ac8656526", "sha256": "d90a740ebd4bbddf201d3772972bf704f784f97b06213cb97982e0d7755530ed"}, "downloads": -1, "filename": "mk312-0.1.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "c68b4c08aeb462a032ede46ac8656526", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.6.0", "size": 9909, "upload_time": "2019-12-22T13:14:56", "upload_time_iso_8601": "2019-12-22T13:14:56.366073Z", "url": "https://files.pythonhosted.org/packages/8c/12/4e84960efcee48cf9d6d74dbc33d04fc8b68e71894e4e24a23ca47e723d3/mk312-0.1.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7790721942d218c0dfdc096907edb213", "sha256": "bcf8ef55ba4dc0963dedeefff7567423ee6e797ee081033c3827aee84e868892"}, "downloads": -1, "filename": "mk312-0.1.1.tar.gz", "has_sig": false, "md5_digest": "7790721942d218c0dfdc096907edb213", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6.0", "size": 9790, "upload_time": "2019-12-22T13:14:58", "upload_time_iso_8601": "2019-12-22T13:14:58.006271Z", "url": "https://files.pythonhosted.org/packages/94/07/21f3ac9bdd7e1bbcf7c54f60d4e79475c65cf0ce9af572b2d714b35375ba/mk312-0.1.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "c68b4c08aeb462a032ede46ac8656526", "sha256": "d90a740ebd4bbddf201d3772972bf704f784f97b06213cb97982e0d7755530ed"}, "downloads": -1, "filename": "mk312-0.1.1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "c68b4c08aeb462a032ede46ac8656526", "packagetype": "bdist_wheel", "python_version": "py2.py3", "requires_python": ">=3.6.0", "size": 9909, "upload_time": "2019-12-22T13:14:56", "upload_time_iso_8601": "2019-12-22T13:14:56.366073Z", "url": "https://files.pythonhosted.org/packages/8c/12/4e84960efcee48cf9d6d74dbc33d04fc8b68e71894e4e24a23ca47e723d3/mk312-0.1.1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "7790721942d218c0dfdc096907edb213", "sha256": "bcf8ef55ba4dc0963dedeefff7567423ee6e797ee081033c3827aee84e868892"}, "downloads": -1, "filename": "mk312-0.1.1.tar.gz", "has_sig": false, "md5_digest": "7790721942d218c0dfdc096907edb213", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6.0", "size": 9790, "upload_time": "2019-12-22T13:14:58", "upload_time_iso_8601": "2019-12-22T13:14:58.006271Z", "url": "https://files.pythonhosted.org/packages/94/07/21f3ac9bdd7e1bbcf7c54f60d4e79475c65cf0ce9af572b2d714b35375ba/mk312-0.1.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:53:52 2020"}
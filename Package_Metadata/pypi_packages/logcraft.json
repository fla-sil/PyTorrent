{"info": {"author": "Ryan Lyn", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Programming Language :: Python :: Implementation :: CPython", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Libraries :: Python Modules", "Topic :: System :: Logging"], "description": "# `logcraft`\nPython Macro-Generated Logging from Comments\n\n## Introduction\n### What is `logcraft`?\n`logcraft` gives the functionality of automatically generating logging calls from annotated comments. This treats logging as documentation, separates application logging and program flow to the highest degree, and provides an overall better development experience.\n\nSource code files are not modified. Instead the `@log` macro is only applied at the decoration of your object. This gives greater transparency and control to the developer.\n\n<table>\n<tr>\n<td> Write This: </td> <td> Instead Of: </td>\n</tr>\n<tr>\n<td> \n\n```python\n@log\ndef do_something(x):\n    #i: started doing something with {x}\n    x = do_something_interesting(x)\n    #i finished doing something\n    return x\n```\n\n</td>\n<td>\n\n```python\n\ndef do_something(x):\n    logging.info(f\"started doing something with {x}\")\n    x = do_something_interesting(x)\n    logging.info(\"finished doing something\")\n    return x\n```\n\n</td>\n</tr>\n</table>\n\nMoreover, `logcraft` has the following benefits:\n- No external dependencies\n- Macro expansion is limited to decorated objects\n- No source files are modified\n- Works with `pickle` and other serialisation libraries\n- Inject your own logger ([loguru](https://github.com/Delgan/loguru) etc.) or a custom callable to replace `print`\n- Allows continuation over multiple comments\n- Allows string formatting with evaluated variables\n\nInspired by: [node-comment-macros](https://github.com/tj/node-comment-macros) and conversations with [@kale](https://github.com/kmiller96) and [@jiaxi](https://github.com/jiaxililearn).\n\n### Why `logcraft`?\nA lot of logging in Python these days are simply descriptive in nature (e.g. \"procedure `x` started\" or \"`x` iteration has `y` variable\"). These logging calls usually adds no functionality to the program logic and clouds the programmer's interpretation of the source code.\n\nThis library applies the opinion that __logging which are documentative in nature should be treated as documentation__.\n\nHence, logging should be generated from annotated comments and logging configuration should be easily injected without modifying the program logic. Having logging as comments results in a clear delineation\n\n### How Do I Install?\nSimply run:\n```bash\npip install logcraft\n```\n\n## Quickstart\nImport the `@log` decorator:\n```python\nfrom logcraft.macro import log\n```\n\nDecorate your object with `@log` and annotate comments which are intended to be logging messages. Comments with the same annotation and are right after another are treated as continuations of the same logging call. Furthermore, annotated comments with `\"{}\"` will be expanded into f-strings that references variables in the local or global namespaces. \n\n_Note that `@log` has to be the top decorator_\n\nThe following:\n```python\n@log\ndef add_one(sequence):\n    \"\"\"Adds 1 to sequence\"\"\"\n    #: add print call with line\n    #: continuation\n    # this is some ignored comment\n    #: add another line\n\n    #i: this is an info message\n    #d: this is a debug message\n\n    new_sequence = []\n    for x in sequence:\n        #d: adding 1 to x={x}\n        new_sequence.append(x + 1) \n        #d: finished adding 1 to x={x}\n    #i: constructed new sequence {new_sequence}\n\n    return new_sequence\n```\nWill be expanded to:\n```python\ndef add_one(sequence):\n    \"\"\"Adds 1 to sequence\"\"\"\n    print(\"add print call with line continuation\")\n    # this is some ignored comment\n    print(\"add another line\")\n\n    logging.info(\"this is an info message\")\n    logging.debug(\"this is a debug message\")\n\n    new_sequence = []\n    for x in sequence:\n        logging.debug(f\"adding 1 to x={x}\")\n        new_sequence.append(x + 1) \n        logging.debug(f\"finished adding 1 to x={x}\")\n    logging.info(f\"constructed new sequence {new_sequence}\")\n\n    return new_sequence\n```\n## List of Annotations\nThe following are the available list of annotations:\n\n```python\n#: callable (default: print)\n\n#c: logging.critical \n#d: logging.debug\n#e: logging.error\n#f: logging.fatal\n#i: logging.info\n#w: logging.warn\n```\n\n## Other Installation Methods\n### Source\nClone the repository:\n```bash\ngit clone https://github.com/ryanlyn/logcraft\n```\n\nRun installation:\n```bash\ncd logcraft\npython setup.py install\n```\n\n## License\n`logcraft` is made available under the MIT License. For more details, see the [LICENSE](./LICENSE).\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/ryanlyn/logcraft", "keywords": "logging,macro", "license": "MIT License", "maintainer": "", "maintainer_email": "", "name": "logcraft", "package_url": "https://pypi.org/project/logcraft/", "platform": "any", "project_url": "https://pypi.org/project/logcraft/", "project_urls": {"Homepage": "https://github.com/ryanlyn/logcraft"}, "release_url": "https://pypi.org/project/logcraft/0.0.1/", "requires_dist": null, "requires_python": "", "summary": "Python Macro-Generated Logging from Comments", "version": "0.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1><code>logcraft</code></h1>\n<p>Python Macro-Generated Logging from Comments</p>\n<h2>Introduction</h2>\n<h3>What is <code>logcraft</code>?</h3>\n<p><code>logcraft</code> gives the functionality of automatically generating logging calls from annotated comments. This treats logging as documentation, separates application logging and program flow to the highest degree, and provides an overall better development experience.</p>\n<p>Source code files are not modified. Instead the <code>@log</code> macro is only applied at the decoration of your object. This gives greater transparency and control to the developer.</p>\n<table>\n<tr>\n<td> Write This: </td> <td> Instead Of: </td>\n</tr>\n<tr>\n<td> \n<pre><span class=\"nd\">@log</span>\n<span class=\"k\">def</span> <span class=\"nf\">do_something</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">):</span>\n    <span class=\"c1\">#i: started doing something with {x}</span>\n    <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">do_something_interesting</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">)</span>\n    <span class=\"c1\">#i finished doing something</span>\n    <span class=\"k\">return</span> <span class=\"n\">x</span>\n</pre>\n</td>\n<td>\n<pre><span class=\"k\">def</span> <span class=\"nf\">do_something</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">):</span>\n    <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">\"started doing something with </span><span class=\"si\">{</span><span class=\"n\">x</span><span class=\"si\">}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n    <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">do_something_interesting</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">)</span>\n    <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s2\">\"finished doing something\"</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">x</span>\n</pre>\n</td>\n</tr>\n</table>\n<p>Moreover, <code>logcraft</code> has the following benefits:</p>\n<ul>\n<li>No external dependencies</li>\n<li>Macro expansion is limited to decorated objects</li>\n<li>No source files are modified</li>\n<li>Works with <code>pickle</code> and other serialisation libraries</li>\n<li>Inject your own logger (<a href=\"https://github.com/Delgan/loguru\" rel=\"nofollow\">loguru</a> etc.) or a custom callable to replace <code>print</code></li>\n<li>Allows continuation over multiple comments</li>\n<li>Allows string formatting with evaluated variables</li>\n</ul>\n<p>Inspired by: <a href=\"https://github.com/tj/node-comment-macros\" rel=\"nofollow\">node-comment-macros</a> and conversations with <a href=\"https://github.com/kmiller96\" rel=\"nofollow\">@kale</a> and <a href=\"https://github.com/jiaxililearn\" rel=\"nofollow\">@jiaxi</a>.</p>\n<h3>Why <code>logcraft</code>?</h3>\n<p>A lot of logging in Python these days are simply descriptive in nature (e.g. \"procedure <code>x</code> started\" or \"<code>x</code> iteration has <code>y</code> variable\"). These logging calls usually adds no functionality to the program logic and clouds the programmer's interpretation of the source code.</p>\n<p>This library applies the opinion that <strong>logging which are documentative in nature should be treated as documentation</strong>.</p>\n<p>Hence, logging should be generated from annotated comments and logging configuration should be easily injected without modifying the program logic. Having logging as comments results in a clear delineation</p>\n<h3>How Do I Install?</h3>\n<p>Simply run:</p>\n<pre>pip install logcraft\n</pre>\n<h2>Quickstart</h2>\n<p>Import the <code>@log</code> decorator:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">logcraft.macro</span> <span class=\"kn\">import</span> <span class=\"n\">log</span>\n</pre>\n<p>Decorate your object with <code>@log</code> and annotate comments which are intended to be logging messages. Comments with the same annotation and are right after another are treated as continuations of the same logging call. Furthermore, annotated comments with <code>\"{}\"</code> will be expanded into f-strings that references variables in the local or global namespaces.</p>\n<p><em>Note that <code>@log</code> has to be the top decorator</em></p>\n<p>The following:</p>\n<pre><span class=\"nd\">@log</span>\n<span class=\"k\">def</span> <span class=\"nf\">add_one</span><span class=\"p\">(</span><span class=\"n\">sequence</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"Adds 1 to sequence\"\"\"</span>\n    <span class=\"c1\">#: add print call with line</span>\n    <span class=\"c1\">#: continuation</span>\n    <span class=\"c1\"># this is some ignored comment</span>\n    <span class=\"c1\">#: add another line</span>\n\n    <span class=\"c1\">#i: this is an info message</span>\n    <span class=\"c1\">#d: this is a debug message</span>\n\n    <span class=\"n\">new_sequence</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"n\">sequence</span><span class=\"p\">:</span>\n        <span class=\"c1\">#d: adding 1 to x={x}</span>\n        <span class=\"n\">new_sequence</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span> \n        <span class=\"c1\">#d: finished adding 1 to x={x}</span>\n    <span class=\"c1\">#i: constructed new sequence {new_sequence}</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">new_sequence</span>\n</pre>\n<p>Will be expanded to:</p>\n<pre><span class=\"k\">def</span> <span class=\"nf\">add_one</span><span class=\"p\">(</span><span class=\"n\">sequence</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"Adds 1 to sequence\"\"\"</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"add print call with line continuation\"</span><span class=\"p\">)</span>\n    <span class=\"c1\"># this is some ignored comment</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"add another line\"</span><span class=\"p\">)</span>\n\n    <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"s2\">\"this is an info message\"</span><span class=\"p\">)</span>\n    <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"s2\">\"this is a debug message\"</span><span class=\"p\">)</span>\n\n    <span class=\"n\">new_sequence</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n    <span class=\"k\">for</span> <span class=\"n\">x</span> <span class=\"ow\">in</span> <span class=\"n\">sequence</span><span class=\"p\">:</span>\n        <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">\"adding 1 to x=</span><span class=\"si\">{</span><span class=\"n\">x</span><span class=\"si\">}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n        <span class=\"n\">new_sequence</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span> \n        <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">debug</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">\"finished adding 1 to x=</span><span class=\"si\">{</span><span class=\"n\">x</span><span class=\"si\">}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n    <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">info</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">\"constructed new sequence </span><span class=\"si\">{</span><span class=\"n\">new_sequence</span><span class=\"si\">}</span><span class=\"s2\">\"</span><span class=\"p\">)</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">new_sequence</span>\n</pre>\n<h2>List of Annotations</h2>\n<p>The following are the available list of annotations:</p>\n<pre><span class=\"c1\">#: callable (default: print)</span>\n\n<span class=\"c1\">#c: logging.critical </span>\n<span class=\"c1\">#d: logging.debug</span>\n<span class=\"c1\">#e: logging.error</span>\n<span class=\"c1\">#f: logging.fatal</span>\n<span class=\"c1\">#i: logging.info</span>\n<span class=\"c1\">#w: logging.warn</span>\n</pre>\n<h2>Other Installation Methods</h2>\n<h3>Source</h3>\n<p>Clone the repository:</p>\n<pre>git clone https://github.com/ryanlyn/logcraft\n</pre>\n<p>Run installation:</p>\n<pre><span class=\"nb\">cd</span> logcraft\npython setup.py install\n</pre>\n<h2>License</h2>\n<p><code>logcraft</code> is made available under the MIT License. For more details, see the <a href=\"./LICENSE\" rel=\"nofollow\">LICENSE</a>.</p>\n\n          </div>"}, "last_serial": 7136993, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "1e483b306be1536f9c58bbbd13cd17f3", "sha256": "b92a9171e84a9cc92be2b7b93d582f532296e39e58f31ff7bfaaa99c50ba6f5f"}, "downloads": -1, "filename": "logcraft-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "1e483b306be1536f9c58bbbd13cd17f3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 6181, "upload_time": "2020-04-30T12:33:45", "upload_time_iso_8601": "2020-04-30T12:33:45.692482Z", "url": "https://files.pythonhosted.org/packages/ba/8b/5a70555bf4de657f83a0686d3ab262cec8ab69a7ec4fe43794e35e55388d/logcraft-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "877500e62e1659e7eda3ecfe093caad4", "sha256": "ad9c66743c414c65ed8ea9d81714f5e8bf479ce860f4f74de79c95c12c244738"}, "downloads": -1, "filename": "logcraft-0.0.1.tar.gz", "has_sig": false, "md5_digest": "877500e62e1659e7eda3ecfe093caad4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5718, "upload_time": "2020-04-30T12:33:48", "upload_time_iso_8601": "2020-04-30T12:33:48.245641Z", "url": "https://files.pythonhosted.org/packages/bb/ea/e978b9d02b64b3c2f5ab2c334d4ab59b291860b39f1b0b09107222f5c243/logcraft-0.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "1e483b306be1536f9c58bbbd13cd17f3", "sha256": "b92a9171e84a9cc92be2b7b93d582f532296e39e58f31ff7bfaaa99c50ba6f5f"}, "downloads": -1, "filename": "logcraft-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "1e483b306be1536f9c58bbbd13cd17f3", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 6181, "upload_time": "2020-04-30T12:33:45", "upload_time_iso_8601": "2020-04-30T12:33:45.692482Z", "url": "https://files.pythonhosted.org/packages/ba/8b/5a70555bf4de657f83a0686d3ab262cec8ab69a7ec4fe43794e35e55388d/logcraft-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "877500e62e1659e7eda3ecfe093caad4", "sha256": "ad9c66743c414c65ed8ea9d81714f5e8bf479ce860f4f74de79c95c12c244738"}, "downloads": -1, "filename": "logcraft-0.0.1.tar.gz", "has_sig": false, "md5_digest": "877500e62e1659e7eda3ecfe093caad4", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5718, "upload_time": "2020-04-30T12:33:48", "upload_time_iso_8601": "2020-04-30T12:33:48.245641Z", "url": "https://files.pythonhosted.org/packages/bb/ea/e978b9d02b64b3c2f5ab2c334d4ab59b291860b39f1b0b09107222f5c243/logcraft-0.0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:44:23 2020"}
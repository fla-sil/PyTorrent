{"info": {"author": "Jacques Dafflon", "author_email": "jacques.dafflon@gmail.com", "bugtrack_url": null, "classifiers": ["Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "Intended Audience :: Financial and Insurance Industry", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3.6", "Topic :: Office/Business :: Financial", "Topic :: Office/Business :: Financial :: Accounting", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "Swiss DTA\n=========\n.. image:: https://img.shields.io/pypi/v/swissdta.svg\n    :target: https://pypi.python.org/pypi/swissdta\n    :alt: Version\n.. image:: https://img.shields.io/pypi/l/swissdta.svg\n    :target: https://pypi.python.org/pypi/swissdta\n    :alt: License\n.. image:: https://img.shields.io/pypi/pyversions/swissdta.svg\n    :target: https://pypi.python.org/pypi/swissdta\n.. image:: https://travis-ci.org/BitySA/swissdta.svg?branch=master\n    :target: https://travis-ci.org/BitySA/swissdta\n    :alt: Build Status\n.. image:: https://img.shields.io/codecov/c/github/BitySA/swissdta.svg\n    :target: https://codecov.io/gh/BitySA/swissdta\n    :alt: Codecov\n.. image:: https://img.shields.io/github/contributors/BitySA/swissdta.svg\n    :target: https://github.com/BitySA/swissdta/graphs/contributors\n    :alt: contributors\n\nGenerator library for Swiss DTA (\"Datentr\u00e4geraustauschverfahren\") electronic payment records loosely inspired by `python-dta <https://pypi.python.org/pypi/python-dta>`_.\n\nAuthor\n------\n`Jacques Dafflon <https://github.com/jacquesd>`_ <`jacques@bity.com <mailto:jacques@bity.com>`_>\n\nContributors\n------------\n- `Jenny Xiao <https://github.com/jennyailin>`_ <`jennyxiao@outlook.com <mailto:jennyxiao@outlook.com>`_>\n- `Loan Ventura <https://github.com/minege>`_ <`minege02@gmail.com <mailto:minege02@gmail.com>`_>\n\nDisclaimer\n----------\nPlease review and test the library with your infrastructure before using it.\n\nThe author does not guarantee that this library will generate valid DTA records and is in no way responsible\nfor any financial issues (including but not limited to: failure of payments, payments to wrong party,\nincorrect payment amount, financial lost).\n\nBy using this library you agree to this disclaimer.\n\nLicense\n-------\nDistributed under the `MIT License <https://github.com/BitySA/swissdta/blob/master/LICENSE>`_\n\nFeatures\n--------\n\n- Support for transaction types 836, 890\n- Implements most of the validations rules specified in the `DTA Standards and Formats <https://www.six-interbank-clearing.com/dam/downloads/en/standardization/dta/dta.pdf>`_.\n- Supports `Decimal`, `date` and IBAN with or without blanks as input values\n- Automatic generation of TA 890 record\n- Automatically handle sequence numbers\n- Automatically use the sender identification for the first 5 characters of the reference (TA 836)\n- Currency code check (via `iso4217 <https://pypi.python.org/pypi/iso4217>`_)\n- Clipping of overlong Alphanumeric fields (such as addresses or purpose)\n- Automatic conversion of permitted ISO Latincode 8859-1 characters\n- Enum for fields with a constrained of valid values (e.g. `swissdta.constants.IdentificationPurpose <https://github.com/BitySA/swissdta/blob/master/swissdta/constants.py#L20-L22>`_)\n- Sane default values\n- Generates a sequence of properly (latin-1) encoded bytes\n- Type annotations\n\nGetting Started\n---------------\nGenerate a DTA file containing a single transaction of type 836:\n\n.. code-block:: python\n\n    from datetime import datetime, timedelta\n    from decimal import Decimal\n\n    from swissdta import ChargesRule, DTAFile, IdentificationPurpose\n\n\n    dta_file = DTAFile(sender_id='ABC12', client_clearing='8888')\n    dta_file.add_836_record(reference='01234567890',  # only 11 chars, the first 5 (sender id) are added automatically\n                            client_account='CH38 0888 8123 4567 8901 2',\n                            processing_date=datetime.now() + timedelta(days=1),  # next day\n                            currency='CHF',\n                            amount=Decimal(10),\n                            client_address=('Alphabet Inc', 'Brandschenkestrasse 110', '8002 Z\u00fcrich'),\n                            recipient_iban='CH9300762011623852957',\n                            recipient_name='Herr Peter Haller',\n                            recipient_address=('Marktplaz 4', '9400 Rorschach'),\n                            identification_purpose=IdentificationPurpose.UNSTRUCTURED,\n                            purpose=('DTA lib example', '', ''),\n                            charges_rules=ChargesRule.OUR\n                            )\n    print(dta_file.generate().decode('latin-1'))\n\n    \"\"\"\n    >>> print(dta_file.generate().decode('latin-1'))\n    01000000            000001708308888   ABC120000183600ABC1201234567890CH3808888123456789012   170831CHF10,\n    02            Alphabet Inc                       Brandschenkestrasse 110            8002 Zuerich\n    03D                                                                      CH9300762011623852957\n    04Herr Peter Haller                  Marktplaz 4                        9400 Rorschach\n    05UDTA lib example                                                                                          0\n    01000000            00000170830       ABC12000028900010,\n\n    \"\"\"\n\nDocumentation and Testing\n-------------------------\nTo build the documentation and run tests install the dev dependencies:\n\n.. code-block:: bash\n\n    pipenv install --dev\n\nRun detox\n\n.. code-block:: bash\n\n    pipenv run detox\n\n\nTo only build the documentation\n\n.. code-block:: bash\n\n    pipenv run tox -e docs\n\n\nTo only run the tests\n\n.. code-block:: bash\n\n    pipenv run tox -e py36\n\n\nTo only lint the code\n\n.. code-block:: bash\n\n    pipenv run tox -e pylint-tests,pylint\n\n\nLimitations\n-----------\n- The account to be debited (``client_account``) for TA 836 only accepts IBAN\n- The benificiary's bank clearing number is not validated against a registry of banks to check if it is valid (TA 836).\n- No IPI reference validation if the identification purpose is set to structured (TA 836).\n- No parsing functionality of existing DTA files or records\n- Lack of tests (should be fixed soon...)\n\n\n", "description_content_type": null, "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/BitySA/swissdta", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "swissdta", "package_url": "https://pypi.org/project/swissdta/", "platform": "", "project_url": "https://pypi.org/project/swissdta/", "project_urls": {"Homepage": "https://github.com/BitySA/swissdta"}, "release_url": "https://pypi.org/project/swissdta/1.0.1/", "requires_dist": ["iso4217", "schwifty"], "requires_python": "", "summary": "Swiss DTA payment record (TA 836) generator library", "version": "1.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <a href=\"https://pypi.python.org/pypi/swissdta\" rel=\"nofollow\"><img alt=\"Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6277b155eb7f5303572c5965a74aafcc961234a2/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f73776973736474612e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/swissdta\" rel=\"nofollow\"><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9bb5d5ff61692825d67f81dbec43abb60a46e913/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f73776973736474612e737667\"></a>\n<a href=\"https://pypi.python.org/pypi/swissdta\" rel=\"nofollow\"><img alt=\"https://img.shields.io/pypi/pyversions/swissdta.svg\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7fa8099e3a454dfe20255b9492d522fcf7e99c5c/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f73776973736474612e737667\"></a>\n<a href=\"https://travis-ci.org/BitySA/swissdta\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dcc7b1d29221bb127966148ec4b5cf79f54a2ebc/68747470733a2f2f7472617669732d63692e6f72672f4269747953412f73776973736474612e7376673f6272616e63683d6d6173746572\"></a>\n<a href=\"https://codecov.io/gh/BitySA/swissdta\" rel=\"nofollow\"><img alt=\"Codecov\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/74889a1b98fe184abf39b805753bf808eead5ad7/68747470733a2f2f696d672e736869656c64732e696f2f636f6465636f762f632f6769746875622f4269747953412f73776973736474612e737667\"></a>\n<a href=\"https://github.com/BitySA/swissdta/graphs/contributors\" rel=\"nofollow\"><img alt=\"contributors\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/361a1b9d93424056be0147ec5fb599e025170b5d/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732f4269747953412f73776973736474612e737667\"></a>\n<p>Generator library for Swiss DTA (\u201cDatentr\u00e4geraustauschverfahren\u201d) electronic payment records loosely inspired by <a href=\"https://pypi.python.org/pypi/python-dta\" rel=\"nofollow\">python-dta</a>.</p>\n<div id=\"author\">\n<h2>Author</h2>\n<p><a href=\"https://github.com/jacquesd\" rel=\"nofollow\">Jacques Dafflon</a> &lt;<a href=\"mailto:jacques%40bity.com\">jacques<span>@</span>bity<span>.</span>com</a>&gt;</p>\n</div>\n<div id=\"contributors\">\n<h2>Contributors</h2>\n<ul>\n<li><a href=\"https://github.com/jennyailin\" rel=\"nofollow\">Jenny Xiao</a> &lt;<a href=\"mailto:jennyxiao%40outlook.com\">jennyxiao<span>@</span>outlook<span>.</span>com</a>&gt;</li>\n<li><a href=\"https://github.com/minege\" rel=\"nofollow\">Loan Ventura</a> &lt;<a href=\"mailto:minege02%40gmail.com\">minege02<span>@</span>gmail<span>.</span>com</a>&gt;</li>\n</ul>\n</div>\n<div id=\"disclaimer\">\n<h2>Disclaimer</h2>\n<p>Please review and test the library with your infrastructure before using it.</p>\n<p>The author does not guarantee that this library will generate valid DTA records and is in no way responsible\nfor any financial issues (including but not limited to: failure of payments, payments to wrong party,\nincorrect payment amount, financial lost).</p>\n<p>By using this library you agree to this disclaimer.</p>\n</div>\n<div id=\"license\">\n<h2>License</h2>\n<p>Distributed under the <a href=\"https://github.com/BitySA/swissdta/blob/master/LICENSE\" rel=\"nofollow\">MIT License</a></p>\n</div>\n<div id=\"features\">\n<h2>Features</h2>\n<ul>\n<li>Support for transaction types 836, 890</li>\n<li>Implements most of the validations rules specified in the <a href=\"https://www.six-interbank-clearing.com/dam/downloads/en/standardization/dta/dta.pdf\" rel=\"nofollow\">DTA Standards and Formats</a>.</li>\n<li>Supports <cite>Decimal</cite>, <cite>date</cite> and IBAN with or without blanks as input values</li>\n<li>Automatic generation of TA 890 record</li>\n<li>Automatically handle sequence numbers</li>\n<li>Automatically use the sender identification for the first 5 characters of the reference (TA 836)</li>\n<li>Currency code check (via <a href=\"https://pypi.python.org/pypi/iso4217\" rel=\"nofollow\">iso4217</a>)</li>\n<li>Clipping of overlong Alphanumeric fields (such as addresses or purpose)</li>\n<li>Automatic conversion of permitted ISO Latincode 8859-1 characters</li>\n<li>Enum for fields with a constrained of valid values (e.g. <a href=\"https://github.com/BitySA/swissdta/blob/master/swissdta/constants.py#L20-L22\" rel=\"nofollow\">swissdta.constants.IdentificationPurpose</a>)</li>\n<li>Sane default values</li>\n<li>Generates a sequence of properly (latin-1) encoded bytes</li>\n<li>Type annotations</li>\n</ul>\n</div>\n<div id=\"getting-started\">\n<h2>Getting Started</h2>\n<p>Generate a DTA file containing a single transaction of type 836:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">datetime</span> <span class=\"kn\">import</span> <span class=\"n\">datetime</span><span class=\"p\">,</span> <span class=\"n\">timedelta</span>\n<span class=\"kn\">from</span> <span class=\"nn\">decimal</span> <span class=\"kn\">import</span> <span class=\"n\">Decimal</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">swissdta</span> <span class=\"kn\">import</span> <span class=\"n\">ChargesRule</span><span class=\"p\">,</span> <span class=\"n\">DTAFile</span><span class=\"p\">,</span> <span class=\"n\">IdentificationPurpose</span>\n\n\n<span class=\"n\">dta_file</span> <span class=\"o\">=</span> <span class=\"n\">DTAFile</span><span class=\"p\">(</span><span class=\"n\">sender_id</span><span class=\"o\">=</span><span class=\"s1\">'ABC12'</span><span class=\"p\">,</span> <span class=\"n\">client_clearing</span><span class=\"o\">=</span><span class=\"s1\">'8888'</span><span class=\"p\">)</span>\n<span class=\"n\">dta_file</span><span class=\"o\">.</span><span class=\"n\">add_836_record</span><span class=\"p\">(</span><span class=\"n\">reference</span><span class=\"o\">=</span><span class=\"s1\">'01234567890'</span><span class=\"p\">,</span>  <span class=\"c1\"># only 11 chars, the first 5 (sender id) are added automatically</span>\n                        <span class=\"n\">client_account</span><span class=\"o\">=</span><span class=\"s1\">'CH38 0888 8123 4567 8901 2'</span><span class=\"p\">,</span>\n                        <span class=\"n\">processing_date</span><span class=\"o\">=</span><span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">now</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">timedelta</span><span class=\"p\">(</span><span class=\"n\">days</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">),</span>  <span class=\"c1\"># next day</span>\n                        <span class=\"n\">currency</span><span class=\"o\">=</span><span class=\"s1\">'CHF'</span><span class=\"p\">,</span>\n                        <span class=\"n\">amount</span><span class=\"o\">=</span><span class=\"n\">Decimal</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">),</span>\n                        <span class=\"n\">client_address</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">'Alphabet Inc'</span><span class=\"p\">,</span> <span class=\"s1\">'Brandschenkestrasse 110'</span><span class=\"p\">,</span> <span class=\"s1\">'8002 Z\u00fcrich'</span><span class=\"p\">),</span>\n                        <span class=\"n\">recipient_iban</span><span class=\"o\">=</span><span class=\"s1\">'CH9300762011623852957'</span><span class=\"p\">,</span>\n                        <span class=\"n\">recipient_name</span><span class=\"o\">=</span><span class=\"s1\">'Herr Peter Haller'</span><span class=\"p\">,</span>\n                        <span class=\"n\">recipient_address</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">'Marktplaz 4'</span><span class=\"p\">,</span> <span class=\"s1\">'9400 Rorschach'</span><span class=\"p\">),</span>\n                        <span class=\"n\">identification_purpose</span><span class=\"o\">=</span><span class=\"n\">IdentificationPurpose</span><span class=\"o\">.</span><span class=\"n\">UNSTRUCTURED</span><span class=\"p\">,</span>\n                        <span class=\"n\">purpose</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">'DTA lib example'</span><span class=\"p\">,</span> <span class=\"s1\">''</span><span class=\"p\">,</span> <span class=\"s1\">''</span><span class=\"p\">),</span>\n                        <span class=\"n\">charges_rules</span><span class=\"o\">=</span><span class=\"n\">ChargesRule</span><span class=\"o\">.</span><span class=\"n\">OUR</span>\n                        <span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">dta_file</span><span class=\"o\">.</span><span class=\"n\">generate</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">decode</span><span class=\"p\">(</span><span class=\"s1\">'latin-1'</span><span class=\"p\">))</span>\n\n<span class=\"sd\">\"\"\"\n&gt;&gt;&gt; print(dta_file.generate().decode('latin-1'))\n01000000            000001708308888   ABC120000183600ABC1201234567890CH3808888123456789012   170831CHF10,\n02            Alphabet Inc                       Brandschenkestrasse 110            8002 Zuerich\n03D                                                                      CH9300762011623852957\n04Herr Peter Haller                  Marktplaz 4                        9400 Rorschach\n05UDTA lib example                                                                                          0\n01000000            00000170830       ABC12000028900010,\n\n\"\"\"</span>\n</pre>\n</div>\n<div id=\"documentation-and-testing\">\n<h2>Documentation and Testing</h2>\n<p>To build the documentation and run tests install the dev dependencies:</p>\n<pre>pipenv install --dev\n</pre>\n<p>Run detox</p>\n<pre>pipenv run detox\n</pre>\n<p>To only build the documentation</p>\n<pre>pipenv run tox -e docs\n</pre>\n<p>To only run the tests</p>\n<pre>pipenv run tox -e py36\n</pre>\n<p>To only lint the code</p>\n<pre>pipenv run tox -e pylint-tests,pylint\n</pre>\n</div>\n<div id=\"limitations\">\n<h2>Limitations</h2>\n<ul>\n<li>The account to be debited (<tt>client_account</tt>) for TA 836 only accepts IBAN</li>\n<li>The benificiary\u2019s bank clearing number is not validated against a registry of banks to check if it is valid (TA 836).</li>\n<li>No IPI reference validation if the identification purpose is set to structured (TA 836).</li>\n<li>No parsing functionality of existing DTA files or records</li>\n<li>Lack of tests (should be fixed soon\u2026)</li>\n</ul>\n</div>\n\n          </div>"}, "last_serial": 3472525, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "4f95e0a50b2a365fc8036d558bd416d4", "sha256": "cbbca2b579753f6c8ce0b6a7d24cdc32007f34bd450320b7b77d9f565dd1cab5"}, "downloads": -1, "filename": "swissdta-1.0.0-py3-none-any.whl", "has_sig": false, "md5_digest": "4f95e0a50b2a365fc8036d558bd416d4", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 32690, "upload_time": "2017-10-13T13:52:40", "upload_time_iso_8601": "2017-10-13T13:52:40.804372Z", "url": "https://files.pythonhosted.org/packages/52/7b/ef7645de191fc3e62d0f397246aed65097e597281478ad810f0bb0689012/swissdta-1.0.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e20646858c46c0333843b7b010f8b90d", "sha256": "bd72f5aed459888a34d771cdc022ff6d12ec9d462caed6f277b0cc369ebda375"}, "downloads": -1, "filename": "swissdta-1.0.0.tar.gz", "has_sig": false, "md5_digest": "e20646858c46c0333843b7b010f8b90d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 42070, "upload_time": "2017-10-13T13:52:42", "upload_time_iso_8601": "2017-10-13T13:52:42.297687Z", "url": "https://files.pythonhosted.org/packages/29/3c/c26e0b0ea804ea512c1b1bff9571567807c6aa6dd905856fe97807f4970d/swissdta-1.0.0.tar.gz", "yanked": false}], "1.0.1": [{"comment_text": "", "digests": {"md5": "4c4966716c1ebf76177e06ca06ecacaa", "sha256": "354b22a87ba76b4624c3f7b741a4517c9f72197d1b58342d7948fa1fda29a3bf"}, "downloads": -1, "filename": "swissdta-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "4c4966716c1ebf76177e06ca06ecacaa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 32724, "upload_time": "2018-01-08T23:12:35", "upload_time_iso_8601": "2018-01-08T23:12:35.749354Z", "url": "https://files.pythonhosted.org/packages/16/f6/980d83ac7fc3a31d0c00267e1520a794f26d71fb7568310cc73580755cdd/swissdta-1.0.1-py3-none-any.whl", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "4c4966716c1ebf76177e06ca06ecacaa", "sha256": "354b22a87ba76b4624c3f7b741a4517c9f72197d1b58342d7948fa1fda29a3bf"}, "downloads": -1, "filename": "swissdta-1.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "4c4966716c1ebf76177e06ca06ecacaa", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 32724, "upload_time": "2018-01-08T23:12:35", "upload_time_iso_8601": "2018-01-08T23:12:35.749354Z", "url": "https://files.pythonhosted.org/packages/16/f6/980d83ac7fc3a31d0c00267e1520a794f26d71fb7568310cc73580755cdd/swissdta-1.0.1-py3-none-any.whl", "yanked": false}], "timestamp": "Fri May  8 02:59:25 2020"}
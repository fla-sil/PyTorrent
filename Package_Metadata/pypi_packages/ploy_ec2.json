{"info": {"author": "Florian Schulze", "author_email": "florian.schulze@gmx.net", "bugtrack_url": null, "classifiers": ["Environment :: Console", "Intended Audience :: System Administrators", "Programming Language :: Python :: 2.6", "Programming Language :: Python :: 2.7", "Programming Language :: Python :: 2 :: Only", "Topic :: System :: Installation/Setup", "Topic :: System :: Systems Administration"], "description": "Overview\n========\n\nThe ploy_ec2 plugin provides integration of `Amazon EC2`_ with `ploy`_.\n\n.. _Amazon EC2: http://aws.amazon.com/ec2/\n.. _ploy: https://github.com/ployground/\n\n\nInstallation\n============\n\nploy_ec2 is best installed with easy_install, pip or with zc.recipe.egg in a buildout.\n\n\nMasters\n=======\n\nTo use ploy_ec2 you need an Amazon account and `AWS keys <http://docs.aws.amazon.com/general/latest/gr/getting-aws-sec-creds.html>`_.\n\nOnce you got your keys, you should put them in a secure location and reference them in your ``ploy.conf``.\nAdditionally you need to set the region of the master::\n\n    [ec2-master:ec2eu]\n    access-key-id = ~/.aws/ec2.id\n    secret-access-key = ~/.aws/ec2.key\n    region = eu-west-1\n\nYou can also set the ``AWS_ACCESS_KEY_ID`` and ``AWS_SECRET_ACCESS_KEY`` environment variables instead.\n\nYou need to define a master for each `region <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html>`_ you want to use.\n\n\nInstances\n=========\n\nEach instance has the following mandatory settings:\n\n``image``\n  The `Amazon Machine Image (AMI) <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html>`_ that this instance will start up with.\n\n``keypair``\n  The name of the `SSH keypair <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html>`_ to use.\n\n``placement``\n  The `availability zone <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html>`_ in which to launch the instances.\n\n``securitygroups``\n  The name of the `Securitygroups`_ this instance should be assigned to.\n\nThe following settings are optional:\n\n``instance_type``\n\n``ip``\n\n``startup_script``\n  Path to a script which will be run right after creation and first start of the instance.\n  This uses the `User Data <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html>`_ feature and needs to be supported by the AMI.\n\n``volumes``\n\n``snapshots``\n\n``device_map``\n\n``delete-volumes-on-terminate``\n\n\nSecuritygroups\n==============\n\n``description``\n\n``connections``\n  ::\n\n    [ec2-securitygroup:app-server]\n    description = The production server\n    connections =\n        tcp     22      22      0.0.0.0/0\n        tcp     80      80      0.0.0.0/0\n\n\nVolumes\n=======\n\nYou can define volumes via ``ec2-volume`` sections.\nThe id of the section must not start with ``vol-``.\nYou can declare the ``size`` as a number of GB.\n\nIf the volume doesn't exist, it is automatically created.\n\n::\n\n  [ec2-volume:a-volume-name]\n  size = 100\n\n  [ec2-instance:foo]\n  ...\n  volumes = a-volume-name /dev/sdf\n\n\nMacro expansion\n===============\n\nFor instances the ``ip`` and ``volumes`` options aren't copied when expanding macros.\n\n\nFingerprint verification\n========================\n\nAutomatic ssh fingerprint verification works by checking whether the fingerprint is in the console output of the instance.\n\nAfter reboot or stop/start of an instance, the console output is refreshed.\nThe problem with that is, that the fingerprint isn't included in the console anymore by default.\nTo fix that you need to log the fingerprint on reboot somehow.\nOne way to do that with Ubuntu is to add a script at ``/var/lib/cloud/scripts/per-boot/ssh-keys`` with this content:\n\n.. code-block:: sh\n\n    #!/bin/sh\n    /usr/bin/ssh-keygen -l -f /etc/ssh/ssh_host_rsa_key.pub\n\nMake sure that script is executable.\n\n\nChangelog\n=========\n\n1.2.0 - 2015-09-03\n------------------\n\n* Check status of volume to give helpful error message if it's still attached.\n  [fschulze]\n\n* Allow volume definition via ``ec2-volume`` sections.\n  [fschulze]\n\n* Fix support of console output for the ``ploy debug -c`` command.\n  [fschulze]\n\n* Reuse init_ssh_key from ploy.plain to get way more options and error checking.\n  [fschulze]\n\n\n1.1.1 - 2015-01-22\n------------------\n\n* Only set device_map if it's in the config, the previous ``None`` default\n  didn't always work.\n  [fschulze]\n\n* Fixed console output availability test for the status command.\n  [fschulze]\n\n* Better error message if fingerprint isn't in console output.\n  [fschulze]\n\n* There can be multiple instances for the same name if they were quickly started\n  and stopped. Handle that case when requesting status of master.\n  [fschulze]\n\n\n1.1.0 - 2014-10-27\n------------------\n\n* Print status of all ec2 instances when requesting status of master.\n  [fschulze]\n\n\n1.0.0 - 2014-07-19\n------------------\n\n* Added documentation.\n  [fschulze]\n\n\n1.0b4 - 2014-07-15\n------------------\n\n* Fix confusion between instance from ploy and ec2 instance.\n  [fschulze]\n\n\n1.0b3 - 2014-07-08\n------------------\n\n* Moved ``snapshots`` list command here after ploy enabled it.\n  [fschulze]\n\n* Renamed mr.awsome to ploy and mr.awsome.ec2 to ploy_ec2.\n  [fschulze]\n\n\n1.0b2 - 2014-05-15\n------------------\n\n* Renamed ``conn`` to ``ec2_conn`` to allow reuse of ``conn`` from BaseInstance.\n  [fschulze]\n\n* Moved setuptools-git from setup.py to .travis.yml, it's only needed for\n  releases and testing.\n  [fschulze]\n\n\n1.0b1 - 2014-03-24\n------------------\n\n* Initial release\n  [fschulze]", "description_content_type": null, "docs_url": null, "download_url": "UNKNOWN", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "http://github.com/ployground/ploy_ec2", "keywords": null, "license": "BSD 3-Clause License", "maintainer": null, "maintainer_email": null, "name": "ploy_ec2", "package_url": "https://pypi.org/project/ploy_ec2/", "platform": "UNKNOWN", "project_url": "https://pypi.org/project/ploy_ec2/", "project_urls": {"Download": "UNKNOWN", "Homepage": "http://github.com/ployground/ploy_ec2"}, "release_url": "https://pypi.org/project/ploy_ec2/1.2.0/", "requires_dist": null, "requires_python": null, "summary": "Plugin for ploy to provision Amazon EC2 instances.", "version": "1.2.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <div id=\"overview\">\n<h2>Overview</h2>\n<p>The ploy_ec2 plugin provides integration of <a href=\"http://aws.amazon.com/ec2/\" rel=\"nofollow\">Amazon EC2</a> with <a href=\"https://github.com/ployground/\" rel=\"nofollow\">ploy</a>.</p>\n</div>\n<div id=\"installation\">\n<h2>Installation</h2>\n<p>ploy_ec2 is best installed with easy_install, pip or with zc.recipe.egg in a buildout.</p>\n</div>\n<div id=\"masters\">\n<h2>Masters</h2>\n<p>To use ploy_ec2 you need an Amazon account and <a href=\"http://docs.aws.amazon.com/general/latest/gr/getting-aws-sec-creds.html\" rel=\"nofollow\">AWS keys</a>.</p>\n<p>Once you got your keys, you should put them in a secure location and reference them in your <tt>ploy.conf</tt>.\nAdditionally you need to set the region of the master:</p>\n<pre>[ec2-master:ec2eu]\naccess-key-id = ~/.aws/ec2.id\nsecret-access-key = ~/.aws/ec2.key\nregion = eu-west-1\n</pre>\n<p>You can also set the <tt>AWS_ACCESS_KEY_ID</tt> and <tt>AWS_SECRET_ACCESS_KEY</tt> environment variables instead.</p>\n<p>You need to define a master for each <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html\" rel=\"nofollow\">region</a> you want to use.</p>\n</div>\n<div id=\"instances\">\n<h2>Instances</h2>\n<p>Each instance has the following mandatory settings:</p>\n<dl>\n<dt><tt>image</tt></dt>\n<dd>The <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html\" rel=\"nofollow\">Amazon Machine Image (AMI)</a> that this instance will start up with.</dd>\n<dt><tt>keypair</tt></dt>\n<dd>The name of the <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html\" rel=\"nofollow\">SSH keypair</a> to use.</dd>\n<dt><tt>placement</tt></dt>\n<dd>The <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html\" rel=\"nofollow\">availability zone</a> in which to launch the instances.</dd>\n<dt><tt>securitygroups</tt></dt>\n<dd>The name of the <a href=\"#securitygroups\" rel=\"nofollow\">Securitygroups</a> this instance should be assigned to.</dd>\n</dl>\n<p>The following settings are optional:</p>\n<p><tt>instance_type</tt></p>\n<p><tt>ip</tt></p>\n<dl>\n<dt><tt>startup_script</tt></dt>\n<dd>Path to a script which will be run right after creation and first start of the instance.\nThis uses the <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html\" rel=\"nofollow\">User Data</a> feature and needs to be supported by the AMI.</dd>\n</dl>\n<p><tt>volumes</tt></p>\n<p><tt>snapshots</tt></p>\n<p><tt>device_map</tt></p>\n<p><tt><span class=\"pre\">delete-volumes-on-terminate</span></tt></p>\n</div>\n<div id=\"securitygroups\">\n<h2>Securitygroups</h2>\n<p><tt>description</tt></p>\n<dl>\n<dt><tt>connections</tt></dt>\n<dd><pre>[ec2-securitygroup:app-server]\ndescription = The production server\nconnections =\n    tcp     22      22      0.0.0.0/0\n    tcp     80      80      0.0.0.0/0\n</pre>\n</dd>\n</dl>\n</div>\n<div id=\"volumes\">\n<h2>Volumes</h2>\n<p>You can define volumes via <tt><span class=\"pre\">ec2-volume</span></tt> sections.\nThe id of the section must not start with <tt>vol-</tt>.\nYou can declare the <tt>size</tt> as a number of GB.</p>\n<p>If the volume doesn\u2019t exist, it is automatically created.</p>\n<pre>[ec2-volume:a-volume-name]\nsize = 100\n\n[ec2-instance:foo]\n...\nvolumes = a-volume-name /dev/sdf\n</pre>\n</div>\n<div id=\"macro-expansion\">\n<h2>Macro expansion</h2>\n<p>For instances the <tt>ip</tt> and <tt>volumes</tt> options aren\u2019t copied when expanding macros.</p>\n</div>\n<div id=\"fingerprint-verification\">\n<h2>Fingerprint verification</h2>\n<p>Automatic ssh fingerprint verification works by checking whether the fingerprint is in the console output of the instance.</p>\n<p>After reboot or stop/start of an instance, the console output is refreshed.\nThe problem with that is, that the fingerprint isn\u2019t included in the console anymore by default.\nTo fix that you need to log the fingerprint on reboot somehow.\nOne way to do that with Ubuntu is to add a script at <tt><span class=\"pre\">/var/lib/cloud/scripts/per-boot/ssh-keys</span></tt> with this content:</p>\n<pre><span class=\"ch\">#!/bin/sh\n</span>/usr/bin/ssh-keygen -l -f /etc/ssh/ssh_host_rsa_key.pub\n</pre>\n<p>Make sure that script is executable.</p>\n</div>\n<div id=\"changelog\">\n<h2>Changelog</h2>\n<div id=\"id1\">\n<h3>1.2.0 - 2015-09-03</h3>\n<ul>\n<li>Check status of volume to give helpful error message if it\u2019s still attached.\n[fschulze]</li>\n<li>Allow volume definition via <tt><span class=\"pre\">ec2-volume</span></tt> sections.\n[fschulze]</li>\n<li>Fix support of console output for the <tt>ploy debug <span class=\"pre\">-c</span></tt> command.\n[fschulze]</li>\n<li>Reuse init_ssh_key from ploy.plain to get way more options and error checking.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"id2\">\n<h3>1.1.1 - 2015-01-22</h3>\n<ul>\n<li>Only set device_map if it\u2019s in the config, the previous <tt>None</tt> default\ndidn\u2019t always work.\n[fschulze]</li>\n<li>Fixed console output availability test for the status command.\n[fschulze]</li>\n<li>Better error message if fingerprint isn\u2019t in console output.\n[fschulze]</li>\n<li>There can be multiple instances for the same name if they were quickly started\nand stopped. Handle that case when requesting status of master.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"id3\">\n<h3>1.1.0 - 2014-10-27</h3>\n<ul>\n<li>Print status of all ec2 instances when requesting status of master.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"id4\">\n<h3>1.0.0 - 2014-07-19</h3>\n<ul>\n<li>Added documentation.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"b4-2014-07-15\">\n<h3>1.0b4 - 2014-07-15</h3>\n<ul>\n<li>Fix confusion between instance from ploy and ec2 instance.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"b3-2014-07-08\">\n<h3>1.0b3 - 2014-07-08</h3>\n<ul>\n<li>Moved <tt>snapshots</tt> list command here after ploy enabled it.\n[fschulze]</li>\n<li>Renamed mr.awsome to ploy and mr.awsome.ec2 to ploy_ec2.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"b2-2014-05-15\">\n<h3>1.0b2 - 2014-05-15</h3>\n<ul>\n<li>Renamed <tt>conn</tt> to <tt>ec2_conn</tt> to allow reuse of <tt>conn</tt> from BaseInstance.\n[fschulze]</li>\n<li>Moved setuptools-git from setup.py to .travis.yml, it\u2019s only needed for\nreleases and testing.\n[fschulze]</li>\n</ul>\n</div>\n<div id=\"b1-2014-03-24\">\n<h3>1.0b1 - 2014-03-24</h3>\n<ul>\n<li>Initial release\n[fschulze]</li>\n</ul>\n</div>\n</div>\n\n          </div>"}, "last_serial": 3559573, "releases": {"1.0.0": [{"comment_text": "", "digests": {"md5": "1185699c8376c3023870f9d0f70bf2fd", "sha256": "08b2b8ed4f38d416d7c01538335f3abb4495d1203eef37322da15f5152631a26"}, "downloads": -1, "filename": "ploy_ec2-1.0.0.zip", "has_sig": false, "md5_digest": "1185699c8376c3023870f9d0f70bf2fd", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16707, "upload_time": "2014-07-19T19:24:50", "upload_time_iso_8601": "2014-07-19T19:24:50.096523Z", "url": "https://files.pythonhosted.org/packages/da/eb/751b342257247544cbfcc598c84fe57fd11e0434fe77724000b0638abc56/ploy_ec2-1.0.0.zip", "yanked": false}], "1.0b3": [{"comment_text": "", "digests": {"md5": "2457a94997cc02f05104a827b7ad6492", "sha256": "e827eaa9cc60cb14151d0534be645a27f3f204eb7828cbb1979c0eafd8de0aec"}, "downloads": -1, "filename": "ploy_ec2-1.0b3.zip", "has_sig": false, "md5_digest": "2457a94997cc02f05104a827b7ad6492", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13602, "upload_time": "2014-07-08T09:29:45", "upload_time_iso_8601": "2014-07-08T09:29:45.036138Z", "url": "https://files.pythonhosted.org/packages/44/20/45a6640e1fbed896519465a9b386a4bdf755a5e074644ea6555abf54a0f6/ploy_ec2-1.0b3.zip", "yanked": false}], "1.0b4": [{"comment_text": "", "digests": {"md5": "8622fd5135309cb64d44fb931c2f2d64", "sha256": "07c09a32718a35ff875cfea91d34b64208e056dfdcf6045f7ba3a2bfc19ababb"}, "downloads": -1, "filename": "ploy_ec2-1.0b4.zip", "has_sig": false, "md5_digest": "8622fd5135309cb64d44fb931c2f2d64", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 13724, "upload_time": "2014-07-15T13:16:01", "upload_time_iso_8601": "2014-07-15T13:16:01.620973Z", "url": "https://files.pythonhosted.org/packages/18/75/576db53453b2e2b91be445bd088c97a2d31949478adf56873652249003a7/ploy_ec2-1.0b4.zip", "yanked": false}], "1.1.0": [{"comment_text": "", "digests": {"md5": "bc4698675276756f80437ff26f87082b", "sha256": "3ae31c68a34738eb9643fd77a935b263dfbf9dabfd677a3a79e8cff4bafbcdfc"}, "downloads": -1, "filename": "ploy_ec2-1.1.0.zip", "has_sig": false, "md5_digest": "bc4698675276756f80437ff26f87082b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 17564, "upload_time": "2014-10-27T11:10:38", "upload_time_iso_8601": "2014-10-27T11:10:38.381293Z", "url": "https://files.pythonhosted.org/packages/c5/33/c788277bca44a8dc9e881ac387756bbfd4d3803841b8a2b8727824754c6f/ploy_ec2-1.1.0.zip", "yanked": false}], "1.1.1": [{"comment_text": "", "digests": {"md5": "37e8f40ff97fee4a01a831565e436b78", "sha256": "7153c67660b6d9dc9f02cabeac1f3feecdf3982441ba25656e0159c7b8f31aca"}, "downloads": -1, "filename": "ploy_ec2-1.1.1.zip", "has_sig": false, "md5_digest": "37e8f40ff97fee4a01a831565e436b78", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 19070, "upload_time": "2015-01-22T11:44:48", "upload_time_iso_8601": "2015-01-22T11:44:48.177097Z", "url": "https://files.pythonhosted.org/packages/71/d2/09454e0933b00ae278258b90fe202680367efb6c7df5a8824c67a20d7198/ploy_ec2-1.1.1.zip", "yanked": false}], "1.2.0": [{"comment_text": "", "digests": {"md5": "2602c1cf974418702efbf19faac3ac12", "sha256": "de74c860f64742749a69327bd013ade9c7ea08fe764017bb713671dfe06f5662"}, "downloads": -1, "filename": "ploy_ec2-1.2.0.tar.gz", "has_sig": false, "md5_digest": "2602c1cf974418702efbf19faac3ac12", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16121, "upload_time": "2015-09-03T06:27:41", "upload_time_iso_8601": "2015-09-03T06:27:41.880271Z", "url": "https://files.pythonhosted.org/packages/4e/83/caf9a381ccd58f12e652e171a9dded2eb3fc3a57019cb8022b5f1a29f986/ploy_ec2-1.2.0.tar.gz", "yanked": false}, {"comment_text": "", "digests": {"md5": "0623e2f7e208091ed3a69f2dfc223437", "sha256": "3f45f05fdc60646c9a3b8676d6005d14e8cbd676049a4b00314121f334b03410"}, "downloads": -1, "filename": "ploy_ec2-1.2.0.zip", "has_sig": false, "md5_digest": "0623e2f7e208091ed3a69f2dfc223437", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21005, "upload_time": "2015-09-03T06:27:38", "upload_time_iso_8601": "2015-09-03T06:27:38.116305Z", "url": "https://files.pythonhosted.org/packages/ff/29/2f068a98dc4b90c5ac834364f8f3e8b0a126c5c4636449c1fdcf75f9de19/ploy_ec2-1.2.0.zip", "yanked": false}], "2.0.0b1": [{"comment_text": "", "digests": {"md5": "f105fc85e65f39895659ec5195652f30", "sha256": "2fb2d33cf429c8a5ab6a46d024903aea4f23f988fde085ed07b1ff5d4db9e785"}, "downloads": -1, "filename": "ploy_ec2-2.0.0b1-py2.py3-none-any.whl", "has_sig": false, "md5_digest": "f105fc85e65f39895659ec5195652f30", "packagetype": "bdist_wheel", "python_version": "2.7", "requires_python": null, "size": 16948, "upload_time": "2018-02-07T08:25:01", "upload_time_iso_8601": "2018-02-07T08:25:01.072895Z", "url": "https://files.pythonhosted.org/packages/cb/6b/c3f285e0994e113cdb06acf304cc652bb553ea1292fe1941167d3257f4bc/ploy_ec2-2.0.0b1-py2.py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5cefd96c6c80cb436372551855d14777", "sha256": "1fef00dda573a60a7398f440a3ecda9ccb2eb81d3acdd2179a19c3d86a6ae404"}, "downloads": -1, "filename": "ploy_ec2-2.0.0b1.tar.gz", "has_sig": false, "md5_digest": "5cefd96c6c80cb436372551855d14777", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16868, "upload_time": "2018-02-07T08:24:59", "upload_time_iso_8601": "2018-02-07T08:24:59.233027Z", "url": "https://files.pythonhosted.org/packages/3d/20/e1d843e1e1b3240d70fa11872b9e7fafb1be5f86fbd4cebd8d2a7a2191d2/ploy_ec2-2.0.0b1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "2602c1cf974418702efbf19faac3ac12", "sha256": "de74c860f64742749a69327bd013ade9c7ea08fe764017bb713671dfe06f5662"}, "downloads": -1, "filename": "ploy_ec2-1.2.0.tar.gz", "has_sig": false, "md5_digest": "2602c1cf974418702efbf19faac3ac12", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 16121, "upload_time": "2015-09-03T06:27:41", "upload_time_iso_8601": "2015-09-03T06:27:41.880271Z", "url": "https://files.pythonhosted.org/packages/4e/83/caf9a381ccd58f12e652e171a9dded2eb3fc3a57019cb8022b5f1a29f986/ploy_ec2-1.2.0.tar.gz", "yanked": false}, {"comment_text": "", "digests": {"md5": "0623e2f7e208091ed3a69f2dfc223437", "sha256": "3f45f05fdc60646c9a3b8676d6005d14e8cbd676049a4b00314121f334b03410"}, "downloads": -1, "filename": "ploy_ec2-1.2.0.zip", "has_sig": false, "md5_digest": "0623e2f7e208091ed3a69f2dfc223437", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 21005, "upload_time": "2015-09-03T06:27:38", "upload_time_iso_8601": "2015-09-03T06:27:38.116305Z", "url": "https://files.pythonhosted.org/packages/ff/29/2f068a98dc4b90c5ac834364f8f3e8b0a126c5c4636449c1fdcf75f9de19/ploy_ec2-1.2.0.zip", "yanked": false}], "timestamp": "Fri May  8 02:52:31 2020"}
{"info": {"author": "SG", "author_email": "", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Software Development :: Libraries"], "description": "# klotan\n\n## Description\n\nKlotan is a Python library used to match a structure (tuples, lists, dicts) with a template.\nA template is made of a set of criteria.\n\n## Installation\n\nYou just have to clone this repository and install it using the command\n```bash\npip install .\n```\n\nOr you can also install it from PyPi\n```bash\npip install klotan\n```\n\nYou can test the installation by running the following command :\n\n```bash\npython -c \"import klotan; print(klotan.match.match([klotan.criteria.equals(22)], [33]).is_valid())\"\n```\n\nwhich should print `False`\n\n## Usage\n\nKlotan can be used to validate some form results for example\n\n```python\nperson_template = {\n    # The gender can be either M, F or N/A\n    \"gender\": criteria.is_in(\"M\", \"F\", \"N/A\"),\n    # Expects a name starting with a capital letter, followed by 1 to 15 letters\n    \"name\": criteria.regex(\"[A-Z][a-z]{1,15}\"),\n    # Jeanne Calment still holds the world record\n    \"age\": criteria.between(0, 122),\n    # Matches all emails\n    \"email\": criteria.is_email(),\n    # Optional field, matches if value is an URL\n    match.optional(\"personal_website\"): criteria.is_url(),\n    # Matches valid IBANs\n    \"iban\": criteria.is_valid_iban(),\n    # Matches valid credit card numbers\n    \"credit_card\": criteria.is_valid_credit_card_number(),\n    # We only accept people without debts !\n    \"amount_of_money\": criteria.is_positive(),\n    # This criteria will accept anything\n    \"bonus\": criteria.accept(),\n}\n\n# Those are of course, fake informations\nperson = {\n    \"gender\": \"M\",\n    \"name\": \"Bob\",\n    \"age\": 18,\n    \"email\": \"bob.dupont@gmail.com\",\n    \"personal_website\": \"https://bob.dupont.fr/\",\n    \"iban\": \"FR68 1009 6000 7018 7224 1164 C75\",\n    \"credit_card\": \"4929609419559701\",\n    \"bonus\": lambda: 0,\n}\n\nprint(match.match(person_template, person).to_string())\n```\n\nThe code above prints the following output :\n```python\n{\n    \"gender\": Criteria<is_in>(\"M\", \"F\", \"N/A\") << (\"M\") => True,\n    \"name\": Criteria<regex>(\"[A-Z][a-z]{1,15}\") << (\"Bob\") => True,\n    \"age\": Criteria<between>(0, 122) << (18) => True,\n    \"email\": Criteria<is_email> << (\"bob.dupont@gmail.com\") => True,\n    \"personal_website\": Criteria<is_url> << (\"https://bob.dupont.fr/\") => True,\n    \"iban\": Criteria<is_valid_iban> << (\"FR68 1009 6000 7018 7224 1164 C75\") => True,\n    \"credit_card\": Criteria<is_valid_credit_card_number> << (\"4929609419559701\") => True,\n    \"amount_of_money\": Criteria<expected>(Criteria<is_positive>, False) << (None) => False,\n    \"bonus\": Criteria<accept> << (<function <lambda> at 0x000001C4767330D0>) => True\n}\n```\n\n## Licensing\n\nKlotan uses the MIT license, you can find more details about it [here](LICENSE)\n\n## Contributing\n\nYou can find more details about contributions [here](CONTRIBUTING.md)\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://sgithub.fr.world.socgen/ktollec111518/klotan", "keywords": "matching json", "license": "", "maintainer": "", "maintainer_email": "", "name": "klotan", "package_url": "https://pypi.org/project/klotan/", "platform": "", "project_url": "https://pypi.org/project/klotan/", "project_urls": {"Bug Reports": "https://sgithub.fr.world.socgen/ktollec111518/klotan/issues", "Homepage": "https://sgithub.fr.world.socgen/ktollec111518/klotan", "Source": "https://sgithub.fr.world.socgen/ktollec111518/klotan"}, "release_url": "https://pypi.org/project/klotan/1.8.1/", "requires_dist": ["pytest ; extra == 'tests'", "flake8 ; extra == 'tests'"], "requires_python": "", "summary": "Structural matching lib for Python", "version": "1.8.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>klotan</h1>\n<h2>Description</h2>\n<p>Klotan is a Python library used to match a structure (tuples, lists, dicts) with a template.\nA template is made of a set of criteria.</p>\n<h2>Installation</h2>\n<p>You just have to clone this repository and install it using the command</p>\n<pre>pip install .\n</pre>\n<p>Or you can also install it from PyPi</p>\n<pre>pip install klotan\n</pre>\n<p>You can test the installation by running the following command :</p>\n<pre>python -c <span class=\"s2\">\"import klotan; print(klotan.match.match([klotan.criteria.equals(22)], [33]).is_valid())\"</span>\n</pre>\n<p>which should print <code>False</code></p>\n<h2>Usage</h2>\n<p>Klotan can be used to validate some form results for example</p>\n<pre><span class=\"n\">person_template</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"c1\"># The gender can be either M, F or N/A</span>\n    <span class=\"s2\">\"gender\"</span><span class=\"p\">:</span> <span class=\"n\">criteria</span><span class=\"o\">.</span><span class=\"n\">is_in</span><span class=\"p\">(</span><span class=\"s2\">\"M\"</span><span class=\"p\">,</span> <span class=\"s2\">\"F\"</span><span class=\"p\">,</span> <span class=\"s2\">\"N/A\"</span><span class=\"p\">),</span>\n    <span class=\"c1\"># Expects a name starting with a capital letter, followed by 1 to 15 letters</span>\n    <span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"n\">criteria</span><span class=\"o\">.</span><span class=\"n\">regex</span><span class=\"p\">(</span><span class=\"s2\">\"[A-Z][a-z]{1,15}\"</span><span class=\"p\">),</span>\n    <span class=\"c1\"># Jeanne Calment still holds the world record</span>\n    <span class=\"s2\">\"age\"</span><span class=\"p\">:</span> <span class=\"n\">criteria</span><span class=\"o\">.</span><span class=\"n\">between</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">122</span><span class=\"p\">),</span>\n    <span class=\"c1\"># Matches all emails</span>\n    <span class=\"s2\">\"email\"</span><span class=\"p\">:</span> <span class=\"n\">criteria</span><span class=\"o\">.</span><span class=\"n\">is_email</span><span class=\"p\">(),</span>\n    <span class=\"c1\"># Optional field, matches if value is an URL</span>\n    <span class=\"n\">match</span><span class=\"o\">.</span><span class=\"n\">optional</span><span class=\"p\">(</span><span class=\"s2\">\"personal_website\"</span><span class=\"p\">):</span> <span class=\"n\">criteria</span><span class=\"o\">.</span><span class=\"n\">is_url</span><span class=\"p\">(),</span>\n    <span class=\"c1\"># Matches valid IBANs</span>\n    <span class=\"s2\">\"iban\"</span><span class=\"p\">:</span> <span class=\"n\">criteria</span><span class=\"o\">.</span><span class=\"n\">is_valid_iban</span><span class=\"p\">(),</span>\n    <span class=\"c1\"># Matches valid credit card numbers</span>\n    <span class=\"s2\">\"credit_card\"</span><span class=\"p\">:</span> <span class=\"n\">criteria</span><span class=\"o\">.</span><span class=\"n\">is_valid_credit_card_number</span><span class=\"p\">(),</span>\n    <span class=\"c1\"># We only accept people without debts !</span>\n    <span class=\"s2\">\"amount_of_money\"</span><span class=\"p\">:</span> <span class=\"n\">criteria</span><span class=\"o\">.</span><span class=\"n\">is_positive</span><span class=\"p\">(),</span>\n    <span class=\"c1\"># This criteria will accept anything</span>\n    <span class=\"s2\">\"bonus\"</span><span class=\"p\">:</span> <span class=\"n\">criteria</span><span class=\"o\">.</span><span class=\"n\">accept</span><span class=\"p\">(),</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\"># Those are of course, fake informations</span>\n<span class=\"n\">person</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">\"gender\"</span><span class=\"p\">:</span> <span class=\"s2\">\"M\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Bob\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"age\"</span><span class=\"p\">:</span> <span class=\"mi\">18</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"email\"</span><span class=\"p\">:</span> <span class=\"s2\">\"bob.dupont@gmail.com\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"personal_website\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://bob.dupont.fr/\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"iban\"</span><span class=\"p\">:</span> <span class=\"s2\">\"FR68 1009 6000 7018 7224 1164 C75\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"credit_card\"</span><span class=\"p\">:</span> <span class=\"s2\">\"4929609419559701\"</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"bonus\"</span><span class=\"p\">:</span> <span class=\"k\">lambda</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n<span class=\"p\">}</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">match</span><span class=\"o\">.</span><span class=\"n\">match</span><span class=\"p\">(</span><span class=\"n\">person_template</span><span class=\"p\">,</span> <span class=\"n\">person</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">to_string</span><span class=\"p\">())</span>\n</pre>\n<p>The code above prints the following output :</p>\n<pre><span class=\"p\">{</span>\n    <span class=\"s2\">\"gender\"</span><span class=\"p\">:</span> <span class=\"n\">Criteria</span><span class=\"o\">&lt;</span><span class=\"n\">is_in</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"s2\">\"M\"</span><span class=\"p\">,</span> <span class=\"s2\">\"F\"</span><span class=\"p\">,</span> <span class=\"s2\">\"N/A\"</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"s2\">\"M\"</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"name\"</span><span class=\"p\">:</span> <span class=\"n\">Criteria</span><span class=\"o\">&lt;</span><span class=\"n\">regex</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"s2\">\"[A-Z][a-z]{1,15}\"</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"s2\">\"Bob\"</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"age\"</span><span class=\"p\">:</span> <span class=\"n\">Criteria</span><span class=\"o\">&lt;</span><span class=\"n\">between</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">122</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"mi\">18</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"email\"</span><span class=\"p\">:</span> <span class=\"n\">Criteria</span><span class=\"o\">&lt;</span><span class=\"n\">is_email</span><span class=\"o\">&gt;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"s2\">\"bob.dupont@gmail.com\"</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"personal_website\"</span><span class=\"p\">:</span> <span class=\"n\">Criteria</span><span class=\"o\">&lt;</span><span class=\"n\">is_url</span><span class=\"o\">&gt;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"s2\">\"https://bob.dupont.fr/\"</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"iban\"</span><span class=\"p\">:</span> <span class=\"n\">Criteria</span><span class=\"o\">&lt;</span><span class=\"n\">is_valid_iban</span><span class=\"o\">&gt;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"s2\">\"FR68 1009 6000 7018 7224 1164 C75\"</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"credit_card\"</span><span class=\"p\">:</span> <span class=\"n\">Criteria</span><span class=\"o\">&lt;</span><span class=\"n\">is_valid_credit_card_number</span><span class=\"o\">&gt;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"s2\">\"4929609419559701\"</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"amount_of_money\"</span><span class=\"p\">:</span> <span class=\"n\">Criteria</span><span class=\"o\">&lt;</span><span class=\"n\">expected</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">Criteria</span><span class=\"o\">&lt;</span><span class=\"n\">is_positive</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"kc\">False</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"kc\">None</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">False</span><span class=\"p\">,</span>\n    <span class=\"s2\">\"bonus\"</span><span class=\"p\">:</span> <span class=\"n\">Criteria</span><span class=\"o\">&lt;</span><span class=\"n\">accept</span><span class=\"o\">&gt;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"o\">&lt;</span><span class=\"n\">function</span> <span class=\"o\">&lt;</span><span class=\"k\">lambda</span><span class=\"o\">&gt;</span> <span class=\"n\">at</span> <span class=\"mh\">0x000001C4767330D0</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">True</span>\n<span class=\"p\">}</span>\n</pre>\n<h2>Licensing</h2>\n<p>Klotan uses the MIT license, you can find more details about it <a href=\"LICENSE\" rel=\"nofollow\">here</a></p>\n<h2>Contributing</h2>\n<p>You can find more details about contributions <a href=\"CONTRIBUTING.md\" rel=\"nofollow\">here</a></p>\n\n          </div>"}, "last_serial": 6661279, "releases": {"1.8.1": [{"comment_text": "", "digests": {"md5": "530a8f4ce20c65a4ec898a95ce757e77", "sha256": "e1136ae8aa42075fc8b53c2500fad34667e67466a96fd7eaa62164afe7740775"}, "downloads": -1, "filename": "klotan-1.8.1-py3-none-any.whl", "has_sig": false, "md5_digest": "530a8f4ce20c65a4ec898a95ce757e77", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11003, "upload_time": "2020-02-19T14:22:53", "upload_time_iso_8601": "2020-02-19T14:22:53.681129Z", "url": "https://files.pythonhosted.org/packages/7c/6a/372704f5914c8d351ba333e0b3a59965c86b644c64340b64a5a14bd50b80/klotan-1.8.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1d34169c3b971c791c1ec2e0d0ae5377", "sha256": "7672a3e9d1951ca18099cb8e0aa0a406214a7041b8c1a62b0e2e83bd88f9c8c8"}, "downloads": -1, "filename": "klotan-1.8.1.tar.gz", "has_sig": false, "md5_digest": "1d34169c3b971c791c1ec2e0d0ae5377", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9209, "upload_time": "2020-02-19T14:22:55", "upload_time_iso_8601": "2020-02-19T14:22:55.199117Z", "url": "https://files.pythonhosted.org/packages/e8/3b/73fa4a3421f1815668dfea3173e3210abb0fd635e5d0d397e0ff507066bf/klotan-1.8.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "530a8f4ce20c65a4ec898a95ce757e77", "sha256": "e1136ae8aa42075fc8b53c2500fad34667e67466a96fd7eaa62164afe7740775"}, "downloads": -1, "filename": "klotan-1.8.1-py3-none-any.whl", "has_sig": false, "md5_digest": "530a8f4ce20c65a4ec898a95ce757e77", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 11003, "upload_time": "2020-02-19T14:22:53", "upload_time_iso_8601": "2020-02-19T14:22:53.681129Z", "url": "https://files.pythonhosted.org/packages/7c/6a/372704f5914c8d351ba333e0b3a59965c86b644c64340b64a5a14bd50b80/klotan-1.8.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1d34169c3b971c791c1ec2e0d0ae5377", "sha256": "7672a3e9d1951ca18099cb8e0aa0a406214a7041b8c1a62b0e2e83bd88f9c8c8"}, "downloads": -1, "filename": "klotan-1.8.1.tar.gz", "has_sig": false, "md5_digest": "1d34169c3b971c791c1ec2e0d0ae5377", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 9209, "upload_time": "2020-02-19T14:22:55", "upload_time_iso_8601": "2020-02-19T14:22:55.199117Z", "url": "https://files.pythonhosted.org/packages/e8/3b/73fa4a3421f1815668dfea3173e3210abb0fd635e5d0d397e0ff507066bf/klotan-1.8.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:49:19 2020"}
{"info": {"author": "Cone", "author_email": "1183008540@qq.com", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3"], "description": "# spider\n\u4e00\u4e2a\u7b80\u5355\u7684\u722c\u866b\u6846\u67b6, \u6027\u80fd\u4ec0\u4e48\u7684\u53ef\u80fd\u4e0d\u884c\uff0c\u4f46\u5e94\u8be5\u86ee\u7b80\u5355\u3002\n\n\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884cdemo_spider\u67e5\u770b\u6548\u679c\n\n\n\u8d34\u51fa\u90e8\u5206demo\u4ee3\u7801\n\n# \u5b9a\u4e49\u4e00\u4e2aOriginSqlItem\u4fbf\u4e8e\u6570\u636e\u5165\u5e93\n\n```python\nclass DemoItem(OriginSqlItem):\n    title = Field('nvarchar(100)')\n    tag = Field('nvarchar(20)')\n    url = Field('nchar(500)')\n```\n\n# \u5b9a\u4e49\u4e00\u4e2aRecorder\u89c4\u5b9a\u6570\u636e\u4fdd\u5b58\u65b9\u5f0f\n```python\nclass DemoRecorder(BaseRecorder):\n    table = 'demo_table'\n    def __init__(self):\n        super().__init__()\n        self.sql = Sqliter(**SQL)\n        DemoItem.create_item(self.sql, self.table, sqltype='sqlite')\n\n    def record(self, item):\n        return DemoItem.save(self.sql, self.table, item)\n```\n\n\"\"\"\n    \u6216\u8005\u76f4\u63a5\u4f7f\u7528SqlRecorder\u5165\u5e93\n    class DemoRecorder(SqlRecorder):\n        sql = Sqliter(**SQL)\n        model = DemoItem\n        table = 'demo'\n\"\"\"\n\n# \u4e0eScrapy\u7684\u90e8\u5206\u64cd\u4f5c\u7c7b\u4f3c\n```python\nclass DemoSpider(ConeSpider):\n    \"\"\"\n        \u5982\u679c\u9047\u5230\u53cd\u722c\u53ef\u4ee5\u81ea\u5b9a\u4e49downloader\n    \"\"\"\n    recorders = [DemoRecorder]\n    base_url = 'http://www.chinanews.com/scroll-news/news%d.html'\n    start_urls = ['http://www.chinanews.com/scroll-news/news1.html']\n\n    def parse(self, response):\n        pass\n        \"\"\"\u8be6\u89c1demo_spider\"\"\"\n```\n\nspider = DemoSpider()\nspider.start()\n\u5373\u53ef\u8fd0\u884c\u722c\u866b,Ctrl + C \u6682\u505c\uff0c\u8fde\u6309\u5173\u95ed\u722c\u866b\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/cone387/cone", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "py-cone", "package_url": "https://pypi.org/project/py-cone/", "platform": "", "project_url": "https://pypi.org/project/py-cone/", "project_urls": {"Homepage": "https://github.com/cone387/cone"}, "release_url": "https://pypi.org/project/py-cone/0.0.1/", "requires_dist": null, "requires_python": "", "summary": "a simple spider framework, and some tools for spider", "version": "0.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>spider</h1>\n<p>\u4e00\u4e2a\u7b80\u5355\u7684\u722c\u866b\u6846\u67b6, \u6027\u80fd\u4ec0\u4e48\u7684\u53ef\u80fd\u4e0d\u884c\uff0c\u4f46\u5e94\u8be5\u86ee\u7b80\u5355\u3002</p>\n<p>\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884cdemo_spider\u67e5\u770b\u6548\u679c</p>\n<p>\u8d34\u51fa\u90e8\u5206demo\u4ee3\u7801</p>\n<h1>\u5b9a\u4e49\u4e00\u4e2aOriginSqlItem\u4fbf\u4e8e\u6570\u636e\u5165\u5e93</h1>\n<pre><span class=\"k\">class</span> <span class=\"nc\">DemoItem</span><span class=\"p\">(</span><span class=\"n\">OriginSqlItem</span><span class=\"p\">):</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">Field</span><span class=\"p\">(</span><span class=\"s1\">'nvarchar(100)'</span><span class=\"p\">)</span>\n    <span class=\"n\">tag</span> <span class=\"o\">=</span> <span class=\"n\">Field</span><span class=\"p\">(</span><span class=\"s1\">'nvarchar(20)'</span><span class=\"p\">)</span>\n    <span class=\"n\">url</span> <span class=\"o\">=</span> <span class=\"n\">Field</span><span class=\"p\">(</span><span class=\"s1\">'nchar(500)'</span><span class=\"p\">)</span>\n</pre>\n<h1>\u5b9a\u4e49\u4e00\u4e2aRecorder\u89c4\u5b9a\u6570\u636e\u4fdd\u5b58\u65b9\u5f0f</h1>\n<pre><span class=\"k\">class</span> <span class=\"nc\">DemoRecorder</span><span class=\"p\">(</span><span class=\"n\">BaseRecorder</span><span class=\"p\">):</span>\n    <span class=\"n\">table</span> <span class=\"o\">=</span> <span class=\"s1\">'demo_table'</span>\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">sql</span> <span class=\"o\">=</span> <span class=\"n\">Sqliter</span><span class=\"p\">(</span><span class=\"o\">**</span><span class=\"n\">SQL</span><span class=\"p\">)</span>\n        <span class=\"n\">DemoItem</span><span class=\"o\">.</span><span class=\"n\">create_item</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">sql</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">,</span> <span class=\"n\">sqltype</span><span class=\"o\">=</span><span class=\"s1\">'sqlite'</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">record</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">DemoItem</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">sql</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">)</span>\n</pre>\n<p>\"\"\"\n\u6216\u8005\u76f4\u63a5\u4f7f\u7528SqlRecorder\u5165\u5e93\nclass DemoRecorder(SqlRecorder):\nsql = Sqliter(**SQL)\nmodel = DemoItem\ntable = 'demo'\n\"\"\"</p>\n<h1>\u4e0eScrapy\u7684\u90e8\u5206\u64cd\u4f5c\u7c7b\u4f3c</h1>\n<pre><span class=\"k\">class</span> <span class=\"nc\">DemoSpider</span><span class=\"p\">(</span><span class=\"n\">ConeSpider</span><span class=\"p\">):</span>\n    <span class=\"sd\">\"\"\"</span>\n<span class=\"sd\">        \u5982\u679c\u9047\u5230\u53cd\u722c\u53ef\u4ee5\u81ea\u5b9a\u4e49downloader</span>\n<span class=\"sd\">    \"\"\"</span>\n    <span class=\"n\">recorders</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">DemoRecorder</span><span class=\"p\">]</span>\n    <span class=\"n\">base_url</span> <span class=\"o\">=</span> <span class=\"s1\">'http://www.chinanews.com/scroll-news/news</span><span class=\"si\">%d</span><span class=\"s1\">.html'</span>\n    <span class=\"n\">start_urls</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">'http://www.chinanews.com/scroll-news/news1.html'</span><span class=\"p\">]</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">parse</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"p\">):</span>\n        <span class=\"k\">pass</span>\n        <span class=\"sd\">\"\"\"\u8be6\u89c1demo_spider\"\"\"</span>\n</pre>\n<p>spider = DemoSpider()\nspider.start()\n\u5373\u53ef\u8fd0\u884c\u722c\u866b,Ctrl + C \u6682\u505c\uff0c\u8fde\u6309\u5173\u95ed\u722c\u866b</p>\n\n          </div>"}, "last_serial": 6747114, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "70747cf9ff41a90800fd62704fa6f8c7", "sha256": "d9fe6aa7755f905e6bd42498aae38f3f1e5518df660f72c8ba852d61d1551fb7"}, "downloads": -1, "filename": "py_cone-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "70747cf9ff41a90800fd62704fa6f8c7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 56039, "upload_time": "2020-03-04T11:12:33", "upload_time_iso_8601": "2020-03-04T11:12:33.287967Z", "url": "https://files.pythonhosted.org/packages/c7/26/d0829f0f06488c3408f26b36c5049f2bb8abcc75c0fe0d653bd232edb1b5/py_cone-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e59eb62ac6dee3fbd0dd427fd35b9880", "sha256": "95d8d530f946ee5aafd64b2639529fbd6fd6ec9dbf623218cfb1d0585f219b64"}, "downloads": -1, "filename": "py-cone-0.0.1.tar.gz", "has_sig": false, "md5_digest": "e59eb62ac6dee3fbd0dd427fd35b9880", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 40567, "upload_time": "2020-03-04T11:12:35", "upload_time_iso_8601": "2020-03-04T11:12:35.832194Z", "url": "https://files.pythonhosted.org/packages/12/ac/e7b3a74949c608c732cac286b2495431372193bd5f3cf091cbb90704f861/py-cone-0.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "70747cf9ff41a90800fd62704fa6f8c7", "sha256": "d9fe6aa7755f905e6bd42498aae38f3f1e5518df660f72c8ba852d61d1551fb7"}, "downloads": -1, "filename": "py_cone-0.0.1-py3-none-any.whl", "has_sig": false, "md5_digest": "70747cf9ff41a90800fd62704fa6f8c7", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 56039, "upload_time": "2020-03-04T11:12:33", "upload_time_iso_8601": "2020-03-04T11:12:33.287967Z", "url": "https://files.pythonhosted.org/packages/c7/26/d0829f0f06488c3408f26b36c5049f2bb8abcc75c0fe0d653bd232edb1b5/py_cone-0.0.1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "e59eb62ac6dee3fbd0dd427fd35b9880", "sha256": "95d8d530f946ee5aafd64b2639529fbd6fd6ec9dbf623218cfb1d0585f219b64"}, "downloads": -1, "filename": "py-cone-0.0.1.tar.gz", "has_sig": false, "md5_digest": "e59eb62ac6dee3fbd0dd427fd35b9880", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 40567, "upload_time": "2020-03-04T11:12:35", "upload_time_iso_8601": "2020-03-04T11:12:35.832194Z", "url": "https://files.pythonhosted.org/packages/12/ac/e7b3a74949c608c732cac286b2495431372193bd5f3cf091cbb90704f861/py-cone-0.0.1.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:08:09 2020"}
{"info": {"author": "G. Watts (IRIS-HEP/UW Seattle)", "author_email": "gwatts@uw.edu", "bugtrack_url": null, "classifiers": ["Development Status :: 3 - Alpha", "Intended Audience :: Developers", "Intended Audience :: Information Technology", "Programming Language :: Python", "Topic :: Software Development", "Topic :: Utilities"], "description": "# ServiceX_frontend\n Client access library for ServiceX\n\n[![GitHub Actions Status](https://github.com/ssl-hep/ServiceX_frontend/workflows/CI/CD/badge.svg)](https://github.com/ssl-hep/ServiceX_frontend/actions)\n[![Code Coverage](https://codecov.io/gh/ssl-hep/ServiceX_frontend/graph/badge.svg)](https://codecov.io/gh/ssl-hep/ServiceX_frontend)\n\n[![PyPI version](https://badge.fury.io/py/servicex.svg)](https://badge.fury.io/py/servicex)\n[![Supported Python versions](https://img.shields.io/pypi/pyversions/servicex.svg)](https://pypi.org/project/servicex/)\n\n# Introduction\n\nGiven you have a selection string, this library will manage submitting it to a ServiceX instance and retreiving the data locally for you.\nThe selection string is often generated by another front-end library, for example:\n\n- func_adl.xAOD (for ATLAS xAOD's)\n- func_adl.XXX (for flat ntuples)\n- xxx for columns\n\nThese libraries are just coming up now, so this list is just an outline.\n\n# Prerequisites\n\nBefore you install this library you'll need:\n\n- An environment based on python 3.7 or later\n- A ServiceX end-point. For example, `http://localhost:5000/servicex`.\n\n# Usage\n\nThe following lines will return a `pandas.DataFrame` containing all the jet pT's from an ATLAS xAOD file containing Z->ee Monte Carlo:\n\n```\n    import servicex\n    query = \"(call ResultTTree (call Select (call SelectMany (call EventDataset (list 'localds:bogus')) (lambda (list e) (call (attr e 'Jets') 'AntiKt4EMTopoJets'))) (lambda (list j) (/ (call (attr j 'pt')) 1000.0))) (list 'JetPt') 'analysis' 'junk.root')\"\n    dataset = \"mc15_13TeV:mc15_13TeV.361106.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zee.merge.DAOD_STDM3.e3601_s2576_s2132_r6630_r6264_p2363_tid05630052_00\"\n    r = servicex.get_data(query , dataset, servicex_endpoint=endpoint)\n    print(r)\n```\nAnd the output in a terminal window from running the above script (takes about 1-2 minutes to complete):\n```\npython scripts\\run_test.py http://localhost:5000/servicex\n            JetPt\nentry\n0       38.065707\n1       31.967096\n2        7.881337\n3        6.669581\n4        5.624053\n...           ...\n710183  42.926141\n710184  30.815709\n710185   6.348002\n710186   5.472711\n710187   5.212714\n\n[11355980 rows x 1 columns]\n```\n\nIf your query is badly formed or there is an other problem with the backend, an exception will be thrown.\n\nIf you'd like to be able to submit multiple queries and have them run on the ServiceX back end in parallel, it may be best to use the `asyncio` interface, which has the identical signature, but is called `get_data_async`.\n\n# Features\n\nImplemented:\n\n- Accepts a `qastle` formatted query\n- Exceptions are used to report back errors of all sorts from the service to the user's code.\n- Data is return as a `pandas.DataFrame` or a  `awkward` array (see the `data_type` parameter)\n- Complete returned data must fit in the process' memory\n- Run in an async or a non-async environment and non-async methods will accomodate automatically (including `jupyter` notebooks).\n- Support up to 100 simultanious queries from a laptop-like front end without overwhelming the local machine (hopefully ServiceX will be overwhelmed!)\n- Start downloading files as soon as they are ready (before ServiceX is done with the complete transform).\n\nComming:\n\n- Data is returned as a list of ROOT files located in a specified directory\n- Make it easy to submit the same query for 100 different datasets\n\n# Testing\n\nThis code has been tested in several environments:\n\n- Windows, Linux, MacOS\n- Python 3.6, 3.7, 3.8\n   - 3.8.0 and 3.8.1 only. Unfortunately, 3.8.2 has caused `nest_asyncio` to fail. Until that package is updated we are stuck at 3.8.1.\n- Jupyter Notebooks (not automated), regular python command-line invoked source files\n\n# Development\n\nFor any changes please feel free to submit pull requests!\n\nTo do development please setup your environment with the following steps:\n\n1. A python 3.7 development environment\n1. Pull down this package, XX\n1. `python -m pip install -e .[test]`\n1. Run the tests to make sure everything is good: `pytest`.\n\nThen add tests as you develop. When you are done, submit a pull request with any required changes to the documentation and the online tests will run.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/iris-hep/func_adl_xAOD", "keywords": "", "license": "TBD", "maintainer": "Gordon Watts (IRIS-HEP/UW Seattle)", "maintainer_email": "gwatts@uw.edu", "name": "servicex", "package_url": "https://pypi.org/project/servicex/", "platform": "Any", "project_url": "https://pypi.org/project/servicex/", "project_urls": {"Homepage": "https://github.com/iris-hep/func_adl_xAOD"}, "release_url": "https://pypi.org/project/servicex/1.0.0b2/", "requires_dist": ["pandas (~=1.0)", "uproot (~=3.7)", "retry (~=0.9)", "aiohttp (~=3.6)", "minio (~=5.0)", "nest-asyncio (<1.3,>=1.2)", "pytest (>=3.9) ; extra == 'test'", "pytest-asyncio ; extra == 'test'", "pytest-mock ; extra == 'test'", "pytest-cov ; extra == 'test'", "coverage ; extra == 'test'", "flake8 ; extra == 'test'", "codecov ; extra == 'test'", "autopep8 ; extra == 'test'", "twine ; extra == 'test'", "jupyterlab ; extra == 'test'"], "requires_python": ">=3.6, <=3.8.1", "summary": "Front-end for the ServiceX Data Server", "version": "1.0.0b2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>ServiceX_frontend</h1>\n<p>Client access library for ServiceX</p>\n<p><a href=\"https://github.com/ssl-hep/ServiceX_frontend/actions\" rel=\"nofollow\"><img alt=\"GitHub Actions Status\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e32f124fb45e10748dfb6c0fd229b8159f87fd6c/68747470733a2f2f6769746875622e636f6d2f73736c2d6865702f53657276696365585f66726f6e74656e642f776f726b666c6f77732f43492f43442f62616467652e737667\"></a>\n<a href=\"https://codecov.io/gh/ssl-hep/ServiceX_frontend\" rel=\"nofollow\"><img alt=\"Code Coverage\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/5badef857c9b1a73be89c62cb9a214622277b3df/68747470733a2f2f636f6465636f762e696f2f67682f73736c2d6865702f53657276696365585f66726f6e74656e642f67726170682f62616467652e737667\"></a></p>\n<p><a href=\"https://badge.fury.io/py/servicex\" rel=\"nofollow\"><img alt=\"PyPI version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/e1f56304d3e25d0393c85207f3c47b859ba51394/68747470733a2f2f62616467652e667572792e696f2f70792f73657276696365782e737667\"></a>\n<a href=\"https://pypi.org/project/servicex/\" rel=\"nofollow\"><img alt=\"Supported Python versions\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/70706871bbcb7ad247bfd2a8c45b724b5a3f3190/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f73657276696365782e737667\"></a></p>\n<h1>Introduction</h1>\n<p>Given you have a selection string, this library will manage submitting it to a ServiceX instance and retreiving the data locally for you.\nThe selection string is often generated by another front-end library, for example:</p>\n<ul>\n<li>func_adl.xAOD (for ATLAS xAOD's)</li>\n<li>func_adl.XXX (for flat ntuples)</li>\n<li>xxx for columns</li>\n</ul>\n<p>These libraries are just coming up now, so this list is just an outline.</p>\n<h1>Prerequisites</h1>\n<p>Before you install this library you'll need:</p>\n<ul>\n<li>An environment based on python 3.7 or later</li>\n<li>A ServiceX end-point. For example, <code>http://localhost:5000/servicex</code>.</li>\n</ul>\n<h1>Usage</h1>\n<p>The following lines will return a <code>pandas.DataFrame</code> containing all the jet pT's from an ATLAS xAOD file containing Z-&gt;ee Monte Carlo:</p>\n<pre><code>    import servicex\n    query = \"(call ResultTTree (call Select (call SelectMany (call EventDataset (list 'localds:bogus')) (lambda (list e) (call (attr e 'Jets') 'AntiKt4EMTopoJets'))) (lambda (list j) (/ (call (attr j 'pt')) 1000.0))) (list 'JetPt') 'analysis' 'junk.root')\"\n    dataset = \"mc15_13TeV:mc15_13TeV.361106.PowhegPythia8EvtGen_AZNLOCTEQ6L1_Zee.merge.DAOD_STDM3.e3601_s2576_s2132_r6630_r6264_p2363_tid05630052_00\"\n    r = servicex.get_data(query , dataset, servicex_endpoint=endpoint)\n    print(r)\n</code></pre>\n<p>And the output in a terminal window from running the above script (takes about 1-2 minutes to complete):</p>\n<pre><code>python scripts\\run_test.py http://localhost:5000/servicex\n            JetPt\nentry\n0       38.065707\n1       31.967096\n2        7.881337\n3        6.669581\n4        5.624053\n...           ...\n710183  42.926141\n710184  30.815709\n710185   6.348002\n710186   5.472711\n710187   5.212714\n\n[11355980 rows x 1 columns]\n</code></pre>\n<p>If your query is badly formed or there is an other problem with the backend, an exception will be thrown.</p>\n<p>If you'd like to be able to submit multiple queries and have them run on the ServiceX back end in parallel, it may be best to use the <code>asyncio</code> interface, which has the identical signature, but is called <code>get_data_async</code>.</p>\n<h1>Features</h1>\n<p>Implemented:</p>\n<ul>\n<li>Accepts a <code>qastle</code> formatted query</li>\n<li>Exceptions are used to report back errors of all sorts from the service to the user's code.</li>\n<li>Data is return as a <code>pandas.DataFrame</code> or a  <code>awkward</code> array (see the <code>data_type</code> parameter)</li>\n<li>Complete returned data must fit in the process' memory</li>\n<li>Run in an async or a non-async environment and non-async methods will accomodate automatically (including <code>jupyter</code> notebooks).</li>\n<li>Support up to 100 simultanious queries from a laptop-like front end without overwhelming the local machine (hopefully ServiceX will be overwhelmed!)</li>\n<li>Start downloading files as soon as they are ready (before ServiceX is done with the complete transform).</li>\n</ul>\n<p>Comming:</p>\n<ul>\n<li>Data is returned as a list of ROOT files located in a specified directory</li>\n<li>Make it easy to submit the same query for 100 different datasets</li>\n</ul>\n<h1>Testing</h1>\n<p>This code has been tested in several environments:</p>\n<ul>\n<li>Windows, Linux, MacOS</li>\n<li>Python 3.6, 3.7, 3.8\n<ul>\n<li>3.8.0 and 3.8.1 only. Unfortunately, 3.8.2 has caused <code>nest_asyncio</code> to fail. Until that package is updated we are stuck at 3.8.1.</li>\n</ul>\n</li>\n<li>Jupyter Notebooks (not automated), regular python command-line invoked source files</li>\n</ul>\n<h1>Development</h1>\n<p>For any changes please feel free to submit pull requests!</p>\n<p>To do development please setup your environment with the following steps:</p>\n<ol>\n<li>A python 3.7 development environment</li>\n<li>Pull down this package, XX</li>\n<li><code>python -m pip install -e .[test]</code></li>\n<li>Run the tests to make sure everything is good: <code>pytest</code>.</li>\n</ol>\n<p>Then add tests as you develop. When you are done, submit a pull request with any required changes to the documentation and the online tests will run.</p>\n\n          </div>"}, "last_serial": 6789365, "releases": {"0.3rc1": [{"comment_text": "", "digests": {"md5": "ce441dda1ed4f8096e0d9c64afbeae9c", "sha256": "add81a91dab516684693bf43723efd842c1014f2cac70709cda5bd0d52dabacd"}, "downloads": -1, "filename": "servicex-0.3rc1-py3.6.egg", "has_sig": false, "md5_digest": "ce441dda1ed4f8096e0d9c64afbeae9c", "packagetype": "bdist_egg", "python_version": "3.6", "requires_python": ">=3.6", "size": 4120, "upload_time": "2020-02-24T22:18:20", "upload_time_iso_8601": "2020-02-24T22:18:20.309378Z", "url": "https://files.pythonhosted.org/packages/0d/39/4c3a01500d895ffcd39a2c4431cb49a2f121c983684c22ac160bb78ee000/servicex-0.3rc1-py3.6.egg", "yanked": false}], "1.0.0a8": [{"comment_text": "", "digests": {"md5": "b683e5c6911e46dc987fc73ef19e253d", "sha256": "4332f1d8976a2435c55db1cadd1d078ad53f34d5590c14dc5f599d4e54a3a628"}, "downloads": -1, "filename": "servicex-1.0.0a8-py3-none-any.whl", "has_sig": false, "md5_digest": "b683e5c6911e46dc987fc73ef19e253d", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.7", "size": 7059, "upload_time": "2020-03-07T07:33:51", "upload_time_iso_8601": "2020-03-07T07:33:51.303759Z", "url": "https://files.pythonhosted.org/packages/13/95/fc85daed9fa7bd6cc653190d6d79463db3a69c727d1deb9acd58a037077a/servicex-1.0.0a8-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "ffd819a72c55ff62709c0f15cbed8fb7", "sha256": "76d3e52499fcf9d81f4ccd8fead8dd89d7417f8c5b384bc4c57bbf96ef77fb32"}, "downloads": -1, "filename": "servicex-1.0.0a8.tar.gz", "has_sig": false, "md5_digest": "ffd819a72c55ff62709c0f15cbed8fb7", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.7", "size": 7050, "upload_time": "2020-03-07T07:33:52", "upload_time_iso_8601": "2020-03-07T07:33:52.289143Z", "url": "https://files.pythonhosted.org/packages/2b/4a/43b4e7fed4a8a0e63ba890742ac01623eaabc07cdda28c903e6b2cdeb8de/servicex-1.0.0a8.tar.gz", "yanked": false}], "1.0.0b1": [{"comment_text": "", "digests": {"md5": "64a1c9ada1681013e85d7575cd9c2a7a", "sha256": "9e0644afe43d8bfe73c7af96676660d1db54867f140ffb4b31feedd7cc135854"}, "downloads": -1, "filename": "servicex-1.0.0b1-py3-none-any.whl", "has_sig": false, "md5_digest": "64a1c9ada1681013e85d7575cd9c2a7a", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6, <=3.8.1", "size": 7212, "upload_time": "2020-03-09T00:41:49", "upload_time_iso_8601": "2020-03-09T00:41:49.220840Z", "url": "https://files.pythonhosted.org/packages/ea/2f/19a1d5d8942ac05fe5320e5e54b1a2a354b14d47f917fde53d63a847efe1/servicex-1.0.0b1-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "50f50002d7b3d70084c3faf6d47e1ae7", "sha256": "ebf7adaa9d8ff382172d6d61bea69b338a20135b424058e57ad5e029e0ea8705"}, "downloads": -1, "filename": "servicex-1.0.0b1.tar.gz", "has_sig": false, "md5_digest": "50f50002d7b3d70084c3faf6d47e1ae7", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6, <=3.8.1", "size": 7211, "upload_time": "2020-03-09T00:41:50", "upload_time_iso_8601": "2020-03-09T00:41:50.606795Z", "url": "https://files.pythonhosted.org/packages/32/17/dcb6c211e7c6dd231ab280448dfec26cd0b94647f32542e2376ba1d5e485/servicex-1.0.0b1.tar.gz", "yanked": false}], "1.0.0b2": [{"comment_text": "", "digests": {"md5": "5ca7060a803cc43dc5a3a3679256cb55", "sha256": "aa81e55a51d0bc7bdaed736e30952a5163cd8aaf2dcaff90e1c21a81d1261390"}, "downloads": -1, "filename": "servicex-1.0.0b2-py3-none-any.whl", "has_sig": false, "md5_digest": "5ca7060a803cc43dc5a3a3679256cb55", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6, <=3.8.1", "size": 7217, "upload_time": "2020-03-11T02:53:00", "upload_time_iso_8601": "2020-03-11T02:53:00.860723Z", "url": "https://files.pythonhosted.org/packages/00/fb/382b703b79616dee702bdce742f6e81034e61b57750d56f4e1d1c8f25e89/servicex-1.0.0b2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "87add1f41e66c4202e7c27488998ed07", "sha256": "1bac3ee7df80838b18261c9bc42219ed1ff09e69876eeda9707c09ff0228f1a8"}, "downloads": -1, "filename": "servicex-1.0.0b2.tar.gz", "has_sig": false, "md5_digest": "87add1f41e66c4202e7c27488998ed07", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6, <=3.8.1", "size": 7220, "upload_time": "2020-03-11T02:53:01", "upload_time_iso_8601": "2020-03-11T02:53:01.890427Z", "url": "https://files.pythonhosted.org/packages/fe/8b/c334042ba459588d3d6159259797e9f3f1a72cf04ee4099f1c39f77b3bdf/servicex-1.0.0b2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "5ca7060a803cc43dc5a3a3679256cb55", "sha256": "aa81e55a51d0bc7bdaed736e30952a5163cd8aaf2dcaff90e1c21a81d1261390"}, "downloads": -1, "filename": "servicex-1.0.0b2-py3-none-any.whl", "has_sig": false, "md5_digest": "5ca7060a803cc43dc5a3a3679256cb55", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6, <=3.8.1", "size": 7217, "upload_time": "2020-03-11T02:53:00", "upload_time_iso_8601": "2020-03-11T02:53:00.860723Z", "url": "https://files.pythonhosted.org/packages/00/fb/382b703b79616dee702bdce742f6e81034e61b57750d56f4e1d1c8f25e89/servicex-1.0.0b2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "87add1f41e66c4202e7c27488998ed07", "sha256": "1bac3ee7df80838b18261c9bc42219ed1ff09e69876eeda9707c09ff0228f1a8"}, "downloads": -1, "filename": "servicex-1.0.0b2.tar.gz", "has_sig": false, "md5_digest": "87add1f41e66c4202e7c27488998ed07", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6, <=3.8.1", "size": 7220, "upload_time": "2020-03-11T02:53:01", "upload_time_iso_8601": "2020-03-11T02:53:01.890427Z", "url": "https://files.pythonhosted.org/packages/fe/8b/c334042ba459588d3d6159259797e9f3f1a72cf04ee4099f1c39f77b3bdf/servicex-1.0.0b2.tar.gz", "yanked": false}], "timestamp": "Fri May  8 03:14:52 2020"}
{"info": {"author": "Christian Zangl", "author_email": "laktak@cdak.net", "bugtrack_url": null, "classifiers": [], "description": "# chkbit\n\nchkbit is a lightweight **bitrot detection tool**.\n\nchkbit is independent of the file system and can help you detect bitrot on you primary system, on backups and in the cloud.\n\n## What is bitrot?\n\n0 bits flipped | 1 bit flipped  | 2 bits flipped | 3 bits flipped\n-------------- | -------------- | -------------- | --------------\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Bitrot_in_JPEG_files%2C_0_bits_flipped.jpg/180px-Bitrot_in_JPEG_files%2C_0_bits_flipped.jpg) | ![](https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Bitrot_in_JPEG_files%2C_1_bit_flipped.jpg/180px-Bitrot_in_JPEG_files%2C_1_bit_flipped.jpg) | ![](https://upload.wikimedia.org/wikipedia/commons/thumb/3/37/Bitrot_in_JPEG_files%2C_2_bits_flipped.jpg/180px-Bitrot_in_JPEG_files%2C_2_bits_flipped.jpg) | ![](https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Bitrot_in_JPEG_files%2C_3_bits_flipped.jpg/180px-Bitrot_in_JPEG_files%2C_3_bits_flipped.jpg) |\n\nData degradation (aka bitrot) is the gradual corruption of computer data due to an accumulation of non-critical failures in a data storage device. It results from the gradual decay of storage media over the course of years or longer. Causes vary by medium.\n\n**For more information** see [Wikipedia - Data_degradation](https://en.wikipedia.org/wiki/Data_degradation).\n\nThis is the successor to [chkbit/node](https://github.com/laktak/chkbit). It will use and upgrade the index files created by the node version.\n\n## Installation\n\n```\npip install --user chkbit\n```\n\nOr in its own environment:\n\n```\npipx install chkbit\n```\n\n## Usage\n\nRun `chkbit -u PATH` to create/update the chkbit index.\n\nchkbit will\n\n- create a `.chkbit` index in every subdirectory of the path it was given.\n- update the index with md5 hashes for every file.\n- report bitrot for files that rotted since the last run (check the exit status).\n\nRun `chkbit PATH` to verify only.\n\n```\nusage: chkbit.py [-h] [-u] [-f] [-q] [-v] PATH [PATH ...]\n\nChecks files for bitrot. See https://github.com/laktak/chkbit-py\n\npositional arguments:\n  PATH\n\noptional arguments:\n  -h, --help     show this help message and exit\n  -u, --update   update indices (without this chkbit will only verify files)\n  -f, --force    force update of damaged items\n  -q, --quiet    quiet, don't show progress/information\n  -v, --verbose  verbose output\n\nStatus codes:\n  ROT: error, bitrot detected\n  EIX: error, index damaged\n  old: warning, file replaced by an older version\n  new: new file\n  upd: file updated\n  ok : check ok\n  skp: skipped (see .chkbitignore)\n  EXC: internal exception\n```\n\n## Repair\n\nchkbit cannot repair bitrot, its job is simply to detect it.\n\nYou should\n\n- backup regularly.\n- run chkbit *before* each backup.\n- check for bitrot on the backup media.\n- in case of bitrot *restore* from a checked backup.\n\n## Ignore files\n\nAdd a `.chkbitignore` file containing the names of the files/directories you wish to ignore\n\n- each line should contain exactly one name\n- lines starting with `#` are skipped\n- you may use [Unix shell-style wildcards](https://docs.python.org/3.8/library/fnmatch.html)\n\n## FAQ\n\n### Should I run `chkbit` on my whole drive?\n\nYou would typically run it only on *content* that you keep for a long time (e.g. your pictures, music, videos).\n\n### Why is chkbit placing the index in `.chkbit` files (vs a database)?\n\nThe advantage of the .chkbit files is that\n\n- when you move a directory the index moves with it\n- when you make a backup the index is also backed up\n\nThe disadvantage is obviously that you get hidden `.chkbit` files in your content folders.\n\n### How does chkbit work?\n\nchkbit operates on files.\n\nWhen run for the first time it records a md5 hash of the file contents as well as the file modification time.\n\nWhen you run it again it first checks the modification time,\n\n- if the time changed (because you made an edit) it records a new md5 hash.\n- otherwise it will compare the current md5 to the recorded value and report an error if they do not match.\n\n### Can I test if chkbit is working correctly?\n\nOn Linux/OS X you can try:\n\nCreate test and set the modified time:\n```\n$ echo foo1 > test; touch -t 201501010000 test\n$ chkbit -u .\nadd ./test\nProcessed 1 file(s).\nIndices were updated.\n```\n`add` indicates the file was added.\n\nNow update test with a new modified:\n```\n$ echo foo2 > test; touch -t 201501010001 test # update test & modified\n$ chkbit -u .\nupd ./test\nProcessed 1 file(s).\nIndices were updated.\n```\n\n`upd` indicates the file was updated.\n\nNow update test with the same modified to simulate bitrot:\n```\n$ echo foo3 > test; touch -t 201501010001 test\n$ chkbit -u .\nROT ./test\nProcessed 0 file(s).\nchkbit detected bitrot in these files:\n./test\nerror: detected 1 file(s) with bitrot!\n```\n\n`ROT` indicates bitrot.", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/laktak/chkbit-py", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "chkbit", "package_url": "https://pypi.org/project/chkbit/", "platform": "", "project_url": "https://pypi.org/project/chkbit/", "project_urls": {"Homepage": "https://github.com/laktak/chkbit-py"}, "release_url": "https://pypi.org/project/chkbit/2.0.1/", "requires_dist": null, "requires_python": ">=3.6.0", "summary": "chkbit is a lightweight bitrot detection tool.", "version": "2.0.1", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>chkbit</h1>\n<p>chkbit is a lightweight <strong>bitrot detection tool</strong>.</p>\n<p>chkbit is independent of the file system and can help you detect bitrot on you primary system, on backups and in the cloud.</p>\n<h2>What is bitrot?</h2>\n<table>\n<thead>\n<tr>\n<th>0 bits flipped</th>\n<th>1 bit flipped</th>\n<th>2 bits flipped</th>\n<th>3 bits flipped</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/c957708b59a95610150419ad865853eedd88ae2e/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f322f32662f426974726f745f696e5f4a5045475f66696c65732532435f305f626974735f666c69707065642e6a70672f31383070782d426974726f745f696e5f4a5045475f66696c65732532435f305f626974735f666c69707065642e6a7067\"></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9ec2a66c86e6adad62294d5b6ae7e01b78d7902e/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f312f31612f426974726f745f696e5f4a5045475f66696c65732532435f315f6269745f666c69707065642e6a70672f31383070782d426974726f745f696e5f4a5045475f66696c65732532435f315f6269745f666c69707065642e6a7067\"></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/14dd9dbee5e8bc5a245002bb3e8076512726654a/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f332f33372f426974726f745f696e5f4a5045475f66696c65732532435f325f626974735f666c69707065642e6a70672f31383070782d426974726f745f696e5f4a5045475f66696c65732532435f325f626974735f666c69707065642e6a7067\"></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1cd68b8e2b64a70a1a279c4f308cb0365fa32ce3/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f642f64642f426974726f745f696e5f4a5045475f66696c65732532435f335f626974735f666c69707065642e6a70672f31383070782d426974726f745f696e5f4a5045475f66696c65732532435f335f626974735f666c69707065642e6a7067\"></td>\n</tr></tbody></table>\n<p>Data degradation (aka bitrot) is the gradual corruption of computer data due to an accumulation of non-critical failures in a data storage device. It results from the gradual decay of storage media over the course of years or longer. Causes vary by medium.</p>\n<p><strong>For more information</strong> see <a href=\"https://en.wikipedia.org/wiki/Data_degradation\" rel=\"nofollow\">Wikipedia - Data_degradation</a>.</p>\n<p>This is the successor to <a href=\"https://github.com/laktak/chkbit\" rel=\"nofollow\">chkbit/node</a>. It will use and upgrade the index files created by the node version.</p>\n<h2>Installation</h2>\n<pre><code>pip install --user chkbit\n</code></pre>\n<p>Or in its own environment:</p>\n<pre><code>pipx install chkbit\n</code></pre>\n<h2>Usage</h2>\n<p>Run <code>chkbit -u PATH</code> to create/update the chkbit index.</p>\n<p>chkbit will</p>\n<ul>\n<li>create a <code>.chkbit</code> index in every subdirectory of the path it was given.</li>\n<li>update the index with md5 hashes for every file.</li>\n<li>report bitrot for files that rotted since the last run (check the exit status).</li>\n</ul>\n<p>Run <code>chkbit PATH</code> to verify only.</p>\n<pre><code>usage: chkbit.py [-h] [-u] [-f] [-q] [-v] PATH [PATH ...]\n\nChecks files for bitrot. See https://github.com/laktak/chkbit-py\n\npositional arguments:\n  PATH\n\noptional arguments:\n  -h, --help     show this help message and exit\n  -u, --update   update indices (without this chkbit will only verify files)\n  -f, --force    force update of damaged items\n  -q, --quiet    quiet, don't show progress/information\n  -v, --verbose  verbose output\n\nStatus codes:\n  ROT: error, bitrot detected\n  EIX: error, index damaged\n  old: warning, file replaced by an older version\n  new: new file\n  upd: file updated\n  ok : check ok\n  skp: skipped (see .chkbitignore)\n  EXC: internal exception\n</code></pre>\n<h2>Repair</h2>\n<p>chkbit cannot repair bitrot, its job is simply to detect it.</p>\n<p>You should</p>\n<ul>\n<li>backup regularly.</li>\n<li>run chkbit <em>before</em> each backup.</li>\n<li>check for bitrot on the backup media.</li>\n<li>in case of bitrot <em>restore</em> from a checked backup.</li>\n</ul>\n<h2>Ignore files</h2>\n<p>Add a <code>.chkbitignore</code> file containing the names of the files/directories you wish to ignore</p>\n<ul>\n<li>each line should contain exactly one name</li>\n<li>lines starting with <code>#</code> are skipped</li>\n<li>you may use <a href=\"https://docs.python.org/3.8/library/fnmatch.html\" rel=\"nofollow\">Unix shell-style wildcards</a></li>\n</ul>\n<h2>FAQ</h2>\n<h3>Should I run <code>chkbit</code> on my whole drive?</h3>\n<p>You would typically run it only on <em>content</em> that you keep for a long time (e.g. your pictures, music, videos).</p>\n<h3>Why is chkbit placing the index in <code>.chkbit</code> files (vs a database)?</h3>\n<p>The advantage of the .chkbit files is that</p>\n<ul>\n<li>when you move a directory the index moves with it</li>\n<li>when you make a backup the index is also backed up</li>\n</ul>\n<p>The disadvantage is obviously that you get hidden <code>.chkbit</code> files in your content folders.</p>\n<h3>How does chkbit work?</h3>\n<p>chkbit operates on files.</p>\n<p>When run for the first time it records a md5 hash of the file contents as well as the file modification time.</p>\n<p>When you run it again it first checks the modification time,</p>\n<ul>\n<li>if the time changed (because you made an edit) it records a new md5 hash.</li>\n<li>otherwise it will compare the current md5 to the recorded value and report an error if they do not match.</li>\n</ul>\n<h3>Can I test if chkbit is working correctly?</h3>\n<p>On Linux/OS X you can try:</p>\n<p>Create test and set the modified time:</p>\n<pre><code>$ echo foo1 &gt; test; touch -t 201501010000 test\n$ chkbit -u .\nadd ./test\nProcessed 1 file(s).\nIndices were updated.\n</code></pre>\n<p><code>add</code> indicates the file was added.</p>\n<p>Now update test with a new modified:</p>\n<pre><code>$ echo foo2 &gt; test; touch -t 201501010001 test # update test &amp; modified\n$ chkbit -u .\nupd ./test\nProcessed 1 file(s).\nIndices were updated.\n</code></pre>\n<p><code>upd</code> indicates the file was updated.</p>\n<p>Now update test with the same modified to simulate bitrot:</p>\n<pre><code>$ echo foo3 &gt; test; touch -t 201501010001 test\n$ chkbit -u .\nROT ./test\nProcessed 0 file(s).\nchkbit detected bitrot in these files:\n./test\nerror: detected 1 file(s) with bitrot!\n</code></pre>\n<p><code>ROT</code> indicates bitrot.</p>\n\n          </div>"}, "last_serial": 6501491, "releases": {"2.0.0": [{"comment_text": "", "digests": {"md5": "e35990f4821680dea4d8bd70f0f6a905", "sha256": "1b007b9a3e762d5941f9afc79f9ce58ed738fc1ea7f7f41f00a372ca69058a58"}, "downloads": -1, "filename": "chkbit-2.0.0.tar.gz", "has_sig": false, "md5_digest": "e35990f4821680dea4d8bd70f0f6a905", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6.0", "size": 5734, "upload_time": "2019-10-04T20:10:22", "upload_time_iso_8601": "2019-10-04T20:10:22.866325Z", "url": "https://files.pythonhosted.org/packages/f8/9c/3e2b786275b9e0d0d68411e688f4003db31230f130a0df9e0df01c0b641d/chkbit-2.0.0.tar.gz", "yanked": false}], "2.0.1": [{"comment_text": "", "digests": {"md5": "42cc2892e3bf3cb37455239313792046", "sha256": "b656176ccab17c2d225d90b99f1b9f2abf6c7ec2a1b3c7178d4c6711359a8b90"}, "downloads": -1, "filename": "chkbit-2.0.1.tar.gz", "has_sig": false, "md5_digest": "42cc2892e3bf3cb37455239313792046", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6.0", "size": 7135, "upload_time": "2020-01-22T17:13:27", "upload_time_iso_8601": "2020-01-22T17:13:27.046370Z", "url": "https://files.pythonhosted.org/packages/2b/47/ce3ab8679abc021392d1d86fa5b902b1cdb8d0426d7174ed6dec93cf0919/chkbit-2.0.1.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "42cc2892e3bf3cb37455239313792046", "sha256": "b656176ccab17c2d225d90b99f1b9f2abf6c7ec2a1b3c7178d4c6711359a8b90"}, "downloads": -1, "filename": "chkbit-2.0.1.tar.gz", "has_sig": false, "md5_digest": "42cc2892e3bf3cb37455239313792046", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6.0", "size": 7135, "upload_time": "2020-01-22T17:13:27", "upload_time_iso_8601": "2020-01-22T17:13:27.046370Z", "url": "https://files.pythonhosted.org/packages/2b/47/ce3ab8679abc021392d1d86fa5b902b1cdb8d0426d7174ed6dec93cf0919/chkbit-2.0.1.tar.gz", "yanked": false}], "timestamp": "Thu May  7 22:19:31 2020"}
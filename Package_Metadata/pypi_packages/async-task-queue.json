{"info": {"author": "Celestine Kao", "author_email": "ckao@narrativescience.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "License :: OSI Approved :: BSD License", "Programming Language :: Python :: 3", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# async-task-queue\n\n[![CircleCI](https://circleci.com/gh/NarrativeScience/async-task-queue/tree/master.svg?style=shield)](https://circleci.com/gh/NarrativeScience/async-task-queue/tree/master) [![](https://img.shields.io/pypi/v/async-task-queue.svg)](https://pypi.org/pypi/async-task-queue/) [![License](https://img.shields.io/badge/License-BSD%203--Clause-blue.svg)](https://opensource.org/licenses/BSD-3-Clause)\n\nIn-memory FIFO queue for concurrent task execution. Used to execute tasks concurrently with optional control (via semaphore) over the max number of tasks running at the same time.\n\nFeatures:\n\n- Queue processing summary logging\n- Introspection of failed, retried, and succeeded tasks\n- Task retries (optional)\n- Task execution timeout (optional)\n- Queue processing with semaphore (optional)\n- Batch size control (optional)\n\nTOC:\n\n- [Installation](#installation)\n- [Guide](#guide)\n- [Development](#development)\n\n## Installation\n\nasync-task-queue requires Python 3.6 or above.\n\n```bash\npip install async-task-queue\n```\n\n## Guide\n\n```python\nimport logging\nfrom async_task_queue import AsyncTask, AsyncTaskQueue\n\n# Initialize a logger\nlogger = logging.getLogger(\"foo\")\n\n# Initialize an AsyncTaskQueue where:\n#   - At most 5 tasks are running concurrently\n#   - Number of tasks executing concurrently should be limited by a semaphore\n#   - Failed tasks should be retried (default behavior)\n#   - Executing the tasks queued should timeout and be cancelled after 5 minutes\ntask_queue = AsyncTaskQueue(\n    logger,\n    use_semaphore=True,\n    batch_size=5,\n    execution_timeout=300\n)\n\n# Add async tasks to the queue\ntask_queue.enqueue(\n    [\n        AsyncTask(some_coroutine, *args, **kwargs) for args, kwargs in some_args_kwargs\n    ]\n)\n\n# Start processing the queue\nawait task_queue.execute()\n```\n\n## Development\n\nTo develop async-task-queue, install dependencies and enable the pre-commit hook:\n\n```bash\npip install pre-commit tox\npre-commit install\n```\n\nTo run tests:\n\n```bash\ntox\n```\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/NarrativeScience/async-task-queue", "keywords": "asyncio, async queue", "license": "BSD-3-Clause", "maintainer": "", "maintainer_email": "", "name": "async-task-queue", "package_url": "https://pypi.org/project/async-task-queue/", "platform": "", "project_url": "https://pypi.org/project/async-task-queue/", "project_urls": {"Homepage": "https://github.com/NarrativeScience/async-task-queue"}, "release_url": "https://pypi.org/project/async-task-queue/0.1.2/", "requires_dist": null, "requires_python": ">=3.6,<4", "summary": "In-memory FIFO queue for concurrent task execution", "version": "0.1.2", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>async-task-queue</h1>\n<p><a href=\"https://circleci.com/gh/NarrativeScience/async-task-queue/tree/master\" rel=\"nofollow\"><img alt=\"CircleCI\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/f38d264b841b7a9573dc684a1de45a6f2d769edb/68747470733a2f2f636972636c6563692e636f6d2f67682f4e6172726174697665536369656e63652f6173796e632d7461736b2d71756575652f747265652f6d61737465722e7376673f7374796c653d736869656c64\"></a> <a href=\"https://pypi.org/pypi/async-task-queue/\" rel=\"nofollow\"><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0d5849d6c3fdcf056471d87a99575afb7eedc35b/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6173796e632d7461736b2d71756575652e737667\"></a> <a href=\"https://opensource.org/licenses/BSD-3-Clause\" rel=\"nofollow\"><img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/110fcca60a43a8ea37b1a5bda616e639325f2f30/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d425344253230332d2d436c617573652d626c75652e737667\"></a></p>\n<p>In-memory FIFO queue for concurrent task execution. Used to execute tasks concurrently with optional control (via semaphore) over the max number of tasks running at the same time.</p>\n<p>Features:</p>\n<ul>\n<li>Queue processing summary logging</li>\n<li>Introspection of failed, retried, and succeeded tasks</li>\n<li>Task retries (optional)</li>\n<li>Task execution timeout (optional)</li>\n<li>Queue processing with semaphore (optional)</li>\n<li>Batch size control (optional)</li>\n</ul>\n<p>TOC:</p>\n<ul>\n<li><a href=\"#installation\" rel=\"nofollow\">Installation</a></li>\n<li><a href=\"#guide\" rel=\"nofollow\">Guide</a></li>\n<li><a href=\"#development\" rel=\"nofollow\">Development</a></li>\n</ul>\n<h2>Installation</h2>\n<p>async-task-queue requires Python 3.6 or above.</p>\n<pre>pip install async-task-queue\n</pre>\n<h2>Guide</h2>\n<pre><span class=\"kn\">import</span> <span class=\"nn\">logging</span>\n<span class=\"kn\">from</span> <span class=\"nn\">async_task_queue</span> <span class=\"kn\">import</span> <span class=\"n\">AsyncTask</span><span class=\"p\">,</span> <span class=\"n\">AsyncTaskQueue</span>\n\n<span class=\"c1\"># Initialize a logger</span>\n<span class=\"n\">logger</span> <span class=\"o\">=</span> <span class=\"n\">logging</span><span class=\"o\">.</span><span class=\"n\">getLogger</span><span class=\"p\">(</span><span class=\"s2\">\"foo\"</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Initialize an AsyncTaskQueue where:</span>\n<span class=\"c1\">#   - At most 5 tasks are running concurrently</span>\n<span class=\"c1\">#   - Number of tasks executing concurrently should be limited by a semaphore</span>\n<span class=\"c1\">#   - Failed tasks should be retried (default behavior)</span>\n<span class=\"c1\">#   - Executing the tasks queued should timeout and be cancelled after 5 minutes</span>\n<span class=\"n\">task_queue</span> <span class=\"o\">=</span> <span class=\"n\">AsyncTaskQueue</span><span class=\"p\">(</span>\n    <span class=\"n\">logger</span><span class=\"p\">,</span>\n    <span class=\"n\">use_semaphore</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n    <span class=\"n\">batch_size</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">,</span>\n    <span class=\"n\">execution_timeout</span><span class=\"o\">=</span><span class=\"mi\">300</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># Add async tasks to the queue</span>\n<span class=\"n\">task_queue</span><span class=\"o\">.</span><span class=\"n\">enqueue</span><span class=\"p\">(</span>\n    <span class=\"p\">[</span>\n        <span class=\"n\">AsyncTask</span><span class=\"p\">(</span><span class=\"n\">some_coroutine</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"n\">kwargs</span> <span class=\"ow\">in</span> <span class=\"n\">some_args_kwargs</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># Start processing the queue</span>\n<span class=\"k\">await</span> <span class=\"n\">task_queue</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">()</span>\n</pre>\n<h2>Development</h2>\n<p>To develop async-task-queue, install dependencies and enable the pre-commit hook:</p>\n<pre>pip install pre-commit tox\npre-commit install\n</pre>\n<p>To run tests:</p>\n<pre>tox\n</pre>\n\n          </div>"}, "last_serial": 6900337, "releases": {"0.1.2": [{"comment_text": "", "digests": {"md5": "89b4100a7dc42cd4c1bbf9405dd13a67", "sha256": "6245a869bef4ae7fbc2db8b46cb8d854eea4feb69fe0f6405e90fcfc64a96282"}, "downloads": -1, "filename": "async_task_queue-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "89b4100a7dc42cd4c1bbf9405dd13a67", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4", "size": 7913, "upload_time": "2020-03-28T03:47:15", "upload_time_iso_8601": "2020-03-28T03:47:15.204520Z", "url": "https://files.pythonhosted.org/packages/93/64/f86b640d834083378907ab5cb3f98da6ea9c555f4fc7d6ceff594fe5d321/async_task_queue-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1308576d957d9f6bfcfd4c844661d369", "sha256": "6c820e4e50028efab651c2b714e03e34920593f5cae662a120d9e8def029e200"}, "downloads": -1, "filename": "async-task-queue-0.1.2.tar.gz", "has_sig": false, "md5_digest": "1308576d957d9f6bfcfd4c844661d369", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4", "size": 8808, "upload_time": "2020-03-28T03:47:17", "upload_time_iso_8601": "2020-03-28T03:47:17.255933Z", "url": "https://files.pythonhosted.org/packages/f7/83/b419adb62ed208a6cf48f9c4a200e331549746b6fc4cc0831a1059aac145/async-task-queue-0.1.2.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "89b4100a7dc42cd4c1bbf9405dd13a67", "sha256": "6245a869bef4ae7fbc2db8b46cb8d854eea4feb69fe0f6405e90fcfc64a96282"}, "downloads": -1, "filename": "async_task_queue-0.1.2-py3-none-any.whl", "has_sig": false, "md5_digest": "89b4100a7dc42cd4c1bbf9405dd13a67", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": ">=3.6,<4", "size": 7913, "upload_time": "2020-03-28T03:47:15", "upload_time_iso_8601": "2020-03-28T03:47:15.204520Z", "url": "https://files.pythonhosted.org/packages/93/64/f86b640d834083378907ab5cb3f98da6ea9c555f4fc7d6ceff594fe5d321/async_task_queue-0.1.2-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "1308576d957d9f6bfcfd4c844661d369", "sha256": "6c820e4e50028efab651c2b714e03e34920593f5cae662a120d9e8def029e200"}, "downloads": -1, "filename": "async-task-queue-0.1.2.tar.gz", "has_sig": false, "md5_digest": "1308576d957d9f6bfcfd4c844661d369", "packagetype": "sdist", "python_version": "source", "requires_python": ">=3.6,<4", "size": 8808, "upload_time": "2020-03-28T03:47:17", "upload_time_iso_8601": "2020-03-28T03:47:17.255933Z", "url": "https://files.pythonhosted.org/packages/f7/83/b419adb62ed208a6cf48f9c4a200e331549746b6fc4cc0831a1059aac145/async-task-queue-0.1.2.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:16:40 2020"}
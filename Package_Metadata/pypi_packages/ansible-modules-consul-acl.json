{"info": {"author": "Jakob Sundh", "author_email": "jsundh@users.noreply.github.com", "bugtrack_url": null, "classifiers": [], "description": "# ansible-modules-consul-acl\n\nAnsible modules for the [Consul ACL system](https://www.consul.io/docs/agent/acl-system.html):\n\n-   `consul_acl_policy`\n-   `consul_acl_token`\n\n## Installation\n\nInstall using pip:\n\n```\npip install ansible-modules-consul-acl\n```\n\nThe modules have no external dependencies except Ansible.\n\n## Usage\n\nThe documentation for each module is mostly complete - use `ansible-doc` to view it.\n\n### Example\n\n<!--prettier-ignore-->\n```yaml\n- name: Create ACL policy\n  consul_acl_policy:\n    name: example\n    # Rules specified as an HCL string\n    rules: |\n      service \"example\" {\n        policy = \"write\"\n      }\n    state: present\n    url: https://localhost:8500\n    token: a22c5e4f-0f48-4907-82db-843c6baf75be # Requires acl:write\n  register: consul_acl_policy\n\n- name: Create ACL token\n  consul_acl_token:\n    description: Example token\n    # Policies specified as a list of PolicyLink objects: https://www.consul.io/api/acl/tokens.html#policies\n    policies:\n      - id: \"{{ consul_acl_policy.id }}\"\n    local: true\n    state: present\n    url: https://localhost:8500\n    token: a22c5e4f-0f48-4907-82db-843c6baf75be # Requires acl:write\n  register: consul_acl_token\n```\n\n### Environment variables\n\nSome of the environment variables for the [Consul CLI](https://www.consul.io/docs/commands/index.html#environment-variables) will be used if they are defined:\n\n-   `CONSUL_HTTP_ADDR` for the `url` parameter. Prefix with `https://` instead of setting `CONSUL_HTTP_SSL=true`\n-   `CONSUL_HTTP_TOKEN` for the `token` parameter\n-   `CONSUL_CLIENT_CERT` for the `client_cert` parameter\n-   `CONSUL_CLIENT_KEY` for the `client_key` parameter\n\n## Testing locally\n\nTo run the functional tests, set the following environment variables\nfrom the project root directory:\n\n```sh\nexport ANSIBLE_LIBRARY=\"$PWD/ansible/modules/consul_acl\"\nexport ANSIBLE_MODULE_UTILS=\"$PWD/ansible/module_utils\"\n```\n\nThen run the test playbooks in a Python environment without `ansible-modules-consul-acl` installed.\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/jsundh/ansible-modules-consul-acl", "keywords": "", "license": "GNU GPL v3", "maintainer": "", "maintainer_email": "", "name": "ansible-modules-consul-acl", "package_url": "https://pypi.org/project/ansible-modules-consul-acl/", "platform": "", "project_url": "https://pypi.org/project/ansible-modules-consul-acl/", "project_urls": {"Homepage": "https://github.com/jsundh/ansible-modules-consul-acl"}, "release_url": "https://pypi.org/project/ansible-modules-consul-acl/0.3.0/", "requires_dist": ["ansible (>=2.4.0)"], "requires_python": "", "summary": "Ansible modules for the Consul ACL system", "version": "0.3.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>ansible-modules-consul-acl</h1>\n<p>Ansible modules for the <a href=\"https://www.consul.io/docs/agent/acl-system.html\" rel=\"nofollow\">Consul ACL system</a>:</p>\n<ul>\n<li><code>consul_acl_policy</code></li>\n<li><code>consul_acl_token</code></li>\n</ul>\n<h2>Installation</h2>\n<p>Install using pip:</p>\n<pre><code>pip install ansible-modules-consul-acl\n</code></pre>\n<p>The modules have no external dependencies except Ansible.</p>\n<h2>Usage</h2>\n<p>The documentation for each module is mostly complete - use <code>ansible-doc</code> to view it.</p>\n<h3>Example</h3>\n\n<pre><span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Create ACL policy</span>\n  <span class=\"nt\">consul_acl_policy</span><span class=\"p\">:</span>\n    <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">example</span>\n    <span class=\"c1\"># Rules specified as an HCL string</span>\n    <span class=\"nt\">rules</span><span class=\"p\">:</span> <span class=\"p p-Indicator\">|</span>\n      <span class=\"no\">service \"example\" {</span>\n        <span class=\"no\">policy = \"write\"</span>\n      <span class=\"no\">}</span>\n    <span class=\"nt\">state</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">present</span>\n    <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">https://localhost:8500</span>\n    <span class=\"nt\">token</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">a22c5e4f-0f48-4907-82db-843c6baf75be</span> <span class=\"c1\"># Requires acl:write</span>\n  <span class=\"nt\">register</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">consul_acl_policy</span>\n\n<span class=\"p p-Indicator\">-</span> <span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Create ACL token</span>\n  <span class=\"nt\">consul_acl_token</span><span class=\"p\">:</span>\n    <span class=\"nt\">description</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Example token</span>\n    <span class=\"c1\"># Policies specified as a list of PolicyLink objects: https://www.consul.io/api/acl/tokens.html#policies</span>\n    <span class=\"nt\">policies</span><span class=\"p\">:</span>\n      <span class=\"p p-Indicator\">-</span> <span class=\"nt\">id</span><span class=\"p\">:</span> <span class=\"s\">\"{{</span><span class=\"nv\"> </span><span class=\"s\">consul_acl_policy.id</span><span class=\"nv\"> </span><span class=\"s\">}}\"</span>\n    <span class=\"nt\">local</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">true</span>\n    <span class=\"nt\">state</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">present</span>\n    <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">https://localhost:8500</span>\n    <span class=\"nt\">token</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">a22c5e4f-0f48-4907-82db-843c6baf75be</span> <span class=\"c1\"># Requires acl:write</span>\n  <span class=\"nt\">register</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">consul_acl_token</span>\n</pre>\n<h3>Environment variables</h3>\n<p>Some of the environment variables for the <a href=\"https://www.consul.io/docs/commands/index.html#environment-variables\" rel=\"nofollow\">Consul CLI</a> will be used if they are defined:</p>\n<ul>\n<li><code>CONSUL_HTTP_ADDR</code> for the <code>url</code> parameter. Prefix with <code>https://</code> instead of setting <code>CONSUL_HTTP_SSL=true</code></li>\n<li><code>CONSUL_HTTP_TOKEN</code> for the <code>token</code> parameter</li>\n<li><code>CONSUL_CLIENT_CERT</code> for the <code>client_cert</code> parameter</li>\n<li><code>CONSUL_CLIENT_KEY</code> for the <code>client_key</code> parameter</li>\n</ul>\n<h2>Testing locally</h2>\n<p>To run the functional tests, set the following environment variables\nfrom the project root directory:</p>\n<pre><span class=\"nb\">export</span> <span class=\"nv\">ANSIBLE_LIBRARY</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"nv\">$PWD</span><span class=\"s2\">/ansible/modules/consul_acl\"</span>\n<span class=\"nb\">export</span> <span class=\"nv\">ANSIBLE_MODULE_UTILS</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"nv\">$PWD</span><span class=\"s2\">/ansible/module_utils\"</span>\n</pre>\n<p>Then run the test playbooks in a Python environment without <code>ansible-modules-consul-acl</code> installed.</p>\n\n          </div>"}, "last_serial": 6515784, "releases": {"0.0.1": [{"comment_text": "", "digests": {"md5": "e2509758554655660c13960ab508655b", "sha256": "19724ec807daf64977bc261d3dfe5d218400ec283678f674662e7a2af36736b2"}, "downloads": -1, "filename": "ansible-modules-consul-acl-0.0.1.tar.gz", "has_sig": false, "md5_digest": "e2509758554655660c13960ab508655b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4957, "upload_time": "2019-02-17T19:12:34", "upload_time_iso_8601": "2019-02-17T19:12:34.653068Z", "url": "https://files.pythonhosted.org/packages/d6/97/04540f2dded38265a79eda8d79d703fa50c9f79964379144900b283c3325/ansible-modules-consul-acl-0.0.1.tar.gz", "yanked": false}], "0.1.0": [{"comment_text": "", "digests": {"md5": "5ea56c1c09e0ae8efe889d47e8b11cad", "sha256": "55a39fdb4b21a532509e0fffe69887b33be183815e05e7c3602d3f7213747c65"}, "downloads": -1, "filename": "ansible-modules-consul-acl-0.1.0.tar.gz", "has_sig": false, "md5_digest": "5ea56c1c09e0ae8efe889d47e8b11cad", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5564, "upload_time": "2019-02-18T17:50:36", "upload_time_iso_8601": "2019-02-18T17:50:36.516680Z", "url": "https://files.pythonhosted.org/packages/9a/89/5b1e099cd2b815c315cd27a9b160df8544fd8a5681126bb2152ee95d2b32/ansible-modules-consul-acl-0.1.0.tar.gz", "yanked": false}], "0.2.0": [{"comment_text": "", "digests": {"md5": "c342db491484f9f1b1eda5f589f543c0", "sha256": "f5bf990154cc0d9a322b996631b466e5c7b564d2c7eab205cce18640f717c026"}, "downloads": -1, "filename": "ansible-modules-consul-acl-0.2.0.tar.gz", "has_sig": false, "md5_digest": "c342db491484f9f1b1eda5f589f543c0", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5591, "upload_time": "2019-02-24T19:57:44", "upload_time_iso_8601": "2019-02-24T19:57:44.419425Z", "url": "https://files.pythonhosted.org/packages/ae/d7/33e34aaa0dd7a3357811ba6fabb16b84e5f200dca471ded02c3a3c101674/ansible-modules-consul-acl-0.2.0.tar.gz", "yanked": false}], "0.3.0": [{"comment_text": "", "digests": {"md5": "99bac2b398ffc7f989300ebef3d0cc35", "sha256": "a329b63f0c1c0a59635e7088ffaeb50c42c7894e4ccb5a4c0f0ca61960fe0037"}, "downloads": -1, "filename": "ansible_modules_consul_acl-0.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "99bac2b398ffc7f989300ebef3d0cc35", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9004, "upload_time": "2020-01-24T20:42:56", "upload_time_iso_8601": "2020-01-24T20:42:56.614771Z", "url": "https://files.pythonhosted.org/packages/6b/bb/cec6b32d5c9fec934fea97e4c0d88818b716536a3562ded9156d753887d7/ansible_modules_consul_acl-0.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b63bfbe58a0bcde727f3e3e1fb9affcf", "sha256": "e864ac52818e7e5befe55c67af9d3a5dfead7c45f4f5c9a1023a49d435048b7f"}, "downloads": -1, "filename": "ansible-modules-consul-acl-0.3.0.tar.gz", "has_sig": false, "md5_digest": "b63bfbe58a0bcde727f3e3e1fb9affcf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6116, "upload_time": "2020-01-24T20:42:57", "upload_time_iso_8601": "2020-01-24T20:42:57.937439Z", "url": "https://files.pythonhosted.org/packages/a0/69/a732adff6d70780dfb3d95824d5a39a17c9db131d35f86b2c21c10014578/ansible-modules-consul-acl-0.3.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "99bac2b398ffc7f989300ebef3d0cc35", "sha256": "a329b63f0c1c0a59635e7088ffaeb50c42c7894e4ccb5a4c0f0ca61960fe0037"}, "downloads": -1, "filename": "ansible_modules_consul_acl-0.3.0-py3-none-any.whl", "has_sig": false, "md5_digest": "99bac2b398ffc7f989300ebef3d0cc35", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 9004, "upload_time": "2020-01-24T20:42:56", "upload_time_iso_8601": "2020-01-24T20:42:56.614771Z", "url": "https://files.pythonhosted.org/packages/6b/bb/cec6b32d5c9fec934fea97e4c0d88818b716536a3562ded9156d753887d7/ansible_modules_consul_acl-0.3.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b63bfbe58a0bcde727f3e3e1fb9affcf", "sha256": "e864ac52818e7e5befe55c67af9d3a5dfead7c45f4f5c9a1023a49d435048b7f"}, "downloads": -1, "filename": "ansible-modules-consul-acl-0.3.0.tar.gz", "has_sig": false, "md5_digest": "b63bfbe58a0bcde727f3e3e1fb9affcf", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 6116, "upload_time": "2020-01-24T20:42:57", "upload_time_iso_8601": "2020-01-24T20:42:57.937439Z", "url": "https://files.pythonhosted.org/packages/a0/69/a732adff6d70780dfb3d95824d5a39a17c9db131d35f86b2c21c10014578/ansible-modules-consul-acl-0.3.0.tar.gz", "yanked": false}], "timestamp": "Thu May  7 18:18:04 2020"}
{"info": {"author": "chris48s", "author_email": "", "bugtrack_url": null, "classifiers": ["License :: OSI Approved :: MIT License", "Programming Language :: Python", "Programming Language :: Python :: 3"], "description": "# json-paginator\n\n![PyPI Version](https://img.shields.io/pypi/v/json-paginator.svg)\n![License](https://img.shields.io/pypi/l/json-paginator.svg)\n\nA generator for iterating over paginated JSON API responses\n\n## Installation\n\n```\npip install json-paginator\n```\n\n## Usage\n\nInstantiate `JsonApiPaginator` with:\n\n* A URL to page 1 of the API output\n* A function (or lambda) `get_nextpage(url, body)` which describes how to get the next page. Return `None` to stop iteration.\n\nExample:\n\n```py\nfrom json_paginator import JsonApiPaginator\n\nBASE = 'https://galaxy.ansible.com'\n\ndef get_next_page(url, body):\n    if body['next_link']:\n        return BASE +  body['next_link']\n    return None\n\n# instantiate the paginator\npages = JsonApiPaginator(\n    BASE + '/api/v1/categories/?page=1',\n    get_next_page\n)\n\n# iterate over the pages\nfor url, body in pages:\n    print(\"calling %s\" % (url))\n    print(\"found %s results\" % (len(body['results'])))\n```", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/chris48s/json-paginator", "keywords": "", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "json-paginator", "package_url": "https://pypi.org/project/json-paginator/", "platform": "", "project_url": "https://pypi.org/project/json-paginator/", "project_urls": {"Homepage": "https://github.com/chris48s/json-paginator"}, "release_url": "https://pypi.org/project/json-paginator/0.1.0/", "requires_dist": null, "requires_python": "", "summary": "A generator for iterating over paginated JSON API responses", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>json-paginator</h1>\n<p><img alt=\"PyPI Version\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/0b4cfeb47089273a9a0d52a878bad59704bab663/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6a736f6e2d706167696e61746f722e737667\">\n<img alt=\"License\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/94a8d8a81c903e81fa7bde1e19560f2181d15aab/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f6a736f6e2d706167696e61746f722e737667\"></p>\n<p>A generator for iterating over paginated JSON API responses</p>\n<h2>Installation</h2>\n<pre><code>pip install json-paginator\n</code></pre>\n<h2>Usage</h2>\n<p>Instantiate <code>JsonApiPaginator</code> with:</p>\n<ul>\n<li>A URL to page 1 of the API output</li>\n<li>A function (or lambda) <code>get_nextpage(url, body)</code> which describes how to get the next page. Return <code>None</code> to stop iteration.</li>\n</ul>\n<p>Example:</p>\n<pre><span class=\"kn\">from</span> <span class=\"nn\">json_paginator</span> <span class=\"kn\">import</span> <span class=\"n\">JsonApiPaginator</span>\n\n<span class=\"n\">BASE</span> <span class=\"o\">=</span> <span class=\"s1\">'https://galaxy.ansible.com'</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">get_next_page</span><span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">,</span> <span class=\"n\">body</span><span class=\"p\">):</span>\n    <span class=\"k\">if</span> <span class=\"n\">body</span><span class=\"p\">[</span><span class=\"s1\">'next_link'</span><span class=\"p\">]:</span>\n        <span class=\"k\">return</span> <span class=\"n\">BASE</span> <span class=\"o\">+</span>  <span class=\"n\">body</span><span class=\"p\">[</span><span class=\"s1\">'next_link'</span><span class=\"p\">]</span>\n    <span class=\"k\">return</span> <span class=\"kc\">None</span>\n\n<span class=\"c1\"># instantiate the paginator</span>\n<span class=\"n\">pages</span> <span class=\"o\">=</span> <span class=\"n\">JsonApiPaginator</span><span class=\"p\">(</span>\n    <span class=\"n\">BASE</span> <span class=\"o\">+</span> <span class=\"s1\">'/api/v1/categories/?page=1'</span><span class=\"p\">,</span>\n    <span class=\"n\">get_next_page</span>\n<span class=\"p\">)</span>\n\n<span class=\"c1\"># iterate over the pages</span>\n<span class=\"k\">for</span> <span class=\"n\">url</span><span class=\"p\">,</span> <span class=\"n\">body</span> <span class=\"ow\">in</span> <span class=\"n\">pages</span><span class=\"p\">:</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"calling </span><span class=\"si\">%s</span><span class=\"s2\">\"</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">url</span><span class=\"p\">))</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"found </span><span class=\"si\">%s</span><span class=\"s2\"> results\"</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">body</span><span class=\"p\">[</span><span class=\"s1\">'results'</span><span class=\"p\">])))</span>\n</pre>\n\n          </div>"}, "last_serial": 4500244, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "e32485c007c0431588888780229764e9", "sha256": "a9f7242b9fcdb38815cfe30842963715a3eac46c102ff5560dedadb9ddad2681"}, "downloads": -1, "filename": "json-paginator-0.1.0.tar.gz", "has_sig": false, "md5_digest": "e32485c007c0431588888780229764e9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1808, "upload_time": "2018-11-18T16:53:22", "upload_time_iso_8601": "2018-11-18T16:53:22.544342Z", "url": "https://files.pythonhosted.org/packages/f9/f0/1b8692954bb68fbaad537a09fc2ac61883d92f9666e6b7ccbc97611e3203/json-paginator-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "e32485c007c0431588888780229764e9", "sha256": "a9f7242b9fcdb38815cfe30842963715a3eac46c102ff5560dedadb9ddad2681"}, "downloads": -1, "filename": "json-paginator-0.1.0.tar.gz", "has_sig": false, "md5_digest": "e32485c007c0431588888780229764e9", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 1808, "upload_time": "2018-11-18T16:53:22", "upload_time_iso_8601": "2018-11-18T16:53:22.544342Z", "url": "https://files.pythonhosted.org/packages/f9/f0/1b8692954bb68fbaad537a09fc2ac61883d92f9666e6b7ccbc97611e3203/json-paginator-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:51:43 2020"}
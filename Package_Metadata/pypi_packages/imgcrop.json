{"info": {"author": "Yusuke Uchida", "author_email": "ren4yu@gmail.com", "bugtrack_url": null, "classifiers": ["Intended Audience :: Developers", "Intended Audience :: Science/Research", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python", "Programming Language :: Python :: 3", "Programming Language :: Python :: 3.4", "Programming Language :: Python :: 3.5", "Programming Language :: Python :: 3.6", "Programming Language :: Python :: 3.7", "Topic :: Software Development :: Libraries", "Topic :: Software Development :: Libraries :: Python Modules"], "description": "# imgcrop\nSimple image augmentation library focusing on random geometric cropping.\nDifferent from pipeline-based augmentation libraries, this library efficiently performs cropping and geometric transformations at once.\nAs image processing functions such as adding Gaussian noise, blurring, and contrast adjustment are not provided,\nplease use the other great libraries like [imgaug](https://github.com/aleju/imgaug) [1], [Augmentor](https://github.com/mdbloice/Augmentor) [2], and [albumentations](https://github.com/albu/albumentations) [3]\nto further transform images cropped by this library.\n\n![](fig/all1.png?raw=true)\n\n## Features\n\n- Simple API, easy to use\n- Efficient; cropping and all geometric transformations are performed at once (by a single perspective transformation)\n- Guarantee that all pixels in cropped image are taken from inside the original image (if margin is not used)\n\n\n## Installation\n\n```bash\npip install imgcrop\n```\n\n## APIs\n\n### imgcrop.get_cropper\n```python\nget_cropper(patch_size=128, scale=(1.0, 1.0), rotate=(0, 0), distort=0.0, flip=0.0, margin=0)\n```\n\n#### parameters\n- **patch_size**: *int, default 128*\n  - output patch size (in pixel)\n- **scale**: *tuple of float, default (1.0, 1.0)*\n  - sampling scale range\n- **rotate**: *tuple of int, default (0, 0)*\n  - sampling rotation range (in degree)\n- **distort**: *float, default 0.0*\n  - distortion strength in perspective transformation (ratio to output image scale)\n- **flip**: *float, default 0.0*\n  - horizontal flip probability\n- **margin**: *int, default 0*\n  - margin in cropping around original image\n\n#### returns\n- **random_crop**: function\n\n\n### random_crop\n```python\nrandom_crop(img, points=None) -> cropped_img[, output_points], src_points, m\n```\n\n#### parameters\n- **img**: *numpy array (single image) or list of numpy arrays (multiple images)*\n  - input image(s) to be cropped with the same geometric transformation\n- **points**: *numpy array with the shape (point_num, 2), default None*\n  - input points to be transformed with the same transformation matrix as input image(s)\n\n#### returns\n- **cropped_img**: *numpy array or list of numpy arrays)*\n  - cropped output image(s)\n- **output_points**: *numpy array with the shape (point_num, 2)*\n  - output points if input points are given\n- **src_points**: *numpy array*\n  - points defining the cropped region in the input image(s)\n- **m**: *numpy array*\n  - 3x3 perspective transformation matrix from the input image(s) to the output image(s)\n\n## Example\n\nPleaes run or refer to [the example script](example/example.py) to see how this library works:\n\n```bash\npython example/example.py\n```\n\nYou can easily try different parameters by arguments:\n\n```bash\noptional arguments:\n  -h, --help            show this help message and exit\n  --patch_size PATCH_SIZE\n                        output patch image size (default: 256)\n  --scale SCALE SCALE   scale range in sampling (default: [0.8, 1.2])\n  --rotate ROTATE ROTATE\n                        rotation range in sampling (default: [-60, 60])\n  --distort DISTORT     distortion strength for perspective transformation\n                        (default: 0.2)\n  --flip FLIP           horizontal flip probability (default: 0.5)\n  --margin MARGIN       margin around original image (default: 0)\n```\n\n| parameters | cropping results (input, cropped, mask, keypoints) |\n| --- | --- |\n| scaling | ![](fig/scale1.png?raw=true) |\n|  | ![](fig/scale2.png?raw=true) |\n|  | ![](fig/scale3.png?raw=true) |\n| rotation + scaling | ![](fig/rotate1.png?raw=true) |\n|  | ![](fig/rotate2.png?raw=true) |\n|  | ![](fig/rotate3.png?raw=true) |\n| distortion + scaling | ![](fig/distort1.png?raw=true) |\n|  | ![](fig/distort2.png?raw=true) |\n|  | ![](fig/distort3.png?raw=true) |\n| flip + rotation | ![](fig/flip1.png?raw=true) |\n|  | ![](fig/flip2.png?raw=true) |\n|  | ![](fig/flip3.png?raw=true) |\n| margin + scaling | ![](fig/margin1.png?raw=true) |\n|  | ![](fig/margin2.png?raw=true) |\n|  | ![](fig/margin3.png?raw=true) |\n| all | ![](fig/all1.png?raw=true) |\n|  | ![](fig/all2.png?raw=true) |\n|  | ![](fig/all3.png?raw=true) |\n\n## Algorithm\nPatch region in the original image is defined by a set of four points.\nThese points are randomly transformed according to transformation parameters.\nThe transformation matrix from input image to output image is then calculated using these points.\nFinally, cropping is performed by applying perspective transformation.\n\n![](fig/algorithm.png?raw=true)\n\n## References\n1. imgaug, https://github.com/aleju/imgaug\n2. Augmentor, https://github.com/mdbloice/Augmentor\n3. albumentations, https://github.com/albu/albumentations\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/yu4u/imgcrop", "keywords": "augmentation,image,deep learning,neural network,machine learning", "license": "MIT", "maintainer": "", "maintainer_email": "", "name": "imgcrop", "package_url": "https://pypi.org/project/imgcrop/", "platform": "", "project_url": "https://pypi.org/project/imgcrop/", "project_urls": {"Homepage": "https://github.com/yu4u/imgcrop"}, "release_url": "https://pypi.org/project/imgcrop/0.1.0/", "requires_dist": ["numpy", "opencv-python"], "requires_python": "", "summary": "Simple image augmentation library focusing on random geometric cropping.", "version": "0.1.0", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>imgcrop</h1>\n<p>Simple image augmentation library focusing on random geometric cropping.\nDifferent from pipeline-based augmentation libraries, this library efficiently performs cropping and geometric transformations at once.\nAs image processing functions such as adding Gaussian noise, blurring, and contrast adjustment are not provided,\nplease use the other great libraries like <a href=\"https://github.com/aleju/imgaug\" rel=\"nofollow\">imgaug</a> [1], <a href=\"https://github.com/mdbloice/Augmentor\" rel=\"nofollow\">Augmentor</a> [2], and <a href=\"https://github.com/albu/albumentations\" rel=\"nofollow\">albumentations</a> [3]\nto further transform images cropped by this library.</p>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8e35977b8312a49557b82ed9846a4b9fd1c75287/6669672f616c6c312e706e673f7261773d74727565\"></p>\n<h2>Features</h2>\n<ul>\n<li>Simple API, easy to use</li>\n<li>Efficient; cropping and all geometric transformations are performed at once (by a single perspective transformation)</li>\n<li>Guarantee that all pixels in cropped image are taken from inside the original image (if margin is not used)</li>\n</ul>\n<h2>Installation</h2>\n<pre>pip install imgcrop\n</pre>\n<h2>APIs</h2>\n<h3>imgcrop.get_cropper</h3>\n<pre><span class=\"n\">get_cropper</span><span class=\"p\">(</span><span class=\"n\">patch_size</span><span class=\"o\">=</span><span class=\"mi\">128</span><span class=\"p\">,</span> <span class=\"n\">scale</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mf\">1.0</span><span class=\"p\">,</span> <span class=\"mf\">1.0</span><span class=\"p\">),</span> <span class=\"n\">rotate</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">),</span> <span class=\"n\">distort</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">flip</span><span class=\"o\">=</span><span class=\"mf\">0.0</span><span class=\"p\">,</span> <span class=\"n\">margin</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n</pre>\n<h4>parameters</h4>\n<ul>\n<li><strong>patch_size</strong>: <em>int, default 128</em>\n<ul>\n<li>output patch size (in pixel)</li>\n</ul>\n</li>\n<li><strong>scale</strong>: <em>tuple of float, default (1.0, 1.0)</em>\n<ul>\n<li>sampling scale range</li>\n</ul>\n</li>\n<li><strong>rotate</strong>: <em>tuple of int, default (0, 0)</em>\n<ul>\n<li>sampling rotation range (in degree)</li>\n</ul>\n</li>\n<li><strong>distort</strong>: <em>float, default 0.0</em>\n<ul>\n<li>distortion strength in perspective transformation (ratio to output image scale)</li>\n</ul>\n</li>\n<li><strong>flip</strong>: <em>float, default 0.0</em>\n<ul>\n<li>horizontal flip probability</li>\n</ul>\n</li>\n<li><strong>margin</strong>: <em>int, default 0</em>\n<ul>\n<li>margin in cropping around original image</li>\n</ul>\n</li>\n</ul>\n<h4>returns</h4>\n<ul>\n<li><strong>random_crop</strong>: function</li>\n</ul>\n<h3>random_crop</h3>\n<pre><span class=\"n\">random_crop</span><span class=\"p\">(</span><span class=\"n\">img</span><span class=\"p\">,</span> <span class=\"n\">points</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">cropped_img</span><span class=\"p\">[,</span> <span class=\"n\">output_points</span><span class=\"p\">],</span> <span class=\"n\">src_points</span><span class=\"p\">,</span> <span class=\"n\">m</span>\n</pre>\n<h4>parameters</h4>\n<ul>\n<li><strong>img</strong>: <em>numpy array (single image) or list of numpy arrays (multiple images)</em>\n<ul>\n<li>input image(s) to be cropped with the same geometric transformation</li>\n</ul>\n</li>\n<li><strong>points</strong>: <em>numpy array with the shape (point_num, 2), default None</em>\n<ul>\n<li>input points to be transformed with the same transformation matrix as input image(s)</li>\n</ul>\n</li>\n</ul>\n<h4>returns</h4>\n<ul>\n<li><strong>cropped_img</strong>: <em>numpy array or list of numpy arrays)</em>\n<ul>\n<li>cropped output image(s)</li>\n</ul>\n</li>\n<li><strong>output_points</strong>: <em>numpy array with the shape (point_num, 2)</em>\n<ul>\n<li>output points if input points are given</li>\n</ul>\n</li>\n<li><strong>src_points</strong>: <em>numpy array</em>\n<ul>\n<li>points defining the cropped region in the input image(s)</li>\n</ul>\n</li>\n<li><strong>m</strong>: <em>numpy array</em>\n<ul>\n<li>3x3 perspective transformation matrix from the input image(s) to the output image(s)</li>\n</ul>\n</li>\n</ul>\n<h2>Example</h2>\n<p>Pleaes run or refer to <a href=\"example/example.py\" rel=\"nofollow\">the example script</a> to see how this library works:</p>\n<pre>python example/example.py\n</pre>\n<p>You can easily try different parameters by arguments:</p>\n<pre>optional arguments:\n  -h, --help            show this <span class=\"nb\">help</span> message and <span class=\"nb\">exit</span>\n  --patch_size PATCH_SIZE\n                        output patch image size <span class=\"o\">(</span>default: <span class=\"m\">256</span><span class=\"o\">)</span>\n  --scale SCALE SCALE   scale range in sampling <span class=\"o\">(</span>default: <span class=\"o\">[</span><span class=\"m\">0</span>.8, <span class=\"m\">1</span>.2<span class=\"o\">])</span>\n  --rotate ROTATE ROTATE\n                        rotation range in sampling <span class=\"o\">(</span>default: <span class=\"o\">[</span>-60, <span class=\"m\">60</span><span class=\"o\">])</span>\n  --distort DISTORT     distortion strength <span class=\"k\">for</span> perspective transformation\n                        <span class=\"o\">(</span>default: <span class=\"m\">0</span>.2<span class=\"o\">)</span>\n  --flip FLIP           horizontal flip probability <span class=\"o\">(</span>default: <span class=\"m\">0</span>.5<span class=\"o\">)</span>\n  --margin MARGIN       margin around original image <span class=\"o\">(</span>default: <span class=\"m\">0</span><span class=\"o\">)</span>\n</pre>\n<table>\n<thead>\n<tr>\n<th>parameters</th>\n<th>cropping results (input, cropped, mask, keypoints)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>scaling</td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/dd2e0fce909bb6b07b45589b17ae6ccc6e9c42ff/6669672f7363616c65312e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/1891545460306fe083e934de7e80e7a4028c9175/6669672f7363616c65322e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/a96f87671890ed9a5ec69bcc5f1d614359a9aa02/6669672f7363616c65332e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td>rotation + scaling</td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9d62812524abb35ec530f03f436a60e7ec6be126/6669672f726f74617465312e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8e5bd3242cdb9f89982de86e9b3db685ea2bef6f/6669672f726f74617465322e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/27a6d58dbb5feb8b355ae896fc8f2a0cf96e7e60/6669672f726f74617465332e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td>distortion + scaling</td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/2b8d6468b4c634a4477e71022a99b2fe00073c9f/6669672f646973746f7274312e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4f56b758541d460d33631318445a312bd550abbc/6669672f646973746f7274322e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6e16d2655820b540948dae7ec922d4e7bb52f89c/6669672f646973746f7274332e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td>flip + rotation</td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8f83c6079ba557b193fa5ec31f4483ee3979c2df/6669672f666c6970312e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/53a68e6f9982f1c8cd5f1d2e0f5f32fdb3210aeb/6669672f666c6970322e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/6e44379f0c23251060c1876d706b716a093cfefc/6669672f666c6970332e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td>margin + scaling</td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/9dc13877a63ef81c464dd99d4bda63fe4534b05f/6669672f6d617267696e312e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7bed0015b8c26f2e8be5c2e56481e8cf2297e3a0/6669672f6d617267696e322e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/237773ba8dcd0897a6b705e045f77bc085ed485f/6669672f6d617267696e332e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td>all</td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/8e35977b8312a49557b82ed9846a4b9fd1c75287/6669672f616c6c312e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/4dd52761044b6f524d02c29aa1b59f7f7002d86a/6669672f616c6c322e706e673f7261773d74727565\"></td>\n</tr>\n<tr>\n<td></td>\n<td><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/7e883eb7d6c8d1218742050e7ca57024e5e086a0/6669672f616c6c332e706e673f7261773d74727565\"></td>\n</tr></tbody></table>\n<h2>Algorithm</h2>\n<p>Patch region in the original image is defined by a set of four points.\nThese points are randomly transformed according to transformation parameters.\nThe transformation matrix from input image to output image is then calculated using these points.\nFinally, cropping is performed by applying perspective transformation.</p>\n<p><img alt=\"\" src=\"https://warehouse-camo.ingress.cmh1.psfhosted.org/43b29a8a1831f3e5ef3d99e588c0df2d8efe8220/6669672f616c676f726974686d2e706e673f7261773d74727565\"></p>\n<h2>References</h2>\n<ol>\n<li>imgaug, <a href=\"https://github.com/aleju/imgaug\" rel=\"nofollow\">https://github.com/aleju/imgaug</a></li>\n<li>Augmentor, <a href=\"https://github.com/mdbloice/Augmentor\" rel=\"nofollow\">https://github.com/mdbloice/Augmentor</a></li>\n<li>albumentations, <a href=\"https://github.com/albu/albumentations\" rel=\"nofollow\">https://github.com/albu/albumentations</a></li>\n</ol>\n\n          </div>"}, "last_serial": 4397116, "releases": {"0.1.0": [{"comment_text": "", "digests": {"md5": "903bb55afdcc6169b9ce503d5064ce2b", "sha256": "0fc7dc3d61a5c3c37addcfccaf2f490b0e9d8b99123e4b3bce6e3d0670a70ebc"}, "downloads": -1, "filename": "imgcrop-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "903bb55afdcc6169b9ce503d5064ce2b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4870, "upload_time": "2018-10-20T12:52:48", "upload_time_iso_8601": "2018-10-20T12:52:48.864808Z", "url": "https://files.pythonhosted.org/packages/fc/1d/b9d85582cd6a71fd13990206f0ab183fae82fa9a2a0a74e5d4b158c50908/imgcrop-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5dc1aa76babc76250d1b0a1aeaac6b1d", "sha256": "360649c4b00ad85c42a002da58d87c05b008c4f8d759ea67407c4966a2bf88be"}, "downloads": -1, "filename": "imgcrop-0.1.0.tar.gz", "has_sig": false, "md5_digest": "5dc1aa76babc76250d1b0a1aeaac6b1d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4101, "upload_time": "2018-10-20T12:52:50", "upload_time_iso_8601": "2018-10-20T12:52:50.134644Z", "url": "https://files.pythonhosted.org/packages/60/83/73c5f3a458a65b404c7f1643d06bc9d4d07c9adc53f89952e293a44d0eb3/imgcrop-0.1.0.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "903bb55afdcc6169b9ce503d5064ce2b", "sha256": "0fc7dc3d61a5c3c37addcfccaf2f490b0e9d8b99123e4b3bce6e3d0670a70ebc"}, "downloads": -1, "filename": "imgcrop-0.1.0-py3-none-any.whl", "has_sig": false, "md5_digest": "903bb55afdcc6169b9ce503d5064ce2b", "packagetype": "bdist_wheel", "python_version": "py3", "requires_python": null, "size": 4870, "upload_time": "2018-10-20T12:52:48", "upload_time_iso_8601": "2018-10-20T12:52:48.864808Z", "url": "https://files.pythonhosted.org/packages/fc/1d/b9d85582cd6a71fd13990206f0ab183fae82fa9a2a0a74e5d4b158c50908/imgcrop-0.1.0-py3-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "5dc1aa76babc76250d1b0a1aeaac6b1d", "sha256": "360649c4b00ad85c42a002da58d87c05b008c4f8d759ea67407c4966a2bf88be"}, "downloads": -1, "filename": "imgcrop-0.1.0.tar.gz", "has_sig": false, "md5_digest": "5dc1aa76babc76250d1b0a1aeaac6b1d", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4101, "upload_time": "2018-10-20T12:52:50", "upload_time_iso_8601": "2018-10-20T12:52:50.134644Z", "url": "https://files.pythonhosted.org/packages/60/83/73c5f3a458a65b404c7f1643d06bc9d4d07c9adc53f89952e293a44d0eb3/imgcrop-0.1.0.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:56:43 2020"}
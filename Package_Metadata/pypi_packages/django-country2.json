{"info": {"author": "Develatio Technologies S.L.", "author_email": "contacto@develat.io", "bugtrack_url": null, "classifiers": [], "description": "# Django Country 2\n\nThis is a new version of [django-country](https://github.com/color/django-country) for the new versions of Django. A Django middleware that adds current country information to request object. The current country can be set manually or can be detected automatically\nbased on IP address or locale information in the HTTP header.\n\n## Getting Started\n\nInstall django-country package:\n```\npip install django-country2\n```\n\n\nAdd the middleware in django settings:\n```\n# settings.py\n\nMIDDLEWARE = [\n    ...\n    'django_country2.middleware.CountryMiddleware',\n]\n```\nIf you use `SessionMiddleware`, it needs to appear before `CountryMiddleware` in the list.\n\nNow your can access detected country as a attribute of `request` object:\n```\nrequest.COUNTRY_CODE # Country code is in ISO 3166-1 alpha-2 format. e.g. \"US\"\n```\n\n\nAdd an endpoint to set country manually:\n```\n# urls.py\n\nurlpatterns = patterns('',\n  ...\n  url(r'/', include((django_country2.urls')),\n)\n```\nNow you can send POST request to `<host>/country/` with `country` data\nto set country manually.\n\n\nAccess country in Django templates:\n```\n# settings.py\nTEMPLATE_CONTEXT_PROCESSORS = (\n  ...\n  'django_country2.context_processors.country',\n)\n\n# index.html\n<div country-code={{country_code}}>{{country_name}}</div>\n```\n\n\n## How is country detected?\n\nThe middleware detects country from the following sources in the given order:\n\n1. HEADER_FORCE_COUNTRY. Name of the heading to force the country code\n1. session, if country code is set in session.\n1. cookie, if country code is set in cookie.\n1. IP address, if `settings.USE_GEOIP` is `True` (default: `False`).\n1. HTTP_ACCEPT_LANGUAGE HTTP header if `settings.USE_LOCALE` is `True` (default: `False`).\n\n## Settings\n\n### HEADER_FORCE_COUNTRY\nDefault: `None`\n\nName of the heading to force the country code\n\n### HEADER_REVERSE_PROXY_COUNTRY\nDefault: `None`\n\nName of the header that forwards the detected country code. Useful for use with reverse proxies such as CloudFlare. Set\nthis to CF-IPCountry to use the country code detected by CloudFlare. Remember that by default the XX or T1 countries are\ninvalid and will be ignored unless they are added to the list of countries in `COUNTRIES`.\n\n### COUNTRY_CODE\nDefault: `'US'`\n\nCountry code to use if no country is detected.\n\n### COUNTRIES\nDefault: A tuple of all countries. This list is retrieved from [django-countries](https://github.com/SmileyChris/django-countries) library.\n\nThis list is a tuble of two-tuples in the format (country code, country name) - for example ('JP', 'Japan'). This specifies which countries are available for country selection.\n\n### USE_GEOIP\nDefault: `False`\n\nA boolean that specifieds if IP address should be used to detect country. If this flag is set to `True`, `GEOIP_DAT_PATH` settings has to be specified.\n\n### GEOIP_DAT_PATH\nA path to geoip database in .dat format. You can download this from [MaxMind](http://dev.maxmind.com/geoip/legacy/geolite/#Downloads).\n\n### USE_LOCALE\nDefault: `False`\n\nA boolean that specifieds if locale information in ACCEPT-LANGUAGE HTTP header should be used to detect country.\n\n### COUNTRY_SESSION_KEY\nDefault: `'django_country2'`\n\nSession key under which the active country for the current session is stored.\n\n### COUNTRY_COOKIE_NAME\nDefault: `'country'`\n\nCookie name under which the active country for the current session is stored.\n\n### COUNTRY_COOKIE_AGE\nDefault: `None` (expires at browser close)\n\nThe age of the country cookie, in seconds.\n\n### COUNTRY_COOKIE_PATH\nDefault: `/`\n\nThe path set on the country cookie. This should either match the URL\npath of your Django installation or be a parent of that path.\n\nThis is useful if you have multiple Django instances running under the\nsame hostname. They can use different cookie paths and each instance\nwill only see its own country cookie.\n\nBe cautious when updating this setting on a production site. If you\nupdate this setting to use a deeper path than it previously used,\nexisting user cookies that have the old path will not be updated. This\nwill result in site users being unable to switch the country as long as\nthese cookies persist. The only safe and reliable option to perform the\nswitch is to change the country cookie name permanently.\n\n\n", "description_content_type": "text/markdown", "docs_url": null, "download_url": "", "downloads": {"last_day": -1, "last_month": -1, "last_week": -1}, "home_page": "https://github.com/Develatio/django-country2", "keywords": "", "license": "", "maintainer": "", "maintainer_email": "", "name": "django-country2", "package_url": "https://pypi.org/project/django-country2/", "platform": "", "project_url": "https://pypi.org/project/django-country2/", "project_urls": {"Homepage": "https://github.com/Develatio/django-country2"}, "release_url": "https://pypi.org/project/django-country2/0.0.8/", "requires_dist": ["geoip2 (>=2.9.0)", "django-countries (>=5.3.3)"], "requires_python": "", "summary": "Provides Django middleware that detects a country the request came from.", "version": "0.0.8", "yanked": false, "html_description": "<div class=\"project-description\">\n            <h1>Django Country 2</h1>\n<p>This is a new version of <a href=\"https://github.com/color/django-country\" rel=\"nofollow\">django-country</a> for the new versions of Django. A Django middleware that adds current country information to request object. The current country can be set manually or can be detected automatically\nbased on IP address or locale information in the HTTP header.</p>\n<h2>Getting Started</h2>\n<p>Install django-country package:</p>\n<pre><code>pip install django-country2\n</code></pre>\n<p>Add the middleware in django settings:</p>\n<pre><code># settings.py\n\nMIDDLEWARE = [\n    ...\n    'django_country2.middleware.CountryMiddleware',\n]\n</code></pre>\n<p>If you use <code>SessionMiddleware</code>, it needs to appear before <code>CountryMiddleware</code> in the list.</p>\n<p>Now your can access detected country as a attribute of <code>request</code> object:</p>\n<pre><code>request.COUNTRY_CODE # Country code is in ISO 3166-1 alpha-2 format. e.g. \"US\"\n</code></pre>\n<p>Add an endpoint to set country manually:</p>\n<pre><code># urls.py\n\nurlpatterns = patterns('',\n  ...\n  url(r'/', include((django_country2.urls')),\n)\n</code></pre>\n<p>Now you can send POST request to <code>&lt;host&gt;/country/</code> with <code>country</code> data\nto set country manually.</p>\n<p>Access country in Django templates:</p>\n<pre><code># settings.py\nTEMPLATE_CONTEXT_PROCESSORS = (\n  ...\n  'django_country2.context_processors.country',\n)\n\n# index.html\n&lt;div country-code={{country_code}}&gt;{{country_name}}&lt;/div&gt;\n</code></pre>\n<h2>How is country detected?</h2>\n<p>The middleware detects country from the following sources in the given order:</p>\n<ol>\n<li>HEADER_FORCE_COUNTRY. Name of the heading to force the country code</li>\n<li>session, if country code is set in session.</li>\n<li>cookie, if country code is set in cookie.</li>\n<li>IP address, if <code>settings.USE_GEOIP</code> is <code>True</code> (default: <code>False</code>).</li>\n<li>HTTP_ACCEPT_LANGUAGE HTTP header if <code>settings.USE_LOCALE</code> is <code>True</code> (default: <code>False</code>).</li>\n</ol>\n<h2>Settings</h2>\n<h3>HEADER_FORCE_COUNTRY</h3>\n<p>Default: <code>None</code></p>\n<p>Name of the heading to force the country code</p>\n<h3>HEADER_REVERSE_PROXY_COUNTRY</h3>\n<p>Default: <code>None</code></p>\n<p>Name of the header that forwards the detected country code. Useful for use with reverse proxies such as CloudFlare. Set\nthis to CF-IPCountry to use the country code detected by CloudFlare. Remember that by default the XX or T1 countries are\ninvalid and will be ignored unless they are added to the list of countries in <code>COUNTRIES</code>.</p>\n<h3>COUNTRY_CODE</h3>\n<p>Default: <code>'US'</code></p>\n<p>Country code to use if no country is detected.</p>\n<h3>COUNTRIES</h3>\n<p>Default: A tuple of all countries. This list is retrieved from <a href=\"https://github.com/SmileyChris/django-countries\" rel=\"nofollow\">django-countries</a> library.</p>\n<p>This list is a tuble of two-tuples in the format (country code, country name) - for example ('JP', 'Japan'). This specifies which countries are available for country selection.</p>\n<h3>USE_GEOIP</h3>\n<p>Default: <code>False</code></p>\n<p>A boolean that specifieds if IP address should be used to detect country. If this flag is set to <code>True</code>, <code>GEOIP_DAT_PATH</code> settings has to be specified.</p>\n<h3>GEOIP_DAT_PATH</h3>\n<p>A path to geoip database in .dat format. You can download this from <a href=\"http://dev.maxmind.com/geoip/legacy/geolite/#Downloads\" rel=\"nofollow\">MaxMind</a>.</p>\n<h3>USE_LOCALE</h3>\n<p>Default: <code>False</code></p>\n<p>A boolean that specifieds if locale information in ACCEPT-LANGUAGE HTTP header should be used to detect country.</p>\n<h3>COUNTRY_SESSION_KEY</h3>\n<p>Default: <code>'django_country2'</code></p>\n<p>Session key under which the active country for the current session is stored.</p>\n<h3>COUNTRY_COOKIE_NAME</h3>\n<p>Default: <code>'country'</code></p>\n<p>Cookie name under which the active country for the current session is stored.</p>\n<h3>COUNTRY_COOKIE_AGE</h3>\n<p>Default: <code>None</code> (expires at browser close)</p>\n<p>The age of the country cookie, in seconds.</p>\n<h3>COUNTRY_COOKIE_PATH</h3>\n<p>Default: <code>/</code></p>\n<p>The path set on the country cookie. This should either match the URL\npath of your Django installation or be a parent of that path.</p>\n<p>This is useful if you have multiple Django instances running under the\nsame hostname. They can use different cookie paths and each instance\nwill only see its own country cookie.</p>\n<p>Be cautious when updating this setting on a production site. If you\nupdate this setting to use a deeper path than it previously used,\nexisting user cookies that have the old path will not be updated. This\nwill result in site users being unable to switch the country as long as\nthese cookies persist. The only safe and reliable option to perform the\nswitch is to change the country cookie name permanently.</p>\n\n          </div>"}, "last_serial": 6044372, "releases": {"0.0.2": [{"comment_text": "", "digests": {"md5": "16b0f341bd3fe3b8bd804d008a15962b", "sha256": "8036e3c650ffcba251b333653b05fe4851df1840d764e3f8b98a1e2995c07b10"}, "downloads": -1, "filename": "django-country2-0.0.2.tar.gz", "has_sig": false, "md5_digest": "16b0f341bd3fe3b8bd804d008a15962b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4704, "upload_time": "2019-03-18T15:24:28", "upload_time_iso_8601": "2019-03-18T15:24:28.177803Z", "url": "https://files.pythonhosted.org/packages/02/ac/f8c6558a5d5d75c8ccf7da76ec89ed4fb4d67655c460f5425553450266a3/django-country2-0.0.2.tar.gz", "yanked": false}], "0.0.3": [{"comment_text": "", "digests": {"md5": "b6b3e70df46f5eda889af09382e6f461", "sha256": "346efb63d9e1bf71275dbd351d9ef71d053936d4ed503b89d367b94ca343b01e"}, "downloads": -1, "filename": "django-country2-0.0.3.tar.gz", "has_sig": false, "md5_digest": "b6b3e70df46f5eda889af09382e6f461", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4772, "upload_time": "2019-04-10T15:29:58", "upload_time_iso_8601": "2019-04-10T15:29:58.676528Z", "url": "https://files.pythonhosted.org/packages/a8/db/f913c9b2daff1b81572c7f2c218e78e9c121cae24a4dd2a61668220b9a6d/django-country2-0.0.3.tar.gz", "yanked": false}], "0.0.4": [{"comment_text": "", "digests": {"md5": "6a73fa283df3319199cc545c339a6023", "sha256": "d27f59c35d570faef3f576f3d6e7c9429b6a1ad7e26217b4506fac47007303d2"}, "downloads": -1, "filename": "django_country2-0.0.4-py2-none-any.whl", "has_sig": false, "md5_digest": "6a73fa283df3319199cc545c339a6023", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 10176, "upload_time": "2019-04-12T21:29:36", "upload_time_iso_8601": "2019-04-12T21:29:36.372327Z", "url": "https://files.pythonhosted.org/packages/f1/5b/25b3841439d89460b1c0af8a136febfbf8375fcf2abde4e544847ee67b0f/django_country2-0.0.4-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "17eb5bc98f96060f357783acf776bd79", "sha256": "5d073d0f4242ebf9048371b344c7656f92299857e7944865f7c95813fa1089b5"}, "downloads": -1, "filename": "django-country2-0.0.4.tar.gz", "has_sig": false, "md5_digest": "17eb5bc98f96060f357783acf776bd79", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4764, "upload_time": "2019-04-12T21:29:37", "upload_time_iso_8601": "2019-04-12T21:29:37.893104Z", "url": "https://files.pythonhosted.org/packages/7c/fe/5149ba7628f3a123c3732e6bbae66740e4d34929f5a14d26e91a81d05f5f/django-country2-0.0.4.tar.gz", "yanked": false}], "0.0.5": [{"comment_text": "", "digests": {"md5": "ed8dabe85d907169f8ffd1c5bfd1838a", "sha256": "6880bb7649489ef26152aaa103f753becbb8986af6b9ae37541ad7f7e01a551f"}, "downloads": -1, "filename": "django_country2-0.0.5-py2-none-any.whl", "has_sig": false, "md5_digest": "ed8dabe85d907169f8ffd1c5bfd1838a", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 10245, "upload_time": "2019-04-16T17:13:17", "upload_time_iso_8601": "2019-04-16T17:13:17.821276Z", "url": "https://files.pythonhosted.org/packages/0d/b0/aff09d6d20a2af68b8d24b80e0dc13059ec3d3a729736969f1759f4faa72/django_country2-0.0.5-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "fde7b29fd4f69d5995c18e3fda86c04b", "sha256": "f7e7c2b022229d93e0c98d6020c4c5aed48c04ae22436bda809165f4734b7122"}, "downloads": -1, "filename": "django-country2-0.0.5.tar.gz", "has_sig": false, "md5_digest": "fde7b29fd4f69d5995c18e3fda86c04b", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4844, "upload_time": "2019-04-16T17:13:20", "upload_time_iso_8601": "2019-04-16T17:13:20.191333Z", "url": "https://files.pythonhosted.org/packages/88/c1/7e4d203623f3937f7455386c17f6b79710a6c1e099cbfedea51bfd282790/django-country2-0.0.5.tar.gz", "yanked": false}], "0.0.6": [{"comment_text": "", "digests": {"md5": "9415521089e76fad211554a85772448e", "sha256": "9f47547dd898ab1b68428301a13121e51427c48be7494339915602cd033edbb2"}, "downloads": -1, "filename": "django-country2-0.0.6.tar.gz", "has_sig": false, "md5_digest": "9415521089e76fad211554a85772448e", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4955, "upload_time": "2019-06-06T10:37:56", "upload_time_iso_8601": "2019-06-06T10:37:56.466210Z", "url": "https://files.pythonhosted.org/packages/2e/33/5aff6c40a892604c14d8b8e3343c7f130fe9190362d0ab5c6c9d4e10c87e/django-country2-0.0.6.tar.gz", "yanked": false}], "0.0.7": [{"comment_text": "", "digests": {"md5": "6ac5847c1f8f9f99de66444e67139335", "sha256": "ac26fc24bb4a80dc7d9070bd9313610f30610bdc759edde84046e2e9691d22bc"}, "downloads": -1, "filename": "django-country2-0.0.7.tar.gz", "has_sig": false, "md5_digest": "6ac5847c1f8f9f99de66444e67139335", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 4936, "upload_time": "2019-06-13T11:55:03", "upload_time_iso_8601": "2019-06-13T11:55:03.028822Z", "url": "https://files.pythonhosted.org/packages/47/3f/66aef6b5c95a5316f535b13b59ae47f0bec408a62b4137d8780401a5caec/django-country2-0.0.7.tar.gz", "yanked": false}], "0.0.8": [{"comment_text": "", "digests": {"md5": "a57cfe200dbe5bcf17c04564abc5abf2", "sha256": "700f7e4b40481b31cbb332409585bbe8c95b284f9f518f160a170077c6be1675"}, "downloads": -1, "filename": "django_country2-0.0.8-py2-none-any.whl", "has_sig": false, "md5_digest": "a57cfe200dbe5bcf17c04564abc5abf2", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 10603, "upload_time": "2019-10-28T23:02:11", "upload_time_iso_8601": "2019-10-28T23:02:11.364214Z", "url": "https://files.pythonhosted.org/packages/1f/63/39f9eb83e475b6b9ef07eec9ec0af1a95a07394acb4acd732af65ac75cf0/django_country2-0.0.8-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b3fa959fea95cea9c7c184c9823ccdfe", "sha256": "a5c84e6ae17856bc7f6d00b7fd2e3d893b927161d02745658246a076110abbe5"}, "downloads": -1, "filename": "django-country2-0.0.8.tar.gz", "has_sig": false, "md5_digest": "b3fa959fea95cea9c7c184c9823ccdfe", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5181, "upload_time": "2019-10-28T23:02:13", "upload_time_iso_8601": "2019-10-28T23:02:13.374792Z", "url": "https://files.pythonhosted.org/packages/10/fe/f415c9a9c534dfa30a99c483c8cb025237cba705d2135bbbae15f81c74dd/django-country2-0.0.8.tar.gz", "yanked": false}]}, "urls": [{"comment_text": "", "digests": {"md5": "a57cfe200dbe5bcf17c04564abc5abf2", "sha256": "700f7e4b40481b31cbb332409585bbe8c95b284f9f518f160a170077c6be1675"}, "downloads": -1, "filename": "django_country2-0.0.8-py2-none-any.whl", "has_sig": false, "md5_digest": "a57cfe200dbe5bcf17c04564abc5abf2", "packagetype": "bdist_wheel", "python_version": "py2", "requires_python": null, "size": 10603, "upload_time": "2019-10-28T23:02:11", "upload_time_iso_8601": "2019-10-28T23:02:11.364214Z", "url": "https://files.pythonhosted.org/packages/1f/63/39f9eb83e475b6b9ef07eec9ec0af1a95a07394acb4acd732af65ac75cf0/django_country2-0.0.8-py2-none-any.whl", "yanked": false}, {"comment_text": "", "digests": {"md5": "b3fa959fea95cea9c7c184c9823ccdfe", "sha256": "a5c84e6ae17856bc7f6d00b7fd2e3d893b927161d02745658246a076110abbe5"}, "downloads": -1, "filename": "django-country2-0.0.8.tar.gz", "has_sig": false, "md5_digest": "b3fa959fea95cea9c7c184c9823ccdfe", "packagetype": "sdist", "python_version": "source", "requires_python": null, "size": 5181, "upload_time": "2019-10-28T23:02:13", "upload_time_iso_8601": "2019-10-28T23:02:13.374792Z", "url": "https://files.pythonhosted.org/packages/10/fe/f415c9a9c534dfa30a99c483c8cb025237cba705d2135bbbae15f81c74dd/django-country2-0.0.8.tar.gz", "yanked": false}], "timestamp": "Fri May  8 00:36:49 2020"}